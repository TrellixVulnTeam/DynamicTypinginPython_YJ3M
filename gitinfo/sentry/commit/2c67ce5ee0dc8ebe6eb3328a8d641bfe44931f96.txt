commit 2c67ce5ee0dc8ebe6eb3328a8d641bfe44931f96
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jan 12 14:07:49 2011 -0800

    Ensure search box css is generic and hide label

diff --git a/sentry/filters/__init__.py b/sentry/filters/__init__.py
index 4b8f5a7276..9200ac39c3 100644
--- a/sentry/filters/__init__.py
+++ b/sentry/filters/__init__.py
@@ -16,7 +16,7 @@ class Widget(object):
 
 class TextWidget(Widget):
     def render(self, value):
-        return mark_safe('<div id="search"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s"/></p><p class="submit"><input type="submit" class="search-submit"/></p></div>' % dict(
+        return mark_safe('<div class="sidebar-module filter-text"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s"/></p><p class="submit"><input type="submit" class="search-submit"/></p></div>' % dict(
             name=self.filter.get_query_param(),
             value=escape(value),
         ))
@@ -52,6 +52,7 @@ class SentryFilter(object):
     widget = ChoiceWidget
     # This must be a string
     default = ''
+    show_label = True
     
     def __init__(self, request):
         self.request = request
@@ -102,6 +103,7 @@ class SearchFilter(SentryFilter):
     label = 'Search'
     column = 'content'
     widget = TextWidget
+    show_label = False
     
     def get_query_set(self, queryset):
         # this is really just a hack
diff --git a/sentry/media/styles/global.css b/sentry/media/styles/global.css
index c22f6c85f5..981dc65090 100644
--- a/sentry/media/styles/global.css
+++ b/sentry/media/styles/global.css
@@ -510,8 +510,7 @@ dl.flat dd {
     background: inherit;
 }
 
-#search {
-    float: right;
+.filter-text {
     background: rgba(255,255,255,.50);
     -moz-border-radius: 18px;
     -webkit-border-radius: 18px;
@@ -522,11 +521,14 @@ dl.flat dd {
     margin-bottom: 18px;
 }
 
-#search p {
+.sidebar-module {
+    position: relative;
+}
+.filter-text p {
     margin-bottom: 0;
 }
 
-#search .textfield input {
+.filter-text .textfield input {
     border: 0;
     background: transparent;
     padding: 8px 16px;
@@ -535,7 +537,7 @@ dl.flat dd {
     width: 267px;
 }
 
-#search .submit {
+.filter-text .submit {
     position: absolute;
     right: 16px;
     top: 12px;
diff --git a/sentry/templates/sentry/index.html b/sentry/templates/sentry/index.html
index c74ea444fa..2cdace34bf 100644
--- a/sentry/templates/sentry/index.html
+++ b/sentry/templates/sentry/index.html
@@ -44,7 +44,9 @@
                         {% endif %}
                     
                         {% for filter in filters %}
-                            <h2>{{ filter.label }}</h2>
+                            {% if filter.show_label %}
+                                <h2>{{ filter.label }}</h2>
+                            {% endif %}
                             <form method="get" action="{{ filter.get_query_string|safe }}">
                                 {{ filter.render }}
                             </form>
