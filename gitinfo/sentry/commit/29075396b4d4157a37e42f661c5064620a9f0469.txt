commit 29075396b4d4157a37e42f661c5064620a9f0469
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Mar 2 20:35:18 2017 +0100

    Permit almost anything for releases again

diff --git a/src/sentry/api/endpoints/project_releases.py b/src/sentry/api/endpoints/project_releases.py
index f3d227f5b3..284556cdde 100644
--- a/src/sentry/api/endpoints/project_releases.py
+++ b/src/sentry/api/endpoints/project_releases.py
@@ -16,6 +16,9 @@ from sentry.plugins.interfaces.releasehook import ReleaseHook
 from sentry.utils.apidocs import scenario, attach_scenarios
 
 
+BAD_RELEASE_CHARS = '\n\f\t/'
+
+
 @scenario('CreateNewRelease')
 def create_new_release_scenario(runner):
     runner.request(
@@ -42,8 +45,7 @@ def list_releases_scenario(runner):
 
 
 class ReleaseSerializer(serializers.Serializer):
-    version = serializers.RegexField(r'^[a-zA-Z0-9\-_\. \(\)]+\Z',
-                                     max_length=64, required=True)
+    version = serializers.CharField(max_length=64, required=True)
     ref = serializers.CharField(max_length=64, required=False)
     url = serializers.URLField(required=False)
     owner = UserField(required=False)
@@ -51,6 +53,12 @@ class ReleaseSerializer(serializers.Serializer):
     dateReleased = serializers.DateTimeField(required=False)
     commits = ListField(child=CommitSerializer(), required=False)
 
+    def validate_version(self, attrs, source):
+        value = attrs[source]
+        if any(c in value for c in BAD_RELEASE_CHARS) or value in ('.', '..'):
+            raise serializers.ValidationError('Invalid value for release')
+        return attrs
+
 
 class ProjectReleasesEndpoint(ProjectEndpoint):
     doc_section = DocSection.RELEASES
