commit 96d7365c416cf65c5d7a5d30fe5553d8d2edb7dd
Author: Alex Hofsteede <alex@hofsteede.com>
Date:   Thu Dec 6 16:32:49 2018 -0800

    fix: Don't shrink datetime window for tsdb queries (#10969)

diff --git a/src/sentry/utils/snuba.py b/src/sentry/utils/snuba.py
index 88d829f371..4b9079a548 100644
--- a/src/sentry/utils/snuba.py
+++ b/src/sentry/utils/snuba.py
@@ -372,7 +372,8 @@ def raw_query(start, end, groupby=None, conditions=None, filter_keys=None,
         if start > end:
             raise QueryOutsideRetentionError
 
-    start, end = shrink_time_window(filter_keys.get('issue'), start, end)
+    if referrer != 'tsdb':
+        start, end = shrink_time_window(filter_keys.get('issue'), start, end)
 
     # if `shrink_time_window` pushed `start` after `end` it means the user queried
     # a Group for T1 to T2 when the group was only active for T3 to T4, so the query
