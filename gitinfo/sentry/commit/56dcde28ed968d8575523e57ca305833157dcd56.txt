commit 56dcde28ed968d8575523e57ca305833157dcd56
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Nov 13 21:32:24 2015 +0100

    Added test for stripping of ENHANCED functions

diff --git a/tests/sentry/interfaces/test_stacktrace.py b/tests/sentry/interfaces/test_stacktrace.py
index 75cced5f4a..dd68bf8c55 100644
--- a/tests/sentry/interfaces/test_stacktrace.py
+++ b/tests/sentry/interfaces/test_stacktrace.py
@@ -189,6 +189,18 @@ class StacktraceTest(TestCase):
             '<function>',
         ])
 
+    def test_get_hash_ignores_ENHANCED_spring_classes(self):
+        interface = Frame.to_python({
+            'module': 'invalid.gruml.talkytalkyhub.common.config.'
+            'JipJipConfig$$EnhancerBySpringCGLIB$$1ebdddb0',
+            'function': 'jipJipManagementApplication'
+        })
+        result = interface.get_hash()
+        self.assertEquals(result, [
+            'invalid.gruml.talkytalkyhub.common.config.JipJipConfig',
+            'jipJipManagementApplication',
+        ])
+
     def test_get_hash_sanitizes_erb_templates(self):
         # This is Ruby specific
         interface = Frame.to_python({
