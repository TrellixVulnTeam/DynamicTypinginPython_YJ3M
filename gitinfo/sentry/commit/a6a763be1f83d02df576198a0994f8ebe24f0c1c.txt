commit a6a763be1f83d02df576198a0994f8ebe24f0c1c
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jan 12 18:06:05 2012 -0800

    Correctly handle legacy timestamp

diff --git a/sentry/manager.py b/sentry/manager.py
index cf1d145d53..7f8fe39d83 100644
--- a/sentry/manager.py
+++ b/sentry/manager.py
@@ -154,7 +154,7 @@ class GroupManager(models.Manager, ChartMixin):
             'server_name': kwargs.pop('server_name', None),
             'message': kwargs.pop('message', ''),
             'culprit': kwargs.pop('view', None),
-            'date': kwargs.pop('timestamp', None),
+            'date': kwargs.pop('date', None),
         }
 
         result = dict((k, v) for k, v in result.iteritems() if v is not None)
@@ -218,7 +218,7 @@ class GroupManager(models.Manager, ChartMixin):
 
         project = Project.objects.get(pk=project)
 
-        if any(k in kwargs for k in ('view', 'message_id')):
+        if any(k in kwargs for k in ('view', 'message_id', 'date')):
             # we must be passing legacy data, let's convert it
             kwargs = self.convert_legacy_kwargs(kwargs)
 
