commit ef9496c237577e42936dee7b7c5a28b8574c58e4
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Nov 29 17:00:09 2018 -0800

    fix(ui): Align alert rule item panel buttons better (#10854)

diff --git a/src/sentry/static/sentry/app/views/settings/projectAlerts/projectAlertRules.jsx b/src/sentry/static/sentry/app/views/settings/projectAlerts/projectAlertRules.jsx
index 9c76ae514d..31c9950cd0 100644
--- a/src/sentry/static/sentry/app/views/settings/projectAlerts/projectAlertRules.jsx
+++ b/src/sentry/static/sentry/app/views/settings/projectAlerts/projectAlertRules.jsx
@@ -1,3 +1,4 @@
+import {Flex} from 'grid-emotion';
 import {Link} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
@@ -101,16 +102,12 @@ const RuleRow = createReactClass({
 
     return (
       <Panel>
-        <PanelHeader
-          css={{paddingTop: 5, paddingBottom: 5}}
-          align="center"
-          justify="space-between"
-        >
+        <PanelHeader align="center" justify="space-between" hasButtons>
           <TextColorLink to={editLink}>
             {data.name} - {environmentName}
           </TextColorLink>
 
-          <div>
+          <Flex>
             <Tooltip
               disabled={canEdit}
               title={t('You do not have permission to edit alert rules.')}
@@ -119,7 +116,7 @@ const RuleRow = createReactClass({
                 data-test-id="edit-rule"
                 style={{marginRight: 5}}
                 disabled={!canEdit}
-                size="small"
+                size="xsmall"
                 to={editLink}
               >
                 {t('Edit Rule')}
@@ -135,10 +132,10 @@ const RuleRow = createReactClass({
                 onConfirm={this.onDelete}
                 disabled={!canEdit}
               >
-                <Button size="small" icon="icon-trash" />
+                <Button size="xsmall" icon="icon-trash" />
               </Confirm>
             </Tooltip>
-          </div>
+          </Flex>
         </PanelHeader>
 
         <PanelBody>
diff --git a/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
index 42d2b3cd53..725156b810 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
@@ -398,26 +398,27 @@ exports[`projectAlertRules renders 1`] = `
               >
                 <PanelHeader
                   align="center"
-                  className="css-1lx593h"
+                  hasButtons={true}
                   justify="space-between"
                 >
                   <Component
                     align="center"
-                    className="css-1vno8np-PanelHeader-getPadding e1p8v8nv0"
+                    className="css-jmvceg-PanelHeader-getPadding e1p8v8nv0"
+                    hasButtons={true}
                     justify="space-between"
                   >
                     <Flex
                       align="center"
-                      className="css-1vno8np-PanelHeader-getPadding e1p8v8nv0"
+                      className="css-jmvceg-PanelHeader-getPadding e1p8v8nv0"
                       justify="space-between"
                     >
                       <Base
                         align="center"
-                        className="e1p8v8nv0 css-s5mhsv-PanelHeader-getPadding"
+                        className="e1p8v8nv0 css-19i62qd-PanelHeader-getPadding"
                         justify="space-between"
                       >
                         <div
-                          className="e1p8v8nv0 css-s5mhsv-PanelHeader-getPadding"
+                          className="e1p8v8nv0 css-19i62qd-PanelHeader-getPadding"
                           is={null}
                         >
                           <TextColorLink
@@ -440,44 +441,22 @@ exports[`projectAlertRules renders 1`] = `
                               </a>
                             </Link>
                           </TextColorLink>
-                          <div>
-                            <Tooltip
-                              disabled={true}
-                              title="You do not have permission to edit alert rules."
+                          <Flex>
+                            <Base
+                              className="css-sncxrr"
                             >
-                              <Button
-                                data-test-id="edit-rule"
-                                disabled={false}
-                                size="small"
-                                style={
-                                  Object {
-                                    "marginRight": 5,
-                                  }
-                                }
-                                to="1/"
+                              <div
+                                className="css-sncxrr"
+                                is={null}
                               >
-                                <StyledButton
-                                  aria-label="Edit Rule"
-                                  data-test-id="edit-rule"
-                                  disabled={false}
-                                  onClick={[Function]}
-                                  role="button"
-                                  size="small"
-                                  style={
-                                    Object {
-                                      "marginRight": 5,
-                                    }
-                                  }
-                                  to="1/"
+                                <Tooltip
+                                  disabled={true}
+                                  title="You do not have permission to edit alert rules."
                                 >
-                                  <Component
-                                    aria-label="Edit Rule"
-                                    className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                  <Button
                                     data-test-id="edit-rule"
                                     disabled={false}
-                                    onClick={[Function]}
-                                    role="button"
-                                    size="small"
+                                    size="xsmall"
                                     style={
                                       Object {
                                         "marginRight": 5,
@@ -485,15 +464,13 @@ exports[`projectAlertRules renders 1`] = `
                                     }
                                     to="1/"
                                   >
-                                    <Link
+                                    <StyledButton
                                       aria-label="Edit Rule"
-                                      className="css-dkprmi-StyledButton-getColors eqrebog0"
                                       data-test-id="edit-rule"
                                       disabled={false}
                                       onClick={[Function]}
-                                      onlyActiveOnIndex={false}
                                       role="button"
-                                      size="small"
+                                      size="xsmall"
                                       style={
                                         Object {
                                           "marginRight": 5,
@@ -501,196 +478,229 @@ exports[`projectAlertRules renders 1`] = `
                                       }
                                       to="1/"
                                     >
-                                      <a
+                                      <Component
                                         aria-label="Edit Rule"
                                         className="css-dkprmi-StyledButton-getColors eqrebog0"
                                         data-test-id="edit-rule"
                                         disabled={false}
                                         onClick={[Function]}
                                         role="button"
-                                        size="small"
+                                        size="xsmall"
                                         style={
                                           Object {
                                             "marginRight": 5,
                                           }
                                         }
+                                        to="1/"
                                       >
-                                        <ButtonLabel
-                                          size="small"
+                                        <Link
+                                          aria-label="Edit Rule"
+                                          className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                          data-test-id="edit-rule"
+                                          disabled={false}
+                                          onClick={[Function]}
+                                          onlyActiveOnIndex={false}
+                                          role="button"
+                                          size="xsmall"
+                                          style={
+                                            Object {
+                                              "marginRight": 5,
+                                            }
+                                          }
+                                          to="1/"
                                         >
-                                          <Component
-                                            className="css-7ui8bl-ButtonLabel eqrebog1"
-                                            size="small"
+                                          <a
+                                            aria-label="Edit Rule"
+                                            className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                            data-test-id="edit-rule"
+                                            disabled={false}
+                                            onClick={[Function]}
+                                            role="button"
+                                            size="xsmall"
+                                            style={
+                                              Object {
+                                                "marginRight": 5,
+                                              }
+                                            }
                                           >
-                                            <span
-                                              className="css-7ui8bl-ButtonLabel eqrebog1"
+                                            <ButtonLabel
+                                              size="xsmall"
                                             >
-                                              Edit Rule
-                                            </span>
-                                          </Component>
-                                        </ButtonLabel>
-                                      </a>
-                                    </Link>
-                                  </Component>
-                                </StyledButton>
-                              </Button>
-                            </Tooltip>
-                            <Tooltip
-                              disabled={true}
-                              title="You do not have permission to edit alert rules."
-                            >
-                              <Confirm
-                                cancelText="Cancel"
-                                confirmText="Confirm"
-                                disableConfirmButton={false}
-                                disabled={false}
-                                message="Are you sure you want to remove this rule?"
-                                onConfirm={[Function]}
-                                priority="primary"
-                              >
-                                <Button
-                                  disabled={false}
-                                  icon="icon-trash"
-                                  onClick={[Function]}
-                                  size="small"
+                                              <Component
+                                                className="css-uthd1f-ButtonLabel eqrebog1"
+                                                size="xsmall"
+                                              >
+                                                <span
+                                                  className="css-uthd1f-ButtonLabel eqrebog1"
+                                                >
+                                                  Edit Rule
+                                                </span>
+                                              </Component>
+                                            </ButtonLabel>
+                                          </a>
+                                        </Link>
+                                      </Component>
+                                    </StyledButton>
+                                  </Button>
+                                </Tooltip>
+                                <Tooltip
+                                  disabled={true}
+                                  title="You do not have permission to edit alert rules."
                                 >
-                                  <StyledButton
+                                  <Confirm
+                                    cancelText="Cancel"
+                                    confirmText="Confirm"
+                                    disableConfirmButton={false}
                                     disabled={false}
-                                    onClick={[Function]}
-                                    role="button"
-                                    size="small"
+                                    message="Are you sure you want to remove this rule?"
+                                    onConfirm={[Function]}
+                                    priority="primary"
                                   >
-                                    <Component
-                                      className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                    <Button
                                       disabled={false}
+                                      icon="icon-trash"
                                       onClick={[Function]}
-                                      role="button"
-                                      size="small"
+                                      size="xsmall"
                                     >
-                                      <button
-                                        className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                      <StyledButton
                                         disabled={false}
                                         onClick={[Function]}
                                         role="button"
-                                        size="small"
+                                        size="xsmall"
                                       >
-                                        <ButtonLabel
-                                          size="small"
+                                        <Component
+                                          className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                          disabled={false}
+                                          onClick={[Function]}
+                                          role="button"
+                                          size="xsmall"
                                         >
-                                          <Component
-                                            className="css-7ui8bl-ButtonLabel eqrebog1"
-                                            size="small"
+                                          <button
+                                            className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                            disabled={false}
+                                            onClick={[Function]}
+                                            role="button"
+                                            size="xsmall"
                                           >
-                                            <span
-                                              className="css-7ui8bl-ButtonLabel eqrebog1"
+                                            <ButtonLabel
+                                              size="xsmall"
                                             >
-                                              <Icon
-                                                hasChildren={false}
-                                                size="small"
+                                              <Component
+                                                className="css-uthd1f-ButtonLabel eqrebog1"
+                                                size="xsmall"
                                               >
-                                                <Component
-                                                  className="css-ljhpxy-Icon eqrebog2"
-                                                  hasChildren={false}
-                                                  size="small"
+                                                <span
+                                                  className="css-uthd1f-ButtonLabel eqrebog1"
                                                 >
-                                                  <span
-                                                    className="css-ljhpxy-Icon eqrebog2"
-                                                    size="small"
+                                                  <Icon
+                                                    hasChildren={false}
+                                                    size="xsmall"
                                                   >
-                                                    <StyledInlineSvg
-                                                      size="12px"
-                                                      src="icon-trash"
+                                                    <Component
+                                                      className="css-ljhpxy-Icon eqrebog2"
+                                                      hasChildren={false}
+                                                      size="xsmall"
                                                     >
-                                                      <InlineSvg
-                                                        className="css-1ov3rcq-StyledInlineSvg eqrebog3"
-                                                        size="12px"
-                                                        src="icon-trash"
+                                                      <span
+                                                        className="css-ljhpxy-Icon eqrebog2"
+                                                        size="xsmall"
                                                       >
-                                                        <StyledSvg
-                                                          className="css-1ov3rcq-StyledInlineSvg eqrebog3"
-                                                          height="12px"
-                                                          viewBox={Object {}}
-                                                          width="12px"
+                                                        <StyledInlineSvg
+                                                          size="12px"
+                                                          src="icon-trash"
                                                         >
-                                                          <svg
-                                                            className="eqrebog3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
-                                                            height="12px"
-                                                            viewBox={Object {}}
-                                                            width="12px"
+                                                          <InlineSvg
+                                                            className="css-1ov3rcq-StyledInlineSvg eqrebog3"
+                                                            size="12px"
+                                                            src="icon-trash"
                                                           >
-                                                            <use
-                                                              href="#test"
-                                                              xlinkHref="#test"
-                                                            />
-                                                          </svg>
-                                                        </StyledSvg>
-                                                      </InlineSvg>
-                                                    </StyledInlineSvg>
-                                                  </span>
-                                                </Component>
-                                              </Icon>
-                                            </span>
-                                          </Component>
-                                        </ButtonLabel>
-                                      </button>
-                                    </Component>
-                                  </StyledButton>
-                                </Button>
-                                <Modal
-                                  animation={false}
-                                  autoFocus={true}
-                                  backdrop={true}
-                                  bsClass="modal"
-                                  dialogComponentClass={[Function]}
-                                  enforceFocus={true}
-                                  keyboard={true}
-                                  manager={
-                                    ModalManager {
-                                      "add": [Function],
-                                      "containers": Array [],
-                                      "data": Array [],
-                                      "handleContainerOverflow": true,
-                                      "hideSiblingNodes": true,
-                                      "isTopModal": [Function],
-                                      "modals": Array [],
-                                      "remove": [Function],
-                                    }
-                                  }
-                                  onHide={[Function]}
-                                  renderBackdrop={[Function]}
-                                  restoreFocus={true}
-                                  show={false}
-                                >
-                                  <Modal
-                                    autoFocus={true}
-                                    backdrop={true}
-                                    backdropClassName="modal-backdrop"
-                                    containerClassName="modal-open"
-                                    enforceFocus={true}
-                                    keyboard={true}
-                                    manager={
-                                      ModalManager {
-                                        "add": [Function],
-                                        "containers": Array [],
-                                        "data": Array [],
-                                        "handleContainerOverflow": true,
-                                        "hideSiblingNodes": true,
-                                        "isTopModal": [Function],
-                                        "modals": Array [],
-                                        "remove": [Function],
+                                                            <StyledSvg
+                                                              className="css-1ov3rcq-StyledInlineSvg eqrebog3"
+                                                              height="12px"
+                                                              viewBox={Object {}}
+                                                              width="12px"
+                                                            >
+                                                              <svg
+                                                                className="eqrebog3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
+                                                                height="12px"
+                                                                viewBox={Object {}}
+                                                                width="12px"
+                                                              >
+                                                                <use
+                                                                  href="#test"
+                                                                  xlinkHref="#test"
+                                                                />
+                                                              </svg>
+                                                            </StyledSvg>
+                                                          </InlineSvg>
+                                                        </StyledInlineSvg>
+                                                      </span>
+                                                    </Component>
+                                                  </Icon>
+                                                </span>
+                                              </Component>
+                                            </ButtonLabel>
+                                          </button>
+                                        </Component>
+                                      </StyledButton>
+                                    </Button>
+                                    <Modal
+                                      animation={false}
+                                      autoFocus={true}
+                                      backdrop={true}
+                                      bsClass="modal"
+                                      dialogComponentClass={[Function]}
+                                      enforceFocus={true}
+                                      keyboard={true}
+                                      manager={
+                                        ModalManager {
+                                          "add": [Function],
+                                          "containers": Array [],
+                                          "data": Array [],
+                                          "handleContainerOverflow": true,
+                                          "hideSiblingNodes": true,
+                                          "isTopModal": [Function],
+                                          "modals": Array [],
+                                          "remove": [Function],
+                                        }
                                       }
-                                    }
-                                    onEntering={[Function]}
-                                    onExited={[Function]}
-                                    onHide={[Function]}
-                                    renderBackdrop={[Function]}
-                                    restoreFocus={true}
-                                    show={false}
-                                  />
-                                </Modal>
-                              </Confirm>
-                            </Tooltip>
-                          </div>
+                                      onHide={[Function]}
+                                      renderBackdrop={[Function]}
+                                      restoreFocus={true}
+                                      show={false}
+                                    >
+                                      <Modal
+                                        autoFocus={true}
+                                        backdrop={true}
+                                        backdropClassName="modal-backdrop"
+                                        containerClassName="modal-open"
+                                        enforceFocus={true}
+                                        keyboard={true}
+                                        manager={
+                                          ModalManager {
+                                            "add": [Function],
+                                            "containers": Array [],
+                                            "data": Array [],
+                                            "handleContainerOverflow": true,
+                                            "hideSiblingNodes": true,
+                                            "isTopModal": [Function],
+                                            "modals": Array [],
+                                            "remove": [Function],
+                                          }
+                                        }
+                                        onEntering={[Function]}
+                                        onExited={[Function]}
+                                        onHide={[Function]}
+                                        renderBackdrop={[Function]}
+                                        restoreFocus={true}
+                                        show={false}
+                                      />
+                                    </Modal>
+                                  </Confirm>
+                                </Tooltip>
+                              </div>
+                            </Base>
+                          </Flex>
                         </div>
                       </Base>
                     </Flex>
