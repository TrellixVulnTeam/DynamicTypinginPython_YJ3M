commit 6ab6fffa5b0ef9297bec0de6f4a7ed729b394bd9
Author: Dora <dora.l.chan@gmail.com>
Date:   Fri May 1 12:04:56 2020 -0700

    fix(perf-charts): headers (#18556)
    
    * adjust chart headers
    
    * reverting back to styled icon copy
    
    * remove clipboard copy
    
    Co-authored-by: Dora Chan <dora.lchan@gmail.com>

diff --git a/src/sentry/static/sentry/app/utils/discover/styles.tsx b/src/sentry/static/sentry/app/utils/discover/styles.tsx
index 29d995ccff..3ad64e878c 100644
--- a/src/sentry/static/sentry/app/utils/discover/styles.tsx
+++ b/src/sentry/static/sentry/app/utils/discover/styles.tsx
@@ -1,11 +1,9 @@
 import React from 'react';
 import styled from '@emotion/styled';
 
-import Clipboard from 'app/components/clipboard';
 import DateTime from 'app/components/dateTime';
 import Link from 'app/components/links/link';
 import ShortId from 'app/components/shortId';
-import {IconCopy} from 'app/icons';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 import space from 'app/styles/space';
 
@@ -75,21 +73,7 @@ export const StyledShortId = styled(ShortId)`
   justify-content: flex-start;
 `;
 
-const StyledIconCopy = styled(IconCopy)`
-  cursor: pointer;
-  margin-right: ${space(0.5)};
-`;
-
 export const EventId = ({value}: {value: string}) => {
   const shortId = value.substring(0, 8);
-  return (
-    <React.Fragment>
-      <Clipboard value={value}>
-        <span>
-          <StyledIconCopy size="xs" />
-        </span>
-      </Clipboard>
-      {shortId}
-    </React.Fragment>
-  );
+  return <React.Fragment>{shortId}</React.Fragment>;
 };
diff --git a/src/sentry/static/sentry/app/views/performance/charts/index.tsx b/src/sentry/static/sentry/app/views/performance/charts/index.tsx
index a21c2133fc..df3d1eb7f6 100644
--- a/src/sentry/static/sentry/app/views/performance/charts/index.tsx
+++ b/src/sentry/static/sentry/app/views/performance/charts/index.tsx
@@ -1,5 +1,4 @@
 import React from 'react';
-import styled from '@emotion/styled';
 import {Location} from 'history';
 import * as ReactRouter from 'react-router';
 
@@ -17,9 +16,8 @@ import EventsRequest from 'app/views/events/utils/eventsRequest';
 import {getUtcToLocalDateObject} from 'app/utils/dates';
 import {IconWarning} from 'app/icons';
 import theme from 'app/utils/theme';
-import space from 'app/styles/space';
 
-import {HeaderTitle, StyledIconQuestion} from '../styles';
+import {HeaderContainer, HeaderTitle, StyledIconQuestion, ErrorPanel} from '../styles';
 import Chart from './chart';
 import Footer from './footer';
 
@@ -141,25 +139,4 @@ class Container extends React.Component<Props> {
   }
 }
 
-const ErrorPanel = styled('div')`
-  display: flex;
-  justify-content: center;
-  align-items: center;
-
-  flex: 1;
-  flex-shrink: 0;
-  overflow: hidden;
-  height: 200px;
-  position: relative;
-  border-color: transparent;
-  margin-bottom: 0;
-`;
-
-const HeaderContainer = styled('div')`
-  display: grid;
-  grid-template-columns: 1fr 1fr;
-  grid-gap: ${space(2)};
-  padding: ${space(2)} ${space(1.5)} ${space(1)} ${space(1.5)};
-`;
-
 export default withApi(Container);
diff --git a/src/sentry/static/sentry/app/views/performance/styles.tsx b/src/sentry/static/sentry/app/views/performance/styles.tsx
index 21320a62df..084b5f1df5 100644
--- a/src/sentry/static/sentry/app/views/performance/styles.tsx
+++ b/src/sentry/static/sentry/app/views/performance/styles.tsx
@@ -23,6 +23,12 @@ export const SummaryGridRow = styled('tr')`
   grid-template-columns: auto minmax(70px, 170px) minmax(70px, 230px);
 `;
 
+export const HeaderContainer = styled('div')`
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  padding: ${space(2)} ${space(1.5)};
+`;
+
 export const HeaderTitle = styled('div')`
   font-size: ${p => p.theme.fontSizeLarge};
   color: ${p => p.theme.gray4};
@@ -33,7 +39,13 @@ export const HeaderTitle = styled('div')`
   }
 `;
 
-export const ChartsContainer = styled('div')`
+export const HeaderTitleLegend = styled(HeaderTitle)`
+  background-color: ${p => p.theme.white};
+  position: absolute;
+  z-index: 1;
+`;
+
+export const ChartContainer = styled('div')`
   padding: ${space(2)} ${space(1.5)};
 `;
 
@@ -43,11 +55,21 @@ export const ChartsGrid = styled('div')`
   grid-column-gap: ${space(1)};
 `;
 
-export const ChartContainer = styled('div')`
-  flex-grow: 1;
-`;
-
 export const StyledIconQuestion = styled(IconQuestion)`
   color: ${p => p.theme.gray1};
-  margin-left: ${space(0.5)};
+  margin-left: ${space(1)};
+`;
+
+export const ErrorPanel = styled('div')`
+  display: flex;
+  justify-content: center;
+  align-items: center;
+
+  flex: 1;
+  flex-shrink: 0;
+  overflow: hidden;
+  height: 200px;
+  position: relative;
+  border-color: transparent;
+  margin-bottom: 0;
 `;
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/charts.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/charts.tsx
index bb3221254a..d4aab776db 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/charts.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/charts.tsx
@@ -14,7 +14,7 @@ import {
 } from 'app/components/charts/styles';
 import OptionSelector from 'app/components/charts/optionSelector';
 
-import {ChartsContainer} from '../styles';
+import {ChartContainer} from '../styles';
 import DurationChart from './durationChart';
 import LatencyChart from './latencyChart';
 
@@ -54,7 +54,7 @@ class TransactionSummaryCharts extends React.Component<Props> {
 
     return (
       <Panel>
-        <ChartsContainer>
+        <ChartContainer>
           {display === DisplayModes.LATENCY && (
             <LatencyChart
               organization={organization}
@@ -78,7 +78,7 @@ class TransactionSummaryCharts extends React.Component<Props> {
               statsPeriod={eventView.statsPeriod}
             />
           )}
-        </ChartsContainer>
+        </ChartContainer>
 
         <ChartControls>
           <InlineContainer>
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/durationChart.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/durationChart.tsx
index d0de3175e9..4abc3db396 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/durationChart.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/durationChart.tsx
@@ -21,7 +21,7 @@ import {decodeScalar} from 'app/utils/queryString';
 import theme from 'app/utils/theme';
 import {getDuration} from 'app/utils/formatters';
 
-import {HeaderTitle, StyledIconQuestion} from '../styles';
+import {HeaderTitleLegend, StyledIconQuestion} from '../styles';
 
 const QUERY_KEYS = [
   'environment',
@@ -66,7 +66,7 @@ class DurationChart extends React.Component<Props> {
     const utc = decodeScalar(router.location.query.utc);
 
     const legend = {
-      right: 16,
+      right: 10,
       top: 0,
       icon: 'circle',
       itemHeight: 8,
@@ -94,17 +94,17 @@ class DurationChart extends React.Component<Props> {
 
     return (
       <React.Fragment>
-        <HeaderTitle>
+        <HeaderTitleLegend>
           {t('Duration Breakdown')}
           <Tooltip
             position="top"
             title={t(
-              `This graph shows a breakdown of transaction durations by percentile over time.`
+              `Duration Breakdown reflects transaction durations by percentile over time.`
             )}
           >
             <StyledIconQuestion size="sm" />
           </Tooltip>
-        </HeaderTitle>
+        </HeaderTitleLegend>
         <ChartZoom
           router={router}
           period={statsPeriod}
@@ -171,10 +171,10 @@ class DurationChart extends React.Component<Props> {
                           }}
                           tooltip={tooltip}
                           grid={{
-                            left: '12px',
-                            right: '16px',
-                            top: '32px',
-                            bottom: '12px',
+                            left: '10px',
+                            right: '10px',
+                            top: '40px',
+                            bottom: '0px',
                           }}
                         />
                       </TransitionChart>
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
index 26c68f9600..fbd90ee3fd 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
@@ -17,7 +17,7 @@ import {trackAnalyticsEvent} from 'app/utils/analytics';
 import theme from 'app/utils/theme';
 import {getDuration} from 'app/utils/formatters';
 
-import {HeaderTitle, StyledIconQuestion} from '../styles';
+import {HeaderTitleLegend, StyledIconQuestion} from '../styles';
 
 const NUM_BUCKETS = 15;
 const QUERY_KEYS = [
@@ -222,7 +222,7 @@ class LatencyChart extends AsyncComponent<Props, State> {
 
     return (
       <BarChart
-        grid={{left: '10px', right: '10px', top: '16px', bottom: '0px'}}
+        grid={{left: '10px', right: '10px', top: '40px', bottom: '0px'}}
         xAxis={xAxis}
         yAxis={{type: 'value'}}
         series={transformData(chartData.data, this.bucketWidth)}
@@ -237,7 +237,7 @@ class LatencyChart extends AsyncComponent<Props, State> {
   render() {
     return (
       <React.Fragment>
-        <HeaderTitle>
+        <HeaderTitleLegend>
           {t('Latency Distribution')}
           <Tooltip
             position="top"
@@ -247,7 +247,7 @@ class LatencyChart extends AsyncComponent<Props, State> {
           >
             <StyledIconQuestion />
           </Tooltip>
-        </HeaderTitle>
+        </HeaderTitleLegend>
         {this.renderComponent()}
       </React.Fragment>
     );
