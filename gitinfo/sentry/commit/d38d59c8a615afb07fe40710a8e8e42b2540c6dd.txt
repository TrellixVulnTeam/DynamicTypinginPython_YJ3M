commit d38d59c8a615afb07fe40710a8e8e42b2540c6dd
Author: ckj <chriskjennings@gmail.com>
Date:   Fri Mar 27 23:46:41 2015 -0400

    Replace collapsible UI with 'show more' button

diff --git a/src/sentry/static/sentry/app/views/groupDetails/interfaces/request.jsx b/src/sentry/static/sentry/app/views/groupDetails/interfaces/request.jsx
index b5d346fff9..64eb01675c 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/interfaces/request.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/interfaces/request.jsx
@@ -6,48 +6,54 @@ var GroupEventDataSection = require("../eventDataSection");
 var PropTypes = require("../../../proptypes");
 var utils = require("../../../utils");
 
-var CollapsableBox = React.createClass({
+var ClippedBox = React.createClass({
   propTypes: {
     title: React.PropTypes.string.isRequired,
-    defaultCollapsed: React.PropTypes.bool
+    defaultClipped: React.PropTypes.bool
   },
 
   getDefaultProps() {
     return {
-      defaultCollapsed: false
+      defaultClipped: false,
+      clipHeight: 200
     };
   },
 
   getInitialState() {
     return {
-      collapsed: this.props.defaultCollapsed
+      clipped: this.props.defaultClipped
     };
   },
 
-  toggle() {
+  componentDidMount() {
+    var renderedHeight = this.getDOMNode().offsetHeight;
+
+    if (renderedHeight > this.props.clipHeight ) {
+      this.setState({
+        clipped: true
+      });
+    }
+  },
+
+  reveal() {
     this.setState({
-      collapsed: !this.state.collapsed
+      clipped: false
     });
   },
 
   render() {
-    var className = "box-collapsible";
-    if (this.state.collapsed) {
-      className += " collapsed";
+    var className = "box-clippable";
+    if (this.state.clipped) {
+      className += " clipped";
     }
 
     return (
       <div className={className}>
-        <div className="section-toggle">
-          <div className="pull-right">
-            <a onClick={this.toggle}>
-              <span className="icon-arrow-up"></span>
-              <span className="icon-arrow-down"></span>
-            </a>
-          </div>
-          <h5>{this.props.title}</h5>
-        </div>
+        <h5>{this.props.title}</h5>
         {this.props.children}
+        <div className="clip-fade">
+          <a onClick={this.reveal} className="show-more btn btn-primary btn-xs">Show more</a>
+        </div>
       </div>
     );
   }
@@ -115,36 +121,36 @@ var RequestInterface = React.createClass({
           wrapTitle={false}
           title={title}>
         {data.query_string &&
-          <CollapsableBox title="Query String">
+          <ClippedBox title="Query String">
             <pre>{data.query_string}</pre>
-          </CollapsableBox>
+          </ClippedBox>
         }
         {data.fragment &&
-          <CollapsableBox title="Fragment">
+          <ClippedBox title="Fragment">
             <pre>{data.fragment}</pre>
-          </CollapsableBox>
+          </ClippedBox>
         }
         {data.data &&
-          <CollapsableBox title="Body">
+          <ClippedBox title="Body">
             <pre>{data.data}</pre>
-          </CollapsableBox>
+          </ClippedBox>
         }
         {data.cookies &&
-          <CollapsableBox title="Cookies" defaultCollapsed>
+          <ClippedBox title="Cookies" defaultCollapsed>
             <pre>{JSON.stringify(data.cookies, null, 2)}</pre>
-          </CollapsableBox>
+          </ClippedBox>
         }
         {!utils.objectIsEmpty(data.headers) &&
-          <CollapsableBox title="Headers">
+          <ClippedBox title="Headers">
             <DefinitionList data={data.headers} />
-          </CollapsableBox>
+          </ClippedBox>
         }
         {!utils.objectIsEmpty(data.env) &&
-          <CollapsableBox title="Environment" defaultCollapsed>
+          <ClippedBox title="Environment" defaultCollapsed>
             <dl className="vars">
               <DefinitionList data={data.env} />
             </dl>
-          </CollapsableBox>
+          </ClippedBox>
         }
       </GroupEventDataSection>
     );
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index debfe87809..b8fcbdf8de 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -625,51 +625,36 @@ div.commands {
 
 // Request
 
-.box-collapsible {
+.box-clippable {
+  position: relative;
   margin-left: -20px;
   margin-right: -20px;
-  padding-left: 20px;
-  padding: 15px 20px;
+  padding: 20px;
   border-top: 1px solid #f1f2f3;
+  .transition(all .8s ease-in-out);
+  max-height: 5000px;
 
-
-
-  .icon-arrow-up {
+  .clip-fade {
     display: none;
+    position: absolute;
+    left: 0;
+    right: 0;
+    bottom: 0;
+    padding: 40px 0 0;
+    #gradient > .vertical(rgba(255,255,255, .15), rgba(255,255,255, 1));
+    text-align: center;
+    border-bottom: 15px solid #fff;
   }
 
-  .icon-arrow-down {
-    display: block;
-  }
-
-  .section-toggle {
-    margin: -20px;
-    padding: 20px;
-
-    .pull-right {
-      padding-top: 3px;
-    }
-
-    .clearfix;
-    cursor: pointer;
-
-    h5 {
-      margin: 0;
-    }
-  }
-
-  &.collapsed {
-    .icon-arrow-up {
+  &.clipped {
+    .clip-fade {
       display: block;
     }
-    .icon-arrow-down {
-      display: none;
-    }
 
-    .vars {
-      display: none;
-    }
+    max-height: 200px;
+    overflow: hidden;
   }
+
 }
 
 /* message details */
