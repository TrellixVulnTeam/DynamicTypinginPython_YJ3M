commit 816ca517d1e48da7afd1ccaaaa37a29b4c35f8c0
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Wed Apr 4 17:00:32 2018 -0700

    fix(slack): Use standardized tag keys

diff --git a/src/sentry/integrations/slack/utils.py b/src/sentry/integrations/slack/utils.py
index 9d2ea6c1de..9dd53c1b4d 100644
--- a/src/sentry/integrations/slack/utils.py
+++ b/src/sentry/integrations/slack/utils.py
@@ -4,7 +4,7 @@ import logging
 
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse, urlunparse
 
-from sentry import features
+from sentry import features, tagstore
 from sentry.api.fields.actor import Actor
 from sentry.utils import json
 from sentry.utils.assets import get_asset_url
@@ -223,15 +223,19 @@ def build_attachment(group, event=None, tags=None, identity=None, actions=None,
     if tags:
         event_tags = event.tags if event else group.get_latest_event().tags
 
-        for tag_key, tag_value in event_tags:
-            if tag_key in tags:
-                fields.append(
-                    {
-                        'title': tag_key.encode('utf-8'),
-                        'value': tag_value.encode('utf-8'),
-                        'short': True,
-                    }
-                )
+        for key, value in event_tags:
+            std_key = tagstore.get_standardized_key(key)
+            if std_key not in tags:
+                continue
+
+            labeled_value = tagstore.get_tag_value_label(key, value)
+            fields.append(
+                {
+                    'title': std_key.encode('utf-8'),
+                    'value': labeled_value.encode('utf-8'),
+                    'short': True,
+                }
+            )
 
     if actions:
         action_texts = filter(None, [build_action_text(group, identity, a) for a in actions])
