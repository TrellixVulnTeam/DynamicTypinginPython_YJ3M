commit b632c2d61df17fb6ed5693de808f9b4efe502ade
Author: Marten Klitzke <m.klitzke@gmail.com>
Date:   Fri Dec 13 14:09:38 2013 +0100

    Add mail:subject_prefix to project settings form

diff --git a/src/sentry/web/forms/projects.py b/src/sentry/web/forms/projects.py
index a5abfe8bbf..58baaac216 100644
--- a/src/sentry/web/forms/projects.py
+++ b/src/sentry/web/forms/projects.py
@@ -111,10 +111,11 @@ class EditProjectForm(BaseProjectForm):
         help_text=_('Separate multiple entries with a newline.'))
     resolve_age = RangeField(help_text=_('Treat an event as resolved if it hasn\'t been seen for this amount of time.'),
         required=False, min_value=0, max_value=168, step_value=1)
+    mail_subject_prefix = forms.CharField(label=_('Mail Subject Prefix'), required=False)
     owner = UserField(required=False)
 
     class Meta:
-        fields = ('name', 'platform', 'public', 'team', 'owner', 'slug')
+        fields = ('name', 'platform', 'public', 'team', 'owner', 'slug', 'mail_subject_prefix')
         model = Project
 
     def __init__(self, request, team_list, data, instance, *args, **kwargs):
diff --git a/src/sentry/web/frontend/projects/settings.py b/src/sentry/web/frontend/projects/settings.py
index b12ba6b1f5..41fb75e82b 100644
--- a/src/sentry/web/frontend/projects/settings.py
+++ b/src/sentry/web/frontend/projects/settings.py
@@ -34,12 +34,14 @@ def manage_project(request, team, project):
         'origins': '\n'.join(project.get_option('sentry:origins', None) or []),
         'owner': project.owner,
         'resolve_age': int(project.get_option('sentry:resolve_age', 0)),
+        'mail_subject_prefix': project.get_option('mail:subject_prefix', ''),
     })
 
     if form.is_valid():
         project = form.save()
         project.update_option('sentry:origins', form.cleaned_data.get('origins') or [])
         project.update_option('sentry:resolve_age', form.cleaned_data.get('resolve_age'))
+        project.update_option('mail:subject_prefix', form.cleaned_data.get('mail_subject_prefix'))
         messages.add_message(
             request, messages.SUCCESS,
             _('Changes to your project were saved.'))
