commit 68d53e8337e33a1b97dbefb888419f63773b140e
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jan 21 00:58:57 2013 -0800

    Correct doc urls

diff --git a/src/sentry/templates/sentry/partial/_client_config.html b/src/sentry/templates/sentry/partial/_client_config.html
index d8df82316c..f67b802afb 100644
--- a/src/sentry/templates/sentry/partial/_client_config.html
+++ b/src/sentry/templates/sentry/partial/_client_config.html
@@ -1,3 +1,4 @@
+{% load i18n %}
 
 <style type="text/css">
 .client-platform-list {
@@ -38,64 +39,64 @@
 }
 </style>
 <div class="page-header">
-    <h3>Platforms</h3>
+    <h3>{% trans "Platforms" %}</h3>
 </div>
 <ul class="client-platform-list">
     <li>
-        <a href="{% url sentry-docs-client project.slug 'python' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'python' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/python48x48.png" %}"></span>
             <strong>Python</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'php' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'php' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/php48x48.png" %}"></span>
             <strong>PHP</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'ruby' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'ruby' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/ruby48x48.png" %}"></span>
             <strong>Ruby</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'javascript' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'javascript' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/javascript48x48.png" %}"></span>
             <strong>JavaScript</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'java' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'java' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/java48x48.png" %}"></span>
             <strong>Java</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'node.js' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'node.js' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/node48x48.png" %}"></span>
             <strong>Node.js</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'ios' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'ios' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/ios48x48.png" %}"></span>
             <strong>iOS</strong>
         </a>
     </li>
 </ul>
 <div class="page-header">
-    <h3>Frameworks</h3>
+    <h3>{% trans "Frameworks" %}</h3>
 </div>
 <ul class="client-platform-list">
     <li>
-        <a href="{% url sentry-docs-client project.slug 'rails3' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'rails3' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/rails48x48.png" %}"></span>
             <strong>Rails 3</strong>
         </a>
     </li>
     <li>
-        <a href="{% url sentry-docs-client project.slug 'django' %}">
+        <a href="{% url sentry-docs-client project.team.slug project.slug 'django' %}">
             <span><img src="{% url sentry-media "sentry" "images/platforms/django48x48.png" %}"></span>
             <strong>Django</strong>
         </a>
@@ -103,7 +104,7 @@
 </ul>
 
 <div class="page-header">
-    <h3>More Clients</h3>
+    <h3>{% trans "More Clients" %}</h3>
 </div>
 <ul>
     <li>
diff --git a/src/sentry/templates/sentry/partial/client_config/node_base.html b/src/sentry/templates/sentry/partial/client_config/node_base.html
index daab8254c2..62624f089a 100644
--- a/src/sentry/templates/sentry/partial/client_config/node_base.html
+++ b/src/sentry/templates/sentry/partial/client_config/node_base.html
@@ -5,9 +5,9 @@
 </div>
 
 <ul class="nav nav-tabs">
-	<li{% if platform == 'node.js' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'node.js' %}">Node.js</a></li>
-	<li{% if platform == 'express' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'express' %}">Express</a></li>
-	<li{% if platform == 'connect' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'connect' %}">Connect</a></li>
+	<li{% if platform == 'node.js' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'node.js' %}">Node.js</a></li>
+	<li{% if platform == 'express' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'express' %}">Express</a></li>
+	<li{% if platform == 'connect' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'connect' %}">Connect</a></li>
 </ul>
 
 {% block inner %}
diff --git a/src/sentry/templates/sentry/partial/client_config/python_base.html b/src/sentry/templates/sentry/partial/client_config/python_base.html
index 18245481b4..caa045f9ca 100644
--- a/src/sentry/templates/sentry/partial/client_config/python_base.html
+++ b/src/sentry/templates/sentry/partial/client_config/python_base.html
@@ -5,9 +5,9 @@
 </div>
 
 <ul class="nav nav-tabs">
-	<li{% if platform == 'python' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'python' %}">Python</a></li>
-	<li{% if platform == 'django' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'django' %}">Django</a></li>
-	<li{% if platform == 'flask' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'flask' %}">Flask</a></li>
+	<li{% if platform == 'python' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'python' %}">Python</a></li>
+	<li{% if platform == 'django' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'django' %}">Django</a></li>
+	<li{% if platform == 'flask' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'flask' %}">Flask</a></li>
 </ul>
 
 {% block inner %}
diff --git a/src/sentry/templates/sentry/partial/client_config/ruby_base.html b/src/sentry/templates/sentry/partial/client_config/ruby_base.html
index eb8f3f0956..c7ca9dc4c4 100644
--- a/src/sentry/templates/sentry/partial/client_config/ruby_base.html
+++ b/src/sentry/templates/sentry/partial/client_config/ruby_base.html
@@ -5,8 +5,8 @@
 </div>
 
 <ul class="nav nav-tabs">
-	<li{% if platform == 'ruby' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'ruby' %}">Ruby</a></li>
-	<li{% if platform == 'rails3' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.slug 'rails3' %}">Rails 3</a></li>
+	<li{% if platform == 'ruby' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'ruby' %}">Ruby</a></li>
+	<li{% if platform == 'rails3' %} class="active"{% endif %}><a href="{% url sentry-docs-client project.team.slug project.slug 'rails3' %}">Rails 3</a></li>
 </ul>
 
 {% block inner %}
diff --git a/src/sentry/templates/sentry/projects/docs/client_config.html b/src/sentry/templates/sentry/projects/docs/client_config.html
index afb7e20700..293f5d36ac 100644
--- a/src/sentry/templates/sentry/projects/docs/client_config.html
+++ b/src/sentry/templates/sentry/projects/docs/client_config.html
@@ -7,7 +7,7 @@
 {% block breadcrumb %}
     {{ block.super }}
     <li class="divider"></li>
-    <li><a href="{% url sentry-docs-client project.slug platform %}">{{ platform_title }}</a></li>
+    <li><a href="{% url sentry-docs-client project.team.slug project.slug platform %}">{{ platform_title }}</a></li>
 {% endblock %}
 
 {% block inner %}
diff --git a/src/sentry/web/frontend/projects.py b/src/sentry/web/frontend/projects.py
index 3a162d98fb..58b283e6e9 100644
--- a/src/sentry/web/frontend/projects.py
+++ b/src/sentry/web/frontend/projects.py
@@ -115,8 +115,8 @@ def new_project(request):
         project.save()
 
         if project.platform not in (None, 'other'):
-            return HttpResponseRedirect(reverse('sentry-docs-client', args=[project.slug, project.platform]))
-        return HttpResponseRedirect(reverse('sentry-get-started', args=[project.slug]))
+            return HttpResponseRedirect(reverse('sentry-docs-client', args=[project.team.slug, project.slug, project.platform]))
+        return HttpResponseRedirect(reverse('sentry-get-started', args=[project.team.slug, project.slug]))
 
     return render_to_response('sentry/projects/new.html', {
         'project_form': project_form,
diff --git a/src/sentry/web/frontend/teams.py b/src/sentry/web/frontend/teams.py
index 0ce9d3c4ce..38e129c16f 100644
--- a/src/sentry/web/frontend/teams.py
+++ b/src/sentry/web/frontend/teams.py
@@ -436,8 +436,8 @@ def create_new_team_project(request, team):
         project.save()
 
         if project.platform not in (None, 'other'):
-            return HttpResponseRedirect(reverse('sentry-docs-client', args=[project.slug, project.platform]))
-        return HttpResponseRedirect(reverse('sentry-get-started', args=[project.slug]))
+            return HttpResponseRedirect(reverse('sentry-docs-client', args=[project.team.slug, project.slug, project.platform]))
+        return HttpResponseRedirect(reverse('sentry-get-started', args=[project.team.slug, project.slug]))
 
     context = csrf(request)
     context.update({
