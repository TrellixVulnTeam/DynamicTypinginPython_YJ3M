commit ab7e9381539ccc7e796f0fffa65014304b642715
Author: Alex Hofsteede <alex@hofsteede.com>
Date:   Thu Dec 14 12:33:47 2017 +1300

    fix: Allow greater max_depth (#6762)
    
    Rationale is, sometimes we get things like POST bodies that are shorter
    than max_size, but are deeply nested. In those cases we _could_ easily
    return a perfect reproduction of the nested data without going over max_size,
    but becuase of max_depth, we were mutating the data to strings.
    
    There may be other tradeoffs here that I haven't considered though.
    
    Fixes https://github.com/getsentry/sentry/issues/5303

diff --git a/src/sentry/utils/safe.py b/src/sentry/utils/safe.py
index e89a73ba31..f79f19dc67 100644
--- a/src/sentry/utils/safe.py
+++ b/src/sentry/utils/safe.py
@@ -46,7 +46,7 @@ def safe_execute(func, *args, **kwargs):
 def trim(
     value,
     max_size=settings.SENTRY_MAX_VARIABLE_SIZE,
-    max_depth=3,
+    max_depth=6,
     object_hook=None,
     _depth=0,
     _size=0,
