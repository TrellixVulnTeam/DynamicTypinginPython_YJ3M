commit ae2a00096aaa063fe84766232adc9fb71246a56b
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Oct 1 10:31:56 2015 -0700

    Basic adblock detection

diff --git a/src/sentry/static/sentry/js/ads.js b/src/sentry/static/sentry/js/ads.js
new file mode 100644
index 0000000000..2ae88136b9
--- /dev/null
+++ b/src/sentry/static/sentry/js/ads.js
@@ -0,0 +1 @@
+window.adblockSuspected = false;
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index df753669db..1e66161147 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -31,17 +31,19 @@
   <script src="{% url 'sentry-media' "sentry" "dist/app.js" %}"></script>
 
   <script>
-    (function(){
-      for (var n in window.exports) {
-        window[n] = window.exports[n];
-      }
-      window.$ = window.jQuery;
+    for (var n in window.exports) {
+      window[n] = window.exports[n];
+    }
+    window.$ = window.jQuery;
+
+    window.moment.locale({{ request.LANGUAGE_CODE|to_json|safe }});
 
-      window.moment.locale({{ request.LANGUAGE_CODE|to_json|safe }});
-    }());
+    // if the ads.js file loads below it will mark this variable as false
+    window.adblockSuspected = true;
 
     Sentry.ConfigStore.loadInitialData({% get_react_config %});
   </script>
+  <script src="{% url 'sentry-media' 'sentry' 'js/ads.js' %}"></script>
 
   {% include "sentry/includes/ravenjs.html" %}
   {% endblock %}
