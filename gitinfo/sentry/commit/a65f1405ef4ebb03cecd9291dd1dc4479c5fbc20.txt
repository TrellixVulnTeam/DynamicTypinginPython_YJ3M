commit a65f1405ef4ebb03cecd9291dd1dc4479c5fbc20
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jul 7 02:16:04 2016 +0500

    Mock out react error mapping responses

diff --git a/src/sentry/lang/javascript/errormapping.py b/src/sentry/lang/javascript/errormapping.py
index 0da9ff4fd0..c85e72fdb8 100644
--- a/src/sentry/lang/javascript/errormapping.py
+++ b/src/sentry/lang/javascript/errormapping.py
@@ -12,6 +12,10 @@ from sentry import http
 logger = logging.getLogger(__name__)
 
 
+REACT_MAPPING_URL = ('https://raw.githubusercontent.com/facebook/'
+                     'react/master/scripts/error-codes/codes.json')
+
+
 error_processors = {}
 
 
@@ -55,8 +59,7 @@ def minified_error(vendor, mapping_url, regex):
 
 @minified_error(
     vendor='react',
-    mapping_url=('https://raw.githubusercontent.com/facebook/'
-                 'react/master/scripts/error-codes/codes.json'),
+    mapping_url=REACT_MAPPING_URL,
     regex=r'Minified React error #(\d+); visit https?://[^?]+\?(\S+)'
 )
 def process_react_exception(exc, match, mapping):
diff --git a/tests/sentry/lang/javascript/test_processor.py b/tests/sentry/lang/javascript/test_processor.py
index 1499752b2b..d374dad707 100644
--- a/tests/sentry/lang/javascript/test_processor.py
+++ b/tests/sentry/lang/javascript/test_processor.py
@@ -14,7 +14,9 @@ from sentry.lang.javascript.processor import (
     SourceProcessor, trim_line, UrlResult
 )
 from sentry.lang.javascript.sourcemaps import SourceMap, SourceMapIndex
-from sentry.lang.javascript.errormapping import rewrite_exception
+from sentry.lang.javascript.errormapping import (
+    rewrite_exception, REACT_MAPPING_URL
+)
 from sentry.models import Release
 from sentry.testutils import TestCase
 
@@ -323,7 +325,16 @@ class SourceProcessorTest(TestCase):
 
 class ErrorMappingTest(TestCase):
 
+    @responses.activate
     def test_react_error_mapping_resolving(self):
+        responses.add(responses.GET, REACT_MAPPING_URL, body=r'''
+        {
+          "108": "%s.getChildContext(): key \"%s\" is not defined in childContextTypes.",
+          "109": "%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",
+          "110": "Stateless function components cannot have refs."
+        }
+        ''', content_type='application/json')
+
         data = {
             'platform': 'javascript',
             'sentry.interfaces.Exception': {
