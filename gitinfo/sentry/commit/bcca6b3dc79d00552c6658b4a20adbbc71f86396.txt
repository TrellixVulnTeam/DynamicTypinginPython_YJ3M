commit bcca6b3dc79d00552c6658b4a20adbbc71f86396
Author: Anton Ovchinnikov <anton@tonyo.info>
Date:   Fri Jan 17 14:31:58 2020 +0100

    fix: Allow more connections to redis clusters (#16488)
    
    * fix: Allow more connections to redis clusters
    
    * fix: Update the limit

diff --git a/src/sentry/utils/redis.py b/src/sentry/utils/redis.py
index bbcbe6100d..958aaa51e3 100644
--- a/src/sentry/utils/redis.py
+++ b/src/sentry/utils/redis.py
@@ -117,7 +117,11 @@ class _RedisCluster(object):
         def cluster_factory():
             if config.get("is_redis_cluster", False):
                 return RetryingStrictRedisCluster(
-                    startup_nodes=hosts, decode_responses=True, skip_full_coverage_check=True
+                    startup_nodes=hosts,
+                    decode_responses=True,
+                    skip_full_coverage_check=True,
+                    max_connections=16,
+                    max_connections_per_node=True,
                 )
             else:
                 host = hosts[0].copy()
