commit cad98ad33d141f9d085d647fbb14a86bb747a5b4
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Jul 20 09:02:04 2014 +0200

    Add release attribute to API

diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index 173592c8c0..34f6c0daa5 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -55,6 +55,7 @@ RESERVED_FIELDS = (
     'modules',
     'tags',
     'platform',
+    'release',
 )
 
 
diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index deb8a41d14..96976bed9f 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -234,6 +234,7 @@ class EventManager(object):
         site = data.pop('site', None)
         checksum = data.pop('checksum', None)
         platform = data.pop('platform', None)
+        release = data.pop('release', None)
 
         date = datetime.fromtimestamp(data.pop('timestamp'))
         date = date.replace(tzinfo=timezone.utc)
@@ -280,6 +281,9 @@ class EventManager(object):
             tags.append(('server_name', server_name))
         if site:
             tags.append(('site', site))
+        if release:
+            # TODO(dcramer): we should ensure we create Release objects
+            tags.append(('sentry:release', release))
 
         for plugin in plugins.for_project(project):
             added_tags = safe_execute(plugin.get_tags, event)
