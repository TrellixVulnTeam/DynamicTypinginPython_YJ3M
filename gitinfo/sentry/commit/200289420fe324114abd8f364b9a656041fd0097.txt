commit 200289420fe324114abd8f364b9a656041fd0097
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Tue Feb 26 11:12:07 2019 -0800

    ref(app-platform): Add issue open in link schema option (#12042)
    
    * ref(app-platform): Add issue open in link schema option

diff --git a/src/sentry/api/validators/sentry_apps/schema.py b/src/sentry/api/validators/sentry_apps/schema.py
index bf2c2b03ee..e67b5098c6 100644
--- a/src/sentry/api/validators/sentry_apps/schema.py
+++ b/src/sentry/api/validators/sentry_apps/schema.py
@@ -244,6 +244,20 @@ SCHEMA = {
             },
             'required': ['type', 'title', 'elements'],
         },
+
+        'stacktrace-link': {
+            'type': 'object',
+            'properties': {
+                'type': {
+                    'type': 'string',
+                    'enum': ['stacktrace-link'],
+                },
+                'uri': {
+                    '$ref': '#/definitions/uri',
+                },
+            },
+            'required': ['type', 'uri']
+        },
     },
 
     'properties': {
@@ -255,6 +269,7 @@ SCHEMA = {
                     {'$ref': '#/definitions/issue-link'},
                     {'$ref': '#/definitions/alert-rule-action'},
                     {'$ref': '#/definitions/issue-media'},
+                    {'$ref': '#/definitions/stacktrace-link'},
                 ],
             },
         },
diff --git a/tests/sentry/api/validators/sentry_apps/test_schema.py b/tests/sentry/api/validators/sentry_apps/test_schema.py
index a5160e1ea1..3c18af46ea 100644
--- a/tests/sentry/api/validators/sentry_apps/test_schema.py
+++ b/tests/sentry/api/validators/sentry_apps/test_schema.py
@@ -88,6 +88,10 @@ class TestSchemaValidation(TestCase):
                         },
                     ]
                 },
+                {
+                    'type': 'stacktrace-link',
+                    'uri': '/sentry/issue',
+                },
             ],
         }
 
diff --git a/tests/sentry/api/validators/sentry_apps/test_stacktrace_link.py b/tests/sentry/api/validators/sentry_apps/test_stacktrace_link.py
new file mode 100644
index 0000000000..422302b21e
--- /dev/null
+++ b/tests/sentry/api/validators/sentry_apps/test_stacktrace_link.py
@@ -0,0 +1,21 @@
+from __future__ import absolute_import
+
+from sentry.testutils import TestCase
+
+from .util import invalid_schema, validate_component
+
+
+class TestOpenInSchemaValidation(TestCase):
+    def setUp(self):
+        self.schema = {
+            'type': 'stacktrace-link',
+            'uri': '/sentry/issue',
+        }
+
+    def test_valid_schema(self):
+        validate_component(self.schema)
+
+    @invalid_schema
+    def test_missing_uri(self):
+        del self.schema['uri']
+        validate_component(self.schema)
