commit 54d6a9f7442ffd5e2a3dd2cee977ec626ddd46dd
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Apr 2 18:11:41 2018 -0700

    fix(sso): Don't try to send emails to orgmembers w/ no user

diff --git a/src/sentry/models/organizationmember.py b/src/sentry/models/organizationmember.py
index fd3a320b2f..a45ba20489 100644
--- a/src/sentry/models/organizationmember.py
+++ b/src/sentry/models/organizationmember.py
@@ -187,6 +187,10 @@ class OrganizationMember(Model):
             query=urlencode({'email': email}),
         )
 
+        # Nothing to send if this member isn't associated to a user
+        if not self.user_id:
+            return
+
         context = {
             'email': email,
             'recover_url': absolute_uri(recover_uri),
