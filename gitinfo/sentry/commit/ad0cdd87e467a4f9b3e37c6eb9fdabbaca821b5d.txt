commit ad0cdd87e467a4f9b3e37c6eb9fdabbaca821b5d
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jan 26 17:10:12 2015 -0800

    Switch to db.is_postgres

diff --git a/src/sentry/receivers/core.py b/src/sentry/receivers/core.py
index 4adeeebf05..d24cae9172 100644
--- a/src/sentry/receivers/core.py
+++ b/src/sentry/receivers/core.py
@@ -17,6 +17,7 @@ from sentry.models import (
     Alert
 )
 from sentry.signals import buffer_incr_complete, regression_signal
+from sentry.utils import db
 from sentry.utils.safe import safe_execute
 
 PROJECT_SEQUENCE_FIX = """
@@ -102,8 +103,8 @@ def create_default_project(id, name, slug, verbosity=2, **kwargs):
 
     # HACK: manually update the ID after insert due to Postgres
     # sequence issues. Seriously, fuck everything about this.
-    connection = connections[project._state.db]
-    if connection.settings_dict['ENGINE'].endswith('psycopg2'):
+    if db.is_postgres(project._state.db):
+        connection = connections[project._state.db]
         cursor = connection.cursor()
         cursor.execute(PROJECT_SEQUENCE_FIX)
 
