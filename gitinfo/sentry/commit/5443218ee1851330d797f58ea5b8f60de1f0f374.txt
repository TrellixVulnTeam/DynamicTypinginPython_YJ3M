commit 5443218ee1851330d797f58ea5b8f60de1f0f374
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jul 23 23:34:58 2013 -0700

    Simplify culprit check

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 8bf2f5c828..51fa80c444 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -387,9 +387,6 @@ class GroupManager(BaseManager, ChartMixin):
         if not timestamp:
             timestamp = timezone.now()
 
-        if not data.get('culprit'):
-            data['culprit'] = ''
-
         # We must convert date to local time so Django doesn't mess it up
         # based on TIME_ZONE
         if dj_settings.TIME_ZONE:
@@ -403,6 +400,7 @@ class GroupManager(BaseManager, ChartMixin):
             data['event_id'] = uuid.uuid4().hex
 
         data.setdefault('message', None)
+        data.setdefault('culprit', None)
         data.setdefault('time_spent', None)
         data.setdefault('server_name', None)
         data.setdefault('site', None)
diff --git a/src/sentry/models.py b/src/sentry/models.py
index dc86c6d99e..b38283b700 100644
--- a/src/sentry/models.py
+++ b/src/sentry/models.py
@@ -479,8 +479,7 @@ class EventBase(Model):
     def error(self):
         message = strip(self.message)
         if message:
-            if len(message) > 100:
-                message = message[:97] + '...'
+            message = truncatechars(message)
         else:
             message = '<unlabeled message>'
         return message
