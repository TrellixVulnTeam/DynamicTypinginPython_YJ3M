commit 24623b7b5d45030fc1b0eb2bb5969f8dc6df08ef
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 9 11:34:22 2015 -0700

    Dont run nodestore cleanup if project is passed

diff --git a/src/sentry/tasks/cleanup.py b/src/sentry/tasks/cleanup.py
index 5bf4c4a968..f6992b45dd 100644
--- a/src/sentry/tasks/cleanup.py
+++ b/src/sentry/tasks/cleanup.py
@@ -61,11 +61,12 @@ def cleanup(days=30, project=None, chunk_size=1000, concurrency=1, **kwargs):
     ).delete()
 
     # TODO: we should move this into individual backends
-    log.info("Removing old Node values")
-    try:
-        app.nodestore.cleanup(ts)
-    except NotImplementedError:
-        log.warning("Node backend does not support cleanup operation")
+    if not project:
+        log.info("Removing old Node values")
+        try:
+            app.nodestore.cleanup(ts)
+        except NotImplementedError:
+            log.warning("Node backend does not support cleanup operation")
 
     # Remove types which can easily be bound to project + date
     for model, date_col in GENERIC_DELETES:
