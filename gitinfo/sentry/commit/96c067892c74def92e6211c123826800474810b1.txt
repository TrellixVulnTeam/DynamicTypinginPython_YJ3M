commit 96c067892c74def92e6211c123826800474810b1
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 1 11:32:03 2015 -0800

    Use range slider for digest controls

diff --git a/src/sentry/templates/sentry/project-notifications.html b/src/sentry/templates/sentry/project-notifications.html
index 7eb161c41a..c6d0f8d399 100644
--- a/src/sentry/templates/sentry/project-notifications.html
+++ b/src/sentry/templates/sentry/project-notifications.html
@@ -41,6 +41,8 @@
         <h3>{% trans "Digests" %}</h3>
       </div>
       <div class="box-content with-padding">
+        <p>Sentry will automatically digest certain notification services (such as email) to avoid flooding your inbox with individual event notifications. Use the settings below to configure the thresholds at which those digests are bounded.</p>
+
         {{ digests_form|as_crispy_errors }}
 
         {% for field in digests_form %}
@@ -54,6 +56,35 @@
     </fieldset>
   </form>
 
+  <script>
+  (function(){
+    var formatMinutes = function(val) {
+      val = parseInt(val, 10);
+      return val + ' minute' + (val != 1 ? 's' : '');
+    };
+
+    $('input[type=range]').each(function(n, el){
+      var $el = $(el),
+          min = parseInt($el.attr('min'), 10),
+          max = parseInt($el.attr('max'), 10),
+          step = parseInt($el.attr('step'), 10),
+          $value = $('<span class="value"></span>');
+
+      $el.on('slider:ready', function(event, data) {
+        console.log(data);
+        $value.appendTo(data.el);
+        $value.html(formatMinutes(data.value));
+      }).on('slider:changed', function(event, data) {
+        $value.html(formatMinutes(data.value));
+      }).simpleSlider({
+        range: [min, max],
+        step: step,
+        snap: true
+      });
+    });
+  }());
+</script>
+
   {% for plugin, content in enabled_plugins %}
     <div class="box">
       <div class="box-header">
diff --git a/src/sentry/web/forms/fields.py b/src/sentry/web/forms/fields.py
index 05d07dc6b3..b478ca4e09 100644
--- a/src/sentry/web/forms/fields.py
+++ b/src/sentry/web/forms/fields.py
@@ -94,7 +94,7 @@ class RangeField(IntegerField):
         attrs = super(RangeField, self).widget_attrs(widget)
         attrs.setdefault('min', self.min_value)
         attrs.setdefault('max', self.max_value)
-        attrs.setdefault('step', self.step_value)
+        attrs.setdefault('step', self.step_value or 1)
         return attrs
 
 
