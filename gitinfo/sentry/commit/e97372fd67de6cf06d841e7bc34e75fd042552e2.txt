commit e97372fd67de6cf06d841e7bc34e75fd042552e2
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Mon Jul 9 08:40:08 2018 -0700

    feat(ui): Add ConfirmDelete component (#8927)
    
    * feat(ui): Add ConfirmDelete component

diff --git a/docs-ui/components/confirmDelete.stories.js b/docs-ui/components/confirmDelete.stories.js
new file mode 100644
index 0000000000..a8f6d8b385
--- /dev/null
+++ b/docs-ui/components/confirmDelete.stories.js
@@ -0,0 +1,25 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+import {action} from '@storybook/addon-actions';
+
+import ConfirmDelete from 'app/components/confirmDelete';
+import Button from 'app/components/buttons/button';
+
+storiesOf('Confirm/ConfirmDelete', module).add(
+  'default',
+  withInfo({
+    text: 'A Confirm Modal that requires a user to enter a confirmation string.',
+    propTablesExclude: [Button],
+  })(() => (
+    <div>
+      <ConfirmDelete
+        onConfirm={action('confirmed')}
+        confirmInput="Type this out"
+        message="Are you sure you want to do this?"
+      >
+        <Button priority="primary">Confirm on Button click</Button>
+      </ConfirmDelete>
+    </div>
+  ))
+);
diff --git a/src/sentry/static/sentry/app/components/confirm.jsx b/src/sentry/static/sentry/app/components/confirm.jsx
index f49675d440..771159f6e5 100644
--- a/src/sentry/static/sentry/app/components/confirm.jsx
+++ b/src/sentry/static/sentry/app/components/confirm.jsx
@@ -22,37 +22,48 @@ class Confirm extends React.PureComponent {
      * `close`: Allows renderer to toggle confirm modal
      */
     renderMessage: PropTypes.func,
-
     disabled: PropTypes.bool,
+    disableConfirmButton: PropTypes.bool,
     onConfirming: PropTypes.func,
     onCancel: PropTypes.func,
   };
 
   static defaultProps = {
     priority: 'primary',
+    disableConfirmButton: false,
     cancelText: t('Cancel'),
     confirmText: t('Confirm'),
   };
 
-  constructor(...args) {
-    super(...args);
+  static getDerivedStateFromProps(props, state) {
+    // Reset the state to handle prop changes from ConfirmDelete
+    if (props.disableConfirmButton !== state.disableConfirmButton) {
+      return {
+        disableConfirmButton: props.disableConfirmButton,
+      };
+    }
+    return null;
+  }
+
+  constructor(props) {
+    super(props);
 
     this.state = {
       isModalOpen: false,
-      disableConfirmButton: false,
+      disableConfirmButton: props.disableConfirmButton,
     };
     this.confirming = false;
   }
 
   openModal = () => {
-    let {onConfirming} = this.props;
+    let {onConfirming, disableConfirmButton} = this.props;
     if (typeof onConfirming === 'function') {
       onConfirming();
     }
 
     this.setState(state => ({
       isModalOpen: true,
-      disableConfirmButton: false,
+      disableConfirmButton,
     }));
 
     // always reset `confirming` when modal visibility changes
@@ -60,13 +71,13 @@ class Confirm extends React.PureComponent {
   };
 
   closeModal = () => {
-    let {onCancel} = this.props;
+    let {onCancel, disableConfirmButton} = this.props;
     if (typeof onCancel === 'function') {
       onCancel();
     }
     this.setState(state => ({
       isModalOpen: false,
-      disableConfirmButton: false,
+      disableConfirmButton,
     }));
 
     // always reset `confirming` when modal visibility changes
@@ -138,7 +149,10 @@ class Confirm extends React.PureComponent {
               close: this.closeModal,
               open: this.openModal,
             })
-          : React.cloneElement(children, {disabled, onClick: this.handleToggle})}
+          : React.cloneElement(children, {
+              disabled,
+              onClick: this.handleToggle,
+            })}
         <Modal show={this.state.isModalOpen} animation={false} onHide={this.handleToggle}>
           <div className="modal-body">{confirmMessage}</div>
           <div className="modal-footer">
diff --git a/src/sentry/static/sentry/app/components/confirmDelete.jsx b/src/sentry/static/sentry/app/components/confirmDelete.jsx
new file mode 100644
index 0000000000..6b65ff9699
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/confirmDelete.jsx
@@ -0,0 +1,88 @@
+import React from 'react';
+import PropTypes from 'prop-types';
+import Confirm from 'app/components/confirm';
+import Alert from 'app/components/alert';
+import Input from 'app/views/settings/components/forms/controls/input';
+import Field from 'app/views/settings/components/forms/field';
+import {t} from 'app/locale';
+
+class ConfirmDelete extends React.PureComponent {
+  static propTypes = {
+    onConfirm: PropTypes.func.isRequired,
+    confirmText: PropTypes.string.isRequired,
+    confirmInput: PropTypes.string.isRequired,
+    cancelText: PropTypes.string.isRequired,
+    priority: PropTypes.oneOf(['primary', 'danger']).isRequired,
+    message: PropTypes.node,
+    /**
+     * Renderer that passes:
+     * `confirm`: Allows renderer to perform confirm action
+     * `close`: Allows renderer to toggle confirm modal
+     */
+    renderMessage: PropTypes.func,
+    disabled: PropTypes.bool,
+    onConfirming: PropTypes.func,
+    onCancel: PropTypes.func,
+  };
+
+  static defaultProps = {
+    priority: 'primary',
+    cancelText: t('Cancel'),
+    confirmText: t('Confirm'),
+  };
+
+  constructor(...args) {
+    super(...args);
+
+    this.state = {
+      disableConfirmButton: true,
+      confirmInput: '',
+    };
+  }
+
+  handleChange = evt => {
+    let input = evt.target.value;
+    if (input === this.props.confirmInput) {
+      this.setState({disableConfirmButton: false, confirmInput: input});
+    } else {
+      this.setState({disableConfirmButton: true, confirmInput: input});
+    }
+  };
+
+  render() {
+    let {confirmInput, message, ...props} = this.props;
+    let {disableConfirmButton} = this.state;
+
+    return (
+      <Confirm
+        {...props}
+        bypass={false}
+        disableConfirmButton={disableConfirmButton}
+        message={
+          <React.Fragment>
+            <Alert type="error">{message}</Alert>
+            <Field
+              p={0}
+              flexibleControlStateSize={true}
+              inline={false}
+              label={
+                <div>
+                  Please enter <code>{confirmInput}</code> to confirm the deletion
+                </div>
+              }
+            >
+              <Input
+                type="text"
+                placeholder={confirmInput}
+                onChange={this.handleChange}
+                value={this.state.confirmInput}
+              />
+            </Field>
+          </React.Fragment>
+        }
+      />
+    );
+  }
+}
+
+export default ConfirmDelete;
diff --git a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
new file mode 100644
index 0000000000..b93ef476f1
--- /dev/null
+++ b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
@@ -0,0 +1,382 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`ConfirmDelete renders 1`] = `
+<ModalDialog
+  bsClass="modal"
+  className="in"
+  onClick={[Function]}
+  role="document"
+  style={Object {}}
+  tabIndex="-1"
+>
+  <div
+    className="in modal"
+    onClick={[Function]}
+    role="dialog"
+    style={
+      Object {
+        "display": "block",
+      }
+    }
+    tabIndex="-1"
+  >
+    <div
+      className="modal-dialog"
+    >
+      <div
+        className="modal-content"
+        role="document"
+      >
+        <div
+          className="modal-body"
+        >
+          <Alert
+            type="error"
+          >
+            <AlertWrapper
+              className="ref-error"
+              type="error"
+            >
+              <div
+                className="ref-error css-1gmjigt-AlertWrapper e1xb5l7j1"
+                type="error"
+              >
+                <StyledTextBlock>
+                  <Component
+                    className="css-1h3n7tg-TextBlock-StyledTextBlock e1xb5l7j2"
+                  >
+                    <div
+                      className="css-1h3n7tg-TextBlock-StyledTextBlock e1xb5l7j2"
+                    >
+                      Are you sure?
+                    </div>
+                  </Component>
+                </StyledTextBlock>
+              </div>
+            </AlertWrapper>
+          </Alert>
+          <Field
+            alignRight={false}
+            disabled={false}
+            flexibleControlStateSize={true}
+            inline={false}
+            label={
+              <div>
+                Please enter 
+                <code>
+                  CoolOrg
+                </code>
+                 to confirm the deletion
+              </div>
+            }
+            p={0}
+            required={false}
+            visible={true}
+          >
+            <FieldWrapper
+              hasControlState={false}
+              inline={false}
+              p={0}
+            >
+              <Component
+                className="css-1vm8clh-FieldWrapper-inlineStyle etqqcs20"
+                hasControlState={false}
+                inline={false}
+                p={0}
+              >
+                <Flex
+                  className="css-1vm8clh-FieldWrapper-inlineStyle etqqcs20"
+                >
+                  <Base
+                    className="etqqcs20 css-1hq624p-FieldWrapper-inlineStyle"
+                  >
+                    <div
+                      className="etqqcs20 css-1hq624p-FieldWrapper-inlineStyle"
+                      is={null}
+                    >
+                      <FieldDescription
+                        inline={false}
+                      >
+                        <Component
+                          className="css-19gs2h3-FieldDescription-inlineStyle e12jefmo0"
+                          inline={false}
+                        >
+                          <label
+                            className="css-19gs2h3-FieldDescription-inlineStyle e12jefmo0"
+                          >
+                            <FieldLabel>
+                              <div
+                                className="css-qzvhly-FieldLabel ejkuyjq0"
+                              >
+                                <div>
+                                  Please enter 
+                                  <code>
+                                    CoolOrg
+                                  </code>
+                                   to confirm the deletion
+                                </div>
+                                 
+                              </div>
+                            </FieldLabel>
+                          </label>
+                        </Component>
+                      </FieldDescription>
+                      <FieldControl
+                        alignRight={false}
+                        disabled={false}
+                        flexibleControlStateSize={true}
+                        inline={false}
+                      >
+                        <FieldControlErrorWrapper
+                          inline={false}
+                        >
+                          <Component
+                            className="css-1ge7tqf-FieldControlErrorWrapper e78b1iv0"
+                            inline={false}
+                          >
+                            <Box
+                              className="css-1ge7tqf-FieldControlErrorWrapper e78b1iv0"
+                            >
+                              <Base
+                                className="e78b1iv0 css-nnn2ut-FieldControlErrorWrapper"
+                              >
+                                <div
+                                  className="e78b1iv0 css-nnn2ut-FieldControlErrorWrapper"
+                                  is={null}
+                                >
+                                  <FieldControlWrapper>
+                                    <Component
+                                      className="css-1ke1xob-FieldControlWrapper e78b1iv2"
+                                    >
+                                      <Flex
+                                        className="css-1ke1xob-FieldControlWrapper e78b1iv2"
+                                      >
+                                        <Base
+                                          className="e78b1iv2 css-w4o1g8-FieldControlWrapper"
+                                        >
+                                          <div
+                                            className="e78b1iv2 css-w4o1g8-FieldControlWrapper"
+                                            is={null}
+                                          >
+                                            <FieldControlStyled
+                                              alignRight={false}
+                                            >
+                                              <Component
+                                                alignRight={false}
+                                                className="css-1pkvhmy-FieldControlStyled e78b1iv1"
+                                              >
+                                                <Box
+                                                  className="css-1pkvhmy-FieldControlStyled e78b1iv1"
+                                                >
+                                                  <Base
+                                                    className="e78b1iv1 css-wkkbba-FieldControlStyled"
+                                                  >
+                                                    <div
+                                                      className="e78b1iv1 css-wkkbba-FieldControlStyled"
+                                                      is={null}
+                                                    >
+                                                      <Input
+                                                        onChange={[Function]}
+                                                        placeholder="CoolOrg"
+                                                        type="text"
+                                                        value=""
+                                                      >
+                                                        <input
+                                                          className="css-1m7xmcf-Input-inputStyles e1xej46s0"
+                                                          onChange={[Function]}
+                                                          placeholder="CoolOrg"
+                                                          type="text"
+                                                          value=""
+                                                        />
+                                                      </Input>
+                                                    </div>
+                                                  </Base>
+                                                </Box>
+                                              </Component>
+                                            </FieldControlStyled>
+                                            <FieldControlState
+                                              flexibleControlStateSize={true}
+                                            >
+                                              <Component
+                                                className="css-1x60lk6-FieldControlState e1rziqw00"
+                                                flexibleControlStateSize={true}
+                                              >
+                                                <Flex
+                                                  className="css-1x60lk6-FieldControlState e1rziqw00"
+                                                >
+                                                  <Base
+                                                    className="e1rziqw00 css-dgyrfj-FieldControlState"
+                                                  >
+                                                    <div
+                                                      className="e1rziqw00 css-dgyrfj-FieldControlState"
+                                                      is={null}
+                                                    />
+                                                  </Base>
+                                                </Flex>
+                                              </Component>
+                                            </FieldControlState>
+                                          </div>
+                                        </Base>
+                                      </Flex>
+                                    </Component>
+                                  </FieldControlWrapper>
+                                </div>
+                              </Base>
+                            </Box>
+                          </Component>
+                        </FieldControlErrorWrapper>
+                      </FieldControl>
+                    </div>
+                  </Base>
+                </Flex>
+              </Component>
+            </FieldWrapper>
+          </Field>
+        </div>
+        <div
+          className="modal-footer"
+        >
+          <Button
+            disabled={false}
+            onClick={[Function]}
+            style={
+              Object {
+                "marginRight": 10,
+              }
+            }
+          >
+            <StyledButton
+              aria-label="Cancel"
+              disabled={false}
+              onClick={[Function]}
+              role="button"
+              style={
+                Object {
+                  "marginRight": 10,
+                }
+              }
+            >
+              <Component
+                aria-label="Cancel"
+                className="css-cmo08-StyledButton-getColors e17811v30"
+                disabled={false}
+                onClick={[Function]}
+                role="button"
+                style={
+                  Object {
+                    "marginRight": 10,
+                  }
+                }
+              >
+                <button
+                  aria-label="Cancel"
+                  className="css-cmo08-StyledButton-getColors e17811v30"
+                  disabled={false}
+                  onClick={[Function]}
+                  role="button"
+                  style={
+                    Object {
+                      "marginRight": 10,
+                    }
+                  }
+                >
+                  <ButtonLabel>
+                    <Component
+                      className="css-1dxlw1i-ButtonLabel e17811v31"
+                    >
+                      <Flex
+                        align="center"
+                        className="css-1dxlw1i-ButtonLabel e17811v31"
+                      >
+                        <Base
+                          align="center"
+                          className="e17811v31 css-mvnt76-ButtonLabel"
+                        >
+                          <div
+                            className="e17811v31 css-mvnt76-ButtonLabel"
+                            is={null}
+                          >
+                            Cancel
+                          </div>
+                        </Base>
+                      </Flex>
+                    </Component>
+                  </ButtonLabel>
+                </button>
+              </Component>
+            </StyledButton>
+          </Button>
+          <Button
+            autoFocus={true}
+            data-test-id="confirm-modal"
+            disabled={true}
+            onClick={[Function]}
+            priority="primary"
+          >
+            <StyledButton
+              aria-label="Confirm"
+              autoFocus={true}
+              data-test-id="confirm-modal"
+              disabled={true}
+              href={null}
+              onClick={[Function]}
+              priority="primary"
+              role="button"
+              to={null}
+            >
+              <Component
+                aria-label="Confirm"
+                autoFocus={true}
+                className="css-fn4jle-StyledButton-getColors e17811v30"
+                data-test-id="confirm-modal"
+                disabled={true}
+                href={null}
+                onClick={[Function]}
+                priority="primary"
+                role="button"
+                to={null}
+              >
+                <button
+                  aria-label="Confirm"
+                  autoFocus={true}
+                  className="css-fn4jle-StyledButton-getColors e17811v30"
+                  data-test-id="confirm-modal"
+                  disabled={true}
+                  href={null}
+                  onClick={[Function]}
+                  priority="primary"
+                  role="button"
+                  to={null}
+                >
+                  <ButtonLabel>
+                    <Component
+                      className="css-1dxlw1i-ButtonLabel e17811v31"
+                    >
+                      <Flex
+                        align="center"
+                        className="css-1dxlw1i-ButtonLabel e17811v31"
+                      >
+                        <Base
+                          align="center"
+                          className="e17811v31 css-mvnt76-ButtonLabel"
+                        >
+                          <div
+                            className="e17811v31 css-mvnt76-ButtonLabel"
+                            is={null}
+                          >
+                            Confirm
+                          </div>
+                        </Base>
+                      </Flex>
+                    </Component>
+                  </ButtonLabel>
+                </button>
+              </Component>
+            </StyledButton>
+          </Button>
+        </div>
+      </div>
+    </div>
+  </div>
+</ModalDialog>
+`;
diff --git a/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
index c815cec494..b6e31aac9d 100644
--- a/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
@@ -245,6 +245,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
         <Confirm
           cancelText="Cancel"
           confirmText="Ignore"
+          disableConfirmButton={false}
           message="Yoooooo"
           onConfirm={[Function]}
           priority="primary"
@@ -456,6 +457,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Ignore"
+                                disableConfirmButton={false}
                                 message="Yoooooo"
                                 onConfirm={[Function]}
                                 priority="primary"
@@ -550,6 +552,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Ignore"
+                                disableConfirmButton={false}
                                 message="Yoooooo"
                                 onConfirm={[Function]}
                                 priority="primary"
@@ -644,6 +647,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Ignore"
+                                disableConfirmButton={false}
                                 message="Yoooooo"
                                 onConfirm={[Function]}
                                 priority="primary"
@@ -738,6 +742,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Ignore"
+                                disableConfirmButton={false}
                                 message="Yoooooo"
                                 onConfirm={[Function]}
                                 priority="primary"
@@ -832,6 +837,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Ignore"
+                                disableConfirmButton={false}
                                 message="Yoooooo"
                                 onConfirm={[Function]}
                                 priority="primary"
@@ -1035,6 +1041,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1123,6 +1130,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1211,6 +1219,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1299,6 +1308,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1431,6 +1441,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1519,6 +1530,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1607,6 +1619,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1695,6 +1708,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1827,6 +1841,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -1915,6 +1930,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2003,6 +2019,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2091,6 +2108,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2223,6 +2241,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2311,6 +2330,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2399,6 +2419,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2487,6 +2508,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2619,6 +2641,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2707,6 +2730,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2795,6 +2819,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -2883,6 +2908,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3085,6 +3111,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3173,6 +3200,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3261,6 +3289,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3349,6 +3378,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3481,6 +3511,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3569,6 +3600,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3657,6 +3689,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3745,6 +3778,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3877,6 +3911,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -3965,6 +4000,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4053,6 +4089,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4141,6 +4178,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4273,6 +4311,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4361,6 +4400,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4449,6 +4489,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4537,6 +4578,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4669,6 +4711,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4757,6 +4800,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4845,6 +4889,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -4933,6 +4978,7 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Ignore"
+                                          disableConfirmButton={false}
                                           message="Yoooooo"
                                           onConfirm={[Function]}
                                           priority="primary"
diff --git a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
index 2165057dd1..cbd96b0d0a 100644
--- a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
@@ -95,6 +95,7 @@ exports[`ResolveActions with confirmation step renders 1`] = `
         <Confirm
           cancelText="Cancel"
           confirmText="Resolve"
+          disableConfirmButton={false}
           message="Are you sure???"
           onConfirm={[Function]}
           priority="primary"
@@ -271,6 +272,7 @@ exports[`ResolveActions with confirmation step renders 1`] = `
                       <Confirm
                         cancelText="Cancel"
                         confirmText="Resolve"
+                        disableConfirmButton={false}
                         message="Are you sure???"
                         onConfirm={[Function]}
                         priority="primary"
@@ -353,6 +355,7 @@ exports[`ResolveActions with confirmation step renders 1`] = `
                       <Confirm
                         cancelText="Cancel"
                         confirmText="Resolve"
+                        disableConfirmButton={false}
                         message="Are you sure???"
                         onConfirm={[Function]}
                         priority="primary"
diff --git a/tests/js/spec/components/confirmDelete.spec.jsx b/tests/js/spec/components/confirmDelete.spec.jsx
new file mode 100644
index 0000000000..da97b641c1
--- /dev/null
+++ b/tests/js/spec/components/confirmDelete.spec.jsx
@@ -0,0 +1,73 @@
+import React from 'react';
+import {mount} from 'enzyme';
+import ConfirmDelete from 'app/components/confirmDelete';
+
+describe('ConfirmDelete', function() {
+  it('renders', function() {
+    let mock = jest.fn();
+    let wrapper = mount(
+      <ConfirmDelete message="Are you sure?" onConfirm={mock} confirmInput="CoolOrg">
+        <button>Confirm?</button>
+      </ConfirmDelete>,
+      TestStubs.routerContext()
+    );
+    wrapper.find('button').simulate('click');
+    // jest had an issue rendering root component snapshot so using ModalDialog instead
+    expect(wrapper.find('ModalDialog')).toMatchSnapshot();
+  });
+
+  it('confirm button is disabled and bypass prop is false when modal opens', function() {
+    let mock = jest.fn();
+    let wrapper = mount(
+      <ConfirmDelete message="Are you sure?" onConfirm={mock} confirmInput="CoolOrg">
+        <button>Confirm?</button>
+      </ConfirmDelete>,
+      TestStubs.routerContext()
+    );
+
+    wrapper.find('button').simulate('click');
+
+    expect(wrapper.find('Confirm').prop('bypass')).toBe(false);
+    expect(wrapper.state('disableConfirmButton')).toBe(true);
+  });
+
+  it('confirm button stays disabled with non-matching input', function() {
+    let mock = jest.fn();
+    let wrapper = mount(
+      <ConfirmDelete message="Are you sure?" onConfirm={mock} confirmInput="CoolOrg">
+        <button>Confirm?</button>
+      </ConfirmDelete>,
+      TestStubs.routerContext()
+    );
+    wrapper.find('button').simulate('click');
+    wrapper.find('input').simulate('change', {target: {value: 'Cool'}});
+    expect(wrapper.find('Confirm').prop('disableConfirmButton')).toBe(true);
+  });
+
+  it('confirm button is enabled when confirm input matches', function() {
+    let mock = jest.fn();
+    let wrapper = mount(
+      <ConfirmDelete message="Are you sure?" onConfirm={mock} confirmInput="CoolOrg">
+        <button>Confirm?</button>
+      </ConfirmDelete>,
+      TestStubs.routerContext()
+    );
+    wrapper.find('button').simulate('click');
+    wrapper.find('input').simulate('change', {target: {value: 'CoolOrg'}});
+    expect(wrapper.find('Confirm').prop('disableConfirmButton')).toBe(false);
+
+    wrapper
+      .find('Button')
+      .last()
+      .simulate('click');
+
+    expect(
+      wrapper
+        .find('Modal')
+        .first()
+        .prop('show')
+    ).toBe(false);
+    expect(mock).toHaveBeenCalled();
+    expect(mock.mock.calls).toHaveLength(1);
+  });
+});
diff --git a/tests/js/spec/views/__snapshots__/groupMergedView.spec.jsx.snap b/tests/js/spec/views/__snapshots__/groupMergedView.spec.jsx.snap
index 2053193e35..7ac2216050 100644
--- a/tests/js/spec/views/__snapshots__/groupMergedView.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/groupMergedView.spec.jsx.snap
@@ -320,6 +320,7 @@ exports[`Issues -> Merged View renders with mocked data 1`] = `
                           <Confirm
                             cancelText="Cancel"
                             confirmText="Confirm"
+                            disableConfirmButton={false}
                             disabled={true}
                             message="These events will be unmerged and grouped into a new issue. Are you sure you want to unmerge these events?"
                             onConfirm={[Function]}
@@ -1784,6 +1785,7 @@ exports[`Issues -> Merged View renders with mocked data 2`] = `
                           <Confirm
                             cancelText="Cancel"
                             confirmText="Confirm"
+                            disableConfirmButton={false}
                             disabled={true}
                             message="These events will be unmerged and grouped into a new issue. Are you sure you want to unmerge these events?"
                             onConfirm={[Function]}
diff --git a/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap b/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
index 68e8ae9122..f2731d2555 100644
--- a/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
@@ -400,6 +400,7 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Confirm"
+                                disableConfirmButton={false}
                                 disabled={true}
                                 message="Are you sure you want to merge these issues?"
                                 onConfirm={[Function]}
diff --git a/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
index 1bf4fd0099..c3aaa13e92 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertRules.spec.jsx.snap
@@ -521,6 +521,7 @@ exports[`projectAlertRules renders 1`] = `
                               <Confirm
                                 cancelText="Cancel"
                                 confirmText="Confirm"
+                                disableConfirmButton={false}
                                 disabled={false}
                                 message="Are you sure you want to remove this rule?"
                                 onConfirm={[Function]}
diff --git a/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
index baea0a7f88..20d5e703e4 100644
--- a/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
@@ -347,6 +347,7 @@ exports[`ProjectSavedSearches renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Confirm"
+                                          disableConfirmButton={false}
                                           message="Are you sure you want to remove this?"
                                           onConfirm={[Function]}
                                           priority="primary"
@@ -680,6 +681,7 @@ exports[`ProjectSavedSearches renders 1`] = `
                                         <Confirm
                                           cancelText="Cancel"
                                           confirmText="Confirm"
+                                          disableConfirmButton={false}
                                           message="Are you sure you want to remove this?"
                                           onConfirm={[Function]}
                                           priority="primary"
diff --git a/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
index 00955b3f78..943bb52b9d 100644
--- a/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
@@ -217,6 +217,7 @@ exports[`ProjectTags renders 1`] = `
                                 <Confirm
                                   cancelText="Cancel"
                                   confirmText="Confirm"
+                                  disableConfirmButton={false}
                                   disabled={false}
                                   message="Are you sure you want to remove this tag?"
                                   onConfirm={[Function]}
@@ -462,6 +463,7 @@ exports[`ProjectTags renders 1`] = `
                                 <Confirm
                                   cancelText="Cancel"
                                   confirmText="Confirm"
+                                  disableConfirmButton={false}
                                   disabled={false}
                                   message="Are you sure you want to remove this tag?"
                                   onConfirm={[Function]}
@@ -707,6 +709,7 @@ exports[`ProjectTags renders 1`] = `
                                 <Confirm
                                   cancelText="Cancel"
                                   confirmText="Confirm"
+                                  disableConfirmButton={false}
                                   disabled={false}
                                   message="Are you sure you want to remove this tag?"
                                   onConfirm={[Function]}
@@ -959,6 +962,7 @@ exports[`ProjectTags renders 1`] = `
                                     <Confirm
                                       cancelText="Cancel"
                                       confirmText="Confirm"
+                                      disableConfirmButton={false}
                                       disabled={true}
                                       message="Are you sure you want to remove this tag?"
                                       onConfirm={[Function]}
diff --git a/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
index 6fddc2d107..7c754e369a 100644
--- a/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
@@ -515,6 +515,7 @@ exports[`OrganizationApiKeysList renders 1`] = `
                             <Confirm
                               cancelText="Cancel"
                               confirmText="Confirm"
+                              disableConfirmButton={false}
                               message="Are you sure you want to remove this API key?"
                               onConfirm={[Function]}
                               priority="primary"
diff --git a/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
index 6ca05e624c..9240c29279 100644
--- a/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
@@ -99,6 +99,7 @@ exports[`OrganizationRepositories renders with a repository 1`] = `
             <Confirm
               cancelText="Cancel"
               confirmText="Confirm"
+              disableConfirmButton={false}
               disabled={false}
               message="Are you sure you want to remove this repository?"
               onConfirm={[Function]}
