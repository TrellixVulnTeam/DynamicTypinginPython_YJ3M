commit 76bf07763fc6191cbcdb8d75d4dd2384e18f581f
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Wed Mar 14 16:23:33 2018 -0700

    fix(api): Don't show all org teams in assignee endpoint for global roles

diff --git a/src/sentry/api/endpoints/organization_member_issues_assigned.py b/src/sentry/api/endpoints/organization_member_issues_assigned.py
index e537b4d491..6d48d88028 100644
--- a/src/sentry/api/endpoints/organization_member_issues_assigned.py
+++ b/src/sentry/api/endpoints/organization_member_issues_assigned.py
@@ -1,15 +1,21 @@
 from __future__ import absolute_import
 
 from sentry.api.bases import OrganizationIssuesEndpoint
-from sentry.models import Group
+from sentry.models import Group, OrganizationMemberTeam, Team
 from django.db.models import Q
 
 
 class OrganizationMemberIssuesAssignedEndpoint(OrganizationIssuesEndpoint):
     def get_queryset(self, request, organization, member, project_list):
+        teams = Team.objects.filter(
+            id__in=OrganizationMemberTeam.objects.filter(
+                organizationmember=member,
+                is_active=True,
+            ).values('team')
+        )
         return Group.objects.filter(
             Q(assignee_set__user=member.user, assignee_set__project__in=project_list) |
-            Q(assignee_set__team__in=member.get_teams())
+            Q(assignee_set__team__in=teams)
         ).extra(
             select={'sort_by': 'sentry_groupasignee.date_added'},
         ).order_by('-sort_by')
