commit 3ddd8ee5dbb030fa949d371b13e99fff096621d6
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Mar 11 19:36:00 2019 -0500

    feat(hooks): Add named hooks to events / discover Features (#12365)

diff --git a/src/sentry/static/sentry/app/components/sidebar/index.jsx b/src/sentry/static/sentry/app/components/sidebar/index.jsx
index e7fc413624..9026520b52 100644
--- a/src/sentry/static/sentry/app/components/sidebar/index.jsx
+++ b/src/sentry/static/sentry/app/components/sidebar/index.jsx
@@ -268,7 +268,11 @@ class Sidebar extends React.Component {
                   />
                 </Feature>
 
-                <Feature features={['events']} organization={organization}>
+                <Feature
+                  features={['events']}
+                  hookName="events-sidebar-item"
+                  organization={organization}
+                >
                   <SidebarItem
                     {...sidebarItemProps}
                     onClick={(_id, evt) =>
@@ -326,8 +330,8 @@ class Sidebar extends React.Component {
                 )}
               </SidebarSection>
 
-              <Feature features={['sentry10', 'discover']} organization={organization}>
-                <SidebarSection>
+              <SidebarSection>
+                <Feature features={['sentry10', 'discover']} organization={organization}>
                   <SidebarItem
                     {...sidebarItemProps}
                     index
@@ -337,6 +341,12 @@ class Sidebar extends React.Component {
                     to={`/organizations/${organization.slug}/dashboards/`}
                     id="customizable-dashboards"
                   />
+                </Feature>
+                <Feature
+                  features={['sentry10', 'discover']}
+                  hookName="discover-sidebar-item"
+                  organization={organization}
+                >
                   <SidebarItem
                     {...sidebarItemProps}
                     onClick={this.hidePanel}
@@ -345,8 +355,8 @@ class Sidebar extends React.Component {
                     to={`/organizations/${organization.slug}/discover/`}
                     id="discover"
                   />
-                </SidebarSection>
-              </Feature>
+                </Feature>
+              </SidebarSection>
 
               <Feature features={['monitors']} organization={organization}>
                 <SidebarItem
@@ -566,6 +576,10 @@ const SidebarSection = styled(SidebarSectionGroup)`
   @media (max-width: ${p => p.theme.breakpoints[0]}) {
     margin: 0 ${space(1)};
   }
+
+  &:empty {
+    display: none;
+  }
 `;
 
 const ExpandedIcon = css`
diff --git a/src/sentry/static/sentry/app/stores/hookStore.jsx b/src/sentry/static/sentry/app/stores/hookStore.jsx
index c85641be75..ff989b824e 100644
--- a/src/sentry/static/sentry/app/stores/hookStore.jsx
+++ b/src/sentry/static/sentry/app/stores/hookStore.jsx
@@ -49,6 +49,12 @@ const validHookNames = new Set([
   'feature-disabled:sso-basic',
   'feature-disabled:sso-rippling',
   'feature-disabled:sso-saml2',
+
+  // Explicit Feature hookNames
+  'feature-disabled:events-page',
+  'feature-disabled:events-sidebar-item',
+  'feature-disabled:discover-page',
+  'feature-disabled:discover-sidebar-item',
 ]);
 
 /**
diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/index.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/index.jsx
index b2c23aa0e5..f7981d1a8b 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/index.jsx
@@ -183,6 +183,7 @@ class OrganizationDiscoverContainer extends React.Component {
       <DocumentTitle title={`Discover - ${organization.slug} - Sentry`}>
         <Feature
           features={['organizations:discover']}
+          hookName="discover-page"
           organization={organization}
           renderDisabled={this.renderNoAccess}
         >
diff --git a/src/sentry/static/sentry/app/views/organizationEvents/index.jsx b/src/sentry/static/sentry/app/views/organizationEvents/index.jsx
index 5ad53d541f..9cfa9a925a 100644
--- a/src/sentry/static/sentry/app/views/organizationEvents/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationEvents/index.jsx
@@ -43,7 +43,7 @@ class OrganizationEventsContainer extends React.Component {
     const {organization, location, children} = this.props;
 
     return (
-      <Feature features={['events']} renderDisabled>
+      <Feature features={['events']} hookName="events-page" renderDisabled>
         <GlobalSelectionHeader
           organization={organization}
           resetParamsOnChange={['cursor']}
