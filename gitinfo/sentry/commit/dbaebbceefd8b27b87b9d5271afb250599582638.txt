commit dbaebbceefd8b27b87b9d5271afb250599582638
Author: Mark Story <mark@sentry.io>
Date:   Wed Dec 4 21:22:38 2019 -0500

    ref(ts) Convert AvatarList to typescript (#15874)
    
    * ref(ts) Convert AvatarList to typescript
    
    * Update snapshots.
    
    * Slim up typescript syntax.

diff --git a/src/sentry/static/sentry/app/components/avatar/avatarList.jsx b/src/sentry/static/sentry/app/components/avatar/avatarList.tsx
similarity index 78%
rename from src/sentry/static/sentry/app/components/avatar/avatarList.jsx
rename to src/sentry/static/sentry/app/components/avatar/avatarList.tsx
index 0f040446dc..9fab7eefce 100644
--- a/src/sentry/static/sentry/app/components/avatar/avatarList.jsx
+++ b/src/sentry/static/sentry/app/components/avatar/avatarList.tsx
@@ -2,11 +2,30 @@ import React from 'react';
 import PropTypes from 'prop-types';
 import styled, {css} from 'react-emotion';
 
+import {User} from 'app/types';
 import SentryTypes from 'app/sentryTypes';
 import Avatar from 'app/components/avatar';
+import UserAvatar from 'app/components/avatar/userAvatar';
 import Tooltip from 'app/components/tooltip';
 
-export default class AvatarList extends React.Component {
+const defaultProps = {
+  avatarSize: 28,
+  maxVisibleAvatars: 5,
+  typeMembers: 'users',
+  tooltipOptions: {},
+};
+
+type DefaultProps = Readonly<typeof defaultProps>;
+type Mutable<T> = {-readonly [P in keyof T]: T[P]};
+
+type Props = {
+  className?: string;
+  users: User[];
+  renderTooltip?: UserAvatar['props']['renderTooltip'];
+  tooltipOptions: Mutable<UserAvatar['props']['tooltipOptions']>;
+} & DefaultProps;
+
+export default class AvatarList extends React.Component<Props> {
   static propTypes = {
     users: PropTypes.arrayOf(SentryTypes.User).isRequired,
     avatarSize: PropTypes.number,
@@ -16,12 +35,7 @@ export default class AvatarList extends React.Component {
     typeMembers: PropTypes.string,
   };
 
-  static defaultProps = {
-    avatarSize: 28,
-    maxVisibleAvatars: 5,
-    typeMembers: 'users',
-    tooltipOptions: {},
-  };
+  static defaultProps = defaultProps;
 
   render() {
     const {
@@ -29,9 +43,9 @@ export default class AvatarList extends React.Component {
       users,
       avatarSize,
       maxVisibleAvatars,
-      tooltipOptions,
       renderTooltip,
       typeMembers,
+      tooltipOptions,
     } = this.props;
 
     const visibleUsers = users.slice(0, maxVisibleAvatars);
@@ -89,7 +103,7 @@ const StyledAvatar = styled(Avatar)`
   ${Circle};
 `;
 
-const CollapsedUsers = styled('div')`
+const CollapsedUsers = styled('div')<{size: number}>`
   display: flex;
   align-items: center;
   justify-content: center;
diff --git a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
index 2f87cdfd6a..3ac35cb6f6 100644
--- a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
+++ b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
@@ -101,7 +101,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
 >
   <AvatarListWrapper>
     <div
-      className="css-e1rf9n-AvatarListWrapper e1axh4r50"
+      className="css-e1rf9n-AvatarListWrapper e1mtf41h0"
     >
       <Tooltip
         containerDisplayMode="inline-block"
@@ -134,12 +134,12 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                     size={28}
                   >
                     <div
-                      className="css-17ychq3-CollapsedUsers-Circle e1axh4r52"
+                      className="css-17ychq3-CollapsedUsers-Circle e1mtf41h2"
                       size={28}
                     >
                       <Plus>
                         <span
-                          className="css-sduhlv-Plus e1axh4r53"
+                          className="css-sduhlv-Plus e1mtf41h3"
                         >
                           +
                         </span>
@@ -180,7 +180,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -206,7 +206,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -233,7 +233,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -280,7 +280,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -291,7 +291,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -379,7 +379,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -405,7 +405,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -432,7 +432,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -479,7 +479,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -490,7 +490,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -578,7 +578,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -604,7 +604,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -631,7 +631,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -678,7 +678,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -689,7 +689,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -777,7 +777,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -803,7 +803,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -830,7 +830,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -877,7 +877,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -888,7 +888,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -976,7 +976,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -1002,7 +1002,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -1029,7 +1029,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -1076,7 +1076,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -1087,7 +1087,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -1198,7 +1198,7 @@ exports[`AvatarList renders with user avatars 1`] = `
 >
   <AvatarListWrapper>
     <div
-      className="css-e1rf9n-AvatarListWrapper e1axh4r50"
+      className="css-e1rf9n-AvatarListWrapper e1mtf41h0"
     >
       <StyledAvatar
         hasTooltip={true}
@@ -1227,7 +1227,7 @@ exports[`AvatarList renders with user avatars 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -1253,7 +1253,7 @@ exports[`AvatarList renders with user avatars 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -1280,7 +1280,7 @@ exports[`AvatarList renders with user avatars 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -1327,7 +1327,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -1338,7 +1338,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
@@ -1426,7 +1426,7 @@ exports[`AvatarList renders with user avatars 1`] = `
         }
       >
         <Avatar
-          className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+          className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
           hasTooltip={true}
           size={28}
           tooltipOptions={
@@ -1452,7 +1452,7 @@ exports[`AvatarList renders with user avatars 1`] = `
           }
         >
           <UserAvatar
-            className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+            className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
             gravatar={false}
             hasTooltip={true}
             size={28}
@@ -1479,7 +1479,7 @@ exports[`AvatarList renders with user avatars 1`] = `
             }
           >
             <BaseAvatar
-              className="css-ptswrs-StyledAvatar-Circle e1axh4r51"
+              className="css-ptswrs-StyledAvatar-Circle e1mtf41h1"
               gravatarId="foo@example.com"
               hasTooltip={true}
               letterId="foo@example.com"
@@ -1526,7 +1526,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                           onMouseLeave={[Function]}
                         >
                           <StyledBaseAvatar
-                            className="avatar css-ptswrs-StyledAvatar-Circle e1axh4r51"
+                            className="avatar css-ptswrs-StyledAvatar-Circle e1mtf41h1"
                             loaded={true}
                             round={true}
                             style={
@@ -1537,7 +1537,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                             }
                           >
                             <span
-                              className="avatar e1axh4r51 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
+                              className="avatar e1mtf41h1 css-p25dkn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
                               style={
                                 Object {
                                   "height": "28px",
