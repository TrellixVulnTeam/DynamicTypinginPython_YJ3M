commit ea0bea998faf81d44850bd658975fb343f3155e8
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 28 00:31:48 2011 -0800

    Added sentry manage command

diff --git a/sentry/scripts/runner.py b/sentry/scripts/runner.py
index 08a1c6a349..340bbdf807 100644
--- a/sentry/scripts/runner.py
+++ b/sentry/scripts/runner.py
@@ -243,6 +243,12 @@ def cleanup(days=30, logger=None, site=None, server=None, level=None):
             obj.delete()
 
 
+def manage(argv):
+    from django.core.management import ManagementUtility
+    utility = ManagementUtility(argv)
+    utility.execute()
+
+
 def upgrade(interactive=True):
     call_command('syncdb', database='default', interactive=interactive)
 
@@ -251,7 +257,7 @@ def upgrade(interactive=True):
 
 
 def main():
-    command_list = ('start', 'stop', 'restart', 'cleanup', 'upgrade')
+    command_list = ('start', 'stop', 'restart', 'cleanup', 'upgrade', 'manage')
     args = sys.argv
     if len(args) < 2 or args[1] not in command_list:
         print "usage: sentry [command] [options]"
@@ -310,7 +316,8 @@ def main():
 
     if args[0] == 'upgrade':
         upgrade()
-
+    elif args[0] == 'manage':  # wrapper around manage.py
+        manage(args)
     elif args[0] == 'start':
         app = SentryServer(host=options.host, port=options.port,
                            pidfile=options.pidfile, logfile=options.logfile,
