commit 9e3f21dd9bef40f03d3ba4326b58aed5f036c325
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Mar 28 14:41:22 2018 -0700

    test(alert-rules): Add delete test (#7835)

diff --git a/tests/js/spec/views/projectAlertRules.spec.jsx b/tests/js/spec/views/projectAlertRules.spec.jsx
index 827b00a7a7..8f1aa28cac 100644
--- a/tests/js/spec/views/projectAlertRules.spec.jsx
+++ b/tests/js/spec/views/projectAlertRules.spec.jsx
@@ -4,11 +4,18 @@ import {mount} from 'enzyme';
 import ProjectAlertRules from 'app/views/projectAlertRules';
 
 describe('projectAlertRules', function() {
+  let deleteMock;
   beforeEach(function() {
     MockApiClient.addMockResponse({
       url: '/projects/org1/project1/rules/',
       body: [TestStubs.ProjectAlertRule()],
     });
+
+    deleteMock = MockApiClient.addMockResponse({
+      method: 'DELETE',
+      url: '/projects/org1/project1/rules/1/',
+      body: {},
+    });
   });
 
   afterEach(function() {
@@ -16,15 +23,22 @@ describe('projectAlertRules', function() {
   });
 
   it('renders', function() {
-    const routes = [];
-
     const wrapper = mount(
-      <ProjectAlertRules
-        routes={routes}
-        params={{orgId: 'org1', projectId: 'project1'}}
-      />,
+      <ProjectAlertRules routes={[]} params={{orgId: 'org1', projectId: 'project1'}} />,
       TestStubs.routerContext()
     );
     expect(wrapper).toMatchSnapshot();
   });
+
+  it('deletes', function() {
+    const wrapper = mount(
+      <ProjectAlertRules routes={[]} params={{orgId: 'org1', projectId: 'project1'}} />,
+      TestStubs.routerContext()
+    );
+
+    wrapper.find('Confirm').simulate('click');
+    wrapper.update();
+    wrapper.find('Modal Button[priority="primary"]').simulate('click');
+    expect(deleteMock).toHaveBeenCalled();
+  });
 });
