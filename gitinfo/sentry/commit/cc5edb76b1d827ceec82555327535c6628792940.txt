commit cc5edb76b1d827ceec82555327535c6628792940
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jan 12 13:43:55 2011 -0800

    404 middleware should now correctly grab all 404s

diff --git a/sentry/client/middleware.py b/sentry/client/middleware.py
index 0e24f60534..ed18a7400b 100644
--- a/sentry/client/middleware.py
+++ b/sentry/client/middleware.py
@@ -1,12 +1,7 @@
-from django.http import Http404
-
 from sentry.client.models import sentry_exception_handler
 
-# XXX: this isnt working
-
 class Sentry404CatchMiddleware(object):
-    def process_exception(self, request, exception):
-        if not isinstance(exception, Http404):
+    def process_response(self, request, response):
+        if response.status_code != 404:
             return
         sentry_exception_handler(sender=Sentry404CatchMiddleware, request=request)
-    
\ No newline at end of file
