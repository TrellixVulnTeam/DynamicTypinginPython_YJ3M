commit 2a6e6986229d5c7be4d4ced86c031f0a90a1f761
Author: Alex Hofsteede <alex@hofsteede.com>
Date:   Tue Nov 27 15:40:44 2018 -0800

    fix: Make sure event_id is lower case hexadecimal (#10639)

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index c3b8a9611e..d73617a939 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -440,6 +440,7 @@ class EventManager(object):
 
         casts = {
             'environment': lambda v: text(v) if v is not None else v,
+            'event_id': lambda v: v.lower(),
             'fingerprint': lambda v: list(x for x in map(stringify, v) if x is not None) if isinstance(v, list) and all(isinstance(f, fp_types) for f in v) else v,
             'release': lambda v: text(v) if v is not None else v,
             'dist': lambda v: text(v).strip() if v is not None else v,
diff --git a/tests/sentry/event_manager/test_normalization.py b/tests/sentry/event_manager/test_normalization.py
index 71e21030aa..b547a50c39 100644
--- a/tests/sentry/event_manager/test_normalization.py
+++ b/tests/sentry/event_manager/test_normalization.py
@@ -271,3 +271,17 @@ def test_event_pii():
     manager.normalize()
     data = manager.get_data()
     assert data['_meta']['message'] == {'': {'err': ['invalid']}}
+
+
+def test_event_id_lowercase():
+    manager = EventManager(make_event(event_id='1234ABCD' * 4))
+    manager.normalize()
+    data = manager.get_data()
+
+    assert data['event_id'] == '1234abcd' * 4
+
+    manager = EventManager(make_event(event_id=u'1234ABCD' * 4))
+    manager.normalize()
+    data = manager.get_data()
+
+    assert data['event_id'] == '1234abcd' * 4
