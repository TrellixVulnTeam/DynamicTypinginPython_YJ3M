commit 0556f654414b75f569ebe8d1c9c8a71dd471d935
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 29 15:03:09 2015 -0700

    Standardize auth layouts

diff --git a/src/sentry/templates/sentry/auth-confirm-identity.html b/src/sentry/templates/sentry/auth-confirm-identity.html
index 0cde2bcd72..cd0739cf21 100644
--- a/src/sentry/templates/sentry/auth-confirm-identity.html
+++ b/src/sentry/templates/sentry/auth-confirm-identity.html
@@ -1,30 +1,21 @@
-{% extends "sentry/bases/modal.html" %}
+{% extends "sentry/bases/auth.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block wrapperclass %}narrow auth org-login hide-sidebar{% endblock %}
-
 {% block title %}{% trans "Confirm Identity" %} | {{ block.super }}{% endblock %}
 
-{% block account_nav %}{% endblock%}
-
-{% block main %}
-  <section class="body org-login">
-    <form class="form-stacked" action="" method="post">
-      {% csrf_token %}
+{% block auth_main %}
+  <form class="form-stacked" action="" method="post">
+    {% csrf_token %}
 
-      <img src="{% gravatar_url identity.email size 36 %}" class="merge-avatar avatar">
+    <img src="{% gravatar_url identity.email size 36 %}" class="merge-avatar avatar">
 
-      <div class="align-center">
-        <p>We've identified you as {{ identity.email }}. If everything sounds good, we'll go ahead and create a new account for you with this email address.</p>
-
-        <p><button class="btn btn-primary" type="submit" name="op" value="newuser">Continue</button></p>
-      </div>
-    </form>
-  </section>
-{% endblock %}
+    <div class="align-center">
+      <p>We've identified you as {{ identity.email }}. If everything sounds good, we'll go ahead and create a new account for you with this email address.</p>
 
-{% block footer %}
+      <p><button class="btn btn-primary" type="submit" name="op" value="newuser">Continue</button></p>
+    </div>
+  </form>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/auth-confirm-link.html b/src/sentry/templates/sentry/auth-confirm-link.html
index 9a60d6d008..902a4d9a36 100644
--- a/src/sentry/templates/sentry/auth-confirm-link.html
+++ b/src/sentry/templates/sentry/auth-confirm-link.html
@@ -1,34 +1,25 @@
-{% extends "sentry/bases/modal.html" %}
+{% extends "sentry/bases/auth.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block wrapperclass %}narrow auth org-login hide-sidebar{% endblock %}
-
 {% block title %}{% trans "Confirm Identity" %} | {{ block.super }}{% endblock %}
 
-{% block account_nav %}{% endblock%}
-
-{% block main %}
-  <section class="body org-login">
-    <form class="form-stacked" action="" method="post">
-      {% csrf_token %}
+{% block auth_main %}
+  <form class="form-stacked" action="" method="post">
+    {% csrf_token %}
 
-      <img src="{% gravatar_url user.email size 36 %}" class="merge-avatar avatar">
-      <span class="icon-arrow-right"></span>
-      <span class="icon-arrow-left"></span>
-      <img src="{% gravatar_url identity.email size 36 %}" class="merge-avatar avatar">
+    <img src="{% gravatar_url user.email size 36 %}" class="merge-avatar avatar">
+    <span class="icon-arrow-right"></span>
+    <span class="icon-arrow-left"></span>
+    <img src="{% gravatar_url identity.email size 36 %}" class="merge-avatar avatar">
 
-      <p>You're already logged in with an existing account. Would you like to add this identity? If not, we'll go ahead and create a new account for you.</p>
-
-      <p class="align-center">
-        <button class="btn btn-default" name="op" value="newuser" type="submit">No thanks</button>
-        <button class="btn btn-primary" name="op" value="confirm" type="submit">Merge accounts</button>
-      </p>
-    </form>
-  </section>
-{% endblock %}
+    <p>You're already logged in with an existing account. Would you like to add this identity? If not, we'll go ahead and create a new account for you.</p>
 
-{% block footer %}
+    <p class="align-center">
+      <button class="btn btn-default" name="op" value="newuser" type="submit">No thanks</button>
+      <button class="btn btn-primary" name="op" value="confirm" type="submit">Merge accounts</button>
+    </p>
+  </form>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/auth-link-identity.html b/src/sentry/templates/sentry/auth-link-identity.html
index 28b855e580..1fc28316f1 100644
--- a/src/sentry/templates/sentry/auth-link-identity.html
+++ b/src/sentry/templates/sentry/auth-link-identity.html
@@ -1,35 +1,28 @@
-{% extends "sentry/bases/modal.html" %}
+{% extends "sentry/bases/auth.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
 
-{% block wrapperclass %}narrow auth org-login hide-sidebar{% endblock %}
-
 {% block title %}{% trans "Link Identity" %} | {{ block.super }}{% endblock %}
 
-{% block main %}
-  <section class="body org-login">
-    <form class="form-stacked" action="" method="post">
-      {% csrf_token %}
-
-      <div class="align-center">
-        <img src="{% url 'sentry-media' "sentry" "images/default-organization-logo.png" %}" class="org-avatar">
+{% block auth_main %}
+  <form class="form-stacked" action="" method="post">
+    {% csrf_token %}
 
-        <h3>{{ organization.name }}</h3>
-      </div>
+    <div class="align-center">
+      <img src="{% url 'sentry-media' "sentry" "images/default-organization-logo.png" %}" class="org-avatar">
 
-      <div class="align-center">
-        <p>Link your Sentry account with your {{ provider_name }} account to continue.</p>
+      <h3>{{ organization.name }}</h3>
+    </div>
 
-        <p>
-          <button type="submit" class="btn btn-default btn-login-{{ provider_key }}">
-            <span class="provider-logo {{ provider_name | lower}}"></span> Login with {{ provider_name }}
-          </button>
-        </p>
-      </div>
-    </form>
-  </section>
-{% endblock %}
+    <div class="align-center">
+      <p>Link your Sentry account with your {{ provider_name }} account to continue.</p>
 
-{% block footer %}
+      <p>
+        <button type="submit" class="btn btn-default btn-login-{{ provider_key }}">
+          <span class="provider-logo {{ provider_name | lower}}"></span> Login with {{ provider_name }}
+        </button>
+      </p>
+    </div>
+  </form>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/bases/auth.html b/src/sentry/templates/sentry/bases/auth.html
new file mode 100644
index 0000000000..b8df5d8f7c
--- /dev/null
+++ b/src/sentry/templates/sentry/bases/auth.html
@@ -0,0 +1,15 @@
+{% extends "sentry/bases/modal.html" %}
+
+{% load crispy_forms_tags %}
+{% load i18n %}
+
+{% block wrapperclass %}narrow auth org-login hide-sidebar{% endblock %}
+
+{% block main %}
+  <section class="body org-login">
+    {% block auth_main %}{% endblock %}
+  </section>
+{% endblock %}
+
+{% block footer %}
+{% endblock %}
diff --git a/src/sentry/templates/sentry/organization-login.html b/src/sentry/templates/sentry/organization-login.html
index 8f574deb71..d11430122a 100644
--- a/src/sentry/templates/sentry/organization-login.html
+++ b/src/sentry/templates/sentry/organization-login.html
@@ -1,83 +1,76 @@
-{% extends "sentry/bases/modal.html" %}
+{% extends "sentry/bases/auth.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
 
-{% block wrapperclass %}narrow auth org-login hide-sidebar{% endblock %}
-
 {% block title %}{% trans "Login" %} | {{ block.super }}{% endblock %}
 
 {% block content %}
-  <section class="body org-login">
-    <form class="form-stacked" action="" method="post" autocomplete="off">
-      {% csrf_token %}
+  <form class="form-stacked" action="" method="post" autocomplete="off">
+    {% csrf_token %}
+
+    <div class="align-center">
+      <img src="{% url 'sentry-media' "sentry" "images/default-organization-logo.png" %}" class="org-avatar">
 
+      <h3>{{ organization.name }}</h3>
+    </div>
+
+    {% if provider_name %}
       <div class="align-center">
-        <img src="{% url 'sentry-media' "sentry" "images/default-organization-logo.png" %}" class="org-avatar">
+        <p>Sign in with your {{ provider_name }} account to continue.</p>
 
-        <h3>{{ organization.name }}</h3>
+        <button type="submit" class="btn btn-default btn-login-{{ provider_key }}">
+          <span class="provider-logo {{ provider_name | lower}}"></span> Login with {{ provider_name }}
+        </button>
       </div>
+    {% else %}
+      <ul class="nav nav-tabs auth-toggle">
+        <li{% if op == "login" %} class="active"{% endif %}>
+          <a href="#login" data-toggle="tab">{% trans "Login" %}</a>
+        </li>
+        {% if CAN_REGISTER %}
+          <li{% if op == "register" %} class="active"{% endif %}>
+            <a href="#register" data-toggle="tab">{% trans "Register" %}</a>
+          </li>
+        {% endif %}
+      </ul>
 
-      {% if provider_name %}
-        <div class="align-center">
-          <p>Sign in with your {{ provider_name }} account to continue.</p>
+      <div class="tab-content basic-login">
+        <div class="tab-pane{% if op == "login" %} active{% endif %}" id="login">
+          <form class="form-stacked" action="" method="post" autocomplete="off">
+            {% csrf_token %}
 
-          <button type="submit" class="btn btn-default btn-login-{{ provider_key }}">
-            <span class="provider-logo {{ provider_name | lower}}"></span> Login with {{ provider_name }}
-          </button>
-        </div>
-      {% else %}
-        <ul class="nav nav-tabs auth-toggle">
-          <li{% if op == "login" %} class="active"{% endif %}>
-            <a href="#login" data-toggle="tab">{% trans "Login" %}</a>
-          </li>
-          {% if CAN_REGISTER %}
-            <li{% if op == "register" %} class="active"{% endif %}>
-              <a href="#register" data-toggle="tab">{% trans "Register" %}</a>
-            </li>
-          {% endif %}
-        </ul>
-
-        <div class="tab-content basic-login">
-          <div class="tab-pane{% if op == "login" %} active{% endif %}" id="login">
-            <form class="form-stacked" action="" method="post" autocomplete="off">
-              {% csrf_token %}
-
-              <input type="hidden" name="op" value="login" />
-
-              {{ login_form|as_crispy_errors }}
-
-              {% for field in login_form %}
-                {{ field|as_crispy_field }}
-              {% endfor %}
-
-              <fieldset class="form-actions">
-                <button type="submit" class="btn btn-primary">{% trans "Login" %}</button> <a class="pull-right" style="margin-top: 9px" href="{% url 'sentry-account-recover' %}">{% trans "Lost your password?" %}</a>
-              </fieldset>
-            </form>
-          </div>
-          <div class="tab-pane{% if op == "register" %} active{% endif %}" id="register">
-            <form class="form-stacked" action="" method="post" autocomplete="off">
-              {% csrf_token %}
-
-              <input type="hidden" name="op" value="register" />
-
-              {{ register_form|as_crispy_errors }}
-
-              {% for field in register_form %}
-                {{ field|as_crispy_field }}
-              {% endfor %}
-
-              <fieldset class="form-actions">
-                <button type="submit" class="btn btn-primary">{% trans "Register" %}</button>
-              </fieldset>
-            </form>
-          </div>
+            <input type="hidden" name="op" value="login" />
+
+            {{ login_form|as_crispy_errors }}
+
+            {% for field in login_form %}
+              {{ field|as_crispy_field }}
+            {% endfor %}
+
+            <fieldset class="form-actions">
+              <button type="submit" class="btn btn-primary">{% trans "Login" %}</button> <a class="pull-right" style="margin-top: 9px" href="{% url 'sentry-account-recover' %}">{% trans "Lost your password?" %}</a>
+            </fieldset>
+          </form>
         </div>
-      {% endif %}
-    </form>
-  </section>
-{% endblock %}
+        <div class="tab-pane{% if op == "register" %} active{% endif %}" id="register">
+          <form class="form-stacked" action="" method="post" autocomplete="off">
+            {% csrf_token %}
+
+            <input type="hidden" name="op" value="register" />
+
+            {{ register_form|as_crispy_errors }}
 
-{% block footer %}
+            {% for field in register_form %}
+              {{ field|as_crispy_field }}
+            {% endfor %}
+
+            <fieldset class="form-actions">
+              <button type="submit" class="btn btn-primary">{% trans "Register" %}</button>
+            </fieldset>
+          </form>
+        </div>
+      </div>
+    {% endif %}
+  </form>
 {% endblock %}
