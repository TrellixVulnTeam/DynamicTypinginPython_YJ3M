commit dacf892b4fa68a9764d06823ef8ac2b6a3605bd4
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 15 21:32:56 2014 -0800

    Fix various tests

diff --git a/src/sentry/api/endpoints/team_groups_new.py b/src/sentry/api/endpoints/team_groups_new.py
index 710e2601d3..131120d7b7 100644
--- a/src/sentry/api/endpoints/team_groups_new.py
+++ b/src/sentry/api/endpoints/team_groups_new.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from datetime import timedelta
 from django.utils import timezone
 from rest_framework.response import Response
@@ -27,7 +29,7 @@ class TeamGroupsNewEndpoint(Endpoint):
         minutes = int(request.REQUEST.get('minutes', 15))
         limit = min(100, int(request.REQUEST.get('limit', 10)))
 
-        project_list = Project.objects.get_for_user(request.user, team=team)
+        project_list = Project.objects.get_for_user(user=request.user, team=team)
 
         project_dict = dict((p.id, p) for p in project_list)
 
diff --git a/src/sentry/api/endpoints/team_groups_trending.py b/src/sentry/api/endpoints/team_groups_trending.py
index 5c749004f6..8d08a101d2 100644
--- a/src/sentry/api/endpoints/team_groups_trending.py
+++ b/src/sentry/api/endpoints/team_groups_trending.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from datetime import timedelta
 from django.utils import timezone
 from rest_framework.response import Response
@@ -27,7 +29,7 @@ class TeamGroupsTrendingEndpoint(Endpoint):
         minutes = int(request.REQUEST.get('minutes', 15))
         limit = min(100, int(request.REQUEST.get('limit', 10)))
 
-        project_list = Project.objects.get_for_user(request.user, team=team)
+        project_list = Project.objects.get_for_user(user=request.user, team=team)
 
         project_dict = dict((p.id, p) for p in project_list)
 
diff --git a/src/sentry/api/help_urls.py b/src/sentry/api/help_urls.py
index de4ac49077..78652227c0 100644
--- a/src/sentry/api/help_urls.py
+++ b/src/sentry/api/help_urls.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.conf.urls import patterns, url
 
 from .views.help_index import ApiHelpIndexView
diff --git a/src/sentry/api/views/__init__.py b/src/sentry/api/views/__init__.py
index e69de29bb2..c3961685ab 100644
--- a/src/sentry/api/views/__init__.py
+++ b/src/sentry/api/views/__init__.py
@@ -0,0 +1 @@
+from __future__ import absolute_import
diff --git a/src/sentry/api/views/help_base.py b/src/sentry/api/views/help_base.py
index e69de29bb2..c3961685ab 100644
--- a/src/sentry/api/views/help_base.py
+++ b/src/sentry/api/views/help_base.py
@@ -0,0 +1 @@
+from __future__ import absolute_import
diff --git a/src/sentry/api/views/help_index.py b/src/sentry/api/views/help_index.py
index 8903105afb..6fb4a0f7fd 100644
--- a/src/sentry/api/views/help_index.py
+++ b/src/sentry/api/views/help_index.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.contrib.admindocs.views import simplify_regex
 from django.utils.importlib import import_module
 from django.views.generic import View
diff --git a/src/sentry/api/views/help_section.py b/src/sentry/api/views/help_section.py
index ec460091cd..4698dd17f7 100644
--- a/src/sentry/api/views/help_section.py
+++ b/src/sentry/api/views/help_section.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.contrib.admindocs.views import simplify_regex
 from django.http import Http404
 from django.utils.importlib import import_module
diff --git a/src/sentry/models/helppage.py b/src/sentry/models/helppage.py
index df48767577..b3770a93f2 100644
--- a/src/sentry/models/helppage.py
+++ b/src/sentry/models/helppage.py
@@ -5,6 +5,8 @@ sentry.models.helppage
 :copyright: (c) 2010-2014 by the Sentry Team, see AUTHORS for more details.
 :license: BSD, see LICENSE for more details.
 """
+from __future__ import absolute_import
+
 from django.db import models
 from django.utils import timezone
 from django.utils.text import slugify
diff --git a/src/sentry/web/frontend/help_platform_details.py b/src/sentry/web/frontend/help_platform_details.py
index f721cba64f..2f597625d6 100644
--- a/src/sentry/web/frontend/help_platform_details.py
+++ b/src/sentry/web/frontend/help_platform_details.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.http import Http404
 from django.views.generic import View
 
diff --git a/tests/sentry/api/endpoints/test_team_access_group_index.py b/tests/sentry/api/endpoints/test_team_access_group_index.py
index dcb9b26a51..0527527ce5 100644
--- a/tests/sentry/api/endpoints/test_team_access_group_index.py
+++ b/tests/sentry/api/endpoints/test_team_access_group_index.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.core.urlresolvers import reverse
 from sentry.constants import MEMBER_USER
 from sentry.models import AccessGroup
diff --git a/tests/sentry/api/endpoints/test_team_groups_new.py b/tests/sentry/api/endpoints/test_team_groups_new.py
index e0819ce88a..fa6f3c6d45 100644
--- a/tests/sentry/api/endpoints/test_team_groups_new.py
+++ b/tests/sentry/api/endpoints/test_team_groups_new.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.core.urlresolvers import reverse
 from sentry.testutils import APITestCase
 
diff --git a/tests/sentry/api/endpoints/test_team_groups_trending.py b/tests/sentry/api/endpoints/test_team_groups_trending.py
index b675f227a7..0f000866d3 100644
--- a/tests/sentry/api/endpoints/test_team_groups_trending.py
+++ b/tests/sentry/api/endpoints/test_team_groups_trending.py
@@ -1,3 +1,5 @@
+from __future__ import absolute_import
+
 from django.core.urlresolvers import reverse
 from sentry.testutils import APITestCase
 
diff --git a/tests/sentry/web/frontend/test_help_page.py b/tests/sentry/web/frontend/test_help_page.py
index 392426ce3f..35e483bf43 100644
--- a/tests/sentry/web/frontend/test_help_page.py
+++ b/tests/sentry/web/frontend/test_help_page.py
@@ -31,7 +31,7 @@ class HelpPageTest(TestCase):
 
         assert resp.status_code == 404
 
-        self.login()
+        self.login_as(self.user)
 
         resp = self.client.get(path)
 
