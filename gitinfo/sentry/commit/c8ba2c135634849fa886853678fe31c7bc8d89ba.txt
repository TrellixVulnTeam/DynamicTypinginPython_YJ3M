commit c8ba2c135634849fa886853678fe31c7bc8d89ba
Author: Jan Michael Auer <account@jauer.org>
Date:   Tue Apr 17 10:39:06 2018 +0200

    ref(settings): Deprecate secret DSN (#8062)

diff --git a/src/sentry/static/sentry/app/views/settings/project/projectKeys/projectKeyCredentials.jsx b/src/sentry/static/sentry/app/views/settings/project/projectKeys/projectKeyCredentials.jsx
index f4695b46b9..655c7c7f52 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectKeys/projectKeyCredentials.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectKeys/projectKeyCredentials.jsx
@@ -2,7 +2,6 @@ import PropTypes from 'prop-types';
 import React from 'react';
 
 import {t, tct} from '../../../../locale';
-import ExternalLink from '../../../../components/externalLink';
 import Field from '../../components/forms/field';
 import TextCopyInput from '../../components/forms/textCopyInput';
 import SentryTypes from '../../../../proptypes';
@@ -47,36 +46,8 @@ class ProjectKeyCredentials extends React.Component {
 
     return (
       <React.Fragment>
-        {showDsn && (
-          <Field label={t('DSN')} inline={false} flexibleControlStateSize>
-            <TextCopyInput>
-              {getDynamicText({
-                value: data.dsn.secret,
-                fixed: data.dsn.secret.replace(
-                  new RegExp(`\/${projectId}$`),
-                  '/<<projectId>>'
-                ),
-              })}
-            </TextCopyInput>
-          </Field>
-        )}
-
         {showDsnPublic && (
-          <Field
-            label={t('DSN (Public)')}
-            help={tct(
-              'Use your public DSN with browser-based SDKs such as [link:raven-js].',
-              {
-                link: (
-                  <ExternalLink href="https://github.com/getsentry/raven-js">
-                    raven-js
-                  </ExternalLink>
-                ),
-              }
-            )}
-            inline={false}
-            flexibleControlStateSize
-          >
+          <Field label={t('DSN')} inline={false} flexibleControlStateSize>
             <TextCopyInput>
               {getDynamicText({
                 value: data.dsn.public,
@@ -138,6 +109,25 @@ class ProjectKeyCredentials extends React.Component {
           </Field>
         )}
 
+        {showDsn && (
+          <Field
+            label={t('DSN (Legacy)')}
+            help={t('Use this DSN with server-side SDKs in older versions of Sentry.')}
+            inline={false}
+            flexibleControlStateSize
+          >
+            <TextCopyInput>
+              {getDynamicText({
+                value: data.dsn.secret,
+                fixed: data.dsn.secret.replace(
+                  new RegExp(`\/${projectId}$`),
+                  '/<<projectId>>'
+                ),
+              })}
+            </TextCopyInput>
+          </Field>
+        )}
+
         {showPublicKey && (
           <Field label={t('Public Key')} inline={true} flexibleControlStateSize>
             <TextCopyInput>
