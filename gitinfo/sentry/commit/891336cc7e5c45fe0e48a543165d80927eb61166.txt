commit 891336cc7e5c45fe0e48a543165d80927eb61166
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Sep 12 15:04:39 2017 -0700

    fix(workflow): fix browser back for diff modal (#6079)

diff --git a/src/sentry/static/sentry/app/components/issueDiff.jsx b/src/sentry/static/sentry/app/components/issueDiff.jsx
index 67d8657323..e230c768d5 100644
--- a/src/sentry/static/sentry/app/components/issueDiff.jsx
+++ b/src/sentry/static/sentry/app/components/issueDiff.jsx
@@ -38,6 +38,8 @@ const IssueDiff = React.createClass({
 
   componentDidMount() {
     let {baseIssueId, targetIssueId, baseEventId, targetEventId} = this.props;
+
+    // Fetch component and event data
     Promise.all([
       import('./splitDiff'),
       this.fetchData(baseIssueId, baseEventId),
diff --git a/src/sentry/static/sentry/app/components/modals/diffModal.jsx b/src/sentry/static/sentry/app/components/modals/diffModal.jsx
index ac939b0072..a36d198a44 100644
--- a/src/sentry/static/sentry/app/components/modals/diffModal.jsx
+++ b/src/sentry/static/sentry/app/components/modals/diffModal.jsx
@@ -1,4 +1,5 @@
 import React from 'react';
+import {browserHistory} from 'react-router';
 import Reflux from 'reflux';
 import Modal from 'react-bootstrap/lib/Modal';
 import classNames from 'classnames';
@@ -11,6 +12,21 @@ import '../../../less/components/modals/diffModal.less';
 const DiffModal = React.createClass({
   mixins: [Reflux.connect(ProjectModalStore, 'diffModal')],
 
+  componentDidMount() {
+    // Listen for route changes so we can dismiss modal
+    this.unlisten = browserHistory.listen(() =>
+      this.setState({
+        diffModal: false
+      })
+    );
+  },
+
+  componentWillUnmount() {
+    if (this.unlisten) {
+      this.unlisten();
+    }
+  },
+
   render() {
     let {className} = this.props;
     let cx = classNames('diff-modal', className);
