commit 3c1be799b4ed79853c3ff5c92e603c4693729c9b
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Apr 20 12:27:03 2012 -0700

    Ensure we safely handle search contexts for unauthenticated user interfaces

diff --git a/sentry/interfaces.py b/sentry/interfaces.py
index d91a72cf3c..7e75f21f65 100644
--- a/sentry/interfaces.py
+++ b/sentry/interfaces.py
@@ -502,6 +502,8 @@ class User(Interface):
         })
 
     def get_search_context(self, event):
+        if not self.is_authenticated:
+            return {}
         return {
             'text': [self.id, self.username, self.email]
         }
