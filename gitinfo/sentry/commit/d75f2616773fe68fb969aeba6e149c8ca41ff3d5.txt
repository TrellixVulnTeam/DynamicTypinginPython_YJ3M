commit d75f2616773fe68fb969aeba6e149c8ca41ff3d5
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed Apr 19 23:59:08 2017 +0200

    Fixed legacy endpoint distribution -> dist rename

diff --git a/src/sentry/api/endpoints/project_release_file_details.py b/src/sentry/api/endpoints/project_release_file_details.py
index b7d41d865c..24eb4c7906 100644
--- a/src/sentry/api/endpoints/project_release_file_details.py
+++ b/src/sentry/api/endpoints/project_release_file_details.py
@@ -104,7 +104,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
                                      file of.
         :pparam string version: the version identifier of the release.
         :pparam string file_id: the ID of the file to retrieve.
-        :qparam string distribution: the name of the distribution.
+        :qparam string dist: the name of the dist.
         :auth: required
         """
         try:
@@ -116,7 +116,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
         except Release.DoesNotExist:
             raise ResourceDoesNotExist
 
-        dist_name = request.GET.get('distribution')
+        dist_name = request.GET.get('dist')
         dist = None
         if dist_name:
             try:
@@ -131,7 +131,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
             releasefile = ReleaseFile.objects.get(
                 release=release,
                 id=file_id,
-                distribution=dist,
+                dist=dist,
             )
         except ReleaseFile.DoesNotExist:
             raise ResourceDoesNotExist
@@ -160,7 +160,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
         :pparam string version: the version identifier of the release.
         :pparam string file_id: the ID of the file to update.
         :param string name: the new name of the file.
-        :param string distribution: the name of the distribution.
+        :param string dist: the name of the dist.
         :auth: required
         """
         try:
@@ -172,7 +172,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
         except Release.DoesNotExist:
             raise ResourceDoesNotExist
 
-        dist_name = request.DATA.get('distribution')
+        dist_name = request.DATA.get('dist')
         dist = None
         if dist_name:
             dist = Distribution.get_or_create(release, dist_name)
@@ -181,7 +181,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
             releasefile = ReleaseFile.objects.get(
                 release=release,
                 id=file_id,
-                distribution=dist,
+                dist=dist,
             )
         except ReleaseFile.DoesNotExist:
             raise ResourceDoesNotExist
@@ -215,7 +215,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
                                      file of.
         :pparam string version: the version identifier of the release.
         :pparam string file_id: the ID of the file to delete.
-        :qparam string distribution: the name of the distribution.
+        :qparam string dist: the name of the dist.
         :auth: required
         """
         try:
@@ -227,7 +227,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
         except Release.DoesNotExist:
             raise ResourceDoesNotExist
 
-        dist_name = request.GET.get('distribution')
+        dist_name = request.GET.get('dist')
         dist = None
         if dist_name:
             try:
@@ -242,7 +242,7 @@ class ProjectReleaseFileDetailsEndpoint(ProjectEndpoint):
             releasefile = ReleaseFile.objects.get(
                 release=release,
                 id=file_id,
-                distribution=dist,
+                dist=dist,
             )
         except ReleaseFile.DoesNotExist:
             raise ResourceDoesNotExist
