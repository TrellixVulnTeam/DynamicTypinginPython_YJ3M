commit e4107d484afcfc7d0d7c96212dc2a8e1a5024a9d
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Dec 19 13:40:15 2014 -0800

    clean and dist must be split tasks

diff --git a/setup.py b/setup.py
index 78cd7acc02..130c5c3295 100755
--- a/setup.py
+++ b/setup.py
@@ -140,8 +140,11 @@ class BuildStatic(Command):
         log.info("running [npm install --quiet]")
         check_output(['npm', 'install', '--quiet'], cwd=ROOT)
 
-        log.info("running [gulp clean dist]")
-        check_output([os.path.join(ROOT, 'node_modules', '.bin', 'gulp'), 'clean', 'dist'], cwd=ROOT)
+        log.info("running [gulp clean]")
+        check_output([os.path.join(ROOT, 'node_modules', '.bin', 'gulp'), 'clean'], cwd=ROOT)
+
+        log.info("running [gulp dist]")
+        check_output([os.path.join(ROOT, 'node_modules', '.bin', 'gulp'), 'dist'], cwd=ROOT)
 
 
 setup(
diff --git a/src/sentry/management/commands/runserver.py b/src/sentry/management/commands/runserver.py
index 740130f78b..5e4df2be7a 100644
--- a/src/sentry/management/commands/runserver.py
+++ b/src/sentry/management/commands/runserver.py
@@ -25,8 +25,11 @@ class Command(RunserverCommand):
 
         devnull = open('/dev/null', 'w')
 
+        self.stdout.write('>> Running [gulp clean]')
+        Popen(['gulp', 'clean'], cwd=cwd, stdout=devnull).wait()
+
         self.stdout.write('>> Running [gulp dist]')
-        Popen(['gulp', 'clean', 'dist'], cwd=cwd, stdout=devnull).wait()
+        Popen(['gulp', 'dist'], cwd=cwd, stdout=devnull).wait()
 
         self.stdout.write('>> Running [gulp watch]')
         return Popen(['gulp', 'dist', 'watch'], cwd=cwd, stdout=devnull)
