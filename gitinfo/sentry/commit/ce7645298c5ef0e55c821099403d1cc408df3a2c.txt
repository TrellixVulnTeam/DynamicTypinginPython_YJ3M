commit ce7645298c5ef0e55c821099403d1cc408df3a2c
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 16 00:16:28 2015 -0700

    Add correct key labels

diff --git a/src/sentry/api/serializers/models/group.py b/src/sentry/api/serializers/models/group.py
index fb26785b49..84f0a26f65 100644
--- a/src/sentry/api/serializers/models/group.py
+++ b/src/sentry/api/serializers/models/group.py
@@ -7,10 +7,9 @@ from django.utils import timezone
 
 from sentry.api.serializers import Serializer, register, serialize
 from sentry.app import tsdb
-from sentry.constants import TAG_LABELS
 from sentry.models import (
     Group, GroupAssignee, GroupBookmark, GroupMeta, GroupTagKey, GroupSeen,
-    GroupStatus
+    GroupStatus, TagKey
 )
 from sentry.utils.db import attach_foreignkey
 from sentry.utils.http import absolute_uri
@@ -53,19 +52,28 @@ class GroupSerializer(Serializer):
             ).select_related('user')
         )
 
+        tagkeys = dict(
+            (t.key, t)
+            for t in TagKey.objects.filter(
+                project=item_list[0].project,
+                key__in=tag_counts.keys(),
+            )
+        )
+
         result = {}
         for item in item_list:
             active_date = item.active_at or item.last_seen
 
             tags = {}
             for key in tag_counts.iterkeys():
-                label = TAG_LABELS.get(key, key.replace('_', ' ')).lower()
+                # TODO(dcramer): query for these
+                tagkey = tagkeys[key]
                 try:
                     value = tag_counts[key].get(item.id, 0)
                 except KeyError:
                     value = 0
                 tags[key] = {
-                    'name': label,
+                    'name': tagkey.get_label(),
                     'count': value,
                 }
 
