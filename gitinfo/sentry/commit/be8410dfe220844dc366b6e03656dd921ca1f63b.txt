commit be8410dfe220844dc366b6e03656dd921ca1f63b
Author: Tobias von Klipstein <tobias@uxebu.com>
Date:   Wed Sep 15 19:19:01 2010 +0200

    Fixing manage.py cleanup_sentry command
    The key 'days' is always part of options. Using getattr for checking against None.

diff --git a/sentry/management/commands/cleanup_sentry.py b/sentry/management/commands/cleanup_sentry.py
index 58ebd7b2f3..c99f624297 100644
--- a/sentry/management/commands/cleanup_sentry.py
+++ b/sentry/management/commands/cleanup_sentry.py
@@ -15,7 +15,7 @@ class Command(BaseCommand):
     help = 'Cleans up old entries in the log.'
 
     def handle(self, *args, **options):
-        ts = datetime.datetime.now() - datetime.timedelta(days=options.get('days', 30))
+        ts = datetime.datetime.now() - datetime.timedelta(days=int(getattr(options, 'days', 30)))
         
         base_kwargs = {}
         if options.get('logger'):
