commit 14b482917bb22bbf881a019c8b419298aea8ee44
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Apr 14 15:23:29 2015 -0700

    Add concurrency option to cleanup

diff --git a/src/sentry/management/commands/cleanup.py b/src/sentry/management/commands/cleanup.py
index 3217f6886b..c98a615536 100644
--- a/src/sentry/management/commands/cleanup.py
+++ b/src/sentry/management/commands/cleanup.py
@@ -17,6 +17,7 @@ class Command(BaseCommand):
     option_list = BaseCommand.option_list + (
         make_option('--days', default='30', type=int, help='Numbers of days to truncate on.'),
         make_option('--project', type=int, help='Limit truncation to only entries from project.'),
+        make_option('--concurrency', type=int, default=1, help='The number of concurrent workers to run.'),
     )
 
     def handle(self, **options):
@@ -27,4 +28,8 @@ class Command(BaseCommand):
             logger.setLevel(logging.DEBUG)
             logger.addHandler(logging.StreamHandler())
 
-        cleanup(days=options['days'], project=options['project'])
+        cleanup(
+            days=options['days'],
+            project=options['project'],
+            concurrency=options['concurrency'],
+        )
