commit adfddb56e7ea6c6d86f85117510221348c738ee9
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jul 7 15:17:22 2016 +0500

    Fixed another case of symbolication missing due to missing stacks in the raw report

diff --git a/src/sentry/lang/native/plugin.py b/src/sentry/lang/native/plugin.py
index 4b7b69c988..6df79c1a2a 100644
--- a/src/sentry/lang/native/plugin.py
+++ b/src/sentry/lang/native/plugin.py
@@ -281,7 +281,7 @@ def preprocess_apple_crash_event(data):
     threads = {}
     raw_threads = {}
     for raw_thread in crash['threads']:
-        if raw_thread['crashed']:
+        if raw_thread['crashed'] and raw_thread.get('backtrace'):
             crashed_thread = raw_thread
         raw_threads[raw_thread['index']] = raw_thread
         threads[raw_thread['index']] = {
@@ -328,7 +328,7 @@ def preprocess_apple_crash_event(data):
             if thread['stacktrace'] is None:
                 continue
             raw_thread = raw_threads.get(thread['id'])
-            if raw_threads is None:
+            if raw_thread is None or not raw_thread.get('backtrace'):
                 continue
             bt, errors = sym.symbolize_backtrace(
                 raw_thread['backtrace']['contents'], sdk_info)
