commit 94b45bf672459a809326d1afcce7faf9d23d2312
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Sat Jul 2 02:11:38 2016 +0300

    Fixed thread_id handling for exceptions

diff --git a/src/sentry/interfaces/exception.py b/src/sentry/interfaces/exception.py
index fd4ddfa285..a100cd22d6 100644
--- a/src/sentry/interfaces/exception.py
+++ b/src/sentry/interfaces/exception.py
@@ -86,7 +86,7 @@ class SingleException(Interface):
             'module': trim(data.get('module'), 128),
             'mechanism': mechanism,
             'stacktrace': stacktrace,
-            'thread_id': trim(data.get('thread_id', 40)),
+            'thread_id': trim(data.get('thread_id'), 40),
             'raw_stacktrace': raw_stacktrace,
         }
 
@@ -109,6 +109,7 @@ class SingleException(Interface):
             'mechanism': self.mechanism or None,
             'module': self.module,
             'stacktrace': stacktrace,
+            'thread_id': self.thread_id,
             'raw_stacktrace': raw_stacktrace,
         }
 
