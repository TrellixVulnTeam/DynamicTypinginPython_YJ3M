commit ef77a898efbccb0fea260bfd60c5633e3ce23500
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Dec 6 13:50:53 2018 -0800

    fix(metrics): Fix sentry for MS IE/Edge (#10961)
    
    Edge throws an exception when you provide `performance.measure` with a start mark but NOT an end mark. If an end mark name is not given, generate one in the `measure` function.

diff --git a/src/sentry/static/sentry/app/utils/analytics.jsx b/src/sentry/static/sentry/app/utils/analytics.jsx
index 6411e9320f..c8e205a301 100644
--- a/src/sentry/static/sentry/app/utils/analytics.jsx
+++ b/src/sentry/static/sentry/app/utils/analytics.jsx
@@ -68,10 +68,19 @@ metric.measure = function metricMeasure({name, start, end, data, noCleanup} = {}
     throw new Error('Invalid arguments provided to `metric.measure`');
   }
 
+  let endMarkName = end;
+
   // Can't destructure from performance
   const {performance} = window;
 
-  performance.measure(name, start, end);
+  // NOTE: Edge REQUIRES an end mark if it is given a start mark
+  // If we don't have an end mark, create one now.
+  if (!end) {
+    endMarkName = `${start}-end`;
+    performance.mark(endMarkName);
+  }
+
+  performance.measure(name, start, endMarkName);
 
   // Retrieve measurement entries
   performance
@@ -82,5 +91,6 @@ metric.measure = function metricMeasure({name, start, end, data, noCleanup} = {}
   if (!noCleanup) {
     performance.clearMeasures(name);
     performance.clearMarks(start);
+    performance.clearMarks(endMarkName);
   }
 };
