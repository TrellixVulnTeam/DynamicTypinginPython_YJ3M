commit cd34d1c691a6c722c5663c5cff1e7f56f546d9b7
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jun 26 22:22:25 2013 -0700

    Handle query strings when replaying requests (fixes GH-358)

diff --git a/src/sentry/replays.py b/src/sentry/replays.py
index 3a2361c04f..13bef76283 100644
--- a/src/sentry/replays.py
+++ b/src/sentry/replays.py
@@ -24,9 +24,14 @@ class Replayer(object):
         if isinstance(data, dict):
             data = urlencode(data)
 
+        if urlparts.query:
+            full_url = urlparts.path + '?' + urlparts.query
+        else:
+            full_url = urlparts.path
+
         conn = conn_cls(urlparts.netloc)
         try:
-            conn.request(self.method, urlparts.path, data, self.headers or {})
+            conn.request(self.method, full_url, data, self.headers or {})
 
             response = conn.getresponse()
         except socket.error, e:
diff --git a/src/sentry/web/frontend/events.py b/src/sentry/web/frontend/events.py
index 3e4c630f9a..7b15a2f2a8 100644
--- a/src/sentry/web/frontend/events.py
+++ b/src/sentry/web/frontend/events.py
@@ -83,8 +83,13 @@ def replay_event(request, team, project, event_id, group_id=None):
     else:
         data = http.data
 
+    if http.query_string:
+        full_url = http.url + '?' + http.query_string
+    else:
+        full_url = http.url
+
     initial = {
-        'url': http.url,
+        'url': full_url,
         'method': http.method,
         'headers': headers,
         'data': data,
