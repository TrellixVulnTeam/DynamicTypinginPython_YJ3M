commit fef2758b67e6fc79ee9e398a8e9fb5a448b990d6
Author: k-fish <k-fish@users.noreply.github.com>
Date:   Thu Jun 11 07:56:51 2020 -0700

    feat(discover) Add % to user misery tooltip (#19286)
    
    This adds a % to user misery tooltip to make it easier to understand the number of users involved at a glance.

diff --git a/src/sentry/static/sentry/app/utils/discover/fieldRenderers.tsx b/src/sentry/static/sentry/app/utils/discover/fieldRenderers.tsx
index f47aa82ccb..dce2ef9e14 100644
--- a/src/sentry/static/sentry/app/utils/discover/fieldRenderers.tsx
+++ b/src/sentry/static/sentry/app/utils/discover/fieldRenderers.tsx
@@ -302,11 +302,14 @@ const SPECIAL_FUNCTIONS: SpecialFunctions = {
     const palette = new Array(10).fill(theme.purpleDarkest);
     const score = Math.floor((userMisery / Math.max(uniqueUsers, 1)) * palette.length);
     const miseryLimit = parseInt(userMiseryField.split('_').pop() || '', 10);
+    const miseryPercentage = ((100 * userMisery) / Math.max(uniqueUsers, 1)).toFixed(2);
+
     const title = tct(
-      '[affectedUsers] out of [totalUsers] unique users waited more than [duration]ms',
+      '[affectedUsers] out of [totalUsers] ([miseryPercentage]%) unique users waited more than [duration]ms',
       {
         affectedUsers: userMisery,
         totalUsers: uniqueUsers,
+        miseryPercentage,
         duration: 4 * miseryLimit,
       }
     );
