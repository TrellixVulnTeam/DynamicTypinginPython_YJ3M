commit 22cce27a5c672388c17b8009a51bd38d46f2734b
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Nov 6 12:06:15 2014 -0800

    Standardize org base and team index

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index 679a61e0ad..52b242a380 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -2525,89 +2525,71 @@ table.vars {
   }
 }
 
-.team-index {
-  #page-header {
-    display: none;
-  }
+.team-list {
+  list-style: none;
+  margin-left: 0;
 
-  .nav-tabs {
-    border-bottom: 2px solid #dee3e9;
-  }
+  > li {
+    display: block;
+    margin: 0 0 20px 0;
+    padding: 18px 22px;
+    border: 2px solid #DEE3E9;
+    position: relative;
+    .border-radius(7px);
 
-  .body {
-    h2 {
-      font-size: 26px;
-      margin: 0 0 20px;
-      letter-spacing: -1px;
+    .loading {
+      display: none;
     }
 
-    .team-list {
-      list-style: none;
-      margin-left: 0;
-
-      > li {
-        display: block;
-        margin: 0 0 20px 0;
-        padding: 18px 22px;
-        border: 2px solid #DEE3E9;
-        position: relative;
-        .border-radius(7px);
-
-        .loading {
-          display: none;
-        }
+    &:hover {
+      border-color: #56AFE8;
+      h3 {
+        color: #000;
+      }
+    }
 
+    h3 {
+      width: 100%;
+      position: relative;
+      margin-bottom: 0;
+      line-height: 24px;
+      height: 24px;
+      font-size: 22px;
+      white-space: nowrap;
+      overflow: hidden;
+      text-overflow: ellipsis;
+      color: #465262;
+      font-weight: bold;
+      a {
+        color: inherit;
         &:hover {
-          border-color: #56AFE8;
-          h3 {
-            color: #000;
-          }
-        }
-
-        h3 {
-          width: 100%;
-          position: relative;
-          margin-bottom: 0;
-          line-height: 24px;
-          height: 24px;
-          font-size: 22px;
-          white-space: nowrap;
-          overflow: hidden;
-          text-overflow: ellipsis;
-          color: #465262;
-          font-weight: bold;
-          a {
-            color: inherit;
-            &:hover {
-              color: @linkColorHover;
-            }
-          }
+          color: @linkColorHover;
         }
+      }
+    }
 
-        > ul {
-          position: relative;
-          overflow: hidden;
-          margin-left: 0;
-          margin-bottom: 0;
-          list-style: circle;
+    > ul {
+      position: relative;
+      overflow: hidden;
+      margin-left: 0;
+      margin-bottom: 0;
+      list-style: circle;
 
-          > li {
-            display: inline-block;
-            width: 142px;
-            margin-right: 5px;
-            white-space: nowrap;
-            overflow: hidden;
-            text-overflow: ellipsis;
-            line-height: 26px;
+      > li {
+        display: inline-block;
+        width: 142px;
+        margin-right: 5px;
+        white-space: nowrap;
+        overflow: hidden;
+        text-overflow: ellipsis;
+        line-height: 26px;
 
-            a {
-              font-size: 17px;
-            }
-          }
+        a {
+          font-size: 17px;
         }
-
       }
     }
+
   }
 }
 
diff --git a/src/sentry/static/sentry/styles/global.min.css b/src/sentry/static/sentry/styles/global.min.css
index ba4af7add4..2102ce4808 100644
--- a/src/sentry/static/sentry/styles/global.min.css
+++ b/src/sentry/static/sentry/styles/global.min.css
@@ -8992,22 +8992,11 @@ table.vars table.vars th {
 .share-form label.checkbox {
   padding: 0 5px 0 29px;
 }
-.team-index #page-header {
-  display: none;
-}
-.team-index .nav-tabs {
-  border-bottom: 2px solid #dee3e9;
-}
-.team-index .body h2 {
-  font-size: 26px;
-  margin: 0 0 20px;
-  letter-spacing: -1px;
-}
-.team-index .body .team-list {
+.team-list {
   list-style: none;
   margin-left: 0;
 }
-.team-index .body .team-list > li {
+.team-list > li {
   display: block;
   margin: 0 0 20px 0;
   padding: 18px 22px;
@@ -9017,16 +9006,16 @@ table.vars table.vars th {
   -moz-border-radius: 7px;
   border-radius: 7px;
 }
-.team-index .body .team-list > li .loading {
+.team-list > li .loading {
   display: none;
 }
-.team-index .body .team-list > li:hover {
+.team-list > li:hover {
   border-color: #56AFE8;
 }
-.team-index .body .team-list > li:hover h3 {
+.team-list > li:hover h3 {
   color: #000;
 }
-.team-index .body .team-list > li h3 {
+.team-list > li h3 {
   width: 100%;
   position: relative;
   margin-bottom: 0;
@@ -9039,20 +9028,20 @@ table.vars table.vars th {
   color: #465262;
   font-weight: bold;
 }
-.team-index .body .team-list > li h3 a {
+.team-list > li h3 a {
   color: inherit;
 }
-.team-index .body .team-list > li h3 a:hover {
+.team-list > li h3 a:hover {
   color: #12659a;
 }
-.team-index .body .team-list > li > ul {
+.team-list > li > ul {
   position: relative;
   overflow: hidden;
   margin-left: 0;
   margin-bottom: 0;
   list-style: circle;
 }
-.team-index .body .team-list > li > ul > li {
+.team-list > li > ul > li {
   display: inline-block;
   width: 142px;
   margin-right: 5px;
@@ -9061,7 +9050,7 @@ table.vars table.vars th {
   text-overflow: ellipsis;
   line-height: 26px;
 }
-.team-index .body .team-list > li > ul > li a {
+.team-list > li > ul > li a {
   font-size: 17px;
 }
 .toggle-expand {
diff --git a/src/sentry/static/sentry/styles/sentry.css b/src/sentry/static/sentry/styles/sentry.css
index 5b15dee750..2102ce4808 100644
--- a/src/sentry/static/sentry/styles/sentry.css
+++ b/src/sentry/static/sentry/styles/sentry.css
@@ -8992,38 +8992,30 @@ table.vars table.vars th {
 .share-form label.checkbox {
   padding: 0 5px 0 29px;
 }
-.team-index #page-header {
-  display: none;
-}
-.team-index .body h2 {
-  font-size: 26px;
-  margin: 0 0 20px;
-  letter-spacing: -1px;
-}
-.team-index .body .team-list {
+.team-list {
   list-style: none;
   margin-left: 0;
 }
-.team-index .body .team-list > li {
+.team-list > li {
   display: block;
   margin: 0 0 20px 0;
   padding: 18px 22px;
-  border: 5px solid #DEE3E9;
+  border: 2px solid #DEE3E9;
   position: relative;
   -webkit-border-radius: 7px;
   -moz-border-radius: 7px;
   border-radius: 7px;
 }
-.team-index .body .team-list > li .loading {
+.team-list > li .loading {
   display: none;
 }
-.team-index .body .team-list > li:hover {
+.team-list > li:hover {
   border-color: #56AFE8;
 }
-.team-index .body .team-list > li:hover h3 {
+.team-list > li:hover h3 {
   color: #000;
 }
-.team-index .body .team-list > li h3 {
+.team-list > li h3 {
   width: 100%;
   position: relative;
   margin-bottom: 0;
@@ -9036,20 +9028,20 @@ table.vars table.vars th {
   color: #465262;
   font-weight: bold;
 }
-.team-index .body .team-list > li h3 a {
+.team-list > li h3 a {
   color: inherit;
 }
-.team-index .body .team-list > li h3 a:hover {
+.team-list > li h3 a:hover {
   color: #12659a;
 }
-.team-index .body .team-list > li > ul {
+.team-list > li > ul {
   position: relative;
   overflow: hidden;
   margin-left: 0;
   margin-bottom: 0;
   list-style: circle;
 }
-.team-index .body .team-list > li > ul > li {
+.team-list > li > ul > li {
   display: inline-block;
   width: 142px;
   margin-right: 5px;
@@ -9058,7 +9050,7 @@ table.vars table.vars th {
   text-overflow: ellipsis;
   line-height: 26px;
 }
-.team-index .body .team-list > li > ul > li a {
+.team-list > li > ul > li a {
   font-size: 17px;
 }
 .toggle-expand {
diff --git a/src/sentry/templates/sentry/bases/organization.html b/src/sentry/templates/sentry/bases/organization.html
index 10ed50768d..9decb9e7d3 100644
--- a/src/sentry/templates/sentry/bases/organization.html
+++ b/src/sentry/templates/sentry/bases/organization.html
@@ -3,29 +3,35 @@
 {% load crispy_forms_tags %}
 {% load i18n %}
 
-{% block bodyclass %}with-left-sidebar{% endblock %}
-
 {% block title %}{% trans "Organization Settings" %} | {{ block.super }}{% endblock %}
 
-{% block sidebar %}
-    <ul class="nav nav-list">
-        <li class="nav-header">{% trans "Organization" %}</li>
-        <li{% block org_settings_nav %}{% endblock %}>
-            <a href="{% url 'sentry-organization-settings' organization.id %}">Basics</a>
-        </li>
-        <li{% block org_members_nav %}{% endblock %}>
-            <a href="{% url 'sentry-organization-members' organization.id %}">Members</a>
-        </li>
-        <li class="divider"></li>
-        <li class="nav-header">
-            <a href="{% url 'sentry-new-team' organization.id %}"
-               class="pull-right">Add Team</a>
-            {% trans "Teams" %}
-        </li>
-        {% for t, _ in TEAM_LIST %}
-            <li{% if t == team %} class="active"{% endif %}>
-                <a href="{% url 'sentry-manage-team' t.slug %}">{{ t.name }}</a>
-            </li>
-        {% endfor %}
+{% block main %}
+  <section class="body">
+    <div class="page-header">
+      <h2>{{ organization.name }}</h2>
+    </div>
+
+    <div class="pull-right">
+      <a class="btn btn-primary btn-small dropdown-toggle" data-toggle="dropdown">
+        <span class="caret"></span>
+      </a>
+      <ul class="dropdown-menu">
+        <li><a href="{% url 'sentry-new-team' organization.id %}">{% trans "New Team" %}</a></li>
+        <li><a href="{% url 'sentry-create-organization-member' organization.id %}">{% trans "New Member" %}</a></li>
+      </ul>
+    </div>
+
+    <ul class="nav nav-tabs">
+      <li{% block org_teams_nav %}{% endblock %}>
+        <a href="{% url 'sentry-organization-home' organization.id %}">Teams</a>
+      </li>
+      <li{% block org_members_nav %}{% endblock %}>
+        <a href="{% url 'sentry-organization-members' organization.id %}">Members</a>
+      </li>
+      <li{% block org_settings_nav %}{% endblock %}>
+        <a href="{% url 'sentry-organization-settings' organization.id %}">Settings</a>
+      </li>
     </ul>
+    {% block inner %}{% endblock %}
+  </section>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/organization-home.html b/src/sentry/templates/sentry/organization-home.html
index b8c12502eb..371295e933 100644
--- a/src/sentry/templates/sentry/organization-home.html
+++ b/src/sentry/templates/sentry/organization-home.html
@@ -1,39 +1,28 @@
-{% extends "sentry/bases/modal.html" %}
+{% extends "sentry/bases/organization.html" %}
 
 {% load i18n %}
 
-{% block bodyclass %}team-index {{ block.super }}{% endblock %}
-
 {% block org_teams_nav %} class="active"{% endblock %}
 
-{% block main %}
-  <section class="body">
-    <h2>{{ organization.name }}</h2>
-    <a class="btn btn-primary btn-small pull-right" href="{% url 'sentry-new-team' organization.id %}">Create a New team</a>
-    <ul class="nav nav-tabs">
-      <li class="active"><a href="#">Teams</a></li>
-      <li><a href="#">Members</a></li>
-      <li><a href="#">Admin</a></li>
-    </ul>
-    <ul class="team-list">
-      {% for team, project_list in team_list %}
-        <li>
-          <div class="chart" data-api-url="{% url 'sentry-api-0-team-stats' team.id %}">
-            <div class="sparkline">
-              <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
-              <span class="loading">{% trans "Loading historical data..." %}</span>
-            </div>
+{% block inner %}
+  <ul class="team-list">
+    {% for team, project_list in team_list %}
+      <li>
+        <div class="chart" data-api-url="{% url 'sentry-api-0-team-stats' team.id %}">
+          <div class="sparkline">
+            <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
+            <span class="loading">{% trans "Loading historical data..." %}</span>
           </div>
-          <h3><a href="{% url 'sentry' team.slug %}">{{ team.name }}</a></h3>
-          <ul>
-            {% for project in project_list %}
-              <li><a href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a></li>
-            {% endfor %}
-          </ul>
-        </li>
-      {% endfor %}
-    </ul>
-  </section>
+        </div>
+        <h3><a href="{% url 'sentry' team.slug %}">{{ team.name }}</a></h3>
+        <ul>
+          {% for project in project_list %}
+            <li><a href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a></li>
+          {% endfor %}
+        </ul>
+      </li>
+    {% endfor %}
+  </ul>
 {% endblock %}
 
 {% block content_after %}
diff --git a/src/sentry/templates/sentry/organization-members.html b/src/sentry/templates/sentry/organization-members.html
index 95342f3397..720f15deca 100644
--- a/src/sentry/templates/sentry/organization-members.html
+++ b/src/sentry/templates/sentry/organization-members.html
@@ -8,56 +8,46 @@
 
 {% block org_members_nav %} class="active"{% endblock %}
 
-{% block main %}
-  <section class="body">
-    <div class="page-header">
-      <div class="pull-right">
-        <a href="{% url 'sentry-create-organization-member' organization.id %}"
-        class="btn btn-primary">New Member</a>
-      </div>
-      <h2>Members</h2>
-    </div>
+{% block inner %}
+  <p>{% blocktrans %}Members of your organization gain slightly elevated permissions over individual team members. For example, organization administrators can create new teams as well as manage all organization settings (including the list of admins).{% endblocktrans %}</p>
 
-    <p>{% blocktrans %}Members of your organization gain slightly elevated permissions over individual team members. For example, organization administrators can create new teams as well as manage all organization settings (including the list of admins).{% endblocktrans %}</p>
+  <br>
 
-    <br>
-
-    <table class="table table-striped">
-      <colgroup>
-        <col width="20px"/>
-        <col/>
-        <col width="100px"/>
-        <col width="20px"/>
-      </colgroup>
-      <tbody>
-        {% for member, team_list in member_list %}
-          <tr>
-            <td>
-              <img class="avatar" src="{% gravatar_url member.get_email size 20 %}">
-            </td>
-            <td>
-              <a href="{% url 'sentry-organization-member-settings' organization.id member.id %}">
-                {{ member.get_display_name }}
-              </a>
-            </td>
-            <td>
-              {% if member.has_global_access %}
-                <span class="tip" title="Access to all teams">&infin;</span>
-              {% elif team_list|length > 1 %}
-                <span class="tip"
-                      title="{% for team in team_list %}{{ team.name }}{% if not forloop.last %}, {% endif %}{% endfor %}">
-                  {{ team_list|length }} teams
-                </span>
-              {% else %}
-                {{ team_list.0.name }}
-              {% endif %}
-            </td>
-            <td>
-              <a href=""><span class="icon icon-remove"></span></a>
-            </td>
-          </tr>
-        {% endfor %}
-      </tbody>
-    </table>
-  </section>
+  <table class="table table-striped">
+    <colgroup>
+      <col width="20px"/>
+      <col/>
+      <col width="100px"/>
+      <col width="20px"/>
+    </colgroup>
+    <tbody>
+      {% for member, team_list in member_list %}
+        <tr>
+          <td>
+            <img class="avatar" src="{% gravatar_url member.get_email size 20 %}">
+          </td>
+          <td>
+            <a href="{% url 'sentry-organization-member-settings' organization.id member.id %}">
+              {{ member.get_display_name }}
+            </a>
+          </td>
+          <td>
+            {% if member.has_global_access %}
+              <span class="tip" title="Access to all teams">&infin;</span>
+            {% elif team_list|length > 1 %}
+              <span class="tip"
+                    title="{% for team in team_list %}{{ team.name }}{% if not forloop.last %}, {% endif %}{% endfor %}">
+                {{ team_list|length }} teams
+              </span>
+            {% else %}
+              {{ team_list.0.name }}
+            {% endif %}
+          </td>
+          <td>
+            <a href=""><span class="icon icon-remove"></span></a>
+          </td>
+        </tr>
+      {% endfor %}
+    </tbody>
+  </table>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/organization-settings.html b/src/sentry/templates/sentry/organization-settings.html
index 1436ef3423..c113d70083 100644
--- a/src/sentry/templates/sentry/organization-settings.html
+++ b/src/sentry/templates/sentry/organization-settings.html
@@ -5,29 +5,25 @@
 
 {% block org_settings_nav %} class="active"{% endblock %}
 
-{% block main %}
-  <section class="body">
-    <div class="page-header">
-      <h2>{% trans "Details" %}</h2>
-    </div>
-    <form class="form-stacked" action="" method="post">
-      {% csrf_token %}
+{% block inner %}
+  <form class="form-stacked" action="" method="post">
+    {% csrf_token %}
 
-      {% if form.errors %}
-        <div class="alert alert-error">{% trans "Please correct the errors below." %}</div>
-      {% endif %}
+    {% if form.errors %}
+      <div class="alert alert-error">{% trans "Please correct the errors below." %}</div>
+    {% endif %}
 
-      {{ form|as_crispy_errors }}
+    {{ form|as_crispy_errors }}
 
-      <fieldset>
-        {% for field in form %}
-          {{ field|as_crispy_field }}
-        {% endfor %}
-      </fieldset>
+    <fieldset>
+      <legend>{% trans "Basics" %}</legend>
+      {% for field in form %}
+        {{ field|as_crispy_field }}
+      {% endfor %}
+    </fieldset>
 
-      <fieldset class="form-actions">
-        <button type="submit" class="btn btn-primary">{% trans "Save Changes" %}</button>
-      </fieldset>
-    </form>
-  </section>
+    <fieldset class="form-actions">
+      <button type="submit" class="btn btn-primary">{% trans "Save Changes" %}</button>
+    </fieldset>
+  </form>
 {% endblock %}
