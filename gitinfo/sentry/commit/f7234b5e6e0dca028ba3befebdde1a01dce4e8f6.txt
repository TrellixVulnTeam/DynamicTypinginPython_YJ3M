commit f7234b5e6e0dca028ba3befebdde1a01dce4e8f6
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 15 19:05:53 2015 -0700

    Switch to babel loader

diff --git a/package.json b/package.json
index 4dea1c2d94..da1dd42e30 100644
--- a/package.json
+++ b/package.json
@@ -6,6 +6,7 @@
     "url": "git://github.com/getsentry/sentry.git"
   },
   "dependencies": {
+    "babel-loader": "^5.1.4",
     "bootstrap": "^3.3.4",
     "chai": "1.7.x",
     "crypto-js": "^3.1.2-5",
@@ -18,8 +19,6 @@
     "gulp-watch": "^3.0.0",
     "jquery": "^2.1.3",
     "jshint": "~2.5.0",
-    "jsx": "^0.9.89",
-    "jsx-loader": "^0.13.2",
     "jsxhint": "^0.9.0",
     "karma": "^0.12.19",
     "karma-chai": "^0.1.0",
diff --git a/src/sentry/static/sentry/app/api.jsx b/src/sentry/static/sentry/app/api.jsx
index 32e652c0b1..279e50f3b1 100644
--- a/src/sentry/static/sentry/app/api.jsx
+++ b/src/sentry/static/sentry/app/api.jsx
@@ -38,13 +38,13 @@ class Client {
       return;
     }
 
-    return () => {
+    return (...args) => {
       var req = this.activeRequests[id];
       if (cleanup === true) {
         delete this.activeRequests[id];
       }
       if (req.alive) {
-        return func.apply(req, arguments);
+        return func.apply(req, args);
       }
     };
   }
@@ -86,17 +86,12 @@ class Client {
     return this.activeRequests[id];
   }
 
-  _chain() {
-    var funcs = [];
-    for (var i = 0; i < arguments.length; i++) {
-      if (typeof arguments[i] !== "undefined" && arguments[i]) {
-        funcs.push(arguments[i]);
-      }
-    }
-    return function() {
-      for (var i = 0; i < funcs.length; i++ ) {
-        funcs[i].apply(funcs[i], arguments);
-      }
+  _chain(...funcs) {
+    funcs = funcs.filter((f) => typeof f !== "undefined" && f);
+    return (...args) => {
+      funcs.forEach((func) => {
+        func.apply(funcs, args);
+      });
     };
   }
 
diff --git a/src/sentry/static/sentry/app/mixins/apiMixin.jsx b/src/sentry/static/sentry/app/mixins/apiMixin.jsx
index 23d998a81a..5ff11d677b 100644
--- a/src/sentry/static/sentry/app/mixins/apiMixin.jsx
+++ b/src/sentry/static/sentry/app/mixins/apiMixin.jsx
@@ -16,11 +16,11 @@ var ApiMixin = {
     var self = this;
 
     var completeFunc = options.complete;
-    options.complete = function() {
+    options.complete = function(...params) {
       self._pendingRequests.delete(this);
 
       if (typeof completeFunc !== "undefined") {
-        completeFunc.apply(this, arguments);
+        completeFunc.apply(this, params);
       }
     };
 
diff --git a/src/sentry/static/sentry/app/views/projectDetails.jsx b/src/sentry/static/sentry/app/views/projectDetails.jsx
index d5d0ad5575..8109194e97 100644
--- a/src/sentry/static/sentry/app/views/projectDetails.jsx
+++ b/src/sentry/static/sentry/app/views/projectDetails.jsx
@@ -70,6 +70,8 @@ var ProjectSelector = React.createClass({
     var org = this.props.organization;
     var urlPrefix = ConfigStore.get('urlPrefix');
     var children = [];
+    var activeTeam;
+    var activeProject;
     org.teams.forEach((team) => {
       if (!team.isMember) {
         return;
diff --git a/webpack.config.js b/webpack.config.js
index 499835ca9a..21c46c148c 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -32,9 +32,9 @@ var config = {
     loaders: [
       {
         test: /\.jsx$/,
-        loader: "jsx-loader?insertPragma=React.DOM&harmony",
+        loader: "babel",
         include: path.join(__dirname, staticPrefix),
-        exclude: /vendor/
+        exclude: /(vendor|node_modules)/
       }
     ]
   },
