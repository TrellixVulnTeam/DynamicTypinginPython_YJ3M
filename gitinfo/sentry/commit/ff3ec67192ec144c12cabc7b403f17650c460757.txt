commit ff3ec67192ec144c12cabc7b403f17650c460757
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Sep 16 11:02:54 2015 -0700

    Test DatadogMetricsBackend against datadog's get_hostname
    
    This fixes tests in Travis since the hostname returned is different

diff --git a/tests/sentry/metrics/test_datadog.py b/tests/sentry/metrics/test_datadog.py
index 5de447b885..e45a1afd04 100644
--- a/tests/sentry/metrics/test_datadog.py
+++ b/tests/sentry/metrics/test_datadog.py
@@ -1,9 +1,9 @@
 from __future__ import absolute_import
 
-import socket
-
 from mock import patch
 
+from datadog.util.hostname import get_hostname
+
 from sentry.metrics.datadog import DatadogMetricsBackend
 from sentry.testutils import TestCase
 
@@ -18,7 +18,7 @@ class DatadogMetricsBackendTest(TestCase):
         mock_incr.assert_called_once_with(
             'sentrytest.foo', 1,
             tags=['instance:bar'],
-            host=socket.gethostname(),
+            host=get_hostname(),
         )
 
     @patch('datadog.threadstats.base.ThreadStats.timing')
@@ -28,5 +28,5 @@ class DatadogMetricsBackendTest(TestCase):
             'sentrytest.foo', 30,
             sample_rate=1,
             tags=['instance:bar'],
-            host=socket.gethostname(),
+            host=get_hostname(),
         )
