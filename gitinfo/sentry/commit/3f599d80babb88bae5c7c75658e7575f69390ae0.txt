commit 3f599d80babb88bae5c7c75658e7575f69390ae0
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 19 15:10:39 2018 -0700

    ref(api): Utilize Event.size for metrics

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index 73a096b26d..565bbe0992 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -759,6 +759,7 @@ class EventManager(object):
         else:
             event_saved.send_robust(
                 project=project,
+                event_size=event.size,
                 sender=EventManager,
             )
 
diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index 7f853a580a..7979a43252 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -199,7 +199,7 @@ class Event(Model):
 
     @property
     def size(self):
-        data_len = len(self.get_legacy_message())
+        data_len = 0
         for value in six.itervalues(self.data):
             data_len += len(repr(value))
         return data_len
diff --git a/src/sentry/tasks/post_process.py b/src/sentry/tasks/post_process.py
index e47be64fc8..5f42941f88 100644
--- a/src/sentry/tasks/post_process.py
+++ b/src/sentry/tasks/post_process.py
@@ -9,7 +9,6 @@ sentry.tasks.post_process
 from __future__ import absolute_import, print_function
 
 import logging
-import six
 
 from raven.contrib.django.models import client as Raven
 
@@ -48,7 +47,7 @@ def _capture_stats(event, is_new):
 
     metrics.incr('events.processed')
     metrics.incr('events.processed.{platform}'.format(platform=platform))
-    metrics.timing('events.size.data', len(six.text_type(event.data)))
+    metrics.timing('events.size.data', event.size)
 
 
 @instrumented_task(name='sentry.tasks.post_process.post_process_group')
