commit ce48ca8bee89576870053af85efa220dc964d2e0
Author: Billy Vong <billyvg@gmail.com>
Date:   Tue Aug 1 12:20:10 2017 -0700

    Add "--styleguide" option for sentry devserver to start storybook server

diff --git a/src/sentry/runner/commands/devserver.py b/src/sentry/runner/commands/devserver.py
index e753f6feae..f36ace5568 100644
--- a/src/sentry/runner/commands/devserver.py
+++ b/src/sentry/runner/commands/devserver.py
@@ -24,11 +24,16 @@ from sentry.runner.decorators import configuration, log_options
     default=False,
     help='Automatic browser refreshing on webpack builds'
 )
+@click.option(
+    '--styleguide/--no-styleguide',
+    default=False,
+    help='Start local styleguide web server on port 9001'
+)
 @click.option('--environment', default='development', help='The environment name.')
 @click.argument('bind', default='127.0.0.1:8000', metavar='ADDRESS')
 @log_options()
 @configuration
-def devserver(reload, watchers, workers, browser_reload, environment, bind):
+def devserver(reload, watchers, workers, browser_reload, styleguide, environment, bind):
     "Starts a lightweight web server for development."
     if ':' in bind:
         host, port = bind.split(':', 1)
@@ -141,6 +146,9 @@ def devserver(reload, watchers, workers, browser_reload, environment, bind):
         ('server', ['sentry', 'run', 'web']),
     ]
 
+    if styleguide:
+        daemons += [('storybook', ['yarn', 'storybook'])]
+
     cwd = os.path.realpath(os.path.join(settings.PROJECT_ROOT, os.pardir, os.pardir))
 
     manager = Manager()
