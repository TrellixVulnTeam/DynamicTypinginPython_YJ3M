commit 8df11ecd2b4bfbd686a6a388fd7729ef81786366
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Sep 7 16:08:14 2017 -0700

    feat(workflow): add similar color spectrum (#6046)
    
    * ref(workflow): move similar score colors into "palette.less"
    
    * feat(react): add <SimilarSpectrum>

diff --git a/.storybook/webpack.config.js b/.storybook/webpack.config.js
index bf7730e39d..81a2b6a979 100644
--- a/.storybook/webpack.config.js
+++ b/.storybook/webpack.config.js
@@ -60,6 +60,7 @@ module.exports = {
     })
   ],
   resolve: {
+    extensions: appConfig.resolve.extensions,
     alias: Object.assign({}, appConfig.resolve.alias, {
       'sentry-ui': componentPath
     })
diff --git a/docs-ui/.eslintrc b/docs-ui/.eslintrc
deleted file mode 100644
index 57b7b96111..0000000000
--- a/docs-ui/.eslintrc
+++ /dev/null
@@ -1,9 +0,0 @@
-{
-  "parserOptions": {
-    "sourceType": "module"
-  },
-  "env": {
-    "node": true,
-    "es6": true
-  }
-}
diff --git a/docs-ui/.eslintrc.js b/docs-ui/.eslintrc.js
new file mode 100644
index 0000000000..9b2a08a747
--- /dev/null
+++ b/docs-ui/.eslintrc.js
@@ -0,0 +1,19 @@
+var path = require('path');
+
+module.exports = {
+  parserOptions: {
+    sourceType: 'module'
+  },
+  env: {
+    node: true,
+    es6: true
+  },
+  settings: {
+    'import/resolver': {
+      webpack: {
+        config: path.join(__dirname, '../.storybook/webpack.config.js')
+      }
+    },
+    'import/extensions': ['.js', '.jsx']
+  }
+};
diff --git a/docs-ui/components/similarSpectrum.stories.js b/docs-ui/components/similarSpectrum.stories.js
new file mode 100644
index 0000000000..911be26749
--- /dev/null
+++ b/docs-ui/components/similarSpectrum.stories.js
@@ -0,0 +1,10 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+
+import SimilarSpectrum from 'sentry-ui/similarSpectrum';
+
+storiesOf('SimilarSpectrum', module).add(
+  'default',
+  withInfo('Description')(() => <SimilarSpectrum />)
+);
diff --git a/src/sentry/static/sentry/app/components/scoreBar.jsx b/src/sentry/static/sentry/app/components/scoreBar.jsx
index 35e5375c25..783f257f3e 100644
--- a/src/sentry/static/sentry/app/components/scoreBar.jsx
+++ b/src/sentry/static/sentry/app/components/scoreBar.jsx
@@ -19,7 +19,7 @@ const ScoreBar = React.createClass({
   getDefaultProps() {
     return {
       palette: [],
-      paletteClassNames: ['red', 'red', 'orange', 'green', 'green']
+      paletteClassNames: ['low', 'low-med', 'med', 'med-high', 'high']
     };
   },
 
diff --git a/src/sentry/static/sentry/app/components/similarScoreCard.jsx b/src/sentry/static/sentry/app/components/similarScoreCard.jsx
index 67aab07229..a2860ef1ab 100644
--- a/src/sentry/static/sentry/app/components/similarScoreCard.jsx
+++ b/src/sentry/static/sentry/app/components/similarScoreCard.jsx
@@ -15,7 +15,7 @@ const scoreComponents = {
 };
 
 // classnames that map to colors to css
-const scoreClassNames = ['low', 'low', 'low', 'med', 'high', 'high'];
+const scoreClassNames = ['low', 'low', 'low-med', 'med', 'med-high', 'high'];
 
 const SimilarScoreCard = React.createClass({
   propTypes: {
diff --git a/src/sentry/static/sentry/app/components/similarSpectrum.jsx b/src/sentry/static/sentry/app/components/similarSpectrum.jsx
new file mode 100644
index 0000000000..3a92425877
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/similarSpectrum.jsx
@@ -0,0 +1,40 @@
+import React from 'react';
+import classNames from 'classnames';
+
+import {t} from '../locale';
+import '../../less/components/similarSpectrum.less';
+
+const SimilarSpectrum = React.createClass({
+  propTypes: {},
+
+  getDefaultProps() {
+    return {};
+  },
+
+  getInitialState() {
+    return {};
+  },
+
+  render() {
+    let {className} = this.props;
+    let cx = classNames('similar-spectrum', className);
+
+    return (
+      <div className={cx}>
+        <span>
+          {t('Similar')}
+        </span>
+        <span className="similar-spectrum-box high" />
+        <span className="similar-spectrum-box med-high" />
+        <span className="similar-spectrum-box med" />
+        <span className="similar-spectrum-box low-med" />
+        <span className="similar-spectrum-box low" />
+        <span>
+          {t('Not Similar')}
+        </span>
+      </div>
+    );
+  }
+});
+
+export default SimilarSpectrum;
diff --git a/src/sentry/static/sentry/app/views/groupSimilar/similarList.jsx b/src/sentry/static/sentry/app/views/groupSimilar/similarList.jsx
index 2ae1a5f19b..7ff757bbc6 100644
--- a/src/sentry/static/sentry/app/views/groupSimilar/similarList.jsx
+++ b/src/sentry/static/sentry/app/views/groupSimilar/similarList.jsx
@@ -6,7 +6,9 @@ import {t} from '../../locale';
 import Pagination from '../../components/pagination';
 import QueryCount from '../../components/queryCount';
 import SimilarItem from './similarItem';
+import SimilarSpectrum from '../../components/similarSpectrum';
 import SimilarToolbar from './similarToolbar';
+import SpreadLayout from '../../components/spreadLayout';
 
 const SimilarItemPropType = PropTypes.shape({
   issue: Group,
@@ -70,10 +72,13 @@ const SimilarList = React.createClass({
 
     return (
       <div className="similar-list-container">
-        <h2>
-          <span>{t('Similar Issues')}</span>
-          <QueryCount count={items.length + filteredItems.length} />
-        </h2>
+        <SpreadLayout className="similar-list-header">
+          <h2>
+            <span>{t('Similar Issues')}</span>
+            <QueryCount count={items.length + filteredItems.length} />
+          </h2>
+          <SimilarSpectrum />
+        </SpreadLayout>
         <SimilarToolbar onMerge={onMerge} />
 
         <div className="similar-list">
diff --git a/src/sentry/static/sentry/less/components/scoreBar.less b/src/sentry/static/sentry/less/components/scoreBar.less
index fe4dcfe2ff..3ca463f8f4 100644
--- a/src/sentry/static/sentry/less/components/scoreBar.less
+++ b/src/sentry/static/sentry/less/components/scoreBar.less
@@ -1,5 +1,4 @@
-@import '../palette.less';
-
+@import '../similar-scores.less';
 
 @thickness: 4px;
 @size: 40px;
@@ -17,23 +16,11 @@
 .score-bar-bar {
   border-radius: 3px;
   margin: 2px;
+  .similar-scores;
 
   &.empty {
     background-color: @gray-lightest;
   }
-
-  // Colors
-  &.red {
-    background-color: @orange;
-  }
-
-  &.orange {
-    background-color: @yellow-orange;
-  }
-
-  &.green {
-    background-color: @green;
-  }
 }
 
 .horizontal {
diff --git a/src/sentry/static/sentry/less/components/similarSpectrum.less b/src/sentry/static/sentry/less/components/similarSpectrum.less
new file mode 100644
index 0000000000..e99c0de371
--- /dev/null
+++ b/src/sentry/static/sentry/less/components/similarSpectrum.less
@@ -0,0 +1,13 @@
+@import "../similar-scores.less";
+
+.similar-spectrum {
+  display: flex;
+  font-size: 12px;
+}
+
+.similar-spectrum-box {
+  border-radius: 2px;
+  margin: 5px;
+  width: 14px;
+  .similar-scores;
+}
diff --git a/src/sentry/static/sentry/less/group-similar.less b/src/sentry/static/sentry/less/group-similar.less
index 407f8641ac..3b1145ec3b 100644
--- a/src/sentry/static/sentry/less/group-similar.less
+++ b/src/sentry/static/sentry/less/group-similar.less
@@ -1,5 +1,6 @@
 // For interface for merging/unmerging events/issues
 // Shares CSS with "stream.less" so some defs are in there
+@import './similar-scores.less';
 
 .similar-list-container, .merged-list-container {
   h2 {
@@ -24,6 +25,15 @@
   }
 }
 
+.similar-list-header {
+  margin-top: 20px;
+  margin-bottom: 10px;
+
+  h2 {
+    margin: 0;
+  }
+}
+
 .similar-list {
   .group {
     padding-right: 0;
@@ -88,16 +98,7 @@
   height: 16px;
   width: 48px;
   border-radius: 2px;
-
-  &.low {
-    background-color: @orange;
-  }
-  &.med {
-    background-color: @yellow-orange;
-  }
-  &.high {
-    background-color: @green;
-  }
+  .similar-scores;
 }
 
 .similar-items-footer {
diff --git a/src/sentry/static/sentry/less/similar-scores.less b/src/sentry/static/sentry/less/similar-scores.less
new file mode 100644
index 0000000000..e104455e41
--- /dev/null
+++ b/src/sentry/static/sentry/less/similar-scores.less
@@ -0,0 +1,19 @@
+@import './palette.less';
+
+.similar-scores {
+  &.low {
+    background-color: @orange;
+  }
+  &.low-med {
+    background-color: mix(@orange, @yellow-orange, 50%);
+  }
+  &.med {
+    background-color: @yellow-orange;
+  }
+  &.med-high {
+    background-color: mix(@yellow-orange, @green, 40%);
+  }
+  &.high {
+    background-color: @green;
+  }
+}
diff --git a/tests/js/spec/components/__snapshots__/scoreBar.spec.jsx.snap b/tests/js/spec/components/__snapshots__/scoreBar.spec.jsx.snap
index 2c0f461bc1..08e0eca286 100644
--- a/tests/js/spec/components/__snapshots__/scoreBar.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/scoreBar.spec.jsx.snap
@@ -91,7 +91,7 @@ exports[`ScoreBar renders 1`] = `
   className="score-bar horizontal"
 >
   <div
-    className="score-bar-bar orange"
+    className="score-bar-bar med"
     style={
       Object {
         "height": 60,
@@ -100,7 +100,7 @@ exports[`ScoreBar renders 1`] = `
     }
   />
   <div
-    className="score-bar-bar orange"
+    className="score-bar-bar med"
     style={
       Object {
         "height": 60,
@@ -109,7 +109,7 @@ exports[`ScoreBar renders 1`] = `
     }
   />
   <div
-    className="score-bar-bar orange"
+    className="score-bar-bar med"
     style={
       Object {
         "height": 60,
@@ -143,7 +143,7 @@ exports[`ScoreBar renders vertically 1`] = `
   className="score-bar vertical"
 >
   <div
-    className="score-bar-bar red"
+    className="score-bar-bar low-med"
     style={
       Object {
         "height": 2,
@@ -152,7 +152,7 @@ exports[`ScoreBar renders vertically 1`] = `
     }
   />
   <div
-    className="score-bar-bar red"
+    className="score-bar-bar low-med"
     style={
       Object {
         "height": 2,
@@ -299,7 +299,7 @@ exports[`ScoreBar renders with score > max score 1`] = `
   className="score-bar horizontal"
 >
   <div
-    className="score-bar-bar green"
+    className="score-bar-bar high"
     style={
       Object {
         "height": 60,
@@ -308,7 +308,7 @@ exports[`ScoreBar renders with score > max score 1`] = `
     }
   />
   <div
-    className="score-bar-bar green"
+    className="score-bar-bar high"
     style={
       Object {
         "height": 60,
@@ -317,7 +317,7 @@ exports[`ScoreBar renders with score > max score 1`] = `
     }
   />
   <div
-    className="score-bar-bar green"
+    className="score-bar-bar high"
     style={
       Object {
         "height": 60,
@@ -326,7 +326,7 @@ exports[`ScoreBar renders with score > max score 1`] = `
     }
   />
   <div
-    className="score-bar-bar green"
+    className="score-bar-bar high"
     style={
       Object {
         "height": 60,
@@ -335,7 +335,7 @@ exports[`ScoreBar renders with score > max score 1`] = `
     }
   />
   <div
-    className="score-bar-bar green"
+    className="score-bar-bar high"
     style={
       Object {
         "height": 60,
diff --git a/tests/js/spec/components/__snapshots__/similarScoreCard.spec.jsx.snap b/tests/js/spec/components/__snapshots__/similarScoreCard.spec.jsx.snap
index db5d06a0fd..dbed944b16 100644
--- a/tests/js/spec/components/__snapshots__/similarScoreCard.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/similarScoreCard.spec.jsx.snap
@@ -19,7 +19,7 @@ exports[`SimilarScoreCard renders with score list 1`] = `
   >
     <div />
     <div
-      className="similar-score-quantity high"
+      className="similar-score-quantity med-high"
     />
   </SpreadLayout>
   <SpreadLayout
diff --git a/tests/js/spec/components/__snapshots__/similarSpectrum.spec.jsx.snap b/tests/js/spec/components/__snapshots__/similarSpectrum.spec.jsx.snap
new file mode 100644
index 0000000000..cf15bcd521
--- /dev/null
+++ b/tests/js/spec/components/__snapshots__/similarSpectrum.spec.jsx.snap
@@ -0,0 +1,29 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`SimilarSpectrum renders 1`] = `
+<div
+  className="similar-spectrum"
+>
+  <span>
+    Similar
+  </span>
+  <span
+    className="similar-spectrum-box high"
+  />
+  <span
+    className="similar-spectrum-box med-high"
+  />
+  <span
+    className="similar-spectrum-box med"
+  />
+  <span
+    className="similar-spectrum-box low-med"
+  />
+  <span
+    className="similar-spectrum-box low"
+  />
+  <span>
+    Not Similar
+  </span>
+</div>
+`;
diff --git a/tests/js/spec/components/similarSpectrum.spec.jsx b/tests/js/spec/components/similarSpectrum.spec.jsx
new file mode 100644
index 0000000000..7dfa81f224
--- /dev/null
+++ b/tests/js/spec/components/similarSpectrum.spec.jsx
@@ -0,0 +1,18 @@
+import React from 'react';
+import {shallow} from 'enzyme';
+import SimilarSpectrum from 'app/components/similarSpectrum';
+
+describe('SimilarSpectrum', function() {
+  beforeEach(function() {
+    this.sandbox = sinon.sandbox.create();
+  });
+
+  afterEach(function() {
+    this.sandbox.restore();
+  });
+
+  it('renders', function() {
+    let wrapper = shallow(<SimilarSpectrum />);
+    expect(wrapper).toMatchSnapshot();
+  });
+});
diff --git a/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap b/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
index 674e727e5c..d7c2786aa0 100644
--- a/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/groupSimilarView.spec.jsx.snap
@@ -283,32 +283,67 @@ exports[`Issues Similar View renders with mocked data 1`] = `
       <div
         className="similar-list-container"
       >
-        <h2>
-          <span>
-            Similar Issues
-          </span>
-          <QueryCount
-            count={4}
-            hideIfEmpty={true}
-            inline={true}
+        <SpreadLayout
+          className="similar-list-header"
+        >
+          <div
+            className="spread-layout similar-list-header"
           >
-            <div
-              className="query-count inline"
-            >
+            <h2>
               <span>
-                (
+                Similar Issues
               </span>
-              <span
-                className="query-count-value"
+              <QueryCount
+                count={4}
+                hideIfEmpty={true}
+                inline={true}
               >
-                4
-              </span>
-              <span>
-                )
-              </span>
-            </div>
-          </QueryCount>
-        </h2>
+                <div
+                  className="query-count inline"
+                >
+                  <span>
+                    (
+                  </span>
+                  <span
+                    className="query-count-value"
+                  >
+                    4
+                  </span>
+                  <span>
+                    )
+                  </span>
+                </div>
+              </QueryCount>
+            </h2>
+            <SimilarSpectrum>
+              <div
+                className="similar-spectrum"
+              >
+                <span>
+                  Similar
+                </span>
+                <span
+                  className="similar-spectrum-box high"
+                />
+                <span
+                  className="similar-spectrum-box med-high"
+                />
+                <span
+                  className="similar-spectrum-box med"
+                />
+                <span
+                  className="similar-spectrum-box low-med"
+                />
+                <span
+                  className="similar-spectrum-box low"
+                />
+                <span>
+                  Not Similar
+                </span>
+              </div>
+            </SimilarSpectrum>
+          </div>
+        </SpreadLayout>
         <SimilarToolbar
           onMerge={[Function]}
         >
@@ -750,32 +785,67 @@ exports[`Issues Similar View renders with mocked data 2`] = `
       <div
         className="similar-list-container"
       >
-        <h2>
-          <span>
-            Similar Issues
-          </span>
-          <QueryCount
-            count={4}
-            hideIfEmpty={true}
-            inline={true}
+        <SpreadLayout
+          className="similar-list-header"
+        >
+          <div
+            className="spread-layout similar-list-header"
           >
-            <div
-              className="query-count inline"
-            >
+            <h2>
               <span>
-                (
+                Similar Issues
               </span>
-              <span
-                className="query-count-value"
+              <QueryCount
+                count={4}
+                hideIfEmpty={true}
+                inline={true}
               >
-                4
-              </span>
-              <span>
-                )
-              </span>
-            </div>
-          </QueryCount>
-        </h2>
+                <div
+                  className="query-count inline"
+                >
+                  <span>
+                    (
+                  </span>
+                  <span
+                    className="query-count-value"
+                  >
+                    4
+                  </span>
+                  <span>
+                    )
+                  </span>
+                </div>
+              </QueryCount>
+            </h2>
+            <SimilarSpectrum>
+              <div
+                className="similar-spectrum"
+              >
+                <span>
+                  Similar
+                </span>
+                <span
+                  className="similar-spectrum-box high"
+                />
+                <span
+                  className="similar-spectrum-box med-high"
+                />
+                <span
+                  className="similar-spectrum-box med"
+                />
+                <span
+                  className="similar-spectrum-box low-med"
+                />
+                <span
+                  className="similar-spectrum-box low"
+                />
+                <span>
+                  Not Similar
+                </span>
+              </div>
+            </SimilarSpectrum>
+          </div>
+        </SpreadLayout>
         <SimilarToolbar
           onMerge={[Function]}
         >
