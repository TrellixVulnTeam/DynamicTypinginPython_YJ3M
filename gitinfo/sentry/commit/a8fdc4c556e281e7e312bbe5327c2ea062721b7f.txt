commit a8fdc4c556e281e7e312bbe5327c2ea062721b7f
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jun 9 11:27:18 2016 -0700

    Correct ref to existing user

diff --git a/src/sentry/auth/helper.py b/src/sentry/auth/helper.py
index 50d9c4e4c9..df7daf913d 100644
--- a/src/sentry/auth/helper.py
+++ b/src/sentry/auth/helper.py
@@ -411,7 +411,7 @@ class AuthHelper(object):
             # per the above, try to auto merge if the user was originally an
             # SSO account but is still logged in
             has_membership = OrganizationMember.objects.filter(
-                user=existing_user,
+                user=request.user,
                 organization=self.organization,
             ).exists()
             if has_membership:
