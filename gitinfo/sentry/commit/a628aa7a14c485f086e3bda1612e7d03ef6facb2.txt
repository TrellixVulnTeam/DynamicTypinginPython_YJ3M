commit a628aa7a14c485f086e3bda1612e7d03ef6facb2
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Apr 26 15:15:06 2018 -0700

    test(js): Cleanup "getEndpoint" deprecations (#8209)

diff --git a/src/sentry/static/sentry/app/views/adminBuffer.jsx b/src/sentry/static/sentry/app/views/adminBuffer.jsx
index 291d2d8d9c..ed1e5c3b9c 100644
--- a/src/sentry/static/sentry/app/views/adminBuffer.jsx
+++ b/src/sentry/static/sentry/app/views/adminBuffer.jsx
@@ -1,20 +1,22 @@
-/*eslint getsentry/jsx-needs-il8n:0*/
+import PropTypes from 'prop-types';
 import React from 'react';
 
-import AsyncView from './asyncView';
 import InternalStatChart from '../components/internalStatChart';
 
-export default class AdminBuffer extends AsyncView {
-  getDefaultState() {
-    return {
-      ...super.getDefaultState(),
-      resolution: '1h',
-    };
-  }
+export default class AdminBuffer extends React.Component {
+  static propTypes = {
+    resolution: PropTypes.string.isRequired,
+  };
+
+  static defaultProps = {
+    resolution: '1h',
+  };
 
-  renderBody() {
+  render() {
     // TODO(dcramer): show buffer configuration when its moved into option store
+    const {resolution} = this.props;
     const since = new Date().getTime() / 1000 - 3600 * 24 * 7;
+
     return (
       <div>
         <h3>Buffers</h3>
@@ -41,7 +43,7 @@ export default class AdminBuffer extends AsyncView {
           </div>
           <InternalStatChart
             since={since}
-            resolution={this.state.resolution}
+            resolution={resolution}
             stat="jobs.finished.sentry.tasks.process_buffer.process_incr"
             label="Jobs"
           />
@@ -53,7 +55,7 @@ export default class AdminBuffer extends AsyncView {
           </div>
           <InternalStatChart
             since={since}
-            resolution={this.state.resolution}
+            resolution={resolution}
             stat="buffer.revoked"
             label="Jobs"
           />
diff --git a/src/sentry/static/sentry/app/views/settings/projectSecurityHeaders/reportUri.jsx b/src/sentry/static/sentry/app/views/settings/projectSecurityHeaders/reportUri.jsx
index b29eb2c1b7..8018afdf77 100644
--- a/src/sentry/static/sentry/app/views/settings/projectSecurityHeaders/reportUri.jsx
+++ b/src/sentry/static/sentry/app/views/settings/projectSecurityHeaders/reportUri.jsx
@@ -3,7 +3,6 @@ import PropTypes from 'prop-types';
 import {Link} from 'react-router';
 
 import {tct} from '../../../locale';
-import AsyncView from '../../asyncView';
 import Field from '../components/forms/field';
 import getDynamicText from '../../../utils/getDynamicText';
 import {Panel, PanelAlert, PanelBody, PanelHeader} from '../../../components/panels';
@@ -19,7 +18,7 @@ export const getSecurityDsn = keyList => {
   });
 };
 
-export default class ReportUri extends AsyncView {
+export default class ReportUri extends React.Component {
   static propTypes = {
     keyList: PropTypes.array.isRequired,
   };
diff --git a/tests/js/spec/views/__snapshots__/adminBuffer.spec.jsx.snap b/tests/js/spec/views/__snapshots__/adminBuffer.spec.jsx.snap
index 16d9131695..039f52938b 100644
--- a/tests/js/spec/views/__snapshots__/adminBuffer.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/adminBuffer.spec.jsx.snap
@@ -1,72 +1,68 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
 exports[`AdminBuffer render() renders 1`] = `
-<SideEffect(DocumentTitle)
-  title="Sentry"
->
-  <div>
-    <h3>
-      Buffers
-    </h3>
+<div>
+  <h3>
+    Buffers
+  </h3>
+  <div
+    className="box"
+  >
     <div
-      className="box"
+      className="box-header"
     >
-      <div
-        className="box-header"
-      >
-        <h4>
-          About
-        </h4>
-      </div>
-      <div
-        className="box-content with-padding"
-      >
-        <p>
-          Sentry buffers are responsible for making changes to cardinality counters — such as an issues event count — as well as updating attributes like
-           
-          <em>
-            last seen
-          </em>
-          . These are flushed on a regularly interval, and are directly affected by the queue backlog.
-        </p>
-      </div>
+      <h4>
+        About
+      </h4>
     </div>
     <div
-      className="box"
+      className="box-content with-padding"
     >
-      <div
-        className="box-header"
-      >
-        <h4>
-          Updates Processed
-        </h4>
-      </div>
-      <internalStatChart
-        height={150}
-        label="Jobs"
-        resolution="1h"
-        since={1507603280}
-        stat="jobs.finished.sentry.tasks.process_buffer.process_incr"
-      />
+      <p>
+        Sentry buffers are responsible for making changes to cardinality counters — such as an issues event count — as well as updating attributes like
+         
+        <em>
+          last seen
+        </em>
+        . These are flushed on a regularly interval, and are directly affected by the queue backlog.
+      </p>
     </div>
+  </div>
+  <div
+    className="box"
+  >
+    <div
+      className="box-header"
+    >
+      <h4>
+        Updates Processed
+      </h4>
+    </div>
+    <internalStatChart
+      height={150}
+      label="Jobs"
+      resolution="1h"
+      since={1507603280}
+      stat="jobs.finished.sentry.tasks.process_buffer.process_incr"
+    />
+  </div>
+  <div
+    className="box"
+  >
     <div
-      className="box"
+      className="box-header"
     >
-      <div
-        className="box-header"
-      >
-        <h4>
-          Revoked Updates
-        </h4>
-      </div>
-      <internalStatChart
-        height={150}
-        label="Jobs"
-        resolution="1h"
-        since={1507603280}
-        stat="buffer.revoked"
-      />
+      <h4>
+        Revoked Updates
+      </h4>
     </div>
+    <internalStatChart
+      height={150}
+      label="Jobs"
+      resolution="1h"
+      since={1507603280}
+      stat="buffer.revoked"
+    />
   </div>
-</SideEffect(DocumentTitle)>
+</div>
 `;
