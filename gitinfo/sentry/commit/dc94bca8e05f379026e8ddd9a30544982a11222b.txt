commit dc94bca8e05f379026e8ddd9a30544982a11222b
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Oct 13 23:00:31 2015 -0700

    Test for raising APIForbidden

diff --git a/tests/sentry/coreapi/tests.py b/tests/sentry/coreapi/tests.py
index 35d2d3826d..a98ad3963f 100644
--- a/tests/sentry/coreapi/tests.py
+++ b/tests/sentry/coreapi/tests.py
@@ -9,7 +9,7 @@ from uuid import UUID
 
 from sentry.coreapi import (
     APIError, APIUnauthorized, Auth, ClientApiHelper, InvalidFingerprint,
-    InvalidTimestamp, get_interface, CspApiHelper,
+    InvalidTimestamp, get_interface, CspApiHelper, APIForbidden,
 )
 from sentry.testutils import TestCase
 
@@ -361,3 +361,8 @@ class CspApiHelperTest(BaseAPITest):
                 'Referer': 'http://example.com'
             }
         }
+
+    @mock.patch('sentry.interfaces.csp.Csp.to_python', mock.Mock(side_effect=Exception))
+    def test_validate_raises_invalid_interface(self):
+        with self.assertRaises(APIForbidden):
+            self.helper.validate_data(self.project, {})
