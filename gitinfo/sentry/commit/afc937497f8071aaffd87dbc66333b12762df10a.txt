commit afc937497f8071aaffd87dbc66333b12762df10a
Author: Ted Kaemming <ted@kaemming.com>
Date:   Tue Sep 29 16:32:17 2015 -0700

    Actually send the digest email.

diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 82984d19bc..f5dc06f0ef 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -7,6 +7,8 @@ sentry.plugins.sentry_mail.models
 """
 from __future__ import absolute_import
 
+import itertools
+
 import sentry
 
 from django.conf import settings
@@ -193,8 +195,28 @@ class MailPlugin(NotificationPlugin):
             context=context,
         )
 
-    def notify_digest(self, digest):
-        raise NotImplementedError
+    def notify_digest(self, project, digest):
+        # TODO: Probably just put this in a template?
+        # TODO: Maybe project should just be an attribute of the digest?
+        records = list(itertools.chain.from_iterable(digest.values()))
+        # TODO: Pluralization
+        subject = '[{project}] {n} events from {first.datetime} to {last.datetime}]'.format(
+            project=project.get_full_name().encode('utf-8'),
+            n=len(records),
+            first=records[0],
+            last=records[-1],
+        )
+
+        self._send_mail(
+            subject=subject,
+            template='sentry/emails/digests/body.txt',
+            html_template='sentry/emails/digests/body.html',
+            project=project,
+            context={
+                'project': project,
+                'digest': digest,
+            },
+        )
 
 
 # Legacy compatibility
diff --git a/src/sentry/tasks/digests.py b/src/sentry/tasks/digests.py
index 0eb5028963..4c7b60a6e1 100644
--- a/src/sentry/tasks/digests.py
+++ b/src/sentry/tasks/digests.py
@@ -38,4 +38,4 @@ def deliver_digest(key):
     with digests.digest(key) as records:
         digest = build_digest(project, records)
 
-    plugin.notify_digest(digest)
+    plugin.notify_digest(project, digest)
