commit 9c259637be641d80fdaf1b5ade8e8a3bbe1791a3
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Mar 12 16:39:21 2020 -0700

    chore(ts): Allow avatar to accept all span props (#17635)

diff --git a/src/sentry/static/sentry/app/components/avatar/baseAvatar.tsx b/src/sentry/static/sentry/app/components/avatar/baseAvatar.tsx
index 47f6fe5316..dcd0dc0391 100644
--- a/src/sentry/static/sentry/app/components/avatar/baseAvatar.tsx
+++ b/src/sentry/static/sentry/app/components/avatar/baseAvatar.tsx
@@ -67,7 +67,8 @@ type Props = {
   forwardedRef?: React.Ref<HTMLSpanElement>;
 
   style?: React.CSSProperties;
-} & Partial<DefaultProps>;
+} & Partial<DefaultProps> &
+  React.HTMLAttributes<HTMLSpanElement>;
 
 type State = {
   showBackupAvatar: boolean;
@@ -207,6 +208,7 @@ class BaseAvatar extends React.Component<Props, State> {
       tooltip,
       tooltipOptions,
       forwardedRef,
+      ...props
     } = this.props;
     let sizeStyle = {};
 
@@ -228,6 +230,7 @@ class BaseAvatar extends React.Component<Props, State> {
             ...sizeStyle,
             ...style,
           }}
+          {...props}
         >
           {this.state.showBackupAvatar && this.renderLetterAvatar()}
           {this.renderImg()}
diff --git a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
index 597118616d..9283c1d4c6 100644
--- a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
+++ b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
@@ -254,6 +254,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -262,6 +264,10 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -271,6 +277,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -434,6 +442,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -442,6 +452,10 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -451,6 +465,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -614,6 +630,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -622,6 +640,10 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -631,6 +653,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -794,6 +818,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -802,6 +828,10 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -811,6 +841,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -974,6 +1006,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -982,6 +1016,10 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -991,6 +1029,8 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -1206,6 +1246,8 @@ exports[`AvatarList renders with user avatars 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -1214,6 +1256,10 @@ exports[`AvatarList renders with user avatars 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -1223,6 +1269,8 @@ exports[`AvatarList renders with user avatars 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
@@ -1386,6 +1434,8 @@ exports[`AvatarList renders with user avatars 1`] = `
                       >
                         <StyledBaseAvatar
                           className="avatar css-31pfpo-StyledAvatar-Circle e1mtf41h1"
+                          gravatarId="foo@example.com"
+                          letterId="foo@example.com"
                           loaded={true}
                           round={true}
                           style={
@@ -1394,6 +1444,10 @@ exports[`AvatarList renders with user avatars 1`] = `
                               "width": "28px",
                             }
                           }
+                          title="Foo Bar"
+                          type="letter_avatar"
+                          uploadId=""
+                          uploadPath="avatar"
                         >
                           <span
                             className="avatar e1mtf41h1 css-11cenzn-StyledBaseAvatar-StyledAvatar-Circle e147uwb0"
@@ -1403,6 +1457,8 @@ exports[`AvatarList renders with user avatars 1`] = `
                                 "width": "28px",
                               }
                             }
+                            title="Foo Bar"
+                            type="letter_avatar"
                           >
                             <ForwardRef
                               displayName="Foo Bar"
diff --git a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
index 992f0a2675..19d424526b 100644
--- a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
@@ -226,6 +226,7 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
               >
                 <StyledBaseAvatar
                   className="avatar"
+                  letterId="org-slug"
                   loaded={true}
                   round={false}
                   style={
@@ -234,6 +235,9 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                       "width": "36px",
                     }
                   }
+                  title="org slug"
+                  type="letter_avatar"
+                  uploadPath="organization-avatar"
                 >
                   <span
                     className="avatar css-wr6j9i-StyledBaseAvatar e147uwb0"
@@ -243,6 +247,8 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                         "width": "36px",
                       }
                     }
+                    title="org slug"
+                    type="letter_avatar"
                   >
                     <ForwardRef
                       displayName="org slug"
@@ -670,6 +676,8 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                                 >
                                   <StyledBaseAvatar
                                     className="avatar css-593o0g-StyledAvatar e31z2f84"
+                                    gravatarId="foo@example.com"
+                                    letterId="foo@example.com"
                                     loaded={true}
                                     round={true}
                                     style={
@@ -678,6 +686,10 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                                         "width": "32px",
                                       }
                                     }
+                                    title="Foo Bar"
+                                    type="letter_avatar"
+                                    uploadId=""
+                                    uploadPath="avatar"
                                   >
                                     <span
                                       className="avatar e31z2f84 css-13sepyg-StyledBaseAvatar-StyledAvatar e147uwb0"
@@ -687,6 +699,8 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                                           "width": "32px",
                                         }
                                       }
+                                      title="Foo Bar"
+                                      type="letter_avatar"
                                     >
                                       <ForwardRef
                                         displayName="Foo Bar"
@@ -6311,6 +6325,8 @@ exports[`Sidebar renders without org and router 1`] = `
                                 >
                                   <StyledBaseAvatar
                                     className="avatar css-593o0g-StyledAvatar e31z2f84"
+                                    gravatarId="foo@example.com"
+                                    letterId="foo@example.com"
                                     loaded={true}
                                     round={true}
                                     style={
@@ -6319,6 +6335,10 @@ exports[`Sidebar renders without org and router 1`] = `
                                         "width": "32px",
                                       }
                                     }
+                                    title="Foo Bar"
+                                    type="letter_avatar"
+                                    uploadId=""
+                                    uploadPath="avatar"
                                   >
                                     <span
                                       className="avatar e31z2f84 css-13sepyg-StyledBaseAvatar-StyledAvatar e147uwb0"
@@ -6328,6 +6348,8 @@ exports[`Sidebar renders without org and router 1`] = `
                                           "width": "32px",
                                         }
                                       }
+                                      title="Foo Bar"
+                                      type="letter_avatar"
                                     >
                                       <ForwardRef
                                         displayName="Foo Bar"
diff --git a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
index 6b87a34905..f43114b4b2 100644
--- a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
@@ -2862,6 +2862,8 @@ exports[`RuleBuilder renders with suggestions 1`] = `
                                                         >
                                                           <StyledBaseAvatar
                                                             className="avatar"
+                                                            gravatarId="janebloggs@example.com"
+                                                            letterId="janebloggs@example.com"
                                                             loaded={true}
                                                             round={true}
                                                             style={
@@ -2870,6 +2872,10 @@ exports[`RuleBuilder renders with suggestions 1`] = `
                                                                 "width": "28px",
                                                               }
                                                             }
+                                                            title="Jane Bloggs"
+                                                            type="letter_avatar"
+                                                            uploadId=""
+                                                            uploadPath="avatar"
                                                           >
                                                             <span
                                                               className="avatar css-1mqfg1n-StyledBaseAvatar e147uwb0"
@@ -2879,6 +2885,8 @@ exports[`RuleBuilder renders with suggestions 1`] = `
                                                                   "width": "28px",
                                                                 }
                                                               }
+                                                              title="Jane Bloggs"
+                                                              type="letter_avatar"
                                                             >
                                                               <ForwardRef
                                                                 displayName="Jane Bloggs"
diff --git a/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap b/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
index 53a611347d..040ad135b0 100644
--- a/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
+++ b/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
@@ -223,6 +223,8 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                   >
                                     <StyledBaseAvatar
                                       className="avatar"
+                                      gravatarId="example@sentry.io"
+                                      letterId="example@sentry.io"
                                       loaded={true}
                                       round={true}
                                       style={
@@ -231,6 +233,10 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                           "width": "36px",
                                         }
                                       }
+                                      title="Foo Bar"
+                                      type="letter_avatar"
+                                      uploadId=""
+                                      uploadPath="avatar"
                                     >
                                       <span
                                         className="avatar css-1mqfg1n-StyledBaseAvatar e147uwb0"
@@ -240,6 +246,8 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                             "width": "36px",
                                           }
                                         }
+                                        title="Foo Bar"
+                                        type="letter_avatar"
                                       >
                                         <ForwardRef
                                           displayName="Foo Bar"
@@ -601,6 +609,8 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                   >
                                     <StyledBaseAvatar
                                       className="avatar"
+                                      gravatarId="example@sentry.io"
+                                      letterId="example@sentry.io"
                                       loaded={true}
                                       round={true}
                                       style={
@@ -609,6 +619,10 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                           "width": "36px",
                                         }
                                       }
+                                      title="Foo Bar"
+                                      type="letter_avatar"
+                                      uploadId=""
+                                      uploadPath="avatar"
                                     >
                                       <span
                                         className="avatar css-1mqfg1n-StyledBaseAvatar e147uwb0"
@@ -618,6 +632,8 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                             "width": "36px",
                                           }
                                         }
+                                        title="Foo Bar"
+                                        type="letter_avatar"
                                       >
                                         <ForwardRef
                                           displayName="Foo Bar"
