commit 90a3a304c10574c54c478f14f360bd3794e171c4
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu May 21 16:38:48 2020 -0700

    ref(alerts): Totally stop supporting array environments (#18972)

diff --git a/src/sentry/static/sentry/app/views/settings/incidentRules/ruleForm/index.tsx b/src/sentry/static/sentry/app/views/settings/incidentRules/ruleForm/index.tsx
index f0088609fe..037f7b3363 100644
--- a/src/sentry/static/sentry/app/views/settings/incidentRules/ruleForm/index.tsx
+++ b/src/sentry/static/sentry/app/views/settings/incidentRules/ruleForm/index.tsx
@@ -59,7 +59,7 @@ type State = {
   query: string;
   aggregation: AlertRuleAggregations;
   timeWindow: number;
-  environment: string | string[] | null;
+  environment: string | null;
 } & AsyncComponent['state'];
 
 const isEmpty = (str: unknown): boolean => str === '' || !defined(str);
diff --git a/src/sentry/static/sentry/app/views/settings/incidentRules/triggers/chart/index.tsx b/src/sentry/static/sentry/app/views/settings/incidentRules/triggers/chart/index.tsx
index 26c97b07d3..71f4248859 100644
--- a/src/sentry/static/sentry/app/views/settings/incidentRules/triggers/chart/index.tsx
+++ b/src/sentry/static/sentry/app/views/settings/incidentRules/triggers/chart/index.tsx
@@ -21,7 +21,7 @@ type Props = {
 
   query: IncidentRule['query'];
   timeWindow: IncidentRule['timeWindow'];
-  environment: string | string[] | null;
+  environment: string | null;
   aggregation: IncidentRule['aggregation'];
   triggers: Trigger[];
 };
@@ -50,13 +50,7 @@ class TriggersChart extends React.PureComponent<Props> {
         api={api}
         organization={organization}
         query={query}
-        environment={
-          environment
-            ? Array.isArray(environment)
-              ? environment
-              : [environment]
-            : undefined
-        }
+        environment={environment ? [environment] : undefined}
         project={projects.map(({id}) => Number(id))}
         interval={`${timeWindow}m`}
         period={period}
diff --git a/src/sentry/static/sentry/app/views/settings/incidentRules/types.tsx b/src/sentry/static/sentry/app/views/settings/incidentRules/types.tsx
index 896b694f44..591d49224a 100644
--- a/src/sentry/static/sentry/app/views/settings/incidentRules/types.tsx
+++ b/src/sentry/static/sentry/app/views/settings/incidentRules/types.tsx
@@ -50,7 +50,7 @@ export type UnsavedIncidentRule = {
   aggregation: AlertRuleAggregations;
   aggregations: AlertRuleAggregations[];
   projects: string[];
-  environment: string | string[] | null; // Temporarily can be either a string or string list
+  environment: string | null;
   query: string;
   timeWindow: number;
   triggers: Trigger[];
