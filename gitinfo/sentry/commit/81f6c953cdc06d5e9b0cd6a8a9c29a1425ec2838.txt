commit 81f6c953cdc06d5e9b0cd6a8a9c29a1425ec2838
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Mar 1 00:17:04 2016 +0100

    Refactored is_active_superuser to use is_privileged_request

diff --git a/src/sentry/auth/utils.py b/src/sentry/auth/utils.py
index 0384939507..ad1ce7c322 100644
--- a/src/sentry/auth/utils.py
+++ b/src/sentry/auth/utils.py
@@ -23,9 +23,7 @@ def is_active_superuser(request):
     if not user:
         return False
 
-    if settings.INTERNAL_IPS:
-        ip = request.META['REMOTE_ADDR']
-        if not any(ip in addr for addr in settings.INTERNAL_IPS):
-            return False
+    if not is_privileged_request(request):
+        return False
 
     return user.is_superuser
