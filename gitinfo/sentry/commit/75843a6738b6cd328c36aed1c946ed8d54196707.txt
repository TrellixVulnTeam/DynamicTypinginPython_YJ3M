commit 75843a6738b6cd328c36aed1c946ed8d54196707
Author: Katie Lundsgaard <katie@getsentry.com>
Date:   Mon Mar 6 14:21:49 2017 -0800

    Collapse filechange (#5032)
    
    * Collapse file list when number of files is over max allowed

diff --git a/CHANGES b/CHANGES
index bde9e74624..102c551301 100644
--- a/CHANGES
+++ b/CHANGES
@@ -1,5 +1,6 @@
 Version 8.15 (Unreleased)
 -------------------------
+- Added overview for a release to view a breakdown of files changes, commit authors, new issues, and issues resolved
 
 - Refactor usage of ``sentry.app`` to use individual modules.
 
diff --git a/src/sentry/static/sentry/app/components/fileChange.jsx b/src/sentry/static/sentry/app/components/fileChange.jsx
index 03808f5c81..5364bfc034 100644
--- a/src/sentry/static/sentry/app/components/fileChange.jsx
+++ b/src/sentry/static/sentry/app/components/fileChange.jsx
@@ -31,7 +31,7 @@ const FileChange = React.createClass({
       <li className="list-group-item list-group-item-sm ">
         <div className="row">
           <div className="col-sm-9"><small>{filename}</small></div>
-          <div className="col-sm-3 avatar-grid">
+          <div className="col-sm-3 avatar-grid align-right">
           {authors.map(author => {
               return (
                 <span className="avatar-grid-item m-b-0 tip"
diff --git a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
index e4efdefe95..fba78b81f8 100644
--- a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
+++ b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
@@ -11,15 +11,34 @@ import ApiMixin from '../../mixins/apiMixin';
 
 import {t} from '../../locale';
 
+function Collapsed(props) {
+  return (
+    <li className="list-group-item list-group-item-sm align-center">
+      <span className="icon-container">
+      </span>
+      <a onClick={props.onClick}>Show {props.count} collapsed files</a>
+    </li>
+  );
+}
+
+Collapsed.propTypes = {
+  onClick: React.PropTypes.func.isRequired,
+  count: React.PropTypes.number.isRequired
+};
 
 const ReleaseOverview = React.createClass({
   mixins: [ApiMixin],
 
+  statics: {
+    MAX_WHEN_COLLAPSED: 5
+  },
+
   getInitialState() {
     return {
       loading: true,
       error: false,
       projects: [],
+      collapsed: true,
     };
   },
 
@@ -71,6 +90,12 @@ const ReleaseOverview = React.createClass({
     return <div className="box empty">{t('No other projects affected.')}</div>;
   },
 
+  onCollapseToggle() {
+    this.setState({
+      collapsed: !this.state.collapsed
+    });
+  },
+
   render() {
     let {orgId, projectId, version} = this.props.params;
 
@@ -100,24 +125,20 @@ const ReleaseOverview = React.createClass({
     }, {});
 
     let fileCount = Object.keys(fileChangeSummary).length;
+
+    const MAX = ReleaseOverview.MAX_WHEN_COLLAPSED;
+
+    let files = Object.keys(fileChangeSummary);
+    files.sort();
+    if (this.state.collapsed && fileCount > MAX) {
+      files = files.slice(0, MAX);
+    }
+    let numCollapsed = fileCount - files.length;
+
     return (
       <div>
         <div className="row" style={{paddingTop: 10}}>
           <div className="col-sm-8">
-            <h5>{fileCount} Files Changed</h5>
-            <ul className="list-group list-group-striped m-b-2">
-              {Object.keys(fileChangeSummary).map(filename => {
-                return (
-                  <FileChange
-                    key={fileChangeSummary[filename].id}
-                    filename={filename}
-                    authors={Object.values(fileChangeSummary[filename].authors)}
-                    types={fileChangeSummary[filename].types}
-                    />
-                );
-              })}
-            </ul>
-
             <h5>{t('Issues Resolved in this Release')}</h5>
             <IssueList
               endpoint={`/projects/${orgId}/${projectId}/releases/${version}/resolved/`}
@@ -128,7 +149,6 @@ const ReleaseOverview = React.createClass({
               params={{orgId: orgId}}
               className="m-b-2"
               />
-
             <h5>{t('New Issues in this Release')}</h5>
             <IssueList
               endpoint={`/projects/${orgId}/${projectId}/issues/`}
@@ -144,6 +164,20 @@ const ReleaseOverview = React.createClass({
               params={{orgId: orgId}}
               className="m-b-2"
               />
+            <h5>{fileCount} Files Changed</h5>
+            <ul className="list-group list-group-striped m-b-2">
+              {files.map(filename => {
+                return (
+                  <FileChange
+                    key={fileChangeSummary[filename].id}
+                    filename={filename}
+                    authors={Object.values(fileChangeSummary[filename].authors)}
+                    types={fileChangeSummary[filename].types}
+                    />
+                );
+              })}
+              {numCollapsed > 0 && <Collapsed onClick={this.onCollapseToggle} count={numCollapsed}/>}
+            </ul>
           </div>
           <div className="col-sm-4">
             <CommitAuthorStats
