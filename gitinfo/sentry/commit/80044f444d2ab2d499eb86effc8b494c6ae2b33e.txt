commit 80044f444d2ab2d499eb86effc8b494c6ae2b33e
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Jan 10 10:36:14 2018 -0800

    feat: Implement project settings/starred UI (#6911)
    
    * feat: Implement project settings/starred UI
    
    Required for environments feature

diff --git a/src/sentry/static/sentry/app/components/projectHeader/index.jsx b/src/sentry/static/sentry/app/components/projectHeader/index.jsx
index e7168356f4..5257577ae9 100644
--- a/src/sentry/static/sentry/app/components/projectHeader/index.jsx
+++ b/src/sentry/static/sentry/app/components/projectHeader/index.jsx
@@ -1,6 +1,7 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 import {Link} from 'react-router';
+import classNames from 'classnames';
 
 import ProjectSelector from './projectSelector';
 import BookmarkToggle from '../projects/bookmarkToggle';
@@ -21,10 +22,19 @@ class ProjectHeader extends React.Component {
     let features = new Set(project.features);
     let access = new Set(org.access);
 
+    let projectIconClass = classNames('project-select-bookmark icon icon-star-solid', {
+      active: project.isBookmarked,
+    });
+
     return (
       <div className="sub-header flex flex-container flex-vertically-centered">
         <div className="p-t-1">
-          <ProjectSelector organization={org} projectId={project.slug} />
+          <div className="project-select-wrapper">
+            <ProjectSelector organization={org} projectId={project.slug} />
+            <BookmarkToggle orgId={org.slug} project={project}>
+              <a className={projectIconClass} />
+            </BookmarkToggle>
+          </div>
 
           <ul className="nav nav-tabs">
             <li className={navSection == 'stream' ? 'active' : ''}>
@@ -46,39 +56,13 @@ class ProjectHeader extends React.Component {
             <li className={navSection == 'releases' ? 'active' : ''}>
               <Link to={`/${org.slug}/${project.slug}/releases/`}>{t('Releases')}</Link>
             </li>
+            {access.has('project:write') && (
+              <li className={navSection == 'settings' ? 'active' : ''}>
+                <Link to={`/${org.slug}/${project.slug}/settings/`}>{t('Settings')}</Link>
+              </li>
+            )}
           </ul>
         </div>
-
-        <div className="align-right project-actions">
-          <BookmarkToggle orgId={org.slug} project={project}>
-            <a className="btn btn-sm btn-default">
-              <span
-                className={
-                  project.isBookmarked
-                    ? 'icon icon-star-solid active'
-                    : 'icon icon-star-solid'
-                }
-              />
-              {project.isBookmarked ? (
-                <span>{t('Unstar Project')}</span>
-              ) : (
-                <span>{t('Star Project')}</span>
-              )}
-            </a>
-          </BookmarkToggle>
-          {access.has('project:write') && (
-            <Link
-              className={
-                navSection == 'settings'
-                  ? 'btn btn-sm btn-default active'
-                  : 'btn btn-sm btn-default'
-              }
-              to={`/${org.slug}/${project.slug}/settings/`}
-            >
-              <span className="icon icon-settings" /> {t('Project Settings')}
-            </Link>
-          )}
-        </div>
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 4810831ac8..f304597997 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -161,6 +161,21 @@ body.auth {
     }
   }
 
+  .project-select-wrapper {
+    display: flex;
+    align-items: center;
+  }
+
+  .project-select-bookmark {
+    border-left: 1px solid @gray-lightest;
+    padding-left: 10px;
+    margin-left: 10px;
+    color: @40;
+    &.active {
+      color: @yellow-orange;
+    }
+  }
+
   .project-select {
     position: relative;
 
@@ -213,7 +228,7 @@ body.auth {
     }
   }
 
-  .project-select + .nav-tabs,
+  .project-select-wrapper + .nav-tabs,
   #blk_projectselect + .nav-tabs {
     margin-top: 10px;
   }
@@ -279,46 +294,6 @@ footer {
   }
 }
 
-/**
-* Project action menu
-* ============================================================================
-*/
-
-.project-actions {
-  .btn-sm {
-    font-size: 13px;
-    margin-left: 7px;
-    line-height: 21px;
-    padding: 4px 9px;
-  }
-
-  .icon {
-    font-size: 14px;
-    padding-right: 5px;
-    color: @40;
-    position: relative;
-
-    &.icon-star-solid {
-      top: 0;
-      margin: 0;
-    }
-
-    &.icon-signal {
-      font-size: 18px;
-      top: 1px;
-    }
-
-    &.icon-settings {
-      top: 2px;
-      font-size: 15px;
-    }
-
-    &.active {
-      color: @yellow-orange;
-    }
-  }
-}
-
 /**
 * Windowed
 * ============================================================================
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 3bb1ee313a..0f24200318 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -1386,25 +1386,16 @@ table.integrations {
   position: static;
 
   .dropdown-toggle {
-    border: 1px solid @gray-lighter;
-    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
-    border-radius: 50%;
-    height: 21px;
-    width: 21px;
+    height: 23px;
+    width: 23px;
     line-height: 21px;
     // text-align: center;
     position: relative;
-    top: -1px;
 
-    margin-left: 10px;
+    margin-left: 2px;
     display: inline-block;
     vertical-align: middle;
 
-    &:hover {
-      background: @white-darker;
-      border-color: @gray-light;
-    }
-
     .icon-arrow-down {
       position: relative;
       left: 2px;
@@ -1529,14 +1520,6 @@ table.integrations {
       }
     }
   }
-
-  &.open .dropdown-toggle {
-    border-color: darken(@purple, 15);
-    background-color: @purple;
-    .icon-arrow-down {
-      color: #fff;
-    }
-  }
 }
 
 /**
