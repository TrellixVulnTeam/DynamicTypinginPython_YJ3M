commit e069fc66736d688ffc85ccde01f4d8d7b3edea34
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Fri Dec 7 11:13:46 2018 -0800

    fix(api): Raise NoProjects error in events apis if user has no access to projects in org

diff --git a/src/sentry/api/bases/organization_events.py b/src/sentry/api/bases/organization_events.py
index 607933553f..1402b53275 100644
--- a/src/sentry/api/bases/organization_events.py
+++ b/src/sentry/api/bases/organization_events.py
@@ -16,6 +16,10 @@ class OrganizationEventsError(Exception):
     pass
 
 
+class NoProjects(Exception):
+    pass
+
+
 class OrganizationEventsEndpointBase(OrganizationEndpoint):
 
     def get_project_ids(self, request, organization):
@@ -87,6 +91,9 @@ class OrganizationEventsEndpointBase(OrganizationEndpoint):
         except ValueError:
             raise OrganizationEventsError('Invalid project ids')
 
+        if not project_ids:
+            raise NoProjects
+
         environments = self.get_environments(request, organization)
         params = {
             'start': start,
