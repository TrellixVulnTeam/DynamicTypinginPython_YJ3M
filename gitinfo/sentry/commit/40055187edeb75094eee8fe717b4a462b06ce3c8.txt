commit 40055187edeb75094eee8fe717b4a462b06ce3c8
Author: Mark Story <mark@mark-story.com>
Date:   Wed Sep 19 20:20:09 2018 -0400

    ref(ui) Remove well from shared-components (#9775)
    
    Make a new react component for well that covers `.well`. I've also added
    a component for 'hero' sized icons as there were a few icons that relied
    on being inside a .well to become big. I threw in a bit of button
    refactoring as well because I was close by and it was easy to do.
    
    Export Well so it can be used in getsentry.

diff --git a/docs-ui/components/well.stories.js b/docs-ui/components/well.stories.js
new file mode 100644
index 0000000000..af2c9f2886
--- /dev/null
+++ b/docs-ui/components/well.stories.js
@@ -0,0 +1,23 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+import {withKnobs, boolean} from '@storybook/addon-knobs';
+
+import Well from 'app/components/well';
+
+const stories = storiesOf('UI|Well', module);
+stories.addDecorator(withKnobs);
+
+stories.add(
+  'default',
+  withInfo('Well is a container that adds background and padding')(() => {
+    const hasImage = boolean('hasImage', false);
+    const centered = boolean('centered', false);
+
+    return (
+      <Well hasImage={hasImage} centered={centered}>
+        <p>Some content in the well</p>
+      </Well>
+    );
+  })
+);
diff --git a/src/sentry/static/sentry/app/components/avatarChooser.jsx b/src/sentry/static/sentry/app/components/avatarChooser.jsx
index 97eae5a050..8cdd5348a0 100644
--- a/src/sentry/static/sentry/app/components/avatarChooser.jsx
+++ b/src/sentry/static/sentry/app/components/avatarChooser.jsx
@@ -3,6 +3,7 @@ import React from 'react';
 import createReactClass from 'create-react-class';
 import styled from 'react-emotion';
 
+import Well from 'app/components/well';
 import {Panel, PanelBody, PanelHeader} from './panels';
 import {addErrorMessage, addSuccessMessage} from '../actionCreators/indicator';
 import {t} from '../locale';
@@ -176,10 +177,10 @@ const AvatarChooser = createReactClass({
             <AvatarUploadSection>
               {allowGravatar &&
                 avatarType === 'gravatar' && (
-                  <div className="well">
+                  <Well>
                     {t('Gravatars are managed through ')}
                     <ExternalLink href="http://gravatar.com">Gravatar.com</ExternalLink>
-                  </div>
+                  </Well>
                 )}
 
               {avatarType === 'upload' && (
diff --git a/src/sentry/static/sentry/app/components/avatarCropper.jsx b/src/sentry/static/sentry/app/components/avatarCropper.jsx
index 526e454753..0043ad0ea3 100644
--- a/src/sentry/static/sentry/app/components/avatarCropper.jsx
+++ b/src/sentry/static/sentry/app/components/avatarCropper.jsx
@@ -4,6 +4,7 @@ import React from 'react';
 import {addErrorMessage} from 'app/actionCreators/indicator';
 import {AVATAR_URL_MAP} from 'app/constants';
 import {t} from 'app/locale';
+import Well from 'app/components/well';
 
 class AvatarCropper extends React.Component {
   static propTypes = {
@@ -386,14 +387,14 @@ class AvatarCropper extends React.Component {
     return (
       <div>
         {!src && (
-          <div className="image-well well blankslate">
+          <Well hasImage centered>
             <p>
               <a onClick={this.uploadClick}>
                 <strong>Upload a photo</strong>
               </a>{' '}
               to get started.
             </p>
-          </div>
+          </Well>
         )}
         {this.renderImageCrop()}
         {this.renderCanvas()}
diff --git a/src/sentry/static/sentry/app/components/heroIcon.jsx b/src/sentry/static/sentry/app/components/heroIcon.jsx
new file mode 100644
index 0000000000..739f518314
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/heroIcon.jsx
@@ -0,0 +1,16 @@
+import React from 'react';
+import styled from 'react-emotion';
+
+import InlineSvg from 'app/components/inlineSvg';
+
+const HeroIcon = styled(props => {
+  return <InlineSvg {...props} />;
+})`
+  color: ${p => p.theme.gray6};
+`;
+
+HeroIcon.defaultProps = {
+  size: '72px',
+};
+
+export default HeroIcon;
diff --git a/src/sentry/static/sentry/app/components/versionHoverCard.jsx b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
index 6e58a352d3..0f98474dc9 100644
--- a/src/sentry/static/sentry/app/components/versionHoverCard.jsx
+++ b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
@@ -5,6 +5,8 @@ import _ from 'lodash';
 
 import AvatarList from 'app/components/avatar/avatarList';
 
+import {Box} from 'grid-emotion';
+import Button from 'app/components/button';
 import LastCommit from 'app/components/lastCommit';
 import LoadingIndicator from 'app/components/loadingIndicator';
 import LoadingError from 'app/components/loadingError';
@@ -115,16 +117,16 @@ const VersionHoverCard = createReactClass({
     let {orgId} = this.props;
     return {
       body: (
-        <div className="version-hovercard blankslate m-a-0 p-x-1 p-y-1 align-center">
+        <Box p={2} className="align-center">
           <h5>Releases are better with commit data!</h5>
           <p>
             Connect a repository to see commit info, files changed, and authors involved
             in future releases.
           </p>
-          <a className="btn btn-primary" href={`/organizations/${orgId}/repos/`}>
+          <Button href={`/organizations/${orgId}/repos/`} priority="primary">
             Connect a repository
-          </a>
-        </div>
+          </Button>
+        </Box>
       ),
     };
   },
diff --git a/src/sentry/static/sentry/app/components/well.jsx b/src/sentry/static/sentry/app/components/well.jsx
new file mode 100644
index 0000000000..6f7071cd3a
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/well.jsx
@@ -0,0 +1,24 @@
+import styled from 'react-emotion';
+import PropTypes from 'prop-types';
+
+const Well = styled('div')`
+  border: 1px solid ${p => p.theme.borderLight};
+  box-shadow: none;
+  background: ${p => p.theme.whiteDark};
+  padding: ${p => (p.hasImage ? '80px 30px' : '15px 20px')};
+  margin-bottom: 20px;
+  border-radius: 3px;
+  ${p => p.centered && 'text-align: center'};
+`;
+
+Well.propTypes = {
+  hasImage: PropTypes.bool,
+  centered: PropTypes.bool,
+};
+
+Well.defaultProps = {
+  hasImage: false,
+  centered: false,
+};
+
+export default Well;
diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index e89aabbed8..936285ca90 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -165,6 +165,7 @@ export default {
     Switch: require('app/components/switch').default,
     GlobalModal: require('app/components/globalModal').default,
     SetupWizard: require('app/components/setupWizard').default,
+    Well: require('app/components/well').default,
     theme: require('app/utils/theme').default,
     utils: {
       errorHandler: require('app/utils/errorHandler').default,
diff --git a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
index 8360b4cf4c..0f1f896b06 100644
--- a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
+++ b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
@@ -3,10 +3,13 @@ import React from 'react';
 
 import createReactClass from 'create-react-class';
 
+import {Box} from 'grid-emotion';
+import Button from 'app/components/button';
 import withEnvironmentInQueryString from 'app/utils/withEnvironmentInQueryString';
 import LoadingIndicator from 'app/components/loadingIndicator';
 import LoadingError from 'app/components/loadingError';
 import IconOpen from 'app/icons/icon-open';
+import HeroIcon from 'app/components/heroIcon';
 import LastCommit from 'app/components/lastCommit';
 import IssueList from 'app/components/issueList';
 import CommitAuthorStats from 'app/components/commitAuthorStats';
@@ -20,6 +23,7 @@ import {t} from 'app/locale';
 import SentryTypes from 'app/sentryTypes';
 import OrganizationState from 'app/mixins/organizationState';
 import {Panel, PanelBody, PanelItem} from 'app/components/panels';
+import Well from 'app/components/well';
 
 const ReleaseOverview = createReactClass({
   displayName: 'ReleaseOverview',
@@ -284,17 +288,19 @@ const ReleaseOverview = createReactClass({
                 </ul>
               </div>
             ) : (
-              <div className="well blankslate m-t-2 m-b-2 p-x-2 p-t-1 p-b-2 align-center">
-                <span className="icon icon-git-commit" />
+              <Well centered className="m-t-2">
+                <HeroIcon src="icon-commit" />
                 <h5>Releases are better with commit data!</h5>
                 <p>
                   Connect a repository to see commit info, files changed, and authors
                   involved in future releases.
                 </p>
-                <a className="btn btn-primary" href={`/organizations/${orgId}/repos/`}>
-                  Connect a repository
-                </a>
-              </div>
+                <Box mb={1}>
+                  <Button priority="primary" href={`/organizations/${orgId}/repos/`}>
+                    Connect a repository
+                  </Button>
+                </Box>
+              </Well>
             )}
             <h6 className="nav-header m-b-1">{t('Deploys')}</h6>
             <ul className="nav nav-stacked">
diff --git a/src/sentry/static/sentry/app/views/settings/account/accountAvatar.jsx b/src/sentry/static/sentry/app/views/settings/account/accountAvatar.jsx
index e89e68112e..aa3c102016 100644
--- a/src/sentry/static/sentry/app/views/settings/account/accountAvatar.jsx
+++ b/src/sentry/static/sentry/app/views/settings/account/accountAvatar.jsx
@@ -13,6 +13,7 @@ import LoadingIndicator from 'app/components/loadingIndicator';
 import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
 import RadioGroup from 'app/views/settings/components/forms/controls/radioGroup';
 import SentryTypes from 'app/sentryTypes';
+import Well from 'app/components/well';
 
 const AccountAvatar = createReactClass({
   displayName: 'AccountAvatar',
@@ -105,12 +106,12 @@ const AccountAvatar = createReactClass({
     }
 
     let gravatarMessage = (
-      <div className="well">
+      <Well>
         {t('Gravatars are managed through ')}
         <a href="http://gravatar.com" target="_blank" rel="noreferrer noopener">
           Gravatar.com
         </a>
-      </div>
+      </Well>
     );
 
     let isLetter = this.state.user.avatar.avatarType == 'letter_avatar';
diff --git a/src/sentry/static/sentry/app/views/settings/organizationRepositories/organizationRepositories.jsx b/src/sentry/static/sentry/app/views/settings/organizationRepositories/organizationRepositories.jsx
index b7862e2fbb..c31c1b7ae9 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationRepositories/organizationRepositories.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationRepositories/organizationRepositories.jsx
@@ -9,6 +9,7 @@ import Button from 'app/components/button';
 import Confirm from 'app/components/confirm';
 import DropdownLink from 'app/components/dropdownLink';
 import Feature from 'app/components/feature';
+import HeroIcon from 'app/components/heroIcon';
 import MenuItem from 'app/components/menuItem';
 import SpreadLayout from 'app/components/spreadLayout';
 import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
@@ -191,22 +192,21 @@ export default class OrganizationRepositories extends React.Component {
             </PanelBody>
           </Panel>
         ) : (
-          <Panel className="blankslate align-center p-x-2 p-y-1">
-            <div className="icon icon-lg icon-git-commit" />
+          <Panel className="align-center p-x-2 p-y-1">
+            <Box mb={1}>
+              <HeroIcon src="icon-commit" />
+            </Box>
             <h3>{t('Sentry is better with commit data')}</h3>
             <TextBlock>
               {t(
                 'Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message.'
               )}
             </TextBlock>
-            <p className="m-b-1">
-              <a
-                className="btn btn-default"
-                href="https://docs.sentry.io/learn/releases/"
-              >
-                Learn more
-              </a>
-            </p>
+            <Box mb={1}>
+              <Button href="https://docs.sentry.io/learn/releases/">
+                {t('Learn more')}
+              </Button>
+            </Box>
           </Panel>
         )}
       </div>
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 15ed91e83e..1211d6dc5a 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -2546,7 +2546,6 @@ ul.radio-inputs {
 * Well
 * ============================================================================
 */
-
 .well {
   border: 1px solid @trim;
   box-shadow: none;
@@ -2554,37 +2553,23 @@ ul.radio-inputs {
   padding: 15px 20px;
   margin-bottom: 20px;
   border-radius: 3px;
-
   p {
     &:last-child {
       margin-bottom: 0;
     }
   }
-
-  &.important {
-    background: @yellow;
-    border: 0;
-    a,
-    a:active {
-      color: @gray-dark;
-    }
-  }
-
   &.image-well {
     padding: 80px 30px;
   }
 }
-
 .blankslate {
   text-align: center;
   padding: 50px 0;
-
   .icon {
     font-size: 72px;
     color: @40;
     margin-bottom: 10px;
   }
-
   h5 {
     margin-bottom: 10px;
   }
diff --git a/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
index 4d5da2c4c6..17f78fb75b 100644
--- a/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/organizationRepositories.spec.jsx.snap
@@ -170,27 +170,33 @@ exports[`OrganizationRepositories renders with github provider 1`] = `
     </TextBlock>
   </div>
   <Panel
-    className="blankslate align-center p-x-2 p-y-1"
+    className="align-center p-x-2 p-y-1"
   >
-    <div
-      className="icon icon-lg icon-git-commit"
-    />
+    <Box
+      mb={1}
+    >
+      <HeroIcon
+        size="72px"
+        src="icon-commit"
+      />
+    </Box>
     <h3>
       Sentry is better with commit data
     </h3>
     <TextBlock>
       Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message.
     </TextBlock>
-    <p
-      className="m-b-1"
+    <Box
+      mb={1}
     >
-      <a
-        className="btn btn-default"
+      <Button
+        alignLabel="left"
+        disabled={false}
         href="https://docs.sentry.io/learn/releases/"
       >
         Learn more
-      </a>
-    </p>
+      </Button>
+    </Box>
   </Panel>
 </div>
 `;
@@ -257,27 +263,33 @@ exports[`OrganizationRepositories renders without providers 1`] = `
     </TextBlock>
   </div>
   <Panel
-    className="blankslate align-center p-x-2 p-y-1"
+    className="align-center p-x-2 p-y-1"
   >
-    <div
-      className="icon icon-lg icon-git-commit"
-    />
+    <Box
+      mb={1}
+    >
+      <HeroIcon
+        size="72px"
+        src="icon-commit"
+      />
+    </Box>
     <h3>
       Sentry is better with commit data
     </h3>
     <TextBlock>
       Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message.
     </TextBlock>
-    <p
-      className="m-b-1"
+    <Box
+      mb={1}
     >
-      <a
-        className="btn btn-default"
+      <Button
+        alignLabel="left"
+        disabled={false}
         href="https://docs.sentry.io/learn/releases/"
       >
         Learn more
-      </a>
-    </p>
+      </Button>
+    </Box>
   </Panel>
 </div>
 `;
