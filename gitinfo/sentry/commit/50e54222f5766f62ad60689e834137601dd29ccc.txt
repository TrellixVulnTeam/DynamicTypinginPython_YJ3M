commit 50e54222f5766f62ad60689e834137601dd29ccc
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Aug 7 16:53:12 2016 -0700

    Test proving managers cannot load api keys

diff --git a/src/sentry/testutils/cases.py b/src/sentry/testutils/cases.py
index 36a000cba9..1ccea44490 100644
--- a/src/sentry/testutils/cases.py
+++ b/src/sentry/testutils/cases.py
@@ -344,6 +344,15 @@ class PermissionTestCase(TestCase):
 
         self.assert_cannot_access(user, path)
 
+    def assert_manager_cannot_access(self, path):
+        user = self.create_user(is_superuser=False)
+        self.create_member(
+            user=user, organization=self.organization,
+            role='manager', teams=[self.team],
+        )
+
+        self.assert_cannot_access(user, path)
+
     def assert_teamless_member_cannot_access(self, path):
         user = self.create_user(is_superuser=False)
         self.create_member(
diff --git a/tests/sentry/web/frontend/test_organization_api_keys.py b/tests/sentry/web/frontend/test_organization_api_keys.py
index 4420d3cabd..f93a388a6d 100644
--- a/tests/sentry/web/frontend/test_organization_api_keys.py
+++ b/tests/sentry/web/frontend/test_organization_api_keys.py
@@ -17,6 +17,9 @@ class OrganizationApiKeysPermissionTest(PermissionTestCase):
     def test_member_cannot_load(self):
         self.assert_member_cannot_access(self.path)
 
+    def test_manager_cannot_load(self):
+        self.assert_manager_cannot_access(self.path)
+
     def test_owner_can_load(self):
         self.assert_owner_can_access(self.path)
 
