commit 62d0f554237d21642e4bd698efe62a9d5e2e0ade
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Mar 1 02:22:43 2012 -0800

    Add sorting to the project list as well as the date the project was created

diff --git a/sentry/templates/sentry/admin/projects/list.html b/sentry/templates/sentry/admin/projects/list.html
index 53a34c2567..43ac578722 100644
--- a/sentry/templates/sentry/admin/projects/list.html
+++ b/sentry/templates/sentry/admin/projects/list.html
@@ -25,11 +25,13 @@
                     <col>
                     <col style="width:150px;">
                     <col style="width:150px;">
+                    <col style="width:150px;">
                 </colgroup>
                 <thead>
                     <tr>
-                        <th>{% trans "Project" %}</th>
-                        <th style="text-align:center;">{% trans "Daily Events" %}</th>
+                        <th><a href="?sort=name">{% trans "Project" %}</a></th>
+                        <th style="text-align:center;"><a href="?sort=events">{% trans "Daily Events" %}</th>
+                        <th style="text-align:center;"><a href="?sort=date">{% trans "Date Added" %}</th>
                     </tr>
                 </thead>
                 <tbody>
@@ -50,6 +52,9 @@
                             <td style="text-align:center; vertical-align:middle;">
                                 <em>~{{ project|avg_events_per_day }}</em>
                             </td>
+                            <td style="text-align:center; vertical-align:middle;">
+                                {{ project.date_added|date }}
+                            </td>
                         </tr>
                     {% endfor %}
                 </tbody>
diff --git a/sentry/web/frontend/admin.py b/sentry/web/frontend/admin.py
index 4741cc5741..72df0ad402 100644
--- a/sentry/web/frontend/admin.py
+++ b/sentry/web/frontend/admin.py
@@ -49,6 +49,9 @@ def configure_plugin(request, slug):
 
 @requires_admin
 def manage_projects(request):
+    sort = request.GET.get('sort')
+    if sort not in ('name', 'date', 'events'):
+        sort = 'date'
     project_list = Project.objects.filter(
         status=0,
     ).exclude(
@@ -56,10 +59,20 @@ def manage_projects(request):
     ).annotate(
         avg_events_per_n=Sum('projectcountbyminute__times_seen'),
         n_value=Count('projectcountbyminute__times_seen')
-    ).select_related('owner').order_by('-date_added')
+    ).select_related('owner')
+
+    if sort == 'date':
+        order_by = '-date_added'
+    elif sort == 'name':
+        order_by = 'name'
+    elif sort == 'events':
+        order_by = '-avg_events_per_n'
+
+    project_list = project_list.order_by(order_by)
 
     context = {
         'project_list': project_list,
+        'sort': sort,
     }
 
     return render_to_response('sentry/admin/projects/list.html', context, request)
diff --git a/setup.py b/setup.py
index 413bd542b9..53a69b37e3 100755
--- a/setup.py
+++ b/setup.py
@@ -49,7 +49,7 @@ install_requires = [
 
 setup(
     name='sentry',
-    version='3.4.1',
+    version='3.4.2',
     author='David Cramer',
     author_email='dcramer@gmail.com',
     url='http://github.com/dcramer/sentry',
