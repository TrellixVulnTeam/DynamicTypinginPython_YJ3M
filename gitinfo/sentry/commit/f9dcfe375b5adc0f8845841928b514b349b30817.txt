commit f9dcfe375b5adc0f8845841928b514b349b30817
Author: Priscila Oliveira <priscilawebdev@gmail.com>
Date:   Thu May 28 16:42:56 2020 +0200

    ref(breadcrumb): Updated colors and icons (#19062)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/category.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/category.tsx
index 57a40c80cd..afd441893e 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/category.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/category.tsx
@@ -1,8 +1,8 @@
 import React from 'react';
 import styled from '@emotion/styled';
 
+import TextOverflow from 'app/components/textOverflow';
 import Tooltip from 'app/components/tooltip';
-import overflowEllipsis from 'app/styles/overflowEllipsis';
 import {defined} from 'app/utils';
 import {t} from 'app/locale';
 
@@ -13,9 +13,11 @@ type Props = {
 const Category = ({category}: Props) => {
   const title = !defined(category) ? t('generic') : category;
   return (
-    <Tooltip title={title}>
-      <Wrapper title={title}>{title}</Wrapper>
-    </Tooltip>
+    <Wrapper title={title}>
+      <Tooltip title={title} containerDisplayMode="inline-flex">
+        <TextOverflow>{title}</TextOverflow>
+      </Tooltip>
+    </Wrapper>
   );
 };
 
@@ -25,6 +27,4 @@ const Wrapper = styled('div')`
   color: ${p => p.theme.gray800};
   font-size: ${p => p.theme.fontSizeSmall};
   font-weight: 700;
-  line-height: 26px;
-  ${overflowEllipsis};
 `;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/convertCrumbType.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/convertCrumbType.tsx
index a3c412ec05..fa29c01cc9 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/convertCrumbType.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/convertCrumbType.tsx
@@ -40,7 +40,7 @@ function convertCrumbType(breadcrumb: Breadcrumb): Breadcrumb {
     ) {
       return {
         ...breadcrumb,
-        type: BreadcrumbType.ERROR,
+        type: BreadcrumbType.TRANSACTION,
       };
     }
   }
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/getCrumbDetails.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/getCrumbDetails.tsx
index f088bc2f2c..4b046878de 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/getCrumbDetails.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/getCrumbDetails.tsx
@@ -10,6 +10,7 @@ import {
   IconStack,
   IconMobile,
   IconSwitch,
+  IconSpan,
 } from 'app/icons';
 import {t} from 'app/locale';
 
@@ -20,79 +21,76 @@ function getCrumbDetails(type: BreadcrumbType) {
     case BreadcrumbType.USER:
     case BreadcrumbType.UI:
       return {
-        color: 'purple',
+        color: 'purple400',
         icon: IconUser,
         description: t('User Action'),
       };
 
     case BreadcrumbType.NAVIGATION:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#1C8952',
+        color: 'green500',
         icon: IconLocation,
         description: t('Navigation'),
       };
 
     case BreadcrumbType.DEBUG:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#3E2C73',
+        color: 'purple500',
         icon: IconFix,
         description: t('Debug'),
       };
 
     case BreadcrumbType.INFO:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#3D74DB',
+        color: 'blue400',
         icon: IconInfo,
         description: t('Info'),
       };
 
     case BreadcrumbType.ERROR:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#FA4747',
+        color: 'red400',
         icon: IconFire,
         description: t('Error'),
       };
 
     case BreadcrumbType.HTTP:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#4DC771',
+        color: 'green400',
         icon: IconSwitch,
         description: t('HTTP request'),
       };
 
     case BreadcrumbType.WARNING:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#FF7738',
+        color: 'orange400',
         icon: IconWarning,
         description: t('Warning'),
       };
     case BreadcrumbType.QUERY:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#194591',
+        color: 'blue500',
         icon: IconStack,
         description: t('Query'),
       };
     case BreadcrumbType.SYSTEM:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#FF99BC',
+        color: 'pink300',
         icon: IconMobile,
         description: t('System'),
       };
     case BreadcrumbType.SESSION:
       return {
-        // TODO(style): replace the color below, as soon as it is part of the theme
-        color: '#BA4A23',
+        color: 'orange500',
         icon: IconRefresh,
         description: t('Session'),
       };
+    case BreadcrumbType.TRANSACTION:
+      return {
+        color: 'pink400',
+        icon: IconSpan,
+        description: t('Transaction'),
+      };
     default:
       return {
         icon: IconTerminal,
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/level.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/level.tsx
index 3c405b0f18..e39bbdfed6 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/level.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/level.tsx
@@ -1,7 +1,9 @@
 import React from 'react';
+import styled from '@emotion/styled';
 
 import Tag from 'app/views/settings/components/tag';
 import {t} from 'app/locale';
+import {Color} from 'app/utils/theme';
 
 import {BreadcrumbLevelType} from './types';
 
@@ -12,15 +14,22 @@ type Props = {
 const Level = ({level}: Props) => {
   switch (level) {
     case BreadcrumbLevelType.FATAL:
+      return <StyledTag color="red500">{level}</StyledTag>;
     case BreadcrumbLevelType.ERROR:
-      return <Tag priority="error">{level}</Tag>;
+      return <StyledTag color="red400">{level}</StyledTag>;
     case BreadcrumbLevelType.INFO:
-      return <Tag priority="info">{level}</Tag>;
+      return <StyledTag color="blue400">{level}</StyledTag>;
     case BreadcrumbLevelType.WARNING:
-      return <Tag priority="warning">{level}</Tag>;
+      return <StyledTag color="orange400">>{level}</StyledTag>;
     default:
       return <Tag>{level || t('undefined')}</Tag>;
   }
 };
 
 export default Level;
+
+// TODO(style): Update the tag component with the new colors
+const StyledTag = styled(Tag)<{color: Color}>`
+  background-color: ${p => p.theme[p.color]};
+  color: ${p => p.theme.white};
+`;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/styles.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/styles.tsx
index 88130cfbd0..830ee72c97 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/styles.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/styles.tsx
@@ -19,7 +19,8 @@ const IconWrapper = styled('div', {
   border-radius: 32px;
   z-index: 1;
   position: relative;
-  border: 1px solid ${p => p.theme.gray500};
+  border: 1px solid ${p => p.theme.gray400};
+  color: ${p => p.theme.gray800};
   ${p =>
     p.color &&
     `
@@ -33,7 +34,6 @@ const GridCell = styled('div')<{
   isLastItem?: boolean;
 }>`
   position: relative;
-  line-height: 26px;
   border-bottom: 1px solid ${p => p.theme.borderLight};
   margin-bottom: -1px;
   text-overflow: ellipsis;
@@ -54,6 +54,8 @@ const GridCell = styled('div')<{
 `;
 
 const GridCellLeft = styled(GridCell)`
+  align-items: center;
+  line-height: 1;
   padding: ${space(1)} ${space(0.5)} ${space(1)} ${space(1)};
   :before {
     content: '';
@@ -80,7 +82,7 @@ const Grid = styled('div')<{maxHeight?: React.CSSProperties['maxHeight']}>`
   }
   grid-template-columns: 45px 55px 1fr 76px 65px;
   @media (min-width: ${p => p.theme.breakpoints[0]}) {
-    grid-template-columns: 65px 110px 1fr 94px 84px;
+    grid-template-columns: 65px 132px 1fr 94px 84px;
   }
 `;
 
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/time.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/time.tsx
index 085d92342f..517ba32cdd 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/time.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/time.tsx
@@ -5,7 +5,7 @@ import moment from 'moment';
 import {defined} from 'app/utils';
 import Tooltip from 'app/components/tooltip';
 import getDynamicText from 'app/utils/getDynamicText';
-import overflowEllipsis from 'app/styles/overflowEllipsis';
+import TextOverflow from 'app/components/textOverflow';
 
 const getBreadcrumbTimeTooltipTitle = (timestamp: string) => {
   const parsedTimestamp = moment(timestamp);
@@ -19,14 +19,19 @@ type Props = {
 
 const Time = ({timestamp}: Props) =>
   defined(timestamp) ? (
-    <Tooltip title={getBreadcrumbTimeTooltipTitle(timestamp)}>
-      <Wrapper>
-        {getDynamicText({
-          value: moment(timestamp).format('HH:mm:ss'),
-          fixed: '00:00:00',
-        })}
-      </Wrapper>
-    </Tooltip>
+    <Wrapper>
+      <Tooltip
+        title={getBreadcrumbTimeTooltipTitle(timestamp)}
+        containerDisplayMode="inline-flex"
+      >
+        <TextOverflow>
+          {getDynamicText({
+            value: moment(timestamp).format('HH:mm:ss'),
+            fixed: '00:00:00',
+          })}
+        </TextOverflow>
+      </Tooltip>
+    </Wrapper>
   ) : null;
 
 export default Time;
@@ -34,5 +39,4 @@ export default Time;
 const Wrapper = styled('div')`
   font-size: ${p => p.theme.fontSizeSmall};
   color: ${p => p.theme.gray700};
-  ${overflowEllipsis};
 `;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/types.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/types.tsx
index 64b9bd38b0..f59153f339 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/types.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/types.tsx
@@ -26,6 +26,7 @@ export enum BreadcrumbType {
   NAVIGATION = 'navigation',
   SYSTEM = 'system',
   SESSION = 'session',
+  TRANSACTION = 'transaction',
 }
 
 type BreadcrumbTypeBase = {
@@ -88,7 +89,8 @@ export type BreadcrumbTypeDefault = {
     | BreadcrumbType.DEFAULT
     | BreadcrumbType.SESSION
     | BreadcrumbType.SYSTEM
-    | BreadcrumbType.SESSION;
+    | BreadcrumbType.SESSION
+    | BreadcrumbType.TRANSACTION;
   data?: {[key: string]: any};
 } & BreadcrumbTypeBase;
 
