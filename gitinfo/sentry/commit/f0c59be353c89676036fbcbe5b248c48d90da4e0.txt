commit f0c59be353c89676036fbcbe5b248c48d90da4e0
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 23 02:55:42 2012 -0700

    Improve send_fake_data's efficiency

diff --git a/sentry/management/commands/send_fake_data.py b/sentry/management/commands/send_fake_data.py
index c49e45ba4d..879df2c8ae 100644
--- a/sentry/management/commands/send_fake_data.py
+++ b/sentry/management/commands/send_fake_data.py
@@ -6,6 +6,7 @@ sentry.management.commands.send_fake_data
 :copyright: (c) 2012 by the Sentry Team, see AUTHORS for more details.
 :license: BSD, see LICENSE for more details.
 """
+import eventlet
 import eventlet.patcher
 import itertools
 import random
@@ -50,14 +51,16 @@ class Command(BaseCommand):
 
         s = time.time()
         r = 0
+        pool = eventlet.GreenPool(16)
         try:
             while True:
-                random.choice(functions)(client)
+                pool.spawn_n(random.choice(functions), (client))
                 r += 1
-                eventlet.sleep(0.3)
+                # eventlet.sleep(0.3)
         except KeyboardInterrupt:
             pass
         finally:
+            pool.waitall()
             total_time = time.time() - s
             print '%d requests serviced in %.3fs' % (r, total_time)
             avg = total_time / r
