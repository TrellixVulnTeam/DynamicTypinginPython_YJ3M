commit 398500d5583997fcb067c9bf6b6ddb5f112f93bb
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Mon Mar 19 11:56:42 2018 -0700

    Revert "fix(stream): Do not refetch stream if only environment in query string changes (#7673)" (#7692)
    
    This reverts commit 8a9a3293e261a6b4f7c6ab7d480bffcecc26c366.

diff --git a/src/sentry/static/sentry/app/views/stream/stream.jsx b/src/sentry/static/sentry/app/views/stream/stream.jsx
index 9ba45f8b17..c5f83347d3 100644
--- a/src/sentry/static/sentry/app/views/stream/stream.jsx
+++ b/src/sentry/static/sentry/app/views/stream/stream.jsx
@@ -6,7 +6,6 @@ import {Link, browserHistory} from 'react-router';
 import Cookies from 'js-cookie';
 import {StickyContainer, Sticky} from 'react-sticky';
 import classNames from 'classnames';
-import {isEqual, omit} from 'lodash';
 
 import SentryTypes from '../../proptypes';
 import ApiMixin from '../../mixins/apiMixin';
@@ -120,14 +119,7 @@ const Stream = createReactClass({
       ? nextSearchId
       : nextSearchId !== this.state.searchId;
 
-    // We omit environment when we check the the query has changed as we
-    // handle environment changes separately
-    let queryChanged = !isEqual(
-      omit(nextProps.location.query, 'environment'),
-      omit(this.props.location.query, 'environment')
-    );
-
-    if (searchIdChanged || queryChanged) {
+    if (searchIdChanged || nextProps.location.search !== this.props.location.search) {
       this.setState(this.getQueryState(nextProps), this.fetchData);
     }
   },
