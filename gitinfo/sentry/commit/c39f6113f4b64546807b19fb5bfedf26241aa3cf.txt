commit c39f6113f4b64546807b19fb5bfedf26241aa3cf
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Tue Jun 30 13:57:41 2020 -0400

    fix(apm): Fix span children traversal button when global views feature is present (#19635)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
index e199959a4b..265065b6f6 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import map from 'lodash/map';
 import styled from '@emotion/styled';
+import * as Sentry from '@sentry/browser';
 
 import {Organization, SentryTransactionEvent} from 'app/types';
 import {Client} from 'app/api';
@@ -71,8 +72,8 @@ class SpanDetail extends React.Component<Props, State> {
           transactionResults: response.data,
         });
       })
-      .catch(_error => {
-        // don't do anything
+      .catch(error => {
+        Sentry.captureException(error);
       });
   }
 
@@ -100,12 +101,16 @@ class SpanDetail extends React.Component<Props, State> {
       sort: ['-id'],
       query: `event.type:transaction trace:${traceID} trace.parent_span:${spanID}`,
       project: organization.features.includes('global-views')
-        ? undefined
+        ? []
         : [Number(event.projectID)],
       start,
       end,
     };
 
+    if (query.project.length === 0) {
+      delete query.project;
+    }
+
     return api.requestPromise(url, {
       method: 'GET',
       query,
