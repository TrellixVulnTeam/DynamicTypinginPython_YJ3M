commit b2fcdd9835a264ae9d4e88665616732fb7622c2d
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Nov 28 21:43:27 2011 -0500

    Keep raw timestamp and timestamp parsed as a float separate
    
    The parsed timestamp shouldn't be used in comparison with the
    signature. A parsed timestamp is subject to float precision errors
    causing the signature to be invalid. Trust the client's exact timestamp
    sent.

diff --git a/sentry/web/api.py b/sentry/web/api.py
index 3333b57468..662e8fc137 100644
--- a/sentry/web/api.py
+++ b/sentry/web/api.py
@@ -66,11 +66,11 @@ def store(request):
         # Signed data packet
         if signature and timestamp:
             try:
-                timestamp = float(timestamp)
+                timestamp_float = float(timestamp)
             except ValueError:
                 return HttpResponseBadRequest('Invalid timestamp')
 
-            if timestamp < time.time() - 3600: # 1 hour
+            if timestamp_float < time.time() - 3600: # 1 hour
                 return HttpResponseGone('Message has expired')
 
             sig_hmac = get_signature(data, timestamp, secret_key)
