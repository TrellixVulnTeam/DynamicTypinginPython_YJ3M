commit e0d8343d8d422d1ee1c469e1c2c84f74a4ad6ac2
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon Dec 16 16:37:54 2019 -0800

    test(js): Fix more random API mock warnings (#16107)
    
    ...fix more unmocked endpoint warnings

diff --git a/tests/js/spec/components/group/sidebar.spec.jsx b/tests/js/spec/components/group/sidebar.spec.jsx
index 7369e30ed7..a8eb9f2582 100644
--- a/tests/js/spec/components/group/sidebar.spec.jsx
+++ b/tests/js/spec/components/group/sidebar.spec.jsx
@@ -40,6 +40,11 @@ describe('GroupSidebar', function() {
       body: group,
     });
 
+    MockApiClient.addMockResponse({
+      url: '/groups/1/external-issues/',
+      body: [],
+    });
+
     tagsMock = MockApiClient.addMockResponse({
       url: '/issues/1/tags/',
       body: TestStubs.Tags(),
diff --git a/tests/js/spec/components/modals/commandPaletteModal.spec.jsx b/tests/js/spec/components/modals/commandPaletteModal.spec.jsx
index 31dbf6e5bb..779b18c254 100644
--- a/tests/js/spec/components/modals/commandPaletteModal.spec.jsx
+++ b/tests/js/spec/components/modals/commandPaletteModal.spec.jsx
@@ -38,6 +38,14 @@ describe('Command Palette Modal', function() {
       query: 'foo',
       body: TestStubs.Members(),
     });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/plugins/?plugins=_all',
+      body: [],
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/config/integrations/',
+      body: [],
+    });
 
     MockApiClient.addMockResponse({
       url: '/internal/health/',
diff --git a/tests/js/spec/components/organizations/globalSelectionHeader.spec.jsx b/tests/js/spec/components/organizations/globalSelectionHeader.spec.jsx
index 514138f72f..0323d9ba4b 100644
--- a/tests/js/spec/components/organizations/globalSelectionHeader.spec.jsx
+++ b/tests/js/spec/components/organizations/globalSelectionHeader.spec.jsx
@@ -66,6 +66,10 @@ describe('GlobalSelectionHeader', function() {
       router.push,
       router.replace,
     ].forEach(mock => mock.mockClear());
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
   });
 
   it('does not update router if there is custom routing', function() {
diff --git a/tests/js/spec/views/dashboards/dashboard.spec.jsx b/tests/js/spec/views/dashboards/dashboard.spec.jsx
index a668bb896f..3312a19aa6 100644
--- a/tests/js/spec/views/dashboards/dashboard.spec.jsx
+++ b/tests/js/spec/views/dashboards/dashboard.spec.jsx
@@ -43,6 +43,10 @@ describe('OrganizationDashboard', function() {
       url: `/organizations/${org.slug}/environments/`,
       body: TestStubs.Environments(),
     });
+    MockApiClient.addMockResponse({
+      url: `/organizations/${org.slug}/projects/`,
+      body: [],
+    });
     discoverMock = MockApiClient.addMockResponse({
       url: '/organizations/org-slug/discover/query/',
       method: 'POST',
diff --git a/tests/js/spec/views/dashboards/overviewDashboard.spec.jsx b/tests/js/spec/views/dashboards/overviewDashboard.spec.jsx
index 0451f7c651..fea4f0e353 100644
--- a/tests/js/spec/views/dashboards/overviewDashboard.spec.jsx
+++ b/tests/js/spec/views/dashboards/overviewDashboard.spec.jsx
@@ -39,6 +39,10 @@ describe('OverviewDashboard', function() {
   };
 
   beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: `/organizations/${org.slug}/environments/`,
       body: TestStubs.Environments(),
diff --git a/tests/js/spec/views/discover/index.spec.jsx b/tests/js/spec/views/discover/index.spec.jsx
index 9b8c6807b9..564409c5bd 100644
--- a/tests/js/spec/views/discover/index.spec.jsx
+++ b/tests/js/spec/views/discover/index.spec.jsx
@@ -9,6 +9,10 @@ import ProjectsStore from 'app/stores/projectsStore';
 describe('DiscoverContainer', function() {
   beforeEach(function() {
     browserHistory.push = jest.fn();
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
   });
 
   afterEach(function() {
diff --git a/tests/js/spec/views/discover/queryBuilder.spec.jsx b/tests/js/spec/views/discover/queryBuilder.spec.jsx
index ba88d999cd..291a7303a9 100644
--- a/tests/js/spec/views/discover/queryBuilder.spec.jsx
+++ b/tests/js/spec/views/discover/queryBuilder.spec.jsx
@@ -5,6 +5,12 @@ import ConfigStore from 'app/stores/configStore';
 jest.mock('app/actionCreators/modal');
 
 describe('Query Builder', function() {
+  beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/discover/query/?per_page=1000&cursor=0:0:1',
+      method: 'POST',
+    });
+  });
   afterEach(function() {
     jest.clearAllMocks();
   });
diff --git a/tests/js/spec/views/events/index.spec.jsx b/tests/js/spec/views/events/index.spec.jsx
index e5282551e2..399a6212f1 100644
--- a/tests/js/spec/views/events/index.spec.jsx
+++ b/tests/js/spec/views/events/index.spec.jsx
@@ -28,6 +28,10 @@ describe('EventsContainer', function() {
   });
 
   beforeAll(async function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/tags/',
       body: [{count: 1, tag: 'transaction'}, {count: 2, tag: 'mechanism'}],
diff --git a/tests/js/spec/views/eventsV2/eventDetails.spec.jsx b/tests/js/spec/views/eventsV2/eventDetails.spec.jsx
index 09c73ee68e..d261e0f121 100644
--- a/tests/js/spec/views/eventsV2/eventDetails.spec.jsx
+++ b/tests/js/spec/views/eventsV2/eventDetails.spec.jsx
@@ -13,6 +13,11 @@ describe('EventsV2 > EventDetails', function() {
   );
 
   beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
+
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/eventsv2/',
       body: {
diff --git a/tests/js/spec/views/eventsV2/index.spec.jsx b/tests/js/spec/views/eventsV2/index.spec.jsx
index d369006901..69c6c3b91f 100644
--- a/tests/js/spec/views/eventsV2/index.spec.jsx
+++ b/tests/js/spec/views/eventsV2/index.spec.jsx
@@ -8,6 +8,10 @@ describe('EventsV2 > Landing', function() {
   const features = ['events-v2'];
 
   beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/eventsv2/',
       body: {
diff --git a/tests/js/spec/views/eventsV2/results.spec.jsx b/tests/js/spec/views/eventsV2/results.spec.jsx
index 55c28e6b3d..2a3207b6d3 100644
--- a/tests/js/spec/views/eventsV2/results.spec.jsx
+++ b/tests/js/spec/views/eventsV2/results.spec.jsx
@@ -32,6 +32,26 @@ describe('EventsV2 > Results', function() {
   const features = ['events-v2'];
 
   beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/tags/',
+      body: [],
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/event-stats/',
+      body: [],
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/recent-searches/',
+      body: [],
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/releases/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/eventsv2/',
       body: {
diff --git a/tests/js/spec/views/incidents/details/index.spec.jsx b/tests/js/spec/views/incidents/details/index.spec.jsx
index b7694a856d..55208ec580 100644
--- a/tests/js/spec/views/incidents/details/index.spec.jsx
+++ b/tests/js/spec/views/incidents/details/index.spec.jsx
@@ -31,6 +31,11 @@ describe('IncidentDetails', function() {
       body: [],
     });
 
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/incidents/123/seen/',
+      method: 'POST',
+    });
+
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/incidents/123/suspects/',
       body: [TestStubs.IncidentSuspectCommit()],
@@ -41,7 +46,11 @@ describe('IncidentDetails', function() {
     });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/incidents/456/suspects/',
-      body: [],
+      statusCode: 404,
+    });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/incidents/456/activity/',
+      statusCode: 404,
     });
     activitiesList = MockApiClient.addMockResponse({
       url: `/organizations/${organization.slug}/incidents/${
diff --git a/tests/js/spec/views/issueList/createIncident.spec.jsx b/tests/js/spec/views/issueList/createIncident.spec.jsx
index 66518b7850..7321e9d750 100644
--- a/tests/js/spec/views/issueList/createIncident.spec.jsx
+++ b/tests/js/spec/views/issueList/createIncident.spec.jsx
@@ -59,6 +59,10 @@ describe('IssueList --> Create Incident', function() {
 
   beforeEach(function() {
     MockApiClient.clearMockResponses();
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/searches/',
       body: [savedSearch],
diff --git a/tests/js/spec/views/issueList/overview.spec.jsx b/tests/js/spec/views/issueList/overview.spec.jsx
index 97ff4d19fc..6b7efc726c 100644
--- a/tests/js/spec/views/issueList/overview.spec.jsx
+++ b/tests/js/spec/views/issueList/overview.spec.jsx
@@ -70,6 +70,11 @@ describe('IssueList,', function() {
       url: '/organizations/org-slug/recent-searches/',
       body: [],
     });
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/recent-searches/',
+      method: 'POST',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/org-slug/processingissues/',
       method: 'GET',
diff --git a/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx b/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
index b2e8b9707f..24aded382b 100644
--- a/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
+++ b/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
@@ -8,6 +8,10 @@ describe('ReleaseDetails', function() {
 
   beforeEach(function() {
     MockApiClient.clearMockResponses();
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
     MockApiClient.addMockResponse({
       url: '/organizations/acme/releases/9.1.1/',
       body: {
diff --git a/tests/js/spec/views/releases/list/index.spec.jsx b/tests/js/spec/views/releases/list/index.spec.jsx
index e3dc25f242..e38964d505 100644
--- a/tests/js/spec/views/releases/list/index.spec.jsx
+++ b/tests/js/spec/views/releases/list/index.spec.jsx
@@ -24,6 +24,11 @@ describe('ReleaseList', function() {
       body: TestStubs.Environments(),
     });
 
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/projects/',
+      body: [],
+    });
+
     MockApiClient.addMockResponse({
       url: '/promptsactivity/',
     });
