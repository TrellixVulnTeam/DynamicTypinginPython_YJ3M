commit 68007fdc945e876b1b7b19f09a989312edd89a61
Author: Jan Michael Auer <account@jauer.org>
Date:   Thu Jan 17 09:41:40 2019 +0100

    fix(ui): Render context data as context data (#11531)
    
    Renders context data recursively with syntax highlighting. Previously,
    all values were coerced to String, which resulted in display values
    like `[object Ojbect]`. Also, iOS device name rendering was moved to
    the Device context.

diff --git a/src/sentry/static/sentry/app/components/contextData.jsx b/src/sentry/static/sentry/app/components/contextData.jsx
index 24046caeda..95e4bf94b1 100644
--- a/src/sentry/static/sentry/app/components/contextData.jsx
+++ b/src/sentry/static/sentry/app/components/contextData.jsx
@@ -159,6 +159,8 @@ class ContextData extends React.Component {
             <span className="val-array-marker">{']'}</span>
           </span>
         );
+      } else if (React.isValidElement(value)) {
+        return value;
       } else {
         let keys = Object.keys(value);
         keys.sort(naturalCaseInsensitiveSort);
diff --git a/src/sentry/static/sentry/app/components/events/contexts/contextBlock.jsx b/src/sentry/static/sentry/app/components/events/contexts/contextBlock.jsx
index 5db511b224..cb094db9e9 100644
--- a/src/sentry/static/sentry/app/components/events/contexts/contextBlock.jsx
+++ b/src/sentry/static/sentry/app/components/events/contexts/contextBlock.jsx
@@ -45,7 +45,7 @@ class ContextBlock extends React.Component {
     return (
       <div className={className}>
         <ErrorBoundary mini>
-          <KeyValueList data={data} isSorted={false} />
+          <KeyValueList data={data} isSorted={false} isContextData />
         </ErrorBoundary>
       </div>
     );
diff --git a/src/sentry/static/sentry/app/components/events/contexts/device.jsx b/src/sentry/static/sentry/app/components/events/contexts/device.jsx
index 60dc7efbe1..252c6414a9 100644
--- a/src/sentry/static/sentry/app/components/events/contexts/device.jsx
+++ b/src/sentry/static/sentry/app/components/events/contexts/device.jsx
@@ -1,7 +1,9 @@
+import {isString} from 'lodash';
 import PropTypes from 'prop-types';
 import React from 'react';
 
 import ContextBlock from 'app/components/events/contexts/contextBlock';
+import DeviceName from 'app/components/deviceName';
 import {defined, formatBytes} from 'app/utils';
 
 class DeviceContextType extends React.Component {
@@ -83,13 +85,18 @@ class DeviceContextType extends React.Component {
       external_storage_size,
       external_free_storage
     );
+
+    let renderedModel = isString(model) ? (
+      <DeviceName>{model + (model_id ? ` (${model_id})` : '')}</DeviceName>
+    ) : null;
+
     return (
       <ContextBlock
         data={data}
         knownData={[
           ['?Name', name],
           ['?Family', family],
-          ['?Model', model + (model_id ? ` (${model_id})` : '')],
+          ['?Model', renderedModel],
           ['?CPU Description', cpu_description],
           ['?Architecture', arch],
           ['?Battery Level', defined(battery_level) ? `${battery_level}%` : null],
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx b/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
index 381d6cefd3..29109a89b9 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
@@ -2,7 +2,6 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import _ from 'lodash';
 
-import DeviceName from 'app/components/deviceName';
 import ContextData from 'app/components/contextData';
 
 class KeyValueList extends React.Component {
@@ -52,9 +51,7 @@ class KeyValueList extends React.Component {
                 <tr key={key}>
                   <td className="key">{key}</td>
                   <td className="value">
-                    <pre>
-                      <DeviceName>{'' + value || ' '}</DeviceName>
-                    </pre>
+                    <pre>{'' + value || ' '}</pre>
                   </td>
                 </tr>,
               ];
