commit 489d4faae641d65ffe6bf9b66706675c965ca577
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Mar 29 14:30:43 2018 -0700

    fix(api): Dont return duplicates when searching

diff --git a/src/sentry/api/endpoints/organization_index.py b/src/sentry/api/endpoints/organization_index.py
index f9f0ba9ab3..4752f38eb6 100644
--- a/src/sentry/api/endpoints/organization_index.py
+++ b/src/sentry/api/endpoints/organization_index.py
@@ -71,7 +71,7 @@ class OrganizationIndexEndpoint(Endpoint):
         """
         owner_only = request.GET.get('owner') in ('1', 'true')
 
-        queryset = Organization.objects.all()
+        queryset = Organization.objects.distinct()
 
         if request.auth and not request.user.is_authenticated():
             if hasattr(request.auth, 'project'):
diff --git a/src/sentry/api/endpoints/organization_projects.py b/src/sentry/api/endpoints/organization_projects.py
index d6cfb7fbf4..c2ad93d70f 100644
--- a/src/sentry/api/endpoints/organization_projects.py
+++ b/src/sentry/api/endpoints/organization_projects.py
@@ -59,7 +59,7 @@ class OrganizationProjectsEndpoint(OrganizationEndpoint, EnvironmentMixin):
             # TODO: remove this, no longer supported probably
             if hasattr(request.auth, 'project'):
                 team_list = list(request.auth.project.teams.all())
-                queryset = queryset = Project.objects.filter(
+                queryset = Project.objects.filter(
                     id=request.auth.project.id,
                 ).prefetch_related('teams')
             elif request.auth.organization is not None:
@@ -92,6 +92,7 @@ class OrganizationProjectsEndpoint(OrganizationEndpoint, EnvironmentMixin):
                     queryset = queryset.filter(Q(name__icontains=value) | Q(slug__icontains=value))
                 else:
                     queryset = queryset.none()
+
         queryset = queryset.distinct()
 
         return self.paginate(
