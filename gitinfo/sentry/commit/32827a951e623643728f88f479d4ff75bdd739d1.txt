commit 32827a951e623643728f88f479d4ff75bdd739d1
Author: Ben Vinegar <benvinegar@users.noreply.github.com>
Date:   Mon Jun 6 15:24:27 2016 -0700

    Don't redirect to login page for share page (#3398)

diff --git a/src/sentry/static/sentry/app/views/app.jsx b/src/sentry/static/sentry/app/views/app.jsx
index 164b322326..8dd5a66213 100644
--- a/src/sentry/static/sentry/app/views/app.jsx
+++ b/src/sentry/static/sentry/app/views/app.jsx
@@ -77,12 +77,13 @@ const App = React.createClass({
     });
 
     $(document).ajaxError(function (evt, jqXHR) {
-      if (jqXHR && jqXHR.status === 401) {
+      // TODO: Need better way of identifying anonymous pages
+      //       that don't trigger redirect
+      let pageAllowsAnon = /^\/share\//.test(this.props.location.pathname);
+      if (jqXHR && jqXHR.status === 401 && !pageAllowsAnon) {
         Cookies.set('session_expired', 1);
         // User has become unauthenticated; reload URL, and let Django
         // redirect to login page
-        // NOTE: This presumes that React application is ONLY for
-        //       authenticated users.
         window.location.reload();
       }
     });
