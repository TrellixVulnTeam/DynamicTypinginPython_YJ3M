commit 429cc2a2f7e404b4139f5101892e58646701caa7
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Dec 7 20:12:36 2015 -0800

    Expose CSRF failure message to install wizard UI

diff --git a/src/sentry/static/sentry/app/views/installWizard.jsx b/src/sentry/static/sentry/app/views/installWizard.jsx
index f5a6083ddb..d6f8d4ece3 100644
--- a/src/sentry/static/sentry/app/views/installWizard.jsx
+++ b/src/sentry/static/sentry/app/views/installWizard.jsx
@@ -159,13 +159,19 @@ const InstallWizard = React.createClass({
           // ...
         }
         let errorMessage = '';
-        switch (err.error) {
-          case 'unknown_option':
-            errorMessage = t('An invalid option (%s) was passed to the server. Please report this issue to the Sentry team.',
-                             err.errorDetail.option);
-            break;
-          default:
-            errorMessage = t('An unknown error occurred. Please take a look at the service logs.');
+        if (err.detail) {
+          // err.detail comes back on some API responses
+          // specifically on a failed CSRF
+          errorMessage = err.detail;
+        } else {
+          switch (err.error) {
+            case 'unknown_option':
+              errorMessage = t('An invalid option (%s) was passed to the server. Please report this issue to the Sentry team.',
+                               err.errorDetail.option);
+              break;
+            default:
+              errorMessage = t('An unknown error occurred. Please take a look at the service logs.');
+          }
         }
         this.setState({
           submitInProgress: false,
