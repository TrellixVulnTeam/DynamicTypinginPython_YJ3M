commit bfffd5f13650fb48d984de2b826ea9a0addce908
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 8 13:48:19 2016 -0800

    Basic unicode test for EventUser

diff --git a/tests/sentry/test_event_manager.py b/tests/sentry/test_event_manager.py
index 1b3da85421..43aee75783 100644
--- a/tests/sentry/test_event_manager.py
+++ b/tests/sentry/test_event_manager.py
@@ -444,6 +444,19 @@ class EventManagerTest(TransactionTestCase):
         ).exists()
         assert 'sentry:user' in dict(event.tags)
 
+    def test_event_user_unicode_identifier(self):
+        manager = EventManager(self.make_event(**{
+            'sentry.interfaces.User': {
+                'username': u'foÃ´'
+            }
+        }))
+        manager.normalize()
+        manager.save(self.project.id)
+        euser = EventUser.objects.get(
+            project=self.project,
+        )
+        assert euser.username == u'foÃ´'
+
     def test_environment(self):
         manager = EventManager(self.make_event(**{
             'environment': 'beta',
