commit 78c5adf77e854c2e0ddd6bba5ffbe526ef92b504
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue May 12 23:06:08 2015 +0200

    Outdent code when collapsed.

diff --git a/src/sentry/static/sentry/app/views/groupDetails/interfaces/stacktraceContent.jsx b/src/sentry/static/sentry/app/views/groupDetails/interfaces/stacktraceContent.jsx
index a363b38727..cc6de785a5 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/interfaces/stacktraceContent.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/interfaces/stacktraceContent.jsx
@@ -114,7 +114,10 @@ var Frame = React.createClass({
             className += " active";
           }
 
-          return <li className={className} key={line[0]}>{line[1]} <span className="icon-plus"></span></li>;
+          var [_, lineWs, lineCode] = line[1].match(/^(\s*)(.*?)$/);
+          return <li className={className} key={line[0]}><span className="ws">{
+            lineWs}</span><span className="contextline">{lineCode
+            }</span> <span className="icon-plus"></span></li>;
         })}
         {this.isDefined(data.vars) &&
           <FrameVariables data={data.vars} key="vars" />
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index e1be6c0846..36a2cda75a 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -616,6 +616,14 @@
     display: none;
   }
 
+  .ws {
+    display: none;
+  }
+
+  .contextline {
+    padding-left: 12px;
+  }
+
   &:hover {
     .icon-plus {
       opacity: .5;
@@ -632,6 +640,14 @@
     height: auto;
   }
 
+  .ws {
+    display: inline;
+  }
+
+  .contextline {
+    padding-left: 0;
+  }
+
   dl.vars {
     &.expandable {
       display: block;
