commit 13c008cb08f706c941a47681ad85ff890ae4558c
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Feb 13 15:36:24 2018 -0800

    fix(environments): Fix rule editor (#7248)
    
    Environment store items can now be null

diff --git a/src/sentry/static/sentry/app/views/ruleEditor/index.jsx b/src/sentry/static/sentry/app/views/ruleEditor/index.jsx
index 8802b18bdf..55b4415283 100644
--- a/src/sentry/static/sentry/app/views/ruleEditor/index.jsx
+++ b/src/sentry/static/sentry/app/views/ruleEditor/index.jsx
@@ -176,9 +176,10 @@ const RuleEditor = createReactClass({
     const hasEnvironmentsFeature = new Set(this.props.organization.features).has(
       'environments'
     );
+    const activeEnvs = EnvironmentStore.getActive() || [];
     const environmentChoices = [
       ['all', t('All Environments')],
-      ...EnvironmentStore.getAll().map(env => [env.urlRoutingName, env.displayName]),
+      ...activeEnvs.map(env => [env.urlRoutingName, env.displayName]),
     ];
 
     if (!this.state.rule) return <LoadingIndicator />;
