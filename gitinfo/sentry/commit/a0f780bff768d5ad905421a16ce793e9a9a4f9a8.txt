commit a0f780bff768d5ad905421a16ce793e9a9a4f9a8
Author: Mark Story <mark@sentry.io>
Date:   Wed May 20 11:02:04 2020 -0400

    fix(discover) Add an empty state to discover saved queries (#18937)
    
    This state was pretty bleak before.

diff --git a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
index 45fd48b334..7d4f272c7e 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
@@ -12,6 +12,7 @@ import {resetGlobalSelection} from 'app/actionCreators/globalSelection';
 import {t} from 'app/locale';
 import {trackAnalyticsEvent} from 'app/utils/analytics';
 import DropdownMenu from 'app/components/dropdownMenu';
+import EmptyStateWarning from 'app/components/emptyStateWarning';
 import EventView from 'app/utils/discover/eventView';
 import MenuItem from 'app/components/menuItem';
 import Pagination from 'app/components/pagination';
@@ -91,6 +92,14 @@ class QueryList extends React.Component<Props> {
     }
     cards = cards.concat(this.renderSavedQueries());
 
+    if (cards.filter(x => x).length === 0) {
+      return (
+        <StyledEmptyStateWarning>
+          <p>{t('No saved queries match that filter')}</p>
+        </StyledEmptyStateWarning>
+      );
+    }
+
     return cards;
   }
 
@@ -298,5 +307,8 @@ const MoreOptions = styled('span')`
 const DropdownTarget = styled('div')`
   display: flex;
 `;
+const StyledEmptyStateWarning = styled(EmptyStateWarning)`
+  grid-column: 1 / 4;
+`;
 
 export default withApi(QueryList);
diff --git a/tests/js/spec/views/eventsV2/queryList.spec.jsx b/tests/js/spec/views/eventsV2/queryList.spec.jsx
index 50d615c2e1..ffdd1058ae 100644
--- a/tests/js/spec/views/eventsV2/queryList.spec.jsx
+++ b/tests/js/spec/views/eventsV2/queryList.spec.jsx
@@ -52,6 +52,24 @@ describe('EventsV2 > QueryList', function() {
     queryChangeMock = jest.fn();
   });
 
+  it('renders an empty list', function() {
+    const wrapper = mountWithTheme(
+      <QueryList
+        organization={organization}
+        savedQueries={[]}
+        savedQuerySearchQuery="no matches"
+        pageLinks=""
+        onQueryChange={queryChangeMock}
+        location={location}
+      />,
+      TestStubs.routerContext()
+    );
+    const content = wrapper.find('QueryCard');
+    // No queries
+    expect(content).toHaveLength(0);
+    expect(wrapper.find('EmptyStateWarning')).toHaveLength(1);
+  });
+
   it('renders pre-built queries and saved ones', function() {
     const wrapper = mountWithTheme(
       <QueryList
