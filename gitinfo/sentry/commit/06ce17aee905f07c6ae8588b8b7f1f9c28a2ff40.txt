commit 06ce17aee905f07c6ae8588b8b7f1f9c28a2ff40
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Feb 14 11:34:01 2019 -0800

    feat(email): Map tags aliases to Snuba names in error email (#12056)
    
    Correctly map the sentry:release, sentry:dist and sentry:user
    properties in the event email.
    
    Fixes APP-1094

diff --git a/src/sentry/templates/sentry/emails/error.html b/src/sentry/templates/sentry/emails/error.html
index 21220ba3ed..574c0c8788 100644
--- a/src/sentry/templates/sentry/emails/error.html
+++ b/src/sentry/templates/sentry/emails/error.html
@@ -126,10 +126,10 @@
         <ul class="tag-list">
         {% for tag_key, tag_value in tags %}
           <li>
-              <strong>{{ tag_key }}</strong>
+              <strong>{{ tag_key|as_tag_alias }}</strong>
               <em>=</em>
               <span>
-              {% with query=tag_key|add:":\""|add:tag_value|add:"\""|urlencode %}
+              {% with query=tag_key|as_tag_alias|add:":\""|add:tag_value|add:"\""|urlencode %}
               {% feature organizations:sentry10 group.project.organization %}
                   <a href="{% absolute_uri '/organizations/{}/issues/' group.project.organization.slug %}?project={{ group.project.id }}&query={{ query }}">{{ tag_value|truncatechars:50 }}</a> {% if tag_value|is_url %}<a href="{{ tag_value }}" class="icon-share"></a>{% endif %}
               {% else %}
diff --git a/src/sentry/templatetags/sentry_helpers.py b/src/sentry/templatetags/sentry_helpers.py
index 6c408b1b76..1d663d0e5c 100644
--- a/src/sentry/templatetags/sentry_helpers.py
+++ b/src/sentry/templatetags/sentry_helpers.py
@@ -190,6 +190,15 @@ def small_count(v, precision=1):
     return v
 
 
+@register.filter
+def as_tag_alias(v):
+    return {
+        'sentry:release': 'release',
+        'sentry:dist': 'dist',
+        'sentry:user': 'user',
+    }.get(v, v)
+
+
 @register.simple_tag(takes_context=True)
 def serialize(context, value):
     value = serialize_func(value, context['request'].user)
