commit fb076ea60fffd7e00207163ab6fd9aedefa8915a
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 6 20:57:01 2012 -0700

    Support SOCIAL_AUTH_CREATE_USERS

diff --git a/docs/quickstart/index.rst b/docs/quickstart/index.rst
index 57d9ade174..f31ef84906 100644
--- a/docs/quickstart/index.rst
+++ b/docs/quickstart/index.rst
@@ -253,6 +253,11 @@ these cases, Sentry provides tight integrated with several large social services
 and GitHub. Enabling this is as simple as setting up an application with the respective services, and configuring a 
 couple values in your ``sentry.conf.py`` file.
 
+By default, users will be able to both signup (create a new account) as well as associate an existing account. If you
+want to disable account creation, simply set the following value::
+
+  SOCIAL_AUTH_CREATE_USERS = False
+
 Twitter
 ~~~~~~~
 
diff --git a/sentry/templates/sentry/login.html b/sentry/templates/sentry/login.html
index 121fada81d..4f4ba3c0b8 100644
--- a/sentry/templates/sentry/login.html
+++ b/sentry/templates/sentry/login.html
@@ -46,7 +46,7 @@
             {% if auth_engines %}
                 <div class="span6">
                     <fieldset>
-                        <legend>Login with another account</legend>
+                        <legend>Login{% if SOCIAL_AUTH_CREATE_USERS %} or Register{% endif %} with another account</legend>
                     </fieldset>
                     {% url sentry-account-settings-identities as identities_link %}
                     <p>{% blocktrans with identities_link as link %}If you already have an account, you can associate a social identity in the
diff --git a/sentry/web/frontend/accounts.py b/sentry/web/frontend/accounts.py
index 8a211ec8fb..a67ca9f60e 100644
--- a/sentry/web/frontend/accounts.py
+++ b/sentry/web/frontend/accounts.py
@@ -53,6 +53,7 @@ def login(request):
         'form': form,
         'next': request.session.get('_next'),
         'auth_engines': auth_engines,
+        'SOCIAL_AUTH_CREATE_USERS': dj_settings.SOCIAL_AUTH_CREATE_USERS,
     })
     return render_to_response('sentry/login.html', context, request)
 
