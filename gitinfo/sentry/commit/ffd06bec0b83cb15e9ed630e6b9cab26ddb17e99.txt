commit ffd06bec0b83cb15e9ed630e6b9cab26ddb17e99
Author: davidszotten <davidszotten@gmail.com>
Date:   Mon May 9 06:05:59 2011 -0700

    make sure log record is formatted
    
    without this, or another handler in the chain doing the formatting, this gives an error: "AttributeError: LogRecord instance has no attribute 'message'"

diff --git a/sentry/client/handlers.py b/sentry/client/handlers.py
index 6b26239428..e936bbaeae 100644
--- a/sentry/client/handlers.py
+++ b/sentry/client/handlers.py
@@ -15,6 +15,7 @@ class SentryHandler(logging.Handler):
             print >> sys.stderr, record.message
             return
 
+        self.format(record)
         get_client().create_from_record(record, request=request)
 
 try:
