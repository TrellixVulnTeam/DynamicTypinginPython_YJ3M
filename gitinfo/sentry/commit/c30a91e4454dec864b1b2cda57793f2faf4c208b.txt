commit c30a91e4454dec864b1b2cda57793f2faf4c208b
Author: Brett Hoerner <brett@bretthoerner.com>
Date:   Fri Sep 8 16:39:20 2017 -0500

    db: Remove JOIN between GroupTagKey and TagKey (#6077)
    
    Fixes SENTRY-4GZ

diff --git a/src/sentry/api/endpoints/group_tags.py b/src/sentry/api/endpoints/group_tags.py
index e4fdff9799..83ffe0aeeb 100644
--- a/src/sentry/api/endpoints/group_tags.py
+++ b/src/sentry/api/endpoints/group_tags.py
@@ -12,12 +12,14 @@ from sentry.models import GroupTagValue, GroupTagKey, TagKey, TagKeyStatus
 
 class GroupTagsEndpoint(GroupEndpoint):
     def get(self, request, group):
+        grouptagkeys = list(GroupTagKey.objects.filter(
+            group_id=group.id
+        ).values_list('key', flat=True))
+
         tag_keys = TagKey.objects.filter(
             project_id=group.project_id,
             status=TagKeyStatus.VISIBLE,
-            key__in=GroupTagKey.objects.filter(
-                group_id=group.id,
-            ).values('key'),
+            key__in=grouptagkeys,
         )
 
         # O(N) db access
