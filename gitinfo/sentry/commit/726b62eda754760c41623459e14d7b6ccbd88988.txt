commit 726b62eda754760c41623459e14d7b6ccbd88988
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Mar 6 23:14:14 2013 -0800

    Explicitly pass context

diff --git a/src/sentry/interfaces.py b/src/sentry/interfaces.py
index e53b8d32d4..549845b349 100644
--- a/src/sentry/interfaces.py
+++ b/src/sentry/interfaces.py
@@ -350,7 +350,13 @@ class Frame(object):
         templates = ['sentry/partial/frames/%s.txt' % choice
                       for choice in choices]
         return render_to_string(templates, {
-            'frame': self
+            'abs_path': self.abs_path,
+            'filename': self.filename,
+            'function': self.function,
+            'module': self.module,
+            'lineno': self.lineno,
+            'colno': self.colno,
+            'context_line': self.context_line,
         }).strip('\n')
 
 
diff --git a/src/sentry/templates/sentry/partial/frames/default.txt b/src/sentry/templates/sentry/partial/frames/default.txt
index a84153070d..19345f502d 100644
--- a/src/sentry/templates/sentry/partial/frames/default.txt
+++ b/src/sentry/templates/sentry/partial/frames/default.txt
@@ -1,4 +1,4 @@
 {% autoescape off %}
-{% if frame.filename %}  File "{{ frame.filename }}"{% elif frame.module %}  Module "{{ frame.module }}"{% else %}  ?{% endif %}{% if frame.lineno != None %}, line {{ frame.lineno }}{% endif %}{% if frame.function %}, in {{ frame.function }}{% endif %}{% if frame.context_line %}
-    {{ frame.context_line.strip }}{% endif %}
+{% if filename %}  File "{{ filename }}"{% elif module %}  Module "{{ module }}"{% else %}  ?{% endif %}{% if lineno != None %}, line {{ lineno }}{% endif %}{% if function %}, in {{ function }}{% endif %}{% if context_line %}
+    {{ context_line.strip }}{% endif %}
 {% endautoescape %}
diff --git a/src/sentry/templates/sentry/partial/frames/javascript.txt b/src/sentry/templates/sentry/partial/frames/javascript.txt
index fab48f6ccc..f0d6b608b1 100644
--- a/src/sentry/templates/sentry/partial/frames/javascript.txt
+++ b/src/sentry/templates/sentry/partial/frames/javascript.txt
@@ -1,3 +1,3 @@
 {% autoescape off %}
-  at {{ frame.function }} ({{ frame.filename }}{% if frame.lineno %}:{{ frame.lineno }}{% endif %}{% if frame.colno %}:{{ frame.colno }}{% endif %})
+  at {{ function }} ({{ filename }}{% if lineno %}:{{ lineno }}{% endif %}{% if colno %}:{{ colno }}{% endif %})
 {% endautoescape %}
