commit 3756e5522923f9542c971f677d211b12648ec4f5
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jun 4 16:24:03 2013 -0700

    Correct immediate return in ProjectManager.get_for_user

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index e0dde7696e..1389936043 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -828,13 +828,13 @@ class ProjectManager(BaseManager, ChartMixin):
                 teams = Team.objects.get_for_user(
                     user, access, access_groups=False).values()
                 if not teams:
-                    return []
+                    projects_qs = self.none()
                 if team and team not in teams:
-                    return []
+                    projects_qs = self.none()
                 elif not team:
-                    base_qs = base_qs.filter(team__in=teams)
+                    projects_qs = base_qs.filter(team__in=teams)
 
-            projects = set(base_qs)
+            projects = set(projects_qs)
 
             if is_authenticated:
                 projects |= set(base_qs.filter(accessgroup__members=user))
