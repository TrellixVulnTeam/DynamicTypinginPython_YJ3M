commit 379029eff3c5be483ebb476fa0abfd60b22d57c8
Author: Ayesha Omarali <ayesha.omarali@gmail.com>
Date:   Tue Sep 4 17:25:12 2018 -0700

    feat(ui): Discover Update Sidebar Styles (#9597)

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/aggregations/index.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/aggregations/index.jsx
index 629bc3ec79..454355d673 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/aggregations/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/aggregations/index.jsx
@@ -7,7 +7,7 @@ import InlineSvg from 'app/components/inlineSvg';
 import {t} from 'app/locale';
 
 import Aggregation from './aggregation';
-import {PlaceholderText, SelectListItem, AddText} from '../styles';
+import {PlaceholderText, SelectListItem, AddText, SidebarLabel} from '../styles';
 
 export default class Aggregations extends React.Component {
   static propTypes = {
@@ -40,7 +40,7 @@ export default class Aggregations extends React.Component {
     return (
       <div>
         <div>
-          <strong>{t('Aggregation')}</strong>
+          <SidebarLabel>{t('Aggregation')}</SidebarLabel>
           <AddText>
             (<Link onClick={() => this.addRow()}>{t('Add')}</Link>)
           </AddText>
diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/index.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/index.jsx
index d8558a2952..179b4aabd1 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/index.jsx
@@ -7,7 +7,7 @@ import InlineSvg from 'app/components/inlineSvg';
 import {t} from 'app/locale';
 
 import Condition from './condition';
-import {PlaceholderText, SelectListItem, AddText} from '../styles';
+import {PlaceholderText, SelectListItem, AddText, SidebarLabel} from '../styles';
 
 export default class Conditions extends React.Component {
   static propTypes = {
@@ -40,7 +40,7 @@ export default class Conditions extends React.Component {
     return (
       <div>
         <div>
-          <strong>{t('Conditions')}</strong>
+          <SidebarLabel>{t('Conditions')}</SidebarLabel>
           <AddText>
             (<Link onClick={() => this.addRow()}>{t('Add')}</Link>)
           </AddText>
diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
index 622bb26ec5..d01a72c2a3 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
@@ -14,6 +14,7 @@ import NumberField from 'app/components/forms/numberField';
 import SelectControl from 'app/components/forms/selectControl';
 import SentryTypes from 'app/sentryTypes';
 import TimeRangeSelector from 'app/components/organizations/timeRangeSelector';
+import space from 'app/styles/space';
 
 import Aggregations from './aggregations';
 import Conditions from './conditions';
@@ -23,7 +24,7 @@ import EarlyAdopterMessage from './earlyAdopterMessage';
 
 import {isValidCondition} from './conditions/utils';
 import {isValidAggregation} from './aggregations/utils';
-import {Fieldset, PlaceholderText, ButtonSpinner} from './styles';
+import {Fieldset, PlaceholderText, ButtonSpinner, SidebarLabel} from './styles';
 
 import {getQueryStringFromQuery} from './utils';
 
@@ -212,14 +213,8 @@ export default class OrganizationDiscover extends React.Component {
     }));
 
     return (
-      <Discover className="organization-home">
-        <Header
-          p={2}
-          justify="space-between"
-          align="center"
-          className="sub-header"
-          style={{marginBottom: 16}}
-        >
+      <Discover>
+        <Header px={space(4)} py={2} className="sub-header">
           <strong>{t('Discover')}</strong>
           <Flex>
             <MultipleProjectSelector
@@ -237,12 +232,35 @@ export default class OrganizationDiscover extends React.Component {
             />
           </Flex>
         </Header>
-        <Flex px={2}>
-          <Box w={[1 / 3, 1 / 3, 1 / 3, 1 / 4]}>
+        <DiscoverBody>
+          <Sidebar w={320}>
+            <SidebarHeader align="center" px={space(4)} py={space(1.5)}>
+              <Box flex="1">
+                <DiscoverHeading>{t('Query')}</DiscoverHeading>
+              </Box>
+              <Box>
+                <Button
+                  size="xsmall"
+                  onClick={this.reset}
+                  style={{marginRight: space(1)}}
+                >
+                  {t('Reset')}
+                </Button>
+                <Button
+                  size="xsmall"
+                  onClick={this.runQuery}
+                  priority="primary"
+                  busy={isFetchingQuery}
+                >
+                  {t('Run')}
+                  {isFetchingQuery && <ButtonSpinner />}
+                </Button>
+              </Box>
+            </SidebarHeader>
             <Fieldset>
-              <label htmlFor="fields" className="control-label">
+              <SidebarLabel htmlFor="fields" className="control-label">
                 {t('Summarize')}
-              </label>
+              </SidebarLabel>
               <SelectControl
                 name="fields"
                 multiple={true}
@@ -267,9 +285,9 @@ export default class OrganizationDiscover extends React.Component {
               />
             </Fieldset>
             <Fieldset>
-              <label htmlFor="orderby" className="control-label">
+              <SidebarLabel htmlFor="orderby" className="control-label">
                 {t('Order by')}
-              </label>
+              </SidebarLabel>
               <SelectControl
                 name="orderby"
                 label={t('Order By')}
@@ -282,25 +300,15 @@ export default class OrganizationDiscover extends React.Component {
             <Fieldset>
               <NumberField
                 name="limit"
-                label={t('Limit')}
+                label={<SidebarLabel>{t('Limit')}</SidebarLabel>}
                 placeholder="#"
                 value={currentQuery.limit}
                 onChange={val =>
                   this.updateField('limit', typeof val === 'number' ? val : null)}
               />
             </Fieldset>
-
-            <Flex pt={1}>
-              <Box mr={1}>
-                <Button onClick={this.runQuery} priority="primary" busy={isFetchingQuery}>
-                  {t('Run Query')}
-                  {isFetchingQuery && <ButtonSpinner />}
-                </Button>
-              </Box>
-              <Button onClick={this.reset}>{t('Reset')}</Button>
-            </Flex>
-          </Box>
-          <Flex w={[2 / 3, 2 / 3, 2 / 3, 3 / 4]} pl={2} direction="column">
+          </Sidebar>
+          <Flex flex="1" direction="column" px={3} py={3}>
             {data && (
               <Result
                 data={data}
@@ -312,12 +320,32 @@ export default class OrganizationDiscover extends React.Component {
             {!data && <Intro updateQuery={this.updateFields} />}
             <EarlyAdopterMessage />
           </Flex>
-        </Flex>
+        </DiscoverBody>
       </Discover>
     );
   }
 }
 
+const DiscoverHeading = styled.h2`
+  font-size: 18px;
+  font-weight: normal;
+  color: ${p => p.theme.gray4};
+  margin: 0;
+`;
+
+const SidebarHeader = styled(Flex)`
+  border-bottom: 1px solid ${p => p.theme.borderLight};
+`;
+
+const DiscoverBody = styled(Flex)`
+  min-height: calc(100vh - 152px);
+`;
+
+const Sidebar = styled(Box)`
+  border-right: 1px solid ${p => p.theme.borderDark};
+  min-width: 320px;
+`;
+
 const Discover = styled('div')`
   .control-group {
     margin-bottom: 0; /* Do not want the global control-group margins  */
@@ -326,4 +354,7 @@ const Discover = styled('div')`
 
 const Header = styled(Flex)`
   font-size: 18px;
+  justify-content: space-between;
+  align-items: center;
+  margin-bottom: 0 !important;
 `;
diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/earlyAdopterMessage.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/earlyAdopterMessage.jsx
index 965d6a56da..567f151624 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/earlyAdopterMessage.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/earlyAdopterMessage.jsx
@@ -24,4 +24,5 @@ export default class EarlyAdopterMessage extends React.Component {
 const StyledAlert = styled(Alert)`
   padding: ${p => p.theme.grid}px ${p => p.theme.grid * 2}px;
   margin: 0;
+  align-items: center;
 `;
diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/styles.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/styles.jsx
index 8befeb892c..d239200c1e 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/styles.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/styles.jsx
@@ -10,13 +10,19 @@ export const PlaceholderText = styled.div`
 `;
 
 export const Fieldset = styled.fieldset`
-  margin-bottom: ${space(1)};
+  margin: ${space(3)} ${space(4)};
 `;
 
 export const SelectListItem = styled(Flex)`
   margin-top: ${space(0.5)};
 `;
 
+export const SidebarLabel = styled.label`
+  text-transform: uppercase;
+  font-size: ${p => p.theme.fontSizeSmall};
+  color: ${p => p.theme.gray3};
+`;
+
 export const AddText = styled.span`
   font-style: italic;
   text-decoration: underline;
