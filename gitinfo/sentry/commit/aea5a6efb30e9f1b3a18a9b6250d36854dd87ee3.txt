commit aea5a6efb30e9f1b3a18a9b6250d36854dd87ee3
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 22 16:40:42 2015 -0700

    Dont record leave requests

diff --git a/src/sentry/api/endpoints/organization_access_request_details.py b/src/sentry/api/endpoints/organization_access_request_details.py
index 5451a0422a..11932ac10f 100644
--- a/src/sentry/api/endpoints/organization_access_request_details.py
+++ b/src/sentry/api/endpoints/organization_access_request_details.py
@@ -49,24 +49,19 @@ class OrganizationAccessRequestDetailsEndpoint(OrganizationEndpoint):
                     'is_active': is_approved,
                 }
             )
-            if affected:
+            if affected and is_approved:
                 omt = OrganizationMemberTeam.objects.get(
                     organizationmember=access_request.member,
                     team=access_request.team,
                 )
 
-                if is_approved:
-                    event = AuditLogEntryEvent.MEMBER_JOIN_TEAM
-                else:
-                    event = AuditLogEntryEvent.MEMBER_LEAVE_TEAM
-
                 AuditLogEntry.objects.create(
                     organization=organization,
                     actor=request.user,
                     ip_address=request.META['REMOTE_ADDR'],
                     target_object=omt.id,
                     target_user=access_request.member.user,
-                    event=event,
+                    event=AuditLogEntryEvent.MEMBER_JOIN_TEAM,
                     data=omt.get_audit_log_data(),
                 )
 
