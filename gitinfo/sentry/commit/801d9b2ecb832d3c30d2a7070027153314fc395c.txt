commit 801d9b2ecb832d3c30d2a7070027153314fc395c
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 23 11:08:47 2015 -0800

    Add basic disable action

diff --git a/src/sentry/web/frontend/organization_auth_settings.py b/src/sentry/web/frontend/organization_auth_settings.py
index d3a0356747..427741c544 100644
--- a/src/sentry/web/frontend/organization_auth_settings.py
+++ b/src/sentry/web/frontend/organization_auth_settings.py
@@ -13,10 +13,23 @@ class OrganizationAuthSettingsView(OrganizationView):
     required_access = OrganizationMemberType.OWNER
 
     def handle_existing_provider(self, request, organization):
-        # at this point the provider may or may not be fully configured
+        # TODO(dcramer): providers need to be able to extend this page. There
+        # should always be a disable + login info blurb but each provider may
+        # want to add additional behaviors
+
         auth_provider = organization.auth_provider
         provider = auth_provider.get_provider()
 
+        if request.method == 'POST':
+            op = request.POST.get('op')
+            if op == 'disable':
+                organization.update(auth_provider=None)
+                auth_provider.delete()
+
+                next_uri = reverse('sentry-organization-auth-settings',
+                                   args=[organization.slug])
+                return self.redirect(next_uri)
+
         context = {
             'login_url': absolute_uri(reverse('sentry-organization-home', args=[organization.slug])),
             'auth_provider': auth_provider,
