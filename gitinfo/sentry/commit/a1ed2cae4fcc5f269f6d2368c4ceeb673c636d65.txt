commit a1ed2cae4fcc5f269f6d2368c4ceeb673c636d65
Author: Anders Pearson <anders@columbia.edu>
Date:   Sat Oct 9 01:25:53 2010 +0800

    email subject uses site name for easier sorting

diff --git a/sentry/models.py b/sentry/models.py
index 9e3cf9abce..7d34aee90f 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -170,7 +170,7 @@ class GroupedMessage(MessageBase):
 
         obj_request = message.request
 
-        subject = 'Error (%s IP): %s' % ((obj_request.META.get('REMOTE_ADDR') in settings.INTERNAL_IPS and 'internal' or 'EXTERNAL'), obj_request.path)
+        subject = '[%s] Error (%s IP): %s' % (message.site, (obj_request.META.get('REMOTE_ADDR') in settings.INTERNAL_IPS and 'internal' or 'EXTERNAL'), obj_request.path)
         try:
             request_repr = repr(obj_request)
         except:
@@ -189,7 +189,7 @@ class GroupedMessage(MessageBase):
             'link': link,
         })
         
-        send_mail(settings.EMAIL_SUBJECT_PREFIX + subject, body,
+        send_mail(subject, body,
                   settings.SERVER_EMAIL, conf.ADMINS,
                   fail_silently=fail_silently)
     
@@ -300,4 +300,4 @@ register_indexes()
 
 # XXX: Django sucks and we can't listen to our specific app
 # post_syncdb.connect(GroupedMessage.create_sort_index, sender=__name__)
-post_syncdb.connect(GroupedMessage.create_sort_index, sender=sys.modules[__name__])
\ No newline at end of file
+post_syncdb.connect(GroupedMessage.create_sort_index, sender=sys.modules[__name__])
