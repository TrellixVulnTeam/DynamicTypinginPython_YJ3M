commit e6cc8483b3992fb02ebb39649efd2b264fcadeca
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Thu Apr 4 13:58:37 2019 +0200

    fix: Fix TypeError when iterating over headers (#12645)

diff --git a/src/sentry/filters/legacy_browsers.py b/src/sentry/filters/legacy_browsers.py
index 531fbbaa4a..9ec79dcd59 100644
--- a/src/sentry/filters/legacy_browsers.py
+++ b/src/sentry/filters/legacy_browsers.py
@@ -82,7 +82,7 @@ class LegacyBrowsersFilter(Filter):
 
     def get_user_agent(self, data):
         try:
-            for key, value in get_path(data, 'request', 'headers', filter=True):
+            for key, value in get_path(data, 'request', 'headers', filter=True) or ():
                 if key.lower() == 'user-agent':
                     return value
         except LookupError:
