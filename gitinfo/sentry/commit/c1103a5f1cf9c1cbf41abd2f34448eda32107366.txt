commit c1103a5f1cf9c1cbf41abd2f34448eda32107366
Author: Chris Fuller <cfuller@sentry.io>
Date:   Wed Jan 22 13:32:19 2020 -0500

    feat(workflow): Incident can only be closed using endpoint (#16547)
    
    * Incident PUT method can only be used to CLOSE an Incident (not open, set to warning, etc..)

diff --git a/src/sentry/api/endpoints/organization_incident_details.py b/src/sentry/api/endpoints/organization_incident_details.py
index 97332b406d..61f7034646 100644
--- a/src/sentry/api/endpoints/organization_incident_details.py
+++ b/src/sentry/api/endpoints/organization_incident_details.py
@@ -43,18 +43,22 @@ class OrganizationIncidentDetailsEndpoint(IncidentEndpoint):
         serializer = IncidentSerializer(data=request.data)
         if serializer.is_valid():
             result = serializer.validated_data
+            if result["status"] == IncidentStatus.CLOSED:
+                try:
+                    incident = update_incident_status(
+                        incident=incident,
+                        status=result["status"],
+                        user=request.user,
+                        comment=result.get("comment"),
+                    )
+                except StatusAlreadyChangedError:
+                    return Response(
+                        "Status is already set to {}".format(result["status"]), status=400
+                    )
 
-            try:
-                incident = update_incident_status(
-                    incident=incident,
-                    status=result["status"],
-                    user=request.user,
-                    comment=result.get("comment"),
+                return Response(
+                    serialize(incident, request.user, DetailedIncidentSerializer()), status=200
                 )
-            except StatusAlreadyChangedError:
-                return Response("Status is already set to {}".format(result["status"]), status=400)
-
-            return Response(
-                serialize(incident, request.user, DetailedIncidentSerializer()), status=200
-            )
+            else:
+                return Response("Status cannot be changed.", status=400)
         return Response(serializer.errors, status=400)
diff --git a/tests/sentry/api/endpoints/test_organization_incident_details.py b/tests/sentry/api/endpoints/test_organization_incident_details.py
index c9dfb2c0fc..a1e4d8e45c 100644
--- a/tests/sentry/api/endpoints/test_organization_incident_details.py
+++ b/tests/sentry/api/endpoints/test_organization_incident_details.py
@@ -88,6 +88,15 @@ class OrganizationIncidentUpdateStatusTest(BaseIncidentDetailsTest, APITestCase)
         incident = Incident.objects.get(id=incident.id)
         assert incident.status == IncidentStatus.CLOSED.value
 
+    def test_cannot_open(self):
+        incident = self.create_incident()
+        with self.feature("organizations:incidents"):
+            resp = self.get_response(
+                incident.organization.slug, incident.identifier, status=IncidentStatus.OPEN.value
+            )
+            assert resp.status_code == 400
+            assert resp.data.startswith("Status cannot be changed")
+
     def test_comment(self):
         incident = self.create_incident()
         status = IncidentStatus.CLOSED.value
