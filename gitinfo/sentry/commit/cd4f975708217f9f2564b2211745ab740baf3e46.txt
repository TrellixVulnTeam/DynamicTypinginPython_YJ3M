commit cd4f975708217f9f2564b2211745ab740baf3e46
Author: Katie Lundsgaard <katie@getsentry.com>
Date:   Mon Apr 17 11:58:54 2017 -0700

    Serialize list of users rather than calling serialize on every user object (#5250)

diff --git a/src/sentry/api/serializers/models/release.py b/src/sentry/api/serializers/models/release.py
index 77665aa04c..4c971cab79 100644
--- a/src/sentry/api/serializers/models/release.py
+++ b/src/sentry/api/serializers/models/release.py
@@ -45,13 +45,14 @@ def get_users_for_commits(item_list):
         id__in=[ue.user_id for ue in user_emails],
         sentry_orgmember_set__organization_id=org_id
     )
-    users_by_id = dict((user.id, serialize(user)) for user in users)
+    users = serialize(list(users))
+    users_by_id = {user['id']: user for user in users}
 
     # Figure out which email address matches to a user
     users_by_email = {}
     for email in user_emails:
         if email.email not in users_by_email:
-            user = users_by_id.get(email.user_id, None)
+            user = users_by_id.get(six.text_type(email.user_id), None)
             # user can be None if there's a user associated
             # with user_email in separate organization
             if user:
