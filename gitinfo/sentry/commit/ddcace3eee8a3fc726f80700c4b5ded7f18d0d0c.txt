commit ddcace3eee8a3fc726f80700c4b5ded7f18d0d0c
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Mar 9 15:07:53 2018 -0800

    feat(environments): Add environment filter to group tags component (#7551)

diff --git a/src/sentry/static/sentry/app/views/groupTags.jsx b/src/sentry/static/sentry/app/views/groupTags.jsx
index bb0ce31269..eca1e1f2f2 100644
--- a/src/sentry/static/sentry/app/views/groupTags.jsx
+++ b/src/sentry/static/sentry/app/views/groupTags.jsx
@@ -1,4 +1,5 @@
 import React from 'react';
+import PropTypes from 'prop-types';
 import createReactClass from 'create-react-class';
 import {Link} from 'react-router';
 import ApiMixin from '../mixins/apiMixin';
@@ -8,9 +9,15 @@ import LoadingError from '../components/loadingError';
 import LoadingIndicator from '../components/loadingIndicator';
 import {percent, deviceNameMapper} from '../utils';
 import {t} from '../locale';
+import withEnvironment from '../utils/withEnvironment';
 
 const GroupTags = createReactClass({
   displayName: 'GroupTags',
+
+  propTypes: {
+    environment: PropTypes.object,
+  },
+
   mixins: [ApiMixin, GroupState],
 
   getInitialState() {
@@ -18,6 +25,7 @@ const GroupTags = createReactClass({
       tagList: null,
       loading: true,
       error: false,
+      environment: this.props.environment,
     };
   },
 
@@ -25,15 +33,27 @@ const GroupTags = createReactClass({
     this.fetchData();
   },
 
+  componentWillReceiveProps(nextProps) {
+    if (nextProps.environment !== this.props.environment) {
+      this.setState({environment: nextProps.environment}, this.fetchData);
+    }
+  },
+
   fetchData() {
     this.setState({
       loading: true,
       error: false,
     });
 
+    const query = {};
+    if (this.state.environment) {
+      query.environment = this.state.environment.name;
+    }
+
     // TODO(dcramer): each tag should be a separate query as the tags endpoint
     // is not performant
     this.api.request('/issues/' + this.getGroup().id + '/tags/', {
+      query,
       success: data => {
         this.setState({
           tagList: data,
@@ -128,4 +148,4 @@ const GroupTags = createReactClass({
   },
 });
 
-export default GroupTags;
+export default withEnvironment(GroupTags);
