commit 689e969211bf04fe47b0c4e0bf67cd4116d045bb
Author: William Mak <william@wmak.io>
Date:   Thu Mar 19 18:58:57 2020 -0400

    fix(discover) - Was using wrong key for ip_address

diff --git a/src/sentry/static/sentry/app/views/eventsV2/utils.tsx b/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
index f799681b7a..f04a83b58d 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
@@ -309,8 +309,7 @@ export function downloadAsCsv(tableData, columnOrder, filename) {
             row['user.name'] ||
               row['user.email'] ||
               row['user.username'] ||
-              row['user.ipAddress'] ||
-              row['user.ip_address']
+              row['user.ip']
           );
         }
         return disableMacros(row[col]);
diff --git a/tests/js/spec/views/eventsV2/utils.spec.jsx b/tests/js/spec/views/eventsV2/utils.spec.jsx
index 049993bcfa..5744515d22 100644
--- a/tests/js/spec/views/eventsV2/utils.spec.jsx
+++ b/tests/js/spec/views/eventsV2/utils.spec.jsx
@@ -606,13 +606,14 @@ describe('downloadAsCsv', function() {
     const result = {
       data: [
         {message: 'test 1', 'user.name': 'foo'},
-        {message: 'test 2', 'user.name': 'bar', 'user.ip_address': '127.0.0.1'},
+        {message: 'test 2', 'user.name': 'bar', 'user.ip': '127.0.0.1'},
         {message: 'test 3', 'user.email': 'foo@example.com', 'user.username': 'foo'},
+        {message: 'test 4', 'user.ip': '127.0.0.1'},
       ],
     };
     expect(downloadAsCsv(result, [messageColumn, userColumn])).toContain(
       encodeURIComponent(
-        'message,user\r\ntest 1,foo\r\ntest 2,bar\r\ntest 3,foo@example.com'
+        'message,user\r\ntest 1,foo\r\ntest 2,bar\r\ntest 3,foo@example.com\r\ntest 4,127.0.0.1'
       )
     );
   });
