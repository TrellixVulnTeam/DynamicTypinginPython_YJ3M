commit b47f93595c31a14806c00fa020d8715eb2343660
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Wed Mar 14 21:09:52 2018 -0700

    ref: Use code-owners feature flag for owners

diff --git a/src/sentry/api/serializers/models/organization.py b/src/sentry/api/serializers/models/organization.py
index efd7f37315..37464658b1 100644
--- a/src/sentry/api/serializers/models/organization.py
+++ b/src/sentry/api/serializers/models/organization.py
@@ -121,6 +121,8 @@ class DetailedOrganizationSerializer(OrganizationSerializer):
             feature_list.append('suggested-commits')
         if features.has('organizations:new-teams', obj, actor=user):
             feature_list.append('new-teams')
+        if features.has('organizations:code-owners', obj, actor=user):
+            feature_list.append('code-owners')
 
         if getattr(obj.flags, 'allow_joinleave'):
             feature_list.append('open-membership')
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 0bda1c4180..98356639b8 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -754,6 +754,7 @@ SENTRY_FEATURES = {
     'organizations:environments': False,
     'organizations:internal-catchall': False,
     'organizations:new-teams': False,
+    'organizations:code-owners': False,
     'projects:global-events': False,
     'projects:plugins': True,
     'projects:dsym': False,
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index d7415341c7..92f799c353 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -22,6 +22,7 @@ default_manager.add('organizations:integrations-v3', OrganizationFeature)  # NOQ
 default_manager.add('organizations:require-2fa', OrganizationFeature)  # NOQA
 default_manager.add('organizations:internal-catchall', OrganizationFeature)  # NOQA
 default_manager.add('organizations:new-teams', OrganizationFeature)  # NOQA
+default_manager.add('organizations:code-owners', OrganizationFeature)  # NOQA
 default_manager.add('projects:similarity-view', ProjectFeature)  # NOQA
 default_manager.add('projects:global-events', ProjectFeature)  # NOQA
 default_manager.add('projects:plugins', ProjectPluginFeature)  # NOQA
diff --git a/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx b/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
index bc343c7b21..7eed15b340 100644
--- a/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
+++ b/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
@@ -190,7 +190,7 @@ const SuggestedOwners = createReactClass({
 
   render() {
     let {committers, owners} = this.state;
-    let showOwners = new Set(this.getOrganization().features).has('internal-catchall');
+    let showOwners = new Set(this.getOrganization().features).has('code-owners');
 
     if (committers.length == 0 && (!showOwners || owners.length == 0)) {
       return null;
diff --git a/tests/js/spec/components/group/suggestedOwners.spec.jsx b/tests/js/spec/components/group/suggestedOwners.spec.jsx
index 04c75d024b..9590547a90 100644
--- a/tests/js/spec/components/group/suggestedOwners.spec.jsx
+++ b/tests/js/spec/components/group/suggestedOwners.spec.jsx
@@ -55,7 +55,7 @@ describe('SuggestedOwners', function() {
       );
 
       wrapper.setContext({
-        organization: {id: '1', features: new Set(['internal-catchall'])},
+        organization: {id: '1', features: new Set(['code-owners'])},
       });
 
       expect(wrapper).toMatchSnapshot();
