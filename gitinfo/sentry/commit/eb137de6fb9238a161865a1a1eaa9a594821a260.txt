commit eb137de6fb9238a161865a1a1eaa9a594821a260
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Nov 16 14:48:30 2018 -0800

    ref(ui): Clean up TagDistributionMeter warnings (#10611)
    
    Fixes keys

diff --git a/src/sentry/static/sentry/app/components/deviceName.jsx b/src/sentry/static/sentry/app/components/deviceName.jsx
index 76dfdb963d..f5b25d0403 100644
--- a/src/sentry/static/sentry/app/components/deviceName.jsx
+++ b/src/sentry/static/sentry/app/components/deviceName.jsx
@@ -43,9 +43,23 @@ export default class DeviceName extends React.Component {
   }
 
   componentDidMount() {
+    // This is to handle react's warning on calling setState for unmounted components
+    // Since we can't cancel promises, we need to do this
+    this._isMounted = true;
+
     // This library is very big, so we are codesplitting it based on size and
     // the relatively small utility this library provides
-    loadDeviceListModule().then(iOSDeviceList => this.setState({iOSDeviceList}));
+    loadDeviceListModule().then(iOSDeviceList => {
+      if (!this._isMounted) {
+        return;
+      }
+
+      this.setState({iOSDeviceList});
+    });
+  }
+
+  componentWillUnmount() {
+    this._isMounted = false;
   }
 
   render() {
diff --git a/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx b/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
index af2274b504..888e77b675 100644
--- a/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
+++ b/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
@@ -65,7 +65,7 @@ const TagDistributionMeter = createReactClass({
       error: false,
     });
 
-      loadDeviceListModule()
+    loadDeviceListModule()
       .then(iOSDeviceList => {
         this.setState({
           iOSDeviceList,
@@ -114,7 +114,7 @@ const TagDistributionMeter = createReactClass({
             '%';
 
           return (
-            <Tooltip key={value.key} title={tooltipHtml} tooltipOptions={{html: true}}>
+            <Tooltip key={value.value} title={tooltipHtml} tooltipOptions={{html: true}}>
               <Link
                 className={className}
                 style={{width: pct + '%'}}
