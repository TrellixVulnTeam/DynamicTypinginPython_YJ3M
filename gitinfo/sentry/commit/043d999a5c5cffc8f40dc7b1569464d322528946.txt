commit 043d999a5c5cffc8f40dc7b1569464d322528946
Author: Lior Sion <liorsion@The-MacBook-Air.local>
Date:   Fri May 13 11:59:31 2011 +0300

    top level exception handling

diff --git a/sentry/client/handlers.py b/sentry/client/handlers.py
index e936bbaeae..8fdf132e30 100644
--- a/sentry/client/handlers.py
+++ b/sentry/client/handlers.py
@@ -16,7 +16,12 @@ class SentryHandler(logging.Handler):
             return
 
         self.format(record)
-        get_client().create_from_record(record, request=request)
+        try:
+            get_client().create_from_record(record, request=request)
+        except Exception:
+            print >> sys.stderr, "Top level Sentry exception caught - failed creating log record"
+            print >> sys.stderr, record.msg
+            return
 
 try:
     import logbook
