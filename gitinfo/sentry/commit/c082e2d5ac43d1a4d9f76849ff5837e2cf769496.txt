commit c082e2d5ac43d1a4d9f76849ff5837e2cf769496
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 18 13:19:31 2010 -0700

    Return empty data for chart_data filter if not supported

diff --git a/sentry/templates/sentry/group/details.html b/sentry/templates/sentry/group/details.html
index e3e2c184ed..239aa5ac50 100644
--- a/sentry/templates/sentry/group/details.html
+++ b/sentry/templates/sentry/group/details.html
@@ -64,78 +64,80 @@
 		{% block inner %}
 			<div id="details">
 				{% with group|chart_data as chart_data %}
-				<script type="text/javascript">
-				$(document).ready(function() {
-					new Highcharts.Chart({
-						chart: {
-							renderTo: 'chart',
-							zoomType: 'x',
-							marginLeft: 50,
-							marginRight: 20,
-							marginTop: 20,
-							marginBottom: 40,
-							backgroundColor: '#eeeeee',
-							showAxes: false,
-							height: 200
-						},
-						title: {
-							text: false
-						},
-						xAxis: {
-							type: 'datetime',
-							maxZoom: 24 * 3600000, // 1 day
-							title: {
-								text: false
-							},
-						},
-						yAxis: {
-							title: {
-								text: false
-							}
-						},
-						tooltip: {
-							formatter: function() {
-								return '<strong>'+
-									Highcharts.dateFormat('%A %B %e %Y', this.x) + '</strong><br/>'+
-									this.y+' records';
-							}
-						},
-						series: [{
-							pointStart: new Date() - 30 * 3600000,
-							pointInterval: 3600 * 1000,
-							type: 'area',
-							data: {{ chart_data.points|to_json }}
-						}],
-						legend: {
-							enabled: false
-						},
-						plotOptions: {
-							area: {
-								lineWidth: 1,
-								marker: {
-									enabled: false,
-									states: {
-										hover: {
-											enabled: true,
-											radius: 5
-										}
-									}
-								},
-								shadow: false,
-								states: {
-									hover: {
-										lineWidth: 1
-									}
-								}
-							}
-						},
-					});
-				});
-				</script>
-				<h2>Frequency</h2>
-				<div id="chart">
-					<noscript>Get yourself some JavaScripts dood</noscript>
-				</div>
+    				{% if chart_data %}
+    				<script type="text/javascript">
+    				$(document).ready(function() {
+    					new Highcharts.Chart({
+    						chart: {
+    							renderTo: 'chart',
+    							zoomType: 'x',
+    							marginLeft: 50,
+    							marginRight: 20,
+    							marginTop: 20,
+    							marginBottom: 40,
+    							backgroundColor: '#eeeeee',
+    							showAxes: false,
+    							height: 200
+    						},
+    						title: {
+    							text: false
+    						},
+    						xAxis: {
+    							type: 'datetime',
+    							maxZoom: 24 * 3600000, // 1 day
+    							title: {
+    								text: false
+    							},
+    						},
+    						yAxis: {
+    							title: {
+    								text: false
+    							}
+    						},
+    						tooltip: {
+    							formatter: function() {
+    								return '<strong>'+
+    									Highcharts.dateFormat('%A %B %e %Y', this.x) + '</strong><br/>'+
+    									this.y+' records';
+    							}
+    						},
+    						series: [{
+    							pointStart: new Date() - 30 * 3600000,
+    							pointInterval: 3600 * 1000,
+    							type: 'area',
+    							data: {{ chart_data.points|to_json }}
+    						}],
+    						legend: {
+    							enabled: false
+    						},
+    						plotOptions: {
+    							area: {
+    								lineWidth: 1,
+    								marker: {
+    									enabled: false,
+    									states: {
+    										hover: {
+    											enabled: true,
+    											radius: 5
+    										}
+    									}
+    								},
+    								shadow: false,
+    								states: {
+    									hover: {
+    										lineWidth: 1
+    									}
+    								}
+    							}
+    						},
+    					});
+    				});
+    				</script>
+    				<h2>Frequency</h2>
+    				<div id="chart">
+    					<noscript>Get yourself some JavaScripts dood</noscript>
+    				</div>
+    			    {% endif %}
 				{% endwith %}
 				
 				{% if traceback %}
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index a8b77800f8..8bf40da898 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -50,7 +50,7 @@ def chart_data(group, max_days=90):
     if get_db_engine().startswith('postgresql'):
         method = "date_trunc('hour', datetime)"
     else:
-        raise NotImplementedError
+        return {}
 
     chart_qs = list(group.message_set.all()\
                       .filter(datetime__gte=datetime.datetime.now() - datetime.timedelta(hours=hours))\
