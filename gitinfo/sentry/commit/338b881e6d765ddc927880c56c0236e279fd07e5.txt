commit 338b881e6d765ddc927880c56c0236e279fd07e5
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Jan 30 13:59:16 2019 -0800

    feat(onboarding): Update new project flow for Sentry 10 (#11779)
    
    Conditionally hides the old project selector for Sentry 10.
    Update the getting started URLs.

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index f3b38dcf34..15b2945dc4 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -795,6 +795,15 @@ function routes() {
               component={errorHandler(LazyLoad)}
             />
           </Route>
+
+          <Route
+            path="/organizations/:orgId/projects/:projectId/getting-started/"
+            component={errorHandler(ProjectGettingStarted)}
+          >
+            <IndexRoute component={errorHandler(ProjectInstallOverview)} />
+            <Route path=":platform/" component={errorHandler(ProjectInstallPlatform)} />
+          </Route>
+
           <Route
             path="/organizations/:orgId/projects/:projectId/events/:eventId/"
             component={errorHandler(ProjectEventRedirect)}
diff --git a/src/sentry/static/sentry/app/views/onboarding/configure/index.jsx b/src/sentry/static/sentry/app/views/onboarding/configure/index.jsx
index 93bd2b009f..0f2a9cb43c 100644
--- a/src/sentry/static/sentry/app/views/onboarding/configure/index.jsx
+++ b/src/sentry/static/sentry/app/views/onboarding/configure/index.jsx
@@ -11,6 +11,7 @@ import ProjectDocsContext from 'app/views/projectInstall/docsContext';
 import ProjectInstallPlatform from 'app/views/projectInstall/platform';
 import SentryTypes from 'app/sentryTypes';
 import Waiting from 'app/views/onboarding/configure/waiting';
+import {t} from 'app/locale';
 
 const Configure = createReactClass({
   displayName: 'Configure',
@@ -121,7 +122,11 @@ const Configure = createReactClass({
 
   redirectToNeutralDocs() {
     let {orgId, projectId} = this.props.params;
-    let url = `/${orgId}/${projectId}/getting-started`;
+    let {organization} = this.context;
+
+    let url = new Set(organization.features).has('sentry10')
+      ? `/organizations/${orgId}/projects/${projectId}/getting-started/`
+      : `/${orgId}/${projectId}/getting-started/`;
 
     browserHistory.push(url);
   },
@@ -134,7 +139,7 @@ const Configure = createReactClass({
       <div>
         <div className="onboarding-Configure">
           <h2 style={{marginBottom: 30}}>
-            Configure your application
+            {t('Configure your application')}
             {!hasSentRealEvent && (
               <CreateSampleEvent params={this.props.params} source="header" />
             )}
diff --git a/src/sentry/static/sentry/app/views/projectInstall/gettingStarted.jsx b/src/sentry/static/sentry/app/views/projectInstall/gettingStarted.jsx
index c15b0c30db..3ea840b225 100644
--- a/src/sentry/static/sentry/app/views/projectInstall/gettingStarted.jsx
+++ b/src/sentry/static/sentry/app/views/projectInstall/gettingStarted.jsx
@@ -14,14 +14,18 @@ class GettingStartedBody extends React.Component {
   };
 
   render() {
-    let {project, organization} = this.context;
+    const {project, organization} = this.context;
+    const hasSentry10 = new Set(organization.features).has('sentry10');
+
     return (
       <Container>
-        <div className="sub-header flex flex-container flex-vertically-centered">
-          <div className="p-t-1 p-b-1">
-            <ProjectSelector organization={organization} projectId={project.slug} />
+        {!hasSentry10 && (
+          <div className="sub-header flex flex-container flex-vertically-centered">
+            <div className="p-t-1 p-b-1">
+              <ProjectSelector organization={organization} projectId={project.slug} />
+            </div>
           </div>
-        </div>
+        )}
         <div className="container">
           <Content>
             <ProjectDocsContext>
@@ -39,7 +43,7 @@ class GettingStartedBody extends React.Component {
 
 class GettingStarted extends React.Component {
   render() {
-    let {projectId, orgId} = this.props.params;
+    const {projectId, orgId} = this.props.params;
     return (
       <ProjectContext orgId={orgId} projectId={projectId}>
         <GettingStartedBody>{this.props.children}</GettingStartedBody>
diff --git a/src/sentry/static/sentry/app/views/projectInstall/newProject.jsx b/src/sentry/static/sentry/app/views/projectInstall/newProject.jsx
index d8610b4654..362b4dbff7 100644
--- a/src/sentry/static/sentry/app/views/projectInstall/newProject.jsx
+++ b/src/sentry/static/sentry/app/views/projectInstall/newProject.jsx
@@ -14,13 +14,16 @@ const NewProject = createReactClass({
   mixins: [OrganizationState],
 
   render() {
+    const hasSentry10 = this.getFeatures().has('sentry10');
     return (
       <Container>
-        <div className="sub-header flex flex-container flex-vertically-centered">
-          <div className="p-t-1 p-b-1">
-            <ProjectSelector organization={this.getOrganization()} />
+        {!hasSentry10 && (
+          <div className="sub-header flex flex-container flex-vertically-centered">
+            <div className="p-t-1 p-b-1">
+              <ProjectSelector organization={this.getOrganization()} />
+            </div>
           </div>
-        </div>
+        )}
         <div className="container">
           <Content>
             <DocumentTitle title={'Sentry'} />
diff --git a/src/sentry/static/sentry/app/views/projectInstall/overview.jsx b/src/sentry/static/sentry/app/views/projectInstall/overview.jsx
index 9df43b4b9c..2cc3a53313 100644
--- a/src/sentry/static/sentry/app/views/projectInstall/overview.jsx
+++ b/src/sentry/static/sentry/app/views/projectInstall/overview.jsx
@@ -2,22 +2,25 @@ import {browserHistory, Link} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
 
+import SentryTypes from 'app/sentryTypes';
 import {t, tct} from 'app/locale';
 import AutoSelectText from 'app/components/autoSelectText';
 import PlatformPicker from 'app/views/onboarding/project/platformpicker';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
 import TextBlock from 'app/views/settings/components/text/textBlock';
 import recreateRoute from 'app/utils/recreateRoute';
+import withOrganization from 'app/utils/withOrganization';
 
 class ProjectInstallOverview extends React.Component {
   static propTypes = {
+    organization: SentryTypes.Organization.isRequired,
     platformData: PropTypes.object,
   };
 
-  constructor(...args) {
-    super(...args);
+  constructor(props) {
+    super(props);
     this.state = {
-      data: this.props.platformData,
+      data: props.platformData,
     };
   }
 
@@ -25,13 +28,19 @@ class ProjectInstallOverview extends React.Component {
     return location.href.indexOf('getting-started') > 0;
   };
 
+  hasSentry10 = () => {
+    return new Set(this.props.organization.features).has('sentry10');
+  };
+
   redirectToDocs = platform => {
     let {orgId, projectId} = this.props.params;
     let prefix = recreateRoute('', {...this.props, stepBack: -3});
     let rootUrl = `${prefix}install`;
 
     if (this.isGettingStarted()) {
-      rootUrl = `/${orgId}/${projectId}/getting-started`;
+      rootUrl = this.hasSentry10()
+        ? `/organizations/${orgId}/projects/${projectId}/getting-started`
+        : `/${orgId}/${projectId}/getting-started`;
     }
 
     browserHistory.push(`${rootUrl}/${platform}/`);
@@ -45,6 +54,10 @@ class ProjectInstallOverview extends React.Component {
     let {data} = this.state;
     let {orgId, projectId} = this.props.params;
 
+    let issueStreamLink = this.hasSentry10()
+      ? `/organizations/${orgId}/issues/#welcome`
+      : `/${orgId}/${projectId}/#welcome`;
+
     return (
       <div>
         <SettingsPageHeader title={t('Configure your application')} />
@@ -72,10 +85,7 @@ class ProjectInstallOverview extends React.Component {
               <div className="help-block m-b-1">
                 {t('The public DSN should be used with JavaScript.')}
               </div>
-              <Link
-                to={`/${orgId}/${projectId}/#welcome`}
-                className="btn btn-primary m-b-1"
-              >
+              <Link to={issueStreamLink} className="btn btn-primary m-b-1">
                 {t('Got it! Take me to the Issue Stream.')}
               </Link>
             </div>
@@ -106,4 +116,4 @@ class ProjectInstallOverview extends React.Component {
   }
 }
 
-export default ProjectInstallOverview;
+export default withOrganization(ProjectInstallOverview);
diff --git a/src/sentry/static/sentry/app/views/projectInstall/platform.jsx b/src/sentry/static/sentry/app/views/projectInstall/platform.jsx
index 1bdaeee06c..125dc45b5a 100644
--- a/src/sentry/static/sentry/app/views/projectInstall/platform.jsx
+++ b/src/sentry/static/sentry/app/views/projectInstall/platform.jsx
@@ -4,6 +4,7 @@ import React from 'react';
 import createReactClass from 'create-react-class';
 import styled from 'react-emotion';
 
+import SentryTypes from 'app/sentryTypes';
 import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
 import {t, tct} from 'app/locale';
 import ApiMixin from 'app/mixins/apiMixin';
@@ -13,11 +14,13 @@ import LoadingError from 'app/components/loadingError';
 import LoadingIndicator from 'app/components/loadingIndicator';
 import NotFound from 'app/components/errors/notFound';
 import TextBlock from 'app/views/settings/components/text/textBlock';
+import withOrganization from 'app/utils/withOrganization';
 
 const ProjectInstallPlatform = createReactClass({
   displayName: 'ProjectInstallPlatform',
 
   propTypes: {
+    organization: SentryTypes.Organization.isRequired,
     // eslint-disable-next-line react/no-unused-prop-types
     platformData: PropTypes.object.isRequired,
     linkPath: PropTypes.func,
@@ -107,12 +110,16 @@ const ProjectInstallPlatform = createReactClass({
 
   render() {
     let {integration, platform} = this.state;
-    let {orgId, projectId} = this.props.params;
+    let {organization, params: {orgId, projectId}} = this.props;
 
     if (!integration || !platform) {
       return <NotFound />;
     }
 
+    let issueStreamLink = new Set(organization.features).has('sentry10')
+      ? `/organizations/${orgId}/issues/#welcome`
+      : `/${orgId}/${projectId}/#welcome`;
+
     return (
       <Panel>
         <PanelHeader hasButtons>
@@ -158,7 +165,7 @@ const ProjectInstallPlatform = createReactClass({
             <Button
               priority="primary"
               size="large"
-              to={`/${orgId}/${projectId}/#welcome`}
+              to={issueStreamLink}
               style={{marginTop: 20}}
             >
               {t('Got it! Take me to the Issue Stream.')}
@@ -170,7 +177,8 @@ const ProjectInstallPlatform = createReactClass({
   },
 });
 
-export default ProjectInstallPlatform;
+export {ProjectInstallPlatform};
+export default withOrganization(ProjectInstallPlatform);
 
 const DocumentationWrapper = styled('div')`
   p {
diff --git a/tests/js/spec/views/onboarding/configure/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/onboarding/configure/__snapshots__/index.spec.jsx.snap
index edf087c13b..36d6a2e7a5 100644
--- a/tests/js/spec/views/onboarding/configure/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/onboarding/configure/__snapshots__/index.spec.jsx.snap
@@ -34,7 +34,7 @@ exports[`Configure should render correctly render() should redirect to if no mat
       }
     >
       <ProjectDocsContext>
-        <ProjectInstallPlatform
+        <WithOrganizationMockWrapper
           linkPath={[Function]}
           params={
             Object {
@@ -244,7 +244,7 @@ exports[`Configure should render correctly render() should render platform docs
                 title="project-slug"
               >
                 <ProjectDocsContext>
-                  <ProjectInstallPlatform
+                  <WithOrganizationMockWrapper
                     linkPath={[Function]}
                     params={
                       Object {
@@ -274,77 +274,135 @@ exports[`Configure should render correctly render() should render platform docs
                       }
                     }
                   >
-                    <Panel>
-                      <Component
-                        className="css-yahxlu-Panel e1laxa7d0"
-                      >
-                        <div
+                    <ProjectInstallPlatform
+                      linkPath={[Function]}
+                      organization={
+                        Object {
+                          "id": "1337",
+                          "projects": Array [
+                            Object {
+                              "hasAccess": true,
+                              "id": "testProject",
+                              "isBookmarked": false,
+                              "isMember": true,
+                              "name": "Test Project",
+                              "slug": "project-slug",
+                              "teams": Array [
+                                Object {
+                                  "hasAccess": true,
+                                  "id": "coolteam",
+                                  "slug": "coolteam",
+                                },
+                              ],
+                            },
+                          ],
+                          "slug": "testOrg",
+                          "teams": Array [
+                            Object {
+                              "hasAccess": true,
+                              "id": "coolteam",
+                              "projects": Array [
+                                Object {
+                                  "id": "testProject",
+                                  "name": "Test Project",
+                                  "slug": "project-slug",
+                                },
+                              ],
+                              "slug": "coolteam",
+                            },
+                          ],
+                        }
+                      }
+                      params={
+                        Object {
+                          "orgId": "testOrg",
+                          "platform": "node",
+                          "projectId": "project-slug",
+                        }
+                      }
+                      platformData={
+                        Object {
+                          "dsn": "https://9ed7cdc60:20e868d7b@sentry.io/300733",
+                          "dsnPublic": "https://9ed7cdc6581145bcb46044b77bd82aa0@sentry.io/300733",
+                          "platforms": Array [
+                            Object {
+                              "id": "javascript",
+                              "integrations": Array [
+                                Object {
+                                  "id": "node",
+                                  "link": "https://docs.getsentry.com/hosted/clients/csharp/",
+                                  "name": "node",
+                                  "type": "language",
+                                },
+                              ],
+                              "name": "js",
+                            },
+                          ],
+                        }
+                      }
+                    >
+                      <Panel>
+                        <Component
                           className="css-yahxlu-Panel e1laxa7d0"
                         >
-                          <PanelHeader
-                            hasButtons={true}
+                          <div
+                            className="css-yahxlu-Panel e1laxa7d0"
                           >
-                            <Component
-                              className="css-jmvceg-PanelHeader-getPadding e1p8v8nv0"
+                            <PanelHeader
                               hasButtons={true}
                             >
-                              <Flex
-                                align="center"
+                              <Component
                                 className="css-jmvceg-PanelHeader-getPadding e1p8v8nv0"
-                                justify="space-between"
+                                hasButtons={true}
                               >
-                                <Base
+                                <Flex
                                   align="center"
-                                  className="e1p8v8nv0 css-19i62qd-PanelHeader-getPadding"
+                                  className="css-jmvceg-PanelHeader-getPadding e1p8v8nv0"
                                   justify="space-between"
                                 >
-                                  <div
+                                  <Base
+                                    align="center"
                                     className="e1p8v8nv0 css-19i62qd-PanelHeader-getPadding"
-                                    is={null}
+                                    justify="space-between"
                                   >
-                                    Configure node
-                                    <Flex>
-                                      <Base
-                                        className="css-sncxrr"
-                                      >
-                                        <div
+                                    <div
+                                      className="e1p8v8nv0 css-19i62qd-PanelHeader-getPadding"
+                                      is={null}
+                                    >
+                                      Configure node
+                                      <Flex>
+                                        <Base
                                           className="css-sncxrr"
-                                          is={null}
                                         >
-                                          <Box
-                                            ml={1}
+                                          <div
+                                            className="css-sncxrr"
+                                            is={null}
                                           >
-                                            <Base
-                                              className="css-re0chm"
+                                            <Box
                                               ml={1}
                                             >
-                                              <div
+                                              <Base
                                                 className="css-re0chm"
-                                                is={null}
+                                                ml={1}
                                               >
-                                                <Button
-                                                  disabled={false}
-                                                  href="/testOrg/project-slug/getting-started/"
-                                                  size="small"
+                                                <div
+                                                  className="css-re0chm"
+                                                  is={null}
                                                 >
-                                                  <StyledButton
-                                                    aria-label="< Back"
+                                                  <Button
                                                     disabled={false}
                                                     href="/testOrg/project-slug/getting-started/"
-                                                    onClick={[Function]}
-                                                    role="button"
                                                     size="small"
                                                   >
-                                                    <Component
+                                                    <StyledButton
                                                       aria-label="< Back"
-                                                      className="css-dkprmi-StyledButton-getColors eqrebog0"
                                                       disabled={false}
                                                       href="/testOrg/project-slug/getting-started/"
                                                       onClick={[Function]}
                                                       role="button"
                                                       size="small"
                                                     >
-                                                      <a
+                                                      <Component
                                                         aria-label="< Back"
                                                         className="css-dkprmi-StyledButton-getColors eqrebog0"
                                                         disabled={false}
@@ -353,56 +411,55 @@ exports[`Configure should render correctly render() should render platform docs
                                                         role="button"
                                                         size="small"
                                                       >
-                                                        <ButtonLabel
+                                                        <a
+                                                          aria-label="< Back"
+                                                          className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                                          disabled={false}
+                                                          href="/testOrg/project-slug/getting-started/"
+                                                          onClick={[Function]}
+                                                          role="button"
                                                           size="small"
                                                         >
-                                                          <Component
-                                                            className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                          <ButtonLabel
                                                             size="small"
                                                           >
-                                                            <span
+                                                            <Component
                                                               className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                              size="small"
                                                             >
-                                                              &lt; Back
-                                                            </span>
-                                                          </Component>
-                                                        </ButtonLabel>
-                                                      </a>
-                                                    </Component>
-                                                  </StyledButton>
-                                                </Button>
-                                              </div>
-                                            </Base>
-                                          </Box>
-                                          <Box
-                                            ml={1}
-                                          >
-                                            <Base
-                                              className="css-re0chm"
+                                                              <span
+                                                                className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                              >
+                                                                &lt; Back
+                                                              </span>
+                                                            </Component>
+                                                          </ButtonLabel>
+                                                        </a>
+                                                      </Component>
+                                                    </StyledButton>
+                                                  </Button>
+                                                </div>
+                                              </Base>
+                                            </Box>
+                                            <Box
                                               ml={1}
                                             >
-                                              <div
+                                              <Base
                                                 className="css-re0chm"
-                                                is={null}
+                                                ml={1}
                                               >
-                                                <Button
-                                                  disabled={false}
-                                                  external={true}
-                                                  href="https://docs.getsentry.com/hosted/clients/csharp/"
-                                                  size="small"
+                                                <div
+                                                  className="css-re0chm"
+                                                  is={null}
                                                 >
-                                                  <StyledButton
-                                                    aria-label="Full Documentation"
+                                                  <Button
                                                     disabled={false}
                                                     external={true}
                                                     href="https://docs.getsentry.com/hosted/clients/csharp/"
-                                                    onClick={[Function]}
-                                                    role="button"
                                                     size="small"
                                                   >
-                                                    <Component
+                                                    <StyledButton
                                                       aria-label="Full Documentation"
-                                                      className="css-dkprmi-StyledButton-getColors eqrebog0"
                                                       disabled={false}
                                                       external={true}
                                                       href="https://docs.getsentry.com/hosted/clients/csharp/"
@@ -410,18 +467,17 @@ exports[`Configure should render correctly render() should render platform docs
                                                       role="button"
                                                       size="small"
                                                     >
-                                                      <ExternalLink
+                                                      <Component
                                                         aria-label="Full Documentation"
                                                         className="css-dkprmi-StyledButton-getColors eqrebog0"
                                                         disabled={false}
+                                                        external={true}
                                                         href="https://docs.getsentry.com/hosted/clients/csharp/"
                                                         onClick={[Function]}
-                                                        rel="noreferrer noopener"
                                                         role="button"
                                                         size="small"
-                                                        target="_blank"
                                                       >
-                                                        <a
+                                                        <ExternalLink
                                                           aria-label="Full Documentation"
                                                           className="css-dkprmi-StyledButton-getColors eqrebog0"
                                                           disabled={false}
@@ -432,114 +488,126 @@ exports[`Configure should render correctly render() should render platform docs
                                                           size="small"
                                                           target="_blank"
                                                         >
-                                                          <ButtonLabel
+                                                          <a
+                                                            aria-label="Full Documentation"
+                                                            className="css-dkprmi-StyledButton-getColors eqrebog0"
+                                                            disabled={false}
+                                                            href="https://docs.getsentry.com/hosted/clients/csharp/"
+                                                            onClick={[Function]}
+                                                            rel="noreferrer noopener"
+                                                            role="button"
                                                             size="small"
+                                                            target="_blank"
                                                           >
-                                                            <Component
-                                                              className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                            <ButtonLabel
                                                               size="small"
                                                             >
-                                                              <span
+                                                              <Component
                                                                 className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                                size="small"
                                                               >
-                                                                Full Documentation
-                                                              </span>
-                                                            </Component>
-                                                          </ButtonLabel>
-                                                        </a>
-                                                      </ExternalLink>
-                                                    </Component>
-                                                  </StyledButton>
-                                                </Button>
-                                              </div>
-                                            </Base>
-                                          </Box>
-                                        </div>
-                                      </Base>
-                                    </Flex>
-                                  </div>
-                                </Base>
-                              </Flex>
-                            </Component>
-                          </PanelHeader>
-                          <PanelBody
-                            direction="column"
-                            disablePadding={false}
-                            flex={false}
-                          >
-                            <div
-                              className="css-zhfi4l-padding-textStyles"
+                                                                <span
+                                                                  className="css-7ui8bl-ButtonLabel eqrebog1"
+                                                                >
+                                                                  Full Documentation
+                                                                </span>
+                                                              </Component>
+                                                            </ButtonLabel>
+                                                          </a>
+                                                        </ExternalLink>
+                                                      </Component>
+                                                    </StyledButton>
+                                                  </Button>
+                                                </div>
+                                              </Base>
+                                            </Box>
+                                          </div>
+                                        </Base>
+                                      </Flex>
+                                    </div>
+                                  </Base>
+                                </Flex>
+                              </Component>
+                            </PanelHeader>
+                            <PanelBody
+                              direction="column"
+                              disablePadding={false}
+                              flex={false}
                             >
-                              <TextBlock>
-                                <Component
-                                  className="css-1geyb25-TextBlock ec8ep340"
-                                >
-                                  <div
+                              <div
+                                className="css-zhfi4l-padding-textStyles"
+                              >
+                                <TextBlock>
+                                  <Component
                                     className="css-1geyb25-TextBlock ec8ep340"
                                   >
-                                    <span
-                                      key="8"
+                                    <div
+                                      className="css-1geyb25-TextBlock ec8ep340"
                                     >
                                       <span
-                                        key="0"
+                                        key="8"
                                       >
-                                        
+                                        <span
+                                          key="0"
+                                        >
+                                          
              This is a quick getting started guide. For in-depth instructions
              on integrating Sentry with 
-                                      </span>
-                                      <span
-                                        key="2"
-                                      >
-                                        node
-                                      </span>
-                                      <span
-                                        key="3"
-                                      >
-                                        , view
-             
-                                      </span>
-                                      <a
-                                        href="https://docs.getsentry.com/hosted/clients/csharp/"
-                                        key="5"
-                                      >
+                                        </span>
                                         <span
-                                          key="4"
+                                          key="2"
                                         >
-                                          our complete documentation
+                                          node
                                         </span>
-                                      </a>
-                                      <span
-                                        key="6"
-                                      >
-                                        .
+                                        <span
+                                          key="3"
+                                        >
+                                          , view
+             
+                                        </span>
+                                        <a
+                                          href="https://docs.getsentry.com/hosted/clients/csharp/"
+                                          key="5"
+                                        >
+                                          <span
+                                            key="4"
+                                          >
+                                            our complete documentation
+                                          </span>
+                                        </a>
+                                        <span
+                                          key="6"
+                                        >
+                                          .
             
+                                        </span>
                                       </span>
-                                    </span>
-                                  </div>
-                                </Component>
-                              </TextBlock>
-                              <DocumentationWrapper
-                                dangerouslySetInnerHTML={
-                                  Object {
-                                    "__html": undefined,
-                                  }
-                                }
-                              >
-                                <div
-                                  className="css-1y7l4t-DocumentationWrapper e1w9lqpk0"
+                                    </div>
+                                  </Component>
+                                </TextBlock>
+                                <DocumentationWrapper
                                   dangerouslySetInnerHTML={
                                     Object {
                                       "__html": undefined,
                                     }
                                   }
-                                />
-                              </DocumentationWrapper>
-                            </div>
-                          </PanelBody>
-                        </div>
-                      </Component>
-                    </Panel>
-                  </ProjectInstallPlatform>
+                                >
+                                  <div
+                                    className="css-1y7l4t-DocumentationWrapper e1w9lqpk0"
+                                    dangerouslySetInnerHTML={
+                                      Object {
+                                        "__html": undefined,
+                                      }
+                                    }
+                                  />
+                                </DocumentationWrapper>
+                              </div>
+                            </PanelBody>
+                          </div>
+                        </Component>
+                      </Panel>
+                    </ProjectInstallPlatform>
+                  </WithOrganizationMockWrapper>
                 </ProjectDocsContext>
               </DocumentTitle>
             </SideEffect(DocumentTitle)>
@@ -680,7 +748,7 @@ exports[`Configure should render correctly render() shouldn't redirect for a fou
       }
     >
       <ProjectDocsContext>
-        <ProjectInstallPlatform
+        <WithOrganizationMockWrapper
           linkPath={[Function]}
           params={
             Object {
diff --git a/tests/js/spec/views/projectInstall/platform.spec.jsx b/tests/js/spec/views/projectInstall/platform.spec.jsx
index 4621f94337..2b0b2f908f 100644
--- a/tests/js/spec/views/projectInstall/platform.spec.jsx
+++ b/tests/js/spec/views/projectInstall/platform.spec.jsx
@@ -2,7 +2,7 @@ import React from 'react';
 import {shallow} from 'enzyme';
 
 import {Client} from 'app/api';
-import ProjectInstallPlatform from 'app/views/projectInstall/platform';
+import {ProjectInstallPlatform} from 'app/views/projectInstall/platform';
 
 describe('ProjectInstallPlatform', function() {
   let sandbox;
@@ -19,6 +19,7 @@ describe('ProjectInstallPlatform', function() {
 
   describe('render()', function() {
     const baseProps = {
+      organization: TestStubs.Organization(),
       location: {query: {}},
       platformData: {
         platforms: [
