commit 3fd7a841f3f49ec6da019f6d7cb00bfb2c2572dd
Author: Ben Vinegar <benvinegar@users.noreply.github.com>
Date:   Wed Jun 22 15:48:31 2016 -0700

    Fix awkward clip animation on frame variables/http interface/others (#3571)
    
    /cc @getsentry/ui

diff --git a/src/sentry/static/sentry/app/components/clippedBox.jsx b/src/sentry/static/sentry/app/components/clippedBox.jsx
index f282667c89..d18f3b9aca 100644
--- a/src/sentry/static/sentry/app/components/clippedBox.jsx
+++ b/src/sentry/static/sentry/app/components/clippedBox.jsx
@@ -12,13 +12,15 @@ const ClippedBox = React.createClass({
   getDefaultProps() {
     return {
       defaultClipped: false,
-      clipHeight: 200
+      clipHeight: 200,
+      renderedHeight: null
     };
   },
 
   getInitialState() {
     return {
-      clipped: this.props.defaultClipped
+      clipped: this.props.defaultClipped,
+      revealed: false, // True once user has clicked "Show More" button
     };
   },
 
@@ -39,7 +41,8 @@ const ClippedBox = React.createClass({
     e.stopPropagation();
 
     this.setState({
-      clipped: false
+      clipped: false,
+      revealed: true
     });
   },
 
@@ -48,6 +51,9 @@ const ClippedBox = React.createClass({
     if (this.state.clipped) {
       className += ' clipped';
     }
+    if (this.state.revealed) {
+      className += ' revealed';
+    }
 
     return (
       <div className={className}>
@@ -55,11 +61,14 @@ const ClippedBox = React.createClass({
           <h5>{this.props.title}</h5>
         }
         {this.props.children}
-        <div className="clip-fade">
-          <a onClick={this.reveal} className="show-more btn btn-primary btn-xs">
-            {t('Show more')}
-          </a>
-        </div>
+
+        {this.state.clipped &&
+          <div className="clip-fade">
+            <a onClick={this.reveal} className="show-more btn btn-primary btn-xs">
+              {t('Show more')}
+            </a>
+          </div>
+        }
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index 48a30758ee..cd579a6ffb 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -1719,7 +1719,11 @@ div.commands {
   padding: 16px 20px 1px;
   border-top: 1px solid #f1f2f3;
   .transition(all 5s ease-in-out);
-  max-height: 50000px;
+
+  &.revealed {
+    /* For "Show More" animation */
+    max-height: 50000px;
+  }
 
   &:first-of-type {
     margin-top: -20px;
@@ -1731,7 +1735,6 @@ div.commands {
   }
 
   .clip-fade {
-    display: none;
     position: absolute;
     left: 0;
     right: 0;
@@ -1743,10 +1746,6 @@ div.commands {
   }
 
   &.clipped {
-    .clip-fade {
-      display: block;
-    }
-
     max-height: 200px;
     overflow: hidden;
   }
