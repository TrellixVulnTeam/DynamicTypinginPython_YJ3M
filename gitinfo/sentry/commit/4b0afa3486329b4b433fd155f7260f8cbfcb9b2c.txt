commit 4b0afa3486329b4b433fd155f7260f8cbfcb9b2c
Author: Dan LaMotte <lamotte85@gmail.com>
Date:   Thu Feb 21 17:41:23 2013 -0600

    respect sourceRoot if specified

diff --git a/src/sentry/utils/sourcemaps.py b/src/sentry/utils/sourcemaps.py
index 1547f23281..262259c020 100644
--- a/src/sentry/utils/sourcemaps.py
+++ b/src/sentry/utils/sourcemaps.py
@@ -63,10 +63,17 @@ def parse_sourcemap(sourcemap):
 
     smap = json.loads(sourcemap)
     sources = smap['sources']
+    sourceRoot = smap.get('sourceRoot')
     names = smap['names']
     mappings = smap['mappings']
     lines = mappings.split(';')
 
+    if sourceRoot:
+        sources = [
+            '%s/%s' % (sourceRoot, src)
+            for src in sources
+        ]
+
     dst_col, src_id, src_line, src_col, name_id = 0, 0, 0, 0, 0
     for dst_line, line in enumerate(lines):
         segments = line.split(',')
