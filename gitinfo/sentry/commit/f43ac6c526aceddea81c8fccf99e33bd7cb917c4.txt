commit f43ac6c526aceddea81c8fccf99e33bd7cb917c4
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 12 13:39:38 2017 -0700

    debugger: fix api wrapper

diff --git a/src/sentry/debug/middleware.py b/src/sentry/debug/middleware.py
index 28c591dd72..e50534feff 100644
--- a/src/sentry/debug/middleware.py
+++ b/src/sentry/debug/middleware.py
@@ -5,10 +5,19 @@ import re
 
 from debug_toolbar.toolbar import DebugToolbar
 from django.conf import settings
-from django.template.loader import render_to_string
 from django.utils.encoding import force_text
+from django.utils.html import escape
 from six.moves import _thread as thread
 
+WRAPPER = """
+<!DOCTYPE html>
+<html>
+<body>
+    <pre>{content}</pre>
+</body>
+</html>
+"""
+
 
 class ToolbarCache(object):
     def __init__(self):
@@ -111,9 +120,10 @@ class DebugMiddleware(object):
         if 'text/html' not in response['Content-Type']:
             if 'application/json' in response['Content-Type']:
                 content = json.dumps(json.loads(content), indent=2)
-            content = render_to_string('debug_toolbar/wrapper.html', {
-                'content': content,
-            })
+
+            content = WRAPPER.format(
+                content=escape(content),
+            )
             response['Content-Type'] = 'text/html'
 
         # Insert the toolbar in the response.
