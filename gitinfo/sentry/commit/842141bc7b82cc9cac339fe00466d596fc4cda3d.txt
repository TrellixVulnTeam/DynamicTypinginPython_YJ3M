commit 842141bc7b82cc9cac339fe00466d596fc4cda3d
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue May 30 23:24:46 2017 +0200

    Added dist support to search

diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
index d834240b8a..c06c48cf6e 100644
--- a/src/sentry/search/utils.py
+++ b/src/sentry/search/utils.py
@@ -360,6 +360,8 @@ def parse_query(project, query, user):
                 results['first_release'] = parse_release(project, value)
             elif key == 'release':
                 results['tags']['sentry:release'] = parse_release(project, value)
+            elif key == 'dist':
+                results['tags']['sentry:dist'] = value
             elif key == 'user':
                 if ':' in value:
                     comp, value = value.split(':', 1)
diff --git a/tests/sentry/search/test_utils.py b/tests/sentry/search/test_utils.py
index 1629590740..eb1dac592e 100644
--- a/tests/sentry/search/test_utils.py
+++ b/tests/sentry/search/test_utils.py
@@ -333,6 +333,10 @@ class ParseQueryTest(TestCase):
         result = self.parse_query('release:bar')
         assert result == {'tags': {'sentry:release': 'bar'}, 'query': ''}
 
+    def test_dist(self):
+        result = self.parse_query('dist:123')
+        assert result == {'tags': {'sentry:dist': '123'}, 'query': ''}
+
     def test_release_latest(self):
         old = Release.objects.create(
             organization_id=self.project.organization_id,
