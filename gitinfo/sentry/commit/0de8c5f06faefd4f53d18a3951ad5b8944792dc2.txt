commit 0de8c5f06faefd4f53d18a3951ad5b8944792dc2
Author: Dan Fuller <dfuller@sentry.io>
Date:   Wed Feb 6 15:29:51 2019 -0800

    fix(db): Convert ReleaseEnvironment.project back to a `BoundedPositiveIntegerField`
    
    This is causing table scans when we delete projects, since there's no index on the column. No real
    reason to have this as an FK, so converting back.

diff --git a/src/sentry/models/releaseenvironment.py b/src/sentry/models/releaseenvironment.py
index a8d88db136..8aedb49e91 100644
--- a/src/sentry/models/releaseenvironment.py
+++ b/src/sentry/models/releaseenvironment.py
@@ -6,6 +6,7 @@ from django.utils import timezone
 
 from sentry.utils.cache import cache
 from sentry.db.models import (
+    BoundedPositiveIntegerField,
     FlexibleForeignKey,
     Model,
     sane_repr,
@@ -17,7 +18,7 @@ class ReleaseEnvironment(Model):
 
     organization = FlexibleForeignKey('sentry.Organization', db_index=True, db_constraint=False)
     # DEPRECATED
-    project = FlexibleForeignKey('sentry.Project', null=True, db_constraint=False)
+    project_id = BoundedPositiveIntegerField(null=True)
     release = FlexibleForeignKey('sentry.Release', db_index=True, db_constraint=False)
     environment = FlexibleForeignKey('sentry.Environment', db_index=True, db_constraint=False)
     first_seen = models.DateTimeField(default=timezone.now)
