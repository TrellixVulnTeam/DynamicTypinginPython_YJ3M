commit 59d7df43bef20c4debd20e87fd963514f769e7c8
Author: Danny Lee <dlee@sentry.io>
Date:   Wed Oct 30 14:48:31 2019 -0700

    ref(discover2): Improve UX for SavedQuery slideout on Sidebar (#15319)

diff --git a/src/sentry/static/sentry/app/components/sidebar/discover2Item.tsx b/src/sentry/static/sentry/app/components/sidebar/discover2Item.tsx
index e924232e30..801c69645c 100644
--- a/src/sentry/static/sentry/app/components/sidebar/discover2Item.tsx
+++ b/src/sentry/static/sentry/app/components/sidebar/discover2Item.tsx
@@ -48,14 +48,36 @@ class Discover2Item extends React.Component<Props, State> {
     this.menuId = domId('discover-menu');
   }
 
+  componentWillUnmount() {
+    this.timerHandleLeaveClear();
+  }
+
   private menuId: string = '';
+  private timerHandleLeave?: ReturnType<typeof setTimeout>;
+  private timerHandleLeaveClear = () => {
+    if (this.timerHandleLeave) {
+      clearTimeout(this.timerHandleLeave);
+      this.timerHandleLeave = undefined;
+    }
+  };
 
   handleEnter = () => {
+    this.timerHandleLeaveClear();
     this.setState({isOpen: true});
   };
 
   handleLeave = () => {
-    this.setState({isOpen: false});
+    // HACK(leedongwei)
+    // See https://bjk5.com/post/44698559168/breaking-down-amazons-mega-dropdown
+    //
+    // @doralchan confirmed that the slideout menu will eventually be removed.
+    // This is stop-gap solution to make the slideout better till a new design
+    // can be implemented
+    this.timerHandleLeaveClear();
+    this.timerHandleLeave = setTimeout(() => {
+      this.setState({isOpen: false});
+      this.timerHandleLeave = undefined;
+    }, 400); // 300ms feels too fast, 500ms feels too slow.
   };
 
   handleSelect = (item: SavedQuery) => {
