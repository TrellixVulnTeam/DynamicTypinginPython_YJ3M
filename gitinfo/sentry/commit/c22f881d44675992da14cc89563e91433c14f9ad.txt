commit c22f881d44675992da14cc89563e91433c14f9ad
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 2 14:00:44 2017 -0700

    ref: Dont evaluate oauth params at runtime for Slack

diff --git a/src/sentry/integrations/oauth.py b/src/sentry/integrations/oauth.py
index 10bc7232bd..fd80cb6c65 100644
--- a/src/sentry/integrations/oauth.py
+++ b/src/sentry/integrations/oauth.py
@@ -25,23 +25,41 @@ class OAuth2Integration(Integration):
 
     def is_configured(self):
         return (
-            self.oauth_client_id and
-            self.oauth_client_secret and
-            self.oauth_access_token_url and
-            self.oauth_authorize_url
+            self.get_oauth_client_id() and
+            self.get_oauth_client_secret() and
+            self.get_oauth_access_token_url() and
+            self.get_oauth_authorize_url()
         )
 
+    def get_oauth_client_id(self):
+        return self.oauth_client_id
+
+    def get_oauth_client_secret(self):
+        return self.oauth_client_secret
+
+    def get_oauth_access_token_url(self):
+        return self.oauth_access_token_url
+
+    def get_oauth_authorize_url(self):
+        return self.oauth_authorize_url
+
+    def get_oauth_refresh_token_url(self):
+        return self.oauth_refresh_token_url
+
+    def get_oauth_scopes(self):
+        return self.oauth_scopes
+
     def get_pipeline(self):
         return [
             OAuth2LoginView(
-                authorize_url=self.oauth_authorize_url,
-                client_id=self.oauth_client_id,
-                scope=' '.join(self.oauth_scopes),
+                authorize_url=self.get_oauth_authorize_url(),
+                client_id=self.get_oauth_client_id(),
+                scope=' '.join(self.get_oauth_scopes()),
             ),
             OAuth2CallbackView(
-                access_token_url=self.oauth_access_token_url,
-                client_id=self.oauth_client_id,
-                client_secret=self.oauth_client_secret,
+                access_token_url=self.get_oauth_access_token_url(),
+                client_id=self.get_oauth_client_id(),
+                client_secret=self.get_oauth_client_secret(),
             ),
         ]
 
diff --git a/src/sentry/integrations/slack/integration.py b/src/sentry/integrations/slack/integration.py
index a92d7d86fd..dafd67b10d 100644
--- a/src/sentry/integrations/slack/integration.py
+++ b/src/sentry/integrations/slack/integration.py
@@ -14,8 +14,6 @@ class SlackIntegration(OAuth2Integration):
 
     oauth_access_token_url = 'https://slack.com/api/oauth.access'
     oauth_authorize_url = 'https://slack.com/oauth/authorize'
-    oauth_client_id = options.get('slack.client-id')
-    oauth_client_secret = options.get('slack.client-secret')
     oauth_scopes = tuple(sorted((
         'bot',
         'chat:write:bot',
@@ -25,6 +23,12 @@ class SlackIntegration(OAuth2Integration):
         'team:read',
     )))
 
+    def get_oauth_client_id(self):
+        return options.get('slack.client-id')
+
+    def get_oauth_client_secret(self):
+        return options.get('slack.client-secret')
+
     def get_config(self):
         return [{
             'name': 'unfurl_urls',
