commit 0f863d71c621f3cf20a5e0f30728e628857edf96
Author: Chris Clark <christopherchristopherclark@gmail.com>
Date:   Mon Oct 1 17:24:19 2018 -0400

    ref(ui): svg-based bar charts (#8802)
    
    * random height
    
    * rough working scalable version
    
    * perfect crop box
    
    * improve bar spacing to look identical to old spacing
    
    * working stax
    
    * only have a min height on the first bar
    
    * remove createReactClass for posterity of the world
    
    * use container: body so that tooltips can render outside the svg ns
    
    * cleanup and tests
    
    * patch more css hidden in weird nooks
    
    * found a couple more bits of css
    
    * enable customization of things like min height and gap space since those things can't be controlled with css in svg
    
    * working markers
    
    * use masking for fixed spaces between bars
    
    * add circles to svg and fix id bug with clip-path
    
    * use proper gap in groupChart view
    
    * perfect identicalness to current charts
    
    * fix min height for super short project stats graph
    
    * show tooltip during any hover contact with bar height, empty or not
    
    * fix min heights on group chart
    
    * remove unecessary gap=2 stuff
    
    * add an extra 5% at the top of bar charts to prevent extra minheight content from dissapearing
    
    * remove chart marker css
    
    * add params to 'bizarre case' code
    
    * fix tooltip placement on smaller graphs
    
    * place circles as seperate svgs
    
    * convert to percentage based gap widths because it is simple and with a bit of customization looks really similar
    
    * project stats gap
    
    * add comments and use a stretch viewbox for safety reasons
    
    * update comment to make more sense

diff --git a/src/sentry/static/sentry/app/components/group/releaseChart.jsx b/src/sentry/static/sentry/app/components/group/releaseChart.jsx
index ed4ea64dfc..72b66ac732 100644
--- a/src/sentry/static/sentry/app/components/group/releaseChart.jsx
+++ b/src/sentry/static/sentry/app/components/group/releaseChart.jsx
@@ -6,6 +6,7 @@ import StackedBarChart from 'app/components/stackedBarChart';
 import SentryTypes from 'app/sentryTypes';
 import {t} from 'app/locale';
 import {escape, intcomma} from 'app/utils';
+import theme from 'app/utils/theme';
 
 const GroupReleaseChart = createReactClass({
   displayName: 'GroupReleaseChart',
@@ -118,6 +119,8 @@ const GroupReleaseChart = createReactClass({
           label: t('First seen'),
           x: firstSeenX,
           className: 'first-seen',
+          offset: -7.5,
+          fill: theme.pink,
         });
       }
     }
@@ -129,6 +132,7 @@ const GroupReleaseChart = createReactClass({
           label: t('Last seen'),
           x: lastSeenX,
           className: 'last-seen',
+          fill: theme.green,
         });
       }
     }
@@ -145,6 +149,8 @@ const GroupReleaseChart = createReactClass({
           markers={markers}
           barClasses={['release', 'environment', 'inactive']}
           tooltip={this.renderTooltip}
+          gap={0.75}
+          minHeights={[0, 0, 5]}
         />
       </div>
     );
diff --git a/src/sentry/static/sentry/app/components/stackedBarChart.jsx b/src/sentry/static/sentry/app/components/stackedBarChart.jsx
index b518d2413b..1984c414f6 100644
--- a/src/sentry/static/sentry/app/components/stackedBarChart.jsx
+++ b/src/sentry/static/sentry/app/components/stackedBarChart.jsx
@@ -1,17 +1,16 @@
 import React from 'react';
-import createReactClass from 'create-react-class';
 import PropTypes from 'prop-types';
 import moment from 'moment-timezone';
 import _ from 'lodash';
+import styled, {cx} from 'react-emotion';
 
 import Tooltip from 'app/components/tooltip';
 import Count from 'app/components/count';
 import ConfigStore from 'app/stores/configStore';
+import theme from 'app/utils/theme';
 
-const StackedBarChart = createReactClass({
-  displayName: 'StackedBarChart',
-
-  propTypes: {
+class StackedBarChart extends React.Component {
+  static propTypes = {
     // TODO(dcramer): DEPRECATED, use series instead
     points: PropTypes.arrayOf(
       PropTypes.shape({
@@ -42,73 +41,45 @@ const StackedBarChart = createReactClass({
     ),
     tooltip: PropTypes.func,
     barClasses: PropTypes.array,
-  },
-
-  statics: {
-    getInterval(series) {
-      // TODO(dcramer): not guaranteed correct
-      return series.length && series[0].data.length > 1
-        ? series[0].data[1].x - series[0].data[0].x
-        : null;
-    },
-
-    pointsToSeries(points) {
-      let series = [];
-      points.forEach((p, pIdx) => {
-        p.y.forEach((y, yIdx) => {
-          if (!series[yIdx]) {
-            series[yIdx] = {data: []};
-          }
-          series[yIdx].data.push({x: p.x, y});
-        });
-      });
-      return series;
-    },
-
-    pointIndex(series) {
-      let points = {};
-      series.forEach(s => {
-        s.data.forEach(p => {
-          if (!points[p.x]) {
-            points[p.x] = {y: [], x: p.x};
-          }
-          points[p.x].y.push(p.y);
-        });
-      });
-      return points;
-    },
-  },
-
-  getDefaultProps() {
-    return {
-      className: 'sparkline',
-      height: null,
-      label: '',
-      points: [],
-      series: [],
-      markers: [],
-      width: null,
-      barClasses: ['chart-bar'],
-    };
-  },
+    /* Some bars need to be visible and interactable even if they are
+    empty. Use minHeights for that. Units are in svg points */
+    minHeights: PropTypes.arrayOf(PropTypes.number),
+    /* the amount of space between bars. Also represents an svg point */
+    gap: PropTypes.number,
+  };
+
+  static defaultProps = {
+    className: 'sparkline',
+    height: null,
+    label: '',
+    points: [],
+    series: [],
+    markers: [],
+    width: null,
+    barClasses: ['chart-bar'],
+    gap: 0.5,
+  };
+
+  constructor(props) {
+    super(props);
 
-  getInitialState() {
     // massage points
     let series = this.props.series;
+
     if (this.props.points.length) {
       if (series.length) {
         throw new Error('Only one of [points|series] should be specified.');
       }
 
-      series = StackedBarChart.pointsToSeries(this.props.points);
+      series = this.pointsToSeries(this.props.points);
     }
 
-    return {
+    this.state = {
       series,
-      pointIndex: StackedBarChart.pointIndex(series),
-      interval: StackedBarChart.getInterval(series),
+      pointIndex: this.pointIndex(series),
+      interval: this.getInterval(series),
     };
-  },
+  }
 
   componentWillReceiveProps(nextProps) {
     if (nextProps.points || nextProps.series) {
@@ -118,31 +89,64 @@ const StackedBarChart = createReactClass({
           throw new Error('Only one of [points|series] should be specified.');
         }
 
-        series = StackedBarChart.pointsToSeries(nextProps.points);
+        series = this.pointsToSeries(nextProps.points);
       }
 
       this.setState({
         series,
-        pointIndex: StackedBarChart.pointIndex(series),
-        interval: StackedBarChart.getInterval(series),
+        pointIndex: this.pointIndex(series),
+        interval: this.getInterval(series),
       });
     }
-  },
+  }
 
   shouldComponentUpdate(nextProps, nextState) {
     return !_.isEqual(this.props, nextProps);
-  },
+  }
+
+  getInterval = series => {
+    // TODO(dcramer): not guaranteed correct
+    return series.length && series[0].data.length > 1
+      ? series[0].data[1].x - series[0].data[0].x
+      : null;
+  };
+
+  pointsToSeries = points => {
+    let series = [];
+    points.forEach((p, pIdx) => {
+      p.y.forEach((y, yIdx) => {
+        if (!series[yIdx]) {
+          series[yIdx] = {data: []};
+        }
+        series[yIdx].data.push({x: p.x, y});
+      });
+    });
+    return series;
+  };
+
+  pointIndex = series => {
+    let points = {};
+    series.forEach(s => {
+      s.data.forEach(p => {
+        if (!points[p.x]) {
+          points[p.x] = {y: [], x: p.x};
+        }
+        points[p.x].y.push(p.y);
+      });
+    });
+    return points;
+  };
 
   use24Hours() {
     let user = ConfigStore.get('user');
     let options = user ? user.options : {};
     return options.clock24Hours;
-  },
+  }
 
   floatFormat(number, places) {
     let multi = Math.pow(10, places);
     return parseInt(number * multi, 10) / multi;
-  },
+  }
 
   timeLabelAsHour(point) {
     let timeMoment = moment(point.x * 1000);
@@ -158,13 +162,13 @@ const StackedBarChart = createReactClass({
       nextMoment.format(format) +
       '</span>'
     );
-  },
+  }
 
   timeLabelAsDay(point) {
     let timeMoment = moment(point.x * 1000);
 
     return `<span>${timeMoment.format('LL')}</span>`;
-  },
+  }
 
   timeLabelAsRange(interval, point) {
     let timeMoment = moment(point.x * 1000);
@@ -179,12 +183,12 @@ const StackedBarChart = createReactClass({
       nextMoment.format(format) +
       '</span>'
     );
-  },
+  }
 
   timeLabelAsFull(point) {
     let timeMoment = moment(point.x * 1000);
     return timeMoment.format('lll');
-  },
+  }
 
   getTimeLabel(point) {
     switch (this.state.interval) {
@@ -197,7 +201,7 @@ const StackedBarChart = createReactClass({
       default:
         return this.timeLabelAsRange(this.state.interval, point);
     }
-  },
+  }
 
   maxPointValue() {
     return Math.max(
@@ -206,27 +210,46 @@ const StackedBarChart = createReactClass({
         .map(s => Math.max(...s.data.map(p => p.y)))
         .reduce((a, b) => a + b, 0)
     );
-  },
+  }
 
-  renderMarker(marker) {
+  renderMarker(marker, index, pointWidth) {
     let timeLabel = moment(marker.x * 1000).format('lll');
     let title =
       '<div style="width:130px">' + marker.label + '<br/>' + timeLabel + '</div>';
-    let className = 'chart-marker ' + (marker.className || '');
 
     // example key: m-last-seen-22811123, m-first-seen-228191
     let key = ['m', marker.className, marker.x].join('-');
+    let markerOffset = marker.offset || 0;
 
     return (
-      <Tooltip title={title} key={key} tooltipOptions={{html: true, placement: 'bottom'}}>
-        <a className={className} style={{height: '100%'}}>
-          <span>{marker.label}</span>
-        </a>
+      <Tooltip
+        title={title}
+        key={key}
+        tooltipOptions={{html: true, placement: 'bottom', container: 'body'}}
+      >
+        <CircleSvg
+          left={index * pointWidth}
+          offset={markerOffset || 0}
+          viewBox="0 0 10 10"
+          size={10}
+        >
+          <circle
+            data-test-id="chart-column"
+            r="4"
+            cx="50%"
+            cy="50%"
+            fill={marker.fill || theme.gray2}
+            stroke="#fff"
+            strokeWidth="2"
+          >
+            {marker.label}
+          </circle>
+        </CircleSvg>
       </Tooltip>
     );
-  },
+  }
 
-  renderTooltip(point, pointIdx) {
+  renderTooltip = (point, pointIdx) => {
     let timeLabel = this.getTimeLabel(point);
     let totalY = point.y.reduce((a, b) => a + b);
     let title =
@@ -245,26 +268,41 @@ const StackedBarChart = createReactClass({
       }
     });
     return title;
-  },
+  };
 
-  renderChartColumn(point, maxval, pointWidth) {
+  getMinHeight(index, pointLength) {
+    let {minHeights} = this.props;
+    return minHeights && (minHeights[index] || minHeights[index] == 0)
+      ? this.props.minHeights[index]
+      : 1;
+  }
+
+  renderChartColumn(point, maxval, pointWidth, index, totalPoints) {
     let totalY = point.y.reduce((a, b) => a + b);
     let totalPct = totalY / maxval;
+    // we leave a little extra space for bars with min-heights.
+    let maxPercentage = 99;
+
     let prevPct = 0;
     let pts = point.y.map((y, i) => {
-      let pct = totalY && this.floatFormat(y / totalY * totalPct * 99, 2);
+      let pct = Math.max(
+        totalY && this.floatFormat(y / totalY * totalPct * maxPercentage, 2),
+        this.getMinHeight(i, point.y.length)
+      );
+
       let pt = (
-        <span
+        <rect
           key={i}
-          className={this.props.barClasses[i]}
-          style={{
-            height: pct + '%',
-            bottom: prevPct + '%',
-            backgroundColor: this.state.series[i].color || null,
-          }}
+          x={index * pointWidth + '%'}
+          y={100.0 - pct - prevPct + '%'}
+          width={pointWidth - this.props.gap + '%'}
+          data-test-id="chart-column"
+          height={pct + '%'}
+          fill={this.state.series[i].color}
+          className={cx(this.props.barClasses[i], 'barchart-rect')}
         >
           {y}
-        </span>
+        </rect>
       );
       prevPct += pct;
       return pt;
@@ -276,20 +314,28 @@ const StackedBarChart = createReactClass({
     return (
       <Tooltip
         title={tooltipFunc(this.state.pointIndex[pointIdx], pointIdx, this)}
+        tooltipOptions={{html: true, placement: 'bottom', container: 'body'}}
         key={point.x}
-        tooltipOptions={{html: true, placement: 'bottom'}}
       >
-        <a className="chart-column" style={{width: pointWidth, height: '100%'}}>
+        <g>
+          <rect
+            x={index * pointWidth - this.props.gap + '%'}
+            width={pointWidth + this.props.gap + '%'}
+            height="100%"
+            opacity="0"
+          />
           {pts}
-        </a>
+        </g>
       </Tooltip>
     );
-  },
+  }
 
   renderChart() {
     let {pointIndex, series} = this.state;
     let totalPoints = Math.max(...series.map(s => s.data.length));
-    let pointWidth = this.floatFormat(100.0 / totalPoints, 2) + '%';
+    // we expand the graph just a hair beyond 100% prevent a subtle white line on the edge
+    let nudge = 0.1;
+    let pointWidth = this.floatFormat((100.0 + this.props.gap + nudge) / totalPoints, 2);
 
     let maxval = this.maxPointValue();
     let markers = this.props.markers.slice();
@@ -309,22 +355,32 @@ const StackedBarChart = createReactClass({
     });
 
     let children = [];
-    points.forEach(point => {
+    let markerChildren = [];
+    points.forEach((point, index) => {
       while (markers.length && markers[0].x <= point.x) {
-        children.push(this.renderMarker(markers.shift()));
+        markerChildren.push(this.renderMarker(markers.shift(), index, pointWidth));
       }
 
-      children.push(this.renderChartColumn(point, maxval, pointWidth));
+      children.push(
+        this.renderChartColumn(point, maxval, pointWidth, index, totalPoints)
+      );
     });
 
     // in bizarre case where markers never got rendered, render them last
     // NOTE: should this ever happen?
     markers.forEach(marker => {
-      children.push(this.renderMarker(marker));
+      markerChildren.push(this.renderMarker(marker, points.length, pointWidth));
     });
 
-    return children;
-  },
+    return (
+      <SvgContainer>
+        <StyledSvg viewBox="0 0 100 400" preserveAspectRatio="none" overflow="visible">
+          {children}
+        </StyledSvg>
+        {markerChildren.length ? markerChildren : null}
+      </SvgContainer>
+    );
+  }
 
   render() {
     let {className, style, height, width} = this.props;
@@ -332,15 +388,51 @@ const StackedBarChart = createReactClass({
     let maxval = this.maxPointValue();
 
     return (
-      <figure className={figureClass} style={{height, width, ...style}}>
+      <StyledFigure className={figureClass} style={{height, width, ...style}}>
         <span className="max-y">
           <Count value={maxval} />
         </span>
         <span className="min-y">0</span>
-        <span>{this.renderChart()}</span>
-      </figure>
+        {this.renderChart()}
+      </StyledFigure>
     );
-  },
-});
+  }
+}
+
+const StyledSvg = styled('svg')`
+  width: 100%;
+  height: 100%;
+  /* currently, min-heights are not calculated into maximum bar height, so
+  we need the svg to allow elements to exceed the container. This overrides
+  the global overflow: hidden declaration. Eventually, we should factor minimum
+  bar heights into the overall chart height and remove this */
+  overflow: visible !important;
+`;
+
+const StyledFigure = styled('figure')`
+  display: block;
+  position: relative;
+  width: 100%;
+  height: 100%;
+`;
+
+const SvgContainer = styled('div')`
+  position: relative;
+  width: 100%;
+  height: 100%;
+`;
+
+const CircleSvg = styled('svg')`
+  width: ${p => p.size}px;
+  height: ${p => p.size}px;
+  position: absolute;
+  bottom: -${p => p.size / 2}px;
+  transform: translate(${p => (p.offset || 0) - p.size / 2}px, 0);
+  left: ${p => p.left}%;
+
+  &:hover circle {
+    fill: ${p => p.theme.purple};
+  }
+`;
 
 export default StackedBarChart;
diff --git a/src/sentry/static/sentry/app/components/stream/groupChart.jsx b/src/sentry/static/sentry/app/components/stream/groupChart.jsx
index 21d2107c1e..0f6afef30c 100644
--- a/src/sentry/static/sentry/app/components/stream/groupChart.jsx
+++ b/src/sentry/static/sentry/app/components/stream/groupChart.jsx
@@ -35,7 +35,7 @@ class GroupChart extends React.Component {
 
     return (
       <LazyLoad debounce={50} height={24}>
-        <StyledBarChart points={chartData} label="events" />
+        <StyledBarChart points={chartData} label="events" minHeights={[3]} gap={1} />
       </LazyLoad>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/organizationDashboard/chart.jsx b/src/sentry/static/sentry/app/views/organizationDashboard/chart.jsx
index 6574871549..ee46fb661f 100644
--- a/src/sentry/static/sentry/app/views/organizationDashboard/chart.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDashboard/chart.jsx
@@ -18,7 +18,7 @@ export default class Chart extends React.Component {
 
     return (
       <div>
-        <StyledBarChart points={data} label="events" height={60} />
+        <StyledBarChart points={data} label="events" height={60} gap={1.5} />
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/organizationStats/organizationStatsDetails.jsx b/src/sentry/static/sentry/app/views/organizationStats/organizationStatsDetails.jsx
index a087e92f73..432e6bbe45 100644
--- a/src/sentry/static/sentry/app/views/organizationStats/organizationStatsDetails.jsx
+++ b/src/sentry/static/sentry/app/views/organizationStats/organizationStatsDetails.jsx
@@ -99,6 +99,8 @@ class OrganizationStats extends React.Component {
                 label="events"
                 className="standard-barchart b-a-0 m-b-0"
                 barClasses={['accepted', 'rate-limited', 'black-listed']}
+                minHeights={[2, 0, 0]}
+                gap={0.25}
                 tooltip={this.renderTooltip}
               />
             </Panel>
diff --git a/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx b/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
index bdcbb42804..48a3e3b181 100644
--- a/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
+++ b/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
@@ -128,6 +128,7 @@ const ProjectChart = createReactClass({
           markers={markers}
           label="events"
           height={150}
+          gap={0.2}
           className="standard-barchart"
         />
         <small className="date-legend">
diff --git a/src/sentry/static/sentry/app/views/settings/organizationProjects/projectStatsGraph.jsx b/src/sentry/static/sentry/app/views/settings/organizationProjects/projectStatsGraph.jsx
index 6b7c0b816b..d245332b1e 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationProjects/projectStatsGraph.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationProjects/projectStatsGraph.jsx
@@ -28,7 +28,13 @@ const ProjectStatsGraph = createReactClass({
       <div>
         {chartData && (
           <LazyLoad height={25} debounce={50}>
-            <BarChart height={25} points={chartData} label="events" />
+            <BarChart
+              height={25}
+              minHeights={[3]}
+              gap={1}
+              points={chartData}
+              label="events"
+            />
           </LazyLoad>
         )}
       </div>
diff --git a/src/sentry/static/sentry/less/components/charts.less b/src/sentry/static/sentry/less/components/charts.less
index ae9f424b5b..abbe620996 100644
--- a/src/sentry/static/sentry/less/components/charts.less
+++ b/src/sentry/static/sentry/less/components/charts.less
@@ -7,7 +7,8 @@
     display: none;
   }
 
-  a {
+  a,
+  g {
     position: relative;
     float: left;
     height: 20px;
@@ -15,8 +16,10 @@
     cursor: default;
 
     &:hover {
-      > span {
+      > span,
+      > .barchart-rect {
         background: @purple;
+        fill: @purple;
         border-color: transparent;
       }
     }
@@ -27,50 +30,17 @@
       bottom: 0;
       left: 1px;
       right: 1px;
-      min-width: 1px;
       height: 0;
       overflow: hidden;
       text-indent: -9999px;
       text-align: left;
       min-height: 1px;
-
-      background: @gray-lighter;
     }
-  }
-
-  .chart-marker {
-    display: block;
-    position: relative;
-    float: left;
-    width: 0;
-    bottom: -5px;
-    left: -5px;
 
-    &:hover {
-      > span {
-        background-color: gray;
-        border-color: #fff;
-      }
-    }
-
-    &.first-seen {
-      left: -13px;
-      > span {
-        background: @pink;
-      }
-    }
-
-    &.last-seen > span {
-      background: @green;
-    }
-
-    > span {
-      z-index: 2;
-      position: absolute;
-      border: 2px solid #fff;
-      .square(10px);
-      background: gray;
-      border-radius: 8px;
+    > span,
+    > .barchart-rect {
+      background: @gray-lighter;
+      fill: @gray-lighter;
     }
   }
 }
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index 9f50fe8e99..cd793a40cc 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -345,36 +345,39 @@
     border-bottom: 1px dotted @trim;
   }
 
-  .bar-chart figure a {
+  .bar-chart figure a,
+  .bar-chart figure g {
     height: 50px;
 
-    span {
+    span,
+    .barchart-rect {
       background: @purple;
-      #gradient > .vertical(@purple-light, @purple);
+      fill: @purple;
 
       &.inactive {
         background: @gray-lightest;
-        #gradient > .vertical(@gray-lightest, @gray-lightest);
+        fill: @gray-lightest;
       }
 
       &.environment {
         background: @purple-lightest;
-        #gradient > .vertical(@purple-lightest, @purple-lightest);
+        fill: @purple-lightest;
       }
     }
 
-    &:hover span {
+    &:hover span,
+    &:hover .barchart-rect {
       background: @purple-dark;
-      #gradient > .vertical(@purple, @purple-dark);
+      fill: @purple-dark;
 
       &.inactive {
         background: @gray-lighter;
-        #gradient > .vertical(@gray-lighter, @gray-lighter);
+        fill: @gray-lighter;
       }
 
       &.environment {
         background: @purple;
-        #gradient > .vertical(@purple, @purple);
+        fill: @purple;
       }
     }
   }
diff --git a/src/sentry/static/sentry/less/project-settings.less b/src/sentry/static/sentry/less/project-settings.less
index e3faf9a791..0026e4ae96 100644
--- a/src/sentry/static/sentry/less/project-settings.less
+++ b/src/sentry/static/sentry/less/project-settings.less
@@ -22,38 +22,47 @@
 
       &.ip-address {
         background: @red-light;
+        fill: @red-light;
       }
 
       &.release-version {
         background: @purple-light;
+        fill: @purple-light;
       }
 
       &.error-message {
         background: @purple;
+        fill: @purple;
       }
 
       &.browser-extensions {
         background: @gray;
+        fill: @gray;
       }
 
       &.legacy-browsers {
         background: @gray-light;
+        fill: @gray-light;
       }
 
       &.localhost {
         background: @blue;
+        fill: @blue;
       }
 
       &.web-crawlers {
         background: @red;
+        fill: @red;
       }
 
       &.invalid-csp {
         background: @blue-light;
+        fill: @blue-light;
       }
 
       &.cors {
         background: @orange;
+        fill: @orange;
       }
     }
   }
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index cec043a645..a5289dd4f2 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -882,16 +882,19 @@ table.integrations {
 * ============================================================================
 */
 .inbound-filters-stats {
-  .bar-chart figure a {
+  .bar-chart figure a,
+  .bar-chart figure g {
     height: 50px;
 
-    span {
+    span,
+    .barchart-rect {
       &.filtered {
         background: @gray-lightest;
       }
     }
 
-    &:hover span {
+    &:hover span,
+    &:hover .barchart-rect {
       &.filtered {
         background: @gray-light;
       }
@@ -1147,45 +1150,54 @@ table.integrations {
     margin-bottom: 20px;
     position: relative;
 
-    a {
+    a,
+    g {
       height: 90px;
       position: relative;
       cursor: default;
 
-      span {
+      span,
+      rect {
         display: block;
         min-height: 2px;
 
         &.accepted {
           background: @gray-lightest;
+          fill: @gray-lightest;
         }
 
         &.rate-limited,
         &.dropped {
           background: @red;
+          fill: @red;
           min-height: 0;
         }
 
         &.black-listed,
         &.filtered {
           background: @orange-light;
+          fill: @orange-light;
           min-height: 0;
         }
       }
 
-      &:hover span {
+      &:hover span,
+      &:hover rect {
         &.accepted {
           background: @gray-light;
+          fill: @gray-light;
         }
 
         &.rate-limited,
         &.dropped {
           background: @red-dark;
+          fill: @red-dark;
         }
 
         &.black-listed,
         &.filtered {
           background: @orange-dark;
+          fill: @orange-dark;
         }
       }
     }
diff --git a/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap b/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
index 7c2a5789f0..c5e45d2cfa 100644
--- a/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
+++ b/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
@@ -168,9 +168,17 @@ exports[`GroupReleaseStats renders 1`] = `
                 ]
               }
               className="sparkline"
+              gap={0.75}
               height={40}
               label="events"
               markers={Array []}
+              minHeights={
+                Array [
+                  0,
+                  0,
+                  5,
+                ]
+              }
               points={
                 Array [
                   Object {
@@ -195,7 +203,7 @@ exports[`GroupReleaseStats renders 1`] = `
               tooltip={[Function]}
               width={null}
             >
-              <figure
+              <StyledFigure
                 className="sparkline barchart"
                 style={
                   Object {
@@ -204,147 +212,164 @@ exports[`GroupReleaseStats renders 1`] = `
                   }
                 }
               >
-                <span
-                  className="max-y"
-                >
-                  <count
-                    value={10}
-                  >
-                    <span>
-                      10
-                    </span>
-                  </count>
-                </span>
-                <span
-                  className="min-y"
-                >
-                  0
-                </span>
-                <span>
-                  <Tooltip
-                    key="1517281200"
-                    title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 29th, 7:00 pm &#8594 Jan 30th, 2:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>2 events</dd><dt class=\\"environment\\"><span></span></dt><dd>2 events<small>in All Environments</small></dd></dl></div>"
-                    tooltipOptions={
-                      Object {
-                        "html": true,
-                        "placement": "bottom",
-                      }
+                <figure
+                  className="sparkline barchart css-na17se-StyledFigure e5t71581"
+                  style={
+                    Object {
+                      "height": 40,
+                      "width": null,
                     }
+                  }
+                >
+                  <span
+                    className="max-y"
                   >
-                    <a
-                      className="tip chart-column"
-                      style={
-                        Object {
-                          "height": "100%",
-                          "width": "50%",
-                        }
-                      }
-                      title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 29th, 7:00 pm &#8594 Jan 30th, 2:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>2 events</dd><dt class=\\"environment\\"><span></span></dt><dd>2 events<small>in All Environments</small></dd></dl></div>"
+                    <count
+                      value={10}
                     >
-                      <span
-                        className="release"
-                        key="0"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
-                      </span>
-                      <span
-                        className="environment"
-                        key="1"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "19.8%",
-                          }
-                        }
-                      >
-                        2
-                      </span>
-                      <span
-                        className="inactive"
-                        key="2"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "19.8%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
+                      <span>
+                        10
                       </span>
-                    </a>
-                  </Tooltip>
-                  <Tooltip
-                    key="1517310000"
-                    title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 30th, 3:00 am &#8594 Jan 30th, 10:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
-                    tooltipOptions={
-                      Object {
-                        "html": true,
-                        "placement": "bottom",
-                      }
-                    }
+                    </count>
+                  </span>
+                  <span
+                    className="min-y"
                   >
-                    <a
-                      className="tip chart-column"
-                      style={
-                        Object {
-                          "height": "100%",
-                          "width": "50%",
-                        }
-                      }
-                      title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 30th, 3:00 am &#8594 Jan 30th, 10:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                    0
+                  </span>
+                  <SvgContainer>
+                    <div
+                      className="css-1jg1opr-SvgContainer e5t71582"
                     >
-                      <span
-                        className="release"
-                        key="0"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
-                      </span>
-                      <span
-                        className="environment"
-                        key="1"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "9.9%",
-                          }
-                        }
-                      >
-                        1
-                      </span>
-                      <span
-                        className="inactive"
-                        key="2"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "9.9%",
-                            "height": "0%",
-                          }
-                        }
+                      <StyledSvg
+                        overflow="visible"
+                        preserveAspectRatio="none"
+                        viewBox="0 0 100 400"
                       >
-                        0
-                      </span>
-                    </a>
-                  </Tooltip>
-                </span>
-              </figure>
+                        <svg
+                          className="css-1vaz76z-StyledSvg e5t71580"
+                          overflow="visible"
+                          preserveAspectRatio="none"
+                          viewBox="0 0 100 400"
+                        >
+                          <Tooltip
+                            key="1517281200"
+                            title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 29th, 7:00 pm &#8594 Jan 30th, 2:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>2 events</dd><dt class=\\"environment\\"><span></span></dt><dd>2 events<small>in All Environments</small></dd></dl></div>"
+                            tooltipOptions={
+                              Object {
+                                "container": "body",
+                                "html": true,
+                                "placement": "bottom",
+                              }
+                            }
+                          >
+                            <g
+                              className="tip"
+                              title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 29th, 7:00 pm &#8594 Jan 30th, 2:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>2 events</dd><dt class=\\"environment\\"><span></span></dt><dd>2 events<small>in All Environments</small></dd></dl></div>"
+                            >
+                              <rect
+                                height="100%"
+                                opacity="0"
+                                width="51.17%"
+                                x="-0.75%"
+                              />
+                              <rect
+                                className="release barchart-rect"
+                                data-test-id="chart-column"
+                                height="0%"
+                                key="0"
+                                width="49.67%"
+                                x="0%"
+                                y="100%"
+                              >
+                                0
+                              </rect>
+                              <rect
+                                className="environment barchart-rect"
+                                data-test-id="chart-column"
+                                height="19.8%"
+                                key="1"
+                                width="49.67%"
+                                x="0%"
+                                y="80.2%"
+                              >
+                                2
+                              </rect>
+                              <rect
+                                className="inactive barchart-rect"
+                                data-test-id="chart-column"
+                                height="5%"
+                                key="2"
+                                width="49.67%"
+                                x="0%"
+                                y="75.2%"
+                              >
+                                0
+                              </rect>
+                            </g>
+                          </Tooltip>
+                          <Tooltip
+                            key="1517310000"
+                            title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 30th, 3:00 am &#8594 Jan 30th, 10:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                            tooltipOptions={
+                              Object {
+                                "container": "body",
+                                "html": true,
+                                "placement": "bottom",
+                              }
+                            }
+                          >
+                            <g
+                              className="tip"
+                              title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 30th, 3:00 am &#8594 Jan 30th, 10:59 am</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                            >
+                              <rect
+                                height="100%"
+                                opacity="0"
+                                width="51.17%"
+                                x="49.67%"
+                              />
+                              <rect
+                                className="release barchart-rect"
+                                data-test-id="chart-column"
+                                height="0%"
+                                key="0"
+                                width="49.67%"
+                                x="50.42%"
+                                y="100%"
+                              >
+                                0
+                              </rect>
+                              <rect
+                                className="environment barchart-rect"
+                                data-test-id="chart-column"
+                                height="9.9%"
+                                key="1"
+                                width="49.67%"
+                                x="50.42%"
+                                y="90.1%"
+                              >
+                                1
+                              </rect>
+                              <rect
+                                className="inactive barchart-rect"
+                                data-test-id="chart-column"
+                                height="5%"
+                                key="2"
+                                width="49.67%"
+                                x="50.42%"
+                                y="85.1%"
+                              >
+                                0
+                              </rect>
+                            </g>
+                          </Tooltip>
+                        </svg>
+                      </StyledSvg>
+                    </div>
+                  </SvgContainer>
+                </figure>
+              </StyledFigure>
             </StackedBarChart>
           </div>
         </GroupReleaseChart>
@@ -430,9 +455,17 @@ exports[`GroupReleaseStats renders 1`] = `
                 ]
               }
               className="sparkline"
+              gap={0.75}
               height={40}
               label="events"
               markers={Array []}
+              minHeights={
+                Array [
+                  0,
+                  0,
+                  5,
+                ]
+              }
               points={
                 Array [
                   Object {
@@ -457,7 +490,7 @@ exports[`GroupReleaseStats renders 1`] = `
               tooltip={[Function]}
               width={null}
             >
-              <figure
+              <StyledFigure
                 className="sparkline barchart"
                 style={
                   Object {
@@ -466,147 +499,164 @@ exports[`GroupReleaseStats renders 1`] = `
                   }
                 }
               >
-                <span
-                  className="max-y"
-                >
-                  <count
-                    value={122}
-                  >
-                    <span>
-                      122
-                    </span>
-                  </count>
-                </span>
-                <span
-                  className="min-y"
-                >
-                  0
-                </span>
-                <span>
-                  <Tooltip
-                    key="1514764800"
-                    title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Dec 31st, 4:00 pm &#8594 Jan 3rd, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
-                    tooltipOptions={
-                      Object {
-                        "html": true,
-                        "placement": "bottom",
-                      }
+                <figure
+                  className="sparkline barchart css-na17se-StyledFigure e5t71581"
+                  style={
+                    Object {
+                      "height": 40,
+                      "width": null,
                     }
+                  }
+                >
+                  <span
+                    className="max-y"
                   >
-                    <a
-                      className="tip chart-column"
-                      style={
-                        Object {
-                          "height": "100%",
-                          "width": "50%",
-                        }
-                      }
-                      title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Dec 31st, 4:00 pm &#8594 Jan 3rd, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                    <count
+                      value={122}
                     >
-                      <span
-                        className="release"
-                        key="0"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
-                      </span>
-                      <span
-                        className="environment"
-                        key="1"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "0.81%",
-                          }
-                        }
-                      >
-                        1
-                      </span>
-                      <span
-                        className="inactive"
-                        key="2"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0.81%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
+                      <span>
+                        122
                       </span>
-                    </a>
-                  </Tooltip>
-                  <Tooltip
-                    key="1515024000"
-                    title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 3rd, 4:00 pm &#8594 Jan 6th, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>122 events</dd><dt class=\\"environment\\"><span></span></dt><dd>122 events<small>in All Environments</small></dd></dl></div>"
-                    tooltipOptions={
-                      Object {
-                        "html": true,
-                        "placement": "bottom",
-                      }
-                    }
+                    </count>
+                  </span>
+                  <span
+                    className="min-y"
                   >
-                    <a
-                      className="tip chart-column"
-                      style={
-                        Object {
-                          "height": "100%",
-                          "width": "50%",
-                        }
-                      }
-                      title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 3rd, 4:00 pm &#8594 Jan 6th, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>122 events</dd><dt class=\\"environment\\"><span></span></dt><dd>122 events<small>in All Environments</small></dd></dl></div>"
+                    0
+                  </span>
+                  <SvgContainer>
+                    <div
+                      className="css-1jg1opr-SvgContainer e5t71582"
                     >
-                      <span
-                        className="release"
-                        key="0"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
-                      </span>
-                      <span
-                        className="environment"
-                        key="1"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "0%",
-                            "height": "99%",
-                          }
-                        }
+                      <StyledSvg
+                        overflow="visible"
+                        preserveAspectRatio="none"
+                        viewBox="0 0 100 400"
                       >
-                        122
-                      </span>
-                      <span
-                        className="inactive"
-                        key="2"
-                        style={
-                          Object {
-                            "backgroundColor": null,
-                            "bottom": "99%",
-                            "height": "0%",
-                          }
-                        }
-                      >
-                        0
-                      </span>
-                    </a>
-                  </Tooltip>
-                </span>
-              </figure>
+                        <svg
+                          className="css-1vaz76z-StyledSvg e5t71580"
+                          overflow="visible"
+                          preserveAspectRatio="none"
+                          viewBox="0 0 100 400"
+                        >
+                          <Tooltip
+                            key="1514764800"
+                            title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Dec 31st, 4:00 pm &#8594 Jan 3rd, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                            tooltipOptions={
+                              Object {
+                                "container": "body",
+                                "html": true,
+                                "placement": "bottom",
+                              }
+                            }
+                          >
+                            <g
+                              className="tip"
+                              title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Dec 31st, 4:00 pm &#8594 Jan 3rd, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>1 event</dd><dt class=\\"environment\\"><span></span></dt><dd>1 event<small>in All Environments</small></dd></dl></div>"
+                            >
+                              <rect
+                                height="100%"
+                                opacity="0"
+                                width="51.17%"
+                                x="-0.75%"
+                              />
+                              <rect
+                                className="release barchart-rect"
+                                data-test-id="chart-column"
+                                height="0%"
+                                key="0"
+                                width="49.67%"
+                                x="0%"
+                                y="100%"
+                              >
+                                0
+                              </rect>
+                              <rect
+                                className="environment barchart-rect"
+                                data-test-id="chart-column"
+                                height="0.81%"
+                                key="1"
+                                width="49.67%"
+                                x="0%"
+                                y="99.19%"
+                              >
+                                1
+                              </rect>
+                              <rect
+                                className="inactive barchart-rect"
+                                data-test-id="chart-column"
+                                height="5%"
+                                key="2"
+                                width="49.67%"
+                                x="0%"
+                                y="94.19%"
+                              >
+                                0
+                              </rect>
+                            </g>
+                          </Tooltip>
+                          <Tooltip
+                            key="1515024000"
+                            title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 3rd, 4:00 pm &#8594 Jan 6th, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>122 events</dd><dt class=\\"environment\\"><span></span></dt><dd>122 events<small>in All Environments</small></dd></dl></div>"
+                            tooltipOptions={
+                              Object {
+                                "container": "body",
+                                "html": true,
+                                "placement": "bottom",
+                              }
+                            }
+                          >
+                            <g
+                              className="tip"
+                              title="<div style=\\"width:150px\\"><div class=\\"time-label\\"><span>Jan 3rd, 4:00 pm &#8594 Jan 6th, 3:59 pm</span></div><dl class=\\"legend\\"><dt class=\\"inactive\\"><span></span></dt><dd>122 events</dd><dt class=\\"environment\\"><span></span></dt><dd>122 events<small>in All Environments</small></dd></dl></div>"
+                            >
+                              <rect
+                                height="100%"
+                                opacity="0"
+                                width="51.17%"
+                                x="49.67%"
+                              />
+                              <rect
+                                className="release barchart-rect"
+                                data-test-id="chart-column"
+                                height="0%"
+                                key="0"
+                                width="49.67%"
+                                x="50.42%"
+                                y="100%"
+                              >
+                                0
+                              </rect>
+                              <rect
+                                className="environment barchart-rect"
+                                data-test-id="chart-column"
+                                height="99%"
+                                key="1"
+                                width="49.67%"
+                                x="50.42%"
+                                y="1%"
+                              >
+                                122
+                              </rect>
+                              <rect
+                                className="inactive barchart-rect"
+                                data-test-id="chart-column"
+                                height="5%"
+                                key="2"
+                                width="49.67%"
+                                x="50.42%"
+                                y="-4%"
+                              >
+                                0
+                              </rect>
+                            </g>
+                          </Tooltip>
+                        </svg>
+                      </StyledSvg>
+                    </div>
+                  </SvgContainer>
+                </figure>
+              </StyledFigure>
             </StackedBarChart>
           </div>
         </GroupReleaseChart>
diff --git a/tests/js/spec/components/stackedBarChart.spec.jsx b/tests/js/spec/components/stackedBarChart.spec.jsx
index 7116a9449f..947f048ec2 100644
--- a/tests/js/spec/components/stackedBarChart.spec.jsx
+++ b/tests/js/spec/components/stackedBarChart.spec.jsx
@@ -13,7 +13,7 @@ describe('StackedBarChart', function() {
       ];
 
       let wrapper = shallow(<StackedBarChart points={points} />);
-      let columns = wrapper.find('.chart-column');
+      let columns = wrapper.find('[data-test-id="chart-column"]');
 
       expect(columns).toHaveProperty('length', 3);
       expect(columns.at(0).text()).toEqual('10'); // check y values
@@ -33,16 +33,15 @@ describe('StackedBarChart', function() {
       ];
 
       let wrapper = shallow(<StackedBarChart points={points} markers={markers} />);
-      let columns = wrapper.find('a');
+      let columns = wrapper.find('[data-test-id="chart-column"]');
 
       expect(columns).toHaveProperty('length', 5);
 
-      // NOTE: markers are placed *before* corresponding chart column
-      expect(columns.at(0).text()).toEqual('first seen');
-      expect(columns.at(1).text()).toEqual('10');
-      expect(columns.at(2).text()).toEqual('20');
-      expect(columns.at(3).text()).toEqual('last seen');
-      expect(columns.at(4).text()).toEqual('30');
+      expect(columns.at(0).text()).toEqual('10');
+      expect(columns.at(1).text()).toEqual('20');
+      expect(columns.at(2).text()).toEqual('30');
+      expect(columns.at(3).text()).toEqual('first seen');
+      expect(columns.at(4).text()).toEqual('last seen');
     });
 
     it('renders with points and markers, when first and last seen are same data point', function() {
@@ -53,14 +52,13 @@ describe('StackedBarChart', function() {
       ];
 
       let wrapper = shallow(<StackedBarChart points={points} markers={markers} />);
-      let columns = wrapper.find('a');
+      let columns = wrapper.find('[data-test-id="chart-column"]');
 
       expect(columns).toHaveProperty('length', 3);
 
-      // NOTE: markers are placed *before* corresponding chart column
-      expect(columns.at(0).text()).toEqual('first seen');
-      expect(columns.at(1).text()).toEqual('last seen');
-      expect(columns.at(2).text()).toEqual('30');
+      expect(columns.at(0).text()).toEqual('30');
+      expect(columns.at(1).text()).toEqual('first seen');
+      expect(columns.at(2).text()).toEqual('last seen');
     });
   });
 });
diff --git a/tests/js/spec/views/organizationDashboard/__snapshots__/projectCard.spec.jsx.snap b/tests/js/spec/views/organizationDashboard/__snapshots__/projectCard.spec.jsx.snap
index db74660f54..68d419dc74 100644
--- a/tests/js/spec/views/organizationDashboard/__snapshots__/projectCard.spec.jsx.snap
+++ b/tests/js/spec/views/organizationDashboard/__snapshots__/projectCard.spec.jsx.snap
@@ -441,6 +441,7 @@ exports[`ProjectCard renders 1`] = `
                 >
                   <div>
                     <StyledBarChart
+                      gap={1.5}
                       height={60}
                       label="events"
                       points={
@@ -458,6 +459,7 @@ exports[`ProjectCard renders 1`] = `
                     >
                       <BarChart
                         className="css-h6aoq0-StyledBarChart e1wib7610"
+                        gap={1.5}
                         height={60}
                         label="events"
                         points={
@@ -480,6 +482,7 @@ exports[`ProjectCard renders 1`] = `
                             ]
                           }
                           className="css-h6aoq0-StyledBarChart e1wib7610"
+                          gap={1.5}
                           height={60}
                           label="events"
                           markers={Array []}
@@ -502,7 +505,7 @@ exports[`ProjectCard renders 1`] = `
                           series={Array []}
                           width={null}
                         >
-                          <figure
+                          <StyledFigure
                             className="css-h6aoq0-StyledBarChart e1wib7610 barchart"
                             style={
                               Object {
@@ -511,95 +514,120 @@ exports[`ProjectCard renders 1`] = `
                               }
                             }
                           >
-                            <span
-                              className="max-y"
-                            >
-                              <count
-                                value={10}
-                              >
-                                <span>
-                                  10
-                                </span>
-                              </count>
-                            </span>
-                            <span
-                              className="min-y"
-                            >
-                              0
-                            </span>
-                            <span>
-                              <Tooltip
-                                key="1525042800"
-                                title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 29, 2018<br />11:00 PM  &#8594; 11:59 PM</span></div></div><div class=\\"value-label\\">1 events</div>"
-                                tooltipOptions={
-                                  Object {
-                                    "html": true,
-                                    "placement": "bottom",
-                                  }
+                            <figure
+                              className="e1wib7610 barchart css-1563gow-StyledFigure-StyledBarChart e5t71581"
+                              style={
+                                Object {
+                                  "height": 60,
+                                  "width": null,
                                 }
+                              }
+                            >
+                              <span
+                                className="max-y"
                               >
-                                <a
-                                  className="tip chart-column"
-                                  style={
-                                    Object {
-                                      "height": "100%",
-                                      "width": "50%",
-                                    }
-                                  }
-                                  title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 29, 2018<br />11:00 PM  &#8594; 11:59 PM</span></div></div><div class=\\"value-label\\">1 events</div>"
+                                <count
+                                  value={10}
                                 >
-                                  <span
-                                    className="chart-bar"
-                                    key="0"
-                                    style={
-                                      Object {
-                                        "backgroundColor": null,
-                                        "bottom": "0%",
-                                        "height": "9.9%",
-                                      }
-                                    }
-                                  >
-                                    1
+                                  <span>
+                                    10
                                   </span>
-                                </a>
-                              </Tooltip>
-                              <Tooltip
-                                key="1525046400"
-                                title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 30, 2018<br />12:00 AM  &#8594; 12:59 AM</span></div></div><div class=\\"value-label\\">2 events</div>"
-                                tooltipOptions={
-                                  Object {
-                                    "html": true,
-                                    "placement": "bottom",
-                                  }
-                                }
+                                </count>
+                              </span>
+                              <span
+                                className="min-y"
                               >
-                                <a
-                                  className="tip chart-column"
-                                  style={
-                                    Object {
-                                      "height": "100%",
-                                      "width": "50%",
-                                    }
-                                  }
-                                  title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 30, 2018<br />12:00 AM  &#8594; 12:59 AM</span></div></div><div class=\\"value-label\\">2 events</div>"
+                                0
+                              </span>
+                              <SvgContainer>
+                                <div
+                                  className="css-1jg1opr-SvgContainer e5t71582"
                                 >
-                                  <span
-                                    className="chart-bar"
-                                    key="0"
-                                    style={
-                                      Object {
-                                        "backgroundColor": null,
-                                        "bottom": "0%",
-                                        "height": "19.8%",
-                                      }
-                                    }
+                                  <StyledSvg
+                                    overflow="visible"
+                                    preserveAspectRatio="none"
+                                    viewBox="0 0 100 400"
                                   >
-                                    2
-                                  </span>
-                                </a>
-                              </Tooltip>
-                            </span>
-                          </figure>
+                                    <svg
+                                      className="css-1vaz76z-StyledSvg e5t71580"
+                                      overflow="visible"
+                                      preserveAspectRatio="none"
+                                      viewBox="0 0 100 400"
+                                    >
+                                      <Tooltip
+                                        key="1525042800"
+                                        title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 29, 2018<br />11:00 PM  &#8594; 11:59 PM</span></div></div><div class=\\"value-label\\">1 events</div>"
+                                        tooltipOptions={
+                                          Object {
+                                            "container": "body",
+                                            "html": true,
+                                            "placement": "bottom",
+                                          }
+                                        }
+                                      >
+                                        <g
+                                          className="tip"
+                                          title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 29, 2018<br />11:00 PM  &#8594; 11:59 PM</span></div></div><div class=\\"value-label\\">1 events</div>"
+                                        >
+                                          <rect
+                                            height="100%"
+                                            opacity="0"
+                                            width="52.3%"
+                                            x="-1.5%"
+                                          />
+                                          <rect
+                                            className="chart-bar barchart-rect"
+                                            data-test-id="chart-column"
+                                            height="9.9%"
+                                            key="0"
+                                            width="49.3%"
+                                            x="0%"
+                                            y="90.1%"
+                                          >
+                                            1
+                                          </rect>
+                                        </g>
+                                      </Tooltip>
+                                      <Tooltip
+                                        key="1525046400"
+                                        title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 30, 2018<br />12:00 AM  &#8594; 12:59 AM</span></div></div><div class=\\"value-label\\">2 events</div>"
+                                        tooltipOptions={
+                                          Object {
+                                            "container": "body",
+                                            "html": true,
+                                            "placement": "bottom",
+                                          }
+                                        }
+                                      >
+                                        <g
+                                          className="tip"
+                                          title="<div style=\\"width:130px\\"><div class=\\"time-label\\"><span>April 30, 2018<br />12:00 AM  &#8594; 12:59 AM</span></div></div><div class=\\"value-label\\">2 events</div>"
+                                        >
+                                          <rect
+                                            height="100%"
+                                            opacity="0"
+                                            width="52.3%"
+                                            x="49.3%"
+                                          />
+                                          <rect
+                                            className="chart-bar barchart-rect"
+                                            data-test-id="chart-column"
+                                            height="19.8%"
+                                            key="0"
+                                            width="49.3%"
+                                            x="50.8%"
+                                            y="80.2%"
+                                          >
+                                            2
+                                          </rect>
+                                        </g>
+                                      </Tooltip>
+                                    </svg>
+                                  </StyledSvg>
+                                </div>
+                              </SvgContainer>
+                            </figure>
+                          </StyledFigure>
                         </StackedBarChart>
                       </BarChart>
                     </StyledBarChart>
