commit 0ccc94b12f08062a91b6e88a2105ddd715b15203
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Apr 22 16:58:52 2019 -0700

    feat(saml): Enable urn:federation:authentication:windows (#12875)
    
    Refs: ISSUE-275
    
    This should allow users using Microsoft Azure-AD with Windows integrated
    authentication to authenticate with SAML to Sentry.

diff --git a/src/sentry/auth/providers/saml2.py b/src/sentry/auth/providers/saml2.py
index 5a2fb2f3c5..4bc11f5d59 100644
--- a/src/sentry/auth/providers/saml2.py
+++ b/src/sentry/auth/providers/saml2.py
@@ -334,6 +334,10 @@ def build_saml_config(provider_config, org):
         'signatureAlgorithm': avd.get('signature_algorithm', OneLogin_Saml2_Constants.RSA_SHA256),
         'digestAlgorithm': avd.get('digest_algorithm', OneLogin_Saml2_Constants.SHA256),
         'wantNameId': False,
+        'requestedAuthnContext': [
+            'urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport',
+            'urn:federation:authentication:windows',
+        ],
     }
 
     # TODO(epurkhiser): This is also available in the helper and should probably come from there.
