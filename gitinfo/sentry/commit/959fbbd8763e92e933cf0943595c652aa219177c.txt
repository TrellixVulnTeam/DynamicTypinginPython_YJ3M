commit 959fbbd8763e92e933cf0943595c652aa219177c
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Jan 21 11:05:23 2020 -0800

    ref: Remove event deletions (#15676)
    
    We don't need to run event deletions, this table is being removed

diff --git a/src/sentry/deletions/defaults/group.py b/src/sentry/deletions/defaults/group.py
index 0edcd7f1c1..a81d68aa83 100644
--- a/src/sentry/deletions/defaults/group.py
+++ b/src/sentry/deletions/defaults/group.py
@@ -87,8 +87,6 @@ class GroupDeletionTask(ModelDeletionTask):
             models.UserReport,
             models.EventAttachment,
             IncidentGroup,
-            # Event is last as its the most time consuming
-            models.Event,
         )
 
         relations.extend([ModelRelation(m, {"group_id": instance.id}) for m in model_list])
diff --git a/src/sentry/deletions/defaults/project.py b/src/sentry/deletions/defaults/project.py
index c53ff11c2d..206e3baa56 100644
--- a/src/sentry/deletions/defaults/project.py
+++ b/src/sentry/deletions/defaults/project.py
@@ -58,9 +58,6 @@ class ProjectDeletionTask(ModelDeletionTask):
             ]
         )
 
-        # special case event due to nodestore
-        relations.extend([ModelRelation(models.Event, {"project_id": instance.id})])
-
         # in bulk
         # Release needs to handle deletes after Group is cleaned up as the foreign
         # key is protected
diff --git a/src/sentry/runner/commands/cleanup.py b/src/sentry/runner/commands/cleanup.py
index bd7cdcc457..d0b24e11b5 100644
--- a/src/sentry/runner/commands/cleanup.py
+++ b/src/sentry/runner/commands/cleanup.py
@@ -65,7 +65,6 @@ def multiprocess_worker(task_queue):
 
             skip_models = [
                 # Handled by other parts of cleanup
-                models.Event,
                 models.EventAttachment,
                 models.UserReport,
                 models.Group,
@@ -183,7 +182,7 @@ def cleanup(days, project, concurrency, silent, model, router, timed):
 
     # Deletions that use the `deletions` code path (which handles their child relations)
     # (model, datetime_field, order_by)
-    DELETES = ((models.Event, "datetime", "datetime"), (models.Group, "last_seen", "last_seen"))
+    DELETES = (models.Group, "last_seen", "last_seen")
 
     if not silent:
         click.echo("Removing expired values for LostPasswordHash")
