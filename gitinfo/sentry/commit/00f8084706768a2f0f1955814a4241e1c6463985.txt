commit 00f8084706768a2f0f1955814a4241e1c6463985
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 20 14:15:54 2014 +0200

    Fix team settings

diff --git a/src/sentry/web/frontend/team_settings.py b/src/sentry/web/frontend/team_settings.py
index bdf00baa03..2c501d7d43 100644
--- a/src/sentry/web/frontend/team_settings.py
+++ b/src/sentry/web/frontend/team_settings.py
@@ -100,4 +100,4 @@ class TeamSettingsView(TeamView):
             'form': form,
         }
 
-        return self.respond(team, 'sentry/teams/manage.html', context)
+        return self.respond('sentry/teams/manage.html', context)
diff --git a/tests/sentry/web/frontend/test_team_settings.py b/tests/sentry/web/frontend/test_team_settings.py
index 6580cdbb39..f9f6268375 100644
--- a/tests/sentry/web/frontend/test_team_settings.py
+++ b/tests/sentry/web/frontend/test_team_settings.py
@@ -13,12 +13,14 @@ class TeamSettingsTest(TestCase):
         return reverse('sentry-manage-team', args=[self.team.slug])
 
     def test_renders_with_context(self):
+        self.login_as(self.team.owner)
         resp = self.client.get(self.path)
         self.assertEquals(resp.status_code, 200)
         self.assertTemplateUsed(resp, 'sentry/teams/manage.html')
         assert resp.context['team'] == self.team
 
     def test_valid_params(self):
+        self.login_as(self.team.owner)
         resp = self.client.post(self.path, {
             'name': 'bar',
             'slug': self.team.slug,
@@ -30,7 +32,8 @@ class TeamSettingsTest(TestCase):
         self.assertEquals(team.name, 'bar')
 
     def test_superuser_can_set_owner(self):
-        user2 = self.create_user(username='other@example.com')
+        self.login_as(self.team.owner)
+        user2 = self.create_user('other@example.com')
 
         resp = self.client.post(self.path, {
             'name': self.team.name,
