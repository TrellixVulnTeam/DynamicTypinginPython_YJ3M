commit ead3797f1faa6aa736a4a9d9294ab0f22f3cf4cf
Author: ckj <chriskjennings@gmail.com>
Date:   Mon Nov 17 18:12:41 2014 -0500

    Move header clutter to sidebar

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index b837645ef1..f34b7a6d25 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -45,6 +45,7 @@ body {
   line-height: 20px;
   color: #454C50;
   -webkit-font-smoothing: antialiased;
+  .transition(.1s padding-left ease-in-out);
 }
 
 pre, code, kbd, sample {
@@ -81,6 +82,7 @@ th, dt, strong {
 .container {
   // max-width: 960px;
   position: relative;
+  .transition(.1s padding ease-in-out);
 }
 
 #content {
@@ -171,15 +173,201 @@ ul,ol {
 
 /* =============================  Layout  ============================== */
 
-header {
-  background: #434F5E;
+.app-sidebar {
+  background: #3d4b5b;
   color: #fff;
+  width: 280px;
+  position: fixed;
+  top: 0;
+  left: -280px;
+  bottom: 0;
+  padding: 20px 22px;
+  overflow: hidden;
+  color: #fff;
+  .transition(.1s left ease-in-out);
+
+  a {
+    color: #fff;
+
+    &.divider {
+      padding-left: 10px;
+    }
+  }
+
+  .icon-settings {
+    opacity: .5;
+  }
+
+  h6 {
+    margin: 15px 0;
+    opacity: .5;
+    font-size: 13px;
+    font-weight: 600;
+    .icon-settings {
+      opacity: 1;
+    }
+  }
+
+  .user-info {
+    position: relative;
+    padding: 0 0 0 48px;
+    margin-bottom: 20px;
+
+    p {
+      margin: 0;
+      line-height: 1.3;
+    }
+
+    small {
+      opacity: .6;
+    }
+
+    img {
+      position: absolute;
+      .square(36px);
+      top: 0;
+      left: 0;
+      border-radius: 5px;
+    }
+  }
+
+  li.active {
+    position: relative;
+    &:before {
+      width: 6px;
+      height: 6px;
+      background: @blue;
+      border-radius: 6px;
+      content: "";
+      display: block;
+      position: absolute;
+      left: -13px;
+      top: 6px;
+    }
+  }
+
+  .icon {
+    opacity: .4;
+    margin-right: 8px;
+    position: relative;
+    top: 1px;
+  }
+}
+
+body.show-sidebar {
+  overflow: hidden;
+  padding-left: 280px;
+
+  .app-sidebar {
+    left: 0;
+  }
+
+  .container {
+    padding-left: 30px;
+  }
+
+  .group-header-container {
+    margin-left: -15px;
+  }
+
+  .sidebar-toggle {
+    .icon-menu {
+      background: @blue;
+      &:before, &:after {
+        background: @blue;
+      }
+    }
+
+    &:after {
+      position: fixed;
+      display: block;
+      content: "";
+      left: 280px;
+      right: 0;
+      bottom: 0;
+      top: 67px;
+      background: rgba(255,255,255, .6);
+      z-index: 1000;
+    }
+  }
+}
+
+header {
+  background: #FCFCFC;
+  color: @gray;
   padding: 20px 0 19px;
   margin: 0 0 30px;
+  border-bottom: 1px solid #e1e4e5;
+  position: relative;
+  text-align: center;
+
+  .sidebar-toggle {
+    padding: 10px;
+    margin: -5px 2px -2px -10px;
+    height: 34px;
+    border-radius: 3px;
+    float: left;
+
+    .icon-menu {
+      display: block;
+      background: @gray;
+      width: 22px;
+      height: 3px;
+      border-radius: 4px;
+
+      &:before, &:after {
+        display: block;
+        content: "";
+        position: absolute;
+        background: @gray;
+        width: 22px;
+        height: 3px;
+        border-radius: 4px;
+      }
+
+      &:before {
+        top: 6px;
+      }
+      &:after {
+        top: 12px;
+      }
+    }
+  }
+
+  .new-menu {
+    .icon-new {
+      display: block;
+      width: 21px;
+      height: 21px;
+      margin-top: 2px;
+
+      &:before, &:after {
+        display: block;
+        content: "";
+        position: absolute;
+        background: @gray;
+        border-radius: 4px;
+      }
+
+      &:before {
+        top: 9px;
+        width: 21px;
+        height: 3px;
+      }
+
+      &:after {
+        top: 0px;
+        left: 9px;
+        width: 3px;
+        height: 21px;
+      }
+    }
+  }
+
   a {
-    color: #fff;
+    color: @gray;
     &:hover, &:active, &:focus {
-      color: #fff;
+      color: darken(@gray, 10);
       text-decoration: none;
     }
   }
@@ -289,18 +477,35 @@ header {
     }
   }
 
+  .new-dropdown {
+    &.open {
+      .icon-new {
+        &:before, &:after {
+          background: @blue;
+        }
+      }
+    }
+    .dropdown-menu {
+      left: auto;
+      right: 0;
+      text-align: left;
+    }
+  }
+
   .project-dropdown {
-    float: left;
     position: relative;
+    margin: 0 40px;
 
     .dropdown-menu {
       width: 540px;
       max-height: 400px;
       overflow: auto;
       padding: 0;
-      top: 44px;
-      left: -36px;
+      top: 45px;
+      left: 50%;
+      margin-left: -270px;
       border-radius: 0 0 4px 4px;
+      text-align: left;
 
       .team {
         border-bottom: 1px solid #E9EBEC;
@@ -353,7 +558,6 @@ header {
           color: @link-hover-color;
         }
       }
-
     }
     .team-name {
       font-size: 18px;
@@ -382,6 +586,12 @@ header {
         opacity: 1;
       }
     }
+
+    &.open {
+      .team-name, .project-name {
+        color: @blue;
+      }
+    }
   }
 }
 
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index 6b0cdc6927..0debb9dfde 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -118,47 +118,80 @@
     </head>
 
     <body class="{% block wrapperclass %}{% endblock %}" ng-app="sentry">
+      {% if request.user.is_authenticated %}
+      <div class="app-sidebar">
+        <div class="user-info">
+          <img src="{% gravatar_url user.email size 72 %}">
+          <p><strong><a href="#">{{ user.username }}</a></strong></p>
+          <p><small><a href="{% url 'sentry-account-settings' %}">{% trans "Account" %}</a>
+            {% if request.user.is_staff %}<a class="divider" href="{% url 'sentry-admin-status' %}">{% trans "Admin" %}</a>{% endif %}
+            <a class="divider" href="{% url 'sentry-logout' %}">{% trans "Sign Out" %}</a>
+            </small></p>
+        </div>
+        <div class="user-options">
+          <ul class="list-unstyled">
+            <li><strong><a href="{% url 'sentry-help' %}"><span class="icon icon-book"></span>{% trans "Docs" %}</a></strong></li>
+            <li><strong><a href="#"><span class="icon icon-question"></span>Support</a></strong></li>
+            <li><strong><a href="#"><span class="icon icon-comments"></span>Chat</a></strong></li>
+          </ul>
+        </div>
+        <div class="organizations">
+          <h6>Organizations</h6>
+          <ul class="list-unstyled">
+            <li class="active"><a class="pull-right" href="#"><span class="icon-settings"></span></a><strong><a href="#">Hanna Barbera</a></strong></li>
+            <li><a class="pull-right" href="#"><span class="icon-settings"></span></a><strong><a href="#">GitHub</a></strong></li>
+            <li><a class="pull-right" href="#"><span class="icon-settings"></span></a><strong><a href="#">Sentry</a></strong></li>
+
+          </ul>
+        </div>
+        <div class="teams">
+          {% if TEAM_LIST %}
+              {% for t, p_list in TEAM_LIST|reorder_teams:team %}
+                <div class="team">
+                    <h6><a class="pull-right" href="#"><span class="icon-settings"></span></a><a href="{% url 'sentry' t.slug %}">{{ t.name }}</a></h6>
+                    <ul class="project-list list-unstyled">
+                        {% for p in p_list %}
+                            <li{% if p.id == project.id %} class="active"{% endif %}>
+                                <strong><a href="{% url 'sentry-stream' t.slug p.slug %}" title="{{ p.name }}">{{ p.name }}</a></strong>
+                            </li>
+                        {% endfor %}
+                    </ul>
+                </div>
+              {% endfor %}
+          {% endif %}
+        </div>
+      </div>
+      {% endif %}
+      <div class="app">
         {% block body %}
         {% block header %}
             <header>
                 <div class="container">
-                  {% block logo %}<a id="logo" href="{% url 'sentry' %}"><span class="icon-sentry-logo"></span></a>{% endblock %}
-                  <ul class="pull-right user-nav">
+                  {% if request.user.is_authenticated %}
+                    <a class="sidebar-toggle" onclick="$('body').toggleClass('show-sidebar');">
+                      <span class="icon-menu"></span>
+                    </a>
+                  {% endif %}
+
+                  <div class="pull-right">
                       {% block account_nav %}
                           {% if request.user.is_authenticated %}
-                              <li class="dropdown">
-                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="icon-building"></span> Hanna-Barbera <span class="icon-arrow-down"></span></a>
-                                  <ul class="orgs dropdown-menu">
-                                    <li><h6><a href="" class="icon-plus pull-right"></a>Organizations</h6></li>
-                                    <li class="active"><a href="#"><span class="icon-building"></span><span class="icon-settings"></span> Hanna-Barbera</a></li>
-                                    <li class=""><a href="#"><span class="icon-building"></span><span class="icon-settings"></span> GitHub</a></li>
-                                    <li class=""><a href="#"><span class="icon-building"></span><span class="icon-settings"></span> Captain Planet, Inc</a></li>
-                                    <li class="divider"></li>
-                                    <li><a href="#"><span class="icon-user"></span> ckj</a></li>
-                                  </ul>
-                              </li>
-                              <li class="hidden-xs">
-                                <a href="{% url 'sentry-help' %}">
-                                    <span class="icon icon-book"></span> {% trans "Docs" %}
-                                </a>
-                              </li>
-                              <li class="pull-right dropdown">
-                                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img class="user-avatar" src="{% gravatar_url user.email size 44 %}"> <span class="icon-arrow-down"></span></a>
-                                  <ul class="dropdown-menu">
-                                      <li><a href="{% url 'sentry-account-settings' %}">{% trans "Account" %}</a></li>
-                                      <li><a href="{% url 'sentry' %}">{% trans "Teams" %}</a></li>
-                                      {% if request.user.is_staff %}
-                                          <li><a href="{% url 'sentry-admin-status' %}">{% trans "Admin" %}</a></li>
-                                      {% endif %}
-                                      <li class="divider">
-                                      <li><a href="{% url 'sentry-logout' %}">{% trans "Logout" %}</a></li>
-                                  </ul>
-                              </li>
+                          <div class="dropdown new-dropdown">
+                            <a class="dropdown-toggle new-menu">
+                              <span class="icon-new"></span>
+                            </a>
+                            <ul class="dropdown-menu">
+                              <li><a href="#">Organization</a></li>
+                              <li><a href="#">Team</a></li>
+                              <li><a href="#">Project</a></li>
+                              <li><a href="#">Member</a></li>
+                            </ul>
+                          </div>
                           {% else %}
-                              <li><a href="{% url 'sentry-login' %}">{% trans "Login" %}</a></li>
+                              <a href="{% url 'sentry-login' %}">{% trans "Login" %}</a>
                           {% endif %}
                       {% endblock %}
-                  </ul>
+                  </div>
                     <!-- <a id="logo" href="{% url 'sentry' %}">Sentry</a> -->
                     {% if team %}
                     <div class="project-dropdown">
@@ -286,5 +319,6 @@
 
         </script>
         {% endblock %}
+      </div>
     </body>
 </html>
