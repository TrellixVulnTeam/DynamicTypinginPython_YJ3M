commit 811d73b2ca8a9f801997d356ee42a542925ae5b3
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Tue May 1 18:06:20 2018 -0700

    fix(integrations): 404 on setup for integrations that can't be installed from sentry
    
    fixes SENTRY-6J8

diff --git a/src/sentry/web/frontend/organization_integration_setup.py b/src/sentry/web/frontend/organization_integration_setup.py
index 3bcc748651..d55adafa06 100644
--- a/src/sentry/web/frontend/organization_integration_setup.py
+++ b/src/sentry/web/frontend/organization_integration_setup.py
@@ -2,6 +2,8 @@ from __future__ import absolute_import, print_function
 
 import logging
 
+from django.http import Http404
+
 from sentry.integrations.pipeline import IntegrationPipeline
 from sentry.web.frontend.base import OrganizationView
 
@@ -19,6 +21,10 @@ class OrganizationIntegrationSetupView(OrganizationView):
             organization=organization,
             provider_key=provider_id,
         )
+
+        if not pipeline.provider.can_add:
+            raise Http404
+
         pipeline.initialize()
 
         return pipeline.current_step()
