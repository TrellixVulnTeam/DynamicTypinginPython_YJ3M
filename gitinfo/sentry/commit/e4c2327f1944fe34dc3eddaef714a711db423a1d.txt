commit e4c2327f1944fe34dc3eddaef714a711db423a1d
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Jul 5 19:57:05 2016 +0300

    Enforce consistent style for addresses in debug meta

diff --git a/setup.py b/setup.py
index d5905f63c4..389cedaa18 100755
--- a/setup.py
+++ b/setup.py
@@ -141,7 +141,7 @@ install_requires = [
 ]
 
 dsym_requires = [
-    'symsynd>=0.7.0,<1.0.0',
+    'symsynd>=0.8.0,<1.0.0',
 ]
 
 
diff --git a/src/sentry/interfaces/debug_meta.py b/src/sentry/interfaces/debug_meta.py
index b1e02c440e..1842fa1e55 100644
--- a/src/sentry/interfaces/debug_meta.py
+++ b/src/sentry/interfaces/debug_meta.py
@@ -17,13 +17,20 @@ def imagetype(name):
 
 @imagetype('apple')
 def process_apple_image(image):
+    def _addr(x):
+        if isinstance(x, (int, long)):
+            return '0x%x' % x
+        if isinstance(x, basestring):
+            if x[:2] != '0x':
+                return '0x%x' % int(x)
+        return x
     try:
         return {
             'cpu_type': image['cpu_type'],
             'cpu_subtype': image['cpu_subtype'],
-            'image_addr': image['image_addr'],
-            'image_size': image['image_size'],
-            'image_vmaddr': image.get('image_vmaddr') or 0,
+            'image_addr': _addr(image['image_addr']),
+            'image_size': _addr(image['image_size']),
+            'image_vmaddr': _addr(image.get('image_vmaddr') or 0),
             'name': image['name'],
             'uuid': image['uuid'],
         }
