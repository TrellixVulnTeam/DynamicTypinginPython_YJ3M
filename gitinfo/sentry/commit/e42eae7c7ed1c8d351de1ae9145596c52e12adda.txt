commit e42eae7c7ed1c8d351de1ae9145596c52e12adda
Author: David Cramer <dcramer@gmail.com>
Date:   Tue May 12 15:34:36 2015 -0700

    Correct inverted logic for status change

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index e4b90a1205..2329aa7341 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -153,6 +153,13 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
         - An optional 'status' parameter may be used to restrict mutations to
           only events with the given status.
 
+        For example, to resolve all aggregates (project-wide):
+
+            {method} {path}
+            {{
+                "status": "resolved"
+            }}
+
         Attributes:
 
         - status: resolved, unresolved, muted
@@ -181,7 +188,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
         result = serializer.object
 
         # validate that we've passed a selector for non-status bulk operations
-        if not group_ids and result.keys() == ['status']:
+        if not group_ids and result.keys() != ['status']:
             return Response('{"detail": "You must specify a list of IDs for this operation"}', status=400)
 
         if group_ids:
diff --git a/tests/sentry/api/endpoints/test_project_group_index.py b/tests/sentry/api/endpoints/test_project_group_index.py
index eb550e5204..b388682800 100644
--- a/tests/sentry/api/endpoints/test_project_group_index.py
+++ b/tests/sentry/api/endpoints/test_project_group_index.py
@@ -107,7 +107,7 @@ class GroupUpdateTest(APITestCase):
         response = self.client.put(url + '?status=unresolved', data={
             'status': 'resolved',
         }, format='json')
-        assert response.status_code == 200
+        assert response.status_code == 200, response.data
         assert response.data == {
             'status': 'resolved',
         }
