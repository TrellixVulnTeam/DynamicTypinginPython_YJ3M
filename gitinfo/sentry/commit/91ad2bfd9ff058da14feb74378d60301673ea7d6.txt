commit 91ad2bfd9ff058da14feb74378d60301673ea7d6
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 26 21:32:37 2015 -0700

    Add lastRelease to group details

diff --git a/src/sentry/api/endpoints/group_details.py b/src/sentry/api/endpoints/group_details.py
index 940adfd7f0..f6e9b5ad2a 100644
--- a/src/sentry/api/endpoints/group_details.py
+++ b/src/sentry/api/endpoints/group_details.py
@@ -117,6 +117,24 @@ class GroupDetailsEndpoint(GroupEndpoint):
                 'dateCreated': first_release.first_seen,
             }
 
+        if first_release is not None:
+            # find last seen release
+            try:
+                last_release = GroupTagValue.objects.filter(
+                    group=group,
+                    key='sentry:release',
+                ).order_by('-last_seen')[0]
+            except IndexError:
+                last_release = None
+            else:
+                last_release = {
+                    'version': last_release.value,
+                    # TODO(dcramer): this should look it up in Release
+                    'dateCreated': last_release.first_seen,
+                }
+        else:
+            last_release = None
+
         action_list = self._get_actions(request, group)
 
         now = timezone.now()
@@ -137,6 +155,7 @@ class GroupDetailsEndpoint(GroupEndpoint):
 
         data.update({
             'firstRelease': first_release,
+            'lastRelease': last_release,
             'activity': serialize(activity, request.user),
             'seenBy': serialize(seen_by, request.user),
             'pluginActions': action_list,
