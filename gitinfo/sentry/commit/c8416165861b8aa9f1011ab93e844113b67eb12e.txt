commit c8416165861b8aa9f1011ab93e844113b67eb12e
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 11 17:31:28 2012 -0800

    Revert changes to stacktrace_order (leave it as a string)

diff --git a/src/sentry/interfaces.py b/src/sentry/interfaces.py
index 723287dfe4..5253a8abc1 100644
--- a/src/sentry/interfaces.py
+++ b/src/sentry/interfaces.py
@@ -342,7 +342,7 @@ class Stacktrace(Interface):
                 key='stacktrace_order',
                 default=None,
             )
-            if display and int(display) == 2:
+            if display == '2':
                 frames.reverse()
 
         return render_to_string('sentry/partial/interfaces/stacktrace.html', {
diff --git a/src/sentry/web/forms/accounts.py b/src/sentry/web/forms/accounts.py
index bbceb23df0..e681a59e59 100644
--- a/src/sentry/web/forms/accounts.py
+++ b/src/sentry/web/forms/accounts.py
@@ -107,11 +107,11 @@ class AccountSettingsForm(forms.Form):
 
 class AppearanceSettingsForm(forms.Form):
     language = forms.ChoiceField(label=_('Language'), choices=settings.LANGUAGES, required=False)
-    stacktrace_order = forms.TypedChoiceField(label=_('Stacktrace order'), choices=(
-        (-1, 'Default (let Sentry decide)'),
-        (1, 'Most recent call last'),
-        (2, 'Most recent call first'),
-    ), help_text='Choose the default ordering of frames in stacktraces.', required=False, coerce=int)
+    stacktrace_order = forms.ChoiceField(label=_('Stacktrace order'), choices=(
+        ('-1', 'Default (let Sentry decide)'),
+        ('1', 'Most recent call last'),
+        ('2', 'Most recent call first'),
+    ), help_text='Choose the default ordering of frames in stacktraces.', required=False)
 
     def __init__(self, user, *args, **kwargs):
         self.user = user
diff --git a/tests/sentry/web/frontend/accounts/tests.py b/tests/sentry/web/frontend/accounts/tests.py
index 777959f0cc..be2979098d 100644
--- a/tests/sentry/web/frontend/accounts/tests.py
+++ b/tests/sentry/web/frontend/accounts/tests.py
@@ -106,5 +106,5 @@ class AppearanceSettingsTest(TestCase):
 
         options = UserOption.objects.get_all_values(user=self.user, project=None)
 
-        self.assertEquals(options.get('stacktrace_order'), 2)
+        self.assertEquals(options.get('stacktrace_order'), '2')
         self.assertEquals(options.get('language'), 'en')
