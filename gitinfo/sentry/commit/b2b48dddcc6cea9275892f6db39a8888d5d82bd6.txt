commit b2b48dddcc6cea9275892f6db39a8888d5d82bd6
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 24 11:40:42 2015 -0700

    Render long messages within entries (fixes GH-1784)

diff --git a/src/sentry/static/sentry/app/components/eventEntries.jsx b/src/sentry/static/sentry/app/components/eventEntries.jsx
index fd752f6019..94ffbdae84 100644
--- a/src/sentry/static/sentry/app/components/eventEntries.jsx
+++ b/src/sentry/static/sentry/app/components/eventEntries.jsx
@@ -7,6 +7,27 @@ import EventTags from "./eventTags";
 import PropTypes from "../proptypes";
 import utils from "../utils";
 
+var hasMultipartMessage = function(evt) {
+  var message = evt.message;
+  return (message.indexOf('\n') !== -1 || message.length > 100);
+};
+
+var EventMessage = React.createClass({
+  render() {
+    return (
+      <EventDataSection
+          group={this.props.group}
+          event={this.props.event}
+          type="message"
+          title="Message">
+        <p dangerouslySetInnerHTML={{
+          __html: utils.nl2br(utils.urlize(utils.escape(this.props.event.message)))
+        }} />
+      </EventDataSection>
+    );
+  }
+});
+
 var EventErrors = React.createClass({
   propTypes: {
     group: PropTypes.Group.isRequired,
@@ -194,6 +215,9 @@ var EventEntries = React.createClass({
 
     return (
       <div>
+        {hasMultipartMessage(evt) &&
+          <EventMessage group={group} event={evt} />
+        }
         {!utils.objectIsEmpty(evt.errors) &&
           <EventErrors
             group={group}
diff --git a/src/sentry/static/sentry/app/utils.jsx b/src/sentry/static/sentry/app/utils.jsx
index 2d96b72c39..8ee8332b79 100644
--- a/src/sentry/static/sentry/app/utils.jsx
+++ b/src/sentry/static/sentry/app/utils.jsx
@@ -156,7 +156,7 @@ export default {
   },
 
   nl2br(str) {
-    return str.replace(/\r?\n/, '<br />');
+    return str.replace(/(?:\r\n|\r|\n)/g, '<br />');
   },
 
   escape(str) {
