commit 3ee4197c991f0c5a949adffc749034f03d18429e
Author: ted kaemming <ted@kaemming.com>
Date:   Wed Feb 21 10:37:12 2018 -0800

    ref: Route activity notifications to `activity.notify` queue (#7328)

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 046d35129b..f56e6b636c 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -437,6 +437,7 @@ CELERY_IMPORTS = (
     'sentry.tagstore.tasks', 'sentry.tasks.assemble'
 )
 CELERY_QUEUES = [
+    Queue('activity.notify', routing_key='activity.notify'),
     Queue('alerts', routing_key='alerts'),
     Queue('auth', routing_key='auth'),
     Queue('assemble', routing_key='assemble'),
diff --git a/src/sentry/tasks/activity.py b/src/sentry/tasks/activity.py
index e424dcaa34..8efe4d1f8b 100644
--- a/src/sentry/tasks/activity.py
+++ b/src/sentry/tasks/activity.py
@@ -32,7 +32,8 @@ def get_activity_notifiers(project):
     return results
 
 
-@instrumented_task(name='sentry.tasks.activity.send_activity_notifications')
+@instrumented_task(name='sentry.tasks.activity.send_activity_notifications',
+                   queue='activity.notify')
 def send_activity_notifications(activity_id):
     from sentry.models import Activity
 
