commit 1673a743568c30a1c95118c1469cb4c160ec1990
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Sep 24 14:53:20 2010 -0700

    Dont log filter values if they're empty

diff --git a/sentry/manager.py b/sentry/manager.py
index 8888b61294..40f2e08161 100644
--- a/sentry/manager.py
+++ b/sentry/manager.py
@@ -77,9 +77,12 @@ class SentryManager(models.Manager):
                 group=group,
                 **kwargs
             )
-            FilterValue.objects.get_or_create(key='server_name', value=server_name)
-            FilterValue.objects.get_or_create(key='site', value=site)
-            FilterValue.objects.get_or_create(key='logger', value=logger_name)
+            if server_name:
+                FilterValue.objects.get_or_create(key='server_name', value=server_name)
+            if site:
+                FilterValue.objects.get_or_create(key='site', value=site)
+            if logger_name:
+                FilterValue.objects.get_or_create(key='logger', value=logger_name)
         except Exception, exc:
             # TODO: should we mail admins when there are failures?
             try:
