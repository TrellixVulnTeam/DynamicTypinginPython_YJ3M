commit c16acff492696d5fe5a91bbfd52f531e91f9448f
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 27 10:38:11 2016 -0700

    Kill use of gravatar for user contexts

diff --git a/src/sentry/static/sentry/app/components/avatar.jsx b/src/sentry/static/sentry/app/components/avatar.jsx
index 2dda7ae2bc..43565f47f0 100644
--- a/src/sentry/static/sentry/app/components/avatar.jsx
+++ b/src/sentry/static/sentry/app/components/avatar.jsx
@@ -8,13 +8,15 @@ const Avatar = React.createClass({
     user: React.PropTypes.object,
     size: React.PropTypes.number,
     default: React.PropTypes.string,
-    title: React.PropTypes.string
+    title: React.PropTypes.string,
+    gravatar: React.PropTypes.bool,
   },
 
   getDefaultProps() {
     return {
       className: 'avatar',
-      size: 64
+      size: 64,
+      gravatar: true,
     };
   },
 
@@ -65,7 +67,11 @@ const Avatar = React.createClass({
     if (user.avatar) {
       avatarType = user.avatar.avatarType;
     } else {
-      avatarType = user.email ? 'gravatar' : 'letter_avatar';
+      avatarType = (
+        (user.email && this.props.gravatar) ?
+          'gravatar' :
+          'letter_avatar'
+      );
     }
     let props = {title: this.props.title, onError: this.onError, onLoad: this.onLoad};
     if (user.options && user.options.avatarType) {
diff --git a/src/sentry/static/sentry/app/components/events/contextSummary.jsx b/src/sentry/static/sentry/app/components/events/contextSummary.jsx
index b0edc70c61..f295c078bf 100644
--- a/src/sentry/static/sentry/app/components/events/contextSummary.jsx
+++ b/src/sentry/static/sentry/app/components/events/contextSummary.jsx
@@ -63,7 +63,8 @@ const UserSummary = React.createClass({
 
     return (
       <div className="context-item user">
-        <Avatar user={user} size={48} className="context-item-icon" />
+        <Avatar user={user} size={48} className="context-item-icon"
+                gravatar={false} />
         <h3>{userTitle}</h3>
         {user.id && user.id !== userTitle ?
           <p><strong>{t('ID:')}</strong> {user.id}</p>
diff --git a/src/sentry/static/sentry/app/components/events/contexts/user.jsx b/src/sentry/static/sentry/app/components/events/contexts/user.jsx
index a9424d1bb5..d930b196df 100644
--- a/src/sentry/static/sentry/app/components/events/contexts/user.jsx
+++ b/src/sentry/static/sentry/app/components/events/contexts/user.jsx
@@ -28,7 +28,7 @@ const UserContextType = React.createClass({
     return (
       <div className="user-widget">
         <div className="pull-left">
-          <Avatar user={user} size={96} />
+          <Avatar user={user} size={96} gravatar={false} />
         </div>
         <KeyValueList data={builtins} isContextData={false} />
         {children &&
