commit 789d6a1a59016ddee208df1a5ef5c29bc5b3d4bd
Author: Max Bittker <maxbittker@gmail.com>
Date:   Tue Mar 13 16:09:03 2018 -0700

    fix(owners): disable submit when text unchanged, remove double ## (#7608)
    
    * disable when unchanged
    
    * remove extra #

diff --git a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
index 753a6b493d..67361f5f8b 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
@@ -88,7 +88,9 @@ class OwnerInput extends React.Component {
     this.setState({text: v.target.value});
   }
   render() {
+    let {initialText} = this.props;
     let {text, error} = this.state;
+
     let mentionableUsers = this.mentionableUsers();
     let mentionableTeams = this.mentionableTeams();
 
@@ -113,8 +115,7 @@ class OwnerInput extends React.Component {
             value={text}
             required={true}
             autoFocus={true}
-            displayTransform={(id, display, type) =>
-              `${type === 'member' ? '' : '#'}${display}`}
+            displayTransform={(id, display, type) => `${display}`}
             markup="**[sentry.strip:__type__]__display__**"
             spellCheck="false"
             autoComplete="off"
@@ -134,10 +135,18 @@ class OwnerInput extends React.Component {
               appendSpaceOnAdd={true}
             />
           </MentionsInput>
-          {error && <SyntaxOverlay line={error.raw[0].match(/line (\d*),/)[1] - 1} />}
+          {error &&
+            error.raw && (
+              <SyntaxOverlay line={error.raw[0].match(/line (\d*),/)[1] - 1} />
+            )}
           {error && error.raw.toString()}
           <div style={{textAlign: 'end', paddingTop: '10px'}}>
-            <Button size="small" priority="primary" onClick={this.handleUpdateOwnership}>
+            <Button
+              size="small"
+              priority="primary"
+              onClick={this.handleUpdateOwnership}
+              disabled={text === initialText}
+            >
               {t('Save Changes')}
             </Button>
           </div>
diff --git a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
index 6cd0a87c2f..2d650819cb 100644
--- a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
@@ -163,7 +163,7 @@ url:http://sentry.io/settings/* #workflow"
           },
         }
       }
-      value="url:src @dummy@example.com"
+      value="new"
     >
       <MentionsInput
         autoCapitalize="off"
@@ -185,7 +185,7 @@ url:http://sentry.io/settings/* #workflow"
         singleLine={false}
         spellCheck="false"
         style={[Function]}
-        value="url:src @dummy@example.com"
+        value="new"
       >
         <div
           style={
@@ -239,7 +239,7 @@ url:http://sentry.io/settings/* #workflow"
               }
               singleLine={false}
               style={[Function]}
-              value="url:src @dummy@example.com"
+              value="new"
             >
               <Highlighter
                 displayTransform={[Function]}
@@ -275,7 +275,7 @@ url:http://sentry.io/settings/* #workflow"
                 }
                 singleLine={false}
                 style={[Function]}
-                value="url:src @dummy@example.com"
+                value="new"
               >
                 <div
                   style={
@@ -311,7 +311,7 @@ url:http://sentry.io/settings/* #workflow"
                       }
                     }
                   >
-                    url:src @dummy@example.com
+                    new
                   </span>
                    
                 </div>
@@ -357,7 +357,7 @@ url:http://sentry.io/settings/* #workflow"
                   "wordBreak": "break-all",
                 }
               }
-              value="url:src @dummy@example.com"
+              value="new"
             />
           </div>
         </div>
diff --git a/tests/js/spec/views/ownershipInput.spec.jsx b/tests/js/spec/views/ownershipInput.spec.jsx
index 434b269da8..d3c8f54d2f 100644
--- a/tests/js/spec/views/ownershipInput.spec.jsx
+++ b/tests/js/spec/views/ownershipInput.spec.jsx
@@ -36,6 +36,11 @@ describe('ProjectTeamsSettings', function() {
 
       expect(put).not.toHaveBeenCalled();
 
+      // if text is inchange, submit button is disabled
+      submit.simulate('click');
+      expect(put).not.toHaveBeenCalled();
+
+      wrapper.setState({text: 'new'});
       submit.simulate('click');
 
       expect(put).toHaveBeenCalled();
