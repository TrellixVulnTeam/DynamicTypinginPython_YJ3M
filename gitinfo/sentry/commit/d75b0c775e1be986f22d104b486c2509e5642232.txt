commit d75b0c775e1be986f22d104b486c2509e5642232
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Jan 2 16:09:41 2020 -0800

    fix(SnubaEvent): Fix bug in get_minimal_user (#16231)
    
    This code didn't previously work (user should be an interface of an
    event), it just happens to not currently be called in any situation
    where snuba data isn't populated.

diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index 05dded33a7..2afaa565ee 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -437,15 +437,12 @@ class SnubaEvent(EventCommon):
             email = self.snuba_data["email"]
             username = self.snuba_data["username"]
             ip_address = self.snuba_data["ip_address"]
-        else:
-            user_id = self.data["user_id"]
-            email = self.data["email"]
-            username = self.data["username"]
-            ip_address = self.data["ip_address"]
 
-        return User.to_python(
-            {"id": user_id, "email": email, "username": username, "ip_address": ip_address}
-        )
+            return User.to_python(
+                {"id": user_id, "email": email, "username": username, "ip_address": ip_address}
+            )
+
+        return super(SnubaEvent, self).get_minimal_user()
 
     # If the data for these is available from snuba, we assume
     # it was already normalized on the way in and we can just return
