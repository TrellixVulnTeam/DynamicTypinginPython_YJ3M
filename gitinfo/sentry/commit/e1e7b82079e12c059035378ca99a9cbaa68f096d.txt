commit e1e7b82079e12c059035378ca99a9cbaa68f096d
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Mar 18 02:22:02 2014 -0700

    Neaten

diff --git a/src/sentry/middleware/sudo.py b/src/sentry/middleware/sudo.py
index 54736df798..03fbc55477 100644
--- a/src/sentry/middleware/sudo.py
+++ b/src/sentry/middleware/sudo.py
@@ -14,16 +14,18 @@ class SudoMiddleware(object):
         request.is_sudo = lambda: has_sudo_privileges(request)
 
     def process_response(self, request, response):
-        if request._sentry_sudo is None:
+        is_sudo = request._sentry_sudo
+
+        if is_sudo is None:
             return response
 
         # We have explicitly had sudo revoked, so clean up cookie
-        if request._sentry_sudo is False and SUDO_COOKIE_NAME in request.COOKIES:
+        if is_sudo is False and SUDO_COOKIE_NAME in request.COOKIES:
             response.delete_cookie(SUDO_COOKIE_NAME)
             return response
 
         # Sudo mode has been granted, and we have a token to send back to the user agent
-        if request._sentry_sudo is True and hasattr(request, '_sentry_sudo_token'):
+        if is_sudo is True and hasattr(request, '_sentry_sudo_token'):
             token = request._sentry_sudo_token
             max_age = request._sentry_sudo_max_age
             response.set_cookie(
