commit 2be0daca7800c6b35b13f3135b0c9485304e33f2
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu May 3 11:29:11 2018 -0700

    fix(rules): Correct rule key computations

diff --git a/src/sentry/rules/processor.py b/src/sentry/rules/processor.py
index ba70be8ac1..b46ead7957 100644
--- a/src/sentry/rules/processor.py
+++ b/src/sentry/rules/processor.py
@@ -139,7 +139,7 @@ class RuleProcessor(object):
                 continue
 
             for future in results:
-                key = future.key is not None or future.callback
+                key = future.key if future.key is not None else future.callback
                 rule_future = RuleFuture(rule=rule, kwargs=future.kwargs)
 
                 if key not in self.grouped_futures:
