commit a17bdddc9db52ef51f15db227911d4a8b91b232f
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Aug 24 13:29:33 2018 -0700

    feat(charts): Update color palette (#9382)
    
    Also adjusts palette based on the number of items in chart.

diff --git a/src/sentry/static/sentry/app/components/charts/baseChart.jsx b/src/sentry/static/sentry/app/components/charts/baseChart.jsx
index fc90afac66..af793becd0 100644
--- a/src/sentry/static/sentry/app/components/charts/baseChart.jsx
+++ b/src/sentry/static/sentry/app/components/charts/baseChart.jsx
@@ -4,7 +4,6 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import ReactEchartsCore from 'echarts-for-react/lib/core';
 import echarts from 'echarts/lib/echarts';
-import SentryTypes from 'app/sentryTypes';
 
 import theme from 'app/utils/theme';
 
@@ -22,7 +21,10 @@ const getDimensionValue = dimension => {
 
 class BaseChart extends React.Component {
   static propTypes = {
-    series: SentryTypes.Series,
+    // TODO: Pull out props from generic `options` object
+    // so that we can better document them in prop types
+    // e.g:
+    // series: SentryTypes.Series,
 
     // see: https://ecomfe.github.io/echarts-doc/public/en/option.html
     options: PropTypes.object,
@@ -65,7 +67,6 @@ class BaseChart extends React.Component {
     renderer: 'svg',
     notMerge: true,
     lazyUpdate: false,
-    colors: theme.charts.colors,
     options: {},
     onChartReady: () => {},
   };
@@ -75,6 +76,19 @@ class BaseChart extends React.Component {
     onChartReady(...args);
   };
 
+  getColorPalette = () => {
+    // This is kind of gross, but we need to find the number of data points available
+    // so that we can scale our palette
+    //
+    // get length of `data` in the first series
+    let {series} = this.props.options;
+    let [firstSeries] = series || [];
+    let {data} = firstSeries || {};
+    return data && data.length
+      ? theme.charts.getColorPalette(data.length)
+      : theme.charts.colors;
+  };
+
   render() {
     let {
       colors,
@@ -94,7 +108,7 @@ class BaseChart extends React.Component {
         ref={e => (this.chart = e)}
         echarts={echarts}
         option={{
-          color: colors,
+          color: colors || this.getColorPalette(),
           grid: Grid(),
           tooltip: Tooltip(),
           ...options,
diff --git a/src/sentry/static/sentry/app/constants/chartPalette.jsx b/src/sentry/static/sentry/app/constants/chartPalette.jsx
new file mode 100644
index 0000000000..01e09e2611
--- /dev/null
+++ b/src/sentry/static/sentry/app/constants/chartPalette.jsx
@@ -0,0 +1,180 @@
+/**
+ * Common constants here
+ */
+
+// palette generated via: https://gka.github.io/palettes/#colors=444674,69519A,E1567C,FB7D46,F2B712|steps=20|bez=1|coL=1
+export const CHART_PALETTE = [
+  ['#444674'],
+  ['#444674', '#f2b712'],
+  ['#444674', '#d6567f', '#f2b712'],
+  ['#444674', '#a35488', '#ef7061', '#f2b712'],
+  ['#444674', '#895289', '#d6567f', '#f38150', '#f2b712'],
+  ['#444674', '#7a5088', '#b85586', '#e9626e', '#f58c46', '#f2b712'],
+  ['#444674', '#704f87', '#a35488', '#d6567f', '#ef7061', '#f59340', '#f2b712'],
+  [
+    '#444674',
+    '#694e86',
+    '#955389',
+    '#c15584',
+    '#e65d73',
+    '#f27a58',
+    '#f6983b',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#644d85',
+    '#895289',
+    '#b05587',
+    '#d6567f',
+    '#ec6868',
+    '#f38150',
+    '#f69b38',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#614c84',
+    '#815189',
+    '#a35488',
+    '#c65683',
+    '#e35a78',
+    '#ef7061',
+    '#f4884b',
+    '#f59f34',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#5c4c82',
+    '#7a5088',
+    '#9a5389',
+    '#b85586',
+    '#d7567f',
+    '#e9626e',
+    '#f1785a',
+    '#f58c46',
+    '#f5a132',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#5b4b82',
+    '#764f88',
+    '#925289',
+    '#ae5487',
+    '#c85682',
+    '#e2587a',
+    '#ec6b66',
+    '#f37d54',
+    '#f59143',
+    '#f5a42f',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#584b80',
+    '#704f87',
+    '#895289',
+    '#a35488',
+    '#bd5585',
+    '#d6567f',
+    '#e75f71',
+    '#ef7061',
+    '#f38150',
+    '#f59340',
+    '#f5a52d',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#574b80',
+    '#6d4e87',
+    '#855189',
+    '#9d5389',
+    '#b35586',
+    '#ca5682',
+    '#e2577b',
+    '#eb666a',
+    '#f0765b',
+    '#f4854d',
+    '#f6953e',
+    '#f5a62c',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#564a7f',
+    '#694e86',
+    '#805089',
+    '#955389',
+    '#ab5487',
+    '#c15584',
+    '#d6567f',
+    '#e65d73',
+    '#ed6c65',
+    '#f27a58',
+    '#f5894a',
+    '#f6983b',
+    '#f5a72b',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#544a7f',
+    '#674d85',
+    '#7a5088',
+    '#8f5289',
+    '#a35488',
+    '#b85586',
+    '#cd5681',
+    '#e1567c',
+    '#e9626e',
+    '#ef7061',
+    '#f37d54',
+    '#f58c46',
+    '#f69a39',
+    '#f5a829',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#524a7e',
+    '#644d85',
+    '#784f88',
+    '#895289',
+    '#9e5389',
+    '#b05587',
+    '#c45683',
+    '#d6567f',
+    '#e55b76',
+    '#ec6868',
+    '#f0745c',
+    '#f38150',
+    '#f58e44',
+    '#f69b38',
+    '#f4a928',
+    '#f2b712',
+  ],
+  [
+    '#444674',
+    '#524a7e',
+    '#624d84',
+    '#744f88',
+    '#865189',
+    '#985389',
+    '#aa5488',
+    '#bc5585',
+    '#cd5681',
+    '#df567c',
+    '#e86070',
+    '#ed6c64',
+    '#f17959',
+    '#f4854e',
+    '#f59242',
+    '#f59e35',
+    '#f4aa27',
+    '#f2b712',
+  ],
+];
+export default CHART_PALETTE;
diff --git a/src/sentry/static/sentry/app/utils/theme.jsx b/src/sentry/static/sentry/app/utils/theme.jsx
index a694a99734..3666aeac51 100644
--- a/src/sentry/static/sentry/app/utils/theme.jsx
+++ b/src/sentry/static/sentry/app/utils/theme.jsx
@@ -1,3 +1,5 @@
+import CHART_PALETTE from 'app/constants/chartPalette';
+
 const theme = {
   breakpoints: ['768px', '992px', '1200px'],
 
@@ -217,7 +219,11 @@ theme.button = {
 };
 
 theme.charts = {
-  colors: ['#4C416B', '#7A5195', '#BC5090', '#EF5675', '#FF764A', '#FFA600'],
+  colors: CHART_PALETTE[CHART_PALETTE.length - 1],
+
+  // We have an array that maps `number + 1` --> list of `number` colors
+  getColorPalette: length => CHART_PALETTE[length + 1],
+
   previousPeriod: theme.gray1,
 };
 
diff --git a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/index.spec.jsx.snap
index e5b5508f11..27cc2aa563 100644
--- a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/index.spec.jsx.snap
@@ -401,13 +401,26 @@ exports[`OrganizationIntegrations render() with installed integrations Displays
                                                 },
                                                 "charts": Object {
                                                   "colors": Array [
-                                                    "#4C416B",
-                                                    "#7A5195",
-                                                    "#BC5090",
-                                                    "#EF5675",
-                                                    "#FF764A",
-                                                    "#FFA600",
+                                                    "#444674",
+                                                    "#524a7e",
+                                                    "#624d84",
+                                                    "#744f88",
+                                                    "#865189",
+                                                    "#985389",
+                                                    "#aa5488",
+                                                    "#bc5585",
+                                                    "#cd5681",
+                                                    "#df567c",
+                                                    "#e86070",
+                                                    "#ed6c64",
+                                                    "#f17959",
+                                                    "#f4854e",
+                                                    "#f59242",
+                                                    "#f59e35",
+                                                    "#f4aa27",
+                                                    "#f2b712",
                                                   ],
+                                                  "getColorPalette": [Function],
                                                   "previousPeriod": "#BDB4C7",
                                                 },
                                                 "disabled": "#ced3d6",
@@ -631,13 +644,26 @@ exports[`OrganizationIntegrations render() with installed integrations Displays
                                                         },
                                                         "charts": Object {
                                                           "colors": Array [
-                                                            "#4C416B",
-                                                            "#7A5195",
-                                                            "#BC5090",
-                                                            "#EF5675",
-                                                            "#FF764A",
-                                                            "#FFA600",
+                                                            "#444674",
+                                                            "#524a7e",
+                                                            "#624d84",
+                                                            "#744f88",
+                                                            "#865189",
+                                                            "#985389",
+                                                            "#aa5488",
+                                                            "#bc5585",
+                                                            "#cd5681",
+                                                            "#df567c",
+                                                            "#e86070",
+                                                            "#ed6c64",
+                                                            "#f17959",
+                                                            "#f4854e",
+                                                            "#f59242",
+                                                            "#f59e35",
+                                                            "#f4aa27",
+                                                            "#f2b712",
                                                           ],
+                                                          "getColorPalette": [Function],
                                                           "previousPeriod": "#BDB4C7",
                                                         },
                                                         "disabled": "#ced3d6",
@@ -1139,13 +1165,26 @@ exports[`OrganizationIntegrations render() with installed integrations Displays
                                                 },
                                                 "charts": Object {
                                                   "colors": Array [
-                                                    "#4C416B",
-                                                    "#7A5195",
-                                                    "#BC5090",
-                                                    "#EF5675",
-                                                    "#FF764A",
-                                                    "#FFA600",
+                                                    "#444674",
+                                                    "#524a7e",
+                                                    "#624d84",
+                                                    "#744f88",
+                                                    "#865189",
+                                                    "#985389",
+                                                    "#aa5488",
+                                                    "#bc5585",
+                                                    "#cd5681",
+                                                    "#df567c",
+                                                    "#e86070",
+                                                    "#ed6c64",
+                                                    "#f17959",
+                                                    "#f4854e",
+                                                    "#f59242",
+                                                    "#f59e35",
+                                                    "#f4aa27",
+                                                    "#f2b712",
                                                   ],
+                                                  "getColorPalette": [Function],
                                                   "previousPeriod": "#BDB4C7",
                                                 },
                                                 "disabled": "#ced3d6",
@@ -1369,13 +1408,26 @@ exports[`OrganizationIntegrations render() with installed integrations Displays
                                                         },
                                                         "charts": Object {
                                                           "colors": Array [
-                                                            "#4C416B",
-                                                            "#7A5195",
-                                                            "#BC5090",
-                                                            "#EF5675",
-                                                            "#FF764A",
-                                                            "#FFA600",
+                                                            "#444674",
+                                                            "#524a7e",
+                                                            "#624d84",
+                                                            "#744f88",
+                                                            "#865189",
+                                                            "#985389",
+                                                            "#aa5488",
+                                                            "#bc5585",
+                                                            "#cd5681",
+                                                            "#df567c",
+                                                            "#e86070",
+                                                            "#ed6c64",
+                                                            "#f17959",
+                                                            "#f4854e",
+                                                            "#f59242",
+                                                            "#f59e35",
+                                                            "#f4aa27",
+                                                            "#f2b712",
                                                           ],
+                                                          "getColorPalette": [Function],
                                                           "previousPeriod": "#BDB4C7",
                                                         },
                                                         "disabled": "#ced3d6",
@@ -2574,13 +2626,26 @@ exports[`OrganizationIntegrations render() without integrations Displays integra
                                                 },
                                                 "charts": Object {
                                                   "colors": Array [
-                                                    "#4C416B",
-                                                    "#7A5195",
-                                                    "#BC5090",
-                                                    "#EF5675",
-                                                    "#FF764A",
-                                                    "#FFA600",
+                                                    "#444674",
+                                                    "#524a7e",
+                                                    "#624d84",
+                                                    "#744f88",
+                                                    "#865189",
+                                                    "#985389",
+                                                    "#aa5488",
+                                                    "#bc5585",
+                                                    "#cd5681",
+                                                    "#df567c",
+                                                    "#e86070",
+                                                    "#ed6c64",
+                                                    "#f17959",
+                                                    "#f4854e",
+                                                    "#f59242",
+                                                    "#f59e35",
+                                                    "#f4aa27",
+                                                    "#f2b712",
                                                   ],
+                                                  "getColorPalette": [Function],
                                                   "previousPeriod": "#BDB4C7",
                                                 },
                                                 "disabled": "#ced3d6",
@@ -2804,13 +2869,26 @@ exports[`OrganizationIntegrations render() without integrations Displays integra
                                                         },
                                                         "charts": Object {
                                                           "colors": Array [
-                                                            "#4C416B",
-                                                            "#7A5195",
-                                                            "#BC5090",
-                                                            "#EF5675",
-                                                            "#FF764A",
-                                                            "#FFA600",
+                                                            "#444674",
+                                                            "#524a7e",
+                                                            "#624d84",
+                                                            "#744f88",
+                                                            "#865189",
+                                                            "#985389",
+                                                            "#aa5488",
+                                                            "#bc5585",
+                                                            "#cd5681",
+                                                            "#df567c",
+                                                            "#e86070",
+                                                            "#ed6c64",
+                                                            "#f17959",
+                                                            "#f4854e",
+                                                            "#f59242",
+                                                            "#f59e35",
+                                                            "#f4aa27",
+                                                            "#f2b712",
                                                           ],
+                                                          "getColorPalette": [Function],
                                                           "previousPeriod": "#BDB4C7",
                                                         },
                                                         "disabled": "#ced3d6",
@@ -3278,13 +3356,26 @@ exports[`OrganizationIntegrations render() without integrations Displays integra
                                                 },
                                                 "charts": Object {
                                                   "colors": Array [
-                                                    "#4C416B",
-                                                    "#7A5195",
-                                                    "#BC5090",
-                                                    "#EF5675",
-                                                    "#FF764A",
-                                                    "#FFA600",
+                                                    "#444674",
+                                                    "#524a7e",
+                                                    "#624d84",
+                                                    "#744f88",
+                                                    "#865189",
+                                                    "#985389",
+                                                    "#aa5488",
+                                                    "#bc5585",
+                                                    "#cd5681",
+                                                    "#df567c",
+                                                    "#e86070",
+                                                    "#ed6c64",
+                                                    "#f17959",
+                                                    "#f4854e",
+                                                    "#f59242",
+                                                    "#f59e35",
+                                                    "#f4aa27",
+                                                    "#f2b712",
                                                   ],
+                                                  "getColorPalette": [Function],
                                                   "previousPeriod": "#BDB4C7",
                                                 },
                                                 "disabled": "#ced3d6",
@@ -3508,13 +3599,26 @@ exports[`OrganizationIntegrations render() without integrations Displays integra
                                                         },
                                                         "charts": Object {
                                                           "colors": Array [
-                                                            "#4C416B",
-                                                            "#7A5195",
-                                                            "#BC5090",
-                                                            "#EF5675",
-                                                            "#FF764A",
-                                                            "#FFA600",
+                                                            "#444674",
+                                                            "#524a7e",
+                                                            "#624d84",
+                                                            "#744f88",
+                                                            "#865189",
+                                                            "#985389",
+                                                            "#aa5488",
+                                                            "#bc5585",
+                                                            "#cd5681",
+                                                            "#df567c",
+                                                            "#e86070",
+                                                            "#ed6c64",
+                                                            "#f17959",
+                                                            "#f4854e",
+                                                            "#f59242",
+                                                            "#f59e35",
+                                                            "#f4aa27",
+                                                            "#f2b712",
                                                           ],
+                                                          "getColorPalette": [Function],
                                                           "previousPeriod": "#BDB4C7",
                                                         },
                                                         "disabled": "#ced3d6",
