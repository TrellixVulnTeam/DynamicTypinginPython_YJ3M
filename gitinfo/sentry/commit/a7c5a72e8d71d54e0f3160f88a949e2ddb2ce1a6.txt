commit a7c5a72e8d71d54e0f3160f88a949e2ddb2ce1a6
Author: Ben Vinegar <ben@benv.ca>
Date:   Tue Dec 8 13:38:33 2015 -0800

    Nest /organization/ routes under OrganizationDetails (fixes #2405)

diff --git a/src/sentry/static/sentry/app/components/organizations/homeSidebar.jsx b/src/sentry/static/sentry/app/components/organizations/homeSidebar.jsx
index 0d5093552f..94e6df829e 100644
--- a/src/sentry/static/sentry/app/components/organizations/homeSidebar.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/homeSidebar.jsx
@@ -6,6 +6,10 @@ import HookStore from '../../stores/hookStore';
 import {t} from '../../locale';
 
 const HomeSidebar = React.createClass({
+  contextTypes: {
+    location: React.PropTypes.object
+  },
+
   mixins: [OrganizationState],
 
   getInitialState() {
@@ -32,7 +36,10 @@ const HomeSidebar = React.createClass({
       <div>
         <h6 className="nav-header">{t('Organization')}</h6>
         <ul className="nav nav-stacked">
-          <ListLink to={`/${orgId}/`}>{t('Projects')}</ListLink>
+          <ListLink to={`/${orgId}/`} isActive={() => {
+            // return true if path matches /slug-name/
+            return /^\/[^\/]+\/$/.test(this.context.location.pathname);
+          }}>{t('Projects')}</ListLink>
           {access.has('org:read') &&
             <ListLink to={`/organizations/${orgId}/stats/`}>{t('Stats')}</ListLink>
           }
diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 7b66ebaa98..919372c6ea 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -44,13 +44,6 @@ function appendTrailingSlash(nextState, replaceState) {
 
 let routes = (
   <Route path="/" component={App}>
-    <Route path="/organizations/:orgId/" component={OrganizationDetails}>
-      <Route path="issues/assigned/" component={MyIssuesAssignedToMe} />
-      <Route path="issues/bookmarks/" component={MyIssuesBookmarked} />
-      <Route path="issues/history/" component={MyIssuesViewed} />
-      <Route path="stats/" component={OrganizationStats} />
-      <Route path="rate-limits/" component={OrganizationRateLimits} />
-    </Route>
 
     <Route path="/manage/" component={Admin}>
       <IndexRoute component={AdminOverview} />
@@ -63,6 +56,13 @@ let routes = (
 
     <Route path="/:orgId/" component={OrganizationDetails}>
       <IndexRoute component={OrganizationTeams} />
+
+      <Route path="/organizations/:orgId/issues/assigned/" component={MyIssuesAssignedToMe} />
+      <Route path="/organizations/:orgId/issues/bookmarks/" component={MyIssuesBookmarked} />
+      <Route path="/organizations/:orgId/issues/history/" component={MyIssuesViewed} />
+      <Route path="/organizations/:orgId/stats/" component={OrganizationStats} />
+      <Route path="/organizations/:orgId/rate-limits/" component={OrganizationRateLimits} />
+
       <Route path=":projectId/" component={ProjectDetails}>
         <IndexRoute component={Stream} />
         <Route path="dashboard/" component={ProjectDashboard} />
