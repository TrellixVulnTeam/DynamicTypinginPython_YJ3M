commit 668f4557e5af19a3f74bf051798f9350faac3bcf
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed Feb 1 23:33:04 2017 +0100

    Do not pull errors before establishin abs_path is set.
    
    Fixes SENTRY-2PK

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 8b5a28d230..c52d643cee 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -653,14 +653,14 @@ class JavaScriptStacktraceProcessor(StacktraceProcessor):
         all_errors = []
         sourcemap_applied = False
 
-        errors = cache.get_errors(frame['abs_path'])
-        if errors:
-            all_errors.extend(errors)
-
         # can't fetch source if there's no filename present
         if not frame.get('abs_path'):
             return
 
+        errors = cache.get_errors(frame['abs_path'])
+        if errors:
+            all_errors.extend(errors)
+
         # This might fail but that's okay, we try with a different path a
         # bit later down the road.
         source = self.get_source(frame['abs_path'])
