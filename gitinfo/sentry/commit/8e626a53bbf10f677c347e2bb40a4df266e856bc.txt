commit 8e626a53bbf10f677c347e2bb40a4df266e856bc
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jun 3 13:42:19 2015 +0100

    Remove team dashboard

diff --git a/src/sentry/models/team.py b/src/sentry/models/team.py
index 6ea01fa240..9ac0531a96 100644
--- a/src/sentry/models/team.py
+++ b/src/sentry/models/team.py
@@ -10,7 +10,6 @@ from __future__ import absolute_import, print_function
 import warnings
 
 from django.conf import settings
-from django.core.urlresolvers import reverse
 from django.db import models
 from django.db.models import Q
 from django.utils import timezone
@@ -21,7 +20,6 @@ from sentry.db.models import (
     sane_repr
 )
 from sentry.db.models.utils import slugify_instance
-from sentry.utils.http import absolute_uri
 
 
 class TeamManager(BaseManager):
@@ -159,12 +157,6 @@ class Team(Model):
             slugify_instance(self, self.name, organization=self.organization)
         super(Team, self).save(*args, **kwargs)
 
-    def get_absolute_url(self):
-        return absolute_uri(reverse('sentry-team-dashboard', args=[
-            self.organization.slug,
-            self.slug,
-        ]))
-
     def get_owner_name(self):
         if not self.owner:
             return None
diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index c582105b4b..f0a98229bb 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -21,16 +21,12 @@ var ProjectDetails = require("./views/projectDetails");
 var ProjectReleases = require("./views/projectReleases");
 var PropTypes = require("./proptypes");
 var Stream = require("./views/stream");
-var TeamDashboard = require("./views/teamDashboard");
 var TeamDetails = require("./views/teamDetails");
 
 var routes = (
   <Route name="app" path="/" handler={App}>
     <Route name="organizationDetails" path="/:orgId/" handler={OrganizationDetails}>
       <DefaultRoute name="organizationTeams" handler={OrganizationTeams} />
-      <Route name="teamDetails" path="teams/:teamId/" handler={TeamDetails}>
-        <DefaultRoute name="teamDashboard" handler={TeamDashboard} />
-      </Route>
       <Route name="projectDetails" path=":projectId/" handler={ProjectDetails}>
         <DefaultRoute name="stream" handler={Stream} />
         <Route name="projectDashboard" path="dashboard/" handler={ProjectDashboard} />
diff --git a/src/sentry/static/sentry/app/views/organizationTeams.jsx b/src/sentry/static/sentry/app/views/organizationTeams.jsx
index 16d3ab4acf..7f757eb5e2 100644
--- a/src/sentry/static/sentry/app/views/organizationTeams.jsx
+++ b/src/sentry/static/sentry/app/views/organizationTeams.jsx
@@ -56,11 +56,7 @@ var ExpandedTeamList = React.createClass({
                 Team Settings
               </a>
             </div>
-            <h3>
-              <Router.Link
-                to="teamDetails"
-                params={teamRouteParams}>{team.name}</Router.Link>
-            </h3>
+            <h3>{team.name}</h3>
           </div>
           <div className="box-content">
             <table className="table project-list">
diff --git a/src/sentry/static/sentry/app/views/teamDashboard.jsx b/src/sentry/static/sentry/app/views/teamDashboard.jsx
deleted file mode 100644
index 8b7041cb3c..0000000000
--- a/src/sentry/static/sentry/app/views/teamDashboard.jsx
+++ /dev/null
@@ -1,53 +0,0 @@
-/*** @jsx React.DOM */
-
-var React = require("react");
-
-var EventList = require("./teamDashboard/eventList");
-var TeamChart = require("./teamDashboard/chart");
-var TeamState = require("../mixins/teamState");
-var TeamStatsBar = require("./teamDashboard/statsBar");
-
-var TeamDashboard = React.createClass({
-  mixins: [
-    TeamState
-  ],
-
-  contextTypes: {
-    router: React.PropTypes.func
-  },
-
-  getTrendingEventsEndpoint() {
-    var router = this.context.router;
-    var params = router.getCurrentParams();
-    return "/teams/" + params.orgId + "/" + params.teamId + "/groups/trending/";
-  },
-
-  getNewEventsEndpoint() {
-    var router = this.context.router;
-    var params = router.getCurrentParams();
-    return "/teams/" + params.orgId + "/" + params.teamId + "/groups/new/";
-  },
-
-  render() {
-    return (
-      <div>
-        <TeamStatsBar />
-        <TeamChart />
-        <div className="row">
-          <div className="col-md-6">
-            <EventList
-                title="Trending Events"
-                endpoint={this.getTrendingEventsEndpoint()} />
-          </div>
-          <div className="col-md-6">
-            <EventList
-                title="New Events"
-                endpoint={this.getNewEventsEndpoint()} />
-          </div>
-        </div>
-      </div>
-    );
-  }
-});
-
-module.exports = TeamDashboard;
diff --git a/src/sentry/static/sentry/app/views/teamDashboard/chart.jsx b/src/sentry/static/sentry/app/views/teamDashboard/chart.jsx
deleted file mode 100644
index 46952ebfd4..0000000000
--- a/src/sentry/static/sentry/app/views/teamDashboard/chart.jsx
+++ /dev/null
@@ -1,103 +0,0 @@
-/*** @jsx React.DOM */
-
-var React = require("react");
-var Router = require("react-router");
-
-var api = require("../../api");
-var BarChart = require("../../components/barChart");
-var LoadingError = require("../../components/loadingError");
-var LoadingIndicator = require("../../components/loadingIndicator");
-var RouteMixin = require("../../mixins/routeMixin");
-var TeamState = require("../../mixins/teamState");
-
-var TeamChart = React.createClass({
-  mixins: [
-    RouteMixin,
-    TeamState,
-  ],
-
-  contextTypes: {
-    router: React.PropTypes.func
-  },
-
-  getInitialState() {
-    return {
-      loading: true,
-      error: false,
-      stats: []
-    };
-  },
-
-  getStatsEndpoint() {
-    var org = this.getOrganization();
-    var team = this.getTeam();
-    if (org && team) {
-      return "/teams/" + org.slug + "/" + team.slug + "/stats/";
-    }
-  },
-
-  componentWillMount() {
-    this.fetchData();
-  },
-
-  routeDidChange(nextPath, nextParams) {
-    var router = this.context.router;
-    var params = router.getCurrentParams();
-    if (nextParams.teamId != params.teamId) {
-      this.fetchData();
-    }
-  },
-
-  fetchData() {
-    var endpoint = this.getStatsEndpoint();
-    if (!endpoint) {
-      return;
-    }
-
-    this.setState({
-      error: false,
-      loading: true
-    });
-
-    api.request(endpoint, {
-      query: {
-        since: (new Date().getTime() / 1000) - (3600 * 24 * 7)
-      },
-      success: (data) => {
-        this.setState({
-          stats: data,
-          loading: false,
-          error: false
-        });
-      },
-      error: () => {
-        this.setState({
-          loading: false,
-          error: true
-        });
-      }
-    });
-  },
-
-  render() {
-    var points = this.state.stats.map((point) => {
-      return {x: point[0], y: point[1]};
-    });
-
-    return (
-      <div className="bar-chart team-chart">
-        <h6>Last 7 days</h6>
-
-        {this.state.loading ?
-          <LoadingIndicator />
-        : (this.state.error ?
-          <LoadingError onRetry={this.fetchData} />
-        :
-          <BarChart points={points} className="sparkline" />
-        )}
-      </div>
-    );
-  }
-});
-
-module.exports = TeamChart;
diff --git a/src/sentry/static/sentry/app/views/teamDashboard/eventList.jsx b/src/sentry/static/sentry/app/views/teamDashboard/eventList.jsx
deleted file mode 100644
index 343244d1c5..0000000000
--- a/src/sentry/static/sentry/app/views/teamDashboard/eventList.jsx
+++ /dev/null
@@ -1,195 +0,0 @@
-/*** @jsx React.DOM */
-
-var React = require("react");
-var Router = require("react-router");
-
-var api = require("../../api");
-var Count = require("../../components/count");
-var LoadingError = require("../../components/loadingError");
-var LoadingIndicator = require("../../components/loadingIndicator");
-var PropTypes = require("../../proptypes");
-var RouteMixin = require("../../mixins/routeMixin");
-var TimeSince = require("../../components/timeSince");
-var TeamState = require("../../mixins/teamState");
-
-var EventNode = React.createClass({
-  mixins: [TeamState],
-
-  propTypes: {
-    group: PropTypes.Group.isRequired
-  },
-
-  makeGroupLink(title) {
-    var group = this.props.group;
-    var org = this.getOrganization();
-
-    var params = {
-      orgId: org.slug,
-      projectId: group.project.slug,
-      groupId: group.id
-    };
-
-    return (
-      <Router.Link to="groupDetails" params={params}>
-        {title}
-      </Router.Link>
-    );
-  },
-
-  render() {
-    var group = this.props.group;
-
-    var userCount = (group.tags["sentry:user"] !== undefined ?
-      userCount = group.tags["sentry:user"].count :
-      0);
-
-    return (
-      <li className="group">
-        <div className="row">
-          <div className="col-xs-8 event-details">
-            <h3>{this.makeGroupLink(group.title)}</h3>
-            <div className="event-message">{group.culprit}</div>
-            <div className="event-meta">
-              <span>First:</span>
-              <TimeSince date={group.firstSeen} className="first-seen"/>
-              &nbsp;&mdash;&nbsp;
-              <span>Last:</span>
-              <TimeSince date={group.lastSeen} className="last-seen"/>
-            </div>
-          </div>
-          <div className="col-xs-2 event-occurrences align-right">
-            <Count value={group.count} />
-          </div>
-          <div className="col-xs-2 event-users align-right">
-            <Count value={userCount} />
-          </div>
-        </div>
-      </li>
-    );
-  }
-});
-
-var EventList = React.createClass({
-  mixins: [
-    RouteMixin
-  ],
-
-  contextTypes: {
-    router: React.PropTypes.func
-  },
-
-  propTypes: {
-    title: React.PropTypes.string.isRequired,
-    endpoint: React.PropTypes.string.isRequired
-  },
-
-  getInitialState() {
-    return {
-      groupList: [],
-      loading: true,
-      error: false,
-      statsPeriod: "24h"
-    };
-  },
-
-  componentWillMount() {
-    this.fetchData();
-  },
-
-  routeDidChange(nextPath, nextParams) {
-    var router = this.context.router;
-    var params = router.getCurrentParams();
-    if (nextParams.teamId != params.teamId) {
-      this.fetchData();
-    }
-  },
-
-  componentDidUpdate(_, prevState) {
-    if (this.state.statsPeriod != prevState.statsPeriod) {
-      this.fetchData();
-    }
-  },
-
-  fetchData() {
-    this.setState({
-      loading: true,
-      error: false
-    });
-
-    var minutes;
-    switch(this.state.statsPeriod) {
-      case "15m":
-        minutes = "15";
-        break;
-      case "60m":
-        minutes = "60";
-        break;
-      case "24h":
-        minutes = "1440";
-        break;
-    }
-
-    api.request(this.props.endpoint, {
-      query: {
-        limit: 5,
-        minutes: minutes
-      },
-      success: (data) => {
-        this.setState({
-          groupList: data,
-          loading: false,
-          error: false
-        });
-      },
-      error: () => {
-        this.setState({
-          loading: false,
-          error: true
-        });
-      }
-    });
-  },
-
-  onSelectStatsPeriod(period) {
-    this.setState({
-      statsPeriod: period
-    });
-  },
-
-  render() {
-    var eventNodes = this.state.groupList.map((item) => {
-      return <EventNode group={item} key={item.id} />;
-    });
-
-    return (
-      <div className="box">
-        <div className="box-header clearfix">
-          <div className="row">
-            <div className="col-xs-8">
-              <h3>{this.props.title}</h3>
-            </div>
-            <div className="col-xs-2 align-right">Events</div>
-            <div className="col-xs-2 align-right">Users</div>
-          </div>
-        </div>
-        <div className="box-content">
-          <div className="tab-pane active">
-            {this.state.loading ?
-              <LoadingIndicator />
-            : (this.state.error ?
-              <LoadingError onRetry={this.fetchData} />
-            : (eventNodes.length ?
-              <ul className="group-list group-list-small">
-                {eventNodes}
-              </ul>
-            :
-              <div className="group-list-empty">No data available.</div>
-            ))}
-          </div>
-        </div>
-      </div>
-    );
-  }
-});
-
-module.exports = EventList;
diff --git a/src/sentry/static/sentry/app/views/teamDashboard/statsBar.jsx b/src/sentry/static/sentry/app/views/teamDashboard/statsBar.jsx
deleted file mode 100644
index 5383c198b5..0000000000
--- a/src/sentry/static/sentry/app/views/teamDashboard/statsBar.jsx
+++ /dev/null
@@ -1,30 +0,0 @@
-/*** @jsx React.DOM */
-
-var React = require("react");
-
-var TeamStatsBar = React.createClass({
-  render() {
-    return (
-      <div className="row team-stats">
-        <div className="col-md-3 stat-column">
-          <span className="count">323</span>
-          <span className="count-label">events seen</span>
-        </div>
-        <div className="col-md-3 stat-column">
-          <span className="count">137</span>
-          <span className="count-label">new events</span>
-        </div>
-        <div className="col-md-3 stat-column">
-          <span className="count">16</span>
-          <span className="count-label">releases</span>
-        </div>
-        <div className="col-md-3 stat-column align-right bad">
-          <span className="count">20%</span>
-          <span className="count-label">more than last week</span>
-        </div>
-      </div>
-    );
-  }
-});
-
-module.exports = TeamStatsBar;
diff --git a/src/sentry/static/sentry/app/views/teamDetails.jsx b/src/sentry/static/sentry/app/views/teamDetails.jsx
index bf5f5e41fd..da0175d639 100644
--- a/src/sentry/static/sentry/app/views/teamDetails.jsx
+++ b/src/sentry/static/sentry/app/views/teamDetails.jsx
@@ -71,11 +71,6 @@ var TeamDetails = React.createClass({
       loading: false,
       error: typeof team !== "undefined"
     });
-    if (typeof team !== "undefined") {
-      this.setBreadcrumbs([
-        {name: team.name, to: "teamDetails"}
-      ]);
-    }
   },
 
   render() {
diff --git a/src/sentry/templates/sentry/admin/teams/list.html b/src/sentry/templates/sentry/admin/teams/list.html
index 41a72b8786..6f3a7536d1 100644
--- a/src/sentry/templates/sentry/admin/teams/list.html
+++ b/src/sentry/templates/sentry/admin/teams/list.html
@@ -42,7 +42,6 @@
                         <tr>
                             <td>
                                 <a href="{% url 'sentry-manage-team' team.organization.slug team.slug %}"><strong>{{ team.slug }}</strong></a>
-                                <a href="{% url 'sentry-team-dashboard' team.organization.slug team.slug %}">[dashboard]</a><br/>
                             </td>
                             <td style="text-align:center; vertical-align:middle;">
                                 <em>{{ team.num_projects }}</em>
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index 3c3dbe99b3..feed936824 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -113,15 +113,10 @@
             <li>
               <a href="{% url 'sentry-organization-home' organization.slug %}">{{ organization.name }}</a>
             </li>
-            {% if team %}
+            {% if project %}
               <li>
-                <a href="{% url 'sentry-team-dashboard' team.organization.slug team.slug %}">{{ team.name }}</a>
+                <a href="{% url 'sentry-stream' project.organization.slug project.slug %}">{{ project.name }}</a>
               </li>
-              {% if project %}
-                <li>
-                  <a href="{% url 'sentry-stream' project.organization.slug project.slug %}">{{ project.name }}</a>
-                </li>
-              {% endif %}
             {% endif %}
           {% else %}
             <li>{% block heading %}{% endblock %}</li>
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 9f187b9863..c943bda260 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -403,9 +403,6 @@ urlpatterns += patterns('',
     url(r'^(?P<organization_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/$', ReactPageView.as_view(),
         name='sentry-stream'),
 
-    url(r'^(?P<organization_slug>[\w_-]+)/teams/(?P<team_slug>[\w_-]+)/$', ReactPageView.as_view(),
-        name='sentry-team-dashboard'),
-
     # Legacy
     url(r'^(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/$', groups.redirect_to_group,
         name='sentry-group'),
