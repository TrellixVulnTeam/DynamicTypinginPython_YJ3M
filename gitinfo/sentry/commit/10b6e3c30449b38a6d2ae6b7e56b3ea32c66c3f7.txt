commit 10b6e3c30449b38a6d2ae6b7e56b3ea32c66c3f7
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 7 02:21:10 2015 -0800

    Optimal queryset

diff --git a/src/sentry/migrations/0222_backfill_activity_org.py b/src/sentry/migrations/0222_backfill_activity_org.py
index bb21b4d641..0f4be606f6 100644
--- a/src/sentry/migrations/0222_backfill_activity_org.py
+++ b/src/sentry/migrations/0222_backfill_activity_org.py
@@ -12,7 +12,11 @@ class Migration(DataMigration):
 
         Activity = orm['sentry.Activity']
 
-        for activity in RangeQuerySetWrapper(Activity.objects.select_related('project')):
+        queryset = Activity.objects.filter(
+            organization__isnull=True,
+        ).select_related('project')
+
+        for activity in RangeQuerySetWrapper(queryset):
             Activity.objects.filter(
                 id=activity.id,
             ).update(organization=activity.project.organization_id)
