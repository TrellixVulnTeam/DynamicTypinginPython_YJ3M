commit 72172942beb0cdaa894a3071f96193eba020ca3d
Author: Mark Story <mark@sentry.io>
Date:   Thu May 28 13:35:18 2020 -0400

    ref(ui) Consolidate onboarding state styles (#19018)
    
    Use the same components for the releases & performance onboarding states.
    This new component may see more action in the future as onboarding
    states are revisited.

diff --git a/docs-ui/components/onboardingPanel.stories.js b/docs-ui/components/onboardingPanel.stories.js
new file mode 100644
index 0000000000..df7ae71571
--- /dev/null
+++ b/docs-ui/components/onboardingPanel.stories.js
@@ -0,0 +1,18 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+
+import {IconFire} from 'app/icons';
+import OnboardingPanel from 'app/components/onboardingPanel';
+
+storiesOf('UI|OnboardingPanel', module).add(
+  'default',
+  withInfo('Panel with icon image.')(() => {
+    return (
+      <OnboardingPanel image={<IconFire size="200px" />}>
+        <h3>A title</h3>
+        <p>Some content to show in the onboarding state.</p>
+      </OnboardingPanel>
+    );
+  })
+);
diff --git a/src/sentry/static/sentry/app/components/onboardingPanel.tsx b/src/sentry/static/sentry/app/components/onboardingPanel.tsx
new file mode 100644
index 0000000000..863352fb66
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/onboardingPanel.tsx
@@ -0,0 +1,43 @@
+import React from 'react';
+import styled from '@emotion/styled';
+
+import {Panel} from 'app/components/panels';
+import space from 'app/styles/space';
+
+type Props = React.PropsWithChildren<{
+  image: React.ReactNode;
+  className?: string;
+}>;
+
+function OnboardingPanel({className, image, children}: Props) {
+  return (
+    <Panel className={className}>
+      <Container>
+        <IllustrationContainer>{image}</IllustrationContainer>
+        <StyledBox>{children}</StyledBox>
+      </Container>
+    </Panel>
+  );
+}
+
+const Container = styled('div')`
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  flex-wrap: wrap;
+  min-height: 450px;
+  padding: ${space(1)} ${space(4)};
+`;
+
+const StyledBox = styled('div')`
+  flex: 1;
+  padding: ${space(3)};
+`;
+
+const IllustrationContainer = styled(StyledBox)`
+  display: flex;
+  align-items: center;
+  justify-content: center;
+`;
+
+export default OnboardingPanel;
diff --git a/src/sentry/static/sentry/app/views/performance/onboarding.tsx b/src/sentry/static/sentry/app/views/performance/onboarding.tsx
index 60936ced1d..0f25c32514 100644
--- a/src/sentry/static/sentry/app/views/performance/onboarding.tsx
+++ b/src/sentry/static/sentry/app/views/performance/onboarding.tsx
@@ -1,57 +1,28 @@
 import React from 'react';
-import styled from '@emotion/styled';
 
+import OnboardingPanel from 'app/components/onboardingPanel';
 import Button from 'app/components/button';
 import {IconLightning} from 'app/icons';
-import {Panel} from 'app/components/panels';
 import {t} from 'app/locale';
-import space from 'app/styles/space';
 
 function Onboarding() {
   return (
-    <Panel>
-      <Container>
-        <IllustrationContainer>
-          <IconLightning size="200px" />
-        </IllustrationContainer>
-        <StyledBox>
-          <h3>{t('No transactions yet')}</h3>
-          <p>
-            {t(
-              'View transactions sorted by slowest duration time, related issues, and number of users having a slow experience in one consolidated view. Trace those 10-second page loads to poor-performing API calls and its children.'
-            )}
-          </p>
-          <Button
-            priority="primary"
-            target="_blank"
-            href="https://docs.sentry.io/performance/distributed-tracing/#setting-up-tracing"
-          >
-            {t('Start Setup')}
-          </Button>
-        </StyledBox>
-      </Container>
-    </Panel>
+    <OnboardingPanel image={<IconLightning size="200px" />}>
+      <h3>{t('No transactions yet')}</h3>
+      <p>
+        {t(
+          'View transactions sorted by slowest duration time, related issues, and number of users having a slow experience in one consolidated view. Trace those 10-second page loads to poor-performing API calls and its children.'
+        )}
+      </p>
+      <Button
+        priority="primary"
+        target="_blank"
+        href="https://docs.sentry.io/performance/distributed-tracing/#setting-up-tracing"
+      >
+        {t('Start Setup')}
+      </Button>
+    </OnboardingPanel>
   );
 }
 
-const Container = styled('div')`
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  flex-wrap: wrap;
-  min-height: 450px;
-  padding: ${space(1)};
-`;
-
-const StyledBox = styled('div')`
-  flex: 1;
-  padding: ${space(3)};
-`;
-
-const IllustrationContainer = styled(StyledBox)`
-  display: flex;
-  align-items: center;
-  justify-content: center;
-`;
-
 export default Onboarding;
diff --git a/src/sentry/static/sentry/app/views/releases/list/releaseLanding.tsx b/src/sentry/static/sentry/app/views/releases/list/releaseLanding.tsx
index 6cbb7ceb7c..cd05d3dcfc 100644
--- a/src/sentry/static/sentry/app/views/releases/list/releaseLanding.tsx
+++ b/src/sentry/static/sentry/app/views/releases/list/releaseLanding.tsx
@@ -123,16 +123,12 @@ const ReleaseLanding = withOrganization(
         const card = this.getCard(stepId);
 
         return (
-          <div className="container">
-            <div className="row">
-              <ReleaseLandingCard
-                onClick={this.handleClick}
-                card={card}
-                step={stepId}
-                cardsLength={cards.length}
-              />
-            </div>
-          </div>
+          <ReleaseLandingCard
+            onClick={this.handleClick}
+            card={card}
+            step={stepId}
+            cardsLength={cards.length}
+          />
         );
       }
     }
diff --git a/src/sentry/static/sentry/app/views/releases/list/releaseLandingCard.jsx b/src/sentry/static/sentry/app/views/releases/list/releaseLandingCard.jsx
index 673d7aa216..a08cda59d0 100644
--- a/src/sentry/static/sentry/app/views/releases/list/releaseLandingCard.jsx
+++ b/src/sentry/static/sentry/app/views/releases/list/releaseLandingCard.jsx
@@ -2,6 +2,7 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import styled from '@emotion/styled';
 
+import OnboardingPanel from 'app/components/onboardingPanel';
 import space from 'app/styles/space';
 import {t} from 'app/locale';
 import Button from 'app/components/button';
@@ -29,51 +30,27 @@ class ReleaseLandingCard extends React.Component {
     const {card, cardsLength, step} = this.props;
     const finalStep = step === cardsLength - 1;
     return (
-      <Container>
-        <IllustrationContainer>
-          <CardComponentContainer>{card.svg}</CardComponentContainer>
-        </IllustrationContainer>
-
-        <StyledBox>
-          <h3>{card.title}</h3>
-          {card.disclaimer && <Disclaimer>{card.disclaimer}</Disclaimer>}
-          <p>{card.message}</p>
-          {finalStep ? (
-            <Button
-              href="https://docs.sentry.io/learn/releases/"
-              onClick={this.props.onClick}
-            >
-              {this.getMessage()}
-            </Button>
-          ) : (
-            <Button onClick={this.props.onClick}>{this.getMessage()}</Button>
-          )}
-        </StyledBox>
-      </Container>
+      <OnboardingPanel
+        image={<CardComponentContainer>{card.svg}</CardComponentContainer>}
+      >
+        <h3>{card.title}</h3>
+        {card.disclaimer && <Disclaimer>{card.disclaimer}</Disclaimer>}
+        <p>{card.message}</p>
+        {finalStep ? (
+          <Button
+            href="https://docs.sentry.io/learn/releases/"
+            onClick={this.props.onClick}
+          >
+            {this.getMessage()}
+          </Button>
+        ) : (
+          <Button onClick={this.props.onClick}>{this.getMessage()}</Button>
+        )}
+      </OnboardingPanel>
     );
   }
 }
 
-const Container = styled('div')`
-  display: flex;
-  align-items: center;
-  justify-content: center;
-  flex-wrap: wrap;
-  min-height: 450px;
-  padding: ${space(1)};
-`;
-
-const StyledBox = styled('div')`
-  flex: 1;
-  padding: ${space(3)};
-`;
-
-const IllustrationContainer = styled(StyledBox)`
-  display: flex;
-  align-items: center;
-  justify-content: center;
-`;
-
 const CardComponentContainer = styled('div')`
   width: 550px;
   height: 340px;
diff --git a/src/sentry/static/sentry/app/views/releasesV2/list/releasePromo.tsx b/src/sentry/static/sentry/app/views/releasesV2/list/releasePromo.tsx
index fac4b25e80..67c8e16c88 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/list/releasePromo.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/list/releasePromo.tsx
@@ -3,7 +3,6 @@ import React from 'react';
 import {t} from 'app/locale';
 import AsyncView from 'app/views/asyncView';
 import EmptyStateWarning from 'app/components/emptyStateWarning';
-import {Panel} from 'app/components/panels';
 import ReleaseLanding from 'app/views/releases/list/releaseLanding';
 
 type Props = {
@@ -25,11 +24,7 @@ class ReleasePromo extends AsyncView<Props> {
 
   renderBody() {
     if (this.state.releases.length === 0) {
-      return (
-        <Panel>
-          <ReleaseLanding />
-        </Panel>
-      );
+      return <ReleaseLanding />;
     }
 
     return <EmptyStateWarning small>{t('There are no releases.')}</EmptyStateWarning>;
