commit a16265a5c1fbf59aef8f66d0feff1373ea687253
Author: Billy Vong <billyvg@gmail.com>
Date:   Wed Jun 28 17:23:17 2017 -0700

    Remove create/join team buttons when no projects

diff --git a/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx b/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
index 0dcc6b723d..4d76cc8f44 100644
--- a/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
+++ b/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
@@ -276,10 +276,8 @@ const ProjectSelector = React.createClass({
   renderProjectList({organization: org, projects, filter, hasProjectWrite}) {
     const hasFilter = !!filter;
     const hasProjects = projects && projects.length;
-    const teams = org && org.teams;
-    const hasTeams = teams.length > 0;
     // Will always need to show divider
-    const showDivider = !hasFilter;
+    const showDivider = !hasFilter && hasProjectWrite;
 
     if (hasProjects) {
       return projects;
@@ -304,24 +302,6 @@ const ProjectSelector = React.createClass({
                 {t('Create project')}
               </a>
             </MenuItem>
-          : null,
-        !hasFilter && hasTeams
-          ? <MenuItem key="join-team" className="empty-projects-item" noAnchor>
-              <Link
-                className="btn btn-primary btn-block"
-                to={`${this.urlPrefix()}/all-teams/`}>
-                {t('Join team')}
-              </Link>
-            </MenuItem>
-          : null,
-        !hasFilter && (!hasTeams || hasProjectWrite)
-          ? <MenuItem key="create-team" className="empty-projects-item" noAnchor>
-              <Link
-                className="btn btn-primary btn-block"
-                to={`${this.urlPrefix()}/teams/new/`}>
-                {t('Create team')}
-              </Link>{' '}
-            </MenuItem>
           : null
       ];
     }
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index ebfc4b0e8a..d94d487c1c 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -1371,11 +1371,7 @@ table.integrations {
   &.is-empty {
     .dropdown-menu {
       li.empty-projects-item {
-        padding: 0 5px 5px;
-
-        &:last-child {
-          padding-bottom: 0;
-        }
+        padding: 0 5px;
 
         // need to override bootstrap for <a> in dropdown-menu
         a {
diff --git a/tests/js/spec/components/projectHeader/__snapshots__/projectSelector.spec.jsx.snap b/tests/js/spec/components/projectHeader/__snapshots__/projectSelector.spec.jsx.snap
index c54b50cbd1..988c726860 100644
--- a/tests/js/spec/components/projectHeader/__snapshots__/projectSelector.spec.jsx.snap
+++ b/tests/js/spec/components/projectHeader/__snapshots__/projectSelector.spec.jsx.snap
@@ -313,122 +313,7 @@ exports[`ProjectSelector render() lists projects and has filter 1`] = `
 </div>
 `;
 
-exports[`ProjectSelector render() should show empty message with no projects message and create team buttons, when no teams, no projects, and has no project:write access 1`] = `
-<div
-  className="project-select"
->
-  <h3>
-    <Link
-      className="home-crumb"
-      to="/org-slug/"
-    >
-      <span
-        className="icon-home"
-      />
-    </Link>
-    Select a project
-    <DropdownLink
-      caret={true}
-      disabled={false}
-      onClose={[Function]}
-      onOpen={[Function]}
-      title=""
-      topLevelClasses="project-dropdown is-empty"
-    >
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <div
-          className="empty-message"
-        >
-          You have no projects.
-        </div>
-      </MenuItem>
-      <MenuItem
-        divider={true}
-      />
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <Link
-          className="btn btn-primary btn-block"
-          to="/organizations/org-slug/teams/new/"
-        >
-          Create team
-        </Link>
-         
-      </MenuItem>
-    </DropdownLink>
-  </h3>
-</div>
-`;
-
-exports[`ProjectSelector render() should show empty message with no projects, create project, and create team buttons, when no teams, no projects, and has project:write access 1`] = `
-<div
-  className="project-select"
->
-  <h3>
-    <Link
-      className="home-crumb"
-      to="/org-slug/"
-    >
-      <span
-        className="icon-home"
-      />
-    </Link>
-    Select a project
-    <DropdownLink
-      caret={true}
-      disabled={false}
-      onClose={[Function]}
-      onOpen={[Function]}
-      title=""
-      topLevelClasses="project-dropdown is-empty"
-    >
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <div
-          className="empty-message"
-        >
-          You have no projects.
-        </div>
-      </MenuItem>
-      <MenuItem
-        divider={true}
-      />
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <a
-          className="btn btn-primary btn-block"
-          href="/organizations/org-slug/projects/new/"
-        >
-          Create project
-        </a>
-      </MenuItem>
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <Link
-          className="btn btn-primary btn-block"
-          to="/organizations/org-slug/teams/new/"
-        >
-          Create team
-        </Link>
-         
-      </MenuItem>
-    </DropdownLink>
-  </h3>
-</div>
-`;
-
-exports[`ProjectSelector render() should show empty message with no projects, create project, and create team buttons, when no teams, no projects, and has project:write access 2`] = `
+exports[`ProjectSelector render() should show empty message and create project button, when no projects and has "project:write" access 1`] = `
 <div
   className="project-select"
 >
@@ -474,24 +359,12 @@ exports[`ProjectSelector render() should show empty message with no projects, cr
           Create project
         </a>
       </MenuItem>
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <Link
-          className="btn btn-primary btn-block"
-          to="/organizations/org-slug/teams/new/"
-        >
-          Create team
-        </Link>
-         
-      </MenuItem>
     </DropdownLink>
   </h3>
 </div>
 `;
 
-exports[`ProjectSelector render() shows "Join team" only when a team exists 1`] = `
+exports[`ProjectSelector render() should show empty message with no projects button, when no projects, and has no "project:write" access 1`] = `
 <div
   className="project-select"
 >
@@ -523,20 +396,6 @@ exports[`ProjectSelector render() shows "Join team" only when a team exists 1`]
           You have no projects.
         </div>
       </MenuItem>
-      <MenuItem
-        divider={true}
-      />
-      <MenuItem
-        className="empty-projects-item"
-        noAnchor={true}
-      >
-        <Link
-          className="btn btn-primary btn-block"
-          to="/organizations/org-slug/all-teams/"
-        >
-          Join team
-        </Link>
-      </MenuItem>
     </DropdownLink>
   </h3>
 </div>
diff --git a/tests/js/spec/components/projectHeader/projectSelector.spec.jsx b/tests/js/spec/components/projectHeader/projectSelector.spec.jsx
index 80bb5dd777..af33536577 100644
--- a/tests/js/spec/components/projectHeader/projectSelector.spec.jsx
+++ b/tests/js/spec/components/projectHeader/projectSelector.spec.jsx
@@ -28,7 +28,7 @@ describe('ProjectSelector', function() {
     access: []
   };
   describe('render()', function() {
-    it('should show empty message with no projects message and create team buttons, when no teams, no projects, and has no project:write access', function() {
+    it('should show empty message with no projects button, when no projects, and has no "project:write" access', function() {
       let wrapper = shallow(
         <ProjectSelector
           organization={{
@@ -46,42 +46,7 @@ describe('ProjectSelector', function() {
       expect(toJson(wrapper)).toMatchSnapshot();
     });
 
-    it('should show empty message with no projects, create project, and create team buttons, when no teams, no projects, and has project:write access', function() {
-      let wrapper = shallow(
-        <ProjectSelector
-          organization={{
-            id: 'org',
-            slug: 'org-slug',
-            teams: [],
-            access: ['project:write']
-          }}
-          projectId=""
-        />,
-        {
-          context: {router: TestStubs.router()}
-        }
-      );
-      expect(toJson(wrapper)).toMatchSnapshot();
-    });
-
-    it('shows "Join team" only when a team exists', function() {
-      let wrapper = shallow(
-        <ProjectSelector
-          organization={{
-            id: 'org',
-            slug: 'org-slug',
-            teams: [{}]
-          }}
-          projectId=""
-        />,
-        {
-          context: {router: TestStubs.router()}
-        }
-      );
-      expect(toJson(wrapper)).toMatchSnapshot();
-    });
-
-    it('should show empty message with no projects, create project, and create team buttons, when no teams, no projects, and has project:write access', function() {
+    it('should show empty message and create project button, when no projects and has "project:write" access', function() {
       let wrapper = shallow(
         <ProjectSelector
           organization={{
