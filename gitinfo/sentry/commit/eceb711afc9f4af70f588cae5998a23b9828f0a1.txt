commit eceb711afc9f4af70f588cae5998a23b9828f0a1
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 23 12:55:55 2014 -0800

    Minor tweaks to EventManager.save

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index 07842d6e47..d0630edf7b 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -303,7 +303,6 @@ class EventManager(object):
             event=event,
             tags=tags,
             hashes=hashes,
-            _with_transaction=False,
             **group_kwargs
         )
         if result is None:
@@ -315,6 +314,9 @@ class EventManager(object):
 
         event.group = group
 
+        # Rounded down to the nearest interval
+        safe_execute(Group.objects.add_tags, group, tags)
+
         # save the event unless its been sampled
         if not is_sample:
             try:
@@ -449,13 +451,6 @@ class EventManager(object):
         else:
             is_sample = True
 
-        # We need to commit because the queue can run too fast and hit
-        # an issue with the group not existing before the buffers run
-        transaction.commit(using=group._state.db)
-
-        # Rounded down to the nearest interval
-        safe_execute(Group.objects.add_tags, group, tags)
-
         tsdb.incr_multi([
             (tsdb.models.group, group.id),
             (tsdb.models.project, project.id),
@@ -486,8 +481,6 @@ class EventManager(object):
                 active_at__gte=date - timedelta(seconds=5),
             ).update(active_at=date, status=GroupStatus.UNRESOLVED))
 
-            transaction.commit(using=group._state.db)
-
             group.active_at = date
             group.status = GroupStatus.UNRESOLVED
 
