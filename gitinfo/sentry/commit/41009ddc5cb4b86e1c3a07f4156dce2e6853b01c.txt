commit 41009ddc5cb4b86e1c3a07f4156dce2e6853b01c
Author: Mark Story <mark@sentry.io>
Date:   Mon Feb 24 16:46:05 2020 -0500

    ref(ui) Remove redundant prop from EventEntries (#17251)

diff --git a/src/sentry/static/sentry/app/components/events/eventEntries.jsx b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
index 45b102c88b..9d53f2be3a 100644
--- a/src/sentry/static/sentry/app/components/events/eventEntries.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
@@ -57,13 +57,16 @@ export const INTERFACES = {
 
 class EventEntries extends React.Component {
   static propTypes = {
-    // organization is not provided in the shared issue view
-    organization: SentryTypes.Organization,
+    // Custom shape because shared view doesn't get id.
+    organization: PropTypes.shape({
+      id: PropTypes.string,
+      slug: PropTypes.string.isRequired,
+      features: PropTypes.arrayOf(PropTypes.string),
+    }),
     // event is not guaranteed in shared issue view
     event: SentryTypes.Event,
 
     group: SentryTypes.Group,
-    orgId: PropTypes.string.isRequired,
     project: PropTypes.object.isRequired,
     // TODO(dcramer): ideally isShare would be replaced with simple permission
     // checks
@@ -177,13 +180,13 @@ class EventEntries extends React.Component {
       isShare,
       project,
       event,
-      orgId,
       showExampleCommit,
       showTagSummary,
       location,
     } = this.props;
 
-    const features = organization ? new Set(organization.features) : new Set();
+    const features =
+      organization && organization.features ? new Set(organization.features) : new Set();
 
     if (!event) {
       return (
@@ -202,12 +205,16 @@ class EventEntries extends React.Component {
           (showExampleCommit ? (
             <EventCauseEmpty organization={organization} project={project} />
           ) : (
-            <EventCause event={event} orgId={orgId} projectId={project.slug} />
+            <EventCause
+              event={event}
+              orgId={organization.slug}
+              projectId={project.slug}
+            />
           ))}
         {event.userReport && group && (
           <StyledEventUserFeedback
             report={event.userReport}
-            orgId={orgId}
+            orgId={organization.slug}
             issueId={group.id}
             includeBorder={!hasErrors}
           />
@@ -216,13 +223,17 @@ class EventEntries extends React.Component {
         {showTagSummary && (
           <EventTags
             event={event}
-            orgId={orgId}
+            orgId={organization.slug}
             projectId={project.slug}
             location={location}
           />
         )}
         {!isShare && features.has('event-attachments') && (
-          <RRWebIntegration event={event} orgId={orgId} projectId={project.slug} />
+          <RRWebIntegration
+            event={event}
+            orgId={organization.slug}
+            projectId={project.slug}
+          />
         )}
         {this.renderEntries()}
         {hasContext && <EventContexts group={group} event={event} />}
@@ -230,7 +241,11 @@ class EventEntries extends React.Component {
         {!objectIsEmpty(event.packages) && <EventPackageData event={event} />}
         {!objectIsEmpty(event.device) && <EventDevice event={event} />}
         {!isShare && features.has('event-attachments') && (
-          <EventAttachments event={event} orgId={orgId} projectId={project.slug} />
+          <EventAttachments
+            event={event}
+            orgId={organization.slug}
+            projectId={project.slug}
+          />
         )}
         {!objectIsEmpty(event.sdk) && <EventSdk event={event} />}
         {!isShare && event.sdkUpdates && event.sdkUpdates.length > 0 && (
diff --git a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
index be345563c1..88e6a51df9 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
@@ -170,7 +170,6 @@ class EventDetailsContent extends AsyncComponent<Props, State> {
               {({projects}) => (
                 <StyledEventEntries
                   organization={organization}
-                  orgId={organization.slug}
                   event={event}
                   project={projects[0]}
                   location={location}
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
index 4dae42a307..2c46f0305d 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
@@ -213,7 +213,7 @@ class GroupEventDetails extends React.Component<Props, State> {
               <EventEntries
                 group={group}
                 event={evt}
-                orgId={organization.slug}
+                organization={organization}
                 project={project}
                 location={location}
                 showExampleCommit={this.showExampleCommit}
diff --git a/src/sentry/static/sentry/app/views/sharedGroupDetails/index.jsx b/src/sentry/static/sentry/app/views/sharedGroupDetails/index.jsx
index 6febbf925c..7e7574a608 100644
--- a/src/sentry/static/sentry/app/views/sharedGroupDetails/index.jsx
+++ b/src/sentry/static/sentry/app/views/sharedGroupDetails/index.jsx
@@ -121,9 +121,9 @@ const SharedGroupDetails = createReactClass({
                 <SharedGroupHeader group={group} />
                 <Container className="group-overview event-details-container">
                   <BorderlessEventEntries
+                    organization={group.project.organization}
                     group={group}
                     event={evt}
-                    orgId={group.project.organization.slug}
                     project={group.project}
                     isShare
                   />
diff --git a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
index 4946c64dfa..fe585fd77f 100644
--- a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
@@ -320,7 +320,11 @@ exports[`SharedGroupDetails renders 1`] = `
                         }
                       }
                       isShare={true}
-                      orgId="test-org"
+                      organization={
+                        Object {
+                          "slug": "test-org",
+                        }
+                      }
                       project={
                         Object {
                           "environments": Array [],
@@ -457,7 +461,11 @@ exports[`SharedGroupDetails renders 1`] = `
                           }
                         }
                         isShare={true}
-                        orgId="test-org"
+                        organization={
+                          Object {
+                            "slug": "test-org",
+                          }
+                        }
                         project={
                           Object {
                             "environments": Array [],
@@ -533,7 +541,7 @@ exports[`SharedGroupDetails renders 1`] = `
                             }
                             isShare={true}
                             key="entry-0"
-                            orgId={null}
+                            orgId="test-org"
                             projectId="project-slug"
                             type="message"
                           >
