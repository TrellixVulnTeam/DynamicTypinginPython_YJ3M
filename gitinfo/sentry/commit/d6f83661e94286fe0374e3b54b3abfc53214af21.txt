commit d6f83661e94286fe0374e3b54b3abfc53214af21
Author: David Cramer <dcramer@gmail.com>
Date:   Thu May 10 13:26:27 2012 -0500

    Correct some invalid behavior introduced in f31c18c5ddca054ce87c211da9f39b661087acc4 (refs GH-483)

diff --git a/sentry/web/forms/fields.py b/sentry/web/forms/fields.py
index 94f383a449..6ef4e4fc67 100644
--- a/sentry/web/forms/fields.py
+++ b/sentry/web/forms/fields.py
@@ -31,8 +31,8 @@ class UserField(CharField):
                 attrs = {}
             if 'placeholder' not in attrs:
                 attrs['placeholder'] = 'username'
-            if not isinstance(value, User):
-                value = unicode(User.objects.get(pk=value))
+            if isinstance(value, (int, long)):
+                value = User.objects.get(pk=value).username
             return super(UserField.widget, self).render(name, value, attrs)
 
     def clean(self, value):
diff --git a/sentry/web/frontend/projects.py b/sentry/web/frontend/projects.py
index 543b9aa632..5f8e56f1b0 100644
--- a/sentry/web/frontend/projects.py
+++ b/sentry/web/frontend/projects.py
@@ -106,7 +106,7 @@ def manage_project(request, project):
 
     form = form_cls(request, team_list, request.POST or None, instance=project, initial={
         'origins': '\n'.join(get_option('sentry:origins', project) or []),
-        'owner': project.owner.username,
+        'owner': project.owner,
     })
 
     if form.is_valid():
