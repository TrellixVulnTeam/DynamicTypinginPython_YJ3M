commit 4dd9f2bfe7c9f94c1f4fb5b8ac9bf40f843f1264
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 8 14:55:33 2015 -0800

    Run south migrations in Travis

diff --git a/.travis.yml b/.travis.yml
index c5c3937e35..911ac87471 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -20,6 +20,7 @@ env:
     - TEST_SUITE=js
     - TEST_SUITE=cli
   global:
+    - USE_SOUTH=1
     - SENTRY_LIGHT_BUILD=1
     - SENTRY_SKIP_BACKEND_VALIDATION=1
 install:
diff --git a/setup.cfg b/setup.cfg
index bf8a02c740..000c1fb9bf 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -1,7 +1,7 @@
 [pytest]
-python_files=test*.py
-addopts=--tb=native -p no:doctest
-norecursedirs=bin dist docs	htmlcov script hooks node_modules .* {args}
+python_files = test*.py
+addopts = --tb=native -p no:doctest
+norecursedirs = bin dist docs htmlcov script hooks node_modules .* {args}
 
 [flake8]
 ignore = F999,E501,E128,E124,E402,W503,E731,C901
diff --git a/setup.py b/setup.py
index 408c0715df..e2cbadf465 100755
--- a/setup.py
+++ b/setup.py
@@ -111,7 +111,7 @@ install_requires = [
     'progressbar>=2.2,<2.4',
     'psycopg2>=2.5.0,<2.6.0',
     'pytest>=2.6.4,<2.7.0',
-    'pytest-django>=2.6.0,<2.7.0',
+    'pytest-django>=2.9.1,<2.10.0',
     'python-dateutil>=2.0.0,<3.0.0',
     'python-memcached>=1.53,<2.0.0',
     'PyYAML>=3.11,<4.0',
diff --git a/src/sentry/utils/pytest.py b/src/sentry/utils/pytest.py
index fa8cb68201..830dfbbdfa 100644
--- a/src/sentry/utils/pytest.py
+++ b/src/sentry/utils/pytest.py
@@ -93,7 +93,7 @@ def pytest_configure(config):
     }
 
     # Disable South in tests as it is sending incorrect create signals
-    settings.SOUTH_TESTS_MIGRATE = False
+    settings.SOUTH_TESTS_MIGRATE = bool(os.environ.get('USE_SOUTH'))
 
     # django mail uses socket.getfqdn which doesn't play nice if our
     # networking isn't stable
