commit 312635c9f183eaf51b63dfd9a0f1fa4e4e2f2fae
Author: John Manhart <manhartjohn@gmail.com>
Date:   Thu Aug 8 11:10:08 2019 -0500

    ref(ui): Migrating the pill component from less to emotion. (#14266)
    
    * Initial work on moving the pill & pills component from .less styles
    
    * Ref work on the pill component adding in styles from the theme file ready for WIP PR
    
    * Moving the pill and pills components from .less to emotion. Applying re-usable values from the theme file as well.
    
    * Refactoring the Pill and Pills component after team feedback

diff --git a/src/sentry/static/sentry/app/components/pill.jsx b/src/sentry/static/sentry/app/components/pill.jsx
index 25f52ebd03..b2ecc68fe7 100644
--- a/src/sentry/static/sentry/app/components/pill.jsx
+++ b/src/sentry/static/sentry/app/components/pill.jsx
@@ -1,10 +1,10 @@
 import PropTypes from 'prop-types';
 import React from 'react';
-import classNames from 'classnames';
+import styled from 'react-emotion';
+import space from 'app/styles/space';
 
 class Pill extends React.Component {
   static propTypes = {
-    className: PropTypes.string,
     name: PropTypes.string,
     value: PropTypes.any,
   };
@@ -29,19 +29,83 @@ class Pill extends React.Component {
   };
 
   render() {
-    const {name, children, className, ...props} = this.props;
+    const {name, children, ...props} = this.props;
     const [extraClass, renderedValue] = this.renderValue();
-
     return (
-      <li className={classNames(className, extraClass)} {...props}>
-        <span className="key">{name}</span>
-        <span className="value">
+      <StyledPill {...props}>
+        <PillName>{name}</PillName>
+        <PillValue type={extraClass}>
           {renderedValue}
           {children}
-        </span>
-      </li>
+        </PillValue>
+      </StyledPill>
     );
   }
 }
 
+const StyledPill = styled('li')`
+  white-space: nowrap;
+  margin: 0 10px 10px 0;
+  display: flex;
+  border: 1px solid ${p => p.theme.gray1};
+  border-radius: ${p => p.theme.button.borderRadius};
+  box-shadow: ${p => p.theme.dropShadowLightest};
+  line-height: 1.2;
+  max-width: 100%;
+  &:last-child {
+    margin-right: 0;
+  }
+`;
+
+const PillName = styled('span')`
+  padding: ${space(0.5)} ${space(1)};
+  min-width: 0;
+  white-space: nowrap;
+`;
+
+const PillValue = styled(PillName)`
+
+  /* .true - good values */
+  ${p =>
+    p.type === 'true' &&
+    `
+    background: ${p.theme.greenLightest};
+    border: 1px solid ${p.theme.green};
+    margin: -1px;
+  `}
+
+  /* .false - error values */
+  ${p =>
+    p.type === 'false' &&
+    `
+    background: ${p.theme.redLightest};
+    border: 1px solid ${p.theme.red};
+    margin: -1px;
+  `}
+
+  background: ${p => p.theme.whiteDark};
+  border-left: 1px solid ${p => p.theme.gray1};
+  border-radius: 0 ${p => p.theme.button.borderRadius} ${p =>
+  p.theme.button.borderRadius} 0;
+  font-family: ${p => p.theme.text.familyMono};
+  max-width: 100%;
+  > a {
+    max-width: 100%;
+    text-overflow: ellipsis;
+    overflow: hidden;
+    white-space: nowrap;
+    display: inline-block;
+    vertical-align: text-bottom;
+  }
+  .external-icon {
+    display: inline;
+    margin: 0 0 0 ${space(1)};
+    color: ${p => p.theme.gray2};
+    line-height: 1.2;
+    &:hover {
+      color: ${p => p.theme.gray4};
+    }
+  }
+`;
+
 export default Pill;
diff --git a/src/sentry/static/sentry/app/components/pills.jsx b/src/sentry/static/sentry/app/components/pills.jsx
index 05d3553ff1..8dc833b885 100644
--- a/src/sentry/static/sentry/app/components/pills.jsx
+++ b/src/sentry/static/sentry/app/components/pills.jsx
@@ -1,15 +1,9 @@
-import React from 'react';
-import classNames from 'classnames';
+import styled from 'react-emotion';
 
-class Pills extends React.Component {
-  render() {
-    const {className, children, ...otherProps} = this.props;
-    return (
-      <div className={classNames('pills', className)} {...otherProps}>
-        {children}
-      </div>
-    );
-  }
-}
+const Pills = styled('div')`
+  display: flex;
+  flex-wrap: wrap;
+  font-size: ${p => p.theme.fontSizeSmall};
+`;
 
 export default Pills;
diff --git a/src/sentry/static/sentry/app/utils/theme.tsx b/src/sentry/static/sentry/app/utils/theme.tsx
index 8033969717..836b4b845a 100644
--- a/src/sentry/static/sentry/app/utils/theme.tsx
+++ b/src/sentry/static/sentry/app/utils/theme.tsx
@@ -64,6 +64,7 @@ const colors = {
   headerSelectorRowHeight: 44,
   headerSelectorLabelHeight: 28,
 
+  dropShadowLightest: '0 1px 2px rgba(0, 0, 0, 0.04)',
   dropShadowLight: '0 2px 0 rgba(37, 11, 54, 0.04)',
   dropShadowHeavy: '0 1px 4px 1px rgba(47,40,55,0.08), 0 4px 16px 0 rgba(47,40,55,0.12)',
 
diff --git a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
index d033f5bb46..26daf2bca0 100644
--- a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
@@ -320,6 +320,7 @@ exports[`Sentry App Installations when Apps exist displays all Apps owned by the
                                       "disabled": "#BDB4C7",
                                       "dropShadowHeavy": "0 1px 4px 1px rgba(47,40,55,0.08), 0 4px 16px 0 rgba(47,40,55,0.12)",
                                       "dropShadowLight": "0 2px 0 rgba(37, 11, 54, 0.04)",
+                                      "dropShadowLightest": "0 1px 2px rgba(0, 0, 0, 0.04)",
                                       "error": "#e03e2f",
                                       "fontSizeExtraLarge": "18px",
                                       "fontSizeLarge": "16px",
@@ -597,6 +598,7 @@ exports[`Sentry App Installations when Apps exist displays all Apps owned by the
                                               "disabled": "#BDB4C7",
                                               "dropShadowHeavy": "0 1px 4px 1px rgba(47,40,55,0.08), 0 4px 16px 0 rgba(47,40,55,0.12)",
                                               "dropShadowLight": "0 2px 0 rgba(37, 11, 54, 0.04)",
+                                              "dropShadowLightest": "0 1px 2px rgba(0, 0, 0, 0.04)",
                                               "error": "#e03e2f",
                                               "fontSizeExtraLarge": "18px",
                                               "fontSizeLarge": "16px",
