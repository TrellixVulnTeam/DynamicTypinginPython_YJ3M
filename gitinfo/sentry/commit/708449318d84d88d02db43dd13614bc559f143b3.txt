commit 708449318d84d88d02db43dd13614bc559f143b3
Author: Eric Feng <eric@getsentry.com>
Date:   Mon Feb 29 18:03:35 2016 -0800

    fixing lack of imports and treating onboarding tasks as set, to compensate for non-required, but completed onboarding tasks

diff --git a/src/sentry/migrations/0240_fill_onboarding_option.py b/src/sentry/migrations/0240_fill_onboarding_option.py
index 82c4395c8c..908a0bc0ff 100644
--- a/src/sentry/migrations/0240_fill_onboarding_option.py
+++ b/src/sentry/migrations/0240_fill_onboarding_option.py
@@ -4,6 +4,7 @@ from south.db import db
 from south.v2 import DataMigration
 from django.db import models, IntegrityError, transaction
 from django.db.models import Q
+from django.utils import timezone
 
 class Migration(DataMigration):
 
@@ -19,7 +20,7 @@ class Migration(DataMigration):
 
         for organization in RangeQuerySetWrapperWithProgressBar(queryset):
             completed = list(OrganizationOnboardingTask.objects.filter(Q(organization=organization) & (Q(status=OnboardingTaskStatus.COMPLETE) | Q(status=OnboardingTaskStatus.SKIPPED))).values_list('task', flat=True))
-            if sorted(completed) == OnboardingTask.REQUIRED_ONBOARDING_TASKS:
+            if set(completed).issuperset(set(OnboardingTask.REQUIRED_ONBOARDING_TASKS)):
                 try:
                     with transaction.atomic():
                         OrganizationOption.objects.create(
diff --git a/src/sentry/receivers/onboarding.py b/src/sentry/receivers/onboarding.py
index be13a778bc..5608c7f41b 100644
--- a/src/sentry/receivers/onboarding.py
+++ b/src/sentry/receivers/onboarding.py
@@ -29,7 +29,7 @@ def check_for_onboarding_complete(organization):
         return
 
     completed = list(OrganizationOnboardingTask.objects.filter(Q(organization=organization) & (Q(status=OnboardingTaskStatus.COMPLETE) | Q(status=OnboardingTaskStatus.SKIPPED))).values_list('task', flat=True))
-    if sorted(completed) == OnboardingTask.REQUIRED_ONBOARDING_TASKS:
+    if set(completed).issuperset(set(OnboardingTask.REQUIRED_ONBOARDING_TASKS)):
         try:
             with transaction.atomic():
                 OrganizationOption.objects.create(
