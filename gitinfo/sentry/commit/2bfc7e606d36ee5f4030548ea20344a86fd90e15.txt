commit 2bfc7e606d36ee5f4030548ea20344a86fd90e15
Author: Max Bittker <maxbittker@gmail.com>
Date:   Mon Feb 26 17:14:49 2018 -0800

    fix(actor) assignee selector followup (#7372)
    
    throw a distinct on the project member endpoint, and use real user objects for as

diff --git a/src/sentry/api/endpoints/project_member_index.py b/src/sentry/api/endpoints/project_member_index.py
index 090052085b..2def55e582 100644
--- a/src/sentry/api/endpoints/project_member_index.py
+++ b/src/sentry/api/endpoints/project_member_index.py
@@ -14,7 +14,7 @@ class ProjectMemberIndexEndpoint(ProjectEndpoint):
             Q(user__is_active=True) | Q(user__isnull=True),
             organization=project.organization,
             teams=project.teams.all(),
-        ).select_related('user')
+        ).select_related('user').distinct()
 
         member_list = sorted(
             queryset, key=lambda x: x.user.get_display_name() if x.user_id else x.email
diff --git a/src/sentry/static/sentry/app/components/assigneeSelector.jsx b/src/sentry/static/sentry/app/components/assigneeSelector.jsx
index 05e0f2baee..eafdee129d 100644
--- a/src/sentry/static/sentry/app/components/assigneeSelector.jsx
+++ b/src/sentry/static/sentry/app/components/assigneeSelector.jsx
@@ -231,9 +231,9 @@ const AssigneeSelector = createReactClass({
         </li>
       );
 
-    let tooltipTitle = assignedTo ? userDisplayName(assignedTo) : null;
-
-    // Outter div is needed to make tooltip work
+    let assignedUser = assignedTo && MemberListStore.getById(assignedTo.id);
+    let tooltipTitle = assignedUser ? userDisplayName(assignedUser) : null;
+    // Outer div is needed to make tooltip work
     return (
       <div>
         <div className={classNames(className, 'tip')} title={tooltipTitle}>
@@ -248,7 +248,7 @@ const AssigneeSelector = createReactClass({
               alwaysRenderMenu={false}
               title={
                 assignedTo ? (
-                  <Avatar user={assignedTo} className="avatar" size={48} />
+                  <Avatar user={assignedUser} className="avatar" size={48} />
                 ) : (
                   <span className="icon-user" />
                 )
