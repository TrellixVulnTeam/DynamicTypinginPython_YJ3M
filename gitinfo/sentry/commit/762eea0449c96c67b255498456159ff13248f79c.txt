commit 762eea0449c96c67b255498456159ff13248f79c
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 16 14:42:36 2015 -0700

    Support release keyword and expand tests

diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
index 0be0583381..60e1dfad44 100644
--- a/src/sentry/search/utils.py
+++ b/src/sentry/search/utils.py
@@ -53,6 +53,8 @@ def parse_query(query, user):
                     results['assigned_to'] = User(id=0)
         elif key == 'first-release':
             results['first_release'] = value
+        elif key == 'release':
+            results['tags']['sentry:release'] = value
         else:
             results['tags'][key] = value
 
diff --git a/tests/sentry/search/test_utils.py b/tests/sentry/search/test_utils.py
index 055cd2a9e9..82548ffacc 100644
--- a/tests/sentry/search/test_utils.py
+++ b/tests/sentry/search/test_utils.py
@@ -53,3 +53,11 @@ class ParseQueryTest(TestCase):
     def test_assigned_unknown_user(self):
         result = parse_query('assigned:fake@example.com', self.user)
         assert result['assigned_to'].id == 0
+
+    def test_first_release(self):
+        result = parse_query('first-release:bar', self.user)
+        assert result == {'first_release': 'bar', 'tags': {}, 'query': ''}
+
+    def test_release(self):
+        result = parse_query('release:bar', self.user)
+        assert result == {'tags': {'sentry:release': 'bar'}, 'query': ''}
