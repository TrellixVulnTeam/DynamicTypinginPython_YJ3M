commit b2301379eab76db8960a91344600c3ace993f99a
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 9 21:32:10 2015 -0700

    Move organization home to React

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 0552c6e8ff..a559ebe53d 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -12,6 +12,7 @@ var GroupTags = require("./views/groupTags");
 var GroupTagValues = require("./views/groupTagValues");
 var GroupOverview = require("./views/groupOverview");
 var OrganizationDetails = require("./views/organizationDetails");
+var OrganizationTeams = require("./views/organizationTeams");
 var ProjectDetails = require("./views/projectDetails");
 var PropTypes = require("./proptypes");
 var Stream = require("./views/stream");
@@ -21,6 +22,7 @@ var TeamDetails = require("./views/teamDetails");
 var routes = (
   <Route name="app" path="/" handler={App}>
     <Route name="organizationDetails" path="/:orgId/" handler={OrganizationDetails}>
+      <DefaultRoute name="organizationTeams" handler={OrganizationTeams} />
       <Route name="teamDetails" path="teams/:teamId/" handler={TeamDetails}>
         <DefaultRoute name="teamDashboard" handler={TeamDashboard} />
       </Route>
diff --git a/src/sentry/static/sentry/app/views/organizationTeams.jsx b/src/sentry/static/sentry/app/views/organizationTeams.jsx
new file mode 100644
index 0000000000..3aff8eeb50
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/organizationTeams.jsx
@@ -0,0 +1,71 @@
+/*** @jsx React.DOM */
+
+var React = require("react");
+
+var OrganizationState = require("../mixins/organizationState");
+
+var OrganizationTeams = React.createClass({
+  mixins: [OrganizationState],
+
+  render() {
+    var org = this.getOrganization();
+
+    if (org.teams.length === 0) {
+      return (
+        <div>
+          <h3>Teams</h3>
+          <p>You dont have any teams for this organization yet. Get started by <a href="#">creating your first team</a>.</p>
+        </div>
+      );
+    }
+
+    return (
+      <div>
+        <h3>Teams</h3>
+        {org.teams.map((team, teamIdx) => {
+          var teamRouteParams = {
+            orgId: org.slug,
+            teamId: team.slug
+          };
+          return (
+            <div class="box" key={team.slug}>
+              <div class="box-header">
+                <div class="pull-right actions">
+                  <a href="#"><span class="icon-settings"></span> Team Settings</a>
+                </div>
+                <h3>
+                  <Router.Link
+                    to="teamDetails"
+                    params={teamRouteParams}>{team.name}</Router.Link>
+                </h3>
+              </div>
+              <div class="box-content with-padding">
+                <ul class="projects">
+                  {team.projects.map((project) => {
+                    // <p>There are no projects in this team. Would you like to <a href="#">create a project</a>?</p>
+                    var projectRouteParams = {
+                      orgId: org.slug,
+                      projectId: project.slug
+                    };
+
+                    return (
+                      <li key={project.slug}>
+                        <Router.Link
+                            to="projectDetails"
+                            params={projectRouteParams}>
+                          {project.name}
+                        </Router.Link>
+                      </li>
+                    );
+                  })}
+                </ul>
+              </div>
+            </div>
+          );
+        })}
+      </div>
+    );
+  }
+});
+
+module.exports = OrganizationTeams;
diff --git a/src/sentry/templates/sentry/organization-home.html b/src/sentry/templates/sentry/organization-home.html
deleted file mode 100644
index 07f0220563..0000000000
--- a/src/sentry/templates/sentry/organization-home.html
+++ /dev/null
@@ -1,37 +0,0 @@
-{% extends "sentry/bases/organization.html" %}
-
-{% load i18n %}
-
-{% block org_teams_nav %}active{% endblock %}
-
-{% block inner %}
-  <h3>Teams</h3>
-  {% if not team_list %}
-    <p>You don't have any teams for this organization yet. Get started by <a href="{% url 'sentry-create-team' organization.slug %}">creating your first team</a>.</p>
-  {% else %}
-
-      {% for team, project_list in team_list %}
-        <div class="box">
-          <div class="box-header">
-            <div class="pull-right actions">
-              <a href="{% url 'sentry-manage-team' organization.slug team.slug %}"><span class="icon-settings"></span> Team Settings</a>
-            </div>
-            <h3><a href="{% url 'sentry-team-dashboard' organization.slug team.slug %}">{{ team.name }}</a></h3>
-
-          </div>
-          <div class="box-content with-padding">
-            {% if not project_list %}
-              <p>There are no projects in this team. Would you like to <a href="{% url 'sentry-create-project' organization.slug %}?team={{ team.slug }}">create a project</a>?</p>
-            {% else %}
-              <ul class="teams">
-                {% for project in project_list %}
-                  <li><a href="{% url 'sentry-stream' organization.slug project.slug %}">{{ project.name }}</a></li>
-                {% endfor %}
-              </ul>
-            {% endif %}
-          </div>
-        </div>
-      {% endfor %}
-
-  {% endif %}
-{% endblock %}
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 027ad290cf..ecf7a72725 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -45,7 +45,6 @@ from sentry.web.frontend.help_platform_index import HelpPlatformIndexView
 from sentry.web.frontend.mailgun_inbound_webhook import MailgunInboundWebhookView
 from sentry.web.frontend.organization_audit_log import OrganizationAuditLogView
 from sentry.web.frontend.organization_auth_settings import OrganizationAuthSettingsView
-from sentry.web.frontend.organization_home import OrganizationHomeView
 from sentry.web.frontend.organization_members import OrganizationMembersView
 from sentry.web.frontend.organization_member_settings import OrganizationMemberSettingsView
 from sentry.web.frontend.organization_stats import OrganizationStatsView
@@ -154,7 +153,7 @@ urlpatterns += patterns('',
         name='sentry-help-platform'),
 
     # Organizations
-    url(r'^(?P<organization_slug>[\w_-]+)/$', OrganizationHomeView.as_view(),
+    url(r'^(?P<organization_slug>[\w_-]+)/$', ReactPageView.as_view(),
         name='sentry-organization-home'),
     url(r'^organizations/new/$', CreateOrganizationView.as_view(),
         name='sentry-create-organization'),
