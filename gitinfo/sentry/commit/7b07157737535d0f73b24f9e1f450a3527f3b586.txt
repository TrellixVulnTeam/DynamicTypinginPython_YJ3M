commit 7b07157737535d0f73b24f9e1f450a3527f3b586
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jul 13 14:54:58 2015 -0700

    Remove (broken) support for using project slugs in store API

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 6a5ee61897..6c943292f2 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -94,17 +94,12 @@ class Auth(object):
 
 class APIView(BaseView):
     def _get_project_from_id(self, project_id):
-        if project_id:
-            if project_id.isdigit():
-                lookup_kwargs = {'id': int(project_id)}
-            else:
-                lookup_kwargs = {'slug': project_id}
-
-            try:
-                return Project.objects.get_from_cache(**lookup_kwargs)
-            except Project.DoesNotExist:
-                raise APIError('Invalid project_id: %r' % project_id)
-        return None
+        if not project_id:
+            return
+        try:
+            return Project.objects.get_from_cache(id=project_id)
+        except Project.DoesNotExist:
+            raise APIError('Invalid project_id: %r' % project_id)
 
     def _parse_header(self, request, project):
         try:
diff --git a/tests/sentry/web/api/tests.py b/tests/sentry/web/api/tests.py
index 83c6026306..e33e0ae22a 100644
--- a/tests/sentry/web/api/tests.py
+++ b/tests/sentry/web/api/tests.py
@@ -15,7 +15,7 @@ from sentry.utils import json
 class StoreViewTest(TestCase):
     @fixture
     def path(self):
-        return reverse('sentry-api-store', kwargs={'project_id': self.project.slug})
+        return reverse('sentry-api-store', kwargs={'project_id': self.project.id})
 
     @mock.patch('sentry.web.api.StoreView._parse_header')
     @mock.patch('sentry.web.api.project_from_auth_vars')
