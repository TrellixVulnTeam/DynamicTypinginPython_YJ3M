commit c678d7fb0d853721883e5811ca11d51e996c7e25
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Mar 11 20:30:52 2016 +0100

    Switched over to ranged query set for group update

diff --git a/src/sentry/migrations/0242_prefill_callsigns.py b/src/sentry/migrations/0242_prefill_callsigns.py
index 66f831a69e..f80fa48cba 100644
--- a/src/sentry/migrations/0242_prefill_callsigns.py
+++ b/src/sentry/migrations/0242_prefill_callsigns.py
@@ -42,7 +42,8 @@ def get_callsigns(projects):
 class Migration(DataMigration):
 
     def forwards(self, orm):
-        from sentry.utils.query import RangeQuerySetWrapperWithProgressBar
+        from sentry.utils.query import RangeQuerySetWrapperWithProgressBar, \
+            RangeQuerySetWrapper
         from sentry.models.counter import increment_project_counter
 
         Organization = orm['sentry.Organization']
@@ -68,8 +69,8 @@ class Migration(DataMigration):
                 q = Group.objects.filter(
                     project=project,
                     short_id=None,
-                ).order_by('first_seen')
-                for group in q.iterator():
+                )
+                for group in RangeQuerySetWrapper(q):
                     with catchable_atomic():
                         pending_short_id = increment_project_counter(
                             project, 'short-ids')
