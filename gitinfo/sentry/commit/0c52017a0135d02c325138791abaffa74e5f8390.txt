commit 0c52017a0135d02c325138791abaffa74e5f8390
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Wed May 8 21:08:25 2019 -0700

    ref(ui): Refactor CreateSampleEvent button (#13098)
    
    Mostly modernization refactor, makes it quack more like a button (allows
    button props, custom text, etc.
    
    Also updates the Onboarding Configure component to better integrate the
    button.

diff --git a/src/sentry/static/sentry/app/views/onboarding/configure.jsx b/src/sentry/static/sentry/app/views/onboarding/configure.jsx
index d30646c60d..d36b2036e1 100644
--- a/src/sentry/static/sentry/app/views/onboarding/configure.jsx
+++ b/src/sentry/static/sentry/app/views/onboarding/configure.jsx
@@ -1,32 +1,28 @@
-import React from 'react';
-import createReactClass from 'create-react-class';
 import {browserHistory} from 'react-router';
+import React from 'react';
 import styled from 'react-emotion';
 
 import {analytics, amplitude} from 'app/utils/analytics';
+import {t} from 'app/locale';
+import Button from 'app/components/button';
 import ProjectContext from 'app/views/projects/projectContext';
 import ProjectInstallPlatform from 'app/views/projectInstall/platform';
 import SentryTypes from 'app/sentryTypes';
-import {t} from 'app/locale';
-import Button from 'app/components/button';
+import withOrganization from 'app/utils/withOrganization';
 
-import CreateSampleEvent from './createSampleEvent';
+import CreateSampleEventButton from './createSampleEventButton';
 
-const Configure = createReactClass({
-  displayName: 'Configure',
-  contextTypes: {
+class Configure extends React.Component {
+  static propTypes = {
     organization: SentryTypes.Organization,
-  },
+  };
 
-  getInitialState() {
-    return {
-      hasSentRealEvent: false,
-    };
-  },
+  state = {
+    hasSentRealEvent: false,
+  };
 
   componentDidMount() {
-    const {organization} = this.context;
-    const {params} = this.props;
+    const {organization, params} = this.props;
     const data = {
       project: params.projectId,
       platform: params.platform,
@@ -41,22 +37,26 @@ const Configure = createReactClass({
     data.org_id = parseInt(organization.id, 10);
     analytics('onboarding.configure_viewed', data);
     this.sentRealEvent();
-  },
+  }
 
-  sentRealEvent() {
-    const project = this.context.organization.projects.find(
+  get project() {
+    return this.props.organization.projects.find(
       p => p.slug == this.props.params.projectId
     );
+  }
+
+  sentRealEvent() {
+    const project = this.project;
     let hasSentRealEvent = false;
     if (project && project.firstEvent) {
       hasSentRealEvent = true;
     }
     this.setState({hasSentRealEvent});
-  },
+  }
 
   redirectUrl() {
+    const {organization} = this.props;
     const {orgId, projectId} = this.props.params;
-    const {organization} = this.context;
 
     const hasSentry10 = new Set(organization.features).has('sentry10');
 
@@ -64,11 +64,11 @@ const Configure = createReactClass({
       ? `/organizations/${orgId}/issues/#welcome`
       : `/${orgId}/${projectId}/#welcome`;
     browserHistory.push(url);
-  },
+  }
 
-  submit() {
+  submit = () => {
+    const {organization} = this.props;
     const {projectId} = this.props.params;
-    const {organization} = this.context;
     analytics('onboarding.complete', {project: projectId});
     amplitude(
       'Completed Onboarding Installation Instructions',
@@ -76,7 +76,7 @@ const Configure = createReactClass({
       {projectId}
     );
     this.redirectUrl();
-  },
+  };
 
   render() {
     const {orgId, projectId} = this.props.params;
@@ -88,7 +88,11 @@ const Configure = createReactClass({
           <h2 style={{marginBottom: 30}}>
             {t('Configure your application')}
             {!hasSentRealEvent && (
-              <CreateSampleEvent params={this.props.params} source="header" />
+              <div className="pull-right">
+                <CreateSampleEventButton project={this.project} source="header">
+                  {t('Or Create a Sample Event')}
+                </CreateSampleEventButton>
+              </div>
             )}
           </h2>
           <ProjectContext projectId={projectId} orgId={orgId} style={{marginBottom: 30}}>
@@ -106,8 +110,8 @@ const Configure = createReactClass({
         </div>
       </div>
     );
-  },
-});
+  }
+}
 
 const DoneButton = styled('div')`
   display: grid;
@@ -116,4 +120,4 @@ const DoneButton = styled('div')`
   margin-bottom: 20px;
 `;
 
-export default Configure;
+export default withOrganization(Configure);
diff --git a/src/sentry/static/sentry/app/views/onboarding/createSampleEvent.jsx b/src/sentry/static/sentry/app/views/onboarding/createSampleEvent.jsx
deleted file mode 100644
index c4fc6f6601..0000000000
--- a/src/sentry/static/sentry/app/views/onboarding/createSampleEvent.jsx
+++ /dev/null
@@ -1,97 +0,0 @@
-import {browserHistory} from 'react-router';
-import React from 'react';
-import PropTypes from 'prop-types';
-import styled from 'react-emotion';
-import * as Sentry from '@sentry/browser';
-
-import {analytics} from 'app/utils/analytics';
-import withApi from 'app/utils/withApi';
-import Button from 'app/components/button';
-import IndicatorStore from 'app/stores/indicatorStore';
-import SentryTypes from 'app/sentryTypes';
-import {t} from 'app/locale';
-
-class CreateSampleEvent extends React.Component {
-  static propTypes = {
-    api: PropTypes.object,
-    params: PropTypes.object.isRequired,
-    source: PropTypes.string.isRequired,
-  };
-
-  static contextTypes = {
-    organization: SentryTypes.Organization.isRequired,
-  };
-
-  componentDidMount() {
-    const {projectId} = this.props.params;
-    const {organization} = this.context;
-    const project = organization.projects.find(proj => proj.slug === projectId);
-
-    if (!project) {
-      return;
-    }
-
-    const data = {
-      org_id: parseInt(organization.id, 10),
-      source: this.props.source,
-      project_id: parseInt(project.id, 10),
-    };
-    analytics('sample_event.button_viewed', data);
-  }
-
-  createSampleEvent = () => {
-    // TODO(DENA): swap out for action creator
-    const {
-      api,
-      params: {orgId, projectId},
-    } = this.props;
-    const {organization} = this.context;
-    const url = `/projects/${orgId}/${projectId}/create-sample/`;
-    const project = organization.projects.find(proj => proj.slug === projectId);
-    const hasSentry10 = new Set(organization.features).has('sentry10');
-
-    analytics('sample_event.created', {
-      org_id: parseInt(organization.id, 10),
-      project_id: parseInt(project.id, 10),
-      source: 'installation',
-    });
-
-    api.request(url, {
-      method: 'POST',
-      success: data => {
-        const issueUrl = hasSentry10
-          ? `/organizations/${orgId}/issues/${data.groupID}/`
-          : `/${orgId}/${projectId}/issues/${data.groupID}/`;
-        browserHistory.push(issueUrl);
-      },
-      error: err => {
-        Sentry.withScope(scope => {
-          scope.setExtra('err', err);
-          Sentry.captureException(
-            new Error('Create sample event in onboarding configure step failed')
-          );
-        });
-
-        IndicatorStore.addError('Unable to create a sample event');
-      },
-    });
-  };
-
-  render() {
-    return (
-      <div className="pull-right">
-        <StyledButton priority="primary" onClick={this.createSampleEvent}>
-          {t('Or See Sample Event')}
-        </StyledButton>
-      </div>
-    );
-  }
-}
-
-const StyledButton = styled(Button)`
-  div {
-    padding: 0;
-  }
-`;
-
-export default withApi(CreateSampleEvent);
diff --git a/src/sentry/static/sentry/app/views/onboarding/createSampleEventButton.jsx b/src/sentry/static/sentry/app/views/onboarding/createSampleEventButton.jsx
new file mode 100644
index 0000000000..5f15192017
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/onboarding/createSampleEventButton.jsx
@@ -0,0 +1,80 @@
+import {browserHistory} from 'react-router';
+import PropTypes from 'prop-types';
+import React from 'react';
+import * as Sentry from '@sentry/browser';
+
+import {addSuccessMessage} from 'app/actionCreators/indicator';
+import {analytics} from 'app/utils/analytics';
+import {t} from 'app/locale';
+import Button from 'app/components/button';
+import SentryTypes from 'app/sentryTypes';
+import withApi from 'app/utils/withApi';
+import withOrganization from 'app/utils/withOrganization';
+
+class CreateSampleEventButton extends React.Component {
+  static propTypes = {
+    api: PropTypes.object,
+    organization: SentryTypes.Organization.isRequired,
+    project: SentryTypes.Project.isRequired,
+    source: PropTypes.string.isRequired,
+  };
+
+  state = {
+    creating: false,
+  };
+
+  componentDidMount() {
+    const {organization, project, source} = this.props;
+
+    if (!project) {
+      return;
+    }
+
+    const data = {
+      org_id: parseInt(organization.id, 10),
+      project_id: parseInt(project.id, 10),
+      source,
+    };
+    analytics('sample_event.button_viewed', data);
+  }
+
+  createSampleEvent = async () => {
+    // TODO(dena): swap out for action creator
+    const {api, organization, project, source} = this.props;
+    const url = `/projects/${organization.slug}/${project.slug}/create-sample/`;
+    const hasSentry10 = organization.features.includes('sentry10');
+
+    analytics('sample_event.created', {
+      org_id: parseInt(organization.id, 10),
+      project_id: parseInt(project.id, 10),
+      source,
+    });
+
+    this.setState({creating: true});
+    try {
+      const data = await api.requestPromise(url, {method: 'POST'});
+
+      const issueUrl = hasSentry10
+        ? `/organizations/${organization.slug}/issues/${data.groupID}/`
+        : `/${organization.slug}/${project.slug}/issues/${data.groupID}/`;
+      browserHistory.push(issueUrl);
+    } catch (error) {
+      Sentry.withScope(scope => {
+        scope.setExtra('error', error);
+        Sentry.captureException(new Error('Failed to create sample event'));
+      });
+      addSuccessMessage(t('Unable to create a sample event'));
+    }
+    this.setState({creating: false});
+  };
+
+  render() {
+    // eslint-disable-next-line no-unused-vars
+    const {api, organization, project, source, ...props} = this.props;
+    const {creating} = this.state;
+
+    return <Button disabled={creating} onClick={this.createSampleEvent} {...props} />;
+  }
+}
+
+export default withApi(withOrganization(CreateSampleEventButton));
diff --git a/tests/js/spec/views/onboarding/__snapshots__/configure.spec.jsx.snap b/tests/js/spec/views/onboarding/__snapshots__/configure.spec.jsx.snap
index bbe23d659c..d918f7a0b1 100644
--- a/tests/js/spec/views/onboarding/__snapshots__/configure.spec.jsx.snap
+++ b/tests/js/spec/views/onboarding/__snapshots__/configure.spec.jsx.snap
@@ -1,7 +1,7 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
 exports[`Configure should render correctly render() should render platform docs 1`] = `
-<Configure
+<WithOrganizationMockWrapper
   api={Client {}}
   next={[Function]}
   params={
@@ -12,112 +12,215 @@ exports[`Configure should render correctly render() should render platform docs
     }
   }
 >
-  <div>
-    <div
-      className="onboarding-Configure"
-    >
-      <h2
-        style={
+  <Configure
+    api={Client {}}
+    next={[Function]}
+    organization={
+      Object {
+        "id": "1337",
+        "projects": Array [
           Object {
-            "marginBottom": 30,
-          }
-        }
+            "hasAccess": true,
+            "id": "testProject",
+            "isBookmarked": false,
+            "isMember": true,
+            "name": "Test Project",
+            "slug": "project-slug",
+            "teams": Array [
+              Object {
+                "hasAccess": true,
+                "id": "coolteam",
+                "slug": "coolteam",
+              },
+            ],
+          },
+        ],
+        "slug": "testOrg",
+        "teams": Array [
+          Object {
+            "hasAccess": true,
+            "id": "coolteam",
+            "projects": Array [
+              Object {
+                "id": "testProject",
+                "name": "Test Project",
+                "slug": "project-slug",
+              },
+            ],
+            "slug": "coolteam",
+          },
+        ],
+      }
+    }
+    params={
+      Object {
+        "orgId": "testOrg",
+        "platform": "node",
+        "projectId": "project-slug",
+      }
+    }
+  >
+    <div>
+      <div
+        className="onboarding-Configure"
       >
-        Configure your application
-        <withApi(CreateSampleEvent)
-          params={
+        <h2
+          style={
             Object {
-              "orgId": "testOrg",
-              "platform": "node",
-              "projectId": "project-slug",
+              "marginBottom": 30,
             }
           }
-          source="header"
         >
-          <CreateSampleEvent
-            api={Client {}}
-            params={
-              Object {
-                "orgId": "testOrg",
-                "platform": "node",
-                "projectId": "project-slug",
-              }
-            }
-            source="header"
+          Configure your application
+          <div
+            className="pull-right"
           >
-            <div
-              className="pull-right"
+            <withApi(WithOrganizationMockWrapper)
+              project={
+                Object {
+                  "hasAccess": true,
+                  "id": "testProject",
+                  "isBookmarked": false,
+                  "isMember": true,
+                  "name": "Test Project",
+                  "slug": "project-slug",
+                  "teams": Array [
+                    Object {
+                      "hasAccess": true,
+                      "id": "coolteam",
+                      "slug": "coolteam",
+                    },
+                  ],
+                }
+              }
+              source="header"
             >
-              <StyledButton
-                disabled={false}
-                onClick={[Function]}
-                priority="primary"
+              <WithOrganizationMockWrapper
+                api={Client {}}
+                project={
+                  Object {
+                    "hasAccess": true,
+                    "id": "testProject",
+                    "isBookmarked": false,
+                    "isMember": true,
+                    "name": "Test Project",
+                    "slug": "project-slug",
+                    "teams": Array [
+                      Object {
+                        "hasAccess": true,
+                        "id": "coolteam",
+                        "slug": "coolteam",
+                      },
+                    ],
+                  }
+                }
+                source="header"
               >
-                <Button
-                  className="css-1lewl16-StyledButton e191d89y0"
-                  disabled={false}
-                  onClick={[Function]}
-                  priority="primary"
+                <CreateSampleEventButton
+                  api={Client {}}
+                  organization={
+                    Object {
+                      "id": "1337",
+                      "projects": Array [
+                        Object {
+                          "hasAccess": true,
+                          "id": "testProject",
+                          "isBookmarked": false,
+                          "isMember": true,
+                          "name": "Test Project",
+                          "slug": "project-slug",
+                          "teams": Array [
+                            Object {
+                              "hasAccess": true,
+                              "id": "coolteam",
+                              "slug": "coolteam",
+                            },
+                          ],
+                        },
+                      ],
+                      "slug": "testOrg",
+                      "teams": Array [
+                        Object {
+                          "hasAccess": true,
+                          "id": "coolteam",
+                          "projects": Array [
+                            Object {
+                              "id": "testProject",
+                              "name": "Test Project",
+                              "slug": "project-slug",
+                            },
+                          ],
+                          "slug": "coolteam",
+                        },
+                      ],
+                    }
+                  }
+                  project={
+                    Object {
+                      "hasAccess": true,
+                      "id": "testProject",
+                      "isBookmarked": false,
+                      "isMember": true,
+                      "name": "Test Project",
+                      "slug": "project-slug",
+                      "teams": Array [
+                        Object {
+                          "hasAccess": true,
+                          "id": "coolteam",
+                          "slug": "coolteam",
+                        },
+                      ],
+                    }
+                  }
+                  source="header"
                 >
-                  <StyledButton
-                    aria-disabled={false}
-                    aria-label="Or See Sample Event"
-                    className="css-1lewl16-StyledButton e191d89y0"
+                  <Button
                     disabled={false}
                     onClick={[Function]}
-                    priority="primary"
-                    role="button"
                   >
-                    <ForwardRef
+                    <StyledButton
                       aria-disabled={false}
-                      aria-label="Or See Sample Event"
-                      className="e191d89y0 css-1ey421x-StyledButton-getColors-StyledButton e12ma6z0"
+                      aria-label="Or Create a Sample Event"
                       disabled={false}
                       onClick={[Function]}
-                      priority="primary"
                       role="button"
                     >
-                      <button
+                      <ForwardRef
                         aria-disabled={false}
-                        aria-label="Or See Sample Event"
-                        className="e191d89y0 css-1ey421x-StyledButton-getColors-StyledButton e12ma6z0"
+                        aria-label="Or Create a Sample Event"
+                        className="css-1w79b6l-StyledButton-getColors e12ma6z0"
+                        disabled={false}
                         onClick={[Function]}
                         role="button"
                       >
-                        <ButtonLabel
-                          priority="primary"
+                        <button
+                          aria-disabled={false}
+                          aria-label="Or Create a Sample Event"
+                          className="css-1w79b6l-StyledButton-getColors e12ma6z0"
+                          onClick={[Function]}
+                          role="button"
                         >
-                          <Component
-                            className="css-ga4b18-ButtonLabel e12ma6z1"
-                            priority="primary"
-                          >
-                            <span
+                          <ButtonLabel>
+                            <Component
                               className="css-ga4b18-ButtonLabel e12ma6z1"
                             >
-                              Or See Sample Event
-                            </span>
-                          </Component>
-                        </ButtonLabel>
-                      </button>
-                    </ForwardRef>
-                  </StyledButton>
-                </Button>
-              </StyledButton>
-            </div>
-          </CreateSampleEvent>
-        </withApi(CreateSampleEvent)>
-      </h2>
-      <withApi(withProjects(withRouter(ProjectContext)))
-        orgId="testOrg"
-        projectId="project-slug"
-        style={
-          Object {
-            "marginBottom": 30,
-          }
-        }
-      >
-        <withProjects(withRouter(ProjectContext))
-          api={Client {}}
+                              <span
+                                className="css-ga4b18-ButtonLabel e12ma6z1"
+                              >
+                                Or Create a Sample Event
+                              </span>
+                            </Component>
+                          </ButtonLabel>
+                        </button>
+                      </ForwardRef>
+                    </StyledButton>
+                  </Button>
+                </CreateSampleEventButton>
+              </WithOrganizationMockWrapper>
+            </withApi(WithOrganizationMockWrapper)>
+          </div>
+        </h2>
+        <withApi(withProjects(withRouter(ProjectContext)))
           orgId="testOrg"
           projectId="project-slug"
           style={
@@ -126,42 +229,18 @@ exports[`Configure should render correctly render() should render platform docs
             }
           }
         >
-          <withRouter(ProjectContext)
+          <withProjects(withRouter(ProjectContext))
             api={Client {}}
             orgId="testOrg"
             projectId="project-slug"
-            projects={
-              Array [
-                Object {
-                  "hasAccess": true,
-                  "id": "testProject",
-                  "isBookmarked": false,
-                  "isMember": true,
-                  "name": "Test Project",
-                  "slug": "project-slug",
-                  "teams": Array [
-                    Object {
-                      "hasAccess": true,
-                      "id": "coolid",
-                      "slug": "coolteam",
-                    },
-                  ],
-                },
-              ]
-            }
             style={
               Object {
                 "marginBottom": 30,
               }
             }
           >
-            <ProjectContext
+            <withRouter(ProjectContext)
               api={Client {}}
-              location={
-                Object {
-                  "query": Object {},
-                }
-              }
               orgId="testOrg"
               projectId="project-slug"
               projects={
@@ -183,45 +262,69 @@ exports[`Configure should render correctly render() should render platform docs
                   },
                 ]
               }
-              router={
-                Object {
-                  "createHref": [MockFunction],
-                  "go": [MockFunction],
-                  "goBack": [MockFunction],
-                  "goForward": [MockFunction],
-                  "isActive": [MockFunction],
-                  "listen": [MockFunction],
-                  "location": Object {
-                    "query": Object {},
-                  },
-                  "push": [MockFunction],
-                  "replace": [MockFunction],
-                  "setRouteLeaveHook": [MockFunction],
-                }
-              }
               style={
                 Object {
                   "marginBottom": 30,
                 }
               }
             >
-              <SideEffect(DocumentTitle)
-                title="project-slug"
+              <ProjectContext
+                api={Client {}}
+                location={
+                  Object {
+                    "query": Object {},
+                  }
+                }
+                orgId="testOrg"
+                projectId="project-slug"
+                projects={
+                  Array [
+                    Object {
+                      "hasAccess": true,
+                      "id": "testProject",
+                      "isBookmarked": false,
+                      "isMember": true,
+                      "name": "Test Project",
+                      "slug": "project-slug",
+                      "teams": Array [
+                        Object {
+                          "hasAccess": true,
+                          "id": "coolid",
+                          "slug": "coolteam",
+                        },
+                      ],
+                    },
+                  ]
+                }
+                router={
+                  Object {
+                    "createHref": [MockFunction],
+                    "go": [MockFunction],
+                    "goBack": [MockFunction],
+                    "goForward": [MockFunction],
+                    "isActive": [MockFunction],
+                    "listen": [MockFunction],
+                    "location": Object {
+                      "query": Object {},
+                    },
+                    "push": [MockFunction],
+                    "replace": [MockFunction],
+                    "setRouteLeaveHook": [MockFunction],
+                  }
+                }
+                style={
+                  Object {
+                    "marginBottom": 30,
+                  }
+                }
               >
-                <DocumentTitle
+                <SideEffect(DocumentTitle)
                   title="project-slug"
                 >
-                  <withApi(WithOrganizationMockWrapper)
-                    params={
-                      Object {
-                        "orgId": "testOrg",
-                        "platform": "node",
-                        "projectId": "project-slug",
-                      }
-                    }
+                  <DocumentTitle
+                    title="project-slug"
                   >
-                    <WithOrganizationMockWrapper
-                      api={Client {}}
+                    <withApi(WithOrganizationMockWrapper)
                       params={
                         Object {
                           "orgId": "testOrg",
@@ -230,45 +333,8 @@ exports[`Configure should render correctly render() should render platform docs
                         }
                       }
                     >
-                      <withProject(ProjectInstallPlatform)
+                      <WithOrganizationMockWrapper
                         api={Client {}}
-                        organization={
-                          Object {
-                            "id": "1337",
-                            "projects": Array [
-                              Object {
-                                "hasAccess": true,
-                                "id": "testProject",
-                                "isBookmarked": false,
-                                "isMember": true,
-                                "name": "Test Project",
-                                "slug": "project-slug",
-                                "teams": Array [
-                                  Object {
-                                    "hasAccess": true,
-                                    "id": "coolteam",
-                                    "slug": "coolteam",
-                                  },
-                                ],
-                              },
-                            ],
-                            "slug": "testOrg",
-                            "teams": Array [
-                              Object {
-                                "hasAccess": true,
-                                "id": "coolteam",
-                                "projects": Array [
-                                  Object {
-                                    "id": "testProject",
-                                    "name": "Test Project",
-                                    "slug": "project-slug",
-                                  },
-                                ],
-                                "slug": "coolteam",
-                              },
-                            ],
-                          }
-                        }
                         params={
                           Object {
                             "orgId": "testOrg",
@@ -277,7 +343,7 @@ exports[`Configure should render correctly render() should render platform docs
                           }
                         }
                       >
-                        <ProjectInstallPlatform
+                        <withProject(ProjectInstallPlatform)
                           api={Client {}}
                           organization={
                             Object {
@@ -323,152 +389,188 @@ exports[`Configure should render correctly render() should render platform docs
                               "projectId": "project-slug",
                             }
                           }
-                          project={
-                            Object {
-                              "environments": Array [],
-                              "hasAccess": true,
-                              "id": "2",
-                              "isBookmarked": false,
-                              "isMember": true,
-                              "name": "Project Name",
-                              "slug": "project-slug",
-                              "teams": Array [],
-                            }
-                          }
                         >
-                          <Panel>
-                            <Component
-                              className="css-10qfvek-Panel e1laxa7d0"
-                            >
-                              <div
+                          <ProjectInstallPlatform
+                            api={Client {}}
+                            organization={
+                              Object {
+                                "id": "1337",
+                                "projects": Array [
+                                  Object {
+                                    "hasAccess": true,
+                                    "id": "testProject",
+                                    "isBookmarked": false,
+                                    "isMember": true,
+                                    "name": "Test Project",
+                                    "slug": "project-slug",
+                                    "teams": Array [
+                                      Object {
+                                        "hasAccess": true,
+                                        "id": "coolteam",
+                                        "slug": "coolteam",
+                                      },
+                                    ],
+                                  },
+                                ],
+                                "slug": "testOrg",
+                                "teams": Array [
+                                  Object {
+                                    "hasAccess": true,
+                                    "id": "coolteam",
+                                    "projects": Array [
+                                      Object {
+                                        "id": "testProject",
+                                        "name": "Test Project",
+                                        "slug": "project-slug",
+                                      },
+                                    ],
+                                    "slug": "coolteam",
+                                  },
+                                ],
+                              }
+                            }
+                            params={
+                              Object {
+                                "orgId": "testOrg",
+                                "platform": "node",
+                                "projectId": "project-slug",
+                              }
+                            }
+                            project={
+                              Object {
+                                "environments": Array [],
+                                "hasAccess": true,
+                                "id": "2",
+                                "isBookmarked": false,
+                                "isMember": true,
+                                "name": "Project Name",
+                                "slug": "project-slug",
+                                "teams": Array [],
+                              }
+                            }
+                          >
+                            <Panel>
+                              <Component
                                 className="css-10qfvek-Panel e1laxa7d0"
                               >
-                                <PanelHeader
-                                  hasButtons={true}
+                                <div
+                                  className="css-10qfvek-Panel e1laxa7d0"
                                 >
-                                  <Component
-                                    className="css-1m2bast-PanelHeader-getPadding e1p8v8nv0"
+                                  <PanelHeader
                                     hasButtons={true}
                                   >
-                                    <Flex
-                                      align="center"
+                                    <Component
                                       className="css-1m2bast-PanelHeader-getPadding e1p8v8nv0"
-                                      justify="space-between"
+                                      hasButtons={true}
                                     >
-                                      <Base
+                                      <Flex
                                         align="center"
-                                        className="e1p8v8nv0 css-yowjp-PanelHeader-getPadding"
+                                        className="css-1m2bast-PanelHeader-getPadding e1p8v8nv0"
                                         justify="space-between"
                                       >
-                                        <div
+                                        <Base
+                                          align="center"
                                           className="e1p8v8nv0 css-yowjp-PanelHeader-getPadding"
-                                          is={null}
+                                          justify="space-between"
                                         >
-                                          Configure Node.js
-                                          <Flex>
-                                            <Base
-                                              className="css-sncxrr"
-                                            >
-                                              <div
+                                          <div
+                                            className="e1p8v8nv0 css-yowjp-PanelHeader-getPadding"
+                                            is={null}
+                                          >
+                                            Configure Node.js
+                                            <Flex>
+                                              <Base
                                                 className="css-sncxrr"
-                                                is={null}
                                               >
-                                                <Box
-                                                  ml={1}
+                                                <div
+                                                  className="css-sncxrr"
+                                                  is={null}
                                                 >
-                                                  <Base
-                                                    className="css-re0chm"
+                                                  <Box
                                                     ml={1}
                                                   >
-                                                    <div
+                                                    <Base
                                                       className="css-re0chm"
-                                                      is={null}
+                                                      ml={1}
                                                     >
-                                                      <Button
-                                                        disabled={false}
-                                                        href="/testOrg/project-slug/getting-started/"
-                                                        size="small"
+                                                      <div
+                                                        className="css-re0chm"
+                                                        is={null}
                                                       >
-                                                        <StyledButton
-                                                          aria-disabled={false}
-                                                          aria-label="< Back"
+                                                        <Button
                                                           disabled={false}
                                                           href="/testOrg/project-slug/getting-started/"
-                                                          onClick={[Function]}
-                                                          role="button"
                                                           size="small"
                                                         >
-                                                          <ForwardRef
+                                                          <StyledButton
                                                             aria-disabled={false}
                                                             aria-label="< Back"
-                                                            className="css-o6814l-StyledButton-getColors e12ma6z0"
                                                             disabled={false}
                                                             href="/testOrg/project-slug/getting-started/"
                                                             onClick={[Function]}
                                                             role="button"
                                                             size="small"
                                                           >
-                                                            <a
+                                                            <ForwardRef
                                                               aria-disabled={false}
                                                               aria-label="< Back"
                                                               className="css-o6814l-StyledButton-getColors e12ma6z0"
+                                                              disabled={false}
                                                               href="/testOrg/project-slug/getting-started/"
                                                               onClick={[Function]}
                                                               role="button"
                                                               size="small"
                                                             >
-                                                              <ButtonLabel
+                                                              <a
+                                                                aria-disabled={false}
+                                                                aria-label="< Back"
+                                                                className="css-o6814l-StyledButton-getColors e12ma6z0"
+                                                                href="/testOrg/project-slug/getting-started/"
+                                                                onClick={[Function]}
+                                                                role="button"
                                                                 size="small"
                                                               >
-                                                                <Component
-                                                                  className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                <ButtonLabel
                                                                   size="small"
                                                                 >
-                                                                  <span
+                                                                  <Component
                                                                     className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                    size="small"
                                                                   >
-                                                                    &lt; Back
-                                                                  </span>
-                                                                </Component>
-                                                              </ButtonLabel>
-                                                            </a>
-                                                          </ForwardRef>
-                                                        </StyledButton>
-                                                      </Button>
-                                                    </div>
-                                                  </Base>
-                                                </Box>
-                                                <Box
-                                                  ml={1}
-                                                >
-                                                  <Base
-                                                    className="css-re0chm"
+                                                                    <span
+                                                                      className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                    >
+                                                                      &lt; Back
+                                                                    </span>
+                                                                  </Component>
+                                                                </ButtonLabel>
+                                                              </a>
+                                                            </ForwardRef>
+                                                          </StyledButton>
+                                                        </Button>
+                                                      </div>
+                                                    </Base>
+                                                  </Box>
+                                                  <Box
                                                     ml={1}
                                                   >
-                                                    <div
+                                                    <Base
                                                       className="css-re0chm"
-                                                      is={null}
+                                                      ml={1}
                                                     >
-                                                      <Button
-                                                        disabled={false}
-                                                        external={true}
-                                                        href="https://docs.getsentry.com/hosted/clients/node/"
-                                                        size="small"
+                                                      <div
+                                                        className="css-re0chm"
+                                                        is={null}
                                                       >
-                                                        <StyledButton
-                                                          aria-disabled={false}
-                                                          aria-label="Full Documentation"
+                                                        <Button
                                                           disabled={false}
                                                           external={true}
                                                           href="https://docs.getsentry.com/hosted/clients/node/"
-                                                          onClick={[Function]}
-                                                          role="button"
                                                           size="small"
                                                         >
-                                                          <ForwardRef
+                                                          <StyledButton
                                                             aria-disabled={false}
                                                             aria-label="Full Documentation"
-                                                            className="css-o6814l-StyledButton-getColors e12ma6z0"
                                                             disabled={false}
                                                             external={true}
                                                             href="https://docs.getsentry.com/hosted/clients/node/"
@@ -480,14 +582,14 @@ exports[`Configure should render correctly render() should render platform docs
                                                               aria-disabled={false}
                                                               aria-label="Full Documentation"
                                                               className="css-o6814l-StyledButton-getColors e12ma6z0"
+                                                              disabled={false}
+                                                              external={true}
                                                               href="https://docs.getsentry.com/hosted/clients/node/"
                                                               onClick={[Function]}
-                                                              rel="noreferrer noopener"
                                                               role="button"
                                                               size="small"
-                                                              target="_blank"
                                                             >
-                                                              <a
+                                                              <ForwardRef
                                                                 aria-disabled={false}
                                                                 aria-label="Full Documentation"
                                                                 className="css-o6814l-StyledButton-getColors e12ma6z0"
@@ -498,238 +600,250 @@ exports[`Configure should render correctly render() should render platform docs
                                                                 size="small"
                                                                 target="_blank"
                                                               >
-                                                                <ButtonLabel
+                                                                <a
+                                                                  aria-disabled={false}
+                                                                  aria-label="Full Documentation"
+                                                                  className="css-o6814l-StyledButton-getColors e12ma6z0"
+                                                                  href="https://docs.getsentry.com/hosted/clients/node/"
+                                                                  onClick={[Function]}
+                                                                  rel="noreferrer noopener"
+                                                                  role="button"
                                                                   size="small"
+                                                                  target="_blank"
                                                                 >
-                                                                  <Component
-                                                                    className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                  <ButtonLabel
                                                                     size="small"
                                                                   >
-                                                                    <span
+                                                                    <Component
                                                                       className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                      size="small"
                                                                     >
-                                                                      Full Documentation
-                                                                    </span>
-                                                                  </Component>
-                                                                </ButtonLabel>
-                                                              </a>
+                                                                      <span
+                                                                        className="css-7ui8bl-ButtonLabel e12ma6z1"
+                                                                      >
+                                                                        Full Documentation
+                                                                      </span>
+                                                                    </Component>
+                                                                  </ButtonLabel>
+                                                                </a>
+                                                              </ForwardRef>
                                                             </ForwardRef>
-                                                          </ForwardRef>
-                                                        </StyledButton>
-                                                      </Button>
-                                                    </div>
-                                                  </Base>
-                                                </Box>
-                                              </div>
-                                            </Base>
-                                          </Flex>
-                                        </div>
-                                      </Base>
-                                    </Flex>
-                                  </Component>
-                                </PanelHeader>
-                                <PanelAlert
-                                  type="info"
-                                >
-                                  <Component
-                                    className="css-e1otmf-PanelAlert e1wrupv90"
+                                                          </StyledButton>
+                                                        </Button>
+                                                      </div>
+                                                    </Base>
+                                                  </Box>
+                                                </div>
+                                              </Base>
+                                            </Flex>
+                                          </div>
+                                        </Base>
+                                      </Flex>
+                                    </Component>
+                                  </PanelHeader>
+                                  <PanelAlert
                                     type="info"
                                   >
-                                    <Alert
+                                    <Component
                                       className="css-e1otmf-PanelAlert e1wrupv90"
-                                      icon="icon-circle-info"
-                                      iconSize="24px"
-                                      system={true}
                                       type="info"
                                     >
-                                      <AlertWrapper
-                                        className="ref-info css-e1otmf-PanelAlert e1wrupv90"
+                                      <Alert
+                                        className="css-e1otmf-PanelAlert e1wrupv90"
+                                        icon="icon-circle-info"
+                                        iconSize="24px"
                                         system={true}
                                         type="info"
                                       >
-                                        <div
-                                          className="ref-info e1wrupv90 css-10s45hg-AlertWrapper-PanelAlert e1xb5l7j1"
+                                        <AlertWrapper
+                                          className="ref-info css-e1otmf-PanelAlert e1wrupv90"
+                                          system={true}
                                           type="info"
                                         >
-                                          <StyledInlineSvg
-                                            size="24px"
-                                            src="icon-circle-info"
+                                          <div
+                                            className="ref-info e1wrupv90 css-10s45hg-AlertWrapper-PanelAlert e1xb5l7j1"
+                                            type="info"
                                           >
-                                            <InlineSvg
-                                              className="css-1e3iblq-StyledInlineSvg e1xb5l7j0"
+                                            <StyledInlineSvg
                                               size="24px"
                                               src="icon-circle-info"
                                             >
-                                              <StyledSvg
+                                              <InlineSvg
                                                 className="css-1e3iblq-StyledInlineSvg e1xb5l7j0"
-                                                height="24px"
-                                                viewBox={Object {}}
-                                                width="24px"
+                                                size="24px"
+                                                src="icon-circle-info"
                                               >
-                                                <svg
-                                                  className="e1xb5l7j0 css-lbx2sj-StyledSvg-StyledInlineSvg e2idor0"
+                                                <StyledSvg
+                                                  className="css-1e3iblq-StyledInlineSvg e1xb5l7j0"
                                                   height="24px"
                                                   viewBox={Object {}}
                                                   width="24px"
                                                 >
-                                                  <use
-                                                    href="#test"
-                                                    xlinkHref="#test"
-                                                  />
-                                                </svg>
-                                              </StyledSvg>
-                                            </InlineSvg>
-                                          </StyledInlineSvg>
-                                          <StyledTextBlock>
-                                            <Component
-                                              className="css-1h3n7tg-TextBlock-StyledTextBlock e1xb5l7j2"
-                                            >
-                                              <div
+                                                  <svg
+                                                    className="e1xb5l7j0 css-lbx2sj-StyledSvg-StyledInlineSvg e2idor0"
+                                                    height="24px"
+                                                    viewBox={Object {}}
+                                                    width="24px"
+                                                  >
+                                                    <use
+                                                      href="#test"
+                                                      xlinkHref="#test"
+                                                    />
+                                                  </svg>
+                                                </StyledSvg>
+                                              </InlineSvg>
+                                            </StyledInlineSvg>
+                                            <StyledTextBlock>
+                                              <Component
                                                 className="css-1h3n7tg-TextBlock-StyledTextBlock e1xb5l7j2"
                                               >
-                                                <span
-                                                  key="8"
+                                                <div
+                                                  className="css-1h3n7tg-TextBlock-StyledTextBlock e1xb5l7j2"
                                                 >
                                                   <span
-                                                    key="0"
+                                                    key="8"
                                                   >
-                                                    
+                                                    <span
+                                                      key="0"
+                                                    >
+                                                      
              This is a quick getting started guide. For in-depth instructions
              on integrating Sentry with 
-                                                  </span>
-                                                  <span
-                                                    key="2"
-                                                  >
-                                                    Node.js
-                                                  </span>
-                                                  <span
-                                                    key="3"
-                                                  >
-                                                    , view
-             
-                                                  </span>
-                                                  <a
-                                                    href="https://docs.getsentry.com/hosted/clients/node/"
-                                                    key="5"
-                                                  >
+                                                    </span>
                                                     <span
-                                                      key="4"
+                                                      key="2"
                                                     >
-                                                      our complete documentation
+                                                      Node.js
                                                     </span>
-                                                  </a>
-                                                  <span
-                                                    key="6"
-                                                  >
-                                                    .
+                                                    <span
+                                                      key="3"
+                                                    >
+                                                      , view
+             
+                                                    </span>
+                                                    <a
+                                                      href="https://docs.getsentry.com/hosted/clients/node/"
+                                                      key="5"
+                                                    >
+                                                      <span
+                                                        key="4"
+                                                      >
+                                                        our complete documentation
+                                                      </span>
+                                                    </a>
+                                                    <span
+                                                      key="6"
+                                                    >
+                                                      .
             
+                                                    </span>
                                                   </span>
-                                                </span>
-                                              </div>
-                                            </Component>
-                                          </StyledTextBlock>
-                                        </div>
-                                      </AlertWrapper>
-                                    </Alert>
-                                  </Component>
-                                </PanelAlert>
-                                <PanelBody
-                                  direction="column"
-                                  disablePadding={false}
-                                  flex={false}
-                                >
-                                  <div
-                                    className="css-8qprok-padding-textStyles"
+                                                </div>
+                                              </Component>
+                                            </StyledTextBlock>
+                                          </div>
+                                        </AlertWrapper>
+                                      </Alert>
+                                    </Component>
+                                  </PanelAlert>
+                                  <PanelBody
+                                    direction="column"
+                                    disablePadding={false}
+                                    flex={false}
                                   >
-                                    <DocumentationWrapper
-                                      dangerouslySetInnerHTML={
-                                        Object {
-                                          "__html": undefined,
-                                        }
-                                      }
+                                    <div
+                                      className="css-8qprok-padding-textStyles"
                                     >
-                                      <div
-                                        className="css-1y7l4t-DocumentationWrapper e1w9lqpk0"
+                                      <DocumentationWrapper
                                         dangerouslySetInnerHTML={
                                           Object {
                                             "__html": undefined,
                                           }
                                         }
-                                      />
-                                    </DocumentationWrapper>
-                                  </div>
-                                </PanelBody>
-                              </div>
-                            </Component>
-                          </Panel>
-                        </ProjectInstallPlatform>
-                      </withProject(ProjectInstallPlatform)>
-                    </WithOrganizationMockWrapper>
-                  </withApi(WithOrganizationMockWrapper)>
-                </DocumentTitle>
-              </SideEffect(DocumentTitle)>
-            </ProjectContext>
-          </withRouter(ProjectContext)>
-        </withProjects(withRouter(ProjectContext))>
-      </withApi(withProjects(withRouter(ProjectContext)))>
-      <DoneButton>
-        <div
-          className="css-5mss3k-DoneButton e1f5fl7e0"
-        >
-          <Button
-            data-test-id="configure-done"
-            disabled={false}
-            onClick={[Function]}
-            priority="primary"
+                                      >
+                                        <div
+                                          className="css-1y7l4t-DocumentationWrapper e1w9lqpk0"
+                                          dangerouslySetInnerHTML={
+                                            Object {
+                                              "__html": undefined,
+                                            }
+                                          }
+                                        />
+                                      </DocumentationWrapper>
+                                    </div>
+                                  </PanelBody>
+                                </div>
+                              </Component>
+                            </Panel>
+                          </ProjectInstallPlatform>
+                        </withProject(ProjectInstallPlatform)>
+                      </WithOrganizationMockWrapper>
+                    </withApi(WithOrganizationMockWrapper)>
+                  </DocumentTitle>
+                </SideEffect(DocumentTitle)>
+              </ProjectContext>
+            </withRouter(ProjectContext)>
+          </withProjects(withRouter(ProjectContext))>
+        </withApi(withProjects(withRouter(ProjectContext)))>
+        <DoneButton>
+          <div
+            className="css-5mss3k-DoneButton e1f5fl7e0"
           >
-            <StyledButton
-              aria-disabled={false}
-              aria-label="All done!"
+            <Button
               data-test-id="configure-done"
               disabled={false}
               onClick={[Function]}
               priority="primary"
-              role="button"
             >
-              <ForwardRef
+              <StyledButton
                 aria-disabled={false}
                 aria-label="All done!"
-                className="css-15f0jp2-StyledButton-getColors e12ma6z0"
                 data-test-id="configure-done"
                 disabled={false}
                 onClick={[Function]}
                 priority="primary"
                 role="button"
               >
-                <button
+                <ForwardRef
                   aria-disabled={false}
                   aria-label="All done!"
                   className="css-15f0jp2-StyledButton-getColors e12ma6z0"
                   data-test-id="configure-done"
+                  disabled={false}
                   onClick={[Function]}
+                  priority="primary"
                   role="button"
                 >
-                  <ButtonLabel
-                    priority="primary"
+                  <button
+                    aria-disabled={false}
+                    aria-label="All done!"
+                    className="css-15f0jp2-StyledButton-getColors e12ma6z0"
+                    data-test-id="configure-done"
+                    onClick={[Function]}
+                    role="button"
                   >
-                    <Component
-                      className="css-ga4b18-ButtonLabel e12ma6z1"
+                    <ButtonLabel
                       priority="primary"
                     >
-                      <span
+                      <Component
                         className="css-ga4b18-ButtonLabel e12ma6z1"
+                        priority="primary"
                       >
-                        All done!
-                      </span>
-                    </Component>
-                  </ButtonLabel>
-                </button>
-              </ForwardRef>
-            </StyledButton>
-          </Button>
-        </div>
-      </DoneButton>
+                        <span
+                          className="css-ga4b18-ButtonLabel e12ma6z1"
+                        >
+                          All done!
+                        </span>
+                      </Component>
+                    </ButtonLabel>
+                  </button>
+                </ForwardRef>
+              </StyledButton>
+            </Button>
+          </div>
+        </DoneButton>
+      </div>
     </div>
-  </div>
-</Configure>
+  </Configure>
+</WithOrganizationMockWrapper>
 `;
