commit 4f85b17348b065ae4416aec267131b3797a7f78f
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 11 00:12:33 2012 -0700

    Validate log level correctly

diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index 2a8a6e6d11..0a24a6ca3a 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -314,8 +314,11 @@ def validate_data(project, data, client=None):
 
     level = data.get('level') or settings.DEFAULT_LOG_LEVEL
     if isinstance(level, basestring) and not level.isdigit():
-        # assume it's something like 'warn'
-        data['level'] = settings.LOG_LEVEL_REVERSE_MAP[level]
+        # assume it's something like 'warning'
+        try:
+            data['level'] = settings.LOG_LEVEL_REVERSE_MAP[level]
+        except KeyError:
+            raise InvalidData('Invalid logging level specified: %r' % level)
 
     return data
 
