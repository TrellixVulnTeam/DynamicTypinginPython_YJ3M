commit 674651ae4eaa21ac36d186cc552cc009b3fd4efa
Author: David Cramer <dcramer@gmail.com>
Date:   Thu May 27 10:58:26 2010 -0700

    Improve visual design for varying levels and statuses

diff --git a/djangodblog/admin.py b/djangodblog/admin.py
index 2016fba654..38d760a8a9 100644
--- a/djangodblog/admin.py
+++ b/djangodblog/admin.py
@@ -100,7 +100,7 @@ class FakeRequest(object):
 
 class ErrorBatchAdmin(EfficientModelAdmin):
     form            = ErrorBatchAdminForm
-    list_display    = ('shortened_url', 'logger', 'server_name', 'times_seen', 'last_seen')
+    list_display    = ('shortened_url', 'logger', 'level', 'server_name', 'times_seen', 'last_seen')
     list_display_links = ('shortened_url',)
     list_filter     = ('status', 'level', 'last_seen')
     ordering        = ('-last_seen',)
@@ -126,7 +126,7 @@ class ErrorBatchAdmin(EfficientModelAdmin):
 
 class ErrorAdmin(EfficientModelAdmin):
     form            = ErrorAdminForm
-    list_display    = ('shortened_url', 'logger', 'server_name', 'datetime')
+    list_display    = ('shortened_url', 'logger', 'level', 'server_name', 'datetime')
     list_display_links = ('shortened_url',)
     list_filter     = ('level', 'datetime')
     ordering        = ('-id',)
diff --git a/djangodblog/models.py b/djangodblog/models.py
index 5f2aada6b0..aa77ae6b2a 100644
--- a/djangodblog/models.py
+++ b/djangodblog/models.py
@@ -67,7 +67,9 @@ class ErrorBatch(Model):
         message = self.message
         if len(message) > 100:
             message = message[:97] + '...'
-        return "%s: %s" % (self.class_name, message)
+        if self.class_name:
+            return "%s: %s" % (self.class_name, message)
+        return message
     error.short_description = 'Error'
 
     def get_absolute_url(self):
@@ -107,7 +109,9 @@ class Error(Model):
         message = self.message
         if len(message) > 100:
             message = message[:97] + '...'
-        return "%s: %s" % (self.class_name, message)
+        if self.class_name:
+            return "%s: %s" % (self.class_name, message)
+        return message
     error.short_description = 'Error'
 
     def get_absolute_url(self):
diff --git a/djangodblog/templates/admin/djangodblog/errorbatch/change_list.html b/djangodblog/templates/admin/djangodblog/errorbatch/change_list.html
index 6c4fc9a03b..2457bcfca5 100644
--- a/djangodblog/templates/admin/djangodblog/errorbatch/change_list.html
+++ b/djangodblog/templates/admin/djangodblog/errorbatch/change_list.html
@@ -5,19 +5,73 @@
 {% block extrastyle %}
 	{{ block.super }}
 	<style type="text/css">
-		#changelist .start-cell td, #changelist .start-cell th { border-bottom: 0 !important; }
-		#changelist td, #changelist th { padding-bottom: 3px; border-left: 0 !important; border: 0 !important; }
-		#changelist .end-cell td { border-top: 0; padding-top: 2px; }
-		#changelist .cell-status-0 { background: #FED; border-color: #E99; }
-		#changelist .cell-status-0.row2 { background: #FDC; border-color: #E88; }
+		#changelist .start-cell td,
+		#changelist .start-cell th {
+			border-bottom: 0 !important;
+		}
+		#changelist .meta-info {
+			color:#666;
+		}
+		#changelist td,
+		#changelist th {
+			padding-bottom: 3px;
+			border-left: 0 !important;
+			border: 0 !important;
+		}
+		#changelist .end-cell td {
+			border-top: 0;
+			padding-top: 2px;
+		}
 		#changelist td { border-color: inherit !important; }
-		#changelist .cell-status-1 { background: #dffee0; border-color: #99e999; }
-		#changelist .cell-status-1.row2 { background: #d1fdcf; border-color: #88e888; }
+		#changelist .cell-status-1 {
+			background: inherit !important;
+			border-color: inherit !important;
+			color: #666;
+			text-decoration: line-through;;
+		}
+		#changelist .cell-status-0,
+		#changelist .cell-level-40,
+		#changelist .cell-level-50 {
+			background: #FDC;
+			border-color: #E88;
+		}
+		#changelist .cell-status-0.row2,
+		#changelist .cell-level-40.row2,
+		#changelist .cell-level-50.row2 {
+			background: #FED;
+			border-color: #E99;
+		}
+		#changelist .cell-level-30 {
+			background: #ffb;
+			border-color: #eea;
+		}
+		#changelist .cell-level-30.row2 {
+			background: #ffd;
+			border-color: #dd8;
+		}
+
+		#changelist .cell-level-20 {
+			background: #DDFFFF;
+			border-color: #BBEEEE;
+		}
+		#changelist .cell-level-20.row2 {
+			background: #E7FFFF;
+			border-color: #CCEEEE;
+		}
+		
+		#changelist .cell-level-10 {
+			background: #DDE7FF;
+			border-color: #CCDDEE;
+		}
+		#changelist .cell-level-10.row2 {
+			background: #E7EEFF;
+			border-color: #CCDDEE;
+		}
 	</style>
 {% endblock %}
 
 {% block result_list %}
-    {% if action_form and actions_on_top and cl.full_result_count %}{% admin_actions %}{% endif %}
+    {% if action_form and actions_on_top %}{% admin_actions %}{% endif %}
 	{% result_list cl %}
-    {% if action_form and actions_on_bottom and cl.full_result_count %}{% admin_actions %}{% endif %}
+    {% if action_form and actions_on_bottom %}{% admin_actions %}{% endif %}
 {% endblock %}
\ No newline at end of file
diff --git a/djangodblog/templates/admin/djangodblog/errorbatch/change_list_results.html b/djangodblog/templates/admin/djangodblog/errorbatch/change_list_results.html
index f0d087e827..cdfa182256 100644
--- a/djangodblog/templates/admin/djangodblog/errorbatch/change_list_results.html
+++ b/djangodblog/templates/admin/djangodblog/errorbatch/change_list_results.html
@@ -10,8 +10,8 @@
 	</thead>
 	<tbody>
 	{% for result in results %}
-		<tr class="{% cycle 'row1' 'row2' %} start-cell cell-status-{{ result.instance.status }}">{% for item in result.cells %}{{ item }}{% endfor %}</tr>
-		<tr class="{% cycle 'row1' 'row2' %} end-cell cell-status-{{ result.instance.status }}"><td>&nbsp;</td><td style="color:#666;" colspan="{{ result.num_real_cells }}">{{ result.instance.error }}</tr>
+		<tr class="{% cycle 'row1' 'row2' %} start-cell cell-status-{{ result.instance.status }} cell-level-{{ result.instance.level }}">{% for item in result.cells %}{{ item }}{% endfor %}</tr>
+		<tr class="{% cycle 'row1' 'row2' %} end-cell cell-status-{{ result.instance.status }} cell-level-{{ result.instance.level }}"><td>&nbsp;</td><td class="meta-info" colspan="{{ result.num_real_cells }}">{{ result.instance.error }}</tr>
 	{% endfor %}
 	</tbody>
 	</table>
