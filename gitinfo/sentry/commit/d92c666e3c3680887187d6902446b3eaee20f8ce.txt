commit d92c666e3c3680887187d6902446b3eaee20f8ce
Author: David Cramer <dcramer@gmail.com>
Date:   Tue May 20 10:53:48 2014 -0700

    Ensure context_locals fails softly when not a dict

diff --git a/src/sentry/interfaces/stacktrace.py b/src/sentry/interfaces/stacktrace.py
index ced45bbbf9..c3a060e085 100644
--- a/src/sentry/interfaces/stacktrace.py
+++ b/src/sentry/interfaces/stacktrace.py
@@ -153,6 +153,8 @@ class Frame(Interface):
         context_locals = data.get('vars') or {}
         if isinstance(context_locals, (list, tuple)):
             context_locals = dict(enumerate(context_locals))
+        elif not isinstance(context_locals, dict):
+            context_locals = {}
         context_locals = trim_dict(context_locals)
 
         # extra data is used purely by internal systems,
