commit 449cf79439a5ba735392a8ef09ec6132e75d03c9
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Nov 25 15:38:11 2012 -0800

    Correct project select box

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index 34f7036aa0..954dab4385 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -216,6 +216,7 @@ h3 {
     }
 
     .select2-container .select2-choice { 
+      width: 150px;
       height: 28px;
       line-height: 28px;
       top: -3px;
diff --git a/src/sentry/templates/sentry/dashboard.html b/src/sentry/templates/sentry/dashboard.html
index 8199391d9b..8f0b5fb725 100644
--- a/src/sentry/templates/sentry/dashboard.html
+++ b/src/sentry/templates/sentry/dashboard.html
@@ -4,19 +4,6 @@
 
 {% block title %}{% trans "Dashboard" %} | {{ block.super }}{% endblock %}
 
-{% block page_header %}
-   <ul class="breadcrumb">
-        <li><a href="{% url sentry %}" class="dashboard-btn" title="{% trans "Dashboard" %}"><i aria-hidden="true" class="icon-list"></i></a></li>
-        <li class="projects filter">
-            <select class="filter-list">
-                <option>Select a project...</option>
-                <option>option 2</option>
-                <option>option 3</option>
-            </select>
-        </li>
-    </ul>
-{% endblock %}
-
 {% block main %}
     <section class="body">
         {% if PROJECT_LIST %}
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index 4a1c5fc2a9..460be83b00 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -90,15 +90,15 @@
                 {% block page_header %}
                     <ul class="breadcrumb">
                         <li><a href="{% url sentry %}" class="dashboard-btn" title="{% trans "Dashboard" %}"><i aria-hidden="true" class="icon-list"></i></a></li>
-                        {% if project %}
-                        <li class="projects filter">
-                            <select class="filter-list">
-                                <option value="{% url sentry project.slug %}">{{ project.name }}</option>
-                                <option>option 2</option>
-                                <option>option 3</option>
+                        <li class="projects">
+                            <select class="project-selector">
+                                {% for p in PROJECT_LIST %}
+                                    <option value="{{ p.slug }}"{% if p == project %} selected="selected"{% endif %} data-url="{% url sentry p.slug %}">{{ p.name }}</option>
+                                {% endfor %}
                             </select>
                         </li>
-                        <li class="project-settings"><a href="{% url sentry-manage-project project.slug %}" class="{% trans "Settings" %}"><i aria-hidden="true" class="icon-cog"></i></a></li>
+                        {% if project %}
+                            <li class="project-settings"><a href="{% url sentry-manage-project project.slug %}" class="{% trans "Settings" %}"><i aria-hidden="true" class="icon-cog"></i></a></li>
                         {% endif %}
                         {% block breadcrumb %}
                         {% endblock %}
@@ -163,6 +163,12 @@
             $('input[data-toggle="datepicker"]').datepicker();
             $('.tip').tooltip();
             $('.nav-tabs .active a').tab('show')
+            $('.project-selector').select2().on('change', function(e){
+                var $el = $(e.target).get(0);
+                var $opt = $($el.options[$el.selectedIndex]);
+                window.location.href = $opt.attr('data-url');
+                return false;
+            });
         });
         </script>
     </body>
