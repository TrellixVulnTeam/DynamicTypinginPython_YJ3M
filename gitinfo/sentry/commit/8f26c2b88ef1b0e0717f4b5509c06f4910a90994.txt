commit 8f26c2b88ef1b0e0717f4b5509c06f4910a90994
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed May 4 14:52:17 2016 +0200

    Enable mysql in travis

diff --git a/.travis.yml b/.travis.yml
index d2660fdfe5..e1fe175457 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -2,6 +2,7 @@ sudo: false
 language: python
 services:
   - memcached
+  - mysql
   - riak
   - postgresql
   - redis-server
@@ -17,6 +18,7 @@ env:
   matrix:
     - TEST_SUITE=sqlite DB=sqlite
     - TEST_SUITE=postgres DB=postgres
+    - TEST_SUITE=mysql DB=mysql
     - TEST_SUITE=js
     - TEST_SUITE=cli
     - TEST_SUITE=dist
diff --git a/Makefile b/Makefile
index f31fe3015c..125387da3d 100644
--- a/Makefile
+++ b/Makefile
@@ -160,6 +160,9 @@ travis-noop:
 travis-install-sqlite: travis-install-python
 travis-install-postgres: travis-install-python dev-postgres
 	psql -c 'create database sentry;' -U postgres
+travis-install-mysql: travis-install-python
+	pip install mysqlclient
+	echo 'create database sentry;' | mysql -uroot
 travis-install-js: install-npm
 travis-install-cli: travis-install-python
 travis-install-dist: travis-noop
@@ -169,19 +172,21 @@ travis-install-dist: travis-noop
 # Lint steps
 travis-lint-sqlite: lint-python
 travis-lint-postgres: lint-python
+travis-lint-mysql: lint-python
 travis-lint-js: lint-js
 travis-lint-cli: travis-noop
 travis-lint-dist: travis-noop
 
-.PHONY: travis-lint-sqlite travis-lint-postgres travis-lint-js travis-lint-cli travis-lint-dist
+.PHONY: travis-lint-sqlite travis-lint-postgres travis-lint-mysql travis-lint-js travis-lint-cli travis-lint-dist
 
 # Test steps
 travis-test-sqlite: test-python-coverage
 travis-test-postgres: test-python-coverage
+travis-test-mysql: test-python-coverage
 travis-test-js: test-js
 travis-test-ci: test-ci
 travis-test-dist:
 	SENTRY_BUILD=$(TRAVIS_COMMIT) SENTRY_LIGHT_BUILD=0 python setup.py sdist bdist_wheel
 	@ls -lh dist/
 
-.PHONY: travis-test-sqlite travis-test-postgres travis-test-js travis-test-cli travis-test-dist
+.PHONY: travis-test-sqlite travis-test-postgres travis-test-mysql travis-test-js travis-test-cli travis-test-dist
diff --git a/src/sentry/utils/pytest.py b/src/sentry/utils/pytest.py
index a260ca0328..d77d693fb2 100644
--- a/src/sentry/utils/pytest.py
+++ b/src/sentry/utils/pytest.py
@@ -24,6 +24,8 @@ def pytest_configure(config):
                 'NAME': 'sentry',
                 'USER': 'root',
             })
+            # mysql requires running full migration all the time
+            settings.SOUTH_TESTS_MIGRATE = True
         elif test_db == 'postgres':
             settings.DATABASES['default'].update({
                 'ENGINE': 'sentry.db.postgres',
