commit 2f4145f5661fed0633b7e7daca89b3fd18a8b518
Author: Dora <dora.l.chan@gmail.com>
Date:   Fri Apr 3 10:50:55 2020 -0700

    feat(perf tooltips): adding to index and latency cleanup (#18079)
    
    * added tooltips
    
    * update copy
    
    Co-authored-by: Dora Chan <dora.lchan@gmail.com>

diff --git a/src/sentry/static/sentry/app/views/performance/charts/chart.tsx b/src/sentry/static/sentry/app/views/performance/charts/chart.tsx
index 98c98ec74b..7cf5c0661f 100644
--- a/src/sentry/static/sentry/app/views/performance/charts/chart.tsx
+++ b/src/sentry/static/sentry/app/views/performance/charts/chart.tsx
@@ -4,8 +4,9 @@ import * as ReactRouter from 'react-router';
 import {TimeSeriesData} from 'app/views/events/utils/eventsRequest';
 import AreaChart from 'app/components/charts/areaChart';
 import ChartZoom from 'app/components/charts/chartZoom';
+import Tooltip from 'app/components/tooltip';
 
-import {HeaderTitle, ChartContainer} from './styles';
+import {HeaderTitle, ChartContainer, StyledIconQuestion} from '../styles';
 
 type Props = {
   yAxis: string;
@@ -16,6 +17,7 @@ type Props = {
   projects: number[];
   environments: string[];
   loading: boolean;
+  tooltipCopy: string;
 };
 
 class Chart extends React.Component<Props> {
@@ -29,6 +31,7 @@ class Chart extends React.Component<Props> {
       projects,
       environments,
       loading,
+      tooltipCopy,
     } = this.props;
     const {timeseriesData} = data;
 
@@ -64,7 +67,12 @@ class Chart extends React.Component<Props> {
 
     return (
       <ChartContainer key="loaded">
-        <HeaderTitle>{yAxis}</HeaderTitle>
+        <HeaderTitle>
+          {yAxis}
+          <Tooltip position="top" title={tooltipCopy}>
+            <StyledIconQuestion size="sm" />
+          </Tooltip>
+        </HeaderTitle>
         <ChartZoom
           router={router}
           period={statsPeriod}
diff --git a/src/sentry/static/sentry/app/views/performance/charts/index.tsx b/src/sentry/static/sentry/app/views/performance/charts/index.tsx
index f6bb986f3b..5cceb96caa 100644
--- a/src/sentry/static/sentry/app/views/performance/charts/index.tsx
+++ b/src/sentry/static/sentry/app/views/performance/charts/index.tsx
@@ -17,13 +17,22 @@ import {getUtcToLocalDateObject} from 'app/utils/dates';
 import {IconWarning} from 'app/icons';
 import theme from 'app/utils/theme';
 
-import {ChartsContainer, ChartsGrid} from './styles';
+import {ChartsContainer, ChartsGrid} from '../styles';
 import Chart from './chart';
 import Footer from './footer';
 
 const YAXIS_OPTIONS = [
-  {label: 'Apdex', value: 'apdex(300)'},
-  {label: 'Throughput', value: 'rpm()'},
+  {
+    label: 'Apdex',
+    value: 'apdex(300)',
+    tooltip:
+      'Apdex is a ratio of satisfactory response times to unsatisfactory response times.',
+  },
+  {
+    label: 'Throughput',
+    value: 'rpm()',
+    tooltip: 'Throughput is the number of recorded requests per minute (rpm).',
+  },
 ];
 
 type Props = {
@@ -103,6 +112,7 @@ class Container extends React.Component<Props> {
                             utc={utc === 'true'}
                             projects={globalSelection.project}
                             environments={globalSelection.environment}
+                            tooltipCopy={yAxis.tooltip}
                           />
                         ),
                         fixed: 'events chart',
diff --git a/src/sentry/static/sentry/app/views/performance/charts/styles.tsx b/src/sentry/static/sentry/app/views/performance/charts/styles.tsx
deleted file mode 100644
index f17730e49a..0000000000
--- a/src/sentry/static/sentry/app/views/performance/charts/styles.tsx
+++ /dev/null
@@ -1,22 +0,0 @@
-import styled from '@emotion/styled';
-
-import space from 'app/styles/space';
-
-export const HeaderTitle = styled('span')`
-  font-size: ${p => p.theme.fontSizeLarge};
-  padding: 0 ${space(1)};
-`;
-
-export const ChartsContainer = styled('div')`
-  padding: ${space(2)} ${space(1.5)};
-`;
-
-export const ChartsGrid = styled('div')`
-  display: grid;
-  grid-template-columns: 1fr 1fr;
-  grid-column-gap: ${space(1)};
-`;
-
-export const ChartContainer = styled('div')`
-  flex-grow: 1;
-`;
diff --git a/src/sentry/static/sentry/app/views/performance/styles.tsx b/src/sentry/static/sentry/app/views/performance/styles.tsx
index a5b9737a90..70ebc90605 100644
--- a/src/sentry/static/sentry/app/views/performance/styles.tsx
+++ b/src/sentry/static/sentry/app/views/performance/styles.tsx
@@ -2,6 +2,7 @@ import styled from '@emotion/styled';
 
 import space from 'app/styles/space';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
+import {IconQuestion} from 'app/icons';
 
 export const TableGrid = styled('table')`
   margin: 0;
@@ -62,3 +63,32 @@ export const SummaryGridRow = styled('tr')`
   display: grid;
   grid-template-columns: auto minmax(70px, 170px) minmax(70px, 230px);
 `;
+
+export const HeaderTitle = styled('div')`
+  font-size: ${p => p.theme.fontSizeLarge};
+  color: ${p => p.theme.gray4};
+  padding: 0 ${space(1)};
+
+  span {
+    vertical-align: middle;
+  }
+`;
+
+export const ChartsContainer = styled('div')`
+  padding: ${space(2)} ${space(1.5)};
+`;
+
+export const ChartsGrid = styled('div')`
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  grid-column-gap: ${space(1)};
+`;
+
+export const ChartContainer = styled('div')`
+  flex-grow: 1;
+`;
+
+export const StyledIconQuestion = styled(IconQuestion)`
+  color: ${p => p.theme.gray1};
+  margin-left: ${space(0.5)};
+`;
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
index f85671f857..6fe7aa17da 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
@@ -1,12 +1,11 @@
 import React from 'react';
-import styled from '@emotion/styled';
 import {Location} from 'history';
 import {browserHistory} from 'react-router';
 import isEqual from 'lodash/isEqual';
 import pick from 'lodash/pick';
 
 import {Panel} from 'app/components/panels';
-import {IconQuestion, IconWarning} from 'app/icons';
+import {IconWarning} from 'app/icons';
 import {t} from 'app/locale';
 import BarChart from 'app/components/charts/barChart';
 import ErrorPanel from 'app/components/charts/components/errorPanel';
@@ -15,17 +14,17 @@ import {
   InlineContainer,
   SectionHeading,
   SectionValue,
-  SubHeading,
 } from 'app/components/charts/styles';
-import Tooltip from 'app/components/tooltip';
 import AsyncComponent from 'app/components/asyncComponent';
+import Tooltip from 'app/components/tooltip';
 import {OrganizationSummary} from 'app/types';
 import LoadingPanel from 'app/views/events/loadingPanel';
 import EventView from 'app/utils/discover/eventView';
-import space from 'app/styles/space';
 import theme from 'app/utils/theme';
 import {getDuration} from 'app/utils/formatters';
 
+import {HeaderTitle, ChartsContainer, StyledIconQuestion} from '../styles';
+
 const NUM_BUCKETS = 15;
 const QUERY_KEYS = [
   'environment',
@@ -218,7 +217,7 @@ class LatencyHistogram extends AsyncComponent<Props, State> {
     return (
       <React.Fragment>
         <BarChart
-          grid={{left: '24px', right: '24px', top: '32px', bottom: '16px'}}
+          grid={{left: '10px', right: '10px', top: '16px', bottom: '0px'}}
           xAxis={xAxis}
           yAxis={{type: 'value'}}
           series={transformData(chartData.data, this.bucketWidth)}
@@ -248,20 +247,22 @@ type WrapperProps = ViewProps & {
 function LatencyChart({totalValues, ...props}: WrapperProps) {
   return (
     <Panel>
-      <PaddedSubHeading>
-        <span>{t('Latency Distribution')}</span>
-        <Tooltip
-          position="top"
-          title={t(
-            `This graph shows the volume of transactions that completed within each duration bucket.
-               X-axis values represent the median value of each bucket.
-               `
-          )}
-        >
-          <IconQuestion size="sm" color={theme.gray6} />
-        </Tooltip>
-      </PaddedSubHeading>
-      <LatencyHistogram {...props} />
+      <ChartsContainer>
+        <HeaderTitle>
+          {t('Latency Distribution')}
+          <Tooltip
+            position="top"
+            title={t(
+              `This graph shows the volume of transactions that completed within each duration bucket.
+                X-axis values represent the median value of each bucket.
+                `
+            )}
+          >
+            <StyledIconQuestion size="sm" />
+          </Tooltip>
+        </HeaderTitle>
+        <LatencyHistogram {...props} />
+      </ChartsContainer>
       <ChartControls>
         <InlineContainer>
           <SectionHeading key="total-heading">{t('Total Events')}</SectionHeading>
@@ -293,14 +294,4 @@ function transformData(data: ApiResult[], bucketWidth: number) {
   ];
 }
 
-const PaddedSubHeading = styled(SubHeading)`
-  display: flex;
-  align-items: flex-start;
-  margin: ${space(2)} 0 ${space(1)} ${space(3)};
-
-  & > span {
-    margin-right: ${space(1)};
-  }
-`;
-
 export default LatencyChart;
