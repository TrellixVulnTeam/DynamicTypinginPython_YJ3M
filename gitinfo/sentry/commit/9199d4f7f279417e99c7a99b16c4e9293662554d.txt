commit 9199d4f7f279417e99c7a99b16c4e9293662554d
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jul 7 03:13:41 2016 +0500

    Added a comment explaining the otp counter

diff --git a/src/sentry/models/authenticator.py b/src/sentry/models/authenticator.py
index b6a43a3e24..039dda79ea 100644
--- a/src/sentry/models/authenticator.py
+++ b/src/sentry/models/authenticator.py
@@ -349,6 +349,11 @@ class OtpMixin(object):
             )
 
     def check_otp_counter(self, counter):
+        # OTP uses an internal counter that increments every 30 seconds.
+        # A hash function generates a six digit code based on the counter
+        # and a secret key.  If the generated PIN was used it is marked in
+        # redis as used by remembering which counter it was generated
+        # from.  This is what we check for here.
         cache_key = self._get_otp_counter_cache_key(counter)
         return cache_key is None or cache.get(cache_key) != '1'
 
