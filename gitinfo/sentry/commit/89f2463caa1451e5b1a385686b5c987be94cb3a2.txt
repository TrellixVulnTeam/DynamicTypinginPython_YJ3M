commit 89f2463caa1451e5b1a385686b5c987be94cb3a2
Author: Dan Fuller <dfuller@sentry.io>
Date:   Wed Apr 24 14:32:03 2019 -0700

    fix: Don't error when processing a rule that uses a removed plugin.
    
    Since we removed the hipchat plugin rules that reference it are throwing errors. No need to do so,
    just ignore those actions.
    
    Fixes SENTRY-AHV

diff --git a/src/sentry/rules/actions/notify_event_service.py b/src/sentry/rules/actions/notify_event_service.py
index 8def9cba8f..ac6bea70cf 100644
--- a/src/sentry/rules/actions/notify_event_service.py
+++ b/src/sentry/rules/actions/notify_event_service.py
@@ -64,7 +64,14 @@ class NotifyEventServiceAction(EventAction):
             metrics.incr('notifications.sent', instance=app.slug, skip_internal=False)
             yield self.future(notify_sentry_app, **kwargs)
         else:
-            plugin = plugins.get(service)
+            try:
+                plugin = plugins.get(service)
+            except KeyError:
+                # If we've removed the plugin no need to error, just skip.
+                extra['plugin'] = service
+                self.logger.info('rules.fail.plugin_does_not_exist', extra=extra)
+                return
+
             if not plugin.is_enabled(self.project):
                 extra['project_id'] = self.project.id
                 self.logger.info('rules.fail.is_enabled', extra=extra)
