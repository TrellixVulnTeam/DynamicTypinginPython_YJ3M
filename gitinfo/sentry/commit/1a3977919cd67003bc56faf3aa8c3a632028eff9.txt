commit 1a3977919cd67003bc56faf3aa8c3a632028eff9
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 8 08:44:39 2012 -0700

    DISTINCT on trending query to prevent duplicate rows returned

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 3f9108ffe1..8df8058fa3 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -741,7 +741,7 @@ class GroupManager(BaseManager, ChartMixin):
         after_group = after_group.split(' ORDER BY ')[0]
 
         query = """
-        SELECT (SUM(%(mcbm_tbl)s.times_seen) * (%(norm)f / (%(epoch_clause)s / 60)) + 1.0) / (COALESCE(z.rate, 0) + 1.0) as accel,
+        SELECT DISTINCT (SUM(%(mcbm_tbl)s.times_seen) * (%(norm)f / (%(epoch_clause)s / 60)) + 1.0) / (COALESCE(z.rate, 0) + 1.0) as accel,
                (COALESCE(z.rate, 0) + 1.0) as prev_rate,
                %(before_where)s
         LEFT JOIN (SELECT a.group_id, SUM(a.times_seen) / COUNT(a.times_seen) / %(norm)f as rate
