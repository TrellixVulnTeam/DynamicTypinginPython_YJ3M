commit 36c429a9090cab4028cf0966599baa14e381e445
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 10 15:04:45 2016 -0700

    Handle missing message attribute on send error

diff --git a/src/sentry/utils/raven.py b/src/sentry/utils/raven.py
index 79559e9e9f..76e178cd39 100644
--- a/src/sentry/utils/raven.py
+++ b/src/sentry/utils/raven.py
@@ -111,9 +111,13 @@ class SentryInternalClient(DjangoClient):
         except Exception as e:
             if self.raise_send_errors:
                 raise
+            message = kwargs.get('message')
+            if not message:
+                msg_interface = kwargs.get('sentry.interface.Message', {})
+                message = msg_interface.get('formatted', msg_interface.get('message', 'unknown error'))
             self.error_logger.error(
                 'Unable to record event: %s\nEvent was: %r', e,
-                kwargs['message'], exc_info=True)
+                message, exc_info=True)
 
 
 class SentryInternalFilter(logging.Filter):
