commit e71c33edc7f389dec08921eda262856576b659bc
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 8 15:06:49 2015 -0400

    Redirect to org login in Single Org mode

diff --git a/src/sentry/web/frontend/auth_login.py b/src/sentry/web/frontend/auth_login.py
index 8d64da563b..8fac5f27b1 100644
--- a/src/sentry/web/frontend/auth_login.py
+++ b/src/sentry/web/frontend/auth_login.py
@@ -1,5 +1,6 @@
 from __future__ import absolute_import, print_function
 
+from django.conf import settings
 from django.contrib import messages
 from django.contrib.auth import login
 from django.core.urlresolvers import reverse
@@ -64,6 +65,12 @@ class AuthLoginView(BaseView):
         return self.respond('sentry/login.html', context)
 
     def handle(self, request):
+        if settings.SENTRY_SINGLE_ORGANIZATION:
+            org = Organization.objects.all()[0]
+            next_uri = reverse('sentry-auth-organization',
+                               args=[org.slug])
+            return HttpResponseRedirect(next_uri)
+
         if request.POST.get('op') == 'sso' and request.POST.get('organization'):
             auth_provider = self.get_auth_provider(request.POST['organization'])
             if auth_provider:
