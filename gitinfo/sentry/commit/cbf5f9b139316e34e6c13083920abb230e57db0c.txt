commit cbf5f9b139316e34e6c13083920abb230e57db0c
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Dec 10 16:53:02 2015 -0800

    Default fingerprint must be a list

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index af1e0b074a..0c61f64e34 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -429,7 +429,7 @@ class EventManager(object):
         # this propagates into Event
         data['tags'] = tags
 
-        data['fingerprint'] = fingerprint or '{{ default }}'
+        data['fingerprint'] = fingerprint or ['{{ default }}']
 
         # prioritize fingerprint over checksum as its likely the client defaulted
         # a checksum whereas the fingerprint was explicit
diff --git a/tests/sentry/test_event_manager.py b/tests/sentry/test_event_manager.py
index 156b48661e..cb5c97d33c 100644
--- a/tests/sentry/test_event_manager.py
+++ b/tests/sentry/test_event_manager.py
@@ -441,6 +441,13 @@ class EventManagerTest(TransactionTestCase):
 
         assert dict(event.tags).get('environment') == 'beta'
 
+    def test_default_fingerprint(self):
+        manager = EventManager(self.make_event())
+        manager.normalize()
+        event = manager.save(self.project.id)
+
+        assert event.data.get('fingerprint') == ['{{ default }}']
+
 
 class GetHashesFromEventTest(TestCase):
     @patch('sentry.interfaces.stacktrace.Stacktrace.compute_hashes')
