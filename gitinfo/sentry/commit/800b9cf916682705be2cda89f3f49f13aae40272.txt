commit 800b9cf916682705be2cda89f3f49f13aae40272
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 2 11:20:14 2012 -0800

    Remove micrseconds and its breaks mysql tests

diff --git a/tests/http/tests.py b/tests/http/tests.py
index 63263c95de..d11b42e2be 100644
--- a/tests/http/tests.py
+++ b/tests/http/tests.py
@@ -73,7 +73,7 @@ class SentryRemoteTest(TestCase):
         self.assertEquals(instance.site, 'not_a_real_site')
 
     def test_timestamp(self):
-        timestamp = datetime.datetime.utcnow() - datetime.timedelta(hours=1)
+        timestamp = datetime.datetime.utcnow().replace(microsecond=0) - datetime.timedelta(hours=1)
         kwargs = {u'message': 'hello', 'timestamp': timestamp.strftime('%s.%f')}
         resp = self._postWithSignature(kwargs)
         self.assertEquals(resp.status_code, 200, resp.content)
@@ -85,7 +85,7 @@ class SentryRemoteTest(TestCase):
         self.assertEquals(group.last_seen, timestamp)
 
     def test_timestamp_as_iso(self):
-        timestamp = datetime.datetime.utcnow() - datetime.timedelta(hours=1)
+        timestamp = datetime.datetime.utcnow().replace(microsecond=0) - datetime.timedelta(hours=1)
         kwargs = {u'message': 'hello', 'timestamp': timestamp.strftime('%Y-%m-%dT%H:%M:%S.%f')}
         resp = self._postWithSignature(kwargs)
         self.assertEquals(resp.status_code, 200, resp.content)
