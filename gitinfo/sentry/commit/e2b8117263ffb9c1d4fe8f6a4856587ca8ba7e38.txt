commit e2b8117263ffb9c1d4fe8f6a4856587ca8ba7e38
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jan 12 14:39:07 2011 -0800

    Allow placeholder to be specified for Search

diff --git a/sentry/filters/__init__.py b/sentry/filters/__init__.py
index 9200ac39c3..ee0353e956 100644
--- a/sentry/filters/__init__.py
+++ b/sentry/filters/__init__.py
@@ -15,14 +15,15 @@ class Widget(object):
         return self.filter.get_query_string()
 
 class TextWidget(Widget):
-    def render(self, value):
-        return mark_safe('<div class="sidebar-module filter-text"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s"/></p><p class="submit"><input type="submit" class="search-submit"/></p></div>' % dict(
+    def render(self, value, placeholder='', **kwargs):
+        return mark_safe('<div class="sidebar-module filter-text"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s" placeholder="%(placeholder)s"/></p><p class="submit"><input type="submit" class="search-submit"/></p></div>' % dict(
             name=self.filter.get_query_param(),
             value=escape(value),
+            placeholder=escape(placeholder),
         ))
 
 class ChoiceWidget(Widget):
-    def render(self, value):
+    def render(self, value, **kwargs):
         choices = self.filter.get_choices()
         query_string = self.get_query_string()
         column = self.filter.get_query_param()
@@ -109,6 +110,10 @@ class SearchFilter(SentryFilter):
         # this is really just a hack
         return queryset
 
+    def render(self):
+        widget = self.get_widget()
+        return widget.render(self.get_value(), placeholder='search query or message id')
+
 class StatusFilter(SentryFilter):
     label = 'Status'
     column = 'status'
