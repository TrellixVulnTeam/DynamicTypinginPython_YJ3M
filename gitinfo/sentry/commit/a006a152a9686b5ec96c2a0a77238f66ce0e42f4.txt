commit a006a152a9686b5ec96c2a0a77238f66ce0e42f4
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Sat Feb 27 00:25:29 2016 +0100

    system.admin-auth-password -> system.root-api-key

diff --git a/src/sentry/api/authentication.py b/src/sentry/api/authentication.py
index 695edb56a4..5a69b38837 100644
--- a/src/sentry/api/authentication.py
+++ b/src/sentry/api/authentication.py
@@ -18,17 +18,14 @@ class QuietBasicAuthentication(BasicAuthentication):
 
 class ApiKeyAuthentication(QuietBasicAuthentication):
     def authenticate_credentials(self, userid, password):
-        if userid == 'admin':
-            ref_pw = options.get('system.admin-auth-password')
-            if not ref_pw:
-                raise AuthenticationFailed('System admin authentication disabled')
-            if not constant_time_compare(ref_pw, password):
-                raise AuthenticationFailed('Invalid system admin password')
-            return (None, SYSTEM_KEY)
-
         if password:
             return
 
+        root_api_key = options.get('system.root-api-key')
+        if root_api_key:
+            if constant_time_compare(root_api_key, userid):
+                return (None, SYSTEM_KEY)
+
         try:
             key = ApiKey.objects.get_from_cache(key=userid)
         except ApiKey.DoesNotExist:
diff --git a/src/sentry/options/defaults.py b/src/sentry/options/defaults.py
index fab84f5295..5eabf8b7d6 100644
--- a/src/sentry/options/defaults.py
+++ b/src/sentry/options/defaults.py
@@ -38,4 +38,4 @@ register('redis.options', type=Dict, flags=FLAG_NOSTORE)
 
 # Absolute URL to the sentry root directory. Should not include a trailing slash.
 register('system.url-prefix', ttl=60, grace=3600, flags=FLAG_REQUIRED | FLAG_PRIORITIZE_DISK)
-register('system.admin-auth-password', type=String)
+register('system.root-api-key', type=String)
