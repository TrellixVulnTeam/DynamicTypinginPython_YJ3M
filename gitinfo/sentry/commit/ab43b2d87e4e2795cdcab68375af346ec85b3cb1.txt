commit ab43b2d87e4e2795cdcab68375af346ec85b3cb1
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Aug 5 11:25:51 2016 -0700

    Fix Python3 compat
    
    - Unicode support in Git hook
    - Bad reduce usage

diff --git a/config/hooks/pre-commit b/config/hooks/pre-commit
index 9fe24e8465..32775d10be 100755
--- a/config/hooks/pre-commit
+++ b/config/hooks/pre-commit
@@ -8,6 +8,8 @@ from glob import glob
 
 from sentry.lint.engine import check_files
 
+text_type = type(u'')
+
 
 # git usurbs your bin path for hooks and will always run system python
 if 'VIRTUAL_ENV' in os.environ:
@@ -24,7 +26,7 @@ def main():
     _, files_modified, _ = run(gitcmd)
 
     files_modified = [
-        f
+        text_type(f)
         for f in files_modified
         if os.path.exists(f)
     ]
diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
index 90bcfb89ce..3d5c205451 100644
--- a/src/sentry/search/utils.py
+++ b/src/sentry/search/utils.py
@@ -6,6 +6,7 @@ from collections import defaultdict
 from datetime import datetime, timedelta
 from django.db.models import Q
 from django.utils import timezone
+from six.moves import reduce
 
 from sentry.constants import STATUS_CHOICES
 from sentry.models import EventUser, User
