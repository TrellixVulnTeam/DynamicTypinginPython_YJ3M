commit 804ab89ab3f42ab1e1e869f33aab4249f2bd0297
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Apr 1 16:14:59 2019 -0700

    tests(selenium): Add --no-headless option (#12607)

diff --git a/src/sentry/utils/pytest/selenium.py b/src/sentry/utils/pytest/selenium.py
index 609ee259bb..e3d3ceac29 100644
--- a/src/sentry/utils/pytest/selenium.py
+++ b/src/sentry/utils/pytest/selenium.py
@@ -243,6 +243,7 @@ def pytest_addoption(parser):
     group._addoption('--phantomjs-path', dest='phantomjs_path', help='path to phantomjs driver')
     group._addoption('--chrome-path', dest='chrome_path', help='path to google-chrome')
     group._addoption('--chromedriver-path', dest='chromedriver_path', help='path to chromedriver')
+    group._addoption('--no-headless', dest='no_headless', help='show a browser while running the tests (chrome)')
 
 
 def pytest_configure(config):
@@ -277,12 +278,14 @@ def browser(request, percy, live_server):
     window_width, window_height = list(map(int, window_size.split('x', 1)))
 
     driver_type = request.config.getoption('selenium_driver')
+    headless = not request.config.getoption('no_headless')
     if driver_type == 'chrome':
         options = webdriver.ChromeOptions()
-        options.add_argument('headless')
         options.add_argument('no-sandbox')
         options.add_argument('disable-gpu')
         options.add_argument(u'window-size={}'.format(window_size))
+        if headless:
+            options.add_argument('headless')
         chrome_path = request.config.getoption('chrome_path')
         if chrome_path:
             options.binary_location = chrome_path
