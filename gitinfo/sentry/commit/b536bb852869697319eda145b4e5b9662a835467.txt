commit b536bb852869697319eda145b4e5b9662a835467
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 17 00:16:45 2013 -0700

    Gracefully handle bad tag data

diff --git a/src/sentry/models.py b/src/sentry/models.py
index 0d999a5108..de1b47599d 100644
--- a/src/sentry/models.py
+++ b/src/sentry/models.py
@@ -713,10 +713,15 @@ class Event(EventBase):
         return module, self.data['__sentry__']['version']
 
     def get_tags(self):
-        return [
-            (t, v) for t, v in self.data.get('tags') or ()
-            if not t.startswith('sentry:')
-        ]
+        try:
+            return [
+                (t, v) for t, v in self.data.get('tags') or ()
+                if not t.startswith('sentry:')
+            ]
+        except ValueError:
+            # at one point Sentry allowed invalid tag sets such as (foo, bar)
+            # vs ((tag, foo), (tag, bar))
+            return []
 
     def as_dict(self):
         # We use a SortedDict to keep elements ordered for a potential JSON serializer
