commit 240a94eb0768f644bd4f37d1097e01862bedd850
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Oct 13 11:33:00 2017 -0700

    feat(react): Add `<Clipboard>` to copy to cb (#6329)

diff --git a/docs-ui/components/clipboard.stories.js b/docs-ui/components/clipboard.stories.js
new file mode 100644
index 0000000000..19e82d0bb8
--- /dev/null
+++ b/docs-ui/components/clipboard.stories.js
@@ -0,0 +1,22 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {action} from '@storybook/addon-actions';
+import {withInfo} from '@storybook/addon-info';
+
+import Clipboard from 'sentry-ui/clipboard';
+
+storiesOf('Clipboard', module).add(
+  'default',
+  withInfo('Copy text to clipboard')(() => (
+    <div>
+      <Clipboard
+        value="This will be copied to clipboard"
+        onSuccess={action('Copied to clipboard')}
+        onError={action('Failed copy to clipboard')}>
+        <span priority="primary">
+          Click to Copy
+        </span>
+      </Clipboard>
+    </div>
+  ))
+);
diff --git a/package.json b/package.json
index fac909eadf..c170697dcb 100644
--- a/package.json
+++ b/package.json
@@ -21,6 +21,7 @@
     "babel-preset-react": "^6.16.0",
     "bootstrap": "3.3.5",
     "classnames": "2.2.0",
+    "clipboard": "^1.7.1",
     "compression-webpack-plugin": "^1.0.0",
     "crypto-js": "3.1.5",
     "css-loader": "^0.28.2",
diff --git a/src/sentry/static/sentry/app/components/clipboard.jsx b/src/sentry/static/sentry/app/components/clipboard.jsx
new file mode 100644
index 0000000000..45786436de
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/clipboard.jsx
@@ -0,0 +1,69 @@
+import Clip from 'clipboard';
+import PropTypes from 'prop-types';
+import React from 'react';
+
+import IndicatorStore from '../stores/indicatorStore';
+
+class Clipboard extends React.Component {
+  static propTypes = {
+    value: PropTypes.string,
+    successMessage: PropTypes.string,
+    errorMessage: PropTypes.string,
+    hideMessages: PropTypes.bool,
+    onSuccess: PropTypes.func,
+    onError: PropTypes.func
+  };
+
+  static defaultProps = {
+    hideMessages: false,
+    successMessage: 'Copied to clipboard',
+    errorMessage: 'Error copying to clipboard'
+  };
+
+  componentWillUnmount() {
+    if (this.clipboard) {
+      this.clipboard.destroy();
+    }
+  }
+
+  handleMount = ref => {
+    if (!ref) return;
+
+    let {hideMessages, successMessage, errorMessage, onSuccess, onError} = this.props;
+    let hasSuccessCb = typeof onSuccess === 'function';
+    let hasErrorCb = typeof onError === 'function';
+    let bindEventHandlers = !hideMessages || hasSuccessCb || hasErrorCb;
+
+    this.clipboard = new Clip(ref, {
+      text: () => this.props.value
+    });
+
+    if (!bindEventHandlers) return;
+
+    this.clipboard
+      .on('success', () => {
+        if (!hideMessages) {
+          IndicatorStore.add(successMessage, 'success', {duration: 2000});
+        }
+        if (hasSuccessCb) {
+          onSuccess();
+        }
+      })
+      .on('error', () => {
+        if (!hideMessages) {
+          IndicatorStore.add(errorMessage, 'error', {duration: 2000});
+        }
+        if (hasErrorCb) {
+          onError();
+        }
+      });
+  };
+
+  render() {
+    return React.cloneElement(this.props.children, {
+      ref: this.handleMount
+    });
+  }
+}
+
+export default Clipboard;
diff --git a/yarn.lock b/yarn.lock
index 59e8cf0af7..749c1fc93e 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -2125,6 +2125,14 @@ cli-width@^2.0.0:
   version "2.1.0"
   resolved "https://registry.yarnpkg.com/cli-width/-/cli-width-2.1.0.tgz#b234ca209b29ef66fc518d9b98d5847b00edf00a"
 
+clipboard@^1.7.1:
+  version "1.7.1"
+  resolved "https://registry.yarnpkg.com/clipboard/-/clipboard-1.7.1.tgz#360d6d6946e99a7a1fef395e42ba92b5e9b5a16b"
+  dependencies:
+    good-listener "^1.2.2"
+    select "^1.1.2"
+    tiny-emitter "^2.0.0"
+
 cliui@^2.1.0:
   version "2.1.0"
   resolved "https://registry.yarnpkg.com/cliui/-/cliui-2.1.0.tgz#4b475760ff80264c762c3a1719032e91c7fea0d1"
@@ -2655,6 +2663,10 @@ delayed-stream@~1.0.0:
   version "1.0.0"
   resolved "https://registry.yarnpkg.com/delayed-stream/-/delayed-stream-1.0.0.tgz#df3ae199acadfb7d440aaae0b29e2272b24ec619"
 
+delegate@^3.1.2:
+  version "3.1.3"
+  resolved "https://registry.yarnpkg.com/delegate/-/delegate-3.1.3.tgz#9a8251a777d7025faa55737bc3b071742127a9fd"
+
 delegates@^1.0.0:
   version "1.0.0"
   resolved "https://registry.yarnpkg.com/delegates/-/delegates-1.0.0.tgz#84c6e159b81904fdca59a0ef44cd870d31250f9a"
@@ -3746,6 +3758,12 @@ globby@^6.1.0:
     pify "^2.0.0"
     pinkie-promise "^2.0.0"
 
+good-listener@^1.2.2:
+  version "1.2.2"
+  resolved "https://registry.yarnpkg.com/good-listener/-/good-listener-1.2.2.tgz#d53b30cdf9313dffb7dc9a0d477096aa6d145c50"
+  dependencies:
+    delegate "^3.1.2"
+
 graceful-fs@^3.0.5:
   version "3.0.11"
   resolved "https://registry.yarnpkg.com/graceful-fs/-/graceful-fs-3.0.11.tgz#7613c778a1afea62f25c630a086d7f3acbbdd818"
@@ -7202,6 +7220,10 @@ select2@3.5.1:
   version "3.5.1"
   resolved "https://registry.yarnpkg.com/select2/-/select2-3.5.1.tgz#f2819489bbc65fd6d328be72bbe2b95dd7e87cfe"
 
+select@^1.1.2:
+  version "1.1.2"
+  resolved "https://registry.yarnpkg.com/select/-/select-1.1.2.tgz#0e7350acdec80b1108528786ec1d4418d11b396d"
+
 selfsigned@^1.9.1:
   version "1.10.1"
   resolved "https://registry.yarnpkg.com/selfsigned/-/selfsigned-1.10.1.tgz#bf8cb7b83256c4551e31347c6311778db99eec52"
@@ -7775,6 +7797,10 @@ timers-browserify@^2.0.2:
   dependencies:
     setimmediate "^1.0.4"
 
+tiny-emitter@^2.0.0:
+  version "2.0.2"
+  resolved "https://registry.yarnpkg.com/tiny-emitter/-/tiny-emitter-2.0.2.tgz#82d27468aca5ade8e5fd1e6d22b57dd43ebdfb7c"
+
 tinycolor2@^1.1.2:
   version "1.4.1"
   resolved "https://registry.yarnpkg.com/tinycolor2/-/tinycolor2-1.4.1.tgz#f4fad333447bc0b07d4dc8e9209d8f39a8ac77e8"
