commit 08a3540dfb687e0ad907d6a68ee30443c6ce4499
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jul 15 11:04:19 2013 -0700

    Fall back on all cases where user is not set to the default create_user view

diff --git a/src/sentry/utils/social_auth.py b/src/sentry/utils/social_auth.py
index 233a143743..d241a8aae5 100644
--- a/src/sentry/utils/social_auth.py
+++ b/src/sentry/utils/social_auth.py
@@ -22,10 +22,7 @@ def create_user_if_enabled(*args, **kwargs):
     A pipeline step for django-social-auth
     Create user. Depends on get_username pipeline.
     """
-    if not settings.SOCIAL_AUTH_CREATE_USERS:
-        user = kwargs.get('user')
-        if user:
-            return {'user': user}
+    if not settings.SOCIAL_AUTH_CREATE_USERS and not kwargs.get('user'):
         raise AuthNotAllowed('You must create an account before associating an identity.')
 
     return create_user(*args, **kwargs)
