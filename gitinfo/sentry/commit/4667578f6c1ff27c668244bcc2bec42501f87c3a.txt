commit 4667578f6c1ff27c668244bcc2bec42501f87c3a
Author: David Cramer <dcramer@gmail.com>
Date:   Tue May 12 15:15:50 2015 -0700

    Improve various error handling in project group list

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 7a70211e0b..6ec363480d 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -63,7 +63,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
             try:
                 query_kwargs['status'] = STATUS_CHOICES[request.GET['status']]
             except KeyError:
-                return Response('{"error": "invalid status"}', status=400)
+                return Response('{"detail": "invalid status"}', status=400)
 
         if request.user.is_authenticated() and request.GET.get('bookmarks'):
             query_kwargs['bookmarked_by'] = request.user
@@ -96,7 +96,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
             try:
                 query_kwargs['limit'] = int(limit)
             except ValueError:
-                return Response('{"error": "invalid limit"}', status=400)
+                return Response('{"detail": "invalid limit"}', status=400)
 
         today = timezone.now()
         # date format is Y-m-d
@@ -175,13 +175,13 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
 
         serializer = GroupSerializer(data=request.DATA, partial=True)
         if not serializer.is_valid():
-            return Response(status=400)
+            return Response(serializer.errors, status=400)
 
         result = serializer.object
 
         # validate that we've passed a selector for non-status bulk operations
-        if not group_ids and result.get('isBookmarked') is not None:
-            return Response(status=400)
+        if not group_ids and result.keys() == ['status']:
+            return Response('{"detail": "You must specify a list of IDs for this operation"}', status=400)
 
         if group_ids:
             filters = [Q(id__in=group_ids)]
@@ -192,7 +192,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
             try:
                 status_filter = STATUS_CHOICES[request.GET['status']]
             except KeyError:
-                return Response(status=400)
+                return Response('{"detail": "Invalid status"}', status=400)
             filters.append(Q(status=status_filter))
 
         if result.get('status') == 'resolved':
@@ -305,7 +305,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
             group_ids = [g.id for g in group_list]
         else:
             # missing any kind of filter
-            return Response(status=400)
+            return Response('{"detail": "You must specify a list of IDs for this operation"}', status=400)
 
         if not group_ids:
             return Response(status=204)
