commit b752c64049b74af0e1a6a89477c8b1291e92fa49
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 8 12:02:48 2013 -0700

    Attempting some threading magic

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 9bed2b6dcc..a07f8f7cb2 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -14,6 +14,7 @@ import hashlib
 import itertools
 import logging
 import re
+import threading
 import time
 import warnings
 import weakref
@@ -59,7 +60,7 @@ def get_checksum_from_event(event):
     return hashlib.md5(to_string(event.message)).hexdigest()
 
 
-class BaseManager(models.Manager):
+class BaseManager(models.Manager, threading.local):
     lookup_handlers = {
         'iexact': lambda x: x.upper(),
     }
