commit ae5e7d7769a7cbba326db135c7f3a6456ba27146
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Aug 30 15:50:49 2018 -0700

    fix(forms): Correct ref and prop passing for textareas (#9233)

diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/controls/textarea.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/controls/textarea.jsx
index 1d03658c25..24226312f9 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/controls/textarea.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/controls/textarea.jsx
@@ -2,59 +2,29 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import TextareaAutosize from 'react-autosize-textarea';
 import styled from 'react-emotion';
+import isPropValid from '@emotion/is-prop-valid';
 
 import {inputStyles} from 'app/styles/input';
 
-class TextareaOrAutosize extends React.Component {
-  static propTypes = {
-    /**
-     * Enable autosizing of the textarea.
-     */
-    autosize: PropTypes.bool,
-
-    /**
-     * Number of rows to start with if autosize
-     */
-    rows: PropTypes.number,
-
-    innerRef: PropTypes.func,
-  };
-
-  render() {
-    let {
-      autosize,
-      rows,
-      innerRef,
-      highlighted, // eslint-disable-line
-      stacked, // eslint-disable-line
-      inline, // eslint-disable-line
-      field, // eslint-disable-line
-      multiline, // eslint-disable-line
-      getValue, // eslint-disable-line
-      setValue, // eslint-disable-line
-      error, // eslint-disable-line
-      initialData, // eslint-disable-line
-      getData, // eslint-disable-line
-      extraHelp, // eslint-disable-line
-      ...props
-    } = this.props;
-
-    if (autosize) {
-      return (
-        <TextareaAutosize
-          rows={rows ? rows : 2}
-          async={true}
-          innerRef={innerRef}
-          {...props}
-        />
-      );
-    }
-
-    return <textarea {...props} ref={innerRef} />;
-  }
-}
-
-const TextArea = styled(TextareaOrAutosize)`
+const TextAreaControl = React.forwardRef(
+  ({autosize, rows, ...p}, ref) =>
+    autosize ? (
+      <TextareaAutosize async innerRef={ref} rows={rows ? rows : 2} {...p} />
+    ) : (
+      <textarea ref={ref} {...p} />
+    )
+);
+
+TextAreaControl.propTypes = {
+  /**
+   * Enable autosizing of the textarea.
+   */
+  autosize: PropTypes.bool,
+};
+
+const propFilter = p => ['autosize', 'rows', 'maxRows'].includes(p) || isPropValid(p);
+
+const TextArea = styled(TextAreaControl, {shouldForwardProp: propFilter})`
   ${inputStyles};
 `;
 
