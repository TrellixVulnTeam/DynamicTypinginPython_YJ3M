commit 742bb4853af70e4f4d025758691b5ee70ca11333
Author: Ryan Skonnord <ryan.skonnord@sentry.io>
Date:   Thu Apr 30 15:17:35 2020 -0700

    ref(organization_projects): Extract callback for readability (#18539)

diff --git a/src/sentry/api/endpoints/organization_projects.py b/src/sentry/api/endpoints/organization_projects.py
index 88e47a4c70..e2c8725196 100644
--- a/src/sentry/api/endpoints/organization_projects.py
+++ b/src/sentry/api/endpoints/organization_projects.py
@@ -109,19 +109,18 @@ class OrganizationProjectsEndpoint(OrganizationEndpoint, EnvironmentMixin):
             queryset = queryset.order_by("slug").select_related("organization")
             return Response(serialize(list(queryset), request.user, ProjectSummarySerializer()))
         else:
+
+            def serialize_on_result(result):
+                environment_id = self._get_environment_id_from_request(request, organization.id)
+                serializer = ProjectSummarySerializer(
+                    environment_id=environment_id, stats_period=stats_period,
+                )
+                return serialize(result, request.user, serializer)
+
             return self.paginate(
                 request=request,
                 queryset=queryset,
                 order_by=order_by,
-                on_results=lambda x: serialize(
-                    x,
-                    request.user,
-                    ProjectSummarySerializer(
-                        environment_id=self._get_environment_id_from_request(
-                            request, organization.id
-                        ),
-                        stats_period=stats_period,
-                    ),
-                ),
+                on_results=serialize_on_result,
                 paginator_cls=OffsetPaginator,
             )
