commit 5834c58b6086004f9f6f39a3c8f6556330e697e8
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Apr 5 15:22:39 2018 -0700

    fix(ui): Fix KeyValueList sortBy when object is in tuple (#7923)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx b/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
index b0d3b878ef..2ce12864ad 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/keyValueList.jsx
@@ -31,7 +31,7 @@ class KeyValueList extends React.Component {
       data = Object.keys(data).map(key => [key, data[key]]);
     }
 
-    data = this.props.isSorted ? _.sortBy(data, [(key, value) => key]) : data;
+    data = this.props.isSorted ? _.sortBy(data, [([key]) => key]) : data;
     let raw = this.props.raw;
     const props = this.props.onClick ? {onClick: this.props.onClick} : {};
     return (
diff --git a/tests/js/spec/components/events/interfaces/keyValueList.spec.jsx b/tests/js/spec/components/events/interfaces/keyValueList.spec.jsx
index 6440b92859..eeea1b1c88 100644
--- a/tests/js/spec/components/events/interfaces/keyValueList.spec.jsx
+++ b/tests/js/spec/components/events/interfaces/keyValueList.spec.jsx
@@ -1,5 +1,5 @@
 import React from 'react';
-import {shallow} from 'enzyme';
+import {mount, shallow} from 'enzyme';
 
 import KeyValueList from 'app/components/events/interfaces/keyValueList';
 
@@ -101,6 +101,25 @@ describe('KeyValueList', function() {
       ).toEqual('y');
     });
 
+    it('can sort key/value pairs with non-string values', function() {
+      let data = [['b', {foo: 'bar'}], ['a', [3, 2, 1]]];
+      let wrapper = mount(<KeyValueList isContextData data={data} />);
+
+      // Ignore values, more interested in if keys rendered + are sorted
+      expect(
+        wrapper
+          .find('.key')
+          .at(0)
+          .text()
+      ).toEqual('a');
+      expect(
+        wrapper
+          .find('.key')
+          .at(1)
+          .text()
+      ).toEqual('b');
+    });
+
     it('should coerce non-strings into strings', function() {
       let data = [['a', false]];
       let wrapper = shallow(<KeyValueList data={data} />);
