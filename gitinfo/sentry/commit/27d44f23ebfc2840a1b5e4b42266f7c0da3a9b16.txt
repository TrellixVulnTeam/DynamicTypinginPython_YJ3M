commit 27d44f23ebfc2840a1b5e4b42266f7c0da3a9b16
Author: Alex Gaynor <alex.gaynor@rd.io>
Date:   Wed Nov 28 15:43:42 2012 -0800

    Improved the performance and simplified the code for date filters on the error list page.

diff --git a/src/sentry/web/frontend/groups.py b/src/sentry/web/frontend/groups.py
index 49b22200b4..f13197b4e9 100644
--- a/src/sentry/web/frontend/groups.py
+++ b/src/sentry/web/frontend/groups.py
@@ -95,16 +95,15 @@ def _get_group_list(request, project, view=None):
         date_from = today - datetime.timedelta(days=3)
         date_to = None
 
-    if date_from:
-        if not date_to:
-            event_list = event_list.filter(last_seen__gte=date_from)
-        else:
-            event_list = event_list.filter(messagecountbyminute__date__gte=date_from)
-    if date_to:
-        if not date_from:
-            event_list = event_list.filter(last_seen__lte=date_to)
-        else:
-            event_list = event_list.filter(messagecountbyminute__date__lte=date_to)
+    if date_from and date_to:
+        event_list = event_list.filter(
+            messagecountbyminute__date__gte=date_from,
+            messagecountbyminute__date__lte=date_to,
+        )
+    elif date_from:
+        event_list = event_list.filter(last_seen__gte=date_from)
+    elif date_to:
+        event_list = event_list.filter(last_seen__lte=date_to)
 
     sort = request.GET.get('sort')
     if sort not in SORT_OPTIONS:
