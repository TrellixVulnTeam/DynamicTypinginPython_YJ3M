commit 9edcb09b38dda258a76c33ff3f77018535295199
Author: Dora <dora.l.chan@gmail.com>
Date:   Fri Apr 3 15:57:38 2020 -0700

    ref(emptyMessage): take in icon component (#18082)
    
    * add ability to take in icon component
    
    * update alert message to take in icon component
    
    * add telescope icon
    
    * removed block and updated font size
    
    * smaller header font again
    
    Co-authored-by: Dora Chan <dora.lchan@gmail.com>

diff --git a/docs-ui/components/emptyMessage.stories.js b/docs-ui/components/emptyMessage.stories.js
index f472bb2b8f..305b47960e 100644
--- a/docs-ui/components/emptyMessage.stories.js
+++ b/docs-ui/components/emptyMessage.stories.js
@@ -1,9 +1,10 @@
 import styled from '@emotion/styled';
 import React from 'react';
-
-import {Panel, PanelHeader} from 'app/components/panels';
 import {storiesOf} from '@storybook/react';
 import {withInfo} from '@storybook/addon-info';
+
+import {Panel, PanelHeader} from 'app/components/panels';
+import {IconTelescope, IconUser} from 'app/icons';
 import Button from 'app/components/button';
 import EmptyMessage from 'app/views/settings/components/emptyMessage';
 import space from 'app/styles/space';
@@ -31,7 +32,7 @@ storiesOf('UI|EmptyMessage', module)
     withInfo('Put this in a panel for maximum effect')(() => (
       <Panel>
         <PanelHeader>Members</PanelHeader>
-        <EmptyMessage icon="icon-user" size="large">
+        <EmptyMessage icon={<IconUser size="xl" />} size="large">
           Sentry is better with friends
         </EmptyMessage>
       </Panel>
@@ -43,7 +44,7 @@ storiesOf('UI|EmptyMessage', module)
       <Panel>
         <PanelHeader>Members</PanelHeader>
         <EmptyMessage
-          icon="icon-user"
+          icon={<IconUser size="xl" />}
           action={<Button priority="primary">Invite Members</Button>}
         >
           Sentry is better with friends
@@ -69,7 +70,7 @@ storiesOf('UI|EmptyMessage', module)
       <Panel>
         <PanelHeader>Members</PanelHeader>
         <EmptyMessage
-          icon="icon-user"
+          icon={<IconUser size="xl" />}
           title="Sentry is better with friends!"
           description="When you use sentry with friends, you'll find your world of possibilities expands!"
           action={
@@ -91,7 +92,7 @@ storiesOf('UI|EmptyMessage', module)
     withInfo('Put this in a panel for maximum effect')(() => (
       <Panel dashedBorder>
         <EmptyMessage
-          icon="icon-discover"
+          icon={<IconTelescope size="xl" />}
           title="You're missing out on crucial functionality!"
           description="Enable this feature now to get the most out of Sentry. What are you waiting for? Do it!"
           action={
diff --git a/src/sentry/static/sentry/app/views/settings/components/emptyMessage.tsx b/src/sentry/static/sentry/app/views/settings/components/emptyMessage.tsx
index dc8e5ffffd..34b2716cf7 100644
--- a/src/sentry/static/sentry/app/views/settings/components/emptyMessage.tsx
+++ b/src/sentry/static/sentry/app/views/settings/components/emptyMessage.tsx
@@ -6,42 +6,10 @@ import InlineSvg from 'app/components/inlineSvg';
 import TextBlock from 'app/views/settings/components/text/textBlock';
 import space from 'app/styles/space';
 
-const MarginStyles = `
-  margin-bottom: ${space(2)};
-  &:last-child {
-    margin: 0;
-  }
-`;
-
-const Description = styled(TextBlock)`
-  ${MarginStyles};
-`;
-
-const Title = styled('div')`
-  font-weight: bold;
-  font-size: 20px;
-  line-height: 1.2;
-  ${MarginStyles};
-
-  & + ${Description} {
-    margin-top: -${space(0.5)}; /* Remove the illusion of bad padding by offsetting line-height */
-  }
-`;
-
-const StyledInlineSvg = styled(InlineSvg)`
-  display: block;
-  color: ${p => p.theme.gray1};
-  ${MarginStyles};
-`;
-
-const Action = styled('div')`
-  ${MarginStyles};
-`;
-
 type Props = {
   title?: React.ReactNode;
   description?: React.ReactNode;
-  icon?: string;
+  icon?: string | React.ReactNode;
   action?: React.ReactElement;
   size?: 'large' | 'medium';
 };
@@ -52,7 +20,11 @@ type WrapperProps = Pick<EmptyMessageProps, 'size'>;
 const EmptyMessage = styled(
   ({title, description, icon, children, action, ...props}: EmptyMessageProps) => (
     <div data-test-id="empty-message" {...props}>
-      {icon && <StyledInlineSvg src={icon} size="36px" />}
+      {icon && (
+        <IconWrapper>
+          {typeof icon === 'string' ? <InlineSvg src={icon} size="32px" /> : icon}
+        </IconWrapper>
+      )}
       {title && <Title>{title}</Title>}
       {description && <Description>{description}</Description>}
       {children && <Description noMargin>{children}</Description>}
@@ -73,10 +45,28 @@ const EmptyMessage = styled(
 EmptyMessage.propTypes = {
   title: PropTypes.node,
   description: PropTypes.node,
-  icon: PropTypes.string,
+  icon: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),
   action: PropTypes.element,
   // Currently only the `large` option changes the size - can add more size options as necessary
   size: PropTypes.oneOf(['large', 'medium']),
 };
 
+const IconWrapper = styled('div')`
+  color: ${p => p.theme.gray1};
+  margin-bottom: ${space(1)};
+`;
+
+const Title = styled('h1')`
+  font-size: ${p => p.theme.fontSizeExtraLarge};
+  margin-bottom: ${space(1)};
+`;
+
+const Description = styled(TextBlock)`
+  margin: 0;
+`;
+
+const Action = styled('div')`
+  margin-top: ${space(2)};
+`;
+
 export default EmptyMessage;
diff --git a/tests/js/spec/components/events/interfaces/__snapshots__/exceptionStacktraceContent.spec.jsx.snap b/tests/js/spec/components/events/interfaces/__snapshots__/exceptionStacktraceContent.spec.jsx.snap
index 77c84e3647..db75d9e1bf 100644
--- a/tests/js/spec/components/events/interfaces/__snapshots__/exceptionStacktraceContent.spec.jsx.snap
+++ b/tests/js/spec/components/events/interfaces/__snapshots__/exceptionStacktraceContent.spec.jsx.snap
@@ -142,42 +142,48 @@ exports[`ExceptionStacktraceContent default behaviour 1`] = `
           title="No app only stacktrace has been found!"
         >
           <Component
-            className="css-13mk16x-EmptyMessage e1h3yfdx4"
+            className="css-13mk16x-EmptyMessage e1h3yfdx0"
             icon="icon-warning-sm"
             title="No app only stacktrace has been found!"
           >
             <div
-              className="css-13mk16x-EmptyMessage e1h3yfdx4"
+              className="css-13mk16x-EmptyMessage e1h3yfdx0"
               data-test-id="empty-message"
             >
-              <StyledInlineSvg
-                size="36px"
-                src="icon-warning-sm"
-              >
-                <ForwardRef
-                  className="css-1o8w9c2-InlineSvg-StyledInlineSvg e1h3yfdx2"
-                  size="36px"
-                  src="icon-warning-sm"
+              <IconWrapper>
+                <div
+                  className="css-9jue1w-IconWrapper e1h3yfdx1"
                 >
-                  <svg
-                    className="css-1o8w9c2-InlineSvg-StyledInlineSvg e1h3yfdx2"
-                    height="36px"
-                    viewBox={Object {}}
-                    width="36px"
+                  <InlineSvg
+                    size="32px"
+                    src="icon-warning-sm"
                   >
-                    <use
-                      href="#test"
-                      xlinkHref="#test"
-                    />
-                  </svg>
-                </ForwardRef>
-              </StyledInlineSvg>
+                    <ForwardRef
+                      className="css-tbsmsq-InlineSvg enyz4ql0"
+                      size="32px"
+                      src="icon-warning-sm"
+                    >
+                      <svg
+                        className="css-tbsmsq-InlineSvg enyz4ql0"
+                        height="32px"
+                        viewBox={Object {}}
+                        width="32px"
+                      >
+                        <use
+                          href="#test"
+                          xlinkHref="#test"
+                        />
+                      </svg>
+                    </ForwardRef>
+                  </InlineSvg>
+                </div>
+              </IconWrapper>
               <Title>
-                <div
-                  className="css-1p115wf-Title e1h3yfdx1"
+                <h1
+                  className="css-wtohiw-Title e1h3yfdx2"
                 >
                   No app only stacktrace has been found!
-                </div>
+                </h1>
               </Title>
             </div>
           </Component>
diff --git a/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap b/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
index 4eebc4bf7b..dc0be6f456 100644
--- a/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
+++ b/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
@@ -733,17 +733,17 @@ exports[`InviteMember should render roles when available and allowed, and handle
                     >
                       <EmptyMessage>
                         <Component
-                          className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                          className="css-1scmenn-EmptyMessage e1h3yfdx0"
                         >
                           <div
-                            className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                            className="css-1scmenn-EmptyMessage e1h3yfdx0"
                             data-test-id="empty-message"
                           >
                             <Description
                               noMargin={true}
                             >
                               <div
-                                className="css-1y44za3-TextBlock-Description e1h3yfdx0"
+                                className="css-iex7sn-TextBlock-Description e1h3yfdx3"
                               >
                                 No Teams assigned
                               </div>
diff --git a/tests/js/spec/views/settings/__snapshots__/projectEnvironments.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/projectEnvironments.spec.jsx.snap
index 0c4f0c8b4f..c253e22ae9 100644
--- a/tests/js/spec/views/settings/__snapshots__/projectEnvironments.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/projectEnvironments.spec.jsx.snap
@@ -328,17 +328,17 @@ exports[`ProjectEnvironments render active renders empty message 1`] = `
               >
                 <EmptyMessage>
                   <Component
-                    className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                    className="css-1scmenn-EmptyMessage e1h3yfdx0"
                   >
                     <div
-                      className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                      className="css-1scmenn-EmptyMessage e1h3yfdx0"
                       data-test-id="empty-message"
                     >
                       <Description
                         noMargin={true}
                       >
                         <div
-                          className="css-1y44za3-TextBlock-Description e1h3yfdx0"
+                          className="css-iex7sn-TextBlock-Description e1h3yfdx3"
                         >
                           You don't have any environments yet.
                         </div>
@@ -684,17 +684,17 @@ exports[`ProjectEnvironments render hidden renders empty message 1`] = `
               >
                 <EmptyMessage>
                   <Component
-                    className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                    className="css-1scmenn-EmptyMessage e1h3yfdx0"
                   >
                     <div
-                      className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                      className="css-1scmenn-EmptyMessage e1h3yfdx0"
                       data-test-id="empty-message"
                     >
                       <Description
                         noMargin={true}
                       >
                         <div
-                          className="css-1y44za3-TextBlock-Description e1h3yfdx0"
+                          className="css-iex7sn-TextBlock-Description e1h3yfdx3"
                         >
                           You don't have any hidden environments.
                         </div>
diff --git a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
index de38eed560..a8b314aa7c 100644
--- a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
@@ -326,17 +326,17 @@ exports[`Organization Developer Settings when no Apps exist displays empty state
                     >
                       <EmptyMessage>
                         <Component
-                          className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                          className="css-1scmenn-EmptyMessage e1h3yfdx0"
                         >
                           <div
-                            className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                            className="css-1scmenn-EmptyMessage e1h3yfdx0"
                             data-test-id="empty-message"
                           >
                             <Description
                               noMargin={true}
                             >
                               <div
-                                className="css-1y44za3-TextBlock-Description e1h3yfdx0"
+                                className="css-iex7sn-TextBlock-Description e1h3yfdx3"
                               >
                                 No public integrations have been created yet.
                               </div>
@@ -494,17 +494,17 @@ exports[`Organization Developer Settings when no Apps exist displays empty state
                     >
                       <EmptyMessage>
                         <Component
-                          className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                          className="css-1scmenn-EmptyMessage e1h3yfdx0"
                         >
                           <div
-                            className="css-1scmenn-EmptyMessage e1h3yfdx4"
+                            className="css-1scmenn-EmptyMessage e1h3yfdx0"
                             data-test-id="empty-message"
                           >
                             <Description
                               noMargin={true}
                             >
                               <div
-                                className="css-1y44za3-TextBlock-Description e1h3yfdx0"
+                                className="css-iex7sn-TextBlock-Description e1h3yfdx3"
                               >
                                 No internal integrations have been created yet.
                               </div>
