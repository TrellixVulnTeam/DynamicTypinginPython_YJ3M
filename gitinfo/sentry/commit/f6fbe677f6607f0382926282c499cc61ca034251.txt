commit f6fbe677f6607f0382926282c499cc61ca034251
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Jan 20 07:51:13 2014 -0800

    Fix logic around GET

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 0a21a1d8be..3d342d864d 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -211,11 +211,14 @@ class APIView(BaseView):
             auth = Auth(auth_vars, is_public=bool(origin))
 
             if auth.version >= 3:
-                if request.method == 'GET' and origin is None:
-                    return HttpResponse('Missing required Origin or Referer header', status=400)
-                # Version 3 enforces secret key for server side requests
-                if not auth.secret_key:
-                    return HttpResponse('Missing required attribute in authentication header: sentry_secret', status=400)
+                if request.method == 'GET':
+                    # GET only requires an Origin/Referer check
+                    if origin is None:
+                        return HttpResponse('Missing required Origin or Referer header', status=400)
+                else:
+                    # Version 3 enforces secret key for server side requests
+                    if not auth.secret_key:
+                        return HttpResponse('Missing required attribute in authentication header: sentry_secret', status=400)
 
             try:
                 response = super(APIView, self).dispatch(request, project=project, auth=auth, **kwargs)
