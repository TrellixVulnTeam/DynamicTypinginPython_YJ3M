commit 9ff9a31214655de6f234020cb057fa8ab737efd5
Author: Mark Story <mark@mark-story.com>
Date:   Wed Jan 30 13:51:04 2019 -0500

    fix(issues) Add project labels to saved searches (#11774)
    
    Display a project label on saved searches at the organization level.
    This makes it easier for users to understand which saved searches they
    may want to use.
    
    I decided to curry the project slugs in on the client side as we already
    have all that data available and I didn't see a reason to add more
    database queries.
    
    Refs APP-1060

diff --git a/src/sentry/static/sentry/app/views/organizationStream/overview.jsx b/src/sentry/static/sentry/app/views/organizationStream/overview.jsx
index 36b89cefdf..0b30fed6b4 100644
--- a/src/sentry/static/sentry/app/views/organizationStream/overview.jsx
+++ b/src/sentry/static/sentry/app/views/organizationStream/overview.jsx
@@ -522,9 +522,20 @@ const OrganizationStream = createReactClass({
 
   fetchSavedSearches() {
     let {orgId, searchId} = this.props.params;
+    let {organization} = this.props;
+    let projectMap = organization.projects.reduce((acc, project) => {
+      acc[project.id] = project.slug;
+      return acc;
+    }, {});
 
     fetchSavedSearches(this.api, orgId).then(
-      savedSearchList => {
+      data => {
+        // Add in project slugs so that we can display them in the picker bars.
+        let savedSearchList = data.map(search => {
+          search.projectSlug = projectMap[search.projectId];
+          return search;
+        });
+
         let newState = {
           savedSearchList,
           savedSearchLoading: false,
diff --git a/src/sentry/static/sentry/app/views/stream/savedSearchSelector.jsx b/src/sentry/static/sentry/app/views/stream/savedSearchSelector.jsx
index fc9b2daddf..48815b0af8 100644
--- a/src/sentry/static/sentry/app/views/stream/savedSearchSelector.jsx
+++ b/src/sentry/static/sentry/app/views/stream/savedSearchSelector.jsx
@@ -11,6 +11,7 @@ import DropdownLink from 'app/components/dropdownLink';
 import QueryCount from 'app/components/queryCount';
 import MenuItem from 'app/components/menuItem';
 import Tooltip from 'app/components/tooltip';
+import Tag from 'app/views/settings/components/tag';
 import {BooleanField, FormState, TextField} from 'app/components/forms';
 import withApi from 'app/utils/withApi';
 import space from 'app/styles/space';
@@ -250,7 +251,10 @@ const SavedSearchSelector = withApi(
       let children = this.props.savedSearchList.map(search => {
         return (
           <StyledMenuItem onSelect={() => onSavedSearchSelect(search)} key={search.id}>
-            <strong>{search.name}</strong>
+            <span>
+              <strong>{search.name}</strong>
+              {search.projectSlug && <StyledTag>{search.projectSlug}</StyledTag>}
+            </span>
             <code>{search.query}</code>
           </StyledMenuItem>
         );
@@ -315,11 +319,17 @@ const EmptyItem = styled.li`
   font-style: italic;
 `;
 
+const StyledTag = styled(Tag)`
+  display: inline-block;
+  margin-left: ${space(0.25)};
+`;
+
 const StyledMenuItem = styled(MenuItem)`
   & a {
-    padding: ${space(0.5)} ${space(1)};
+    /* override shared-components.less */
+    padding: ${space(0.25)} ${space(1)} !important;
   }
-  & strong,
+  & span,
   & code {
     display: block;
     max-width: 100%;
