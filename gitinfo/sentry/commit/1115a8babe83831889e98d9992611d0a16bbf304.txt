commit 1115a8babe83831889e98d9992611d0a16bbf304
Author: Ted Kaemming <ted@kaemming.com>
Date:   Wed Mar 16 11:39:03 2016 -0700

    Add `removed_in_version` option to `DeprecatedSettingWarning`, use it.

diff --git a/src/sentry/runner/initializer.py b/src/sentry/runner/initializer.py
index 6d7b7538a8..b4d8a4695b 100644
--- a/src/sentry/runner/initializer.py
+++ b/src/sentry/runner/initializer.py
@@ -250,7 +250,13 @@ def apply_legacy_settings(settings):
         if 'redis.clusters' in settings.SENTRY_OPTIONS:
             raise Exception("Cannot specify both SENTRY_OPTIONS['redis.clusters'] option and SENTRY_REDIS_OPTIONS setting.")
         else:
-            warnings.warn(DeprecatedSettingWarning('SENTRY_REDIS_OPTIONS', 'SENTRY_OPTIONS["redis.clusters"]'))
+            warnings.warn(
+                DeprecatedSettingWarning(
+                    'SENTRY_REDIS_OPTIONS',
+                    'SENTRY_OPTIONS["redis.clusters"]',
+                    removed_in_version='8.5',
+                )
+            )
             settings.SENTRY_OPTIONS['redis.clusters'] = {
                 'default': settings.SENTRY_REDIS_OPTIONS,
             }
diff --git a/src/sentry/utils/redis.py b/src/sentry/utils/redis.py
index 8924f17e74..6e08f50fcf 100644
--- a/src/sentry/utils/redis.py
+++ b/src/sentry/utils/redis.py
@@ -51,7 +51,8 @@ def make_rb_cluster(*args, **kwargs):
     # plugin compatibility but isn't actionable by the system administrator.
     import warnings
     warnings.warn(
-        'Direct Redis cluster construction is deprecated, please use named clusters.',
+        'Direct Redis cluster construction is deprecated, please use named clusters. ',
+        'Direct cluster construction will be removed in Sentry 8.5.',
         DeprecationWarning,
     )
     return _make_rb_cluster(*args, **kwargs)
@@ -106,6 +107,7 @@ def get_cluster_from_options(setting, options, cluster_manager=clusters):
                         setting,
                         cluster_option_name,
                     ),
+                    removed_in_version='8.5',
                 ),
                 stacklevel=2
             )
diff --git a/src/sentry/utils/warnings.py b/src/sentry/utils/warnings.py
index 75dc3faefa..3b7fa0e7fc 100644
--- a/src/sentry/utils/warnings.py
+++ b/src/sentry/utils/warnings.py
@@ -5,10 +5,11 @@ import warnings
 
 
 class DeprecatedSettingWarning(DeprecationWarning):
-    def __init__(self, setting, replacement, url=None):
+    def __init__(self, setting, replacement, url=None, removed_in_version=None):
         self.setting = setting
         self.replacement = replacement
         self.url = url
+        self.removed_in_version = removed_in_version
         super(DeprecatedSettingWarning, self).__init__(setting, replacement, url)
 
     def __str__(self):
@@ -19,6 +20,13 @@ class DeprecatedSettingWarning(DeprecationWarning):
             )
         ]
 
+        if self.removed_in_version:
+            chunks.append(
+                'This setting will be removed in Sentry {}.'.format(
+                    self.removed_in_version,
+                ),
+            )
+
         # TODO(tkaemming): This will be removed from the message in the future
         # when it's added to the API payload separately.
         if self.url:
