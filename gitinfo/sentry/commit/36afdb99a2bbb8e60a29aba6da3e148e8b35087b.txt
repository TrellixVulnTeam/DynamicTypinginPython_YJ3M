commit 36afdb99a2bbb8e60a29aba6da3e148e8b35087b
Author: Dena Mwangi <dena@getsentry.com>
Date:   Fri Apr 12 10:53:25 2019 -0700

    ref: Pull out serializer class selection logic (#12743)

diff --git a/src/sentry/api/endpoints/broadcast_details.py b/src/sentry/api/endpoints/broadcast_details.py
index fae0f1947e..cd4842b626 100644
--- a/src/sentry/api/endpoints/broadcast_details.py
+++ b/src/sentry/api/endpoints/broadcast_details.py
@@ -39,11 +39,13 @@ class BroadcastDetailsEndpoint(Endpoint):
             return AdminBroadcastValidator
         return BroadcastValidator
 
-    def _serialize_response(self, request, broadcast):
+    def _get_serializer(self, request):
         if is_active_superuser(request):
-            serializer_cls = AdminBroadcastSerializer
-        else:
-            serializer_cls = BroadcastSerializer
+            return AdminBroadcastSerializer
+        return BroadcastSerializer
+
+    def _serialize_response(self, request, broadcast):
+        serializer_cls = self._get_serializer(request)
         return self.respond(serialize(broadcast, request.user, serializer=serializer_cls()))
 
     def get(self, request, broadcast_id):
diff --git a/src/sentry/api/endpoints/broadcast_index.py b/src/sentry/api/endpoints/broadcast_index.py
index 4431783168..4a968bfcfc 100644
--- a/src/sentry/api/endpoints/broadcast_index.py
+++ b/src/sentry/api/endpoints/broadcast_index.py
@@ -24,12 +24,13 @@ logger = logging.getLogger('sentry')
 class BroadcastIndexEndpoint(Endpoint):
     permission_classes = (IsAuthenticated, )
 
-    def _serialize_objects(self, items, request):
+    def _get_serializer(self, request):
         if is_active_superuser(request):
-            serializer_cls = AdminBroadcastSerializer
-        else:
-            serializer_cls = BroadcastSerializer
+            return AdminBroadcastSerializer
+        return BroadcastSerializer
 
+    def _serialize_objects(self, items, request):
+        serializer_cls = self._get_serializer(request)
         return serialize(items, request.user, serializer=serializer_cls())
 
     def get(self, request):
