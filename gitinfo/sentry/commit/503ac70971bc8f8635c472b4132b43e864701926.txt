commit 503ac70971bc8f8635c472b4132b43e864701926
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Apr 22 22:25:57 2016 +0200

    Added duration support to query breadcrumb

diff --git a/src/sentry/interfaces/breadcrumbs.py b/src/sentry/interfaces/breadcrumbs.py
index b953824952..87f3dcd777 100644
--- a/src/sentry/interfaces/breadcrumbs.py
+++ b/src/sentry/interfaces/breadcrumbs.py
@@ -103,7 +103,7 @@ def validate_http_request(payload):
 @typevalidator('query')
 def validate_query(payload):
     rv = {}
-    for key in 'query', 'params', 'classifier':
+    for key in 'query', 'params', 'duration', 'classifier':
         value = payload.get(key)
         if value is not None:
             rv[key] = trim(value, 1024)
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
index 665eb8cb75..1a17112a18 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 
 import Classifier from './classifier';
+import Duration from '../../../duration';
 
 const QueryCrumbComponent = React.createClass({
   propTypes: {
@@ -19,9 +20,15 @@ const QueryCrumbComponent = React.createClass({
       ;
     });
 
+    let timing = null;
+    if (data.duration !== undefined && data.duration !== null) {
+      timing = <Duration key="duration" seconds={data.duration} />;
+    }
+
     return (
       <p>
         <strong>Query:</strong> <code>{queryElements}</code>
+        {timing}
         <Classifier value={data.classifier} title="%s query" />
       </p>
     );
