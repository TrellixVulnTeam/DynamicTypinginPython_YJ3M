commit fece2b1d830d9432e5224cb391aa79b82d735f99
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Oct 25 13:49:38 2016 -0700

    filestore: put lock on right class

diff --git a/src/sentry/filestore/s3.py b/src/sentry/filestore/s3.py
index c9edb7550d..2cc86ae5a3 100644
--- a/src/sentry/filestore/s3.py
+++ b/src/sentry/filestore/s3.py
@@ -137,7 +137,6 @@ class S3Boto3StorageFile(File):
         if buffer_size is not None:
             self.buffer_size = buffer_size
         self._write_counter = 0
-        self._lock = Lock()
 
     @property
     def size(self):
@@ -309,6 +308,8 @@ class S3Boto3Storage(Storage):
             self.config = Config(s3={'addressing_style': self.addressing_style},
                                  signature_version=self.signature_version)
 
+        self._lock = Lock()
+
     @property
     def connection(self):
         # TODO: Support host, port like in s3boto
