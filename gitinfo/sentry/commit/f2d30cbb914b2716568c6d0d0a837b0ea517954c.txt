commit f2d30cbb914b2716568c6d0d0a837b0ea517954c
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 7 09:50:42 2010 -0700

    Remove duplicated code in CachedAllValuesFilterSpec

diff --git a/djangodblog/admin.py b/djangodblog/admin.py
index 31816ce508..085962ea97 100644
--- a/djangodblog/admin.py
+++ b/djangodblog/admin.py
@@ -71,19 +71,6 @@ class CachedAllValuesFilterSpec(AllValuesFilterSpec):
         if self.lookup_choices is None:
             self.lookup_choices = list(model_admin.queryset(request).distinct().order_by(f.name).values_list(f.name, flat=True))
             cache.set(cache_key, self.lookup_choices, 60*5)
-
-    def title(self):
-        return self.field.verbose_name
-
-    def choices(self, cl):
-        yield {'selected': self.lookup_val is None,
-               'query_string': cl.get_query_string({}, [self.field.name]),
-               'display': _('All')}
-        for val in self.lookup_choices:
-            val = smart_unicode(val)
-            yield {'selected': self.lookup_val == val,
-                   'query_string': cl.get_query_string({self.field.name: val}),
-                   'display': val}
 FilterSpec.filter_specs.insert(-1, (lambda f: f.model._meta.app_label == 'djangodblog', CachedAllValuesFilterSpec))
 
 UNDEFINED = object()
