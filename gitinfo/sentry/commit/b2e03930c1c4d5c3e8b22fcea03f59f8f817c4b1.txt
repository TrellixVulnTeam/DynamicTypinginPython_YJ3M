commit b2e03930c1c4d5c3e8b22fcea03f59f8f817c4b1
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Mar 18 01:29:06 2014 -0700

    Require sudo on all views that have has_access(MEMBER_OWNER)

diff --git a/src/sentry/web/decorators.py b/src/sentry/web/decorators.py
index 41118f6f95..43b32550fc 100644
--- a/src/sentry/web/decorators.py
+++ b/src/sentry/web/decorators.py
@@ -3,7 +3,9 @@ from django.core.urlresolvers import reverse
 from django.http import HttpResponseRedirect, HttpResponse
 from django.shortcuts import get_object_or_404
 
+from sentry.constants import MEMBER_OWNER
 from sentry.models import Project, Team, Group
+from sentry.utils.sudo import sudo_required
 from sentry.web.helpers import (
     render_to_response, get_login_url)
 
@@ -115,6 +117,9 @@ def has_access(access_or_func=None, team=None, access=None):
                 kwargs['team'] = team
 
             return func(request, *args, **kwargs)
+
+        if access is MEMBER_OWNER:
+            _wrapped = sudo_required(_wrapped)
         return _wrapped
     return wrapped
 
