commit 5fd0bc11ea897c904353d4d076e26977b81b8c80
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Wed Sep 11 13:25:37 2019 -0700

    chore(ts): Convert components/clipboard (#14665)

diff --git a/package.json b/package.json
index 44e65c98af..a7938385ed 100644
--- a/package.json
+++ b/package.json
@@ -21,6 +21,7 @@
     "@sentry/browser": "5.6.0-beta.4",
     "@sentry/integrations": "5.6.0-beta.4",
     "@types/classnames": "^2.2.0",
+    "@types/clipboard": "^2.0.1",
     "@types/echarts": "^4.1.10",
     "@types/jest": "^24.0.17",
     "@types/jquery": "^2.0.53",
diff --git a/src/sentry/static/sentry/app/components/clipboard.jsx b/src/sentry/static/sentry/app/components/clipboard.tsx
similarity index 81%
rename from src/sentry/static/sentry/app/components/clipboard.jsx
rename to src/sentry/static/sentry/app/components/clipboard.tsx
index 4fa057a864..7a8ff577c4 100644
--- a/src/sentry/static/sentry/app/components/clipboard.jsx
+++ b/src/sentry/static/sentry/app/components/clipboard.tsx
@@ -5,7 +5,17 @@ import ReactDOM from 'react-dom';
 
 import IndicatorStore from 'app/stores/indicatorStore';
 
-class Clipboard extends React.Component {
+type Props = {
+  value: string;
+  successMessage: string;
+  errorMessage: string;
+  hideMessages: string;
+  hideUnsupported: boolean;
+  onSuccess: () => void;
+  onError: () => void;
+};
+
+class Clipboard extends React.Component<Props> {
   static propTypes = {
     value: PropTypes.string,
     successMessage: PropTypes.string,
@@ -26,13 +36,15 @@ class Clipboard extends React.Component {
     errorMessage: 'Error copying to clipboard',
   };
 
+  clipboard!: ClipboardJS;
+
   componentWillUnmount() {
     if (this.clipboard) {
       this.clipboard.destroy();
     }
   }
 
-  handleMount = ref => {
+  handleMount = (ref: HTMLElement) => {
     if (!ref) {
       return;
     }
@@ -42,7 +54,7 @@ class Clipboard extends React.Component {
     const hasErrorCb = typeof onError === 'function';
     const bindEventHandlers = !hideMessages || hasSuccessCb || hasErrorCb;
 
-    this.clipboard = new Clip(ReactDOM.findDOMNode(ref), {
+    this.clipboard = new Clip(ReactDOM.findDOMNode(ref) as Element, {
       text: () => this.props.value,
     });
 
@@ -77,6 +89,10 @@ class Clipboard extends React.Component {
       return null;
     }
 
+    if (!React.isValidElement(children)) {
+      return null;
+    }
+
     return React.cloneElement(children, {
       ref: this.handleMount,
     });
diff --git a/yarn.lock b/yarn.lock
index 2ece2129fe..cbcd558718 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -2056,6 +2056,11 @@
   resolved "https://registry.yarnpkg.com/@types/classnames/-/classnames-2.2.9.tgz#d868b6febb02666330410fe7f58f3c4b8258be7b"
   integrity sha512-MNl+rT5UmZeilaPxAVs6YaPC2m6aA8rofviZbhbxpPpl61uKodfdQVsBtgJGTqGizEf02oW3tsVe7FYB8kK14A==
 
+"@types/clipboard@^2.0.1":
+  version "2.0.1"
+  resolved "https://registry.yarnpkg.com/@types/clipboard/-/clipboard-2.0.1.tgz#75a74086c293d75b12bc93ff13bc7797fef05a40"
+  integrity sha512-gJJX9Jjdt3bIAePQRRjYWG20dIhAgEqonguyHxXuqALxsoDsDLimihqrSg8fXgVTJ4KZCzkfglKtwsh/8dLfbA==
+
 "@types/echarts@^4.1.10":
   version "4.1.10"
   resolved "https://registry.yarnpkg.com/@types/echarts/-/echarts-4.1.10.tgz#ee71911eb8b1717c7c12c0bd81fc83db872f4d3b"
