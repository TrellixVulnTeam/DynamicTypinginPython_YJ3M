commit 3b698c67e553da485821be9e1918beed9493a03d
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 6 16:10:12 2011 -0700

    Ensure we setup sys.path before imports

diff --git a/runtests.py b/runtests.py
index 96f4943d43..85491e52cb 100644
--- a/runtests.py
+++ b/runtests.py
@@ -4,6 +4,8 @@ import sys
 from os.path import dirname, abspath, join
 from optparse import OptionParser
 
+sys.path.insert(0, dirname(abspath(__file__)))
+
 logging.getLogger('sentry').addHandler(logging.StreamHandler())
 
 from django.conf import settings
@@ -76,8 +78,6 @@ def runtests(*test_args, **kwargs):
     if not test_args:
         test_args = ['tests']
 
-    sys.path.insert(0, dirname(abspath(__file__)))
-
     failures = run_tests(test_args,
         verbosity=kwargs.get('verbosity', 1),
         interactive=kwargs.get('interactive', False),
