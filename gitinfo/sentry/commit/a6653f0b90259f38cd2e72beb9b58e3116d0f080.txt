commit a6653f0b90259f38cd2e72beb9b58e3116d0f080
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 6 17:41:52 2015 -0700

    Add ability to induce delay in API

diff --git a/src/sentry/api/base.py b/src/sentry/api/base.py
index 33ddd432a8..6bb4c78523 100644
--- a/src/sentry/api/base.py
+++ b/src/sentry/api/base.py
@@ -3,8 +3,10 @@ from __future__ import absolute_import
 __all__ = ['DocSection', 'Endpoint', 'StatsMixin']
 
 import logging
+import time
 
 from datetime import datetime, timedelta
+from django.conf import settings
 from django.utils.http import urlquote
 from django.views.decorators.csrf import csrf_exempt
 from enum import Enum
@@ -93,6 +95,9 @@ class Endpoint(APIView):
         self.request = request
         self.headers = self.default_response_headers  # deprecate?
 
+        if settings.SENTRY_API_RESPONSE_DELAY:
+            time.sleep(settings.SENTRY_API_RESPONSE_DELAY / 1000.0)
+
         try:
             self.initial(request, *args, **kwargs)
 
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index d44cb292f1..e28e69d0a8 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -764,6 +764,9 @@ SENTRY_OPTIONS = {}
 # unless you have altered all schemas first
 SENTRY_USE_BIG_INTS = False
 
+# Delay (in ms) to induce on API responses
+SENTRY_API_RESPONSE_DELAY = 0
+
 # Configure celery
 import djcelery
 djcelery.setup_loader()
