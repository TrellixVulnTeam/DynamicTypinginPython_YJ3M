commit 6dd59c34925393f56f002641d04541965d446f09
Author: Mario Frasca <mariotomo@gmail.com>
Date:   Thu Apr 28 11:02:46 2011 +0200

    work in progress (added timestamp)

diff --git a/docs/technical.rst b/docs/technical.rst
index c2d05ea9d0..47b2384ca9 100644
--- a/docs/technical.rst
+++ b/docs/technical.rst
@@ -98,7 +98,7 @@ This ``data`` JSON object contains the following fields:
  :``timestamp``: indicates when the logging record was created (in the sentry client).
  :``level``: the record severity.
  :``message_id``: hexadecimal string representing a uuid4 value.
- :``logger``: which logger created the record, defaults to the empty string (the root).
+ :``logger``: which logger created the record.  If missing, defaults to the string ``root``, not to the root logger.
  :``view``: function call which was the primary perpetrator.
  :``server_name``: optional, identifies the sentry client from which the record comes.
  :``url``: optional.
diff --git a/sentry/models.py b/sentry/models.py
index b5956fc8a2..916b290f25 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -64,6 +64,7 @@ class GzippedDictField(models.TextField):
 
 class MessageBase(Model):
     logger          = models.CharField(max_length=64, blank=True, default='root', db_index=True)
+    timestamp       = models.DateTimeField(auto_now_add=True, db_index=True)
     class_name      = models.CharField(_('type'), max_length=128, blank=True, null=True, db_index=True)
     level           = models.PositiveIntegerField(choices=conf.LOG_LEVELS, default=logging.ERROR, blank=True, db_index=True)
     message         = models.TextField()
