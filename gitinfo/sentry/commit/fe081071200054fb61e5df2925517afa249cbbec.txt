commit fe081071200054fb61e5df2925517afa249cbbec
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 13 14:56:47 2012 -0800

    Handle before_events on details page

diff --git a/sentry/templates/sentry/groups/details.html b/sentry/templates/sentry/groups/details.html
index 1244c7d32e..660a3ba51c 100644
--- a/sentry/templates/sentry/groups/details.html
+++ b/sentry/templates/sentry/groups/details.html
@@ -38,6 +38,7 @@
 {% endblock %}
 
 {% block main %}
+    {% handle_before_events request group %}
     <ul class="messages" id="event_list">
         <li class="{% cycle 'row1' 'row2' %} level-{{ group.level }} active" id="group_{{ group.pk|safe }}" data-sentry-count="{{ group.times_seen }}">
             <span class="count">{{ group.times_seen|small_count }}</span>
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index 2a886bc721..64b2829630 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -154,6 +154,8 @@ def get_tags(group, request):
 
 @register.simple_tag
 def handle_before_events(request, event_list):
+    if not hasattr(event_list, '__iter__'):
+        event_list = [event_list]
     for inst in request.plugins:
         inst.before_events(event_list)
     return ''
