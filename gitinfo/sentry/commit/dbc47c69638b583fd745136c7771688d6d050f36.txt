commit dbc47c69638b583fd745136c7771688d6d050f36
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Sep 11 18:51:43 2014 -0700

    Wire up resolve/bookmark actions

diff --git a/src/sentry/static/sentry/app/controllers/groupDetails.js b/src/sentry/static/sentry/app/controllers/groupDetails.js
index 824fb4f0f7..1d64f9df47 100644
--- a/src/sentry/static/sentry/app/controllers/groupDetails.js
+++ b/src/sentry/static/sentry/app/controllers/groupDetails.js
@@ -6,6 +6,8 @@
     function($scope, $http, selectedProject) {
       var selectedGroup = window.SentryConfig.selectedGroup;
 
+      $scope.selectedGroup = selectedGroup;
+
       // TODO(dcramer): remove the window hack
       $http.post('/api/0/groups/' + selectedGroup.id + '/markseen/');
 
@@ -39,6 +41,22 @@
             return false;
           }
       });
+
+      $('a[data-action="resolve"]').click(function(){
+        $http.post('/api/0/groups/' + selectedGroup.id + '/', {
+          status: (selectedGroup.status != 'resolved' ? 'resolved' : 'unresolved')
+        }).success(function(data) {
+          selectedGroup.status = data.status;
+        });
+      });
+
+      $('a[data-action="bookmark"]').click(function(){
+        $http.post('/api/0/groups/' + selectedGroup.id + '/', {
+          isBookmarked: (selectedGroup.isBookmarked ? '0' : '1')
+        }).success(function(data) {
+          selectedGroup.isBookmarked = data.isBookmarked;
+        });
+      });
     }
   ]);
 }());
diff --git a/src/sentry/templates/sentry/groups/details.html b/src/sentry/templates/sentry/groups/details.html
index 3319bc2375..1d9fb0d209 100644
--- a/src/sentry/templates/sentry/groups/details.html
+++ b/src/sentry/templates/sentry/groups/details.html
@@ -33,7 +33,10 @@
                   <assignee-selector></assignee-selector>
                   <div class="is-assigned"><span class="hidden-sm">is</span> assigned</div>
               </div>
-              <div class="col-xs-4 event-count align-right"><span class="count">{{ group.times_seen|small_count }}</span> events</div>
+              <div class="col-xs-4 event-count align-right">
+                <span class="count"
+                      count="selectedGroup.count"></span> events
+              </div>
               <div class="col-xs-4 user-count align-right"><span class="count">209</span> users</div>
             </div>
           </div>
@@ -48,11 +51,16 @@
       </div>
       <div class="group-actions">
         <div class="btn-group">
-          <a href="#" class="btn btn-default btn-sm"><span class="icon-checkmark"></span></a>
-          <a href="#" class="btn btn-default btn-sm"><span class="icon-bookmark"></span></a>
+          <a href="#" class="btn btn-default btn-sm"
+             ng-class="{active: selectedGroup.status == 'resolved'}"
+             data-action="resolve"><span class="icon-checkmark"></span></a>
+          <a href="#" class="btn btn-default btn-sm"
+             ng-class="{active: selectedGroup.isBookmarked}"
+             data-action="bookmark"><span class="icon-bookmark"></span></a>
         </div>
         <div class="btn-group">
-          <a href="#" class="btn btn-default btn-sm"><span class="icon-trash"></span></a>
+          <a href="#" class="btn btn-default btn-sm"
+             data-action="remove"><span class="icon-trash"></span></a>
         </div>
         <div class="btn-group more">
           <a href="#" class="btn btn-default btn-sm dropdown-toggle">More <span class="icon-arrow-down"></span></a>
