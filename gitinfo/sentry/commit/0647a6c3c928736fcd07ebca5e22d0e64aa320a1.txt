commit 0647a6c3c928736fcd07ebca5e22d0e64aa320a1
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Jan 14 10:18:45 2020 -0800

    fix(percy): Fix random Incidents Status (#16426)
    
    This causes random snapshots in percy, just add a placeholder for now until we get the actual status

diff --git a/src/sentry/static/sentry/app/views/incidents/details/activity/activity.tsx b/src/sentry/static/sentry/app/views/incidents/details/activity/activity.tsx
index 0f6b48ad7b..7f590acf35 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/activity/activity.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/activity/activity.tsx
@@ -4,7 +4,6 @@ import moment from 'moment';
 import styled from '@emotion/styled';
 
 import {Client} from 'app/api';
-import {IncidentActivityType} from 'app/views/incidents/utils';
 import {User} from 'app/types';
 import {t} from 'app/locale';
 import ActivityItem from 'app/components/activity/item';
@@ -18,7 +17,7 @@ import space from 'app/styles/space';
 import ActivityPlaceholder from './activityPlaceholder';
 import DateDivider from './dateDivider';
 import StatusItem from './statusItem';
-import {Incident, ActivityType, NoteType} from '../../types';
+import {Incident, IncidentActivityType, ActivityType, NoteType} from '../../types';
 
 type Props = {
   api: Client;
diff --git a/src/sentry/static/sentry/app/views/incidents/details/activity/index.tsx b/src/sentry/static/sentry/app/views/incidents/details/activity/index.tsx
index 4687b74732..71ac037304 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/activity/index.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/activity/index.tsx
@@ -14,8 +14,13 @@ import {uniqueId} from 'app/utils/guid';
 import ConfigStore from 'app/stores/configStore';
 import withApi from 'app/utils/withApi';
 
-import {ActivityType, ActivityTypeDraft, NoteType} from '../../types';
-import {IncidentActivityType, IncidentStatus} from '../../utils';
+import {
+  ActivityType,
+  ActivityTypeDraft,
+  IncidentActivityType,
+  IncidentStatus,
+  NoteType,
+} from '../../types';
 import Activity from './activity';
 
 function makeDefaultErrorJson() {
diff --git a/src/sentry/static/sentry/app/views/incidents/details/activity/statusItem.tsx b/src/sentry/static/sentry/app/views/incidents/details/activity/statusItem.tsx
index ce0fe2780d..24fe8b09a0 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/activity/statusItem.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/activity/statusItem.tsx
@@ -1,12 +1,11 @@
 import React from 'react';
 import styled from '@emotion/styled';
 
-import {IncidentActivityType, IncidentStatus} from 'app/views/incidents/utils';
 import {t} from 'app/locale';
 import ActivityItem from 'app/components/activity/item';
 import getDynamicText from 'app/utils/getDynamicText';
 
-import {ActivityType} from '../../types';
+import {IncidentActivityType, IncidentStatus, ActivityType} from '../../types';
 
 type Props = {
   activity: ActivityType;
diff --git a/src/sentry/static/sentry/app/views/incidents/details/index.tsx b/src/sentry/static/sentry/app/views/incidents/details/index.tsx
index 9ce1579727..c91d815127 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/index.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/index.tsx
@@ -8,16 +8,10 @@ import {markIncidentAsSeen} from 'app/actionCreators/incident';
 import {t} from 'app/locale';
 import withApi from 'app/utils/withApi';
 
-import {
-  IncidentStatus,
-  fetchIncident,
-  updateSubscription,
-  updateStatus,
-  isOpen,
-} from '../utils';
+import {fetchIncident, updateSubscription, updateStatus, isOpen} from '../utils';
 import DetailsBody from './body';
 import DetailsHeader from './header';
-import {Incident} from '../types';
+import {IncidentStatus, Incident} from '../types';
 
 type Props = {
   api: Client;
diff --git a/src/sentry/static/sentry/app/views/incidents/status.tsx b/src/sentry/static/sentry/app/views/incidents/status.tsx
index 7e0880ac28..98fb92c33a 100644
--- a/src/sentry/static/sentry/app/views/incidents/status.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/status.tsx
@@ -7,8 +7,7 @@ import InlineSvg from 'app/components/inlineSvg';
 import SentryTypes from 'app/sentryTypes';
 import space from 'app/styles/space';
 
-import {Incident} from './types';
-import {isOpen} from './utils';
+import {Incident, IncidentStatus} from './types';
 
 type Props = {
   className?: string;
@@ -23,12 +22,12 @@ export default class Status extends React.Component<Props> {
 
   render() {
     const {className, incident} = this.props;
-    const isIncidentOpen = isOpen(incident);
+    const isIncidentOpen = incident.status !== IncidentStatus.CLOSED;
 
     // TODO(incidents): Make this work
     const status = !isIncidentOpen
       ? 'resolved'
-      : Math.random() < 0.5
+      : incident.status === IncidentStatus.CREATED
       ? 'critical'
       : 'warning';
     const isResolved = status === 'resolved';
diff --git a/src/sentry/static/sentry/app/views/incidents/types.tsx b/src/sentry/static/sentry/app/views/incidents/types.tsx
index f95471e800..36dfd96ed5 100644
--- a/src/sentry/static/sentry/app/views/incidents/types.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/types.tsx
@@ -1,5 +1,4 @@
 import {User, Repository} from 'app/types';
-import {IncidentActivityType} from './utils';
 
 type Data = [number, {count: number}[]][];
 
@@ -52,3 +51,16 @@ export type NoteType = {
   text: string;
   mentions: [string, string][];
 };
+
+export enum IncidentActivityType {
+  CREATED,
+  DETECTED,
+  STATUS_CHANGE,
+  COMMENT,
+}
+
+export enum IncidentStatus {
+  DETECTED,
+  CREATED,
+  CLOSED,
+}
diff --git a/src/sentry/static/sentry/app/views/incidents/utils.tsx b/src/sentry/static/sentry/app/views/incidents/utils.tsx
index c78bf2810c..422950e85e 100644
--- a/src/sentry/static/sentry/app/views/incidents/utils.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/utils.tsx
@@ -1,19 +1,6 @@
 import {Client} from 'app/api';
 
-import {Incident} from './types';
-
-export enum IncidentActivityType {
-  CREATED,
-  DETECTED,
-  STATUS_CHANGE,
-  COMMENT,
-}
-
-export enum IncidentStatus {
-  DETECTED,
-  CREATED,
-  CLOSED,
-}
+import {Incident, IncidentStatus} from './types';
 
 export function fetchIncident(
   api: Client,
