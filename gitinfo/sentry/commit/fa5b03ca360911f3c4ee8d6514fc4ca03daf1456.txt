commit fa5b03ca360911f3c4ee8d6514fc4ca03daf1456
Author: Mark Story <mark@sentry.io>
Date:   Thu Oct 17 12:18:41 2019 -0400

    fix(discover2) Fix issue.id formatting and missing graph data. (#15152)
    
    Add a specialized formatter for issue.id to coerce it to a string and
    provide a link.
    
    Fix bucketed_end not being converted to timestamps. This is required
    to make the event-stats endpoint return the expected results.
    
    Refs SEN-1169

diff --git a/src/sentry/static/sentry/app/views/eventsV2/data.tsx b/src/sentry/static/sentry/app/views/eventsV2/data.tsx
index 6247925c7b..b33c4af273 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/data.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/data.tsx
@@ -348,6 +348,7 @@ type SpecialFields = {
   project: SpecialField;
   user: SpecialField;
   last_seen: SpecialField;
+  'issue.id': SpecialField;
 };
 
 /**
@@ -356,6 +357,19 @@ type SpecialFields = {
  * displays with a custom render function.
  */
 export const SPECIAL_FIELDS: SpecialFields = {
+  'issue.id': {
+    sortField: 'issue.id',
+    renderFunc: (data, {organization}) => {
+      const target = `/organizations/${organization.slug}/issues/${data['issue.id']}/`;
+      return (
+        <Container>
+          <OverflowLink to={target} aria-label={data['issue.id']}>
+            {data['issue.id']}
+          </OverflowLink>
+        </Container>
+      );
+    },
+  },
   transaction: {
     sortField: 'transaction',
     renderFunc: (data, {location}) => {
diff --git a/src/sentry/utils/snuba.py b/src/sentry/utils/snuba.py
index 482354add0..fa04e51f72 100644
--- a/src/sentry/utils/snuba.py
+++ b/src/sentry/utils/snuba.py
@@ -1257,13 +1257,13 @@ def get_snuba_translators(filter_keys, is_grouprelease=False):
         if "time" in row
         else row,
     )
-    # Extra reverse translator for bucketed_start column.
+    # Extra reverse translator for bucketed_end column.
     reverse = compose(
         reverse,
         lambda row: replace(
-            row, "bucketed_start", int(to_timestamp(parse_datetime(row["bucketed_start"])))
+            row, "bucketed_end", int(to_timestamp(parse_datetime(row["bucketed_end"])))
         )
-        if "bucketed_start" in row
+        if "bucketed_end" in row
         else row,
     )
 
