commit 317364354ff03bfd60b04ffbc9b194f15907bd71
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Oct 10 15:13:11 2019 -0700

    ref(members): Disable roles that cannot be invited (#15037)

diff --git a/src/sentry/static/sentry/app/components/modals/inviteMembersModal/inviteRowControl.tsx b/src/sentry/static/sentry/app/components/modals/inviteMembersModal/inviteRowControl.tsx
index d5c9f36b58..32857e4739 100644
--- a/src/sentry/static/sentry/app/components/modals/inviteMembersModal/inviteRowControl.tsx
+++ b/src/sentry/static/sentry/app/components/modals/inviteMembersModal/inviteRowControl.tsx
@@ -1,7 +1,7 @@
 import React from 'react';
 
 import {t} from 'app/locale';
-import {Team} from 'app/types';
+import {Team, MemberRole} from 'app/types';
 import Button from 'app/components/button';
 import SelectControl from 'app/components/forms/selectControl';
 
@@ -16,7 +16,7 @@ type Props = {
   emails: string[];
   role: string;
   teams: string[];
-  roleOptions: string[];
+  roleOptions: MemberRole[];
   teamOptions: Team[];
   inviteStatus: InviteStatus;
   onRemove: () => void;
diff --git a/src/sentry/static/sentry/app/components/modals/inviteMembersModal/roleSelectControl.tsx b/src/sentry/static/sentry/app/components/modals/inviteMembersModal/roleSelectControl.tsx
index 6d1c5e6de2..a23d914e7b 100644
--- a/src/sentry/static/sentry/app/components/modals/inviteMembersModal/roleSelectControl.tsx
+++ b/src/sentry/static/sentry/app/components/modals/inviteMembersModal/roleSelectControl.tsx
@@ -11,9 +11,11 @@ type Props = SelectControl['props'] & {
 
 const RoleSelector = ({roles, ...props}: Props) => (
   <RoleSelectControl
-    options={roles && roles.map(r => ({value: r.id, label: r.name}))}
+    options={
+      roles && roles.map(r => ({value: r.id, label: r.name, disabled: !r.allowed}))
+    }
     optionRenderer={option => {
-      const {name, desc} = roles.find(r => r.id === option.value);
+      const {name, desc} = roles.find(r => r.id === option.value)!;
 
       return (
         <RoleItem>
diff --git a/src/sentry/static/sentry/app/types/index.tsx b/src/sentry/static/sentry/app/types/index.tsx
index 30365c62b2..97bdcf1fb5 100644
--- a/src/sentry/static/sentry/app/types/index.tsx
+++ b/src/sentry/static/sentry/app/types/index.tsx
@@ -504,4 +504,5 @@ export type MemberRole = {
   id: string;
   name: string;
   desc: string;
+  allowed?: boolean;
 };
