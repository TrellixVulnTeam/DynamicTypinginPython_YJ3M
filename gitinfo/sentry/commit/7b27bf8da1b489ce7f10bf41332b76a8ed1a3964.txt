commit 7b27bf8da1b489ce7f10bf41332b76a8ed1a3964
Author: Megan Heskett <meg.heskett@gmail.com>
Date:   Mon Jul 15 15:21:43 2019 -0700

    ref(onboarding-wizard): Require js project for source maps task (#13943)

diff --git a/src/sentry/static/sentry/app/components/onboardingWizard/getOnboardingTasks.jsx b/src/sentry/static/sentry/app/components/onboardingWizard/getOnboardingTasks.jsx
new file mode 100644
index 0000000000..80e1ae4052
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/onboardingWizard/getOnboardingTasks.jsx
@@ -0,0 +1,135 @@
+import {t} from 'app/locale';
+import {sourceMaps} from 'app/data/platformCategories';
+
+function hasPlatformWithSourceMaps(organization) {
+  if (!organization || !organization.projects) {
+    return false;
+  }
+  return organization.projects.some(({platform}) => sourceMaps.includes(platform));
+}
+
+export default function getOnboardingTasks(organization) {
+  return [
+    {
+      task: 1,
+      title: t('Create a project'),
+      description: t('Create your first Sentry project'),
+      detailedDescription: t(
+        'Follow our quick and easy steps to set up a project and start sending errors.'
+      ),
+      skippable: false,
+      prereq: [],
+      featureLocation: 'organization',
+      location: 'projects/new/',
+      display: true,
+    },
+    {
+      task: 2,
+      title: t('Send your first event'),
+      description: t("Install Sentry's client"),
+      detailedDescription: t('Choose your platform and send an event.'),
+      skippable: false,
+      prereq: [1],
+      featureLocation: 'project',
+      location: 'settings/install/',
+      display: true,
+    },
+    {
+      task: 3,
+      title: t('Invite team members'),
+      description: t('Bring your team aboard'),
+      detailedDescription: t(
+        `Let Sentry help your team triage and assign issues. Improve your workflow
+        by unlocking mentions, assignment, and suggested issue owners.`
+      ),
+      skippable: true,
+      prereq: [],
+      featureLocation: 'organization',
+      location: 'members/',
+      display: true,
+    },
+    {
+      task: 4,
+      title: t('Add a second platform'),
+      description: t('Add Sentry to a second platform'),
+      detailedDescription: t('Capture errors from both your front and back ends.'),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'organization',
+      location: 'projects/new/',
+      display: true,
+    },
+    {
+      task: 5,
+      title: t('Add user context'),
+      description: t('Know who is being affected by crashes'),
+      detailedDescription: t(
+        `Unlock features that let you drill down into the number of users affected by an issue
+        and get a broader sense about the quality of your application.`
+      ),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'absolute',
+      location: 'https://docs.sentry.io/enriching-error-data/context/#capturing-the-user',
+      display: true,
+    },
+    {
+      task: 6,
+      title: t('Set up release tracking'),
+      description: t('See which releases cause errors'),
+      detailedDescription: t(
+        `Set up releases and associate commits to gain additional context when determining the
+        cause of an issue and unlock the ability to resolve issues via commit message.`
+      ),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'project',
+      location: 'settings/release-tracking/',
+      display: true,
+    },
+    {
+      task: 7,
+      title: t('Upload source maps'),
+      description: t('Deminify JavaScript stack traces'),
+      detailedDescription: t(
+        `View source code context obtained from stack traces in its
+        original untransformed form, which is particularly useful for debugging minified code.`
+      ),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'absolute',
+      location: 'https://docs.sentry.io/platforms/javascript/sourcemaps/',
+      display: hasPlatformWithSourceMaps(organization),
+    },
+    {
+      task: 8,
+      title: 'User crash reports',
+      description: t('Collect user feedback when your application crashes.'),
+      skippable: true,
+      prereq: [1, 2, 5],
+      featureLocation: 'project',
+      location: 'settings/user-reports/',
+      display: false,
+    },
+    {
+      task: 9,
+      title: t('Set up issue tracking'),
+      description: t('Link to Sentry issues within your issue tracker'),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'project',
+      location: 'settings/plugins/',
+      display: false,
+    },
+    {
+      task: 10,
+      title: t('Set up an alerts service'),
+      description: t('Receive Sentry alerts in Slack, PagerDuty, and more.'),
+      skippable: true,
+      prereq: [1, 2],
+      featureLocation: 'project',
+      location: 'settings/alerts/',
+      display: false,
+    },
+  ];
+}
diff --git a/src/sentry/static/sentry/app/components/onboardingWizard/toDoItem.jsx b/src/sentry/static/sentry/app/components/onboardingWizard/toDoItem.jsx
index 612149da46..83980bf6ba 100644
--- a/src/sentry/static/sentry/app/components/onboardingWizard/toDoItem.jsx
+++ b/src/sentry/static/sentry/app/components/onboardingWizard/toDoItem.jsx
@@ -134,7 +134,9 @@ class TodoItem extends React.Component {
         <Content blur={showConfirmation}>
           <Checkbox>{task.status && <IndicatorIcon status={task.status} />}</Checkbox>
           <StyledLink href={learnMoreUrl} onClick={this.handleClick}>
-            <ItemHeader status={task.status}>{task.title}</ItemHeader>
+            <ItemHeader status={task.status} data-test-id={task.task}>
+              {task.title}
+            </ItemHeader>
           </StyledLink>
           <Description>{description}</Description>
           <SkipButton
diff --git a/src/sentry/static/sentry/app/components/onboardingWizard/todoList.jsx b/src/sentry/static/sentry/app/components/onboardingWizard/todoList.jsx
new file mode 100644
index 0000000000..645d504488
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/onboardingWizard/todoList.jsx
@@ -0,0 +1,74 @@
+import PropTypes from 'prop-types';
+import React from 'react';
+import styled from 'react-emotion';
+
+import getOnboardingTasks from 'app/components/onboardingWizard/getOnboardingTasks';
+import SentryTypes from 'app/sentryTypes';
+import TodoItem from 'app/components/onboardingWizard/toDoItem';
+import withApi from 'app/utils/withApi';
+import withOrganization from 'app/utils/withOrganization';
+
+class TodoList extends React.Component {
+  static propTypes = {
+    api: PropTypes.object,
+    organization: SentryTypes.Organization,
+  };
+
+  state = {
+    tasks: [],
+    seeAll: false, // Show all tasks, included those completed
+  };
+
+  componentWillMount() {
+    const {organization} = this.props;
+    const tasks = getOnboardingTasks(organization);
+
+    // Map server task state (i.e. completed status) to tasks objects
+    tasks.map(task => {
+      for (const serverTask of organization.onboardingTasks) {
+        if (serverTask.task === task.task) {
+          Object.assign(task, serverTask);
+          break;
+        }
+      }
+      return task;
+    });
+
+    this.setState({tasks});
+  }
+
+  skipTask = skippedTask => {
+    const {organization, api} = this.props;
+
+    api.request('/organizations/' + organization.slug + '/onboarding-tasks/', {
+      method: 'POST',
+      data: {task: skippedTask, status: 'skipped'},
+      success: () => {
+        const newState = this.state.tasks.map(task => {
+          if (task.task === skippedTask) {
+            task.status = 'skipped';
+          }
+          return task;
+        });
+        this.setState({tasks: newState});
+      },
+    });
+  };
+
+  render() {
+    const allDisplayedTasks = this.state.tasks.filter(task => task.display);
+
+    const todoListTasks = allDisplayedTasks.map(task => {
+      return <TodoItem key={task.task} task={task} onSkip={this.skipTask} />;
+    });
+
+    return <StyledTodoList>{todoListTasks}</StyledTodoList>;
+  }
+}
+
+const StyledTodoList = styled('ul')`
+  padding-left: 0;
+  list-style: none;
+`;
+
+export default withApi(withOrganization(TodoList));
diff --git a/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx b/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx
deleted file mode 100644
index 54a362b99c..0000000000
--- a/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx
+++ /dev/null
@@ -1,196 +0,0 @@
-import PropTypes from 'prop-types';
-import React from 'react';
-import styled from 'react-emotion';
-
-import {t} from 'app/locale';
-import SentryTypes from 'app/sentryTypes';
-import TodoItem from 'app/components/onboardingWizard/toDoItem';
-import withApi from 'app/utils/withApi';
-import withOrganization from 'app/utils/withOrganization';
-
-const TASKS = [
-  {
-    task: 1,
-    title: t('Create a project'),
-    description: t('Create your first Sentry project'),
-    detailedDescription: t(
-      'Follow our quick and easy steps to set up a project and start sending errors.'
-    ),
-    skippable: false,
-    prereq: [],
-    featureLocation: 'organization',
-    location: 'projects/new/',
-    display: true,
-  },
-  {
-    task: 2,
-    title: t('Send your first event'),
-    description: t("Install Sentry's client"),
-    detailedDescription: t('Choose your platform and send an event.'),
-    skippable: false,
-    prereq: [1],
-    featureLocation: 'project',
-    location: 'settings/install/',
-    display: true,
-  },
-  {
-    task: 3,
-    title: t('Invite team members'),
-    description: t('Bring your team aboard'),
-    detailedDescription: t(
-      `Let Sentry help your team triage and assign issues. Improve your workflow
-          by unlocking mentions, assignment, and suggested issue owners.`
-    ),
-    skippable: true,
-    prereq: [],
-    featureLocation: 'organization',
-    location: 'members/',
-    display: true,
-  },
-  {
-    task: 4,
-    title: t('Add a second platform'),
-    description: t('Add Sentry to a second platform'),
-    detailedDescription: t('Capture errors from both your front and back ends.'),
-    skippable: true,
-    prereq: [1, 2],
-    featureLocation: 'organization',
-    location: 'projects/new/',
-    display: true,
-  },
-  {
-    task: 5,
-    title: t('Add user context'),
-    description: t('Know who is being affected by crashes'),
-    detailedDescription: t(
-      `Unlock features that let you
-          drill down into the number of users affected by an issue and get a broader sense about the quality of your application.`
-    ),
-    skippable: true,
-    prereq: [1, 2],
-    featureLocation: 'absolute',
-    location: 'https://docs.sentry.io/enriching-error-data/context/#capturing-the-user',
-    display: true,
-  },
-  {
-    task: 6,
-    title: t('Set up release tracking'),
-    description: t('See which releases cause errors'),
-    detailedDescription: t(
-      `Set up releases and associate commits to gain additional context when determining the cause of an issue
-          and unlock the ability to resolve issues via commit message.`
-    ),
-    skippable: true,
-    prereq: [1, 2],
-    featureLocation: 'project',
-    location: 'settings/release-tracking/',
-    display: true,
-  },
-  {
-    task: 7,
-    title: t('Upload source maps'),
-    description: t('Deminify JavaScript stack traces'),
-    detailedDescription: t(
-      `View source code context obtained from stack traces in its
-          original untransformed form, which is particularly useful for debugging minified code.`
-    ),
-    skippable: true,
-    prereq: [1, 2], // Is one of the platforms javascript?
-    featureLocation: 'absolute',
-    location: 'https://docs.sentry.io/platforms/javascript/sourcemaps/',
-    display: true,
-  },
-  {
-    task: 8,
-    title: 'User crash reports',
-    description: t('Collect user feedback when your application crashes.'),
-    skippable: true,
-    prereq: [1, 2, 5],
-    featureLocation: 'project',
-    location: 'settings/user-reports/',
-    display: false,
-  },
-  {
-    task: 9,
-    title: t('Set up issue tracking'),
-    description: t('Link to Sentry issues within your issue tracker'),
-    skippable: true,
-    prereq: [1, 2],
-    featureLocation: 'project',
-    location: 'settings/plugins/',
-    display: false,
-  },
-  {
-    task: 10,
-    title: t('Set up an alerts service'),
-    description: t('Receive Sentry alerts in Slack, PagerDuty, and more.'),
-    skippable: true,
-    prereq: [1, 2],
-    featureLocation: 'project',
-    location: 'settings/alerts/',
-    display: false,
-  },
-];
-
-class TodoList extends React.Component {
-  static propTypes = {
-    api: PropTypes.object,
-    organization: SentryTypes.Organization,
-  };
-
-  state = {
-    tasks: [],
-    seeAll: false, // Show all tasks, included those completed
-  };
-
-  componentWillMount() {
-    // Map server task state (who finished what) to TodoList.TASK objects
-    const org = this.props.organization;
-    const tasks = TASKS.map(task => {
-      for (const serverTask of org.onboardingTasks) {
-        if (serverTask.task === task.task) {
-          Object.assign(task, serverTask);
-          break;
-        }
-      }
-      return task;
-    });
-    this.setState({tasks});
-  }
-
-  skipTask = skippedTask => {
-    const org = this.props.organization;
-    this.props.api.request('/organizations/' + org.slug + '/onboarding-tasks/', {
-      method: 'POST',
-      data: {task: skippedTask, status: 'skipped'},
-      success: () => {
-        const newState = this.state.tasks.map(task => {
-          if (task.task === skippedTask) {
-            task.status = 'skipped';
-          }
-          return task;
-        });
-        this.setState({tasks: newState});
-      },
-    });
-  };
-
-  render() {
-    const nextTasks = this.state.tasks.filter(task => task.display);
-
-    const todoListTasks = nextTasks.map(task => {
-      return <TodoItem key={task.task} task={task} onSkip={this.skipTask} />;
-    });
-
-    return <StyledTodoList>{todoListTasks}</StyledTodoList>;
-  }
-}
-
-const StyledTodoList = styled('ul')`
-  padding-left: 0;
-  list-style: none;
-`;
-
-export {TodoList, TASKS};
-
-export default withApi(withOrganization(TodoList));
diff --git a/src/sentry/static/sentry/app/components/sidebar/onboardingStatus.jsx b/src/sentry/static/sentry/app/components/sidebar/onboardingStatus.jsx
index 2cd453f3b7..e641412f3e 100644
--- a/src/sentry/static/sentry/app/components/sidebar/onboardingStatus.jsx
+++ b/src/sentry/static/sentry/app/components/sidebar/onboardingStatus.jsx
@@ -1,11 +1,12 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 
-import Tooltip from 'app/components/tooltip';
 import {analytics} from 'app/utils/analytics';
+import getOnboardingTasks from 'app/components/onboardingWizard/getOnboardingTasks';
+import SidebarPanel from 'app/components/sidebar/sidebarPanel';
 import {tct} from 'app/locale';
-import SidebarPanel from './sidebarPanel';
-import TodoList, {TASKS} from '../onboardingWizard/todos';
+import TodoList from 'app/components/onboardingWizard/todoList';
+import Tooltip from 'app/components/tooltip';
 
 class OnboardingStatus extends React.Component {
   static propTypes = {
@@ -45,7 +46,9 @@ class OnboardingStatus extends React.Component {
     const doneTasks = (org.onboardingTasks || []).filter(
       task => task.status === 'complete' || task.status === 'skipped'
     );
-    const allDisplayedTasks = TASKS.filter(task => task.display);
+
+    const tasks = getOnboardingTasks(org);
+    const allDisplayedTasks = tasks.filter(task => task.display);
 
     const percentage = Math.round(
       (doneTasks.length / allDisplayedTasks.length) * 100
diff --git a/src/sentry/static/sentry/app/data/platformCategories.jsx b/src/sentry/static/sentry/app/data/platformCategories.jsx
index 2156328331..7ffaad80d8 100644
--- a/src/sentry/static/sentry/app/data/platformCategories.jsx
+++ b/src/sentry/static/sentry/app/data/platformCategories.jsx
@@ -78,4 +78,6 @@ const categoryList = [
   {id: 'desktop', name: t('Desktop'), platforms: desktop},
 ];
 
+export const sourceMaps = [...frontend, 'react-native', 'cordova', 'electron'];
+
 export default categoryList;
diff --git a/src/sentry/static/sentry/app/views/projectChooser.jsx b/src/sentry/static/sentry/app/views/projectChooser.jsx
index 5b6576ec75..8989443b2c 100644
--- a/src/sentry/static/sentry/app/views/projectChooser.jsx
+++ b/src/sentry/static/sentry/app/views/projectChooser.jsx
@@ -4,11 +4,11 @@ import $ from 'jquery';
 import {Box} from 'grid-emotion';
 import styled from 'react-emotion';
 
+import getOnboardingTasks from 'app/components/onboardingWizard/getOnboardingTasks';
 import {t} from 'app/locale';
 import Link from 'app/components/links/link';
 import {sortProjects} from 'app/utils';
 import theme from 'app/utils/theme';
-import {TASKS} from 'app/components/onboardingWizard/todos';
 import {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
 import ProjectLabel from 'app/components/projectLabel';
@@ -28,26 +28,28 @@ class ProjectChooser extends React.Component {
     $(document.body).removeClass('narrow');
   }
 
+  get onboardingTask() {
+    const {organization} = this.props;
+    const tasks = getOnboardingTasks(organization);
+    return tasks.find(task => task.task === parseInt(this.props.location.query.task, 10));
+  }
+
   redirectNoMultipleProjects() {
     const {organization} = this.props;
     const projects = organization.projects;
-    const tasks = TASKS.filter(
-      task_inst => task_inst.task === this.props.location.query.task
-    );
+    const task = this.onboardingTask();
 
     if (projects.length === 0) {
       browserHistory.push(`/organizations/${organization.slug}/projects/new/`);
-    } else if (projects.length === 1 && tasks && tasks.length === 1) {
+    } else if (projects.length === 1 && task) {
       const project = projects[0];
-      browserHistory.push(`/${organization.slug}/${project.slug}/${tasks[0].location}`);
+      browserHistory.push(`/${organization.slug}/${project.slug}/${task.location}`);
     }
   }
 
   render() {
     const {organization} = this.props;
-    const task = TASKS.filter(
-      task_inst => task_inst.task === parseInt(this.props.location.query.task, 10)
-    )[0];
+    const task = this.onboardingTask();
 
     // Expect onboarding=1 and task=<task id> parameters and task.featureLocation === 'project'
     // TODO throw up report dialog if not true
@@ -60,7 +62,7 @@ class ProjectChooser extends React.Component {
         <Panel>
           <PanelHeader hasButtons>{t('Projects')}</PanelHeader>
           <PanelBody css={{width: '100%'}}>
-            {sortProjects(organization.projects).map((project, i) => (
+            {sortProjects(organization.projects).map(project => (
               <PanelItem p={0} key={project.slug} align="center">
                 <Box p={2} flex="1">
                   <Link
diff --git a/tests/js/spec/components/onboardingWizard/todoList.spec.jsx b/tests/js/spec/components/onboardingWizard/todoList.spec.jsx
new file mode 100644
index 0000000000..3a028572b0
--- /dev/null
+++ b/tests/js/spec/components/onboardingWizard/todoList.spec.jsx
@@ -0,0 +1,30 @@
+import React from 'react';
+import {mount} from 'enzyme';
+
+import TodoList from 'app/components/onboardingWizard/todoList';
+
+describe('TodoList', function() {
+  const routerContext = TestStubs.routerContext();
+
+  it('does not render `upload source maps` task with no projects', function() {
+    const organization = TestStubs.Organization();
+    const wrapper = mount(<TodoList organization={organization} />, routerContext);
+    expect(wrapper.find('h4[data-test-id=7]').exists()).toBe(false);
+  });
+
+  it('does not render `upload source maps` task with python project', function() {
+    const organization = TestStubs.Organization({
+      projects: [{platform: 'python'}],
+    });
+    const wrapper = mount(<TodoList organization={organization} />, routerContext);
+    expect(wrapper.find('h4[data-test-id=7]').exists()).toBe(false);
+  });
+
+  it('renders `upload source maps` task with js project', function() {
+    const organization = TestStubs.Organization({
+      projects: [{platform: 'javascript-react'}],
+    });
+    const wrapper = mount(<TodoList organization={organization} />, routerContext);
+    expect(wrapper.find('h4[data-test-id=7]').text()).toBe('Upload source maps');
+  });
+});
diff --git a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
index e109a5f23f..997673f687 100644
--- a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
@@ -1403,7 +1403,7 @@ exports[`Sidebar can have onboarding feature 1`] = `
                 >
                   <StyledTodoList>
                     <ul
-                      className="css-1j5mlad-StyledTodoList e1575y5o0"
+                      className="css-1j5mlad-StyledTodoList e1l1x1b40"
                     >
                       <WithOrganizationMockWrapper
                         key="1"
@@ -1495,9 +1495,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="/organizations/org-slug/projects/new/"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={1}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={1}
                                         >
                                           Create a project
                                         </h4>
@@ -1807,9 +1810,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="/organizations/org-slug/projects/choose/?onboarding=1&task=2"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={2}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={2}
                                         >
                                           Send your first event
                                         </h4>
@@ -2032,7 +2038,7 @@ exports[`Sidebar can have onboarding feature 1`] = `
                           Object {
                             "description": "Bring your team aboard",
                             "detailedDescription": "Let Sentry help your team triage and assign issues. Improve your workflow
-          by unlocking mentions, assignment, and suggested issue owners.",
+        by unlocking mentions, assignment, and suggested issue owners.",
                             "display": true,
                             "featureLocation": "organization",
                             "location": "members/",
@@ -2077,7 +2083,7 @@ exports[`Sidebar can have onboarding feature 1`] = `
                             Object {
                               "description": "Bring your team aboard",
                               "detailedDescription": "Let Sentry help your team triage and assign issues. Improve your workflow
-          by unlocking mentions, assignment, and suggested issue owners.",
+        by unlocking mentions, assignment, and suggested issue owners.",
                               "display": true,
                               "featureLocation": "organization",
                               "location": "members/",
@@ -2117,9 +2123,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="/organizations/org-slug/members/"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={3}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={3}
                                         >
                                           Invite team members
                                         </h4>
@@ -2431,9 +2440,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="/organizations/org-slug/projects/new/"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={4}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={4}
                                         >
                                           Add a second platform
                                         </h4>
@@ -2655,8 +2667,8 @@ exports[`Sidebar can have onboarding feature 1`] = `
                         task={
                           Object {
                             "description": "Know who is being affected by crashes",
-                            "detailedDescription": "Unlock features that let you
-          drill down into the number of users affected by an issue and get a broader sense about the quality of your application.",
+                            "detailedDescription": "Unlock features that let you drill down into the number of users affected by an issue
+        and get a broader sense about the quality of your application.",
                             "display": true,
                             "featureLocation": "absolute",
                             "location": "https://docs.sentry.io/enriching-error-data/context/#capturing-the-user",
@@ -2703,8 +2715,8 @@ exports[`Sidebar can have onboarding feature 1`] = `
                           task={
                             Object {
                               "description": "Know who is being affected by crashes",
-                              "detailedDescription": "Unlock features that let you
-          drill down into the number of users affected by an issue and get a broader sense about the quality of your application.",
+                              "detailedDescription": "Unlock features that let you drill down into the number of users affected by an issue
+        and get a broader sense about the quality of your application.",
                               "display": true,
                               "featureLocation": "absolute",
                               "location": "https://docs.sentry.io/enriching-error-data/context/#capturing-the-user",
@@ -2747,9 +2759,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="https://docs.sentry.io/enriching-error-data/context/#capturing-the-user"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={5}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={5}
                                         >
                                           Add user context
                                         </h4>
@@ -2971,8 +2986,8 @@ exports[`Sidebar can have onboarding feature 1`] = `
                         task={
                           Object {
                             "description": "See which releases cause errors",
-                            "detailedDescription": "Set up releases and associate commits to gain additional context when determining the cause of an issue
-          and unlock the ability to resolve issues via commit message.",
+                            "detailedDescription": "Set up releases and associate commits to gain additional context when determining the
+        cause of an issue and unlock the ability to resolve issues via commit message.",
                             "display": true,
                             "featureLocation": "project",
                             "location": "settings/release-tracking/",
@@ -3019,8 +3034,8 @@ exports[`Sidebar can have onboarding feature 1`] = `
                           task={
                             Object {
                               "description": "See which releases cause errors",
-                              "detailedDescription": "Set up releases and associate commits to gain additional context when determining the cause of an issue
-          and unlock the ability to resolve issues via commit message.",
+                              "detailedDescription": "Set up releases and associate commits to gain additional context when determining the
+        cause of an issue and unlock the ability to resolve issues via commit message.",
                               "display": true,
                               "featureLocation": "project",
                               "location": "settings/release-tracking/",
@@ -3063,9 +3078,12 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                       href="/organizations/org-slug/projects/choose/?onboarding=1&task=6"
                                       onClick={[Function]}
                                     >
-                                      <ItemHeader>
+                                      <ItemHeader
+                                        data-test-id={6}
+                                      >
                                         <h4
                                           className="css-158to6c-ItemHeader e1a4o5476"
+                                          data-test-id={6}
                                         >
                                           Set up release tracking
                                         </h4>
@@ -3266,322 +3284,6 @@ exports[`Sidebar can have onboarding feature 1`] = `
                                           </StyledButton>
                                         </Button>
                                          
-                                        · 
-                                        <a
-                                          onClick={[Function]}
-                                        >
-                                          Skip
-                                        </a>
-                                      </div>
-                                    </div>
-                                  </Container>
-                                </Confirmation>
-                              </WithOrganizationMockWrapper>
-                            </li>
-                          </Item>
-                        </TodoItem>
-                      </WithOrganizationMockWrapper>
-                      <WithOrganizationMockWrapper
-                        key="7"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Deminify JavaScript stack traces",
-                            "detailedDescription": "View source code context obtained from stack traces in its
-          original untransformed form, which is particularly useful for debugging minified code.",
-                            "display": true,
-                            "featureLocation": "absolute",
-                            "location": "https://docs.sentry.io/platforms/javascript/sourcemaps/",
-                            "prereq": Array [
-                              1,
-                              2,
-                            ],
-                            "skippable": true,
-                            "task": 7,
-                            "title": "Upload source maps",
-                          }
-                        }
-                      >
-                        <TodoItem
-                          onSkip={[Function]}
-                          organization={
-                            Object {
-                              "access": Array [
-                                "org:read",
-                                "org:write",
-                                "org:admin",
-                                "org:integrations",
-                                "project:read",
-                                "project:write",
-                                "project:admin",
-                                "team:read",
-                                "team:write",
-                                "team:admin",
-                              ],
-                              "features": Array [],
-                              "id": "3",
-                              "name": "Organization Name",
-                              "onboardingTasks": Array [],
-                              "projects": Array [],
-                              "scrapeJavaScript": true,
-                              "slug": "org-slug",
-                              "status": Object {
-                                "id": "active",
-                                "name": "active",
-                              },
-                              "teams": Array [],
-                            }
-                          }
-                          task={
-                            Object {
-                              "description": "Deminify JavaScript stack traces",
-                              "detailedDescription": "View source code context obtained from stack traces in its
-          original untransformed form, which is particularly useful for debugging minified code.",
-                              "display": true,
-                              "featureLocation": "absolute",
-                              "location": "https://docs.sentry.io/platforms/javascript/sourcemaps/",
-                              "prereq": Array [
-                                1,
-                                2,
-                              ],
-                              "skippable": true,
-                              "task": 7,
-                              "title": "Upload source maps",
-                            }
-                          }
-                        >
-                          <Item
-                            onMouseOut={[Function]}
-                            onMouseOver={[Function]}
-                          >
-                            <li
-                              className="css-djxgjv-Item e1a4o5470"
-                              onMouseOut={[Function]}
-                              onMouseOver={[Function]}
-                            >
-                              <Content
-                                blur={false}
-                              >
-                                <div
-                                  className="css-qpu70d-Content e1a4o5471"
-                                >
-                                  <Checkbox>
-                                    <div
-                                      className="css-6neou0-Checkbox e1a4o5472"
-                                    />
-                                  </Checkbox>
-                                  <StyledLink
-                                    href="https://docs.sentry.io/platforms/javascript/sourcemaps/"
-                                    onClick={[Function]}
-                                  >
-                                    <a
-                                      className="css-1ylws2h-StyledLink e1a4o5475"
-                                      href="https://docs.sentry.io/platforms/javascript/sourcemaps/"
-                                      onClick={[Function]}
-                                    >
-                                      <ItemHeader>
-                                        <h4
-                                          className="css-158to6c-ItemHeader e1a4o5476"
-                                        >
-                                          Upload source maps
-                                        </h4>
-                                      </ItemHeader>
-                                    </a>
-                                  </StyledLink>
-                                  <Description>
-                                    <p
-                                      className="css-rz8513-Description e1a4o5474"
-                                    >
-                                      Deminify JavaScript stack traces
-                                    </p>
-                                  </Description>
-                                  <SkipButton
-                                    align="center"
-                                    disabled={false}
-                                    hide={true}
-                                    onClick={[Function]}
-                                    size="xsmall"
-                                  >
-                                    <Button
-                                      align="center"
-                                      className="css-1q81x7o-SkipButton e1a4o5477"
-                                      disabled={false}
-                                      hide={true}
-                                      onClick={[Function]}
-                                      size="xsmall"
-                                    >
-                                      <StyledButton
-                                        aria-disabled={false}
-                                        aria-label="Skip task"
-                                        className="css-1q81x7o-SkipButton e1a4o5477"
-                                        disabled={false}
-                                        hide={true}
-                                        onClick={[Function]}
-                                        role="button"
-                                        size="xsmall"
-                                      >
-                                        <ForwardRef
-                                          aria-disabled={false}
-                                          aria-label="Skip task"
-                                          className="e1a4o5477 css-13bbwwz-StyledButton-getColors-SkipButton e12ma6z0"
-                                          disabled={false}
-                                          hide={true}
-                                          onClick={[Function]}
-                                          role="button"
-                                          size="xsmall"
-                                        >
-                                          <button
-                                            aria-disabled={false}
-                                            aria-label="Skip task"
-                                            className="e1a4o5477 css-13bbwwz-StyledButton-getColors-SkipButton e12ma6z0"
-                                            onClick={[Function]}
-                                            role="button"
-                                            size="xsmall"
-                                          >
-                                            <ButtonLabel
-                                              align="center"
-                                              size="xsmall"
-                                            >
-                                              <Component
-                                                align="center"
-                                                className="css-1bqncjo-ButtonLabel e12ma6z1"
-                                                size="xsmall"
-                                              >
-                                                <span
-                                                  className="css-1bqncjo-ButtonLabel e12ma6z1"
-                                                >
-                                                  Skip task
-                                                </span>
-                                              </Component>
-                                            </ButtonLabel>
-                                          </button>
-                                        </ForwardRef>
-                                      </StyledButton>
-                                    </Button>
-                                  </SkipButton>
-                                </div>
-                              </Content>
-                              <WithOrganizationMockWrapper
-                                dismiss={[Function]}
-                                hide={true}
-                                onSkip={[Function]}
-                                task={7}
-                              >
-                                <Confirmation
-                                  dismiss={[Function]}
-                                  hide={true}
-                                  onSkip={[Function]}
-                                  organization={
-                                    Object {
-                                      "access": Array [
-                                        "org:read",
-                                        "org:write",
-                                        "org:admin",
-                                        "org:integrations",
-                                        "project:read",
-                                        "project:write",
-                                        "project:admin",
-                                        "team:read",
-                                        "team:write",
-                                        "team:admin",
-                                      ],
-                                      "features": Array [],
-                                      "id": "3",
-                                      "name": "Organization Name",
-                                      "onboardingTasks": Array [],
-                                      "projects": Array [],
-                                      "scrapeJavaScript": true,
-                                      "slug": "org-slug",
-                                      "status": Object {
-                                        "id": "active",
-                                        "name": "active",
-                                      },
-                                      "teams": Array [],
-                                    }
-                                  }
-                                  task={7}
-                                >
-                                  <Container
-                                    hide={true}
-                                    onClick={[Function]}
-                                  >
-                                    <div
-                                      className="css-1hengah-Container e18z0fp40"
-                                      onClick={[Function]}
-                                    >
-                                      <Header>
-                                        <h4
-                                          className="css-134yp1m-Header e18z0fp41"
-                                        >
-                                          Want help?
-                                        </h4>
-                                      </Header>
-                                      <div>
-                                        <Button
-                                          align="center"
-                                          disabled={false}
-                                          priority="link"
-                                          to="/settings/org-slug/support/"
-                                        >
-                                          <StyledButton
-                                            aria-disabled={false}
-                                            aria-label="Go to Support"
-                                            disabled={false}
-                                            onClick={[Function]}
-                                            priority="link"
-                                            role="button"
-                                            to="/settings/org-slug/support/"
-                                          >
-                                            <ForwardRef
-                                              aria-disabled={false}
-                                              aria-label="Go to Support"
-                                              className="css-xc50ef-StyledButton-getColors e12ma6z0"
-                                              disabled={false}
-                                              onClick={[Function]}
-                                              priority="link"
-                                              role="button"
-                                              to="/settings/org-slug/support/"
-                                            >
-                                              <Link
-                                                aria-disabled={false}
-                                                aria-label="Go to Support"
-                                                className="css-xc50ef-StyledButton-getColors e12ma6z0"
-                                                onClick={[Function]}
-                                                onlyActiveOnIndex={false}
-                                                role="button"
-                                                style={Object {}}
-                                                to="/settings/org-slug/support/"
-                                              >
-                                                <a
-                                                  aria-disabled={false}
-                                                  aria-label="Go to Support"
-                                                  className="css-xc50ef-StyledButton-getColors e12ma6z0"
-                                                  onClick={[Function]}
-                                                  role="button"
-                                                  style={Object {}}
-                                                >
-                                                  <ButtonLabel
-                                                    align="center"
-                                                    priority="link"
-                                                  >
-                                                    <Component
-                                                      align="center"
-                                                      className="css-19qfo0c-ButtonLabel e12ma6z1"
-                                                      priority="link"
-                                                    >
-                                                      <span
-                                                        className="css-19qfo0c-ButtonLabel e12ma6z1"
-                                                      >
-                                                        Go to Support
-                                                      </span>
-                                                    </Component>
-                                                  </ButtonLabel>
-                                                </a>
-                                              </Link>
-                                            </ForwardRef>
-                                          </StyledButton>
-                                        </Button>
-                                         
                                         · 
                                         <a
                                           onClick={[Function]}
