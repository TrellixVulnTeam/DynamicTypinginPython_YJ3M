commit 94087dac7197ff172e2ef5f9a82ff4af86160757
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Dec 5 18:21:57 2017 -0800

    test(percy): Fix dynamic content on Project Key views (#6681)
    
    Also, export `<DynamicWrapper>` for getsentry

diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index 40d8d5cf65..16fc730a3c 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -124,6 +124,7 @@ export default {
     Count: require('./components/count').default,
     DateTime: require('./components/dateTime').default,
     DropdownLink: require('./components/dropdownLink').default,
+    DynamicWrapper: require('./components/dynamicWrapper').default,
     Form: require('./components/forms/form').default,
     FormState: require('./components/forms/index').FormState,
     HookStore: require('./stores/hookStore').default,
diff --git a/src/sentry/static/sentry/app/views/projectKeyDetails.jsx b/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
index 3f0efa5748..35a979b24c 100644
--- a/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
+++ b/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
@@ -1,13 +1,22 @@
+import {browserHistory} from 'react-router';
+import {isEqual} from 'lodash';
+import DocumentTitle from 'react-document-title';
 import PropTypes from 'prop-types';
 import React from 'react';
-import DocumentTitle from 'react-document-title';
-import {isEqual} from 'lodash';
-import {browserHistory} from 'react-router';
 import idx from 'idx';
 
+import {
+  BooleanField,
+  FormState,
+  NumberField,
+  Select2Field,
+  TextField,
+} from '../components/forms';
+import {t, tct} from '../locale';
 import ApiMixin from '../mixins/apiMixin';
 import AutoSelectText from '../components/autoSelectText';
 import DateTime from '../components/dateTime';
+import DynamicWrapper from '../components/dynamicWrapper';
 import FlowLayout from '../components/flowLayout';
 import HookStore from '../stores/hookStore';
 import IndicatorStore from '../stores/indicatorStore';
@@ -15,14 +24,6 @@ import LoadingError from '../components/loadingError';
 import LoadingIndicator from '../components/loadingIndicator';
 import ProjectState from '../mixins/projectState';
 import StackedBarChart from '../components/stackedBarChart';
-import {
-  BooleanField,
-  FormState,
-  NumberField,
-  Select2Field,
-  TextField,
-} from '../components/forms';
-import {t, tct} from '../locale';
 
 // Exporting this only so we can quickly and simply unit test it
 // Not moving this to utils because this is tightly coupled to the UI
@@ -413,14 +414,20 @@ const KeySettings = React.createClass({
             <div className="form-group">
               <label>{t('DSN')}</label>
               <AutoSelectText className="form-control disabled">
-                {data.dsn.secret}
+                <DynamicWrapper
+                  value={data.dsn.secret}
+                  fixed={data.dsn.secret.replace(data.projectId, '<<projectId>>')}
+                />
               </AutoSelectText>
             </div>
 
             <div className="form-group">
               <label>{t('DSN (Public)')}</label>
               <AutoSelectText className="form-control disabled">
-                {data.dsn.public}
+                <DynamicWrapper
+                  value={data.dsn.public}
+                  fixed={data.dsn.public.replace(data.projectId, '<<projectId>>')}
+                />
               </AutoSelectText>
               <div className="help-block">
                 {tct('Use your public DSN with browser-based SDKs such as [raven-js].', {
@@ -433,7 +440,10 @@ const KeySettings = React.createClass({
             <div className="form-group">
               <label>{t('CSP Endpoint')}</label>
               <AutoSelectText className="form-control disabled">
-                {data.dsn.csp}
+                <DynamicWrapper
+                  value={data.dsn.csp}
+                  fixed={data.dsn.csp.replace(data.projectId, '<<projectId>>')}
+                />
               </AutoSelectText>
               <div className="help-block">
                 {tct(
@@ -481,7 +491,7 @@ const KeySettings = React.createClass({
               <label>{t('Project ID')}</label>
               <div className="controls">
                 <AutoSelectText className="form-control disabled">
-                  {data.projectId}
+                  <DynamicWrapper value={data.projectId} fixed="<<projectId>>" />
                 </AutoSelectText>
               </div>
             </div>
diff --git a/src/sentry/static/sentry/app/views/projectKeys.jsx b/src/sentry/static/sentry/app/views/projectKeys.jsx
index d5eeabc1fc..9dd4562c38 100644
--- a/src/sentry/static/sentry/app/views/projectKeys.jsx
+++ b/src/sentry/static/sentry/app/views/projectKeys.jsx
@@ -1,19 +1,20 @@
+import {Link} from 'react-router';
+import DocumentTitle from 'react-document-title';
 import PropTypes from 'prop-types';
 import React from 'react';
-import DocumentTitle from 'react-document-title';
-import {Link} from 'react-router';
 
+import {t, tct} from '../locale';
 import ApiMixin from '../mixins/apiMixin';
 import AutoSelectText from '../components/autoSelectText';
 import ClippedBox from '../components/clippedBox';
 import Confirm from '../components/confirm';
+import DynamicWrapper from '../components/dynamicWrapper';
 import IndicatorStore from '../stores/indicatorStore';
 import LoadingError from '../components/loadingError';
 import LoadingIndicator from '../components/loadingIndicator';
-import {t, tct} from '../locale';
 import OrganizationState from '../mixins/organizationState';
-import ProjectState from '../mixins/projectState';
 import Pagination from '../components/pagination';
+import ProjectState from '../mixins/projectState';
 
 const KeyRow = React.createClass({
   propTypes: {
@@ -156,14 +157,20 @@ const KeyRow = React.createClass({
           <div className="form-group">
             <label>{t('DSN')}</label>
             <AutoSelectText className="form-control disabled">
-              {data.dsn.secret}
+              <DynamicWrapper
+                value={data.dsn.secret}
+                fixed={data.dsn.secret.replace(data.projectId, '<<projectId>>')}
+              />
             </AutoSelectText>
           </div>
 
           <div className="form-group">
             <label>{t('DSN (Public)')}</label>
             <AutoSelectText className="form-control disabled">
-              {data.dsn.public}
+              <DynamicWrapper
+                value={data.dsn.public}
+                fixed={data.dsn.public.replace(data.projectId, '<<projectId>>')}
+              />
             </AutoSelectText>
             <div className="help-block">
               {tct('Use your public DSN with browser-based SDKs such as [raven-js].', {
