commit b4aaf24c162c3819de5c9d5932e724b3a7037968
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 11 17:30:03 2012 -0800

    Correct stacktrace_order to rely on an int

diff --git a/src/sentry/interfaces.py b/src/sentry/interfaces.py
index 5253a8abc1..723287dfe4 100644
--- a/src/sentry/interfaces.py
+++ b/src/sentry/interfaces.py
@@ -342,7 +342,7 @@ class Stacktrace(Interface):
                 key='stacktrace_order',
                 default=None,
             )
-            if display == '2':
+            if display and int(display) == 2:
                 frames.reverse()
 
         return render_to_string('sentry/partial/interfaces/stacktrace.html', {
diff --git a/tests/sentry/web/frontend/accounts/tests.py b/tests/sentry/web/frontend/accounts/tests.py
index be2979098d..777959f0cc 100644
--- a/tests/sentry/web/frontend/accounts/tests.py
+++ b/tests/sentry/web/frontend/accounts/tests.py
@@ -106,5 +106,5 @@ class AppearanceSettingsTest(TestCase):
 
         options = UserOption.objects.get_all_values(user=self.user, project=None)
 
-        self.assertEquals(options.get('stacktrace_order'), '2')
+        self.assertEquals(options.get('stacktrace_order'), 2)
         self.assertEquals(options.get('language'), 'en')
