commit 6b0d474b58e7d654bfd5f9b4e90646c056ed51d1
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Apr 2 00:21:44 2013 -0700

    New alerts navigation

diff --git a/src/sentry/templates/sentry/alerts/list.html b/src/sentry/templates/sentry/alerts/list.html
index 96a1aee9d2..97b8e4cdcf 100644
--- a/src/sentry/templates/sentry/alerts/list.html
+++ b/src/sentry/templates/sentry/alerts/list.html
@@ -1,4 +1,4 @@
-{% extends "sentry/groups/group_list.html" %}
+{% extends "sentry/layout.html" %}
 
 {% load url from future %}
 {% load i18n %}
@@ -23,7 +23,10 @@
         <ul>
             {% for alert in alert_list %}
                 <li>
-                    <h4><a href="{% url 'sentry-alert-details' project.team.slug project.slug alert.id %}">{{ alert.datetime }}</a> <small> &mdash; <span class="pretty-date" title="{{ alert.datetime|date:"c" }}Z">{{ alert.datetime|timesince }}</span></small></h4>
+                    <h4><a href="{% url 'sentry-alert-details' project.team.slug project.slug alert.id %}">{{ alert.datetime }}</a>
+                        <small>
+                            &mdash; <span class="pretty-date" title="{{ alert.datetime|date:"c" }}Z">{{ alert.datetime|timesince }}</span>
+                        </small></h4>
                     {{ alert.message|linebreaks }}
                 </li>
             {% endfor %}
diff --git a/src/sentry/templates/sentry/alerts/team.html b/src/sentry/templates/sentry/alerts/team.html
new file mode 100644
index 0000000000..a49f10c933
--- /dev/null
+++ b/src/sentry/templates/sentry/alerts/team.html
@@ -0,0 +1,37 @@
+{% extends "sentry/teams/base.html" %}
+
+{% load url from future %}
+{% load i18n %}
+{% load sentry_helpers %}
+
+{% block title %}{% trans "Alerts" %} | {{ team.name }} | {{ block.super }}{% endblock %}
+
+{% block bodyclass %}{% endblock %}
+
+{% block breadcrumb %}
+    <li class="divider"></li>
+    <li><a href="{% url 'sentry-alerts' team.slug %}">{% trans "Alerts" %}</a></li>
+{% endblock %}
+
+{% block main %}
+    <section class="body">
+        <div class="page-header">
+            <h2>{% trans "Recent Alerts" %}
+                <small>{{ team.name }}</small>
+            </h2>
+        </div>
+
+        <ul>
+            {% for alert in alert_list %}
+                <li>
+                    <h4><a href="{% url 'sentry-alert-details' team.slug alert.project.slug alert.id %}">{{ alert.datetime }}</a>
+                        <small>
+                            &mdash; <a href="{% url 'sentry-alerts' team.slug alert.project.slug %}">{{ alert.project.name }}</a>
+                            &mdash; <span class="pretty-date" title="{{ alert.datetime|date:"c" }}Z">{{ alert.datetime|timesince }}</span>
+                        </small></h4>
+                    {{ alert.message|linebreaks }}
+                </li>
+            {% endfor %}
+        </ul>
+    </section>
+{% endblock %}
diff --git a/src/sentry/templates/sentry/header.html b/src/sentry/templates/sentry/header.html
index 7c81d1a62c..f88aa5f1fd 100644
--- a/src/sentry/templates/sentry/header.html
+++ b/src/sentry/templates/sentry/header.html
@@ -10,11 +10,12 @@
                 {% if team %}
                     <nav id="team-nav">
                         <ul>
-                            <li{% if SECTION == 'events' %} class="active"{% endif %}><a href="{% url 'sentry' team.slug %}">Events</a></li>
+                            <li{% if SECTION == 'events' %} class="active"{% endif %}><a href="{% url 'sentry' team.slug %}">{% trans "Events" %}</a></li>
                             <!-- <li{% if SECTION == 'users' %} class="active"{% endif %}><a href="{% url 'sentry-users' team.slug %}">Users</a></li> -->
                             {% if can_admin_team %}
-                                <li{% if SECTION == 'team' %} class="active"{% endif %}><a href="{% url 'sentry-manage-team' team.slug %}">Team</a></li>
+                                <li{% if SECTION == 'team' %} class="active"{% endif %}><a href="{% url 'sentry-manage-team' team.slug %}">{% trans "Team" %}</a></li>
                             {% endif %}
+                            <li{% if SECTION == 'alerts' %} class="active"{% endif %}><a href="{% url 'sentry-alerts' team.slug %}">{% trans "Alerts" %}</a></li>
                         </ul>
                     </nav>
                 {% endif %}
diff --git a/src/sentry/web/frontend/alerts.py b/src/sentry/web/frontend/alerts.py
index 44cad5dee8..170c951775 100644
--- a/src/sentry/web/frontend/alerts.py
+++ b/src/sentry/web/frontend/alerts.py
@@ -18,14 +18,23 @@ from sentry.web.helpers import render_to_response
 
 @login_required
 @has_access
-def alert_list(request, team, project):
-    alert_list = Alert.objects.filter(project=project, group__isnull=True).order_by('-datetime')
+def alert_list(request, team, project=None):
+    alert_list = Alert.objects.filter(group__isnull=True).order_by('-datetime')
 
-    return render_to_response('sentry/alerts/list.html', {
+    if project:
+        alert_list = alert_list.filter(project=project)
+        template = 'sentry/alerts/list.html'
+    else:
+        alert_list = alert_list.filter(
+            project__team=team,
+        ).select_related('project')
+        template = 'sentry/alerts/team.html'
+
+    return render_to_response(template, {
         'team': team,
         'project': project,
         'alert_list': alert_list,
-        'SECTION': 'events',
+        'SECTION': 'alerts',
     }, request)
 
 
@@ -44,7 +53,7 @@ def alert_details(request, team, project, alert_id):
         'project': project,
         'alert': alert,
         'related_group_list': related_group_list,
-        'SECTION': 'events',
+        'SECTION': 'alerts',
     }, request)
 
 
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 944a6d5030..877c827efa 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -234,10 +234,14 @@ urlpatterns = patterns('',
     url(r'^api/(?P<team_slug>[\w_-]+)/projects/search/$', api.search_projects,
         name='sentry-api-search-projects'),
 
+    # Team-wide alerts
+    url(r'^(?P<team_slug>[\w_-]+)/show/alerts/$', alerts.alert_list,
+        name='sentry-alerts'),
+
     # Users
-    url(r'^(?P<team_slug>[\w_-]+)/users/$', users.user_list,
+    url(r'^(?P<team_slug>[\w_-]+)/show/users/$', users.user_list,
         name='sentry-users'),
-    url(r'^(?P<team_slug>[\w_-]+)/users/(?P<user_id>\d+)/$', users.user_details,
+    url(r'^(?P<team_slug>[\w_-]+)/show/users/(?P<user_id>\d+)/$', users.user_details,
         name='sentry-user-details'),
 
     # Project specific
