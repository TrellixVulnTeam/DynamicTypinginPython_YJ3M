commit 7a44652b09cf92e016bdbfb6aba17bee98f4e5aa
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Mon Feb 25 22:31:09 2019 +0100

    feat: Fall back to empty metadata (#12191)

diff --git a/src/sentry/eventtypes/base.py b/src/sentry/eventtypes/base.py
index 2a20df987f..0e729b74b1 100644
--- a/src/sentry/eventtypes/base.py
+++ b/src/sentry/eventtypes/base.py
@@ -48,4 +48,4 @@ class DefaultEvent(BaseEvent):
         }
 
     def get_title(self, metadata):
-        return metadata['title']
+        return metadata.get('title') or '<untitled>'
diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index 7eb6c99df5..a86421597b 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -139,7 +139,10 @@ class Event(Model):
 
         See ``sentry.eventtypes``.
         """
-        return self.data['metadata']
+        # For some inexplicable reason we have some cases where the data
+        # is completely empty.  In that case we want to hobble along
+        # further.
+        return self.data.get('metadata') or {}
 
     def get_hashes(self):
         """
