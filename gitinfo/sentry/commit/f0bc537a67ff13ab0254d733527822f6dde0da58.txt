commit f0bc537a67ff13ab0254d733527822f6dde0da58
Author: Daniel Griesser <daniel.griesser.86@gmail.com>
Date:   Wed Feb 15 16:58:18 2017 +0100

    Add in_app detection for react-native frames

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 4f219bfe1b..ab4cb550fa 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -657,6 +657,11 @@ class JavaScriptStacktraceProcessor(StacktraceProcessor):
         if not frame.get('abs_path'):
             return
 
+        is_react_native = False
+        if frame['abs_path'].startswith('react-native:'):
+            is_react_native = True
+            frame['abs_path'] = frame['abs_path'].split('react-native:', 1)[-1]
+
         errors = cache.get_errors(frame['abs_path'])
         if errors:
             all_errors.extend(errors)
@@ -760,6 +765,12 @@ class JavaScriptStacktraceProcessor(StacktraceProcessor):
                     # We want to explicitly generate a webpack module name
                     new_frame['module'] = generate_module(filename)
 
+                if is_react_native:
+                    if 'node_modules' in filename:
+                        in_app = False
+                    else:
+                        in_app = True
+
                 new_frame['abs_path'] = abs_path
                 new_frame['filename'] = filename
                 if not frame.get('module') and abs_path.startswith(
