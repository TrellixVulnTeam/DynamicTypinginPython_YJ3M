commit e1269c68a30702b4e3d82788599d9102def56068
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 16 01:37:30 2014 -0700

    Remove sidebar in favor of simple search queries

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index eae61b86ea..029ab82dfc 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -1,4 +1,4 @@
-from __future__ import absolute_import
+from __future__ import absolute_import, division, print_function
 
 from datetime import timedelta
 from django.db.models import Q
@@ -15,6 +15,7 @@ from sentry.db.models.query import create_or_update
 from sentry.models import (
     Activity, Group, GroupBookmark, GroupStatus, Project, TagKey
 )
+from sentry.search.utils import parse_query
 from sentry.utils.dates import parse_date
 
 
@@ -94,6 +95,10 @@ class ProjectGroupIndexEndpoint(Endpoint):
         if cursor:
             query_kwargs['cursor'] = cursor
 
+        query = request.GET.get('query')
+        if query is not None:
+            query_kwargs.update(parse_query(query))
+
         results = search.query(**query_kwargs)
 
         return Response(serialize(list(results), request.user))
diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
new file mode 100644
index 0000000000..cb251e1211
--- /dev/null
+++ b/src/sentry/search/utils.py
@@ -0,0 +1,18 @@
+from __future__ import absolute_import, division, print_function
+
+
+def parse_query(query):
+    # TODO(dcramer): make this better
+    tokens = query.split(' ')
+
+    results = {'tags': {}, 'query': []}
+    for token in tokens:
+        if ':' in token:
+            key, value = token.split(':', 1)
+            results['tags'][key] = value
+        else:
+            results['query'].append(value)
+
+    results['query'] = ' '.join(results['query'])
+
+    return dict(results)
diff --git a/src/sentry/web/frontend/groups.py b/src/sentry/web/frontend/groups.py
index 023f6f923d..f0e3448bcd 100644
--- a/src/sentry/web/frontend/groups.py
+++ b/src/sentry/web/frontend/groups.py
@@ -31,6 +31,7 @@ from sentry.permissions import (
     can_admin_group, can_remove_group, can_create_projects
 )
 from sentry.plugins import plugins
+from sentry.search.utils import parse_query
 from sentry.utils import json
 from sentry.utils.dates import parse_date
 from sentry.web.decorators import has_access, has_group_access, login_required
@@ -46,10 +47,6 @@ def _get_group_list(request, project):
         'project': project,
     }
 
-    query = request.GET.get('query')
-    if query:
-        query_kwargs['query'] = query
-
     status = request.GET.get('status', '0')
     if status:
         query_kwargs['status'] = int(status)
@@ -106,6 +103,10 @@ def _get_group_list(request, project):
     query_kwargs['offset'] = (page - 1) * EVENTS_PER_PAGE
     query_kwargs['limit'] = EVENTS_PER_PAGE + 1
 
+    query = request.GET.get('query')
+    if query is not None:
+        query_kwargs.update(parse_query(query))
+
     results = app.search.query(**query_kwargs)
 
     if len(results) == query_kwargs['limit']:
@@ -278,6 +279,7 @@ def group_list(request, organization, project):
         'next_page': response['next_page'],
         'today': response['today'],
         'sort': response['sort'],
+        'query': query,
         'pageless_query_string': pageless_query_string,
         'sort_label': sort_label,
         'SORT_OPTIONS': SORT_OPTIONS,
