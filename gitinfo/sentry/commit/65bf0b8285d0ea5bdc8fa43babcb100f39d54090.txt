commit 65bf0b8285d0ea5bdc8fa43babcb100f39d54090
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon Jun 17 11:08:40 2019 -0700

    feat(ui): Add better loading state for Incidents list (#13695)
    
    Moves the loading indicator inside of the table so that the panel header is visible.

diff --git a/src/sentry/static/sentry/app/views/organizationIncidents/list/index.jsx b/src/sentry/static/sentry/app/views/organizationIncidents/list/index.jsx
index 9f0ccd94bd..388f5d8f05 100644
--- a/src/sentry/static/sentry/app/views/organizationIncidents/list/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationIncidents/list/index.jsx
@@ -15,6 +15,7 @@ import Count from 'app/components/count';
 import Duration from 'app/components/duration';
 import EmptyStateWarning from 'app/components/emptyStateWarning';
 import Link from 'app/components/links/link';
+import LoadingIndicator from 'app/components/loadingIndicator';
 import PageHeading from 'app/components/pageHeading';
 import Pagination from 'app/components/pagination';
 import getDynamicText from 'app/utils/getDynamicText';
@@ -76,8 +77,12 @@ class OrganizationIncidentsList extends AsyncComponent {
     );
   }
 
+  renderLoading() {
+    return this.renderBody();
+  }
+
   renderBody() {
-    const {incidentList, incidentListPageLinks} = this.state;
+    const {loading, incidentList, incidentListPageLinks} = this.state;
 
     return (
       <React.Fragment>
@@ -91,9 +96,15 @@ class OrganizationIncidentsList extends AsyncComponent {
               <div>{t('Total events')}</div>
             </TableLayout>
           </PanelHeader>
+
           <PanelBody>
-            {incidentList.length === 0 && this.renderEmpty()}
-            {incidentList.map(incident => this.renderListItem(incident))}
+            {loading && <LoadingIndicator />}
+            {!loading && (
+              <React.Fragment>
+                {incidentList.length === 0 && this.renderEmpty()}
+                {incidentList.map(incident => this.renderListItem(incident))}
+              </React.Fragment>
+            )}
           </PanelBody>
         </Panel>
         <Pagination pageLinks={incidentListPageLinks} />
