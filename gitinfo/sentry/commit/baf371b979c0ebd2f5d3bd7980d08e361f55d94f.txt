commit baf371b979c0ebd2f5d3bd7980d08e361f55d94f
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Sep 26 15:12:40 2017 -0700

    fix(http-interface): Allow empty request interface data

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/utils.jsx b/src/sentry/static/sentry/app/components/events/interfaces/utils.jsx
index 6344faba3b..8ca7cfc6cf 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/utils.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/utils.jsx
@@ -29,15 +29,17 @@ export function getCurlCommand(data) {
     result += ' \\\n -H "' + header[0] + ': ' + escapeQuotes(header[1] + '') + '"';
   }
 
-  switch (data.inferredContentType) {
-    case 'application/json':
-      result += ' \\\n --data "' + escapeQuotes(JSON.stringify(data.data)) + '"';
-      break;
-    case 'application/x-www-form-urlencoded':
-      result += ' \\\n --data "' + escapeQuotes(jQuery.param(data.data)) + '"';
-      break;
-    default:
-      result += ' \\\n --data "' + escapeQuotes(data.data) + '"';
+  if (defined(data.data)) {
+    switch (data.inferredContentType) {
+      case 'application/json':
+        result += ' \\\n --data "' + escapeQuotes(JSON.stringify(data.data)) + '"';
+        break;
+      case 'application/x-www-form-urlencoded':
+        result += ' \\\n --data "' + escapeQuotes(jQuery.param(data.data)) + '"';
+        break;
+      default:
+        result += ' \\\n --data "' + escapeQuotes(data.data) + '"';
+    }
   }
 
   result += ' \\\n "' + data.url;
diff --git a/tests/js/spec/components/events/interfaces/utils.spec.jsx b/tests/js/spec/components/events/interfaces/utils.spec.jsx
index c8f034e613..e646af94d3 100644
--- a/tests/js/spec/components/events/interfaces/utils.spec.jsx
+++ b/tests/js/spec/components/events/interfaces/utils.spec.jsx
@@ -61,6 +61,20 @@ describe('components/interfaces/utils', function() {
           ' --data "{\\"hello\\": \\"world\\"}" \\\n' +
           ' "http://example.com/foo?foo=bar"'
       );
+
+      // Do not add data if data is empty
+      expect(
+        getCurlCommand({
+          url: 'http://example.com/foo',
+          headers: [],
+          env: {
+            ENV: 'prod'
+          },
+          fragment: '',
+          query: 'foo=bar',
+          method: 'GET'
+        })
+      ).toEqual('curl \\\n "http://example.com/foo?foo=bar"');
     });
   });
 
