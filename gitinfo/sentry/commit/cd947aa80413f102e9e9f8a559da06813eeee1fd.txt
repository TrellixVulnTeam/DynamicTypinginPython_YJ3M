commit cd947aa80413f102e9e9f8a559da06813eeee1fd
Author: David Cramer <dcramer@gmail.com>
Date:   Wed May 9 13:34:48 2012 -0500

    Correct origins validation when no value is entered

diff --git a/sentry/web/forms/__init__.py b/sentry/web/forms/__init__.py
index 272de3a46e..59ad919019 100644
--- a/sentry/web/forms/__init__.py
+++ b/sentry/web/forms/__init__.py
@@ -110,11 +110,11 @@ class EditProjectForm(forms.ModelForm):
 
     def clean_origins(self):
         value = self.cleaned_data.get('origins')
-        if value:
-            values = filter(bool, (v.strip() for v in value.split('\n')))
-            for value in values:
-                self._url_validator(value)
-        return values
+        if not value:
+            return value
+        values = filter(bool, (v.strip() for v in value.split('\n')))
+        for value in values:
+            self._url_validator(value)
 
 
 class EditProjectAdminForm(EditProjectForm):
