commit 17a2755a4caedafd5d12b10a43d8dd37e3717ca8
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Dec 21 12:52:03 2018 -0800

    ref(releases): Refactor release commits to support no projectId
    
    Release commits components uses the org release commits endpoint if no
    projectId URL param is available.

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 260d4082b8..7e1722509c 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -920,7 +920,7 @@ function routes() {
             <Route
               path="commits/"
               componentPromise={() =>
-                import(/*webpackChunkName:"ReleaseCommits"*/ './views/releases/detail/project/releaseCommits')}
+                import(/*webpackChunkName:"ReleaseCommits"*/ './views/releases/detail/shared/releaseCommits')}
               component={errorHandler(LazyLoad)}
             />
           </Route>
diff --git a/src/sentry/static/sentry/app/views/releases/detail/project/releaseCommits.jsx b/src/sentry/static/sentry/app/views/releases/detail/shared/releaseCommits.jsx
similarity index 93%
rename from src/sentry/static/sentry/app/views/releases/detail/project/releaseCommits.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/shared/releaseCommits.jsx
index 33e39e64b3..9a7f9dd4d2 100644
--- a/src/sentry/static/sentry/app/views/releases/detail/project/releaseCommits.jsx
+++ b/src/sentry/static/sentry/app/views/releases/detail/shared/releaseCommits.jsx
@@ -26,12 +26,7 @@ const ReleaseCommits = createReactClass({
   },
 
   componentDidMount() {
-    let {orgId, projectId, version} = this.props.params;
-
-    let path = `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(
-      version
-    )}/commits/`;
-    this.api.request(path, {
+    this.api.request(this.getPath(), {
       method: 'GET',
       data: this.props.location.query,
       success: (data, _, jqXHR) => {
@@ -51,6 +46,16 @@ const ReleaseCommits = createReactClass({
     });
   },
 
+  getPath() {
+    let {orgId, projectId, version} = this.props.params;
+
+    let encodedVersion = encodeURIComponent(version);
+
+    return projectId
+      ? `/projects/${orgId}/${projectId}/releases/${encodedVersion}/commits/`
+      : `/organizations/${orgId}/releases/${encodedVersion}/commits/`;
+  },
+
   emptyState() {
     return (
       <Panel>
