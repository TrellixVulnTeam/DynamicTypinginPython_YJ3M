commit 62ea7bd935c0b0360fb903fb9f7135210e4c7df6
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Feb 14 12:24:59 2019 -0800

    feat(discover): Ignore double quotes in Discover condition values (#12065)
    
    Since these are frequently entered by users, just ignore double quotes
    by default. Users will need to enter 2 sets of double quotes if they
    want to query for an actual value with double quotes.

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
index 799ed4d74f..e55607aecf 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
@@ -83,6 +83,11 @@ export function getExternal(internal, columns) {
       external[2] = internal.replace(strStart, '');
     }
 
+    // Ignore double quotes if they have been entered
+    if (external[2] !== null && external[2].match(/^".*"$/)) {
+      external[2] = external[2].slice(1, -1);
+    }
+
     const type = columns.find(({name}) => name === colValue).type;
 
     if (type === 'number') {
diff --git a/tests/js/spec/views/organizationDiscover/conditions/utils.spec.jsx b/tests/js/spec/views/organizationDiscover/conditions/utils.spec.jsx
index 687e2bcd3e..f0823f32a7 100644
--- a/tests/js/spec/views/organizationDiscover/conditions/utils.spec.jsx
+++ b/tests/js/spec/views/organizationDiscover/conditions/utils.spec.jsx
@@ -53,8 +53,12 @@ describe('Conditions', function() {
     });
 
     // datetime fields are expanded
-    const expected = ['timestamp', '=', '2018-05-05T00:00:00'];
-    expect(getExternal('timestamp = 2018-05-05', COLUMNS)).toEqual(expected);
+    const expectedTimestamp = ['timestamp', '=', '2018-05-05T00:00:00'];
+    expect(getExternal('timestamp = 2018-05-05', COLUMNS)).toEqual(expectedTimestamp);
+
+    // strips double quotes
+    const expectedValue = ['message', '=', 'test'];
+    expect(getExternal('message = "test"', COLUMNS)).toEqual(expectedValue);
   });
 
   it('getInternal()', function() {
