commit 36998ec66ab395dd776b08c71d9ae1eb1714ebe1
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Sep 16 11:40:26 2015 -0700

    Add audit log and increase delay on org deletes

diff --git a/src/sentry/api/endpoints/organization_details.py b/src/sentry/api/endpoints/organization_details.py
index 1c3ef86049..e49da8080d 100644
--- a/src/sentry/api/endpoints/organization_details.py
+++ b/src/sentry/api/endpoints/organization_details.py
@@ -152,7 +152,15 @@ class OrganizationDetailsEndpoint(OrganizationEndpoint):
         if updated:
             delete_organization.delay(
                 object_id=organization.id,
-                countdown=60 * 5,
+                countdown=60 * 60,
+            )
+
+            self.create_audit_entry(
+                request=request,
+                organization=organization,
+                target_object=organization.id,
+                event=AuditLogEntryEvent.ORG_REMOVE,
+                data=organization.get_audit_log_data(),
             )
 
         return Response(status=204)
diff --git a/src/sentry/models/auditlogentry.py b/src/sentry/models/auditlogentry.py
index fd1327cbb2..9503d2f0dc 100644
--- a/src/sentry/models/auditlogentry.py
+++ b/src/sentry/models/auditlogentry.py
@@ -27,6 +27,7 @@ class AuditLogEntryEvent(object):
 
     ORG_ADD = 10
     ORG_EDIT = 11
+    ORG_REMOVE = 12
 
     TEAM_ADD = 20
     TEAM_EDIT = 21
diff --git a/tests/sentry/api/endpoints/test_organization_details.py b/tests/sentry/api/endpoints/test_organization_details.py
index ac854fae28..eef0b88a75 100644
--- a/tests/sentry/api/endpoints/test_organization_details.py
+++ b/tests/sentry/api/endpoints/test_organization_details.py
@@ -65,7 +65,7 @@ class OrganizationDeleteTest(APITestCase):
 
         mock_delete_organization.delay.assert_called_once_with(
             object_id=org.id,
-            countdown=60 * 5,
+            countdown=3600,
         )
 
     def test_as_admin(self):
