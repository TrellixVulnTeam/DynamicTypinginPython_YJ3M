commit 6c79a11a40ce74346261a975dcb71f6fee1a7fa1
Author: ckj <chriskjennings@gmail.com>
Date:   Wed Sep 21 15:55:29 2016 -0700

    Flexboxify sub-headers everywhere

diff --git a/src/sentry/static/sentry/app/components/organizations/homeContainer.jsx b/src/sentry/static/sentry/app/components/organizations/homeContainer.jsx
index 09fc802b88..7c46830648 100644
--- a/src/sentry/static/sentry/app/components/organizations/homeContainer.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/homeContainer.jsx
@@ -3,7 +3,6 @@ import OrganizationHomeSidebar from './homeSidebar';
 import OrganizationState from '../../mixins/organizationState';
 import ProjectSelector from '../projectHeader/projectSelector';
 import TooltipMixin from '../../mixins/tooltip';
-import {Link} from 'react-router';
 import {t} from '../../locale';
 
 const HomeContainer = React.createClass({
@@ -20,35 +19,35 @@ const HomeContainer = React.createClass({
 
     return (
       <div className="organization-home">
-        <div className="sub-header">
-          <div className="container">
-            <div className="pull-right">
-              {access.has('project:write') ?
-                <a href={`/organizations/${org.slug}/projects/new/`} className="btn btn-primary"
-                   style={{marginRight: 5}}>
-                  {t('New Project')}
-                </a>
-              :
-                <a className="btn btn-primary btn-disabled tip"
-                   title={t('You do not have enough permission to create new projects')}
-                   style={{marginRight: 5}}>
-                  {t('New Project')}
-                </a>
-              }
-              {access.has('team:write') ?
-                <a href={`/organizations/${org.slug}/teams/new/`} className="btn btn-primary">
-                  {t('New Team')}
-                </a>
-              :
-                <a className="btn btn-primary btn-disabled tip"
-                   title={t('You do not have enough permission to create new teams')}>
-                  {t('New Team')}
-                </a>
-              }
-            </div>
+        <div className="sub-header flex flex-container flex-vertically-centered">
+          <div>
             <ProjectSelector
                 organization={org} />
           </div>
+          <div className="align-right hidden-xs">
+            {access.has('project:write') ?
+              <a href={`/organizations/${org.slug}/projects/new/`} className="btn btn-primary"
+                 style={{marginRight: 5}}>
+                {t('New Project')}
+              </a>
+            :
+              <a className="btn btn-primary btn-disabled tip"
+                 title={t('You do not have enough permission to create new projects')}
+                 style={{marginRight: 5}}>
+                {t('New Project')}
+              </a>
+            }
+            {access.has('team:write') ?
+              <a href={`/organizations/${org.slug}/teams/new/`} className="btn btn-primary">
+                {t('New Team')}
+              </a>
+            :
+              <a className="btn btn-primary btn-disabled tip"
+                 title={t('You do not have enough permission to create new teams')}>
+                {t('New Team')}
+              </a>
+            }
+          </div>
         </div>
         <div className="container">
           <div className="content row">
diff --git a/src/sentry/static/sentry/app/components/projectHeader/index.jsx b/src/sentry/static/sentry/app/components/projectHeader/index.jsx
index 20ef9330bb..0c5515a4a3 100644
--- a/src/sentry/static/sentry/app/components/projectHeader/index.jsx
+++ b/src/sentry/static/sentry/app/components/projectHeader/index.jsx
@@ -22,28 +22,13 @@ const ProjectHeader = React.createClass({
     let access = new Set(org.access);
 
     return (
-      <div>
-        <div className="sub-header">
-          <div className="container">
+        <div className="sub-header flex flex-container flex-vertically-centered">
+          <div className="p-t-1">
             <ProjectSelector
                 organization={org}
                 projectId={project.slug}/>
 
-            <div className="pull-right project-actions">
-              <BookmarkToggle orgId={org.slug} project={project}>
-                <a className="">
-                  <span className={project.isBookmarked ? 'icon icon-star-solid active' : 'icon icon-star-solid'}/>
-                  {t('Star')}
-                </a>
-                {access.has('project:write') &&
-                  <a className={navSection == 'settings' ? 'active' : ''} href={`/${org.slug}/${project.slug}/settings/`}>
-                    <span className="icon icon-settings" /> {t('Settings')}
-                  </a>
-                }
-              </BookmarkToggle>
-            </div>
-
-            <ul className="nav nav-tabs">
+              <ul className="nav nav-tabs">
               <li className={navSection == 'stream' ? 'active' : ''}>
                 <Link to={`/${org.slug}/${project.slug}/`}>
                   {t('Issues')}
@@ -73,8 +58,25 @@ const ProjectHeader = React.createClass({
               </li>
             </ul>
           </div>
+
+          <div className="align-right project-actions">
+            <BookmarkToggle orgId={org.slug} project={project}>
+              <a className="btn btn-sm btn-default">
+                <span className={project.isBookmarked ? 'icon icon-star-solid active' : 'icon icon-star-solid'}/>
+                {project.isBookmarked ?
+                  <span>{t('Unstar Project')}</span>
+                :
+                  <span>{t('Star Project')}</span>
+                }
+              </a>
+              {access.has('project:write') &&
+                <a className={navSection == 'settings' ? 'btn btn-sm btn-default active' : 'btn btn-sm btn-default'} href={`/${org.slug}/${project.slug}/settings/`}>
+                  <span className="icon icon-settings" /> {t('Project Settings')}
+                </a>
+              }
+            </BookmarkToggle>
+          </div>
         </div>
-      </div>
     );
   }
 });
diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 0fb2bc630e..49c9b231d6 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -122,11 +122,10 @@ body.auth {
   color: @gray-dark;
   border-bottom: 1px solid @trim;
   position: relative;
-  padding: 20px 0 0;
   margin: 0 0 20px;
   line-height: 1;
   font-size: 16px;
-  display: flex;
+  min-height: 62px;
 
   .container {
     .clearfix;
@@ -151,7 +150,15 @@ body.auth {
 
     h3 {
       font-size: 20px;
-      margin-bottom: 14px;
+      margin: 0;
+
+      a {
+        color: @gray-dark;
+
+        &:hover {
+          color: @gray-darkest;
+        }
+      }
     }
 
     .project-selected {
@@ -168,15 +175,6 @@ body.auth {
     }
   }
 
-  a {
-    color: @gray-darker;
-
-    &:hover, &:active, &:focus {
-      color: @gray-darkest;
-      text-decoration: none;
-    }
-  }
-
   h1 {
     font-size: 18px;
     font-weight: 600;
@@ -186,9 +184,8 @@ body.auth {
 
   .nav-tabs {
     position: relative;
-    margin-top: -3px;
     z-index: 2;
-    margin-bottom: -20px;
+    margin-bottom: 0;
 
     li {
       position: relative;
@@ -199,6 +196,28 @@ body.auth {
       }
     }
   }
+
+  .project-select + .nav-tabs {
+    margin-top: 10px;
+  }
+
+  .align-right {
+    align-self: flex-end;
+
+    .nav-tabs{
+      margin-top: 4px; // balance active border-bottom
+
+      > li {
+        margin: 0 0 0 20px;
+        float: none;
+        display: inline-block;
+
+        > a {
+          padding: 18px 0px;
+        }
+      }
+    }
+  }
 }
 
 
@@ -254,29 +273,33 @@ footer {
 */
 
 .project-actions {
-  margin-top: -5px;
-  position: relative;
-  z-index: 50;
-
-  a {
-    padding-left: 30px;
-    color: @80;
-
-    &:hover {
-      color: @90;
-    }
+  .btn-sm {
+    font-size: 14px;
+    margin-left: 7px;
+    line-height: 22px;
   }
 
   .icon {
     font-size: 14px;
-    padding-right: 4px;
+    padding-right: 5px;
     color: @40;
+    position: relative;
+
+    &.icon-star-solid {
+      top: 0;
+      margin: 0;
+    }
 
     &.icon-signal  {
       font-size: 18px;
-      position: relative;
       top: 1px;
     }
+
+    &.icon-settings  {
+      top: 1px;
+      font-size: 15px;
+    }
+
     &.active {
       color: @yellow-orange;
     }
@@ -379,18 +402,6 @@ footer {
     padding-top: 30px !important;
   }
 
-  .sub-header {
-    padding-top: 15px;
-
-    h3 {
-      margin: 0;
-    }
-
-    .pull-right {
-      display: none;
-    }
-  }
-
   .nav-tabs {
     > li {
       text-transform: capitalize;
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 7cc6e075dc..8de7244263 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -21,12 +21,20 @@ dl.flat dd {
 
  .flex {
    display: flex;
+
+   &.flex-container {
+     padding-left: 30px;
+     padding-right: 30px;
+   }
    &.flex-justify-center {
      justify-content: center;
    }
    &.flex-justify-right {
      justify-content: flex-end;
    }
+   &.flex-vertically-centered {
+     align-items: center;
+   }
    > * {
      flex-grow: 1;
    }
@@ -78,13 +86,13 @@ dl.flat dd {
   color: @gray-dark;
   background: #fff;
   #gradient > .vertical(#fff, @10);
-  border-color: @gray-lighter;
-  box-shadow: 0 1px 1px rgba(0,0,0, .08);
+  border-color: lighten(@gray-lighter, 5);
+  box-shadow: 0 1px 1px rgba(0,0,0, .07);
 
   &:hover, &:focus, &:active {
     color: @gray-darker;
     background-color: @white-darker;
-    border-color: @gray-light;
+    border-color: darken(@gray-lighter, 5);
   }
 }
 
@@ -1110,12 +1118,12 @@ table.integrations {
     border: 1px solid @gray-lighter;
     box-shadow: 0 1px 1px rgba(0, 0, 0, .08);
     border-radius: 50%;
-    height: 22px;
-    width: 22px;
+    height: 21px;
+    width: 21px;
     line-height: 21px;
     // text-align: center;
     position: relative;
-    top: -2px;
+    top: -1px;
 
     margin-left: 10px;
     display: inline-block;
@@ -1129,7 +1137,7 @@ table.integrations {
     .icon-arrow-down {
       position: relative;
       top: -1px;
-      left: 3px;
+      left: 2px;
       font-size: 15px !important;
       color: @gray;
     }
@@ -1217,7 +1225,7 @@ table.integrations {
             left: 0;
             top: 0;
             bottom: 0;
-            background: @blue;
+            background: @purple-light;
           }
         }
       }
@@ -1225,8 +1233,8 @@ table.integrations {
   }
 
   &.open .dropdown-toggle {
-    border-color: darken(@blue, 15);
-    background-color: @blue;
+    border-color: darken(@purple, 15);
+    background-color: @purple;
     .icon-arrow-down {
       color: #fff;
     }
@@ -2408,6 +2416,7 @@ ul.faces {
     > a {
       font-size: 15px;
       padding: 0 0 10px;
+      margin: 0;
       border: 0;
       background: none;
       color: @gray-light;
@@ -3428,7 +3437,10 @@ div.qrcode {
 */
 
 @media(max-width:767px) {
-
+  .flex.flex-container {
+    padding-left: 10px;
+    padding-right: 10px;
+  }
 }
 
 /**
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index d5ccac2cac..88638777ea 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -172,11 +172,8 @@
 
     {% if organization and ACCESS.org_read %}
     {% block sub-header %}
-    <div class="sub-header">
-      <div class="container">
-        <div class="pull-right">
-          {% block header_action %}{% endblock %}
-        </div>
+    <div class="sub-header flex flex-container flex-vertically-centered">
+      <div>
         <div id="blk_projectselect"></div>
         <script>
         $(function(){
@@ -187,6 +184,9 @@
         });
         </script>
       </div>
+      <div class="align-right">
+        {% block header_action %}{% endblock %}
+      </div>
     </div>
     {% endblock %}
     {% endif %}
