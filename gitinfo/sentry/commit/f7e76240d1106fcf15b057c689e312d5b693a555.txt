commit f7e76240d1106fcf15b057c689e312d5b693a555
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Dec 26 20:33:54 2014 -0800

    Ensure cursor values are fairly represented as ints

diff --git a/src/sentry/search/django/constants.py b/src/sentry/search/django/constants.py
index 35ceafe37f..1bdad8fa4f 100644
--- a/src/sentry/search/django/constants.py
+++ b/src/sentry/search/django/constants.py
@@ -11,11 +11,11 @@ from __future__ import absolute_import
 
 SORT_CLAUSES = {
     'priority': 'sentry_groupedmessage.score',
-    'date': 'EXTRACT(EPOCH FROM sentry_groupedmessage.last_seen)',
-    'new': 'EXTRACT(EPOCH FROM sentry_groupedmessage.first_seen)',
+    'date': 'EXTRACT(EPOCH FROM sentry_groupedmessage.last_seen)::int',
+    'new': 'EXTRACT(EPOCH FROM sentry_groupedmessage.first_seen)::int',
     'freq': 'sentry_groupedmessage.times_seen',
     'tottime': 'sentry_groupedmessage.time_spent_total',
-    'avgtime': '(sentry_groupedmessage.time_spent_total / sentry_groupedmessage.time_spent_count)',
+    'avgtime': '(sentry_groupedmessage.time_spent_total / sentry_groupedmessage.time_spent_count)::int',
 }
 
 SQLITE_SORT_CLAUSES = SORT_CLAUSES.copy()
diff --git a/src/sentry/utils/cursors.py b/src/sentry/utils/cursors.py
index 5b805c7d9b..85c175bdc3 100644
--- a/src/sentry/utils/cursors.py
+++ b/src/sentry/utils/cursors.py
@@ -35,7 +35,7 @@ class Cursor(object):
         if len(bits) != 3:
             raise ValueError
         try:
-            bits = map(int, bits)
+            bits = float(bits[0]), int(bits[1]), int(bits[2])
         except (TypeError, ValueError):
             raise ValueError
         return cls(*bits)
