commit 2036acb1cf04a08aab0221f06369dae31ba231c2
Author: Lauryn Brown <lauryndbrown@gmail.com>
Date:   Wed Sep 5 13:20:24 2018 -0700

    fix(integrations): VSTS Use public alias rather than user id to get accounts. (#9626)
    
    * Swapped id for public alias in get accounts to use the account uuid rather than the user descriptor.
    
    * Added uuid rather than publicAlias

diff --git a/src/sentry/identity/vsts/provider.py b/src/sentry/identity/vsts/provider.py
index 02cf6ccd4e..aec00ca123 100644
--- a/src/sentry/identity/vsts/provider.py
+++ b/src/sentry/identity/vsts/provider.py
@@ -17,6 +17,8 @@ def get_user_info(access_token):
     )
     resp.raise_for_status()
     user = resp.json()
+    user['uuid'] = user['id']
+
     resp = session.get(
         'https://app.vssps.visualstudio.com/_apis/connectionData/',
         headers={
diff --git a/src/sentry/integrations/vsts/integration.py b/src/sentry/integrations/vsts/integration.py
index f7dac430ca..241f5d2994 100644
--- a/src/sentry/integrations/vsts/integration.py
+++ b/src/sentry/integrations/vsts/integration.py
@@ -412,7 +412,7 @@ class AccountConfigView(PipelineView):
         access_token = state['data']['access_token']
         user = get_user_info(access_token)
 
-        accounts = self.get_accounts(access_token, user['id'])['value']
+        accounts = self.get_accounts(access_token, user['uuid'])['value']
         pipeline.bind_state('accounts', accounts)
         account_form = AccountForm(accounts)
         return render_to_response(
