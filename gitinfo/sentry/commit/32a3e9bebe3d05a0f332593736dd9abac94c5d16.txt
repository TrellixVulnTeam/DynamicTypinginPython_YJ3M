commit 32a3e9bebe3d05a0f332593736dd9abac94c5d16
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 6 21:39:09 2015 -0800

    Dont pass anonymous user to Project.has_access

diff --git a/src/sentry/web/frontend/groups.py b/src/sentry/web/frontend/groups.py
index 39d2e7cfd4..0ef506b6bf 100644
--- a/src/sentry/web/frontend/groups.py
+++ b/src/sentry/web/frontend/groups.py
@@ -343,7 +343,7 @@ def group_details(request, organization, project, group, event_id=None):
     else:
         add_note_form = NewNoteForm()
 
-    if project.has_access(request.user):
+    if request.user.is_authenticated() and project.has_access(request.user):
         # update that the user has seen this group
         create_or_update(
             GroupSeen,
