commit b34856edc008bce732a9f170b39c8bd0dff3837a
Author: Ted Kaemming <ted@kaemming.com>
Date:   Mon Sep 28 11:20:22 2015 -0700

    Split out digests backends into separate submodule.

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 74ba1f5a50..4ac4a8afd4 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -703,7 +703,7 @@ CACHES = {
 CACHE_VERSION = 1
 
 # Digests backend
-SENTRY_DIGESTS = 'sentry.digests.redis.RedisBackend'
+SENTRY_DIGESTS = 'sentry.digests.backends.redis.RedisBackend'
 SENTRY_DIGESTS_OPTIONS = {}
 
 # Quota backend
diff --git a/src/sentry/digests/__init__.py b/src/sentry/digests/__init__.py
index c3961685ab..2631d07396 100644
--- a/src/sentry/digests/__init__.py
+++ b/src/sentry/digests/__init__.py
@@ -1 +1,8 @@
 from __future__ import absolute_import
+
+from collections import namedtuple
+
+
+Record = namedtuple('Record', 'key value timestamp')
+
+ScheduleEntry = namedtuple('ScheduleEntry', 'key timestamp')
diff --git a/src/sentry/digests/backends/__init__.py b/src/sentry/digests/backends/__init__.py
new file mode 100644
index 0000000000..e69de29bb2
diff --git a/src/sentry/digests/base.py b/src/sentry/digests/backends/base.py
similarity index 98%
rename from src/sentry/digests/base.py
rename to src/sentry/digests/backends/base.py
index 2fac7f06ef..80b4cb8cec 100644
--- a/src/sentry/digests/base.py
+++ b/src/sentry/digests/backends/base.py
@@ -1,7 +1,6 @@
 from __future__ import absolute_import
 
 import logging
-from collections import namedtuple
 
 from sentry.utils.imports import import_string
 
@@ -9,11 +8,6 @@ from sentry.utils.imports import import_string
 logger = logging.getLogger('sentry.digests')
 
 
-Record = namedtuple('Record', 'key value timestamp')
-
-ScheduleEntry = namedtuple('ScheduleEntry', 'key timestamp')
-
-
 def load(options):
     return import_string(options['path'])(**options.get('options', {}))
 
diff --git a/src/sentry/digests/redis.py b/src/sentry/digests/backends/redis.py
similarity index 99%
rename from src/sentry/digests/redis.py
rename to src/sentry/digests/backends/redis.py
index 123c3c6b68..fef82a554b 100644
--- a/src/sentry/digests/redis.py
+++ b/src/sentry/digests/backends/redis.py
@@ -17,11 +17,13 @@ from redis.exceptions import (
 
 from sentry.utils.cache import Lock
 
-from .base import (
-    Backend,
+from .. import (
     Record,
     ScheduleEntry,
 )
+from .base import (
+    Backend,
+)
 
 
 logger = logging.getLogger('sentry.digests')
diff --git a/src/sentry/plugins/bases/notify.py b/src/sentry/plugins/bases/notify.py
index 730465d868..21c37df93d 100644
--- a/src/sentry/plugins/bases/notify.py
+++ b/src/sentry/plugins/bases/notify.py
@@ -16,7 +16,7 @@ from sentry.app import (
     digests,
     ratelimiter,
 )
-from sentry.digests.base import Record
+from sentry.digests import Record
 from sentry.plugins import Notification, Plugin
 from sentry.models import UserOption
 from sentry.utils.dates import to_timestamp
diff --git a/tests/sentry/digests/backends/__init__.py b/tests/sentry/digests/backends/__init__.py
new file mode 100644
index 0000000000..e69de29bb2
diff --git a/tests/sentry/digests/test_redis.py b/tests/sentry/digests/backends/test_redis.py
similarity index 99%
rename from tests/sentry/digests/test_redis.py
rename to tests/sentry/digests/backends/test_redis.py
index 6967fe0163..9b63f1f5dd 100644
--- a/tests/sentry/digests/test_redis.py
+++ b/tests/sentry/digests/backends/test_redis.py
@@ -8,10 +8,10 @@ import time
 from exam import fixture
 from redis.client import StrictRedis
 
-from sentry.digests.base import (
+from sentry.digests import (
     Record,
 )
-from sentry.digests.redis import (
+from sentry.digests.backends.redis import (
     SCHEDULE_STATE_READY,
     SCHEDULE_STATE_WAITING,
     RedisBackend,
