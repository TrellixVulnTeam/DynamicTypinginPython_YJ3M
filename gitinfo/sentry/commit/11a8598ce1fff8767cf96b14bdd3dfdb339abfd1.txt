commit 11a8598ce1fff8767cf96b14bdd3dfdb339abfd1
Author: adhiraj <693121+adhiraj@users.noreply.github.com>
Date:   Fri Jun 29 12:54:53 2018 -0700

    feat(auth): Log login source (#8875)
    
    We're implementing the ability to log in via Github and VSTS in addition to regular login and want to get a sense of the numbers.

diff --git a/src/sentry/utils/auth.py b/src/sentry/utils/auth.py
index d9d8fccf98..1b19032bb4 100644
--- a/src/sentry/utils/auth.py
+++ b/src/sentry/utils/auth.py
@@ -177,7 +177,7 @@ def find_users(username, with_valid_password=True, is_active=None):
     return []
 
 
-def login(request, user, passed_2fa=None, after_2fa=None, organization_id=None):
+def login(request, user, passed_2fa=None, after_2fa=None, organization_id=None, source=None):
     """
     This logs a user in for the sesion and current request.
 
@@ -237,17 +237,18 @@ def login(request, user, passed_2fa=None, after_2fa=None, organization_id=None):
     _login(request, user)
     if organization_id:
         mark_sso_complete(request, organization_id)
-    log_auth_success(request, user.username, organization_id)
+    log_auth_success(request, user.username, organization_id, source)
     return True
 
 
-def log_auth_success(request, username, organization_id=None):
+def log_auth_success(request, username, organization_id=None, source=None):
     logger.info(
         'user.auth.success',
         extra={
             'ip_address': request.META['REMOTE_ADDR'],
             'username': username,
             'organization_id': organization_id,
+            'source': source,
         }
     )
 
