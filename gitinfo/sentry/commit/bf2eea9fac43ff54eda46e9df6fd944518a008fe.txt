commit bf2eea9fac43ff54eda46e9df6fd944518a008fe
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 26 06:05:45 2011 -0800

    Clean up sidebar and move actions into tabs right

diff --git a/bootstrap/lib/sentry.less b/bootstrap/lib/sentry.less
index 240e9282fc..83605e6277 100644
--- a/bootstrap/lib/sentry.less
+++ b/bootstrap/lib/sentry.less
@@ -23,12 +23,19 @@
     color: @grayLight;
   }
 }
-.dropdown-menu > li.active a {
+.dropdown-menu > li.active a,
+.dropdown-menu > li.disabled a {
   color: @grayLight;
   border-color: transparent;
   cursor: default;
 }
 
+.tabs {
+  > li.pull-right {
+    float: right;
+  }
+}
+
 // Tweaks to Topbar
 
 .topbar {
diff --git a/sentry/plugins/sentry_servers/templates/sentry/plugins/sentry_servers/widget.html b/sentry/plugins/sentry_servers/templates/sentry/plugins/sentry_servers/widget.html
index 2067571b4c..54d33ad74c 100644
--- a/sentry/plugins/sentry_servers/templates/sentry/plugins/sentry_servers/widget.html
+++ b/sentry/plugins/sentry_servers/templates/sentry/plugins/sentry_servers/widget.html
@@ -1,12 +1,15 @@
+{% load i18n %}
 {% load sentry_helpers %}
 
 {% with group.unique_servers|slice:"10" as unique_servers %}
     {% if unique_servers %}
-        <h2>Servers</h2>
+        <div class="page-header">
+            <h3>{% trans "Servers" %}</h3>
+        </div>
 
         <ul class="server-list">
-            {% for server, priority in unique_servers|with_priority:1 %}
-                <li class="priority-{{ priority }}"><span class="count">{{ server.1|small_count }}</span> <a href="{% url sentry group.project_id %}?server_name={{ server.0 }}">{{ server.0 }}</a></li>
+            {% for server in unique_servers %}
+                <li><span class="count">{{ server.1|small_count }}</span> <a href="{% url sentry group.project_id %}?server_name={{ server.0 }}">{{ server.0 }}</a></li>
             {% endfor %}
         </ul>
     {% endif %}
diff --git a/sentry/plugins/sentry_sites/templates/sentry/plugins/sentry_sites/widget.html b/sentry/plugins/sentry_sites/templates/sentry/plugins/sentry_sites/widget.html
index f3b8336978..18185a1e17 100644
--- a/sentry/plugins/sentry_sites/templates/sentry/plugins/sentry_sites/widget.html
+++ b/sentry/plugins/sentry_sites/templates/sentry/plugins/sentry_sites/widget.html
@@ -1,12 +1,15 @@
+{% load i18n %}
 {% load sentry_helpers %}
 
 {% with group.unique_sites|slice:"10" as unique_sites %}
     {% if unique_sites %}
-        <h2>Sites</h2>
+        <div class="page-header">
+            <h3>{% trans "Sites" %}</h3>
+        </div>
 
         <ul class="server-list">
-            {% for site, priority in unique_sites|with_priority:1 %}
-                <li class="priority-{{ priority }}"><span class="count">{{ site.1|small_count }}</span> <a href="{% url sentry group.project_id %}?site={{ site.0 }}">{{ site.0 }}</a></li>
+            {% for site in unique_sites %}
+                <li><span class="count">{{ site.1|small_count }}</span> <a href="{% url sentry group.project_id %}?site={{ site.0 }}">{{ site.0 }}</a></li>
             {% endfor %}
         </ul>
     {% endif %}
diff --git a/sentry/plugins/sentry_urls/templates/sentry/plugins/sentry_urls/widget.html b/sentry/plugins/sentry_urls/templates/sentry/plugins/sentry_urls/widget.html
index 0d1b4e6f11..b7454f9984 100644
--- a/sentry/plugins/sentry_urls/templates/sentry/plugins/sentry_urls/widget.html
+++ b/sentry/plugins/sentry_urls/templates/sentry/plugins/sentry_urls/widget.html
@@ -1,12 +1,15 @@
+{% load i18n %}
 {% load sentry_helpers %}
 
 {% with group.unique_urls|slice:"10" as unique_urls %}
     {% if unique_urls %}
-        <h2>URLs</h2>
+        <div class="page-header">
+            <h3>{% trans "URLs" %}</h3>
+        </div>
 
         <ul class="url-list">
-            {% for link, priority in unique_urls|with_priority:1 %}
-                <li class="priority-{{ priority }}"><span class="count">{{ link.1|small_count }}</span> <a href="{{ link.0 }}">{{ link.0 }}</a></li>
+            {% for link in unique_urls %}
+                <li><span class="count">{{ link.1|small_count }}</span> <a href="{{ link.0 }}">{{ link.0 }}</a></li>
             {% endfor %}
         </ul>
     {% endif %}
diff --git a/sentry/static/styles/bootstrap.css b/sentry/static/styles/bootstrap.css
index 15019cf263..26d84516dd 100644
--- a/sentry/static/styles/bootstrap.css
+++ b/sentry/static/styles/bootstrap.css
@@ -6,7 +6,7 @@
  * http://www.apache.org/licenses/LICENSE-2.0
  *
  * Designed and built with all the love in the world @twitter by @mdo and @fat.
- * Date: Mon Dec 26 05:54:01 PST 2011
+ * Date: Mon Dec 26 06:01:56 PST 2011
  */
 /* Reset.less
  * Props to Eric Meyer (meyerweb.com) for his CSS reset file. We're using an adapted version here	that cuts out some of the reset HTML elements we will never need here (i.e., dfn, samp, etc).
@@ -2535,6 +2535,9 @@ button.btn::-moz-focus-inner, input[type=submit].btn::-moz-focus-inner {
 .options li.open a.menu:after, .options .dropdown.open .dropdown-toggle:after {
   border-top-color: #555;
 }
+.options > li.pull-right {
+  float: right;
+}
 .options > li > a {
   line-height: 34px;
   border: 0;
@@ -2552,11 +2555,14 @@ button.btn::-moz-focus-inner, input[type=submit].btn::-moz-focus-inner {
   background-color: transparent;
   color: #bfbfbf;
 }
-.dropdown-menu > li.active a {
+.dropdown-menu > li.active a, .dropdown-menu > li.disabled a {
   color: #bfbfbf;
   border-color: transparent;
   cursor: default;
 }
+.tabs > li.pull-right {
+  float: right;
+}
 .topbar input:-moz-placeholder {
   color: #404040;
 }
diff --git a/sentry/static/styles/bootstrap.min.css b/sentry/static/styles/bootstrap.min.css
index 45a412b816..ac650a1d06 100644
--- a/sentry/static/styles/bootstrap.min.css
+++ b/sentry/static/styles/bootstrap.min.css
@@ -363,10 +363,12 @@ button.btn::-moz-focus-inner,input[type=submit].btn::-moz-focus-inner{padding:0;
 .options a.menu:after,.options .dropdown-toggle:after{border-top-color:#999;margin-top:15px;margin-left:5px;}
 .options li.open.menu .menu,.options .open.dropdown .dropdown-toggle{border-color:#999;}
 .options li.open a.menu:after,.options .dropdown.open .dropdown-toggle:after{border-top-color:#555;}
+.options>li.pull-right{float:right;}
 .options>li>a{line-height:34px;border:0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;}.options>li>a:hover{border-bottom:0;}
 .options>li.pull-right{float:right;}
 .options .disabled a,.options .disabled a:hover{background-color:transparent;color:#bfbfbf;}
-.dropdown-menu>li.active a{color:#bfbfbf;border-color:transparent;cursor:default;}
+.dropdown-menu>li.active a,.dropdown-menu>li.disabled a{color:#bfbfbf;border-color:transparent;cursor:default;}
+.tabs>li.pull-right{float:right;}
 .topbar input:-moz-placeholder{color:#404040;}
 .topbar input::-webkit-input-placeholder{color:#404040;}
 .topbar input:hover{background-color:#444;background-color:rgba(255, 255, 255, 0.3);color:#404040;}
diff --git a/sentry/templates/sentry/groups/details.html b/sentry/templates/sentry/groups/details.html
index 32a03e340a..5ff9128b64 100644
--- a/sentry/templates/sentry/groups/details.html
+++ b/sentry/templates/sentry/groups/details.html
@@ -19,14 +19,10 @@
 {% endblock %}
 
 {% block sidebar %}
-    <ul>
-        {# We're going to move these to the resolve action location #}
-        {% for label, link, is_active in group|get_actions:request %}
-            <li><a href="{{ link }}">{{ label }}</a></li>
-        {% endfor %}
-    </ul>
+    <div class="page-header">
+        <h3>Aggregate Details</h3>
+    </div>
 
-    <h2>Aggregate Details</h2>
     <dl class="flat">
         <dt>{% trans "Logger:" %}</dt>
         <dd><a href="{% url sentry project.pk %}?logger={{ group.logger }}">{{ group.logger }}</a></dd>
@@ -66,18 +62,38 @@
                 {% for tag in group|get_tags:request %}<span class="tag">{{ tag }}</span> {% endfor %}
                 {{ group.error }}
             </p>
-            {% if group.status == 0 %}
-                <a href="{% url sentry-ajax group.project_id %}?op=resolve&amp;gid={{ group.pk }}" class="hidden button button_resolve">&#10003;</a>
-            {% endif %}
         </li>
     </ul>
 
     <ul class="tabs">
-        <li{% ifequal page 'details' %} class="active"{% endifequal %}><a href="{% url sentry-group group.project_id group.pk %}">Details</a></li>
-        <li{% ifequal page 'event_list' %} class="active"{% endifequal %}><a href="{% url sentry-group-events group.project_id group.pk %}">Events</a></li>
+        <li{% ifequal page 'details' %} class="active"{% endifequal %}>
+            <a href="{% url sentry-group group.project_id group.pk %}">{% trans "Details" %}</a>
+        </li>
+        <li{% ifequal page 'event_list' %} class="active"{% endifequal %}>
+            <a href="{% url sentry-group-events group.project_id group.pk %}">{% trans "Events" %}</a>
+        </li>
         {% for label, link, is_active in group|get_panels:request %}
             <li{% if is_active %} class="active"{% endif %}><a href="{{ link }}">{{ label }}</a></li>
         {% endfor %}
+        <li class="dropdown pull-right" data-dropdown="dropdown">
+            <a class="dropdown-toggle">{% trans "Actions" %}</a>
+            <ul class="dropdown-menu">
+                {# We're going to move these to the resolve action location #}
+                {% if group.status == 0 %}
+                    <li><a href="{% url sentry-ajax group.project_id %}?op=resolve&amp;gid={{ group.pk }}">{% trans "&#10003; Mark as Resolved" %}</a></li>
+                {% else %}
+                    <li class="disabled"><a>{% trans "&#10003; Already Resolved" %}</a></li>
+                {% endif %}
+                {% for label, link, is_active in group|get_actions:request %}
+                    {% if forloop.first %}
+                        <li class="divider"></li>
+                    {% endif %}
+                    <li><a href="{{ link }}">{{ label }}</a></li>
+                {% endfor %}
+            </ul>
+        </li>
+    </ul>
+
     </ul>
 
     {% block inner %}
