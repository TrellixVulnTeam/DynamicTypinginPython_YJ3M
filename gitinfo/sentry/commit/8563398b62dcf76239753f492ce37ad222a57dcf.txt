commit 8563398b62dcf76239753f492ce37ad222a57dcf
Author: Ted Kaemming <ted@kaemming.com>
Date:   Thu Oct 15 11:33:29 2015 -0700

    Exit `build_digest` early if there are no records to deliver.

diff --git a/src/sentry/digests/notifications.py b/src/sentry/digests/notifications.py
index 1abceea992..de41398175 100644
--- a/src/sentry/digests/notifications.py
+++ b/src/sentry/digests/notifications.py
@@ -144,6 +144,8 @@ def sort_groups(grouped):
 
 def build_digest(project, records, state=None):
     records = list(records)
+    if not records:
+        return
 
     # XXX: This is a hack to allow generating a mock digest without actually
     # doing any real IO!
