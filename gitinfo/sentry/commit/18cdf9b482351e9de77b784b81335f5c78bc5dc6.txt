commit 18cdf9b482351e9de77b784b81335f5c78bc5dc6
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 2 10:13:52 2015 -0800

    Add version to PluginManager.{for_project,for_site}

diff --git a/src/sentry/plugins/base/manager.py b/src/sentry/plugins/base/manager.py
index 3e8c1f030e..8136d38a23 100644
--- a/src/sentry/plugins/base/manager.py
+++ b/src/sentry/plugins/base/manager.py
@@ -30,14 +30,14 @@ class PluginManager(InstanceManager):
                 continue
             yield plugin
 
-    def for_project(self, project):
-        for plugin in self.all():
+    def for_project(self, project, version=None):
+        for plugin in self.all(version=version):
             if not safe_execute(plugin.is_enabled, project):
                 continue
             yield plugin
 
-    def for_site(self):
-        for plugin in self.all():
+    def for_site(self, version=None):
+        for plugin in self.all(version=version):
             if not plugin.has_site_conf():
                 continue
             yield plugin
