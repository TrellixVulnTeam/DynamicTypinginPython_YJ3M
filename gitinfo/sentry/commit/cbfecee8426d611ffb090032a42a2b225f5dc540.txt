commit cbfecee8426d611ffb090032a42a2b225f5dc540
Author: Max Bittker <maxbittker@gmail.com>
Date:   Fri Apr 6 12:05:03 2018 -0700

    group owner modal followup (#7954)

diff --git a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/modal.jsx b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/modal.jsx
index cebe6444c3..c6759ff2dc 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/modal.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/modal.jsx
@@ -4,12 +4,12 @@ import {uniq} from 'lodash';
 import idx from 'idx';
 
 import {t} from '../../../../locale';
-import AsyncView from '../../../asyncView';
+import AsyncComponent from '../../../../components/asyncComponent';
 
 import SentryTypes from '../../../../proptypes';
 import OwnerInput from './ownerInput';
 
-class ProjectOwnershipModal extends AsyncView {
+class ProjectOwnershipModal extends AsyncComponent {
   static propTypes = {
     organization: SentryTypes.Organization,
     project: SentryTypes.Project,
@@ -21,17 +21,29 @@ class ProjectOwnershipModal extends AsyncView {
     let {organization, project, issueId} = this.props;
     return [
       ['ownership', `/projects/${organization.slug}/${project.slug}/ownership/`],
-      ['urlTagData', `/issues/${issueId}/tags/url/`],
+      [
+        'urlTagData',
+        `/issues/${issueId}/tags/url/`,
+        {},
+        {
+          allowError: error => {
+            // Allow for 404s
+            return error.status === 404;
+          },
+        },
+      ],
       ['eventData', `/issues/${issueId}/events/latest/`],
     ];
   }
 
   renderBody() {
     let {ownership, urlTagData, eventData} = this.state;
-    let urls = urlTagData.topValues
-      .sort((a, b) => a.count - b.count)
-      .map(i => i.value)
-      .slice(0, 5);
+    let urls = urlTagData
+      ? urlTagData.topValues
+          .sort((a, b) => a.count - b.count)
+          .map(i => i.value)
+          .slice(0, 5)
+      : [];
     // pull frame data out of exception or the stacktrace
     let frames =
       idx(
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
index 74fa979b42..508403452d 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
@@ -51,7 +51,7 @@ class OwnerInput extends React.Component {
   }
 
   handleUpdateOwnership = () => {
-    let {organization, project, onSave} = this.props;
+    let {organization, project} = this.props;
     let {text} = this.state;
     this.setState({error: null});
 
@@ -70,7 +70,6 @@ class OwnerInput extends React.Component {
         this.setState({
           initialText: text,
         });
-        onSave && onSave();
       })
       .catch(error => {
         this.setState({error: error.responseJSON});
@@ -179,12 +178,12 @@ const SyntaxOverlay = styled.div`
   ${inputStyles};
   margin: 10px 0;
   width: 100%;
-  height: 1em;
+  height: 24px;
   background-color: red;
   opacity: 0.1;
   pointer-events: none;
   position: absolute;
-  top: ${({line}) => line}em;
+  top: ${({line}) => line * 24}px;
 `;
 
 const SaveButton = styled.div`
diff --git a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
index 0ce2d4ef89..70a08e6ef3 100644
--- a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
@@ -447,7 +447,7 @@ url:http://example.com/settings/* #product"
         autoCapitalize="off"
         autoComplete="off"
         autoCorrect="off"
-        className="css-e9agsp-StyledTextArea css-i52in62"
+        className="css-e9agsp-StyledTextArea css-zed2xb2"
         onChange={[Function]}
         placeholder="#example usage
 path:src/example/pipeline/* person@sentry.io #infra
@@ -460,7 +460,7 @@ url:http://example.com/settings/* #product"
           autoCapitalize="off"
           autoComplete="off"
           autoCorrect="off"
-          className="css-e9agsp-StyledTextArea css-i52in62"
+          className="css-e9agsp-StyledTextArea css-zed2xb2"
           onChange={[Function]}
           placeholder="#example usage
 path:src/example/pipeline/* person@sentry.io #infra
@@ -473,7 +473,7 @@ url:http://example.com/settings/* #product"
     </StyledTextArea>
     <SaveButton>
       <div
-        className="css-5zvod-SaveButton css-i52in61"
+        className="css-5zvod-SaveButton css-zed2xb1"
       >
         <Button
           disabled={false}
