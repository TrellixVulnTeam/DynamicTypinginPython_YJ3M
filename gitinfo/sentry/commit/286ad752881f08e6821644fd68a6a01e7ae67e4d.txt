commit 286ad752881f08e6821644fd68a6a01e7ae67e4d
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Sep 4 11:55:19 2011 -0700

    only try to save message filter values if the value is set

diff --git a/sentry/utils/manager.py b/sentry/utils/manager.py
index c24dd73054..048ef19c25 100644
--- a/sentry/utils/manager.py
+++ b/sentry/utils/manager.py
@@ -175,8 +175,10 @@ class SentryManager(models.Manager):
                     ('site', site),
                     ('logger', logger_name)
                 ):
-                if value:
-                    FilterValue.objects.get_or_create(key=key, value=value)
+                if not value:
+                    continue
+
+                FilterValue.objects.get_or_create(key=key, value=value)
 
                 affected = group.messagefiltervalue_set.filter(key=key, value=value).update(times_seen=F('times_seen') + 1)
                 if not affected:
