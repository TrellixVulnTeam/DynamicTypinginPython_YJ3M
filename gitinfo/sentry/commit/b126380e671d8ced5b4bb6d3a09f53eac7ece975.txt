commit b126380e671d8ced5b4bb6d3a09f53eac7ece975
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Mar 6 00:38:04 2015 -0800

    Record metrics for ignored events

diff --git a/src/sentry/utils/raven.py b/src/sentry/utils/raven.py
index 2b2ff51b54..c1d5a3feaf 100644
--- a/src/sentry/utils/raven.py
+++ b/src/sentry/utils/raven.py
@@ -6,6 +6,8 @@ import logging
 from django.conf import settings
 from raven.contrib.django.client import DjangoClient
 
+from . import metrics
+
 UNSAFE_FILES = (
     'sentry/event_manager.py',
     'sentry/tasks/process_buffer.py',
@@ -31,6 +33,7 @@ class SentryInternalClient(DjangoClient):
 
     def capture(self, *args, **kwargs):
         if not can_record_current_event():
+            metrics.incr('internal.uncaptured.events')
             self.error_logger.error('Not capturing event due to unsafe stacktrace:\n%r', kwargs)
             return
         return super(SentryInternalClient, self).capture(*args, **kwargs)
@@ -55,4 +58,5 @@ class SentryInternalClient(DjangoClient):
 
 class SentryInternalFilter(logging.Filter):
     def filter(self, record):
+        metrics.incr('internal.uncaptured.logs')
         return not can_record_current_event()
