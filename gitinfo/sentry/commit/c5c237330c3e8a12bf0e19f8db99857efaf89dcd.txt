commit c5c237330c3e8a12bf0e19f8db99857efaf89dcd
Author: Daniel Griesser <daniel.griesser.86@gmail.com>
Date:   Wed Mar 29 10:49:09 2017 +0200

    Change naming of attributes to more consistent

diff --git a/src/sentry/lang/native/utils.py b/src/sentry/lang/native/utils.py
index 355787a72f..98625244ac 100644
--- a/src/sentry/lang/native/utils.py
+++ b/src/sentry/lang/native/utils.py
@@ -164,13 +164,13 @@ def version_build_from_data(data):
     app_context = data.get('contexts', {}).get('app', {})
     if app_context is not None:
         if (app_context.get('app_identifier', None) and
-                app_context.get('app_short_version', None) and
                 app_context.get('app_version', None) and
+                app_context.get('app_build', None) and
                 app_context.get('app_name', None)):
             return AppInfo(
                 app_context.get('app_identifier', None),
-                app_context.get('app_short_version', None),
                 app_context.get('app_version', None),
+                app_context.get('app_build', None),
                 app_context.get('app_name', None),
             )
     return None
diff --git a/src/sentry/static/sentry/app/components/events/contexts/app.jsx b/src/sentry/static/sentry/app/components/events/contexts/app.jsx
index 8ae3acd194..aa8338ffba 100644
--- a/src/sentry/static/sentry/app/components/events/contexts/app.jsx
+++ b/src/sentry/static/sentry/app/components/events/contexts/app.jsx
@@ -10,8 +10,8 @@ const AppContextType = React.createClass({
 
   render() {
     let {app_id, app_start_time, device_app_hash, build_type,
-      app_identifier, app_name, app_short_version,
-      app_version, ...data} = this.props.data;
+      app_identifier, app_name, app_version,
+      app_build, ...data} = this.props.data;
     return (
       <ContextBlock
         data={data}
@@ -22,8 +22,8 @@ const AppContextType = React.createClass({
           ['?Build Type', build_type],
           ['?Bundle ID', app_identifier],
           ['?Bundle Name', app_name],
-          ['?Version', app_short_version],
-          ['?Build', app_version],
+          ['?Version', app_version],
+          ['?Build', app_build],
         ]}
         alias={this.props.alias} />
     );
diff --git a/tests/sentry/lang/native/test_utils.py b/tests/sentry/lang/native/test_utils.py
index 51e22a208b..1f50c0e456 100644
--- a/tests/sentry/lang/native/test_utils.py
+++ b/tests/sentry/lang/native/test_utils.py
@@ -59,16 +59,18 @@ def test_cpu_name_from_data():
 def test_version_build_from_data():
 
     app_info = version_build_from_data({
-        'app': {
-            'app_version': "2",
-            'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
-            'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
-            'app_short_version': "1.0",
-            'app_identifier': "com.rokkincat.SentryExample",
-            'app_name': "SwiftExample",
-            'app_start_time': "2017-03-28T15:14:01Z",
-            'type': "app",
-            'build_type': "simulator"
+        'contexts': {
+            'app': {
+                'app_build': "2",
+                'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
+                'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
+                'app_version': "1.0",
+                'app_identifier': "com.rokkincat.SentryExample",
+                'app_name': "SwiftExample",
+                'app_start_time': "2017-03-28T15:14:01Z",
+                'type': "app",
+                'build_type': "simulator"
+            }
         }
     })
     assert app_info.version == '1.0'
@@ -77,28 +79,41 @@ def test_version_build_from_data():
     assert app_info.id == 'com.rokkincat.SentryExample'
 
     app_info = version_build_from_data({
-        'app': {
-            'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
-            'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
-            'app_short_version': "1.0",
-            'app_identifier': "com.rokkincat.SentryExample",
-            'app_name': "SwiftExample",
-            'app_start_time': "2017-03-28T15:14:01Z",
-            'type': "app",
-            'build_type': "simulator"
+        'contexts': {
+            'app': {
+                'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
+                'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
+                'app_version': "1.0",
+                'app_identifier': "com.rokkincat.SentryExample",
+                'app_name': "SwiftExample",
+                'app_start_time': "2017-03-28T15:14:01Z",
+                'type': "app",
+                'build_type': "simulator"
+            }
         }
     })
     assert app_info is None
 
     app_info = version_build_from_data({
-        'app': {
-            'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
-            'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
-            'app_identifier': "com.rokkincat.SentryExample",
-            'app_name': "SwiftExample",
-            'app_start_time': "2017-03-28T15:14:01Z",
-            'type': "app",
-            'build_type': "simulator"
+        'contexts': {
+            'app': {
+                'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
+                'app_id': "45BA82DF-F3E3-37F7-9D88-12A1AAB719E7",
+                'app_identifier': "com.rokkincat.SentryExample",
+                'app_name': "SwiftExample",
+                'app_start_time': "2017-03-28T15:14:01Z",
+                'type': "app",
+                'build_type': "simulator"
+            }
+        }
+    })
+    assert app_info is None
+
+    app_info = version_build_from_data({
+        'contexts': {
+            'bal': {
+                'device_app_hash': "18482a73f96d2ed3f4ce8d73fa9942744bff3598",
+            }
         }
     })
     assert app_info is None
