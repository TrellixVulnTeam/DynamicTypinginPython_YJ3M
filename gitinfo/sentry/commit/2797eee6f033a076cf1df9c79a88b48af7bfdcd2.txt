commit 2797eee6f033a076cf1df9c79a88b48af7bfdcd2
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 19 12:57:30 2015 -0800

    Fix minor issues on AuthProvider

diff --git a/src/sentry/migrations/0157_auto__add_authprovider__add_field_organization_auth_provider.py b/src/sentry/migrations/0157_auto__add_authprovider__add_field_organization_auth_provider.py
index df910112f6..a5ec09fc78 100644
--- a/src/sentry/migrations/0157_auto__add_authprovider__add_field_organization_auth_provider.py
+++ b/src/sentry/migrations/0157_auto__add_authprovider__add_field_organization_auth_provider.py
@@ -13,7 +13,7 @@ class Migration(SchemaMigration):
             ('id', self.gf('sentry.db.models.fields.bounded.BoundedBigAutoField')(primary_key=True)),
             ('provider', self.gf('django.db.models.fields.CharField')(max_length=128)),
             ('config', self.gf('sentry.db.models.fields.gzippeddict.GzippedDictField')()),
-            ('created_by', self.gf('django.db.models.fields.related.ForeignKey')(to=orm['sentry.User'])),
+            ('created_by', self.gf('sentry.db.models.fields.foreignkey.FlexibleForeignKey')(to=orm['sentry.User'], null=True, on_delete=models.SET_NULL)),
             ('date_added', self.gf('django.db.models.fields.DateTimeField')(default=datetime.datetime.now)),
             ('sync_time', self.gf('sentry.db.models.fields.bounded.BoundedPositiveIntegerField')(null=True)),
             ('last_sync', self.gf('django.db.models.fields.DateTimeField')(null=True)),
@@ -102,7 +102,7 @@ class Migration(SchemaMigration):
         'sentry.authprovider': {
             'Meta': {'object_name': 'AuthProvider'},
             'config': ('sentry.db.models.fields.gzippeddict.GzippedDictField', [], {}),
-            'created_by': ('django.db.models.fields.related.ForeignKey', [], {'to': "orm['sentry.User']"}),
+            'created_by': ('sentry.db.models.fields.foreignkey.FlexibleForeignKey', [], {'to': "orm['sentry.User']", 'null': 'True', 'on_delete': 'models.SET_NULL'}),
             'date_added': ('django.db.models.fields.DateTimeField', [], {'default': 'datetime.datetime.now'}),
             'id': ('sentry.db.models.fields.bounded.BoundedBigAutoField', [], {'primary_key': 'True'}),
             'last_sync': ('django.db.models.fields.DateTimeField', [], {'null': 'True'}),
@@ -405,4 +405,4 @@ class Migration(SchemaMigration):
         }
     }
 
-    complete_apps = ['sentry']
+    complete_apps = ['sentry']
\ No newline at end of file
diff --git a/src/sentry/models/authprovider.py b/src/sentry/models/authprovider.py
index e987486651..7cd1832ec9 100644
--- a/src/sentry/models/authprovider.py
+++ b/src/sentry/models/authprovider.py
@@ -4,7 +4,7 @@ from django.db import models
 from django.utils import timezone
 
 from sentry.db.models import (
-    BoundedPositiveIntegerField, GzippedDictField, Model
+    BoundedPositiveIntegerField, FlexibleForeignKey, GzippedDictField, Model
 )
 
 
@@ -12,7 +12,7 @@ class AuthProvider(Model):
     provider = models.CharField(max_length=128)
     config = GzippedDictField()
 
-    created_by = models.ForeignKey('sentry.User')
+    created_by = FlexibleForeignKey('sentry.User', null=True, on_delete=models.SET_NULL)
     date_added = models.DateTimeField(default=timezone.now)
     sync_time = BoundedPositiveIntegerField(null=True)
     last_sync = models.DateTimeField(null=True)
