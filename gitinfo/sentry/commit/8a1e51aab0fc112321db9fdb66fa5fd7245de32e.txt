commit 8a1e51aab0fc112321db9fdb66fa5fd7245de32e
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Dec 11 22:47:10 2014 -0800

    Cleanup/fixes for member viewing
    
    - Dont allow members to edit themselves

diff --git a/src/sentry/static/sentry/styles/sentry.css b/src/sentry/static/sentry/styles/sentry.css
index 97070d6ec1..4d3e1ad469 100644
--- a/src/sentry/static/sentry/styles/sentry.css
+++ b/src/sentry/static/sentry/styles/sentry.css
@@ -6465,7 +6465,6 @@ html[dir="rtl"] .select2-search-choice-close {
 /* =============================  Global  ============================== */
 body {
   margin: 0;
-  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
   font-size: 13px;
   line-height: 20px;
   color: #465262;
@@ -6881,7 +6880,7 @@ h3 {
 }
 .toolbar {
   *zoom: 1;
-  background: #F0F2F5;
+  background: #f1f2f3;
   padding: 0 30px;
   height: 50px;
 }
@@ -6952,7 +6951,7 @@ h3 {
   margin-top: 14px;
   margin-right: 10px;
   padding-right: 10px;
-  border-right: 3px solid #cad0d8;
+  border-right: 3px solid rgba(202, 208, 216, 0.41);
 }
 .toolbar .dashboard-btn > a {
   display: block;
@@ -7262,7 +7261,7 @@ footer {
   -moz-box-sizing: border-box;
   box-sizing: border-box;
   *zoom: 1;
-  background: #F0F2F5;
+  background: #f1f2f3;
   padding: 40px 30px;
   color: #939aa4;
   font-weight: bold;
@@ -7304,21 +7303,22 @@ footer a:hover {
   color: #333;
 }
 footer .btn {
-  color: #ecf0f5;
+  color: #f1f2f3;
   padding-top: 4px;
   padding-bottom: 4px;
-  background: #b6bbc2;
+  background: #A8AEB6;
   position: relative;
   top: -2px;
   margin: 0 0 0 10px;
 }
 footer .btn:hover {
   color: #fff;
-  background: #a5abb4;
-  border-color: #959ca6;
+  background: #979fa8;
+  border-color: #878f9a;
 }
-footer .btn:active {
-  background: #959ca6;
+footer .btn:active,
+footer .btn:focus {
+  background: #878f9a;
   top: -1px;
 }
 /* =============================  Modules  ============================== */
@@ -8544,7 +8544,7 @@ img.avatar32 {
   margin: 0 12px 0 0;
 }
 .btn {
-  background: #eff3f7;
+  background: #F1F2F3;
   -webkit-border-radius: 4px;
   -moz-border-radius: 4px;
   border-radius: 4px;
@@ -8570,9 +8570,9 @@ img.avatar32 {
 }
 .btn.disabled,
 .btn[disabled] {
-  background: #ecf0f4;
-  opacity: 0.35;
-  filter: alpha(opacity=35);
+  background: #F1F2F3;
+  opacity: 0.5;
+  filter: alpha(opacity=50);
 }
 .btn .caret {
   border-top-color: #a4adb7;
diff --git a/src/sentry/templates/sentry/organization-member-details.html b/src/sentry/templates/sentry/organization-member-details.html
index 043385c634..2b980834c0 100644
--- a/src/sentry/templates/sentry/organization-member-details.html
+++ b/src/sentry/templates/sentry/organization-member-details.html
@@ -17,14 +17,6 @@
     </h2>
   </div>
 
-  <div class="alert alert-block alert-info">
-    {% if member.user == user %}
-      <p>You cannot make changes to your own membership, unless you're looking to <a href="#">leave this organization</a>.</p>
-    {% else %}
-      <p>You cannot make changes to this member as they have more access than you.</p>
-    {% endif %}
-  </div>
-
   <fieldset>
     <div class="control-group">
       <label>{% trans "Status" %}</label>
@@ -37,16 +29,26 @@
       </div>
     </div>
 
-    {{ member.get_type_display }}
+    <div class="control-group">
+      <label>{% trans "Membership Type" %}</label>
+      <div class="controls">
+        {{ member.get_type_display }}
+      </div>
+    </div>
   </fieldset>
 
   <fieldset>
     <h2>{% trans "Teams" %}</h2>
 
-    <label>
-      <input type="checkbox" disabled="disabled"{% if member.has_global_access %} checked="checked'{% endif %}">
-      This member should have access to all teams within the organization.
-    </label>
+    <div class="control-group">
+      <div class="controls">
+        <label class="checkbox">
+          <input type="checkbox" class="checkboxinput"
+                 disabled="disabled"{% if member.has_global_access %} checked="checked'{% endif %}">
+          This member should have access to all teams within the organization.
+        </label>
+      </div>
+    </div>
 
     <fieldset class="team-choices">
       {% for team in all_teams %}
@@ -62,4 +64,15 @@
       {% endfor %}
     </fieldset>
   </fieldset>
+
+  <div class="form-actions">
+    <div class="alert alert-block alert-info">
+      {% if member.user == user %}
+        <p>You cannot make changes to your own membership.</p>
+      {% else %}
+        <p>You cannot make changes to this member as they have more access than you.</p>
+      {% endif %}
+    </div>
+  </div>
+
 {% endblock %}
diff --git a/src/sentry/web/frontend/organization_member_settings.py b/src/sentry/web/frontend/organization_member_settings.py
index 4d55378137..401cdec716 100644
--- a/src/sentry/web/frontend/organization_member_settings.py
+++ b/src/sentry/web/frontend/organization_member_settings.py
@@ -61,7 +61,7 @@ class OrganizationMemberSettingsView(OrganizationView):
             membership = OrganizationMember.objects.get(user=request.user)
             authorizing_access = membership.type
 
-        if authorizing_access > member.type:
+        if member.user == request.user or authorizing_access > member.type:
             return self.view_member(request, organization, member)
 
         form = self.get_form(request, member, authorizing_access)
