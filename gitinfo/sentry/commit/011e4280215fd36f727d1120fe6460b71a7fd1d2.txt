commit 011e4280215fd36f727d1120fe6460b71a7fd1d2
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 4 12:56:35 2012 -0400

    Switch events back to unicode characters for bookmark/ticks and correct behavior on details page

diff --git a/src/sentry.less b/src/sentry.less
index e6c6a155f2..a751d40eb1 100644
--- a/src/sentry.less
+++ b/src/sentry.less
@@ -464,6 +464,7 @@ footer {
         width: 16px;
         height: 18px;
         > a {
+          color: #AEC9D7;
           &:hover {
             text-decoration: none;
           }
diff --git a/src/sentry/static/sentry/styles/global.css b/src/sentry/static/sentry/styles/global.css
index 990bbe06a9..a18745797d 100644
--- a/src/sentry/static/sentry/styles/global.css
+++ b/src/sentry/static/sentry/styles/global.css
@@ -4279,6 +4279,9 @@ footer a {
   width: 16px;
   height: 18px;
 }
+.events .event .actions li > a {
+  color: #AEC9D7;
+}
 .events .event .actions li > a:hover {
   text-decoration: none;
 }
diff --git a/src/sentry/static/sentry/styles/global.min.css b/src/sentry/static/sentry/styles/global.min.css
index 6c3de40f02..63a5ecae53 100644
--- a/src/sentry/static/sentry/styles/global.min.css
+++ b/src/sentry/static/sentry/styles/global.min.css
@@ -688,7 +688,7 @@ footer a{color:#fff;font-weight:bold;}
 .events .event .message{margin-bottom:0;font-size:14px;padding-right:14px;}.events .event .message .tag{float:right;}
 .events .event .tag{margin-left:5px;font-size:12px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;background:#fff;padding:2px 6px;color:#aec9d7;}
 .events .event .meta{position:absolute;right:40px;top:20px;}
-.events .event .actions{position:absolute;right:15px;top:20px;list-style-type:none;margin:0;padding:0;}.events .event .actions li{margin-bottom:12px;font-size:14px;line-height:18px;text-align:center;display:block;width:16px;height:18px;}.events .event .actions li>a:hover{text-decoration:none;}
+.events .event .actions{position:absolute;right:15px;top:20px;list-style-type:none;margin:0;padding:0;}.events .event .actions li{margin-bottom:12px;font-size:14px;line-height:18px;text-align:center;display:block;width:16px;height:18px;}.events .event .actions li>a{color:#AEC9D7;}.events .event .actions li>a:hover{text-decoration:none;}
 .events .event .actions li .checked{color:orange;}
 .events .event .actions li .disabled{color:#6d757e;}
 .events .event .row_link{top:0;left:0;width:100%;height:100%;position:absolute;}
diff --git a/src/sentry/templates/sentry/groups/details.html b/src/sentry/templates/sentry/groups/details.html
index f0a475ea43..8cacdffaec 100644
--- a/src/sentry/templates/sentry/groups/details.html
+++ b/src/sentry/templates/sentry/groups/details.html
@@ -114,12 +114,12 @@
                     <ul class="actions">
                         <li>
                             {% if group.status == 0 %}
-                                <a href="javascript:void(0)" class="tip" onclick="Sentry.stream.resolve('{{ group.project.slug }}', {{ group.id|safe }}, false);" rel="tooltip" title="{% trans "Mark as Resolved" %}"><i class="icon-check"></i></a>
+                                <a href="javascript:void(0)" class="tip" onclick="Sentry.stream.resolve('{{ group.project.slug }}', {{ group.id|safe }}, false);" rel="tooltip" title="{% trans "Mark as Resolved" %}">&#10003;</a>
                             {% else %}
-                                <a href="javascript:void(0)" class="tip disabled" rel="tooltip" title="{% trans "Already Resolved" %}"><i class="icon-check"></i></a>
+                                <a href="javascript:void(0)" class="tip checked" rel="tooltip" title="{% trans "Already Resolved" %}">&#10003;</a>
                             {% endif %}
                         </li>
-                        <li><a href="javascript:void(0)" onclick="Sentry.stream.bookmark('{{ group.project.slug }}', {{ group.id|safe }}, this);" class="tip bookmark{% if is_bookmarked %} checked{% endif %}" rel="tooltip" title="{% trans "Bookmark" %}"><i class="icon-star"></i></a></li>
+                        <li><a href="javascript:void(0)" onclick="Sentry.stream.bookmark('{{ group.project.slug }}', {{ group.id|safe }}, this);" class="tip bookmark{% if group|is_bookmarked:request.user %} checked{% endif %}" rel="tooltip" title="{% trans "Bookmark" %}">&#9733;</a></li>
                     </ul>
                 {% endif %}
             </div>
diff --git a/src/sentry/templates/sentry/partial/_group.html b/src/sentry/templates/sentry/partial/_group.html
index 1c2a843f82..123b76c8ca 100644
--- a/src/sentry/templates/sentry/partial/_group.html
+++ b/src/sentry/templates/sentry/partial/_group.html
@@ -33,13 +33,13 @@
         <ul class="actions">
             <li>
                 {% if group.status == 0 %}
-                    <a href="javascript:void(0)" class="tip" onclick="Sentry.stream.resolve('{{ group.project.slug }}', {{ group.id|safe }}, this);" rel="tooltip" title="{% trans "Mark as Resolved" %}"><i class="icon-check"></i></a>
+                    <a href="javascript:void(0)" class="tip" onclick="Sentry.stream.resolve('{{ group.project.slug }}', {{ group.id|safe }}, this);" rel="tooltip" title="{% trans "Mark as Resolved" %}">&#10003;</a>
                 {% else %}
-                    <a href="javascript:void(0)" class="tip disabled" rel="tooltip" title="{% trans "Already Resolved" %}"><i class="icon-check"></i></a>
+                    <a href="javascript:void(0)" class="tip checked" rel="tooltip" title="{% trans "Already Resolved" %}">&#10003;</a>
                 {% endif %}
             </li>
             {% if request.user.is_authenticated %}
-                <li><a href="javascript:void(0)" onclick="Sentry.stream.bookmark('{{ group.project.slug }}', {{ group.id|safe }}, this);" class="tip bookmark{% if is_bookmarked %} checked{% endif %}" rel="tooltip" title="{% trans "Bookmark" %}"><i class="icon-star"></i></a></li>
+                <li><a href="javascript:void(0)" onclick="Sentry.stream.bookmark('{{ group.project.slug }}', {{ group.id|safe }}, this);" class="tip bookmark{% if is_bookmarked %} checked{% endif %}" rel="tooltip" title="{% trans "Bookmark" %}">&#9733;</a></li>
             {% endif %}
         </ul>
     </div>
diff --git a/src/sentry/templatetags/sentry_helpers.py b/src/sentry/templatetags/sentry_helpers.py
index 7713381af3..a0429feb46 100644
--- a/src/sentry/templatetags/sentry_helpers.py
+++ b/src/sentry/templatetags/sentry_helpers.py
@@ -264,6 +264,16 @@ def as_bookmarks(group_list, user):
         yield g, g.pk in bookmarks
 
 
+@register.filter
+def is_bookmarked(group, user):
+    if user.is_authenticated():
+        return group.bookmark_set.filter(
+            user=user,
+            group=group,
+        ).exists()
+    return False
+
+
 @register.filter
 def date(datetime, arg=None):
     from django.template.defaultfilters import date
