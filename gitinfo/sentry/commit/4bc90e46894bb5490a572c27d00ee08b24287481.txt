commit 4bc90e46894bb5490a572c27d00ee08b24287481
Author: Mark Story <mark@mark-story.com>
Date:   Thu Apr 4 15:43:38 2019 -0400

    fix(percy) Dismiss assistant in project releases visual test (#12635)
    
    I've been noticing an assistant cue appearing inconsistently on the
    project without releases visual test. We can get more stable results by
    ensuring the assistant has been dismissed first.

diff --git a/tests/acceptance/test_project_releases.py b/tests/acceptance/test_project_releases.py
index c0dde191be..9293cadb65 100644
--- a/tests/acceptance/test_project_releases.py
+++ b/tests/acceptance/test_project_releases.py
@@ -1,5 +1,8 @@
 from __future__ import absolute_import
 
+import json
+
+from django.conf import settings
 from django.utils import timezone
 
 from sentry.testutils import AcceptanceTestCase
@@ -39,11 +42,22 @@ class ProjectReleasesTest(AcceptanceTestCase):
         self.browser.snapshot('project releases with releases')
 
     def test_with_no_releases(self):
+        self.dismiss_assistant()
         self.browser.get(self.path)
         self.browser.wait_until_not('.loading')
         self.browser.wait_until('.ref-project-releases')
         self.browser.snapshot('project releases without releases')
 
+    def dismiss_assistant(self):
+        # Forward session cookie to django client.
+        self.client.cookies[settings.SESSION_COOKIE_NAME] = self.session.session_key
+
+        res = self.client.put(
+            '/api/0/assistant/',
+            content_type='application/json',
+            data=json.dumps({'guide_id': 2, 'status': 'viewed', 'useful': True}))
+        assert res.status_code == 201
+
 
 class ProjectReleaseDetailsTest(AcceptanceTestCase):
     def setUp(self):
