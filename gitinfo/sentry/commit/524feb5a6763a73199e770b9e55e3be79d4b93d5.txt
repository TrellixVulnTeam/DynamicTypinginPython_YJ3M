commit 524feb5a6763a73199e770b9e55e3be79d4b93d5
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Dec 7 13:40:52 2015 -0800

    Spit back disabledReason from API

diff --git a/src/sentry/api/endpoints/system_options.py b/src/sentry/api/endpoints/system_options.py
index 6a6fe5147c..82b01e2cd8 100644
--- a/src/sentry/api/endpoints/system_options.py
+++ b/src/sentry/api/endpoints/system_options.py
@@ -14,19 +14,21 @@ class SystemOptionsEndpoint(Endpoint):
     permission_classes = (SuperuserPermission,)
 
     def get(self, request):
-        results = {
-            k.name: {
+        results = {}
+        for k in options.filter(flag=options.FLAG_REQUIRED):
+            # TODO(mattrobenolt): Expose this as a property on Key.
+            diskPriority = bool(k.flags & options.FLAG_PRIORITIZE_DISK and settings.SENTRY_OPTIONS.get(k.name))
+            # TODO(mattrobenolt): help, placeholder, title, type
+            results[k.name] = {
                 'value': options.get(k.name),
                 'field': {
                     'default': k.default,
-                    'required': True,
-                    # TODO(mattrobenolt): Expose this as a property on Key.
-                    'disabled': bool(k.flags & options.FLAG_PRIORITIZE_DISK and settings.SENTRY_OPTIONS.get(k.name))
-                    # TODO(mattrobenolt): help, placeholder, title, type
-                },
+                    'required': bool(k.flags & options.FLAG_REQUIRED),
+                    # We're disabled if the disk has taken priority
+                    'disabled': diskPriority,
+                    'disabledReason': 'diskPriority' if diskPriority else None,
+                }
             }
-            for k in options.filter(flag=options.FLAG_REQUIRED)
-        }
 
         return Response(results)
 
