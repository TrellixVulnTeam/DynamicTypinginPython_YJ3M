commit 6b73a9792e5843aff9f92c6d82e2ce8a5b63e763
Author: David Cramer <dcramer@gmail.com>
Date:   Wed May 23 15:41:44 2012 -0700

    Gracefully handle NoneType on origin

diff --git a/sentry/utils/http.py b/sentry/utils/http.py
index 8efbf27741..5832f53dc7 100644
--- a/sentry/utils/http.py
+++ b/sentry/utils/http.py
@@ -54,6 +54,9 @@ def is_valid_origin(origin, project=None):
     if settings.ALLOW_ORIGIN == '*':
         return True
 
+    if not origin:
+        return False
+
     origin = origin.lower()
     if origin in (settings.ALLOW_ORIGIN or '').split(' '):
         return True
