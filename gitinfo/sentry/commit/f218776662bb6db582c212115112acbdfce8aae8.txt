commit f218776662bb6db582c212115112acbdfce8aae8
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Apr 14 19:08:50 2016 +0200

    Handle missing app uuid or app uuid that is None gracefully.
    
    This fixes SENTRY-131

diff --git a/src/sentry/lang/native/plugin.py b/src/sentry/lang/native/plugin.py
index 55a4b0febb..51337b16a5 100644
--- a/src/sentry/lang/native/plugin.py
+++ b/src/sentry/lang/native/plugin.py
@@ -30,10 +30,11 @@ def inject_apple_backtrace(data, frames, diagnosis=None, error=None,
     # TODO:
     #   user report stacktraces from unity
 
+    app_uuid = None
     if system:
-        app_uuid = system.get('app_uuid').lower()
-    else:
-        app_uuid = None
+        app_uuid = system.get('app_uuid')
+        if app_uuid is not None:
+            app_uuid = app_uuid.lower()
 
     converted_frames = []
     longest_addr = 0
