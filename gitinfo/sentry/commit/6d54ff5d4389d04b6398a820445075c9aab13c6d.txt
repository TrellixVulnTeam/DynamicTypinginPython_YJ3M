commit 6d54ff5d4389d04b6398a820445075c9aab13c6d
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Aug 27 19:31:39 2018 -0500

    feat(slack): Add integration settings (#9446)

diff --git a/src/sentry/integrations/base.py b/src/sentry/integrations/base.py
index ea8083c5e5..9aeb86af6b 100644
--- a/src/sentry/integrations/base.py
+++ b/src/sentry/integrations/base.py
@@ -35,6 +35,7 @@ class IntegrationFeatures(Enum):
     ISSUE_SYNC = 'issue_sync'
     COMMITS = 'commits'
     CHAT_UNFURL = 'chat_unfurl'
+    ALERT_RULE = 'alert_rule'
 
 
 class IntegrationProvider(PipelineProvider):
diff --git a/src/sentry/integrations/slack/integration.py b/src/sentry/integrations/slack/integration.py
index 002b289aad..1f04a8ee40 100644
--- a/src/sentry/integrations/slack/integration.py
+++ b/src/sentry/integrations/slack/integration.py
@@ -47,6 +47,7 @@ class SlackIntegrationProvider(IntegrationProvider):
     features = frozenset([
         IntegrationFeatures.NOTIFICATION,
         IntegrationFeatures.CHAT_UNFURL,
+        IntegrationFeatures.ALERT_RULE,
     ])
 
     identity_oauth_scopes = frozenset([
diff --git a/src/sentry/static/sentry/app/views/organizationIntegrations/installedIntegration.jsx b/src/sentry/static/sentry/app/views/organizationIntegrations/installedIntegration.jsx
index ad8a5147ce..26f526b850 100644
--- a/src/sentry/static/sentry/app/views/organizationIntegrations/installedIntegration.jsx
+++ b/src/sentry/static/sentry/app/views/organizationIntegrations/installedIntegration.jsx
@@ -11,7 +11,7 @@ import Confirm from 'app/components/confirm';
 import IntegrationItem from 'app/views/organizationIntegrations/integrationItem';
 import Tooltip from 'app/components/tooltip';
 
-const CONFIGURABLE_FEATURES = ['commits'];
+const CONFIGURABLE_FEATURES = ['commits', 'alert_rule'];
 
 const StyledButton = styled(Button)`
   color: ${p => p.theme.gray2};
diff --git a/src/sentry/static/sentry/app/views/organizationIntegrations/integrationAlertRules.jsx b/src/sentry/static/sentry/app/views/organizationIntegrations/integrationAlertRules.jsx
new file mode 100644
index 0000000000..2c2663a7a2
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/organizationIntegrations/integrationAlertRules.jsx
@@ -0,0 +1,58 @@
+import {Box} from 'grid-emotion';
+import PropTypes from 'prop-types';
+import React from 'react';
+
+import {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';
+import {t} from 'app/locale';
+import Button from 'app/components/buttons/button';
+import EmptyMessage from 'app/views/settings/components/emptyMessage';
+import ProjectBadge from 'app/components/idBadge/projectBadge';
+import SentryTypes from 'app/sentryTypes';
+import withProjects from 'app/utils/withProjects';
+
+class IntegrationAlertRules extends React.Component {
+  static propTypes = {
+    projects: PropTypes.arrayOf(SentryTypes.Project).isRequired,
+  };
+
+  static contextTypes = {
+    organization: SentryTypes.Organization,
+  };
+
+  render() {
+    const {projects} = this.props;
+    const orgId = this.context.organization.slug;
+
+    return (
+      <Panel>
+        <PanelHeader disablePadding>
+          <Box pl={2}>{t('Project Configuration')}</Box>
+        </PanelHeader>
+        <PanelBody>
+          {projects.length === 0 && (
+            <EmptyMessage size="large">
+              {t('You have no projects to add Alert Rules to')}
+            </EmptyMessage>
+          )}
+          {projects.map(project => (
+            <PanelItem key={project.slug} align="center">
+              <Box flex="1">
+                <ProjectBadge project={project} avatarSize={16} />
+              </Box>
+              <Box pr={1}>
+                <Button
+                  to={`/settings/${orgId}/${project.slug}/alerts/rules/new/`}
+                  size="xsmall"
+                >
+                  {t('Add Alert Rule')}
+                </Button>
+              </Box>
+            </PanelItem>
+          ))}
+        </PanelBody>
+      </Panel>
+    );
+  }
+}
+
+export default withProjects(IntegrationAlertRules);
diff --git a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
index a3a2689753..18f9e0ca88 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
@@ -5,6 +5,7 @@ import AsyncView from 'app/views/asyncView';
 import BreadcrumbTitle from 'app/views/settings/components/settingsBreadcrumb/breadcrumbTitle';
 import Form from 'app/views/settings/components/forms/form';
 import IntegrationItem from 'app/views/organizationIntegrations/integrationItem';
+import IntegrationAlertRules from 'app/views/organizationIntegrations/integrationAlertRules';
 import IntegrationRepos from 'app/views/organizationIntegrations/integrationRepos';
 import JsonForm from 'app/views/settings/components/forms/jsonForm';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
@@ -53,6 +54,10 @@ export default class ConfigureIntegration extends AsyncView {
           </Form>
         )}
 
+        {provider.features.includes('alert_rule') && (
+          <IntegrationAlertRules integration={integration} />
+        )}
+
         {provider.features.includes('commits') && (
           <IntegrationRepos integration={integration} />
         )}
