commit 8d2592ee36035498c277612243e699c566a8b9b5
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Wed Dec 18 15:23:09 2019 -0500

    ref(apm): Update eventviews for "View Children" and "Search by Trace" (#16158)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
index 7e20f3cbdb..43edd735ad 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
@@ -119,13 +119,24 @@ class SpanDetail extends React.Component<Props, State> {
       );
     }
 
-    const {span, orgId} = this.props;
+    const {span, orgId, trace} = this.props;
+
+    const {start, end} = getTraceDateTimeRange({
+      start: trace.traceStartTimestamp,
+      end: trace.traceEndTimestamp,
+    });
 
     const eventView = EventView.fromSavedQuery({
       id: undefined,
       name: t('Transactions'),
-      fields: ['transaction', 'trace.span', 'timestamp'],
-      fieldnames: ['transaction', 'trace.span', 'timestamp'],
+      fields: [
+        'transaction',
+        'project',
+        'trace.span',
+        'transaction.duration',
+        'timestamp',
+      ],
+      fieldnames: ['transaction', 'project', 'trace.span', 'duration', 'timestamp'],
       orderby: '-timestamp',
       query: `event.type:transaction trace:${span.trace_id} trace.parent_span:${
         span.span_id
@@ -133,6 +144,8 @@ class SpanDetail extends React.Component<Props, State> {
       tags: ['release', 'project.name', 'user.email', 'user.ip', 'environment'],
       projects: [],
       version: 2,
+      start,
+      end,
     });
 
     const to = {
@@ -158,14 +171,19 @@ class SpanDetail extends React.Component<Props, State> {
     const eventView = EventView.fromSavedQuery({
       id: undefined,
       name: t('Transactions'),
-      fields: ['transaction', 'trace.span', 'transaction.duration', 'timestamp'],
-      fieldnames: ['transaction', 'trace.span', 'duration', 'timestamp'],
+      fields: [
+        'transaction',
+        'project',
+        'trace.span',
+        'transaction.duration',
+        'timestamp',
+      ],
+      fieldnames: ['transaction', 'project', 'trace.span', 'duration', 'timestamp'],
       orderby: '-timestamp',
       query: `event.type:transaction trace:${span.trace_id}`,
       tags: ['release', 'project.name', 'user.email', 'user.ip', 'environment'],
       projects: [],
       version: 2,
-
       start,
       end,
     });
