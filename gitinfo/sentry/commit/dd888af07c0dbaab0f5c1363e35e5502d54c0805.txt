commit dd888af07c0dbaab0f5c1363e35e5502d54c0805
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 6 13:49:05 2012 -0800

    Fix incorrect behavior in set_value

diff --git a/sentry/manager.py b/sentry/manager.py
index 4587372b91..e83ce77489 100644
--- a/sentry/manager.py
+++ b/sentry/manager.py
@@ -503,7 +503,7 @@ class MetaManager(models.Manager):
         return result.get(key, default)
 
     def set_value(self, key, value):
-        inst, created = self.objects.get_or_create(
+        inst, created = self.get_or_create(
             key=key,
             defaults={
                 'value': value,
@@ -536,7 +536,7 @@ class InstanceMetaManager(models.Manager):
         return result.get(key, default)
 
     def set_value(self, instance, key, value):
-        inst, created = self.objects.get_or_create(**{
+        inst, created = self.get_or_create(**{
             self.field_name: instance,
             'key': key,
             'defaults': {
