commit eaa91d7a6c650f8ccfdcd2a01322f71e85bf9827
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 26 14:33:36 2011 -0800

    headers are now separate from env in sentry.interfaces.Http

diff --git a/docs/interfaces/index.rst b/docs/interfaces/index.rst
index 27d1c6cc53..9494fc07dd 100644
--- a/docs/interfaces/index.rst
+++ b/docs/interfaces/index.rst
@@ -105,9 +105,13 @@ Sentry implements data interfaces for storing structured data. At it's core, an
             },
             "query_string": "hello=world",
             "cookies": "foo=bar",
+            "headers": {
+                "Content-Type": "text/html"
+            },
             "env": {
                 "REMOTE_ADDR": "192.168.0.1"
             }
+
         }
 
 .. class:: sentry.interfaces.User
diff --git a/sentry/interfaces.py b/sentry/interfaces.py
index 30e6c2a633..a4acc34f2a 100644
--- a/sentry/interfaces.py
+++ b/sentry/interfaces.py
@@ -187,7 +187,7 @@ class Http(Interface):
     # methods as defined by http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html
     METHODS = ('GET', 'POST', 'PUT', 'OPTIONS', 'HEAD', 'DELETE', 'TRACE', 'CONNECT')
 
-    def __init__(self, url, method, data=None, query_string=None, cookies=None, env=None, **kwargs):
+    def __init__(self, url, method, data=None, query_string=None, cookies=None, headers=None, env=None, **kwargs):
         if data is None:
             data = {}
 
@@ -209,6 +209,7 @@ class Http(Interface):
         self.method = method
         self.data = data
         self.query_string = query_string
+        self.headers = headers or {}
         self.env = env or {}
         self.cookies = cookies or None
 
@@ -219,6 +220,7 @@ class Http(Interface):
             'data': self.data,
             'query_string': self.query_string,
             'cookies': self.cookies,
+            'headers': self.headers,
             'env': self.env,
         }
 
@@ -231,6 +233,7 @@ class Http(Interface):
             'data': self.data,
             'query_string': self.query_string,
             'cookies': self.cookies,
+            'headers': self.headers,
             'env': self.env,
         })
 
diff --git a/sentry/templates/sentry/partial/interfaces/http.html b/sentry/templates/sentry/partial/interfaces/http.html
index 8786b25c08..df9d218a35 100644
--- a/sentry/templates/sentry/partial/interfaces/http.html
+++ b/sentry/templates/sentry/partial/interfaces/http.html
@@ -1,4 +1,5 @@
 {% load i18n %}
+{% load sentry_helpers %}
 
 <div id="request" class="module">
     <div class="page-header">
@@ -48,7 +49,7 @@
                                 <a href="#" onclick="return varToggle(this, 'HttpEnv')"><span>&#x25b6;</span> Environment and Headers</a>
                                 <table class="vars" id="vHttpEnv" style="display:none;">
                                   <tbody>
-                                    {% for key, value in env.iteritems %}
+                                    {% for key, value in env.iteritems|as_sorted %}
                                       <tr>
                                         <td>{{ key|escape }}</td>
                                         <td class="code"><pre>{{ value|pprint|escape }}</pre></td>
@@ -59,7 +60,7 @@
                             {% else %}
                                 <table class="vars">
                                   <tbody>
-                                    {% for key, value in env.iteritems %}
+                                    {% for key, value in env.iteritems|as_sorted %}
                                       <tr>
                                         <td>{{ key|escape }}</td>
                                         <td class="code"><pre>{{ value|pprint|escape }}</pre></td>
