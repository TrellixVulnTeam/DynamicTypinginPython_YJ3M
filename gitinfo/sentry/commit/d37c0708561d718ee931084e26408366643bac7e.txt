commit d37c0708561d718ee931084e26408366643bac7e
Author: Ben Vinegar <ben@benv.ca>
Date:   Tue Mar 22 16:02:27 2016 -0700

    Add "navigation" breadcrumb type, more mock data

diff --git a/src/sentry/interfaces/breadcrumbs.py b/src/sentry/interfaces/breadcrumbs.py
index c806e1b841..75ff247fa4 100644
--- a/src/sentry/interfaces/breadcrumbs.py
+++ b/src/sentry/interfaces/breadcrumbs.py
@@ -77,8 +77,8 @@ def validate_rpc(payload):
         if value is not None:
             rv[key] = trim(value, 1024)
     if not rv.get('endpoint'):
-        raise InterfaceValidationError("No message provided for "
-                                       "'message' breadcrumb.")
+        raise InterfaceValidationError("No endpoint provided for "
+                                       "'rpc' breadcrumb.")
     return rv
 
 
@@ -91,8 +91,8 @@ def validate_http_request(payload):
         if value is not None:
             rv[key] = trim(value, 1024)
     if not rv.get('url'):
-        raise InterfaceValidationError("No message provided for "
-                                       "'url' breadcrumb.")
+        raise InterfaceValidationError("No url provided for "
+                                       "'http_request' breadcrumb.")
     return rv
 
 
@@ -119,6 +119,19 @@ def validate_event(payload):
     return rv
 
 
+@typevalidator('navigation')
+def validate_navigation(payload):
+    rv = {}
+    for key in 'to', 'from':
+        value = payload.get(key)
+        if value is not None:
+            rv[key] = trim(value, 1024)
+    if 'to' not in rv:
+        raise InterfaceValidationError("Location not provided for 'navigation' "
+                                       "breadcrumb.")
+    return rv
+
+
 class Breadcrumbs(Interface):
     """
     This interface stores informationt that leads up to an error in the
@@ -144,7 +157,7 @@ class Breadcrumbs(Interface):
             ty = crumb.get('type') or 'message'
             ts = parse_new_timestamp(crumb.get('timestamp'))
             if ts is None:
-                continue
+                raise ValueError('fucked up')
             items.append({
                 'type': ty,
                 'timestamp': ts,
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbs.jsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbs.jsx
index 28dd396cbe..1681d73c4b 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbs.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbs.jsx
@@ -56,7 +56,7 @@ let BreadcrumbsInterface = React.createClass({
       }
       return (
         <li key={idx} className={'crumb crumb-' + item.type.replace(/_/g, '-')}>
-          <span className="dt">{Math.round(item.dt * 1000 * 1000) / 1000}ms</span>
+          <span className="dt">{Math.round(item.dt * 1000) / 1000}ms</span>
           {el}
         </li>
       );
diff --git a/src/sentry/utils/samples.py b/src/sentry/utils/samples.py
index 471b7fbefc..18ace7f272 100644
--- a/src/sentry/utils/samples.py
+++ b/src/sentry/utils/samples.py
@@ -72,19 +72,48 @@ def load_data(platform, default=None):
         "method": "GET"
     }
     data['sentry.interfaces.Breadcrumbs'] = {
-        "items": [{
-            "type": "message",
-            "timestamp": "2016-01-17T12:30:00",
-            "data": {
-                "message": "This is the first breadcrumb",
+        "items": [
+            {
+                "type": "navigation",
+                "dt": 8200,
+                "timestamp": "2016-01-17T12:29:59",
+                "data": {
+                    "to": "http://example.com/dashboard/",
+                    "from": "http://example.com/login/"
+                }
+            },
+            {
+                "type": "message",
+                "dt": 5000,
+                "timestamp": "2016-01-17T12:30:03",
+                "data": {
+                    "message": "This is a message breadcrumb",
+                }
+            },
+            {
+                "type": "http_request",
+                "dt": 3000,
+                "timestamp": "2016-01-17T12:32:05",
+                "data": {
+                    "url": "http://example.com/foo",
+                    "statusCode": 200,
+                    "method": "POST",
+                    "headers": {
+                        "Referer": "http://example.com",
+                        "Content-Type": "application/json"
+                    }
+                }
+            },
+            {
+                "type": "ui_event",
+                "dt": 1500,
+                "timestamp": "2016-01-17T12:33:07",
+                "data": {
+                    "type": "click",
+                    "target": "<button name=\"submit\" class=\"btn btn-small\"/>"
+                }
             }
-        }, {
-            "type": "message",
-            "timestamp": "2016-01-17T12:31:15",
-            "data": {
-                "message": "This is the second breadcrumb",
-            }
-        }]
+        ]
     }
 
     return data
