commit 260a5f09ab39b1e966b395c9381ef713c0ab7b8f
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Mar 25 18:17:58 2015 -0700

    Various fixes for realtime frontend

diff --git a/src/sentry/static/sentry/app/stores/groupStore.jsx b/src/sentry/static/sentry/app/stores/groupStore.jsx
index fe8d464d2d..ce35e57ad6 100644
--- a/src/sentry/static/sentry/app/stores/groupStore.jsx
+++ b/src/sentry/static/sentry/app/stores/groupStore.jsx
@@ -56,14 +56,13 @@ var GroupListStore = Reflux.createStore({
 
     for (var i = 0, item; (item = this.items[i]); i++) {
       if (itemsById[item.id]) {
-        itemsById[item.id] = null;
         jQuery.extend(true, this.items[i], itemsById[item.id]);
-        return;
+        delete itemsById[item.id];
       }
     }
 
-    for (item in itemsById) {
-      this.items.push(itemsById[item]);
+    for (var itemId in itemsById) {
+      this.items.push(itemsById[itemId]);
     }
 
     this.trigger();
diff --git a/src/sentry/static/sentry/app/utils/streamManager.jsx b/src/sentry/static/sentry/app/utils/streamManager.jsx
index dc860a945c..b38a778f66 100644
--- a/src/sentry/static/sentry/app/utils/streamManager.jsx
+++ b/src/sentry/static/sentry/app/utils/streamManager.jsx
@@ -30,7 +30,7 @@ class StreamManager {
     items.forEach((item) => {
       var idx = this.idList.indexOf(item.id);
       if (idx !== -1) {
-        this.idList.splice(idx, idx + 1);
+        this.idList.splice(idx, 1);
       }
       this.length += 1;
       this.idList.push(item.id);
@@ -58,7 +58,23 @@ class StreamManager {
   }
 
   unshift(items) {
-    return this.push(items.reverse());
+    if (!items instanceof Array) {
+      items = [items];
+    } else {
+      items = items.reverse();
+    }
+
+    items.forEach((item) => {
+      var idx = this.idList.indexOf(item.id);
+      if (idx !== -1) {
+        this.idList.splice(idx, 1);
+      }
+      this.length += 1;
+      this.idList.unshift(item.id);
+    });
+    this.trim();
+    this.store.add(items);
+    return this;
   }
 }
 
