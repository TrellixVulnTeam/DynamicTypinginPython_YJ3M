commit ad2d320817ebadc776463b333c8a8782927871dd
Author: David Cramer <dcramer@gmail.com>
Date:   Fri May 17 01:55:19 2013 -0700

    Handle simple responses from process

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 2200826880..88e275a323 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -251,10 +251,12 @@ class StoreView(APIView):
     @never_cache
     def post(self, request, project, auth, **kwargs):
         data = request.raw_post_data
-        event_id = self.process(request, project, auth, data, **kwargs)
+        response_or_event_id = self.process(request, project, auth, data, **kwargs)
+        if isinstance(response_or_event_id, HttpResponse):
+            return response_or_event_id
         return HttpResponse(json.dumps({
-            'id': event_id,
-        }), 'application/json')
+            'id': response_or_event_id,
+        }), content_type='application/json')
 
     @never_cache
     def get(self, request, project, auth, **kwargs):
