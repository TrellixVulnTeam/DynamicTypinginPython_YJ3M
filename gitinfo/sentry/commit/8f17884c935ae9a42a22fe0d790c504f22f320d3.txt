commit 8f17884c935ae9a42a22fe0d790c504f22f320d3
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 10 15:21:05 2015 -0700

    Standard template API context

diff --git a/src/sentry/interfaces/template.py b/src/sentry/interfaces/template.py
index c0d2659ce2..ceaaf03ef8 100644
--- a/src/sentry/interfaces/template.py
+++ b/src/sentry/interfaces/template.py
@@ -90,3 +90,16 @@ class Template(Interface):
         result.extend([n[1].strip('\n') for n in context])
 
         return '\n'.join(result)
+
+    def get_api_context(self, is_public=False):
+        return {
+            'lineNo': self.lineno,
+            'filename': self.filename,
+            'context': get_context(
+                lineno=self.lineno,
+                context_line=self.context_line,
+                pre_context=self.pre_context,
+                post_context=self.post_context,
+                filename=self.filename,
+            ),
+        }
diff --git a/tests/sentry/interfaces/test_template.py b/tests/sentry/interfaces/test_template.py
index f7035180b6..bd7134a0de 100644
--- a/tests/sentry/interfaces/test_template.py
+++ b/tests/sentry/interfaces/test_template.py
@@ -42,3 +42,11 @@ class TemplateTest(TestCase):
     def test_serialize_unserialize_behavior(self):
         result = type(self.interface).to_python(self.interface.to_json())
         assert result.to_json() == self.interface.to_json()
+
+    def test_get_api_context(self):
+        result = self.interface.get_api_context()
+        assert result == {
+            'filename': 'foo.html',
+            'context': [(1, 'hello world')],
+            'lineNo': 1,
+        }
