commit 45c42b751545f256861aa6676aff69f926ffa450
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 28 11:06:51 2016 -0800

    [ui] gracefully handle misisng user with react config

diff --git a/src/sentry/templatetags/sentry_react.py b/src/sentry/templatetags/sentry_react.py
index 611de75be8..55115ddc51 100644
--- a/src/sentry/templatetags/sentry_react.py
+++ b/src/sentry/templatetags/sentry_react.py
@@ -5,6 +5,7 @@ import sentry
 
 from django import template
 from django.conf import settings
+from django.contrib.auth.models import AnonymousUser
 from django.contrib.messages import get_messages
 from pkg_resources import parse_version
 
@@ -83,7 +84,7 @@ def _get_statuspage():
 @register.simple_tag(takes_context=True)
 def get_react_config(context):
     if 'request' in context:
-        user = context['request'].user
+        user = getattr(context['request'], 'user', None) or AnonymousUser()
         messages = get_messages(context['request'])
         try:
             is_superuser = context['request'].is_superuser()
