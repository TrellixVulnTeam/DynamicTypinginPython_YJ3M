commit 54fab538c243bbaee118a281d00855de093b3e29
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 19 14:39:37 2015 -0800

    Missing backend attribute on login

diff --git a/src/sentry/auth/helper.py b/src/sentry/auth/helper.py
index 258a671d09..6af35e8b93 100644
--- a/src/sentry/auth/helper.py
+++ b/src/sentry/auth/helper.py
@@ -2,6 +2,7 @@ from __future__ import absolute_import, print_function
 
 import logging
 
+from django.conf import settings
 from django.db import transaction
 from django.http import HttpResponseRedirect
 from django.contrib.auth import login
@@ -159,7 +160,10 @@ class AuthHelper(object):
                 if auth_identity.data != identity.get('data', {}):
                     auth_identity.update(data=identity['data'])
 
-        login(self.request, auth_identity.user)
+        user = auth_identity.user
+        user.backend = settings.AUTHENTICATION_BACKENDS[0]
+
+        login(self.request, user)
 
         return HttpResponseRedirect(get_login_redirect(self.request))
 
