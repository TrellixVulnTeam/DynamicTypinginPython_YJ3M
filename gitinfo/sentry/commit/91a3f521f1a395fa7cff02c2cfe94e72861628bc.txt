commit 91a3f521f1a395fa7cff02c2cfe94e72861628bc
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 7 14:26:24 2015 -0800

    Dont submit disabled options

diff --git a/src/sentry/static/sentry/app/views/adminSettings.jsx b/src/sentry/static/sentry/app/views/adminSettings.jsx
index 9e8bf70f39..a0826e5e8d 100644
--- a/src/sentry/static/sentry/app/views/adminSettings.jsx
+++ b/src/sentry/static/sentry/app/views/adminSettings.jsx
@@ -12,7 +12,9 @@ import {getOption, getOptionField} from '../options';
 const SettingsList = React.createClass({
   getInitialState() {
     let options = {...this.props.options};
-    let requiredOptions = Object.keys(_.pick(options, option => option.field.required));
+    let requiredOptions = Object.keys(_.pick(options, (option) => {
+      return option.field.required && !option.field.disabled;
+    }));
     let fields = [];
     for (let key of Object.keys(options)) {
       let option = options[key];
@@ -20,6 +22,11 @@ const SettingsList = React.createClass({
         option.value = getOption(key).defaultValue;
       }
       fields.push(getOptionField(key, this.onFieldChange.bind(this, key), option.value, option.field));
+      // options is used for submitting to the server, and we dont submit values
+      // that are deleted
+      if (option.field.disabled) {
+        delete options[key];
+      }
     }
 
     return {
diff --git a/src/sentry/static/sentry/app/views/installWizard.jsx b/src/sentry/static/sentry/app/views/installWizard.jsx
index 4f9bc88976..70d2cf8f3c 100644
--- a/src/sentry/static/sentry/app/views/installWizard.jsx
+++ b/src/sentry/static/sentry/app/views/installWizard.jsx
@@ -12,7 +12,9 @@ import {getOption, getOptionField} from '../options';
 const InstallWizardSettings = React.createClass({
   getInitialState() {
     let options = {...this.props.options};
-    let requiredOptions = Object.keys(_.pick(options, option => option.field.required));
+    let requiredOptions = Object.keys(_.pick(options, (option) => {
+      return option.field.required && !option.field.disabled;
+    }));
     let missingOptions = new Set(requiredOptions.filter(option => !options[option].value));
     let fields = [];
     // This is to handle the initial installation case.
@@ -29,6 +31,11 @@ const InstallWizardSettings = React.createClass({
         option.value = getOption(key).defaultValue;
       }
       fields.push(getOptionField(key, this.onFieldChange.bind(this, key), option.value, option.field));
+      // options is used for submitting to the server, and we dont submit values
+      // that are deleted
+      if (option.field.disabled) {
+        delete options[key];
+      }
     }
 
     return {
