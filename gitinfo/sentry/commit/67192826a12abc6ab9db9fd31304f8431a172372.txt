commit 67192826a12abc6ab9db9fd31304f8431a172372
Author: Chris Jennings <chriskjennings@gmail.com>
Date:   Mon Feb 26 16:04:04 2018 -0800

    feat(ui): more robust empty message component (#7297)
    
    * feat(ui): more robust empty message component
    
    * Revert prettier setting
    
    * Use a pure function
    
    * Bring back flexbox for alignment purposes.

diff --git a/docs-ui/components/emptyMessage.stories.js b/docs-ui/components/emptyMessage.stories.js
new file mode 100644
index 0000000000..3b9622fad8
--- /dev/null
+++ b/docs-ui/components/emptyMessage.stories.js
@@ -0,0 +1,51 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+
+import Panel from 'settings-ui/panel';
+import PanelHeader from 'settings-ui/panelHeader';
+import EmptyMessage from 'settings-ui/emptyMessage';
+
+import Button from 'sentry-ui/buttons/button';
+
+storiesOf('EmptyMessage', module)
+  .add(
+    'default',
+    withInfo('Super Generic')(() => (
+      <div style={{background: '#fff'}}>
+        <EmptyMessage>Nothing to see here</EmptyMessage>
+      </div>
+    ))
+  )
+  .add(
+    'in panel',
+    withInfo('Put this in a panel for maximum effect')(() => (
+      <Panel>
+        <PanelHeader>Audit Log</PanelHeader>
+        <EmptyMessage>No critical actions taken in this period</EmptyMessage>
+      </Panel>
+    ))
+  )
+  .add(
+    'in panel with icon',
+    withInfo('Put this in a panel for maximum effect')(() => (
+      <Panel>
+        <PanelHeader>Members</PanelHeader>
+        <EmptyMessage icon="icon-user">Sentry is better with friends</EmptyMessage>
+      </Panel>
+    ))
+  )
+  .add(
+    'in panel with icon and action',
+    withInfo('Put this in a panel for maximum effect')(() => (
+      <Panel>
+        <PanelHeader>Members</PanelHeader>
+        <EmptyMessage
+          icon="icon-user"
+          action={<Button priority="primary">Invite Members</Button>}
+        >
+          Sentry is better with friends
+        </EmptyMessage>
+      </Panel>
+    ))
+  );
diff --git a/src/sentry/static/sentry/app/views/settings/components/emptyMessage.jsx b/src/sentry/static/sentry/app/views/settings/components/emptyMessage.jsx
index f5a75688f3..98186b2d03 100644
--- a/src/sentry/static/sentry/app/views/settings/components/emptyMessage.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/emptyMessage.jsx
@@ -1,12 +1,47 @@
+import React from 'react';
+import PropTypes from 'prop-types';
 import styled from 'react-emotion';
 
-const EmptyMessage = styled.div`
+import InlineSvg from '../../../components/inlineSvg';
+
+const Wrapper = styled.div`
   display: flex;
-  justify-content: center;
-  padding: 18px;
+  align-items: center;
+  flex-direction: column;
+  color: ${p => p.theme.gray4};
+  padding: ${p => p.theme.grid * 3}px;
   font-size: 1.5em;
-  opacity: 0.4;
   font-weight: bold;
 `;
 
+const Icon = styled.div`
+  display: block;
+  margin-bottom: ${p => p.theme.grid * 2.5}px;
+  color: ${p => p.theme.gray1};
+`;
+
+const Action = styled.div`
+  display: block;
+  margin-top: ${p => p.theme.grid * 2.5}px;
+`;
+
+const EmptyMessage = ({icon, children, action}) => {
+  return (
+    <Wrapper>
+      {icon && (
+        <Icon>
+          <InlineSvg src={icon} size="48px" />
+        </Icon>
+      )}
+      <div className="ref-message">{children}</div>
+      {action && <Action>{action}</Action>}
+    </Wrapper>
+  );
+};
+
+EmptyMessage.propTypes = {
+  icon: PropTypes.string,
+  action: PropTypes.element,
+};
+
 export default EmptyMessage;
diff --git a/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
index 6d13bb092d..5ec9b30559 100644
--- a/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
@@ -65,13 +65,15 @@ exports[`ProjectEnvironments render active renders empty message 1`] = `
   display: -webkit-flex;
   display: -ms-flexbox;
   display: flex;
-  -webkit-box-pack: center;
-  -webkit-justify-content: center;
-  -ms-flex-pack: center;
-  justify-content: center;
-  padding: 18px;
+  -webkit-align-items: center;
+  -webkit-box-align: center;
+  -ms-flex-align: center;
+  align-items: center;
+  -webkit-flex-direction: column;
+  -ms-flex-direction: column;
+  flex-direction: column;
+  padding: NaNpx;
   font-size: 1.5em;
-  opacity: 0.4;
   font-weight: bold;
 }
 
@@ -273,11 +275,17 @@ exports[`ProjectEnvironments render active renders empty message 1`] = `
             className=""
           >
             <EmptyMessage>
-              <div
-                className="glamor-17 glamor-18"
-              >
-                You don't have any environments yet.
-              </div>
+              <Wrapper>
+                <div
+                  className="glamor-17 glamor-18"
+                >
+                  <div
+                    className="ref-message"
+                  >
+                    You don't have any environments yet.
+                  </div>
+                </div>
+              </Wrapper>
             </EmptyMessage>
           </div>
         </PanelBody>
@@ -755,13 +763,15 @@ exports[`ProjectEnvironments render hidden renders empty message 1`] = `
   display: -webkit-flex;
   display: -ms-flexbox;
   display: flex;
-  -webkit-box-pack: center;
-  -webkit-justify-content: center;
-  -ms-flex-pack: center;
-  justify-content: center;
-  padding: 18px;
+  -webkit-align-items: center;
+  -webkit-box-align: center;
+  -ms-flex-align: center;
+  align-items: center;
+  -webkit-flex-direction: column;
+  -ms-flex-direction: column;
+  flex-direction: column;
+  padding: NaNpx;
   font-size: 1.5em;
-  opacity: 0.4;
   font-weight: bold;
 }
 
@@ -963,11 +973,17 @@ exports[`ProjectEnvironments render hidden renders empty message 1`] = `
             className=""
           >
             <EmptyMessage>
-              <div
-                className="glamor-17 glamor-18"
-              >
-                You don't have any hidden environments.
-              </div>
+              <Wrapper>
+                <div
+                  className="glamor-17 glamor-18"
+                >
+                  <div
+                    className="ref-message"
+                  >
+                    You don't have any hidden environments.
+                  </div>
+                </div>
+              </Wrapper>
             </EmptyMessage>
           </div>
         </PanelBody>
diff --git a/tests/js/spec/views/projectEnvironments.spec.jsx b/tests/js/spec/views/projectEnvironments.spec.jsx
index 3fb31747bd..fabcdffac3 100644
--- a/tests/js/spec/views/projectEnvironments.spec.jsx
+++ b/tests/js/spec/views/projectEnvironments.spec.jsx
@@ -35,7 +35,9 @@ describe('ProjectEnvironments', function() {
     it('renders empty message', function() {
       EnvironmentStore.loadInitialData([]);
       const wrapper = mountComponent(false);
-      expect(wrapper.text()).toContain("You don't have any environments yet");
+      let errorMessage = wrapper.find('div').first();
+
+      expect(errorMessage.text()).toContain("You don't have any environments yet");
       expect(wrapper).toMatchSnapshot();
     });
 
@@ -51,8 +53,9 @@ describe('ProjectEnvironments', function() {
       EnvironmentStore.loadHiddenData([]);
 
       const wrapper = mountComponent(true);
+      let errorMessage = wrapper.find('div').first();
 
-      expect(wrapper.text()).toContain("You don't have any hidden environments");
+      expect(errorMessage.text()).toContain("You don't have any hidden environments");
 
       expect(wrapper).toMatchSnapshot();
     });
