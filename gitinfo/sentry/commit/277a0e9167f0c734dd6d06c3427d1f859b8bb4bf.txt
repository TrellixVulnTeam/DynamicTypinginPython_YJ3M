commit 277a0e9167f0c734dd6d06c3427d1f859b8bb4bf
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jul 26 14:31:00 2014 +0200

    Add beginnings of Collection tests

diff --git a/bower.json b/bower.json
index 445960b609..94a1b5c53a 100644
--- a/bower.json
+++ b/bower.json
@@ -11,6 +11,7 @@
     "angular-classy": "~0.4.2",
     "angular-loading-bar": "~0.0.5",
     "angular-linkify": "~0.3.0",
+    "angular-mocks": "1.2.9",
     "angular-raven": "~0.5.4",
     "backbone": "~1.1.2",
     "bootstrap": "~3.1.1",
@@ -21,5 +22,8 @@
     "json2": "*",
     "selectize": "~0.10.1",
     "simple-slider": "https://github.com/loopj/jquery-simple-slider.git"
+  },
+  "resolutions": {
+    "angular": "1.2.9"
   }
 }
diff --git a/tests/js/spec/collectionSpec.js b/tests/js/spec/collectionSpec.js
new file mode 100644
index 0000000000..dd9a1c3185
--- /dev/null
+++ b/tests/js/spec/collectionSpec.js
@@ -0,0 +1,23 @@
+describe('sentry.collection', function(){
+
+  beforeEach(module('sentry'));
+
+  var Collection;
+
+  beforeEach(inject(function($injector){
+    Collection = $injector.get('Collection');
+  }));
+
+  describe('push', function() {
+    it('should append elements', function(){
+      var c = new Collection();
+      c.push({id: 'foo'});
+      c.push({id: 'bar'});
+
+      assert.equal(c.length, 2);
+
+      assert.equal(c[0].id, 'foo');
+      assert.equal(c[1].id, 'bar');
+    });
+  });
+});
diff --git a/tests/karma.conf.js b/tests/karma.conf.js
index 1d421126f7..061ef76736 100644
--- a/tests/karma.conf.js
+++ b/tests/karma.conf.js
@@ -20,6 +20,7 @@ module.exports = function(config) {
       'src/sentry/static/sentry/dist/vendor-jquery.min.js',
       'src/sentry/static/sentry/dist/vendor-bootstrap.min.js',
       'src/sentry/static/sentry/dist/vendor-misc.min.js',
+      'src/sentry/static/sentry/vendor/angular-mocks/angular-mocks.js',
       'src/sentry/static/sentry/dist/app.min.js',
       'src/sentry/static/sentry/dist/legacy-app.min.js',
       'tests/js/**/*Spec.js'
