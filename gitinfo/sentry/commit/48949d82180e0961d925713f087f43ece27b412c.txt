commit 48949d82180e0961d925713f087f43ece27b412c
Author: ckj <chriskjennings@gmail.com>
Date:   Mon Jul 25 15:27:09 2016 -0700

    Sidebarify broadcasts

diff --git a/src/sentry/static/sentry/app/components/header/broadcasts.jsx b/src/sentry/static/sentry/app/components/header/broadcasts.jsx
index ad1860f62c..60ba1e51e9 100644
--- a/src/sentry/static/sentry/app/components/header/broadcasts.jsx
+++ b/src/sentry/static/sentry/app/components/header/broadcasts.jsx
@@ -1,10 +1,11 @@
 import React from 'react';
 
 import ApiMixin from '../../mixins/apiMixin';
-import DropdownLink from '../dropdownLink';
 import LoadingIndicator from '../loadingIndicator';
 import {t} from '../../locale';
 
+import SidebarPanel from '../sidebarPanel';
+
 const Broadcasts = React.createClass({
   mixins: [
     ApiMixin
@@ -106,32 +107,35 @@ const Broadcasts = React.createClass({
 
     let title = <span className="icon-globe" />;
     return (
-      <DropdownLink
-          topLevelClasses={`broadcasts ${this.props.className || ''} ${unseenCount && 'unseen'}`}
-          menuClasses="dropdown-menu-right"
-          onOpen={this.onOpen}
-          onClose={this.onClose}
-          title={title}>
-        {loading ?
-          <li><LoadingIndicator /></li>
-        : (broadcasts.length === 0 ?
-          <li className="empty">{t('No recent broadcasts from the Sentry team.')}</li>
-        :
-          broadcasts.map((item) => {
-            return (
-              <li key={item.id} className={!item.hasSeen && 'unseen'}>
-                {item.title &&
-                  <h4>{item.title}</h4>
-                }
-                {item.message}
-                {item.link &&
-                  <a href={item.link} className="read-more">{t('Read more')}</a>
-                }
-              </li>
-            );
-          })
-        )}
-      </DropdownLink>
+      <li className={this.state.currentPanel == 'broadcasts' ? 'active' : null }>
+        <a className="broadcasts-toggle" onClick={this.props.onShowPanel}><span className="icon-globe"/></a>
+        {this.props.showPanel && this.props.currentPanel == 'broadcasts' &&
+          <SidebarPanel title={t('Recent updates from Sentry')}
+                        hidePanel={this.props.hidePanel}>
+            <ul className="broadcast-items">
+              {loading ?
+                <li><LoadingIndicator /></li>
+              : (broadcasts.length === 0 ?
+                <li className="empty">{t('No recent broadcasts from the Sentry team.')}</li>
+              :
+                broadcasts.map((item) => {
+                  return (
+                    <li key={item.id} className={!item.hasSeen && 'unseen'}>
+                      {item.title &&
+                        <h4>{item.title}</h4>
+                      }
+                      {item.message}
+                      {item.link &&
+                        <a href={item.link} className="read-more">{t('Read more')}</a>
+                      }
+                    </li>
+                  );
+                })
+              )}
+            </ul>
+          </SidebarPanel>
+        }
+      </li>
     );
   }
 });
diff --git a/src/sentry/static/sentry/app/components/header/index.jsx b/src/sentry/static/sentry/app/components/header/index.jsx
index b439da58d5..e68a8b1f2a 100644
--- a/src/sentry/static/sentry/app/components/header/index.jsx
+++ b/src/sentry/static/sentry/app/components/header/index.jsx
@@ -104,6 +104,8 @@ const Header = React.createClass({
       showPanel: true,
       currentPanel: panel
     });
+    console.log(this.state.currentPanel);
+    console.log(this.state.showPanel);
   },
 
   render() {
diff --git a/src/sentry/static/sentry/app/components/sidebarPanel.jsx b/src/sentry/static/sentry/app/components/sidebarPanel.jsx
index 75d578f63c..5e85471ded 100644
--- a/src/sentry/static/sentry/app/components/sidebarPanel.jsx
+++ b/src/sentry/static/sentry/app/components/sidebarPanel.jsx
@@ -15,7 +15,7 @@ const SidebarPanel = React.createClass({
   propTypes: {
     title: React.PropTypes.string,
     items: React.PropTypes.array,
-    onHidePanel: React.PropTypes.func
+    hidePanel: React.PropTypes.func
   },
 
   render() {
@@ -25,9 +25,14 @@ const SidebarPanel = React.createClass({
           <a className="close pull-right" onClick={this.props.hidePanel}><span className="icon-x" /></a>
           <h2>{this.props.title}</h2>
         </div>
-        <div className="sidebar-panel-items">
-          <SidebarPanelItem />
-        </div>
+        {!this.props.children &&
+          <div className="sidebar-panel-items">
+            <SidebarPanelItem />
+          </div>
+        }
+        {this.props.children &&
+          this.props.children
+        }
       </div>
     );
   }
