commit 1c6dc108fec9ad5d5f2a19b180f51e019a10acca
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Sep 9 16:38:21 2015 -0700

    Fix up cc1bd9f8c9765f65bf04d03d36a0f17fd454917e

diff --git a/src/sentry/web/frontend/generic.py b/src/sentry/web/frontend/generic.py
index 734f2a30a5..9370f22ae8 100644
--- a/src/sentry/web/frontend/generic.py
+++ b/src/sentry/web/frontend/generic.py
@@ -7,7 +7,6 @@ sentry.web.frontend.generic
 """
 from __future__ import absolute_import
 
-from django.http import HttpResponseRedirect
 from django.views.generic import TemplateView as BaseTemplateView
 
 from sentry.web.helpers import render_to_response
@@ -33,16 +32,6 @@ def partial_static_media(request, path):
     return static_media(request, module='sentry', path=path)
 
 
-def docs_redirect(request, target):
-    return HttpResponseRedirect(
-        'https://docs.getsentry.com/hosted/%s' % target.strip('/'))
-
-
-def api_docs_redirect(request, target):
-    return HttpResponseRedirect(
-        'https://docs.getsentry.com/hosted/api/%s' % target.strip('/'))
-
-
 class TemplateView(BaseTemplateView):
     def render_to_response(self, context, **response_kwargs):
         return render_to_response(
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 2180d7df62..459454100c 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -11,6 +11,7 @@ __all__ = ('urlpatterns',)
 
 from django.conf.urls import include, patterns, url
 from django.conf import settings
+from django.views.generic import RedirectView
 
 import sentry.web.frontend.projects.keys
 import sentry.web.frontend.projects.plugins
@@ -132,10 +133,6 @@ urlpatterns += patterns(
     url(r'^auth/logout/$', AuthLogoutView.as_view(),
         name='sentry-logout'),
 
-    # Legacy URls
-    url(r'docs(?P<target>|/.*?)$', generic.docs_redirect),
-    url(r'api(?P<target>|/.*?)$', generic.api_docs_redirect),
-
     # Account
     url(r'^login-redirect/$', accounts.login_redirect,
         name='sentry-login-redirect'),
@@ -194,6 +191,14 @@ urlpatterns += patterns(
     url(r'^manage/plugins/(?P<slug>[\w_-]+)/$', admin.configure_plugin,
         name='sentry-admin-configure-plugin'),
 
+    # Legacy Redirects
+    url(r'^docs/?$',
+        RedirectView.as_view(url='https://docs.getsentry.com/hosted/', permanent=False),
+        name='sentry-docs-redirect'),
+    url(r'^api/?$',
+        RedirectView.as_view(url='https://docs.getsentry.com/hosted/api/', permanent=False),
+        name='sentry-api-docs-redirect'),
+
     # Organizations
     url(r'^(?P<organization_slug>[\w_-]+)/$', ReactPageView.as_view(),
         name='sentry-organization-home'),
diff --git a/tests/sentry/web/generic/__init__.py b/tests/sentry/web/generic/__init__.py
new file mode 100644
index 0000000000..e69de29bb2
diff --git a/tests/sentry/web/generic/tests.py b/tests/sentry/web/generic/tests.py
new file mode 100644
index 0000000000..6d9cf6a4c8
--- /dev/null
+++ b/tests/sentry/web/generic/tests.py
@@ -0,0 +1,23 @@
+# -*- coding: utf-8 -*-
+
+from __future__ import absolute_import
+
+from django.core.urlresolvers import reverse
+
+from sentry.testutils import TestCase
+
+
+class DocsRedirectTest(TestCase):
+    def test_response(self):
+        path = reverse('sentry-docs-redirect')
+        resp = self.client.get(path)
+        assert resp['Location'] == 'https://docs.getsentry.com/hosted/'
+        assert resp.status_code == 302, resp.status_code
+
+
+class ApiDocsRedirectTest(TestCase):
+    def test_response(self):
+        path = reverse('sentry-api-docs-redirect')
+        resp = self.client.get(path)
+        assert resp['Location'] == 'https://docs.getsentry.com/hosted/api/'
+        assert resp.status_code == 302, resp.status_code
