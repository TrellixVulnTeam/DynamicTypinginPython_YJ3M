commit d54a80e4233ddbc0f706aa7cb9d83b1306f17fc8
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Tue Jan 29 21:12:25 2019 -0800

    ref(api): Move extra query arg passing to update/delete helpers

diff --git a/src/sentry/api/endpoints/organization_group_index.py b/src/sentry/api/endpoints/organization_group_index.py
index dbf1637aeb..0931b68582 100644
--- a/src/sentry/api/endpoints/organization_group_index.py
+++ b/src/sentry/api/endpoints/organization_group_index.py
@@ -222,10 +222,7 @@ class OrganizationGroupIndexEndpoint(OrganizationEventsEndpointBase):
 
         search_fn = functools.partial(
             self._search, request, organization, projects,
-            self.get_environments(request, organization), {
-                'limit': 1000,
-                'paginator_options': {'max_limit': 1000},
-            }
+            self.get_environments(request, organization),
         )
         return update_groups(
             request,
@@ -258,10 +255,7 @@ class OrganizationGroupIndexEndpoint(OrganizationEventsEndpointBase):
 
         search_fn = functools.partial(
             self._search, request, organization, projects,
-            self.get_environments(request, organization), {
-                'limit': 1000,
-                'paginator_options': {'max_limit': 1000},
-            }
+            self.get_environments(request, organization),
         )
 
         return delete_groups(
diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 3e39717e5f..f20f56c501 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -263,12 +263,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint, EnvironmentMixin):
         :auth: required
         """
 
-        search_fn = functools.partial(
-            self._search, request, project, {
-                'limit': 1000,
-                'paginator_options': {'max_limit': 1000},
-            }
-        )
+        search_fn = functools.partial(self._search, request, project)
         return update_groups(
             request,
             [project],
@@ -298,12 +293,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint, EnvironmentMixin):
                                      belong to.
         :auth: required
         """
-        search_fn = functools.partial(
-            self._search, request, project, {
-                'limit': 1000,
-                'paginator_options': {'max_limit': 1000},
-            }
-        )
+        search_fn = functools.partial(self._search, request, project)
         return delete_groups(
             request,
             [project],
diff --git a/src/sentry/api/helpers/group_index.py b/src/sentry/api/helpers/group_index.py
index 4b0b8b3cc8..88eea9de04 100644
--- a/src/sentry/api/helpers/group_index.py
+++ b/src/sentry/api/helpers/group_index.py
@@ -361,7 +361,10 @@ def delete_groups(request, projects, organization_id, search_fn):
             # bulk mutations are limited to 1000 items
             # TODO(dcramer): it'd be nice to support more than this, but its
             # a bit too complicated right now
-            cursor_result, _ = search_fn()
+            cursor_result, _ = search_fn({
+                'limit': 1000,
+                'paginator_options': {'max_limit': 1000},
+            })
         except ValidationError as exc:
             return Response({'detail': six.text_type(exc)}, status=400)
 
@@ -437,7 +440,10 @@ def update_groups(request, projects, organization_id, search_fn):
             # bulk mutations are limited to 1000 items
             # TODO(dcramer): it'd be nice to support more than this, but its
             # a bit too complicated right now
-            cursor_result, _ = search_fn()
+            cursor_result, _ = search_fn({
+                'limit': 1000,
+                'paginator_options': {'max_limit': 1000},
+            })
         except ValidationError as exc:
             return Response({'detail': six.text_type(exc)}, status=400)
 
