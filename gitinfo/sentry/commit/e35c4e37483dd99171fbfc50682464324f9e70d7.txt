commit e35c4e37483dd99171fbfc50682464324f9e70d7
Author: Tony <Zylphrex@users.noreply.github.com>
Date:   Mon Jun 15 16:05:09 2020 -0400

    fix(discover): Extract user for single page exports (#19372)

diff --git a/src/sentry/static/sentry/app/views/eventsV2/utils.tsx b/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
index 9b8be64dde..bca7a64390 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/utils.tsx
@@ -144,7 +144,8 @@ export function downloadAsCsv(tableData, columnOrder, filename) {
         // This needs to match the order done in the userBadge component
         if (col === 'user') {
           return disableMacros(
-            row['user.name'] ||
+            row.user ||
+              row['user.name'] ||
               row['user.email'] ||
               row['user.username'] ||
               row['user.ip']
diff --git a/tests/js/spec/views/eventsV2/utils.spec.jsx b/tests/js/spec/views/eventsV2/utils.spec.jsx
index f3a68722ca..b5beb5508a 100644
--- a/tests/js/spec/views/eventsV2/utils.spec.jsx
+++ b/tests/js/spec/views/eventsV2/utils.spec.jsx
@@ -483,6 +483,7 @@ describe('downloadAsCsv', function() {
   it('handles the user column', function() {
     const result = {
       data: [
+        {message: 'test 0', user: 'baz'},
         {message: 'test 1', 'user.name': 'foo'},
         {message: 'test 2', 'user.name': 'bar', 'user.ip': '127.0.0.1'},
         {message: 'test 3', 'user.email': 'foo@example.com', 'user.username': 'foo'},
@@ -491,7 +492,7 @@ describe('downloadAsCsv', function() {
     };
     expect(downloadAsCsv(result, [messageColumn, userColumn])).toContain(
       encodeURIComponent(
-        'message,user\r\ntest 1,foo\r\ntest 2,bar\r\ntest 3,foo@example.com\r\ntest 4,127.0.0.1'
+        'message,user\r\ntest 0,baz\r\ntest 1,foo\r\ntest 2,bar\r\ntest 3,foo@example.com\r\ntest 4,127.0.0.1'
       )
     );
   });
