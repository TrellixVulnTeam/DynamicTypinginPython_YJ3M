commit e4e1d5d8a091374676fcfc98a317b01d5b529985
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Mon Mar 11 19:33:50 2019 -0500

    test(ui): Add test for LazyLoad props change (#12366)

diff --git a/tests/js/spec/components/lazyLoad.spec.jsx b/tests/js/spec/components/lazyLoad.spec.jsx
index f00dba6ed6..530fadcc20 100644
--- a/tests/js/spec/components/lazyLoad.spec.jsx
+++ b/tests/js/spec/components/lazyLoad.spec.jsx
@@ -61,4 +61,22 @@ describe('LazyLoad', function() {
     // eslint-disable-next-line no-console
     console.error.mockRestore();
   });
+
+  it('refetches when component changes', async function() {
+    const getComponent = jest.fn(() => new Promise());
+    const wrapper = mount(<LazyLoad component={getComponent} />);
+
+    // Should be loading
+    expect(wrapper.find('LoadingIndicator')).toHaveLength(1);
+    expect(getComponent).toHaveBeenCalled();
+
+    // Update component prop
+    const getComponent2 = jest.fn(() => new Promise());
+    wrapper.setProps({component: getComponent2});
+    expect(getComponent2).toHaveBeenCalledTimes(1);
+
+    // Does not refetch on other prop changes
+    wrapper.setProps({testProp: true});
+    expect(getComponent2).toHaveBeenCalledTimes(1);
+  });
 });
