commit f71256684093f79af16e15d4a331b1401aafaab9
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 8 19:11:17 2016 -0700

    Remove crumbs from shared events (#3880)
    
    * Remove crumbs from shared events
    
    @getsentry/security @getsentry/ui

diff --git a/src/sentry/api/serializers/models/event.py b/src/sentry/api/serializers/models/event.py
index 3773d74699..7c11a4c509 100644
--- a/src/sentry/api/serializers/models/event.py
+++ b/src/sentry/api/serializers/models/event.py
@@ -149,4 +149,8 @@ class SharedEventSerializer(EventSerializer):
         del result['contexts']
         del result['user']
         del result['tags']
+        result['entries'] = [
+            e for e in result['entries']
+            if e['type'] != 'breadcrumbs'
+        ]
         return result
diff --git a/tests/sentry/api/serializers/test_event.py b/tests/sentry/api/serializers/test_event.py
index 827c602367..9721519185 100644
--- a/tests/sentry/api/serializers/test_event.py
+++ b/tests/sentry/api/serializers/test_event.py
@@ -5,6 +5,7 @@ from __future__ import absolute_import
 import six
 
 from sentry.api.serializers import serialize
+from sentry.api.serializers.models.event import SharedEventSerializer
 from sentry.testutils import TestCase
 from sentry.models import EventError
 
@@ -31,3 +32,18 @@ class EventSerializerTest(TestCase):
         assert result['errors'][0]['type'] == EventError.INVALID_DATA
         assert u'ü' in result['errors'][0]['message']
         assert result['errors'][0]['data'] == {'name': u'ü'}
+
+
+class SharedEventSerializerTest(TestCase):
+    def test_simple(self):
+        event = self.create_event(event_id='a')
+
+        result = serialize(event, None, SharedEventSerializer())
+        assert result['id'] == six.text_type(event.id)
+        assert result['eventID'] == 'a'
+        assert result.get('context') is None
+        assert result.get('contexts') is None
+        assert result.get('user') is None
+        assert result.get('tags') is None
+        for entry in result['entries']:
+            assert entry['type'] != 'breadcrumbs'
