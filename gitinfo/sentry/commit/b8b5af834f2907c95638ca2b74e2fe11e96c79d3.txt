commit b8b5af834f2907c95638ca2b74e2fe11e96c79d3
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Mar 17 02:21:28 2020 -0700

    chore(ts): Convert dropdownButton (#17687)

diff --git a/src/sentry/static/sentry/app/components/dropdownButton.jsx b/src/sentry/static/sentry/app/components/dropdownButton.tsx
similarity index 56%
rename from src/sentry/static/sentry/app/components/dropdownButton.jsx
rename to src/sentry/static/sentry/app/components/dropdownButton.tsx
index 9a70ff0965..12c253ce77 100644
--- a/src/sentry/static/sentry/app/components/dropdownButton.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownButton.tsx
@@ -1,26 +1,27 @@
-import PropTypes from 'prop-types';
 import React from 'react';
 import styled from '@emotion/styled';
 
 import Button from 'app/components/button';
 import InlineSvg from 'app/components/inlineSvg';
 
-class DropdownButton extends React.Component {
-  static propTypes = {
-    isOpen: PropTypes.bool,
-    showChevron: PropTypes.bool,
-    forwardRef: PropTypes.any,
-  };
-  render() {
-    const {isOpen, showChevron, children, forwardRef, ...otherProps} = this.props;
-    return (
-      <StyledButton type="button" isOpen={isOpen} ref={forwardRef} {...otherProps}>
-        {children}
-        {showChevron && <StyledChevronDown />}
-      </StyledButton>
-    );
-  }
-}
+type Props = React.ComponentProps<typeof Button> & {
+  isOpen?: boolean;
+  showChevron?: boolean;
+  forwardedRef?: React.Ref<typeof Button>;
+};
+
+const DropdownButton = ({
+  isOpen,
+  children,
+  forwardedRef,
+  showChevron = false,
+  ...props
+}: Props) => (
+  <StyledButton type="button" isOpen={isOpen} ref={forwardedRef} {...props}>
+    {children}
+    {showChevron && <StyledChevronDown />}
+  </StyledButton>
+);
 
 DropdownButton.defaultProps = {
   showChevron: true,
@@ -32,7 +33,7 @@ const StyledChevronDown = styled(props => (
   margin-left: 0.33em;
 `;
 
-const StyledButton = styled(Button)`
+const StyledButton = styled(Button)<Pick<Props, 'isOpen' | 'disabled'>>`
   border-bottom-right-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
   border-bottom-left-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
   position: relative;
@@ -47,6 +48,6 @@ const StyledButton = styled(Button)`
   }
 `;
 
-export default React.forwardRef((props, ref) => (
-  <DropdownButton forwardRef={ref} {...props} />
+export default React.forwardRef<typeof Button, Props>((props, ref) => (
+  <DropdownButton forwardedRef={ref} {...props} />
 ));
diff --git a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
index 4f86a7c278..daa52c3f1f 100644
--- a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
@@ -181,7 +181,7 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                   size="xsmall"
                                 >
                                   <DropdownButton
-                                    forwardRef={null}
+                                    forwardedRef={null}
                                     isOpen={false}
                                     showChevron={true}
                                     size="xsmall"
@@ -192,14 +192,14 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                       type="button"
                                     >
                                       <forwardRef<Button>
-                                        className="css-1k1xa0j-StyledButton e1yghndz1"
+                                        className="css-1k1xa0j-StyledButton eenpoef1"
                                         isOpen={false}
                                         size="xsmall"
                                         type="button"
                                       >
                                         <Button
                                           align="center"
-                                          className="css-1k1xa0j-StyledButton e1yghndz1"
+                                          className="css-1k1xa0j-StyledButton eenpoef1"
                                           disabled={false}
                                           forwardRef={null}
                                           isOpen={false}
@@ -208,7 +208,7 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                         >
                                           <StyledButton
                                             aria-disabled={false}
-                                            className="css-1k1xa0j-StyledButton e1yghndz1"
+                                            className="css-1k1xa0j-StyledButton eenpoef1"
                                             disabled={false}
                                             forwardRef={null}
                                             isOpen={false}
@@ -219,7 +219,7 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                           >
                                             <Component
                                               aria-disabled={false}
-                                              className="e1yghndz1 css-ssbzqs-StyledButton-StyledButton edwq9my0"
+                                              className="eenpoef1 css-ssbzqs-StyledButton-StyledButton edwq9my0"
                                               forwardRef={null}
                                               onClick={[Function]}
                                               role="button"
@@ -228,7 +228,7 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                             >
                                               <button
                                                 aria-disabled={false}
-                                                className="e1yghndz1 css-ssbzqs-StyledButton-StyledButton edwq9my0"
+                                                className="eenpoef1 css-ssbzqs-StyledButton-StyledButton edwq9my0"
                                                 onClick={[Function]}
                                                 role="button"
                                                 size="xsmall"
@@ -249,18 +249,18 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                                       Add Project
                                                       <StyledChevronDown>
                                                         <Component
-                                                          className="css-1jdzfs8-StyledChevronDown e1yghndz0"
+                                                          className="css-1jdzfs8-StyledChevronDown eenpoef0"
                                                         >
                                                           <InlineSvg
-                                                            className="css-1jdzfs8-StyledChevronDown e1yghndz0"
+                                                            className="css-1jdzfs8-StyledChevronDown eenpoef0"
                                                             src="icon-chevron-down"
                                                           >
                                                             <ForwardRef
-                                                              className="e1yghndz0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
+                                                              className="eenpoef0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
                                                               src="icon-chevron-down"
                                                             >
                                                               <svg
-                                                                className="e1yghndz0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
+                                                                className="eenpoef0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
                                                                 height="1em"
                                                                 viewBox={Object {}}
                                                                 width="1em"
diff --git a/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap b/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
index 51001a2e7e..42f33cfb42 100644
--- a/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
+++ b/tests/js/spec/views/inviteMember/__snapshots__/inviteMember.spec.jsx.snap
@@ -602,7 +602,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                         <DropdownButton
                                           aria-label="Add Team"
                                           disabled={true}
-                                          forwardRef={null}
+                                          forwardedRef={null}
                                           isOpen={false}
                                           showChevron={true}
                                           size="xsmall"
@@ -616,7 +616,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                           >
                                             <forwardRef<Button>
                                               aria-label="Add Team"
-                                              className="css-k164fp-StyledButton e1yghndz1"
+                                              className="css-k164fp-StyledButton eenpoef1"
                                               disabled={true}
                                               isOpen={false}
                                               size="xsmall"
@@ -625,7 +625,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                               <Button
                                                 align="center"
                                                 aria-label="Add Team"
-                                                className="css-k164fp-StyledButton e1yghndz1"
+                                                className="css-k164fp-StyledButton eenpoef1"
                                                 disabled={true}
                                                 forwardRef={null}
                                                 isOpen={false}
@@ -635,7 +635,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                                 <StyledButton
                                                   aria-disabled={true}
                                                   aria-label="Add Team"
-                                                  className="css-k164fp-StyledButton e1yghndz1"
+                                                  className="css-k164fp-StyledButton eenpoef1"
                                                   disabled={true}
                                                   forwardRef={null}
                                                   isOpen={false}
@@ -647,7 +647,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                                   <Component
                                                     aria-disabled={true}
                                                     aria-label="Add Team"
-                                                    className="e1yghndz1 css-jk8rcx-StyledButton-StyledButton edwq9my0"
+                                                    className="eenpoef1 css-jk8rcx-StyledButton-StyledButton edwq9my0"
                                                     forwardRef={null}
                                                     onClick={[Function]}
                                                     role="button"
@@ -657,7 +657,7 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                                     <button
                                                       aria-disabled={true}
                                                       aria-label="Add Team"
-                                                      className="e1yghndz1 css-jk8rcx-StyledButton-StyledButton edwq9my0"
+                                                      className="eenpoef1 css-jk8rcx-StyledButton-StyledButton edwq9my0"
                                                       onClick={[Function]}
                                                       role="button"
                                                       size="xsmall"
@@ -678,18 +678,18 @@ exports[`InviteMember should render roles when available and allowed, and handle
                                                             Add Team
                                                             <StyledChevronDown>
                                                               <Component
-                                                                className="css-1jdzfs8-StyledChevronDown e1yghndz0"
+                                                                className="css-1jdzfs8-StyledChevronDown eenpoef0"
                                                               >
                                                                 <InlineSvg
-                                                                  className="css-1jdzfs8-StyledChevronDown e1yghndz0"
+                                                                  className="css-1jdzfs8-StyledChevronDown eenpoef0"
                                                                   src="icon-chevron-down"
                                                                 >
                                                                   <ForwardRef
-                                                                    className="e1yghndz0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
+                                                                    className="eenpoef0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
                                                                     src="icon-chevron-down"
                                                                   >
                                                                     <svg
-                                                                      className="e1yghndz0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
+                                                                      className="eenpoef0 css-eqsg9h-InlineSvg-StyledChevronDown enyz4ql0"
                                                                       height="1em"
                                                                       viewBox={Object {}}
                                                                       width="1em"
