commit 208f88796f880f81fe3ccd26dcd2297b07c74b75
Author: Jan Michael Auer <account@jauer.org>
Date:   Fri Nov 9 16:46:08 2018 +0100

    ref(interfaces): Remove the AppleCrashReport interface (#10476)

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 3790d00def..ee36e44435 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -917,7 +917,6 @@ SENTRY_INTERFACES = {
     'stacktrace': 'sentry.interfaces.stacktrace.Stacktrace',
     'template': 'sentry.interfaces.template.Template',
     'user': 'sentry.interfaces.user.User',
-    'applecrashreport': 'sentry.interfaces.applecrash.AppleCrashReport',
     'breadcrumbs': 'sentry.interfaces.breadcrumbs.Breadcrumbs',
     'contexts': 'sentry.interfaces.contexts.Contexts',
     'threads': 'sentry.interfaces.threads.Threads',
diff --git a/src/sentry/constants.py b/src/sentry/constants.py
index fb2f68ff3c..dd8204030d 100644
--- a/src/sentry/constants.py
+++ b/src/sentry/constants.py
@@ -167,7 +167,7 @@ CLIENT_RESERVED_ATTRS = (
     'project', 'errors', 'event_id', 'message', 'checksum', 'culprit', 'fingerprint', 'level',
     'time_spent', 'logger', 'server_name', 'site', 'received', 'timestamp', 'extra', 'modules',
     'tags', 'platform', 'release', 'dist', 'environment', 'transaction', 'key_id', '_meta',
-    'device', 'repos', 'query',
+    'applecrashreport', 'device', 'repos', 'query',
 )
 
 # XXX: Must be all lowercase
diff --git a/src/sentry/interfaces/applecrash.py b/src/sentry/interfaces/applecrash.py
deleted file mode 100644
index 65b782267b..0000000000
--- a/src/sentry/interfaces/applecrash.py
+++ /dev/null
@@ -1,39 +0,0 @@
-"""
-sentry.interfaces.applecrash
-~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-
-:copyright: (c) 2010-2016 by the Sentry Team, see AUTHORS for more details.
-:license: BSD, see LICENSE for more details.
-"""
-
-from __future__ import absolute_import
-
-__all__ = ('AppleCrashReport', )
-
-from sentry.interfaces.base import Interface
-
-
-class AppleCrashReport(Interface):
-    """
-    An apple crash report in JSON format.  This typically gets converted
-    into other interfaces as part of the processing.
-
-    >>> {
-    >>>     "crash": {...}
-    >>> }
-    """
-
-    ephemeral = True
-
-    @classmethod
-    def to_python(cls, data):
-        kwargs = {
-            'crash': data.get('crash'),
-            'system': data.get('system') or {},
-            'binary_images': data.get('binary_images'),
-        }
-
-        return cls(**kwargs)
-
-    def get_path(self):
-        return 'sentry.interfaces.AppleCrashReport'
diff --git a/src/sentry/utils/canonical.py b/src/sentry/utils/canonical.py
index 7bc9e19fa1..6fedfcabcc 100644
--- a/src/sentry/utils/canonical.py
+++ b/src/sentry/utils/canonical.py
@@ -24,7 +24,6 @@ CANONICAL_KEY_MAPPING = {
     'sentry.interfaces.Http': 'request',
     'sentry.interfaces.User': 'user',
     'sentry.interfaces.Csp': 'csp',
-    'sentry.interfaces.AppleCrashReport': 'applecrashreport',
     'sentry.interfaces.Breadcrumbs': 'breadcrumbs',
     'sentry.interfaces.Contexts': 'contexts',
     'sentry.interfaces.Threads': 'threads',
diff --git a/tests/sentry/event_manager/test_event_manager.py b/tests/sentry/event_manager/test_event_manager.py
index 1a4be619f4..05480b5096 100644
--- a/tests/sentry/event_manager/test_event_manager.py
+++ b/tests/sentry/event_manager/test_event_manager.py
@@ -107,20 +107,6 @@ class EventManagerTest(TransactionTestCase):
             event_id=event_id,
         ).exists()
 
-    def test_platform_is_saved(self):
-        manager = EventManager(
-            make_event(
-                **{'sentry.interfaces.AppleCrashReport': {
-                    'crash': {},
-                    'binary_images': []
-                }}
-            )
-        )
-        manager.normalize()
-        event = manager.save(1)
-
-        assert 'sentry.interfacse.AppleCrashReport' not in event.interfaces
-
     def test_ephemral_interfaces_removed_on_save(self):
         manager = EventManager(make_event(platform='python'))
         event = manager.save(1)
diff --git a/tests/sentry/interfaces/test_applecrashreport.py b/tests/sentry/interfaces/test_applecrashreport.py
deleted file mode 100644
index 05008b1e8a..0000000000
--- a/tests/sentry/interfaces/test_applecrashreport.py
+++ /dev/null
@@ -1,62 +0,0 @@
-# -*- coding: utf-8 -*-
-
-from __future__ import absolute_import
-
-from exam import fixture
-
-from sentry.interfaces.applecrash import AppleCrashReport
-from sentry.testutils import TestCase
-
-
-class AppleCrashReportTest(TestCase):
-    @fixture
-    def interface(self):
-        return AppleCrashReport.to_python(
-            dict(
-                crash={
-                    'diagnosis': 'Aha',
-                    'error': {},
-                    'threads': [],
-                },
-                binary_images=[
-                    {
-                        "cpu_subtype":
-                        9,
-                        "cpu_type":
-                        12,
-                        "image_addr":
-                        749568,
-                        "image_size":
-                        262144,
-                        "image_vmaddr":
-                        16384,
-                        "name": (
-                            '/private/var/mobile/Containers/Bundle/Application'
-                            '/436352A9-1BE2-4934-9C6F-237CC7DFF27B'
-                            '/Crash-Tester.app/Crash-Tester'
-                        ),
-                        "uuid":
-                        "8094558B-3641-36F7-BA80-A1AAABCF72DA"
-                    }
-                ],
-            )
-        )
-
-    def test_null_values(self):
-        sink = {}
-
-        assert AppleCrashReport.to_python({}).to_json() == sink
-        assert AppleCrashReport.to_python({"binary_images": None}).to_json() == sink
-        assert AppleCrashReport.to_python({"binary_images": []}).to_json() == sink
-        assert AppleCrashReport.to_python({"binary_images": [None]}).to_json() == {
-            "binary_images": [None]}
-
-    def test_path(self):
-        assert self.interface.get_path() == 'sentry.interfaces.AppleCrashReport'
-
-    def test_serialize_unserialize_behavior(self):
-        result = type(self.interface).to_python(self.interface.to_json())
-        assert result.to_json() == self.interface.to_json()
-
-    def test_empty_hash(self):
-        assert self.interface.get_hash() == []
