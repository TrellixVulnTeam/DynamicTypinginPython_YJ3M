commit fc5bf1bad83f3f4723d13c194ee6f546488b4472
Author: Benjamin Sergeant <bsergeant@mz.com>
Date:   Mon Oct 3 15:43:49 2016 -0700

    TypeError Exception in sentry.runner.settings.get_sentry_conf()
    
    If click.get_current_context() returns None, trying to access
    ctx.object['config'] yields a TypeError. This happens when trying to
    write a sentry command in a separate module from sentry, when
    calling sentry.runner.settings.configure()

diff --git a/src/sentry/runner/settings.py b/src/sentry/runner/settings.py
index ad87194286..d8e05fd2b6 100644
--- a/src/sentry/runner/settings.py
+++ b/src/sentry/runner/settings.py
@@ -52,7 +52,7 @@ def get_sentry_conf():
     try:
         ctx = click.get_current_context()
         return ctx.obj['config']
-    except (RuntimeError, KeyError):
+    except (RuntimeError, KeyError, TypeError):
         try:
             return os.environ['SENTRY_CONF']
         except KeyError:
