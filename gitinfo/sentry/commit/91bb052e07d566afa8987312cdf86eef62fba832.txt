commit 91bb052e07d566afa8987312cdf86eef62fba832
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Sep 28 15:38:26 2015 -0700

    handle empty value

diff --git a/src/sentry/tasks/post_process.py b/src/sentry/tasks/post_process.py
index 98c186a59d..dcc57d4e7e 100644
--- a/src/sentry/tasks/post_process.py
+++ b/src/sentry/tasks/post_process.py
@@ -109,7 +109,7 @@ def record_affected_user(event, **kwargs):
 
     euser = EventUser(
         project=event.project,
-        ident=unicode(user_data.get('id')),
+        ident=unicode(user_data.get('id')) if user_data.get('id') else None,
         email=user_data.get('email'),
         username=user_data.get('username'),
         ip_address=event.ip_address,
