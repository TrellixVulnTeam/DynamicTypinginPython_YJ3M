commit ddd6fc94f74b5ccbdd761318e11d5d160f856e74
Author: Mark Story <mark@sentry.io>
Date:   Mon Mar 9 15:07:59 2020 -0400

    ref(ui) Convert FileChange component to typescript (#17516)
    
    Also remove some LESS and upgrade the Icons as they were nearby.
    
    Remove the group-list class and its friends.
    
    This required converting project processing issues to styled components,
    but I see that as a win.
    
    
    Co-authored-by: Priscila Oliveira <priscila.oliveira@sentry.io>

diff --git a/src/sentry/static/sentry/app/components/avatar/avatarList.tsx b/src/sentry/static/sentry/app/components/avatar/avatarList.tsx
index 5a4a204b5f..ca875ff8c4 100644
--- a/src/sentry/static/sentry/app/components/avatar/avatarList.tsx
+++ b/src/sentry/static/sentry/app/components/avatar/avatarList.tsx
@@ -3,7 +3,7 @@ import PropTypes from 'prop-types';
 import styled from '@emotion/styled';
 import {css} from '@emotion/core';
 
-import {User} from 'app/types';
+import {AvatarUser} from 'app/types';
 import SentryTypes from 'app/sentryTypes';
 import UserAvatar from 'app/components/avatar/userAvatar';
 import Tooltip from 'app/components/tooltip';
@@ -20,7 +20,7 @@ type Mutable<T> = {-readonly [P in keyof T]: T[P]};
 
 type Props = {
   className?: string;
-  users: User[];
+  users: AvatarUser[];
   renderTooltip?: UserAvatar['props']['renderTooltip'];
   tooltipOptions: Mutable<UserAvatar['props']['tooltipOptions']>;
 } & DefaultProps;
diff --git a/src/sentry/static/sentry/app/components/fileChange.jsx b/src/sentry/static/sentry/app/components/fileChange.jsx
deleted file mode 100644
index 3a4337274c..0000000000
--- a/src/sentry/static/sentry/app/components/fileChange.jsx
+++ /dev/null
@@ -1,38 +0,0 @@
-import PropTypes from 'prop-types';
-import React from 'react';
-
-import AvatarList from 'app/components/avatar/avatarList';
-import InlineSvg from 'app/components/inlineSvg';
-
-class FileChange extends React.PureComponent {
-  static propTypes = {
-    filename: PropTypes.string.isRequired,
-    authors: PropTypes.array.isRequired,
-  };
-
-  constructor(props) {
-    super(props);
-    this.state = {
-      loading: true,
-    };
-  }
-
-  render() {
-    const {filename, authors} = this.props;
-    return (
-      <li className="list-group-item list-group-item-sm release-file-change">
-        <div className="row row-flex row-center-vertically">
-          <div className="col-sm-10 truncate file-name">
-            <InlineSvg src="icon-file" className="icon-file-generic" size="15" />
-            {filename}
-          </div>
-          <div className="col-sm-2 align-right">
-            <AvatarList users={authors} avatarSize={25} typeMember="authors" />
-          </div>
-        </div>
-      </li>
-    );
-  }
-}
-
-export default FileChange;
diff --git a/src/sentry/static/sentry/app/components/fileChange.tsx b/src/sentry/static/sentry/app/components/fileChange.tsx
new file mode 100644
index 0000000000..96b9ca4780
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/fileChange.tsx
@@ -0,0 +1,50 @@
+import PropTypes from 'prop-types';
+import React from 'react';
+import styled from '@emotion/styled';
+
+import {ListGroupItem} from 'app/components/listGroup';
+import space from 'app/styles/space';
+import overflowEllipsis from 'app/styles/overflowEllipsis';
+import {AvatarUser} from 'app/types';
+import AvatarList from 'app/components/avatar/avatarList';
+import {IconFile} from 'app/icons';
+
+type Props = {
+  filename: string;
+  authors: AvatarUser[];
+};
+
+const FileChange = ({filename, authors}: Props) => (
+  <FileItem>
+    <Filename>
+      <StyledIconFile size="xs" />
+      {filename}
+    </Filename>
+    <div>
+      <AvatarList users={authors} avatarSize={25} typeMembers="authors" />
+    </div>
+  </FileItem>
+);
+
+FileChange.propTypes = {
+  filename: PropTypes.string.isRequired,
+  authors: PropTypes.array.isRequired,
+};
+
+const FileItem = styled(ListGroupItem)`
+  display: flex;
+  align-items: center;
+  justify-content: space-between;
+`;
+
+const Filename = styled('div')`
+  font-size: ${p => p.theme.fontSizeMedium};
+  ${overflowEllipsis}
+`;
+
+const StyledIconFile = styled(IconFile)`
+  color: ${p => p.theme.gray1};
+  margin-right: ${space(1)};
+`;
+
+export default FileChange;
diff --git a/src/sentry/static/sentry/app/components/listGroup.tsx b/src/sentry/static/sentry/app/components/listGroup.tsx
new file mode 100644
index 0000000000..4758725609
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/listGroup.tsx
@@ -0,0 +1,50 @@
+import styled from '@emotion/styled';
+
+import space from 'app/styles/space';
+
+type ListGroupProps = {
+  striped?: boolean;
+};
+
+type ListGroupItemProps = {
+  centered?: boolean;
+};
+
+const ListGroupItem = styled('li')<ListGroupItemProps>`
+  position: relative;
+  display: block;
+  min-height: 36px;
+  border: 1px solid ${p => p.theme.borderLight};
+
+  padding: ${space(0.5)} ${space(1.5)};
+
+  margin-bottom: -1px;
+  ${p => (p.centered ? 'text-align: center;' : '')}
+
+  &:first-child {
+    border-top-left-radius: ${p => p.theme.borderRadius};
+    border-top-right-radius: ${p => p.theme.borderRadius};
+  }
+  &:last-child {
+    border-bottom-left-radius: ${p => p.theme.borderRadius};
+    border-bottom-right-radius: ${p => p.theme.borderRadius};
+  }
+`;
+
+const ListGroup = styled('ul')<ListGroupProps>`
+  box-shadow: 0 1px 0px rgba(0, 0, 0, 0.03);
+  background: ${p => p.theme.white};
+  padding: 0;
+  margin: 0;
+
+  ${p =>
+    p.striped
+      ? `
+    & > li:nth-child(odd) {
+      background: ${p.theme.whiteDark};
+    }
+  `
+      : ''}
+`;
+
+export {ListGroup, ListGroupItem};
diff --git a/src/sentry/static/sentry/app/components/repositoryFileSummary.jsx b/src/sentry/static/sentry/app/components/repositoryFileSummary.jsx
index 49617ee497..ebd25ee5f1 100644
--- a/src/sentry/static/sentry/app/components/repositoryFileSummary.jsx
+++ b/src/sentry/static/sentry/app/components/repositoryFileSummary.jsx
@@ -1,17 +1,19 @@
 import PropTypes from 'prop-types';
 import React from 'react';
+import styled from '@emotion/styled';
 
+import {ListGroup, ListGroupItem} from 'app/components/listGroup';
 import FileChange from 'app/components/fileChange';
 import {t, tn} from 'app/locale';
+import space from 'app/styles/space';
 
 function Collapsed(props) {
   return (
-    <li className="list-group-item list-group-item-sm align-center">
-      <span className="icon-container" />
+    <ListGroupItem centered>
       <a onClick={props.onClick}>
         {tn('Show %s collapsed file', 'Show %s collapsed files', props.count)}
       </a>
-    </li>
+    </ListGroupItem>
   );
 }
 
@@ -54,7 +56,7 @@ class RepositoryFileSummary extends React.Component {
     const numCollapsed = fileCount - files.length;
     const canCollapse = fileCount > MAX;
     return (
-      <div>
+      <Container>
         <h5>
           {tn(
             '%s file changed in ' + repository,
@@ -62,7 +64,7 @@ class RepositoryFileSummary extends React.Component {
             fileCount
           )}
         </h5>
-        <ul className="list-group list-group-striped m-b-2">
+        <ListGroup striped>
           {files.map(filename => {
             const {authors, types} = fileChangeSummary[filename];
             return (
@@ -78,15 +80,18 @@ class RepositoryFileSummary extends React.Component {
             <Collapsed onClick={this.onCollapseToggle} count={numCollapsed} />
           )}
           {numCollapsed === 0 && canCollapse && (
-            <li className="list-group-item list-group-item-sm align-center">
-              <span className="icon-container" />
+            <ListGroupItem centered>
               <a onClick={this.onCollapseToggle}>{t('Collapse')}</a>
-            </li>
+            </ListGroupItem>
           )}
-        </ul>
-      </div>
+        </ListGroup>
+      </Container>
     );
   }
 }
 
+const Container = styled('div')`
+  margin-bottom: ${space(2)};
+`;
+
 export default RepositoryFileSummary;
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectProcessingIssues.jsx b/src/sentry/static/sentry/app/views/settings/project/projectProcessingIssues.jsx
index 4ca129ad47..f1fd50b0c7 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectProcessingIssues.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectProcessingIssues.jsx
@@ -1,7 +1,7 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 
-import {Panel, PanelAlert} from 'app/components/panels';
+import {Panel, PanelItem, PanelBody, PanelAlert} from 'app/components/panels';
 import {addLoadingMessage, clearIndicators} from 'app/actionCreators/indicator';
 import {t, tn} from 'app/locale';
 import Access from 'app/components/acl/access';
@@ -331,7 +331,7 @@ class ProjectProcessingIssues extends React.Component {
     let processingRow = null;
     if (this.state.processingIssues.issuesProcessing > 0) {
       processingRow = (
-        <div className="list-group-item alert-info">
+        <PanelItem className="alert-info">
           <div className="row row-flex row-center-vertically">
             <div className="col-sm-12">
               <span
@@ -345,7 +345,7 @@ class ProjectProcessingIssues extends React.Component {
               )}
             </div>
           </div>
-        </div>
+        </PanelItem>
       );
     }
 
@@ -376,10 +376,10 @@ class ProjectProcessingIssues extends React.Component {
               <div className="col-sm-2">{t('Last seen')}</div>
             </div>
           </div>
-          <div className="list-group">
+          <PanelBody>
             {processingRow}
             {this.state.processingIssues.issues.map((item, idx) => (
-              <div key={idx} className="list-group-item">
+              <PanelItem key={idx}>
                 <div className="row row-flex row-center-vertically">
                   <div className="col-sm-3">{this.renderProblem(item)}</div>
                   <div className="col-sm-5">{this.renderDetails(item)}</div>
@@ -388,9 +388,9 @@ class ProjectProcessingIssues extends React.Component {
                     <TimeSince date={item.lastSeen} />
                   </div>
                 </div>
-              </div>
+              </PanelItem>
             ))}
-          </div>
+          </PanelBody>
         </div>
       </div>
     );
diff --git a/src/sentry/static/sentry/less/releases.less b/src/sentry/static/sentry/less/releases.less
index bbf74df26c..9711bc1cea 100644
--- a/src/sentry/static/sentry/less/releases.less
+++ b/src/sentry/static/sentry/less/releases.less
@@ -80,33 +80,6 @@
   background-color: @green;
 }
 
-/**
-* Release file change list
-* ============================================================================
-*/
-
-.release-file-change {
-  .file-name {
-    font-size: 14px;
-    display: inline-block;
-    vertical-align: middle;
-  }
-  .icon-file-generic {
-    color: @40;
-    margin-right: 7px;
-  }
-
-  .avatar {
-    display: block;
-    width: 23px !important;
-    height: 23px !important;
-  }
-
-  .avatar-grid-item {
-    margin: 0 0 4px 4px;
-  }
-}
-
 /**
 * Commits Tab
 * ============================================================================
diff --git a/src/sentry/static/sentry/less/sentry-list-group.less b/src/sentry/static/sentry/less/sentry-list-group.less
deleted file mode 100644
index c70c90ef4e..0000000000
--- a/src/sentry/static/sentry/less/sentry-list-group.less
+++ /dev/null
@@ -1,75 +0,0 @@
-//
-// Sentry List Group
-// Extends Bootstrap's list-group
-//
-// Variables for this component can be found in variables.less
-//
-
-.list-group {
-  box-shadow: 0 1px 0px rgba(0, 0, 0, 0.03);
-  &.list-group-striped {
-    .list-group-item:nth-child(odd) {
-      background: @white-dark;
-    }
-  }
-
-  .list-group-item {
-    padding: 10px 20px;
-
-    &.list-group-item-sm {
-      padding: 5px 10px;
-      min-height: 36px;
-    }
-
-    // When pairing title / description / meta use <h*>, <p>, and <p>
-    h1,
-    h2 {
-      font-size: 18px;
-      line-height: 1.4;
-      margin-bottom: 4px;
-    }
-
-    h3,
-    h4,
-    h5 {
-      margin: 1px 0;
-      font-size: 15px;
-      line-height: 1.25;
-    }
-
-    h6 {
-      margin: 0 0 5px;
-    }
-
-    p {
-      font-size: 13px;
-      color: @80;
-      line-height: 1.3;
-      margin-bottom: 5px;
-
-      &:last-child {
-        margin-bottom: 0;
-      }
-    }
-
-    .list-group-actions {
-      > .btn-group,
-      > .btn {
-        margin-left: 5px;
-      }
-      > .btn-group .btn,
-      .btn-group .btn + .btn,
-      .btn-group .btn + .btn-group,
-      .btn-group .btn-group + .btn,
-      .btn-group .btn-group + .btn-group {
-        margin-left: -1px;
-      }
-    }
-  }
-
-  &.list-group-lg {
-    .list-group-item {
-      padding: 15px 20px;
-    }
-  }
-}
diff --git a/src/sentry/static/sentry/less/sentry-panel.less b/src/sentry/static/sentry/less/sentry-panel.less
index 21f4e04df6..b604cea9b9 100644
--- a/src/sentry/static/sentry/less/sentry-panel.less
+++ b/src/sentry/static/sentry/less/sentry-panel.less
@@ -24,7 +24,4 @@
     text-transform: uppercase;
     line-height: 1;
   }
-  > .list-group {
-    border: 0;
-  }
 }
diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index ead057d57c..32b3bdec52 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -13,7 +13,6 @@
 @import url('./shared-components.less');
 @import url('./sentry-grid.less');
 @import url('./sentry-hovercard.less');
-@import url('./sentry-list-group.less');
 @import url('./sentry-panel.less');
 @import url('./layout.less');
 @import url('./fonts.less');
diff --git a/src/sentry/static/sentry/less/variables.less b/src/sentry/static/sentry/less/variables.less
index 4af0dd0411..65cda3b2c0 100644
--- a/src/sentry/static/sentry/less/variables.less
+++ b/src/sentry/static/sentry/less/variables.less
@@ -58,13 +58,6 @@
 @panel-body-padding: 20px;
 @panel-heading-padding: 10px 20px;
 
-// List Group
-//
-// Bootstrap overrides
-
-@list-group-border: @trim;
-@list-group-hover-bg: #fbfbfa;
-
 // Z-Index
 @zindex-dropdown-backdrop: 990;
 @zindex-sidebar-panel: 100;
