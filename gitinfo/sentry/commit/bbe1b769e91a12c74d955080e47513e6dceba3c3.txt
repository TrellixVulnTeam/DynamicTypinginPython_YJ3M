commit bbe1b769e91a12c74d955080e47513e6dceba3c3
Author: Lauryn Brown <lauryndbrown@gmail.com>
Date:   Mon Nov 5 10:25:14 2018 -0800

    Removed external_id from create subscription (#10405)

diff --git a/src/sentry/integrations/vsts/client.py b/src/sentry/integrations/vsts/client.py
index 4c84f10b56..938a27d12d 100644
--- a/src/sentry/integrations/vsts/client.py
+++ b/src/sentry/integrations/vsts/client.py
@@ -254,7 +254,7 @@ class VstsApiClient(ApiClient, OAuth2RefreshMixin):
             api_preview=True,
         )
 
-    def create_subscription(self, instance, external_id, shared_secret):
+    def create_subscription(self, instance, shared_secret):
         return self.post(
             VstsApiPath.subscriptions.format(
                 instance=instance
diff --git a/src/sentry/integrations/vsts/integration.py b/src/sentry/integrations/vsts/integration.py
index 966fdfa1a4..ad0d93269c 100644
--- a/src/sentry/integrations/vsts/integration.py
+++ b/src/sentry/integrations/vsts/integration.py
@@ -388,7 +388,7 @@ class VstsIntegrationProvider(IntegrationProvider):
 
         except (IntegrationModel.DoesNotExist, AssertionError, KeyError):
             subscription_id, subscription_secret = self.create_subscription(
-                base_url, account['accountId'], oauth_data)
+                base_url, oauth_data)
             integration['metadata']['subscription'] = {
                 'id': subscription_id,
                 'secret': subscription_secret,
@@ -396,11 +396,11 @@ class VstsIntegrationProvider(IntegrationProvider):
 
         return integration
 
-    def create_subscription(self, instance, account_id, oauth_data):
+    def create_subscription(self, instance, oauth_data):
         webhook = WorkItemWebhook()
         try:
             subscription, shared_secret = webhook.create_subscription(
-                instance, oauth_data, self.oauth_redirect_url, account_id)
+                instance, oauth_data, self.oauth_redirect_url)
         except ApiError as e:
             if e.code != 400 or 'permission' not in e.message:
                 raise e
diff --git a/src/sentry/integrations/vsts/webhooks.py b/src/sentry/integrations/vsts/webhooks.py
index 24c9ffe4df..8ad796d644 100644
--- a/src/sentry/integrations/vsts/webhooks.py
+++ b/src/sentry/integrations/vsts/webhooks.py
@@ -173,10 +173,10 @@ class WorkItemWebhook(Endpoint):
         # TODO(lb): hmm... this looks brittle to me
         return EMAIL_PARSER.search(email).group(1)
 
-    def create_subscription(self, instance, identity_data, oauth_redirect_url, external_id):
+    def create_subscription(self, instance, identity_data, oauth_redirect_url):
         client = self.get_client(Identity(data=identity_data), oauth_redirect_url)
         shared_secret = self.create_webhook_secret()
-        return client.create_subscription(instance, external_id, shared_secret), shared_secret
+        return client.create_subscription(instance, shared_secret), shared_secret
 
     def create_webhook_secret(self):
         # following this example
