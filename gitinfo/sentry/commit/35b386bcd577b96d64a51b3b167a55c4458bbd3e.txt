commit 35b386bcd577b96d64a51b3b167a55c4458bbd3e
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Dec 6 17:58:37 2016 +0100

    Greatly simplify culprit for cocoa

diff --git a/src/sentry/interfaces/stacktrace.py b/src/sentry/interfaces/stacktrace.py
index d04ce3a2f8..54a09d018d 100644
--- a/src/sentry/interfaces/stacktrace.py
+++ b/src/sentry/interfaces/stacktrace.py
@@ -64,12 +64,6 @@ def trim_package(pkg):
     return pkg
 
 
-def trim_filename(fn):
-    if not fn:
-        return '?'
-    return fn.rsplit('/', 1)[-1]
-
-
 def to_hex_addr(addr):
     if addr is None:
         return None
@@ -513,14 +507,7 @@ class Frame(Interface):
         if self.platform is not None:
             platform = self.platform
         if platform in ('objc', 'cocoa'):
-            if self.filename:
-                loc = trim_filename(self.filename)
-            else:
-                loc = trim_package(self.package)
-            return '%s (%s)' % (
-                self.function or '?',
-                loc,
-            )
+            return self.function or '?'
         fileloc = self.module or self.filename
         if not fileloc:
             return ''
diff --git a/tests/sentry/interfaces/test_stacktrace.py b/tests/sentry/interfaces/test_stacktrace.py
index a021fd49b1..bffe619498 100644
--- a/tests/sentry/interfaces/test_stacktrace.py
+++ b/tests/sentry/interfaces/test_stacktrace.py
@@ -383,10 +383,10 @@ class StacktraceTest(TestCase):
                 'package': '/foo/bar/baz.dylib',
                 'lineno': 1,
                 'in_app': True,
-                'function': 'fooBar',
+                'function': '-[CRLCrashAsyncSafeThread crash]',
             }
         ]))
-        assert stacktrace.get_culprit_string(platform='cocoa') == 'fooBar (baz.c)'
+        assert stacktrace.get_culprit_string(platform='cocoa') == '-[CRLCrashAsyncSafeThread crash]'
 
     def test_exclude_libswiftCore_from_in_app(self):
         stacktrace = Stacktrace.to_python(dict(frames=[
@@ -418,10 +418,10 @@ class StacktraceTest(TestCase):
                 'filename': 'Mycontroller.swift',
                 'package': '/foo/bar/MyApp',
                 'in_app': True,
-                'function': 'fooBar3',
+                'function': '-[CRLCrashAsyncSafeThread crash]',
             }
         ]))
-        assert stacktrace.get_culprit_string(platform='cocoa') == 'fooBar3 (Mycontroller.swift)'
+        assert stacktrace.get_culprit_string(platform='cocoa') == '-[CRLCrashAsyncSafeThread crash]'
 
     def test_get_hash_does_not_group_different_js_errors(self):
         interface = Stacktrace.to_python({
