commit a1a778cca78863f12be32230371cee8884e15e87
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 2 11:20:04 2012 -0800

    Update stream behavior for mysql

diff --git a/sentry/web/frontend/groups.py b/sentry/web/frontend/groups.py
index 8edb41228e..bf4a441b7b 100644
--- a/sentry/web/frontend/groups.py
+++ b/sentry/web/frontend/groups.py
@@ -52,6 +52,11 @@ SQLITE_SORT_CLAUSES.update({
     'date': 'last_seen',
     'new': 'first_seen',
 })
+MYSQL_SORT_CLAUSES = SORT_CLAUSES.copy()
+MYSQL_SORT_CLAUSES.update({
+    'date': 'UNIX_TIMESTAMP(last_seen)',
+    'new': 'UNIX_TIMESTAMP(first_seen)',
+})
 SEARCH_SORT_OPTIONS = (
     'score',
     'date',
@@ -115,9 +120,11 @@ def _get_group_list(request, project, view=None):
     if sort not in SORT_OPTIONS:
         sort = settings.DEFAULT_SORT_OPTION
 
-    sqlite = get_db_engine('default').startswith('sqlite')
-    if sqlite:
+    engine = get_db_engine('default')
+    if engine.startswith('sqlite'):
         sort_clause = SQLITE_SORT_CLAUSES.get(sort)
+    elif engine.startswith('mysql'):
+        sort_clause = MYSQL_SORT_CLAUSES.get(sort)
     else:
         sort_clause = SORT_CLAUSES.get(sort)
 
