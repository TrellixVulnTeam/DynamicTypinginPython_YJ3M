commit 0f0f7b8fb95b83a97289cc2fa3b9673da8bcdc5e
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Jan 30 10:30:46 2019 -0800

    fix(issues): Update links on group event page (#11757)

diff --git a/src/sentry/static/sentry/app/components/eventsTable/eventsTableRow.jsx b/src/sentry/static/sentry/app/components/eventsTable/eventsTableRow.jsx
index e85367d5f0..757c1c848f 100644
--- a/src/sentry/static/sentry/app/components/eventsTable/eventsTableRow.jsx
+++ b/src/sentry/static/sentry/app/components/eventsTable/eventsTableRow.jsx
@@ -2,20 +2,22 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import {Link} from 'react-router';
 
-import CustomPropTypes from 'app/sentryTypes';
+import SentryTypes from 'app/sentryTypes';
 import Avatar from 'app/components/avatar';
 import DateTime from 'app/components/dateTime';
 import DeviceName from 'app/components/deviceName';
 import FileSize from 'app/components/fileSize';
+import withOrganization from 'app/utils/withOrganization';
 
 class EventsTableRow extends React.Component {
   static propTypes = {
+    organization: SentryTypes.Organization.isRequired,
     hasUser: PropTypes.bool,
     orgId: PropTypes.string.isRequired,
     groupId: PropTypes.string.isRequired,
-    projectId: PropTypes.string.isRequired,
-    event: CustomPropTypes.Event.isRequired,
-    tagList: PropTypes.arrayOf(CustomPropTypes.Tag),
+    projectId: PropTypes.string,
+    event: SentryTypes.Event.isRequired,
+    tagList: PropTypes.arrayOf(SentryTypes.Tag),
   };
 
   getEventTitle = event => {
@@ -50,17 +52,30 @@ class EventsTableRow extends React.Component {
   }
 
   render() {
-    let {className, event, orgId, projectId, groupId, tagList, hasUser} = this.props;
+    let {
+      organization,
+      className,
+      event,
+      orgId,
+      projectId,
+      groupId,
+      tagList,
+      hasUser,
+    } = this.props;
     let tagMap = {};
     event.tags.forEach(tag => {
       tagMap[tag.key] = tag.value;
     });
 
+    const basePath = new Set(organization.features).has('sentry10')
+      ? `/organizations/${orgId}/issues/`
+      : `/${orgId}/${projectId}/issues/`;
+
     return (
       <tr key={event.id} className={className}>
         <td>
           <h5>
-            <Link to={`/${orgId}/${projectId}/issues/${groupId}/events/${event.id}/`}>
+            <Link to={`${basePath}${groupId}/events/${event.id}/`}>
               <DateTime date={event.dateCreated} />
             </Link>
             <small>{(this.getEventTitle(event) || '').substr(0, 100)}</small>
@@ -99,4 +114,5 @@ class EventsTableRow extends React.Component {
   }
 }
 
-export default EventsTableRow;
+export {EventsTableRow};
+export default withOrganization(EventsTableRow);
diff --git a/tests/js/spec/components/eventsTable/__snapshots__/eventsTable.spec.jsx.snap b/tests/js/spec/components/eventsTable/__snapshots__/eventsTable.spec.jsx.snap
index 140422b6ad..0187c239db 100644
--- a/tests/js/spec/components/eventsTable/__snapshots__/eventsTable.spec.jsx.snap
+++ b/tests/js/spec/components/eventsTable/__snapshots__/eventsTable.spec.jsx.snap
@@ -15,7 +15,7 @@ exports[`EventsTable renders 1`] = `
     </tr>
   </thead>
   <tbody>
-    <EventsTableRow
+    <WithOrganizationMockWrapper
       event={
         Object {
           "context": Object {
@@ -120,7 +120,7 @@ exports[`EventsTable renders 1`] = `
       projectId="projectId"
       tagList={Array []}
     />
-    <EventsTableRow
+    <WithOrganizationMockWrapper
       event={
         Object {
           "context": Object {
diff --git a/tests/js/spec/components/eventsTable/eventsTableRow.spec.jsx b/tests/js/spec/components/eventsTable/eventsTableRow.spec.jsx
index 667fcb2b9e..f082f20bce 100644
--- a/tests/js/spec/components/eventsTable/eventsTableRow.spec.jsx
+++ b/tests/js/spec/components/eventsTable/eventsTableRow.spec.jsx
@@ -1,22 +1,13 @@
 import React from 'react';
 import {shallow} from 'enzyme';
-import EventsTableRow from 'app/components/eventsTable/eventsTableRow';
+import {EventsTableRow} from 'app/components/eventsTable/eventsTableRow';
 import events from '../../../mocks/events';
 
 describe('EventsTableRow', function() {
-  let sandbox;
-
-  beforeEach(function() {
-    sandbox = sinon.sandbox.create();
-  });
-
-  afterEach(function() {
-    sandbox.restore();
-  });
-
   it('renders', function() {
     let wrapper = shallow(
       <EventsTableRow
+        organization={TestStubs.Organization()}
         tagList={[]}
         {...{orgId: 'orgId', projectId: 'projectId', groupId: 'groupId'}}
         event={events[0]}
