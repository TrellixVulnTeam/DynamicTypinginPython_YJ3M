commit 656b5487f55a1b6e491bcac724fb2473824bfc05
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Wed Apr 15 15:07:46 2020 -0700

    test(acceptance): Add error message if `yarn webpack` fails toâ€¦ (#18272)
    
    ...when running acceptance tests. Otherwise, you will get a obscure error from python when you fail to build frontend assets because yarn and/or webpack is missing.

diff --git a/tests/acceptance/conftest.py b/tests/acceptance/conftest.py
index cc086ac7ba..51a82eb7bc 100644
--- a/tests/acceptance/conftest.py
+++ b/tests/acceptance/conftest.py
@@ -56,11 +56,21 @@ def pytest_configure(config):
     """
     )
 
-    subprocess.call(
-        ["yarn", "webpack"],
-        env={
-            "NODE_ENV": "development",
-            "PATH": os.environ["PATH"],
-            "NODE_OPTIONS": "--max-old-space-size=4096",
-        },
-    )
+    try:
+        status = subprocess.call(
+            ["yarn", "--silent", "webpack"],
+            env={
+                "NODE_ENV": "development",
+                "PATH": os.environ["PATH"],
+                "NODE_OPTIONS": "--max-old-space-size=4096",
+            },
+        )
+
+        if status != 0:
+            raise Exception(
+                "Unable to run `webpack` -- make sure your development environment is setup correctly: https://docs.sentry.io/development/contribute/environment/#macos---nodejs"
+            )
+    except OSError:
+        raise Exception(
+            "Unable to run `yarn` -- make sure your development environment is setup correctly: https://docs.sentry.io/development/contribute/environment/#macos---nodejs"
+        )
