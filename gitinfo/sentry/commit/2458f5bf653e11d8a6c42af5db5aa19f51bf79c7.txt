commit 2458f5bf653e11d8a6c42af5db5aa19f51bf79c7
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Mar 4 14:01:46 2015 -0800

    Mark all errors as soft in fetch_url

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 1a59f0f703..fe94650bf8 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -55,6 +55,7 @@ ERR_HTTP_CODE = 'Received HTTP {status_code} response'
 ERR_NO_COLUMN = 'No column information available (cant expand sourcemap)'
 ERR_SOURCEMAP_UNPARSEABLE = 'Sourcemap was not parseable'
 ERR_TOO_MANY_REMOTE_SOURCES = 'Not fetching context due to too many remote sources'
+ERR_UNKNOWN_INTERNAL_ERROR = 'An unknown internal error occurred while attempting to fetch the source'
 
 UrlResult = namedtuple('UrlResult', ['url', 'headers', 'body'])
 
@@ -245,6 +246,12 @@ def fetch_url(url, project=None, release=None):
             raise CannotFetchSource(ERR_GENERIC_FETCH_FAILURE.format(
                 type=type(exc),
             ))
+        except Exception as exc:
+            cache.set(domain_key, 1, 300)
+            logger.exception(unicode(exc))
+            logger.warning('Disabling sources to %s for %ss', domain, 300,
+                           exc_info=True)
+            raise CannotFetchSource(ERR_UNKNOWN_INTERNAL_ERROR)
 
         if response.status_code != 200:
             cache.set(domain_key, 1, 300)
