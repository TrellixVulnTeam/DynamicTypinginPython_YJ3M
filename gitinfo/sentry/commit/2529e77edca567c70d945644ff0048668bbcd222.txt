commit 2529e77edca567c70d945644ff0048668bbcd222
Author: josh <josh@jrl.ninja>
Date:   Wed Dec 18 12:34:17 2019 -0800

    feat(django-1.10): enable model pickling compat take 2 (#16165)

diff --git a/src/sentry/runner/initializer.py b/src/sentry/runner/initializer.py
index b915ee3e87..d1810c2740 100644
--- a/src/sentry/runner/initializer.py
+++ b/src/sentry/runner/initializer.py
@@ -415,7 +415,14 @@ def __simple_class_factory_compat(model, attrs):
 
 
 def monkeypatch_model_unpickle():
-    pass
+    # https://code.djangoproject.com/ticket/27187
+    # Django 1.10 breaks pickle compat with 1.9 models.
+    django.db.models.base.model_unpickle = __model_unpickle_compat
+
+    # Django 1.10 needs this to unpickle 1.9 models, but we can't branch while
+    # monkeypatching else our monkeypatched funcs won't be pickleable.
+    # So just vendor simple_class_factory from 1.9.
+    django.db.models.base.simple_class_factory = __simple_class_factory_compat
 
 
 def monkeypatch_django_migrations():
