commit ffbb5e120c4061ac7826db01f2d8a3bbbd9837a0
Author: andy <andy@whiskeymedia.com>
Date:   Fri Sep 24 14:17:41 2010 -0700

    make the site column nullable

diff --git a/sentry/migrations/0007_auto__add_field_message_site.py b/sentry/migrations/0007_auto__add_field_message_site.py
index a3baccad23..3e2aed233f 100644
--- a/sentry/migrations/0007_auto__add_field_message_site.py
+++ b/sentry/migrations/0007_auto__add_field_message_site.py
@@ -9,7 +9,7 @@ class Migration(SchemaMigration):
     def forwards(self, orm):
         
         # Adding field 'Message.site'
-        db.add_column('sentry_message', 'site', self.gf('django.db.models.fields.CharField')(default='', max_length=128, db_index=True), keep_default=False)
+        db.add_column('sentry_message', 'site', self.gf('django.db.models.fields.CharField')(null=True, max_length=128, db_index=True), keep_default=False)
 
 
     def backwards(self, orm):
@@ -52,7 +52,7 @@ class Migration(SchemaMigration):
             'logger': ('django.db.models.fields.CharField', [], {'default': "'root'", 'max_length': '64', 'db_index': 'True', 'blank': 'True'}),
             'message': ('django.db.models.fields.TextField', [], {}),
             'server_name': ('django.db.models.fields.CharField', [], {'max_length': '128', 'db_index': 'True'}),
-            'site': ('django.db.models.fields.CharField', [], {'default': "''", 'max_length': '128', 'db_index': 'True'}),
+            'site': ('django.db.models.fields.CharField', [], {'null': 'True', 'max_length': '128', 'db_index': 'True'}),
             'traceback': ('django.db.models.fields.TextField', [], {'null': 'True', 'blank': 'True'}),
             'url': ('django.db.models.fields.URLField', [], {'max_length': '200', 'null': 'True', 'blank': 'True'}),
             'view': ('django.db.models.fields.CharField', [], {'max_length': '255', 'null': 'True', 'blank': 'True'})
diff --git a/sentry/models.py b/sentry/models.py
index 43c11e50b7..3f51c31300 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -223,7 +223,7 @@ class Message(MessageBase):
     data            = GzippedDictField(blank=True, null=True)
     url             = models.URLField(verify_exists=False, null=True, blank=True)
     server_name     = models.CharField(max_length=128, db_index=True)
-    site            = models.CharField(max_length=128, db_index=True, default='')
+    site            = models.CharField(max_length=128, db_index=True, null=True)
 
     class Meta:
         verbose_name = _('message')
