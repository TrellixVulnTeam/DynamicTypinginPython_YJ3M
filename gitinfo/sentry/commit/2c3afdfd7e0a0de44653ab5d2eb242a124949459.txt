commit 2c3afdfd7e0a0de44653ab5d2eb242a124949459
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed Jul 13 03:40:10 2016 +0500

    Fix in-app detection for iOS Simulator

diff --git a/src/sentry/lang/native/plugin.py b/src/sentry/lang/native/plugin.py
index 535084917d..617bbe02ad 100644
--- a/src/sentry/lang/native/plugin.py
+++ b/src/sentry/lang/native/plugin.py
@@ -24,6 +24,8 @@ APP_BUNDLE_PATHS = (
     '/var/containers/Bundle/Application/',
     '/private/var/containers/Bundle/Application/',
 )
+SIM_PATH = '/Developer/CoreSimulator/Devices/'
+SIM_APP_PATH = '/Containers/Bundle/Application/'
 
 NON_APP_FRAMEWORKS = (
     '/Frameworks/libswiftCore.dylib',
@@ -137,6 +139,8 @@ def is_in_app(frame, app_uuid=None):
     fn = frame.get('package') or ''
     if not fn.startswith(APP_BUNDLE_PATHS):
         return False
+    if not (SIM_PATH in fn and SIM_APP_PATH in fn):
+        return False
     if fn.endswith(NON_APP_FRAMEWORKS):
         return False
     return True
