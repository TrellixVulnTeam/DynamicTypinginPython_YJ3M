commit 6e8d5b535458a5e546520a1fa6c0bf96cc1c3120
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Mar 1 15:42:41 2018 -0800

    test: Mock api client always uses the last added mock response
    
    Delete duplicate response in account notification spec

diff --git a/src/sentry/static/sentry/app/__mocks__/api.jsx b/src/sentry/static/sentry/app/__mocks__/api.jsx
index 349875e8fa..9d8fd3e62f 100644
--- a/src/sentry/static/sentry/app/__mocks__/api.jsx
+++ b/src/sentry/static/sentry/app/__mocks__/api.jsx
@@ -22,7 +22,7 @@ class Client {
   // Returns a jest mock that represents Client.request calls
   static addMockResponse(response) {
     let mock = jest.fn();
-    Client.mockResponses.push([
+    Client.mockResponses.unshift([
       {
         statusCode: 200,
         body: '',
diff --git a/tests/js/spec/views/accountNotifications.spec.jsx b/tests/js/spec/views/accountNotifications.spec.jsx
index e647c866aa..bd9b23c3a9 100644
--- a/tests/js/spec/views/accountNotifications.spec.jsx
+++ b/tests/js/spec/views/accountNotifications.spec.jsx
@@ -7,7 +7,6 @@ describe('AccountNotifications', function() {
   let url = '/users/me/notifications/';
 
   beforeEach(function() {
-    MockApiClient.clearMockResponses();
     MockApiClient.addMockResponse({
       url,
       method: 'GET',
@@ -20,15 +19,10 @@ describe('AccountNotifications', function() {
         subscribeByDefault: true,
       },
     });
+  });
 
-    MockApiClient.addMockResponse({
-      url,
-      method: 'GET',
-      body: {
-        webhookUrl: 'webhook-url',
-        token: 'token token token',
-      },
-    });
+  afterEach(function() {
+    MockApiClient.clearMockResponses();
   });
 
   it('renders with values from API', function() {
