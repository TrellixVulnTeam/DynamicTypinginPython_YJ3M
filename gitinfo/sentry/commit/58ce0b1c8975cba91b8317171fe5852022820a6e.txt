commit 58ce0b1c8975cba91b8317171fe5852022820a6e
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Apr 19 19:50:22 2014 -0700

    Dont snap in plugin responses if they're empty

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index d6a0dbbe49..9236795197 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -308,6 +308,7 @@ class StoreView(APIView):
     def process(self, request, project, auth, data, **kwargs):
         event_received.send_robust(ip=request.META['REMOTE_ADDR'], sender=type(self))
 
+        # TODO: improve this API (e.g. make RateLimit act on __ne__)
         rate_limit = safe_execute(app.quotas.is_rate_limited, project=project)
         if isinstance(rate_limit, bool):
             rate_limit = RateLimit(is_limited=rate_limit, retry_after=None)
@@ -315,6 +316,9 @@ class StoreView(APIView):
         rate_limits = [rate_limit]
         for plugin in plugins.all():
             rate_limit = safe_execute(plugin.is_rate_limited, project=project)
+            if rate_limit is None:
+                continue
+
             # We must handle the case of plugins not returning new RateLimit objects
             if isinstance(rate_limit, bool):
                 rate_limit = RateLimit(is_limited=rate_limit, retry_after=None)
