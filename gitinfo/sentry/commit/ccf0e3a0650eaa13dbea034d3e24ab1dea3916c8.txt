commit ccf0e3a0650eaa13dbea034d3e24ab1dea3916c8
Author: Andrew Rowls <andrew@eternicode.com>
Date:   Tue Feb 26 12:12:06 2013 -0500

    Update usage of ExpressionNode to be compatible with Django 1.5 changes

diff --git a/src/sentry/utils/db.py b/src/sentry/utils/db.py
index 35e68b9c3a..d2eee3e5fa 100644
--- a/src/sentry/utils/db.py
+++ b/src/sentry/utils/db.py
@@ -42,9 +42,15 @@ EXPRESSION_NODE_CALLBACKS = {
     ExpressionNode.MUL: operator.mul,
     ExpressionNode.DIV: operator.div,
     ExpressionNode.MOD: operator.mod,
-    ExpressionNode.AND: operator.and_,
-    ExpressionNode.OR: operator.or_,
 }
+try:
+    EXPRESSION_NODE_CALLBACKS[ExpressionNode.AND] = operator.and_
+except AttributeError:
+    EXPRESSION_NODE_CALLBACKS[ExpressionNode.BITAND] = operator.and_
+try:
+    EXPRESSION_NODE_CALLBACKS[ExpressionNode.OR] = operator.or_
+except AttributeError:
+    EXPRESSION_NODE_CALLBACKS[ExpressionNode.BITOR] = operator.or_
 
 
 class CannotResolve(Exception):
