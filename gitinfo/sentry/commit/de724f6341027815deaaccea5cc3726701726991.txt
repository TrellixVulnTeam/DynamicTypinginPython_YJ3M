commit de724f6341027815deaaccea5cc3726701726991
Author: Jess MacQueen <jess@getsentry.com>
Date:   Mon Aug 22 13:47:09 2016 -0700

    fix rest_framework.response.Response object is not JSON serializable

diff --git a/src/sentry/plugins/bases/issue2.py b/src/sentry/plugins/bases/issue2.py
index 1e8a9da20b..156a6d2f01 100644
--- a/src/sentry/plugins/bases/issue2.py
+++ b/src/sentry/plugins/bases/issue2.py
@@ -208,7 +208,13 @@ class IssueTrackingPlugin2(Plugin):
 
         event = group.get_latest_event()
         Event.objects.bind_nodes([event], 'data')
-        fields = self.get_new_issue_fields(request, group, event, **kwargs)
+        try:
+            fields = self.get_new_issue_fields(request, group, event, **kwargs)
+        except PluginError as e:
+            return Response({
+                'error_type': 'validation',
+                'errors': {'__all__': e.message}
+            }, status=400)
         if request.method == 'GET':
             return Response(fields)
 
@@ -228,7 +234,7 @@ class IssueTrackingPlugin2(Plugin):
         except PluginError as e:
             return Response({
                 'error_type': 'validation',
-                'errors': [{'__all__': e.message}]
+                'errors': {'__all__': e.message}
             }, status=400)
         GroupMeta.objects.set_value(group, '%s:tid' % self.get_conf_key(), issue_id)
 
@@ -283,7 +289,7 @@ class IssueTrackingPlugin2(Plugin):
         except PluginError as e:
             return Response({
                 'error_type': 'validation',
-                'errors': [{'__all__': e.message}]
+                'errors': {'__all__': e.message}
             }, status=400)
 
         issue_id = int(request.DATA['issue_id'])
