commit 2836c8e850ca6325405cbd75995091192947023e
Author: Krzysztof Jagiello <balonyo@gmail.com>
Date:   Sun Sep 5 20:33:56 2010 +0200

    CSS fixes for webkit, added gradients and box-shadows for webkit, fixed graph size

diff --git a/sentry/filters/__init__.py b/sentry/filters/__init__.py
index b3136d1d65..be940717b2 100644
--- a/sentry/filters/__init__.py
+++ b/sentry/filters/__init__.py
@@ -14,7 +14,7 @@ class Widget(object):
 
 class TextWidget(Widget):
     def render(self, value):
-        return mark_safe('<div id="search"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s"/></p><p class="submit"><input type="image" class="search-submit"/></p></div>' % dict(
+        return mark_safe('<div id="search"><p class="textfield"><input type="text" name="%(name)s" value="%(value)s"/></p><p class="submit"><input type="submit" class="search-submit"/></p></div>' % dict(
             name=self.filter.get_query_param(),
             value=value,
         ))
diff --git a/sentry/media/styles/global.css b/sentry/media/styles/global.css
index 465ba4c6e5..520e7d17de 100644
--- a/sentry/media/styles/global.css
+++ b/sentry/media/styles/global.css
@@ -30,6 +30,7 @@ tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
 a { color: #333; }
 a:visited { color: inherit; }
 ul { margin: 1em 0 1em 2em; }
+input { border: 0px; }
 #header {
     position: relative;
 	background: #e0ebff; border-bottom:1px solid #ddd;
@@ -130,13 +131,13 @@ ul { margin: 1em 0 1em 2em; }
     -webkit-border-radius: 10px;
     -moz-box-shadow: inset 0 1px 1px rgba(0,0,0, .25), 0 1px 0 #fff;
     -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0, .25), 0 1px 0 #fff;
-    margin: 0 0 20px;
 }
 
 #sidebar .chart { margin-bottom: 1em; }
 
 /* tracebacks */
 table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
+table.req { width: 1032px; }
 tbody td, tbody th { vertical-align:top; padding:2px 3px; }
 thead th { padding:1px 6px 1px 3px; background:#fefefe; text-align:left; font-weight:normal; font-size:11px; border:1px solid #ddd; }
 tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
@@ -159,7 +160,7 @@ div.commands a { color:black; text-decoration:none; }
 #template-not-exist ul { margin: 0 0 0 20px; }
 #unicode-hint { background:#eee; }
 #traceback { background:#eee; padding: 10px; }
-#requestinfo { background:#f6f6f6; padding-left:120px; margin-top: 1em; }
+#requestinfo { background:#f6f6f6; padding: 10px; padding-left:120px; margin-top: 1em; }
 #summary { background: #ffc; padding: 10px; }
 #summary h2 { font-weight: normal; color: #666; }
 #explanation { background:#eee; }
@@ -187,6 +188,7 @@ pre.exception_value { font-family: sans-serif; color: #666; font-size: 1.5em; ma
     display: block; padding: 10px; text-decoration: none; 
     border-bottom: 1px solid rgba(0,0,0, .05);
     -moz-box-shadow: 0 1px 0 rgba(255,255,255, .3);
+     -webkit-box-shadow: 0 1px 0 rgba(255,255,255, .3);
     font-weight: bold;
     color: #666;
     }
@@ -207,6 +209,7 @@ pre.exception_value { font-family: sans-serif; color: #666; font-size: 1.5em; ma
     border-top: 1px solid rgba(0,0,0, .2); 
     border-bottom: 1px solid rgba(0,0,0, .2);
     -moz-box-shadow: inset 0 0 1px #22579b, 0 1px 0 #fff;
+    -webkit-box-shadow: inset 0 0 1px #22579b, 0 1px 0 #fff;
     filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4da2e5', endColorstr='#3079d0'); /* for IE */
 	background: -webkit-gradient(linear, left top, left bottom, from(#4da2e5), to(#3079d0)); /* for webkit browsers */
 	background: -moz-linear-gradient(top,  #4da2e5,  #3079d0); /* for firefox 3.6+ */
@@ -302,7 +305,7 @@ dl.flat dd {
 .button {
     display: inline-block;
 	color: #888;
-	padding: 8px 8px 6px 8px;
+	padding: 7px 8px 7px 8px;
     font-size: 12px;
     line-height: 12px;
     border:1px solid #C5C5C5;
@@ -330,19 +333,23 @@ dl.flat dd {
 	-moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);
 	box-shadow: 0 1px 2px rgba(0,0,0,.2);
 	background:-moz-linear-gradient(center top , #ED1C24, #AA1317) repeat scroll 0 0 transparent;
+	background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#ED1C24), to(#AA1317));
 }
 .priority-high .count {
 	background: #ff5400;
 	background:-moz-linear-gradient(center top , #F16C7C, #BF404F) repeat scroll 0 0 transparent;
+	background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#F16C7C), to(#BF404F));
 }
 .priority-medium .count {
 	background: #ff7800;
 	background:-moz-linear-gradient(center top , #FAA51A, #F47A20) repeat scroll 0 0 transparent;
+	background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#FAA51A), to(#F47A20));
 }
 .priority-low .count,
 .priority-verylow .count {
 	background: #ffb400;
 	background:-moz-linear-gradient(center top , #efd57c, #e0ae00) repeat scroll 0 0 transparent;
+	background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#efd57c), to(#e0ae00));
 }
 .messages .last_seen { color: #bbb; font-size: 0.9em; margin-left: 5px; }
 .messages .status { margin-left: 5px; text-transform: uppercase; font-size: 0.9em; }
diff --git a/sentry/views.py b/sentry/views.py
index cefc602273..cffd7e0508 100644
--- a/sentry/views.py
+++ b/sentry/views.py
@@ -244,7 +244,7 @@ def group(request, group_id):
         else:
             max_y = 1
 
-        chart = SimpleLineChart(384, 80, y_range=[0, max_y])
+        chart = SimpleLineChart(300, 80, y_range=[0, max_y])
         chart.add_data([max_y]*30)
         chart.add_data([rows.get((today-datetime.timedelta(hours=d)).hour, 0) for d in range(0, 24)][::-1])
         chart.add_data([0]*30)
