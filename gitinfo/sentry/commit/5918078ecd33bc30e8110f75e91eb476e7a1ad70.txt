commit 5918078ecd33bc30e8110f75e91eb476e7a1ad70
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 20 08:00:01 2014 +0800

    Move user-specific logic check into mail plugin

diff --git a/src/sentry/plugins/bases/notify.py b/src/sentry/plugins/bases/notify.py
index b2aefec898..b69dc46e13 100644
--- a/src/sentry/plugins/bases/notify.py
+++ b/src/sentry/plugins/bases/notify.py
@@ -92,9 +92,6 @@ class NotificationPlugin(Plugin):
             return False
 
         project = group.project
-        send_to = self.get_sendable_users(project)
-        if not send_to:
-            return False
 
         rate_limited = ratelimiter.is_limited(
             project=project,
diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 9d567fe381..b824a058cf 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -98,6 +98,13 @@ class MailPlugin(NotificationPlugin):
             context=context,
         )
 
+    def should_notify(self, group, event):
+        send_to = self.get_sendable_users(group.project)
+        if not send_to:
+            return False
+
+        return super(MailPlugin, self).should_notify(group, event)
+
     def get_send_to(self, project=None):
         """
         Returns a list of email addresses for the users that should be notified of alerts.
