commit 9c7ee5eb54cf4d395a3362a2dcb534d659b9763f
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Oct 29 11:27:28 2019 -0700

    fix(ts): Fix types with `<RuleRow>` and `app/utils/environmentâ€¦ (#15316)
    
    This fixes some type issues between these two components that were introduced in #15306 and #15307
    
    Also fix vertical align of edit/trash buttons

diff --git a/src/sentry/static/sentry/app/types/alerts.tsx b/src/sentry/static/sentry/app/types/alerts.tsx
index 46419e25be..20b20004e7 100644
--- a/src/sentry/static/sentry/app/types/alerts.tsx
+++ b/src/sentry/static/sentry/app/types/alerts.tsx
@@ -1,5 +1,3 @@
-import {Environment} from '.';
-
 export type IssueAlertRuleAction = {
   id: string;
   name: string;
@@ -16,7 +14,7 @@ export type IssueAlertRule = {
   actions: IssueAlertRuleAction[];
   conditions: IssueAlertRuleCondition[];
   dateCreated: string;
-  environment: null | Environment;
+  environment: null | string;
   frequency: number;
   id: string;
   name: string;
diff --git a/src/sentry/static/sentry/app/utils/environment.tsx b/src/sentry/static/sentry/app/utils/environment.tsx
index 711062938c..bab0b5aa80 100644
--- a/src/sentry/static/sentry/app/utils/environment.tsx
+++ b/src/sentry/static/sentry/app/utils/environment.tsx
@@ -4,10 +4,10 @@ import {toTitleCase} from 'app/utils';
 const DEFAULT_EMPTY_ROUTING_NAME = 'none';
 const DEFAULT_EMPTY_ENV_NAME = '(No Environment)';
 
-export function getUrlRoutingName(env: Environment) {
+export function getUrlRoutingName(env: Omit<Environment, 'id'>) {
   return encodeURIComponent(env.name) || DEFAULT_EMPTY_ROUTING_NAME;
 }
 
-export function getDisplayName(env: Environment) {
+export function getDisplayName(env: Omit<Environment, 'id'>) {
   return toTitleCase(env.name) || DEFAULT_EMPTY_ENV_NAME;
 }
diff --git a/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleRow.tsx b/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleRow.tsx
index 7dd4ad99e2..7b08da7033 100644
--- a/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleRow.tsx
+++ b/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleRow.tsx
@@ -1,5 +1,4 @@
 import {Link} from 'react-router';
-import {Location} from 'history';
 import {Params} from 'react-router/lib/Router';
 import {PlainRoute} from 'react-router/lib/Route';
 import PropTypes from 'prop-types';
@@ -7,6 +6,8 @@ import React from 'react';
 import styled from 'react-emotion';
 
 import {Client} from 'app/api';
+import {IssueAlertRule} from 'app/types/alerts';
+import {Location} from 'history';
 import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
 import {
   addSuccessMessage,
@@ -21,8 +22,7 @@ import Confirm from 'app/components/confirm';
 import Duration from 'app/components/duration';
 import Tooltip from 'app/components/tooltip';
 import recreateRoute from 'app/utils/recreateRoute';
-
-import {IssueAlertRule} from 'app/types/alerts';
+import space from 'app/styles/space';
 
 type Props = {
   api: Client;
@@ -99,14 +99,13 @@ class RuleRow extends React.Component<Props, State> {
             {data.name} - {environmentName}
           </TextColorLink>
 
-          <div>
+          <Actions>
             <Tooltip
               disabled={canEdit}
               title={t('You do not have permission to edit alert rules.')}
             >
               <Button
                 data-test-id="edit-rule"
-                style={{marginRight: 5}}
                 disabled={!canEdit}
                 size="xsmall"
                 to={editLink}
@@ -127,7 +126,7 @@ class RuleRow extends React.Component<Props, State> {
                 <Button size="xsmall" icon="icon-trash" />
               </Confirm>
             </Tooltip>
-          </div>
+          </Actions>
         </PanelHeader>
 
         <PanelBody>
@@ -203,3 +202,10 @@ const Condition = styled('div')`
   justify-content: space-between;
   height: 100%;
 `;
+
+const Actions = styled('div')`
+  display: grid;
+  grid-auto-flow: column;
+  grid-gap: ${space(1)};
+  align-items: center;
+`;
