commit fb9df302e5a141c772896b6278032cbc97a97632
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jul 5 12:48:43 2016 -0700

    Wrap rule deletions in transaction

diff --git a/src/sentry/south_migrations/0263_remove_default_regression_rule.py b/src/sentry/south_migrations/0263_remove_default_regression_rule.py
index ea196953e2..d5f17c32e8 100644
--- a/src/sentry/south_migrations/0263_remove_default_regression_rule.py
+++ b/src/sentry/south_migrations/0263_remove_default_regression_rule.py
@@ -2,7 +2,7 @@
 from south.utils import datetime_utils as datetime
 from south.db import db
 from south.v2 import DataMigration
-from django.db import models
+from django.db import models, transaction
 
 class Migration(DataMigration):
 
@@ -27,7 +27,8 @@ class Migration(DataMigration):
                 continue
             if row.data != rule_data:
                 continue
-            row.delete()
+            with transaction.atomic():
+                row.delete()
 
     def backwards(self, orm):
         pass
