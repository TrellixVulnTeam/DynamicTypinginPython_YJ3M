commit 984107cc53858155daabb699aa1d8939ccf3f742
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Nov 19 04:46:34 2012 -0800

    Correct blatantly obvious bug in cleanup script removing FilterValues for blanket keys

diff --git a/src/sentry/tasks/cleanup.py b/src/sentry/tasks/cleanup.py
index 58eaa90872..79d7a533aa 100644
--- a/src/sentry/tasks/cleanup.py
+++ b/src/sentry/tasks/cleanup.py
@@ -139,7 +139,7 @@ def cleanup(days=30, logger=None, site=None, server=None, level=None,
     for obj in RangeQuerySetWrapper(qs):
         if not mqs.filter(key=obj.key, value=obj.value).exists():
             log.info("Removing filters for unused filter %s=%s", obj.key, obj.value)
-            qs.filter(key=obj.key).delete()
+            qs.filter(key=obj.key, value=obj.value).delete()
             obj.delete()
 
     # attempt to cleanup any groups that may now be empty
