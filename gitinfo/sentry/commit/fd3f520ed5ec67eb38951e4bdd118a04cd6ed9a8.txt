commit fd3f520ed5ec67eb38951e4bdd118a04cd6ed9a8
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Mar 31 00:38:12 2013 -0700

    Encode url for cache key

diff --git a/src/sentry/tasks/fetch_source.py b/src/sentry/tasks/fetch_source.py
index ea18ab8856..e7d167d04d 100644
--- a/src/sentry/tasks/fetch_source.py
+++ b/src/sentry/tasks/fetch_source.py
@@ -101,7 +101,8 @@ def fetch_url(url, logger=None):
     """
     import sentry
 
-    cache_key = 'fetch_url:v2:%s' % (hashlib.md5(url).hexdigest(),)
+    cache_key = 'fetch_url:v2:%s' % (
+        hashlib.md5(url.encode('utf-8')).hexdigest(),)
     result = cache.get(cache_key)
     if result is not None:
         return UrlResult(*result)
