commit aba7b68450557129a2817561e9f255ddc790d3f6
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 13 11:22:54 2010 -0800

    Pass url and body to logger as sentry.errors currently does not go to Sentry

diff --git a/sentry/client/base.py b/sentry/client/base.py
index 0c6d07c986..30f8f16aa1 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -62,12 +62,12 @@ class SentryClient(object):
                     urlread(url, post=data, timeout=conf.REMOTE_TIMEOUT)
                 except urllib2.HTTPError, e:
                     body = e.read()
-                    logger.error('Unable to reach Sentry log server: %s' % (e,), exc_info=sys.exc_info(),
-                                 extra={'data':{'body': body, 'remote_url': url}})
+                    logger.error('Unable to reach Sentry log server: %s (url: %%s, body: %%s)' % (e,), url, body,
+                                 exc_info=sys.exc_info(), extra={'data':{'body': body, 'remote_url': url}})
                     logger.log(kwargs.pop('level', None) or logging.ERROR, kwargs.pop('message', None))
                 except urllib2.URLError, e:
-                    logger.error('Unable to reach Sentry log server: %s' % (e,), exc_info=sys.exc_info(),
-                                 extra={'data':{'remote_url': url}})
+                    logger.error('Unable to reach Sentry log server: %s (url: %%s)' % (e,), url,
+                                 exc_info=sys.exc_info(), extra={'data':{'remote_url': url}})
                     logger.log(kwargs.pop('level', None) or logging.ERROR, kwargs.pop('message', None))
         else:
             from sentry.models import GroupedMessage
