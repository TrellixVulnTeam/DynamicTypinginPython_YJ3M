commit c63dc939a03af077a49c3db7f417a63223336f03
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed May 18 14:27:27 2016 +0200

    Prefer URL over cookies as intended for 2fa selection.

diff --git a/src/sentry/web/frontend/twofactor.py b/src/sentry/web/frontend/twofactor.py
index afbe4925dd..46950e513e 100644
--- a/src/sentry/web/frontend/twofactor.py
+++ b/src/sentry/web/frontend/twofactor.py
@@ -38,14 +38,6 @@ class TwoFactorAuthView(BaseView):
         if len(interfaces) == 1:
             return interfaces[0]
 
-        # In case an interface was remembered in a cookie, go with that
-        # one first.
-        interface_type = request.COOKIES.get('s2fai')
-        if interface_type:
-            for interface in interfaces:
-                if str(interface.type) == interface_type:
-                    return interface
-
         # Next option is to go with the interface that was selected in the
         # URL.
         interface_id = request.GET.get('interface')
@@ -54,6 +46,14 @@ class TwoFactorAuthView(BaseView):
                 if interface.interface_id == interface_id:
                     return interface
 
+        # Fallback case an interface was remembered in a cookie, go with that
+        # one first.
+        interface_type = request.COOKIES.get('s2fai')
+        if interface_type:
+            for interface in interfaces:
+                if str(interface.type) == interface_type:
+                    return interface
+
         # Fallback is to go the highest ranked as default.  This will be
         # the most common path for first time users.
         return interfaces[0]
