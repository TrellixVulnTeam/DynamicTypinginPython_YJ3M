commit 96ea647ec37e6f00728fc24def2a5111bcdce992
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Oct 18 22:42:21 2012 -0700

    Correct transformer registration

diff --git a/src/sentry/utils/javascript.py b/src/sentry/utils/javascript.py
index 5c0cb812ef..6253e63105 100644
--- a/src/sentry/utils/javascript.py
+++ b/src/sentry/utils/javascript.py
@@ -34,20 +34,23 @@ def to_json(obj, request=None):
 
 
 def register(type):
-    def wrapped(func):
-        transformers[type()] = func
-        return func
+    def wrapped(cls):
+        transformers[type] = cls()
+        return cls
     return wrapped
 
 
 class Transformer(object):
-    def transform(obj, request=None):
+    def __call__(self, obj, request=None):
+        return self.transform(obj, request)
+
+    def transform(self, obj, request=None):
         return {}
 
 
 @register(Group)
 class GroupTransformer(Transformer):
-    def transform(obj, request=None):
+    def transform(self, obj, request=None):
         d = {
             'id': str(obj.id),
             'count': str(obj.times_seen),
