commit d6327f8928a6c96a4eae8f25f0ca736481a34728
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue May 8 14:44:47 2018 -0700

    fix(environments): Fix environment name formatting (#8345)
    
    Do not show the formatted environment display name
    
    Fixes APP-186

diff --git a/src/sentry/static/sentry/app/views/projectEnvironments.jsx b/src/sentry/static/sentry/app/views/projectEnvironments.jsx
index a812241dad..3a29bf33d3 100644
--- a/src/sentry/static/sentry/app/views/projectEnvironments.jsx
+++ b/src/sentry/static/sentry/app/views/projectEnvironments.jsx
@@ -225,7 +225,7 @@ const ProjectEnvironments = createReactClass({
           displayName: t('All Environments'),
           name: ALL_ENVIRONMENTS_KEY,
         }}
-        hideName
+        isSystemRow
         isDefault={isAllEnvironmentsDefault}
         shouldShowSetDefault={!isAllEnvironmentsDefault && !!project}
         onSetAsDefault={this.handleSetAsDefault}
@@ -269,7 +269,7 @@ const ProjectEnvironments = createReactClass({
           ),
           name: project.defaultEnvironment,
         }}
-        hideName
+        isSystemRow
         isDefault
         shouldShowSetDefault={false}
         onSetAsDefault={this.handleSetAsDefault}
@@ -362,7 +362,7 @@ class EnvironmentRow extends React.Component {
     environment: SentryTypes.Environment,
     isDefault: PropTypes.bool,
     isHidden: PropTypes.bool,
-    hideName: PropTypes.bool,
+    isSystemRow: PropTypes.bool,
     shouldShowSetDefault: PropTypes.bool,
     shouldShowAction: PropTypes.bool,
     actionText: PropTypes.string,
@@ -375,7 +375,7 @@ class EnvironmentRow extends React.Component {
       environment,
       shouldShowSetDefault,
       shouldShowAction,
-      hideName,
+      isSystemRow,
       isDefault,
       isHidden,
       actionText,
@@ -384,8 +384,7 @@ class EnvironmentRow extends React.Component {
     return (
       <PanelItem align="center" justify="space-between">
         <Flex align="center">
-          {environment.displayName}{' '}
-          {!hideName && environment.name && <code>{environment.name}</code>}
+          {isSystemRow ? environment.displayName : environment.name}
           {isDefault && <Tag priority="success">{t('Default')}</Tag>}
         </Flex>
         <div>
diff --git a/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
index 94bed84463..02e6ddd0ae 100644
--- a/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectEnvironments.spec.jsx.snap
@@ -426,8 +426,8 @@ exports[`ProjectEnvironments render active renders environment list and sets sta
                     "name": "__all_environments__",
                   }
                 }
-                hideName={true}
                 isDefault={false}
+                isSystemRow={true}
                 name="__all_environments__"
                 onSetAsDefault={[Function]}
                 shouldShowSetDefault={true}
@@ -464,7 +464,6 @@ exports[`ProjectEnvironments render active renders environment list and sets sta
                               is={null}
                             >
                               All Environments
-                               
                             </div>
                           </Base>
                         </Flex>
@@ -592,11 +591,7 @@ exports[`ProjectEnvironments render active renders environment list and sets sta
                               className="css-5ipae5"
                               is={null}
                             >
-                              Production
-                               
-                              <code>
-                                production
-                              </code>
+                              production
                             </div>
                           </Base>
                         </Flex>
@@ -791,11 +786,7 @@ exports[`ProjectEnvironments render active renders environment list and sets sta
                               className="css-5ipae5"
                               is={null}
                             >
-                              Staging
-                               
-                              <code>
-                                staging
-                              </code>
+                              staging
                               <Tag
                                 priority="success"
                               >
@@ -1363,11 +1354,7 @@ exports[`ProjectEnvironments render hidden renders environment list 1`] = `
                               className="css-5ipae5"
                               is={null}
                             >
-                              Zzz
-                               
-                              <code>
-                                zzz
-                              </code>
+                              zzz
                             </div>
                           </Base>
                         </Flex>
