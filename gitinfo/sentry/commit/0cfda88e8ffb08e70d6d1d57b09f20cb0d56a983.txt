commit 0cfda88e8ffb08e70d6d1d57b09f20cb0d56a983
Author: ckj <chriskjennings@gmail.com>
Date:   Wed Apr 5 09:50:05 2017 -0700

    Hide hovercard header when there is no commit data

diff --git a/src/sentry/static/sentry/app/components/versionHoverCard.jsx b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
index f2c39560a3..11bd07d35f 100644
--- a/src/sentry/static/sentry/app/components/versionHoverCard.jsx
+++ b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
@@ -85,7 +85,7 @@ const VersionHoverCard = React.createClass({
   renderRepoLink() {
     let {orgId} = this.props;
     return (
-      <div className="version-hovercard blankslate m-a-0 p-x-2 p-t-1 p-b-2 align-center">
+      <div className="version-hovercard blankslate m-a-0 p-x-1 p-y-1 align-center">
         <h5>Releases are better with commit data!</h5>
         <p>Connect a repository to see commit info, files changed, and authors involved in future releases.</p>
         <a className="btn btn-primary"
@@ -116,70 +116,72 @@ const VersionHoverCard = React.createClass({
 
   renderBody() {
     let {release} = this.state;
+    let {version} = this.props;
+
     let lastCommit = release.lastCommit;
     let commitAuthor = lastCommit && lastCommit.author;
+    let shortVersion = getShortVersion(version);
 
     return (
-      <div className="hovercard-body">
-        {this.state.loading ? <LoadingIndicator mini={true}/> :
-          (this.state.error ? <LoadingError /> :
-            <div>
-            <div className="row row-flex">
-              <div className="col-xs-4">
-                <h6>New Issues</h6>
-                <div className="count">{release.newGroups}</div>
-              </div>
-              <div className="col-xs-8">
-                <h6>{release.commitCount} {release.commitCount !== 1 ? t('commits ') : t('commit ')} {t('by ')} {release.authors.length} {release.authors.length !== 1 ? t('authors') : t('author')} </h6>
-                <div className="avatar-grid">
-                  {release.authors.map(author => {
-                    return (
-                      <span className="avatar-grid-item tip"
-                           title={author.name + ' ' + author.email}>
-                        <Avatar user={author}/>
-                      </span>
-                    );
-                  })}
-                </div>
-              </div>
-            </div>
-            {lastCommit &&
+      <div>
+        <div className="hovercard-header">
+          <span>Release {shortVersion}</span>
+        </div>
+        <div className="hovercard-body">
+          {this.state.loading ? <LoadingIndicator mini={true}/> :
+            (this.state.error ? <LoadingError /> :
               <div>
-                <h6 className="commit-heading">Last commit</h6>
-                <div className="commit">
-                  <div className="commit-avatar">
-                    <Avatar user={commitAuthor || {'username': '?'}}/>
-                  </div>
-                  <div className="commit-message">
-                    {this.renderMessage(lastCommit.message)}
-                  </div>
-                  <div className="commit-meta">
-                    <strong>{(commitAuthor && commitAuthor.name) || t('Unknown Author')}</strong>&nbsp;
-                    <TimeSince date={lastCommit.dateCreated} />
+              <div className="row row-flex">
+                <div className="col-xs-4">
+                  <h6>New Issues</h6>
+                  <div className="count">{release.newGroups}</div>
+                </div>
+                <div className="col-xs-8">
+                  <h6>{release.commitCount} {release.commitCount !== 1 ? t('commits ') : t('commit ')} {t('by ')} {release.authors.length} {release.authors.length !== 1 ? t('authors') : t('author')} </h6>
+                  <div className="avatar-grid">
+                    {release.authors.map(author => {
+                      return (
+                        <span className="avatar-grid-item tip"
+                             title={author.name + ' ' + author.email}>
+                          <Avatar user={author}/>
+                        </span>
+                      );
+                    })}
                   </div>
                 </div>
-              </div>}
-          </div>
-          )
-        }
-      </div>
+              </div>
+              {lastCommit &&
+                <div>
+                  <h6 className="commit-heading">Last commit</h6>
+                  <div className="commit">
+                    <div className="commit-avatar">
+                      <Avatar user={commitAuthor || {'username': '?'}}/>
+                    </div>
+                    <div className="commit-message">
+                      {this.renderMessage(lastCommit.message)}
+                    </div>
+                    <div className="commit-meta">
+                      <strong>{(commitAuthor && commitAuthor.name) || t('Unknown Author')}</strong>&nbsp;
+                      <TimeSince date={lastCommit.dateCreated} />
+                    </div>
+                  </div>
+                </div>}
+            </div>
+            )
+          }
+        </div>
+    </div>
     );
   },
 
   render() {
-    let {version} = this.props;
-    let shortVersion = getShortVersion(version);
     let {visible} = this.state;
-
     return (
       <span onMouseEnter={this.toggleHovercard} onMouseLeave={this.toggleHovercard}>
         {this.props.children}
         {visible &&
           <div className="hovercard" >
             <div className="hovercard-hoverlap" />
-            <div className="hovercard-header">
-              <span>Release {shortVersion}</span>
-            </div>
             {this.state.hasRepos ? this.renderBody() : this.renderRepoLink()}
           </div>
         }
diff --git a/src/sentry/static/sentry/less/sentry-hovercard.less b/src/sentry/static/sentry/less/sentry-hovercard.less
index f865214f8d..0f999bc8fa 100644
--- a/src/sentry/static/sentry/less/sentry-hovercard.less
+++ b/src/sentry/static/sentry/less/sentry-hovercard.less
@@ -76,6 +76,11 @@
     margin-bottom: 4px !important;
   }
 
+  p {
+    line-height: 1.4;
+    margin-bottom: 15px;
+  }
+
   .count {
     color: @80;
     font-size: 24px;
