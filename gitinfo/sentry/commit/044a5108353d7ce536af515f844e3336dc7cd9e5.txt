commit 044a5108353d7ce536af515f844e3336dc7cd9e5
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Jul 17 17:04:42 2018 -0700

    fix(discover): Fix condition validation to support tags (#9082)
    
    Since we're using the proper column name for tags now, e.g. `tag[foo]` vs
    `foo`, we need to update the condition validation to allow square
    brackets.

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
index 774a5fcfb7..04725e2b48 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/conditions/utils.jsx
@@ -73,7 +73,8 @@ export function getExternal(internal, columns) {
 
   // Validate value and convert to correct type
   if (external[0] && external[1] && !specialConditions.has(external[1])) {
-    const valuesMatch = internal.match(/^[a-zA-Z0-9_\.:-]+ [^\s]+ (.*)$/);
+    const valuesMatch = internal.match(/^[a-zA-Z0-9_\.:-\[\]]+ [^\s]+ (.*)$/);
+
     external[2] = valuesMatch ? valuesMatch[1] : null;
     const type = columns.find(({name}) => name === colValue).type;
 
