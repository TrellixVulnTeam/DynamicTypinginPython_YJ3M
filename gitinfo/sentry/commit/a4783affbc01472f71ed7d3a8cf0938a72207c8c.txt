commit a4783affbc01472f71ed7d3a8cf0938a72207c8c
Author: nikita m. kozlovsky <nikitka@gmail.com>
Date:   Mon Feb 27 20:49:59 2012 +0400

    use pytz.timezone.localize and pytz.timezone.fromutc instead of datetime.replace

diff --git a/sentry/utils/dates.py b/sentry/utils/dates.py
index 73cb00c20c..e29bbd1ceb 100644
--- a/sentry/utils/dates.py
+++ b/sentry/utils/dates.py
@@ -14,13 +14,11 @@ from sentry.utils import get_db_engine
 
 def utc_to_local(dt):
     tz = pytz.timezone(settings.TIME_ZONE)
-    return dt.replace(tzinfo=pytz.utc).astimezone(tz).replace(tzinfo=None)
-
+    return tz.fromutc(dt).replace(tzinfo=None)
 
 def local_to_utc(dt):
     tz = pytz.timezone(settings.TIME_ZONE)
-    return dt.replace(tzinfo=tz).astimezone(pytz.utc).replace(tzinfo=None)
-
+    return tz.localize(dt).astimezone(pytz.utc).replace(tzinfo=None)
 
 def get_sql_date_trunc(col, db='default'):
     conn = connections[db]
