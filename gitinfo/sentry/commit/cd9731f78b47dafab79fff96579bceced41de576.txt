commit cd9731f78b47dafab79fff96579bceced41de576
Author: Dora <dora.l.chan@gmail.com>
Date:   Thu Nov 14 17:03:28 2019 -0800

    feat(discover): cleanup index (#15611)
    
    * feat(discover): cleanup
    
    * update button path

diff --git a/src/sentry/static/sentry/app/components/banner.tsx b/src/sentry/static/sentry/app/components/banner.tsx
index c0843fded1..17c5414c03 100644
--- a/src/sentry/static/sentry/app/components/banner.tsx
+++ b/src/sentry/static/sentry/app/components/banner.tsx
@@ -44,9 +44,9 @@ const BannerWrapper = styled('div')`
   background-size: cover;
   background-position: center center;
   position: relative;
-  min-height: 320px;
+  min-height: 200px;
   margin-bottom: ${space(3)};
-  padding-top: 24%;
+  padding-top: 22%;
   box-shadow: ${p => p.theme.dropShadowLight};
 
   @media (min-width: ${theme.breakpoints[1]}) {
@@ -55,7 +55,7 @@ const BannerWrapper = styled('div')`
 
   @media (min-width: ${theme.breakpoints[3]}) {
     padding-top: 0;
-    height: 300px;
+    min-height: 260px;
   }
 `;
 
@@ -96,14 +96,11 @@ const BannerSubtitle = styled('h4')`
 
 const BannerActions = styled('div')`
   display: flex;
-  flex-direction: column;
-  justify-content: space-between;
+  justify-content: center;
   width: 100%;
 
   @media (min-width: ${theme.breakpoints[1]}) {
     width: auto;
-    flex-direction: row;
-    min-width: 650px;
   }
 `;
 
diff --git a/src/sentry/static/sentry/app/views/eventsV2/index.tsx b/src/sentry/static/sentry/app/views/eventsV2/index.tsx
index 670ca00bda..e93fa092d6 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/index.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/index.tsx
@@ -9,7 +9,6 @@ import {Location} from 'history';
 import {t} from 'app/locale';
 import {trackAnalyticsEvent} from 'app/utils/analytics';
 import SentryTypes from 'app/sentryTypes';
-import theme from 'app/utils/theme';
 import {Organization} from 'app/types';
 import localStorage from 'app/utils/localStorage';
 import withOrganization from 'app/utils/withOrganization';
@@ -32,8 +31,8 @@ import SavedQueryButtonGroup from './savedQuery';
 import EventView from './eventView';
 import EventInputName from './eventInputName';
 import {getFirstQueryString} from './utils';
-import {SAMPLE_VIEWS} from './data';
 import QueryList from './queryList';
+import {DEFAULT_EVENT_VIEW_V1} from './data';
 
 const DISPLAY_SEARCH_BAR_FLAG = false;
 
@@ -73,23 +72,33 @@ class EventsV2 extends React.Component<Props> {
       return null;
     }
 
-    const {location} = this.props;
+    return (
+      <Banner
+        title={t('Discover')}
+        subtitle={t('Customize your query searches')}
+        onCloseClick={this.handleClick}
+      >
+        <Button>{t('Build a new query')}</Button>
+      </Banner>
+    );
+  }
 
-    const sampleQueries = SAMPLE_VIEWS.map((view, index) => {
-      const eventView = EventView.fromEventViewv1(view);
+  renderActions() {
+    const eventView = EventView.fromEventViewv1(DEFAULT_EVENT_VIEW_V1);
 
-      const to = {
-        pathname: location.pathname,
-        query: {
-          ...eventView.generateQueryStringObject(),
-        },
-      };
+    const to = {
+      pathname: location.pathname,
+      query: {
+        ...eventView.generateQueryStringObject(),
+      },
+    };
 
-      return (
-        <BannerButton
+    return (
+      <StyledActions>
+        <StyledSearchBar />
+        <Button
+          priority="primary"
           to={to}
-          icon="icon-circle-add"
-          key={index}
           onClick={() => {
             trackAnalyticsEvent({
               eventKey: 'discover_v2.prebuilt_query_click',
@@ -99,19 +108,9 @@ class EventsV2 extends React.Component<Props> {
             });
           }}
         >
-          {view.buttonLabel || eventView.name}
-        </BannerButton>
-      );
-    });
-
-    return (
-      <Banner
-        title={t('Discover')}
-        subtitle={t('Here are a few sample queries to kick things off')}
-        onCloseClick={this.handleClick}
-      >
-        {sampleQueries}
-      </Banner>
+          {t('Build a new query')}
+        </Button>
+      </StyledActions>
     );
   }
 
@@ -121,7 +120,7 @@ class EventsV2 extends React.Component<Props> {
     return (
       <div>
         {this.renderBanner()}
-        {DISPLAY_SEARCH_BAR_FLAG && <StyledSearchBar />}
+        {DISPLAY_SEARCH_BAR_FLAG && this.renderActions()}
         <QueryList location={location} organization={organization} />
       </div>
     );
@@ -195,16 +194,14 @@ class EventsV2 extends React.Component<Props> {
   }
 }
 
-const BannerButton = styled(Button)`
-  margin: ${space(1)} 0;
-
-  @media (min-width: ${theme.breakpoints[1]}) {
-    margin: 0 ${space(1)};
-  }
+const StyledActions = styled('div')`
+  display: flex;
+  margin-bottom: ${space(3)};
 `;
 
 const StyledSearchBar = styled(SearchBar)`
-  margin-bottom: ${space(3)};
+  margin-right: ${space(1)};
+  flex-grow: 1;
 `;
 
 // Wrapper is needed because BetaTag discards margins applied directly to it
diff --git a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
index e479062ff6..70c9e1a591 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
@@ -51,7 +51,7 @@ const StyledQueryCard = styled(Link)`
   display: flex;
   flex-direction: column;
   justify-content: space-between;
-  height: 220px;
+  height: 205px;
   transition: all 0.2s ease;
 
   &:hover {
@@ -73,10 +73,11 @@ const QueryCardHeader = styled('div')`
   padding: ${space(1.5)} ${space(2)};
   height: 80px;
   overflow: hidden;
+  line-height: 1.4;
 `;
 
 const StyledTitle = styled('div')`
-  font-size: ${p => p.theme.fontSizeExtraLarge};
+  font-size: ${p => p.theme.fontSizeLarge};
   color: ${p => p.theme.gray5};
   overflow: hidden;
   text-overflow: ellipsis;
@@ -86,7 +87,7 @@ const StyledTitle = styled('div')`
 
 const StyledQueryDetail = styled('div')`
   font-family: ${p => p.theme.text.familyMono};
-  font-size: ${p => p.theme.fontSizeMedium};
+  font-size: ${p => p.theme.fontSizeSmall};
   color: ${p => p.theme.gray2};
   overflow: hidden;
   text-overflow: ellipsis;
@@ -105,7 +106,7 @@ const QueryCardFooter = styled('div')`
   display: flex;
   justify-content: space-between;
   align-items: center;
-  padding: ${space(1.5)} ${space(2)};
+  padding: ${space(1)} ${space(2)};
   color: ${p => p.theme.gray5};
 `;
 
diff --git a/src/sentry/static/sentry/images/background-space.svg b/src/sentry/static/sentry/images/background-space.svg
index 7ffb2edb68..d98ce03d5b 100644
--- a/src/sentry/static/sentry/images/background-space.svg
+++ b/src/sentry/static/sentry/images/background-space.svg
@@ -10,13 +10,13 @@
 </style>
 <g>
 	
-		<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="604.8466" y1="1648.1091" x2="112.8466" y2="1131.1093" gradientTransform="matrix(1 0 0 -1 0 1762)">
+		<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="604.8466" y1="-1368.1091" x2="112.8466" y2="-851.1092" gradientTransform="matrix(1 0 0 1 0 1482)">
 		<stop  offset="0" style="stop-color:#09080B"/>
 		<stop  offset="1" style="stop-color:#4A3E56"/>
 	</linearGradient>
 	<path class="st0" d="M1160,0H0v280h1160V0z"/>
 	
-		<linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="0" y1="1622" x2="1160" y2="1622" gradientTransform="matrix(1 0 0 -1 0 1762)">
+		<linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="0" y1="-1342" x2="1160" y2="-1342" gradientTransform="matrix(1 0 0 1 0 1482)">
 		<stop  offset="0" style="stop-color:#6C5FC7"/>
 		<stop  offset="0.1605" style="stop-color:#785EC0"/>
 		<stop  offset="0.4471" style="stop-color:#965CAC"/>
@@ -27,7 +27,7 @@
 		c-28.4-33-76-41.3-119.5-41.1c-67.2,0.4-133.6,16.2-200.8,17.3c-26.6,0.4-54.4-1.8-77.3-15.2C376.4,78,361,35.2,337.8,0H0v280h1160
 		V266.5z"/>
 	
-		<linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="0" y1="1622" x2="1160" y2="1622" gradientTransform="matrix(1 0 0 -1 0 1762)">
+		<linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="0" y1="-1342" x2="1160" y2="-1342" gradientTransform="matrix(1 0 0 1 0 1482)">
 		<stop  offset="0" style="stop-color:#6C5FC7"/>
 		<stop  offset="0.4908" style="stop-color:#A75AA1"/>
 		<stop  offset="1" style="stop-color:#E1567C"/>
@@ -35,30 +35,28 @@
 	<path class="st2" d="M1160,260.7c-130.6,15.7-240.9,15.3-315.9-2.1c-40.1-9.3-82.6-22.4-107.5-55.1c-10.4-13.7-17.1-30-28.4-43
 		c-24.6-28.5-65.7-35.8-103.4-35.5c-58.2,0.3-115.6,14-173.7,15c-23,0.4-47-1.5-66.9-13.2c-42.6-25-51.8-84.9-90.7-115.3
 		c-5.9-4.6-12.2-8.3-18.9-11.5H0v280h1160V260.7z"/>
-	<path class="st3" d="M220.7,78.9c-0.6,0-1.2-0.4-1.4-1l-1.8-4.9l-4.9-1.8c-0.6-0.2-1-0.8-1-1.4c0-0.6,0.4-1.2,1-1.4l4.9-1.8
-		l1.8-4.9c0.2-0.6,0.8-1,1.4-1h0c0.6,0,1.2,0.4,1.4,1l1.8,4.9l4.9,1.8c0.6,0.2,1,0.8,1,1.4c0,0.6-0.4,1.2-1,1.4l-4.9,1.8l-1.8,4.9
+	<path class="st3" d="M220.7,78.9c-0.6,0-1.2-0.4-1.4-1l-1.8-4.9l-4.9-1.8c-0.6-0.2-1-0.8-1-1.4s0.4-1.2,1-1.4l4.9-1.8l1.8-4.9
+		c0.2-0.6,0.8-1,1.4-1l0,0c0.6,0,1.2,0.4,1.4,1l1.8,4.9l4.9,1.8c0.6,0.2,1,0.8,1,1.4s-0.4,1.2-1,1.4l-4.9,1.8l-1.8,4.9
 		C221.9,78.5,221.4,78.9,220.7,78.9L220.7,78.9z M214.6,69.8l3.8,1.4c0.4,0.2,0.7,0.5,0.9,0.9l1.4,3.8l1.4-3.8
 		c0.2-0.4,0.5-0.7,0.9-0.9l3.8-1.4l-3.8-1.4c-0.4-0.2-0.7-0.5-0.9-0.9l-1.4-3.8l-1.4,3.8c-0.2,0.4-0.5,0.7-0.9,0.9L214.6,69.8z
-		 M221.2,62.4L221.2,62.4C221.2,62.4,221.2,62.4,221.2,62.4z"/>
-	<path class="st3" d="M134.2,232.9c-0.6,0-1.2-0.4-1.4-1l-1.1-3l-3-1.1c-0.6-0.2-1-0.8-1-1.4c0-0.6,0.4-1.2,1-1.4l3-1.1l1.1-3
-		c0.2-0.6,0.8-1,1.4-1h0c0.6,0,1.2,0.4,1.4,1l1.1,3l3,1.1c0.6,0.2,1,0.8,1,1.4c0,0.6-0.4,1.2-1,1.4l-3,1.1l-1.1,3
-		C135.4,232.5,134.9,232.9,134.2,232.9L134.2,232.9z M130.6,226.3l2,0.7c0.4,0.1,0.7,0.5,0.9,0.9l0.7,2l0.7-2
-		c0.2-0.4,0.5-0.7,0.9-0.9l2-0.7l-2-0.7c-0.4-0.1-0.7-0.5-0.9-0.9l-0.7-2l-0.7,2c-0.1,0.4-0.5,0.7-0.9,0.9L130.6,226.3z
-		 M131.9,228.9C131.9,228.9,131.9,228.9,131.9,228.9L131.9,228.9z M136.5,228.9L136.5,228.9C136.5,228.9,136.5,228.9,136.5,228.9z
-		 M131.6,228.6C131.6,228.6,131.6,228.6,131.6,228.6L131.6,228.6z M136.8,228.6L136.8,228.6C136.8,228.6,136.8,228.6,136.8,228.6z
-		 M131.6,224C131.6,224,131.6,224,131.6,224L131.6,224z M136.8,224L136.8,224C136.8,224,136.8,224,136.8,224z M131.9,223.7
-		C131.9,223.7,131.9,223.7,131.9,223.7L131.9,223.7z M136.5,223.7L136.5,223.7C136.5,223.7,136.5,223.7,136.5,223.7z M134.7,221.4
-		L134.7,221.4C134.7,221.4,134.7,221.4,134.7,221.4L134.7,221.4z"/>
-	<path class="st3" d="M837.7,109.9c-0.6,0-1.2-0.4-1.4-1l-1.5-4.1l-4.1-1.5c-0.6-0.2-1-0.8-1-1.4c0-0.6,0.4-1.2,1-1.4l4.1-1.5
-		l1.5-4.1c0.2-0.6,0.8-1,1.4-1s1.2,0.4,1.4,1l1.5,4.1l4.1,1.5c0.6,0.2,1,0.8,1,1.4c0,0.6-0.4,1.2-1,1.4l-4.1,1.5l-1.5,4.1
+		 M221.2,62.4L221.2,62.4L221.2,62.4z"/>
+	<path class="st3" d="M328.2,239.4c-0.6,0-1.2-0.4-1.4-1l-1.1-3l-3-1.1c-0.6-0.2-1-0.8-1-1.4c0-0.6,0.4-1.2,1-1.4l3-1.1l1.1-3
+		c0.2-0.6,0.8-1,1.4-1l0,0c0.6,0,1.2,0.4,1.4,1l1.1,3l3,1.1c0.6,0.2,1,0.8,1,1.4c0,0.6-0.4,1.2-1,1.4l-3,1.1l-1.1,3
+		C329.4,239,328.9,239.4,328.2,239.4L328.2,239.4z M324.6,232.8l2,0.7c0.4,0.1,0.7,0.5,0.9,0.9l0.7,2l0.7-2c0.2-0.4,0.5-0.7,0.9-0.9
+		l2-0.7l-2-0.7c-0.4-0.1-0.7-0.5-0.9-0.9l-0.7-2l-0.7,2c-0.1,0.4-0.5,0.7-0.9,0.9L324.6,232.8z M325.9,235.4L325.9,235.4
+		L325.9,235.4z M330.5,235.4L330.5,235.4L330.5,235.4z M325.6,235.1L325.6,235.1L325.6,235.1z M330.8,235.1L330.8,235.1L330.8,235.1
+		z M325.6,230.5L325.6,230.5L325.6,230.5z M330.8,230.5L330.8,230.5L330.8,230.5z M325.9,230.2L325.9,230.2L325.9,230.2z
+		 M330.5,230.2L330.5,230.2L330.5,230.2z M328.7,227.9L328.7,227.9L328.7,227.9L328.7,227.9z"/>
+	<path class="st3" d="M837.7,109.9c-0.6,0-1.2-0.4-1.4-1l-1.5-4.1l-4.1-1.5c-0.6-0.2-1-0.8-1-1.4s0.4-1.2,1-1.4l4.1-1.5l1.5-4.1
+		c0.2-0.6,0.8-1,1.4-1s1.2,0.4,1.4,1l1.5,4.1l4.1,1.5c0.6,0.2,1,0.8,1,1.4s-0.4,1.2-1,1.4l-4.1,1.5l-1.5,4.1
 		C838.9,109.5,838.4,109.9,837.7,109.9z M832.6,101.8l3.1,1.1c0.4,0.2,0.7,0.5,0.9,0.9l1.1,3.1l1.1-3.1c0.2-0.4,0.5-0.7,0.9-0.9
 		l3.1-1.1l-3.1-1.1c-0.4-0.2-0.7-0.5-0.9-0.9l-1.1-3.1l-1.1,3.1c-0.2,0.4-0.5,0.7-0.9,0.9L832.6,101.8z M838.2,95.4L838.2,95.4
-		C838.2,95.4,838.2,95.4,838.2,95.4z"/>
-	<path class="st3" d="M1016.7,76.9c-0.6,0-1.2-0.4-1.4-1l-1.5-4.1l-4.1-1.5c-0.6-0.2-1-0.8-1-1.4c0-0.6,0.4-1.2,1-1.4l4.1-1.5
-		l1.5-4.1c0.2-0.6,0.8-1,1.4-1c0.6,0,1.2,0.4,1.4,1l1.5,4.1l4.1,1.5c0.6,0.2,1,0.8,1,1.4c0,0.6-0.4,1.2-1,1.4l-4.1,1.5l-1.5,4.1
+		L838.2,95.4z"/>
+	<path class="st3" d="M1016.7,76.9c-0.6,0-1.2-0.4-1.4-1l-1.5-4.1l-4.1-1.5c-0.6-0.2-1-0.8-1-1.4s0.4-1.2,1-1.4l4.1-1.5l1.5-4.1
+		c0.2-0.6,0.8-1,1.4-1c0.6,0,1.2,0.4,1.4,1l1.5,4.1l4.1,1.5c0.6,0.2,1,0.8,1,1.4s-0.4,1.2-1,1.4l-4.1,1.5l-1.5,4.1
 		C1017.9,76.5,1017.4,76.9,1016.7,76.9z M1011.6,68.8l3.1,1.1c0.4,0.2,0.7,0.5,0.9,0.9l1.1,3.1l1.1-3.1c0.2-0.4,0.5-0.7,0.9-0.9
-		l3.1-1.1l-3.1-1.1c-0.4-0.2-0.7-0.5-0.9-0.9l-1.1-3.1l-1.1,3.1c-0.2,0.4-0.5,0.7-0.9,0.9L1011.6,68.8z M1023.1,69.3
-		C1023.1,69.3,1023.1,69.3,1023.1,69.3L1023.1,69.3z M1023.1,68.3C1023.1,68.3,1023.1,68.3,1023.1,68.3L1023.1,68.3z"/>
+		l3.1-1.1l-3.1-1.1c-0.4-0.2-0.7-0.5-0.9-0.9l-1.1-3.1l-1.1,3.1c-0.2,0.4-0.5,0.7-0.9,0.9L1011.6,68.8z M1023.1,69.3L1023.1,69.3
+		L1023.1,69.3z M1023.1,68.3L1023.1,68.3L1023.1,68.3z"/>
 	<circle class="st3" cx="140.2" cy="109.3" r="2.5"/>
 	<circle class="st3" cx="1075.2" cy="172.3" r="2.5"/>
 	<circle class="st3" cx="973.2" cy="127.3" r="2.5"/>
@@ -78,5 +76,6 @@
 	<path class="st3" d="M973.2,189.8h-6c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h6c0.3,0,0.5,0.2,0.5,0.5S973.5,189.8,973.2,189.8z"/>
 	<path class="st3" d="M970.2,192.8c-0.3,0-0.5-0.2-0.5-0.5v-6c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v6
 		C970.7,192.6,970.5,192.8,970.2,192.8z"/>
+	<circle class="st3" cx="847.2" cy="236.4" r="1.5"/>
 </g>
 </svg>
