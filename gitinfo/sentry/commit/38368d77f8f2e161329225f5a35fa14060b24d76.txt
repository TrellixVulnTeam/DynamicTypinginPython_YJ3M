commit 38368d77f8f2e161329225f5a35fa14060b24d76
Author: Mark Story <mark@sentry.io>
Date:   Fri Sep 6 12:39:49 2019 -0400

    fix(gitlab) Don't 500 requests that are missing a token (#14602)
    
    Initialize `token` so that when it isn't present our logging doesn't
    fail.
    
    Fixes SENTRY-CEY

diff --git a/src/sentry/integrations/gitlab/webhooks.py b/src/sentry/integrations/gitlab/webhooks.py
index 2bb331e840..da4d949de7 100644
--- a/src/sentry/integrations/gitlab/webhooks.py
+++ b/src/sentry/integrations/gitlab/webhooks.py
@@ -163,6 +163,7 @@ class GitlabWebhookEndpoint(View):
         return super(GitlabWebhookEndpoint, self).dispatch(request, *args, **kwargs)
 
     def post(self, request):
+        token = "<unknown>"
         try:
             # Munge the token to extract the integration external_id.
             # gitlab hook payloads don't give us enough unique context
