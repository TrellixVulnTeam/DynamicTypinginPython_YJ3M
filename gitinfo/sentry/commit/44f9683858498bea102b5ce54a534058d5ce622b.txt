commit 44f9683858498bea102b5ce54a534058d5ce622b
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jun 5 12:56:49 2014 -0700

    Fix issue with removing conditions/actions

diff --git a/src/sentry/web/frontend/projects/rules.py b/src/sentry/web/frontend/projects/rules.py
index 454d3b10b9..2be3016a79 100644
--- a/src/sentry/web/frontend/projects/rules.py
+++ b/src/sentry/web/frontend/projects/rules.py
@@ -116,18 +116,19 @@ def create_or_edit_rule(request, team, project, rule_id=None):
         'action_match': rule.data.get('action_match'),
     }
 
-    for num, node in enumerate(rule.data.get('conditions', [])):
-        prefix = 'condition[%d]' % (num,)
-        for key, value in node.iteritems():
-            form_data[prefix + '[' + key + ']'] = value
-
-    for num, node in enumerate(rule.data.get('actions', [])):
-        prefix = 'action[%d]' % (num,)
-        for key, value in node.iteritems():
-            form_data[prefix + '[' + key + ']'] = value
-
-    for key, value in request.POST.iteritems():
-        form_data[key] = value
+    if request.POST:
+        for key, value in request.POST.iteritems():
+            form_data[key] = value
+    else:
+        for num, node in enumerate(rule.data.get('conditions', [])):
+            prefix = 'condition[%d]' % (num,)
+            for key, value in node.iteritems():
+                form_data[prefix + '[' + key + ']'] = value
+
+        for num, node in enumerate(rule.data.get('actions', [])):
+            prefix = 'action[%d]' % (num,)
+            for key, value in node.iteritems():
+                form_data[prefix + '[' + key + ']'] = value
 
     validator = RuleFormValidator(project, form_data)
     if request.POST and validator.is_valid():
