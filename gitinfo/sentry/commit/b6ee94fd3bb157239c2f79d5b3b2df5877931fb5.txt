commit b6ee94fd3bb157239c2f79d5b3b2df5877931fb5
Author: Ted Kaemming <ted@kaemming.com>
Date:   Wed Sep 23 13:05:17 2015 -0700

    Also ensure timeline contents are correct after truncation.

diff --git a/tests/sentry/digests/test_redis.py b/tests/sentry/digests/test_redis.py
index e1b535a46d..0c899af87a 100644
--- a/tests/sentry/digests/test_redis.py
+++ b/tests/sentry/digests/test_redis.py
@@ -28,7 +28,6 @@ def to_timestamp(value):
 
 
 class RedisScriptTestCase(TestCase):
-
     @fixture
     def records(self):
         for i in itertools.count():
@@ -87,10 +86,12 @@ class RedisScriptTestCase(TestCase):
 
             # Ensure the early records don't exist.
             for record in records[:5]:
+                assert not client.zscore(timeline, record.key)
                 assert not client.exists(make_record_key(timeline, record.key))
 
             # Ensure the later records do exist.
             for record in records[-5:]:
+                assert client.zscore(timeline, record.key) == float(record.timestamp)
                 assert client.exists(make_record_key(timeline, record.key))
 
 
