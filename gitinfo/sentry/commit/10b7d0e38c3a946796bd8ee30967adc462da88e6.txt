commit 10b7d0e38c3a946796bd8ee30967adc462da88e6
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jul 6 16:29:02 2016 -0700

    Clear env.request properly
    
    This ensures env.request is cleaned up based on the request_finished signal from Django.
    
    @getsentry/infrastructure

diff --git a/src/sentry/middleware/env.py b/src/sentry/middleware/env.py
index b376538554..897bc20044 100644
--- a/src/sentry/middleware/env.py
+++ b/src/sentry/middleware/env.py
@@ -1,5 +1,7 @@
 from __future__ import absolute_import
 
+from django.core.signals import request_finished
+
 from sentry.app import env
 
 
@@ -7,3 +9,9 @@ class SentryEnvMiddleware(object):
     def process_request(self, request):
         # bind request to env
         env.request = request
+
+
+def clear_request(**kwargs):
+    env.request = None
+
+request_finished.connect(clear_request)
