commit 33b13d6017766e0cda2586aa87dda273caf51e86
Author: Darren Worrall <darren@iweb.co.uk>
Date:   Thu Nov 1 09:42:24 2012 +0000

    Only show users notification options for projects they can access

diff --git a/src/sentry/plugins/bases/notify.py b/src/sentry/plugins/bases/notify.py
index 29f347082e..41e38d404e 100644
--- a/src/sentry/plugins/bases/notify.py
+++ b/src/sentry/plugins/bases/notify.py
@@ -13,6 +13,7 @@ from sentry.plugins import Plugin
 from sentry.models import UserOption
 from sentry.utils.cache import cache
 from sentry.web.helpers import get_project_list
+from sentry.constants import MEMBER_USER
 
 
 class NotificationConfigurationForm(forms.Form):
@@ -44,7 +45,7 @@ class NotificationUserOptionsForm(BaseNotificationUserOptionsForm):
     def __init__(self, *args, **kwargs):
         super(NotificationUserOptionsForm, self).__init__(*args, **kwargs)
         user = self.user
-        self.project_list = get_project_list(user, key='slug')
+        self.project_list = get_project_list(user, access=MEMBER_USER, key='slug')
         project_list = sorted(self.project_list.items())
         self.fields['projects'].choices = project_list
         self.fields['projects'].widget.choices = self.fields['projects'].choices
