commit af251f48ca6232a36466d8ef7eb3b88238e19509
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 7 11:31:10 2013 -0700

    Correct trimming of frame vars

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 8d181d2fe3..15e1371ede 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -468,9 +468,10 @@ class GroupManager(BaseManager, ChartMixin):
 
         # HACK: move this to interfaces code
         if 'sentry.interfaces.Stacktrace' in data:
-            stack_vars = data['sentry.interfaces.Stacktrace'].get('vars', {})
-            for key, value in stack_vars.iteritems():
-                stack_vars[key] = trim(value)
+            for frame in data['sentry.interfaces.Stacktrace']['frames']:
+                stack_vars = frame.get('vars', {})
+                for key, value in stack_vars.iteritems():
+                    stack_vars[key] = trim(value)
 
         if 'sentry.interfaces.Exception' in data:
             exc_data = data['sentry.interfaces.Exception']
