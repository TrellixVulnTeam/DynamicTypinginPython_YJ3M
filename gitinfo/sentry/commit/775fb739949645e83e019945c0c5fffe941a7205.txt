commit 775fb739949645e83e019945c0c5fffe941a7205
Author: Chris Fuller <cfuller@sentry.io>
Date:   Tue Feb 11 11:56:36 2020 -0500

    fix(workflow): Changing default selection + ordering of alert filter buttons (#16907)

diff --git a/src/sentry/static/sentry/app/views/alerts/list/index.tsx b/src/sentry/static/sentry/app/views/alerts/list/index.tsx
index ea8f14aad9..b80ce2c53c 100644
--- a/src/sentry/static/sentry/app/views/alerts/list/index.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/list/index.tsx
@@ -2,7 +2,6 @@ import {RouteComponentProps} from 'react-router/lib/Router';
 import DocumentTitle from 'react-document-title';
 import React from 'react';
 import moment from 'moment';
-import omit from 'lodash/omit';
 import styled from '@emotion/styled';
 
 import {PageContent, PageHeader} from 'app/styles/organization';
@@ -27,7 +26,7 @@ import {Incident} from '../types';
 import SparkLine from './sparkLine';
 import Status from '../status';
 
-const DEFAULT_QUERY_STATUS = '';
+const DEFAULT_QUERY_STATUS = 'open';
 
 type Props = RouteComponentProps<{orgId: string}, {}>;
 
@@ -147,7 +146,7 @@ class IncidentsListContainer extends React.Component<Props> {
 
     const openIncidentsQuery = {...query, status: 'open'};
     const closedIncidentsQuery = {...query, status: 'closed'};
-    const allIncidentsQuery = omit(query, 'status');
+    const allIncidentsQuery = {...query, status: 'all'};
 
     const status = query.status === undefined ? DEFAULT_QUERY_STATUS : query.status;
 
@@ -178,13 +177,6 @@ class IncidentsListContainer extends React.Component<Props> {
               </Button>
 
               <div className="btn-group">
-                <Button
-                  to={{pathname, query: allIncidentsQuery}}
-                  size="small"
-                  className={'btn' + (status === '' ? ' active' : '')}
-                >
-                  {t('All')}
-                </Button>
                 <Button
                   to={{pathname, query: openIncidentsQuery}}
                   size="small"
@@ -199,6 +191,13 @@ class IncidentsListContainer extends React.Component<Props> {
                 >
                   {t('Resolved')}
                 </Button>
+                <Button
+                  to={{pathname, query: allIncidentsQuery}}
+                  size="small"
+                  className={'btn' + (status === 'all' ? ' active' : '')}
+                >
+                  {t('All')}
+                </Button>
               </div>
             </Actions>
           </PageHeader>
diff --git a/tests/js/spec/views/incidents/list/index.spec.jsx b/tests/js/spec/views/incidents/list/index.spec.jsx
index 98d93c7b4a..83b7a324af 100644
--- a/tests/js/spec/views/incidents/list/index.spec.jsx
+++ b/tests/js/spec/views/incidents/list/index.spec.jsx
@@ -78,13 +78,13 @@ describe('IncidentsList', function() {
       expect.objectContaining({query: {}})
     );
 
-    wrapper.setProps({location: {query: {status: 'open'}, search: '?status=open`'}});
+    wrapper.setProps({location: {query: {status: 'all'}, search: '?status=all`'}});
 
     expect(
       wrapper
         .find('.btn-group')
         .find('Button')
-        .at(1)
+        .at(2)
         .hasClass('active')
     ).toBe(true);
 
@@ -92,7 +92,7 @@ describe('IncidentsList', function() {
 
     expect(mock).toHaveBeenCalledWith(
       '/organizations/org-slug/incidents/',
-      expect.objectContaining({query: expect.objectContaining({status: 'open'})})
+      expect.objectContaining({query: expect.objectContaining({status: 'all'})})
     );
   });
 });
