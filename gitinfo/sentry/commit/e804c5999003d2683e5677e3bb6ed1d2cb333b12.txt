commit e804c5999003d2683e5677e3bb6ed1d2cb333b12
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jul 5 15:51:15 2016 -0700

    Gracefully handle missing index (Postgres only)

diff --git a/src/sentry/south_migrations/0264_drop_grouptagvalue_project_index.py b/src/sentry/south_migrations/0264_drop_grouptagvalue_project_index.py
index f9c4a694c1..11341ff363 100644
--- a/src/sentry/south_migrations/0264_drop_grouptagvalue_project_index.py
+++ b/src/sentry/south_migrations/0264_drop_grouptagvalue_project_index.py
@@ -3,17 +3,21 @@ from south.utils import datetime_utils as datetime
 from south.db import db
 from south.v2 import SchemaMigration
 from django.db import models
+from sentry.utils.db import is_postgres
 
 
 class Migration(SchemaMigration):
     def forwards(self, orm):
-        try:
-            db.delete_index('sentry_messagefiltervalue', ['project_id'])
-        except Exception:
-            pass
+        # if you're not using Postgres, glhf
+        if is_postgres():
+            try:
+                with transaction.atomic():
+                    db.delete_index('sentry_messagefiltervalue', ['project_id'])
+            except Exception:
+                pass
 
     def backwards(self, orm):
-        db.create_index('sentry_messagefiltervalue', ['project_id'])
+        pass
 
     models = {
         'sentry.activity': {
