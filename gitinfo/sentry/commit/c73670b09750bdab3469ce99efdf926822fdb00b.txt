commit c73670b09750bdab3469ce99efdf926822fdb00b
Author: Eric Feng <ehfeng@users.noreply.github.com>
Date:   Fri Sep 8 16:31:54 2017 -0700

    fix/Change `delete_email` Receiver to be Case-Insensitive (#6070)
    
    `UserEmail.email` is case sensitive but `Email.email` is case-insensitive.
    We should only delete `Email` when there are no case-insensitive matching `UserEmail`

diff --git a/src/sentry/receivers/email.py b/src/sentry/receivers/email.py
index c6b7cfb457..a589a75b3f 100644
--- a/src/sentry/receivers/email.py
+++ b/src/sentry/receivers/email.py
@@ -16,7 +16,7 @@ def create_email(instance, created, **kwargs):
 
 
 def delete_email(instance, **kwargs):
-    if UserEmail.objects.filter(email=instance.email).exists():
+    if UserEmail.objects.filter(email__iexact=instance.email).exists():
         return
 
     Email.objects.filter(email=instance.email).delete()
