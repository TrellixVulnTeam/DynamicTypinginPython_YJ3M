commit 62dd2662791243480f945887b07d979a81746ebd
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 26 21:32:37 2015 -0700

    Add lastRelease to group details

diff --git a/src/sentry/api/endpoints/group_details.py b/src/sentry/api/endpoints/group_details.py
index ad9f9f371c..df06af2285 100644
--- a/src/sentry/api/endpoints/group_details.py
+++ b/src/sentry/api/endpoints/group_details.py
@@ -115,6 +115,24 @@ class GroupDetailsEndpoint(GroupEndpoint):
                 'dateCreated': first_release.first_seen,
             }
 
+        if first_release is not None:
+            # find last seen release
+            try:
+                last_release = GroupTagValue.objects.filter(
+                    group=group,
+                    key='sentry:release',
+                ).order_by('-last_seen')[0]
+            except IndexError:
+                last_release = None
+            else:
+                last_release = {
+                    'version': last_release.value,
+                    # TODO(dcramer): this should look it up in Release
+                    'dateCreated': last_release.first_seen,
+                }
+        else:
+            last_release = None
+
         action_list = self._get_actions(request, group)
 
         now = timezone.now()
@@ -135,6 +153,7 @@ class GroupDetailsEndpoint(GroupEndpoint):
 
         data.update({
             'firstRelease': first_release,
+            'lastRelease': last_release,
             'activity': serialize(activity, request.user),
             'seenBy': serialize(seen_by, request.user),
             'pluginActions': action_list,
