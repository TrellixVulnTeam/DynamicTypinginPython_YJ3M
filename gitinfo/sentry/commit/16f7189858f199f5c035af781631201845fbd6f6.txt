commit 16f7189858f199f5c035af781631201845fbd6f6
Author: David Cramer <dcramer@gmail.com>
Date:   Sun May 12 14:34:41 2013 -0700

    Push users and code exploration behind feature switches

diff --git a/conftest.py b/conftest.py
index d1a6ae275b..dc72a1dfa3 100644
--- a/conftest.py
+++ b/conftest.py
@@ -63,3 +63,7 @@ def pytest_configure(config):
     settings.PASSWORD_HASHERS = [
         'django.contrib.auth.hashers.MD5PasswordHasher',
     ]
+
+    # enable draft features
+    settings.SENTRY_ENABLE_EXPLORE_CODE = True
+    settings.SENTRY_ENABLE_EXPLORE_USERS = True
diff --git a/src/sentry/conf/defaults.py b/src/sentry/conf/defaults.py
index f5d8a8ab93..58aa875ac6 100644
--- a/src/sentry/conf/defaults.py
+++ b/src/sentry/conf/defaults.py
@@ -164,3 +164,7 @@ RAVEN_JS_URL = 'd3nslu0hdya83q.cloudfront.net/dist/1.0/raven.min.js'
 # (Defaults to URL_PREFIX by default)
 ENDPOINT = None
 PUBLIC_ENDPOINT = None
+
+# Early draft features. Not slated or public release yet.
+ENABLE_EXPLORE_CODE = False
+ENABLE_EXPLORE_USERS = False
diff --git a/src/sentry/tasks/post_process.py b/src/sentry/tasks/post_process.py
index 34825b9456..517b18424f 100644
--- a/src/sentry/tasks/post_process.py
+++ b/src/sentry/tasks/post_process.py
@@ -9,6 +9,7 @@ sentry.tasks.post_process
 from celery.task import task
 from hashlib import md5
 
+from sentry.conf import settings
 from sentry.plugins import plugins
 from sentry.utils.safe import safe_execute
 
@@ -43,6 +44,9 @@ def plugin_post_process_group(plugin_slug, group, **kwargs):
 def record_affected_user(group, event, **kwargs):
     from sentry.models import Group
 
+    if not settings.ENABLE_EXPLORE_USERS:
+        return
+
     data = event.data.get('sentry.interfaces.User')
     if not data:
         return
@@ -67,6 +71,9 @@ def record_affected_user(group, event, **kwargs):
 def record_affected_code(group, event, **kwargs):
     from sentry.models import Group
 
+    if not settings.ENABLE_EXPLORE_CODE:
+        return
+
     data = event.interfaces.get('sentry.interfaces.Exception')
     if not data:
         return
