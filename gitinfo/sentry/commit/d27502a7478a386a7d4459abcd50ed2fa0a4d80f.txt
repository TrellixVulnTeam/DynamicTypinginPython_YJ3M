commit d27502a7478a386a7d4459abcd50ed2fa0a4d80f
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Wed Oct 9 15:39:56 2019 -0700

    test(percy): Wait for sparkline in Incidents list before snapsâ€¦ (#15014)
    
    Fixes flakey percy snapshot

diff --git a/src/sentry/static/sentry/app/views/incidents/list/sparkLine.tsx b/src/sentry/static/sentry/app/views/incidents/list/sparkLine.tsx
index 2bc8587d6c..176a69f47b 100644
--- a/src/sentry/static/sentry/app/views/incidents/list/sparkLine.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/list/sparkLine.tsx
@@ -35,7 +35,7 @@ class SparkLine extends React.Component<Props> {
 
     return (
       <React.Suspense fallback={<SparkLinePlaceholder />}>
-        <div className={className}>
+        <div data-test-id="incident-sparkline" className={className}>
           <Sparklines data={data} width={100} height={32}>
             <SparklinesLine style={{stroke: theme.gray2, fill: 'none', strokeWidth: 2}} />
           </Sparklines>
diff --git a/tests/acceptance/test_incidents.py b/tests/acceptance/test_incidents.py
index a282195792..fdfdebb577 100644
--- a/tests/acceptance/test_incidents.py
+++ b/tests/acceptance/test_incidents.py
@@ -39,6 +39,7 @@ class OrganizationIncidentsListTest(AcceptanceTestCase, SnubaTestCase):
         with self.feature(FEATURE_NAME):
             self.browser.get(self.path)
             self.browser.wait_until_not(".loading-indicator")
+            self.browser.wait_until_test_id("incident-sparkline")
             self.browser.snapshot("incidents - list")
 
             details_url = u'[href="/organizations/{}/incidents/{}/'.format(
