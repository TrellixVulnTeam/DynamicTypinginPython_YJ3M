commit e4f8df69134c5b9fd4d344ef170df8a067bd06c5
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Aug 26 12:22:22 2015 -0700

    Only fetch csrftoken once

diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index d15dd18919..a9713485fe 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -17,6 +17,8 @@ function getCookie(name) {
   return cookieValue;
 }
 
+csrftoken = getCookie("csrf");
+
 function csrfSafeMethod(method) {
   // these HTTP methods do not require CSRF protection
   return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
@@ -24,7 +26,7 @@ function csrfSafeMethod(method) {
 jQuery.ajaxSetup({
   beforeSend: function(xhr, settings) {
     if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
-      xhr.setRequestHeader("X-CSRFToken", getCookie('csrf'));
+      xhr.setRequestHeader("X-CSRFToken", csrftoken);
     }
   }
 });
