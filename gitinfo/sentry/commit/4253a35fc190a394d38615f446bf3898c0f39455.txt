commit 4253a35fc190a394d38615f446bf3898c0f39455
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Nov 27 01:04:07 2015 -0800

    Correct JSON encoding behavior for exception values
    
    This is why you don't commit when half awake

diff --git a/src/sentry/interfaces/exception.py b/src/sentry/interfaces/exception.py
index 584129442a..2c2143b8b8 100644
--- a/src/sentry/interfaces/exception.py
+++ b/src/sentry/interfaces/exception.py
@@ -53,9 +53,9 @@ class SingleException(Interface):
             stacktrace = None
 
         value = data.get('value')
-        if value and not isinstance(value, basestring):
+        if value is not None and not isinstance(value, basestring):
             value = json.dumps(value)
-        value = trim(data.get('value'), 4096)
+        value = trim(value, 4096)
 
         kwargs = {
             'type': trim(data.get('type'), 128),
diff --git a/tests/sentry/interfaces/test_exception.py b/tests/sentry/interfaces/test_exception.py
index 0e0cb48d74..7fc7d451ac 100644
--- a/tests/sentry/interfaces/test_exception.py
+++ b/tests/sentry/interfaces/test_exception.py
@@ -219,7 +219,7 @@ class SingleExceptionTest(TestCase):
             type='ValueError',
             value={'unauthorized': True},
         ))
-        assert result.value == '{"unauthorized": true}'
+        assert result.value == '{"unauthorized":true}'
 
 
 class TrimExceptionsTest(TestCase):
