commit 9548ef7dcf82fd765fca25185c172f5e509e6e45
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Nov 3 10:27:09 2015 -0800

    Increment max fetches counter after filtering out invalid file names
    
    This prevents the counter from being incremented prematurely, and
    failing to fetch other potentially legit resources.

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 53363f2afa..8d0e72beac 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -601,7 +601,6 @@ class SourceProcessor(object):
 
         idx = 0
         while pending_file_list:
-            idx += 1
             filename = pending_file_list.pop()
             done_file_list.add(filename)
 
@@ -618,6 +617,8 @@ class SourceProcessor(object):
                 })
                 continue
 
+            idx += 1
+
             # TODO: respect cache-control/max-age headers to some extent
             logger.debug('Fetching remote source %r', filename)
             try:
