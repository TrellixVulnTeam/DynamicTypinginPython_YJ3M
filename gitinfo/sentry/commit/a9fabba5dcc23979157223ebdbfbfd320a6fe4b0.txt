commit a9fabba5dcc23979157223ebdbfbfd320a6fe4b0
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Feb 4 17:24:59 2015 -0800

    Adjust bulk mutation response to return attributes only

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 4ad8d0f5d1..6b806df1d9 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -254,13 +254,7 @@ class ProjectGroupIndexEndpoint(Endpoint):
                     to_object_id=primary_group.id,
                 )
 
-        if group_list:
-            GroupMeta.objects.populate_cache(group_list)
-            # TODO(dcramer): we need create a public API for 'sort_value'
-            context = serialize(list(group_list), request.user)
-            return Response(context)
-
-        return Response(status=204)
+        return Response(dict(result))
 
     def delete(self, request, organization_slug, project_slug):
         """
diff --git a/tests/sentry/api/endpoints/test_project_group_index.py b/tests/sentry/api/endpoints/test_project_group_index.py
index 0d89c25f86..af825ec169 100644
--- a/tests/sentry/api/endpoints/test_project_group_index.py
+++ b/tests/sentry/api/endpoints/test_project_group_index.py
@@ -49,7 +49,10 @@ class GroupUpdateTest(APITestCase):
         response = self.client.put(url, data={
             'status': 'resolved',
         }, format='json')
-        assert response.status_code == 204
+        assert response.status_code == 200
+        assert response.data == {
+            'status': 'resolved',
+        }
 
         new_group1 = Group.objects.get(id=group1.id)
         assert new_group1.status == GroupStatus.RESOLVED
@@ -90,6 +93,9 @@ class GroupUpdateTest(APITestCase):
             'status': 'resolved',
         }, format='json')
         assert response.status_code == 200
+        assert response.data == {
+            'status': 'resolved',
+        }
 
         new_group1 = Group.objects.get(id=group1.id)
         assert new_group1.resolved_at is None
@@ -129,6 +135,9 @@ class GroupUpdateTest(APITestCase):
             'isBookmarked': 'true',
         }, format='json')
         assert response.status_code == 200
+        assert response.data == {
+            'isBookmarked': True,
+        }
 
         bookmark1 = GroupBookmark.objects.filter(group=group1, user=self.user)
         assert bookmark1.exists()
@@ -164,6 +173,9 @@ class GroupUpdateTest(APITestCase):
             'merge': '1',
         }, format='json')
         assert response.status_code == 200
+        assert response.data == {
+            'merge': True,
+        }
 
         assert len(merge_group.mock_calls) == 2
         merge_group.delay.assert_any_call(from_object_id=group1.id, to_object_id=group2.id)
