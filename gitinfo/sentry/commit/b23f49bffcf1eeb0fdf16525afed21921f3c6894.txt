commit b23f49bffcf1eeb0fdf16525afed21921f3c6894
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Nov 16 11:02:21 2015 -0800

    Add is_configured to NotificationPlugin
    
    All of the upstream projects that we load in that subclass
    NotificationPlugin, already implement is_configured(self, project). So
    this adds that API to the base NotificationPlugin class, and enforces
    that it's called before trying to send notifications.
    
    Fixes GH-2319

diff --git a/src/sentry/plugins/bases/notify.py b/src/sentry/plugins/bases/notify.py
index 49f397e48c..6c5731da58 100644
--- a/src/sentry/plugins/bases/notify.py
+++ b/src/sentry/plugins/bases/notify.py
@@ -129,7 +129,13 @@ class NotificationPlugin(Plugin):
             limit=10,
         )
 
+    def is_configured(self, project):
+        raise NotImplementedError
+
     def should_notify(self, group, event):
+        if not self.is_configured(project=event.project):
+            return False
+
         if group.is_muted():
             return False
 
diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 08a46bcd66..074bb5de90 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -81,6 +81,10 @@ class MailPlugin(NotificationPlugin):
             project.slug,
         ]))
 
+    def is_configured(self, project, **kwargs):
+        # Nothing to configure here
+        return True
+
     def should_notify(self, group, event):
         send_to = self.get_sendable_users(group.project)
         if not send_to:
