commit 532a16efdfb06be0523b599546a66119e46ea70b
Author: Jess MacQueen <macqueen@users.noreply.github.com>
Date:   Thu Sep 13 11:49:30 2018 -0700

    fix(deletions): Include PR model in org deletions (#9754)
    
    fixes SENTRY-7NE

diff --git a/src/sentry/deletions/defaults/organization.py b/src/sentry/deletions/defaults/organization.py
index d926d46cb3..5640cba0b3 100644
--- a/src/sentry/deletions/defaults/organization.py
+++ b/src/sentry/deletions/defaults/organization.py
@@ -8,7 +8,7 @@ class OrganizationDeletionTask(ModelDeletionTask):
         from sentry.models import (
             OrganizationMember, Commit, CommitAuthor, CommitFileChange, Environment, Release,
             ReleaseCommit, ReleaseEnvironment, ReleaseFile, Distribution, ReleaseHeadCommit,
-            Repository, Team, Project
+            Repository, Team, Project, PullRequest
         )
 
         # Team must come first
@@ -20,6 +20,7 @@ class OrganizationDeletionTask(ModelDeletionTask):
             OrganizationMember,
             CommitFileChange,
             Commit,
+            PullRequest,
             CommitAuthor,
             Environment,
             Repository,
diff --git a/tests/sentry/deletions/test_organization.py b/tests/sentry/deletions/test_organization.py
index 54e9cde7b7..0713db9983 100644
--- a/tests/sentry/deletions/test_organization.py
+++ b/tests/sentry/deletions/test_organization.py
@@ -1,8 +1,8 @@
 from __future__ import absolute_import
 
 from sentry.models import (
-    Commit, CommitAuthor, Environment, Organization, Release, ReleaseCommit, ReleaseEnvironment,
-    Repository, ScheduledDeletion
+    Commit, CommitAuthor, Environment, Organization, PullRequest, Release,
+    ReleaseCommit, ReleaseEnvironment, Repository, ScheduledDeletion
 )
 from sentry.tasks.deletion import run_deletion
 from sentry.testutils import TestCase
@@ -33,6 +33,12 @@ class DeleteOrganizationTest(TestCase):
             author=commit_author,
             key='a' * 40,
         )
+        pull_request = PullRequest.objects.create(
+            repository_id=repo.id,
+            organization_id=org.id,
+            author=commit_author,
+            key='b' * 40,
+        )
         ReleaseCommit.objects.create(
             organization_id=org.id,
             release=release,
@@ -61,3 +67,4 @@ class DeleteOrganizationTest(TestCase):
         assert not Release.objects.filter(organization_id=org.id).exists()
         assert not CommitAuthor.objects.filter(id=commit_author.id).exists()
         assert not Commit.objects.filter(id=commit.id).exists()
+        assert not PullRequest.objects.filter(id=pull_request.id).exists()
