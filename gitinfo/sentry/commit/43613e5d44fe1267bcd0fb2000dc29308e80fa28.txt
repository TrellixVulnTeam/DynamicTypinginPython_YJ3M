commit 43613e5d44fe1267bcd0fb2000dc29308e80fa28
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jul 18 17:15:22 2015 -0700

    Change behavior of search bar so that clear resets to default query

diff --git a/src/sentry/static/sentry/app/views/stream.jsx b/src/sentry/static/sentry/app/views/stream.jsx
index e1666b7fab..3467e8e1bd 100644
--- a/src/sentry/static/sentry/app/views/stream.jsx
+++ b/src/sentry/static/sentry/app/views/stream.jsx
@@ -307,6 +307,7 @@ var Stream = React.createClass({
     return (
       <div>
         <StreamFilters query={this.state.query}
+          defaultQuery={this.props.defaultQuery}
           onQueryChange={this.onQueryChange}
           onFilterChange={this.onFilterChange}
           onSearch={this.onSearch} />
diff --git a/src/sentry/static/sentry/app/views/stream/filters.jsx b/src/sentry/static/sentry/app/views/stream/filters.jsx
index 08ec615b56..ed3c4e6cef 100644
--- a/src/sentry/static/sentry/app/views/stream/filters.jsx
+++ b/src/sentry/static/sentry/app/views/stream/filters.jsx
@@ -15,6 +15,7 @@ var StreamFilters = React.createClass({
 
   getDefaultProps() {
     return {
+      defaultQuery: "",
       filter: "",
       query: "",
       onFilterChange: function() {},
@@ -84,7 +85,8 @@ var StreamFilters = React.createClass({
             </div>
           </div>
           <div className="col-sm-8">
-            <SearchBar query={this.props.query}
+            <SearchBar defaultQuery={this.props.defaultQuery}
+              query={this.props.query}
               onQueryChange={this.props.onQueryChange}
               onSearch={this.props.onSearch} />
           </div>
diff --git a/src/sentry/static/sentry/app/views/stream/searchBar.jsx b/src/sentry/static/sentry/app/views/stream/searchBar.jsx
index 123f28fc96..2a0c0218d0 100644
--- a/src/sentry/static/sentry/app/views/stream/searchBar.jsx
+++ b/src/sentry/static/sentry/app/views/stream/searchBar.jsx
@@ -12,6 +12,7 @@ var SearchBar = React.createClass({
 
   getDefaultProps() {
     return {
+      defaultQuery: "",
       query: "",
       onSearch: function() {},
       onQueryChange: function() {}
@@ -31,7 +32,7 @@ var SearchBar = React.createClass({
   },
 
   clearSearch() {
-    this.props.onQueryChange("", this.props.onSearch);
+    this.props.onQueryChange(this.props.defaultQuery, this.props.onSearch);
   },
 
   onQueryFocus() {
@@ -65,7 +66,7 @@ var SearchBar = React.createClass({
               onBlur={this.onQueryBlur}
               onChange={this.onQueryChange} />
             <span className="icon-search" />
-            {this.props.query !== '' &&
+            {this.props.query !== this.props.defaultQuery &&
               <div>
                 <a className="search-save-search btn btn-xs btn-default">Save</a>
                 <a className="search-clear-form" onClick={this.clearSearch}>
