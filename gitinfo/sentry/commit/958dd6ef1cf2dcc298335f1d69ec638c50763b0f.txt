commit 958dd6ef1cf2dcc298335f1d69ec638c50763b0f
Author: Jan Michael Auer <account@jauer.org>
Date:   Mon Oct 1 18:30:23 2018 +0200

    feat: Pick up packages in SDK interface (#9946)

diff --git a/src/sentry/interfaces/sdk.py b/src/sentry/interfaces/sdk.py
index 2b33545c6b..ceb9d26d86 100644
--- a/src/sentry/interfaces/sdk.py
+++ b/src/sentry/interfaces/sdk.py
@@ -34,9 +34,15 @@ class Sdk(Interface):
     The SDK used to transmit this event.
 
     >>> {
-    >>>     "name": "sentry-java",
-    >>>     "version": "1.0",
-    >>>     "integrations": ["log4j"]
+    >>>     "name": "sentry.java",
+    >>>     "version": "1.7.10",
+    >>>     "integrations": ["log4j"],
+    >>>     "packages": [
+    >>>         {
+    >>>             "name": "maven:io.sentry.sentry",
+    >>>             "version": "1.7.10",
+    >>>         }
+    >>>     ]
     >>> }
     """
 
@@ -54,10 +60,15 @@ class Sdk(Interface):
         if integrations and not isinstance(integrations, list):
             raise InterfaceValidationError("'integrations' must be a list")
 
+        packages = data.get('packages')
+        if packages and not isinstance(packages, list):
+            raise InterfaceValidationError("'packages' must be a list")
+
         kwargs = {
             'name': trim(name, 128),
             'version': trim(version, 128),
             'integrations': integrations,
+            'packages': packages,
         }
         return cls(**kwargs)
 
diff --git a/tests/sentry/interfaces/test_sdk.py b/tests/sentry/interfaces/test_sdk.py
index bca95ac36b..0d4526d6a1 100644
--- a/tests/sentry/interfaces/test_sdk.py
+++ b/tests/sentry/interfaces/test_sdk.py
@@ -14,11 +14,19 @@ class SdkTest(TestCase):
         assert Sdk.to_python({
             'name': 'sentry-java',
             'version': '1.0',
-            'integrations': ['log4j']
+            'integrations': ['log4j'],
+            'packages': [{
+                'name': 'maven:io.sentry.sentry',
+                'version': '1.7.10',
+            }],
         }).to_json() == {
             'name': 'sentry-java',
             'version': '1.0',
-            'integrations': ['log4j']
+            'integrations': ['log4j'],
+            'packages': [{
+                'name': 'maven:io.sentry.sentry',
+                'version': '1.7.10',
+            }],
         }
 
     def test_missing_name(self):
