commit 1fcf9ce5f5d6455f776ae3815183dfbb694c56d1
Author: Danny Lee <dlee@sentry.io>
Date:   Mon Oct 14 17:46:24 2019 -0700

    ref(ts): Convert ActionLink (#14947)

diff --git a/src/sentry/static/sentry/app/components/actions/actionLink.jsx b/src/sentry/static/sentry/app/components/actions/actionLink.tsx
similarity index 73%
rename from src/sentry/static/sentry/app/components/actions/actionLink.jsx
rename to src/sentry/static/sentry/app/components/actions/actionLink.tsx
index 7a5c3758bc..dd423cef3b 100644
--- a/src/sentry/static/sentry/app/components/actions/actionLink.jsx
+++ b/src/sentry/static/sentry/app/components/actions/actionLink.tsx
@@ -1,19 +1,28 @@
 import React from 'react';
-import PropTypes from 'prop-types';
-
+import styled from 'react-emotion';
 import classNames from 'classnames';
+import PropTypes from 'prop-types';
 
 import Confirm from 'app/components/confirm';
 
-export default class ActionLink extends React.Component {
+type ActionLinkProps = {
+  title: string;
+  message: React.ReactNode;
+  disabled?: boolean;
+  onAction: () => void;
+  shouldConfirm?: boolean;
+  confirmLabel?: string;
+} & React.HTMLAttributes<HTMLDivElement>;
+
+export default class ActionLink extends React.Component<ActionLinkProps> {
   static propTypes = {
-    shouldConfirm: PropTypes.bool,
-    message: PropTypes.node,
     className: PropTypes.any,
-    onAction: PropTypes.func.isRequired,
     title: PropTypes.string,
-    confirmLabel: PropTypes.string,
+    message: PropTypes.node,
     disabled: PropTypes.bool,
+    onAction: PropTypes.func.isRequired,
+    shouldConfirm: PropTypes.bool,
+    confirmLabel: PropTypes.string,
   };
 
   static defaultProps = {
@@ -47,7 +56,7 @@ export default class ActionLink extends React.Component {
       );
     } else {
       return (
-        <a
+        <ActionLinkAnchor
           data-test-id={testId}
           aria-label={title}
           className={classNames(className, {disabled})}
@@ -55,8 +64,11 @@ export default class ActionLink extends React.Component {
           disabled={disabled}
         >
           {children}
-        </a>
+        </ActionLinkAnchor>
       );
     }
   }
 }
+const ActionLinkAnchor = styled('a')<{disabled?: boolean}>`
+  pointer-events: ${p => (p.disabled ? 'none' : 'auto')};
+`;
diff --git a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
index e62dd94c2f..6d7212d4bd 100644
--- a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
@@ -487,14 +487,21 @@ exports[`ResolveActions with confirmation step renders 1`] = `
                                   onAction={[Function]}
                                   shouldConfirm={false}
                                 >
-                                  <a
+                                  <ActionLinkAnchor
                                     className=""
                                     data-test-id="action-link"
                                     disabled={false}
                                     onClick={[Function]}
                                   >
-                                    Another version…
-                                  </a>
+                                    <a
+                                      className="css-19ecu88-ActionLinkAnchor ehtyk0g0"
+                                      data-test-id="action-link"
+                                      disabled={false}
+                                      onClick={[Function]}
+                                    >
+                                      Another version…
+                                    </a>
+                                  </ActionLinkAnchor>
                                 </ActionLink>
                               </span>
                             </Container>
@@ -605,23 +612,31 @@ exports[`ResolveActions without confirmation renders 1`] = `
           shouldConfirm={false}
           title="Resolve"
         >
-          <a
+          <ActionLinkAnchor
             aria-label="Resolve"
             className="btn btn-default btn-sm"
             data-test-id="action-link-resolve"
             disabled={false}
             onClick={[Function]}
           >
-            <span
-              className="icon-checkmark hidden-xs"
-              style={
-                Object {
-                  "marginRight": 5,
+            <a
+              aria-label="Resolve"
+              className="btn btn-default btn-sm css-19ecu88-ActionLinkAnchor ehtyk0g0"
+              data-test-id="action-link-resolve"
+              disabled={false}
+              onClick={[Function]}
+            >
+              <span
+                className="icon-checkmark hidden-xs"
+                style={
+                  Object {
+                    "marginRight": 5,
+                  }
                 }
-              }
-            />
-            Resolve
-          </a>
+              />
+              Resolve
+            </a>
+          </ActionLinkAnchor>
         </ActionLink>
         <DropdownLink
           alwaysRenderMenu={true}
@@ -717,14 +732,21 @@ exports[`ResolveActions without confirmation renders 1`] = `
                                   onAction={[Function]}
                                   shouldConfirm={false}
                                 >
-                                  <a
+                                  <ActionLinkAnchor
                                     className=""
                                     data-test-id="action-link"
                                     disabled={false}
                                     onClick={[Function]}
                                   >
-                                    The next release
-                                  </a>
+                                    <a
+                                      className="css-19ecu88-ActionLinkAnchor ehtyk0g0"
+                                      data-test-id="action-link"
+                                      disabled={false}
+                                      onClick={[Function]}
+                                    >
+                                      The next release
+                                    </a>
+                                  </ActionLinkAnchor>
                                 </ActionLink>
                               </span>
                             </Container>
@@ -765,14 +787,21 @@ exports[`ResolveActions without confirmation renders 1`] = `
                                   onAction={[Function]}
                                   shouldConfirm={false}
                                 >
-                                  <a
+                                  <ActionLinkAnchor
                                     className=""
                                     data-test-id="action-link"
                                     disabled={false}
                                     onClick={[Function]}
                                   >
-                                    The current release
-                                  </a>
+                                    <a
+                                      className="css-19ecu88-ActionLinkAnchor ehtyk0g0"
+                                      data-test-id="action-link"
+                                      disabled={false}
+                                      onClick={[Function]}
+                                    >
+                                      The current release
+                                    </a>
+                                  </ActionLinkAnchor>
                                 </ActionLink>
                               </span>
                             </Container>
@@ -813,14 +842,21 @@ exports[`ResolveActions without confirmation renders 1`] = `
                                   onAction={[Function]}
                                   shouldConfirm={false}
                                 >
-                                  <a
+                                  <ActionLinkAnchor
                                     className=""
                                     data-test-id="action-link"
                                     disabled={false}
                                     onClick={[Function]}
                                   >
-                                    Another version…
-                                  </a>
+                                    <a
+                                      className="css-19ecu88-ActionLinkAnchor ehtyk0g0"
+                                      data-test-id="action-link"
+                                      disabled={false}
+                                      onClick={[Function]}
+                                    >
+                                      Another version…
+                                    </a>
+                                  </ActionLinkAnchor>
                                 </ActionLink>
                               </span>
                             </Container>
