commit 0013ca53183a1248ea1dd5f91cf019746b8d359f
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Mon Dec 12 12:59:10 2016 +0100

    Do not calculate systme frame information for raw stacktraces

diff --git a/src/sentry/interfaces/stacktrace.py b/src/sentry/interfaces/stacktrace.py
index 8a666a784c..ba94b7b4b5 100644
--- a/src/sentry/interfaces/stacktrace.py
+++ b/src/sentry/interfaces/stacktrace.py
@@ -634,9 +634,6 @@ class Stacktrace(Interface):
         if not isinstance(data['frames'], list):
             raise InterfaceValidationError("Invalid value for 'frames'")
 
-        if has_system_frames is None:
-            has_system_frames = cls.data_has_system_frames(data)
-
         frame_list = [
             # XXX(dcramer): handle PHP sending an empty array for a frame
             Frame.to_python(f or {}, raw=raw)
@@ -644,6 +641,8 @@ class Stacktrace(Interface):
         ]
 
         if not raw:
+            if has_system_frames is None:
+                has_system_frames = cls.data_has_system_frames(data)
             for frame in frame_list:
                 if not has_system_frames:
                     frame.in_app = False
