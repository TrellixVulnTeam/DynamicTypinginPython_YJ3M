commit 698bf77835a30257af5791c4745054a45a45cbbb
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 4 15:02:28 2011 -0700

    Ensure that our template origin check hits the tuple correctly

diff --git a/sentry/client/base.py b/sentry/client/base.py
index fef1b5c9fa..4468b61159 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -256,8 +256,8 @@ class SentryClient(object):
             'exc': map(transform, [exc_module, exc_value.args, frames]),
         }
 
-        if (isinstance(exc_value, TemplateSyntaxError) and
-            hasattr(exc_value, 'source') and isinstance(exc_value.source, LoaderOrigin)):
+        if (isinstance(exc_value, TemplateSyntaxError) and \
+            isinstance(getattr(exc_value, 'source', None), (tuple, list)) and isinstance(exc_value.source[0], LoaderOrigin)):
             origin, (start, end) = exc_value.source
             data['__sentry__'].update({
                 'template': (origin.reload(), start, end, origin.name),
