commit d3779550b2c95627775e652c28112be4b38e9e3d
Author: Leander Rodrigues <leandergrodrigues@gmail.com>
Date:   Mon Feb 10 10:06:57 2020 -0800

    fix: Pagination bug for tag pages (#16866)
    
    Fixes bug allowing for pagination on issue-tag views

diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupTagValues.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupTagValues.jsx
index a82008412f..8e9aad9792 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupTagValues.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupTagValues.jsx
@@ -22,7 +22,9 @@ class GroupTagValues extends React.Component {
   static propTypes = {
     api: PropTypes.object,
     group: SentryTypes.Group.isRequired,
-    query: PropTypes.object,
+    location: PropTypes.shape({
+      query: PropTypes.object,
+    }),
   };
 
   state = {
@@ -33,19 +35,22 @@ class GroupTagValues extends React.Component {
     pageLinks: '',
   };
 
-  componentWillMount() {
+  componentDidMount() {
     this.fetchData();
   }
 
   componentDidUpdate(prevProps) {
-    const queryHasChanged = !isEqual(prevProps.query, this.props.query);
+    const queryHasChanged = !isEqual(prevProps.location.query, this.props.location.query);
     if (queryHasChanged || prevProps.params.tagKey !== this.props.params.tagKey) {
       this.fetchData();
     }
   }
 
   fetchData = async () => {
-    const {params, query} = this.props;
+    const {
+      params,
+      location: {query},
+    } = this.props;
     this.setState({
       loading: true,
       error: false,
diff --git a/tests/js/spec/views/organizationGroupDetails/groupTagValues.spec.jsx b/tests/js/spec/views/organizationGroupDetails/groupTagValues.spec.jsx
index 3b99043eb9..71cd8b6687 100644
--- a/tests/js/spec/views/organizationGroupDetails/groupTagValues.spec.jsx
+++ b/tests/js/spec/views/organizationGroupDetails/groupTagValues.spec.jsx
@@ -24,7 +24,7 @@ describe('GroupTagValues', function() {
     const wrapper = mount(
       <GroupTagValues
         group={group}
-        query={{}}
+        location={{query: {}}}
         params={{orgId: 'org-slug', groupId: group.id, tagKey: 'user'}}
       />,
       routerContext
