commit 0baa7701ac71bbff63a35e57aeca1700cf843b6a
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 10 14:11:23 2014 -0800

    Handle empty querysets

diff --git a/src/sentry/utils/query.py b/src/sentry/utils/query.py
index 5fa0db2a68..83cda712f7 100644
--- a/src/sentry/utils/query.py
+++ b/src/sentry/utils/query.py
@@ -107,6 +107,8 @@ class RangeQuerySetWrapper(object):
 class RangeQuerySetWrapperWithProgressBar(RangeQuerySetWrapper):
     def __iter__(self):
         total_count = self.queryset.count()
+        if not total_count:
+            return iter([])
         iterator = super(RangeQuerySetWrapperWithProgressBar, self).__iter__()
         label = self.queryset.model._meta.verbose_name_plural.title()
         return iter(WithProgressBar(iterator, total_count, label))
