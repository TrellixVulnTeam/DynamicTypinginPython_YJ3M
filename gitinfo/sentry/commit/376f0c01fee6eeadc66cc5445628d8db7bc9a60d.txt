commit 376f0c01fee6eeadc66cc5445628d8db7bc9a60d
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Dec 15 18:10:59 2013 -0800

    Improve sample email context

diff --git a/src/sentry/utils/samples.py b/src/sentry/utils/samples.py
index df08bbf810..b1194c7a7d 100644
--- a/src/sentry/utils/samples.py
+++ b/src/sentry/utils/samples.py
@@ -12,15 +12,7 @@ from sentry.models import Group
 from sentry.utils import json
 
 
-def create_sample_event(project, platform=None):
-    if not platform:
-        platform = project.platform
-
-    if not platform:
-        return
-
-    platform = PLATFORM_ROOTS.get(platform, platform)
-
+def load_data(platform):
     json_path = os.path.join(DATA_ROOT, 'samples', '%s.json' % (platform.encode('utf-8'),))
 
     if not os.path.exists(json_path):
@@ -49,5 +41,23 @@ def create_sample_event(project, platform=None):
         "data": {},
         "method": "GET"
     }
+
+    return data
+
+
+def create_sample_event(project, platform=None):
+    if not platform:
+        platform = project.platform
+
+    if not platform:
+        return
+
+    platform = PLATFORM_ROOTS.get(platform, platform)
+
+    data = load_data(platform)
+
+    if not data:
+        return
+
     data = Group.objects.normalize_event_data(data)
     return Group.objects.save_data(project.id, data, raw=True)
diff --git a/src/sentry/web/frontend/debug/mail.py b/src/sentry/web/frontend/debug/mail.py
index e47fccf70a..ee394d211a 100644
--- a/src/sentry/web/frontend/debug/mail.py
+++ b/src/sentry/web/frontend/debug/mail.py
@@ -1,6 +1,7 @@
 from django.utils.safestring import mark_safe
 
 from sentry.models import Event, Group, Project, Team
+from sentry.utils.samples import load_data
 from sentry.web.helpers import render_to_response, render_to_string
 
 
@@ -35,6 +36,7 @@ def new_event(request):
         project=project,
         group=group,
         message=group.message,
+        data=load_data('python'),
     )
 
     interface_list = []
