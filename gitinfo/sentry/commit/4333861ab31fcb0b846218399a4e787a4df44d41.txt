commit 4333861ab31fcb0b846218399a4e787a4df44d41
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 23 15:23:31 2017 -0700

    ui: various improvements to charts
    
    - add .standard-chart class
    - remove .sparkline as standard naming
    - add min/max y values for standard-chart

diff --git a/src/sentry/static/sentry/app/components/count.jsx b/src/sentry/static/sentry/app/components/count.jsx
index 3fbe3414dc..dee1414cab 100644
--- a/src/sentry/static/sentry/app/components/count.jsx
+++ b/src/sentry/static/sentry/app/components/count.jsx
@@ -1,6 +1,6 @@
 import React from 'react';
 
-const Count = React.createClass({
+export default React.createClass({
   propTypes: {
     value: React.PropTypes.any.isRequired
   },
@@ -32,12 +32,10 @@ const Count = React.createClass({
         return '' + this.floatFormat(number / x, 1) + y;
       }
     }
-    return '' + number;
+    return '' + number.toLocaleString();
   },
 
   render() {
     return <span>{this.formatNumber(this.props.value)}</span>;
   }
 });
-
-export default Count;
diff --git a/src/sentry/static/sentry/app/components/events/eventsPerHour.jsx b/src/sentry/static/sentry/app/components/events/eventsPerHour.jsx
index 3286f4727d..becd6824b7 100644
--- a/src/sentry/static/sentry/app/components/events/eventsPerHour.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventsPerHour.jsx
@@ -106,7 +106,7 @@ const EventsPerHour = React.createClass({
         <h6 className="nav-header">{t('Events Per Hour')}</h6>
         <StackedBarChart
           series={this.state.formattedData}
-          className="sparkline dashboard-sparkline"
+          className="dashboard-barchart standard-barchart"
           label="events"
           barClasses={this.STAT_OPTS}
         />
diff --git a/src/sentry/static/sentry/app/components/internalStatChart.jsx b/src/sentry/static/sentry/app/components/internalStatChart.jsx
index f7fbcbc274..e536158be5 100644
--- a/src/sentry/static/sentry/app/components/internalStatChart.jsx
+++ b/src/sentry/static/sentry/app/components/internalStatChart.jsx
@@ -87,6 +87,7 @@ export default React.createClass({
     return (
       <BarChart
         points={this.getChartPoints()}
+        className="standard-barchart"
         label={this.props.label}
         height={this.props.height}
       />
diff --git a/src/sentry/static/sentry/app/components/stackedBarChart.jsx b/src/sentry/static/sentry/app/components/stackedBarChart.jsx
index 2205ad4b9c..a1e68c5c01 100644
--- a/src/sentry/static/sentry/app/components/stackedBarChart.jsx
+++ b/src/sentry/static/sentry/app/components/stackedBarChart.jsx
@@ -2,6 +2,7 @@ import moment from 'moment';
 import underscore from 'underscore';
 import React from 'react';
 import TooltipMixin from '../mixins/tooltip';
+import Count from './count';
 import ConfigStore from '../stores/configStore.jsx';
 
 const StackedBarChart = React.createClass({
@@ -243,11 +244,7 @@ const StackedBarChart = React.createClass({
     let key = ['m', marker.className, marker.x].join('-');
 
     return (
-      <a
-        key={key}
-        className={className}
-        style={{height: this.props.height}}
-        data-title={title}>
+      <a key={key} className={className} style={{height: '100%'}} data-title={title}>
         <span>{marker.label}</span>
       </a>
     );
@@ -299,7 +296,7 @@ const StackedBarChart = React.createClass({
         key={point.x}
         className="chart-column tip"
         data-point-index={point.x}
-        style={{width: pointWidth, height: this.props.height}}>
+        style={{width: pointWidth, height: '100%'}}>
         {pts}
       </a>
     );
@@ -349,7 +346,7 @@ const StackedBarChart = React.createClass({
       <figure
         className={figureClass}
         style={{height: this.props.height, width: this.props.width}}>
-        <span className="max-y">{maxval}</span>
+        <span className="max-y"><Count value={maxval} /></span>
         <span className="min-y">0</span>
         <span>{this.renderChart()}</span>
       </figure>
diff --git a/src/sentry/static/sentry/app/views/adminBuffer.jsx b/src/sentry/static/sentry/app/views/adminBuffer.jsx
index fc92da9a6b..6a6bba4cc8 100644
--- a/src/sentry/static/sentry/app/views/adminBuffer.jsx
+++ b/src/sentry/static/sentry/app/views/adminBuffer.jsx
@@ -36,28 +36,24 @@ const AdminBuffer = React.createClass({
           <div className="box-header">
             <h4>Updates Processed</h4>
           </div>
-          <div className="box-content with-padding">
-            <InternalStatChart
-              since={this.state.since}
-              resolution={this.state.resolution}
-              stat="jobs.finished.sentry.tasks.process_buffer.process_incr"
-              label="Jobs"
-            />
-          </div>
+          <InternalStatChart
+            since={this.state.since}
+            resolution={this.state.resolution}
+            stat="jobs.finished.sentry.tasks.process_buffer.process_incr"
+            label="Jobs"
+          />
         </div>
 
         <div className="box">
           <div className="box-header">
             <h4>Revoked Updates</h4>
           </div>
-          <div className="box-content with-padding">
-            <InternalStatChart
-              since={this.state.since}
-              resolution={this.state.resolution}
-              stat="buffer.revoked"
-              label="Jobs"
-            />
-          </div>
+          <InternalStatChart
+            since={this.state.since}
+            resolution={this.state.resolution}
+            stat="buffer.revoked"
+            label="Jobs"
+          />
         </div>
       </div>
     );
diff --git a/src/sentry/static/sentry/app/views/adminOverview/apiChart.jsx b/src/sentry/static/sentry/app/views/adminOverview/apiChart.jsx
index cbaafb599a..83535e6d98 100644
--- a/src/sentry/static/sentry/app/views/adminOverview/apiChart.jsx
+++ b/src/sentry/static/sentry/app/views/adminOverview/apiChart.jsx
@@ -109,6 +109,12 @@ export default React.createClass({
   render() {
     if (this.state.loading) return <LoadingIndicator />;
     else if (this.state.error) return <LoadingError onRetry={this.fetchData} />;
-    return <StackedBarChart series={this.getChartSeries()} height={150} />;
+    return (
+      <StackedBarChart
+        series={this.getChartSeries()}
+        height={150}
+        className="standard-barchart"
+      />
+    );
   }
 });
diff --git a/src/sentry/static/sentry/app/views/adminOverview/eventChart.jsx b/src/sentry/static/sentry/app/views/adminOverview/eventChart.jsx
index 7a4ade6af9..161df1b6b2 100644
--- a/src/sentry/static/sentry/app/views/adminOverview/eventChart.jsx
+++ b/src/sentry/static/sentry/app/views/adminOverview/eventChart.jsx
@@ -133,6 +133,12 @@ export default React.createClass({
   render() {
     if (this.state.loading) return <LoadingIndicator />;
     else if (this.state.error) return <LoadingError onRetry={this.fetchData} />;
-    return <StackedBarChart series={this.getChartSeries()} height={150} />;
+    return (
+      <StackedBarChart
+        series={this.getChartSeries()}
+        height={150}
+        className="standard-barchart"
+      />
+    );
   }
 });
diff --git a/src/sentry/static/sentry/app/views/adminOverview/index.jsx b/src/sentry/static/sentry/app/views/adminOverview/index.jsx
index bd6e06a974..ed957ee111 100644
--- a/src/sentry/static/sentry/app/views/adminOverview/index.jsx
+++ b/src/sentry/static/sentry/app/views/adminOverview/index.jsx
@@ -24,18 +24,14 @@ export default React.createClass({
               <span id="rate" className="pull-right" />
             </h4>
           </div>
-          <div className="box-content with-padding">
-            <EventChart since={this.state.since} resolution={this.state.resolution} />
-          </div>
+          <EventChart since={this.state.since} resolution={this.state.resolution} />
         </div>
 
         <div className="box">
           <div className="box-header">
             <h4>API Responses</h4>
           </div>
-          <div className="box-content with-padding">
-            <ApiChart since={this.state.since} resolution={this.state.resolution} />
-          </div>
+          <ApiChart since={this.state.since} resolution={this.state.resolution} />
         </div>
       </div>
     );
diff --git a/src/sentry/static/sentry/app/views/adminQueue.jsx b/src/sentry/static/sentry/app/views/adminQueue.jsx
index 677ee675e8..3df62d0a51 100644
--- a/src/sentry/static/sentry/app/views/adminQueue.jsx
+++ b/src/sentry/static/sentry/app/views/adminQueue.jsx
@@ -87,14 +87,12 @@ export default React.createClass({
 
         <div className="box">
           <div className="box-header"><h3>Global Throughput</h3></div>
-          <div className="box-content with-padding">
-            <InternalStatChart
-              since={this.state.since}
-              resolution={this.state.resolution}
-              stat="jobs.all.started"
-              label="jobs started"
-            />
-          </div>
+          <InternalStatChart
+            since={this.state.since}
+            resolution={this.state.resolution}
+            stat="jobs.all.started"
+            label="jobs started"
+          />
         </div>
 
         <h3 className="no-border">Task Details</h3>
@@ -120,29 +118,25 @@ export default React.createClass({
                           <div className="box-header">
                             Jobs Started <small>{activeTask}</small>
                           </div>
-                          <div className="box-content with-padding">
-                            <InternalStatChart
-                              since={this.state.since}
-                              resolution={this.state.resolution}
-                              stat={`jobs.started.${this.state.activeTask}`}
-                              label="jobs"
-                              height={100}
-                            />
-                          </div>
+                          <InternalStatChart
+                            since={this.state.since}
+                            resolution={this.state.resolution}
+                            stat={`jobs.started.${this.state.activeTask}`}
+                            label="jobs"
+                            height={100}
+                          />
                         </div>
                         <div className="box box-mini" key="jobs.finished">
                           <div className="box-header">
                             Jobs Finished <small>{activeTask}</small>
                           </div>
-                          <div className="box-content with-padding">
-                            <InternalStatChart
-                              since={this.state.since}
-                              resolution={this.state.resolution}
-                              stat={`jobs.finished.${this.state.activeTask}`}
-                              label="jobs"
-                              height={100}
-                            />
-                          </div>
+                          <InternalStatChart
+                            since={this.state.since}
+                            resolution={this.state.resolution}
+                            stat={`jobs.finished.${this.state.activeTask}`}
+                            label="jobs"
+                            height={100}
+                          />
                         </div>
                       </div>
                     : null}
diff --git a/src/sentry/static/sentry/app/views/organizationDashboard.jsx b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
index a5f95a9162..21176ca933 100644
--- a/src/sentry/static/sentry/app/views/organizationDashboard.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
@@ -303,7 +303,6 @@ const OrganizationDashboard = React.createClass({
           </div>
           <div className="col-md-4">
             <EventsPerHour {...this.props} />
-            <hr />
             <ProjectList {...this.props} teams={this.state.teams} />
           </div>
         </div>
diff --git a/src/sentry/static/sentry/app/views/organizationStats/index.jsx b/src/sentry/static/sentry/app/views/organizationStats/index.jsx
index 631a0537c5..1fbb114b61 100644
--- a/src/sentry/static/sentry/app/views/organizationStats/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationStats/index.jsx
@@ -263,6 +263,7 @@ const OrganizationStats = React.createClass({
                       points={this.state.orgStats}
                       height={150}
                       label="events"
+                      className="standard-barchart"
                       barClasses={['accepted', 'rate-limited', 'black-listed']}
                       tooltip={this.renderTooltip}
                     />
diff --git a/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx b/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
index 56d37f20de..708a4932f6 100644
--- a/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
+++ b/src/sentry/static/sentry/app/views/projectDashboard/chart.jsx
@@ -99,7 +99,13 @@ const ProjectChart = React.createClass({
 
     return (
       <div className="chart-wrapper">
-        <BarChart points={points} markers={markers} label="events" />
+        <BarChart
+          points={points}
+          markers={markers}
+          label="events"
+          height={150}
+          className="standard-barchart"
+        />
         <small className="date-legend">
           {moment(this.props.dateSince * 1000).format('LL')}
         </small>
@@ -108,19 +114,9 @@ const ProjectChart = React.createClass({
   },
 
   render() {
-    return (
-      <div className="box project-chart">
-        <div className="box-content with-padding">
-          <div className="bar-chart">
-            {this.state.loading
-              ? <LoadingIndicator />
-              : this.state.error
-                  ? <LoadingError onRetry={this.fetchData} />
-                  : this.renderChart()}
-          </div>
-        </div>
-      </div>
-    );
+    return this.state.loading
+      ? <LoadingIndicator />
+      : this.state.error ? <LoadingError onRetry={this.fetchData} /> : this.renderChart();
   }
 });
 
diff --git a/src/sentry/static/sentry/app/views/projectDataForwarding.jsx b/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
index 4cea490731..ce297943b9 100644
--- a/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
+++ b/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
@@ -63,30 +63,26 @@ const DataForwardingStats = React.createClass({
     else if (this.state.error) return <LoadingError onRetry={this.fetchData} />;
 
     return (
-      <div className="panel panel-default">
-        <div className="panel-heading">
-          <h6>{t('Forwarded events in the last 30 days (by day)')}</h6>
+      <div className="box">
+        <div className="box-header">
+          <h5>{t('Forwarded events in the last 30 days (by day)')}</h5>
         </div>
-        <div className="panel-body p-a-0">
-          {!this.state.emptyStats
-            ? <div className="inbound-filters-stats p-a-1">
-                <div className="bar-chart">
-                  <StackedBarChart
-                    points={this.state.stats}
-                    height={50}
-                    label="events"
-                    barClasses={['accepted']}
-                    className="sparkline m-b-0"
-                  />
-                </div>
-              </div>
-            : <div className="blankslate p-y-2">
+        {!this.state.emptyStats
+          ? <StackedBarChart
+              points={this.state.stats}
+              height={150}
+              label="events"
+              barClasses={['accepted']}
+              className="standard-barchart"
+            />
+          : <div className="box-content">
+              <div className="blankslate p-y-2">
                 <h5>{t('Nothing forwarded in the last 30 days.')}</h5>
                 <p className="m-b-0">
                   {t('Total events forwarded to third party integrations.')}
                 </p>
-              </div>}
-        </div>
+              </div>
+            </div>}
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/projectFilters.jsx b/src/sentry/static/sentry/app/views/projectFilters.jsx
index 03c300c3bd..8bc92758fb 100644
--- a/src/sentry/static/sentry/app/views/projectFilters.jsx
+++ b/src/sentry/static/sentry/app/views/projectFilters.jsx
@@ -489,32 +489,28 @@ const ProjectFilters = React.createClass({
 
     return (
       <div>
-        <div className="panel panel-default">
-          <div className="panel-heading">
-            <h6>{t('Errors filtered in the last 30 days (by day)')}</h6>
+        <div className="box">
+          <div className="box-header">
+            <h5>{t('Errors filtered in the last 30 days (by day)')}</h5>
           </div>
-          <div className="panel-body p-a-0">
-            {!this.state.blankStats
-              ? <div className="inbound-filters-stats p-a-1">
-                  <div className="bar-chart">
-                    <StackedBarChart
-                      points={this.state.stats}
-                      height={50}
-                      label="events"
-                      barClasses={['filtered']}
-                      className="sparkline m-b-0"
-                    />
-                  </div>
-                </div>
-              : <div className="blankslate p-y-2">
+          {!this.state.blankStats
+            ? <StackedBarChart
+                points={this.state.stats}
+                height={50}
+                label="events"
+                barClasses={['filtered']}
+                className="standard-barchart"
+              />
+            : <div className="box-content">
+                <div className="blankslate p-y-2">
                   <h5>{t('Nothing filtered in the last 30 days.')}</h5>
                   <p className="m-b-0">
                     {t(
                       'Issues filtered as a result of your settings below will be shown here.'
                     )}
                   </p>
-                </div>}
-          </div>
+                </div>
+              </div>}
         </div>
         {this.state.filterList.map(filter => {
           let props = {
diff --git a/src/sentry/static/sentry/app/views/projectKeyDetails.jsx b/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
index 1e7f7d3b67..6a3047fbc9 100644
--- a/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
+++ b/src/sentry/static/sentry/app/views/projectKeyDetails.jsx
@@ -98,31 +98,27 @@ const KeyStats = React.createClass({
     else if (this.state.error) return <LoadingError onRetry={this.fetchData} />;
 
     return (
-      <div className="panel panel-default">
-        <div className="panel-heading">
-          <h6>{t('Key usage in the last 30 days (by day)')}</h6>
+      <div className="box">
+        <div className="box-header">
+          <h5>{t('Key usage in the last 30 days (by day)')}</h5>
         </div>
-        <div className="panel-body p-a-0">
-          {!this.state.emptyStats
-            ? <div className="inbound-filters-stats p-a-1">
-                <div className="bar-chart">
-                  <StackedBarChart
-                    points={this.state.stats}
-                    height={100}
-                    label="events"
-                    barClasses={['accepted', 'rate-limited']}
-                    className="sparkline m-b-0"
-                    tooltip={this.renderTooltip}
-                  />
-                </div>
-              </div>
-            : <div className="blankslate p-y-2">
+        {!this.state.emptyStats
+          ? <StackedBarChart
+              points={this.state.stats}
+              height={150}
+              label="events"
+              barClasses={['accepted', 'rate-limited']}
+              className="standard-barchart"
+              tooltip={this.renderTooltip}
+            />
+          : <div className="box-content">
+              <div className="blankslate p-y-2">
                 <h5>{t('Nothing recorded in the last 30 days.')}</h5>
                 <p className="m-b-0">
                   {t('Total events captured using these credentials.')}
                 </p>
-              </div>}
-        </div>
+              </div>
+            </div>}
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/less/components/charts.less b/src/sentry/static/sentry/less/components/charts.less
new file mode 100644
index 0000000000..aa662bb21f
--- /dev/null
+++ b/src/sentry/static/sentry/less/components/charts.less
@@ -0,0 +1,108 @@
+.barchart {
+  position: relative;
+  display: block;
+
+  .min-y,
+  .max-y {
+    display: none;
+  }
+
+  a {
+    position: relative;
+    float: left;
+    height: 20px;
+    display: block;
+    cursor: default;
+
+    &:hover {
+      > span {
+        background: @purple;
+        border-color: transparent;
+      }
+    }
+
+    > span {
+      display: block;
+      position: absolute;
+      bottom: 0;
+      left: 1px;
+      right: 1px;
+      min-width: 1px;
+      height: 0;
+      overflow: hidden;
+      text-indent: -9999px;
+      text-align: left;
+      min-height: 1px;
+
+      background: @gray-lighter;
+    }
+  }
+
+  .chart-marker {
+    display: block;
+    position: relative;
+    float: left;
+    width: 0;
+
+    &:hover {
+      > span {
+        background-color: gray;
+        border-color: #fff;
+      }
+    }
+
+    &.first-seen > span {
+      background: @pink;
+      left: -13px;
+    }
+
+    &.last-seen > span {
+      background: @green;
+    }
+
+    > span {
+      z-index: 2;
+      position: absolute;
+      bottom: -5px;
+      left: -5px;
+      border: 2px solid #fff;
+      .square(10px);
+      background: gray;
+      border-radius: 8px;
+    }
+
+    &.first-seen > span {
+    }
+    &.last-seen > span {
+    }
+  }
+}
+
+.standard-barchart {
+  border: 1px solid @gray-lightest;
+  padding: 20px 20px 20px 30px;
+
+  .min-y,
+  .max-y {
+    position: absolute;
+    left: 0;
+    width: 25px;
+    color: @gray;
+    font-size: 10px;
+    text-align: right;
+    display: block;
+    overflow: hidden;
+  }
+
+  .min-y {
+    bottom: 10px;
+  }
+
+  .max-y {
+    top: 10px;
+  }
+}
+
+.box > .standard-barchart {
+    border: 0;
+}
\ No newline at end of file
diff --git a/src/sentry/static/sentry/less/dashboard.less b/src/sentry/static/sentry/less/dashboard.less
index cf0e63b3f4..9c234fa947 100644
--- a/src/sentry/static/sentry/less/dashboard.less
+++ b/src/sentry/static/sentry/less/dashboard.less
@@ -39,35 +39,3 @@
     opacity: .4;
   }
 }
-
-.project-chart {
-  .loading {
-    margin: 0;
-    min-height: 93px;
-  }
-  .chart-wrapper {
-    position: relative;
-    padding-top: 20px;
-
-    .sparkline a {
-      span {
-        background: @purple-light;
-        #gradient > .vertical(@purple-light, @purple);
-      }
-
-      &:hover span {
-        background: @blue;
-      }
-    }
-
-    .date-legend {
-      top: 0;
-      left: 0;
-      position: absolute;
-      color: @gray-dark;
-      padding: 2px;
-      font-size: 12px;
-      line-height: 1;
-    }
-  }
-}
diff --git a/src/sentry/static/sentry/less/organization.less b/src/sentry/static/sentry/less/organization.less
index 52f308e5f5..a03e52b589 100644
--- a/src/sentry/static/sentry/less/organization.less
+++ b/src/sentry/static/sentry/less/organization.less
@@ -56,12 +56,11 @@
     }
   }
 
-  .dashboard-sparkline {
-    height: 45px;
+  .dashboard-barchart {
+    height: 100px;
+    margin-bottom: 30px;
 
     a {
-      height: 45px;
-
       > span {
         left: 2px;
         right: 2px;
@@ -301,6 +300,13 @@
   .isBookmarked .bookmark {
     color: @yellow-orange;
   }
+
+  .project-chart {
+    width: 210px;
+    .barchart {
+      height: 20px;
+    }
+  }
 }
 
 /**
@@ -427,7 +433,7 @@ table.project-list {
 
       &.project-chart {
         width: 210px;
-        .sparkline a {
+        .barchart {
           height: 20px;
         }
       }
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index fcbde12e97..3f0c8b5cec 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -1,4 +1,5 @@
 @import url('components/broadcasts.less');
+@import url('components/charts.less');
 @import url('components/statuspage.less');
 
 dl.flat {
@@ -1499,86 +1500,6 @@ table.integrations {
     float: right;
     position: relative;
   }
-
-}
-
-.sparkline {
-  position: relative;
-
-  .max-y,
-  .min-y {
-    display: none;
-  }
-
-  a {
-    position: relative;
-    float: left;
-    height: 20px;
-    display: block;
-    cursor: default;
-
-    &:hover {
-      > span {
-        background: @purple;
-        border-color: transparent;
-      }
-    }
-
-    > span {
-      display: block;
-      position: absolute;
-      bottom: 0;
-      left: 1px;
-      right: 1px;
-      min-width: 1px;
-      height: 0;
-      overflow: hidden;
-      text-indent: -9999px;
-      text-align: left;
-      min-height: 1px;
-
-      background: @gray-lighter;
-    }
-  }
-
-  .chart-marker {
-    display: block;
-    position: relative;
-    float: left;
-    width: 0;
-
-    &:hover {
-      > span {
-        background-color: gray;
-        border-color: #fff;
-      }
-    }
-
-    &.first-seen > span {
-      background: @pink;
-      left: -13px;
-    }
-
-    &.last-seen > span {
-      background: @green;
-    }
-
-    > span {
-      z-index: 2;
-      position: absolute;
-      bottom: -5px;
-      left: -5px;
-      border: 2px solid #fff;
-      .square(10px);
-      background: gray;
-      border-radius: 8px;
-    }
-
-    &.first-seen > span {
-    }
-    &.last-seen > span {
-    }
-  }
 }
 
 // Sparkline grid
diff --git a/src/sentry/static/sentry/less/stream.less b/src/sentry/static/sentry/less/stream.less
index 4fb7d550f2..c804893c3c 100644
--- a/src/sentry/static/sentry/less/stream.less
+++ b/src/sentry/static/sentry/less/stream.less
@@ -542,7 +542,7 @@
   }
 
   .event-graph {
-    .sparkline a {
+    .barchart {
       height: 24px;
     }
   }
diff --git a/tests/acceptance/test_project_issues.py b/tests/acceptance/test_project_issues.py
index 4e7c0427df..18c75ad879 100644
--- a/tests/acceptance/test_project_issues.py
+++ b/tests/acceptance/test_project_issues.py
@@ -42,7 +42,7 @@ class ProjectIssuesTest(AcceptanceTestCase):
         )
         self.browser.get(self.path)
         self.browser.wait_until('.group-list')
-        self.browser.wait_until('.sparkline')
+        self.browser.wait_until('.barchart')
         self.browser.snapshot('project issues with issues')
 
     def test_with_no_issues(self):
