commit b149ebd8601b3c7a2133c197e10fd6cc37d5795c
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Nov 13 14:01:37 2018 -0800

    test(js): Fix jsdom window.performance.mark (#10573)
    
    JSDOM implements window.performance, but not the full API.
    
    See: https://github.com/jsdom/jsdom/issues/2136
    
    I wasn't about to stub this out, so just gonna add this additional type check for now.

diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index c19774253e..04eadf8a2f 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -26,8 +26,10 @@ import * as il8n from 'app/locale';
 import plugins from 'app/plugins';
 
 // Used for operational metrics to determine that the application js
-// bundle was loaded by browser
-if (window.performance) {
+// bundle was loaded by browser.
+//
+// JSDOM implements window.performance but not window.performance.mark
+if (window.performance && typeof window.performance.mark === 'function') {
   window.performance.mark('sentry-app-init');
 }
 
