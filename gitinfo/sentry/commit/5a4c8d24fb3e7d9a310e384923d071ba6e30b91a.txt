commit 5a4c8d24fb3e7d9a310e384923d071ba6e30b91a
Author: Matej Minar <matej.minar@sentry.io>
Date:   Wed Apr 15 11:01:42 2020 +0200

    fix(ui): Don't call onClose when project in PickProjectToContinue was picked (#18276)

diff --git a/src/sentry/static/sentry/app/views/releasesV2/detail/pickProjectToContinue.tsx b/src/sentry/static/sentry/app/views/releasesV2/detail/pickProjectToContinue.tsx
index 7e88c505bb..d7ef0f5084 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/detail/pickProjectToContinue.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/detail/pickProjectToContinue.tsx
@@ -14,6 +14,8 @@ type Props = {
 };
 
 const PickProjectToContinue = ({orgSlug, version, router, projects}: Props) => {
+  let navigating = false;
+
   const path = `/organizations/${orgSlug}/releases-v2/${encodeURIComponent(
     version
   )}/?project=`;
@@ -32,6 +34,7 @@ const PickProjectToContinue = ({orgSlug, version, router, projects}: Props) => {
         needProject
         nextPath={`${path}:project`}
         onFinish={pathname => {
+          navigating = true;
           router.replace(pathname);
         }}
         projectSlugs={projects.map(p => p.slug)}
@@ -39,8 +42,11 @@ const PickProjectToContinue = ({orgSlug, version, router, projects}: Props) => {
     ),
     {
       onClose() {
-        // if a user closes the modal (either via button, Esc, clicking outside)
-        router.push(`/organizations/${orgSlug}/releases-v2/`);
+        // we want this to be executed only if the user didn't select any project
+        // (closed modal either via button, Esc, clicking outside, ...)
+        if (!navigating) {
+          router.push(`/organizations/${orgSlug}/releases-v2/`);
+        }
       },
     }
   );
