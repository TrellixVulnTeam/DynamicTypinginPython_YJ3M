commit a7269d7234f7b8908b41b4b34806d04e88cba3ef
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu May 23 09:28:16 2019 -0700

    feat(events-v2): Add no project message (#13349)
    
    Display the "no projects" UI if the user is not in a team with any
    projects.

diff --git a/src/sentry/static/sentry/app/views/organizationEventsV2/index.jsx b/src/sentry/static/sentry/app/views/organizationEventsV2/index.jsx
index 59241455ac..8eb7f3eca8 100644
--- a/src/sentry/static/sentry/app/views/organizationEventsV2/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationEventsV2/index.jsx
@@ -10,6 +10,7 @@ import PageHeading from 'app/components/pageHeading';
 import BetaTag from 'app/components/betaTag';
 import NavTabs from 'app/components/navTabs';
 import ListLink from 'app/components/links/listLink';
+import NoProjectMessage from 'app/components/noProjectMessage';
 
 import Events from './events';
 import {ALL_VIEWS, getCurrentView} from './utils';
@@ -50,16 +51,18 @@ export default class OrganizationEventsV2 extends React.Component {
         <React.Fragment>
           <GlobalSelectionHeader organization={organization} />
           <PageContent>
-            <PageHeader>
-              <PageHeading>
-                {t('Events')} <BetaTag />
-              </PageHeading>
-            </PageHeader>
-            {this.renderTabs()}
-            <Events
-              organization={organization}
-              view={getCurrentView(location.query.view)}
-            />
+            <NoProjectMessage organization={organization}>
+              <PageHeader>
+                <PageHeading>
+                  {t('Events')} <BetaTag />
+                </PageHeading>
+              </PageHeader>
+              {this.renderTabs()}
+              <Events
+                organization={organization}
+                view={getCurrentView(location.query.view)}
+              />
+            </NoProjectMessage>
           </PageContent>
         </React.Fragment>
       </DocumentTitle>
diff --git a/tests/js/spec/views/organizationEventsV2/index.spec.jsx b/tests/js/spec/views/organizationEventsV2/index.spec.jsx
index f83dacdcf7..0e175e124f 100644
--- a/tests/js/spec/views/organizationEventsV2/index.spec.jsx
+++ b/tests/js/spec/views/organizationEventsV2/index.spec.jsx
@@ -14,7 +14,7 @@ describe('OrganizationEventsV2', function() {
   it('renders', function() {
     const wrapper = mount(
       <OrganizationEventsV2
-        organization={TestStubs.Organization()}
+        organization={TestStubs.Organization({projects: [TestStubs.Project()]})}
         location={{query: {}}}
       />,
       TestStubs.routerContext()
@@ -22,4 +22,17 @@ describe('OrganizationEventsV2', function() {
     const content = wrapper.find('PageContent');
     expect(content.text()).toContain('Events');
   });
+
+  it('handles no projects', function() {
+    const wrapper = mount(
+      <OrganizationEventsV2
+        organization={TestStubs.Organization()}
+        location={{query: {}}}
+      />,
+      TestStubs.routerContext()
+    );
+
+    const content = wrapper.find('PageContent');
+    expect(content.text()).toContain('You need at least one project to use this view');
+  });
 });
