commit 34ca027d12be548d1981a6cd739156ac4d4b3500
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Dec 2 11:51:23 2015 -0800

    Gracefully fail if yaml file doesn't exist when pointed to a directory

diff --git a/src/sentry/runner/initializer.py b/src/sentry/runner/initializer.py
index 6168b0243d..36ab6a5a68 100644
--- a/src/sentry/runner/initializer.py
+++ b/src/sentry/runner/initializer.py
@@ -80,8 +80,12 @@ def bootstrap_options(settings, config):
     if config is None:
         return
     from sentry.utils.yaml import safe_load
-    with open(config, 'rb') as fp:
-        options = safe_load(fp)
+    try:
+        with open(config, 'rb') as fp:
+            options = safe_load(fp)
+    except IOError:
+        # Gracefully fail if yaml file doesn't exist
+        return
     for k, v in options.iteritems():
         # Stuff everything else into SENTRY_OPTIONS
         # these will be validated later after bootstrapping
diff --git a/src/sentry/runner/settings.py b/src/sentry/runner/settings.py
index a3da669c97..95e883d735 100644
--- a/src/sentry/runner/settings.py
+++ b/src/sentry/runner/settings.py
@@ -294,7 +294,7 @@ def configure(ctx, py, yaml, skip_backend_validation=False):
             if ctx:
                 raise click.ClickException("Configuration file does not exist. Use '%s init' to initialize the file." % ctx.command_path)
             raise ValueError("Configuration file does not exist at '%s'" % click.format_filename(py))
-    elif not os.path.exists(yaml):
+    elif not os.path.exists(yaml) and not os.path.exists(py):
         if ctx:
             raise click.ClickException("Configuration file does not exist. Use '%s init' to initialize the file." % ctx.command_path)
         raise ValueError("Configuration file does not exist at '%s'" % click.format_filename(yaml))
