commit 09f5463c250ab45f9cea1ddf40e409273ccfaafc
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Jan 8 09:38:23 2019 -0800

    tests(percy): Fix org events snapshot (#11395)
    
    Snapshot had a race condition waiting for the chart request to finish and render

diff --git a/src/sentry/static/sentry/app/views/organizationEvents/utils/eventsRequest.jsx b/src/sentry/static/sentry/app/views/organizationEvents/utils/eventsRequest.jsx
index 10769acd5b..f0e627951a 100644
--- a/src/sentry/static/sentry/app/views/organizationEvents/utils/eventsRequest.jsx
+++ b/src/sentry/static/sentry/app/views/organizationEvents/utils/eventsRequest.jsx
@@ -270,7 +270,7 @@ class EventsRequest extends React.PureComponent {
     const loading = this.props.loading || reloading || timeseriesData === null;
 
     if (showLoading && loading) {
-      return <LoadingPanel />;
+      return <LoadingPanel data-test-id="events-request-loading" />;
     }
 
     const {
diff --git a/tests/acceptance/test_organization_events.py b/tests/acceptance/test_organization_events.py
index 0610bf9a97..1c9c542bde 100644
--- a/tests/acceptance/test_organization_events.py
+++ b/tests/acceptance/test_organization_events.py
@@ -34,5 +34,5 @@ class OrganizationEventsTest(AcceptanceTestCase):
     def test_events_empty(self):
         with self.feature(FEATURE_NAME):
             self.browser.get(self.path)
-            self.browser.wait_until('[data-test-id="empty-state"]')
+            self.browser.wait_until_not('[data-test-id="events-request-loading"]')
             self.browser.snapshot('global events - empty')
