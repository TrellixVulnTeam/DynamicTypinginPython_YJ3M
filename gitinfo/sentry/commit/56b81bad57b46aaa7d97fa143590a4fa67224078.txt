commit 56b81bad57b46aaa7d97fa143590a4fa67224078
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Tue Mar 20 18:03:32 2018 -0700

    fix(plugins): Don't send a social auth url for plugins that don't use social auth
    
    fixes SENTRY-553

diff --git a/src/sentry/plugins/providers/base.py b/src/sentry/plugins/providers/base.py
index 5d455c72f6..b36edbe8b2 100644
--- a/src/sentry/plugins/providers/base.py
+++ b/src/sentry/plugins/providers/base.py
@@ -131,12 +131,19 @@ class ProviderMixin(object):
             'error_type': 'unknown',
         }
         if isinstance(error, InvalidIdentity):
-            context.update(
-                {
-                    'error_type': 'auth',
-                    'auth_url': reverse('socialauth_associate', args=[self.auth_provider])
-                }
-            )
+            if self.auth_provider is None:
+                context.update(
+                    {
+                        'message': 'Your authentication credentials are invalid. Please check your project settings.'
+                    }
+                )
+            else:
+                context.update(
+                    {
+                        'error_type': 'auth',
+                        'auth_url': reverse('socialauth_associate', args=[self.auth_provider])
+                    }
+                )
             status = 400
         elif isinstance(error, PluginError):
             # TODO(dcramer): we should have a proper validation error
