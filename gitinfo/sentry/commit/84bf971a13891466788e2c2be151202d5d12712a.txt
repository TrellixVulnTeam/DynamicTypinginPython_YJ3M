commit 84bf971a13891466788e2c2be151202d5d12712a
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Fri May 29 12:30:36 2020 -0400

    fix(apm): Display span status and any unknown keys within the span (#19082)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
index 08ec696420..f72aaeb93e 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanDetail.tsx
@@ -21,7 +21,7 @@ import getDynamicText from 'app/utils/getDynamicText';
 import space from 'app/styles/space';
 import withApi from 'app/utils/withApi';
 
-import {ProcessedSpanType, RawSpanType, ParsedTraceType} from './types';
+import {ProcessedSpanType, RawSpanType, ParsedTraceType, rawSpanKeys} from './types';
 import {isGapSpan, isOrphanSpan, getTraceDateTimeRange} from './utils';
 
 type TransactionResult = {
@@ -313,6 +313,10 @@ class SpanDetail extends React.Component<Props, State> {
       return null;
     }
 
+    const unknownKeys = Object.keys(span).filter(key => {
+      return !rawSpanKeys.has(key as any);
+    });
+
     return (
       <SpanDetailContainer
         data-component="span-detail"
@@ -334,6 +338,7 @@ class SpanDetail extends React.Component<Props, State> {
               </Row>
               <Row title="Parent Span ID">{span.parent_span_id || ''}</Row>
               <Row title="Description">{span?.description ?? ''}</Row>
+              <Row title="Status">{span.status || ''}</Row>
               <Row title="Start Date">
                 {getDynamicText({
                   fixed: 'Mar 16, 2020 9:10:12 AM UTC',
@@ -367,6 +372,11 @@ class SpanDetail extends React.Component<Props, State> {
                   {JSON.stringify(value, null, 4) || ''}
                 </Row>
               ))}
+              {unknownKeys.map(key => (
+                <Row title={key} key={key}>
+                  {JSON.stringify(span[key], null, 4) || ''}
+                </Row>
+              ))}
             </tbody>
           </table>
         </SpanDetails>
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
index 9b528aee0d..c9c8f5fb8b 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
@@ -15,10 +15,25 @@ export type RawSpanType = {
   same_process_as_parent?: boolean;
   op?: string;
   description?: string;
+  status?: string;
   data: Object;
   tags?: {[key: string]: string};
 };
 
+export const rawSpanKeys: Set<keyof RawSpanType> = new Set([
+  'trace_id',
+  'parent_span_id',
+  'span_id',
+  'start_timestamp',
+  'timestamp',
+  'same_process_as_parent',
+  'op',
+  'description',
+  'status',
+  'data',
+  'tags',
+]);
+
 export type OrphanSpanType = {
   type: 'orphan';
 } & RawSpanType;
