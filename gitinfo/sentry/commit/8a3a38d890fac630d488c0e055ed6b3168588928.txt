commit 8a3a38d890fac630d488c0e055ed6b3168588928
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Mar 24 23:35:28 2017 +0100

    Check permissions on the processing page in the UI
    
    This fixes #5149

diff --git a/src/sentry/static/sentry/app/components/switch.jsx b/src/sentry/static/sentry/app/components/switch.jsx
index a6fbb70efd..7579712e72 100644
--- a/src/sentry/static/sentry/app/components/switch.jsx
+++ b/src/sentry/static/sentry/app/components/switch.jsx
@@ -5,6 +5,7 @@ const Switch = React.createClass({
     size: React.PropTypes.string,
     isActive: React.PropTypes.bool,
     isLoading: React.PropTypes.bool,
+    isDisabled: React.PropTypes.bool,
     toggle: React.PropTypes.func.isRequired,
   },
 
@@ -21,11 +22,17 @@ const Switch = React.createClass({
     }
 
     if (this.props.isLoading) {
+      switchClasses += ' switch-changing';
+    }
+
+    if (this.props.isDisabled) {
       switchClasses += ' switch-disabled';
     }
 
     return (
-      <div className={switchClasses} onClick={this.props.toggle} role="checkbox" aria-checked={this.props.isActive}>
+      <div className={switchClasses}
+          onClick={this.props.isDisabled ? null : this.props.toggle}
+          role="checkbox" aria-checked={this.props.isActive}>
         <span className="switch-toggle"/>
       </div>
     );
diff --git a/src/sentry/static/sentry/app/views/projectDebugSymbols.jsx b/src/sentry/static/sentry/app/views/projectDebugSymbols.jsx
index 07803ab4d3..d0f42b082c 100644
--- a/src/sentry/static/sentry/app/views/projectDebugSymbols.jsx
+++ b/src/sentry/static/sentry/app/views/projectDebugSymbols.jsx
@@ -293,7 +293,10 @@ const ProjectDebugSymbols = React.createClass({
         <h3>{t('Unreferenced Debug Symbols')}</h3>
         <p>{t(`
           This list represents all Debug Symbols which are not assigned to an
-          app version.
+          app version. We will still find these debug symbols for symbolication
+          but we can't tell you which versions they belong to.  This happens
+          if you upload them with an old verison of sentry-cli or if sentry-cli
+          can't locate the Info.plist file at the time of upload.
         `)}</p>
         <table className="table">
           <thead>
diff --git a/src/sentry/static/sentry/app/views/projectProcessingIssues.jsx b/src/sentry/static/sentry/app/views/projectProcessingIssues.jsx
index 33b414f00e..5926caa66b 100644
--- a/src/sentry/static/sentry/app/views/projectProcessingIssues.jsx
+++ b/src/sentry/static/sentry/app/views/projectProcessingIssues.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 
 import ApiMixin from '../mixins/apiMixin';
+import OrganizationState from '../mixins/organizationState';
 import TimeSince from '../components/timeSince';
 import LoadingError from '../components/loadingError';
 import LoadingIndicator from '../components/loadingIndicator';
@@ -31,7 +32,7 @@ const HELP_LINKS = {
 
 
 const ProjectProcessingIssues = React.createClass({
-  mixins: [ApiMixin],
+  mixins: [ApiMixin, OrganizationState],
 
   getInitialState() {
     return {
@@ -282,6 +283,7 @@ const ProjectProcessingIssues = React.createClass({
   },
 
   renderReprocessingSettings() {
+    let access = this.getAccess();
     if (this.state.loading) {
       return this.renderLoading();
     }
@@ -309,11 +311,19 @@ const ProjectProcessingIssues = React.createClass({
             </div>
             <div className="col-md-3 align-right" style={{paddingRight: '25px'}}>
               <Switch size="lg"
+                isDisabled={!access.has('project:write')}
                 isActive={this.state.formData['sentry:reprocessing_active']}
                 isLoading={isSaving}
                 toggle={this.onFieldChange.bind(this, 'sentry:reprocessing_active')} />
             </div>
           </div>
+          {!access.has('project:write') &&
+            <div className="row">
+              <div className="col-md-12" style={{marginBottom: 20}}>
+                <strong>{t('Note: ')}</strong>
+                {t('An admin can turn processing on or off')}
+              </div>
+            </div>}
         </div>
       </div>
     );
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 3fc2087534..22d2ac20a6 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -826,9 +826,15 @@ table.integrations {
     }
   }
 
+  &.switch-changing {
+    cursor: not-allowed;
+    pointer-events: none;
+  }
+
   &.switch-disabled {
     cursor: not-allowed;
-    pointer-events: none
+    pointer-events: none;
+    background: #eee;
   }
 }
 
