commit 8625e550bb821b87f46af530b54a0292927d9f65
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Apr 27 14:09:29 2014 -0700

    Re-add assert, treat it like other failures

diff --git a/src/sentry/db/models/manager.py b/src/sentry/db/models/manager.py
index 1ce168f779..63bd2af346 100644
--- a/src/sentry/db/models/manager.py
+++ b/src/sentry/db/models/manager.py
@@ -216,6 +216,12 @@ class BaseManager(Manager):
                 logger.error('Cache response returned invalid value %r', retval)
                 return self.get(**kwargs)
 
+            if key == pk_name and int(value) != retval.pk:
+                if settings.DEBUG:
+                    raise ValueError('Unexpected value returned from cache')
+                logger.error('Cache response returned invalid value %r', retval)
+                return self.get(**kwargs)
+
             retval._state.db = router.db_for_read(self.model, **kwargs)
 
             return retval
