commit 9ce239a3951af921086c180fc416135b57a56c9b
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Apr 19 12:58:15 2018 -0700

    feat(ui): Fix footer to bottom of window (#8112)
    
    * remove extra dom nodes from `OrganizationDetails`
    
    * remove extra dom nodes from ProjectDetailsLayout
    
    * change app containers (not just new settings) to have 100vh so that footer is fixed to bottom
    
    * change project context loader to have flex grow
    
    * remove nested ".app" from narrow layout, remove footer (its hidden via CSS)
    
    * restore .app in narrow layout

diff --git a/src/sentry/static/sentry/app/components/narrowLayout.jsx b/src/sentry/static/sentry/app/components/narrowLayout.jsx
index e3856f8621..0c632571db 100644
--- a/src/sentry/static/sentry/app/components/narrowLayout.jsx
+++ b/src/sentry/static/sentry/app/components/narrowLayout.jsx
@@ -1,8 +1,6 @@
 import jQuery from 'jquery';
 import React from 'react';
 
-import Footer from '../components/footer';
-
 class NarrowLayout extends React.Component {
   componentWillMount() {
     jQuery(document.body).addClass('narrow');
@@ -26,7 +24,6 @@ class NarrowLayout extends React.Component {
             <div className="box-content with-padding">{this.props.children}</div>
           </div>
         </div>
-        <Footer />
       </div>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/organizationDetails.jsx b/src/sentry/static/sentry/app/views/organizationDetails.jsx
index 8b9ad17df3..ab5a57097f 100644
--- a/src/sentry/static/sentry/app/views/organizationDetails.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDetails.jsx
@@ -132,11 +132,11 @@ class OrganizationDetailsBody extends Component {
         return <DeletionInProgress organization={organization} />;
       }
     return (
-      <div>
+      <React.Fragment>
         <Sidebar />
         {this.props.children}
         <Footer />
-      </div>
+      </React.Fragment>
     );
   }
 }
diff --git a/src/sentry/static/sentry/app/views/projectDetailsLayout.jsx b/src/sentry/static/sentry/app/views/projectDetailsLayout.jsx
index 0007aa8953..7191aa5adb 100644
--- a/src/sentry/static/sentry/app/views/projectDetailsLayout.jsx
+++ b/src/sentry/static/sentry/app/views/projectDetailsLayout.jsx
@@ -39,7 +39,7 @@ const ProjectDetailsLayout = createReactClass({
     if (!this.context.project) return null;
 
     return (
-      <div>
+      <React.Fragment>
         <ProjectHeader
           activeSection={this.state.projectNavSection}
           project={this.context.project}
@@ -55,7 +55,7 @@ const ProjectDetailsLayout = createReactClass({
             })}
           </div>
         </div>
-      </div>
+      </React.Fragment>
     );
   },
 });
diff --git a/src/sentry/static/sentry/app/views/projects/projectContext.jsx b/src/sentry/static/sentry/app/views/projects/projectContext.jsx
index 4f69c6839b..7d0d7327ee 100644
--- a/src/sentry/static/sentry/app/views/projects/projectContext.jsx
+++ b/src/sentry/static/sentry/app/views/projects/projectContext.jsx
@@ -242,8 +242,13 @@ const ProjectContext = createReactClass({
   },
 
   renderBody() {
-    if (this.state.loading) return <LoadingIndicator />;
-    else if (this.state.error) {
+    if (this.state.loading) {
+      return (
+        <div className="loading-full-layout">
+          <LoadingIndicator />
+        </div>
+      );
+    } else if (this.state.error) {
       switch (this.state.errorType) {
         case ERROR_TYPES.PROJECT_NOT_FOUND:
           return (
diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 9502bbd825..4c6135d2d6 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -11,6 +11,7 @@ body {
   -webkit-font-smoothing: antialiased;
   overflow-x: hidden;
   padding-left: @sidebar-width;
+  min-height: 100vh;
 
   // Fake sidebar rendering until actual sidebar is loaded
 
@@ -23,12 +24,6 @@ body {
     background-image: none;
     background-color: #fcfcfc;
     padding: 0;
-    min-height: 100vh;
-
-    #blk_router,
-    .app {
-      min-height: 100vh;
-    }
 
     .messages-container {
       margin: 0;
@@ -39,6 +34,10 @@ body {
   }
 }
 
+#blk_router {
+  min-height: 100vh;
+}
+
 /**
 * body.auth
 * ============================================================================
@@ -132,6 +131,7 @@ body.auth {
 .app {
   display: flex;
   flex-direction: column;
+  min-height: 100vh;
 }
 
 .container {
@@ -139,6 +139,14 @@ body.auth {
   padding-left: 30px;
   padding-right: 30px;
   width: 100% !important;
+  flex: 1;
+}
+
+// So loader can take up full height so that footer is fixed to bottom of screen
+.loading-full-layout {
+  flex: 1;
+  display: flex;
+  align-items: center;
 }
 
 /**
diff --git a/src/sentry/static/sentry/less/organization.less b/src/sentry/static/sentry/less/organization.less
index e4d7fbf5f0..9145e2af42 100644
--- a/src/sentry/static/sentry/less/organization.less
+++ b/src/sentry/static/sentry/less/organization.less
@@ -14,6 +14,8 @@
 }
 
 .organization-home {
+  flex: 1;
+
   .sub-header {
     margin-bottom: 30px;
 
diff --git a/tests/js/spec/views/__snapshots__/organizationsDetails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationsDetails.spec.jsx.snap
index 24930dfcf8..9bc24137c2 100644
--- a/tests/js/spec/views/__snapshots__/organizationsDetails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationsDetails.spec.jsx.snap
@@ -1,8 +1,6 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
-exports[
-  `OrganizationDetails render() deletion in progress should render a deletion in progress prompt 1`
-] = `
+exports[`OrganizationDetails render() deletion in progress should render a deletion in progress prompt 1`] = `
 <div
   class="app"
 >
@@ -48,45 +46,11 @@ exports[
         </div>
       </div>
     </div>
-    <footer>
-      <div
-        class="container"
-      >
-        <div
-          class="pull-right"
-        >
-          <a
-            class="hidden-xs"
-            href="/api/"
-          >
-            API
-          </a>
-          <a
-            href="/docs/"
-          >
-            Docs
-          </a>
-          <a
-            class="hidden-xs"
-            href="https://github.com/getsentry/sentry"
-            rel="noreferrer"
-          >
-            Contribute
-          </a>
-        </div>
-        <a
-          class="icon-sentry-logo"
-          href="/"
-        />
-      </div>
-    </footer>
   </div>
 </div>
 `;
 
-exports[
-  `OrganizationDetails render() pending deletion should render a restoration prompt 1`
-] = `
+exports[`OrganizationDetails render() pending deletion should render a restoration prompt 1`] = `
 <div
   class="app"
 >
@@ -157,45 +121,11 @@ exports[
         </div>
       </div>
     </div>
-    <footer>
-      <div
-        class="container"
-      >
-        <div
-          class="pull-right"
-        >
-          <a
-            class="hidden-xs"
-            href="/api/"
-          >
-            API
-          </a>
-          <a
-            href="/docs/"
-          >
-            Docs
-          </a>
-          <a
-            class="hidden-xs"
-            href="https://github.com/getsentry/sentry"
-            rel="noreferrer"
-          >
-            Contribute
-          </a>
-        </div>
-        <a
-          class="icon-sentry-logo"
-          href="/"
-        />
-      </div>
-    </footer>
   </div>
 </div>
 `;
 
-exports[
-  `OrganizationDetails render() pending deletion should render a restoration prompt without action for members 1`
-] = `
+exports[`OrganizationDetails render() pending deletion should render a restoration prompt without action for members 1`] = `
 <div
   class="app"
 >
@@ -252,38 +182,6 @@ exports[
         </div>
       </div>
     </div>
-    <footer>
-      <div
-        class="container"
-      >
-        <div
-          class="pull-right"
-        >
-          <a
-            class="hidden-xs"
-            href="/api/"
-          >
-            API
-          </a>
-          <a
-            href="/docs/"
-          >
-            Docs
-          </a>
-          <a
-            class="hidden-xs"
-            href="https://github.com/getsentry/sentry"
-            rel="noreferrer"
-          >
-            Contribute
-          </a>
-        </div>
-        <a
-          class="icon-sentry-logo"
-          href="/"
-        />
-      </div>
-    </footer>
   </div>
 </div>
 `;
