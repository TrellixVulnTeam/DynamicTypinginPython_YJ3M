commit 6ce6a307a5fb3f89fb0bf307eda3024b3e0e32c6
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 23 10:45:01 2015 -0800

    Basic test for webhook

diff --git a/tests/sentry/plugins/sentry_webhooks/test_plugin.py b/tests/sentry/plugins/sentry_webhooks/test_plugin.py
new file mode 100644
index 0000000000..1367b80db1
--- /dev/null
+++ b/tests/sentry/plugins/sentry_webhooks/test_plugin.py
@@ -0,0 +1,35 @@
+# -*- coding: utf-8 -*-
+
+from __future__ import absolute_import
+
+import responses
+
+from exam import fixture
+
+from sentry.models import Rule
+from sentry.plugins import Notification
+from sentry.plugins.sentry_webhooks.plugin import WebHooksPlugin
+from sentry.testutils import TestCase
+
+
+class WebHooksPluginTest(TestCase):
+    @fixture
+    def plugin(self):
+        return WebHooksPlugin()
+
+    @responses.activate
+    def test_simple_notification(self):
+        responses.add(responses.POST, 'http://example.com')
+
+        group = self.create_group(message='Hello world')
+        event = self.create_event(group=group, message='Hello world')
+
+        rule = Rule.objects.create(project=self.project, label='my rule')
+
+        notification = Notification(event=event, rule=rule)
+
+        self.project.update_option('webhooks:urls', 'http://example.com')
+
+        self.plugin.notify(notification)
+
+        assert len(responses.calls) == 1
