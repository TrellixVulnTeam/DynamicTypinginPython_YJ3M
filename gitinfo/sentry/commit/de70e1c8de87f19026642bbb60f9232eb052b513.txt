commit de70e1c8de87f19026642bbb60f9232eb052b513
Author: Mark Story <mark@sentry.io>
Date:   Wed Aug 21 16:44:34 2019 -0400

    fix(ui) Handle missing events (#14465)
    
    Display a more helpful 404 error when events are missing. Because event
    ids are in URLs  it is likely users will get them wrong via copy/paste.
    
    Fixes SEN-949

diff --git a/src/sentry/static/sentry/app/views/organizationEventsV2/eventDetails.jsx b/src/sentry/static/sentry/app/views/organizationEventsV2/eventDetails.jsx
index 55c3936fcb..2f1be0b303 100644
--- a/src/sentry/static/sentry/app/views/organizationEventsV2/eventDetails.jsx
+++ b/src/sentry/static/sentry/app/views/organizationEventsV2/eventDetails.jsx
@@ -7,6 +7,7 @@ import {css} from 'react-emotion';
 import SentryTypes from 'app/sentryTypes';
 import AsyncComponent from 'app/components/asyncComponent';
 import ModalDialog from 'app/components/modalDialog';
+import NotFound from 'app/components/errors/notFound';
 import withApi from 'app/utils/withApi';
 import theme from 'app/utils/theme';
 import space from 'app/styles/space';
@@ -88,6 +89,17 @@ class EventDetails extends AsyncComponent {
     );
   }
 
+  renderError(error) {
+    const notFound = Object.values(this.state.errors).find(
+      resp => resp && resp.status === 404
+    );
+    return (
+      <ModalDialog onDismiss={this.onDismiss} className={modalStyles}>
+        {notFound ? <NotFound /> : super.renderError(error, true, true)}
+      </ModalDialog>
+    );
+  }
+
   renderLoading() {
     return (
       <ModalDialog onDismiss={this.onDismiss} className={modalStyles}>
diff --git a/tests/js/spec/views/organizationEventsV2/eventDetails.spec.jsx b/tests/js/spec/views/organizationEventsV2/eventDetails.spec.jsx
index 4d8db291f8..bc333739ee 100644
--- a/tests/js/spec/views/organizationEventsV2/eventDetails.spec.jsx
+++ b/tests/js/spec/views/organizationEventsV2/eventDetails.spec.jsx
@@ -66,6 +66,14 @@ describe('OrganizationEventsV2 > EventDetails', function() {
       },
     });
 
+    // Missing event
+    MockApiClient.addMockResponse({
+      url: '/organizations/org-slug/events/project-slug:abad1/',
+      method: 'GET',
+      statusCode: 404,
+      body: {},
+    });
+
     // Error event
     MockApiClient.addMockResponse(
       {
@@ -156,6 +164,20 @@ describe('OrganizationEventsV2 > EventDetails', function() {
     expect(graph).toHaveLength(0);
   });
 
+  it('renders a 404', function() {
+    const wrapper = mount(
+      <EventDetails
+        organization={TestStubs.Organization({projects: [TestStubs.Project()]})}
+        eventSlug="project-slug:abad1"
+        location={{query: {eventSlug: 'project-slug:abad1'}}}
+        view={allEventsView}
+      />,
+      TestStubs.routerContext()
+    );
+    const content = wrapper.find('NotFound');
+    expect(content).toHaveLength(1);
+  });
+
   it('renders a chart in grouped view', function() {
     const wrapper = mount(
       <EventDetails
