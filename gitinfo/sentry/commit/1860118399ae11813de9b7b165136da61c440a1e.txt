commit 1860118399ae11813de9b7b165136da61c440a1e
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jan 15 16:30:28 2015 -0800

    Correct stream polling endpoint

diff --git a/src/sentry/static/sentry/app/components/stream.jsx b/src/sentry/static/sentry/app/components/stream.jsx
index c02fb3b98a..fa895a669f 100644
--- a/src/sentry/static/sentry/app/components/stream.jsx
+++ b/src/sentry/static/sentry/app/components/stream.jsx
@@ -148,11 +148,6 @@ var Stream = React.createClass({
   getInitialState: function() {
     return {
       aggList: new utils.Collection(this.props.aggList, {
-        sortFunc: function(data) {
-          utils.sortArray(data, function(item){
-            return [item.sortWeight];
-          });
-        },
         equals: function(self, other) {
           return self.id === other.id;
         },
@@ -189,7 +184,12 @@ var Stream = React.createClass({
     }
   },
   getPollingEndpoint: function() {
-    return '/api/0/projects/' + this.props.project.id + '/groups/?' + window.location.search;
+    var params = utils.getQueryParams();
+    params.query = this.props.initialQuery;
+
+    var querystring = $.param(params);
+
+    return '/api/0/projects/' + this.props.project.id + '/groups/?' + querystring;
   },
   handleSelect: function(aggId, event) {
     var checked = $(event.target).is(':checked');
