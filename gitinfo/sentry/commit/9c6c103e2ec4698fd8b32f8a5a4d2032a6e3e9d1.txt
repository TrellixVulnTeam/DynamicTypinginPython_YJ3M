commit 9c6c103e2ec4698fd8b32f8a5a4d2032a6e3e9d1
Author: Lauryn Brown <lauryndbrown@gmail.com>
Date:   Tue Oct 16 14:40:50 2018 -0700

    corrected subscription id (#10143)

diff --git a/src/sentry/integrations/vsts/integration.py b/src/sentry/integrations/vsts/integration.py
index 1ef296c317..5de0c28c5f 100644
--- a/src/sentry/integrations/vsts/integration.py
+++ b/src/sentry/integrations/vsts/integration.py
@@ -408,7 +408,7 @@ class VstsIntegrationProvider(IntegrationProvider):
                 'You do not have sufficent account access to create an integration.\nPlease check with the owner of this account.'
             )
 
-        subscription_id = subscription['publisherInputs']['tfsSubscriptionId']
+        subscription_id = subscription['id']
         return subscription_id, shared_secret
 
     def get_oauth_data(self, payload):
diff --git a/tests/sentry/integrations/vsts/test_integration.py b/tests/sentry/integrations/vsts/test_integration.py
index 101547ff4c..0e137c3fa9 100644
--- a/tests/sentry/integrations/vsts/test_integration.py
+++ b/tests/sentry/integrations/vsts/test_integration.py
@@ -39,8 +39,7 @@ class VstsIntegrationProviderTest(VstsIntegrationTestCase):
 
         metadata = integration.metadata
         assert metadata['scopes'] == list(VSTSIdentityProvider.oauth_scopes)
-        assert metadata['subscription']['id'] == \
-            CREATE_SUBSCRIPTION['publisherInputs']['tfsSubscriptionId']
+        assert metadata['subscription']['id'] == CREATE_SUBSCRIPTION['id']
         assert metadata['domain_name'] == self.vsts_base_url
 
     def test_migrate_repositories(self):
