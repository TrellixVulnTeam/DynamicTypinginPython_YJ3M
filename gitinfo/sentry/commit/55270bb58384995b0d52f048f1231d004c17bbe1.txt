commit 55270bb58384995b0d52f048f1231d004c17bbe1
Author: David Cramer <dcramer@gmail.com>
Date:   Sun May 26 15:59:02 2013 +0800

    Various cleanup

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index 91f2766946..fb7e4dfb9f 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -61,6 +61,7 @@ h1, h2, h3, h4, h5, h6 {
 }
 
 h2 {
+  font-weight: normal;
   font-size: 24px;
   line-height: 36px;
 }
@@ -569,6 +570,26 @@ h3 {
       }
     }
 
+    #search input[type=text] {
+      width: 226px;
+      border: 0;
+      .border-radius(3px);
+      .box-shadow(0 2px 0 rgba(205, 216, 227, .32));
+      .background-clip(padding-box);
+      -moz-background-clip: padding;
+      background-color: #fff;
+      display: block;
+      overflow: hidden;
+      white-space: nowrap;
+      position: relative;
+      height: 35px;
+      line-height: 35px;
+      padding: 0 0 0 14px;
+      color: #757f87;
+      text-decoration: none;
+      font-weight: bold;
+    }
+
     .nav.nav-tabs.nav-stacked {
       li {
         position: relative;
diff --git a/src/sentry/static/sentry/styles/global.min.css b/src/sentry/static/sentry/styles/global.min.css
index 04f3a189f9..12443e524d 100644
--- a/src/sentry/static/sentry/styles/global.min.css
+++ b/src/sentry/static/sentry/styles/global.min.css
@@ -6228,6 +6228,7 @@ h6 {
   margin: 0;
 }
 h2 {
+  font-weight: normal;
   font-size: 24px;
   line-height: 36px;
 }
@@ -6530,6 +6531,27 @@ h3 {
 .toolbar div.pull-right {
   margin: 12px 0 0;
 }
+.toolbar .nav-help {
+  float: right;
+  margin-top: 6px !important;
+}
+.toolbar .nav-help li {
+  float: left;
+  border-right: 3px solid #cad0d8;
+}
+.toolbar .nav-help li:last-child {
+  border-right: 0;
+  margin-right: 0;
+  padding-right: 0;
+  border-left: 0;
+}
+.toolbar .nav-help li a {
+  padding: 0 5px;
+}
+.toolbar .nav-help li a:hover {
+  background: inherit;
+  color: #000;
+}
 .toolbar .navbar-search {
   margin: 13px 0 0 10px;
 }
@@ -6782,6 +6804,31 @@ h3 {
   margin-left: 0;
   padding-left: 0;
 }
+#content .sidebar #search input[type=text] {
+  width: 226px;
+  border: 0;
+  -webkit-border-radius: 3px;
+  -moz-border-radius: 3px;
+  border-radius: 3px;
+  -webkit-box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  -moz-box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  -webkit-background-clip: padding-box;
+  -moz-background-clip: padding-box;
+  background-clip: padding-box;
+  -moz-background-clip: padding;
+  background-color: #fff;
+  display: block;
+  overflow: hidden;
+  white-space: nowrap;
+  position: relative;
+  height: 35px;
+  line-height: 35px;
+  padding: 0 0 0 14px;
+  color: #757f87;
+  text-decoration: none;
+  font-weight: bold;
+}
 #content .sidebar .nav.nav-tabs.nav-stacked li {
   position: relative;
   margin: 0 0 1px;
diff --git a/src/sentry/static/sentry/styles/sentry.css b/src/sentry/static/sentry/styles/sentry.css
index 04f3a189f9..12443e524d 100644
--- a/src/sentry/static/sentry/styles/sentry.css
+++ b/src/sentry/static/sentry/styles/sentry.css
@@ -6228,6 +6228,7 @@ h6 {
   margin: 0;
 }
 h2 {
+  font-weight: normal;
   font-size: 24px;
   line-height: 36px;
 }
@@ -6530,6 +6531,27 @@ h3 {
 .toolbar div.pull-right {
   margin: 12px 0 0;
 }
+.toolbar .nav-help {
+  float: right;
+  margin-top: 6px !important;
+}
+.toolbar .nav-help li {
+  float: left;
+  border-right: 3px solid #cad0d8;
+}
+.toolbar .nav-help li:last-child {
+  border-right: 0;
+  margin-right: 0;
+  padding-right: 0;
+  border-left: 0;
+}
+.toolbar .nav-help li a {
+  padding: 0 5px;
+}
+.toolbar .nav-help li a:hover {
+  background: inherit;
+  color: #000;
+}
 .toolbar .navbar-search {
   margin: 13px 0 0 10px;
 }
@@ -6782,6 +6804,31 @@ h3 {
   margin-left: 0;
   padding-left: 0;
 }
+#content .sidebar #search input[type=text] {
+  width: 226px;
+  border: 0;
+  -webkit-border-radius: 3px;
+  -moz-border-radius: 3px;
+  border-radius: 3px;
+  -webkit-box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  -moz-box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  box-shadow: 0 2px 0 rgba(205, 216, 227, 0.32);
+  -webkit-background-clip: padding-box;
+  -moz-background-clip: padding-box;
+  background-clip: padding-box;
+  -moz-background-clip: padding;
+  background-color: #fff;
+  display: block;
+  overflow: hidden;
+  white-space: nowrap;
+  position: relative;
+  height: 35px;
+  line-height: 35px;
+  padding: 0 0 0 14px;
+  color: #757f87;
+  text-decoration: none;
+  font-weight: bold;
+}
 #content .sidebar .nav.nav-tabs.nav-stacked li {
   position: relative;
   margin: 0 0 1px;
diff --git a/src/sentry/templates/sentry/bases/stream.html b/src/sentry/templates/sentry/bases/stream.html
index 4ef3648e3a..e4ba4c3f38 100644
--- a/src/sentry/templates/sentry/bases/stream.html
+++ b/src/sentry/templates/sentry/bases/stream.html
@@ -5,10 +5,6 @@
 {% block title %}{{ project.name }} | {{ block.super }}{% endblock %}
 
 {% block page_header %}
-    <form action="{% url 'sentry-search' project.team.slug project.slug %}" class="navbar-search pull-right" id="search">
-        <input type="hidden" name="sort" value="{% if sort %}{{ sort }}{% endif %}"/>
-        <input type="text" name="q" value="{% if query %}{{ query }}{% endif %}" placeholder="{% if HAS_SEARCH %}{% trans "Search query or event ID" %}{% else %}{% trans "Event ID" %}{% endif %}" class="search-query pull-left" />
-    </form>
     {{ block.super }}
     <ul class="nav nav-tabs">
         <li class="active">
@@ -16,7 +12,9 @@
         </li>
         {% if can_admin_team %}
             <li>
-                <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}">{% trans "Settings" %}</a>
+                <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}" title="{% trans "Project Settings" %}">
+                    {% trans "Settings" %}
+                </a>
             </li>
         {% endif %}
     </ul>
diff --git a/src/sentry/templates/sentry/explore/list_tag.html b/src/sentry/templates/sentry/explore/list_tag.html
index 86a151775f..0b9bf00494 100644
--- a/src/sentry/templates/sentry/explore/list_tag.html
+++ b/src/sentry/templates/sentry/explore/list_tag.html
@@ -10,6 +10,12 @@
 
 {% block main %}
     <section class="body">
+        <div class="page-header">
+            <h2>
+                Explore by {{ tag.get_label }}
+            </h2>
+        </div>
+
         {% paginator tag_list from request as tag_list %}
         {% querystring from request without sort as sort_querystring %}
 
diff --git a/src/sentry/templates/sentry/explore/tag_details.html b/src/sentry/templates/sentry/explore/tag_details.html
index 872d6dfc04..7f2f72c1ca 100644
--- a/src/sentry/templates/sentry/explore/tag_details.html
+++ b/src/sentry/templates/sentry/explore/tag_details.html
@@ -18,7 +18,7 @@
         <dt>Number of Events:</dt>
         <dd>{{ tag_value.times_seen|small_count }}</dd>
         <dt>Other Values:</dt>
-        <dd>{{ tag_name.values_seen|small_count }}</dd>
+        <dd>{{ tag.values_seen|small_count }}</dd>
     </dl>
 {% endblock %}
 
@@ -27,7 +27,9 @@
 
     <div class="btn-toolbar">
         <div class="pull-left">
-            <h2 style="line-height:1;">{{ tag.get_label }}: {{ tag_value.value }}</h2>
+            <h2 style="line-height:1;">Explore by {{ tag.get_label }}
+                <small>{{ tag_value.value }}</small>
+            </h2>
         </div>
         <div class="btn-group pull-right">
             <a class="btn prev{% if not event_list.paginator.has_previous %} disabled{% endif %}" href="?p={{ event_list.paginator.previous_page }}"><span>{% trans "Previous" %}</span></a>
diff --git a/src/sentry/templates/sentry/groups/group_list.html b/src/sentry/templates/sentry/groups/group_list.html
index f847f97c5b..d613752a36 100644
--- a/src/sentry/templates/sentry/groups/group_list.html
+++ b/src/sentry/templates/sentry/groups/group_list.html
@@ -12,6 +12,10 @@
         </div>
     </div>
 
+    <form action="{% url 'sentry-search' project.team.slug project.slug %}" id="search">
+        <input type="text" name="q" value="{% if query %}{{ query }}{% endif %}" placeholder="{% if HAS_SEARCH %}{% trans "Search query or event ID" %}{% else %}{% trans "Event ID" %}{% endif %}" />
+    </form>
+
     <form method="get">
         {% if request.user.is_authenticated %}
             {% querystring from request without bookmarks as bookmark_querystring %}
diff --git a/src/sentry/web/frontend/explore.py b/src/sentry/web/frontend/explore.py
index c913e43f59..3129564c00 100644
--- a/src/sentry/web/frontend/explore.py
+++ b/src/sentry/web/frontend/explore.py
@@ -67,7 +67,7 @@ def tag_details(request, team, project, tag_name, tag_id):
     event_list = Group.objects.filter(
         grouptag__project=project,
         grouptag__key=tag_name,
-        grouptag__value=tag.value,
+        grouptag__value=tag_value.value,
     )
 
     return render_to_response('sentry/explore/tag_details.html', {
