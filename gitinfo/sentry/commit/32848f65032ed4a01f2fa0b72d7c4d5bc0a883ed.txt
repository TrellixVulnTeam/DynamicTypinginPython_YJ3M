commit 32848f65032ed4a01f2fa0b72d7c4d5bc0a883ed
Author: Phillip Jones <djones.phillip@gmail.com>
Date:   Mon Jun 1 12:04:20 2020 -0700

    Add Bitbucket release pipe to the integrations directory. (#19104)
    
    * Add Bitbucket release pipe to the integrations directory.
    
    * update prop types
    
    Co-authored-by: Stephen Cefali <scefali@sentry.io>

diff --git a/src/sentry/static/sentry/app/components/search/searchResult.jsx b/src/sentry/static/sentry/app/components/search/searchResult.jsx
index c59d6c2c8b..163d82c420 100644
--- a/src/sentry/static/sentry/app/components/search/searchResult.jsx
+++ b/src/sentry/static/sentry/app/components/search/searchResult.jsx
@@ -6,7 +6,6 @@ import styled from '@emotion/styled';
 import IdBadge from 'app/components/idBadge';
 import {IconInput, IconLink, IconSettings} from 'app/icons';
 import PluginIcon from 'app/plugins/components/pluginIcon';
-import SentryTypes from 'app/sentryTypes';
 import SettingsSearch from 'app/views/settings/components/settingsSearch';
 import highlightFuseMatches from 'app/utils/highlightFuseMatches';
 
@@ -29,6 +28,7 @@ class SearchResult extends React.Component {
         'event',
         'plugin',
         'integration',
+        'docIntegration',
         'help',
       ]),
       /**
@@ -52,14 +52,7 @@ class SearchResult extends React.Component {
       resultIcon: PropTypes.node,
       title: PropTypes.node,
       description: PropTypes.node,
-      model: PropTypes.oneOfType([
-        SentryTypes.Organization,
-        SentryTypes.Project,
-        SentryTypes.Team,
-        SentryTypes.Member,
-        SentryTypes.Group,
-        SentryTypes.Event,
-      ]),
+      model: PropTypes.object,
     }),
     matches: PropTypes.array,
   };
diff --git a/src/sentry/static/sentry/app/plugins/components/pluginIcon.tsx b/src/sentry/static/sentry/app/plugins/components/pluginIcon.tsx
index d940a33b0d..038b48a3cd 100644
--- a/src/sentry/static/sentry/app/plugins/components/pluginIcon.tsx
+++ b/src/sentry/static/sentry/app/plugins/components/pluginIcon.tsx
@@ -59,6 +59,7 @@ export const ICON_PATHS = {
   asana,
   asayer,
   bitbucket,
+  bitbucket_release_pipe: bitbucket,
   bitbucket_server: bitbucketserver,
   campfire,
   clickup,
diff --git a/src/sentry/static/sentry/app/views/organizationIntegrations/constants.tsx b/src/sentry/static/sentry/app/views/organizationIntegrations/constants.tsx
index 3af22efea4..46f71ff613 100644
--- a/src/sentry/static/sentry/app/views/organizationIntegrations/constants.tsx
+++ b/src/sentry/static/sentry/app/views/organizationIntegrations/constants.tsx
@@ -63,6 +63,7 @@ export const POPULARITY_WEIGHT: {
   netlify: 8,
   asayer: 8,
   rocketchat: 8,
+  bitbucket_release_pipe: 8,
 } as const;
 
 export const documentIntegrationList: DocumentIntegration[] = [
@@ -213,6 +214,31 @@ export const documentIntegrationList: DocumentIntegration[] = [
       },
     ],
   },
+  {
+    slug: 'bitbucket_release_pipe',
+    name: 'Bitbucket Release Pipe',
+    author: 'The Sentry Team',
+    docUrl:
+      'https://bitbucket.org/product/features/pipelines/integrations?p=sentryio/sentry-new-release',
+    description:
+      'Notify Sentry of any Bitbucket Pipelines builds to automatically manage releases and quickly surface any errors associated with a given build.  **Requirement:** Bitbucket source code integration must be installed for the release pipe to work.',
+    features: [
+      {
+        featureGate: 'release-management',
+        description: 'Notify Sentry of new releases being deployed.',
+      },
+    ],
+    resourceLinks: [
+      {
+        title: 'View Source',
+        url: 'https://bitbucket.org/sentryio/sentry-new-release/src/master/',
+      },
+      {
+        title: 'Report Issue',
+        url: 'https://bitbucket.org/sentryio/sentry-new-release/issues',
+      },
+    ],
+  },
 ];
 
 export const documentIntegrations: {
diff --git a/tests/js/spec/views/organizationIntegrations/integrationListDirectory.spec.jsx b/tests/js/spec/views/organizationIntegrations/integrationListDirectory.spec.jsx
index 646f4a0d4b..969da595f3 100644
--- a/tests/js/spec/views/organizationIntegrations/integrationListDirectory.spec.jsx
+++ b/tests/js/spec/views/organizationIntegrations/integrationListDirectory.spec.jsx
@@ -47,7 +47,7 @@ describe('IntegrationListDirectory', function() {
     it('shows installed integrations at the top in order of weight', async function() {
       expect(wrapper.find('SearchBar').exists()).toBeTruthy();
       expect(wrapper.find('PanelBody').exists()).toBeTruthy();
-      expect(wrapper.find('IntegrationRow')).toHaveLength(12);
+      expect(wrapper.find('IntegrationRow')).toHaveLength(13);
 
       [
         'bitbucket',
@@ -55,6 +55,7 @@ describe('IntegrationListDirectory', function() {
         'my-headband-washer-289499',
         'clickup',
         'asayer',
+        'bitbucket_release_pipe',
         'datadog',
         'fullstory',
         'msteams',
