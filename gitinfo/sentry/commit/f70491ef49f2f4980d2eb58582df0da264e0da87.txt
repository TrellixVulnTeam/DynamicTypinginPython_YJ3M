commit f70491ef49f2f4980d2eb58582df0da264e0da87
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Mon Feb 4 21:31:25 2019 +0100

    Revert "fix(monitors): Remove monitor context when appropriate" (#11876)
    
    * Revert "feat(api): Add multi env support to group tags endpint (#11819)"
    
    This reverts commit af167a20eb83668692928c4fb3ab8a979eb898c7.
    
    * Revert "chore: Prefer const (#11862)"
    
    This reverts commit 84747dbbabc7e974711c175232ddf71f6194edb6.
    
    * Revert "fix(monitors): Remove monitor context when appropriate"
    
    This reverts commit ddaa4a230efaddee7ac7e15474e1bb40631b92c7.
    
    * fix: Upgrade sentry-sdk

diff --git a/requirements-base.txt b/requirements-base.txt
index 8fdc02f746..169a62bc83 100644
--- a/requirements-base.txt
+++ b/requirements-base.txt
@@ -57,7 +57,7 @@ requests-oauthlib==0.3.3
 requests[security]>=2.20.0,<2.21.0
 selenium==3.11.0
 semaphore>=0.4.6,<0.5.0
-sentry-sdk>=0.6.0,!=0.6.5
+sentry-sdk>=0.7.0
 setproctitle>=1.1.7,<1.2.0
 simplejson>=3.2.0,<3.9.0
 six>=1.10.0,<1.11.0
diff --git a/src/sentry/utils/monitors.py b/src/sentry/utils/monitors.py
index 5dab770b20..df8b48cd2b 100644
--- a/src/sentry/utils/monitors.py
+++ b/src/sentry/utils/monitors.py
@@ -59,19 +59,16 @@ def suppress_errors(func):
 
 @suppress_errors
 def report_monitor_begin(task, **kwargs):
-    monitor_id = task.request.headers.get('X-Sentry-Monitor')
-    with configure_scope() as scope:
-        if monitor_id:
-            scope.set_context('monitor', {'id': monitor_id})
-        else:
-            scope.remove_context('monitor')
-
     if not SENTRY_DSN or not API_ROOT:
         return
 
+    monitor_id = task.request.headers.get('X-Sentry-Monitor')
     if not monitor_id:
         return
 
+    with configure_scope() as scope:
+        scope.set_context('monitor', {'id': monitor_id})
+
     session = SafeSession()
     req = session.post(u'{}/api/0/monitors/{}/checkins/'.format(API_ROOT, monitor_id), headers={
         'Authorization': u'DSN {}'.format(SENTRY_DSN)
@@ -85,9 +82,6 @@ def report_monitor_begin(task, **kwargs):
 
 @suppress_errors
 def report_monitor_complete(task, retval, **kwargs):
-    with configure_scope() as scope:
-        scope.remove_context('monitor')
-
     if not SENTRY_DSN or not API_ROOT:
         return
 
