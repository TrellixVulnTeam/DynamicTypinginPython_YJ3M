commit 6ab7473c3bd2129da9b9a0b61fd002942a439e66
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Aug 28 19:31:52 2015 +0200

    Bypass sudo flag for api requests.

diff --git a/src/sentry/api/decorators.py b/src/sentry/api/decorators.py
index 63fd431c04..0113daf1f3 100644
--- a/src/sentry/api/decorators.py
+++ b/src/sentry/api/decorators.py
@@ -5,11 +5,20 @@ import json
 from django.http import HttpResponse
 from functools import wraps
 
+from sentry.models import ApiKey
+
+
+def is_considered_sudo(request):
+    return request.is_sudo() or \
+        isinstance(request.auth, ApiKey)
+
 
 def sudo_required(func):
     @wraps(func)
     def wrapped(self, request, *args, **kwargs):
-        if not request.is_sudo():
+        # If we are already authenticated through an API key we do not
+        # care about the sudo flag.
+        if not is_considered_sudo(request):
             # TODO(dcramer): support some kind of auth flow to allow this
             # externally
             data = {
