commit cb187df546df2a864b79fe8dd85c69aa8fa8c988
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Aug 13 08:36:54 2019 -0700

    feat(eventstore): Do not query Snuba if event ID format is invalid (#14327)
    
    The get_event_by_id method checks that the event ID is a valid UUID
    before sending the query to Snuba, and returns None immediately if
    invalid.

diff --git a/src/sentry/eventstore/snuba/backend.py b/src/sentry/eventstore/snuba/backend.py
index cba588861c..5fb8b79f6c 100644
--- a/src/sentry/eventstore/snuba/backend.py
+++ b/src/sentry/eventstore/snuba/backend.py
@@ -3,6 +3,7 @@ from __future__ import absolute_import
 from sentry.utils import snuba
 from sentry.models import SnubaEvent
 from sentry.eventstore.base import EventStorage
+from sentry.utils.validators import normalize_event_id
 
 DEFAULT_ORDERBY = ['-timestamp', '-event_id']
 DEFAULT_LIMIT = 100
@@ -54,6 +55,11 @@ class SnubaEventStorage(EventStorage):
         """
         cols = self.__get_columns(additional_columns)
 
+        event_id = normalize_event_id(event_id)
+
+        if not event_id:
+            return None
+
         return SnubaEvent.get_event(project_id, event_id, snuba_cols=cols)
 
     def __get_columns(self, additional_columns):
