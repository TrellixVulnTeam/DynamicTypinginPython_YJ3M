commit f4703da545c3a1bc4a3d59bf46b9422d71fa6d69
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Nov 30 11:53:52 2014 -0800

    Handle existing users

diff --git a/src/sentry/web/frontend/access_group_migration.py b/src/sentry/web/frontend/access_group_migration.py
index 5afbe7be39..739105cccc 100644
--- a/src/sentry/web/frontend/access_group_migration.py
+++ b/src/sentry/web/frontend/access_group_migration.py
@@ -30,14 +30,16 @@ class AccessGroupMigrationView(OrganizationView):
 
             global_access = global_access == '1'
 
-            om = OrganizationMember.objects.create(
+            om, created = OrganizationMember.objects.get_or_create(
                 organization=organization,
-                has_global_access=global_access,
-                type=access_type,
                 user=member.user,
+                defaults={
+                    'has_global_access': global_access,
+                    'type': access_type,
+                }
             )
 
-            if not global_access:
+            if created and not global_access:
                 for team in teams:
                     om.teams.add(Team.objects.get_from_cache(slug=team))
 
