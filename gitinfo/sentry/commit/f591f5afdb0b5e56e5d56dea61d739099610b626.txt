commit f591f5afdb0b5e56e5d56dea61d739099610b626
Author: Trey Hunner <treyhunner@gmail.com>
Date:   Sun Apr 3 11:10:24 2011 -0700

    Only add template information for loaded templates

diff --git a/sentry/client/base.py b/sentry/client/base.py
index 2087205b24..fef1b5c9fa 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -13,6 +13,7 @@ import uuid
 
 from django.core.cache import cache
 from django.template import TemplateSyntaxError
+from django.template.loader import LoaderOrigin
 from django.views.debug import ExceptionReporter
 
 from sentry import conf
@@ -255,7 +256,8 @@ class SentryClient(object):
             'exc': map(transform, [exc_module, exc_value.args, frames]),
         }
 
-        if isinstance(exc_value, TemplateSyntaxError) and hasattr(exc_value, 'source'):
+        if (isinstance(exc_value, TemplateSyntaxError) and
+            hasattr(exc_value, 'source') and isinstance(exc_value.source, LoaderOrigin)):
             origin, (start, end) = exc_value.source
             data['__sentry__'].update({
                 'template': (origin.reload(), start, end, origin.name),
