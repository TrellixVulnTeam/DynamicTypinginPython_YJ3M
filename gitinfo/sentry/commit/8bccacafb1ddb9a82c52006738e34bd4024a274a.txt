commit 8bccacafb1ddb9a82c52006738e34bd4024a274a
Author: josh <josh@jrl.ninja>
Date:   Wed Jan 15 22:09:51 2020 +0000

    test: upgrade mock backport (#16457)

diff --git a/requirements-base.txt b/requirements-base.txt
index 4e7e07f525..600fd7c485 100644
--- a/requirements-base.txt
+++ b/requirements-base.txt
@@ -41,7 +41,7 @@ maxminddb==1.4.1
 # for vsts repo
 mistune>0.7,<0.9
 mmh3>=2.3.1,<2.4
-mock==2.0.0
+mock==3.0.5 ; python_version < "3.3"
 msgpack>=0.6.1,<0.7.0
 oauth2>=1.5.167
 parsimonious==0.8.0
diff --git a/src/sentry/testutils/cases.py b/src/sentry/testutils/cases.py
index 9e4c255649..82d99fd5d4 100644
--- a/src/sentry/testutils/cases.py
+++ b/src/sentry/testutils/cases.py
@@ -27,7 +27,7 @@ import pytest
 import requests
 import six
 import types
-import mock
+from sentry.utils.compat import mock
 
 from click.testing import CliRunner
 from datetime import datetime
@@ -43,7 +43,7 @@ from django.test import override_settings, TestCase, TransactionTestCase
 from django.test.utils import CaptureQueriesContext
 from django.utils import timezone
 from exam import before, fixture, Exam
-from mock import patch
+from sentry.utils.compat.mock import patch
 from pkg_resources import iter_entry_points
 from rest_framework.test import APITestCase as BaseAPITestCase
 from six.moves.urllib.parse import urlencode
diff --git a/src/sentry/testutils/helpers/features.py b/src/sentry/testutils/helpers/features.py
index ce2c96c517..5c5496464c 100644
--- a/src/sentry/testutils/helpers/features.py
+++ b/src/sentry/testutils/helpers/features.py
@@ -5,7 +5,7 @@ __all__ = ["Feature", "with_feature"]
 import six
 import collections
 from contextlib import contextmanager
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 @contextmanager
diff --git a/src/sentry/testutils/helpers/options.py b/src/sentry/testutils/helpers/options.py
index 2f319e0790..c9c5ceab0b 100644
--- a/src/sentry/testutils/helpers/options.py
+++ b/src/sentry/testutils/helpers/options.py
@@ -4,7 +4,7 @@ __all__ = ["override_options"]
 
 from django.test.utils import override_settings
 from contextlib import contextmanager
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 @contextmanager
diff --git a/src/sentry/utils/compat/mock.py b/src/sentry/utils/compat/mock.py
new file mode 100644
index 0000000000..f1d1b22a48
--- /dev/null
+++ b/src/sentry/utils/compat/mock.py
@@ -0,0 +1,7 @@
+from __future__ import absolute_import
+
+try:
+    # TODO: remove when we drop Python 2.7 compat
+    from mock import *  # NOQA
+except ImportError:
+    from unittest.mock import *  # NOQA
diff --git a/src/sentry/utils/pytest/sentry.py b/src/sentry/utils/pytest/sentry.py
index 4dfeb79d46..71c79a6e27 100644
--- a/src/sentry/utils/pytest/sentry.py
+++ b/src/sentry/utils/pytest/sentry.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import os
 
 from django.conf import settings
diff --git a/tests/acceptance/test_create_project.py b/tests/acceptance/test_create_project.py
index 203588b0bb..1dcb50efac 100644
--- a/tests/acceptance/test_create_project.py
+++ b/tests/acceptance/test_create_project.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from sentry.testutils import AcceptanceTestCase
 from sentry.models import Project
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 class CreateProjectTest(AcceptanceTestCase):
diff --git a/tests/acceptance/test_onboarding.py b/tests/acceptance/test_onboarding.py
index ba2d1f8bc3..61b8b7f0c8 100644
--- a/tests/acceptance/test_onboarding.py
+++ b/tests/acceptance/test_onboarding.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 from selenium.common.exceptions import TimeoutException
 
 from sentry.models import Project
diff --git a/tests/acceptance/test_organization_discover.py b/tests/acceptance/test_organization_discover.py
index d86eec49f3..5a9996d97f 100644
--- a/tests/acceptance/test_organization_discover.py
+++ b/tests/acceptance/test_organization_discover.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import pytz
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.testutils import AcceptanceTestCase, SnubaTestCase
 from sentry.testutils.helpers.datetime import iso_format, before_now
diff --git a/tests/acceptance/test_organization_events_v2.py b/tests/acceptance/test_organization_events_v2.py
index 08ea9634d4..2c907d2863 100644
--- a/tests/acceptance/test_organization_events_v2.py
+++ b/tests/acceptance/test_organization_events_v2.py
@@ -5,7 +5,7 @@ import six
 import pytest
 import pytz
 import time
-from mock import patch
+from sentry.utils.compat.mock import patch
 from datetime import timedelta
 
 from six.moves.urllib.parse import urlencode
diff --git a/tests/acceptance/test_organization_group_index.py b/tests/acceptance/test_organization_group_index.py
index a555094fb6..92892e98b7 100644
--- a/tests/acceptance/test_organization_group_index.py
+++ b/tests/acceptance/test_organization_group_index.py
@@ -9,7 +9,7 @@ from sentry.testutils import AcceptanceTestCase, SnubaTestCase
 from sentry.testutils.helpers.datetime import iso_format, before_now
 from tests.acceptance.page_objects.issue_list import IssueListPage
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 event_time = before_now(days=3).replace(tzinfo=pytz.utc)
diff --git a/tests/acceptance/test_organization_rate_limits.py b/tests/acceptance/test_organization_rate_limits.py
index cd22951755..768730c3a6 100644
--- a/tests/acceptance/test_organization_rate_limits.py
+++ b/tests/acceptance/test_organization_rate_limits.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.utils import timezone
-from mock import Mock, patch
+from sentry.utils.compat.mock import Mock, patch
 
 from sentry.testutils import AcceptanceTestCase
 
diff --git a/tests/integration/tests.py b/tests/integration/tests.py
index 467e69a5e8..9739a7b1ba 100644
--- a/tests/integration/tests.py
+++ b/tests/integration/tests.py
@@ -6,7 +6,7 @@ import os
 import datetime
 import json
 import logging
-import mock
+from sentry.utils.compat import mock
 import six
 from time import sleep
 import zlib
diff --git a/tests/sentry/analytics/test_event.py b/tests/sentry/analytics/test_event.py
index 6ef65d8597..8cd282bc43 100644
--- a/tests/sentry/analytics/test_event.py
+++ b/tests/sentry/analytics/test_event.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from datetime import datetime
-from mock import patch
+from sentry.utils.compat.mock import patch
 import pytest
 import pytz
 
diff --git a/tests/sentry/api/bases/test_endpoint.py b/tests/sentry/api/bases/test_endpoint.py
index ff003a0c8f..8e00b2b0de 100644
--- a/tests/sentry/api/bases/test_endpoint.py
+++ b/tests/sentry/api/bases/test_endpoint.py
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 from __future__ import absolute_import
 
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.testutils import TestCase
 
diff --git a/tests/sentry/api/bases/test_sentryapps.py b/tests/sentry/api/bases/test_sentryapps.py
index a9bd871bfb..2f919e9ec8 100644
--- a/tests/sentry/api/bases/test_sentryapps.py
+++ b/tests/sentry/api/bases/test_sentryapps.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.http import Http404
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.testutils import TestCase
 from sentry.api.bases.sentryapps import (
diff --git a/tests/sentry/api/endpoints/test_auth_login.py b/tests/sentry/api/endpoints/test_auth_login.py
index 33c306ee51..c2c337ad31 100644
--- a/tests/sentry/api/endpoints/test_auth_login.py
+++ b/tests/sentry/api/endpoints/test_auth_login.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import six
 from django.core.urlresolvers import reverse
-from mock import patch
+from sentry.utils.compat.mock import patch
 from exam import fixture
 
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/api/endpoints/test_dif_assemble.py b/tests/sentry/api/endpoints/test_dif_assemble.py
index 27f65e2063..85770b4c3f 100644
--- a/tests/sentry/api/endpoints/test_dif_assemble.py
+++ b/tests/sentry/api/endpoints/test_dif_assemble.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from hashlib import sha1
 
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_group_details.py b/tests/sentry/api/endpoints/test_group_details.py
index 1e08d9ce2d..3dbaf7c54d 100644
--- a/tests/sentry/api/endpoints/test_group_details.py
+++ b/tests/sentry/api/endpoints/test_group_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import, print_function
 
-import mock
+from sentry.utils.compat import mock
 import six
 from base64 import b64encode
 
diff --git a/tests/sentry/api/endpoints/test_group_integration_details.py b/tests/sentry/api/endpoints/test_group_integration_details.py
index d6445a1297..e51fef1ee3 100644
--- a/tests/sentry/api/endpoints/test_group_integration_details.py
+++ b/tests/sentry/api/endpoints/test_group_integration_details.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import six
-import mock
+from sentry.utils.compat import mock
 import copy
 
 from sentry.integrations.example.integration import ExampleIntegration
diff --git a/tests/sentry/api/endpoints/test_group_notes_details.py b/tests/sentry/api/endpoints/test_group_notes_details.py
index b4c41d3cb2..67b1bacd94 100644
--- a/tests/sentry/api/endpoints/test_group_notes_details.py
+++ b/tests/sentry/api/endpoints/test_group_notes_details.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import Activity, ExternalIssue, Group, GroupLink, Integration
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/api/endpoints/test_organization_details.py b/tests/sentry/api/endpoints/test_organization_details.py
index 7b7aaeeb14..2554bfb449 100644
--- a/tests/sentry/api/endpoints/test_organization_details.py
+++ b/tests/sentry/api/endpoints/test_organization_details.py
@@ -5,7 +5,7 @@ import six
 from base64 import b64encode
 from django.core.urlresolvers import reverse
 from django.core import mail
-from mock import patch
+from sentry.utils.compat.mock import patch
 from exam import fixture
 from pprint import pprint
 
diff --git a/tests/sentry/api/endpoints/test_organization_incident_details.py b/tests/sentry/api/endpoints/test_organization_incident_details.py
index d3aaba33a8..c9dfb2c0fc 100644
--- a/tests/sentry/api/endpoints/test_organization_incident_details.py
+++ b/tests/sentry/api/endpoints/test_organization_incident_details.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from datetime import datetime
 
-import mock
+from sentry.utils.compat import mock
 import pytz
 import six
 from django.utils import timezone
diff --git a/tests/sentry/api/endpoints/test_organization_integration_repos.py b/tests/sentry/api/endpoints/test_organization_integration_repos.py
index dfee01f3a0..33cda145c3 100644
--- a/tests/sentry/api/endpoints/test_organization_integration_repos.py
+++ b/tests/sentry/api/endpoints/test_organization_integration_repos.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from sentry.models import Integration
 from sentry.testutils import APITestCase
 
diff --git a/tests/sentry/api/endpoints/test_organization_invite_request_details.py b/tests/sentry/api/endpoints/test_organization_invite_request_details.py
index 98dcb7146f..f3b0a21a0b 100644
--- a/tests/sentry/api/endpoints/test_organization_invite_request_details.py
+++ b/tests/sentry/api/endpoints/test_organization_invite_request_details.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import (
     AuditLogEntry,
diff --git a/tests/sentry/api/endpoints/test_organization_join_request.py b/tests/sentry/api/endpoints/test_organization_join_request.py
index 331fd6babe..d159e9dcf7 100644
--- a/tests/sentry/api/endpoints/test_organization_join_request.py
+++ b/tests/sentry/api/endpoints/test_organization_join_request.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.core import mail
 
 from sentry.models import AuthProvider, InviteStatus, OrganizationOption, OrganizationMember
diff --git a/tests/sentry/api/endpoints/test_organization_member_details.py b/tests/sentry/api/endpoints/test_organization_member_details.py
index 8d2a981e4f..600dff94a1 100644
--- a/tests/sentry/api/endpoints/test_organization_member_details.py
+++ b/tests/sentry/api/endpoints/test_organization_member_details.py
@@ -5,7 +5,7 @@ import six
 from django.core import mail
 from django.core.urlresolvers import reverse
 from django.db.models import F
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import (
     Authenticator,
diff --git a/tests/sentry/api/endpoints/test_organization_member_index.py b/tests/sentry/api/endpoints/test_organization_member_index.py
index 48f2745032..0b350cbc7a 100644
--- a/tests/sentry/api/endpoints/test_organization_member_index.py
+++ b/tests/sentry/api/endpoints/test_organization_member_index.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from django.core.urlresolvers import reverse
 from django.core import mail
diff --git a/tests/sentry/api/endpoints/test_organization_release_assemble.py b/tests/sentry/api/endpoints/test_organization_release_assemble.py
index 49c68eecc4..672418f14d 100644
--- a/tests/sentry/api/endpoints/test_organization_release_assemble.py
+++ b/tests/sentry/api/endpoints/test_organization_release_assemble.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from hashlib import sha1
 
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_organization_release_details.py b/tests/sentry/api/endpoints/test_organization_release_details.py
index fc5bc65b90..46d2d3c4db 100644
--- a/tests/sentry/api/endpoints/test_organization_release_details.py
+++ b/tests/sentry/api/endpoints/test_organization_release_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 import unittest
-from mock import patch
+from sentry.utils.compat.mock import patch
 from datetime import datetime
 
 import pytz
diff --git a/tests/sentry/api/endpoints/test_organization_releases.py b/tests/sentry/api/endpoints/test_organization_releases.py
index ca844027e5..bcb430489a 100644
--- a/tests/sentry/api/endpoints/test_organization_releases.py
+++ b/tests/sentry/api/endpoints/test_organization_releases.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from base64 import b64encode
 from datetime import datetime, timedelta
diff --git a/tests/sentry/api/endpoints/test_organization_repositories.py b/tests/sentry/api/endpoints/test_organization_repositories.py
index c209f01c18..b6d4785572 100644
--- a/tests/sentry/api/endpoints/test_organization_repositories.py
+++ b/tests/sentry/api/endpoints/test_organization_repositories.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import six
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/api/endpoints/test_organization_repository_details.py b/tests/sentry/api/endpoints/test_organization_repository_details.py
index 98d9466f37..a6649aac95 100644
--- a/tests/sentry/api/endpoints/test_organization_repository_details.py
+++ b/tests/sentry/api/endpoints/test_organization_repository_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/api/endpoints/test_organization_sentry_app_installation_details.py b/tests/sentry/api/endpoints/test_organization_sentry_app_installation_details.py
index 6a8cf69c62..65259eed0a 100644
--- a/tests/sentry/api/endpoints/test_organization_sentry_app_installation_details.py
+++ b/tests/sentry/api/endpoints/test_organization_sentry_app_installation_details.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.core.urlresolvers import reverse
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.testutils import APITestCase
 import responses
diff --git a/tests/sentry/api/endpoints/test_project_details.py b/tests/sentry/api/endpoints/test_project_details.py
index 90a86988ed..6ac07964dd 100644
--- a/tests/sentry/api/endpoints/test_project_details.py
+++ b/tests/sentry/api/endpoints/test_project_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import six
 
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_project_plugin_details.py b/tests/sentry/api/endpoints/test_project_plugin_details.py
index c79d09a3dd..befd6fcb68 100644
--- a/tests/sentry/api/endpoints/test_project_plugin_details.py
+++ b/tests/sentry/api/endpoints/test_project_plugin_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 from django.core.urlresolvers import reverse
 
 from sentry.plugins.base import plugins
diff --git a/tests/sentry/api/endpoints/test_project_plugins.py b/tests/sentry/api/endpoints/test_project_plugins.py
index 153b8c8951..5ee7b5300b 100644
--- a/tests/sentry/api/endpoints/test_project_plugins.py
+++ b/tests/sentry/api/endpoints/test_project_plugins.py
@@ -4,7 +4,7 @@ from django.core.urlresolvers import reverse
 
 from sentry.plugins.base import plugins
 from sentry.testutils import APITestCase
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 class ProjectPluginsTest(APITestCase):
diff --git a/tests/sentry/api/endpoints/test_project_tagkey_details.py b/tests/sentry/api/endpoints/test_project_tagkey_details.py
index 4a09ca1677..5991b331e5 100644
--- a/tests/sentry/api/endpoints/test_project_tagkey_details.py
+++ b/tests/sentry/api/endpoints/test_project_tagkey_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/api/endpoints/test_project_transfer.py b/tests/sentry/api/endpoints/test_project_transfer.py
index 273ba0ff1f..282edf2d09 100644
--- a/tests/sentry/api/endpoints/test_project_transfer.py
+++ b/tests/sentry/api/endpoints/test_project_transfer.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core import mail
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_sentry_app_components.py b/tests/sentry/api/endpoints/test_sentry_app_components.py
index 69a79da34e..14f94c61d1 100644
--- a/tests/sentry/api/endpoints/test_sentry_app_components.py
+++ b/tests/sentry/api/endpoints/test_sentry_app_components.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import six
 
 from django.core.urlresolvers import reverse
-from mock import patch, call
+from sentry.utils.compat.mock import patch, call
 
 from sentry.coreapi import APIError
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/api/endpoints/test_sentry_app_details.py b/tests/sentry/api/endpoints/test_sentry_app_details.py
index f13c0a9b82..31b941a4e3 100644
--- a/tests/sentry/api/endpoints/test_sentry_app_details.py
+++ b/tests/sentry/api/endpoints/test_sentry_app_details.py
@@ -6,7 +6,7 @@ from sentry.models import SentryApp, OrganizationMember
 from sentry.testutils import APITestCase
 from sentry.testutils.helpers import with_feature
 from sentry.utils import json
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 class SentryAppDetailsTest(APITestCase):
diff --git a/tests/sentry/api/endpoints/test_sentry_app_publish_request.py b/tests/sentry/api/endpoints/test_sentry_app_publish_request.py
index b9d72bb142..127baa916d 100644
--- a/tests/sentry/api/endpoints/test_sentry_app_publish_request.py
+++ b/tests/sentry/api/endpoints/test_sentry_app_publish_request.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from django.core.urlresolvers import reverse
 
-import mock
+from sentry.utils.compat import mock
 from sentry.testutils import APITestCase
 from sentry.constants import SentryAppStatus
 
diff --git a/tests/sentry/api/endpoints/test_sentry_apps.py b/tests/sentry/api/endpoints/test_sentry_apps.py
index 339ad48208..c25c630d45 100644
--- a/tests/sentry/api/endpoints/test_sentry_apps.py
+++ b/tests/sentry/api/endpoints/test_sentry_apps.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import six
 import re
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.core.urlresolvers import reverse
 
 from sentry.constants import SentryAppStatus
diff --git a/tests/sentry/api/endpoints/test_team_details.py b/tests/sentry/api/endpoints/test_team_details.py
index 3cdae0f1b3..bfbb25a0d3 100644
--- a/tests/sentry/api/endpoints/test_team_details.py
+++ b/tests/sentry/api/endpoints/test_team_details.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import six
 
 from django.core.urlresolvers import reverse
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import AuditLogEntry, AuditLogEntryEvent, Team, TeamStatus, DeletedTeam
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/api/endpoints/test_user_authenticator_details.py b/tests/sentry/api/endpoints/test_user_authenticator_details.py
index 2dd6fff499..682255e2ee 100644
--- a/tests/sentry/api/endpoints/test_user_authenticator_details.py
+++ b/tests/sentry/api/endpoints/test_user_authenticator_details.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import datetime
-import mock
+from sentry.utils.compat import mock
 import six
 
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_user_authenticator_enroll.py b/tests/sentry/api/endpoints/test_user_authenticator_enroll.py
index 5ff62ef0fe..6c73d2830e 100644
--- a/tests/sentry/api/endpoints/test_user_authenticator_enroll.py
+++ b/tests/sentry/api/endpoints/test_user_authenticator_enroll.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from six.moves.urllib.parse import parse_qsl
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/api/endpoints/test_user_emails_confirm.py b/tests/sentry/api/endpoints/test_user_emails_confirm.py
index 27e3cd72ab..bf4886f9af 100644
--- a/tests/sentry/api/endpoints/test_user_emails_confirm.py
+++ b/tests/sentry/api/endpoints/test_user_emails_confirm.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/api/endpoints/test_user_password.py b/tests/sentry/api/endpoints/test_user_password.py
index dbd22cefed..1bebffdf68 100644
--- a/tests/sentry/api/endpoints/test_user_password.py
+++ b/tests/sentry/api/endpoints/test_user_password.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/api/helpers/test_group_index.py b/tests/sentry/api/helpers/test_group_index.py
index b57f19a8c6..6da5d86945 100644
--- a/tests/sentry/api/helpers/test_group_index.py
+++ b/tests/sentry/api/helpers/test_group_index.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 from django.http import QueryDict
 
 from sentry.models import GroupStatus
diff --git a/tests/sentry/api/serializers/test_group.py b/tests/sentry/api/serializers/test_group.py
index c7b4a13a87..26e0d346bd 100644
--- a/tests/sentry/api/serializers/test_group.py
+++ b/tests/sentry/api/serializers/test_group.py
@@ -2,13 +2,13 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import six
 
 from datetime import timedelta
 
 from django.utils import timezone
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.api.serializers import serialize
 from sentry.api.serializers.models.group import StreamGroupSerializer
diff --git a/tests/sentry/attachments/test_redis.py b/tests/sentry/attachments/test_redis.py
index a6891258d3..afb4c04944 100644
--- a/tests/sentry/attachments/test_redis.py
+++ b/tests/sentry/attachments/test_redis.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import zlib
 import pytest
 
diff --git a/tests/sentry/auth/providers/test_saml2.py b/tests/sentry/auth/providers/test_saml2.py
index c06f024181..b32bb6afa9 100644
--- a/tests/sentry/auth/providers/test_saml2.py
+++ b/tests/sentry/auth/providers/test_saml2.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import, print_function
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 
 from sentry.auth.providers.saml2.provider import SAML2Provider, Attributes
 
diff --git a/tests/sentry/auth/test_access.py b/tests/sentry/auth/test_access.py
index 5784ab9015..a50a971906 100644
--- a/tests/sentry/auth/test_access.py
+++ b/tests/sentry/auth/test_access.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.contrib.auth.models import AnonymousUser
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.auth import access
 from sentry.models import AuthProvider, AuthIdentity, Organization, ObjectStatus
diff --git a/tests/sentry/auth/test_superuser.py b/tests/sentry/auth/test_superuser.py
index 4d361a9c2a..acf6522d98 100644
--- a/tests/sentry/auth/test_superuser.py
+++ b/tests/sentry/auth/test_superuser.py
@@ -6,7 +6,7 @@ from datetime import timedelta
 from django.contrib.auth.models import AnonymousUser
 from django.core import signing
 from django.utils import timezone
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.auth.superuser import (
     COOKIE_DOMAIN,
diff --git a/tests/sentry/buffer/base/tests.py b/tests/sentry/buffer/base/tests.py
index 2ef410734d..de05ec76c1 100644
--- a/tests/sentry/buffer/base/tests.py
+++ b/tests/sentry/buffer/base/tests.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from datetime import timedelta
 from django.utils import timezone
diff --git a/tests/sentry/buffer/redis/tests.py b/tests/sentry/buffer/redis/tests.py
index 1149e4fbdf..0052bfb39d 100644
--- a/tests/sentry/buffer/redis/tests.py
+++ b/tests/sentry/buffer/redis/tests.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 
 from datetime import datetime
 from django.utils import timezone
diff --git a/tests/sentry/coreapi/test_auth_from_request.py b/tests/sentry/coreapi/test_auth_from_request.py
index a5a1e4d4d7..6eb6a03f8f 100644
--- a/tests/sentry/coreapi/test_auth_from_request.py
+++ b/tests/sentry/coreapi/test_auth_from_request.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from django.core.exceptions import SuspiciousOperation
diff --git a/tests/sentry/db/test_mixin.py b/tests/sentry/db/test_mixin.py
index 6dd2c9c364..46413c26b1 100644
--- a/tests/sentry/db/test_mixin.py
+++ b/tests/sentry/db/test_mixin.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import OrganizationOption, Repository
 from sentry.testutils import TestCase
diff --git a/tests/sentry/deletions/test_group.py b/tests/sentry/deletions/test_group.py
index 470e27168a..cfc9cd6383 100644
--- a/tests/sentry/deletions/test_group.py
+++ b/tests/sentry/deletions/test_group.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 from uuid import uuid4
 
 from sentry.models import (
diff --git a/tests/sentry/deletions/test_repository.py b/tests/sentry/deletions/test_repository.py
index 0bb7d634b3..16d21edae4 100644
--- a/tests/sentry/deletions/test_repository.py
+++ b/tests/sentry/deletions/test_repository.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from django.core import mail
 
diff --git a/tests/sentry/event_manager/interfaces/test_stacktrace.py b/tests/sentry/event_manager/interfaces/test_stacktrace.py
index 632c7cd977..52a1830552 100644
--- a/tests/sentry/event_manager/interfaces/test_stacktrace.py
+++ b/tests/sentry/event_manager/interfaces/test_stacktrace.py
@@ -4,7 +4,7 @@ from __future__ import absolute_import
 
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 from django.conf import settings
 
 from sentry import eventstore
diff --git a/tests/sentry/event_manager/test_event_manager.py b/tests/sentry/event_manager/test_event_manager.py
index 249cf40f72..e4e29c4ec3 100644
--- a/tests/sentry/event_manager/test_event_manager.py
+++ b/tests/sentry/event_manager/test_event_manager.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import, print_function
 
 import logging
-import mock
+from sentry.utils.compat import mock
 import pytest
 import uuid
 
diff --git a/tests/sentry/eventstore/test_base.py b/tests/sentry/eventstore/test_base.py
index 64713242d5..1aa85f4698 100644
--- a/tests/sentry/eventstore/test_base.py
+++ b/tests/sentry/eventstore/test_base.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import logging
-import mock
+from sentry.utils.compat import mock
 import pytest
 import six
 
diff --git a/tests/sentry/eventstore/test_models.py b/tests/sentry/eventstore/test_models.py
index 3ec3f7f1b1..64ce48bd63 100644
--- a/tests/sentry/eventstore/test_models.py
+++ b/tests/sentry/eventstore/test_models.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pickle
 import pytest
 
diff --git a/tests/sentry/eventstream/kafka/test_state.py b/tests/sentry/eventstream/kafka/test_state.py
index 1b29510e21..bfc6417bfa 100644
--- a/tests/sentry/eventstream/kafka/test_state.py
+++ b/tests/sentry/eventstream/kafka/test_state.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 from sentry.eventstream.kafka.state import (
     InvalidState,
     InvalidStateTransition,
diff --git a/tests/sentry/features/test_helpers.py b/tests/sentry/features/test_helpers.py
index d1bca82f78..6376465902 100644
--- a/tests/sentry/features/test_helpers.py
+++ b/tests/sentry/features/test_helpers.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 from contextlib import contextmanager
 from django.http import HttpRequest
 from rest_framework.response import Response
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry import features
 from sentry.features import OrganizationFeature
diff --git a/tests/sentry/identity/test_oauth2.py b/tests/sentry/identity/test_oauth2.py
index b99e439e30..f94fb777dd 100644
--- a/tests/sentry/identity/test_oauth2.py
+++ b/tests/sentry/identity/test_oauth2.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import responses
 from exam import fixture
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 from requests.exceptions import SSLError
 
 import sentry.identity
diff --git a/tests/sentry/incidents/test_models.py b/tests/sentry/incidents/test_models.py
index 4af21d2804..cc72c16cb6 100644
--- a/tests/sentry/incidents/test_models.py
+++ b/tests/sentry/incidents/test_models.py
@@ -8,7 +8,7 @@ from django.db import IntegrityError, transaction
 from django.utils import timezone
 from exam import patcher
 from freezegun import freeze_time
-from mock import Mock, patch
+from sentry.utils.compat.mock import Mock, patch
 
 from sentry.db.models.manager import BaseManager
 from sentry.incidents.models import AlertRuleTriggerAction, Incident, IncidentStatus
diff --git a/tests/sentry/incidents/test_subscription_processor.py b/tests/sentry/incidents/test_subscription_processor.py
index afa093b784..c265a59d9f 100644
--- a/tests/sentry/incidents/test_subscription_processor.py
+++ b/tests/sentry/incidents/test_subscription_processor.py
@@ -10,7 +10,7 @@ import six
 from django.utils import timezone
 from exam import fixture, patcher
 from freezegun import freeze_time
-from mock import call, Mock
+from sentry.utils.compat.mock import call, Mock
 
 from sentry.incidents.logic import (
     create_alert_rule,
diff --git a/tests/sentry/incidents/test_tasks.py b/tests/sentry/incidents/test_tasks.py
index 061092afd9..a34aa6a2e3 100644
--- a/tests/sentry/incidents/test_tasks.py
+++ b/tests/sentry/incidents/test_tasks.py
@@ -4,7 +4,7 @@ import six
 from django.core.urlresolvers import reverse
 from exam import fixture, patcher
 from freezegun import freeze_time
-from mock import Mock, patch
+from sentry.utils.compat.mock import Mock, patch
 
 from sentry.incidents.logic import (
     create_alert_rule_trigger,
diff --git a/tests/sentry/integrations/github/test_client.py b/tests/sentry/integrations/github/test_client.py
index ba54aa7dec..5e4b8974fe 100644
--- a/tests/sentry/integrations/github/test_client.py
+++ b/tests/sentry/integrations/github/test_client.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import responses
-import mock
+from sentry.utils.compat import mock
 
 from sentry.testutils import TestCase
 from sentry.models import Integration
diff --git a/tests/sentry/integrations/github/test_integration.py b/tests/sentry/integrations/github/test_integration.py
index d9838bcabb..682ec5fc02 100644
--- a/tests/sentry/integrations/github/test_integration.py
+++ b/tests/sentry/integrations/github/test_integration.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 import sentry
 
-from mock import MagicMock
+from sentry.utils.compat.mock import MagicMock
 from six.moves.urllib.parse import urlencode, urlparse
 
 from sentry.constants import ObjectStatus
diff --git a/tests/sentry/integrations/github/test_issues.py b/tests/sentry/integrations/github/test_issues.py
index a430a32f41..b211cb68d0 100644
--- a/tests/sentry/integrations/github/test_issues.py
+++ b/tests/sentry/integrations/github/test_issues.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 import six
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from exam import fixture
 from django.test import RequestFactory
 
diff --git a/tests/sentry/integrations/github/test_repository.py b/tests/sentry/integrations/github/test_repository.py
index d54f2fceeb..c188b90ad2 100644
--- a/tests/sentry/integrations/github/test_repository.py
+++ b/tests/sentry/integrations/github/test_repository.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import datetime
-import mock
+from sentry.utils.compat import mock
 import responses
 import pytest
 
diff --git a/tests/sentry/integrations/github/test_webhooks.py b/tests/sentry/integrations/github/test_webhooks.py
index ddd3f10a49..608a283806 100644
--- a/tests/sentry/integrations/github/test_webhooks.py
+++ b/tests/sentry/integrations/github/test_webhooks.py
@@ -17,7 +17,7 @@ from .testutils import (
 )
 from sentry import options
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 class WebhookTest(APITestCase):
diff --git a/tests/sentry/integrations/github_enterprise/test_integration.py b/tests/sentry/integrations/github_enterprise/test_integration.py
index 656a4d5ad6..bd11881ad4 100644
--- a/tests/sentry/integrations/github_enterprise/test_integration.py
+++ b/tests/sentry/integrations/github_enterprise/test_integration.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import responses
 import six
-from mock import patch
+from sentry.utils.compat.mock import patch
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse
 
 from sentry.integrations.github_enterprise import GitHubEnterpriseIntegrationProvider
diff --git a/tests/sentry/integrations/github_enterprise/test_issues.py b/tests/sentry/integrations/github_enterprise/test_issues.py
index 7e83f085cc..f8b3eae058 100644
--- a/tests/sentry/integrations/github_enterprise/test_issues.py
+++ b/tests/sentry/integrations/github_enterprise/test_issues.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import responses
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from exam import fixture
 from django.test import RequestFactory
 
diff --git a/tests/sentry/integrations/github_enterprise/test_webhooks.py b/tests/sentry/integrations/github_enterprise/test_webhooks.py
index 332047fe4f..f700f66d7a 100644
--- a/tests/sentry/integrations/github_enterprise/test_webhooks.py
+++ b/tests/sentry/integrations/github_enterprise/test_webhooks.py
@@ -16,7 +16,7 @@ from .testutils import (
     PULL_REQUEST_CLOSED_EVENT_EXAMPLE,
 )
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 
 class WebhookTest(APITestCase):
diff --git a/tests/sentry/integrations/gitlab/test_integration.py b/tests/sentry/integrations/gitlab/test_integration.py
index 9bd1fbc105..9d5d5f86c6 100644
--- a/tests/sentry/integrations/gitlab/test_integration.py
+++ b/tests/sentry/integrations/gitlab/test_integration.py
@@ -4,7 +4,7 @@ import responses
 import six
 
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 
 from sentry.integrations.gitlab import GitlabIntegrationProvider
 from sentry.models import (
diff --git a/tests/sentry/integrations/jira/test_configure.py b/tests/sentry/integrations/jira/test_configure.py
index 1ef1665c21..5cd014bc77 100644
--- a/tests/sentry/integrations/jira/test_configure.py
+++ b/tests/sentry/integrations/jira/test_configure.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from jwt import ExpiredSignatureError
 
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/integrations/jira/test_integration.py b/tests/sentry/integrations/jira/test_integration.py
index 45dd07ea2b..3f8a3dca36 100644
--- a/tests/sentry/integrations/jira/test_integration.py
+++ b/tests/sentry/integrations/jira/test_integration.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import json
-import mock
+from sentry.utils.compat import mock
 import responses
 import six
 import pytest
@@ -9,7 +9,7 @@ import copy
 
 from django.core.urlresolvers import reverse
 from exam import fixture
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.integrations.exceptions import IntegrationError
 from sentry.models import (
diff --git a/tests/sentry/integrations/jira/test_uninstalled.py b/tests/sentry/integrations/jira/test_uninstalled.py
index 42bb32b550..e8bdd1588f 100644
--- a/tests/sentry/integrations/jira/test_uninstalled.py
+++ b/tests/sentry/integrations/jira/test_uninstalled.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.constants import ObjectStatus
 from sentry.models import Integration
diff --git a/tests/sentry/integrations/jira/test_webhooks.py b/tests/sentry/integrations/jira/test_webhooks.py
index ad8aa31f1b..e1e445f46f 100644
--- a/tests/sentry/integrations/jira/test_webhooks.py
+++ b/tests/sentry/integrations/jira/test_webhooks.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import json
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/integrations/jira_server/test_webhooks.py b/tests/sentry/integrations/jira_server/test_webhooks.py
index dc47dad554..6ec9a14512 100644
--- a/tests/sentry/integrations/jira_server/test_webhooks.py
+++ b/tests/sentry/integrations/jira_server/test_webhooks.py
@@ -5,7 +5,7 @@ import responses
 
 from django.core.urlresolvers import reverse
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 from requests.exceptions import ConnectionError
 
 from sentry.integrations.jira_server.integration import JiraServerIntegration
diff --git a/tests/sentry/integrations/pagerduty/test_client.py b/tests/sentry/integrations/pagerduty/test_client.py
index 73f8aa3ad7..83ea9e28b9 100644
--- a/tests/sentry/integrations/pagerduty/test_client.py
+++ b/tests/sentry/integrations/pagerduty/test_client.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import copy
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.api.serializers import serialize, ExternalEventSerializer
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/integrations/slack/test_action_endpoint.py b/tests/sentry/integrations/slack/test_action_endpoint.py
index 868ed6c86f..b84a5d995f 100644
--- a/tests/sentry/integrations/slack/test_action_endpoint.py
+++ b/tests/sentry/integrations/slack/test_action_endpoint.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 
 from six.moves.urllib.parse import parse_qs
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.api import client
 from sentry import options
diff --git a/tests/sentry/integrations/slack/test_link_identity.py b/tests/sentry/integrations/slack/test_link_identity.py
index cddfbdfa06..8f979fe9ba 100644
--- a/tests/sentry/integrations/slack/test_link_identity.py
+++ b/tests/sentry/integrations/slack/test_link_identity.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import responses
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import (
     Identity,
diff --git a/tests/sentry/integrations/slack/test_requests.py b/tests/sentry/integrations/slack/test_requests.py
index 4f50302dba..158f11731b 100644
--- a/tests/sentry/integrations/slack/test_requests.py
+++ b/tests/sentry/integrations/slack/test_requests.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import json
-import mock
+from sentry.utils.compat import mock
 
 from sentry import options
 from sentry.utils.cache import memoize
diff --git a/tests/sentry/integrations/test_client.py b/tests/sentry/integrations/test_client.py
index c24ddd11f5..37199c35a4 100644
--- a/tests/sentry/integrations/test_client.py
+++ b/tests/sentry/integrations/test_client.py
@@ -4,7 +4,7 @@ import pytest
 import responses
 
 from time import time
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 from sentry.testutils import TestCase
 
 from sentry.integrations.exceptions import (
diff --git a/tests/sentry/integrations/test_pipeline.py b/tests/sentry/integrations/test_pipeline.py
index 767b32cfaf..339be24773 100644
--- a/tests/sentry/integrations/test_pipeline.py
+++ b/tests/sentry/integrations/test_pipeline.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import IdentityProvider, Identity, Integration, OrganizationIntegration
 from sentry.testutils import IntegrationTestCase
diff --git a/tests/sentry/integrations/vsts/test_integration.py b/tests/sentry/integrations/vsts/test_integration.py
index 371f679aa7..51941762a0 100644
--- a/tests/sentry/integrations/vsts/test_integration.py
+++ b/tests/sentry/integrations/vsts/test_integration.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import pytest
 import six
 import responses
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 
 from sentry.identity.vsts import VSTSIdentityProvider
 from sentry.integrations.exceptions import IntegrationError
diff --git a/tests/sentry/integrations/vsts/test_provider.py b/tests/sentry/integrations/vsts/test_provider.py
index d8418c38d5..5f6a5e39cc 100644
--- a/tests/sentry/integrations/vsts/test_provider.py
+++ b/tests/sentry/integrations/vsts/test_provider.py
@@ -1,5 +1,5 @@
 from __future__ import absolute_import
-from mock import Mock, patch
+from sentry.utils.compat.mock import Mock, patch
 import responses
 from django.http import HttpRequest
 from sentry.identity.vsts.provider import VSTSOAuth2CallbackView, VSTSIdentityProvider
diff --git a/tests/sentry/integrations/vsts/test_webhooks.py b/tests/sentry/integrations/vsts/test_webhooks.py
index 6ec6932584..6ac97f0353 100644
--- a/tests/sentry/integrations/vsts/test_webhooks.py
+++ b/tests/sentry/integrations/vsts/test_webhooks.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import responses
-from mock import patch
+from sentry.utils.compat.mock import patch
 from time import time
 
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/integrations/vsts_extension/test_provider.py b/tests/sentry/integrations/vsts_extension/test_provider.py
index d39da7304b..d10b343b01 100644
--- a/tests/sentry/integrations/vsts_extension/test_provider.py
+++ b/tests/sentry/integrations/vsts_extension/test_provider.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.core.urlresolvers import reverse
-from mock import patch
+from sentry.utils.compat.mock import patch
 from six.moves.urllib.parse import urlparse, parse_qs
 
 from sentry.integrations.vsts import VstsIntegrationProvider
diff --git a/tests/sentry/lang/javascript/test_plugin.py b/tests/sentry/lang/javascript/test_plugin.py
index c21a78e902..f1ce32f2d8 100644
--- a/tests/sentry/lang/javascript/test_plugin.py
+++ b/tests/sentry/lang/javascript/test_plugin.py
@@ -4,7 +4,7 @@ from __future__ import absolute_import
 
 import os.path
 import responses
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry import eventstore
 from sentry.models import File, Release, ReleaseFile
diff --git a/tests/sentry/lang/javascript/test_processor.py b/tests/sentry/lang/javascript/test_processor.py
index 982c47dc3e..0134c0ac3c 100644
--- a/tests/sentry/lang/javascript/test_processor.py
+++ b/tests/sentry/lang/javascript/test_processor.py
@@ -8,7 +8,7 @@ import unittest
 from symbolic import SourceMapTokenMatch
 
 from copy import deepcopy
-from mock import patch
+from sentry.utils.compat.mock import patch
 from requests.exceptions import RequestException
 
 from sentry import http, options
diff --git a/tests/sentry/loader/test_browsersdkversion.py b/tests/sentry/loader/test_browsersdkversion.py
index 146bab6bd0..b4d507e9b4 100644
--- a/tests/sentry/loader/test_browsersdkversion.py
+++ b/tests/sentry/loader/test_browsersdkversion.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.conf import settings
 from sentry.testutils import TestCase
diff --git a/tests/sentry/logging/test_handler.py b/tests/sentry/logging/test_handler.py
index 7908d49b0b..465c86f3e9 100644
--- a/tests/sentry/logging/test_handler.py
+++ b/tests/sentry/logging/test_handler.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import pytest
 import logging
-import mock
+from sentry.utils.compat import mock
 
 from sentry.logging.handlers import StructLogHandler
 
diff --git a/tests/sentry/mediators/sentry_app_components/test_preparer.py b/tests/sentry/mediators/sentry_app_components/test_preparer.py
index 10155e18d8..5ef2c303af 100644
--- a/tests/sentry/mediators/sentry_app_components/test_preparer.py
+++ b/tests/sentry/mediators/sentry_app_components/test_preparer.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch, call
+from sentry.utils.compat.mock import patch, call
 
 from sentry.mediators.sentry_app_components import Preparer
 from sentry.testutils import TestCase
diff --git a/tests/sentry/mediators/sentry_app_installation_tokens/test_creator.py b/tests/sentry/mediators/sentry_app_installation_tokens/test_creator.py
index 75f34d3a6a..e21d3d0f8d 100644
--- a/tests/sentry/mediators/sentry_app_installation_tokens/test_creator.py
+++ b/tests/sentry/mediators/sentry_app_installation_tokens/test_creator.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from datetime import date
 
 from sentry.mediators.sentry_app_installation_tokens import Creator
diff --git a/tests/sentry/mediators/sentry_app_installation_tokens/test_destroyer.py b/tests/sentry/mediators/sentry_app_installation_tokens/test_destroyer.py
index 4f521adc4e..664651d7e3 100644
--- a/tests/sentry/mediators/sentry_app_installation_tokens/test_destroyer.py
+++ b/tests/sentry/mediators/sentry_app_installation_tokens/test_destroyer.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.mediators.sentry_app_installation_tokens import Destroyer
 from sentry.models import AuditLogEntry, ApiToken, SentryAppInstallationToken, SentryAppInstallation
diff --git a/tests/sentry/mediators/sentry_app_installations/test_creator.py b/tests/sentry/mediators/sentry_app_installations/test_creator.py
index 0ae86b8026..21f5884a98 100644
--- a/tests/sentry/mediators/sentry_app_installations/test_creator.py
+++ b/tests/sentry/mediators/sentry_app_installations/test_creator.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import responses
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.constants import SentryAppInstallationStatus
 from sentry.mediators.sentry_app_installations import Creator
diff --git a/tests/sentry/mediators/sentry_app_installations/test_destroyer.py b/tests/sentry/mediators/sentry_app_installations/test_destroyer.py
index 6d2e88d18a..5e4d9fcc34 100644
--- a/tests/sentry/mediators/sentry_app_installations/test_destroyer.py
+++ b/tests/sentry/mediators/sentry_app_installations/test_destroyer.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 
 from django.db import connection
-from mock import patch
+from sentry.utils.compat.mock import patch
 from requests.exceptions import RequestException
 
 from sentry.mediators.sentry_app_installations import Creator, Destroyer
diff --git a/tests/sentry/mediators/sentry_app_installations/test_installation_notifier.py b/tests/sentry/mediators/sentry_app_installations/test_installation_notifier.py
index d0e03727ce..de6db4ca14 100644
--- a/tests/sentry/mediators/sentry_app_installations/test_installation_notifier.py
+++ b/tests/sentry/mediators/sentry_app_installations/test_installation_notifier.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from collections import namedtuple
 
 from sentry.coreapi import APIUnauthorized
diff --git a/tests/sentry/mediators/sentry_apps/test_creator.py b/tests/sentry/mediators/sentry_apps/test_creator.py
index bcbd7d0edc..46bd5c6772 100644
--- a/tests/sentry/mediators/sentry_apps/test_creator.py
+++ b/tests/sentry/mediators/sentry_apps/test_creator.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.db import IntegrityError
 
 from sentry.mediators.sentry_apps import Creator
diff --git a/tests/sentry/mediators/sentry_apps/test_destroyer.py b/tests/sentry/mediators/sentry_apps/test_destroyer.py
index 7f72e60c8f..816ad22d26 100644
--- a/tests/sentry/mediators/sentry_apps/test_destroyer.py
+++ b/tests/sentry/mediators/sentry_apps/test_destroyer.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.db import connection
-from mock import patch
+from sentry.utils.compat.mock import patch
 import responses
 
 from sentry.mediators.sentry_apps import Destroyer
diff --git a/tests/sentry/mediators/sentry_apps/test_internal_creator.py b/tests/sentry/mediators/sentry_apps/test_internal_creator.py
index c6da58cc16..e64bf09b3e 100644
--- a/tests/sentry/mediators/sentry_apps/test_internal_creator.py
+++ b/tests/sentry/mediators/sentry_apps/test_internal_creator.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch, MagicMock
+from sentry.utils.compat.mock import patch, MagicMock
 
 from sentry.mediators.sentry_apps import InternalCreator
 from sentry.models import AuditLogEntryEvent, SentryApp, SentryAppInstallation
diff --git a/tests/sentry/mediators/test_mediator.py b/tests/sentry/mediators/test_mediator.py
index 930c2a7ce5..44c5da75f4 100644
--- a/tests/sentry/mediators/test_mediator.py
+++ b/tests/sentry/mediators/test_mediator.py
@@ -4,7 +4,7 @@ import logging
 import six
 import types
 
-from mock import patch, PropertyMock
+from sentry.utils.compat.mock import patch, PropertyMock
 
 from sentry.mediators import Mediator, Param
 from sentry.models import User
diff --git a/tests/sentry/mediators/token_exchange/test_grant_exchanger.py b/tests/sentry/mediators/token_exchange/test_grant_exchanger.py
index 4811434106..d9f7a1891d 100644
--- a/tests/sentry/mediators/token_exchange/test_grant_exchanger.py
+++ b/tests/sentry/mediators/token_exchange/test_grant_exchanger.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from datetime import datetime, timedelta
 
 from sentry.coreapi import APIUnauthorized
diff --git a/tests/sentry/mediators/token_exchange/test_refresher.py b/tests/sentry/mediators/token_exchange/test_refresher.py
index 063d7898bd..6bc47c3a4c 100644
--- a/tests/sentry/mediators/token_exchange/test_refresher.py
+++ b/tests/sentry/mediators/token_exchange/test_refresher.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.coreapi import APIUnauthorized
 from sentry.models import ApiApplication, ApiToken, SentryApp, SentryAppInstallation
diff --git a/tests/sentry/mediators/token_exchange/test_validator.py b/tests/sentry/mediators/token_exchange/test_validator.py
index 034f3651d1..ae0c351043 100644
--- a/tests/sentry/mediators/token_exchange/test_validator.py
+++ b/tests/sentry/mediators/token_exchange/test_validator.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.coreapi import APIUnauthorized
 from sentry.mediators.token_exchange import Validator
diff --git a/tests/sentry/metrics/test_datadog.py b/tests/sentry/metrics/test_datadog.py
index 6678d09ed0..7aeb629731 100644
--- a/tests/sentry/metrics/test_datadog.py
+++ b/tests/sentry/metrics/test_datadog.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from datadog.util.hostname import get_hostname
 
diff --git a/tests/sentry/metrics/test_statsd.py b/tests/sentry/metrics/test_statsd.py
index cb3fee7b53..f61e3a6012 100644
--- a/tests/sentry/metrics/test_statsd.py
+++ b/tests/sentry/metrics/test_statsd.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.metrics.statsd import StatsdMetricsBackend
 from sentry.testutils import TestCase
diff --git a/tests/sentry/middleware/test_health.py b/tests/sentry/middleware/test_health.py
index 2368c7e575..cfd30316ce 100644
--- a/tests/sentry/middleware/test_health.py
+++ b/tests/sentry/middleware/test_health.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from django.test import RequestFactory
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.middleware.health import HealthCheck
 from sentry.status_checks import Problem
diff --git a/tests/sentry/middleware/test_stats.py b/tests/sentry/middleware/test_stats.py
index ce428fa141..5b796a72eb 100644
--- a/tests/sentry/middleware/test_stats.py
+++ b/tests/sentry/middleware/test_stats.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from django.test import RequestFactory
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.middleware.stats import RequestTimingMiddleware, add_request_metric_tags
 from sentry.testutils import TestCase
diff --git a/tests/sentry/models/test_groupassignee.py b/tests/sentry/models/test_groupassignee.py
index 7f3a8bda14..1866fbc62a 100644
--- a/tests/sentry/models/test_groupassignee.py
+++ b/tests/sentry/models/test_groupassignee.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 import six
 
diff --git a/tests/sentry/models/test_groupsnooze.py b/tests/sentry/models/test_groupsnooze.py
index aacadeaa94..f93fe5173f 100644
--- a/tests/sentry/models/test_groupsnooze.py
+++ b/tests/sentry/models/test_groupsnooze.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import itertools
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from datetime import datetime, timedelta
diff --git a/tests/sentry/models/test_organization.py b/tests/sentry/models/test_organization.py
index f10f6179cd..1284baace2 100644
--- a/tests/sentry/models/test_organization.py
+++ b/tests/sentry/models/test_organization.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import copy
-import mock
+from sentry.utils.compat import mock
 
 from sentry.models import (
     ApiKey,
diff --git a/tests/sentry/models/test_organizationmember.py b/tests/sentry/models/test_organizationmember.py
index 196ffb4d5c..53be0ce17a 100644
--- a/tests/sentry/models/test_organizationmember.py
+++ b/tests/sentry/models/test_organizationmember.py
@@ -5,7 +5,7 @@ from __future__ import absolute_import
 from datetime import timedelta
 from django.core import mail
 from django.utils import timezone
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.auth import manager
 from sentry.models import InviteStatus, OrganizationMember, INVITE_DAYS_VALID
diff --git a/tests/sentry/models/test_recentsearch.py b/tests/sentry/models/test_recentsearch.py
index ca0cc2c0f2..47f25fa66c 100644
--- a/tests/sentry/models/test_recentsearch.py
+++ b/tests/sentry/models/test_recentsearch.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 from datetime import timedelta
 
 from django.utils import timezone
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.testutils import TestCase
 from sentry.models.recentsearch import RecentSearch, remove_excess_recent_searches
diff --git a/tests/sentry/models/test_release.py b/tests/sentry/models/test_release.py
index f1d5480916..9d433d8111 100644
--- a/tests/sentry/models/test_release.py
+++ b/tests/sentry/models/test_release.py
@@ -5,7 +5,7 @@ import six
 
 from django.utils import timezone
 from freezegun import freeze_time
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.api.exceptions import InvalidRepository
 from sentry.models import (
diff --git a/tests/sentry/net/test_socket.py b/tests/sentry/net/test_socket.py
index c757a46a2a..37ee14a37f 100644
--- a/tests/sentry/net/test_socket.py
+++ b/tests/sentry/net/test_socket.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import pytest
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.core.exceptions import SuspiciousOperation
 
 from sentry.testutils import TestCase
diff --git a/tests/sentry/options/test_manager.py b/tests/sentry/options/test_manager.py
index b8272ace8f..ef427d33df 100644
--- a/tests/sentry/options/test_manager.py
+++ b/tests/sentry/options/test_manager.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import
 
 from exam import fixture, around
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.conf import settings
 from django.core.cache.backends.locmem import LocMemCache
 
diff --git a/tests/sentry/options/test_store.py b/tests/sentry/options/test_store.py
index 8f5619ddac..3a7522d0d8 100644
--- a/tests/sentry/options/test_store.py
+++ b/tests/sentry/options/test_store.py
@@ -6,7 +6,7 @@ from uuid import uuid1
 
 import pytest
 from exam import before, fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.core.cache.backends.locmem import LocMemCache
 
 from sentry.models import Option
diff --git a/tests/sentry/plugins/bases/issue/tests.py b/tests/sentry/plugins/bases/issue/tests.py
index e7131bf239..5886459b1d 100644
--- a/tests/sentry/plugins/bases/issue/tests.py
+++ b/tests/sentry/plugins/bases/issue/tests.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from social_auth.models import UserSocialAuth
 
diff --git a/tests/sentry/plugins/bases/test_issue2.py b/tests/sentry/plugins/bases/test_issue2.py
index 495084546a..71b1d93cb2 100644
--- a/tests/sentry/plugins/bases/test_issue2.py
+++ b/tests/sentry/plugins/bases/test_issue2.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import
 
 import json
-import mock
+from sentry.utils.compat import mock
 
 from social_auth.models import UserSocialAuth
 
diff --git a/tests/sentry/plugins/helpers/tests.py b/tests/sentry/plugins/helpers/tests.py
index ea3cdc9574..74f70d17a7 100644
--- a/tests/sentry/plugins/helpers/tests.py
+++ b/tests/sentry/plugins/helpers/tests.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 from sentry.plugins.helpers import set_option, unset_option, get_option
 from sentry.testutils import TestCase
 
diff --git a/tests/sentry/plugins/mail/tests.py b/tests/sentry/plugins/mail/tests.py
index e0a120e65a..6856252c96 100644
--- a/tests/sentry/plugins/mail/tests.py
+++ b/tests/sentry/plugins/mail/tests.py
@@ -4,7 +4,7 @@ from __future__ import absolute_import
 
 from datetime import datetime
 
-import mock
+from sentry.utils.compat import mock
 import pytz
 import six
 from django.contrib.auth.models import AnonymousUser
@@ -12,7 +12,7 @@ from django.core import mail
 from django.db.models import F
 from django.utils import timezone
 from exam import fixture
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.api.serializers import serialize, UserReportWithGroupSerializer
 from sentry.digests.notifications import build_digest, event_to_record
diff --git a/tests/sentry/quotas/redis/tests.py b/tests/sentry/quotas/redis/tests.py
index 1729338401..0f50994a7e 100644
--- a/tests/sentry/quotas/redis/tests.py
+++ b/tests/sentry/quotas/redis/tests.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 import six
 import time
 
diff --git a/tests/sentry/receivers/test_releases.py b/tests/sentry/receivers/test_releases.py
index ef376c98b8..3c3ecf61b3 100644
--- a/tests/sentry/receivers/test_releases.py
+++ b/tests/sentry/receivers/test_releases.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import six
 from hashlib import sha1
-from mock import patch
+from sentry.utils.compat.mock import patch
 from uuid import uuid4
 
 from sentry.models import (
diff --git a/tests/sentry/receivers/test_sentry_apps.py b/tests/sentry/receivers/test_sentry_apps.py
index 666d93ec45..0775a3192d 100644
--- a/tests/sentry/receivers/test_sentry_apps.py
+++ b/tests/sentry/receivers/test_sentry_apps.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import Commit, GroupAssignee, GroupLink, Repository, Release
 from sentry.testutils import APITestCase
diff --git a/tests/sentry/rules/actions/test_notify_event.py b/tests/sentry/rules/actions/test_notify_event.py
index 1296ce0365..e40f37e469 100644
--- a/tests/sentry/rules/actions/test_notify_event.py
+++ b/tests/sentry/rules/actions/test_notify_event.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import MagicMock
+from sentry.utils.compat.mock import MagicMock
 
 from sentry.testutils.cases import RuleTestCase
 from sentry.rules.actions.notify_event import NotifyEventAction
diff --git a/tests/sentry/rules/actions/test_notify_event_service.py b/tests/sentry/rules/actions/test_notify_event_service.py
index fb017a02b9..a2be018b15 100644
--- a/tests/sentry/rules/actions/test_notify_event_service.py
+++ b/tests/sentry/rules/actions/test_notify_event_service.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import MagicMock, patch
+from sentry.utils.compat.mock import MagicMock, patch
 
 from sentry.testutils.cases import RuleTestCase
 from sentry.rules.actions.notify_event_service import NotifyEventServiceAction
diff --git a/tests/sentry/rules/conditions/test_event_frequency.py b/tests/sentry/rules/conditions/test_event_frequency.py
index 4e31e97c32..f99bfb3df3 100644
--- a/tests/sentry/rules/conditions/test_event_frequency.py
+++ b/tests/sentry/rules/conditions/test_event_frequency.py
@@ -4,7 +4,7 @@ import itertools
 import pytz
 from datetime import datetime, timedelta
 
-import mock
+from sentry.utils.compat import mock
 import six
 
 from sentry import tsdb
diff --git a/tests/sentry/search/test_utils.py b/tests/sentry/search/test_utils.py
index 7a1e8f106f..87e03511e5 100644
--- a/tests/sentry/search/test_utils.py
+++ b/tests/sentry/search/test_utils.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 from datetime import datetime, timedelta
 from django.utils import timezone
 
diff --git a/tests/sentry/snuba/test_discover.py b/tests/sentry/snuba/test_discover.py
index f4f3d162ab..61404177fa 100644
--- a/tests/sentry/snuba/test_discover.py
+++ b/tests/sentry/snuba/test_discover.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import six
 import pytest
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from datetime import datetime, timedelta
 
 from sentry import eventstore
diff --git a/tests/sentry/snuba/test_query_subscription_consumer.py b/tests/sentry/snuba/test_query_subscription_consumer.py
index 9be4f0808f..b5159a3679 100644
--- a/tests/sentry/snuba/test_query_subscription_consumer.py
+++ b/tests/sentry/snuba/test_query_subscription_consumer.py
@@ -5,7 +5,7 @@ import unittest
 from copy import deepcopy
 
 from exam import fixture, patcher
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.snuba.models import QuerySubscription
 from sentry.snuba.query_subscription_consumer import (
diff --git a/tests/sentry/tasks/post_process/tests.py b/tests/sentry/tasks/post_process/tests.py
index a51b0e3177..63d0d487a4 100644
--- a/tests/sentry/tasks/post_process/tests.py
+++ b/tests/sentry/tasks/post_process/tests.py
@@ -4,7 +4,7 @@ from __future__ import absolute_import
 
 from datetime import timedelta
 from django.utils import timezone
-from mock import Mock, patch, ANY
+from sentry.utils.compat.mock import Mock, patch, ANY
 
 from sentry.models import Group, GroupSnooze, GroupStatus, ProjectOwnership
 from sentry.ownership.grammar import Rule, Matcher, Owner, dump_schema
diff --git a/tests/sentry/tasks/process_buffer/tests.py b/tests/sentry/tasks/process_buffer/tests.py
index 04aa97a85b..d16822e207 100644
--- a/tests/sentry/tasks/process_buffer/tests.py
+++ b/tests/sentry/tasks/process_buffer/tests.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from sentry.tasks.process_buffer import process_incr, process_pending
 from sentry.testutils import TestCase
diff --git a/tests/sentry/tasks/test_activity.py b/tests/sentry/tasks/test_activity.py
index c70d147562..a892f94139 100644
--- a/tests/sentry/tasks/test_activity.py
+++ b/tests/sentry/tasks/test_activity.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from sentry.plugins.bases.notify import NotificationPlugin
 from sentry.testutils import PluginTestCase
diff --git a/tests/sentry/tasks/test_auto_resolve_issues.py b/tests/sentry/tasks/test_auto_resolve_issues.py
index 7ea6b01621..b59c2c4afe 100644
--- a/tests/sentry/tasks/test_auto_resolve_issues.py
+++ b/tests/sentry/tasks/test_auto_resolve_issues.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from datetime import timedelta
 from django.utils import timezone
diff --git a/tests/sentry/tasks/test_beacon.py b/tests/sentry/tasks/test_beacon.py
index 2a55100f35..056c4ab33a 100644
--- a/tests/sentry/tasks/test_beacon.py
+++ b/tests/sentry/tasks/test_beacon.py
@@ -4,7 +4,7 @@ import json
 import responses
 import sentry
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from uuid import uuid4
 
 from sentry import options
diff --git a/tests/sentry/tasks/test_check_auth.py b/tests/sentry/tasks/test_check_auth.py
index dfbd09a636..be7f6a9ede 100644
--- a/tests/sentry/tasks/test_check_auth.py
+++ b/tests/sentry/tasks/test_check_auth.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import, print_function
 
 from datetime import timedelta
 from django.utils import timezone
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.auth.exceptions import IdentityNotValid
 from sentry.auth.providers.dummy import DummyProvider
diff --git a/tests/sentry/tasks/test_commits.py b/tests/sentry/tasks/test_commits.py
index 927a9939b2..8324c7922f 100644
--- a/tests/sentry/tasks/test_commits.py
+++ b/tests/sentry/tasks/test_commits.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.core import mail
-from mock import patch
+from sentry.utils.compat.mock import patch
 from social_auth.models import UserSocialAuth
 
 from sentry.exceptions import InvalidIdentity, PluginError
diff --git a/tests/sentry/tasks/test_deletion.py b/tests/sentry/tasks/test_deletion.py
index 0d841b9e1d..d1bef84636 100644
--- a/tests/sentry/tasks/test_deletion.py
+++ b/tests/sentry/tasks/test_deletion.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from datetime import datetime, timedelta
-from mock import patch
+from sentry.utils.compat.mock import patch
 from uuid import uuid4
 
 import pytest
diff --git a/tests/sentry/tasks/test_enqueue_scheduled_jobs.py b/tests/sentry/tasks/test_enqueue_scheduled_jobs.py
index c2b6f79a6d..5926dd7e9b 100644
--- a/tests/sentry/tasks/test_enqueue_scheduled_jobs.py
+++ b/tests/sentry/tasks/test_enqueue_scheduled_jobs.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import, print_function
 from datetime import timedelta
 from django.utils import timezone
 from django.core.exceptions import ValidationError
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 import pytest
 
diff --git a/tests/sentry/tasks/test_merge.py b/tests/sentry/tasks/test_merge.py
index cffbcae115..c06342bede 100644
--- a/tests/sentry/tasks/test_merge.py
+++ b/tests/sentry/tasks/test_merge.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.tasks.merge import merge_groups
 from sentry.models import Group, GroupEnvironment, GroupMeta, GroupRedirect, UserReport
diff --git a/tests/sentry/tasks/test_options.py b/tests/sentry/tasks/test_options.py
index b5c40f6be7..f343a448ba 100644
--- a/tests/sentry/tasks/test_options.py
+++ b/tests/sentry/tasks/test_options.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from datetime import timedelta
 
diff --git a/tests/sentry/tasks/test_reports.py b/tests/sentry/tasks/test_reports.py
index 2bd7d85ad9..ec6dd43c9a 100644
--- a/tests/sentry/tasks/test_reports.py
+++ b/tests/sentry/tasks/test_reports.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import functools
 from datetime import datetime, timedelta
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 import pytz
 import copy
diff --git a/tests/sentry/tasks/test_sentry_apps.py b/tests/sentry/tasks/test_sentry_apps.py
index b1d14f2014..0e54095fa7 100644
--- a/tests/sentry/tasks/test_sentry_apps.py
+++ b/tests/sentry/tasks/test_sentry_apps.py
@@ -6,7 +6,7 @@ import pytest
 from celery import Task
 from collections import namedtuple
 from django.core.urlresolvers import reverse
-from mock import patch
+from sentry.utils.compat.mock import patch
 from requests.exceptions import RequestException
 
 from sentry.models import Rule, SentryApp, SentryAppInstallation
diff --git a/tests/sentry/tasks/test_servicehooks.py b/tests/sentry/tasks/test_servicehooks.py
index 041234e13a..556aba6d28 100644
--- a/tests/sentry/tasks/test_servicehooks.py
+++ b/tests/sentry/tasks/test_servicehooks.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.tasks.servicehooks import get_payload_v0, process_service_hook
 from sentry.testutils import TestCase
diff --git a/tests/sentry/tasks/test_store.py b/tests/sentry/tasks/test_store.py
index acf56233ed..de93599b7e 100644
--- a/tests/sentry/tasks/test_store.py
+++ b/tests/sentry/tasks/test_store.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import uuid
 from time import time
 
diff --git a/tests/sentry/templatetags/test_sentry_assets.py b/tests/sentry/templatetags/test_sentry_assets.py
index 4c2d676e25..7731ef9592 100644
--- a/tests/sentry/templatetags/test_sentry_assets.py
+++ b/tests/sentry/templatetags/test_sentry_assets.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.template import engines
-from mock import MagicMock
+from sentry.utils.compat.mock import MagicMock
 
 from sentry.testutils import TestCase
 
diff --git a/tests/sentry/templatetags/test_sentry_plugins.py b/tests/sentry/templatetags/test_sentry_plugins.py
index 9ae6049272..3025808a7d 100644
--- a/tests/sentry/templatetags/test_sentry_plugins.py
+++ b/tests/sentry/templatetags/test_sentry_plugins.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import MagicMock
+from sentry.utils.compat.mock import MagicMock
 from django.template import engines
 
 from sentry.plugins.base.v2 import Plugin2
diff --git a/tests/sentry/test_constants.py b/tests/sentry/test_constants.py
index 82b6ba43a4..3e10ae62ba 100644
--- a/tests/sentry/test_constants.py
+++ b/tests/sentry/test_constants.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.constants import (
     get_integration_id_for_marketing_slug,
diff --git a/tests/sentry/test_http.py b/tests/sentry/test_http.py
index 1423ad8bde..e54e50f86b 100644
--- a/tests/sentry/test_http.py
+++ b/tests/sentry/test_http.py
@@ -6,7 +6,7 @@ import pytest
 import tempfile
 
 from django.core.exceptions import SuspiciousOperation
-from mock import patch
+from sentry.utils.compat.mock import patch
 from urllib3.util.connection import HAS_IPV6
 
 from sentry import http
diff --git a/tests/sentry/testutils/helpers/test_faux.py b/tests/sentry/testutils/helpers/test_faux.py
index f06602f1ca..3cb402a1a3 100644
--- a/tests/sentry/testutils/helpers/test_faux.py
+++ b/tests/sentry/testutils/helpers/test_faux.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from unittest import TestCase
 from sentry.testutils.helpers.faux import faux
diff --git a/tests/sentry/tsdb/test_base.py b/tests/sentry/tsdb/test_base.py
index c3047cadf9..b2c3a0fd88 100644
--- a/tests/sentry/tsdb/test_base.py
+++ b/tests/sentry/tsdb/test_base.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import, division
 
 import itertools
-import mock
+from sentry.utils.compat import mock
 import pytz
 
 from datetime import datetime, timedelta
diff --git a/tests/sentry/utils/email/tests.py b/tests/sentry/utils/email/tests.py
index 7a6a5d51a7..69c604f191 100644
--- a/tests/sentry/utils/email/tests.py
+++ b/tests/sentry/utils/email/tests.py
@@ -4,7 +4,7 @@ import functools
 
 import pytest
 from django.core import mail
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry import options
 from sentry.models import GroupEmailThread, User, UserOption
diff --git a/tests/sentry/utils/http/tests.py b/tests/sentry/utils/http/tests.py
index 8edc5f9d83..8fcd5ca9d5 100644
--- a/tests/sentry/utils/http/tests.py
+++ b/tests/sentry/utils/http/tests.py
@@ -2,7 +2,7 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import unittest
 
 from exam import fixture
diff --git a/tests/sentry/utils/locking/test_lock.py b/tests/sentry/utils/locking/test_lock.py
index 18a15bfa5c..aadf27306d 100644
--- a/tests/sentry/utils/locking/test_lock.py
+++ b/tests/sentry/utils/locking/test_lock.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from sentry.testutils import TestCase
diff --git a/tests/sentry/utils/test_committers.py b/tests/sentry/utils/test_committers.py
index 9d380204f3..e5eea309a3 100644
--- a/tests/sentry/utils/test_committers.py
+++ b/tests/sentry/utils/test_committers.py
@@ -4,7 +4,7 @@ import unittest
 
 from datetime import timedelta
 from django.utils import timezone
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 from uuid import uuid4
 
 from sentry.models import Commit, CommitAuthor, CommitFileChange, Release, Repository
diff --git a/tests/sentry/utils/test_concurrent.py b/tests/sentry/utils/test_concurrent.py
index f0317a3140..1ef9a85c64 100644
--- a/tests/sentry/utils/test_concurrent.py
+++ b/tests/sentry/utils/test_concurrent.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 import thread
 from Queue import Full
diff --git a/tests/sentry/utils/test_cursors.py b/tests/sentry/utils/test_cursors.py
index bbfbc3f4d0..49abf4b69b 100644
--- a/tests/sentry/utils/test_cursors.py
+++ b/tests/sentry/utils/test_cursors.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import math
 
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 
 from sentry.utils.cursors import build_cursor, Cursor
 
diff --git a/tests/sentry/utils/test_metrics.py b/tests/sentry/utils/test_metrics.py
index 104ed28aef..23db0f6e46 100644
--- a/tests/sentry/utils/test_metrics.py
+++ b/tests/sentry/utils/test_metrics.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from sentry.utils import metrics
diff --git a/tests/sentry/utils/test_redis.py b/tests/sentry/utils/test_redis.py
index a24c7f0beb..ac8bbf301a 100644
--- a/tests/sentry/utils/test_redis.py
+++ b/tests/sentry/utils/test_redis.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import functools
 import logging
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from sentry.exceptions import InvalidConfiguration
diff --git a/tests/sentry/utils/test_retries.py b/tests/sentry/utils/test_retries.py
index e6b504a63f..33a0271001 100644
--- a/tests/sentry/utils/test_retries.py
+++ b/tests/sentry/utils/test_retries.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from unittest import TestCase
 from sentry.utils.retries import TimedRetryPolicy, RetryException
diff --git a/tests/sentry/utils/test_safe.py b/tests/sentry/utils/test_safe.py
index b975d75388..cbd65a12a3 100644
--- a/tests/sentry/utils/test_safe.py
+++ b/tests/sentry/utils/test_safe.py
@@ -5,7 +5,7 @@ from functools import partial
 import pytest
 import unittest
 
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 from sentry.testutils import TestCase
 from sentry.utils.canonical import CanonicalKeyDict
 from sentry.utils.safe import safe_execute, trim, trim_dict, get_path, set_path, setdefault_path
diff --git a/tests/sentry/utils/test_urllib3_timeout.py b/tests/sentry/utils/test_urllib3_timeout.py
index b7468c24ec..ac1f462d71 100644
--- a/tests/sentry/utils/test_urllib3_timeout.py
+++ b/tests/sentry/utils/test_urllib3_timeout.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytest
 
 from urllib3 import HTTPConnectionPool
diff --git a/tests/sentry/web/api/tests.py b/tests/sentry/web/api/tests.py
index 1621b004dc..057e24d2f1 100644
--- a/tests/sentry/web/api/tests.py
+++ b/tests/sentry/web/api/tests.py
@@ -2,12 +2,12 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core.urlresolvers import reverse
 from django.core.files.uploadedfile import SimpleUploadedFile
 from exam import fixture
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 from six import BytesIO
 
 from sentry.coreapi import APIRateLimited
diff --git a/tests/sentry/web/frontend/test_auth_login.py b/tests/sentry/web/frontend/test_auth_login.py
index d291b24e7f..59d43925be 100644
--- a/tests/sentry/web/frontend/test_auth_login.py
+++ b/tests/sentry/web/frontend/test_auth_login.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 import pytest
-import mock
+from sentry.utils.compat import mock
 
 from django.conf import settings
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/web/frontend/test_auth_oauth2.py b/tests/sentry/web/frontend/test_auth_oauth2.py
index bea822ad1f..8368e38ddb 100644
--- a/tests/sentry/web/frontend/test_auth_oauth2.py
+++ b/tests/sentry/web/frontend/test_auth_oauth2.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import six
 from exam import fixture
 from six.moves.urllib.parse import urlencode, urlparse, parse_qs
diff --git a/tests/sentry/web/frontend/test_auth_saml2.py b/tests/sentry/web/frontend/test_auth_saml2.py
index fd8fdea67f..63dd65bf1e 100644
--- a/tests/sentry/web/frontend/test_auth_saml2.py
+++ b/tests/sentry/web/frontend/test_auth_saml2.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import six
 import pytest
 import base64
-import mock
+from sentry.utils.compat import mock
 from exam import fixture
 from six.moves.urllib.parse import urlencode, urlparse, parse_qs
 
diff --git a/tests/sentry/web/frontend/test_js_sdk_loader.py b/tests/sentry/web/frontend/test_js_sdk_loader.py
index 4ab4cf6c45..9287a7a87c 100644
--- a/tests/sentry/web/frontend/test_js_sdk_loader.py
+++ b/tests/sentry/web/frontend/test_js_sdk_loader.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from exam import fixture
 from django.conf import settings
 from django.core.urlresolvers import reverse
diff --git a/tests/sentry/web/frontend/test_mailgun_inbound_webhook.py b/tests/sentry/web/frontend/test_mailgun_inbound_webhook.py
index bb5d9269de..681b6c53fe 100644
--- a/tests/sentry/web/frontend/test_mailgun_inbound_webhook.py
+++ b/tests/sentry/web/frontend/test_mailgun_inbound_webhook.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import, print_function
 
-import mock
+from sentry.utils.compat import mock
 
 from django.core.urlresolvers import reverse
 
diff --git a/tests/sentry/web/frontend/test_organization_auth_settings.py b/tests/sentry/web/frontend/test_organization_auth_settings.py
index b79b63128c..804426ab76 100644
--- a/tests/sentry/web/frontend/test_organization_auth_settings.py
+++ b/tests/sentry/web/frontend/test_organization_auth_settings.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from django.core.urlresolvers import reverse
 from django.db import models
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.auth.exceptions import IdentityNotValid
 from sentry.models import (
diff --git a/tests/sentry/web/frontend/test_release_webhook.py b/tests/sentry/web/frontend/test_release_webhook.py
index 66a7950418..3aba5075f0 100644
--- a/tests/sentry/web/frontend/test_release_webhook.py
+++ b/tests/sentry/web/frontend/test_release_webhook.py
@@ -5,7 +5,7 @@ import hmac
 from django.core.urlresolvers import reverse
 from exam import fixture
 from hashlib import sha256
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import ProjectOption
 from sentry.testutils import TestCase
diff --git a/tests/sentry_plugins/amazon_sqs/test_plugin.py b/tests/sentry_plugins/amazon_sqs/test_plugin.py
index c1ed97e69a..12062a3a31 100644
--- a/tests/sentry_plugins/amazon_sqs/test_plugin.py
+++ b/tests/sentry_plugins/amazon_sqs/test_plugin.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from botocore.client import ClientError
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.testutils import PluginTestCase
 from sentry.utils import json
diff --git a/tests/sentry_plugins/github/test_provider.py b/tests/sentry_plugins/github/test_provider.py
index c7cb128094..547b007036 100644
--- a/tests/sentry_plugins/github/test_provider.py
+++ b/tests/sentry_plugins/github/test_provider.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import responses
 
 from exam import fixture
-from mock import patch
+from sentry.utils.compat.mock import patch
 from social_auth.models import UserSocialAuth
 from sentry.models import Integration, OrganizationIntegration, Repository
 from sentry.testutils import PluginTestCase
diff --git a/tests/sentry_plugins/heroku/test_plugin.py b/tests/sentry_plugins/heroku/test_plugin.py
index 70f96f1072..e91310c3ec 100644
--- a/tests/sentry_plugins/heroku/test_plugin.py
+++ b/tests/sentry_plugins/heroku/test_plugin.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from mock import Mock, patch
+from sentry.utils.compat.mock import Mock, patch
 
 from django.utils import timezone
 
diff --git a/tests/sentry_plugins/test_client.py b/tests/sentry_plugins/test_client.py
index b5ac7a25ed..21424eb488 100644
--- a/tests/sentry_plugins/test_client.py
+++ b/tests/sentry_plugins/test_client.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import pytest
 import responses
 
-from mock import Mock
+from sentry.utils.compat.mock import Mock
 from sentry.testutils import TestCase
 
 from sentry_plugins.exceptions import (
diff --git a/tests/snuba/api/endpoints/test_group_details.py b/tests/snuba/api/endpoints/test_group_details.py
index 4c8af06dbf..a82fa4332b 100644
--- a/tests/snuba/api/endpoints/test_group_details.py
+++ b/tests/snuba/api/endpoints/test_group_details.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import, print_function
 
-import mock
+from sentry.utils.compat import mock
 
 from sentry.models import Environment
 from sentry.testutils import APITestCase, SnubaTestCase
diff --git a/tests/snuba/api/endpoints/test_organization_group_index.py b/tests/snuba/api/endpoints/test_organization_group_index.py
index be52d618b3..4ae1ca54c6 100644
--- a/tests/snuba/api/endpoints/test_organization_group_index.py
+++ b/tests/snuba/api/endpoints/test_organization_group_index.py
@@ -7,7 +7,7 @@ from uuid import uuid4
 
 from django.core.urlresolvers import reverse
 from django.utils import timezone
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 
 from sentry.models import (
     Activity,
diff --git a/tests/snuba/api/endpoints/test_project_group_index.py b/tests/snuba/api/endpoints/test_project_group_index.py
index 896a62825d..9b63a9cf99 100644
--- a/tests/snuba/api/endpoints/test_project_group_index.py
+++ b/tests/snuba/api/endpoints/test_project_group_index.py
@@ -7,7 +7,7 @@ from uuid import uuid4
 import six
 from django.utils import timezone
 from exam import fixture
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 
 from sentry.models import (
     Activity,
diff --git a/tests/snuba/api/serializers/test_group.py b/tests/snuba/api/serializers/test_group.py
index b979f78008..746cf4ca09 100644
--- a/tests/snuba/api/serializers/test_group.py
+++ b/tests/snuba/api/serializers/test_group.py
@@ -2,13 +2,13 @@
 
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import six
 
 from datetime import timedelta
 
 from django.utils import timezone
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.api.serializers import serialize
 from sentry.api.serializers.models.group import (
diff --git a/tests/snuba/eventstream/test_eventstream.py b/tests/snuba/eventstream/test_eventstream.py
index 267f7ab984..a79d20a1bc 100644
--- a/tests/snuba/eventstream/test_eventstream.py
+++ b/tests/snuba/eventstream/test_eventstream.py
@@ -4,7 +4,7 @@ from datetime import datetime, timedelta
 import six
 import time
 import logging
-from mock import patch, Mock
+from sentry.utils.compat.mock import patch, Mock
 
 from sentry.event_manager import EventManager
 from sentry.eventstream.kafka import KafkaEventStream
diff --git a/tests/snuba/search/test_backend.py b/tests/snuba/search/test_backend.py
index 7d26144134..1c24e9c113 100644
--- a/tests/snuba/search/test_backend.py
+++ b/tests/snuba/search/test_backend.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-import mock
+from sentry.utils.compat import mock
 import pytz
 from datetime import datetime, timedelta
 from django.utils import timezone
diff --git a/tests/snuba/snuba/test_query_subscription_consumer.py b/tests/snuba/snuba/test_query_subscription_consumer.py
index 003c46c228..c2a07f83ab 100644
--- a/tests/snuba/snuba/test_query_subscription_consumer.py
+++ b/tests/snuba/snuba/test_query_subscription_consumer.py
@@ -8,7 +8,7 @@ from confluent_kafka import Producer
 from django.conf import settings
 from django.test.utils import override_settings
 from exam import fixture
-from mock import call, Mock
+from sentry.utils.compat.mock import call, Mock
 
 from sentry.snuba.models import QuerySubscription
 from sentry.snuba.query_subscription_consumer import (
diff --git a/tests/snuba/tasks/test_unmerge.py b/tests/snuba/tasks/test_unmerge.py
index 30986378b9..0955f94ef9 100644
--- a/tests/snuba/tasks/test_unmerge.py
+++ b/tests/snuba/tasks/test_unmerge.py
@@ -9,7 +9,7 @@ from collections import OrderedDict
 from datetime import datetime, timedelta
 import pytz
 
-from mock import patch
+from sentry.utils.compat.mock import patch
 from django.utils import timezone
 
 from sentry import eventstream, tagstore
diff --git a/tests/snuba/tsdb/test_tsdb_backend.py b/tests/snuba/tsdb/test_tsdb_backend.py
index 391377114c..c3c83978c5 100644
--- a/tests/snuba/tsdb/test_tsdb_backend.py
+++ b/tests/snuba/tsdb/test_tsdb_backend.py
@@ -8,7 +8,7 @@ import requests
 import six
 
 from django.conf import settings
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from sentry.models import GroupHash, GroupRelease, Release
 from sentry.tsdb.base import TSDBModel
diff --git a/tests/symbolicator/test_minidump_full.py b/tests/symbolicator/test_minidump_full.py
index 119a712fa5..b5817d58b0 100644
--- a/tests/symbolicator/test_minidump_full.py
+++ b/tests/symbolicator/test_minidump_full.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import pytest
 import zipfile
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from six import BytesIO
 
diff --git a/tests/symbolicator/test_payload_full.py b/tests/symbolicator/test_payload_full.py
index 34168bc5cd..0b96207d6a 100644
--- a/tests/symbolicator/test_payload_full.py
+++ b/tests/symbolicator/test_payload_full.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import pytest
 import zipfile
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from six import BytesIO
 
diff --git a/tests/symbolicator/test_unreal_full.py b/tests/symbolicator/test_unreal_full.py
index 21f48b75b2..512ab441cc 100644
--- a/tests/symbolicator/test_unreal_full.py
+++ b/tests/symbolicator/test_unreal_full.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 import pytest
 import zipfile
-from mock import patch
+from sentry.utils.compat.mock import patch
 
 from six import BytesIO
 
