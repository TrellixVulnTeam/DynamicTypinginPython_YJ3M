commit e3892076fb87815b21d287c09fec99c8886721de
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Oct 19 00:46:08 2012 -0700

    handle resort via the reset event

diff --git a/src/sentry/static/sentry/coffee/views.coffee b/src/sentry/static/sentry/coffee/views.coffee
index 3da53761b6..995d44f3e9 100644
--- a/src/sentry/static/sentry/coffee/views.coffee
+++ b/src/sentry/static/sentry/coffee/views.coffee
@@ -13,12 +13,12 @@ jQuery ->
             @$parent = $('#' + @id)
 
             @collection = new app.GroupList
+            @collection.add(data.members || []);
             @collection.on('add', @renderMemberInContainer)
             @collection.on('remove', @unrenderMember)
             # @collection.on('add remove', @changeMember)
-            # @collection.on('reset', @render)
-            # @collection.on('resort', @reSortMembers)
-            @collection.add(data.members || []);
+            @collection.on('reset', @reSortMembers)
+            @collection.sort()
 
         addMember: (member) ->
             if not @hasMember(member)
@@ -26,6 +26,10 @@ jQuery ->
             else
                 @updateMember(member)
 
+        reSortMembers: ->
+            @collection.each (member) =>
+                @renderMemberInContainer(member)
+
         updateMember: (member) ->
             currentPosition = @collection.indexOf(obj)
 
@@ -37,8 +41,6 @@ jQuery ->
 
             @collection.sort()
 
-            @renderMemberInContainer(obj)
-
         hasMember: (member) ->
             if @collection.get(member.id) then true else false
 
diff --git a/src/sentry/static/sentry/scripts/site.js b/src/sentry/static/sentry/scripts/site.js
index 14b09d6d4a..cafb9d089c 100644
--- a/src/sentry/static/sentry/scripts/site.js
+++ b/src/sentry/static/sentry/scripts/site.js
@@ -148,9 +148,11 @@
         _.bindAll(this);
         this.$parent = $('#' + this.id);
         this.collection = new app.GroupList;
+        this.collection.add(data.members || []);
         this.collection.on('add', this.renderMemberInContainer);
         this.collection.on('remove', this.unrenderMember);
-        return this.collection.add(data.members || []);
+        this.collection.on('reset', this.reSortMembers);
+        return this.collection.sort();
       };
 
       GroupListView.prototype.addMember = function(member) {
@@ -161,6 +163,13 @@
         }
       };
 
+      GroupListView.prototype.reSortMembers = function() {
+        var _this = this;
+        return this.collection.each(function(member) {
+          return _this.renderMemberInContainer(member);
+        });
+      };
+
       GroupListView.prototype.updateMember = function(member) {
         var currentPosition, obj;
         currentPosition = this.collection.indexOf(obj);
@@ -168,8 +177,7 @@
         obj.set('previousPosition', this.collection.indexOf(obj));
         obj.set('count', member.get('count'));
         obj.set('score', member.get('score'));
-        this.collection.sort();
-        return this.renderMemberInContainer(obj);
+        return this.collection.sort();
       };
 
       GroupListView.prototype.hasMember = function(member) {
