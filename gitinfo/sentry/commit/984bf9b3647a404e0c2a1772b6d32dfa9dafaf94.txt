commit 984bf9b3647a404e0c2a1772b6d32dfa9dafaf94
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Oct 12 07:33:20 2014 -0700

    Push group deletions through queue

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index a28c5a2ef4..4d2c036f33 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -18,6 +18,7 @@ from sentry.models import (
     Activity, Group, GroupBookmark, GroupMeta, Project, TagKey
 )
 from sentry.search.utils import parse_query
+from sentry.tasks.deletion import delete_group
 from sentry.utils.cursors import Cursor
 from sentry.utils.dates import parse_date
 
@@ -142,7 +143,7 @@ class ProjectGroupIndexEndpoint(Endpoint):
         - isBookmarked=[1|0]
 
         If any ids are out of scope this operation will succeed without any data
-        mutation
+        mutation.
         """
         project = Project.objects.get_from_cache(
             id=project_id,
@@ -246,6 +247,8 @@ class ProjectGroupIndexEndpoint(Endpoint):
         if not group_ids:
             return Response(status=204)
 
-        group_list.delete()
+        # TODO(dcramer): set status to pending deletion
+        for group in group_list:
+            delete_group.delay(object_id=group.id)
 
         return Response(status=204)
