commit 8eab0f659df1025b4be6b04983e02bd56937c1ec
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Apr 23 09:48:11 2019 -0700

    fix(slack): Use event message /type when available (#12881)
    
    Fixes ISSUE-416

diff --git a/src/sentry/integrations/slack/utils.py b/src/sentry/integrations/slack/utils.py
index 9999588ce6..6878519c98 100644
--- a/src/sentry/integrations/slack/utils.py
+++ b/src/sentry/integrations/slack/utils.py
@@ -85,8 +85,11 @@ def build_attachment_title(group, event=None):
 
 
 def build_attachment_text(group, event=None):
-    ev_metadata = group.get_event_metadata()
-    ev_type = group.get_event_type()
+    # Group and Event both implement get_event_{type,metadata}
+    obj = event if event is not None else group
+    ev_metadata = obj.get_event_metadata()
+    ev_type = obj.get_event_type()
+
     if ev_type == 'error':
         return ev_metadata.get('value') or ev_metadata.get('function')
     else:
