commit 75c8c92cf314042eff4061e2a7f4bbdc3331ce86
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Dec 1 14:03:07 2015 -0800

    Fix API generator

diff --git a/api-docs/generator.py b/api-docs/generator.py
index 2c1a7d558e..ab0bdaedb5 100644
--- a/api-docs/generator.py
+++ b/api-docs/generator.py
@@ -12,11 +12,12 @@ from subprocess import Popen, PIPE
 from contextlib import contextmanager
 
 HERE = os.path.abspath(os.path.dirname(__file__))
-SENTRY_CONFIG = os.path.join(HERE, 'sentry.conf.py')
+SENTRY_CONFIG = os.environ['SENTRY_CONF'] = os.path.join(HERE, 'sentry.conf.py')
+os.environ['SENTRY_SKIP_BACKEND_VALIDATION'] = '1'
 
 # No sentry or django imports before that point
-from sentry.utils import runner
-runner.configure(config_path=SENTRY_CONFIG, skip_backend_validation=True)
+from sentry.runner import configure
+configure()
 from django.conf import settings
 
 # Fair game from here
@@ -68,7 +69,7 @@ def launch_redis():
 
 def spawn_sentry():
     report('sentry', 'Launching sentry server')
-    cl = Popen(['sentry', '--config=' + SENTRY_CONFIG, 'runserver',
+    cl = Popen(['sentry', '--config=' + SENTRY_CONFIG, 'devserver',
                 '-v', '0', '--noreload', '--nothreading',
                 '--no-watchers', '--traceback',
                 '127.0.0.1:%s' % settings.SENTRY_APIDOCS_WEB_PORT])
