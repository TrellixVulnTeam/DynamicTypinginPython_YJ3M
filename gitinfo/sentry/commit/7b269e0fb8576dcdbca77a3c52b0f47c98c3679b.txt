commit 7b269e0fb8576dcdbca77a3c52b0f47c98c3679b
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Fri Feb 21 14:13:42 2020 -0800

    fix(integrations): Improve typing on IntegrationFeature (#17211)

diff --git a/src/sentry/static/sentry/app/components/modals/sentryAppDetailsModal.tsx b/src/sentry/static/sentry/app/components/modals/sentryAppDetailsModal.tsx
index 3792f34599..7a66b291e9 100644
--- a/src/sentry/static/sentry/app/components/modals/sentryAppDetailsModal.tsx
+++ b/src/sentry/static/sentry/app/components/modals/sentryAppDetailsModal.tsx
@@ -88,7 +88,7 @@ export default class SentryAppDetailsModal extends AsyncComponent<Props, State>
     return [['featureData', `/sentry-apps/${sentryApp.slug}/features/`]];
   }
 
-  featureTags(features: IntegrationFeature[]) {
+  featureTags(features: Pick<IntegrationFeature, 'featureGate'>[]) {
     return features.map(feature => {
       const feat = feature.featureGate.replace(/integrations/g, '');
       return <StyledTag key={feat}>{feat.replace(/-/g, ' ')}</StyledTag>;
diff --git a/src/sentry/static/sentry/app/types/hooks.ts b/src/sentry/static/sentry/app/types/hooks.ts
index a4acccdf67..9f2c14b869 100644
--- a/src/sentry/static/sentry/app/types/hooks.ts
+++ b/src/sentry/static/sentry/app/types/hooks.ts
@@ -1,13 +1,7 @@
 import {Route} from 'react-router';
 
 import {NavigationSection} from 'app/views/settings/types';
-import {
-  User,
-  Organization,
-  Project,
-  IntegrationProvider,
-  IntegrationFeature,
-} from 'app/types';
+import {User, Organization, Project, IntegrationProvider} from 'app/types';
 
 // XXX(epurkhiser): A Note about `_`.
 //
@@ -311,11 +305,23 @@ type OnboardingInviteMembersHook = () => React.ComponentType<{
   organization: Organization;
 }>;
 
+/**
+ * The DecoratedIntegrationFeature differs from the IntegrationFeature as it is
+ * expected to have been transformed into marked up content.
+ */
+type DecoratedIntegrationFeature = {
+  /**
+   * Marked up description
+   */
+  description: React.ReactNode;
+  featureGate: string;
+};
+
 type IntegrationFeatureGroup = {
   /**
    * The list of features within this group
    */
-  features: IntegrationFeature[];
+  features: DecoratedIntegrationFeature[];
   /**
    * Weather the group has all of the features enabled within this group
    * or not.
@@ -331,7 +337,7 @@ type FeatureGateSharedProps = {
   /**
    * The list of features, typically this is provided by the backend.
    */
-  features: IntegrationFeature[];
+  features: DecoratedIntegrationFeature[];
 };
 
 type IntegrationFeaturesProps = FeatureGateSharedProps & {
@@ -342,7 +348,7 @@ type IntegrationFeaturesProps = FeatureGateSharedProps & {
     /**
      * This is the list of features which have *not* been gated in any way.
      */
-    ungatedFeatures: IntegrationFeature[];
+    ungatedFeatures: DecoratedIntegrationFeature[];
     /**
      * Features grouped based on specific gating criteria (for example, in
      * sentry.io this is features grouped by plans).
diff --git a/src/sentry/static/sentry/app/types/index.tsx b/src/sentry/static/sentry/app/types/index.tsx
index 1ccf88e914..9cd17006ed 100644
--- a/src/sentry/static/sentry/app/types/index.tsx
+++ b/src/sentry/static/sentry/app/types/index.tsx
@@ -507,7 +507,7 @@ export type IntegrationProvider = BaseIntegrationProvider & {
 };
 
 export type IntegrationFeature = {
-  description: React.ReactNode | string;
+  description: string;
   featureGate: string;
 };
 
@@ -778,10 +778,10 @@ export type SelectValue<T> = {
 };
 
 /**
- * The issue config form fields we get are basically the form fields we use in the UI but with some extra information.
- * Some fields marked optional in the form field are guaranteed to exist so we can mark them as required here
+ * The issue config form fields we get are basically the form fields we use in
+ * the UI but with some extra information. Some fields marked optional in the
+ * form field are guaranteed to exist so we can mark them as required here
  */
-
 export type IssueConfigField = Field & {
   name: string;
   default?: string;
diff --git a/src/sentry/static/sentry/app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx b/src/sentry/static/sentry/app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx
index 0d39e7b32e..1f9a07c7f0 100644
--- a/src/sentry/static/sentry/app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx
+++ b/src/sentry/static/sentry/app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx
@@ -104,7 +104,8 @@ class AbstractIntegrationDetailedView<
     throw new Error('Not implemented');
   }
 
-  //Returns an array of IntegrationFeatures which is used in feature gating and displaying what the integraiton does
+  // Returns an array of RawIntegrationFeatures which is used in feature gating
+  // and displaying what the integraiton does
   get featureData(): IntegrationFeature[] {
     // Allow children to implement this
     throw new Error('Not implemented');
