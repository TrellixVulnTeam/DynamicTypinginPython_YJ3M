commit accd810691f4a6d984b09589c5d834aa5ee65206
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Aug 31 12:51:45 2017 -0700

    fix(workflow): install wizard "mail.use-tls" opt (#6012)
    
    It's possible that an old value of `mail.use-tls` is an integer, and if
    the user does not modify the form then it will never be cast as a
    boolean. Let's just force the `mail.use-tls` option to be boolean on submit.
    
    Fixes #5699

diff --git a/src/sentry/static/sentry/app/views/installWizard.jsx b/src/sentry/static/sentry/app/views/installWizard.jsx
index 5506eea274..9bd66f23a7 100644
--- a/src/sentry/static/sentry/app/views/installWizard.jsx
+++ b/src/sentry/static/sentry/app/views/installWizard.jsx
@@ -168,6 +168,15 @@ const InstallWizard = React.createClass({
       _.pickBy(options, option => !option.field.disabled),
       option => option.value
     );
+
+    // keys to cast as boolean, otherwise will throw server error
+    // see https://github.com/getsentry/sentry/issues/5699
+    ['mail.use-tls'].forEach(key => {
+      if (typeof data[key] !== 'undefined') {
+        data[key] = !!data[key];
+      }
+    });
+
     this.api.request('/internal/options/', {
       method: 'PUT',
       data: data,
