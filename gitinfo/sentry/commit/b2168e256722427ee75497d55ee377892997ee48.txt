commit b2168e256722427ee75497d55ee377892997ee48
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Apr 4 01:09:43 2014 -0700

    Handle missing encoding

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 3e4456ea89..87d2bbd19e 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -317,9 +317,11 @@ class StoreView(APIView):
         if result is False:
             raise APIForbidden('Creation of this event was blocked')
 
-        if request.META.get('HTTP_CONTENT_ENCODING') == 'gzip':
+        content_encoding = request.META.get('HTTP_CONTENT_ENCODING', '')
+
+        if content_encoding == 'gzip':
             data = decompress_gzip(data)
-        elif request.META.get('HTTP_CONTENT_ENCODING') == 'deflate':
+        elif content_encoding == 'deflate':
             data = decompress_deflate(data)
         elif not data.startswith('{'):
             data = decode_and_decompress_data(data)
