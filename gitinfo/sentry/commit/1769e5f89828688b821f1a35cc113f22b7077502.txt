commit 1769e5f89828688b821f1a35cc113f22b7077502
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Jan 25 13:23:26 2019 -0800

    feat(user-feedback): Do not hide page title on load/reload (#11708)

diff --git a/src/sentry/static/sentry/app/views/userFeedback/container.jsx b/src/sentry/static/sentry/app/views/userFeedback/container.jsx
index fe88e340d2..95d5d3081d 100644
--- a/src/sentry/static/sentry/app/views/userFeedback/container.jsx
+++ b/src/sentry/static/sentry/app/views/userFeedback/container.jsx
@@ -10,13 +10,12 @@ import PageHeading from 'app/components/pageHeading';
 export default class UserFeedbackContainer extends React.Component {
   static propTypes = {
     location: PropTypes.object.isRequired,
-    params: PropTypes.object.isRequired,
-    pageLinks: PropTypes.string.isRequired,
+    pageLinks: PropTypes.string,
     status: PropTypes.string.isRequired,
   };
 
   render() {
-    const {location: {pathname, query}, params, pageLinks, children, status} = this.props;
+    const {location: {pathname, query}, pageLinks, children, status} = this.props;
 
     const unresolvedQuery = omit(query, 'status');
     const allIssuesQuery = {...query, status: ''};
@@ -25,11 +24,7 @@ export default class UserFeedbackContainer extends React.Component {
       <div>
         <div className="row">
           <div className="col-sm-9" style={{marginBottom: '5px'}}>
-            {params.projectId ? (
-              <PageHeading withMargins>{t('User Feedback')}</PageHeading>
-            ) : (
-              <PageHeading withMargins>{t('User Feedback')}</PageHeading>
-            )}
+            <PageHeading withMargins>{t('User Feedback')}</PageHeading>
           </div>
           <div className="col-sm-3" style={{textAlign: 'right', marginTop: '4px'}}>
             <div className="btn-group">
diff --git a/src/sentry/static/sentry/app/views/userFeedback/organizationUserFeedback.jsx b/src/sentry/static/sentry/app/views/userFeedback/organizationUserFeedback.jsx
index b1e48dbdb8..bb63cee91a 100644
--- a/src/sentry/static/sentry/app/views/userFeedback/organizationUserFeedback.jsx
+++ b/src/sentry/static/sentry/app/views/userFeedback/organizationUserFeedback.jsx
@@ -18,7 +18,7 @@ import {getQuery} from './utils';
 
 class OrganizationUserFeedback extends AsyncView {
   static propTypes = {
-    organization: SentryTypes.Organization,
+    organization: SentryTypes.Organization.isRequired,
   };
 
   getEndpoints() {
@@ -83,28 +83,24 @@ class OrganizationUserFeedback extends AsyncView {
   }
 
   renderStreamBody() {
-    const {location, params} = this.props;
-    const {status} = getQuery(location.search);
-    const {reportList, reportListPageLinks} = this.state;
+    const {loading, reportList} = this.state;
 
-    if (this.state.loading) {
+    if (loading) {
       return <LoadingIndicator />;
     }
 
-    return (
-      <UserFeedbackContainer
-        pageLinks={reportListPageLinks}
-        status={status}
-        location={location}
-        params={params}
-      >
-        {reportList.length ? this.renderResults() : this.renderEmpty()}
-      </UserFeedbackContainer>
-    );
+    if (!reportList.length) {
+      return this.renderEmpty();
+    }
+
+    return this.renderResults();
   }
 
   renderBody() {
     const {organization} = this.props;
+    const {location} = this.props;
+    const {status} = getQuery(location.search);
+    const {reportListPageLinks} = this.state;
 
     return (
       <Feature
@@ -113,7 +109,15 @@ class OrganizationUserFeedback extends AsyncView {
         renderDisabled={this.renderNoAccess}
       >
         <GlobalSelectionHeader organization={organization} />
-        <PageContent>{this.renderStreamBody()}</PageContent>
+        <PageContent>
+          <UserFeedbackContainer
+            pageLinks={reportListPageLinks}
+            status={status}
+            location={location}
+          >
+            {this.renderStreamBody()}
+          </UserFeedbackContainer>
+        </PageContent>
       </Feature>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/userFeedback/projectUserFeedback.jsx b/src/sentry/static/sentry/app/views/userFeedback/projectUserFeedback.jsx
index 2ad03670e2..7154068852 100644
--- a/src/sentry/static/sentry/app/views/userFeedback/projectUserFeedback.jsx
+++ b/src/sentry/static/sentry/app/views/userFeedback/projectUserFeedback.jsx
@@ -195,14 +195,13 @@ const ProjectUserFeedback = createReactClass({
   },
 
   render() {
-    const {location, params} = this.props;
+    const {location} = this.props;
 
     return (
       <UserFeedbackContainer
         pageLinks={this.state.pageLinks}
         status={this.state.status}
         location={location}
-        params={params}
       >
         {this.renderStreamBody()}
       </UserFeedbackContainer>
diff --git a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
index af151368ea..2fad772763 100644
--- a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
+++ b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
@@ -1622,11 +1622,6 @@ exports[`OrganizationUserFeedback renders 1`] = `
                   }
                 }
                 pageLinks="<https://sentry.io/api/0/organizations/sentry/user-feedback/?statsPeriod=14d&cursor=0:0:1>; rel=\\"previous\\"; results=\\"false\\"; cursor=\\"0:0:1\\", <https://sentry.io/api/0/organizations/sentry/user-feedback/?statsPeriod=14d&cursor=0:100:0>; rel=\\"next\\"; results=\\"true\\"; cursor=\\"0:100:0\\""
-                params={
-                  Object {
-                    "orgId": "org-slug",
-                  }
-                }
                 status="unresolved"
               >
                 <div>
diff --git a/tests/js/spec/views/userFeedback/__snapshots__/projectUserFeedback.spec.jsx.snap b/tests/js/spec/views/userFeedback/__snapshots__/projectUserFeedback.spec.jsx.snap
index ee944df28a..d32777ddcb 100644
--- a/tests/js/spec/views/userFeedback/__snapshots__/projectUserFeedback.spec.jsx.snap
+++ b/tests/js/spec/views/userFeedback/__snapshots__/projectUserFeedback.spec.jsx.snap
@@ -8,12 +8,6 @@ exports[`projectUserFeedback renders 1`] = `
     }
   }
   pageLinks="<https://sentry.io/api/0/organizations/sentry/user-feedback/?statsPeriod=14d&cursor=0:0:1>; rel=\\"previous\\"; results=\\"false\\"; cursor=\\"0:0:1\\", <https://sentry.io/api/0/organizations/sentry/user-feedback/?statsPeriod=14d&cursor=0:100:0>; rel=\\"next\\"; results=\\"true\\"; cursor=\\"0:100:0\\""
-  params={
-    Object {
-      "orgId": "org-slug",
-      "projectId": "project-slug",
-    }
-  }
   status="unresolved"
 >
   <WithOrganizationMockWrappeer
