commit 38c78b3b03ad418956d1fc5047e085a5d9957629
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri May 25 12:59:44 2018 -0700

    fix: Fix releases pagination (#8561)
    
    We need to re-query on all URL changes except those that only change the environment
    This is because pagination is also triggered via changing the querystring
    
    Fixes APP-273

diff --git a/src/sentry/static/sentry/app/views/projectReleases/index.jsx b/src/sentry/static/sentry/app/views/projectReleases/index.jsx
index c42b74d61d..0abdcdb095 100644
--- a/src/sentry/static/sentry/app/views/projectReleases/index.jsx
+++ b/src/sentry/static/sentry/app/views/projectReleases/index.jsx
@@ -3,6 +3,8 @@ import React from 'react';
 import createReactClass from 'create-react-class';
 import {browserHistory} from 'react-router';
 import {Box} from 'grid-emotion';
+import {omit, isEqual} from 'lodash';
+import qs from 'query-string';
 
 import SentryTypes from 'app/proptypes';
 import ApiMixin from 'app/mixins/apiMixin';
@@ -50,10 +52,12 @@ const ProjectReleases = createReactClass({
   },
 
   componentWillReceiveProps(nextProps) {
-    const queryHasChanged =
-      nextProps.location.query.query !== this.props.location.query.query;
+    const searchHasChanged = !isEqual(
+      omit(qs.parse(nextProps.location.search), 'environment'),
+      omit(qs.parse(this.props.location.search), 'environment')
+    );
 
-    if (queryHasChanged) {
+    if (searchHasChanged) {
       let queryParams = nextProps.location.query;
       this.setState(
         {
