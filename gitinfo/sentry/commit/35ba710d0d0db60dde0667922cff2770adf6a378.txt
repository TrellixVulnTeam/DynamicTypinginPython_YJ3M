commit 35ba710d0d0db60dde0667922cff2770adf6a378
Author: Mario Frasca <mariotomo@gmail.com>
Date:   Thu Apr 28 11:09:49 2011 +0200

    added the field timestamp to the MessageBase model.
    not editable, defaults to `now`.

diff --git a/sentry/models.py b/sentry/models.py
index 916b290f25..be64ca62e2 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -8,6 +8,8 @@ except ImportError:
 import logging
 import math
 
+from datetime import datetime
+
 from django.conf import settings
 from django.db import models
 from django.db.models import Count
@@ -64,7 +66,7 @@ class GzippedDictField(models.TextField):
 
 class MessageBase(Model):
     logger          = models.CharField(max_length=64, blank=True, default='root', db_index=True)
-    timestamp       = models.DateTimeField(auto_now_add=True, db_index=True)
+    timestamp       = models.DateTimeField(editable=False, default=datetime.now)
     class_name      = models.CharField(_('type'), max_length=128, blank=True, null=True, db_index=True)
     level           = models.PositiveIntegerField(choices=conf.LOG_LEVELS, default=logging.ERROR, blank=True, db_index=True)
     message         = models.TextField()
