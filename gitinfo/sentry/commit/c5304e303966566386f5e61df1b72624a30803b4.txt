commit c5304e303966566386f5e61df1b72624a30803b4
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Fri Aug 2 16:12:22 2019 -0400

    chore(ts): Update webpack to include babel-loader in tandem with ts-loader (#14226)

diff --git a/tsconfig.json b/tsconfig.json
index 25838b12c9..af418e2ce5 100644
--- a/tsconfig.json
+++ b/tsconfig.json
@@ -9,7 +9,8 @@
     "allowJs": false,
     "noImplicitAny": false,
     "esModuleInterop": true,
-    "module": "commonjs",
+    "module": "esnext",
+    "moduleResolution": "node",
     "jsx": "react",
     "baseUrl": ".",
     "outDir": "src/sentry/static/sentry/dist",
diff --git a/webpack.config.js b/webpack.config.js
index f5043bf789..8b4c83b313 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -172,6 +172,8 @@ const cacheGroups = {
   ...localeChunkGroups,
 };
 
+const babelOptions = {...babelConfig, cacheDirectory: true};
+
 /**
  * Main Webpack config for Sentry React SPA.
  */
@@ -187,14 +189,22 @@ const appConfig = {
         exclude: /(vendor|node_modules|dist)/,
         use: {
           loader: 'babel-loader',
-          options: {...babelConfig, cacheDirectory: true},
+          options: babelOptions,
         },
       },
       {
         test: /\.tsx?$/,
         include: [staticPrefix],
         exclude: /(vendor|node_modules|dist)/,
-        loader: 'ts-loader',
+        use: [
+          {
+            loader: 'babel-loader',
+            options: babelOptions,
+          },
+          {
+            loader: 'ts-loader',
+          },
+        ],
       },
       {
         test: /\.po$/,
