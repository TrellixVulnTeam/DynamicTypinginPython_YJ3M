commit fb98f8fc84f75e6760c42bcd035ce0eb40aa65fa
Author: James Cunningham <cunninghamjt09@gmail.com>
Date:   Mon Sep 12 09:38:48 2016 -0700

    Log identifiers from email context when queueing them up. (#4084)

diff --git a/src/sentry/utils/email.py b/src/sentry/utils/email.py
index 6cd3e3d997..45613b8dc9 100644
--- a/src/sentry/utils/email.py
+++ b/src/sentry/utils/email.py
@@ -370,6 +370,10 @@ class MessageBuilder(object):
         extra = {
             'message_type': self.type
         }
+        loggable = [v for k, v in six.iteritems(self.context) if hasattr(v, 'id')]
+        for context in loggable:
+            extra['%s_id' % type(context).__name__.lower()] = context.id
+
         log_mail_queued = partial(logger.info, 'mail.queued', extra=extra)
         for message in messages:
             safe_execute(
