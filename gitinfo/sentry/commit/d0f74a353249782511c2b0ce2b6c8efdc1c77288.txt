commit d0f74a353249782511c2b0ce2b6c8efdc1c77288
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 2 12:12:36 2015 -0700

    Various fixes for group sharing

diff --git a/src/sentry/static/sentry/app/components/eventEntries.jsx b/src/sentry/static/sentry/app/components/eventEntries.jsx
index 2639e940d5..6d4ac69786 100644
--- a/src/sentry/static/sentry/app/components/eventEntries.jsx
+++ b/src/sentry/static/sentry/app/components/eventEntries.jsx
@@ -83,7 +83,16 @@ var EventPackageData = React.createClass({
 var EventEntries = React.createClass({
   propTypes: {
     group: PropTypes.Group.isRequired,
-    event: PropTypes.Event.isRequired
+    event: PropTypes.Event.isRequired,
+    // TODO(dcramer): ideally isShare would be replaced with simple permission
+    // checks
+    isShare: React.PropTypes.bool
+  },
+
+  getDefaultProps() {
+    return {
+      isShare: false
+    };
   },
 
   // TODO(dcramer): make this extensible
@@ -100,6 +109,7 @@ var EventEntries = React.createClass({
   render(){
     var group = this.props.group;
     var evt = this.props.event;
+    var isShare = this.props.isShare;
 
     var entries = evt.entries.map((entry, entryIdx) => {
       try {
@@ -113,7 +123,8 @@ var EventEntries = React.createClass({
                   group={group}
                   event={evt}
                   type={entry.type}
-                  data={entry.data} />;
+                  data={entry.data}
+                  isShare={isShare} />;
       } catch (ex) {
         // TODO(dcramer): this should log to Sentry
         return (
diff --git a/src/sentry/static/sentry/app/components/interfaces/request.jsx b/src/sentry/static/sentry/app/components/interfaces/request.jsx
index 5c9eedf3ab..8730434c25 100644
--- a/src/sentry/static/sentry/app/components/interfaces/request.jsx
+++ b/src/sentry/static/sentry/app/components/interfaces/request.jsx
@@ -74,17 +74,36 @@ var DefinitionList = React.createClass({
   }
 });
 
+var RequestActions = React.createClass({
+  render(){
+    var org = this.props.organization;
+    var project = this.props.project;
+    var group = this.props.group;
+    var evt = this.props.event;
+    var urlPrefix = (
+      ConfigStore.get('urlPrefix') + '/' + org.slug + '/' +
+      project.slug + '/group/' + group.id
+    );
+
+    return (
+      <a href={urlPrefix + '/events/' + evt.id + '/replay/'}
+         className="btn btn-sm btn-default">Replay Request</a>
+    );
+  }
+});
+
 var RequestInterface = React.createClass({
   propTypes: {
     group: PropTypes.Group.isRequired,
     event: PropTypes.Event.isRequired,
     type: React.PropTypes.string.isRequired,
-    data: React.PropTypes.object.isRequired
+    data: React.PropTypes.object.isRequired,
+    isShare: React.PropTypes.bool
   },
 
   contextTypes: {
-    organization: PropTypes.Organization.isRequired,
-    project: PropTypes.Project.isRequired
+    organization: PropTypes.Organization,
+    project: PropTypes.Project
   },
 
   render: function(){
@@ -110,20 +129,17 @@ var RequestInterface = React.createClass({
     var parsedUrl = document.createElement("a");
     parsedUrl.href = fullUrl;
 
-    var org = this.context.organization;
-    var project = this.context.project;
-    var urlPrefix = (
-      ConfigStore.get('urlPrefix') + '/' + org.slug + '/' +
-      project.slug + '/group/' + group.id
-    );
-
     var title = (
       <h3>
         <strong>{data.method || 'GET'} <a href={fullUrl}>{parsedUrl.pathname}</a></strong>
         <div className="pull-right">
           {parsedUrl.hostname}
-          <a href={urlPrefix + '/events/' + evt.id + '/replay/'}
-             className="btn btn-sm btn-default">Replay Request</a>
+          {!this.props.isShare &&
+            <RequestActions organization={this.context.organization}
+                            project={this.context.project}
+                            group={group}
+                            event={evt} />
+          }
         </div>
       </h3>
     );
diff --git a/src/sentry/static/sentry/app/views/sharedGroupDetails.jsx b/src/sentry/static/sentry/app/views/sharedGroupDetails.jsx
index f742de5987..c7d2423784 100644
--- a/src/sentry/static/sentry/app/views/sharedGroupDetails.jsx
+++ b/src/sentry/static/sentry/app/views/sharedGroupDetails.jsx
@@ -131,7 +131,7 @@ var SharedGroupDetails = React.createClass({
             <div className="content">
               <SharedGroupHeader group={group} />
               <div className="group-overview">
-                <EventEntries group={group} event={evt} />
+                <EventEntries group={group} event={evt} isShare={true} />
               </div>
             </div>
           </div>
