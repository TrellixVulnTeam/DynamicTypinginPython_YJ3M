commit 7ae3e751261bd5830a5e32bbe293f23d1f445dfd
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed Feb 1 23:31:05 2017 +0100

    Fixed broken legacy code path for apple crash reports
    
    Fixes SENTRY-2PN

diff --git a/src/sentry/lang/native/plugin.py b/src/sentry/lang/native/plugin.py
index d2f5112048..be32470076 100644
--- a/src/sentry/lang/native/plugin.py
+++ b/src/sentry/lang/native/plugin.py
@@ -292,7 +292,7 @@ def preprocess_apple_crash_event(data):
     sym = Symbolizer(project, crash_report['binary_images'],
                      referenced_images=referenced_images)
 
-    with sym:
+    try:
         if crashed_thread is None:
             append_error(data, {
                 'type': EventError.NATIVE_NO_CRASHED_THREAD,
@@ -331,6 +331,8 @@ def preprocess_apple_crash_event(data):
                 append_error(data, error)
             thread['stacktrace'] = convert_stacktrace(
                 bt, system, raw_thread.get('notable_addresses'))
+    finally:
+        sym.close()
 
     if threads:
         data['threads'] = {
