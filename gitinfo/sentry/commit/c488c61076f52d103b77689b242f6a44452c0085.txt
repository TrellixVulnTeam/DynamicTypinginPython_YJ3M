commit c488c61076f52d103b77689b242f6a44452c0085
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 25 13:18:29 2019 -0800

    fix: Missing celery import for check_monitors

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 56f6dd3836..2009288a29 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -441,7 +441,7 @@ CELERY_REDIRECT_STDOUTS = False
 CELERYD_HIJACK_ROOT_LOGGER = False
 CELERY_IMPORTS = (
     'sentry.tasks.auth', 'sentry.tasks.auto_resolve_issues', 'sentry.tasks.beacon',
-    'sentry.tasks.check_auth', 'sentry.tasks.clear_expired_snoozes',
+    'sentry.tasks.check_auth', 'sentry.tasks.check_monitors', 'sentry.tasks.clear_expired_snoozes',
     'sentry.tasks.collect_project_platforms', 'sentry.tasks.commits', 'sentry.tasks.deletion',
     'sentry.tasks.digests', 'sentry.tasks.email', 'sentry.tasks.merge',
     'sentry.tasks.options', 'sentry.tasks.ping', 'sentry.tasks.post_process',
diff --git a/tests/sentry/celery/test_app.py b/tests/sentry/celery/test_app.py
index a3faac7a35..dd9b1ceb26 100644
--- a/tests/sentry/celery/test_app.py
+++ b/tests/sentry/celery/test_app.py
@@ -8,7 +8,12 @@ from django.conf import settings
 app.loader.import_default_modules()
 
 
+# XXX(dcramer): this doesn't actually work as we'd expect, as if the task is imported
+# anywhere else before this code is run it will still show up as registered
 @pytest.mark.parametrize('name,entry', settings.CELERYBEAT_SCHEDULE.items())
 def test_validate_celerybeat_schedule(name, entry):
     entry = ScheduleEntry(name=name, app=app, **entry)
     assert entry.task in app.tasks
+    mod_name = app.tasks[entry.task].__module__
+    assert mod_name in settings.CELERY_IMPORTS, u"{} is missing from CELERY_IMPORTS".format(
+        mod_name)
