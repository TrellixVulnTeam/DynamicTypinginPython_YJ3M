commit f31c18c5ddca054ce87c211da9f39b661087acc4
Author: David Cramer <dcramer@gmail.com>
Date:   Thu May 10 13:12:39 2012 -0500

    Ensure owner value is username and not user id (fixes GH-483)

diff --git a/sentry/web/forms/fields.py b/sentry/web/forms/fields.py
index de5ce05427..94f383a449 100644
--- a/sentry/web/forms/fields.py
+++ b/sentry/web/forms/fields.py
@@ -31,7 +31,7 @@ class UserField(CharField):
                 attrs = {}
             if 'placeholder' not in attrs:
                 attrs['placeholder'] = 'username'
-            if isinstance(value, int):
+            if not isinstance(value, User):
                 value = unicode(User.objects.get(pk=value))
             return super(UserField.widget, self).render(name, value, attrs)
 
diff --git a/sentry/web/frontend/projects.py b/sentry/web/frontend/projects.py
index b83e412ec3..543b9aa632 100644
--- a/sentry/web/frontend/projects.py
+++ b/sentry/web/frontend/projects.py
@@ -106,7 +106,7 @@ def manage_project(request, project):
 
     form = form_cls(request, team_list, request.POST or None, instance=project, initial={
         'origins': '\n'.join(get_option('sentry:origins', project) or []),
-        'owner': project.owner_id,
+        'owner': project.owner.username,
     })
 
     if form.is_valid():
