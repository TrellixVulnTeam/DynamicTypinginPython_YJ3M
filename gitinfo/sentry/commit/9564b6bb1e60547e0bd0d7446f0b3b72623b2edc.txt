commit 9564b6bb1e60547e0bd0d7446f0b3b72623b2edc
Author: Dena Mwangi <dena@getsentry.com>
Date:   Wed Dec 19 15:51:04 2018 -0800

    chore(experiments): Turn off releases tab experiment sentry side (#11101)

diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index 13e0110cc2..f8f00052c3 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -180,10 +180,6 @@ export default {
     Pagination: require('app/components/pagination').default,
     PluginConfig: require('app/components/pluginConfig').default,
     ProjectSelector: require('app/components/projectHeader/projectSelector').default,
-    ReleaseLanding: require('app/views/releases/list/projectReleases/releaseLanding')
-      .default,
-    ReleaseProgress: require('app/views/releases/list/projectReleases/releaseProgress')
-      .default,
     CreateSampleEvent: require('app/components/createSampleEvent').default,
     InstallPromptBanner: require('app/components/installPromptBanner').default,
     SentryTypes: require('app/sentryTypes').default,
diff --git a/src/sentry/static/sentry/app/stores/hookStore.jsx b/src/sentry/static/sentry/app/stores/hookStore.jsx
index 97256eadcc..58d1411efd 100644
--- a/src/sentry/static/sentry/app/stores/hookStore.jsx
+++ b/src/sentry/static/sentry/app/stores/hookStore.jsx
@@ -23,7 +23,6 @@ const validHookNames = new Set([
   'utils:onboarding-survey-url',
   'component:org-auth-view',
   'component:org-members-view',
-  'component:releases-tab',
   'component:create-sample-event',
   'component:install-prompt-banner',
 
diff --git a/src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx
index a2b15bdab3..e54feb0a87 100644
--- a/src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx
+++ b/src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx
@@ -12,14 +12,14 @@ import LoadingError from 'app/components/loadingError';
 import LoadingIndicator from 'app/components/loadingIndicator';
 import Pagination from 'app/components/pagination';
 import GuideAnchor from 'app/components/assistant/guideAnchor';
-import Hook from 'app/components/hook';
-import HookOrDefault from 'app/components/hookOrDefault';
 import SearchBar from 'app/components/searchBar';
 import {t, tct} from 'app/locale';
 import {Panel, PanelBody} from 'app/components/panels';
 import EmptyStateWarning from 'app/components/emptyStateWarning';
 import withEnvironmentInQueryString from 'app/utils/withEnvironmentInQueryString';
 
+import ReleaseLanding from 'app/views/releases/list/projectReleases/releaseLanding';
+import ReleaseProgress from 'app/views/releases/list/projectReleases/releaseProgress';
 import ReleaseEmptyState from './releaseEmptyState';
 import ReleaseList from '../shared/releaseList';
 import ReleaseListHeader from '../shared/releaseListHeader';
@@ -150,10 +150,7 @@ const ProjectReleases = createReactClass({
     else if (this.state.releaseList.length > 0)
       body = (
         <div>
-          <Hook
-            name="component:releases-tab"
-            params={{organization: this.context.organization, source: 'progress'}}
-          />
+          <ReleaseProgress />
           <ReleaseList
             orgId={params.orgId}
             projectId={params.projectId}
@@ -182,7 +179,7 @@ const ProjectReleases = createReactClass({
 
   renderEmpty() {
     const {environment} = this.state;
-    const {organization, project} = this.context;
+    const {project} = this.context;
     let anyProjectReleases = project.latestRelease;
 
     const message = environment
@@ -191,23 +188,11 @@ const ProjectReleases = createReactClass({
         })
       : t("There don't seem to be any releases yet.");
 
-    let EmptyStateComponent = HookOrDefault({
-      hookName: 'component:releases-tab',
-      defaultComponent: ReleaseEmptyState,
-      params: {source: 'empty', organization},
-    });
-
     return anyProjectReleases === null ? (
-      <EmptyStateComponent
-        message={message}
-        params={{organization: this.context.organization, source: 'progress'}}
-      />
+      <ReleaseLanding />
     ) : (
       <div>
-        <Hook
-          name="component:releases-tab"
-          params={{organization: this.context.organization, source: 'progress'}}
-        />
+        <ReleaseProgress />
         <ReleaseEmptyState message={message} />
       </div>
     );
diff --git a/tests/acceptance/test_project_releases.py b/tests/acceptance/test_project_releases.py
index ffa6cbb95f..88b81f00d1 100644
--- a/tests/acceptance/test_project_releases.py
+++ b/tests/acceptance/test_project_releases.py
@@ -39,7 +39,6 @@ class ProjectReleasesTest(AcceptanceTestCase):
         self.browser.get(self.path)
         self.browser.wait_until_not('.loading')
         self.browser.wait_until('.ref-project-releases')
-        self.browser.wait_until('[data-test-id="empty-state"]')
         self.browser.snapshot('project releases without releases')
 
 
diff --git a/tests/js/spec/views/releases/list/projectReleases.spec.jsx b/tests/js/spec/views/releases/list/projectReleases.spec.jsx
index a1a9653a6c..2b2a8cc93e 100644
--- a/tests/js/spec/views/releases/list/projectReleases.spec.jsx
+++ b/tests/js/spec/views/releases/list/projectReleases.spec.jsx
@@ -1,5 +1,5 @@
 import React from 'react';
-import {shallow} from 'enzyme';
+import {shallow, mount} from 'enzyme';
 import {browserHistory} from 'react-router';
 
 import {Client} from 'app/api';
@@ -81,4 +81,57 @@ describe('ProjectReleases', function() {
       });
     });
   });
+
+  describe('loads landing cards', function() {
+    it('should take query state from query string', function() {
+      const org = TestStubs.Organization({
+        id: '4',
+      });
+      const project = TestStubs.Project({latestRelease: null});
+      const routerContext = TestStubs.routerContext([{organization: org, project}]);
+
+      props = {
+        setProjectNavSection: function() {},
+        params: {orgId: '123', projectId: '456'},
+        location: {query: {per_page: 0, query: ''}},
+      };
+
+      let wrapper = mount(<ProjectReleases {...props} />, routerContext);
+
+      wrapper.setState({
+        loading: false,
+        environment: null,
+      });
+      wrapper.update();
+      expect(wrapper.find('ReleaseLanding')).toHaveLength(1);
+      expect(wrapper.find('ReleaseProgress')).toHaveLength(0);
+      expect(wrapper.find('Contributors')).toHaveLength(1);
+    });
+  });
+
+  describe('loads progress bar', function() {
+    it('should take query state from query string', function() {
+      const org = TestStubs.Organization({
+        id: '4',
+      });
+      const project = TestStubs.Project({latestRelease: null});
+      const routerContext = TestStubs.routerContext([{organization: org, project}]);
+
+      props = {
+        setProjectNavSection: function() {},
+        params: {orgId: '123', projectId: '456'},
+        location: {query: {per_page: 0, query: ''}},
+      };
+
+      let wrapper = mount(<ProjectReleases {...props} />, routerContext);
+      wrapper.setState({
+        loading: false,
+        environment: null,
+        releaseList: [{dateCreated: new Date('2017-10-17'), version: 'blah-blah-blah'}],
+      });
+      wrapper.update();
+      expect(wrapper.find('ReleaseLanding')).toHaveLength(0);
+      expect(wrapper.find('ReleaseProgress')).toHaveLength(1);
+    });
+  });
 });
