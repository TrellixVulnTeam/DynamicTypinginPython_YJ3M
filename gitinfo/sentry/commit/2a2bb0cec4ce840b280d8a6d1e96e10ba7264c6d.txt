commit 2a2bb0cec4ce840b280d8a6d1e96e10ba7264c6d
Author: Eric Feng <erichfeng@gmail.com>
Date:   Mon Feb 22 15:38:04 2016 -0800

    putting onboarding behind a feature flag

diff --git a/src/sentry/api/serializers/models/organization.py b/src/sentry/api/serializers/models/organization.py
index 8a1c202f71..fee973699e 100644
--- a/src/sentry/api/serializers/models/organization.py
+++ b/src/sentry/api/serializers/models/organization.py
@@ -53,6 +53,8 @@ class DetailedOrganizationSerializer(OrganizationSerializer):
         feature_list = []
         if features.has('organizations:sso', obj, actor=user):
             feature_list.append('sso')
+        if features.has('organizations:onboarding', obj, actor=user):
+            feature_list.append('onboarding')
 
         if getattr(obj.flags, 'allow_joinleave'):
             feature_list.append('open-membership')
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index da77c41bcb..0e0e29231a 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -9,11 +9,13 @@ default_manager = FeatureManager()
 default_manager.add('auth:register')
 default_manager.add('organizations:create')
 default_manager.add('organizations:sso', OrganizationFeature)
+default_manager.add('organizations:onboarding', OrganizationFeature)
 default_manager.add('projects:global-events', ProjectFeature)
 default_manager.add('projects:quotas', ProjectFeature)
 default_manager.add('projects:user-reports', ProjectFeature)
 default_manager.add('projects:plugins', ProjectPluginFeature)
 
+
 # expose public api
 add = default_manager.add
 get = default_manager.get
diff --git a/src/sentry/static/sentry/app/components/header/index.jsx b/src/sentry/static/sentry/app/components/header/index.jsx
index cc0c838df5..911f818ad7 100644
--- a/src/sentry/static/sentry/app/components/header/index.jsx
+++ b/src/sentry/static/sentry/app/components/header/index.jsx
@@ -43,6 +43,7 @@ const Header = React.createClass({
 
   render() {
     let user = ConfigStore.get('user');
+    let org = this.getOrganization();
     let logo;
 
     if (user) {
@@ -53,7 +54,7 @@ const Header = React.createClass({
 
     // NOTE: this.props.orgId not guaranteed to be specified
     let percentage = Math.round(
-      (this.getOrganization().onboardingTasks.filter(
+      (org.onboardingTasks.filter(
         t => t.status === 'Complete'
       ).length) / TodoList.TASKS.length * 100
     ).toString();
@@ -71,10 +72,10 @@ const Header = React.createClass({
             :
             <a href="/" className="logo">{logo}</a>
           }
-          <OrganizationSelector organization={this.getOrganization()} className="pull-right" />
+          <OrganizationSelector organization={org} className="pull-right" />
 
           <StatusPage className="pull-right" />
-          { percentage < 100 ?
+          { percentage < 100 && org.features.indexOf('onboarding') >= 0 ?
             <div className="onboarding-progress-bar" onClick={this.toggleTodos}>
               <div className="slider" style={style} ></div>
               { this.state.showTodos ? <div className="dropdown-menu"><TodoList onClose={this.setState.bind(this, {showTodos:false})} /></div> : null }
