commit ef8f941b2b2dc082c7c47a9e304ff0d44173629a
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Jun 28 11:15:06 2016 +0200

    Add sudo support for auth tokens
    
    This fixes #3525

diff --git a/src/sentry/api/decorators.py b/src/sentry/api/decorators.py
index 0113daf1f3..e4ed127457 100644
--- a/src/sentry/api/decorators.py
+++ b/src/sentry/api/decorators.py
@@ -5,12 +5,13 @@ import json
 from django.http import HttpResponse
 from functools import wraps
 
-from sentry.models import ApiKey
+from sentry.models import ApiKey, ApiToken
 
 
 def is_considered_sudo(request):
     return request.is_sudo() or \
-        isinstance(request.auth, ApiKey)
+        isinstance(request.auth, ApiKey) or \
+        isinstance(request.auth, ApiToken)
 
 
 def sudo_required(func):
