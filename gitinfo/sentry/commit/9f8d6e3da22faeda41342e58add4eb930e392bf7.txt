commit 9f8d6e3da22faeda41342e58add4eb930e392bf7
Author: Evan Hicks <evan.hicks@sentry.io>
Date:   Tue Jan 14 15:30:02 2020 -0500

    fix(tasks) Add logging to update_user_reports
    
    This task doesn't seem to be working properly, so add some logging to try and
    narrow down what's going on.

diff --git a/src/sentry/tasks/update_user_reports.py b/src/sentry/tasks/update_user_reports.py
index d57c9b16e0..bd9c68e035 100644
--- a/src/sentry/tasks/update_user_reports.py
+++ b/src/sentry/tasks/update_user_reports.py
@@ -1,6 +1,7 @@
 from __future__ import absolute_import
 
 from datetime import timedelta
+import logging
 
 from django.utils import timezone
 
@@ -8,6 +9,8 @@ from sentry import eventstore
 from sentry.models import UserReport
 from sentry.tasks.base import instrumented_task
 
+logger = logging.getLogger(__name__)
+
 
 @instrumented_task(name="sentry.tasks.update_user_reports", queue="update")
 def update_user_reports(**kwargs):
@@ -16,7 +19,16 @@ def update_user_reports(**kwargs):
         group__isnull=True, environment__isnull=True, date_added__gte=now - timedelta(days=1)
     )
 
+    count = 0
+    updated = 0
     for report in user_reports:
+        count += 1
         event = eventstore.get_event_by_id(report.project_id, report.event_id)
         if event:
             report.update(group_id=event.group_id, environment=event.get_environment())
+            updated += 1
+
+    logger.info(
+        "update_user_reports.records_updated",
+        extra={"records_updated": updated, "records_to_update": count},
+    )
