commit 187553021b3db8650ff4ec69e354df31655c2f45
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Wed Nov 21 14:34:29 2018 -0800

    tests(ui): Wrap data forwarding with data-test-id (#10704)
    
    This was previously only wrapped when the feature was rendered. If a
    feature hook replaces the component it would not render the data-test-id
    wrapper.

diff --git a/src/sentry/static/sentry/app/views/projectDataForwarding.jsx b/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
index 67a443763d..a523cd4bef 100644
--- a/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
+++ b/src/sentry/static/sentry/app/views/projectDataForwarding.jsx
@@ -112,46 +112,52 @@ class ProjectDataForwarding extends AsyncComponent {
       );
 
     return (
-      <Feature
-        features={['projects:data-forwarding']}
-        renderDisabled={p => p.children(p)}
-      >
-        {({hasFeature, features}) => (
-          <div data-test-id="data-forwarding-settings">
-            <SettingsPageHeader title={t('Data Forwarding')} />
-            <TextBlock>
-              {tct(
-                `Data Forwarding allows processed events to be sent to your
+      <div data-test-id="data-forwarding-settings">
+        <Feature
+          features={['projects:data-forwarding']}
+          renderDisabled={p => p.children(p)}
+        >
+          {({hasFeature, features}) => (
+            <React.Fragment>
+              <SettingsPageHeader title={t('Data Forwarding')} />
+              <TextBlock>
+                {tct(
+                  `Data Forwarding allows processed events to be sent to your
                 favorite business intelligence tools. The exact payload and
                 types of data depend on the integration you're using. Learn
                 more about this functionality in our [link:documentation].`,
-                {
-                  link: (
-                    <ExternalLink href="https://docs.sentry.io/learn/data-forwarding/" />
-                  ),
-                }
-              )}
-            </TextBlock>
-
-            <Alert icon="icon-circle-info">
-              {tct(
-                `Sentry forwards [em:all applicable events] to the provider, in
+                  {
+                    link: (
+                      <ExternalLink href="https://docs.sentry.io/learn/data-forwarding/" />
+                    ),
+                  }
+                )}
+              </TextBlock>
+
+              <Alert icon="icon-circle-info">
+                {tct(
+                  `Sentry forwards [em:all applicable events] to the provider, in
                 some cases this may be a significant volume of data.`,
-                {
-                  em: <strong />,
-                }
+                  {
+                    em: <strong />,
+                  }
+                )}
+              </Alert>
+
+              {!hasFeature && (
+                <FeatureDisabled
+                  alert
+                  featureName="Data Forwarding"
+                  features={features}
+                />
               )}
-            </Alert>
 
-            {!hasFeature && (
-              <FeatureDisabled alert featureName="Data Forwarding" features={features} />
-            )}
-
-            <DataForwardingStats params={params} />
-            {hasFeature && pluginsPanel}
-          </div>
-        )}
-      </Feature>
+              <DataForwardingStats params={params} />
+              {hasFeature && pluginsPanel}
+            </React.Fragment>
+          )}
+        </Feature>
+      </div>
     );
   }
 }
