commit e4535b4d3df4bfb57fe9ab7623d75e06ed2c6168
Author: Dan Fuller <dfuller@sentry.io>
Date:   Wed Feb 12 17:08:32 2020 -0800

    fix(subscriptions): Include transaction name in APM span
    
    This is required to actually see data in APM

diff --git a/src/sentry/snuba/query_subscription_consumer.py b/src/sentry/snuba/query_subscription_consumer.py
index 6958f8fc38..1b680c3bd7 100644
--- a/src/sentry/snuba/query_subscription_consumer.py
+++ b/src/sentry/snuba/query_subscription_consumer.py
@@ -173,7 +173,9 @@ class QuerySubscriptionConsumer(object):
                 return
 
             callback = subscriber_registry[subscription.type]
-            with sentry_sdk.start_span(op="process_message") as span, metrics.timer(
+            with sentry_sdk.start_span(
+                op="process_message", transaction="query_subscription_consumer_process_message"
+            ) as span, metrics.timer(
                 "snuba_query_subscriber.callback.duration", instance=subscription.type
             ):
                 span.set_data("payload", contents)
