commit 0e59c567f7f7090978defc517791eb5ce2e67e09
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Oct 6 15:48:56 2015 -0700

    Gracefully handle no manifests file

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 9220dd901d..48445fec73 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -260,8 +260,11 @@ STATICFILES_FINDERS = (
 )
 
 ASSET_MANIFEST_PATH = os.path.join(STATIC_ROOT, 'sentry', 'dist', 'manifest.json')
-with open(ASSET_MANIFEST_PATH) as manifest_file:
-    ASSET_MANIFEST = json.load(manifest_file)
+try:
+    with open(ASSET_MANIFEST_PATH) as manifest_file:
+        ASSET_MANIFEST = json.load(manifest_file)
+except IOError:
+    ASSET_MANIFEST = {}
 
 # setup a default media root to somewhere useless
 MEDIA_ROOT = '/tmp/sentry-media'
diff --git a/src/sentry/templatetags/sentry_assets.py b/src/sentry/templatetags/sentry_assets.py
index df043a9b2e..f256d5a6a1 100644
--- a/src/sentry/templatetags/sentry_assets.py
+++ b/src/sentry/templatetags/sentry_assets.py
@@ -11,12 +11,13 @@ register = Library()
 class AssetURLNode(URLNode):
     def render(self, context):
         path = super(AssetURLNode, self).render(context)
-
-        # Replace last part of url path with value from manifest
-        # TODO: Blow up gracefully if not in manifest?
         parts = path.split('/')
         last = parts[-1]
-        parts[-1] = settings.ASSET_MANIFEST[last]
+
+        try:
+            parts[-1] = settings.ASSET_MANIFEST[last]
+        except IndexError:
+            return path
 
         return '/'.join(parts)
 
