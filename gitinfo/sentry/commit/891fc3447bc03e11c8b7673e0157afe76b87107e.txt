commit 891fc3447bc03e11c8b7673e0157afe76b87107e
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 8 15:03:04 2016 -0700

    Escape Sentry feedback embed config
    
    @getsentry/security

diff --git a/src/sentry/web/frontend/error_500.py b/src/sentry/web/frontend/error_500.py
index 9c7f6581a5..443c73873b 100644
--- a/src/sentry/web/frontend/error_500.py
+++ b/src/sentry/web/frontend/error_500.py
@@ -6,7 +6,6 @@ from django.conf import settings
 from django.views.generic import View
 from django.template import Context, loader
 from django.http import HttpResponseServerError
-from django.utils.safestring import mark_safe
 
 from sentry.models import ProjectKey
 from sentry.utils import json
@@ -52,7 +51,9 @@ class Error500View(View):
 
         embed_config = self.get_embed_config(request)
         if embed_config:
-            context['embed_config'] = mark_safe(json.dumps(embed_config))
+            context['embed_config'] = json.dumps_htmlsafe(
+                embed_config
+            )
 
         t = loader.get_template('sentry/500.html')
         return HttpResponseServerError(t.render(Context(context)))
