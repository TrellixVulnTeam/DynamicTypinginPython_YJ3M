commit db07bfb7d7e35d6db144938a73556e175a2d1f1b
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Jan 21 13:57:03 2020 -0800

    fix(email): Fix debug emails for Incident Activity (#16435)
    
    This fixes the debug-only view for Incident Activity emails

diff --git a/src/sentry/web/frontend/debug/debug_incident_activity_email.py b/src/sentry/web/frontend/debug/debug_incident_activity_email.py
index 48119a17a4..2b18a0c5ee 100644
--- a/src/sentry/web/frontend/debug/debug_incident_activity_email.py
+++ b/src/sentry/web/frontend/debug/debug_incident_activity_email.py
@@ -13,14 +13,14 @@ from .mail import MailPreview
 class DebugIncidentActivityEmailView(View):
     def get(self, request):
         organization = Organization(slug="myorg")
-        incident = Incident(identifier=123, organization=organization, title="Something broke")
+        user = User(id=1235, name="Hello There")
+        incident = Incident(
+            id=2, identifier=123, organization=organization, title="Something broke"
+        )
         activity = IncidentActivity(
-            incident=incident,
-            user=User(name="Hello There"),
-            type=IncidentActivityType.COMMENT.value,
-            comment="hi",
+            incident=incident, user=user, type=IncidentActivityType.COMMENT.value, comment="hi"
         )
-        email = generate_incident_activity_email(activity)
+        email = generate_incident_activity_email(activity, user)
         return MailPreview(
             html_template=email.html_template, text_template=email.template, context=email.context
         ).render(request)
