commit 5ed37ee695c40d7ca80deb4d8091d61bbc1342ce
Author: David Cramer <dcramer@gmail.com>
Date:   Sun May 4 19:50:46 2014 -0400

    Simple logging for db failures

diff --git a/src/sentry/middleware/maintenance.py b/src/sentry/middleware/maintenance.py
index 1434d08c16..91525ffebf 100644
--- a/src/sentry/middleware/maintenance.py
+++ b/src/sentry/middleware/maintenance.py
@@ -5,9 +5,13 @@ sentry.middleware.maintenance
 :copyright: (c) 2010-2014 by the Sentry Team, see AUTHORS for more details.
 :license: BSD, see LICENSE for more details.
 """
+import logging
+
 from django.conf import settings
 from django.http import HttpResponse
 
+logger = logging.getLogger('sentry.errors')
+
 
 DB_ERRORS = []
 
@@ -35,4 +39,5 @@ class ServicesUnavailableMiddleware(object):
 
     def process_exception(self, request, exception):
         if isinstance(exception, DB_ERRORS):
+            logger.exception('Fatal error returned from database')
             return HttpResponse('Sentry is currently in maintenance mode', status=503)
