commit 3431e0ef6234349fe4b9e3f730f5b30f3dea49a7
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jun 4 14:36:08 2010 -0700

    Standardize settings

diff --git a/djangodblog/admin.py b/djangodblog/admin.py
index c7f55a9a8c..31816ce508 100644
--- a/djangodblog/admin.py
+++ b/djangodblog/admin.py
@@ -1,4 +1,3 @@
-from django.conf import settings
 from django.contrib import admin
 from django.contrib.admin.filterspecs import AllValuesFilterSpec, FilterSpec
 from django.contrib.admin.util import unquote
@@ -14,6 +13,7 @@ from django import forms
 
 from djangodblog.models import ErrorBatch, Error
 from djangodblog.helpers import ImprovedExceptionReporter
+from djangodblog.settings import *
 from djangodblog.utils import JSONDictFormField
 
 import base64
@@ -185,7 +185,7 @@ class ErrorAdmin(EfficientModelAdmin):
     
     def change_view(self, request, object_id, extra_context={}):
         obj = self.get_object(request, unquote(object_id))
-        has_traceback = getattr(settings, 'DBLOG_ENHANCED_TRACEBACKS', True) \
+        has_traceback = ENHANCED_TRACEBACKS \
                 and 'exc' in obj.data and 'META' in obj.data
         show_traceback = has_traceback and 'raw' not in request.GET
         if show_traceback:
diff --git a/djangodblog/manager.py b/djangodblog/manager.py
index 346c85ef7f..7104f2411e 100644
--- a/djangodblog/manager.py
+++ b/djangodblog/manager.py
@@ -14,17 +14,15 @@ try:
 except ImportError:
     import pickle
 
-from django.conf import settings
 from django.db import models
-from django.conf import settings
 from django.db.models import sql
-from django.utils.encoding import smart_unicode
 from django.db.models.query import QuerySet
+from django.utils.encoding import smart_unicode
 from django.views.debug import ExceptionReporter
 
-DBLOG_DATABASE_USING = getattr(settings, 'DBLOG_DATABASE_USING', None)
+from djangodblog.settings import *
 
-assert not DBLOG_DATABASE_USING or django.VERSION >= (1, 2), 'The `DBLOG_DATABASE_USING` setting requires Django >= 1.2'
+assert not DATABASE_USING or django.VERSION >= (1, 2), 'The `DBLOG_DATABASE_USING` setting requires Django >= 1.2'
 
 logger = logging.getLogger('dblog')
 
diff --git a/djangodblog/middleware.py b/djangodblog/middleware.py
index 101cbd8751..a28004a926 100644
--- a/djangodblog/middleware.py
+++ b/djangodblog/middleware.py
@@ -1,15 +1,15 @@
-from django.conf import settings
+from django.db import transaction
 from django.http import Http404
 
 from djangodblog.models import Error
-from django.db import transaction
+from djangodblog.settings import *
 
 __all__ = ('DBLogMiddleware',)
 
 class DBLogMiddleware(object):
     @transaction.commit_on_success
     def process_exception(self, request, exception):
-        if not getattr(settings, 'DBLOG_CATCH_404_ERRORS', False) \
+        if not CATCH_404_ERRORS \
                 and isinstance(exception, Http404):                
             return
 
diff --git a/djangodblog/routers.py b/djangodblog/routers.py
index e6a1c8fe34..57d1d39ba9 100644
--- a/djangodblog/routers.py
+++ b/djangodblog/routers.py
@@ -1,15 +1,15 @@
-from django.conf import settings
+from djangodblog.settings import *
 
 class DBLogRouter(object):
     def db_for_write(self, model, **hints):
         if model._meta.app_label == 'djangodblog':
-            return getattr(settings, 'DBLOG_DATABASE_USING', None)
+            return DATABASE_USING
 
     def db_for_read(self, model, **hints):
         return self.db_for_write(model, **hints)
 
     def allow_syncdb(self, db, model):
-        dblog_db = getattr(settings, 'DBLOG_DATABASE_USING', None)
+        dblog_db = DATABASE_USING
         if not dblog_db:
             return None
         if model._meta.app_label == 'djangodblog' and db != dblog_db:
diff --git a/djangodblog/settings.py b/djangodblog/settings.py
new file mode 100644
index 0000000000..870188c0b7
--- /dev/null
+++ b/djangodblog/settings.py
@@ -0,0 +1,7 @@
+from django.conf import settings
+
+CATCH_404_ERRORS = getattr(settings, 'DBLOG_CATCH_404_ERRORS', False)
+
+ENHANCED_TRACEBACKS = getattr(settings, 'DBLOG_ENHANCED_TRACEBACKS', True)
+
+DATABASE_USING = getattr(settings, 'DBLOG_DATABASE_USING', None)
\ No newline at end of file
