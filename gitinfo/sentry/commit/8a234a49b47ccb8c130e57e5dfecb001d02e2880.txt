commit 8a234a49b47ccb8c130e57e5dfecb001d02e2880
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Aug 22 16:26:20 2017 -0700

    Correctly skip over js frames without lineno attributes

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 74c436d4ba..396d8a3d4c 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -515,8 +515,8 @@ class JavaScriptStacktraceProcessor(StacktraceProcessor):
         all_errors = []
         sourcemap_applied = False
 
-        # can't fetch source if there's no filename present
-        if not frame.get('abs_path'):
+        # can't fetch source if there's no filename present or no line
+        if not frame.get('abs_path') or not frame.get('lineno'):
             return
 
         errors = cache.get_errors(frame['abs_path'])
@@ -653,9 +653,8 @@ class JavaScriptStacktraceProcessor(StacktraceProcessor):
         # If we did not manage to match but we do have a line or column
         # we want to report an error here.
         if not new_frame.get('context_line') \
-           and source \
-           and new_frame.get('colno') is not None \
-           and new_frame.get('lineno') is not None:
+           and source and \
+           new_frame.get('colno') is not None:
             all_errors.append(
                 {
                     'type': EventError.JS_INVALID_SOURCEMAP_LOCATION,
