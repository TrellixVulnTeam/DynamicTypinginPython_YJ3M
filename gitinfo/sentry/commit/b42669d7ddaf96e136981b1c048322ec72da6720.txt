commit b42669d7ddaf96e136981b1c048322ec72da6720
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Aug 12 01:19:56 2016 -0700

    Only support column short for foreignkeys

diff --git a/src/sentry/db/models/query.py b/src/sentry/db/models/query.py
index 4593c52906..d1cc812d2b 100644
--- a/src/sentry/db/models/query.py
+++ b/src/sentry/db/models/query.py
@@ -12,7 +12,7 @@ import itertools
 import six
 
 from django.db import IntegrityError, router, transaction
-from django.db.models import Model
+from django.db.models import ForeignKey, Model
 from django.db.models.expressions import ExpressionNode
 from django.db.models.signals import post_save
 
@@ -82,7 +82,9 @@ def create_or_update(model, using=None, **kwargs):
         # XXX(dcramer): we want to support column shortcut on create so
         # we can do create_or_update(..., {'project': 1})
         if not isinstance(v, Model):
-            k = model._meta.get_field(k).column
+            field = model._meta.get_field(k)
+            if isinstance(field, ForeignKey):
+                k = field.column
         if isinstance(v, ExpressionNode):
             create_kwargs[k] = resolve_expression_node(inst, v)
         else:
