commit 5f137ab43f53882b43ad3bbf08c40fb84e90cbe8
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Aug 26 17:21:00 2015 -0700

    Minor improvements to error handling in rule editor (fixes GH-1840)

diff --git a/src/sentry/static/sentry/app/views/ruleEditor.jsx b/src/sentry/static/sentry/app/views/ruleEditor.jsx
index 1cbde48ef2..01a5f8cd5c 100644
--- a/src/sentry/static/sentry/app/views/ruleEditor.jsx
+++ b/src/sentry/static/sentry/app/views/ruleEditor.jsx
@@ -160,7 +160,7 @@ var RuleEditor = React.createClass({
       },
       error: (response) => {
         this.setState({
-          error: response || 'Unknown error',
+          error: response.responseJSON || {'__all__': 'Unknown error'},
           loading: false
         });
       },
@@ -170,6 +170,12 @@ var RuleEditor = React.createClass({
     });
   },
 
+  hasError(field) {
+    var {error} = this.state;
+    if (!error) return false;
+    return !!error[field];
+  },
+
   render() {
     var rule = this.props.rule;
     var {loading, error} = this.state;
@@ -199,7 +205,7 @@ var RuleEditor = React.createClass({
             <h6>
               Every time
               <Selectize ref="actionMatch"
-                      className="selectize-inline"
+                      className={"selectize-inline" + (this.hasError('actionMatch') ? ' error' : '')}
                       defaultValue={actionMatch}
                       required={true}>
                 <option value="all">all</option>
@@ -209,6 +215,10 @@ var RuleEditor = React.createClass({
               of these conditions are met:
             </h6>
 
+            {this.hasError('conditions') &&
+              <p className="error">Ensure at least one condition is enabled and all required fields are filled in.</p>
+            }
+
             <RuleNodeList nodes={this.props.conditions}
               initialItems={conditions}
               className="rule-condition-list"
@@ -216,6 +226,10 @@ var RuleEditor = React.createClass({
 
             <h6>Take these actions:</h6>
 
+            {this.hasError('actions') &&
+              <p className="error">Ensure at least one condition is enabled and all required fields are filled in.</p>
+            }
+
             <RuleNodeList nodes={this.props.actions}
               initialItems={actions}
               className="rule-action-list"
diff --git a/src/sentry/static/sentry/less/forms.less b/src/sentry/static/sentry/less/forms.less
index 67864d3e23..27e19c4f1a 100644
--- a/src/sentry/static/sentry/less/forms.less
+++ b/src/sentry/static/sentry/less/forms.less
@@ -87,4 +87,6 @@ label {
   }
 }
 
-
+.error {
+  color: red;
+}
diff --git a/src/sentry/static/sentry/less/includes/selectize.less b/src/sentry/static/sentry/less/includes/selectize.less
index b74e48ab8a..2c8b1089e7 100644
--- a/src/sentry/static/sentry/less/includes/selectize.less
+++ b/src/sentry/static/sentry/less/includes/selectize.less
@@ -197,6 +197,12 @@
   right: 0;
 }
 
+.error {
+  .selectize-input, .selectize-dropdown {
+    border-color: red;
+  }
+}
+
 .selectize-dropdown {
   position: absolute !important;
   z-index: 10;
