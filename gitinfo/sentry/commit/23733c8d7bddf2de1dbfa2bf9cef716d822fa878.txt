commit 23733c8d7bddf2de1dbfa2bf9cef716d822fa878
Author: David Cramer <cramer@dropbox.com>
Date:   Wed May 21 12:53:59 2014 -0700

    Gracefully handle bad data type

diff --git a/src/sentry/interfaces/user.py b/src/sentry/interfaces/user.py
index 301669c056..8d604c7747 100644
--- a/src/sentry/interfaces/user.py
+++ b/src/sentry/interfaces/user.py
@@ -45,13 +45,18 @@ class User(Interface):
     def to_python(cls, data):
         data = data.copy()
 
+        extra_data = data.pop('data', data)
+        if not isinstance(extra_data, dict):
+            extra_data = None
+
         kwargs = {
             'id': trim(data.pop('id', None), 128),
             'email': trim(data.pop('email', None), 128),
             'username': trim(data.pop('username', None), 128),
             'ip_address': validate_ip(data.pop('ip_address', None), False),
         }
-        kwargs['data'] = trim_dict(data.pop('data', data))
+
+        kwargs['data'] = trim_dict(extra_data)
         return cls(**kwargs)
 
     def get_path(self):
