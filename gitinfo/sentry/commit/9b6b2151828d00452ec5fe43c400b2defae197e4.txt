commit 9b6b2151828d00452ec5fe43c400b2defae197e4
Author: Jess MacQueen <macqueen@users.noreply.github.com>
Date:   Wed Aug 10 10:44:01 2016 -0700

    add status kwarg to sentry.plugins.base.response.JSONResponse (#3889)

diff --git a/src/sentry/plugins/base/response.py b/src/sentry/plugins/base/response.py
index db23750901..f8dcb85b7e 100644
--- a/src/sentry/plugins/base/response.py
+++ b/src/sentry/plugins/base/response.py
@@ -38,8 +38,11 @@ class Response(object):
 
 
 class JSONResponse(Response):
-    def __init__(self, context):
+    def __init__(self, context, status=200):
         self.context = context
+        self.status = status
 
     def respond(self, request, context=None):
-        return HttpResponse(json.dumps(self.context), content_type='application/json')
+        return HttpResponse(json.dumps(self.context),
+                            content_type='application/json',
+                            status=self.status)
diff --git a/tests/sentry/plugins/base/__init__.py b/tests/sentry/plugins/base/__init__.py
new file mode 100644
index 0000000000..c3961685ab
--- /dev/null
+++ b/tests/sentry/plugins/base/__init__.py
@@ -0,0 +1 @@
+from __future__ import absolute_import
diff --git a/tests/sentry/plugins/base/test.py b/tests/sentry/plugins/base/test.py
new file mode 100644
index 0000000000..51634ded17
--- /dev/null
+++ b/tests/sentry/plugins/base/test.py
@@ -0,0 +1,12 @@
+from __future__ import absolute_import
+from sentry.plugins.base.response import JSONResponse
+
+
+def test_json_response():
+    resp = JSONResponse({}).respond(None)
+    assert resp.status_code == 200
+
+
+def test_json_response_with_status_kwarg():
+    resp = JSONResponse({}, status=400).respond(None)
+    assert resp.status_code == 400
