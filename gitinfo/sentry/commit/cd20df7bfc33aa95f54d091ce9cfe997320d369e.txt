commit cd20df7bfc33aa95f54d091ce9cfe997320d369e
Author: Mark Story <mark@sentry.io>
Date:   Tue Oct 8 15:25:43 2019 -0400

    fix(tests) Fix flaky test (#14979)
    
    The groupids could come out of postgres in a non-deterministic order
    causing test failures. This fixates the order of parameters in snuba
    queries which allows mocks to more reliably match query parameters.

diff --git a/src/sentry/search/snuba/backend.py b/src/sentry/search/snuba/backend.py
index fa7a211d06..3eba5922b9 100644
--- a/src/sentry/search/snuba/backend.py
+++ b/src/sentry/search/snuba/backend.py
@@ -309,7 +309,6 @@ class SnubaSearchBackend(SearchBackend):
                 }
             ).build(group_queryset, search_filters)
         else:
-
             group_queryset = QuerySetBuilder(
                 {
                     "first_release": QCallbackCondition(
@@ -625,7 +624,7 @@ def snuba_search(
         filters["environment"] = environment_ids
 
     if candidate_ids:
-        filters["issue"] = candidate_ids
+        filters["issue"] = sorted(candidate_ids)
 
     conditions = []
     having = []
