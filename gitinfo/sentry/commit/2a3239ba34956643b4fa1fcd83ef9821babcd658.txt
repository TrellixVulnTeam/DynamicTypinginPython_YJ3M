commit 2a3239ba34956643b4fa1fcd83ef9821babcd658
Author: Katie Lundsgaard <katie@getsentry.com>
Date:   Wed Apr 12 13:37:30 2017 -0700

    Encode version to not interfere with url construction (#5233)

diff --git a/src/sentry/static/sentry/app/components/commitAuthorStats.jsx b/src/sentry/static/sentry/app/components/commitAuthorStats.jsx
index 5f0381634d..6597c1b86e 100644
--- a/src/sentry/static/sentry/app/components/commitAuthorStats.jsx
+++ b/src/sentry/static/sentry/app/components/commitAuthorStats.jsx
@@ -48,7 +48,7 @@ const CommitAuthorStats = React.createClass({
 
   componentDidMount() {
     let {orgId, projectId, version} = this.props;
-    let path = `/projects/${orgId}/${projectId}/releases/${version}/commits/`;
+    let path = `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(version)}/commits/`;
     this.api.request(path, {
       method: 'GET',
       success: (data, _, jqXHR) => {
diff --git a/src/sentry/static/sentry/app/components/releaseProjectStatSparkline.jsx b/src/sentry/static/sentry/app/components/releaseProjectStatSparkline.jsx
index 0a50da7eb8..02c304b293 100644
--- a/src/sentry/static/sentry/app/components/releaseProjectStatSparkline.jsx
+++ b/src/sentry/static/sentry/app/components/releaseProjectStatSparkline.jsx
@@ -51,7 +51,7 @@ const ReleaseProjectStatSparkline = React.createClass({
   getNewIssuesCount() {
     let {orgId, version} = this.props;
     let projectId = this.props.project.slug;
-    let issuesPath = `/projects/${orgId}/${projectId}/releases/${version}/`;
+    let issuesPath = `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(version)}/`;
     this.api.request(issuesPath, {
       method: 'GET',
       success: (data, _, jqXHR) => {
@@ -84,7 +84,7 @@ const ReleaseProjectStatSparkline = React.createClass({
             <SparklinesLine style={{stroke: '#8f85d4', fill: 'none', strokeWidth: 3}}/>
           </Sparklines>
         </div>
-        <Link to={`/${orgId}/${project.slug}/releases/${version}/overview/`}>
+        <Link to={`/${orgId}/${project.slug}/releases/${encodeURIComponent(version)}/overview/`}>
           <h6 className="m-b-0">
             {project.name}
           </h6>
diff --git a/src/sentry/static/sentry/app/components/versionHoverCard.jsx b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
index 11bd07d35f..bca22f71d0 100644
--- a/src/sentry/static/sentry/app/components/versionHoverCard.jsx
+++ b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
@@ -42,7 +42,7 @@ const VersionHoverCard = React.createClass({
     });
 
     // releases
-    let releasePath = `/projects/${orgId}/${projectId}/releases/${version}/`;
+    let releasePath = `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(version)}/`;
     this.api.request(releasePath, {
       method: 'GET',
       success: (data) => {
diff --git a/src/sentry/static/sentry/app/views/releaseArtifacts.jsx b/src/sentry/static/sentry/app/views/releaseArtifacts.jsx
index 96915df20e..bd51af481d 100644
--- a/src/sentry/static/sentry/app/views/releaseArtifacts.jsx
+++ b/src/sentry/static/sentry/app/views/releaseArtifacts.jsx
@@ -47,7 +47,7 @@ const ReleaseArtifacts = React.createClass({
 
   getFilesEndpoint() {
     let params = this.props.params;
-    return `/projects/${params.orgId}/${params.projectId}/releases/${params.version}/files/`;
+    return `/projects/${params.orgId}/${params.projectId}/releases/${encodeURIComponent(params.version)}/files/`;
   },
 
   fetchData() {
diff --git a/src/sentry/static/sentry/app/views/releases/releaseCommits.jsx b/src/sentry/static/sentry/app/views/releases/releaseCommits.jsx
index b373b5bce6..a1c48ec074 100644
--- a/src/sentry/static/sentry/app/views/releases/releaseCommits.jsx
+++ b/src/sentry/static/sentry/app/views/releases/releaseCommits.jsx
@@ -77,7 +77,7 @@ const ReleaseCommits = React.createClass({
   componentDidMount() {
     let {orgId, projectId, version} = this.props.params;
 
-    let path = `/projects/${orgId}/${projectId}/releases/${version}/commits/`;
+    let path = `/projects/${orgId}/${projectId}/releases/${encodeURIComponent(version)}/commits/`;
     this.api.request(path, {
       method: 'GET',
       data: this.props.location.query,
diff --git a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
index 332670fb56..bc7092165b 100644
--- a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
+++ b/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
@@ -31,7 +31,7 @@ const ReleaseOverview = React.createClass({
   componentDidMount() {
     let {orgId, version} = this.props.params;
 
-    let path = `/organizations/${orgId}/releases/${version}/commitfiles/`;
+    let path = `/organizations/${orgId}/releases/${encodeURIComponent(version)}/commitfiles/`;
     this.api.request(path, {
       method: 'GET',
       data: this.props.location.query,
@@ -53,7 +53,7 @@ const ReleaseOverview = React.createClass({
 
   getReleaseProjects() {
     let {orgId, version} = this.props.params;
-    let path = `/organizations/${orgId}/releases/${version}/`;
+    let path = `/organizations/${orgId}/releases/${encodeURIComponent(version)}/`;
     this.api.request(path, {
       method: 'GET',
       success: (data, _, jqXHR) => {
@@ -71,7 +71,7 @@ const ReleaseOverview = React.createClass({
 
   getDeploys() {
     let {orgId, version} = this.props.params;
-    let path = `/organizations/${orgId}/releases/${version}/deploys/`;
+    let path = `/organizations/${orgId}/releases/${encodeURIComponent(version)}/deploys/`;
     this.api.request(path, {
       method: 'GET',
       success: (data, _, jqXHR) => {
@@ -148,7 +148,7 @@ const ReleaseOverview = React.createClass({
           <div className="col-sm-8">
             <h5>{t('Issues Resolved in this Release')}</h5>
             <IssueList
-              endpoint={`/projects/${orgId}/${projectId}/releases/${version}/resolved/`}
+              endpoint={`/projects/${orgId}/${projectId}/releases/${encodeURIComponent(version)}/resolved/`}
               pagination={false}
               renderEmpty={() => <div className="box empty m-b-2" key="none">{t('No issues resolved')}</div>}
               ref="issueList"
