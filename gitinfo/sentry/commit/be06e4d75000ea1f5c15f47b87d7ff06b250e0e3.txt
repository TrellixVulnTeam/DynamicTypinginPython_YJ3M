commit be06e4d75000ea1f5c15f47b87d7ff06b250e0e3
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Feb 1 21:36:27 2015 -0800

    Fix can_edit_project_key

diff --git a/src/sentry/permissions.py b/src/sentry/permissions.py
index 8a9f3535bc..b87a39195e 100644
--- a/src/sentry/permissions.py
+++ b/src/sentry/permissions.py
@@ -278,14 +278,16 @@ def can_add_project_key(user, project):
 
 
 @requires_login
-def can_edit_project_key(user, project):
+def can_edit_project_key(user, key):
     if user.is_superuser:
         return True
 
+    project = key.project
+
     if not is_project_admin(user, project):
         return False
 
-    result = plugins.first('has_perm', user, 'edit_project_key', project)
+    result = plugins.first('has_perm', user, 'edit_project_key', project, key)
     if result is False:
         return False
 
