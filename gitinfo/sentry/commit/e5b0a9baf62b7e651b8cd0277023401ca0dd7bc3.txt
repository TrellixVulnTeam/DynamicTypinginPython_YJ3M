commit e5b0a9baf62b7e651b8cd0277023401ca0dd7bc3
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 26 15:09:58 2011 -0800

    Clean up how we display vars tables

diff --git a/bootstrap/lib/sentry.less b/bootstrap/lib/sentry.less
index 56008a0a4d..4b8cc9812e 100644
--- a/bootstrap/lib/sentry.less
+++ b/bootstrap/lib/sentry.less
@@ -145,10 +145,22 @@ ol.context-line {
   }
 }
 
+
+// Vars display
 table.vars {
   .condensed-table;
+  td.code {
+    > pre {
+      background-color: lighten(@orange, 40%);
+      color: rgba(0,0,0,.75);
+      padding: 1px 3px;
+      border: 0;
+    }
+  }
 }
 
+// Generic module stuff
+
 .module {
   margin-bottom: 20px;
 }
diff --git a/sentry/static/styles/bootstrap.css b/sentry/static/styles/bootstrap.css
index b656304d74..efd00bb433 100644
--- a/sentry/static/styles/bootstrap.css
+++ b/sentry/static/styles/bootstrap.css
@@ -6,7 +6,7 @@
  * http://www.apache.org/licenses/LICENSE-2.0
  *
  * Designed and built with all the love in the world @twitter by @mdo and @fat.
- * Date: Mon Dec 26 06:19:02 PST 2011
+ * Date: Mon Dec 26 15:09:50 PST 2011
  */
 /* Reset.less
  * Props to Eric Meyer (meyerweb.com) for his CSS reset file. We're using an adapted version here	that cuts out some of the reset HTML elements we will never need here (i.e., dfn, samp, etc).
@@ -2668,6 +2668,12 @@ ol.context-line > li > span {
 table.vars th, table.vars td {
   padding: 5px 5px 4px;
 }
+table.vars td.code > pre {
+  background-color: #fee9cc;
+  color: rgba(0, 0, 0, 0.75);
+  padding: 1px 3px;
+  border: 0;
+}
 .module {
   margin-bottom: 20px;
 }
diff --git a/sentry/static/styles/bootstrap.min.css b/sentry/static/styles/bootstrap.min.css
index b277991cfe..60fcf14bb4 100644
--- a/sentry/static/styles/bootstrap.min.css
+++ b/sentry/static/styles/bootstrap.min.css
@@ -380,6 +380,7 @@ ol.context>li.active{background-color:#ddd;}ol.context>li.active pre{color:#0000
 ol.context-line>li>span{float:right;}
 .expandable{cursor:pointer;}.expandable .closed{display:none;}
 table.vars th,table.vars td{padding:5px 5px 4px;}
+table.vars td.code>pre{background-color:#fee9cc;color:rgba(0, 0, 0, 0.75);padding:1px 3px;border:0;}
 .module{margin-bottom:20px;}
 .module-content table pre{margin-bottom:0;}
 .sparkline-grid{margin-left:-20px;margin-bottom:0;zoom:1;}.sparkline-grid:before,.sparkline-grid:after{display:table;content:"";zoom:1;}
diff --git a/sentry/templates/sentry/partial/interfaces/stacktrace.html b/sentry/templates/sentry/partial/interfaces/stacktrace.html
index 9f0d8a4016..7efd0821e7 100644
--- a/sentry/templates/sentry/partial/interfaces/stacktrace.html
+++ b/sentry/templates/sentry/partial/interfaces/stacktrace.html
@@ -6,48 +6,39 @@
       <h2>{% trans "Stacktrace" %}</h2>
     </div>
     <div class="module-content">
-        {% autoescape off %}
-        <div id="browserTraceback">
         <ul class="traceback">
-          {% for frame in frames %}
-            <li class="frame">
-              <p><code>{{ frame.filename|escape }}</code> in <code>{{ frame.function|escape }}</code></p>
+            {% for frame in frames %}
+                <li class="frame">
+                    <p><code>{{ frame.filename }}</code> in <code>{{ frame.function }}</code></p>
 
-              {% if frame.context %}
-                  <ol start="{{ frame.start_lineno }}" class="context expandable" id="c{{ forloop.counter0 }}">
-                      {% for num, line in frame.context %}
-                          <li{% if num == frame.lineno %} class="active"{% else %} class="stack{{ forloop.parentloop.counter0 }} closed"{% endif %} onclick="$('.stack{{ forloop.parentloop.counter0 }}').toggle()"><pre>{{ line|escape }}</pre></li>
-                      {% endfor %}
-                  </ol>
-              {% endif %}
-              {% if frame.vars %}
-                <div class="commands">
-                  <a href="#" onclick="return varToggle(this, '{{ forloop.counter0 }}')"><span>&#x25b6;</span> Local vars</a>
-                </div>
-                <table class="vars" id="v{{ forloop.counter0 }}" style="display:none;">
-                  <thead>
-                    <tr>
-                      <th>Variable</th>
-                      <th>Value</th>
-                    </tr>
-                  </thead>
-                  <tbody>
-                  {% if frame.vars %}
-                    {% for key, value in frame.vars.iteritems %}
-                      <tr>
-                        <td>{{ key|escape }}</td>
-                        <td class="code"><pre>{{ value|pprint|escape }}</pre></td>
-                      </tr>
-                    {% endfor %}
-                  {% endif %}
-                  </tbody>
-                </table>
-              {% endif %}
-            </li>
-          {% endfor %}
+                    {% if frame.context %}
+                        <ol start="{{ frame.start_lineno }}" class="context expandable" id="c{{ forloop.counter0 }}">
+                        {% for num, line in frame.context %}
+                            <li{% if num == frame.lineno %} class="active"{% else %} class="stack{{ forloop.parentloop.counter0 }} closed"{% endif %} onclick="$('.stack{{ forloop.parentloop.counter0 }}').toggle()"><pre>{{ line }}</pre></li>
+                        {% endfor %}
+                        </ol>
+                    {% endif %}
+                    {% if frame.vars %}
+                        <div class="commands">
+                            <a href="#" onclick="return varToggle(this, '{{ forloop.counter0 }}')"><span>&#x25b6;</span> Local vars</a>
+                        </div>
+                        <table class="vars" id="v{{ forloop.counter0 }}" style="display:none;">
+                            <colgroup>
+                                <col style="width:100px;">
+                            </colgroup>
+                            <tbody>
+                                {% for key, value in frame.vars.iteritems %}
+                                    <tr>
+                                        <td>{{ key }}</td>
+                                        <td class="code"><pre>{{ value|pprint }}</pre></td>
+                                    </tr>
+                                {% endfor %}
+                            </tbody>
+                        </table>
+                    {% endif %}
+                </li>
+            {% endfor %}
         </ul>
-        </div>
-        {% endautoescape %}
     </div>
 </div>
 
