commit 7c6479f5b0f4f30670763dcdf08d8ad2e9ed1ac7
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 20 09:05:03 2014 +0200

    Move team settings into organization settings

diff --git a/src/sentry/constants.py b/src/sentry/constants.py
index 62e6b9aadc..583e5285f7 100644
--- a/src/sentry/constants.py
+++ b/src/sentry/constants.py
@@ -147,6 +147,7 @@ MAX_CULPRIT_LENGTH = 200
 # which we don't want to worry about conflicts on.
 RESERVED_TEAM_SLUGS = (
     'admin', 'manage', 'login', 'account', 'register', 'api',
+    'organizations',
 )
 
 LOG_LEVELS = {
diff --git a/src/sentry/models/project.py b/src/sentry/models/project.py
index 01d3db1fd0..aa10546e7f 100644
--- a/src/sentry/models/project.py
+++ b/src/sentry/models/project.py
@@ -45,7 +45,7 @@ class Project(Model):
     public = models.BooleanField(default=False)
     date_added = models.DateTimeField(default=timezone.now)
     status = BoundedPositiveIntegerField(default=0, choices=(
-        (STATUS_VISIBLE, _('Visible')),
+        (STATUS_VISIBLE, _('Active')),
         (STATUS_HIDDEN, _('Hidden')),
     ), db_index=True)
     platform = models.CharField(max_length=32, choices=PLATFORM_CHOICES, null=True)
diff --git a/src/sentry/models/team.py b/src/sentry/models/team.py
index 4ca9805710..66e7360d83 100644
--- a/src/sentry/models/team.py
+++ b/src/sentry/models/team.py
@@ -36,7 +36,7 @@ class Team(Model):
     name = models.CharField(max_length=64)
     owner = models.ForeignKey(settings.AUTH_USER_MODEL)
     status = BoundedPositiveIntegerField(choices=(
-        (TeamStatus.VISIBLE, _('Visible')),
+        (TeamStatus.VISIBLE, _('Active')),
         (TeamStatus.PENDING_DELETION, _('Pending Deletion')),
         (TeamStatus.DELETION_IN_PROGRESS, _('Deletion in Progress')),
     ), default=TeamStatus.VISIBLE)
diff --git a/src/sentry/permissions.py b/src/sentry/permissions.py
index 3dbc89baba..45dc8c904d 100644
--- a/src/sentry/permissions.py
+++ b/src/sentry/permissions.py
@@ -13,6 +13,7 @@ from django.conf import settings
 from functools import wraps
 
 from sentry.constants import MEMBER_OWNER
+from sentry.models import OrganizationMemberType
 from sentry.plugins import plugins
 from sentry.utils.cache import cached_for_request
 
@@ -101,6 +102,28 @@ def can_set_public_projects(user):
     return True
 
 
+@requires_login
+def can_manage_org(user, organization):
+    if user.is_superuser:
+        return True
+
+    if organization.member_set.filter(user=user, type=OrganizationMemberType.ADMIN).exists():
+        return True
+
+    return False
+
+
+@requires_login
+def can_manage_team(user, team):
+    if can_manage_org(user, team.organization):
+        return True
+
+    if team.member_set.filter(user=user, type=MEMBER_OWNER).exists():
+        return True
+
+    return False
+
+
 @requires_login
 def can_add_team_member(user, team):
     # must be an owner of the team
diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index 5f6f46fe69..76620e4db2 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -668,13 +668,17 @@ h3 {
       }
     }
     .nav-list {
+      margin: 0 -29px 8px -30px;
+      li a {
+        padding: 5px 30px;
+      }
       li.nav-header {
         padding-left: 30px;
         padding-right: 30px;
       }
-      margin: 0 -29px 8px -30px;
-      li a {
-        padding: 5px 30px;
+      li.nav-header a {
+        padding: 0;
+        font-size: 11px;
       }
       li.active a {
         background-color: #56AFE8;
@@ -2070,6 +2074,10 @@ section.body .page-header:first-child {
     &.disabled, &[disabled] {
       background: #56AFE8;
     }
+
+    .caret {
+      border-top-color: #fff;
+    }
   }
 
   &.btn-danger {
@@ -2081,7 +2089,17 @@ section.body .page-header:first-child {
       border-color: darken(#bd362f, 5);
     }
   }
+}
 
+// Small
+.btn-small {
+  padding: @paddingSmall;
+  font-size: @fontSizeSmall;
+  .border-radius(@borderRadiusSmall);
+}
+.btn-small [class^="icon-"],
+.btn-small [class*=" icon-"] {
+  margin-top: 0;
 }
 
 section.body {
diff --git a/src/sentry/static/sentry/styles/global.min.css b/src/sentry/static/sentry/styles/global.min.css
index ff7bfede5a..67f3f0ae06 100644
--- a/src/sentry/static/sentry/styles/global.min.css
+++ b/src/sentry/static/sentry/styles/global.min.css
@@ -7164,12 +7164,16 @@ h3 {
 #content .sidebar .nav-list {
   margin: 0 -29px 8px -30px;
 }
+#content .sidebar .nav-list li a {
+  padding: 5px 30px;
+}
 #content .sidebar .nav-list li.nav-header {
   padding-left: 30px;
   padding-right: 30px;
 }
-#content .sidebar .nav-list li a {
-  padding: 5px 30px;
+#content .sidebar .nav-list li.nav-header a {
+  padding: 0;
+  font-size: 11px;
 }
 #content .sidebar .nav-list li.active a {
   background-color: #56AFE8;
@@ -8549,6 +8553,9 @@ section.body .page-header:first-child {
 .btn.btn-primary[disabled] {
   background: #56AFE8;
 }
+.btn.btn-primary .caret {
+  border-top-color: #fff;
+}
 .btn.btn-danger {
   background: #da4f49;
   color: #fff;
@@ -8558,6 +8565,17 @@ section.body .page-header:first-child {
   background: #d7433c;
   border-color: #a9302a;
 }
+.btn-small {
+  padding: 2px 10px;
+  font-size: 11.05px;
+  -webkit-border-radius: 3px;
+  -moz-border-radius: 3px;
+  border-radius: 3px;
+}
+.btn-small [class^="icon-"],
+.btn-small [class*=" icon-"] {
+  margin-top: 0;
+}
 section.body textarea,
 section.body input[type="text"],
 section.body input[type="password"],
diff --git a/src/sentry/static/sentry/styles/sentry.css b/src/sentry/static/sentry/styles/sentry.css
index ff7bfede5a..67f3f0ae06 100644
--- a/src/sentry/static/sentry/styles/sentry.css
+++ b/src/sentry/static/sentry/styles/sentry.css
@@ -7164,12 +7164,16 @@ h3 {
 #content .sidebar .nav-list {
   margin: 0 -29px 8px -30px;
 }
+#content .sidebar .nav-list li a {
+  padding: 5px 30px;
+}
 #content .sidebar .nav-list li.nav-header {
   padding-left: 30px;
   padding-right: 30px;
 }
-#content .sidebar .nav-list li a {
-  padding: 5px 30px;
+#content .sidebar .nav-list li.nav-header a {
+  padding: 0;
+  font-size: 11px;
 }
 #content .sidebar .nav-list li.active a {
   background-color: #56AFE8;
@@ -8549,6 +8553,9 @@ section.body .page-header:first-child {
 .btn.btn-primary[disabled] {
   background: #56AFE8;
 }
+.btn.btn-primary .caret {
+  border-top-color: #fff;
+}
 .btn.btn-danger {
   background: #da4f49;
   color: #fff;
@@ -8558,6 +8565,17 @@ section.body .page-header:first-child {
   background: #d7433c;
   border-color: #a9302a;
 }
+.btn-small {
+  padding: 2px 10px;
+  font-size: 11.05px;
+  -webkit-border-radius: 3px;
+  -moz-border-radius: 3px;
+  border-radius: 3px;
+}
+.btn-small [class^="icon-"],
+.btn-small [class*=" icon-"] {
+  margin-top: 0;
+}
 section.body textarea,
 section.body input[type="text"],
 section.body input[type="password"],
diff --git a/src/sentry/templates/sentry/bases/organization.html b/src/sentry/templates/sentry/bases/organization.html
index ee225dc2e2..249b32666c 100644
--- a/src/sentry/templates/sentry/bases/organization.html
+++ b/src/sentry/templates/sentry/bases/organization.html
@@ -1,23 +1,31 @@
-{% extends "sentry/layout.html" %}
+{% extends "sentry/bases/modal.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
 
-{% block bodyclass %}{% endblock %}
-{% block wrapperclass %}windowed{% endblock %}
+{% block bodyclass %}with-left-sidebar{% endblock %}
 
 {% block title %}{% trans "Organization Settings" %} | {{ block.super }}{% endblock %}
 
-{% block page_header %}
-    <ul class="nav nav-tabs">
-        <li{% block org_teams_nav %}{% endblock %}>
-            <a href="{% url 'sentry-organization-teams' organization.id %}">{% trans "Teams" %}</a>
-        </li>
+{% block sidebar %}
+    <ul class="nav nav-list">
+        <li class="nav-header">{% trans "Organization" %}</li>
         <li{% block org_settings_nav %}{% endblock %}>
-            <a href="{% url 'sentry-organization-settings' organization.id %}">{% trans "Settings" %}</a>
+            <a href="{% url 'sentry-organization-settings' organization.id %}">Basics</a>
         </li>
         <li{% block org_members_nav %}{% endblock %}>
-            <a href="{% url 'sentry-organization-members' organization.id %}">{% trans "Admins" %}</a>
+            <a href="{% url 'sentry-organization-members' organization.id %}">Admins</a>
+        </li>
+        <li class="divider"></li>
+        <li class="nav-header">
+            <a href="{% url 'sentry-new-team' organization.id %}"
+               class="pull-right">Add Team</a>
+            {% trans "Teams" %}
         </li>
+        {% for t, _ in TEAM_LIST %}
+            <li{% if t == team %} class="active"{% endif %}>
+                <a href="{% url 'sentry-manage-team' t.slug %}">{{ t.name }}</a>
+            </li>
+        {% endfor %}
     </ul>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/bases/team.html b/src/sentry/templates/sentry/bases/team.html
index 4e3842fce9..7da9e6d63a 100644
--- a/src/sentry/templates/sentry/bases/team.html
+++ b/src/sentry/templates/sentry/bases/team.html
@@ -1,26 +1,41 @@
-{% extends "sentry/layout.html" %}
+{% extends "sentry/bases/organization.html" %}
 
 {% load i18n %}
+{% load sentry_permissions %}
 
 {% block title %}{{ team.name }} | {{ block.super }}{% endblock %}
 
-{% block page_header %}
-    <div class="pull-right">
-        <a class="btn btn-primary" href="{% url 'sentry-new-project' team.slug %}">{% trans "Create a New Project" %}</a>
-    </div>
+{% block main %}
+    <section class="body">
+        <div class="pull-right btn-group">
+            <a class="btn btn-primary btn-small dropdown-toggle" data-toggle="dropdown">
+                <span class="caret"></span>
+            </a>
+            <ul class="dropdown-menu">
+                <li><a href="{% url 'sentry-new-project' team.slug %}">{% trans "New Project" %}</a></li>
+                {% if user|can_add_team_member:team %}
+                    <li><a href="{% url 'sentry-new-team-member' team.slug %}">{% trans "New Member" %}</a></li>
+                {% endif %}
+                <li><a href="{% url 'sentry-new-access-group' team.slug %}">{% trans "New Access Group" %}</a></li>
+            </ul>
+        </div>
 
-    <ul class="nav nav-tabs">
-        <li{% if SUBSECTION == 'settings' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-team' team.slug %}">{% trans "Settings" %}</a>
-        </li>
-        <li{% if SUBSECTION == 'projects' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-team-projects' team.slug %}">{% trans "Projects" %}</a>
-        </li>
-        <li{% if SUBSECTION == 'members' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-team-members' team.slug %}">{% trans "Members" %}</a>
-        </li>
-        <li{% if SUBSECTION == 'groups' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-access-groups' team.slug %}">{% trans "Access Groups" %}</a>
-        </li>
-    </ul>
+        <ul class="nav nav-tabs">
+            <li{% block team_settings_nav %}{% endblock %}>
+                <a href="{% url 'sentry-manage-team' team.slug %}">{% trans "Settings" %}</a>
+            </li>
+            <li{% block team_members_nav %}{% endblock %}>
+                <a href="{% url 'sentry-manage-team-members' team.slug %}">{% trans "Members" %}</a>
+            </li>
+            <li{% block team_projects_nav %}{% endblock %}>
+                <a href="{% url 'sentry-manage-team-projects' team.slug %}">{% trans "Projects" %}</a>
+            </li>
+            <li{% block team_accessgroups_nav %}{% endblock %}>
+                <a href="{% url 'sentry-manage-access-groups' team.slug %}">{% trans "Access Groups" %}</a>
+            </li>
+        </ul>
+
+        {% block inner %}
+        {% endblock %}
+    </section>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index d69d49e301..89b1097afb 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -1,6 +1,7 @@
 {% load i18n %}
 {% load sentry_helpers %}
 {% load static_compiler %}
+{% load sentry_permissions %}
 {% get_sentry_version %}
 <!DOCTYPE html>
 <html lang="en">
@@ -57,20 +58,28 @@
                 <div class="navbar navbar-inverse">
                     <div class="navbar-inner">
                         <div class="container">
-                            <a id="logo" href="{% url 'sentry' %}">Sentry</a>
-                            {% if team %}
+                            {% if organization %}
+                                <a id="logo" href="{% url 'sentry-organization-home' organization.id %}">Sentry</a>
+                            {% else %}
+                                <a id="logo" href="{% url 'sentry' %}">Sentry</a>
+                            {% endif %}
+                            {% if team or TEAM_LIST %}
                             <div id="team-banner">
                                 {% if TEAM_LIST %}
                                     <a class="dropdown-toggle" data-toggle="dropdown">
-                                        {{ team.name }}
-                                        {% if project %}
-                                            <small>{{ project.name }}</small>
+                                        {% if team %}
+                                            {{ team.name }}
+                                            {% if project %}
+                                                <small>{{ project.name }}</small>
+                                            {% endif %}
+                                        {% else %}
+                                            <small>{% trans "Select a project" %}</small>
                                         {% endif %}
                                         <span class="caret"></span>
                                     </a>
                                     <nav class="dropdown-menu">
                                         <!-- <input type="text" value="search by project name"> <a href="#" class="btn">New</a> -->
-                                        {% for t, p_list in TEAM_LIST|reorder_teams:team %}
+                                        {% for t, p_list in TEAM_LIST %}
                                             <h6><a href="{% url 'sentry' t.slug %}">{{ t.name }}</a></h6>
                                             <ul class="project-list">
                                                 {% for p in p_list %}
@@ -96,8 +105,10 @@
                             <ul class="nav pull-right">
                                 {% block account_nav %}
                                     {% if request.user.is_authenticated %}
-                                        {% if team and request.user|can_admin_team:team %}
-                                            <li><a href="{% url 'sentry-manage-team' team.slug %}">Team Settings</a></li>
+                                        {% if organization and request.user|can_manage_org:organization %}
+                                            <li>
+                                                <a href="{% url 'sentry-organization-settings' organization.id %}">Organization Settings</a>
+                                            </li>
                                         {% endif %}
                                         <li class="dropdown">
                                             <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img class="avatar" src="{% gravatar_url user.email size 20 %}"> <span class="caret"></span></a>
diff --git a/src/sentry/templates/sentry/organization-home.html b/src/sentry/templates/sentry/organization-home.html
new file mode 100644
index 0000000000..65d562a5b9
--- /dev/null
+++ b/src/sentry/templates/sentry/organization-home.html
@@ -0,0 +1,38 @@
+{% extends "sentry/bases/modal.html" %}
+
+{% load i18n %}
+
+{% block bodyclass %}team-index {{ block.super }}{% endblock %}
+
+{% block org_teams_nav %} class="active"{% endblock %}
+
+{% block main %}
+    <section class="body">
+        <ul class="team-list">
+            {% for team, project_list in team_list %}
+                <li>
+                    <div class="chart" data-api-url="{% url 'sentry-api-0-team-stats' team.id %}">
+                        <div class="sparkline">
+                            <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
+                            <span class="loading">{% trans "Loading historical data..." %}</span>
+                        </div>
+                    </div>
+                    <h3><a href="{% url 'sentry' team.slug %}">{{ team.name }}</a></h3>
+                    <ul>
+                        {% for project in project_list %}
+                            <li><a href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a></li>
+                        {% endfor %}
+                    </ul>
+                </li>
+            {% endfor %}
+        </ul>
+    </section>
+{% endblock %}
+
+{% block content_after %}
+    <script type="text/javascript">
+    $(function(){
+        new app.SelectTeamPage();
+    })
+    </script>
+{% endblock %}
diff --git a/src/sentry/templates/sentry/organization-members.html b/src/sentry/templates/sentry/organization-members.html
index 5b3c9bf0f0..a2c5197e82 100644
--- a/src/sentry/templates/sentry/organization-members.html
+++ b/src/sentry/templates/sentry/organization-members.html
@@ -2,6 +2,7 @@
 
 {% load crispy_forms_tags %}
 {% load i18n %}
+{% load sentry_helpers %}
 
 {% block title %}{% trans "Admins" %} | {{ block.super }}{% endblock %}
 
@@ -9,24 +10,25 @@
 
 {% block main %}
     <section class="body">
+        <div class="page-header">
+            <h2>Admins</h2>
+        </div>
+
+        <p>{% blocktrans %}Administrators of your organization gain slightly elevated permissions over individual team managers. They are given the ability to create new teams as well as managing all organization settings (including the list of admins).{% endblocktrans %}</p>
+
+        <br>
+
         <table class="table table-striped">
-            <colgroup>
-                <col>
-            </colgroup>
-            <thead>
+            {% for member in member_list %}
                 <tr>
-                    <th>{% trans "User" %}</th>
+                    <td width="20">
+                        <img class="avatar" src="{% gravatar_url member.user.email size 20 %}">
+                    </td>
+                    <td>
+                        {{ member.user.get_display_name }}
+                    </td>
                 </tr>
-            </thead>
-            <tbody>
-                {% for member in member_list %}
-                    <tr>
-                        <td>
-                            {{ member.user.get_display_name }}
-                        </td>
-                    </tr>
-                {% endfor %}
-            </tbody>
+            {% endfor %}
         </table>
     </section>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/organization-settings.html b/src/sentry/templates/sentry/organization-settings.html
index 85982f0815..0940a3e00e 100644
--- a/src/sentry/templates/sentry/organization-settings.html
+++ b/src/sentry/templates/sentry/organization-settings.html
@@ -8,7 +8,7 @@
 {% block main %}
     <section class="body">
         <div class="page-header">
-            <h2>{% trans "Organization Details" %}</h2>
+            <h2>{% trans "Details" %}</h2>
         </div>
         <form class="form-stacked" action="" method="post">
             {% csrf_token %}
diff --git a/src/sentry/templates/sentry/organization-teams.html b/src/sentry/templates/sentry/organization-teams.html
index d75ffed751..a3aadf5314 100644
--- a/src/sentry/templates/sentry/organization-teams.html
+++ b/src/sentry/templates/sentry/organization-teams.html
@@ -1,38 +1,37 @@
 {% extends "sentry/bases/organization.html" %}
 
+{% load crispy_forms_tags %}
 {% load i18n %}
 
-{% block bodyclass %}team-index {{ block.super }}{% endblock %}
+{% block title %}{% trans "Admins" %} | {{ block.super }}{% endblock %}
 
 {% block org_teams_nav %} class="active"{% endblock %}
 
 {% block main %}
     <section class="body">
-        <ul class="team-list">
-            {% for team, project_list in team_list %}
-                <li>
-                    <div class="chart" data-api-url="{% url 'sentry-api-0-team-stats' team.id %}">
-                        <div class="sparkline">
-                            <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
-                            <span class="loading">{% trans "Loading historical data..." %}</span>
-                        </div>
-                    </div>
-                    <h3><a href="{% url 'sentry' team.slug %}">{{ team.name }}</a></h3>
-                    <ul>
-                        {% for project in project_list %}
-                            <li><a href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a></li>
-                        {% endfor %}
-                    </ul>
-                </li>
-            {% endfor %}
-        </ul>
+        <table class="table table-striped">
+            <colgroup>
+                <col>
+                <col style="width:100px">
+            </colgroup>
+            <thead>
+                <tr>
+                    <th>{% trans "Team" %}</th>
+                    <th>{% trans "Status" %}</th>
+                </tr>
+            </thead>
+            <tbody>
+                {% for team in team_list %}
+                    <tr>
+                        <td>
+                            {{ team.name }}
+                        </td>
+                        <td>
+                            {{ team.get_status_display }}
+                        </td>
+                    </tr>
+                {% endfor %}
+            </tbody>
+        </table>
     </section>
 {% endblock %}
-
-{% block content_after %}
-    <script type="text/javascript">
-    $(function(){
-        new app.SelectTeamPage();
-    })
-    </script>
-{% endblock %}
diff --git a/src/sentry/templates/sentry/projects/base.html b/src/sentry/templates/sentry/projects/base.html
index c0ec39e8c4..8732041793 100644
--- a/src/sentry/templates/sentry/projects/base.html
+++ b/src/sentry/templates/sentry/projects/base.html
@@ -1,58 +1,3 @@
 {% extends "sentry/bases/team.html" %}
 
-{% load i18n %}
-
-{% block title %}{% trans "Project List" %} | {{ block.super }}{% endblock %}
-
-{% block heading %}
-    {% trans "Project List" %}
-{% endblock %}
-
 {% block bodyclass %}{% endblock %}
-
-{% block main %}
-    <section class="body">
-        {% if PROJECT_LIST %}
-            <p>{% trans "The following is a list of projects that you are a member of." %}</p>
-            <table class="table table-striped">
-                <colgroup>
-                    <col>
-                    <col style="width:100px;">
-                    <col style="width:150px;">
-                    <col style="width:100px;">
-                </colgroup>
-                <thead>
-                    <tr>
-                        <th>{% trans "Name" %}</th>
-                        <th style="text-align:center;">{% trans "Membership" %}</th>
-                        <th style="text-align:center;">{% trans "Owner" %}</th>
-                        <th style="text-align:center;">{% trans "Status" %}</th>
-                    </tr>
-                </thead>
-                <tbody>
-                    {% for project in PROJECT_LIST %}
-                        <tr>
-                            <td>
-                                <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}">{{ project.name }}</a><br/>
-                                {% if project.member_dsn %}
-                                    <small><code class="clippy">{{ project.member_dsn }}</code></small>
-                                {% endif %}
-                            </td>
-                            <td style="text-align:center;vertical-align:middle;">{{ project.member_type }}</td>
-                            <td style="text-align:center;vertical-align:middle;">
-                                {% if project.owner %}
-                                    {{ project.owner.username }}
-                                {% else %}
-                                    <em>{% trans "no owner" %}</em>
-                                {% endif %}
-                            </td>
-                            <td style="text-align:center;vertical-align:middle;">{{ project.get_status_display }}</td>
-                        </tr>
-                    {% endfor %}
-                </tbody>
-            </table>
-        {% else %}
-            <div class="alert alert-info">You do not have access to any projects. Would you like to <a href="{% url 'sentry-new-project' team.slug %}">create a new project</a>?</div>
-        {% endif %}
-    </section>
-{% endblock %}
diff --git a/src/sentry/templates/sentry/projects/list.html b/src/sentry/templates/sentry/projects/list.html
deleted file mode 100644
index 9c104c9c2d..0000000000
--- a/src/sentry/templates/sentry/projects/list.html
+++ /dev/null
@@ -1,56 +0,0 @@
-{% extends "sentry/projects/base.html" %}
-
-{% load i18n %}
-
-{% block title %}{% trans "Project List" %} | {{ block.super }}{% endblock %}
-
-{% block heading %}
-    {% trans "Project List" %}
-{% endblock %}
-
-{% block main %}
-    <section class="body">
-        {% if PROJECT_LIST %}
-            <p>{% trans "The following is a list of projects that you are a member of." %}</p>
-            <table class="table table-striped">
-                <colgroup>
-                    <col>
-                    <col style="width:100px;">
-                    <col style="width:150px;">
-                    <col style="width:100px;">
-                </colgroup>
-                <thead>
-                    <tr>
-                        <th>{% trans "Name" %}</th>
-                        <th style="text-align:center;">{% trans "Membership" %}</th>
-                        <th style="text-align:center;">{% trans "Owner" %}</th>
-                        <th style="text-align:center;">{% trans "Status" %}</th>
-                    </tr>
-                </thead>
-                <tbody>
-                    {% for project in PROJECT_LIST %}
-                        <tr>
-                            <td>
-                                <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}">{{ project.name }}</a> <small>(<a href="{% url 'sentry-stream' project.team.slug project.slug %}">{% trans "Stream" %}</a>)</small><br/>
-                                {% if project.member_dsn %}
-                                    <small><code class="clippy">{{ project.member_dsn }}</code></small>
-                                {% endif %}
-                            </td>
-                            <td style="text-align:center;vertical-align:middle;">{{ project.member_type }}</td>
-                            <td style="text-align:center;vertical-align:middle;">
-                                {% if project.owner %}
-                                    {{ project.owner.username }}
-                                {% else %}
-                                    <em>{% trans "no owner" %}</em>
-                                {% endif %}
-                            </td>
-                            <td style="text-align:center;vertical-align:middle;">{{ project.get_status_display }}</td>
-                        </tr>
-                    {% endfor %}
-                </tbody>
-            </table>
-        {% else %}
-            <div class="alert alert-info">{% trans "You do not have access to any projects." %}</div>
-        {% endif %}
-    </section>
-{% endblock %}
diff --git a/src/sentry/templates/sentry/teams/groups/list.html b/src/sentry/templates/sentry/teams/groups/list.html
index 191ce075f9..e7bd756a46 100644
--- a/src/sentry/templates/sentry/teams/groups/list.html
+++ b/src/sentry/templates/sentry/teams/groups/list.html
@@ -1,22 +1,13 @@
-{% extends "sentry/teams/manage.html" %}
+{% extends "sentry/bases/team.html" %}
 
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block sidebar %}
-    <h6>{% trans "About Access Groups" %}</h6>
-    <p>{% blocktrans %}This page lists access groups within your team. An access group is an alternative to using team-wide membership, which allows you to restrict access to only specific projects.{% endblocktrans %}</p>
-{% endblock %}
+{% block title %}{% trans "Access Groups" %} | {{ block.super }}{% endblock %}
 
-{% block bodyclass %} with-sidebar{% endblock %}
+{% block team_accessgroups_nav %} class="active"{% endblock %}
 
 {% block inner %}
-    <div class="page-header">
-        {% if can_add_group %}
-            <a href="{% url 'sentry-new-access-group' team.slug %}" class="btn pull-right btn-primary">{% trans "New Access Group" %}</a>
-        {% endif %}
-        <h2>{% trans "Access Groups" %}</h2>
-    </div>
     {% if group_list %}
         <table class="table table-striped">
             <colgroup>
diff --git a/src/sentry/templates/sentry/teams/manage.html b/src/sentry/templates/sentry/teams/manage.html
index 17192f4f83..5bb56bef37 100644
--- a/src/sentry/templates/sentry/teams/manage.html
+++ b/src/sentry/templates/sentry/teams/manage.html
@@ -7,52 +7,45 @@
 
 {% block title %}{% trans "Settings" %} | {{ block.super }}{% endblock %}
 
-{% block bodyclass %}{% endblock %}
-
-{% block main %}
-    <section class="body">
-        {% block inner %}
-            <div class="page-header">
-                <h2>{% trans "Team Details" %}</h2>
-            </div>
-            <form class="form-stacked" action="" method="post">
-                {% csrf_token %}
-
-                {% if form.errors %}
-                    <div class="alert alert-error">{% trans "Please correct the errors below." %}</div>
-                {% endif %}
+{% block team_settings_nav %} class="active"{% endblock %}
 
-                {{ form|as_crispy_errors }}
-
-                <fieldset>
-                    {% for field in form %}
-                        {% if field.name != 'owner' %}
-                            {{ field|as_crispy_field }}
-                        {% endif %}
-                    {% endfor %}
-                </fieldset>
-
-                {% if form.owner %}
-                    <fieldset>
-                        <p>If you wish to transfer ownership of this project, enter the new owner's username:</p>
-                        {{ form.owner|as_crispy_field }}
-                    </fieldset>
-                {% endif %}
+{% block inner %}
+    <form class="form-stacked" action="" method="post">
+        {% csrf_token %}
+
+        {% if form.errors %}
+            <div class="alert alert-error">{% trans "Please correct the errors below." %}</div>
+        {% endif %}
 
-                <fieldset class="form-actions">
-                    <button type="submit" class="btn btn-primary">{% trans "Save Changes" %}</button>
-                    {% if can_remove_team %}
-                        <a href="{% url 'sentry-remove-team' team.slug %}" class="btn btn-danger">{% trans "Remove Team" %}</a>
-                    {% else %}
-                        <div class="pull-right note">{% trans "You cannot remove this team because it has projects assigned to it" %}</div>
-                    {% endif %}
-                </fieldset>
-            </form>
-        {% endblock %}
-    </section>
-
-    <script type="text/javascript">
-    new app.TeamDetailsPage();
-    </script>
+        {{ form|as_crispy_errors }}
+
+        <fieldset>
+            {% for field in form %}
+                {% if field.name != 'owner' %}
+                    {{ field|as_crispy_field }}
+                {% endif %}
+            {% endfor %}
+        </fieldset>
+
+        {% if form.owner %}
+            <fieldset>
+                <p>If you wish to transfer ownership of this project, enter the new owner's username:</p>
+                {{ form.owner|as_crispy_field }}
+            </fieldset>
+        {% endif %}
+
+        <fieldset class="form-actions">
+            <button type="submit" class="btn btn-primary">{% trans "Save Changes" %}</button>
+            {% if can_remove_team %}
+                <a href="{% url 'sentry-remove-team' team.slug %}" class="btn btn-danger">{% trans "Remove Team" %}</a>
+            {% else %}
+                <div class="pull-right note">{% trans "You cannot remove this team because it has projects assigned to it" %}</div>
+            {% endif %}
+        </fieldset>
+    </form>
+
+<script type="text/javascript">
+new app.TeamDetailsPage();
+</script>
 
 {% endblock %}
diff --git a/src/sentry/templates/sentry/teams/members/index.html b/src/sentry/templates/sentry/teams/members/index.html
index 94767c265b..8806da7845 100644
--- a/src/sentry/templates/sentry/teams/members/index.html
+++ b/src/sentry/templates/sentry/teams/members/index.html
@@ -1,24 +1,13 @@
-{% extends "sentry/teams/manage.html" %}
+{% extends "sentry/bases/team.html" %}
 
 {% load i18n %}
 {% load sentry_helpers %}
-{% load sentry_permissions %}
 
-{% block bodyclass %} with-sidebar{% endblock %}
+{% block title %}{% trans "Members" %} | {{ block.super }}{% endblock %}
 
-{% block sidebar %}
-    <h6>{% trans "About Memberships" %}</h6>
-    {% url 'sentry-manage-access-groups' team.slug as link %}
-    <p>{% blocktrans %}This page lists team-wide memberships whom have access to all projects owned by this team. If you wish to add memberships bound to individual projects, you can do so with <a href="{{ link }}">Access Groups</a>.{% endblocktrans %}</p>
-{% endblock %}
+{% block team_members_nav %} class="active"{% endblock %}
 
 {% block inner %}
-    <div class="page-header">
-        {% if user|can_add_team_member:team %}
-            <a href="{% url 'sentry-new-team-member' team.slug %}" class="btn pull-right btn-primary">{% trans "New Member" %}</a>
-        {% endif %}
-        <h2>{% trans "Members" %}</h2>
-    </div>
     <table class="table table-striped">
         <colgroup>
             <col/>
@@ -38,7 +27,9 @@
                     <tr>
                         <td>
                             {% if user.first_name %}{{ user.first_name }} &mdash; {% endif %}{{ user.username }}</a><br>
-                            {{ user.email }}
+                            {% if user.email != user.username %}
+                                {{ user.email }}
+                            {% endif %}
                         </td>
                         <td style="text-align:center;">
                             {% trans "Owner" %}
diff --git a/src/sentry/templates/sentry/teams/new.html b/src/sentry/templates/sentry/teams/new.html
index da3d81904b..217cac577c 100644
--- a/src/sentry/templates/sentry/teams/new.html
+++ b/src/sentry/templates/sentry/teams/new.html
@@ -1,4 +1,4 @@
-{% extends "sentry/teams/base.html" %}
+{% extends "sentry/bases/organization.html" %}
 
 {% load crispy_forms_tags %}
 {% load i18n %}
@@ -11,7 +11,7 @@
             <h2>{% trans "Create a New Team" %}</h2>
         </div>
 
-        <p>{% blocktrans %}Teams in Sentry represent a collection of users and projects. They're the top level component
+        <p>{% blocktrans %}Teams in Sentry represent a collection of users and projects. They're the the primary component
            of your organization allowing you to control access and scope of events.{% endblocktrans %}</p>
 
         <br>
diff --git a/src/sentry/templates/sentry/teams/projects/index.html b/src/sentry/templates/sentry/teams/projects/index.html
index 5feb3342d8..f4ba933fe7 100644
--- a/src/sentry/templates/sentry/teams/projects/index.html
+++ b/src/sentry/templates/sentry/teams/projects/index.html
@@ -1,24 +1,24 @@
-{% extends "sentry/teams/manage.html" %}
+{% extends "sentry/bases/team.html" %}
 
 {% load i18n %}
 {% load sentry_helpers %}
 
+{% block title %}{% trans "Projects" %} | {{ block.super }}{% endblock %}
+
+{% block team_projects_nav %} class="active"{% endblock %}
+
 {% block inner %}
-    <div class="page-header">
-        {% if can_add_project %}
-            <a href="{% url 'sentry-new-project' team.slug %}" class="btn pull-right btn-primary">{% trans "New Project" %}</a>
-        {% endif %}
-        <h2>{% trans "Projects" %}</h2>
-    </div>
     {% if project_list %}
         <table class="table table-striped">
             <colgroup>
                 <col/>
+                <col width="100px"/>
                 <col width="150px"/>
             </colgroup>
             <thead>
                 <tr>
                     <th>{% trans "Project" %}</th>
+                    <th style="text-align:center;">{% trans "Status" %}</th>
                     <th style="text-align:center;">{% trans "Date Added" %}</th>
                 </tr>
             </thead>
@@ -27,12 +27,11 @@
                     <tr>
                         <td>
                             <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}">{{ project.name }}</a>
-                            {% if project.status == STATUS_HIDDEN %}
-                                (pending deletion)
-                            {% endif %}<br>
-                             {{ team.slug }}/{{ project.slug }}
                         </td>
-                        <td style="text-align:center;">
+                        <td style="text-align:center">
+                            {{ project.get_status_display }}
+                        </td>
+                        <td style="text-align:center">
                             {{ project.date_added|timesince }}
                         </td>
                     </tr>
diff --git a/src/sentry/templatetags/sentry_helpers.py b/src/sentry/templatetags/sentry_helpers.py
index f9de186c5d..c66dc3793b 100644
--- a/src/sentry/templatetags/sentry_helpers.py
+++ b/src/sentry/templatetags/sentry_helpers.py
@@ -458,17 +458,6 @@ def recent_alerts(context, project, asvar):
     return ''
 
 
-@register.filter
-def reorder_teams(team_list, team):
-    pending = []
-    for t, p_list in team_list:
-        if t == team:
-            pending.insert(0, (t, p_list))
-        else:
-            pending.append((t, p_list))
-    return pending
-
-
 @register.filter
 def urlquote(value, safe=''):
     return quote(value.encode('utf8'), safe)
diff --git a/src/sentry/templatetags/sentry_permissions.py b/src/sentry/templatetags/sentry_permissions.py
index 45fa46baed..fc98c3f461 100644
--- a/src/sentry/templatetags/sentry_permissions.py
+++ b/src/sentry/templatetags/sentry_permissions.py
@@ -9,14 +9,19 @@ from __future__ import absolute_import
 
 from django import template
 
+from sentry.permissions import (
+    can_create_teams, can_create_projects, can_remove_team, can_remove_project,
+    can_add_team_member, can_manage_team, can_manage_org
+)
+
 register = template.Library()
 
 # TODO: Django doesn't seem to introspect function args correctly for filters
 # so we can't just register.filter(can_add_team_member)
-
-
-@register.filter
-def can_add_team_member(user, team):
-    from sentry.permissions import can_add_team_member
-
-    return can_add_team_member(user, team)
+register.filter('can_create_teams')(lambda a, b: can_create_teams)
+register.filter('can_create_projects')(lambda a, b: can_create_projects)
+register.filter('can_add_team_member')(lambda a, b: can_add_team_member(a, b))
+register.filter('can_manage_team')(lambda a, b: can_manage_team(a, b))
+register.filter('can_manage_org')(lambda a, b: can_manage_org(a, b))
+register.filter('can_remove_team')(lambda a, b: can_remove_team)
+register.filter('can_remove_project')(lambda a, b: can_remove_project)
diff --git a/src/sentry/web/frontend/base.py b/src/sentry/web/frontend/base.py
index 3869398fb8..d8b311f75a 100644
--- a/src/sentry/web/frontend/base.py
+++ b/src/sentry/web/frontend/base.py
@@ -125,6 +125,13 @@ class BaseView(View, OrganizationMixin):
 
         return render_to_response(template, default_context, self.request)
 
+    def get_team_list(self, user, organization):
+        return Team.objects.get_for_user(
+            organization=organization,
+            user=user,
+            with_projects=True,
+        ).values()
+
 
 class OrganizationView(BaseView):
     """
@@ -138,6 +145,8 @@ class OrganizationView(BaseView):
     def get_context_data(self, request, organization, **kwargs):
         context = super(OrganizationView, self).get_context_data(request)
         context['organization'] = organization
+        context['TEAM_LIST'] = self.get_team_list(request.user, organization)
+
         return context
 
     def dispatch(self, request, organization_id=None, *args, **kwargs):
@@ -179,6 +188,7 @@ class TeamView(BaseView):
         context = super(TeamView, self).get_context_data(request)
         context['organization'] = organization
         context['team'] = team
+        context['TEAM_LIST'] = self.get_team_list(request.user, organization)
         return context
 
     def dispatch(self, request, team_slug, *args, **kwargs):
@@ -219,6 +229,8 @@ class ProjectView(BaseView):
         context['organization'] = organization
         context['project'] = project
         context['team'] = team
+        context['TEAM_LIST'] = self.get_team_list(request.user, organization)
+
         return context
 
     def dispatch(self, request, team_slug, project_slug, *args, **kwargs):
diff --git a/src/sentry/web/frontend/home.py b/src/sentry/web/frontend/home.py
index bd2df789da..8d977871d0 100644
--- a/src/sentry/web/frontend/home.py
+++ b/src/sentry/web/frontend/home.py
@@ -10,8 +10,5 @@ class HomeView(BaseView):
     def get(self, request):
         # TODO(dcramer): deal with no orgs
         organization = self.get_active_organization(request)
-        url = reverse('sentry-organization-teams', args=[organization.id])
+        url = reverse('sentry-organization-home', args=[organization.id])
         return HttpResponseRedirect(url)
-
-
-
diff --git a/src/sentry/web/frontend/organization_home.py b/src/sentry/web/frontend/organization_home.py
new file mode 100644
index 0000000000..6dfba8b9d0
--- /dev/null
+++ b/src/sentry/web/frontend/organization_home.py
@@ -0,0 +1,19 @@
+from __future__ import absolute_import
+
+from sentry.models import Team
+from sentry.web.frontend.base import OrganizationView
+
+
+class OrganizationHomeView(OrganizationView):
+    def get(self, request, organization):
+        team_list = Team.objects.get_for_user(
+            organization=organization,
+            user=request.user,
+            with_projects=True,
+        ).values()
+
+        context = {
+            'team_list': team_list,
+        }
+
+        return self.respond('sentry/organization-home.html', context)
diff --git a/src/sentry/web/frontend/organization_teams.py b/src/sentry/web/frontend/organization_teams.py
index e203b48c36..620398adca 100644
--- a/src/sentry/web/frontend/organization_teams.py
+++ b/src/sentry/web/frontend/organization_teams.py
@@ -11,7 +11,6 @@ class OrganizationTeamsView(OrganizationView):
         team_list = Team.objects.get_for_user(
             organization=organization,
             user=request.user,
-            with_projects=True,
         ).values()
 
         context = {
diff --git a/src/sentry/web/frontend/team_members.py b/src/sentry/web/frontend/team_members.py
new file mode 100644
index 0000000000..c1deb8d049
--- /dev/null
+++ b/src/sentry/web/frontend/team_members.py
@@ -0,0 +1,33 @@
+from __future__ import absolute_import
+
+from django.core.urlresolvers import reverse
+from django.http import HttpResponseRedirect
+
+from sentry.models import TeamMemberType
+from sentry.plugins import plugins
+from sentry.web.frontend.base import TeamView
+
+
+class TeamMembersView(TeamView):
+    required_access = TeamMemberType.MEMBER
+
+    def get(self, request, organization, team):
+        result = plugins.first('has_perm', request.user, 'edit_team', team)
+        if result is False and not request.user.is_superuser:
+            return HttpResponseRedirect(reverse('sentry'))
+
+        member_list = [
+            (pm, pm.user)
+            for pm in team.member_set.select_related('user').order_by('user__username')
+        ]
+        pending_member_list = [
+            (pm, pm.email)
+            for pm in team.pending_member_set.all().order_by('email')
+        ]
+
+        context = {
+            'member_list': member_list,
+            'pending_member_list': pending_member_list,
+        }
+
+        return self.respond('sentry/teams/members/index.html', context)
diff --git a/src/sentry/web/frontend/manage_team.py b/src/sentry/web/frontend/team_settings.py
similarity index 94%
rename from src/sentry/web/frontend/manage_team.py
rename to src/sentry/web/frontend/team_settings.py
index 15393acd9e..68effdbdec 100644
--- a/src/sentry/web/frontend/manage_team.py
+++ b/src/sentry/web/frontend/team_settings.py
@@ -34,14 +34,12 @@ class EditTeamAdminForm(EditTeamForm):
         return value
 
 
-class ManageTeamView(TeamView):
+class TeamSettingsView(TeamView):
     required_access = TeamMemberType.ADMIN
 
     def get_default_context(self, request, **kwargs):
-        context = super(ManageTeamView, self).get_default_context(request, **kwargs)
+        context = super(TeamSettingsView, self).get_default_context(request, **kwargs)
         context.update({
-            'page': 'details',
-            'SUBSECTION': 'settings',
             'can_remove_team': can_remove_team(request.user, kwargs['team']),
         })
         return context
diff --git a/src/sentry/web/helpers.py b/src/sentry/web/helpers.py
index 64fe2d5949..fe5d5c694a 100644
--- a/src/sentry/web/helpers.py
+++ b/src/sentry/web/helpers.py
@@ -123,13 +123,6 @@ def get_default_context(request, existing_context=None, team=None):
                 with_projects=True,
             ).values()
 
-        if not existing_context or 'TEAM_LIST' in existing_context and 'PROJECT_LIST' not in existing_context:
-            # HACK:
-            for t, p_list in context['TEAM_LIST']:
-                if t == team:
-                    context['PROJECT_LIST'] = p_list
-                    break
-
     return context
 
 
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 7da438a3b5..971a0e0edb 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -35,12 +35,14 @@ import sentry.web.frontend.projects.tags
 __all__ = ('urlpatterns',)
 
 from sentry.web.frontend.home import HomeView
+from sentry.web.frontend.organization_home import OrganizationHomeView
 from sentry.web.frontend.organization_members import OrganizationMembersView
 from sentry.web.frontend.organization_settings import OrganizationSettingsView
 from sentry.web.frontend.organization_teams import OrganizationTeamsView
 from sentry.web.frontend.create_team import CreateTeamView
-from sentry.web.frontend.manage_team import ManageTeamView
 from sentry.web.frontend.remove_team import RemoveTeamView
+from sentry.web.frontend.team_members import TeamMembersView
+from sentry.web.frontend.team_settings import TeamSettingsView
 
 
 def init_all_applications():
@@ -109,6 +111,8 @@ urlpatterns += patterns('',
     url(r'^account/settings/social/', include('social_auth.urls')),
 
     # Organizations
+    url(r'^organizations/(?P<organization_id>\d+)/$', OrganizationHomeView.as_view(),
+        name='sentry-organization-home'),
     url(r'^organizations/(?P<organization_id>\d+)/members/$', OrganizationMembersView.as_view(),
         name='sentry-organization-members'),
     url(r'^organizations/(?P<organization_id>\d+)/settings/$', OrganizationSettingsView.as_view(),
@@ -119,7 +123,7 @@ urlpatterns += patterns('',
         name='sentry-new-team'),
 
     # Settings - Teams
-    url(r'^account/teams/(?P<team_slug>[\w_-]+)/settings/$', ManageTeamView.as_view(),
+    url(r'^account/teams/(?P<team_slug>[\w_-]+)/settings/$', TeamSettingsView.as_view(),
         name='sentry-manage-team'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/remove/$', RemoveTeamView.as_view(),
         name='sentry-remove-team'),
@@ -139,7 +143,7 @@ urlpatterns += patterns('',
         name='sentry-access-group-projects'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/groups/(?P<group_id>\d+)/projects/(?P<project_id>\d+)/remove/$',
         teams.remove_access_group_project, name='sentry-remove-access-group-project'),
-    url(r'^account/teams/(?P<team_slug>[\w_-]+)/members/$', teams.manage_team_members,
+    url(r'^account/teams/(?P<team_slug>[\w_-]+)/members/$', TeamMembersView.as_view(),
         name='sentry-manage-team-members'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/members/new/$', teams.new_team_member,
         name='sentry-new-team-member'),
