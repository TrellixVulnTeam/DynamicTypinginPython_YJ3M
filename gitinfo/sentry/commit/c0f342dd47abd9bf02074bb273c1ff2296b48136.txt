commit c0f342dd47abd9bf02074bb273c1ff2296b48136
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 28 11:44:05 2016 -0400

    Inform user of SDK updates (#3826)
    
    * Inform user of SDK updates
    
    @getsentry/ui

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 5c4259fad8..f8470a1b66 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -1012,3 +1012,20 @@ SERVER_EMAIL = DEAD
 EMAIL_SUBJECT_PREFIX = DEAD
 
 SUDO_URL = 'sentry-sudo'
+
+# TODO(dcramer): move this to getsentry.com so it can be automated
+SDK_VERSIONS = {
+    'raven-js': '3.3.0',
+    'raven-python': '5.23.0',
+}
+
+SDK_URLS = {
+    'raven-js': 'https://docs.getsentry.com/hosted/clients/javascript/',
+    'raven-python': 'https://docs.getsentry.com/hosted/clients/python/',
+    'raven-swift': 'https://docs.getsentry.com/hosted/clients/cocoa/',
+}
+
+DEPRECATED_SDKS = {
+    # sdk name => new sdk name
+    'raven-objc': 'sentry-swift',
+}
diff --git a/src/sentry/interfaces/sdk.py b/src/sentry/interfaces/sdk.py
index 71918d2ecf..f5e3ee6718 100644
--- a/src/sentry/interfaces/sdk.py
+++ b/src/sentry/interfaces/sdk.py
@@ -2,6 +2,9 @@ from __future__ import absolute_import
 
 __all__ = ('Sdk',)
 
+from distutils.version import StrictVersion
+from django.conf import settings
+
 from sentry.interfaces.base import Interface, InterfaceValidationError
 from sentry.utils.safe import trim
 
@@ -33,3 +36,26 @@ class Sdk(Interface):
 
     def get_path(self):
         return 'sdk'
+
+    def get_api_context(self):
+        newest_version = settings.SDK_VERSIONS.get(self.name)
+        newest_name = settings.DEPRECATED_SDKS.get(self.name, self.name)
+        if newest_version is not None:
+            is_newer = (
+                newest_name != self.name or
+                StrictVersion(newest_version) > StrictVersion(self.version)
+            )
+        else:
+            is_newer = newest_name != self.name
+
+        return {
+            'name': self.name,
+            'version': self.version,
+            'upstream': {
+                'name': newest_name,
+                # when this is correct we can make it available
+                # 'version': newest_version,
+                'isNewer': is_newer,
+                'url': settings.SDK_URLS.get(newest_name),
+            },
+        }
diff --git a/src/sentry/static/sentry/app/components/events/eventEntries.jsx b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
index f028a50202..2ca7f93df0 100644
--- a/src/sentry/static/sentry/app/components/events/eventEntries.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
@@ -115,6 +115,15 @@ const EventEntries = React.createClass({
             group={group}
             event={evt} />
         }
+        {!utils.objectIsEmpty(evt.sdk) && evt.sdk.upstream.isNewer &&
+          <div className="alert-block alert-info box" style={{padding: '5px 20px'}}>
+            {t('This event was reported with an old version of the %s SDK.', evt.platform)}
+            {evt.sdk.upstream.url &&
+              <a href={evt.sdk.upstream.url}
+                 style={{marginLeft: 10}}>{t('Learn More')}</a>
+            }
+          </div>
+        }
         {hasContextSummary &&
           <EventContextSummary
             group={group}
