commit 3b40b44f8bced7611f9a2cf7d451298e07c9c6f8
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Sep 29 19:44:04 2014 -0700

    More perf improvements to tags

diff --git a/src/sentry/static/sentry/scripts/app.js b/src/sentry/static/sentry/scripts/app.js
index 2bb48b24d8..9dcdb4ba1d 100644
--- a/src/sentry/static/sentry/scripts/app.js
+++ b/src/sentry/static/sentry/scripts/app.js
@@ -324,6 +324,10 @@
                 var $widget = $(this);
                 $.ajax({
                     url: $widget.data('url'),
+                    error: function() {
+                        $widget.find('.loading').remove();
+                        $widget.append($('<li class="error">Unable to load tag information</li>'));
+                    },
                     success: function(data) {
                         var total = data.total,
                             eTagName = encodeURIComponent(data.name);
diff --git a/src/sentry/templates/sentry/plugins/bases/tag/widget.html b/src/sentry/templates/sentry/plugins/bases/tag/widget.html
index 3184159332..6035dd08f6 100644
--- a/src/sentry/templates/sentry/plugins/bases/tag/widget.html
+++ b/src/sentry/templates/sentry/plugins/bases/tag/widget.html
@@ -1,10 +1,8 @@
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% if has_tags %}
-    <ul class="nav nav-list counted-list tag-widget"
-        data-url="{% url 'sentry-api-group-tags' group.team.slug group.project.slug group.id tag_name %}">
-        <li class="nav-header">{{ title }}</li>
-        <li class="loading">Loading...</li>
-    </ul>
-{% endif %}
+<ul class="nav nav-list counted-list tag-widget"
+    data-url="{% url 'sentry-api-group-tags' group.team.slug group.project.slug group.id tag_name %}">
+    <li class="nav-header">{{ title }}</li>
+    <li class="loading">Loading...</li>
+</ul>
diff --git a/src/sentry/templatetags/sentry_helpers.py b/src/sentry/templatetags/sentry_helpers.py
index 8cc0be5718..291d3d06cc 100644
--- a/src/sentry/templatetags/sentry_helpers.py
+++ b/src/sentry/templatetags/sentry_helpers.py
@@ -32,7 +32,7 @@ from six.moves import range
 
 from sentry import options
 from sentry.constants import STATUS_MUTED, EVENTS_PER_PAGE, MEMBER_OWNER
-from sentry.models import Team, GroupTagValue
+from sentry.models import Team
 from sentry.web.helpers import group_is_public
 from sentry.utils import to_unicode
 from sentry.utils.avatar import get_gravatar_url
@@ -349,16 +349,9 @@ def with_metadata(group_list, request):
 def render_tag_widget(group, tag):
     cutoff = timezone.now() - timedelta(days=7)
 
-    has_tags = GroupTagValue.objects.filter(
-        group=group,
-        key=tag,
-        last_seen__gte=cutoff,
-    ).exists()
-
     return {
         'title': tag.replace('_', ' ').title(),
         'tag_name': tag,
-        'has_tags': has_tags,
         'group': group,
     }
 
