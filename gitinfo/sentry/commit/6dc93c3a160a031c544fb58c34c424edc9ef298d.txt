commit 6dc93c3a160a031c544fb58c34c424edc9ef298d
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jul 20 11:53:18 2015 +0200

    Optional expires_in value

diff --git a/src/sentry/auth/providers/oauth2.py b/src/sentry/auth/providers/oauth2.py
index 1ba3bd5089..54f4c50c13 100644
--- a/src/sentry/auth/providers/oauth2.py
+++ b/src/sentry/auth/providers/oauth2.py
@@ -159,8 +159,9 @@ class OAuth2Provider(Provider):
         data = {
             'access_token': payload['access_token'],
             'token_type': payload['token_type'],
-            'expires': time() + payload['expires_in'],
         }
+        if 'expires_in' in payload:
+            data['expires'] = time() + payload['expires_in']
         if 'refresh_token' in payload:
             data['refresh_token'] = payload['refresh_token']
         return data
