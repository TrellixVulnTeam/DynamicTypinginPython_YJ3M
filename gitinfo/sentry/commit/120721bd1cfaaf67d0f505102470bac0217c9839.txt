commit 120721bd1cfaaf67d0f505102470bac0217c9839
Author: Jess MacQueen <jess@getsentry.com>
Date:   Mon Dec 4 11:07:46 2017 -0800

    fix(user reports): Remove calls to unecessary cleanup task

diff --git a/src/sentry/api/endpoints/project_user_reports.py b/src/sentry/api/endpoints/project_user_reports.py
index 304155fb14..4639adb164 100644
--- a/src/sentry/api/endpoints/project_user_reports.py
+++ b/src/sentry/api/endpoints/project_user_reports.py
@@ -12,7 +12,6 @@ from sentry.api.serializers import serialize, ProjectUserReportSerializer
 from sentry.api.paginator import DateTimePaginator
 from sentry.models import (Event, EventUser, Group, GroupStatus, UserReport)
 from sentry.signals import user_feedback_received
-from sentry.tasks.user_reports import backfill_group
 from sentry.utils.apidocs import scenario, attach_scenarios
 
 
@@ -132,14 +131,6 @@ class ProjectUserReportsEndpoint(ProjectEndpoint):
             )
             report = existing_report
 
-        if report.group_id is None:
-            backfill_group.apply_async(
-                kwargs={
-                    'report_id': report.id,
-                },
-                countdown=30,
-            )
-
         user_feedback_received.send(project=report.project, group=report.group, sender=self)
 
         return Response(serialize(report, request.user, ProjectUserReportSerializer()))
diff --git a/src/sentry/web/frontend/error_page_embed.py b/src/sentry/web/frontend/error_page_embed.py
index d2420d579f..8973a5e558 100644
--- a/src/sentry/web/frontend/error_page_embed.py
+++ b/src/sentry/web/frontend/error_page_embed.py
@@ -15,7 +15,6 @@ from django.views.decorators.csrf import csrf_exempt
 from sentry.models import (Group, ProjectKey, ProjectOption, UserReport)
 from sentry.web.helpers import render_to_response
 from sentry.signals import user_feedback_received
-from sentry.tasks.user_reports import backfill_group
 from sentry.utils import json
 from sentry.utils.http import is_valid_origin, origin_from_request
 from sentry.utils.validators import is_event_id
@@ -143,14 +142,6 @@ class ErrorPageEmbedView(View):
                     date_added=timezone.now(),
                 )
 
-            if report.group_id is None:
-                backfill_group.apply_async(
-                    kwargs={
-                        'report_id': report.id,
-                    },
-                    countdown=30,
-                )
-
             user_feedback_received.send(project=report.project, group=report.group, sender=self)
 
             return self._json_response(request)
diff --git a/tests/sentry/api/endpoints/test_project_user_reports.py b/tests/sentry/api/endpoints/test_project_user_reports.py
index 25d77b9077..e4b38e670b 100644
--- a/tests/sentry/api/endpoints/test_project_user_reports.py
+++ b/tests/sentry/api/endpoints/test_project_user_reports.py
@@ -1,8 +1,6 @@
 from __future__ import absolute_import
 
-import mock
 import six
-import uuid
 
 from sentry.testutils import APITestCase
 from sentry.models import EventUser, GroupStatus, UserReport
@@ -216,32 +214,3 @@ class CreateProjectUserReportTest(APITestCase):
 
         euser = EventUser.objects.get(id=euser.id)
         assert euser.name == 'Foo Bar'
-
-    @mock.patch('sentry.api.endpoints.project_user_reports.backfill_group')
-    def test_backfill_group_called(self, mock_backfill_group):
-        self.login_as(user=self.user)
-        project = self.create_project()
-
-        url = '/api/0/projects/{}/{}/user-feedback/'.format(
-            project.organization.slug,
-            project.slug,
-        )
-
-        response = self.client.post(
-            url,
-            data={
-                'event_id': uuid.uuid4().hex,
-                'email': 'foo@example.com',
-                'name': 'Foo Bar',
-                'comments': 'It broke!',
-            }
-        )
-
-        assert response.status_code == 200, response.content
-
-        mock_backfill_group.apply_async.assert_called_with(
-            kwargs={
-                'report_id': int(response.data['id']),
-            },
-            countdown=30,
-        )
