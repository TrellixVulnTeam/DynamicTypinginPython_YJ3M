commit 41b5e9ae20eeb728fd6861883d1c43f3c090e17d
Author: Wynn Wilkes <wynnw@movenetworks.com>
Date:   Fri Sep 14 10:58:53 2012 -0600

    Fix for startup failures when --noupgrade is passed.

diff --git a/src/sentry/management/commands/start.py b/src/sentry/management/commands/start.py
index 621c8b5bc7..856241a4fa 100644
--- a/src/sentry/management/commands/start.py
+++ b/src/sentry/management/commands/start.py
@@ -68,5 +68,11 @@ class Command(BaseCommand):
             workers=options.get('workers'),
         )
 
+        # remove command line arguments to avoid optparse failures with service code
+        # that calls call_command which reparses the command line, and if --noupgrade is supplied
+        # a parse error is thrown
+        import sys; sys.argv = sys.argv[:1]
+
         print "Running service: %r" % service_name
         service.run()
+
