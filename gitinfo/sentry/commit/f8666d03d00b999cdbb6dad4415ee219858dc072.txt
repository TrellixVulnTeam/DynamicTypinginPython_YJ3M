commit f8666d03d00b999cdbb6dad4415ee219858dc072
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Nov 25 15:02:15 2015 -0800

    Graceful handling of no release data

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 800334b091..969119e060 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -323,9 +323,12 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
             filters.append(Q(status=status_filter))
 
         if result.get('status') == 'resolvedInNextRelease':
-            release = Release.objects.filter(
-                project=project,
-            ).order_by('-date_added')[0]
+            try:
+                release = Release.objects.filter(
+                    project=project,
+                ).order_by('-date_added')[0]
+            except IndexError:
+                return Response('{"detail": "No release data present in the system to indicate form a basis for \'Next Release\'"}', status=400)
 
             now = timezone.now()
 
diff --git a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
index 2b7767c813..0c2a313373 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
@@ -92,6 +92,8 @@ const GroupActions = React.createClass({
       snoozeClassName += ' active';
     }
 
+    let hasRelease = group.tags.filter(item => item.key === 'release').length;
+
     return (
       <div className="group-actions">
         <div className="btn-group">
@@ -120,10 +122,17 @@ const GroupActions = React.createClass({
               topLevelClasses={resolveDropdownClasses}
               title="">
               <MenuItem noAnchor={true}>
-                <a onClick={this.onUpdate.bind(this, {status: 'resolvedInNextRelease'})}>
-                  <strong>Resolved in next release</strong>
-                  <div className="help-text">Snooze notifications until this issue reoccurs in a future release.</div>
-                </a>
+                {hasRelease ?
+                  <a onClick={this.onUpdate.bind(this, {status: 'resolvedInNextRelease'})}>
+                    <strong>Resolved in next release</strong>
+                    <div className="help-text">Snooze notifications until this issue reoccurs in a future release.</div>
+                  </a>
+                :
+                  <a className="disabled tip" title="You need to send release data to Sentry in order to use this feature.">
+                    <strong>Resolved in next release</strong>
+                    <div className="help-text">Snooze notifications until this issue reoccurs in a future release.</div>
+                  </a>
+                }
               </MenuItem>
             </DropdownLink>]
           }
