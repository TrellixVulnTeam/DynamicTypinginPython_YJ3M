commit c10d6f650a9a03c16c27573df629644a8f16b708
Author: Jay Soffian <jaysoffian@gmail.com>
Date:   Wed Nov 19 18:04:23 2014 -0500

    Make TeamManager.get_for_user() ignore non-visible teams
    
    Teams with status != TeamStatus.VISIBLE are pending deletion.
    Hide them from normal view.

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index af1275e8bf..ade121154f 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -143,7 +143,7 @@ class TeamManager(BaseManager):
         Each <Team> returned has an ``access_type`` attribute which holds the
         MEMBER_TYPE value.
         """
-        from sentry.models import TeamMember, AccessGroup, Project
+        from sentry.models import TeamMember, TeamStatus, AccessGroup, Project
 
         results = SortedDict()
 
@@ -160,8 +160,9 @@ class TeamManager(BaseManager):
 
         for tm in qs:
             team = tm.team
-            team.access_type = tm.type
-            all_teams.add(team)
+            if team.status == TeamStatus.VISIBLE:
+                team.access_type = tm.type
+                all_teams.add(team)
 
         if access_groups:
             qs = AccessGroup.objects.filter(
