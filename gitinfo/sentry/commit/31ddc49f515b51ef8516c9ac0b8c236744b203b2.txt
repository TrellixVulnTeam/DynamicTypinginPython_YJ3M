commit 31ddc49f515b51ef8516c9ac0b8c236744b203b2
Author: David Cramer <dcramer@gmail.com>
Date:   Mon May 14 12:28:07 2012 -0700

    Run pep8 and pyflakes as part of tests

diff --git a/Makefile b/Makefile
index 69021d45a7..4fa2487e3a 100644
--- a/Makefile
+++ b/Makefile
@@ -43,6 +43,8 @@ watch:
 	watchr -e "watch('bootstrap/.*\.less') { system 'make static' }"
 
 test:
+	pep8 --exclude=migrations --ignore=E501,E225 sentry || exit 1
+	pyflakes -x W sentry || exit 1
 	coverage run runtests.py --include=sentry/* && \
 	coverage html --omit=*/migrations/* -d cover
 
diff --git a/setup.py b/setup.py
index 074ce6788d..a8e60c12a7 100755
--- a/setup.py
+++ b/setup.py
@@ -39,6 +39,7 @@ tests_require = [
     'nose==1.1.2',
     'nydus==0.8.2',
     'mock==0.8.0',
+    'pep8',
     'redis',
 ]
 
