commit 8947b667307680e763096a4ccf928fe356008439
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Apr 19 10:40:18 2018 -0700

    feat: Add feature flag for new dashboard (#8103)

diff --git a/src/sentry/api/serializers/models/organization.py b/src/sentry/api/serializers/models/organization.py
index 2aff5bacbb..e570b7bd9f 100644
--- a/src/sentry/api/serializers/models/organization.py
+++ b/src/sentry/api/serializers/models/organization.py
@@ -125,6 +125,8 @@ class DetailedOrganizationSerializer(OrganizationSerializer):
             feature_list.append('code-owners')
         if features.has('organizations:unreleased-changes', obj, actor=user):
             feature_list.append('unreleased-changes')
+        if features.has('organizations:dashboard', obj, actor=user):
+            feature_list.append('dashboard')
 
         if getattr(obj.flags, 'allow_joinleave'):
             feature_list.append('open-membership')
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 698ca3751e..160d508c0a 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -757,6 +757,7 @@ SENTRY_FEATURES = {
     'organizations:new-teams': False,
     'organizations:code-owners': False,
     'organizations:unreleased-changes': False,
+    'organizations:dashboard': False,
     'projects:global-events': False,
     'projects:plugins': True,
     'projects:dsym': False,
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index a617c527da..5f3643d164 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -25,6 +25,8 @@ default_manager.add('organizations:new-teams', OrganizationFeature)  # NOQA
 default_manager.add('organizations:code-owners', OrganizationFeature)  # NOQA
 default_manager.add('organizations:unreleased-changes', OrganizationFeature)  # NOQA
 default_manager.add('projects:similarity-view', ProjectFeature)  # NOQA
+default_manager.add('organizations:environments', OrganizationFeature)  # NOQA
+default_manager.add('organizations:dashboard', OrganizationFeature)  # NOQA
 default_manager.add('projects:global-events', ProjectFeature)  # NOQA
 default_manager.add('projects:plugins', ProjectPluginFeature)  # NOQA
 default_manager.add('projects:data-forwarding', ProjectFeature)  # NOQA
@@ -36,7 +38,6 @@ default_manager.add('projects:similarity-indexing', ProjectFeature)  # NOQA
 default_manager.add('projects:discard-groups', ProjectFeature)  # NOQA
 default_manager.add('projects:custom-inbound-filters', ProjectFeature)  # NOQA
 default_manager.add('projects:minidump', ProjectFeature)  # NOQA
-default_manager.add('organizations:environments', OrganizationFeature)  # NOQA
 default_manager.add('user:assistant')
 
 # expose public api
