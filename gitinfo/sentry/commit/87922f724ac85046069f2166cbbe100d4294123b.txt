commit 87922f724ac85046069f2166cbbe100d4294123b
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 11 22:36:14 2013 -0800

    Correct incorrect logic on get_for_user for superuser/team

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 9a01f07607..c6a17a1e1f 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -813,7 +813,9 @@ class ProjectManager(BaseManager, ChartMixin):
         if team:
             base_qs = base_qs.filter(team=team)
 
-        if team and not user.is_superuser:
+        if team and user.is_superuser:
+            projects = set(base_qs)
+        else:
             if not settings.PUBLIC:
                 # If the user is authenticated, include their memberships
                 teams = Team.objects.get_for_user(user, access).values()
@@ -828,8 +830,6 @@ class ProjectManager(BaseManager, ChartMixin):
 
             if is_authenticated:
                 projects |= set(base_qs.filter(accessgroup__members=user))
-        else:
-            projects = set(base_qs)
 
         attach_foreignkey(projects, self.model.team)
 
