commit 258a0cbf476b1b20205ba6b237f95852d1281a43
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Aug 2 16:31:33 2018 -0700

    fix(ui): Change "merge success" to check for valid response (#9301)
    
    * fix(ui): Change "merge success" to check for valid response
    
    It looks the endpoint can (sometimes? always?) returns a 204, so check if response is valid.
    
    Fixes JAVASCRIPT-2H1

diff --git a/src/sentry/static/sentry/app/stores/groupStore.jsx b/src/sentry/static/sentry/app/stores/groupStore.jsx
index e9db067d58..2d92b84671 100644
--- a/src/sentry/static/sentry/app/stores/groupStore.jsx
+++ b/src/sentry/static/sentry/app/stores/groupStore.jsx
@@ -315,8 +315,13 @@ const GroupStore = Reflux.createStore({
 
     // Remove all but parent id (items were merged into this one)
     let mergedIdSet = new Set(mergedIds);
+
+    // Looks like the `PUT /api/0/projects/:orgId/:projectId/issues/` endpoint
+    // actually returns a 204, so there is no `response` body
     this.items = this.items.filter(
-      item => !mergedIdSet.has(item.id) || item.id === response.merge.parent
+      item =>
+        !mergedIdSet.has(item.id) ||
+        (response && response.merge && item.id === response.merge.parent)
     );
 
     showAlert(t('The selected events have been scheduled for merge.'), 'success');
