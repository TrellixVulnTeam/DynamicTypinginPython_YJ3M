commit 76f6152ee8c3e702eb2b9dc1f3df697e74652da2
Author: ted kaemming <ted@getsentry.com>
Date:   Wed Jan 15 13:31:08 2020 -0800

    fix(subscriptions): Update subscriptions URLs to include dataset (#16471)

diff --git a/src/sentry/snuba/subscriptions.py b/src/sentry/snuba/subscriptions.py
index 09ca480a08..5304c966de 100644
--- a/src/sentry/snuba/subscriptions.py
+++ b/src/sentry/snuba/subscriptions.py
@@ -160,7 +160,7 @@ def delete_snuba_subscription(subscription):
 def _create_in_snuba(project, dataset, query, aggregation, time_window, resolution):
     response = _snuba_pool.urlopen(
         "POST",
-        "/subscriptions",
+        "/%s/subscriptions" % (dataset.value,),
         body=json.dumps(
             {
                 "project_id": project.id,
@@ -183,7 +183,9 @@ def _create_in_snuba(project, dataset, query, aggregation, time_window, resoluti
 
 def _delete_from_snuba(subscription):
     response = _snuba_pool.urlopen(
-        "DELETE", "/subscriptions/%s" % subscription.subscription_id, retries=False
+        "DELETE",
+        "/%s/subscriptions/%s" % (subscription.dataset, subscription.subscription_id),
+        retries=False,
     )
     if response.status != 202:
         raise SnubaError("HTTP %s response from Snuba!" % response.status)
