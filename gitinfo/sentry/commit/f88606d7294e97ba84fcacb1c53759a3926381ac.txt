commit f88606d7294e97ba84fcacb1c53759a3926381ac
Author: Dora <dora.l.chan@gmail.com>
Date:   Mon Jun 8 11:14:12 2020 -0700

    feat(discv2 card): adding date query was last edited (#19209)
    
    * adding relative time
    * updated sort and last edited
    * less opacity to mini charts
    * changed object to react node

diff --git a/src/sentry/static/sentry/app/views/eventsV2/landing.tsx b/src/sentry/static/sentry/app/views/eventsV2/landing.tsx
index 25da6f5ddb..5b7e098f7e 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/landing.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/landing.tsx
@@ -36,7 +36,7 @@ import backgroundSpace from '../../../images/spot/background-space.svg';
 const BANNER_DISMISSED_KEY = 'discover-banner-dismissed';
 
 const SORT_OPTIONS: SelectValue<string>[] = [
-  {label: t('Recently Updated'), value: '-dateUpdated'},
+  {label: t('Recently Edited'), value: '-dateUpdated'},
   {label: t('My Queries'), value: 'myqueries'},
   {label: t('Query Name (A-Z)'), value: 'name'},
   {label: t('Date Created (Newest)'), value: '-dateCreated'},
diff --git a/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx b/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
index 0312b2b5a0..0193d67888 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
@@ -105,7 +105,7 @@ class MiniGraph extends React.Component<Props> {
             ...series,
             areaStyle: {
               color: colors[0],
-              opacity: 0.5,
+              opacity: 1,
             },
             lineStyle: {
               opacity: 0,
diff --git a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
index 7d4f272c7e..49332b0e51 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
@@ -16,6 +16,7 @@ import EmptyStateWarning from 'app/components/emptyStateWarning';
 import EventView from 'app/utils/discover/eventView';
 import MenuItem from 'app/components/menuItem';
 import Pagination from 'app/components/pagination';
+import TimeSince from 'app/components/timeSince';
 import parseLinkHeader from 'app/utils/parseLinkHeader';
 import space from 'app/styles/space';
 import withApi from 'app/utils/withApi';
@@ -178,6 +179,7 @@ class QueryList extends React.Component<Props> {
         moment(eventView.end).format('MMM D, YYYY h:mm A');
 
       const to = eventView.getResultsViewUrlTarget(organization.slug);
+      const dateStatus = <TimeSince date={savedQuery.dateUpdated} />;
 
       return (
         <QueryCard
@@ -187,6 +189,7 @@ class QueryList extends React.Component<Props> {
           subtitle={eventView.statsPeriod ? recentTimeline : customTimeline}
           queryDetail={eventView.query}
           createdBy={eventView.createdBy}
+          dateStatus={dateStatus}
           onEventClick={() => {
             trackAnalyticsEvent({
               eventKey: 'discover_v2.prebuilt_query_click',
@@ -302,6 +305,7 @@ const ContextMenu = ({children}) => (
 
 const MoreOptions = styled('span')`
   display: flex;
+  color: ${p => p.theme.gray700};
 `;
 
 const DropdownTarget = styled('div')`
diff --git a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
index 659dc84360..9fd0253810 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
@@ -5,6 +5,7 @@ import {browserHistory} from 'react-router';
 import ActivityAvatar from 'app/components/activity/item/avatar';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 import Link from 'app/components/links/link';
+import {t} from 'app/locale';
 import space from 'app/styles/space';
 import {callIfFunction} from 'app/utils/callIfFunction';
 import {User} from 'app/types';
@@ -16,6 +17,7 @@ type Props = {
   queryDetail?: string;
   to: object;
   createdBy?: User | undefined;
+  dateStatus?: React.ReactNode;
   onEventClick?: () => void;
   renderGraph: () => React.ReactNode;
   renderContextMenu?: () => React.ReactNode;
@@ -38,6 +40,7 @@ class QueryCard extends React.PureComponent<Props> {
       renderContextMenu,
       renderGraph,
       createdBy,
+      dateStatus,
     } = this.props;
 
     return (
@@ -58,7 +61,14 @@ class QueryCard extends React.PureComponent<Props> {
           </QueryCardHeader>
           <QueryCardBody>{renderGraph()}</QueryCardBody>
           <QueryCardFooter>
-            <StyledCreator>{subtitle}</StyledCreator>
+            <DateSelected>
+              {subtitle}
+              {dateStatus ? (
+                <DateStatus>
+                  {t('Edited')} {dateStatus}
+                </DateStatus>
+              ) : null}
+            </DateSelected>
             {renderContextMenu && renderContextMenu()}
           </QueryCardFooter>
         </StyledQueryCard>
@@ -118,14 +128,19 @@ const QueryCardFooter = styled('div')`
   justify-content: space-between;
   align-items: center;
   padding: ${space(1)} ${space(2)};
-  color: ${p => p.theme.gray600};
 `;
 
-const StyledCreator = styled('div')`
+const DateSelected = styled('div')`
   font-size: ${p => p.theme.fontSizeSmall};
-  display: flex;
-  align-items: center;
+  display: grid;
+  grid-column-gap: ${space(1)};
   ${overflowEllipsis};
+  color: ${p => p.theme.gray700};
+`;
+
+const DateStatus = styled('span')`
+  color: ${p => p.theme.purple400};
+  padding-left: ${space(1)};
 `;
 
 export default QueryCard;
