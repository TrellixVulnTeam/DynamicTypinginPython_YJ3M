commit 53fd3882707e6510c8980b1c92f37b01a71afcc1
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Aug 18 18:25:11 2015 -0700

    Add all-versions stat for api requests

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 9831712e3b..40ab3208d8 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -145,6 +145,16 @@ class APIView(BaseView):
                                     content_type='text/plain',
                                     status=500)
 
+        # TODO(dcramer): it'd be nice if we had an incr_multi method so
+        # tsdb could optimize this
+        metrics.incr('client-api.all-versions.requests')
+        metrics.incr('client-api.all-versions.responses.%s' % (
+            response.status_code,
+        ))
+        metrics.incr('client-api.all-versions.responses.%sxx' % (
+            str(response.status_code)[0],
+        ))
+
         if helper.context.version:
             metrics.incr('client-api.v%s.requests' % (
                 helper.context.version,
