commit 3bd8089750801e32ceefab00723afd17b49bac77
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Apr 23 08:57:21 2019 -0700

    fix(js): Fix cleanup API client (#12872)
    
    Previously, if there was no callback function (specifically for `complete`), cleanup was skipped entirely.

diff --git a/src/sentry/static/sentry/app/api.jsx b/src/sentry/static/sentry/app/api.jsx
index 627a4a3fdd..e8ae97a419 100644
--- a/src/sentry/static/sentry/app/api.jsx
+++ b/src/sentry/static/sentry/app/api.jsx
@@ -88,16 +88,12 @@ export class Client {
   }
 
   wrapCallback(id, func, cleanup) {
-    /*eslint consistent-return:0*/
-    if (isUndefined(func)) {
-      return;
-    }
-
     return (...args) => {
       const req = this.activeRequests[id];
       if (cleanup === true) {
         delete this.activeRequests[id];
       }
+
       if (req && req.alive) {
         // Check if API response is a 302 -- means project slug was renamed and user
         // needs to be redirected
@@ -105,8 +101,12 @@ export class Client {
           return;
         }
 
+        if (isUndefined(func)) {
+          return;
+        }
+
         // Call success callback
-        return func.apply(req, args);
+        return func.apply(req, args); // eslint-disable-line
       }
     };
   }
