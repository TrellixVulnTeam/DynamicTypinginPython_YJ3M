commit d48225978aacbff869ef88f52b0a2c2f9391c276
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue May 15 16:55:43 2018 -0700

    ref(js): Codesplit some more views (#8331)
    
    * ref: OrganizationRateLimits
    * ref: ProjectGeneralSettings
    * ref: AcceptProjectTransfer and TeamCreate
    * ref: ProjectAlerts

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index a4bf29b697..7ef34cba95 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -1,7 +1,6 @@
 import {Redirect, Route, IndexRoute, IndexRedirect} from 'react-router';
 import React from 'react';
 
-import AcceptProjectTransfer from 'app/views/acceptProjectTransfer';
 import AccountAuthorizations from 'app/views/accountAuthorizations';
 import AccountLayout from 'app/views/accountLayout';
 import AdminBuffer from 'app/views/adminBuffer';
@@ -50,16 +49,12 @@ import OrganizationHomeContainer from 'app/components/organizations/homeContaine
 import OrganizationMemberDetail from 'app/views/settings/organization/members/organizationMemberDetail';
 import OrganizationMembersView from 'app/views/settings/organization/members/organizationMembersView';
 import OrganizationProjectsView from 'app/views/settings/organization/projects/organizationProjectsView';
-import OrganizationRateLimits from 'app/views/organizationRateLimits';
 import OrganizationRoot from 'app/views/organizationRoot';
 import OrganizationRepositoriesView from 'app/views/organizationRepositoriesView';
 import OrganizationGeneralSettingsView from 'app/views/settings/organization/general/organizationGeneralSettingsView';
 import OrganizationStats from 'app/views/organizationStats';
 import OrganizationTeams from 'app/views/organizationTeams';
 import OrganizationTeamsProjectsView from 'app/views/organizationTeamsProjects';
-import ProjectAlertRules from 'app/views/settings/projectAlerts/projectAlertRules';
-import ProjectAlertRuleDetails from 'app/views/settings/projectAlerts/projectAlertRuleDetails';
-import ProjectAlertSettings from 'app/views/settings/projectAlerts/projectAlertSettings';
 import ProjectEnvironments from 'app/views/projectEnvironments';
 import ProjectTags from 'app/views/projectTags';
 import ProjectChooser from 'app/views/projectChooser';
@@ -69,7 +64,6 @@ import ProjectDebugSymbols from 'app/views/projectDebugSymbols';
 import ProjectDetails from 'app/views/projectDetails';
 import ProjectDocsContext from 'app/views/projectInstall/docsContext';
 import ProjectEvents from 'app/views/projectEvents';
-import ProjectGeneralSettings from 'app/views/projectGeneralSettings';
 import ProjectGettingStarted from 'app/views/projectInstall/gettingStarted';
 import ProjectInstallOverview from 'app/views/projectInstall/overview';
 import ProjectInstallPlatform from 'app/views/projectInstall/platform';
@@ -90,7 +84,6 @@ import RouteNotFound from 'app/views/routeNotFound';
 import SettingsProjectProvider from 'app/views/settings/components/settingsProjectProvider';
 import SettingsWrapper from 'app/views/settings/components/settingsWrapper';
 import Stream from 'app/views/stream';
-import TeamCreate from 'app/views/teamCreate';
 import TeamDetails from 'app/views/teamDetails';
 import TeamMembers from 'app/views/teamMembers';
 import TeamSettings from 'app/views/teamSettings';
@@ -240,7 +233,12 @@ const accountSettingsRoutes = (
 
 const projectSettingsRoutes = (
   <React.Fragment>
-    <IndexRoute name="General" component={errorHandler(ProjectGeneralSettings)} />
+    <IndexRoute
+      name="General"
+      componentPromise={() =>
+        import(/*webpackChunkName: "ProjectGeneralSettings"*/ 'app/views/settings/projectGeneralSettings')}
+      component={errorHandler(LazyLoad)}
+    />
     <Route
       path="teams/"
       name="Teams"
@@ -249,14 +247,30 @@ const projectSettingsRoutes = (
       component={errorHandler(LazyLoad)}
     />
     <Route name="Alerts" path="alerts/">
-      <IndexRoute component={errorHandler(ProjectAlertSettings)} />
+      <IndexRoute
+        component={errorHandler(LazyLoad)}
+        componentPromise={() =>
+          import(/*webpackChunkName: "ProjectAlertSettings"*/ './views/settings/projectAlerts/projectAlertSettings')}
+      />
       <Route path="rules/" name="Rules" component={null}>
-        <IndexRoute component={errorHandler(ProjectAlertRules)} />
-        <Route path="new/" name="New" component={errorHandler(ProjectAlertRuleDetails)} />
+        <IndexRoute
+          component={errorHandler(LazyLoad)}
+          componentPromise={() =>
+            import(/*webpackChunkName: "ProjectAlertRules"*/ './views/settings/projectAlerts/projectAlertRules')}
+        />
+        <Route
+          path="new/"
+          name="New"
+          component={errorHandler(LazyLoad)}
+          componentPromise={() =>
+            import(/*webpackChunkName: "ProjectAlertRuleDetails"*/ './views/settings/projectAlerts/projectAlertRuleDetails')}
+        />
         <Route
           path=":ruleId/"
           name="Edit"
-          component={errorHandler(ProjectAlertRuleDetails)}
+          componentPromise={() =>
+            import(/*webpackChunkName: "ProjectAlertRuleDetails"*/ './views/settings/projectAlerts/projectAlertRuleDetails')}
+          component={errorHandler(LazyLoad)}
         />
       </Route>
     </Route>
@@ -506,7 +520,9 @@ function routes() {
       <Route
         path="rate-limits/"
         name="Rate Limits"
-        component={errorHandler(OrganizationRateLimits)}
+        componentPromise={() =>
+          import(/*webpackChunkName: OrganizationRateLimits*/ 'app/views/settings/organizationRateLimits')}
+        component={errorHandler(LazyLoad)}
       />
 
       <Route
@@ -553,7 +569,12 @@ function routes() {
 
   return (
     <Route path="/" component={errorHandler(App)}>
-      <Route path="/accept-transfer/" component={errorHandler(AcceptProjectTransfer)} />
+      <Route
+        path="/accept-transfer/"
+        componentPromise={() =>
+          import(/*webpackChunkName:"AcceptProjectTransfer"*/ 'app/views/acceptProjectTransfer')}
+        component={errorHandler(LazyLoad)}
+      />
       <Route path="/account/" component={errorHandler(AccountLayout)}>
         <Route path="authorizations/" component={errorHandler(AccountAuthorizations)} />
       </Route>
@@ -661,7 +682,9 @@ function routes() {
 
           <Route
             path="/organizations/:orgId/teams/new/"
-            component={errorHandler(TeamCreate)}
+            componentPromise={() =>
+              import(/*webpackChunkName:"TeamCreate"*/ './views/teamCreate')}
+            component={errorHandler(LazyLoad)}
           />
 
           <Route path="/organizations/:orgId/" component={OrganizationHomeContainer}>
diff --git a/src/sentry/static/sentry/app/views/organizationRateLimits/index.jsx b/src/sentry/static/sentry/app/views/organizationRateLimits/index.jsx
deleted file mode 100644
index fef8cec073..0000000000
--- a/src/sentry/static/sentry/app/views/organizationRateLimits/index.jsx
+++ /dev/null
@@ -1,33 +0,0 @@
-import React from 'react';
-import PropTypes from 'prop-types';
-
-import createReactClass from 'create-react-class';
-
-import OrganizationState from 'app/mixins/organizationState';
-import LazyLoad from 'app/components/lazyLoad';
-
-const OrganizationRateLimits = createReactClass({
-  displayName: 'OrganizationRateLimits',
-  propTypes: {
-    routes: PropTypes.array,
-  },
-  mixins: [OrganizationState],
-
-  render() {
-    if (!this.context.organization) return null;
-
-    return (
-      // TODO(billy): Move to routes
-      <LazyLoad
-        component={() =>
-          import(/*webpackChunkName: "rateLimitView"*/ '../settings/organization/rateLimit/rateLimitView').then(
-            mod => mod.default
-          )}
-        {...this.props}
-        organization={this.context.organization}
-      />
-    );
-  },
-});
-
-export default OrganizationRateLimits;
diff --git a/src/sentry/static/sentry/app/views/settings/organization/rateLimit/rateLimitView.jsx b/src/sentry/static/sentry/app/views/settings/organizationRateLimits/index.jsx
similarity index 88%
rename from src/sentry/static/sentry/app/views/settings/organization/rateLimit/rateLimitView.jsx
rename to src/sentry/static/sentry/app/views/settings/organizationRateLimits/index.jsx
index 2d4ff27f6b..be7c74a757 100644
--- a/src/sentry/static/sentry/app/views/settings/organization/rateLimit/rateLimitView.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationRateLimits/index.jsx
@@ -1,4 +1,5 @@
 import {Box} from 'grid-emotion';
+import createReactClass from 'create-react-class';
 import PropTypes from 'prop-types';
 import React from 'react';
 
@@ -6,6 +7,7 @@ import {t, tct} from 'app/locale';
 import Field from 'app/views/settings/components/forms/field';
 import Form from 'app/views/settings/components/forms/form';
 import {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';
+import OrganizationState from 'app/mixins/organizationState';
 import RangeField from 'app/views/settings/components/forms/rangeField';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
 import TextBlock from 'app/views/settings/components/text/textBlock';
@@ -29,7 +31,7 @@ const getRateLimitValues = () => {
 // We can just generate this once
 const ACCOUNT_RATE_LIMIT_VALUES = getRateLimitValues();
 
-class RateLimitView extends React.Component {
+class OrganizationRateLimits extends React.Component {
   static propTypes = {
     organization: PropTypes.object.isRequired,
   };
@@ -136,4 +138,18 @@ class RateLimitView extends React.Component {
   }
 }
 
-export default RateLimitView;
+const OrganizationRateLimitsContainer = createReactClass({
+  displayName: 'OrganizationRateLimits',
+  mixins: [OrganizationState],
+
+  render() {
+    if (!this.context.organization) return null;
+
+    return (
+      <OrganizationRateLimits {...this.props} organization={this.context.organization} />
+    );
+  },
+});
+
+export {OrganizationRateLimits};
+export default OrganizationRateLimitsContainer;
diff --git a/src/sentry/static/sentry/app/views/projectGeneralSettings.jsx b/src/sentry/static/sentry/app/views/settings/projectGeneralSettings.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/projectGeneralSettings.jsx
rename to src/sentry/static/sentry/app/views/settings/projectGeneralSettings.jsx
diff --git a/tests/js/spec/views/organizationRateLimits.spec.jsx b/tests/js/spec/views/organizationRateLimits.spec.jsx
index 66dc773118..7426bad9ea 100644
--- a/tests/js/spec/views/organizationRateLimits.spec.jsx
+++ b/tests/js/spec/views/organizationRateLimits.spec.jsx
@@ -2,7 +2,7 @@ import {mount} from 'enzyme';
 import React from 'react';
 
 import {Client} from 'app/api';
-import OrganizationRateLimits from 'app/views/settings/organization/rateLimit/rateLimitView';
+import {OrganizationRateLimits} from 'app/views/settings/organizationRateLimits';
 
 const ENDPOINT = '/organizations/org-slug/';
 
diff --git a/tests/js/spec/views/projectGeneralSettings.spec.jsx b/tests/js/spec/views/projectGeneralSettings.spec.jsx
index 72fd8476a9..49d1a23680 100644
--- a/tests/js/spec/views/projectGeneralSettings.spec.jsx
+++ b/tests/js/spec/views/projectGeneralSettings.spec.jsx
@@ -2,7 +2,7 @@ import {browserHistory} from 'react-router';
 import {mount} from 'enzyme';
 import React from 'react';
 
-import ProjectGeneralSettings from 'app/views/projectGeneralSettings';
+import ProjectGeneralSettings from 'app/views/settings/projectGeneralSettings';
 import ProjectContext from 'app/views/projects/projectContext';
 import ProjectsStore from 'app/stores/projectsStore';
 
