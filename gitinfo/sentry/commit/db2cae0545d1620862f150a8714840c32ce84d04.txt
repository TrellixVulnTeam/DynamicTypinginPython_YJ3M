commit db2cae0545d1620862f150a8714840c32ce84d04
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jul 7 22:09:43 2016 +0500

    Improve timeout behavior for minified errors

diff --git a/src/sentry/lang/javascript/errormapping.py b/src/sentry/lang/javascript/errormapping.py
index f010114ad6..ebf652db59 100644
--- a/src/sentry/lang/javascript/errormapping.py
+++ b/src/sentry/lang/javascript/errormapping.py
@@ -3,6 +3,7 @@ import cgi
 import json
 import time
 import logging
+import random
 
 from django.conf import settings
 from django.core.cache import cache
@@ -13,8 +14,9 @@ from sentry import http
 logger = logging.getLogger(__name__)
 
 
-SOFT_TIMEOUT = 300
-HARD_TIMEOUT = 3600
+SOFT_TIMEOUT = 600
+SOFT_TIMEOUT_FUZZINESS = 10
+HARD_TIMEOUT = 7200
 
 
 REACT_MAPPING_URL = ('https://raw.githubusercontent.com/facebook/'
@@ -25,7 +27,8 @@ error_processors = {}
 
 
 def is_expired(ts):
-    return ts > time.time() - SOFT_TIMEOUT
+    return ts > (time.time() - SOFT_TIMEOUT -
+                 random.random() * SOFT_TIMEOUT_FUZZINESS)
 
 
 class Processor(object):
