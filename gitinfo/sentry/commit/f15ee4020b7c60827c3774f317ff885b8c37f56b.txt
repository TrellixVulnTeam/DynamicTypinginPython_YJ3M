commit f15ee4020b7c60827c3774f317ff885b8c37f56b
Author: Stephen Cefali <scefali@sentry.io>
Date:   Fri Apr 10 12:59:54 2020 -0700

    fix(ecosystem): adds data-forwarding feature as organization feature (#18194)
    
    This PR adds data-forwarding as an organization feature so we can check that value in the integration directory. This way, we can know if an org should be able to install a data-forwarding plugin like Amazon SQS or Splunk without loading the available features for a project.

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index fc38b96806..bda81d08f9 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -843,6 +843,8 @@ SENTRY_FEATURES = {
     "organizations:integrations-issue-sync": True,
     # Enable interface functionality to receive event hooks.
     "organizations:integrations-event-hooks": False,
+    # Enable data forwarding functionality for organizations.
+    "organizations:data-forwarding": True,
     # Special feature flag primarily used on the sentry.io SAAS product for
     # easily enabling features while in early development.
     "organizations:internal-catchall": False,
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index 939ce53bcb..5cea289be9 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -73,6 +73,7 @@ default_manager.add("organizations:incidents", OrganizationFeature)  # NOQA
 default_manager.add("organizations:integrations-issue-basic", OrganizationFeature)  # NOQA
 default_manager.add("organizations:integrations-issue-sync", OrganizationFeature)  # NOQA
 default_manager.add("organizations:integrations-event-hooks", OrganizationFeature)  # NOQA
+default_manager.add("organizations:data-forwarding", OrganizationFeature)  # NOQA
 default_manager.add("organizations:internal-catchall", OrganizationFeature)  # NOQA
 default_manager.add("organizations:incidents", OrganizationFeature)  # NOQA
 default_manager.add("organizations:invite-members", OrganizationFeature)  # NOQA
diff --git a/src/sentry/plugins/config.py b/src/sentry/plugins/config.py
index c205a1c69e..60d0150d7b 100644
--- a/src/sentry/plugins/config.py
+++ b/src/sentry/plugins/config.py
@@ -96,7 +96,6 @@ class PluginConfigMixin(ProviderMixin):
     def get_metadata(self):
         """
         Return extra metadata which is used to represent this plugin.
-
         This is available via the API, and commonly used for runtime
         configuration that changes per-install, but not per-project.
         """
diff --git a/tests/sentry/api/serializers/test_organization.py b/tests/sentry/api/serializers/test_organization.py
index fc4cefe707..1aa5d69066 100644
--- a/tests/sentry/api/serializers/test_organization.py
+++ b/tests/sentry/api/serializers/test_organization.py
@@ -26,6 +26,7 @@ class OrganizationSerializerTest(TestCase):
                 "open-membership",
                 "integrations-issue-basic",
                 "integrations-issue-sync",
+                "data-forwarding",
                 "invite-members",
                 "sso-saml2",
                 "sso-basic",
