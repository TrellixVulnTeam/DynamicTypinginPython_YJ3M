commit dcfaac75d459a7271bcf97f7347705cbd60b152b
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Mar 13 12:53:59 2018 -0700

    ref(ui): Move context picker logic to action creator (#7453)

diff --git a/src/sentry/static/sentry/app/actionCreators/navigation.jsx b/src/sentry/static/sentry/app/actionCreators/navigation.jsx
new file mode 100644
index 0000000000..8ec52daf7e
--- /dev/null
+++ b/src/sentry/static/sentry/app/actionCreators/navigation.jsx
@@ -0,0 +1,28 @@
+import React from 'react';
+
+import {openModal} from './modal';
+import ContextPickerModal from '../components/contextPickerModal';
+
+export function navigateTo(to, router) {
+  // Check for placeholder params
+  let needOrg = to.indexOf(':orgId') > -1;
+  let needProject = to.indexOf(':projectId') > -1;
+
+  if (needOrg || needProject) {
+    openModal(({closeModal, Header, Body}) => (
+      <ContextPickerModal
+        Header={Header}
+        Body={Body}
+        nextPath={to}
+        needOrg={needOrg}
+        needProject={needProject}
+        onFinish={path => {
+          closeModal();
+          router.push(path);
+        }}
+      />
+    ));
+  } else {
+    router.push(to);
+  }
+}
diff --git a/src/sentry/static/sentry/app/views/settings/components/settingsSearch.jsx b/src/sentry/static/sentry/app/views/settings/components/settingsSearch.jsx
index a85cb4811c..dbcad90507 100644
--- a/src/sentry/static/sentry/app/views/settings/components/settingsSearch.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/settingsSearch.jsx
@@ -6,11 +6,10 @@ import Reflux from 'reflux';
 import createReactClass from 'create-react-class';
 import styled from 'react-emotion';
 
-import {openModal} from '../../../actionCreators/modal';
+import {navigateTo} from '../../../actionCreators/navigation';
 import {loadSearchMap} from '../../../actionCreators/formSearch';
 import {t} from '../../../locale';
 import AutoComplete from '../../../components/autoComplete';
-import ContextPickerModal from '../../../components/contextPickerModal';
 import FormSearchStore from '../../../stores/formSearchStore';
 import InlineSvg from '../../../components/inlineSvg';
 import replaceRouterParams from '../../../utils/replaceRouterParams';
@@ -115,27 +114,8 @@ class SettingsSearch extends React.Component {
 
     let {params, router} = this.props;
     let nextPath = replaceRouterParams(to, params);
-    // Check for placeholder params
-    let needOrg = nextPath.indexOf(':orgId') > -1;
-    let needProject = nextPath.indexOf(':projectId') > -1;
-
-    if (needOrg || needProject) {
-      openModal(({closeModal, Header, Body}) => (
-        <ContextPickerModal
-          Header={Header}
-          Body={Body}
-          nextPath={nextPath}
-          needOrg={needOrg}
-          onFinish={path => {
-            closeModal();
-            router.push(path);
-          }}
-          needProject={needProject}
-        />
-      ));
-    } else {
-      router.push(to);
-    }
+
+    navigateTo(nextPath, router);
   };
 
   render() {
