commit 0aea364e2e2e4c0fb10e88facb981333687b92d9
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Wed Jan 23 11:13:37 2019 -0800

    ref(app-platform):add events validation check for associated permissions (#11576)
    
    * ref(app-platform):add events validation check for associated permissions

diff --git a/src/sentry/api/serializers/rest_framework/sentry_app.py b/src/sentry/api/serializers/rest_framework/sentry_app.py
index eb80b5d9d0..c990633cee 100644
--- a/src/sentry/api/serializers/rest_framework/sentry_app.py
+++ b/src/sentry/api/serializers/rest_framework/sentry_app.py
@@ -4,7 +4,7 @@ from rest_framework import serializers
 from rest_framework.serializers import Serializer, ValidationError
 
 from sentry.models import ApiScopes
-from sentry.models.sentryapp import VALID_EVENTS
+from sentry.models.sentryapp import VALID_EVENT_RESOURCES, REQUIRED_EVENT_PERMISSIONS
 
 
 class ApiScopesField(serializers.WritableField):
@@ -20,17 +20,30 @@ class ApiScopesField(serializers.WritableField):
 
 class EventListField(serializers.WritableField):
     def validate(self, data):
-        if not set(data).issubset(VALID_EVENTS):
+        if not set(data).issubset(VALID_EVENT_RESOURCES):
             raise ValidationError(u'Invalid event subscription: {}'.format(
-                ', '.join(set(data).difference(VALID_EVENTS))
+                ', '.join(set(data).difference(VALID_EVENT_RESOURCES))
             ))
 
 
 class SentryAppSerializer(Serializer):
     name = serializers.CharField()
     scopes = ApiScopesField()
-    events = EventListField()
+    events = EventListField(required=False)
     webhookUrl = serializers.URLField()
     redirectUrl = serializers.URLField(required=False)
     isAlertable = serializers.BooleanField(required=False)
     overview = serializers.CharField(required=False)
+
+    def validate_events(self, attrs, source):
+        if not attrs.get('scopes'):
+            return attrs
+
+        for resource in attrs.get(source):
+            needed_scope = REQUIRED_EVENT_PERMISSIONS[resource]
+            if needed_scope not in attrs['scopes']:
+                raise ValidationError(
+                    u'{} webhooks require the {} permission.'.format(resource, needed_scope),
+                )
+
+        return attrs
diff --git a/src/sentry/mediators/sentry_apps/updater.py b/src/sentry/mediators/sentry_apps/updater.py
index 9e44fcef1c..1b867b3412 100644
--- a/src/sentry/mediators/sentry_apps/updater.py
+++ b/src/sentry/mediators/sentry_apps/updater.py
@@ -8,6 +8,7 @@ from sentry.coreapi import APIError
 from sentry.constants import SentryAppStatus
 from sentry.mediators import Mediator, Param
 from sentry.mediators.param import if_param
+from sentry.models.sentryapp import REQUIRED_EVENT_PERMISSIONS
 
 
 class Updater(Mediator):
@@ -43,6 +44,13 @@ class Updater(Mediator):
 
     @if_param('events')
     def _update_events(self):
+        for event in self.events:
+            needed_scope = REQUIRED_EVENT_PERMISSIONS[event]
+            if needed_scope not in self.sentry_app.scope_list:
+                raise APIError(
+                    u'{} webhooks require the {} permission.'.format(event, needed_scope),
+                )
+
         from sentry.mediators.service_hooks.creator import expand_events
         self.sentry_app.events = expand_events(self.events)
 
diff --git a/src/sentry/models/sentryapp.py b/src/sentry/models/sentryapp.py
index 83883da6c6..1cc0992fe0 100644
--- a/src/sentry/models/sentryapp.py
+++ b/src/sentry/models/sentryapp.py
@@ -20,10 +20,18 @@ from sentry.db.models import (
     ParanoidModel,
 )
 
-VALID_EVENTS = (
+VALID_EVENT_RESOURCES = (
     'issue',
 )
 
+REQUIRED_EVENT_PERMISSIONS = {
+    'issue': 'event:read',
+    'project': 'project:read',
+    'member': 'member:read',
+    'organization': 'org:read',
+    'team': 'team:read',
+}
+
 
 def default_uuid():
     return six.binary_type(uuid.uuid4())
diff --git a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/resourceSubscriptions.jsx b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/resourceSubscriptions.jsx
index 3e34487cf4..63f5c7546a 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/resourceSubscriptions.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/resourceSubscriptions.jsx
@@ -23,6 +23,7 @@ export default class Subscriptions extends React.Component {
   constructor(...args) {
     super(...args);
     this.state = {events: this.props.events};
+    this.context.form.setValue('events', this.props.events);
   }
 
   componentDidUpdate(prevProps) {
diff --git a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/sentryApplicationDetails.jsx b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/sentryApplicationDetails.jsx
index 30c84de29b..ce730c3e7b 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/sentryApplicationDetails.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/sentryApplicationDetails.jsx
@@ -82,7 +82,7 @@ export default class SentryApplicationDetails extends AsyncView {
 
   onSubmitSuccess = data => {
     const {orgId} = this.props.params;
-    addSuccessMessage(t(`${this.state.app.name} successfully saved.`));
+    addSuccessMessage(t(`${data.name} successfully saved.`));
     browserHistory.push(`/settings/${orgId}/developer-settings/`);
   };
 
diff --git a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/sentryApplicationDetails.spec.jsx.snap b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/sentryApplicationDetails.spec.jsx.snap
index 7ff565f446..0c0f7cdd1e 100644
--- a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/sentryApplicationDetails.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/sentryApplicationDetails.spec.jsx.snap
@@ -418,7 +418,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                   "overflow": true,
                 },
               },
-              "fieldState": Object {},
+              "fieldState": Object {
+                "events": Object {
+                  "Saving": false,
+                  "showSave": true,
+                },
+              },
               "fields": Object {
                 "Event--permission": "no-access",
                 "Member--permission": "no-access",
@@ -442,7 +447,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                 "uuid": "123456123456123456123456",
                 "webhookUrl": "https://example.com/webhook",
               },
-              "formState": undefined,
+              "formState": "Ready",
               "initialData": Object {
                 "Event--permission": "no-access",
                 "Member--permission": "no-access",
@@ -1136,7 +1141,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                     "overflow": true,
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -1160,7 +1170,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                   "uuid": "123456123456123456123456",
                                                                   "webhookUrl": "https://example.com/webhook",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -1690,7 +1700,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                                 "overflow": true,
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -1714,7 +1729,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                               "uuid": "123456123456123456123456",
                                                                                               "webhookUrl": "https://example.com/webhook",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -2254,7 +2269,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                     "overflow": true,
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -2278,7 +2298,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                   "uuid": "123456123456123456123456",
                                                                   "webhookUrl": "https://example.com/webhook",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -2808,7 +2828,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                                 "overflow": true,
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -2832,7 +2857,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                               "uuid": "123456123456123456123456",
                                                                                               "webhookUrl": "https://example.com/webhook",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -3363,7 +3388,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                     "overflow": true,
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -3387,7 +3417,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                   "uuid": "123456123456123456123456",
                                                                   "webhookUrl": "https://example.com/webhook",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -3915,7 +3945,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                                 "overflow": true,
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -3939,7 +3974,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                               "uuid": "123456123456123456123456",
                                                                                               "webhookUrl": "https://example.com/webhook",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -4570,7 +4605,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                     "overflow": true,
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -4594,7 +4634,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                   "uuid": "123456123456123456123456",
                                                                   "webhookUrl": "https://example.com/webhook",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -5156,7 +5196,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                                 "overflow": true,
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -5180,7 +5225,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                               "uuid": "123456123456123456123456",
                                                                                               "webhookUrl": "https://example.com/webhook",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -5711,7 +5756,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                     "overflow": true,
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -5735,7 +5785,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                   "uuid": "123456123456123456123456",
                                                                   "webhookUrl": "https://example.com/webhook",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -6290,7 +6340,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                                 "overflow": true,
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -6314,7 +6369,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                               "uuid": "123456123456123456123456",
                                                                                               "webhookUrl": "https://example.com/webhook",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -7006,7 +7061,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -7030,7 +7090,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -8029,7 +8089,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -8053,7 +8118,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -8674,7 +8739,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -8698,7 +8768,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -9697,7 +9767,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -9721,7 +9796,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -10310,7 +10385,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -10334,7 +10414,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -11285,7 +11365,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -11309,7 +11394,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -11930,7 +12015,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -11954,7 +12044,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -12953,7 +13043,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -12977,7 +13072,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -13598,7 +13693,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -13622,7 +13722,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -14621,7 +14721,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -14645,7 +14750,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -15266,7 +15371,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                             "overflow": true,
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -15290,7 +15400,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                           "uuid": "123456123456123456123456",
                                                           "webhookUrl": "https://example.com/webhook",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -16289,7 +16399,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                         "overflow": true,
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -16313,7 +16428,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                       "uuid": "123456123456123456123456",
                                                                                       "webhookUrl": "https://example.com/webhook",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -16984,7 +17099,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                     "overflow": true,
                                                   },
                                                 },
-                                                "fieldState": Object {},
+                                                "fieldState": Object {
+                                                  "events": Object {
+                                                    "Saving": false,
+                                                    "showSave": true,
+                                                  },
+                                                },
                                                 "fields": Object {
                                                   "Event--permission": "no-access",
                                                   "Member--permission": "no-access",
@@ -17008,7 +17128,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                   "uuid": "123456123456123456123456",
                                                   "webhookUrl": "https://example.com/webhook",
                                                 },
-                                                "formState": undefined,
+                                                "formState": "Ready",
                                                 "initialData": Object {
                                                   "Event--permission": "no-access",
                                                   "Member--permission": "no-access",
@@ -17528,7 +17648,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                 "overflow": true,
                                                                               },
                                                                             },
-                                                                            "fieldState": Object {},
+                                                                            "fieldState": Object {
+                                                                              "events": Object {
+                                                                                "Saving": false,
+                                                                                "showSave": true,
+                                                                              },
+                                                                            },
                                                                             "fields": Object {
                                                                               "Event--permission": "no-access",
                                                                               "Member--permission": "no-access",
@@ -17552,7 +17677,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                               "uuid": "123456123456123456123456",
                                                                               "webhookUrl": "https://example.com/webhook",
                                                                             },
-                                                                            "formState": undefined,
+                                                                            "formState": "Ready",
                                                                             "initialData": Object {
                                                                               "Event--permission": "no-access",
                                                                               "Member--permission": "no-access",
@@ -18034,7 +18159,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                     "overflow": true,
                                                   },
                                                 },
-                                                "fieldState": Object {},
+                                                "fieldState": Object {
+                                                  "events": Object {
+                                                    "Saving": false,
+                                                    "showSave": true,
+                                                  },
+                                                },
                                                 "fields": Object {
                                                   "Event--permission": "no-access",
                                                   "Member--permission": "no-access",
@@ -18058,7 +18188,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                   "uuid": "123456123456123456123456",
                                                   "webhookUrl": "https://example.com/webhook",
                                                 },
-                                                "formState": undefined,
+                                                "formState": "Ready",
                                                 "initialData": Object {
                                                   "Event--permission": "no-access",
                                                   "Member--permission": "no-access",
@@ -18578,7 +18708,12 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                                 "overflow": true,
                                                                               },
                                                                             },
-                                                                            "fieldState": Object {},
+                                                                            "fieldState": Object {
+                                                                              "events": Object {
+                                                                                "Saving": false,
+                                                                                "showSave": true,
+                                                                              },
+                                                                            },
                                                                             "fields": Object {
                                                                               "Event--permission": "no-access",
                                                                               "Member--permission": "no-access",
@@ -18602,7 +18737,7 @@ exports[`Sentry Application Details edit existing application renders() it shows
                                                                               "uuid": "123456123456123456123456",
                                                                               "webhookUrl": "https://example.com/webhook",
                                                                             },
-                                                                            "formState": undefined,
+                                                                            "formState": "Ready",
                                                                             "initialData": Object {
                                                                               "Event--permission": "no-access",
                                                                               "Member--permission": "no-access",
@@ -19149,7 +19284,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                   "value": "no-access",
                 },
               },
-              "fieldState": Object {},
+              "fieldState": Object {
+                "events": Object {
+                  "Saving": false,
+                  "showSave": true,
+                },
+              },
               "fields": Object {
                 "Event--permission": "no-access",
                 "Member--permission": "no-access",
@@ -19157,10 +19297,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                 "Project--permission": "no-access",
                 "Release--permission": "no-access",
                 "Team--permission": "no-access",
+                "events": Array [],
                 "isAlertable": false,
                 "organization": "org-slug",
               },
-              "formState": undefined,
+              "formState": "Ready",
               "initialData": Object {
                 "Event--permission": "no-access",
                 "Member--permission": "no-access",
@@ -19812,7 +19953,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                     "value": "no-access",
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -19820,10 +19966,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                   "Project--permission": "no-access",
                                                                   "Release--permission": "no-access",
                                                                   "Team--permission": "no-access",
+                                                                  "events": Array [],
                                                                   "isAlertable": false,
                                                                   "organization": "org-slug",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -20298,7 +20445,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                                 "value": "no-access",
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -20306,10 +20458,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                               "Project--permission": "no-access",
                                                                                               "Release--permission": "no-access",
                                                                                               "Team--permission": "no-access",
+                                                                                              "events": Array [],
                                                                                               "isAlertable": false,
                                                                                               "organization": "org-slug",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -20807,7 +20960,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                     "value": "no-access",
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -20815,10 +20973,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                   "Project--permission": "no-access",
                                                                   "Release--permission": "no-access",
                                                                   "Team--permission": "no-access",
+                                                                  "events": Array [],
                                                                   "isAlertable": false,
                                                                   "organization": "org-slug",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -21293,7 +21452,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                                 "value": "no-access",
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -21301,10 +21465,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                               "Project--permission": "no-access",
                                                                                               "Release--permission": "no-access",
                                                                                               "Team--permission": "no-access",
+                                                                                              "events": Array [],
                                                                                               "isAlertable": false,
                                                                                               "organization": "org-slug",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -21793,7 +21958,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                     "value": "no-access",
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -21801,10 +21971,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                   "Project--permission": "no-access",
                                                                   "Release--permission": "no-access",
                                                                   "Team--permission": "no-access",
+                                                                  "events": Array [],
                                                                   "isAlertable": false,
                                                                   "organization": "org-slug",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -22277,7 +22448,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                                 "value": "no-access",
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -22285,10 +22461,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                               "Project--permission": "no-access",
                                                                                               "Release--permission": "no-access",
                                                                                               "Team--permission": "no-access",
+                                                                                              "events": Array [],
                                                                                               "isAlertable": false,
                                                                                               "organization": "org-slug",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -22877,7 +23054,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                     "value": "no-access",
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -22885,10 +23067,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                   "Project--permission": "no-access",
                                                                   "Release--permission": "no-access",
                                                                   "Team--permission": "no-access",
+                                                                  "events": Array [],
                                                                   "isAlertable": false,
                                                                   "organization": "org-slug",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -23395,7 +23578,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                                 "value": "no-access",
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -23403,10 +23591,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                               "Project--permission": "no-access",
                                                                                               "Release--permission": "no-access",
                                                                                               "Team--permission": "no-access",
+                                                                                              "events": Array [],
                                                                                               "isAlertable": false,
                                                                                               "organization": "org-slug",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -23895,7 +24084,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                     "value": "no-access",
                                                                   },
                                                                 },
-                                                                "fieldState": Object {},
+                                                                "fieldState": Object {
+                                                                  "events": Object {
+                                                                    "Saving": false,
+                                                                    "showSave": true,
+                                                                  },
+                                                                },
                                                                 "fields": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -23903,10 +24097,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                   "Project--permission": "no-access",
                                                                   "Release--permission": "no-access",
                                                                   "Team--permission": "no-access",
+                                                                  "events": Array [],
                                                                   "isAlertable": false,
                                                                   "organization": "org-slug",
                                                                 },
-                                                                "formState": undefined,
+                                                                "formState": "Ready",
                                                                 "initialData": Object {
                                                                   "Event--permission": "no-access",
                                                                   "Member--permission": "no-access",
@@ -24406,7 +24601,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                                 "value": "no-access",
                                                                                               },
                                                                                             },
-                                                                                            "fieldState": Object {},
+                                                                                            "fieldState": Object {
+                                                                                              "events": Object {
+                                                                                                "Saving": false,
+                                                                                                "showSave": true,
+                                                                                              },
+                                                                                            },
                                                                                             "fields": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -24414,10 +24614,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                               "Project--permission": "no-access",
                                                                                               "Release--permission": "no-access",
                                                                                               "Team--permission": "no-access",
+                                                                                              "events": Array [],
                                                                                               "isAlertable": false,
                                                                                               "organization": "org-slug",
                                                                                             },
-                                                                                            "formState": undefined,
+                                                                                            "formState": "Ready",
                                                                                             "initialData": Object {
                                                                                               "Event--permission": "no-access",
                                                                                               "Member--permission": "no-access",
@@ -25063,7 +25264,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -25071,10 +25277,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -25966,7 +26173,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -25974,10 +26186,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -26556,7 +26769,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -26564,10 +26782,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -27459,7 +27678,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -27467,10 +27691,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -28017,7 +28242,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -28025,10 +28255,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -28872,7 +29103,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -28880,10 +29116,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -29462,7 +29699,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -29470,10 +29712,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -30365,7 +30608,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -30373,10 +30621,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -30955,7 +31204,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -30963,10 +31217,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -31858,7 +32113,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -31866,10 +32126,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -32448,7 +32709,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                             "value": "no-access",
                                                           },
                                                         },
-                                                        "fieldState": Object {},
+                                                        "fieldState": Object {
+                                                          "events": Object {
+                                                            "Saving": false,
+                                                            "showSave": true,
+                                                          },
+                                                        },
                                                         "fields": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -32456,10 +32722,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                           "Project--permission": "no-access",
                                                           "Release--permission": "no-access",
                                                           "Team--permission": "no-access",
+                                                          "events": Array [],
                                                           "isAlertable": false,
                                                           "organization": "org-slug",
                                                         },
-                                                        "formState": undefined,
+                                                        "formState": "Ready",
                                                         "initialData": Object {
                                                           "Event--permission": "no-access",
                                                           "Member--permission": "no-access",
@@ -33351,7 +33618,12 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                         "value": "no-access",
                                                                                       },
                                                                                     },
-                                                                                    "fieldState": Object {},
+                                                                                    "fieldState": Object {
+                                                                                      "events": Object {
+                                                                                        "Saving": false,
+                                                                                        "showSave": true,
+                                                                                      },
+                                                                                    },
                                                                                     "fields": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
@@ -33359,10 +33631,11 @@ exports[`Sentry Application Details new sentry application renders() it shows em
                                                                                       "Project--permission": "no-access",
                                                                                       "Release--permission": "no-access",
                                                                                       "Team--permission": "no-access",
+                                                                                      "events": Array [],
                                                                                       "isAlertable": false,
                                                                                       "organization": "org-slug",
                                                                                     },
-                                                                                    "formState": undefined,
+                                                                                    "formState": "Ready",
                                                                                     "initialData": Object {
                                                                                       "Event--permission": "no-access",
                                                                                       "Member--permission": "no-access",
diff --git a/tests/sentry/api/endpoints/test_sentry_app_details.py b/tests/sentry/api/endpoints/test_sentry_app_details.py
index 1fa96e5ba4..5b54863188 100644
--- a/tests/sentry/api/endpoints/test_sentry_app_details.py
+++ b/tests/sentry/api/endpoints/test_sentry_app_details.py
@@ -1,6 +1,5 @@
 from __future__ import absolute_import
 
-
 from django.core.urlresolvers import reverse
 from sentry.testutils import APITestCase
 from sentry.testutils.helpers import with_feature
@@ -134,17 +133,39 @@ class UpdateSentryAppDetailsTest(SentryAppDetailsTest):
             data={
                 'name': 'NewName',
                 'webhookUrl': 'https://newurl.com',
-                'scopes': ('project:read',)
+                'scopes': ('event:read',),
+                'events': ('issue',),
             },
             format='json',
         )
 
         assert response.status_code == 200
         assert response.data['name'] == 'NewName'
-        assert response.data['scopes'] == ['project:read']
+        assert response.data['scopes'] == ['event:read']
+        assert response.data['events'] == set(['issue'])
         assert response.data['uuid'] == self.unpublished_app.uuid
         assert response.data['webhookUrl'] == 'https://newurl.com'
 
+    @with_feature('organizations:internal-catchall')
+    def test_cannot_update_events_without_permissions(self):
+        self.login_as(user=self.user)
+        url = reverse('sentry-api-0-sentry-app-details', args=[self.unpublished_app.slug])
+
+        response = self.client.put(
+            url,
+            data={
+                'name': 'NewName',
+                'webhookUrl': 'https://newurl.com',
+                'scopes': ('project:read',),
+                'events': ('issue',),
+            },
+            format='json',
+        )
+
+        assert response.status_code == 400
+        assert response.data == \
+            {'events': ['issue webhooks require the event:read permission.']}
+
     @with_feature('organizations:internal-catchall')
     def test_cannot_update_scopes_published_app(self):
         self.login_as(user=self.user)
diff --git a/tests/sentry/api/endpoints/test_sentry_apps.py b/tests/sentry/api/endpoints/test_sentry_apps.py
index 87f7366d4a..c148344bba 100644
--- a/tests/sentry/api/endpoints/test_sentry_apps.py
+++ b/tests/sentry/api/endpoints/test_sentry_apps.py
@@ -120,7 +120,7 @@ class PostSentryAppsTest(SentryAppsTest):
         response = self._post()
         expected = {
             'name': 'MyApp',
-            'scopes': ['project:read', 'project:write'],
+            'scopes': ['project:read', 'event:read'],
             'events': ['issue'],
             'webhookUrl': 'https://example.com',
         }
@@ -128,6 +128,16 @@ class PostSentryAppsTest(SentryAppsTest):
         assert response.status_code == 201, response.content
         assert six.viewitems(expected) <= six.viewitems(json.loads(response.content))
 
+    @with_feature('organizations:internal-catchall')
+    def test_cannot_create_app_without_correct_permissions(self):
+        self.login_as(user=self.user)
+        kwargs = {'scopes': ('project:read',)}
+        response = self._post(**kwargs)
+
+        assert response.status_code == 422
+        assert response.data['errors'] == \
+            {'events': ['issue webhooks require the event:read permission.']}
+
     @with_feature('organizations:internal-catchall')
     def test_missing_name(self):
         self.login_as(self.user)
@@ -172,7 +182,7 @@ class PostSentryAppsTest(SentryAppsTest):
         body = {
             'name': 'MyApp',
             'organization': self.org.slug,
-            'scopes': ('project:read', 'project:write'),
+            'scopes': ('project:read', 'event:read'),
             'events': ('issue',),
             'webhookUrl': 'https://example.com',
             'isAlertable': False,
diff --git a/tests/sentry/mediators/sentry_apps/test_updater.py b/tests/sentry/mediators/sentry_apps/test_updater.py
index 0c68887606..3d8fcf57f1 100644
--- a/tests/sentry/mediators/sentry_apps/test_updater.py
+++ b/tests/sentry/mediators/sentry_apps/test_updater.py
@@ -41,6 +41,17 @@ class TestUpdater(TestCase):
         with self.assertRaises(APIError):
             updater.call()
 
+    def test_doesnt_update_app_with_invalid_event_permissions(self):
+        sentry_app = self.create_sentry_app(
+            name='sentry',
+            organization=self.org,
+            scopes=('project:read',),
+        )
+        updater = Updater(sentry_app=sentry_app)
+        updater.events = ('issue',)
+        with self.assertRaises(APIError):
+            updater.call()
+
     def test_updates_webhook_url(self):
         self.updater.webhook_url = 'http://example.com/hooks'
         self.updater.call()
