commit 8e0e7ca40a30e2caa11d755b92b205135dee0dce
Author: Matej Minar <matej.minar@sentry.io>
Date:   Fri Feb 14 13:28:29 2020 +0100

    fix(ui): Preserve correct project id when navigating to release detail page (#17047)
    
    * fix(ui): Preserve correct project id when navigating from release page
    
    * updated snap

diff --git a/src/sentry/static/sentry/app/components/version.tsx b/src/sentry/static/sentry/app/components/version.tsx
index 485cf5d9fa..4dab15c77d 100644
--- a/src/sentry/static/sentry/app/components/version.tsx
+++ b/src/sentry/static/sentry/app/components/version.tsx
@@ -67,7 +67,7 @@ const Version = ({
         <LinkComponent
           to={{
             pathname: `/organizations/${orgId}/releases/${encodeURIComponent(version)}/`,
-            query: {project: projectId},
+            query: projectId ? {project: projectId} : undefined,
           }}
           className={className}
         >
diff --git a/tests/js/spec/components/__snapshots__/versionV2.spec.jsx.snap b/tests/js/spec/components/__snapshots__/versionV2.spec.jsx.snap
index e0825a9774..45c12a3f8b 100644
--- a/tests/js/spec/components/__snapshots__/versionV2.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/versionV2.spec.jsx.snap
@@ -37,9 +37,7 @@ exports[`Version renders 1`] = `
       to={
         Object {
           "pathname": "/organizations/sentry/releases/foo.bar.Baz%401.0.0%2B20200101/",
-          "query": Object {
-            "project": undefined,
-          },
+          "query": undefined,
         }
       }
     >
@@ -47,9 +45,7 @@ exports[`Version renders 1`] = `
         href={
           Object {
             "pathname": "/organizations/sentry/releases/foo.bar.Baz%401.0.0%2B20200101/",
-            "query": Object {
-              "project": undefined,
-            },
+            "query": undefined,
           }
         }
       >
