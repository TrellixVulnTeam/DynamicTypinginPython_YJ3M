commit 0517ecc4e4955483bd8f845dce6c039a1eec1d8b
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Oct 19 14:44:06 2013 -0700

    Specify resolver at client level

diff --git a/src/sentry/nodestore/riak/backend.py b/src/sentry/nodestore/riak/backend.py
index 4fe8319b1b..608ed5fdda 100644
--- a/src/sentry/nodestore/riak/backend.py
+++ b/src/sentry/nodestore/riak/backend.py
@@ -20,10 +20,11 @@ class RiakNodeStorage(NodeStorage):
 
     >>> RiakNodeStorage(nodes=[{'host':'127.0.0.1','http_port':8098}])
     """
-    def __init__(self, nodes, bucket='nodes', **kwargs):
-        self.conn = riak.RiakClient(nodes=nodes, **kwargs)
-        self.bucket = self.conn.bucket(
-            bucket, resolver=riak.resolver.last_written_resolver)
+    def __init__(self, nodes, bucket='nodes',
+                 resolver=riak.resolver.last_written_resolver, **kwargs):
+        self.conn = riak.RiakClient(
+            nodes=nodes, resolver=resolver, **kwargs)
+        self.bucket = self.conn.bucket(bucket)
         super(RiakNodeStorage, self).__init__(**kwargs)
 
     def create(self, data):
