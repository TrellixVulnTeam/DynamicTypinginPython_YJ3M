commit 1d8bbdfbd5ea042f66768e597a9bc7df59933789
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Oct 19 16:21:49 2016 -0700

    [danger] improve configuration (#4405)
    
    - allow CHANGES to be disabled
    - allow LICENSE to be disabled
    - allow all values to be configured

diff --git a/Dangerfile b/Dangerfile
index 4b09c9f1e3..36f0cce286 100644
--- a/Dangerfile
+++ b/Dangerfile
@@ -4,16 +4,16 @@
 #      and: https://github.com/samdmarshall/pyconfig/blob/develop/Dangerfile
 
 # set the number of lines that must be changed before this classifies as a "Big PR"
-@S_BIG_PR_LINES = 500
+@S_BIG_PR_LINES ||= 500
 
 # require changelog entry if number of lines changed is beyond this
-@S_CHANGE_LINES = 50
+@S_CHANGE_LINES ||= 50
 
 # pattern list for included file paths
-@S_CHANGES_REQUIRED_PATTERNS = /^src\//
+@S_CHANGES_REQUIRED_PATTERNS ||= /^src\//
 
 # set the files to watch and warn about if there are changes made
-@S_BUILD_FILES = [
+@S_BUILD_FILES ||= [
     "Makefile",
 
     # JavaScript
@@ -33,11 +33,11 @@
 ]
 
 # set the files to watch and fail if there are changes
-@S_LICENSE_FILES = ["LICENSE"]
+@S_LICENSE_FILES ||= ["LICENSE"]
 
 # set the patterns to watch and warn about if they need security review
-@S_SECURITY_FILE_PATTERN = /Dangerfile|auth|login|permission|email|account|admin|twofactor|sudo/
-@S_SECURITY_CONTENT_PATTERN = /auth|login|password|permission|token|secret|security|scope|key|sudo/
+@S_SECURITY_FILE_PATTERN ||= /Dangerfile|auth|login|permission|email|account|admin|twofactor|sudo/
+@S_SECURITY_CONTENT_PATTERN ||= /auth|login|password|permission|token|secret|security|scope|key|sudo/
 
 # determine if any of the files were modified
 def didModify(files_array)
@@ -88,9 +88,9 @@ warn("PR is classed as Work in Progress") if github.pr_title.include? "[WIP]"
 warn("Big PR -- consider splitting it up into multiple changesets") if git.lines_of_code > @S_BIG_PR_LINES
 
 # License is immutable
-fail("Do not modify the License") if didModify(@S_LICENSE_FILES)
+fail("Do not modify the License") if @S_LICENSE_FILES && didModify(@S_LICENSE_FILES)
 
 # Reasonable commits must update CHANGES
-if git.lines_of_code > @S_CHANGE_LINES && !git.modified_files.include?("CHANGES") && didModifyPattern(@S_CHANGES_REQUIRED_PATTERNS)
+if @S_CHANGE_LINES && git.lines_of_code > @S_CHANGE_LINES && !git.modified_files.include?("CHANGES") && didModifyPattern(@S_CHANGES_REQUIRED_PATTERNS)
     fail("You need to update CHANGES due to the size of this PR")
 end
