commit 1b7c6909e1f199c01dcb1b401bacd14364ae3af8
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Thu Oct 17 13:10:10 2019 +0200

    fix(outcomes_consumer): Fix timezone bug (#15147)

diff --git a/src/sentry/ingest/outcomes_consumer.py b/src/sentry/ingest/outcomes_consumer.py
index 0bc0c79f01..7b8047d1f7 100644
--- a/src/sentry/ingest/outcomes_consumer.py
+++ b/src/sentry/ingest/outcomes_consumer.py
@@ -101,7 +101,7 @@ def _process_message(message):
 
     timestamp = msg.get("timestamp")
     if timestamp is not None:
-        delta = to_datetime(time.time()) - datetime.datetime.strptime(
+        delta = to_datetime(time.time()).replace(tzinfo=None) - datetime.datetime.strptime(
             timestamp, "%Y-%m-%dT%H:%M:%S.%fZ"
         )
         metrics.timing("outcomes_consumer.timestamp_lag", delta.total_seconds())
