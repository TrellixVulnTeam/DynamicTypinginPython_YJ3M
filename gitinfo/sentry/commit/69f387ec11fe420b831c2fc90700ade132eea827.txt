commit 69f387ec11fe420b831c2fc90700ade132eea827
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Dec 20 23:40:11 2012 -0800

    Select project relation before we pull in final queryset (fixes GH-692)

diff --git a/src/sentry/web/frontend/groups.py b/src/sentry/web/frontend/groups.py
index 91d16eb978..e8b88826de 100644
--- a/src/sentry/web/frontend/groups.py
+++ b/src/sentry/web/frontend/groups.py
@@ -120,7 +120,10 @@ def _get_group_list(request, project):
         score_clause = SORT_CLAUSES.get(sort)
         filter_clause = SCORE_CLAUSES.get(sort)
 
-    # All filters must already be applied once we reach this point
+    event_list = event_list.select_related('project')
+
+    # IMPORTANT: All filters must already be applied once we reach this point
+
     if sort == 'tottime':
         event_list = event_list.filter(time_spent_count__gt=0)
     elif sort == 'avgtime':
@@ -139,8 +142,6 @@ def _get_group_list(request, project):
                 params=[cursor],
             )
 
-    event_list = event_list.select_related('project')
-
     return {
         'filters': filters,
         'event_list': event_list,
