commit 7d5688f5c48258da14ef230d13e6d700b9df6ab9
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Feb 4 02:14:44 2014 -0800

    Make sure data['level'] is a basestring
    
    Fixes https://app.getsentry.com/sentry/sentry/group/13655045/

diff --git a/src/sentry/manager.py b/src/sentry/manager.py
index 9a1332d3f8..5af8d797dd 100644
--- a/src/sentry/manager.py
+++ b/src/sentry/manager.py
@@ -212,7 +212,11 @@ class GroupManager(BaseManager, ChartMixin):
     def normalize_event_data(self, data):
         # TODO(dcramer): store http.env.REMOTE_ADDR as user.ip
         # First we pull out our top-level (non-data attr) kwargs
-        if not data.get('level') or data['level'] not in LOG_LEVELS:
+        if (
+            not data.get('level') or
+            not isinstance(data['level'], basestring)
+            or data['level'] not in LOG_LEVELS
+        ):
             data['level'] = logging.ERROR
 
         if not data.get('logger'):
