commit 165306b85f60cbd4bdc1527a00d344c5cca87ec6
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Oct 22 16:44:49 2015 +0100

    Cache calls to Organization.get_default_owner

diff --git a/src/sentry/models/organization.py b/src/sentry/models/organization.py
index 419519df46..b57582d4b1 100644
--- a/src/sentry/models/organization.py
+++ b/src/sentry/models/organization.py
@@ -146,12 +146,14 @@ class Organization(Model):
         }
 
     def get_default_owner(self):
-        from sentry.models import User
-
-        return User.objects.filter(
-            sentry_orgmember_set__role='owner',
-            sentry_orgmember_set__organization=self,
-        )[0]
+        if not hasattr(self, '_default_owner'):
+            from sentry.models import User
+
+            self._default_owner = User.objects.filter(
+                sentry_orgmember_set__role=roles.get_top_dog().id,
+                sentry_orgmember_set__organization=self,
+            )[0]
+        return self._default_owner
 
     def has_single_owner(self):
         from sentry.models import OrganizationMember
diff --git a/tests/sentry/models/test_organization.py b/tests/sentry/models/test_organization.py
index 43f043bb57..83a7b4abe0 100644
--- a/tests/sentry/models/test_organization.py
+++ b/tests/sentry/models/test_organization.py
@@ -54,3 +54,8 @@ class OrganizationTest(TestCase):
             team=from_team,
             is_active=True,
         ).exists()
+
+    def test_get_default_owner(self):
+        user = self.create_user('foo@example.com')
+        org = self.create_organization(owner=user)
+        assert org.get_default_owner() == user
