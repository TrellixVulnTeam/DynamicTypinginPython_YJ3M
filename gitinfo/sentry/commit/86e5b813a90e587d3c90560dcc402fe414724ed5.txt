commit 86e5b813a90e587d3c90560dcc402fe414724ed5
Author: Wynn Wilkes <wynnw@movenetworks.com>
Date:   Mon Mar 5 12:37:52 2012 -0700

    add a --noinput option to match django's syncdb command, so that you can script the use of sentry upgrade without needing pexpect

diff --git a/sentry/management/commands/upgrade.py b/sentry/management/commands/upgrade.py
index 8ca07de352..a79b0922b8 100644
--- a/sentry/management/commands/upgrade.py
+++ b/sentry/management/commands/upgrade.py
@@ -7,10 +7,19 @@ sentry.management.commands.upgrade
 """
 from django.core.management import call_command
 from django.core.management.base import BaseCommand
+from optparse import make_option
 
 
 class Command(BaseCommand):
     help = 'Performs any pending database migrations and upgrades'
 
+    option_list = BaseCommand.option_list + (
+            make_option('--noinput',
+                action='store_true',
+                dest='noinput',
+                default=False,
+                help='Tells Django to NOT prompt the user for input of any kind.'),
+            )
+
     def handle(self, **options):
-        call_command('syncdb', migrate=True)
+        call_command('syncdb', migrate=True, interactive=(not options['noinput']))
