commit 272d81e2efaf94cc60ba5ecf95882fd5182c5cc8
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Dec 14 19:49:59 2014 -0800

    Add test for audit log

diff --git a/tests/sentry/web/frontend/test_organization_audit_log.py b/tests/sentry/web/frontend/test_organization_audit_log.py
index e69de29bb2..65b97a5137 100644
--- a/tests/sentry/web/frontend/test_organization_audit_log.py
+++ b/tests/sentry/web/frontend/test_organization_audit_log.py
@@ -0,0 +1,32 @@
+from __future__ import absolute_import
+
+from django.core.urlresolvers import reverse
+
+from sentry.models import AuditLogEntry, AuditLogEntryEvent
+from sentry.testutils import TestCase
+
+
+class OrganizationAuditLogTest(TestCase):
+    def test_renders_with_context(self):
+        organization = self.create_organization(name='foo', owner=self.user)
+        team = self.create_team(organization=organization)
+        project = self.create_project(team=team)
+
+        path = reverse('sentry-organization-audit-log', args=[organization.slug])
+
+        AuditLogEntry.objects.create(
+            organization=organization,
+            actor=self.user,
+            event=AuditLogEntryEvent.ORG_ADD,
+        )
+
+        self.login_as(self.user)
+
+        resp = self.client.get(path)
+
+        assert resp.status_code == 200
+
+        self.assertTemplateUsed(resp, 'sentry/organization-audit-log.html')
+
+        assert resp.context['organization'] == organization
+        assert len(resp.context['audit_log_queryset']) == 1
