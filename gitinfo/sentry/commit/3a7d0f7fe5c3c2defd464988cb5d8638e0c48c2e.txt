commit 3a7d0f7fe5c3c2defd464988cb5d8638e0c48c2e
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Dec 14 12:05:52 2014 -0800

    Remove invite members step

diff --git a/src/sentry/templates/sentry/create-team-step-1.html b/src/sentry/templates/sentry/create-team-step-1.html
deleted file mode 100644
index aa223be56f..0000000000
--- a/src/sentry/templates/sentry/create-team-step-1.html
+++ /dev/null
@@ -1,14 +0,0 @@
-{% extends "sentry/create-team.html" %}
-
-{% load i18n %}
-{% load crispy_forms_tags %}
-
-{% block inner %}
-  <fieldset class="step step-1">
-    <h3>Invite Members</h3>
-
-    {% for field in form %}
-      {{ field|as_crispy_field }}
-    {% endfor %}
-  </fieldset>
-{% endblock %}
diff --git a/src/sentry/templates/sentry/create-team-step-2.html b/src/sentry/templates/sentry/create-team-step-project.html
similarity index 100%
rename from src/sentry/templates/sentry/create-team-step-2.html
rename to src/sentry/templates/sentry/create-team-step-project.html
diff --git a/src/sentry/templates/sentry/create-team-step-0.html b/src/sentry/templates/sentry/create-team-step-team.html
similarity index 100%
rename from src/sentry/templates/sentry/create-team-step-0.html
rename to src/sentry/templates/sentry/create-team-step-team.html
diff --git a/src/sentry/templates/sentry/create-team.html b/src/sentry/templates/sentry/create-team.html
index f2c689c605..6b7fcf71da 100644
--- a/src/sentry/templates/sentry/create-team.html
+++ b/src/sentry/templates/sentry/create-team.html
@@ -10,8 +10,7 @@
     <div class="create-flow">
       <ul class="steps">
         <li{% if current_step == 0 %} class="active"{% endif %}>1. {% trans "Create a team" %}</li>
-        <li{% if current_step == 1 %} class="active"{% endif %}>2. {% trans "Invite members" %}</li>
-        <li{% if current_step == 2 %} class="active"{% endif %}>3. {% trans "Add a project" %}</li>
+        <li{% if current_step == 1 %} class="active"{% endif %}>2. {% trans "Add a project" %}</li>
       </ul>
 
       <form class="form-stacked" action="." method="post">
diff --git a/src/sentry/web/frontend/create_team.py b/src/sentry/web/frontend/create_team.py
index f8831189b0..6a25eb59f8 100644
--- a/src/sentry/web/frontend/create_team.py
+++ b/src/sentry/web/frontend/create_team.py
@@ -2,7 +2,6 @@ from __future__ import absolute_import
 
 import logging
 
-from django import forms
 from django.contrib import messages
 from django.core.urlresolvers import reverse
 
@@ -14,11 +13,6 @@ from sentry.web.frontend.base import OrganizationView
 from sentry.web.frontend.generic import missing_perm
 
 
-class InviteMemberForm(forms.Form):
-    def save(self, actor, team, ip_address):
-        pass
-
-
 class Step(object):
     def __init__(self, form, template):
         self.form = form
@@ -38,9 +32,8 @@ class CreateTeamView(OrganizationView):
     form_prefix = 'ctwizard'
 
     steps = [
-        Step(form=AddTeamForm, template='create-team-step-0.html'),
-        Step(form=InviteMemberForm, template='create-team-step-1.html'),
-        Step(form=AddProjectForm, template='create-team-step-2.html'),
+        Step(form=AddTeamForm, template='create-team-step-team.html'),
+        Step(form=AddProjectForm, template='create-team-step-project.html'),
     ]
 
     # A lot of this logic is inspired by Django's FormWizard, but unfortunately
@@ -159,7 +152,7 @@ class CreateTeamView(OrganizationView):
     def save(self, request, organization, all_forms):
         team = all_forms[0].save(request.user, organization, request.META['REMOTE_ADDR'])
 
-        project = all_forms[2].save(request.user, team, request.META['REMOTE_ADDR'])
+        project = all_forms[1].save(request.user, team, request.META['REMOTE_ADDR'])
 
         url = reverse('sentry-stream', args=[organization.slug, project.slug])
 
diff --git a/tests/sentry/web/frontend/test_create_team.py b/tests/sentry/web/frontend/test_create_team.py
index 5a81388ee3..ba36e99806 100644
--- a/tests/sentry/web/frontend/test_create_team.py
+++ b/tests/sentry/web/frontend/test_create_team.py
@@ -14,7 +14,7 @@ class CreateTeamTest(TestCase):
         self.login_as(self.user)
         resp = self.client.get(path)
         assert resp.status_code == 200
-        self.assertTemplateUsed(resp, 'sentry/create-team-step-0.html')
+        self.assertTemplateUsed(resp, 'sentry/create-team-step-team.html')
         assert resp.context['organization'] == organization
         assert resp.context['step'] == 0
         assert resp.context['form']
@@ -39,54 +39,17 @@ class CreateTeamTest(TestCase):
 
         self.login_as(self.user)
 
-        self.session['ctwizard'] = {'step0': {'name': 'bar'}}
-        self.save_session()
-
-        resp = self.client.post(path, {'step': '1'})
-
-        assert resp.status_code == 200
-        self.assertTemplateUsed(resp, 'sentry/create-team-step-1.html')
-        assert resp.context['organization'] == organization
-        assert resp.context['step'] == 1
-        assert resp.context['form']
-        # assert type(resp.context['form']) == NewProjectForm
-
-    def test_step_1_valid_params(self):
-        organization = self.create_organization()
-
-        path = reverse('sentry-create-team', args=[organization.slug])
-
-        self.login_as(self.user)
-
-        self.session['ctwizard'] = {'step0': {'name': 'bar'}}
-        self.save_session()
-
-        resp = self.client.post(path, {
-            'op': 'continue',
-            'step': '1',
-        })
-        assert resp.status_code == 200
-        assert resp.context['step'] == 2, resp.context['form'].errors
-
-    def test_step_2_renders(self):
-        organization = self.create_organization()
-
-        path = reverse('sentry-create-team', args=[organization.slug])
-
-        self.login_as(self.user)
-
         self.session['ctwizard'] = {
             'step0': {'name': 'bar'},
-            'step1': {},
         }
         self.save_session()
 
-        resp = self.client.post(path, {'step': '2'})
+        resp = self.client.post(path, {'step': '1'})
 
         assert resp.status_code == 200
-        self.assertTemplateUsed(resp, 'sentry/create-team-step-2.html')
+        self.assertTemplateUsed(resp, 'sentry/create-team-step-project.html')
         assert resp.context['organization'] == organization
-        assert resp.context['step'] == 2
+        assert resp.context['step'] == 1
         assert resp.context['form']
         assert type(resp.context['form']) == AddProjectForm
 
@@ -99,15 +62,14 @@ class CreateTeamTest(TestCase):
 
         self.session['ctwizard'] = {
             'step0': {'name': 'bar'},
-            'step1': {},
         }
         self.save_session()
 
         resp = self.client.post(path, {
             'op': 'continue',
-            'step': '2',
-            'ctwizard-2-name': 'bar',
-            'ctwizard-2-platform': 'python',
+            'step': '1',
+            'ctwizard-1-name': 'bar',
+            'ctwizard-1-platform': 'python',
         })
         assert resp.status_code == 302
 
