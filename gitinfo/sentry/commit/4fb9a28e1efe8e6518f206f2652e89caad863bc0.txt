commit 4fb9a28e1efe8e6518f206f2652e89caad863bc0
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Mar 21 11:42:26 2015 -0700

    Functional user nav

diff --git a/src/sentry/static/sentry/app/components/organizationSidebar.jsx b/src/sentry/static/sentry/app/components/organizationSidebar.jsx
index 066de17ff7..e616ba55c9 100644
--- a/src/sentry/static/sentry/app/components/organizationSidebar.jsx
+++ b/src/sentry/static/sentry/app/components/organizationSidebar.jsx
@@ -3,8 +3,11 @@
 var React = require("react");
 
 var AppState = require("../mixins/appState");
+var ConfigStore = require("../stores/configStore");
+var Gravatar = require("./gravatar");
 var ListLink = require("./listLink");
 var OrganizationState = require("../mixins/organizationState");
+var PropTypes = require("../proptypes");
 
 var OrganizationSelector = React.createClass({
   mixins: [AppState, OrganizationState],
@@ -35,16 +38,22 @@ var OrganizationSelector = React.createClass({
 });
 
 var UserNav = React.createClass({
+  propTypes: {
+    user: PropTypes.User.isRequired
+  },
 
   render() {
+    var user = this.props.user;
+    var urlPrefix = ConfigStore.get('urlPrefix');
+
     return (
       <div className="user-nav">
-        <img src="https://github.com/dcramer.png" className="avatar" />
+        <Gravatar email={user.email} className="avatar" />
         <div className="user-details">
-          <span className="user-name">David Cramer</span>
+          <span className="user-name">{user.name || user.email}</span>
           <ul>
-            <li><a href="#">Account</a></li>
-            <li><a href="#">Sign out</a></li>
+            <li><a href={urlPrefix + '/account/settings/'}>Account</a></li>
+            <li><a href={urlPrefix + '/auth/logout/'}>Sign out</a></li>
           </ul>
         </div>
       </div>
@@ -62,6 +71,8 @@ var OrganizationSidebar = React.createClass({
       return <div />;
     }
 
+    var user = ConfigStore.get('user');
+
     return (
       <div className="app-sidebar">
         <OrganizationSelector />
@@ -105,7 +116,9 @@ var OrganizationSidebar = React.createClass({
             })}
           </div>
         </div>
-        <UserNav />
+        {user &&
+          <UserNav user={user} />
+        }
       </div>
     );
   }
