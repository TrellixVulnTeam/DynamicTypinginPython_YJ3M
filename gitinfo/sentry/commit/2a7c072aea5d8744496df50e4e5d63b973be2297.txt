commit 2a7c072aea5d8744496df50e4e5d63b973be2297
Author: Samuel Colvin <s@muelcolvin.com>
Date:   Fri Apr 28 10:51:13 2017 +0100

    add auth tests and undefined to NOT_SCRUBBED_VALUES

diff --git a/src/sentry/constants.py b/src/sentry/constants.py
index 75f571dbec..fab3f14c26 100644
--- a/src/sentry/constants.py
+++ b/src/sentry/constants.py
@@ -182,6 +182,7 @@ NOT_SCRUBBED_VALUES = set([
     'true',
     'false',
     'null',
+    'undefined',
 ])
 
 VALID_PLATFORMS = set([
diff --git a/tests/sentry/utils/test_data_scrubber.py b/tests/sentry/utils/test_data_scrubber.py
index 33326d5aff..1cc0924d17 100644
--- a/tests/sentry/utils/test_data_scrubber.py
+++ b/tests/sentry/utils/test_data_scrubber.py
@@ -372,6 +372,12 @@ class SensitiveDataFilterTest(TestCase):
         assert proc.sanitize('MYSQL_PWD', 'the one') == FILTER_MASK
         assert proc.sanitize('mysql_pwd', 'the two') == FILTER_MASK
 
+    def test_authorization_scrubbing(self):
+        proc = SensitiveDataFilter(include_defaults=True)
+        assert proc.sanitize('authorization', 'foobar') == FILTER_MASK
+        assert proc.sanitize('auth', 'foobar') == FILTER_MASK
+        assert proc.sanitize('auXth', 'foobar') == 'foobar'
+
     def test_doesnt_scrub_not_scrubbed(self):
         proc = SensitiveDataFilter(include_defaults=True)
         assert proc.sanitize('is_authenticated', 'foobar') == FILTER_MASK
