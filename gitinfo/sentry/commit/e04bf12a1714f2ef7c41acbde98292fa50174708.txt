commit e04bf12a1714f2ef7c41acbde98292fa50174708
Author: ckj <chriskjennings@gmail.com>
Date:   Thu Nov 12 11:30:25 2015 -0800

    Add error level badges to emails

diff --git a/src/sentry/templates/sentry/emails/digests/body.html b/src/sentry/templates/sentry/emails/digests/body.html
index f11d943002..e961337a6a 100644
--- a/src/sentry/templates/sentry/emails/digests/body.html
+++ b/src/sentry/templates/sentry/emails/digests/body.html
@@ -21,12 +21,13 @@
     <div class="container">
       <table class="event-list">
           <tr>
-              <th>Issue</th>
-              <th class="align-right">Events</th>
-              <th class="align-right">Users</th>
+              <th colspan="2">Issue</th>
           </tr>
           {% for group, records in groups.items|slice:":10" %}
               <tr>
+                  <td class="error-level">
+                      <span class="level level-{{ group.get_level_display }}">{{ group.get_level_display }}</span>
+                  </td>
                   <td class="event-detail">
                       {% url 'sentry-group' group.organization.slug group.project.slug group.id as group_link %}
                       <a href="{% absolute_uri group_link %}">{{ group.message_short }}</a>
@@ -35,12 +36,6 @@
                         <small>&mdash; {{ records.0.datetime|date:"N j, Y, P e" }}</small>
                       </p>
                   </td>
-                  <td class="align-right">
-                      {{ group.event_count }}
-                  </td>
-                  <td class="align-right">
-                      {{ group.user_count }}
-                  </td>
               </tr>
           {% endfor %}
           {% with groups.items|slice:"10:" as remainder %}
diff --git a/src/sentry/templates/sentry/emails/email-styles.html b/src/sentry/templates/sentry/emails/email-styles.html
index 4ab60ae6a2..6f03f18a37 100644
--- a/src/sentry/templates/sentry/emails/email-styles.html
+++ b/src/sentry/templates/sentry/emails/email-styles.html
@@ -336,6 +336,7 @@
     text-transform: capitalize;
   }
   .level-info { background: #2788ce; }
+  .level-debug { background: #9BA5A9; }
   .level-warning { background: #f18500; }
   .level-error { background: #f43f20; }
   .level-fatal { background: #d20f2a; }
@@ -415,6 +416,24 @@
     font-weight: 600;
   }
 
+  .digest td.error-level {
+    padding: 0;
+    padding-top: 12px;
+    width: 46px;
+    vertical-align: top;
+  }
+
+  .digest td.error-level .level {
+    display: block;
+    font-size: 9px;
+    padding: 4px 0;
+    text-transform: uppercase;
+  }
+
+  .digest td.event-detail {
+    padding-left: 18px;
+  }
+
   table.event-list {
     text-align: left;
   }
