commit 86c69daf4a11e210e19b976838dce1a006ae7891
Author: Burak Yigit Kaya <byk@sentry.io>
Date:   Tue Jan 28 00:56:31 2020 +0300

    feat(docker): Auto check valid sentry commands in entrypoint (#16417)
    
    A take on https://github.com/getsentry/sentry/pull/16415#pullrequestreview-342090375

diff --git a/docker/docker-entrypoint.sh b/docker/docker-entrypoint.sh
index 546dbc756e..2142b52d9d 100755
--- a/docker/docker-entrypoint.sh
+++ b/docker/docker-entrypoint.sh
@@ -8,11 +8,9 @@ if [ "${1:0:1}" = '-' ]; then
 	set -- sentry "$@"
 fi
 
-case "$1" in
-	celery|cleanup|config|createuser|devserver|django|exec|export|help|import|init|permissions|plugins|queues|repair|run|shell|start|tsdb|upgrade)
-		set -- sentry "$@"
-	;;
-esac
+if [[ $1 =~ ^[[:alnum:]]+$ ]] && [ -f "/usr/local/lib/python2.7/site-packages/sentry/runner/commands/$1.py" ]; then
+	set -- sentry "$@";
+fi
 
 if [ "$1" = 'sentry' ]; then
 	set -- tini -- "$@"
