commit 15aa90d8ad99e3f840f2cd9e9e9d50db4285f22d
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Mon Feb 18 09:29:11 2019 +0100

    fix: Parse X-Sentry-Auth as latin1 (#12108)

diff --git a/src/sentry/utils/auth.py b/src/sentry/utils/auth.py
index 1b19032bb4..952e9ad1f0 100644
--- a/src/sentry/utils/auth.py
+++ b/src/sentry/utils/auth.py
@@ -34,12 +34,14 @@ class AuthUserPasswordExpired(Exception):
 
 
 def _make_key_value(val):
-    return val.strip().split('=', 1)
+    return val.strip().split(u'=', 1)
 
 
 def parse_auth_header(header):
+    if isinstance(header, bytes):
+        header = header.decode('latin1')
     try:
-        return dict(map(_make_key_value, header.split(' ', 1)[1].split(',')))
+        return dict(map(_make_key_value, header.split(u' ', 1)[1].split(u',')))
     except Exception:
         return {}
 
