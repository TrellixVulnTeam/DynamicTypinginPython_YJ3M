commit f89b2776bbe92d6c9af94d2ef259f1fecdc435ea
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Sep 24 03:08:10 2015 +0200

    Hide non-configurable plugins

diff --git a/src/sentry/web/frontend/project_issue_tracking.py b/src/sentry/web/frontend/project_issue_tracking.py
index fe5bf6c93a..b4f5f5a06b 100644
--- a/src/sentry/web/frontend/project_issue_tracking.py
+++ b/src/sentry/web/frontend/project_issue_tracking.py
@@ -59,7 +59,8 @@ class ProjectIssueTrackingView(ProjectView):
                 elif content:
                     enabled_plugins.append((plugin, mark_safe(content)))
                 enabled_plugins.append((plugin, mark_safe(content + view)))
-            else:
+            elif (plugin.can_enable_for_projects() and
+                  plugin.can_configure_for_project(project)):
                 other_plugins.append(plugin)
 
         context = {
diff --git a/src/sentry/web/frontend/project_notifications.py b/src/sentry/web/frontend/project_notifications.py
index 57f43d006d..e78acca724 100644
--- a/src/sentry/web/frontend/project_notifications.py
+++ b/src/sentry/web/frontend/project_notifications.py
@@ -88,7 +88,8 @@ class ProjectNotificationsView(ProjectView):
                     enabled_plugins.append((plugin, mark_safe(content + view)))
                 elif content:
                     enabled_plugins.append((plugin, mark_safe(content)))
-            else:
+            elif (plugin.can_enable_for_projects() and
+                  plugin.can_configure_for_project(project)):
                 other_plugins.append(plugin)
 
         context = {
diff --git a/src/sentry/web/frontend/project_release_tracking.py b/src/sentry/web/frontend/project_release_tracking.py
index b0dac805bb..2d31471272 100644
--- a/src/sentry/web/frontend/project_release_tracking.py
+++ b/src/sentry/web/frontend/project_release_tracking.py
@@ -92,7 +92,8 @@ class ProjectReleaseTrackingView(ProjectView):
                 }))
                 content = plugin.get_release_doc_html(hook_url=hook_url)
                 enabled_plugins.append((plugin, mark_safe(content)))
-            else:
+            elif (plugin.can_enable_for_projects() and
+                  plugin.can_configure_for_project(project)):
                 other_plugins.append(plugin)
 
         context = {
diff --git a/src/sentry/web/frontend/projects/plugins.py b/src/sentry/web/frontend/projects/plugins.py
index 1cbb16b2ee..74306124ac 100644
--- a/src/sentry/web/frontend/projects/plugins.py
+++ b/src/sentry/web/frontend/projects/plugins.py
@@ -26,7 +26,8 @@ def manage_plugins(request, organization, project):
     if request.POST:
         enabled = set(request.POST.getlist('plugin'))
         for plugin in plugins.all(version=None):
-            if plugin.can_enable_for_projects():
+            if plugin.can_enable_for_projects() and \
+               plugin.can_configure_for_project(project):
                 if plugin.slug in enabled:
                     plugin.enable(project)
                 else:
