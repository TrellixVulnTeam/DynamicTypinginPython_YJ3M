commit 04764e494fc7c47ca93df1a01b8f2a79cfd77bc6
Author: Jess MacQueen <jess@getsentry.com>
Date:   Thu Nov 2 11:30:43 2017 -0700

    ref(discard): Rename feature flag from custom-filters to discard-groups

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index aca73c5009..cd2431e372 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -442,7 +442,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
         discard = result.get('discard')
         if discard:
 
-            if not features.has('projects:custom-filters', project, actor=request.user):
+            if not features.has('projects:discard-groups', project, actor=request.user):
                 return Response({'detail': ['You do not have that feature enabled']}, status=400)
 
             group_list = list(queryset)
diff --git a/src/sentry/api/serializers/models/project.py b/src/sentry/api/serializers/models/project.py
index 882025d8db..de4c6fc2d2 100644
--- a/src/sentry/api/serializers/models/project.py
+++ b/src/sentry/api/serializers/models/project.py
@@ -104,7 +104,7 @@ class ProjectSerializer(Serializer):
 
         feature_list = []
         for feature in (
-            'global-events', 'data-forwarding', 'rate-limits', 'custom-filters', 'similarity-view',
+            'global-events', 'data-forwarding', 'rate-limits', 'discard-groups', 'similarity-view',
             'custom-inbound-filters', 'minidump',
         ):
             if features.has('projects:' + feature, obj, actor=user):
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 870b5b3767..375ac7f694 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -738,7 +738,7 @@ SENTRY_FEATURES = {
     'projects:sample-events': True,
     'projects:data-forwarding': True,
     'projects:rate-limits': True,
-    'projects:custom-filters': False,
+    'projects:discard-groups': False,
     'projects:custom-inbound-filters': False,
     'projects:minidump': False,
 }
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index 7de57b6e7e..a91530f11b 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -26,7 +26,7 @@ default_manager.add('projects:rate-limits', ProjectFeature)  # NOQA
 default_manager.add('workflow:release-emails', ProjectFeature)  # NOQA
 default_manager.add('projects:sample-events', ProjectFeature)  # NOQA
 default_manager.add('projects:similarity-indexing', ProjectFeature)  # NOQA
-default_manager.add('projects:custom-filters', ProjectFeature)  # NOQA
+default_manager.add('projects:discard-groups', ProjectFeature)  # NOQA
 default_manager.add('projects:custom-inbound-filters', ProjectFeature)  # NOQA
 default_manager.add('projects:minidump', ProjectFeature)  # NOQA
 
diff --git a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
index 8c8c46a740..329d844b6b 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
@@ -406,7 +406,7 @@ const DeleteActions = React.createClass({
         >
           <span className="icon-trash" />
         </LinkWithConfirmation>
-        {features.has('custom-filters') && (
+        {features.has('discard-groups') && (
           <DropdownLink
             caret={true}
             className="group-delete btn btn-default btn-sm"
diff --git a/src/sentry/static/sentry/app/views/projectFilters.jsx b/src/sentry/static/sentry/app/views/projectFilters.jsx
index 0f1f18a4d6..77850268f6 100644
--- a/src/sentry/static/sentry/app/views/projectFilters.jsx
+++ b/src/sentry/static/sentry/app/views/projectFilters.jsx
@@ -728,7 +728,7 @@ const ProjectFilters = React.createClass({
             </div>
           )}
         </div>
-        {features.has('custom-filters') && (
+        {features.has('discard-groups') && (
           <div className="sub-header flex flex-container flex-vertically-centered">
             <div className="p-t-1">
               <ul className="nav nav-tabs">
diff --git a/tests/sentry/api/endpoints/test_group_details.py b/tests/sentry/api/endpoints/test_group_details.py
index 2da14586dc..be399e88ec 100644
--- a/tests/sentry/api/endpoints/test_group_details.py
+++ b/tests/sentry/api/endpoints/test_group_details.py
@@ -326,7 +326,7 @@ class GroupUpdateTest(APITestCase):
         url = '/api/0/issues/{}/'.format(group.id)
 
         with self.tasks():
-            with self.feature('projects:custom-filters'):
+            with self.feature('projects:discard-groups'):
                 resp = self.client.put(
                     url, data={
                         'discard': True,
diff --git a/tests/sentry/api/endpoints/test_project_group_index.py b/tests/sentry/api/endpoints/test_project_group_index.py
index 778085bb3b..ad977b9fa7 100644
--- a/tests/sentry/api/endpoints/test_project_group_index.py
+++ b/tests/sentry/api/endpoints/test_project_group_index.py
@@ -1284,7 +1284,7 @@ class GroupUpdateTest(APITestCase):
             group1=group1,
         )
         with self.tasks():
-            with self.feature('projects:custom-filters'):
+            with self.feature('projects:discard-groups'):
                 response = self.client.put(
                     url, data={
                         'discard': True,
