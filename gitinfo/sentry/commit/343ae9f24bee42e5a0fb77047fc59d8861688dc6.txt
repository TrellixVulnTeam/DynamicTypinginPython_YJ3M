commit 343ae9f24bee42e5a0fb77047fc59d8861688dc6
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Tue Oct 2 15:57:43 2018 -0700

    ref(integrations): More repo options dropdown (linking issues) (#9986)

diff --git a/src/sentry/integrations/github/issues.py b/src/sentry/integrations/github/issues.py
index 8aff71ddb0..7a1bac2534 100644
--- a/src/sentry/integrations/github/issues.py
+++ b/src/sentry/integrations/github/issues.py
@@ -126,6 +126,14 @@ class GitHubIssueBasic(IssueBasicMixin):
         params = kwargs.get('params', {})
         default_repo = params.get('repo', repo_choices[0][0])
 
+        # If a repo has been selected outside of the default 100-limit list of
+        # repos, stick it onto the front of the list so that it can be
+        # selected.
+        try:
+            next(True for r in repo_choices if r[0] == default_repo)
+        except StopIteration:
+            repo_choices.insert(0, (default_repo, default_repo.split('/')[1]))
+
         org = group.organization
         autocomplete_url = reverse(
             'sentry-extensions-github-search', args=[org.slug, self.model.id],
@@ -137,7 +145,7 @@ class GitHubIssueBasic(IssueBasicMixin):
                 'label': 'GitHub Repository',
                 'type': 'select',
                 'default': default_repo,
-                'defaultLabel': default_repo.split('/')[1],
+                'choices': repo_choices,
                 'url': autocomplete_url,
                 'required': True,
                 'updatesForm': True,
diff --git a/tests/sentry/integrations/github/test_issues.py b/tests/sentry/integrations/github/test_issues.py
index dec29d214d..f0a1333954 100644
--- a/tests/sentry/integrations/github/test_issues.py
+++ b/tests/sentry/integrations/github/test_issues.py
@@ -184,10 +184,16 @@ class GitHubIssueBasicTest(TestCase):
             json=[{'login': 'MeredithAnya'}]
         )
 
+        # create an issue
         data = {'params': {'repo': 'getsentry/hello'}}
         resp = self.integration.get_create_issue_config(group=self.group, **data)
         assert resp[0]['choices'] == [(u'getsentry/hello', u'hello'),
                                       (u'getsentry/sentry', u'sentry')]
+        # link an issue
+        data = {'params': {'repo': 'getsentry/hello'}}
+        resp = self.integration.get_link_issue_config(group=self.group, **data)
+        assert resp[0]['choices'] == [(u'getsentry/hello', u'hello'),
+                                      (u'getsentry/sentry', u'sentry')]
 
     @responses.activate
     @patch('sentry.integrations.github.client.get_jwt', return_value='jwt_token_1')
