commit cd645010ee348d8330af091925cfc671aa3eb6f0
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Wed Nov 20 16:10:34 2019 -0800

    chore(ts): Convert Switch (#15689)

diff --git a/src/sentry/static/sentry/app/components/switch.jsx b/src/sentry/static/sentry/app/components/switch.jsx
deleted file mode 100644
index 5bdecf93e4..0000000000
--- a/src/sentry/static/sentry/app/components/switch.jsx
+++ /dev/null
@@ -1,87 +0,0 @@
-import PropTypes from 'prop-types';
-import React from 'react';
-import styled from 'react-emotion';
-
-class Switch extends React.Component {
-  static propTypes = {
-    id: PropTypes.string,
-    size: PropTypes.oneOf(['sm', 'lg']).isRequired,
-    isActive: PropTypes.bool,
-    isLoading: PropTypes.bool,
-    isDisabled: PropTypes.bool,
-    toggle: PropTypes.func.isRequired,
-  };
-
-  static defaultProps = {
-    size: 'sm',
-  };
-
-  render() {
-    const {size, isActive, isLoading, isDisabled, toggle, id, className} = this.props;
-
-    return (
-      <SwitchButton
-        id={id}
-        type="button"
-        className={className}
-        onClick={isDisabled ? null : toggle}
-        role="checkbox"
-        aria-checked={isActive}
-        isLoading={isLoading}
-        isDisabled={isDisabled}
-        isActive={isActive}
-        size={size}
-        data-test-id="switch"
-      >
-        <Toggle isDisabled={isDisabled} isActive={isActive} size={size} />
-      </SwitchButton>
-    );
-  }
-}
-
-const getSize = p => (p.size === 'sm' ? 16 : 24);
-const getToggleSize = p => getSize(p) - (p.size === 'sm' ? 6 : 10);
-const getToggleTop = p => (p.size === 'sm' ? 2 : 4);
-const getTranslateX = p => (p.isActive ? getToggleTop(p) + getSize(p) : getToggleTop(p));
-
-const SwitchButton = styled('button')`
-  display: inline-block;
-  background: none;
-  padding: 0;
-  border: 1px solid ${p => (p.isActive ? p.theme.borderDark : p.theme.borderLight)};
-  position: relative;
-  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.04);
-  transition: 0.15s border ease;
-  cursor: ${p => (p.isLoading || p.isDisabled ? 'not-allowed' : 'pointer')};
-  pointer-events: ${p => (p.isLoading || p.isDisabled ? 'none' : null)};
-  height: ${getSize}px;
-  width: ${p => getSize(p) * 2}px;
-  border-radius: ${getSize}px;
-
-  &:hover,
-  &:focus {
-    outline: none;
-    border-color: ${p => p.theme.borderDark};
-  }
-
-  &:focus,
-  &.focus-visible {
-    outline: none;
-    box-shadow: rgba(209, 202, 216, 0.5) 0 0 0 3px;
-  }
-`;
-
-const Toggle = styled('span')`
-  display: block;
-  position: absolute;
-  border-radius: 50%;
-  transition: 0.25s all ease;
-  top: ${getToggleTop}px;
-  transform: translateX(${getTranslateX}px);
-  width: ${getToggleSize}px;
-  height: ${getToggleSize}px;
-  background: ${p => (p.isActive ? p.theme.green : p.theme.gray6)};
-  opacity: ${p => (p.isDisabled ? 0.4 : null)};
-`;
-
-export default Switch;
diff --git a/src/sentry/static/sentry/app/components/switch.tsx b/src/sentry/static/sentry/app/components/switch.tsx
new file mode 100644
index 0000000000..a3f391d6be
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/switch.tsx
@@ -0,0 +1,101 @@
+import PropTypes from 'prop-types';
+import React from 'react';
+import styled from 'react-emotion';
+
+type Props = {
+  className?: string;
+  id?: string;
+  size?: 'sm' | 'lg';
+  isActive?: boolean;
+  isLoading?: boolean;
+  isDisabled?: boolean;
+  toggle: React.HTMLProps<HTMLButtonElement>['onClick'];
+};
+
+const Switch: React.FC<Props> = ({
+  size,
+  isActive,
+  isLoading,
+  isDisabled,
+  toggle,
+  id,
+  className,
+}) => (
+  <SwitchButton
+    id={id}
+    type="button"
+    className={className}
+    onClick={isDisabled ? undefined : toggle}
+    role="checkbox"
+    aria-checked={isActive}
+    isLoading={isLoading}
+    isDisabled={isDisabled}
+    isActive={isActive}
+    size={size}
+    data-test-id="switch"
+  >
+    <Toggle isDisabled={isDisabled} isActive={isActive} size={size} />
+  </SwitchButton>
+);
+
+Switch.propTypes = {
+  id: PropTypes.string,
+  size: PropTypes.oneOf(['sm', 'lg']),
+  isActive: PropTypes.bool,
+  isLoading: PropTypes.bool,
+  isDisabled: PropTypes.bool,
+  toggle: PropTypes.func.isRequired,
+};
+
+Switch.defaultProps = {
+  size: 'sm',
+};
+
+type StyleProps = Partial<Props>;
+
+const getSize = (p: StyleProps) => (p.size === 'sm' ? 16 : 24);
+const getToggleSize = (p: StyleProps) => getSize(p) - (p.size === 'sm' ? 6 : 10);
+const getToggleTop = (p: StyleProps) => (p.size === 'sm' ? 2 : 4);
+const getTranslateX = (p: StyleProps) =>
+  p.isActive ? getToggleTop(p) + getSize(p) : getToggleTop(p);
+
+const SwitchButton = styled('button')<StyleProps>`
+  display: inline-block;
+  background: none;
+  padding: 0;
+  border: 1px solid ${p => (p.isActive ? p.theme.borderDark : p.theme.borderLight)};
+  position: relative;
+  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.04);
+  transition: 0.15s border ease;
+  cursor: ${p => (p.isLoading || p.isDisabled ? 'not-allowed' : 'pointer')};
+  pointer-events: ${p => (p.isLoading || p.isDisabled ? 'none' : null)};
+  height: ${getSize}px;
+  width: ${p => getSize(p) * 2}px;
+  border-radius: ${getSize}px;
+
+  &:hover,
+  &:focus {
+    outline: none;
+    border-color: ${p => p.theme.borderDark};
+  }
+
+  &:focus,
+  &.focus-visible {
+    outline: none;
+    box-shadow: rgba(209, 202, 216, 0.5) 0 0 0 3px;
+  }
+`;
+
+const Toggle = styled('span')<StyleProps>`
+  display: block;
+  position: absolute;
+  border-radius: 50%;
+  transition: 0.25s all ease;
+  top: ${getToggleTop}px;
+  transform: translateX(${getTranslateX}px);
+  width: ${getToggleSize}px;
+  height: ${getToggleSize}px;
+  background: ${p => (p.isActive ? p.theme.green : p.theme.gray6)};
+  opacity: ${p => (p.isDisabled ? 0.4 : null)};
+`;
+export default Switch;
diff --git a/tests/js/spec/views/__snapshots__/accountSubscriptions.spec.jsx.snap b/tests/js/spec/views/__snapshots__/accountSubscriptions.spec.jsx.snap
index d03a08a3de..acb3cc4ed4 100644
--- a/tests/js/spec/views/__snapshots__/accountSubscriptions.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/accountSubscriptions.spec.jsx.snap
@@ -206,7 +206,7 @@ exports[`AccountSubscriptions renders list and can toggle 1`] = `
                                   >
                                     <button
                                       aria-checked={true}
-                                      className="css-fgzayp-SwitchButton e1wgeblw0"
+                                      className="css-fgzayp-SwitchButton ezmyi9u0"
                                       data-test-id="switch"
                                       onClick={[Function]}
                                       role="checkbox"
@@ -218,7 +218,7 @@ exports[`AccountSubscriptions renders list and can toggle 1`] = `
                                         size="lg"
                                       >
                                         <span
-                                          className="css-n9hg2w-Toggle e1wgeblw1"
+                                          className="css-n9hg2w-Toggle ezmyi9u1"
                                           size="lg"
                                         />
                                       </Toggle>
@@ -306,7 +306,7 @@ exports[`AccountSubscriptions renders list and can toggle 1`] = `
                                   >
                                     <button
                                       aria-checked={false}
-                                      className="css-1vudn4r-SwitchButton e1wgeblw0"
+                                      className="css-1vudn4r-SwitchButton ezmyi9u0"
                                       data-test-id="switch"
                                       onClick={[Function]}
                                       role="checkbox"
@@ -318,7 +318,7 @@ exports[`AccountSubscriptions renders list and can toggle 1`] = `
                                         size="lg"
                                       >
                                         <span
-                                          className="css-1uoqc08-Toggle e1wgeblw1"
+                                          className="css-1uoqc08-Toggle ezmyi9u1"
                                           size="lg"
                                         />
                                       </Toggle>
diff --git a/tests/js/spec/views/projectPlugins/__snapshots__/projectPluginsRow.spec.jsx.snap b/tests/js/spec/views/projectPlugins/__snapshots__/projectPluginsRow.spec.jsx.snap
index 81ace4d9c7..36da8c6c0c 100644
--- a/tests/js/spec/views/projectPlugins/__snapshots__/projectPluginsRow.spec.jsx.snap
+++ b/tests/js/spec/views/projectPlugins/__snapshots__/projectPluginsRow.spec.jsx.snap
@@ -215,7 +215,7 @@ exports[`ProjectPluginRow renders 1`] = `
                 >
                   <button
                     aria-checked={false}
-                    className="css-qiticg-SwitchButton e1wgeblw0"
+                    className="css-qiticg-SwitchButton ezmyi9u0"
                     data-test-id="switch"
                     onClick={[Function]}
                     role="checkbox"
@@ -228,7 +228,7 @@ exports[`ProjectPluginRow renders 1`] = `
                       size="lg"
                     >
                       <span
-                        className="css-pa284f-Toggle e1wgeblw1"
+                        className="css-pa284f-Toggle ezmyi9u1"
                         size="lg"
                       />
                     </Toggle>
