commit 248acc35235718bc2c4766204ec5ac458689d09c
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 5 12:34:17 2012 -0800

    Import eventlet on demand in the udp package

diff --git a/sentry/services/udp.py b/sentry/services/udp.py
index 282a3724c3..686f35161e 100644
--- a/sentry/services/udp.py
+++ b/sentry/services/udp.py
@@ -6,7 +6,6 @@ sentry.services.udp
 :license: BSD, see LICENSE for more details.
 """
 
-import eventlet
 import logging
 
 from sentry.services.base import Service
@@ -14,6 +13,10 @@ from sentry.services.base import Service
 logger = logging.getLogger(__file__)
 
 
+class CommandError(Exception):
+    pass
+
+
 class SentryUDPServer(Service):
     name = 'udp'
 
@@ -61,6 +64,12 @@ class SentryUDPServer(Service):
             return error
 
     def run(self):
+        try:
+            import eventlet
+        except ImportError:
+            raise CommandError('It seems you dont have the ``eventlet`` package installed, which is required to run'
+                               'the udp service.')
+
         from eventlet.green import socket
 
         sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
