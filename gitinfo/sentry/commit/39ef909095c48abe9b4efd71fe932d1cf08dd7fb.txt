commit 39ef909095c48abe9b4efd71fe932d1cf08dd7fb
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Aug 27 11:49:20 2010 -0700

    A URL is not always present on tracebacks

diff --git a/djangodblog/admin.py b/djangodblog/admin.py
index 427814fdf2..08dc6a976e 100644
--- a/djangodblog/admin.py
+++ b/djangodblog/admin.py
@@ -217,7 +217,10 @@ class ErrorAdmin(EfficientModelAdmin):
         fake_request.FILES = obj.data.get('FILES', {})
         fake_request.COOKIES = obj.data.get('COOKIES', {})
         fake_request.url = obj.url
-        fake_request.path_info = '/' + obj.url.split('/', 3)[-1]
+        if obj.url:
+            fake_request.path_info = '/' + obj.url.split('/', 3)[-1]
+        else:
+            fake_request.path_info = ''
 
         reporter = ImprovedExceptionReporter(fake_request, exc_type, exc_value, frames)
         html = reporter.get_traceback_html()
