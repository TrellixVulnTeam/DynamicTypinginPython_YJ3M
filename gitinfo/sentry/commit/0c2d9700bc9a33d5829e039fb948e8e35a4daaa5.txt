commit 0c2d9700bc9a33d5829e039fb948e8e35a4daaa5
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Mar 16 11:23:34 2018 -0700

    fix(ui): Fix resend verification for primary email (#7668)

diff --git a/src/sentry/static/sentry/app/views/settings/account/accountEmails.jsx b/src/sentry/static/sentry/app/views/settings/account/accountEmails.jsx
index 48df8ab03f..eac9bb5371 100644
--- a/src/sentry/static/sentry/app/views/settings/account/accountEmails.jsx
+++ b/src/sentry/static/sentry/app/views/settings/account/accountEmails.jsx
@@ -31,16 +31,18 @@ const RemoveButton = styled(({hidden, ...props}) => (
 class EmailRow extends React.Component {
   static propTypes = {
     email: PropTypes.string.isRequired,
+    onRemove: PropTypes.func.isRequired,
+    onVerify: PropTypes.func.isRequired,
     isVerified: PropTypes.bool,
     isPrimary: PropTypes.bool,
     hideRemove: PropTypes.bool,
-    onRemove: PropTypes.func,
-    onVerify: PropTypes.func,
     onSetPrimary: PropTypes.func,
   };
 
   handleSetPrimary = e => {
-    this.props.onSetPrimary(this.props.email, e);
+    if (typeof this.props.onSetPrimary === 'function') {
+      this.props.onSetPrimary(this.props.email, e);
+    }
   };
 
   handleRemove = e => {
@@ -157,7 +159,13 @@ class AccountEmails extends AsyncView {
         <Panel>
           <PanelHeader>{t('Emails')}</PanelHeader>
           <PanelBody>
-            {primary && <EmailRow onRemove={this.handleRemove} {...primary} />}
+            {primary && (
+              <EmailRow
+                onRemove={this.handleRemove}
+                onVerify={this.handleVerify}
+                {...primary}
+              />
+            )}
 
             {secondary &&
               secondary.map(emailObj => {
diff --git a/tests/js/spec/views/__snapshots__/accountEmails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/accountEmails.spec.jsx.snap
index 5bd1e61113..d7697dcaff 100644
--- a/tests/js/spec/views/__snapshots__/accountEmails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/accountEmails.spec.jsx.snap
@@ -22,6 +22,7 @@ exports[`AccountEmails renders with emails 1`] = `
           isPrimary={true}
           isVerified={true}
           onRemove={[Function]}
+          onVerify={[Function]}
         />
         <EmailRow
           email="secondary1@example.com"
