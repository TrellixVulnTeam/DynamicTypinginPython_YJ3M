commit f6e93b74d1e4b2afd99dfcd28ef1aa1e689fa098
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Wed Nov 15 11:39:40 2017 -0800

    ref(react): Change Org Teams routes to be child of org settings (#6385)

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 285d4407db..e64716e6c1 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -129,6 +129,18 @@ const orgSettingsRoutes = [
     path="settings/"
     component={errorHandler(OrganizationSettings)}
   />,
+
+  <Route key="team-details" path="teams/:teamId/" component={errorHandler(TeamDetails)}>
+    <IndexRedirect to="settings/" />
+    <Route path="settings/" component={errorHandler(TeamSettings)} />
+    <Route path="members/" component={errorHandler(TeamMembers)} />
+  </Route>,
+
+  <Route key="teams" path="teams/" component={errorHandler(OrganizationTeams)} />,
+
+  <Route key="all-teams" path="all-teams/" component={errorHandler(OrganizationTeams)}>
+    <IndexRoute component={errorHandler(AllTeamsList)} />
+  </Route>,
 ];
 
 const projectSettingsRoutes = [
@@ -276,34 +288,16 @@ function routes() {
       <Route path="/:orgId/" component={errorHandler(OrganizationDetails)}>
         <IndexRoute component={errorHandler(OrganizationDashboard)} />
 
-        <Route path="/organizations/:orgId/" component={OrganizationHomeContainer}>
-          {hooksOrgRoutes}
-          {orgSettingsRoutes}
-        </Route>
-
-        <Route
-          path="/organizations/:orgId/teams/"
-          component={errorHandler(OrganizationTeams)}
-        />
         <Route
           path="/organizations/:orgId/teams/new/"
           component={errorHandler(TeamCreate)}
         />
-        <Route
-          path="/organizations/:orgId/teams/:teamId/"
-          component={errorHandler(TeamDetails)}
-        >
-          <IndexRedirect to="settings/" />
-          <Route path="settings/" component={errorHandler(TeamSettings)} />
-          <Route path="members/" component={errorHandler(TeamMembers)} />
-        </Route>
 
-        <Route
-          path="/organizations/:orgId/all-teams/"
-          component={errorHandler(OrganizationTeams)}
-        >
-          <IndexRoute component={errorHandler(AllTeamsList)} />
+        <Route path="/organizations/:orgId/" component={OrganizationHomeContainer}>
+          {hooksOrgRoutes}
+          {orgSettingsRoutes}
         </Route>
+
         <Route
           path="/organizations/:orgId/issues/assigned/"
           component={errorHandler(MyIssuesAssignedToMe)}
diff --git a/src/sentry/static/sentry/app/views/organizationTeams/index.jsx b/src/sentry/static/sentry/app/views/organizationTeams/index.jsx
index 4beaa6ef64..9037c17b86 100644
--- a/src/sentry/static/sentry/app/views/organizationTeams/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationTeams/index.jsx
@@ -4,7 +4,6 @@ import Reflux from 'reflux';
 import {t} from '../../locale';
 import ApiMixin from '../../mixins/apiMixin';
 import ListLink from '../../components/listLink';
-import OrganizationHomeContainer from '../../components/organizations/homeContainer';
 import OrganizationState from '../../mixins/organizationState';
 import TeamStore from '../../stores/teamStore';
 import {sortArray} from '../../utils';
@@ -61,44 +60,42 @@ const OrganizationTeams = React.createClass({
     let activeTeams = this.state.teamList.filter(team => team.isMember);
 
     return (
-      <OrganizationHomeContainer>
-        <div className="row">
-          <div className="col-md-9">
-            <div className="team-list">
-              <ul className="nav nav-tabs border-bottom">
-                <ListLink to={`/organizations/${org.slug}/teams/`}>
-                  {t('Your Teams')}
-                </ListLink>
-                <ListLink to={`/organizations/${org.slug}/all-teams/`}>
-                  {t('All Teams')}{' '}
-                  <span className="badge badge-soft">{allTeams.length}</span>
-                </ListLink>
-              </ul>
-              {this.props.children /* should be AllTeamsList */ ? (
-                React.cloneElement(this.props.children, {
-                  organization: org,
-                  teamList: allTeams,
-                  access,
-                  openMembership:
-                    features.has('open-membership') || access.has('org:write'),
-                })
-              ) : (
-                <ExpandedTeamList
-                  organization={org}
-                  teamList={activeTeams}
-                  projectStats={this.state.projectStats}
-                  hasTeams={allTeams.length !== 0}
-                  access={access}
-                />
-              )}
-            </div>
+      <div className="row">
+        <div className="col-md-9">
+          <div className="team-list">
+            <ul className="nav nav-tabs border-bottom">
+              <ListLink to={`/organizations/${org.slug}/teams/`}>
+                {t('Your Teams')}
+              </ListLink>
+              <ListLink to={`/organizations/${org.slug}/all-teams/`}>
+                {t('All Teams')}{' '}
+                <span className="badge badge-soft">{allTeams.length}</span>
+              </ListLink>
+            </ul>
+            {this.props.children /* should be AllTeamsList */ ? (
+              React.cloneElement(this.props.children, {
+                organization: org,
+                teamList: allTeams,
+                access,
+                openMembership:
+                  features.has('open-membership') || access.has('org:write'),
+              })
+            ) : (
+              <ExpandedTeamList
+                organization={org}
+                teamList={activeTeams}
+                projectStats={this.state.projectStats}
+                hasTeams={allTeams.length !== 0}
+                access={access}
+              />
+            )}
           </div>
-          <OrganizationStatOverview
-            orgId={this.props.params.orgId}
-            className="col-md-3 stats-column"
-          />
         </div>
-      </OrganizationHomeContainer>
+        <OrganizationStatOverview
+          orgId={this.props.params.orgId}
+          className="col-md-3 stats-column"
+        />
+      </div>
     );
   },
 });
diff --git a/src/sentry/static/sentry/app/views/teamDetails.jsx b/src/sentry/static/sentry/app/views/teamDetails.jsx
index 23740b1985..957a6dc717 100644
--- a/src/sentry/static/sentry/app/views/teamDetails.jsx
+++ b/src/sentry/static/sentry/app/views/teamDetails.jsx
@@ -8,7 +8,6 @@ import LoadingError from '../components/loadingError';
 import LoadingIndicator from '../components/loadingIndicator';
 import MenuItem from '../components/menuItem';
 import OrganizationState from '../mixins/organizationState';
-import OrganizationHomeContainer from '../components/organizations/homeContainer';
 import {t} from '../locale';
 
 const TeamDetails = React.createClass({
@@ -90,7 +89,7 @@ const TeamDetails = React.createClass({
     let access = this.getAccess();
 
     return (
-      <OrganizationHomeContainer>
+      <div>
         <h3>{team.name}</h3>
 
         {access.has('team:admin') && (
@@ -108,7 +107,7 @@ const TeamDetails = React.createClass({
           team,
           onTeamChange: this.onTeamChange,
         })}
-      </OrganizationHomeContainer>
+      </div>
     );
   },
 });
