commit a74212f553b680991871e45f93d4eec6b34eef22
Author: Max Bittker <maxbittker@gmail.com>
Date:   Fri Mar 23 09:03:46 2018 -0700

    fix(owners): rulebuilder follow up (#7763)
    
    * fix styles for rule builder, add size zero to button, add users by email, save on add
    
    * remove select2 search, update color, update padding

diff --git a/src/sentry/static/sentry/app/components/avatar.jsx b/src/sentry/static/sentry/app/components/avatar.jsx
index a742048729..b2804db186 100644
--- a/src/sentry/static/sentry/app/components/avatar.jsx
+++ b/src/sentry/static/sentry/app/components/avatar.jsx
@@ -1,7 +1,7 @@
 import classNames from 'classnames';
 import PropTypes from 'prop-types';
 import React from 'react';
-import $ from 'jquery';
+import qs from 'query-string';
 import MD5 from 'crypto-js/md5';
 import ConfigStore from '../stores/configStore';
 import UserLetterAvatar from '../components/userLetterAvatar';
@@ -41,7 +41,7 @@ class Avatar extends React.Component {
       d: this.props.default || 'blank',
     };
 
-    url += '?' + $.param(query);
+    url += '?' + qs.stringify(query);
 
     return url;
   };
@@ -49,7 +49,7 @@ class Avatar extends React.Component {
   buildProfileUrl = () => {
     let url = '/avatar/' + this.props.user.avatar.avatarUuid + '/';
     if (this.props.size) {
-      url += '?' + $.param({s: this.props.size});
+      url += '?' + qs.stringify({s: this.props.size});
     }
     return url;
   };
diff --git a/src/sentry/static/sentry/app/components/buttons/button.jsx b/src/sentry/static/sentry/app/components/buttons/button.jsx
index cd01419f31..8d73f628dd 100644
--- a/src/sentry/static/sentry/app/components/buttons/button.jsx
+++ b/src/sentry/static/sentry/app/components/buttons/button.jsx
@@ -20,7 +20,7 @@ const StyledInlineSvg = styled(InlineSvg)`
 class Button extends React.Component {
   static propTypes = {
     priority: PropTypes.oneOf(['primary', 'danger', 'link', 'success']),
-    size: PropTypes.oneOf(['small', 'xsmall', 'large']),
+    size: PropTypes.oneOf(['zero', 'small', 'xsmall', 'large']),
     disabled: PropTypes.bool,
     busy: PropTypes.bool,
     /**
@@ -96,6 +96,7 @@ class Button extends React.Component {
       'button-success': isSuccess,
       'button-link': isLink && !isPrimary && !isDanger,
       'button-default': !isLink && !isPrimary && !isDanger,
+      'button-zero': size === 'zero',
       'button-sm': size === 'small',
       'button-xs': size === 'xsmall',
       'button-lg': size === 'large',
diff --git a/src/sentry/static/sentry/app/components/selectInput.jsx b/src/sentry/static/sentry/app/components/selectInput.jsx
index 35e3afefd8..d72847a055 100644
--- a/src/sentry/static/sentry/app/components/selectInput.jsx
+++ b/src/sentry/static/sentry/app/components/selectInput.jsx
@@ -7,6 +7,7 @@ class SelectInput extends React.Component {
     disabled: PropTypes.bool,
     multiple: PropTypes.bool,
     required: PropTypes.bool,
+    showSearch: PropTypes.bool, // enables text search input
     placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),
     value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),
     onChange: PropTypes.func,
@@ -19,8 +20,8 @@ class SelectInput extends React.Component {
     required: false,
 
     // Extra options
+    showSearch: true,
     placeholder: 'Select an option...',
-
     // Component options
     value: '',
     onChange: $.noop,
@@ -62,6 +63,8 @@ class SelectInput extends React.Component {
   create = () => {
     this.select2 = jQuery(this.refs.select).select2({
       width: 'element',
+      // disables filter input
+      minimumResultsForSearch: this.props.showSearch ? 0 : -1,
     });
     this.select2.on('change', this.onChange);
   };
@@ -76,8 +79,11 @@ class SelectInput extends React.Component {
   };
 
   render() {
+    let {...props} = this.props;
+    delete props.showSearch;
+
     return (
-      <select ref="select" {...this.props}>
+      <select ref="select" {...props}>
         {this.props.children}
       </select>
     );
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
index a16405e148..cdf630a393 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ownerInput.jsx
@@ -111,9 +111,12 @@ class OwnerInput extends React.Component {
   }
 
   handleAddRule(rule) {
-    this.setState(({text}) => ({
-      text: text + '\n' + rule,
-    }));
+    this.setState(
+      ({text}) => ({
+        text: text + '\n' + rule,
+      }),
+      this.handleUpdateOwnership
+    );
   }
 
   render() {
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ruleBuilder.jsx b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ruleBuilder.jsx
index 56d717c996..3a222a83d2 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ruleBuilder.jsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectOwnership/ruleBuilder.jsx
@@ -46,6 +46,7 @@ const Divider = styled(InlineSvg)`
 const Owners = styled('div')`
   justify-content: flex-end;
   display: flex;
+  padding: 3px;
   span {
     margin-right: 2px;
   }
@@ -58,36 +59,20 @@ const Owners = styled('div')`
 
 const BuilderDropdownButton = styled(DropdownButton)`
   margin-right: 5px;
+  padding-right: 8px !important;
+  padding-left: 3px !important;
+
   flex: 1;
   white-space: nowrap;
   height: 37px;
-  .button-label {
-    font-size: 14px;
-    padding: 4px 8px;
-    padding-left 4px;
-  }
+  color: ${p => p.theme.gray3} !important;
 `;
 
 const RuleAddButton = styled(Button)`
   width: 37px;
   height: 37px;
   flex-shrink: 0;
-
-  display: flex;
-  justify-content: center;
-
-  .button-label {
-    padding: 0.5em;
-  }
-
-  div {
-    margin: 0px !important;
-  }
-`;
-
-const AddOwnersLabel = styled.div`
-  margin-left: 3px;
-  padding: 0px;
+  padding: 10px 12px !important;
 `;
 
 const initialState = {
@@ -170,8 +155,14 @@ class RuleBuilder extends React.Component {
       addErrorMessage('A Rule needs a type, a value, and one or more owners.');
       return;
     }
+
     let ownerText = owners
-      .map(actor => `${actor.type == 'team' ? '#' : ''}${actor.name}`)
+      .map(
+        actor =>
+          actor.type == 'team'
+            ? `#${actor.name}`
+            : memberListStore.getById(actor.id).email
+      )
       .join(' ');
 
     let rule = `${type}:${text} ${ownerText}`;
@@ -184,7 +175,7 @@ class RuleBuilder extends React.Component {
 
     return (
       <BuilderBar>
-        <BuilderSelect value={type} onChange={this.handleTypeChange}>
+        <BuilderSelect value={type} showSearch={false} onChange={this.handleTypeChange}>
           <option value="path">Path</option>
           <option value="url">URL</option>
         </BuilderSelect>
@@ -212,7 +203,7 @@ class RuleBuilder extends React.Component {
             onSelect={this.onAddActor}
           >
             {({isOpen, selectedItem}) => (
-              <BuilderDropdownButton isOpen={isOpen}>
+              <BuilderDropdownButton isOpen={isOpen} size="zero">
                 <Owners>
                   {owners.map(owner => (
                     <span
@@ -223,7 +214,7 @@ class RuleBuilder extends React.Component {
                     </span>
                   ))}
                 </Owners>
-                <AddOwnersLabel>{t('Add Owners')}</AddOwnersLabel>
+                <div>{t('Add Owners')}</div>
               </BuilderDropdownButton>
             )}
           </DropdownAutoComplete>
@@ -233,6 +224,7 @@ class RuleBuilder extends React.Component {
           priority="primary"
           onClick={this.handleAddRule}
           icon="icon-circle-add"
+          size="zero"
         />
       </BuilderBar>
     );
diff --git a/src/sentry/static/sentry/less/components/button.less b/src/sentry/static/sentry/less/components/button.less
index 781dee8055..6a0ee312cf 100644
--- a/src/sentry/static/sentry/less/components/button.less
+++ b/src/sentry/static/sentry/less/components/button.less
@@ -138,6 +138,12 @@
 // Size Concerns
 // - Padding and font size
 
+.button-zero {
+  .button-label {
+    padding: 0px;
+  }
+}
+
 .button-xs {
   font-size: 12px;
 
diff --git a/tests/js/spec/components/group/__snapshots__/suggestedOwners.spec.jsx.snap b/tests/js/spec/components/group/__snapshots__/suggestedOwners.spec.jsx.snap
index d026c24b3a..cd40945106 100644
--- a/tests/js/spec/components/group/__snapshots__/suggestedOwners.spec.jsx.snap
+++ b/tests/js/spec/components/group/__snapshots__/suggestedOwners.spec.jsx.snap
@@ -100,7 +100,7 @@ exports[`SuggestedOwners render() should show owners when enable 1`] = `
                   <img
                     onError={[Function]}
                     onLoad={[Function]}
-                    src="undefined/avatar/e1f3994f2632af3d1c8c2dcc168a10e6?s=64&d=blank"
+                    src="undefined/avatar/e1f3994f2632af3d1c8c2dcc168a10e6?d=blank&s=64"
                   />
                 </span>
               </Tooltip>
diff --git a/tests/js/spec/views/__snapshots__/auditLogView.spec.jsx.snap b/tests/js/spec/views/__snapshots__/auditLogView.spec.jsx.snap
index 452caaa7d9..6ce4a05432 100644
--- a/tests/js/spec/views/__snapshots__/auditLogView.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/auditLogView.spec.jsx.snap
@@ -619,6 +619,7 @@ exports[`AuditLogView renders 1`] = `
                     onChange={[Function]}
                     placeholder="Select an option..."
                     required={false}
+                    showSearch={true}
                     style={
                       Object {
                         "width": 250,
@@ -760,6 +761,7 @@ exports[`AuditLogView renders 1`] = `
                               onChange={[Function]}
                               placeholder="Select an option..."
                               required={false}
+                              showSearch={true}
                               style={
                                 Object {
                                   "width": 250,
diff --git a/tests/js/spec/views/__snapshots__/organizationMembersView.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationMembersView.spec.jsx.snap
index f78dea10e0..7f3369aecc 100644
--- a/tests/js/spec/views/__snapshots__/organizationMembersView.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationMembersView.spec.jsx.snap
@@ -565,7 +565,7 @@ exports[`OrganizationMembersView No Require Link does not have 2fa warning if us
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/c68ca8af553301ae11c5607b8bb672b4?s=64&d=blank"
+                                          src="undefined/avatar/c68ca8af553301ae11c5607b8bb672b4?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
@@ -840,7 +840,7 @@ exports[`OrganizationMembersView No Require Link does not have 2fa warning if us
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/4eca4e68b0a900e542fdf17e57d04dcd?s=64&d=blank"
+                                          src="undefined/avatar/4eca4e68b0a900e542fdf17e57d04dcd?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
@@ -1110,7 +1110,7 @@ exports[`OrganizationMembersView No Require Link does not have 2fa warning if us
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/40d78e2a4587a53a171944ffe71ee3d4?s=64&d=blank"
+                                          src="undefined/avatar/40d78e2a4587a53a171944ffe71ee3d4?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
@@ -1836,7 +1836,7 @@ exports[`OrganizationMembersView Require Link does not have 2fa warning if user
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/c68ca8af553301ae11c5607b8bb672b4?s=64&d=blank"
+                                          src="undefined/avatar/c68ca8af553301ae11c5607b8bb672b4?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
@@ -2145,7 +2145,7 @@ exports[`OrganizationMembersView Require Link does not have 2fa warning if user
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/4eca4e68b0a900e542fdf17e57d04dcd?s=64&d=blank"
+                                          src="undefined/avatar/4eca4e68b0a900e542fdf17e57d04dcd?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
@@ -2454,7 +2454,7 @@ exports[`OrganizationMembersView Require Link does not have 2fa warning if user
                                         <img
                                           onError={[Function]}
                                           onLoad={[Function]}
-                                          src="undefined/avatar/40d78e2a4587a53a171944ffe71ee3d4?s=64&d=blank"
+                                          src="undefined/avatar/40d78e2a4587a53a171944ffe71ee3d4?d=blank&s=64"
                                         />
                                       </span>
                                     </Tooltip>
diff --git a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
index 346f86bb25..837f40c640 100644
--- a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
@@ -1,7 +1,7 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
 exports[`ProjectTeamsSettings render() renders 1`] = `
-.glamor-64 {
+.glamor-62 {
   display: -webkit-box;
   display: -webkit-flex;
   display: -ms-flexbox;
@@ -104,7 +104,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   margin-right: 5px;
 }
 
-.glamor-45 {
+.glamor-43 {
   box-sizing: border-box;
   -webkit-flex: 1;
   -ms-flex: 1;
@@ -119,45 +119,39 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   align-items: center;
 }
 
-.glamor-41 {
+.glamor-39 {
   position: relative;
   display: inline-block;
 }
 
-.glamor-37 {
+.glamor-35 {
   margin-right: 5px;
+  padding-right: 8px !important;
+  padding-left: 3px !important;
   -webkit-flex: 1;
   -ms-flex: 1;
   flex: 1;
   white-space: nowrap;
   height: 37px;
+  color: !important;
 }
 
-.glamor-37 .button-label {
-  font-size: 14px;
-  padding: 4px 8px;
-  padding-left: 4px;
-}
-
-.glamor-29 {
+.glamor-27 {
   position: relative;
   z-index: 2;
   box-shadow: none;
   margin-right: 5px;
+  padding-right: 8px !important;
+  padding-left: 3px !important;
   -webkit-flex: 1;
   -ms-flex: 1;
   flex: 1;
   white-space: nowrap;
   height: 37px;
+  color: !important;
 }
 
-.glamor-29 .button-label {
-  font-size: 14px;
-  padding: 4px 8px;
-  padding-left: 4px;
-}
-
-.glamor-26 {
+.glamor-24 {
   box-sizing: border-box;
   display: -webkit-box;
   display: -webkit-flex;
@@ -178,6 +172,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   display: -webkit-flex;
   display: -ms-flexbox;
   display: flex;
+  padding: 3px;
 }
 
 .glamor-13 span {
@@ -189,60 +184,40 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   height: 28px;
 }
 
-.glamor-15 {
-  margin-left: 3px;
-  padding: 0px;
-}
-
-.glamor-20 {
+.glamor-18 {
   margin-left: 0.33em;
 }
 
-.glamor-18 {
+.glamor-16 {
   vertical-align: middle;
   margin-left: 0.33em;
 }
 
-.glamor-60 {
+.glamor-58 {
   width: 37px;
   height: 37px;
   -webkit-flex-shrink: 0;
   -ms-flex-negative: 0;
   flex-shrink: 0;
-  display: -webkit-box;
-  display: -webkit-flex;
-  display: -ms-flexbox;
-  display: flex;
-  -webkit-box-pack: center;
-  -webkit-justify-content: center;
-  -ms-flex-pack: center;
-  justify-content: center;
-}
-
-.glamor-60 .button-label {
-  padding: 0.5em;
-}
-
-.glamor-60 div {
-  margin: 0px !important;
+  padding: 10px 12px !important;
 }
 
-.glamor-54 {
+.glamor-52 {
   box-sizing: border-box;
   margin-right: 8px;
   margin-left: -2px;
 }
 
-.glamor-50 {
+.glamor-48 {
   display: block;
 }
 
-.glamor-48 {
+.glamor-46 {
   vertical-align: middle;
   display: block;
 }
 
-.glamor-68 {
+.glamor-66 {
   text-align: end;
   padding-top: 10px;
 }
@@ -335,10 +310,11 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   >
     <BuilderBar>
       <div
-        className="glamor-64 glamor-65"
+        className="glamor-62 glamor-63"
       >
         <BuilderSelect
           onChange={[Function]}
+          showSearch={false}
           value="path"
         >
           <SelectInput
@@ -348,6 +324,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
             onChange={[Function]}
             placeholder="Select an option..."
             required={false}
+            showSearch={false}
             value="path"
           >
             <select
@@ -420,11 +397,11 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
         >
           <Base
             align="center"
-            className="glamor-45"
+            className="glamor-43"
             flex="1"
           >
             <div
-              className="glamor-45"
+              className="glamor-43"
               is={null}
             >
               <DropdownAutoComplete
@@ -474,10 +451,10 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                     >
                       <AutoCompleteRoot>
                         <Component
-                          className="glamor-41 glamor-42"
+                          className="glamor-39 glamor-40"
                         >
                           <div
-                            className="glamor-41 glamor-42"
+                            className="glamor-39 glamor-40"
                           >
                             <div
                               onClick={[Function]}
@@ -487,25 +464,30 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                             >
                               <BuilderDropdownButton
                                 isOpen={false}
+                                size="zero"
                               >
                                 <DropdownButton
-                                  className="glamor-37 glamor-28"
+                                  className="glamor-35 glamor-26"
                                   isOpen={false}
+                                  size="zero"
                                 >
                                   <StyledButton
-                                    className="glamor-37 glamor-28"
+                                    className="glamor-35 glamor-26"
                                     isOpen={false}
+                                    size="zero"
                                   >
                                     <Component
-                                      className="glamor-28 glamor-29 glamor-30"
+                                      className="glamor-26 glamor-27 glamor-28"
                                       isOpen={false}
+                                      size="zero"
                                     >
                                       <Button
-                                        className="glamor-28 glamor-29 glamor-30"
+                                        className="glamor-26 glamor-27 glamor-28"
                                         disabled={false}
+                                        size="zero"
                                       >
                                         <button
-                                          className="glamor-28 glamor-29 glamor-30 button button-default"
+                                          className="glamor-26 glamor-27 glamor-28 button button-default button-zero"
                                           disabled={false}
                                           onClick={[Function]}
                                           role="button"
@@ -516,10 +498,10 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                                           >
                                             <Base
                                               align="center"
-                                              className="button-label glamor-26"
+                                              className="button-label glamor-24"
                                             >
                                               <div
-                                                className="button-label glamor-26"
+                                                className="button-label glamor-24"
                                                 is={null}
                                               >
                                                 <Owners>
@@ -527,30 +509,26 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                                                     className="glamor-13 glamor-14"
                                                   />
                                                 </Owners>
-                                                <AddOwnersLabel>
-                                                  <div
-                                                    className="glamor-15 glamor-16"
-                                                  >
-                                                    Add Owners
-                                                  </div>
-                                                </AddOwnersLabel>
+                                                <div>
+                                                  Add Owners
+                                                </div>
                                                 <StyledChevronDown>
                                                   <Component
-                                                    className="glamor-20 glamor-17"
+                                                    className="glamor-18 glamor-15"
                                                   >
                                                     <InlineSvg
-                                                      className="glamor-20 glamor-17"
+                                                      className="glamor-18 glamor-15"
                                                       src="icon-chevron-down"
                                                     >
                                                       <StyledSvg
-                                                        className="glamor-20 glamor-17"
+                                                        className="glamor-18 glamor-15"
                                                         height="1em"
                                                         style={Object {}}
                                                         viewBox={Object {}}
                                                         width="1em"
                                                       >
                                                         <svg
-                                                          className="glamor-17 glamor-18 glamor-8"
+                                                          className="glamor-15 glamor-16 glamor-8"
                                                           height="1em"
                                                           style={Object {}}
                                                           viewBox={Object {}}
@@ -589,16 +567,18 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
           icon="icon-circle-add"
           onClick={[Function]}
           priority="primary"
+          size="zero"
         >
           <Button
-            className="glamor-60 glamor-61"
+            className="glamor-58 glamor-59"
             disabled={false}
             icon="icon-circle-add"
             onClick={[Function]}
             priority="primary"
+            size="zero"
           >
             <button
-              className="glamor-60 glamor-61 button button-primary"
+              className="glamor-58 glamor-59 button button-primary button-zero"
               disabled={false}
               onClick={[Function]}
               role="button"
@@ -609,38 +589,42 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
               >
                 <Base
                   align="center"
-                  className="button-label glamor-26"
+                  className="button-label glamor-24"
                 >
                   <div
-                    className="button-label glamor-26"
+                    className="button-label glamor-24"
                     is={null}
                   >
-                    <Icon>
+                    <Icon
+                      size="zero"
+                    >
                       <Base
-                        className="glamor-54 glamor-55"
+                        className="glamor-52 glamor-53"
+                        size="zero"
                       >
                         <div
-                          className="glamor-54 glamor-55"
+                          className="glamor-52 glamor-53"
                           is={null}
+                          size="zero"
                         >
                           <StyledInlineSvg
                             size="16px"
                             src="icon-circle-add"
                           >
                             <InlineSvg
-                              className="glamor-50 glamor-47"
+                              className="glamor-48 glamor-45"
                               size="16px"
                               src="icon-circle-add"
                             >
                               <StyledSvg
-                                className="glamor-50 glamor-47"
+                                className="glamor-48 glamor-45"
                                 height="16px"
                                 style={Object {}}
                                 viewBox={Object {}}
                                 width="16px"
                               >
                                 <svg
-                                  className="glamor-47 glamor-48 glamor-8"
+                                  className="glamor-45 glamor-46 glamor-8"
                                   height="16px"
                                   style={Object {}}
                                   viewBox={Object {}}
@@ -735,7 +719,7 @@ url:http://example.com/settings/* #product"
     </TextareaAutosize>
     <SaveButton>
       <div
-        className="glamor-68 glamor-69"
+        className="glamor-66 glamor-67"
       >
         <Button
           disabled={false}
@@ -755,10 +739,10 @@ url:http://example.com/settings/* #product"
             >
               <Base
                 align="center"
-                className="button-label glamor-26"
+                className="button-label glamor-24"
               >
                 <div
-                  className="button-label glamor-26"
+                  className="button-label glamor-24"
                   is={null}
                 >
                   Save Changes
diff --git a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
index 66b61c8657..fa504ae4bb 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
@@ -335,6 +335,7 @@ exports[`ProjectAlertRuleDetails Edit alert rule renders 1`] = `
                             onChange={[Function]}
                             placeholder="Select an option..."
                             required={false}
+                            showSearch={true}
                             style={
                               Object {
                                 "width": "100%",
@@ -470,6 +471,7 @@ exports[`ProjectAlertRuleDetails Edit alert rule renders 1`] = `
                             onChange={[Function]}
                             placeholder="Select an option..."
                             required={false}
+                            showSearch={true}
                             style={
                               Object {
                                 "width": "100%",
@@ -1019,6 +1021,7 @@ exports[`ProjectAlertRuleDetails New alert rule renders 1`] = `
                             onChange={[Function]}
                             placeholder="Select an option..."
                             required={false}
+                            showSearch={true}
                             style={
                               Object {
                                 "width": "100%",
@@ -1154,6 +1157,7 @@ exports[`ProjectAlertRuleDetails New alert rule renders 1`] = `
                             onChange={[Function]}
                             placeholder="Select an option..."
                             required={false}
+                            showSearch={true}
                             style={
                               Object {
                                 "width": "100%",
diff --git a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
index 1faa0e6d34..5329205eb2 100644
--- a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
@@ -1,7 +1,7 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
-exports[`ProjectTeamsSettings render() renders 1`] = `
-.glamor-64 {
+exports[`RuleBuilder render() renders 1`] = `
+.glamor-62 {
   display: -webkit-box;
   display: -webkit-flex;
   display: -ms-flexbox;
@@ -104,7 +104,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   margin-right: 5px;
 }
 
-.glamor-45 {
+.glamor-43 {
   box-sizing: border-box;
   -webkit-flex: 1;
   -ms-flex: 1;
@@ -119,45 +119,39 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   align-items: center;
 }
 
-.glamor-41 {
+.glamor-39 {
   position: relative;
   display: inline-block;
 }
 
-.glamor-37 {
+.glamor-35 {
   margin-right: 5px;
+  padding-right: 8px !important;
+  padding-left: 3px !important;
   -webkit-flex: 1;
   -ms-flex: 1;
   flex: 1;
   white-space: nowrap;
   height: 37px;
+  color: !important;
 }
 
-.glamor-37 .button-label {
-  font-size: 14px;
-  padding: 4px 8px;
-  padding-left: 4px;
-}
-
-.glamor-29 {
+.glamor-27 {
   position: relative;
   z-index: 2;
   box-shadow: none;
   margin-right: 5px;
+  padding-right: 8px !important;
+  padding-left: 3px !important;
   -webkit-flex: 1;
   -ms-flex: 1;
   flex: 1;
   white-space: nowrap;
   height: 37px;
+  color: !important;
 }
 
-.glamor-29 .button-label {
-  font-size: 14px;
-  padding: 4px 8px;
-  padding-left: 4px;
-}
-
-.glamor-26 {
+.glamor-24 {
   box-sizing: border-box;
   display: -webkit-box;
   display: -webkit-flex;
@@ -178,6 +172,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   display: -webkit-flex;
   display: -ms-flexbox;
   display: flex;
+  padding: 3px;
 }
 
 .glamor-13 span {
@@ -189,55 +184,35 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   height: 28px;
 }
 
-.glamor-15 {
-  margin-left: 3px;
-  padding: 0px;
-}
-
-.glamor-20 {
+.glamor-18 {
   margin-left: 0.33em;
 }
 
-.glamor-18 {
+.glamor-16 {
   vertical-align: middle;
   margin-left: 0.33em;
 }
 
-.glamor-60 {
+.glamor-58 {
   width: 37px;
   height: 37px;
   -webkit-flex-shrink: 0;
   -ms-flex-negative: 0;
   flex-shrink: 0;
-  display: -webkit-box;
-  display: -webkit-flex;
-  display: -ms-flexbox;
-  display: flex;
-  -webkit-box-pack: center;
-  -webkit-justify-content: center;
-  -ms-flex-pack: center;
-  justify-content: center;
-}
-
-.glamor-60 .button-label {
-  padding: 0.5em;
-}
-
-.glamor-60 div {
-  margin: 0px !important;
+  padding: 10px 12px !important;
 }
 
-.glamor-54 {
+.glamor-52 {
   box-sizing: border-box;
   margin-right: 8px;
   margin-left: -2px;
 }
 
-.glamor-50 {
+.glamor-48 {
   display: block;
 }
 
-.glamor-48 {
+.glamor-46 {
   vertical-align: middle;
   display: block;
 }
@@ -247,7 +222,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
     [MockFunction] {
       "calls": Array [
         Array [
-          "path:some/path/* Jane Doe",
+          "path:some/path/* janedoe@example.com",
         ],
       ],
     }
@@ -266,10 +241,11 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
 >
   <BuilderBar>
     <div
-      className="glamor-64 glamor-65"
+      className="glamor-62 glamor-63"
     >
       <BuilderSelect
         onChange={[Function]}
+        showSearch={false}
         value="path"
       >
         <SelectInput
@@ -279,6 +255,7 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
           onChange={[Function]}
           placeholder="Select an option..."
           required={false}
+          showSearch={false}
           value="path"
         >
           <select
@@ -351,11 +328,11 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
       >
         <Base
           align="center"
-          className="glamor-45"
+          className="glamor-43"
           flex="1"
         >
           <div
-            className="glamor-45"
+            className="glamor-43"
             is={null}
           >
             <DropdownAutoComplete
@@ -447,10 +424,10 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                   >
                     <AutoCompleteRoot>
                       <Component
-                        className="glamor-41 glamor-42"
+                        className="glamor-39 glamor-40"
                       >
                         <div
-                          className="glamor-41 glamor-42"
+                          className="glamor-39 glamor-40"
                         >
                           <div
                             onClick={[Function]}
@@ -460,25 +437,30 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                           >
                             <BuilderDropdownButton
                               isOpen={false}
+                              size="zero"
                             >
                               <DropdownButton
-                                className="glamor-37 glamor-28"
+                                className="glamor-35 glamor-26"
                                 isOpen={false}
+                                size="zero"
                               >
                                 <StyledButton
-                                  className="glamor-37 glamor-28"
+                                  className="glamor-35 glamor-26"
                                   isOpen={false}
+                                  size="zero"
                                 >
                                   <Component
-                                    className="glamor-28 glamor-29 glamor-30"
+                                    className="glamor-26 glamor-27 glamor-28"
                                     isOpen={false}
+                                    size="zero"
                                   >
                                     <Button
-                                      className="glamor-28 glamor-29 glamor-30"
+                                      className="glamor-26 glamor-27 glamor-28"
                                       disabled={false}
+                                      size="zero"
                                     >
                                       <button
-                                        className="glamor-28 glamor-29 glamor-30 button button-default"
+                                        className="glamor-26 glamor-27 glamor-28 button button-default button-zero"
                                         disabled={false}
                                         onClick={[Function]}
                                         role="button"
@@ -489,10 +471,10 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                                         >
                                           <Base
                                             align="center"
-                                            className="button-label glamor-26"
+                                            className="button-label glamor-24"
                                           >
                                             <div
-                                              className="button-label glamor-26"
+                                              className="button-label glamor-24"
                                               is={null}
                                             >
                                               <Owners>
@@ -500,30 +482,26 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
                                                   className="glamor-13 glamor-14"
                                                 />
                                               </Owners>
-                                              <AddOwnersLabel>
-                                                <div
-                                                  className="glamor-15 glamor-16"
-                                                >
-                                                  Add Owners
-                                                </div>
-                                              </AddOwnersLabel>
+                                              <div>
+                                                Add Owners
+                                              </div>
                                               <StyledChevronDown>
                                                 <Component
-                                                  className="glamor-20 glamor-17"
+                                                  className="glamor-18 glamor-15"
                                                 >
                                                   <InlineSvg
-                                                    className="glamor-20 glamor-17"
+                                                    className="glamor-18 glamor-15"
                                                     src="icon-chevron-down"
                                                   >
                                                     <StyledSvg
-                                                      className="glamor-20 glamor-17"
+                                                      className="glamor-18 glamor-15"
                                                       height="1em"
                                                       style={Object {}}
                                                       viewBox={Object {}}
                                                       width="1em"
                                                     >
                                                       <svg
-                                                        className="glamor-17 glamor-18 glamor-8"
+                                                        className="glamor-15 glamor-16 glamor-8"
                                                         height="1em"
                                                         style={Object {}}
                                                         viewBox={Object {}}
@@ -562,16 +540,18 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
         icon="icon-circle-add"
         onClick={[Function]}
         priority="primary"
+        size="zero"
       >
         <Button
-          className="glamor-60 glamor-61"
+          className="glamor-58 glamor-59"
           disabled={false}
           icon="icon-circle-add"
           onClick={[Function]}
           priority="primary"
+          size="zero"
         >
           <button
-            className="glamor-60 glamor-61 button button-primary"
+            className="glamor-58 glamor-59 button button-primary button-zero"
             disabled={false}
             onClick={[Function]}
             role="button"
@@ -582,38 +562,42 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
             >
               <Base
                 align="center"
-                className="button-label glamor-26"
+                className="button-label glamor-24"
               >
                 <div
-                  className="button-label glamor-26"
+                  className="button-label glamor-24"
                   is={null}
                 >
-                  <Icon>
+                  <Icon
+                    size="zero"
+                  >
                     <Base
-                      className="glamor-54 glamor-55"
+                      className="glamor-52 glamor-53"
+                      size="zero"
                     >
                       <div
-                        className="glamor-54 glamor-55"
+                        className="glamor-52 glamor-53"
                         is={null}
+                        size="zero"
                       >
                         <StyledInlineSvg
                           size="16px"
                           src="icon-circle-add"
                         >
                           <InlineSvg
-                            className="glamor-50 glamor-47"
+                            className="glamor-48 glamor-45"
                             size="16px"
                             src="icon-circle-add"
                           >
                             <StyledSvg
-                              className="glamor-50 glamor-47"
+                              className="glamor-48 glamor-45"
                               height="16px"
                               style={Object {}}
                               viewBox={Object {}}
                               width="16px"
                             >
                               <svg
-                                className="glamor-47 glamor-48 glamor-8"
+                                className="glamor-45 glamor-46 glamor-8"
                                 height="16px"
                                 style={Object {}}
                                 viewBox={Object {}}
diff --git a/tests/js/spec/views/ruleBuilder.spec.jsx b/tests/js/spec/views/ruleBuilder.spec.jsx
index d410864853..eb283457ce 100644
--- a/tests/js/spec/views/ruleBuilder.spec.jsx
+++ b/tests/js/spec/views/ruleBuilder.spec.jsx
@@ -7,7 +7,8 @@ import TeamStore from 'app/stores/teamStore';
 import RuleBuilder from 'app/views/settings/project/projectOwnership/ruleBuilder';
 
 jest.mock('jquery');
-describe('ProjectTeamsSettings', function() {
+
+describe('RuleBuilder', function() {
   let sandbox;
 
   let project;
@@ -31,8 +32,7 @@ describe('ProjectTeamsSettings', function() {
 
   beforeEach(function() {
     sandbox = sinon.sandbox.create();
-
-    sandbox.stub(MemberListStore, 'getAll').returns([USER_1, USER_2]);
+    MemberListStore.loadInitialData([USER_1, USER_2]);
     sandbox.stub(TeamStore, 'getAll').returns([TEAM_1]);
 
     handleAdd = jest.fn();
