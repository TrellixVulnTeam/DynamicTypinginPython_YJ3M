commit 0bf70e3077ff880081e32cc5fb4ebd161e84f5a8
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Mar 25 21:47:39 2015 -0700

    Maintain legacy templates for org home pages

diff --git a/src/sentry/static/sentry/app/components/organizationHomeSidebar.jsx b/src/sentry/static/sentry/app/components/organizationHomeSidebar.jsx
index 8bc751d979..dddbca313b 100644
--- a/src/sentry/static/sentry/app/components/organizationHomeSidebar.jsx
+++ b/src/sentry/static/sentry/app/components/organizationHomeSidebar.jsx
@@ -2,6 +2,7 @@
 
 var React = require("react");
 
+var ConfigStore = require("../stores/configStore");
 var ListLink = require("../components/listLink");
 var OrganizationState = require("../mixins/organizationState");
 
@@ -19,14 +20,31 @@ var OrganizationHomeSidebar = React.createClass({
   },
 
   render() {
+    var access = this.getAccess();
+    var features = this.getFeatures();
     var org = this.getOrganization();
     var orgParams = {orgId: org.slug};
+    var urlPrefix = ConfigStore.get('urlPrefix') + '/organizations/' + org.slug;
 
     return (
       <div className="rightbar">
         <ul className="nav nav-stacked">
           <ListLink to="organizationTeams" params={orgParams}>Teams</ListLink>
-          <ListLink to="organizationMembers" params={orgParams}>Members</ListLink>
+          {access.has('org:read') &&
+            <li><a href={urlPrefix + '/stats/'}>Stats</a></li>
+          }
+          {access.has('org:write') &&
+            <li><a href={urlPrefix + '/audit-log/'}>Audit Log</a></li>
+          }
+          {access.has('org:read') &&
+            <li><a href={urlPrefix + '/members/'}>Members</a></li>
+          }
+          {features.has('organizations:sso') && access.has('org:write') &&
+            <li><a href={urlPrefix + '/auth/'}>Auth</a></li>
+          }
+          {access.has('org:write') &&
+            <li><a href={urlPrefix + '/settings/'}>Settings</a></li>
+          }
         </ul>
       </div>
     );
diff --git a/src/sentry/static/sentry/app/mixins/organizationState.jsx b/src/sentry/static/sentry/app/mixins/organizationState.jsx
index a45a4495f8..ecfb2b263a 100644
--- a/src/sentry/static/sentry/app/mixins/organizationState.jsx
+++ b/src/sentry/static/sentry/app/mixins/organizationState.jsx
@@ -9,6 +9,14 @@ var OrganizationState = {
 
   getOrganization() {
     return this.context.organization;
+  },
+
+  getAccess() {
+    return new Set(this.context.organization.access);
+  },
+
+  getFeatures() {
+    return new Set(this.context.organization.features);
   }
 };
 
diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 1e13c9d504..a559ebe53d 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -12,7 +12,6 @@ var GroupTags = require("./views/groupTags");
 var GroupTagValues = require("./views/groupTagValues");
 var GroupOverview = require("./views/groupOverview");
 var OrganizationDetails = require("./views/organizationDetails");
-var OrganizationMembers = require("./views/organizationMembers");
 var OrganizationTeams = require("./views/organizationTeams");
 var ProjectDetails = require("./views/projectDetails");
 var PropTypes = require("./proptypes");
@@ -24,7 +23,6 @@ var routes = (
   <Route name="app" path="/" handler={App}>
     <Route name="organizationDetails" path="/:orgId/" handler={OrganizationDetails}>
       <DefaultRoute name="organizationTeams" handler={OrganizationTeams} />
-      <Route name="organizationMembers" path="members/" handler={OrganizationMembers} />
       <Route name="teamDetails" path="teams/:teamId/" handler={TeamDetails}>
         <DefaultRoute name="teamDashboard" handler={TeamDashboard} />
       </Route>
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 982bea59a9..ecf7a72725 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -45,6 +45,7 @@ from sentry.web.frontend.help_platform_index import HelpPlatformIndexView
 from sentry.web.frontend.mailgun_inbound_webhook import MailgunInboundWebhookView
 from sentry.web.frontend.organization_audit_log import OrganizationAuditLogView
 from sentry.web.frontend.organization_auth_settings import OrganizationAuthSettingsView
+from sentry.web.frontend.organization_members import OrganizationMembersView
 from sentry.web.frontend.organization_member_settings import OrganizationMemberSettingsView
 from sentry.web.frontend.organization_stats import OrganizationStatsView
 from sentry.web.frontend.organization_settings import OrganizationSettingsView
@@ -162,7 +163,7 @@ urlpatterns += patterns('',
         name='sentry-organization-auth-settings'),
     url(r'^organizations/(?P<organization_slug>[\w_-]+)/audit-log/$', OrganizationAuditLogView.as_view(),
         name='sentry-organization-audit-log'),
-    url(r'^organizations/(?P<organization_slug>[\w_-]+)/members/$', ReactPageView.as_view(),
+    url(r'^organizations/(?P<organization_slug>[\w_-]+)/members/$', OrganizationMembersView.as_view(),
         name='sentry-organization-members'),
     url(r'^organizations/(?P<organization_slug>[\w_-]+)/members/new/$', CreateOrganizationMemberView.as_view(),
         name='sentry-create-organization-member'),
