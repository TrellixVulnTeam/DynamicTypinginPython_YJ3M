commit 9910cc917d2def63b110e75d4d17dedf7f415f58
Author: Danny Lee <dlee@sentry.io>
Date:   Wed Feb 19 10:35:43 2020 -0800

    fix(issues): Improve UX when highlighting Group title (#17042)

diff --git a/src/sentry/static/sentry/app/components/eventOrGroupTitle.jsx b/src/sentry/static/sentry/app/components/eventOrGroupTitle.jsx
deleted file mode 100644
index 58b7a0c13a..0000000000
--- a/src/sentry/static/sentry/app/components/eventOrGroupTitle.jsx
+++ /dev/null
@@ -1,40 +0,0 @@
-import PropTypes from 'prop-types';
-import React from 'react';
-import {Metadata} from 'app/sentryTypes';
-import {getTitle} from 'app/utils/events';
-
-class EventOrGroupTitle extends React.Component {
-  static propTypes = {
-    data: PropTypes.shape({
-      type: PropTypes.oneOf([
-        'error',
-        'csp',
-        'hpkp',
-        'expectct',
-        'expectstaple',
-        'default',
-        'transaction',
-      ]).isRequired,
-      title: PropTypes.string,
-      metadata: Metadata.isRequired,
-      culprit: PropTypes.string,
-    }),
-    style: PropTypes.object,
-  };
-
-  render() {
-    const {title, subtitle} = getTitle(this.props.data);
-    if (subtitle) {
-      return (
-        <span style={this.props.style}>
-          <span style={{marginRight: 10}}>{title}</span>
-          <em title={subtitle}>{subtitle}</em>
-          <br />
-        </span>
-      );
-    }
-    return <span style={this.props.style}>{title}</span>;
-  }
-}
-
-export default EventOrGroupTitle;
diff --git a/src/sentry/static/sentry/app/components/eventOrGroupTitle.tsx b/src/sentry/static/sentry/app/components/eventOrGroupTitle.tsx
new file mode 100644
index 0000000000..272ec40a03
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/eventOrGroupTitle.tsx
@@ -0,0 +1,55 @@
+import React from 'react';
+import PropTypes from 'prop-types';
+
+import {Event, Group} from 'app/types';
+import {Metadata} from 'app/sentryTypes';
+import {getTitle} from 'app/utils/events';
+
+type Props = {
+  data: Event | Group;
+  style: React.CSSProperties;
+};
+
+class EventOrGroupTitle extends React.Component<Props> {
+  static propTypes = {
+    data: PropTypes.shape({
+      type: PropTypes.oneOf([
+        'error',
+        'csp',
+        'hpkp',
+        'expectct',
+        'expectstaple',
+        'default',
+        'transaction',
+      ]).isRequired,
+      title: PropTypes.string,
+      metadata: Metadata.isRequired,
+      culprit: PropTypes.string,
+    }),
+    style: PropTypes.object,
+  };
+
+  render() {
+    const {title, subtitle} = getTitle(this.props.data as Event);
+
+    return subtitle ? (
+      <span style={this.props.style}>
+        <span>{title}</span>
+        <Spacer />
+        <em title={subtitle}>{subtitle}</em>
+        <br />
+      </span>
+    ) : (
+      <span style={this.props.style}>{title}</span>
+    );
+  }
+}
+
+export default EventOrGroupTitle;
+
+/**
+ * &nbsp; is used instead of margin/padding to split title and subtitle
+ * into 2 separate text nodes on the HTML AST. This allows the
+ * title to be highlighted without spilling over to the subtitle.
+ */
+const Spacer = () => <span style={{display: 'inline-block', width: 10}}>&nbsp;</span>;
diff --git a/src/sentry/static/sentry/app/utils/events.tsx b/src/sentry/static/sentry/app/utils/events.tsx
index a606d7fd6c..16b619831d 100644
--- a/src/sentry/static/sentry/app/utils/events.tsx
+++ b/src/sentry/static/sentry/app/utils/events.tsx
@@ -1,5 +1,5 @@
 import {isNativePlatform} from 'app/utils/platform';
-import {Event} from 'app/types';
+import {Event, Group} from 'app/types';
 
 /**
  * Extract the display message from an event.
@@ -36,7 +36,7 @@ type EventTitle = {
   subtitle: string;
 };
 
-export function getTitle(event: Event): EventTitle {
+export function getTitle(event: Event | Group): EventTitle {
   const {metadata, type, culprit} = event;
   const result: EventTitle = {
     title: event.title,
diff --git a/tests/js/spec/components/__snapshots__/eventOrGroupTitle.spec.jsx.snap b/tests/js/spec/components/__snapshots__/eventOrGroupTitle.spec.jsx.snap
index 3a891ebe4b..5d679de5bb 100644
--- a/tests/js/spec/components/__snapshots__/eventOrGroupTitle.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/eventOrGroupTitle.spec.jsx.snap
@@ -8,15 +8,10 @@ exports[`EventOrGroupTitle renders with no subtitle when \`type = default\` 1`]
 
 exports[`EventOrGroupTitle renders with subtitle when \`type = csp\` 1`] = `
 <span>
-  <span
-    style={
-      Object {
-        "marginRight": 10,
-      }
-    }
-  >
+  <span>
     metadata directive
   </span>
+  <Spacer />
   <em
     title="metadata uri"
   >
@@ -28,15 +23,10 @@ exports[`EventOrGroupTitle renders with subtitle when \`type = csp\` 1`] = `
 
 exports[`EventOrGroupTitle renders with subtitle when \`type = error\` 1`] = `
 <span>
-  <span
-    style={
-      Object {
-        "marginRight": 10,
-      }
-    }
-  >
+  <span>
     metadata type
   </span>
+  <Spacer />
   <em
     title="culprit"
   >
diff --git a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
index 02d51da93d..4f16fc5936 100644
--- a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
+++ b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
@@ -1056,15 +1056,21 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                                 }
                                               }
                                             >
-                                              <span
-                                                style={
-                                                  Object {
-                                                    "marginRight": 10,
-                                                  }
-                                                }
-                                              >
+                                              <span>
                                                 TypeError
                                               </span>
+                                              <Spacer>
+                                                <span
+                                                  style={
+                                                    Object {
+                                                      "display": "inline-block",
+                                                      "width": 10,
+                                                    }
+                                                  }
+                                                >
+                                                  Â 
+                                                </span>
+                                              </Spacer>
                                               <em
                                                 title="length(app/views/groupSimilar/groupSimilarView)"
                                               >
