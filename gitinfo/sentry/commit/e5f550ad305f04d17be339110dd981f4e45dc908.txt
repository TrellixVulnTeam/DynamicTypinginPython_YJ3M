commit e5f550ad305f04d17be339110dd981f4e45dc908
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Feb 22 14:31:08 2013 -0800

    Tests for absolute_uri

diff --git a/tests/sentry/utils/http/tests.py b/tests/sentry/utils/http/tests.py
index 208704b10e..6bce8340d6 100644
--- a/tests/sentry/utils/http/tests.py
+++ b/tests/sentry/utils/http/tests.py
@@ -4,9 +4,19 @@ from __future__ import absolute_import
 
 import mock
 
+from sentry.conf import settings
 from sentry.models import Project, ProjectOption
 from sentry.testutils import TestCase, fixture
-from sentry.utils.http import is_same_domain, is_valid_origin, get_origins
+from sentry.utils.http import (is_same_domain, is_valid_origin, get_origins,
+    absolute_uri)
+
+
+class AbsoluteUriTest(TestCase):
+    def test_without_path(self):
+        assert absolute_uri() == settings.URL_PREFIX
+
+    def test_with_path(self):
+        assert absolute_uri('/foo/bar') == '%s/foo/bar' % (settings.URL_PREFIX,)
 
 
 class SameDomainTestCase(TestCase):
