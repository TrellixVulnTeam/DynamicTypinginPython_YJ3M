commit a922f25989cc04807d164381273bbab6d8156425
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 9 21:10:27 2015 -0700

    Add project member index endpoint

diff --git a/src/sentry/api/endpoints/project_member_index.py b/src/sentry/api/endpoints/project_member_index.py
new file mode 100644
index 0000000000..fcd075f4a1
--- /dev/null
+++ b/src/sentry/api/endpoints/project_member_index.py
@@ -0,0 +1,22 @@
+from __future__ import absolute_import
+
+from django.db.models import Q
+from rest_framework.response import Response
+
+from sentry.api.bases.project import ProjectEndpoint
+from sentry.api.serializers import serialize
+from sentry.models import User
+
+
+class ProjectMemberIndexEndpoint(ProjectEndpoint):
+    def get(self, request, project):
+        member_list = sorted(set(User.objects.filter(
+            sentry_orgmember_set__organization=project.organization,
+        ).filter(
+            Q(sentry_orgmember_set__teams=project.team) |
+            Q(sentry_orgmember_set__has_global_access=True)
+        ).distinct()[:1000]), key=lambda x: x.email)
+
+        member_list = serialize(member_list, request.user)
+
+        return Response(member_list)
diff --git a/src/sentry/api/urls.py b/src/sentry/api/urls.py
index 9ad509963d..1719218fcc 100644
--- a/src/sentry/api/urls.py
+++ b/src/sentry/api/urls.py
@@ -1,4 +1,4 @@
-from __future__ import absolute_import
+from __future__ import absolute_import, print_function
 
 from django.conf.urls import patterns, url
 
@@ -26,6 +26,7 @@ from .endpoints.organization_stats import OrganizationStatsEndpoint
 from .endpoints.organization_teams import OrganizationTeamsEndpoint
 from .endpoints.project_details import ProjectDetailsEndpoint
 from .endpoints.project_group_index import ProjectGroupIndexEndpoint
+from .endpoints.project_member_index import ProjectMemberIndexEndpoint
 from .endpoints.project_releases import ProjectReleasesEndpoint
 from .endpoints.project_stats import ProjectStatsEndpoint
 from .endpoints.project_tagkey_details import ProjectTagKeyDetailsEndpoint
@@ -108,6 +109,9 @@ urlpatterns = patterns(
     url(r'^projects/(?P<organization_slug>[^\/]+)/(?P<project_slug>[^\/]+)/groups/$',
         ProjectGroupIndexEndpoint.as_view(),
         name='sentry-api-0-project-group-index'),
+    url(r'^projects/(?P<organization_slug>[^/]+)/(?P<project_slug>[^/]+)/members/$',
+        ProjectMemberIndexEndpoint.as_view(),
+        name='sentry-api-0-project-member-index'),
     url(r'^projects/(?P<organization_slug>[^\/]+)/(?P<project_slug>[^\/]+)/releases/$',
         ProjectReleasesEndpoint.as_view(),
         name='sentry-api-0-project-releases'),
diff --git a/tests/sentry/api/endpoints/test_project_member_index.py b/tests/sentry/api/endpoints/test_project_member_index.py
new file mode 100644
index 0000000000..938e7e0831
--- /dev/null
+++ b/tests/sentry/api/endpoints/test_project_member_index.py
@@ -0,0 +1,30 @@
+from __future__ import absolute_import
+
+from django.core.urlresolvers import reverse
+
+from sentry.testutils import APITestCase
+
+
+class ProjectMemberIndexTest(APITestCase):
+    def test_simple(self):
+        user_1 = self.create_user('foo@localhost', username='foo')
+        user_2 = self.create_user('bar@localhost', username='bar')
+        user_3 = self.create_user('baz@localhost', username='baz')
+        org = self.create_organization(owner=user_1)
+        team = self.create_team(organization=org, slug='baz')
+        project_1 = self.create_project(team=team, slug='foo')
+        project_2 = self.create_project(team=team, slug='bar')
+        org.member_set.create(user=user_2, has_global_access=True)
+        org.member_set.create(user=user_3, has_global_access=False)
+
+        self.login_as(user=user_1)
+
+        url = reverse('sentry-api-0-project-member-index', kwargs={
+            'organization_slug': project_1.organization.slug,
+            'project_slug': project_1.slug,
+        })
+        response = self.client.get(url)
+        assert response.status_code == 200
+        assert len(response.data) == 2
+        assert response.data[0]['email'] == user_2.email
+        assert response.data[1]['email'] == user_1.email
