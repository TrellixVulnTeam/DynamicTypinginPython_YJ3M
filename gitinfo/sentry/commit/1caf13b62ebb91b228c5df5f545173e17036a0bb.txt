commit 1caf13b62ebb91b228c5df5f545173e17036a0bb
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 31 11:26:48 2015 -0700

    Adjust merge response to contain result
    
      {
        parent: "1",
        children: ["2", "3"]
      }

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 4bec87a261..fa78b45c9d 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -233,7 +233,7 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
         if not serializer.is_valid():
             return Response(serializer.errors, status=400)
 
-        result = serializer.object
+        result = dict(serializer.object)
 
         # validate that we've passed a selector for non-status bulk operations
         if not group_ids and result.keys() != ['status']:
@@ -360,16 +360,22 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
         # endpoint
         if result.get('merge') and len(group_list) > 1:
             primary_group = sorted(group_list, key=lambda x: -x.times_seen)[0]
+            children = []
             for group in group_list:
                 if group == primary_group:
                     continue
+                children.append(group)
                 group.update(status=GroupStatus.PENDING_MERGE)
                 merge_group.delay(
                     from_object_id=group.id,
                     to_object_id=primary_group.id,
                 )
+            result['merge'] = {
+                'parent': str(primary_group.id),
+                'children': [str(g.id) for g in children],
+            }
 
-        return Response(dict(result))
+        return Response(result)
 
     def delete(self, request, project):
         """
diff --git a/tests/sentry/api/endpoints/test_project_group_index.py b/tests/sentry/api/endpoints/test_project_group_index.py
index c3b33086c4..3df1288cd0 100644
--- a/tests/sentry/api/endpoints/test_project_group_index.py
+++ b/tests/sentry/api/endpoints/test_project_group_index.py
@@ -421,7 +421,10 @@ class GroupUpdateTest(APITestCase):
         }, format='json')
         assert response.status_code == 200
         assert response.data == {
-            'merge': True,
+            'merge': {
+                'parent': str(group2.id),
+                'children': [str(group1.id), str(group3.id)],
+            },
         }
 
         assert len(merge_group.mock_calls) == 2
