commit d7071074dc363396ef2902b746cc9e4743fd54f4
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jul 30 21:29:12 2014 -0700

    Correct update clause on GroupRuleStatus

diff --git a/src/sentry/tasks/post_process.py b/src/sentry/tasks/post_process.py
index 59e69e9219..0b96fe2a74 100644
--- a/src/sentry/tasks/post_process.py
+++ b/src/sentry/tasks/post_process.py
@@ -122,13 +122,13 @@ def post_process_group(event, is_new, is_regression, is_sample, **kwargs):
         if passed and rule_status.status == STATUS_INACTIVE:
             # we only fire if we're able to say that the state has changed
             GroupRuleStatus.objects.filter(
-                id=rule.id,
+                id=rule_status.id,
                 status=STATUS_INACTIVE,
             ).update(status=STATUS_ACTIVE)
         elif not passed and rule_status.status == STATUS_ACTIVE:
             # update the state to suggest this rule can fire again
             GroupRuleStatus.objects.filter(
-                id=rule.id,
+                id=rule_status.id,
                 status=STATUS_ACTIVE,
             ).update(status=STATUS_INACTIVE)
 
