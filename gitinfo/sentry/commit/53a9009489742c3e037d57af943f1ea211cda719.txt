commit 53a9009489742c3e037d57af943f1ea211cda719
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Aug 18 23:44:58 2015 -0700

    Improve chart rendering for overview stats

diff --git a/src/sentry/templates/sentry/admin/stats.html b/src/sentry/templates/sentry/admin/stats.html
index 26ffbc79de..f2e0b02e3b 100644
--- a/src/sentry/templates/sentry/admin/stats.html
+++ b/src/sentry/templates/sentry/admin/stats.html
@@ -183,10 +183,28 @@
           }
         }
       ];
+
       renderChart('#api_chart', points);
     }
 
-    function renderChart(parent, points) {
+    function numberWithCommas(x) {
+      return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
+    }
+
+    function buildTooltipHandler(series) {
+      return function tooltipHandler(_, xval, _, flotItem) {
+        var yval;
+        var content = '';
+        for (var i = 0; i < series.length; i++) {
+          // we're assuming series are identical
+          yval = numberWithCommas(series[i].data[flotItem.dataIndex][1] || 0);
+          content += '<strong style="color:' + series[i].color + '">' + series[i].label + ':</strong> ' + yval + '<br>';
+        }
+        return content + moment(parseInt(xval, 10)).format('llll');
+      };
+    }
+
+    function renderChart(parent, series) {
       var options = {
         xaxis: {
           mode: "time",
@@ -208,13 +226,7 @@
         },
         tooltip: true,
         tooltipOpts: {
-          content: function(label, xval, yval, flotItem) {
-            xval = parseInt(xval, 10);
-            if(typeof yval.toLocaleString == "function") {
-              yval = yval.toLocaleString();
-            }
-              return '<strong>' + flotItem.series.label + ':</strong> ' + yval + '<br>' + moment(xval).format('llll');
-          },
+          content: buildTooltipHandler(series),
           defaultTheme: false
         },
         grid: {
@@ -227,16 +239,16 @@
         },
         hoverable: false,
         legend: {
-            noColumns: points.length,
+            noColumns: series.length,
             position: 'nw'
         },
         lines: { show: false }
       };
 
       var $parent = $(parent);
-      $.plot($parent, points, options);
+      $.plot($parent, series, options);
       $(window).resize(function(){
-        $.plot($parent, points, options);
+        $.plot($parent, series, options);
       });
     }
   });
