commit 4303b8e5558a538b5d4912876fd2200a47c684de
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Feb 7 10:05:44 2020 -0800

    feat(workflow): Update IncidentStatus enum to match new statusâ€¦ (#16709)
    
    See https://app.asana.com/0/1143846759074121/1156486616434742

diff --git a/src/sentry/static/sentry/app/views/alerts/details/index.tsx b/src/sentry/static/sentry/app/views/alerts/details/index.tsx
index 8b3bed03df..9d70a24441 100644
--- a/src/sentry/static/sentry/app/views/alerts/details/index.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/details/index.tsx
@@ -89,9 +89,7 @@ class IncidentDetails extends React.Component<Props, State> {
 
     const {status} = this.state.incident;
 
-    const newStatus = isOpen(this.state.incident)
-      ? IncidentStatus.CLOSED
-      : IncidentStatus.CREATED;
+    const newStatus = isOpen(this.state.incident) ? IncidentStatus.CLOSED : status;
 
     this.setState(state => ({
       incident: {...(state.incident as Incident), status: newStatus},
diff --git a/src/sentry/static/sentry/app/views/alerts/status.tsx b/src/sentry/static/sentry/app/views/alerts/status.tsx
index 2e34351854..7f13682d3d 100644
--- a/src/sentry/static/sentry/app/views/alerts/status.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/status.tsx
@@ -14,27 +14,21 @@ type Props = {
 };
 
 const Status = ({className, incident, isSmall}: Props) => {
-  const isIncidentOpen = incident.status !== IncidentStatus.CLOSED;
-
-  // TODO(incidents): Make this work
-  const status = !isIncidentOpen
-    ? 'resolved'
-    : incident.status === IncidentStatus.CREATED
-    ? 'critical'
-    : 'warning';
-  const isResolved = status === 'resolved';
-  const isCritical = status === 'critical';
+  const {status} = incident;
+  const isIncidentOpen = status !== IncidentStatus.CLOSED;
+  const isResolved = status === IncidentStatus.CLOSED;
+  const isWarning = status === IncidentStatus.WARNING;
 
   const icon = isResolved
     ? 'icon-circle-check'
-    : isCritical
-    ? 'icon-circle-exclamation'
-    : 'icon-warning-sm';
+    : isWarning
+    ? 'icon-warning-sm'
+    : 'icon-circle-exclamation';
 
-  const text = isResolved ? t('Resolved') : isCritical ? t('Critical') : t('Warning');
+  const text = isResolved ? t('Resolved') : isWarning ? t('Warning') : t('Critical');
 
   return (
-    <Wrapper status={status} className={className} isSmall={!!isSmall}>
+    <Wrapper className={className} isSmall={!!isSmall}>
       <Icon src={icon} status={status} isOpen={isIncidentOpen} />
       {text}
     </Wrapper>
@@ -43,21 +37,19 @@ const Status = ({className, incident, isSmall}: Props) => {
 
 export default Status;
 
-type StatusType = 'warning' | 'critical' | 'resolved';
-
-type WrapperProps = {status: StatusType};
+type WrapperProps = {status: IncidentStatus};
 
 function getColor({theme, status}) {
-  if (status === 'resolved') {
+  if (status === IncidentStatus.CLOSED) {
     return theme.greenDark;
-  } else if (status === 'warning') {
+  } else if (status === IncidentStatus.WARNING) {
     return theme.yellowDark;
   }
 
   return theme.redDark;
 }
 
-const Wrapper = styled('div')<WrapperProps & {isSmall: boolean}>`
+const Wrapper = styled('div')<{isSmall: boolean}>`
   display: flex;
   align-items: center;
   justify-self: flex-start;
diff --git a/src/sentry/static/sentry/app/views/alerts/types.tsx b/src/sentry/static/sentry/app/views/alerts/types.tsx
index da4e2cfd7a..ae58946c87 100644
--- a/src/sentry/static/sentry/app/views/alerts/types.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/types.tsx
@@ -54,6 +54,12 @@ export type NoteType = {
   mentions: [string, string][];
 };
 
+export enum IncidentType {
+  DETECTED,
+  CREATED,
+  TRIGGERED,
+}
+
 export enum IncidentActivityType {
   CREATED,
   DETECTED,
@@ -62,7 +68,8 @@ export enum IncidentActivityType {
 }
 
 export enum IncidentStatus {
-  DETECTED,
-  CREATED,
-  CLOSED,
+  OPENED = 1,
+  CLOSED = 2,
+  WARNING = 10,
+  CRITICAL = 20,
 }
diff --git a/src/sentry/static/sentry/app/views/alerts/utils.tsx b/src/sentry/static/sentry/app/views/alerts/utils.tsx
index a3a84fb505..230e28ab4a 100644
--- a/src/sentry/static/sentry/app/views/alerts/utils.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/utils.tsx
@@ -52,8 +52,6 @@ export function isOpen(incident: Incident): boolean {
   switch (incident.status) {
     case IncidentStatus.CLOSED:
       return false;
-    case IncidentStatus.DETECTED:
-    case IncidentStatus.CREATED:
     default:
       return true;
   }
