commit 69e35396b012293a705a68ceb8194181be98a064
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Nov 19 10:56:02 2015 +0100

    Configured extractor appropriately and added basic message merge support

diff --git a/bin/merge-catalogs b/bin/merge-catalogs
index 50031d18d7..b86b4841ad 100755
--- a/bin/merge-catalogs
+++ b/bin/merge-catalogs
@@ -1,6 +1,8 @@
 #!/usr/bin/env python
 
+import os
 import click
+
 from babel.messages.pofile import read_po, write_po
 
 
@@ -16,9 +18,13 @@ def merge_locations(locations, frontend_locations):
 @click.argument('locale')
 def cli(locale):
     catalog_file = 'src/sentry/locale/%s/LC_MESSAGES/django.po' % locale
+    frontend_file = 'build/javascript.po'
+    if not os.path.isfile(frontend_file):
+        return
+
     with open(catalog_file) as f:
         catalog = read_po(f)
-    with open('build/javascript.po') as f:
+    with open(frontend_file) as f:
         frontend = read_po(f)
 
     for frontend_msg in frontend:
diff --git a/webpack.config.js b/webpack.config.js
index e6a6fa6a33..28206b055f 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -59,7 +59,13 @@ var config = {
           extra: {
             gettext: {
               fileName: 'build/javascript.po',
-              baseDirectory: path.join(__dirname, 'src/sentry')
+              baseDirectory: path.join(__dirname, 'src/sentry'),
+              functionNames: {
+                gettext: ["msgid"],
+                ngettext: ["msgid", "msgid_plural", "count"],
+                t: ["msgid"],
+                tn: ["msgid", "msgid_plural", "count"],
+              },
             }
           }
         }
