commit 47e2279247fa720c9a2ea2a0b3614b14c707a187
Author: Chris Clark <christopherchristopherclark@gmail.com>
Date:   Thu Mar 29 14:04:55 2018 -0700

    feat(assistant): attention grabbing anchor (#7849)
    
    * start with a visually heavy anchor and slowly fade it back to normal
    
    * bigger ping at first faster animation
    
    * accidentally removed yellowLightest
    
    * use ease-in

diff --git a/src/sentry/static/sentry/app/components/assistant/guideAnchor.jsx b/src/sentry/static/sentry/app/components/assistant/guideAnchor.jsx
index ebfb1569bf..cdc05ec333 100644
--- a/src/sentry/static/sentry/app/components/assistant/guideAnchor.jsx
+++ b/src/sentry/static/sentry/app/components/assistant/guideAnchor.jsx
@@ -1,7 +1,7 @@
 import PropTypes from 'prop-types';
 import classNames from 'classnames';
 import React from 'react';
-import styled from 'react-emotion';
+import styled, {keyframes} from 'react-emotion';
 import createReactClass from 'create-react-class';
 import Reflux from 'reflux';
 import {registerAnchor, unregisterAnchor} from '../../actionCreators/guides';
@@ -69,12 +69,26 @@ const GuideAnchor = createReactClass({
         <StyledGuideAnchor
           className={classNames('guide-anchor-ping', target)}
           active={this.state.active}
-        />
+        >
+          <StyledGuideAnchorRipples />
+        </StyledGuideAnchor>
       </GuideAnchorContainer>
     );
   },
 });
 
+const recedeAnchor = keyframes`
+  0% {
+    transform: scale(3, 3);
+    opacity: 1;
+  }
+
+  100% {
+    transform: scale(1, 1);
+    opacity: 0.75;
+  }
+`;
+
 const GuideAnchorContainer = styled('div')`
   ${p =>
     p.type == 'text' &&
@@ -84,16 +98,31 @@ const GuideAnchorContainer = styled('div')`
     `};
 `;
 
-const StyledGuideAnchor = styled('span')`
+const StyledGuideAnchor = styled('div')`
   width: 20px;
   height: 20px;
   cursor: pointer;
   z-index: 999;
-  position: relative;
+  position: absolute;
   pointer-events: none;
-  animation: ${expandOut} 1.5s ease-out infinite;
   visibility: hidden;
 
+  ${p =>
+    p.active
+      ? `
+    visibility: visible;
+    animation: ${recedeAnchor} 5s ease-in forwards;
+  `
+      : ''};
+`;
+
+const StyledGuideAnchorRipples = styled('div')`
+  animation: ${expandOut} 1.5s ease-out infinite;
+  width: 100%;
+  height: 100%;
+  top: 0;
+  left: 0;
+
   &,
   &:before,
   &:after {
@@ -101,7 +130,7 @@ const StyledGuideAnchor = styled('span')`
     display: block;
     left: calc(50% - 10px);
     top: calc(50% - 10px);
-    background-color: ${p => p.theme.greenTransparent25};
+    background-color: ${p => p.theme.greenTransparent};
     border-radius: 50%;
   }
 
@@ -115,7 +144,7 @@ const StyledGuideAnchor = styled('span')`
     height: 70%;
     left: calc(50% - 7px);
     top: calc(50% - 7px);
-    background-color: ${p => p.theme.greenTransparent25};
+    background-color: ${p => p.theme.greenTransparent};
   }
 
   &:after {
@@ -125,8 +154,6 @@ const StyledGuideAnchor = styled('span')`
     top: calc(50% - 5px);
     color: ${p => p.theme.green};
   }
-
-  ${p => (p.active ? 'visibility: visible;' : '')};
 `;
 
 export default GuideAnchor;
diff --git a/src/sentry/static/sentry/app/utils/theme.jsx b/src/sentry/static/sentry/app/utils/theme.jsx
index ad3060af56..d23f205fb9 100644
--- a/src/sentry/static/sentry/app/utils/theme.jsx
+++ b/src/sentry/static/sentry/app/utils/theme.jsx
@@ -15,8 +15,7 @@ const theme = {
   green: '#57be8c',
   greenLight: '#71D8A6',
   greenDark: '#3EA573',
-  greenTransparent25: 'rgba(87, 190, 140, 0.25)',
-  greenTransparent50: 'rgba(87, 190, 140, 0.5)',
+  greenTransparent: 'rgba(87, 190, 140, 0.5)',
 
   yellow: '#ecc844',
   yellowLightest: '#FFFDF7',
diff --git a/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
index fc0ecd9234..a9d3fae44c 100644
--- a/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/ignore.spec.jsx.snap
@@ -1,21 +1,28 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
 exports[`IgnoreActions with confirmation step renders 1`] = `
-.glamor-2 {
+.glamor-4 {
   display: inline-block;
   position: relative;
 }
 
-.glamor-0 {
+.glamor-2 {
   width: 20px;
   height: 20px;
   cursor: pointer;
   z-index: 999;
-  position: relative;
+  position: absolute;
   pointer-events: none;
+  visibility: hidden;
+}
+
+.glamor-0 {
   -webkit-animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
   animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
-  visibility: hidden;
+  width: 100%;
+  height: 100%;
+  top: 0;
+  left: 0;
 }
 
 .glamor-0,
@@ -318,16 +325,22 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
                 type="text"
               >
                 <div
-                  className="glamor-2 glamor-3"
+                  className="glamor-4 glamor-5"
                   type="text"
                 >
                   <StyledGuideAnchor
                     active={false}
                     className="guide-anchor-ping ignore_delete_discard"
                   >
-                    <span
-                      className="guide-anchor-ping ignore_delete_discard glamor-0 glamor-1"
-                    />
+                    <div
+                      className="guide-anchor-ping ignore_delete_discard glamor-2 glamor-3"
+                    >
+                      <StyledGuideAnchorRipples>
+                        <div
+                          className="glamor-0 glamor-1"
+                        />
+                      </StyledGuideAnchorRipples>
+                    </div>
                   </StyledGuideAnchor>
                 </div>
               </GuideAnchorContainer>
@@ -5058,21 +5071,28 @@ exports[`IgnoreActions with confirmation step renders 1`] = `
 `;
 
 exports[`IgnoreActions without confirmation renders 1`] = `
-.glamor-2 {
+.glamor-4 {
   display: inline-block;
   position: relative;
 }
 
-.glamor-0 {
+.glamor-2 {
   width: 20px;
   height: 20px;
   cursor: pointer;
   z-index: 999;
-  position: relative;
+  position: absolute;
   pointer-events: none;
+  visibility: hidden;
+}
+
+.glamor-0 {
   -webkit-animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
   animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
-  visibility: hidden;
+  width: 100%;
+  height: 100%;
+  top: 0;
+  left: 0;
 }
 
 .glamor-0,
@@ -5364,16 +5384,22 @@ exports[`IgnoreActions without confirmation renders 1`] = `
               type="text"
             >
               <div
-                className="glamor-2 glamor-3"
+                className="glamor-4 glamor-5"
                 type="text"
               >
                 <StyledGuideAnchor
                   active={false}
                   className="guide-anchor-ping ignore_delete_discard"
                 >
-                  <span
-                    className="guide-anchor-ping ignore_delete_discard glamor-0 glamor-1"
-                  />
+                  <div
+                    className="guide-anchor-ping ignore_delete_discard glamor-2 glamor-3"
+                  >
+                    <StyledGuideAnchorRipples>
+                      <div
+                        className="glamor-0 glamor-1"
+                      />
+                    </StyledGuideAnchorRipples>
+                  </div>
                 </StyledGuideAnchor>
               </div>
             </GuideAnchorContainer>
diff --git a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
index 86c56b6d8b..4466f49c27 100644
--- a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
@@ -1,21 +1,28 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
 exports[`ResolveActions with confirmation step renders 1`] = `
-.glamor-2 {
+.glamor-4 {
   display: inline-block;
   position: relative;
 }
 
-.glamor-0 {
+.glamor-2 {
   width: 20px;
   height: 20px;
   cursor: pointer;
   z-index: 999;
-  position: relative;
+  position: absolute;
   pointer-events: none;
+  visibility: hidden;
+}
+
+.glamor-0 {
   -webkit-animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
   animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
-  visibility: hidden;
+  width: 100%;
+  height: 100%;
+  top: 0;
+  left: 0;
 }
 
 .glamor-0,
@@ -167,16 +174,22 @@ exports[`ResolveActions with confirmation step renders 1`] = `
                 type="text"
               >
                 <div
-                  className="glamor-2 glamor-3"
+                  className="glamor-4 glamor-5"
                   type="text"
                 >
                   <StyledGuideAnchor
                     active={false}
                     className="guide-anchor-ping resolve"
                   >
-                    <span
-                      className="guide-anchor-ping resolve glamor-0 glamor-1"
-                    />
+                    <div
+                      className="guide-anchor-ping resolve glamor-2 glamor-3"
+                    >
+                      <StyledGuideAnchorRipples>
+                        <div
+                          className="glamor-0 glamor-1"
+                        />
+                      </StyledGuideAnchorRipples>
+                    </div>
                   </StyledGuideAnchor>
                 </div>
               </GuideAnchorContainer>
@@ -490,21 +503,28 @@ exports[`ResolveActions with confirmation step renders 1`] = `
 `;
 
 exports[`ResolveActions without confirmation renders 1`] = `
-.glamor-2 {
+.glamor-4 {
   display: inline-block;
   position: relative;
 }
 
-.glamor-0 {
+.glamor-2 {
   width: 20px;
   height: 20px;
   cursor: pointer;
   z-index: 999;
-  position: relative;
+  position: absolute;
   pointer-events: none;
+  visibility: hidden;
+}
+
+.glamor-0 {
   -webkit-animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
   animation: animation-1vh9m9r-expandOut 1.5s ease-out infinite;
-  visibility: hidden;
+  width: 100%;
+  height: 100%;
+  top: 0;
+  left: 0;
 }
 
 .glamor-0,
@@ -645,16 +665,22 @@ exports[`ResolveActions without confirmation renders 1`] = `
               type="text"
             >
               <div
-                className="glamor-2 glamor-3"
+                className="glamor-4 glamor-5"
                 type="text"
               >
                 <StyledGuideAnchor
                   active={false}
                   className="guide-anchor-ping resolve"
                 >
-                  <span
-                    className="guide-anchor-ping resolve glamor-0 glamor-1"
-                  />
+                  <div
+                    className="guide-anchor-ping resolve glamor-2 glamor-3"
+                  >
+                    <StyledGuideAnchorRipples>
+                      <div
+                        className="glamor-0 glamor-1"
+                      />
+                    </StyledGuideAnchorRipples>
+                  </div>
                 </StyledGuideAnchor>
               </div>
             </GuideAnchorContainer>
diff --git a/tests/js/spec/components/assistant/__snapshots__/guideAnchor.spec.jsx.snap b/tests/js/spec/components/assistant/__snapshots__/guideAnchor.spec.jsx.snap
index 3cad355b06..ac71efc558 100644
--- a/tests/js/spec/components/assistant/__snapshots__/guideAnchor.spec.jsx.snap
+++ b/tests/js/spec/components/assistant/__snapshots__/guideAnchor.spec.jsx.snap
@@ -8,7 +8,9 @@ exports[`GuideAnchor renders 1`] = `
   <StyledGuideAnchor
     active={false}
     className="guide-anchor-ping target 1"
-  />
+  >
+    <StyledGuideAnchorRipples />
+  </StyledGuideAnchor>
 </GuideAnchorContainer>
 `;
 
@@ -20,6 +22,8 @@ exports[`GuideAnchor turns active when guide state changes 1`] = `
   <StyledGuideAnchor
     active={true}
     className="guide-anchor-ping target 1"
-  />
+  >
+    <StyledGuideAnchorRipples />
+  </StyledGuideAnchor>
 </GuideAnchorContainer>
 `;
