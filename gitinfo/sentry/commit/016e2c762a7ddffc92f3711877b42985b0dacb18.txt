commit 016e2c762a7ddffc92f3711877b42985b0dacb18
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Thu Dec 3 19:42:11 2015 -0800

    Only do needs_upgrade check if super user
    
    This will avoid doing unnecessary, and potentially expensive work
    checking a number of options if they're set or not.

diff --git a/src/sentry/templatetags/sentry_react.py b/src/sentry/templatetags/sentry_react.py
index 627f704d32..09bdc2edbd 100644
--- a/src/sentry/templatetags/sentry_react.py
+++ b/src/sentry/templatetags/sentry_react.py
@@ -57,15 +57,20 @@ def get_react_config(context):
 
     version_info = _get_version_info()
 
+    if is_superuser:
+        # TODO(dcramer): we should confirm that no options need configured
+        # when upgrading, and if so, we simply bump the version??
+        needs_upgrade = options.get('sentry:version-configured') != version_info['current']
+    else:
+        needs_upgrade = False
+
     context = {
         'singleOrganization': settings.SENTRY_SINGLE_ORGANIZATION,
         'urlPrefix': options.get('system.url-prefix'),
         'version': version_info,
         'features': enabled_features,
         'mediaUrl': get_asset_url('sentry', ''),
-        # TODO(dcramer): we should confirm that no options need configured
-        # when upgrading, and if so, we simply bump the version??
-        'needsUpgrade': options.get('sentry:version-configured') != version_info['current'],
+        'needsUpgrade': needs_upgrade,
         'messages': [{
             'message': msg.message,
             'level': msg.tags,
