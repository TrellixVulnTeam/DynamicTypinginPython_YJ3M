commit bda79cf045c576ba82a97eec2de69449fd5a6909
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Oct 20 18:17:27 2013 -0700

    Gracefully handle missing content-type header

diff --git a/src/sentry/search/solr/client.py b/src/sentry/search/solr/client.py
index 83dbcf36f3..425614eb17 100644
--- a/src/sentry/search/solr/client.py
+++ b/src/sentry/search/solr/client.py
@@ -64,7 +64,7 @@ class SolrClient(object):
         return resp
 
     def _extract_error(self, response):
-        if not response.getheader('Content-Type').startswith('application/xml'):
+        if not response.headers.get('content-type', '').startswith('application/xml'):
             return unicode(response.status)
 
         dom_tree = ET.fromstring(response.data)
