commit 9bd36b9dfbc5adc43a4cd866fb11d0c3360af33d
Author: Roman Imankulov <roman.imankulov@gmail.com>
Date:   Fri Jul 10 11:14:26 2015 +0100

    Format IssueTrackingPlugin labels with format_html
    
    It allows plugin developers to use either plaintext or marked as safe
    HTML in label text.

diff --git a/src/sentry/plugins/bases/issue.py b/src/sentry/plugins/bases/issue.py
index a806ae958d..f6734b6072 100644
--- a/src/sentry/plugins/bases/issue.py
+++ b/src/sentry/plugins/bases/issue.py
@@ -9,7 +9,7 @@ from __future__ import absolute_import
 
 from django import forms
 from django.conf import settings
-from django.utils.html import escape
+from django.utils.html import escape, format_html
 from django.utils.safestring import mark_safe
 from social_auth.models import UserSocialAuth
 
@@ -215,10 +215,10 @@ class IssueTrackingPlugin(Plugin):
         if not issue_id:
             return tag_list
 
-        tag_list.append(mark_safe('<a href="%s">%s</a>' % (
+        tag_list.append(format_html('<a href="{}">{}</a>',
             self.get_issue_url(group=group, issue_id=issue_id),
-            escape(self.get_issue_label(group=group, issue_id=issue_id)),
-        )))
+            self.get_issue_label(group=group, issue_id=issue_id),
+        ))
 
         return tag_list
 
