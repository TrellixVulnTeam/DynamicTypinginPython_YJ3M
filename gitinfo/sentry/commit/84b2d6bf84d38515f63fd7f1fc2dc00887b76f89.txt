commit 84b2d6bf84d38515f63fd7f1fc2dc00887b76f89
Author: Jan Michael Auer <jan.auer@sentry.io>
Date:   Mon Jun 3 11:40:02 2019 +0200

    ref(minidump): Remove setting to cache minidump uploads (#13491)

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 1f1f419372..0f6d67013c 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -1566,11 +1566,6 @@ SOUTH_TESTS_MIGRATE = os.environ.get('SOUTH_TESTS_MIGRATE', '0') == '1'
 TERMS_URL = None
 PRIVACY_URL = None
 
-# Toggles whether minidumps should be cached
-SENTRY_MINIDUMP_CACHE = False
-# The location for cached minidumps
-SENTRY_MINIDUMP_PATH = '/tmp/minidump'
-
 # Internal sources for debug information files
 SENTRY_BUILTIN_SOURCES = {
     'microsoft': {
diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 76768a091a..e9f70c3729 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -5,7 +5,6 @@ import math
 
 import jsonschema
 import logging
-import os
 import random
 import six
 import traceback
@@ -762,14 +761,6 @@ class MinidumpView(StoreView):
                 "empty_minidump")
             raise APIError('Empty minidump upload received')
 
-        if settings.SENTRY_MINIDUMP_CACHE:
-            if not os.path.exists(settings.SENTRY_MINIDUMP_PATH):
-                os.mkdir(settings.SENTRY_MINIDUMP_PATH, 0o744)
-
-            with open('%s/%s.dmp' % (settings.SENTRY_MINIDUMP_PATH, event_id), 'wb') as out:
-                for chunk in minidump.chunks():
-                    out.write(chunk)
-
         # Always store the minidump in attachments so we can access it during
         # processing, regardless of the event-attachments feature. This will
         # allow us to stack walk again with CFI once symbols are loaded.
