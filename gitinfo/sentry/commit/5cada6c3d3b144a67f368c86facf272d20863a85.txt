commit 5cada6c3d3b144a67f368c86facf272d20863a85
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jan 26 18:23:57 2013 -0800

    Coerce url to md5 hash to avoid key length

diff --git a/src/sentry/tasks/fetch_source.py b/src/sentry/tasks/fetch_source.py
index 0b5da3d03d..5b57853e8b 100644
--- a/src/sentry/tasks/fetch_source.py
+++ b/src/sentry/tasks/fetch_source.py
@@ -6,6 +6,7 @@ sentry.tasks.fetch_source
 :license: BSD, see LICENSE for more details.
 """
 
+import hashlib
 import urllib2
 from collections import namedtuple
 from urlparse import urljoin
@@ -88,7 +89,7 @@ def fetch_url(url, logger=None):
     """
     import sentry
 
-    cache_key = 'fetch_url:%s' % url
+    cache_key = 'fetch_url:%s' % (hashlib.md5(url).hexdigest(),)
     result = cache.get(cache_key)
     if result is not None:
         return result
