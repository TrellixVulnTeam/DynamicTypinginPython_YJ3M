commit 17ea050c908b06f4ce02a3f9e8e97978f62b10a9
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 16 16:00:07 2015 -0700

    Basic for JS raw stack

diff --git a/src/sentry/static/sentry/app/components/interfaces/exception.jsx b/src/sentry/static/sentry/app/components/interfaces/exception.jsx
index 343497148a..c74f60d0ff 100644
--- a/src/sentry/static/sentry/app/components/interfaces/exception.jsx
+++ b/src/sentry/static/sentry/app/components/interfaces/exception.jsx
@@ -8,7 +8,8 @@ var StacktraceContent = require("./stacktraceContent");
 
 var ExceptionContent = React.createClass({
   propTypes: {
-    view: React.PropTypes.string.isRequired
+    view: React.PropTypes.string.isRequired,
+    platform: React.PropTypes.string
   },
 
   render() {
@@ -26,11 +27,14 @@ var ExceptionContent = React.createClass({
                 <pre className="exc-message">{exc.value}</pre>
               }
               {stackView === "raw" ?
-                <RawStacktraceContent data={exc.stacktrace} />
+                <RawStacktraceContent
+                    data={exc.stacktrace}
+                    platform={this.props.platform} />
               :
                 <StacktraceContent
                     data={exc.stacktrace}
-                    includeSystemFrames={stackView === "full"} />
+                    includeSystemFrames={stackView === "full"}
+                    platform={this.props.platform} />
               }
             </div>
           );
@@ -85,7 +89,10 @@ var ExceptionInterface = React.createClass({
           event={evt}
           type={this.props.type}
           title={title}>
-        <ExceptionContent view={stackView} values={data.values} />
+        <ExceptionContent
+            view={stackView}
+            values={data.values}
+            platform={evt.platform} />
       </GroupEventDataSection>
     );
   }
diff --git a/src/sentry/static/sentry/app/components/interfaces/rawStacktraceContent.jsx b/src/sentry/static/sentry/app/components/interfaces/rawStacktraceContent.jsx
index 67c0d0d661..a9dfabd5a1 100644
--- a/src/sentry/static/sentry/app/components/interfaces/rawStacktraceContent.jsx
+++ b/src/sentry/static/sentry/app/components/interfaces/rawStacktraceContent.jsx
@@ -5,11 +5,39 @@ var {defined, trim} = require("../../utils");
 
 var RawStacktraceContent = React.createClass({
   propTypes: {
-    data: React.PropTypes.object.isRequired
+    data: React.PropTypes.object.isRequired,
+    platform: React.PropTypes.string
   },
 
   getFrame(frame) {
-    return this.getDefaultFrame(frame);
+    switch (this.props.platform) {
+      case "javascript":
+        return this.getJavaScriptFrame(frame);
+      default:
+        return this.getDefaultFrame(frame);
+    }
+  },
+
+  getJavaScriptFrame(frame) {
+    var result = '';
+    if (defined(frame.function)) {
+      result += '  at ' + frame.function + '(';
+    } else {
+      result += '  at ? (';
+    }
+    if (defined(frame.filename)) {
+      result += frame.filename;
+    } else if (defined(frame.module)) {
+      result += frame.module;
+    }
+    if (defined(frame.lineNo) && frame.lineNo >= 0) {
+      result += ':' + frame.lineNo;
+    }
+    if (defined(frame.colNo) && frame.colNo >= 0) {
+      result += ':' + frame.colNo;
+    }
+    result += ')';
+    return result;
   },
 
   getDefaultFrame(frame) {
diff --git a/src/sentry/static/sentry/app/components/interfaces/stacktrace.jsx b/src/sentry/static/sentry/app/components/interfaces/stacktrace.jsx
index b8d0515bed..8356011c33 100644
--- a/src/sentry/static/sentry/app/components/interfaces/stacktrace.jsx
+++ b/src/sentry/static/sentry/app/components/interfaces/stacktrace.jsx
@@ -52,11 +52,14 @@ var StacktraceInterface = React.createClass({
           type={this.props.type}
           title={title}>
         {stackView === "raw" ?
-          <RawStacktraceContent data={data} />
+          <RawStacktraceContent
+              data={data}
+              platform={evt.platform} />
         :
           <StacktraceContent
               data={data}
-              includeSystemFrames={stackView === "full"} />
+              includeSystemFrames={stackView === "full"}
+              platform={evt.platform} />
         }
       </GroupEventDataSection>
     );
