commit 3e263c147d12976ff37cb95a5ae6519a63704f71
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Fri Sep 18 20:45:35 2015 -0700

    Bad data.query value was causing Http interface to fail to render
    
    Fixes GH-1981

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/richHttpContent.jsx b/src/sentry/static/sentry/app/components/events/interfaces/richHttpContent.jsx
index 13ef9091f5..0cd376d8b0 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/richHttpContent.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/richHttpContent.jsx
@@ -66,7 +66,7 @@ var RichHttpContent = React.createClass({
       <div>
         {data.query &&
           <ClippedBox title="Query String">
-            <DefinitionList data={this.objectToSortedTupleArray(queryString.parse(data.query))}/>
+            {this.getQueryStringOrRaw(data.query)}
           </ClippedBox>
         }
         {data.fragment &&
diff --git a/tests/js/spec/components/events/interfaces/richHttpContent.spec.jsx b/tests/js/spec/components/events/interfaces/richHttpContent.spec.jsx
index dfe865aae2..bae6ce74c2 100644
--- a/tests/js/spec/components/events/interfaces/richHttpContent.spec.jsx
+++ b/tests/js/spec/components/events/interfaces/richHttpContent.spec.jsx
@@ -133,5 +133,16 @@ describe("RichHttpContent", function () {
 
       expect(out.type).to.eql('pre');
     });
+
+    it("should now blow up in a malformed uri", function () {
+      let data = {
+        query: 'a%AFc',
+        data: '',
+        headers: [],
+        cookies: [],
+        env: {}
+      };
+      expect(() => TestUtils.renderIntoDocument(<RichHttpContent data={data} />)).to.not.throw(URIError);
+    });
   });
 });
