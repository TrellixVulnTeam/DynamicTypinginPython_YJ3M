commit 260507cb95862edbfb81e641ab0fb90817ae380d
Author: Mark Story <mark@sentry.io>
Date:   Fri Mar 13 16:32:33 2020 -0400

    fix(ui) Fix incorrectly centered text in muted box (#17651)
    
    When this was converted to flexbox I missed a scenario and the complete
    ignore was incorrectly laid out. I've also fixed more double borders
    that were showing up on muted and resolved issues.

diff --git a/src/sentry/static/sentry/app/components/events/eventEntries.jsx b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
index 4510f4394d..b5aae36971 100644
--- a/src/sentry/static/sentry/app/components/events/eventEntries.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventEntries.jsx
@@ -269,7 +269,7 @@ const BorderlessEventEntries = styled(EventEntries)`
   }
   & ${DataSection}:first-child {
     padding-top: 0;
-    border-top: none;
+    border-top: 0;
   }
 `;
 
diff --git a/src/sentry/static/sentry/app/components/events/styles.tsx b/src/sentry/static/sentry/app/components/events/styles.tsx
index 07ada14432..0f706f41c7 100644
--- a/src/sentry/static/sentry/app/components/events/styles.tsx
+++ b/src/sentry/static/sentry/app/components/events/styles.tsx
@@ -15,6 +15,15 @@ const COLORS = {
   },
 } as const;
 
+export const DataSection = styled('div')`
+  padding: ${space(3)} ${space(4)} 0 40px;
+  border-top: 1px solid ${p => p.theme.borderLight};
+
+  @media (max-width: ${p => p.theme.breakpoints[0]}) {
+    padding: ${space(2)} 0;
+  }
+`;
+
 type BannerProps = {
   priority: 'default' | 'danger';
 };
@@ -25,6 +34,11 @@ export const BannerContainer = styled('div')<BannerProps>`
   background: ${p => COLORS[p.priority].background};
   border-top: 1px solid ${p => COLORS[p.priority].border};
   border-bottom: 1px solid ${p => COLORS[p.priority].border};
+
+  /* Muted box & processing errors are in different parts of the DOM */
+  & + ${DataSection}, & + div > ${DataSection} {
+    border-top: 0;
+  }
 `;
 
 export const BannerSummary = styled('p')`
@@ -37,6 +51,7 @@ export const BannerSummary = styled('p')`
   & > .icon,
   & > svg {
     flex-shrink: 0;
+    flex-grow: 0;
     margin-right: ${space(1)};
     margin-top: ${space(0.5)};
   }
@@ -50,15 +65,6 @@ export const BannerSummary = styled('p')`
   }
 `;
 
-export const DataSection = styled('div')`
-  padding: ${space(3)} ${space(4)} 0 40px;
-  border-top: 1px solid ${p => p.theme.borderLight};
-
-  @media (max-width: ${p => p.theme.breakpoints[0]}) {
-    padding: ${space(2)} 0;
-  }
-`;
-
 export const CauseHeader = styled('div')`
   display: flex;
   justify-content: space-between;
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
index 7f0ae177a1..6177ff7e38 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventDetails/groupEventDetails.tsx
@@ -191,18 +191,14 @@ class GroupEventDetails extends React.Component<Props, State> {
                 location={location}
               />
             )}
-            {group.status !== 'unresolved' && (
-              <div className="issue-status">
-                {group.status === 'ignored' && (
-                  <MutedBox statusDetails={group.statusDetails} />
-                )}
-                {group.status === 'resolved' && (
-                  <ResolutionBox
-                    statusDetails={group.statusDetails}
-                    orgId={organization.slug}
-                  />
-                )}
-              </div>
+            {group.status === 'ignored' && (
+              <MutedBox statusDetails={group.statusDetails} />
+            )}
+            {group.status === 'resolved' && (
+              <ResolutionBox
+                statusDetails={group.statusDetails}
+                orgId={organization.slug}
+              />
             )}
             {this.state.loading ? (
               <LoadingIndicator />
diff --git a/tests/acceptance/test_issue_details.py b/tests/acceptance/test_issue_details.py
index 43c30ac101..bfa5f89773 100644
--- a/tests/acceptance/test_issue_details.py
+++ b/tests/acceptance/test_issue_details.py
@@ -150,3 +150,18 @@ class IssueDetailsTest(AcceptanceTestCase, SnubaTestCase):
 
         self.browser.wait_until_test_id("activity-item")
         self.browser.snapshot("issue activity python")
+
+    def test_resolved(self):
+        event = self.create_sample_event(platform="python")
+        self.page.visit_issue(self.org.slug, event.group.id)
+        self.page.resolve_issue()
+
+        self.browser.snapshot("issue details resolved")
+
+    def test_ignored(self):
+        event = self.create_sample_event(platform="python")
+        self.page.visit_issue(self.org.slug, event.group.id)
+        self.page.ignore_issue()
+
+        self.browser.snapshot("issue details ignored")
+        self.browser.save_screenshot("test.png")
diff --git a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
index 5bb9d18bfa..025f2a8db3 100644
--- a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
+++ b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
@@ -38,7 +38,7 @@ exports[`EventSdkUpdates renders a suggestion to update the sdk and then enable
       className=""
     >
       <div
-        className=" css-1tpn1lm-DataSection e1z0bih42"
+        className=" css-1tpn1lm-DataSection e1z0bih40"
       >
         <SectionContents>
           <div
diff --git a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
index 6d5a5d8574..4ecba86934 100644
--- a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
@@ -344,7 +344,7 @@ exports[`SharedGroupDetails renders 1`] = `
                       showTagSummary={true}
                     >
                       <EventEntries
-                        className="css-gv2wnj-BorderlessEventEntries enep45q0"
+                        className="css-1pvkuk1-BorderlessEventEntries enep45q0"
                         event={
                           Object {
                             "dateCreated": "2019-05-21T18:01:48.762Z",
@@ -485,7 +485,7 @@ exports[`SharedGroupDetails renders 1`] = `
                         showTagSummary={true}
                       >
                         <div
-                          className="css-gv2wnj-BorderlessEventEntries enep45q0"
+                          className="css-1pvkuk1-BorderlessEventEntries enep45q0"
                           data-test-id="event-entries"
                         >
                            
@@ -575,7 +575,7 @@ exports[`SharedGroupDetails renders 1`] = `
                                 className=""
                               >
                                 <div
-                                  className=" css-1tpn1lm-DataSection e1z0bih42"
+                                  className=" css-1tpn1lm-DataSection e1z0bih40"
                                 >
                                   <SectionHeader
                                     id="message"
