commit c30cf25152ac0bc5805801238ff8ae0254a43a6b
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 9 14:45:09 2015 -0700

    Correct usage of .data()

diff --git a/src/sentry/static/sentry/scripts/app.js b/src/sentry/static/sentry/scripts/app.js
index 103230e280..90c8f0cb2b 100644
--- a/src/sentry/static/sentry/scripts/app.js
+++ b/src/sentry/static/sentry/scripts/app.js
@@ -216,26 +216,31 @@
                     var $this = $(this);
                     var $content = $('<form class="share-form"></form>');
                     var $urlel = $('<code class="clippy">' + $this.data('share-url') + '</code>');
+                    var isChecked = $this.data('public');
+
                     $urlel.clippy({
                         clippy_path: app.config.clippyPath,
                         keep_text: true
                     });
                     $content.append($urlel);
-                    $content.append($('<label class="checkbox"><input type="checkbox"> Allow anonymous users to view this event.</label>'));
+                    $content.append($('<label class="checkbox">' +
+                        '<input type="checkbox"' + (isChecked ? ' checked="checked"' : '') + '/>' +
+                        'Allow anonymous users to view this event.' +
+                    '</label>'));
 
-                    $content.find('input[type=checkbox]').change(function(){
+                    var $checkbox = $content.find('input[type=checkbox]').change(function(){
                         var url = $this.data($(this).is(':checked') ? 'public-url' : 'private-url');
                         $.ajax({
                             url: url,
                             type: 'post',
                             success: function(group){
-                                $this.data('public', group.isPublic ? 'true' : 'false');
+                                $this.data('public', group.isPublic);
                             },
                             error: function(){
                                 window.alert('There was an error changing the public status');
                             }
                         });
-                    }).prop('checked', $this.data('public') == 'true');
+                    });
 
                     return $content;
                 }
