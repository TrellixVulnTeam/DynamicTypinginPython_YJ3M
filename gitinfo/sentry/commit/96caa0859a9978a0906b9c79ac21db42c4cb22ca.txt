commit 96caa0859a9978a0906b9c79ac21db42c4cb22ca
Author: Zac Propersi <3389111+logicalbomb@users.noreply.github.com>
Date:   Mon Apr 8 10:07:04 2019 -0700

    ci(codecov): Always send coverage report (#12682)
    
    We were only sending coverage reports on success which meant that
    when tests would fail our coverage numbers would drop by ~50%.

diff --git a/.travis.yml b/.travis.yml
index 98eac15eca..af8640585f 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -45,18 +45,16 @@ script:
   # installing dependencies for after_* steps here ensures they get cached
   # since those steps execute after travis runs `store build cache`
 
-after_success:
+after_failure:
+  - dmesg | tail -n 100
+
+after_script:
   - |
       coverage_files=$(ls .artifacts/*coverage.xml || true)
       if [[ -n "$coverage_files" || -f .artifacts/coverage/cobertura-coverage.xml ]]; then
         pip install codecov
         codecov -e TEST_SUITE
       fi
-
-after_failure:
-  - dmesg | tail -n 100
-
-after_script:
   - npm install -g @zeus-ci/cli
   - zeus upload -t "text/xml+xunit" .artifacts/*junit.xml
   - zeus upload -t "text/xml+coverage" .artifacts/*coverage.xml
