commit aba9ea7583c3fc44d1d18da552ad1c03a6026400
Author: Ben Vinegar <ben@benv.ca>
Date:   Fri May 20 15:22:19 2016 -0700

    Fix status code '0' being appended to url in http breadcrumbs
    
    /cc @getsentry/ui

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/httpRenderer.jsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/httpRenderer.jsx
index b8d77d9be6..98cd68a96f 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/httpRenderer.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/httpRenderer.jsx
@@ -26,7 +26,7 @@ const HttpRenderer = React.createClass({
           <code>
             {method && <strong>{method} </strong>}
             {url && this.renderUrl(url)}
-            {status_code && (' [' + status_code + ']')}
+            {status_code !== undefined ? <span>{' [' + status_code + ']'}</span> : ''}
           </code>
         </pre>
       </SummaryLine>
diff --git a/tests/js/spec/components/events/interfaces/breadcrumbComponents/httpRenderer.spec.jsx b/tests/js/spec/components/events/interfaces/breadcrumbComponents/httpRenderer.spec.jsx
new file mode 100644
index 0000000000..65823cba62
--- /dev/null
+++ b/tests/js/spec/components/events/interfaces/breadcrumbComponents/httpRenderer.spec.jsx
@@ -0,0 +1,25 @@
+import React from 'react';
+import {shallow} from 'enzyme';
+import HttpRenderer from 'app/components/events/interfaces/breadcrumbComponents/httpRenderer';
+
+describe('HttpRenderer', function() {
+  describe('render()', function() {
+    it('should work', function () {
+      let httpRendererWrapper = shallow(<HttpRenderer crumb={{
+        data: {
+          method: 'POST',
+          url: 'http://example.com/foo',
+          // status_code 0 is possible via broken client-side XHR; should still render as '[0]'
+          status_code: 0
+        }
+      }}/>);
+
+      let summaryLine = httpRendererWrapper.prop('summary');
+
+      let summaryLineWrapper = shallow(summaryLine);
+      expect(summaryLineWrapper.find('strong').text()).to.eql('POST ');
+      expect(summaryLineWrapper.find('a').text().trim()).to.eql('http://example.com/foo');
+      expect(summaryLineWrapper.find('span').text()).to.eql(' [0]');
+    });
+  });
+});
