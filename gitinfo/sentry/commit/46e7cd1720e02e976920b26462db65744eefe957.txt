commit 46e7cd1720e02e976920b26462db65744eefe957
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jul 26 14:42:25 2014 +0200

    basic limit tests

diff --git a/tests/js/spec/collectionSpec.js b/tests/js/spec/collectionSpec.js
index 3a52b36ee5..eecd72fb80 100644
--- a/tests/js/spec/collectionSpec.js
+++ b/tests/js/spec/collectionSpec.js
@@ -30,6 +30,19 @@ describe('sentry.collection', function(){
       assert.equal(c[0].id, 'foo');
       assert.equal(c[0].biz, 'boz');
     });
+
+    it('should should respect limit', function(){
+      var c = new Collection([], {limit: 2});
+      c.push({id: 'foo'});
+      c.push({id: 'bar'});
+      c.push({id: 'baz'});
+
+      assert.equal(c.length, 2);
+
+      assert.equal(c[0].id, 'foo');
+      assert.equal(c[1].id, 'bar');
+    });
+
   });
 
   describe('unshift', function() {
@@ -54,6 +67,18 @@ describe('sentry.collection', function(){
       assert.equal(c[0].id, 'foo');
       assert.equal(c[0].biz, 'boz');
     });
+
+    it('should should respect limit', function(){
+      var c = new Collection([], {limit: 2});
+      c.unshift({id: 'foo'});
+      c.unshift({id: 'bar'});
+      c.unshift({id: 'baz'});
+
+      assert.equal(c.length, 2);
+
+      assert.equal(c[0].id, 'baz');
+      assert.equal(c[1].id, 'bar');
+    });
   });
 
   describe('remove', function() {
