commit 50dd289f83b271eff80bde05ef707f7553a7d935
Author: Meredith <meredith@getsentry.com>
Date:   Tue Jul 25 13:49:12 2017 -0700

    improve test

diff --git a/tests/sentry/api/endpoints/test_project_plugin_details.py b/tests/sentry/api/endpoints/test_project_plugin_details.py
index 2a755cfd27..3604674853 100644
--- a/tests/sentry/api/endpoints/test_project_plugin_details.py
+++ b/tests/sentry/api/endpoints/test_project_plugin_details.py
@@ -1,8 +1,9 @@
 from __future__ import absolute_import
 
+import mock
 from django.core.urlresolvers import reverse
 
-from sentry.plugins import plugins
+from sentry.plugins import plugins, NotificationPlugin
 from sentry.models import ProjectOption
 from sentry.testutils import APITestCase
 
@@ -67,7 +68,8 @@ class UpdateProjectPluginTest(APITestCase):
 
 
 class EnableProjectPluginTest(APITestCase):
-    def test_simple(self):
+    @mock.patch.object(NotificationPlugin, 'test_configuration', side_effect='test_configuration')
+    def test_simple(self, test_configuration):
         project = self.create_project()
 
         self.login_as(user=self.user)
@@ -91,6 +93,7 @@ class EnableProjectPluginTest(APITestCase):
 
         # Testing the Plugin
         response = self.client.post(url, {'test': True})
+        test_configuration.assert_called_once_with(project)
         assert response.status_code == 200, (response.status_code, response.content)
 
 
