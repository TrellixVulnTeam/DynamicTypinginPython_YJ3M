commit 29d97a21d290bd7a4cfcaad5329bfe1b9010089b
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 22 11:42:57 2015 -0700

    Support single org in load-mocks

diff --git a/bin/load-mocks b/bin/load-mocks
index c10f502963..338acd9e61 100755
--- a/bin/load-mocks
+++ b/bin/load-mocks
@@ -3,10 +3,8 @@
 from sentry.utils.runner import configure
 configure()
 
-from sentry.models import User, Project, Team
-from sentry.utils.samples import create_sample_event
-
 from datetime import datetime, timedelta
+from django.conf import settings
 from pytz import utc
 from random import randint
 
@@ -73,13 +71,16 @@ def main():
         ('Captain Planet', ('Earth', 'Fire', 'Wind', 'Water', 'Heart')),
     )
 
-    print('Mocking org {}'.format('Default'))
-    org, _ = Organization.objects.get_or_create(
-        name='Default',
-        defaults={
-            'owner': user,
-        },
-    )
+    if settings.SENTRY_SINGLE_ORGANIZATION:
+        org = Organization.objects.all()[0]
+    else:
+        print('Mocking org {}'.format('Default'))
+        org, _ = Organization.objects.get_or_create(
+            name='Default',
+            defaults={
+                'owner': user,
+            },
+        )
 
     dummy_member, _ = OrganizationMember.objects.get_or_create(
         user=dummy_user,
