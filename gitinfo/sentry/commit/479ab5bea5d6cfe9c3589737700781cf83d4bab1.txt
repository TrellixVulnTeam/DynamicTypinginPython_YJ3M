commit 479ab5bea5d6cfe9c3589737700781cf83d4bab1
Author: Billy Vong <billy@sentry.io>
Date:   Thu May 17 13:27:34 2018 -0700

    fix(avatar): Fix old account settings for avatar

diff --git a/src/sentry/static/sentry/app/components/avatarCropper.jsx b/src/sentry/static/sentry/app/components/avatarCropper.jsx
index 3062f30085..526e454753 100644
--- a/src/sentry/static/sentry/app/components/avatarCropper.jsx
+++ b/src/sentry/static/sentry/app/components/avatarCropper.jsx
@@ -315,7 +315,7 @@ class AvatarCropper extends React.Component {
 
   getImgSrc = () => {
     let {savedDataUrl, model, type} = this.props;
-    let uuid = model.avatar.avatarUuid;
+    let uuid = model && model.avatar.avatarUuid;
     let photoUrl = uuid && `/${AVATAR_URL_MAP[type] || 'avatar'}/${uuid}/`;
     return savedDataUrl || this.state.objectURL || photoUrl;
   };
diff --git a/src/sentry/static/sentry/app/components/avatarSettings.jsx b/src/sentry/static/sentry/app/components/avatarSettings.jsx
index 2c6248e2da..bd18e4fd89 100644
--- a/src/sentry/static/sentry/app/components/avatarSettings.jsx
+++ b/src/sentry/static/sentry/app/components/avatarSettings.jsx
@@ -112,7 +112,7 @@ const AvatarSettings = createReactClass({
           {this.state.user.avatar.avatarType === 'upload' && (
             <AvatarCropper
               {...this.props}
-              user={this.state.user}
+              model={this.state.user}
               savedDataUrl={this.state.savedDataUrl}
               updateDataUrlState={this.updateDataUrlState}
             />
