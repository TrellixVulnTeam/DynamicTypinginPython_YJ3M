commit 52fa5ae8fcbb6ccce51270d5040b4e7aaddd33d3
Author: David Cramer <dcramer@gmail.com>
Date:   Tue May 2 16:58:10 2017 -0700

    add acceptance test for percy

diff --git a/src/sentry/templates/sentry/project-issue-tracking.html b/src/sentry/templates/sentry/project-issue-tracking.html
index 47b11d2d52..c49f96f8fa 100644
--- a/src/sentry/templates/sentry/project-issue-tracking.html
+++ b/src/sentry/templates/sentry/project-issue-tracking.html
@@ -7,60 +7,62 @@
 {% block title %}{% trans "Issue Tracking" %} | {{ block.super }}{% endblock %}
 
 {% block main %}
-  <h2>{% trans "Issue Tracking" %}</h2>
+  <div class="ref-issue-tracking-settings">
+    <h2>{% trans "Issue Tracking" %}</h2>
 
-  <p>Enabling Issue Tracking will let you quickly create tasks within your existing tools.
-    You'll find the new action under <span class="btn btn-default btn-sm">More <span class="icon icon-arrow-down"></span></span>
-    on an issue's details page. Once you create an issue, you'll find a helpful annotation
-    and link to the task in your project management tool. </p>
+    <p>Enabling Issue Tracking will let you quickly create tasks within your existing tools.
+      You'll find the new action under <span class="btn btn-default btn-sm">More <span class="icon icon-arrow-down"></span></span>
+      on an issue's details page. Once you create an issue, you'll find a helpful annotation
+      and link to the task in your project management tool. </p>
 
-  {% if enabled_plugins or other_plugins %}
-    {% for plugin, content in enabled_plugins %}
-      <div class="box">
-        <div class="box-header">
-          {% if plugin.can_disable %}
-            <form method="POST" class="pull-right">
-              {% csrf_token %}
-              <input type="hidden" name="plugin" value="{{ plugin.slug }}" />
-              <button type="submit" class="btn btn-sm btn-default" name="op" value="disable">Disable</button>
-            </form>
-          {% endif %}
-          <h3>{{ plugin.get_title }}</h3>
+    {% if enabled_plugins or other_plugins %}
+      {% for plugin, content in enabled_plugins %}
+        <div class="box">
+          <div class="box-header">
+            {% if plugin.can_disable %}
+              <form method="POST" class="pull-right">
+                {% csrf_token %}
+                <input type="hidden" name="plugin" value="{{ plugin.slug }}" />
+                <button type="submit" class="btn btn-sm btn-default" name="op" value="disable">Disable</button>
+              </form>
+            {% endif %}
+            <h3>{{ plugin.get_title }}</h3>
+          </div>
+          <div class="box-content with-padding">
+            {{ content }}
+          </div>
         </div>
-        <div class="box-content with-padding">
-          {{ content }}
-        </div>
-      </div>
-    {% endfor %}
+      {% endfor %}
 
-    <div id="issue_plugins"></div>
+      <div id="issue_plugins"></div>
 
-    {% if other_plugins %}
-      <div class="box">
-        <div class="box-header">
-          <h3>{% trans "Inactive Integrations" %}</h3>
-        </div>
-        <div class="box-content with-padding">
-          <ul class="integration-list">
-            {% for plugin in other_plugins %}
-              <li>
-                <form method="POST">
-                  {% csrf_token %}
-                  <input type="hidden" name="op" value="enable" />
-                  <input type="hidden" name="plugin" value="{{ plugin.slug }}" />
-                  <button type="submit">{{ plugin.get_title }}</button>
-                </form>
-              </li>
-            {% endfor %}
-          </ul>
+      {% if other_plugins %}
+        <div class="box">
+          <div class="box-header">
+            <h3>{% trans "Inactive Integrations" %}</h3>
+          </div>
+          <div class="box-content with-padding">
+            <ul class="integration-list">
+              {% for plugin in other_plugins %}
+                <li>
+                  <form method="POST">
+                    {% csrf_token %}
+                    <input type="hidden" name="op" value="enable" />
+                    <input type="hidden" name="plugin" value="{{ plugin.slug }}" />
+                    <button type="submit">{{ plugin.get_title }}</button>
+                  </form>
+                </li>
+              {% endfor %}
+            </ul>
+          </div>
         </div>
+      {% endif %}
+    {% else %}
+      <div class="alert alert-info alert-block">
+        <p>There are no issue tracker integrations available. Ask your Sentry team about integrating with your favorite project management tools.</p>
       </div>
     {% endif %}
-  {% else %}
-    <div class="alert alert-info alert-block">
-      <p>There are no issue tracker integrations available. Ask your Sentry team about integrating with your favorite project management tools.</p>
-    </div>
-  {% endif %}
+  </div>div>
 
   <script>
   $(function(){
diff --git a/tests/acceptance/test_project_issue_tracking_settings.py b/tests/acceptance/test_project_issue_tracking_settings.py
new file mode 100644
index 0000000000..091d6f710e
--- /dev/null
+++ b/tests/acceptance/test_project_issue_tracking_settings.py
@@ -0,0 +1,37 @@
+from __future__ import absolute_import
+
+from sentry.testutils import AcceptanceTestCase
+
+
+class ProjectAlertSettingsTest(AcceptanceTestCase):
+    def setUp(self):
+        super(ProjectAlertSettingsTest, self).setUp()
+        self.user = self.create_user('foo@example.com')
+        self.org = self.create_organization(
+            name='Rowdy Tiger',
+            owner=None,
+        )
+        self.team = self.create_team(
+            organization=self.org,
+            name='Mariachi Band'
+        )
+        self.project = self.create_project(
+            organization=self.org,
+            team=self.team,
+            name='Bengal',
+        )
+        self.create_member(
+            user=self.user,
+            organization=self.org,
+            role='owner',
+            teams=[self.team],
+        )
+
+        self.login_as(self.user)
+        self.path = '/{}/{}/settings/issue-tracking/'.format(self.org.slug, self.project.slug)
+
+    def test_simple(self):
+        self.browser.get(self.path)
+        self.browser.wait_until_not('.loading-indicator')
+        self.browser.snapshot('project issue tracking settings')
+        self.browser.wait_until('.ref-issue-tracking-settings')
