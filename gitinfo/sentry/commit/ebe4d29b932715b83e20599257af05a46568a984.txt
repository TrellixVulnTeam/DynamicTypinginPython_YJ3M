commit ebe4d29b932715b83e20599257af05a46568a984
Author: josh <josh@jrl.ninja>
Date:   Tue Jun 9 03:28:28 2020 +0000

    fix(devserver): delete after stopping containers (#19192)

diff --git a/src/sentry/runner/commands/devservices.py b/src/sentry/runner/commands/devservices.py
index 304f4addf8..2e28b9f8e8 100644
--- a/src/sentry/runner/commands/devservices.py
+++ b/src/sentry/runner/commands/devservices.py
@@ -1,7 +1,6 @@
 from __future__ import absolute_import, print_function
 
 import time
-import atexit
 import signal
 import os
 import click
@@ -82,13 +81,14 @@ def attach(project, fast, service):
     container = _start_service(client, service, containers, project, fast=fast, always_start=True)
 
     def exit_handler(*_):
-        click.echo("Shutting down {}".format(service))
         try:
+            click.echo("Stopping {}".format(service))
             container.stop()
+            click.echo("Removing {}".format(service))
+            container.remove()
         except KeyboardInterrupt:
             pass
 
-    atexit.register(exit_handler)
     signal.signal(signal.SIGINT, exit_handler)
     signal.signal(signal.SIGTERM, exit_handler)
 
