commit 25a6161fc0cb160501e7739e00aba0283354e4ea
Author: Chris Fuller <cfuller@sentry.io>
Date:   Mon Apr 13 17:29:51 2020 -0400

    feat(workflow): Using discoverQuery instead of query (#18235)
    
    * Using discoverQuery instead of query on an incident for the discover links

diff --git a/src/sentry/static/sentry/app/views/alerts/details/body.tsx b/src/sentry/static/sentry/app/views/alerts/details/body.tsx
index a7861c851d..94e9e55dcf 100644
--- a/src/sentry/static/sentry/app/views/alerts/details/body.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/details/body.tsx
@@ -59,7 +59,7 @@ export default class DetailsBody extends React.Component<Props> {
         incident.aggregation === AlertRuleAggregations.UNIQUE_USERS
           ? '-count_unique_user_id'
           : '-count_id',
-      query: (incident && incident.query) || '',
+      query: incident?.discoverQuery ?? '',
       projects: projects
         .filter(({slug}) => incident.projects.includes(slug))
         .map(({id}) => Number(id)),
diff --git a/src/sentry/static/sentry/app/views/alerts/types.tsx b/src/sentry/static/sentry/app/views/alerts/types.tsx
index f9be166fe7..68f4a51750 100644
--- a/src/sentry/static/sentry/app/views/alerts/types.tsx
+++ b/src/sentry/static/sentry/app/views/alerts/types.tsx
@@ -16,6 +16,7 @@ export type Incident = {
   isSubscribed: boolean;
   groups: string[]; // Array of group ids
   query: string;
+  discoverQuery: string;
   organizationId: string;
   projects: string[]; // Array of slugs
   seenBy: User[];
