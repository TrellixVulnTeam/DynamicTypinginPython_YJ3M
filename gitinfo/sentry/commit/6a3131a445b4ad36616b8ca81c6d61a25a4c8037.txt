commit 6a3131a445b4ad36616b8ca81c6d61a25a4c8037
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Mar 29 18:36:42 2018 -0700

    feat(ui): Add release hovercard to recent activity

diff --git a/src/sentry/static/sentry/app/components/activity/item.jsx b/src/sentry/static/sentry/app/components/activity/item.jsx
index af7e6fd833..2e83f2afd0 100644
--- a/src/sentry/static/sentry/app/components/activity/item.jsx
+++ b/src/sentry/static/sentry/app/components/activity/item.jsx
@@ -9,6 +9,7 @@ import CommitLink from '../../components/commitLink';
 import Duration from '../../components/duration';
 import Avatar from '../../components/avatar';
 import IssueLink from '../../components/issueLink';
+import VersionHoverCard from '../../components/versionHoverCard';
 import MemberListStore from '../../stores/memberListStore';
 import TeamStore from '../../stores/teamStore';
 import TimeSince from '../../components/timeSince';
@@ -63,6 +64,12 @@ class ActivityItem extends React.Component {
       </IssueLink>
     ) : null;
 
+    let versionLink = data.version ? (
+      <VersionHoverCard orgId={orgId} projectId={project.slug} version={data.version}>
+        <Version version={data.version} orgId={orgId} projectId={project.slug} />
+      </VersionHoverCard>
+    ) : null;
+
     switch (item.type) {
       case 'note':
         return tct('[author] commented on [issue]', {
@@ -89,9 +96,7 @@ class ActivityItem extends React.Component {
         if (data.version) {
           return tct('[author] marked [issue] as resolved in [version]', {
             author,
-            version: (
-              <Version version={data.version} orgId={orgId} projectId={project.slug} />
-            ),
+            version: versionLink,
             issue: issueLink,
           });
         }
@@ -186,9 +191,7 @@ class ActivityItem extends React.Component {
         if (data.version) {
           return tct('[author] marked [issue] as a regression in [version]', {
             author,
-            version: (
-              <Version version={data.version} orgId={orgId} projectId={project.slug} />
-            ),
+            version: versionLink,
             issue: issueLink,
           });
         }
@@ -270,16 +273,12 @@ class ActivityItem extends React.Component {
       case 'release':
         return tct('[author] released version [version]', {
           author,
-          version: (
-            <Version version={data.version} orgId={orgId} projectId={project.slug} />
-          ),
+          version: versionLink,
         });
       case 'deploy':
         return tct('[author] deployed version [version] to [environment].', {
           author,
-          version: (
-            <Version version={data.version} orgId={orgId} projectId={project.slug} />
-          ),
+          version: versionLink,
           environment: data.environment || 'Default Environment',
         });
       default:
@@ -297,9 +296,9 @@ class ActivityItem extends React.Component {
     }
 
     let avatar = item.user ? (
-      <Avatar user={item.user} size={36} className="avatar" />
+      <Avatar user={item.user} size={36} className="activity-avatar" />
     ) : (
-      <div className="avatar sentry">
+      <div className="activity-avatar avatar sentry">
         <span className="icon-sentry-logo" />
       </div>
     );
diff --git a/src/sentry/static/sentry/app/components/versionHoverCard.jsx b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
index 4d9e536ff5..91467401f9 100644
--- a/src/sentry/static/sentry/app/components/versionHoverCard.jsx
+++ b/src/sentry/static/sentry/app/components/versionHoverCard.jsx
@@ -153,7 +153,7 @@ const VersionHoverCard = createReactClass({
           <div className="row row-flex">
             <div className="col-xs-4">
               <h6>New Issues</h6>
-              <div className="count">{release.newGroups}</div>
+              <div className="count-since">{release.newGroups}</div>
             </div>
             <div className="col-xs-8">
               <h6>
diff --git a/src/sentry/static/sentry/app/views/groupActivity/index.jsx b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
index 3926761cd2..ecb030f20d 100644
--- a/src/sentry/static/sentry/app/views/groupActivity/index.jsx
+++ b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
@@ -251,9 +251,9 @@ const GroupActivity = createReactClass({
         );
       } else {
         let avatar = item.user ? (
-          <Avatar user={item.user} size={18} />
+          <Avatar user={item.user} size={18} className="activity-avatar" />
         ) : (
-          <div className="avatar sentry">
+          <div className="activity-avatar avatar sentry">
             <span className="icon-sentry-logo" />
           </div>
         );
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index fa30df3a6b..1351cd585c 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -721,7 +721,7 @@
         opacity: 0.6;
       }
 
-      .avatar {
+      .activity-avatar {
         margin-right: 4px;
         border-radius: 2px;
         position: relative;
diff --git a/src/sentry/static/sentry/less/organization.less b/src/sentry/static/sentry/less/organization.less
index a0e1fa354e..dec31c6398 100644
--- a/src/sentry/static/sentry/less/organization.less
+++ b/src/sentry/static/sentry/less/organization.less
@@ -47,16 +47,6 @@
     }
   }
 
-  .count {
-    font-size: 36px;
-    color: @gray-dark;
-    margin: 10px 0 20px;
-
-    &.rejected {
-      color: @red;
-    }
-  }
-
   .dashboard-barchart {
     height: 100px;
     margin-bottom: 30px;
@@ -78,6 +68,16 @@
     }
   }
 
+  .count {
+    font-size: 36px;
+    color: @gray-dark;
+    margin: 10px 0 20px;
+
+    &.rejected {
+      color: @red;
+    }
+  }
+
   .page-header {
     h3 {
       margin-bottom: 0;
@@ -149,7 +149,7 @@
         }
       }
 
-      .avatar {
+      .activity-avatar {
         position: absolute;
         .square(36px);
         left: 12px;
diff --git a/src/sentry/static/sentry/less/sentry-hovercard.less b/src/sentry/static/sentry/less/sentry-hovercard.less
index d4c7132358..c06e9f6e1b 100644
--- a/src/sentry/static/sentry/less/sentry-hovercard.less
+++ b/src/sentry/static/sentry/less/sentry-hovercard.less
@@ -224,6 +224,7 @@
       right: -@hovercard-padding;
       background: @trim;
       opacity: 0.6;
+      z-index: -1;
     }
 
     h6 {
@@ -246,7 +247,7 @@
     margin-bottom: 15px;
   }
 
-  .count {
+  .count-since {
     color: @80;
     font-size: 22px;
     padding: 3px 0 0;
