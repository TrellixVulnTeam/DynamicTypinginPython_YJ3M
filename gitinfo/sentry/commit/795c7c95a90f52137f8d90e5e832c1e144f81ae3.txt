commit 795c7c95a90f52137f8d90e5e832c1e144f81ae3
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Nov 2 10:41:16 2015 -0800

    Disable Invite Member action without access (fixes GH-2262)

diff --git a/src/sentry/templates/sentry/organization-members.html b/src/sentry/templates/sentry/organization-members.html
index 88e0e75070..c64da273b7 100644
--- a/src/sentry/templates/sentry/organization-members.html
+++ b/src/sentry/templates/sentry/organization-members.html
@@ -9,7 +9,17 @@
 {% block org_members_nav %}active{% endblock %}
 
 {% block main %}
-  <a class="btn btn-primary btn-sm pull-right" href="{% url 'sentry-create-organization-member' organization.slug %}"><span class="icon-plus"></span> Invite Member</a>
+  {% if can_add_members %}
+    <a class="btn btn-primary btn-sm pull-right" href="{% url 'sentry-create-organization-member' organization.slug %}">
+      <span class="icon-plus"></span> Invite Member
+    </a>
+  {% else %}
+    <a class="btn btn-primary btn-sm btn-disabled tip pull-right"
+       title="You do not have enough permission to add new members">
+      <span class="icon-plus"></span> Invite Member
+    </a>
+  {% endif %}
+
   <h3>{% trans "Members" %}</h3>
 
   <p>{% blocktrans %}Members of your organization gain slightly elevated permissions over individual team members. For example, organization administrators can create new teams as well as manage all organization settings (including the list of admins).{% endblocktrans %}</p>
@@ -191,5 +201,6 @@
       }
     });
   });
+  $('.tip').tooltip();
   </script>
 {% endblock %}
diff --git a/src/sentry/web/frontend/organization_members.py b/src/sentry/web/frontend/organization_members.py
index 82ce5d6327..d7ab7fd811 100644
--- a/src/sentry/web/frontend/organization_members.py
+++ b/src/sentry/web/frontend/organization_members.py
@@ -41,6 +41,7 @@ class OrganizationMembersView(OrganizationView):
             request.access.has_scope('member:write')
             or request.access.has_scope('org:write')
         )
+        can_add_members = request.access.has_scope('org:write')
         can_remove_members = request.access.has_scope('member:delete')
 
         # pending requests
@@ -65,6 +66,7 @@ class OrganizationMembersView(OrganizationView):
             'member_list': member_list,
             'request_list': access_requests,
             'ref': request.GET.get('ref'),
+            'can_add_members': can_add_members,
             'can_remove_members': can_remove_members,
             'member_can_leave': member_can_leave,
         }
