commit 3ac76ed200e5b3d205b192444ee0b3aef67305f1
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jun 4 20:05:04 2014 -0700

    Add default 3 second timeout to mail

diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 9d567fe381..d346669124 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -31,6 +31,8 @@ class MailPlugin(NotificationPlugin):
     project_conf_form = None
     subject_prefix = settings.EMAIL_SUBJECT_PREFIX
 
+    timeout = getattr(settings, 'SENTRY_MAIL_TIMEOUT', 3)
+
     def _send_mail(self, subject, template=None, html_template=None, body=None,
                    project=None, group=None, headers=None, context=None,
                    fail_silently=False):
@@ -50,7 +52,10 @@ class MailPlugin(NotificationPlugin):
             reference=group,
         )
         msg.add_users(send_to, project=project)
-        return msg.send(fail_silently=fail_silently)
+        return msg.send(
+            timeout=self.timeout,
+            fail_silently=fail_silently,
+        )
 
     def send_test_mail(self, project=None):
         self._send_mail(
