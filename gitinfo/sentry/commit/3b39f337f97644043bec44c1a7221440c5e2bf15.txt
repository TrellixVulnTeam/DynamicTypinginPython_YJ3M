commit 3b39f337f97644043bec44c1a7221440c5e2bf15
Author: Stephen Cefali <scefali@sentry.io>
Date:   Tue Aug 20 19:35:34 2019 +0000

    adds logging of status to repo migration (#14419)

diff --git a/src/sentry/tasks/integrations.py b/src/sentry/tasks/integrations.py
index 30a7ed96a7..cc11b30839 100644
--- a/src/sentry/tasks/integrations.py
+++ b/src/sentry/tasks/integrations.py
@@ -270,6 +270,7 @@ def migrate_repo(repo_id, integration_id, organization_id):
         repo.integration_id = integration_id
         repo.provider = "integrations:%s" % (integration.provider,)
         # check against disabled specifically -- don't want to accidentally un-delete repos
+        original_status = repo.status
         if repo.status == ObjectStatus.DISABLED:
             repo.status = ObjectStatus.VISIBLE
         repo.save()
@@ -279,6 +280,7 @@ def migrate_repo(repo_id, integration_id, organization_id):
                 "integration_id": integration_id,
                 "organization_id": organization_id,
                 "repo_id": repo.id,
+                "original_status": original_status,
             },
         )
 
