commit 2601b5b97387f531bf38014a40fecf87a1b7d5a1
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 1 13:06:55 2011 -0700

    Pull version information from pkg_resources when VERSION and __version__ fail

diff --git a/sentry/utils/__init__.py b/sentry/utils/__init__.py
index 0a233514da..29e0965e12 100644
--- a/sentry/utils/__init__.py
+++ b/sentry/utils/__init__.py
@@ -1,5 +1,6 @@
 import hmac
 import logging
+import pkg_resources
 import sys
 import uuid
 from pprint import pformat
@@ -236,6 +237,12 @@ def get_versions(module_list=None):
         elif hasattr(app, '__version__'):
             version = app.__version__
         else:
+            # pull version from pkg_resources if distro exists
+            try:
+                version = pkg_resources.get_distribution(module_name).version
+            except pkg_resources.DistributionNotFound:
+                continue
+        if not version:
             continue
         if isinstance(version, (list, tuple)):
             version = '.'.join(str(o) for o in version)
