commit 00098a8e2d1ab978d0890c1a6057503ab4ede621
Author: Alex Coomans <alexc@squareup.com>
Date:   Sat Jun 4 13:21:40 2016 -0700

    Use the correct level for an event webhook

diff --git a/src/sentry/plugins/sentry_webhooks/plugin.py b/src/sentry/plugins/sentry_webhooks/plugin.py
index a88bd38dc1..62499f1373 100644
--- a/src/sentry/plugins/sentry_webhooks/plugin.py
+++ b/src/sentry/plugins/sentry_webhooks/plugin.py
@@ -53,8 +53,8 @@ class WebHooksPlugin(notify.NotificationPlugin):
             'id': str(group.id),
             'project': group.project.slug,
             'project_name': group.project.name,
-            'logger': group.logger,
-            'level': group.get_level_display(),
+            'logger': event.get_tag('logger'),
+            'level': event.get_tag('level'),
             'culprit': group.culprit,
             'message': event.message,
             'url': group.get_absolute_url(),
diff --git a/tests/sentry/plugins/sentry_webhooks/test_plugin.py b/tests/sentry/plugins/sentry_webhooks/test_plugin.py
index 1367b80db1..ab49c75257 100644
--- a/tests/sentry/plugins/sentry_webhooks/test_plugin.py
+++ b/tests/sentry/plugins/sentry_webhooks/test_plugin.py
@@ -2,6 +2,7 @@
 
 from __future__ import absolute_import
 
+import json
 import responses
 
 from exam import fixture
@@ -22,7 +23,7 @@ class WebHooksPluginTest(TestCase):
         responses.add(responses.POST, 'http://example.com')
 
         group = self.create_group(message='Hello world')
-        event = self.create_event(group=group, message='Hello world')
+        event = self.create_event(group=group, message='Hello world', tags={'level': 'warning'})
 
         rule = Rule.objects.create(project=self.project, label='my rule')
 
@@ -33,3 +34,8 @@ class WebHooksPluginTest(TestCase):
         self.plugin.notify(notification)
 
         assert len(responses.calls) == 1
+
+        payload = json.loads(responses.calls[0].request.body)
+
+        assert payload['level'] == 'warning'
+        assert payload['message'] == 'Hello world'
