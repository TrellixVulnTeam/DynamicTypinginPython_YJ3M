commit 72b6a7262bc225a8818446595af60f710791dea6
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 22 12:49:30 2013 -0800

    Dont attempt to update event data when there were no changes

diff --git a/src/sentry/tasks/fetch_source.py b/src/sentry/tasks/fetch_source.py
index fb5f2b44ff..0b5da3d03d 100644
--- a/src/sentry/tasks/fetch_source.py
+++ b/src/sentry/tasks/fetch_source.py
@@ -185,6 +185,7 @@ def fetch_javascript_source(event, **kwargs):
                 if source not in source_code:
                     file_list.add(urljoin(result.url, source))
 
+    has_changes = False
     for frame in frames:
         try:
             source, sourcemap = source_code[frame['abs_path']]
@@ -219,8 +220,11 @@ def fetch_javascript_source(event, **kwargs):
                 frame['abs_path'] = abs_path
                 frame['filename'] = state.src
 
+        has_changes = True
+
         # TODO: theoretically a minified source could point to another mapped, minified source
         frame['pre_context'], frame['context_line'], frame['post_context'] = get_source_context(
             source=source, lineno=int(frame['lineno']))
 
-    event.update(data=event.data)
+    if has_changes:
+        event.update(data=event.data)
