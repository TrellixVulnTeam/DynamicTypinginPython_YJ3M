commit 9ec8a9f9a072a5b1387b43c3ee2bc5c200ee4321
Author: Jess MacQueen <macqueen@users.noreply.github.com>
Date:   Thu May 11 15:43:33 2017 -0700

    fix import in Plugin2.reset_options fixes SENTRY-3C2 (#5380)
    
    * fix import in Plugin2.reset_options fixes SENTRY-3C2
    
    * add a test

diff --git a/src/sentry/plugins/base/v2.py b/src/sentry/plugins/base/v2.py
index 236c5dce00..6e7f6bc23e 100644
--- a/src/sentry/plugins/base/v2.py
+++ b/src/sentry/plugins/base/v2.py
@@ -108,7 +108,7 @@ class IPlugin2(local, PluginConfigMixin, PluginStatusMixin):
         return True
 
     def reset_options(self, project=None, user=None):
-        from .helpers import reset_options
+        from sentry.plugins.helpers import reset_options
         return reset_options(self.get_conf_key(), project, user)
 
     def get_option(self, key, project=None, user=None):
diff --git a/tests/sentry/plugins/base/test.py b/tests/sentry/plugins/base/test.py
index 56dc31e01d..c6e86ba977 100644
--- a/tests/sentry/plugins/base/test.py
+++ b/tests/sentry/plugins/base/test.py
@@ -5,6 +5,7 @@ from django.conf.urls import url
 from sentry.plugins import Plugin2
 from sentry.plugins.base.project_api_urls import load_plugin_urls
 from sentry.plugins.base.response import JSONResponse
+from sentry.testutils import TestCase
 
 
 def test_json_response():
@@ -47,3 +48,19 @@ def test_load_plugin_urls():
     ))
 
     assert len(patterns) == 2
+
+
+class Plugin2TestCase(TestCase):
+    def test_reset_config(self):
+
+        class APlugin(Plugin2):
+            def get_conf_key(self):
+                return 'a-plugin'
+
+        project = self.create_project()
+
+        a_plugin = APlugin()
+        a_plugin.set_option('key', 'value', project=project)
+        assert a_plugin.get_option('key', project=project) == 'value'
+        a_plugin.reset_options(project=project)
+        assert a_plugin.get_option('key', project=project) is None
