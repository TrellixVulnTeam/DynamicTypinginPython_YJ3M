commit 657322392fb3e343473c8e2f24c645462e8a10f8
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Mar 5 16:13:36 2020 -0800

    build(js): Fix `react-refresh` babel plugin always loaded in dâ€¦ (#17492)
    
    This fixes the `react-refresh` babel plugin from always being loaded in prod. We only want it loading when `SENTRY_UI_HOT_RELOAD` exists. Otherwise this was causing runtime errors in development when using without env var.

diff --git a/babel.config.js b/babel.config.js
index 59cf50a719..92f535411e 100644
--- a/babel.config.js
+++ b/babel.config.js
@@ -53,7 +53,10 @@ module.exports = {
           },
         ],
       ],
-      plugins: ['@babel/plugin-transform-react-jsx-source', 'react-refresh/babel'],
+      plugins: [
+        '@babel/plugin-transform-react-jsx-source',
+        !!process.env.SENTRY_UI_HOT_RELOAD ? 'react-refresh/babel' : null,
+      ].filter(Boolean),
     },
     test: {
       plugins: ['dynamic-import-node'],
