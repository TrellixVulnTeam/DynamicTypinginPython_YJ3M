commit 9ebe577ca0613a873bcecabeb2e34f147e297957
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Mar 3 15:11:41 2013 -0800

    Add teams to admin

diff --git a/src/sentry/templates/sentry/admin/base.html b/src/sentry/templates/sentry/admin/base.html
index f1d559e5aa..68acd21e13 100644
--- a/src/sentry/templates/sentry/admin/base.html
+++ b/src/sentry/templates/sentry/admin/base.html
@@ -15,6 +15,7 @@
 {% block sidebar %}
     <h6>{% trans "Overview" %}</h6>
     <ul class="nav nav-tabs nav-stacked">
+        <li{% block admin-nav-teams %}{% endblock %}><a href="{% url 'sentry-admin-teams' %}">{% trans "Teams" %}</a></li>
         <li{% block admin-nav-projects %}{% endblock %}><a href="{% url 'sentry-admin-projects' %}">{% trans "Projects" %}</a></li>
         <li{% block admin-nav-users %}{% endblock %}><a href="{% url 'sentry-admin-users' %}">{% trans "Users" %}</a></li>
     </ul>
diff --git a/src/sentry/templates/sentry/admin/projects/list.html b/src/sentry/templates/sentry/admin/projects/list.html
index f85e695f5b..d3b8ca27be 100644
--- a/src/sentry/templates/sentry/admin/projects/list.html
+++ b/src/sentry/templates/sentry/admin/projects/list.html
@@ -51,7 +51,8 @@
                     {% for project, avg_events in project_list.paginator.objects|with_event_counts %}
                         <tr>
                             <td>
-                                <strong>{{ project.name }}</strong> <a href="{% url 'sentry-stream' project.team.slug project.slug %}">[view]</a><br/>
+                                <a href="{% url 'sentry-manage-project' project.team.slug project.slug %}"><strong>{{ project.team.slug }}/{{ project.slug }}</strong></a>
+                                <a href="{% url 'sentry-stream' project.team.slug project.slug %}">[stream]</a><br/>
                                 {% if project.owner %}
                                     <small>Owned by <a href="{% url 'sentry-admin-edit-user' project.owner.pk %}">
                                         {% if project.owner.email %}
diff --git a/src/sentry/templates/sentry/admin/teams/list.html b/src/sentry/templates/sentry/admin/teams/list.html
new file mode 100644
index 0000000000..090701234b
--- /dev/null
+++ b/src/sentry/templates/sentry/admin/teams/list.html
@@ -0,0 +1,84 @@
+{% extends "sentry/admin/base.html" %}
+
+{% load url from future %}
+{% load i18n %}
+{% load sentry_helpers %}
+{% load sentry_admin_helpers %}
+
+{% block title %}{% trans "Manage Teams" %} | {{ block.super }}{% endblock %}
+
+{% block admin-nav-teams %} class="active"{% endblock %}
+
+{% block breadcrumb %}
+    <li class="divider"></li>
+    <li><a href="{% url 'sentry-admin-teams' %}">{% trans "Teams" %}</a></li>
+{% endblock %}
+
+{% block main %}
+    {% paginator team_list from request as team_list per_page 50 %}
+
+    <section class="body">
+        <form class="btn-toolbar" method="GET" action="">
+            <input type="text" name="pquery" value="{% if team_query %}{{ team_query }}{% endif %}" placeholder="search by team name">
+            <div class="btn-group pull-right">
+                <a class="btn prev{% if not team_list.paginator.has_previous %} disabled{% endif %}" href="?{{ team_list.query_string|escape }}&amp;p={{ team_list.paginator.previous_page }}"><span>{% trans "Previous" %}</span></a>
+                <a class="btn next{% if not team_list.paginator.has_next %} disabled{% endif %}" href="?{{ team_list.query_string|escape }}&amp;p={{ team_list.paginator.next_page }}"><span>{% trans "Next" %}</span></a>
+            </div>
+        </form>
+
+        {% querystring from request without sort as sort_querystring %}
+
+        {% if team_list.paginator.objects %}
+            <table class="table table-bordered table-striped">
+                <colgroup>
+                    <col>
+                    <col style="width:150px;">
+                    <col style="width:150px;">
+                    <col style="width:150px;">
+                </colgroup>
+                <thead>
+                    <tr>
+                        <th><a href="?{{ sort_querystring }}&amp;sort=name">{% trans "Team" %}</a></th>
+                        <th style="text-align:center;"><a href="?{{ sort_querystring }}&amp;sort=projects">{% trans "Projects" %}</a></th>
+                        <th style="text-align:center;"><a href="?{{ sort_querystring }}&amp;sort=date">{% trans "Date Added" %}</a></th>
+                    </tr>
+                </thead>
+                <tbody>
+                    {% for team in team_list.paginator.objects %}
+                        <tr>
+                            <td>
+                                <a href="{% url 'sentry-manage-team' team.slug %}"><strong>{{ team.slug }}</strong></a>
+                                <a href="{% url 'sentry' team.slug %}">[dashboard]</a><br/>
+                                {% if team.owner %}
+                                    <small>Owned by <a href="{% url 'sentry-admin-edit-user' team.owner.pk %}">
+                                        {% if team.owner.email %}
+                                            {{ team.owner.email }}
+                                        {% else %}
+                                            {{ team.owner.username }}
+                                        {% endif %}
+                                    </a></smalL>
+                                {% endif %}
+                            </td>
+                            <td style="text-align:center; vertical-align:middle;">
+                                <em>{{ team.num_projects }}</em>
+                            </td>
+                            <td style="text-align:center; vertical-align:middle;">
+                                {{ team.date_added|date }}
+                            </td>
+                        </tr>
+                    {% endfor %}
+                </tbody>
+            </table>
+
+        {% else %}
+            <p class="alert alert-notice">{% trans "There are no active teams in Sentry." %}</p>
+        {% endif %}
+
+        <div class="btn-toolbar">
+            <div class="btn-group pull-right">
+                <a class="btn prev{% if not team_list.paginator.has_previous %} disabled{% endif %}" href="?{{ team_list.query_string|escape }}&amp;p={{ team_list.paginator.previous_page }}"><span>{% trans "Previous" %}</span></a>
+                <a class="btn next{% if not team_list.paginator.has_next %} disabled{% endif %}" href="?{{ team_list.query_string|escape }}&amp;p={{ team_list.paginator.next_page }}"><span>{% trans "Next" %}</span></a>
+            </div>
+        </div>
+    </section>
+{% endblock %}
diff --git a/src/sentry/web/frontend/admin.py b/src/sentry/web/frontend/admin.py
index 832b5647bc..a2c77a026c 100644
--- a/src/sentry/web/frontend/admin.py
+++ b/src/sentry/web/frontend/admin.py
@@ -17,20 +17,20 @@ from django.core.context_processors import csrf
 from django.core.mail import send_mail
 from django.core.urlresolvers import reverse
 from django.db import transaction
-from django.db.models import Sum
+from django.db.models import Sum, Count
 from django.http import HttpResponseRedirect
 from django.utils import timezone
 from django.views.decorators.csrf import csrf_protect
 
 from sentry.app import env
 from sentry.conf import settings
-from sentry.models import Project, GroupCountByMinute
+from sentry.models import Team, Project, GroupCountByMinute
 from sentry.plugins import plugins
 from sentry.utils.http import absolute_uri
 from sentry.web.forms import NewUserForm, ChangeUserForm, RemoveUserForm, TestEmailForm
 from sentry.web.decorators import requires_admin
-from sentry.web.helpers import render_to_response, plugin_config, \
-  render_to_string
+from sentry.web.helpers import (render_to_response, plugin_config,
+    render_to_string)
 
 
 def configure_plugin(request, slug):
@@ -54,7 +54,8 @@ def configure_plugin(request, slug):
 def manage_projects(request):
     project_list = Project.objects.filter(
         status=0,
-    ).select_related('owner')
+        team__isnull=False,
+    ).select_related('owner', 'team')
 
     project_query = request.GET.get('pquery')
     if project_query:
@@ -253,6 +254,36 @@ def list_user_projects(request, user_id):
     return render_to_response('sentry/admin/users/list_projects.html', context, request)
 
 
+@requires_admin
+def manage_teams(request):
+    team_list = Team.objects.order_by('-date_added').select_related('owner')
+
+    team_query = request.GET.get('tquery')
+    if team_query:
+        team_list = team_list.filter(name__icontains=team_query)
+
+    sort = request.GET.get('sort')
+    if sort not in ('name', 'date', 'events'):
+        sort = 'date'
+
+    if sort == 'date':
+        order_by = '-date_added'
+    elif sort == 'name':
+        order_by = 'name'
+    elif sort == 'projects':
+        order_by = '-num_projects'
+
+    team_list = team_list.annotate(
+        num_projects=Count('project'),
+    ).order_by(order_by)
+
+    return render_to_response('sentry/admin/teams/list.html', {
+        'team_list': team_list,
+        'team_query': team_query,
+        'sort': sort,
+    }, request)
+
+
 @requires_admin
 def status_env(request):
     config = []
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 0923fcd962..691637ecc1 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -36,24 +36,37 @@ def init_all_applications():
 init_all_applications()
 
 urlpatterns = patterns('',
-    url(r'^_static/(?P<module>[^/]+)/(?P<path>.*)$', generic.static_media, name='sentry-media'),
+    url(r'^_static/(?P<module>[^/]+)/(?P<path>.*)$', generic.static_media,
+        name='sentry-media'),
 
     # Account
-    url(r'^login/$', accounts.login, name='sentry-login'),
-    url(r'^login-redirect/$', accounts.login_redirect, name='sentry-login-redirect'),
-    url(r'^logout/$', accounts.logout, name='sentry-logout'),
-    url(r'^register/$', accounts.register, name='sentry-register'),
-    url(r'^account/recover/$', accounts.recover, name='sentry-account-recover'),
-    url(r'^account/recover/confirm/(?P<user_id>[\d]+)/(?P<hash>[0-9a-zA-Z]+)/$', accounts.recover_confirm, name='sentry-account-recover-confirm'),
-    url(r'^account/settings/$', accounts.settings, name='sentry-account-settings'),
-    url(r'^account/settings/appearance/$', accounts.appearance_settings, name='sentry-account-settings-appearance'),
-    url(r'^account/settings/identities/$', accounts.list_identities, name='sentry-account-settings-identities'),
-    url(r'^account/settings/notifications/$', accounts.notification_settings, name='sentry-account-settings-notifications'),
+    url(r'^login/$', accounts.login,
+        name='sentry-login'),
+    url(r'^login-redirect/$', accounts.login_redirect,
+        name='sentry-login-redirect'),
+    url(r'^logout/$', accounts.logout,
+        name='sentry-logout'),
+    url(r'^register/$', accounts.register,
+        name='sentry-register'),
+    url(r'^account/recover/$', accounts.recover,
+        name='sentry-account-recover'),
+    url(r'^account/recover/confirm/(?P<user_id>[\d]+)/(?P<hash>[0-9a-zA-Z]+)/$', accounts.recover_confirm,
+        name='sentry-account-recover-confirm'),
+    url(r'^account/settings/$', accounts.settings,
+        name='sentry-account-settings'),
+    url(r'^account/settings/appearance/$', accounts.appearance_settings,
+        name='sentry-account-settings-appearance'),
+    url(r'^account/settings/identities/$', accounts.list_identities,
+        name='sentry-account-settings-identities'),
+    url(r'^account/settings/notifications/$', accounts.notification_settings,
+        name='sentry-account-settings-notifications'),
     url(r'^account/settings/social/', include('social_auth.urls')),
 
     # Settings - Teams
-    url(r'^account/teams/$', teams.team_list, name='sentry-team-list'),
-    url(r'^account/teams/new/$', teams.create_new_team, name='sentry-new-team'),
+    url(r'^account/teams/$', teams.team_list,
+        name='sentry-team-list'),
+    url(r'^account/teams/new/$', teams.create_new_team,
+        name='sentry-new-team'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/settings/$', teams.manage_team,
         name='sentry-manage-team'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/remove/$', teams.remove_team,
@@ -98,7 +111,8 @@ urlpatterns = patterns('',
         name='sentry-accept-invite'),
 
     # Settings - Projects
-    url(r'^account/teams/(?P<team_slug>[\w_-]+)/projects/new/$', projects.new_project, name='sentry-new-project'),
+    url(r'^account/teams/(?P<team_slug>[\w_-]+)/projects/new/$', projects.new_project,
+        name='sentry-new-project'),
 
     url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/settings/$', projects.manage_project,
         name='sentry-manage-project'),
@@ -130,42 +144,68 @@ urlpatterns = patterns('',
         name='sentry-project-notifications'),
 
     # Generic
-    url(r'^$', generic.dashboard, name='sentry'),
-    url(r'^wall/$', generic.wall_display, name='sentry-wall'),
+    url(r'^$', generic.dashboard,
+        name='sentry'),
+    url(r'^wall/$', generic.wall_display,
+        name='sentry-wall'),
 
     # Admin
-    url(r'^manage/status/$', admin.status_env, name='sentry-admin-status'),
-    url(r'^manage/status/packages/$', admin.status_packages, name='sentry-admin-packages-status'),
-    url(r'^manage/status/mail/$', admin.status_mail, name='sentry-admin-mail-status'),
-    url(r'^manage/stats/$', admin.stats, name='sentry-admin-stats'),
+    url(r'^manage/status/$', admin.status_env,
+        name='sentry-admin-status'),
+    url(r'^manage/status/packages/$', admin.status_packages,
+        name='sentry-admin-packages-status'),
+    url(r'^manage/status/mail/$', admin.status_mail,
+        name='sentry-admin-mail-status'),
+    url(r'^manage/stats/$', admin.stats,
+        name='sentry-admin-stats'),
+
+    # Admin - Teams
+    url(r'^manage/teams/$', admin.manage_teams,
+        name='sentry-admin-teams'),
 
     # Admin - Projects
-    url(r'^manage/projects/$', admin.manage_projects, name='sentry-admin-projects'),
+    url(r'^manage/projects/$', admin.manage_projects,
+        name='sentry-admin-projects'),
 
     # Admin - Users
-    url(r'^manage/users/$', admin.manage_users, name='sentry-admin-users'),
-    url(r'^manage/users/new/$', admin.create_new_user, name='sentry-admin-new-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/$', admin.edit_user, name='sentry-admin-edit-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/remove/$', admin.remove_user, name='sentry-admin-remove-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/projects/$', admin.list_user_projects, name='sentry-admin-list-user-projects'),
+    url(r'^manage/users/$', admin.manage_users,
+        name='sentry-admin-users'),
+    url(r'^manage/users/new/$', admin.create_new_user,
+        name='sentry-admin-new-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/$', admin.edit_user,
+        name='sentry-admin-edit-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/remove/$', admin.remove_user,
+        name='sentry-admin-remove-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/projects/$', admin.list_user_projects,
+        name='sentry-admin-list-user-projects'),
 
     # Admin - Plugins
-    url(r'^manage/plugins/(?P<slug>[\w_-]+)/$', admin.configure_plugin, name='sentry-admin-configure-plugin'),
+    url(r'^manage/plugins/(?P<slug>[\w_-]+)/$', admin.configure_plugin,
+        name='sentry-admin-configure-plugin'),
 
     # API / JS
-    url(r'^crossdomain\.xml$', api.crossdomain_xml_index, name='sentry-api-crossdomain-xml-index'),
-    url(r'^api/store/$', api.StoreView.as_view(), name='sentry-api-store'),
+    url(r'^crossdomain\.xml$', api.crossdomain_xml_index,
+        name='sentry-api-crossdomain-xml-index'),
+    url(r'^api/store/$', api.StoreView.as_view(),
+        name='sentry-api-store'),
 
     # Client API endpoints. MUST NOT BE CHANGED
-    url(r'^api/(?P<project_id>[\w_-]+)/crossdomain\.xml$', api.crossdomain_xml, name='sentry-api-crossdomain-xml'),
-    url(r'^api/(?P<project_id>[\w_-]+)/store/$', api.StoreView.as_view(), name='sentry-api-store'),
+    url(r'^api/(?P<project_id>[\w_-]+)/crossdomain\.xml$', api.crossdomain_xml,
+        name='sentry-api-crossdomain-xml'),
+    url(r'^api/(?P<project_id>[\w_-]+)/store/$', api.StoreView.as_view(),
+        name='sentry-api-store'),
 
     # Generic API
-    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/poll/$', api.poll, name='sentry-api-poll'),
-    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/resolve/$', api.resolve, name='sentry-api-resolve'),
-    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/bookmark/$', api.bookmark, name='sentry-api-bookmark'),
-    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/clear/$', api.clear, name='sentry-api-clear'),
-    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?chart/$', api.chart, name='sentry-api-chart'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/poll/$', api.poll,
+        name='sentry-api-poll'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/resolve/$', api.resolve,
+        name='sentry-api-resolve'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/bookmark/$', api.bookmark,
+        name='sentry-api-bookmark'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/clear/$', api.clear,
+        name='sentry-api-clear'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?chart/$', api.chart,
+        name='sentry-api-chart'),
     url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/remove/$', api.remove_group,
         name='sentry-api-remove-group'),
 
@@ -195,31 +235,48 @@ urlpatterns = patterns('',
         name='sentry-api-search-projects'),
 
     # Users
-    url(r'^(?P<team_slug>[\w_-]+)/users/$', users.user_list, name='sentry-users'),
-    url(r'^(?P<team_slug>[\w_-]+)/users/(?P<user_id>\d+)/$', users.user_details, name='sentry-user-details'),
+    url(r'^(?P<team_slug>[\w_-]+)/users/$', users.user_list,
+        name='sentry-users'),
+    url(r'^(?P<team_slug>[\w_-]+)/users/(?P<user_id>\d+)/$', users.user_details,
+        name='sentry-user-details'),
 
     # Project specific
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/get-started/$', projects.get_started, name='sentry-get-started'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/$', groups.group, name='sentry-group'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/$', groups.group_event_list, name='sentry-group-events'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/json/$', groups.group_event_list_json, name='sentry-group-events-json'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/(?P<event_id>\d+)/$', groups.group_event_details, name='sentry-group-event'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/(?P<event_id_or_latest>(\d+|latest))/json/$', groups.group_event_details_json, name='sentry-group-event-json'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/actions/(?P<slug>[\w_-]+)/', groups.group_plugin_action, name='sentry-group-plugin-action'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/tags/$', groups.group_tag_list, name='sentry-group-tags'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/tags/(?P<tag_name>[^/]+)/$', groups.group_tag_details, name='sentry-group-tag-details'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/events/$', events.event_list, name='sentry-events'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/events/(?P<event_id>\d+)/replay/$', events.replay_event, name='sentry-replay'),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/search/$', groups.search, name='sentry-search'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/get-started/$', projects.get_started,
+        name='sentry-get-started'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/$', groups.group,
+        name='sentry-group'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/$', groups.group_event_list,
+        name='sentry-group-events'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/json/$', groups.group_event_list_json,
+        name='sentry-group-events-json'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/(?P<event_id>\d+)/$', groups.group_event_details,
+        name='sentry-group-event'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/events/(?P<event_id_or_latest>(\d+|latest))/json/$', groups.group_event_details_json,
+        name='sentry-group-event-json'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/actions/(?P<slug>[\w_-]+)/', groups.group_plugin_action,
+        name='sentry-group-plugin-action'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/tags/$', groups.group_tag_list,
+        name='sentry-group-tags'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/tags/(?P<tag_name>[^/]+)/$', groups.group_tag_details,
+        name='sentry-group-tag-details'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/events/$', events.event_list,
+        name='sentry-events'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/events/(?P<event_id>\d+)/replay/$', events.replay_event,
+        name='sentry-replay'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/search/$', groups.search,
+        name='sentry-search'),
     url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/alerts/$', alerts.alert_list,
         name='sentry-project-alerts'),
     url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/alerts/(?P<alert_id>\d+)/$', alerts.alert_details,
         name='sentry-project-alert-details'),
     url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/stream/$', groups.group_list),
-    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/$', groups.group_list, name='sentry-stream'),
+    url(r'^(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/$', groups.group_list,
+        name='sentry-stream'),
 
-    url(r'^(?P<team_slug>[\w_-]+)/$', groups.dashboard, name='sentry'),
+    url(r'^(?P<team_slug>[\w_-]+)/$', groups.dashboard,
+        name='sentry'),
 
     # Legacy
-    url(r'^(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/$', groups.redirect_to_group, name='sentry-group'),
+    url(r'^(?P<project_id>[\w_-]+)/group/(?P<group_id>\d+)/$', groups.redirect_to_group,
+        name='sentry-group'),
 )
