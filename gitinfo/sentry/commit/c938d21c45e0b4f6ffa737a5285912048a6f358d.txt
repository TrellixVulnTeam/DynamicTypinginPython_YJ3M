commit c938d21c45e0b4f6ffa737a5285912048a6f358d
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Sep 1 12:48:31 2010 -0700

    Resolve link on details page.

diff --git a/sentry/media/scripts/global.js b/sentry/media/scripts/global.js
index a982ed23bf..f207f46052 100644
--- a/sentry/media/scripts/global.js
+++ b/sentry/media/scripts/global.js
@@ -54,7 +54,8 @@ $.fn.setAllToMaxHeight = function(){
 	return this.height( Math.max.apply(this, $.map( this , function(e){ return $(e).height() }) ) );
 }
 
-function sentryResolve(gid){
+function sentryResolve(gid, remove){
+    if (remove === undefined) var remove = true;
     $.ajax({
         url: SENTRY_JS_API_URL,
         type: 'post',
@@ -65,7 +66,11 @@ function sentryResolve(gid){
         },
         success: function(groups){
             for (var gid in groups) {
-                $('#group_' + gid).remove();
+                if (remove) {
+                    $('#group_' + gid).remove();
+                } else {
+                    $('#group_' + gid + ' .resolve-link').remove();
+                }
             }
         }
     });
diff --git a/sentry/templates/sentry/group.html b/sentry/templates/sentry/group.html
index ff5cde6a0b..32ab036032 100644
--- a/sentry/templates/sentry/group.html
+++ b/sentry/templates/sentry/group.html
@@ -48,11 +48,15 @@
 
 			<div id="body" class="with-sidebar">
 				<ul class="messages">
-					<li class="{% cycle 'row1' 'row2' %} level-{{ group.level }} active">
-						<span class="count">{{ group.times_seen }}</span>
+					<li class="{% cycle 'row1' 'row2' %} level-{{ group.level }}" id="group_{{ group.pk }}" data-sentry-count="{{ group.times_seen }}">
+						<span class="count count-digits-{{ group.times_seen|num_digits }}">{{ group.times_seen }}</span>
 						<h3>{% if group.view %}{{ group.view }}{% else %}{{ group.message }}{% endif %}</h3>
-						<p class="message">{{ group.error }}</p>
+						<span class="last_seen">{{ group.last_seen|timesince }} ago</span>
+						<p class="message"><span class="tag tag-level">{{ group.get_level_display }}</span> {{ group.error }}</p>
 						<pre class="traceback">{{ group.shortened_traceback }}</pre>
+						{% if group.status == 0 %}
+							<a href="javascript:void(0)" onclick="sentryResolve({{ group.pk }}, false);" class="hidden resolve-link">Resolve</a>
+						{% endif %}
 					</li>
 				</ul>
 		
diff --git a/sentry/templates/sentry/partial/_group.html b/sentry/templates/sentry/partial/_group.html
index 65d242fce1..d156e6c870 100644
--- a/sentry/templates/sentry/partial/_group.html
+++ b/sentry/templates/sentry/partial/_group.html
@@ -6,5 +6,7 @@
 	<span class="last_seen">{{ group.last_seen|timesince }} ago</span>
 	<p class="message"><span class="tag tag-level">{{ group.get_level_display }}</span> {{ group.error }}</p>
 	<pre class="traceback">{{ group.shortened_traceback }}</pre>
-	<a href="javascript:void(0)" onclick="sentryResolve({{ group.pk }});" class="hidden">Resolve</a>
+	{% if group.status == 0 %}
+		<a href="javascript:void(0)" onclick="sentryResolve({{ group.pk }});" class="hidden">Resolve</a>
+	{% endif %}
 </li>
\ No newline at end of file
