commit a100ad9a329c989100d28675e24fb62ba77c6ea1
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Mon Nov 30 23:19:43 2015 +0100

    Do not remove once good marked dialogs

diff --git a/Makefile b/Makefile
index d338e44579..7387fdcda5 100644
--- a/Makefile
+++ b/Makefile
@@ -56,7 +56,7 @@ build-js-po:
 locale: build-js-po
 	cd src/sentry && sentry makemessages -i static -l en
 	./bin/merge-catalogs en
-	./bin/find-good-catalogs > src/sentry/locale/catalogs.json
+	./bin/find-good-catalogs src/sentry/locale/catalogs.json
 	cd src/sentry && sentry compilemessages
 
 update-transifex: build-js-po
diff --git a/bin/find-good-catalogs b/bin/find-good-catalogs
index 6613c81fd1..af1308805c 100755
--- a/bin/find-good-catalogs
+++ b/bin/find-good-catalogs
@@ -20,9 +20,12 @@ def is_translated(msg):
 
 
 @click.command()
-def cli():
-    # en is always in
-    rv = ['en']
+@click.argument('catalog_file', type=click.Path())
+def cli(catalog_file):
+    # Read the old ones back.  Once we are in, we will never go.
+    with open(catalog_file) as f:
+        rv = json.load(f)['supported_locales']
+
     base = 'src/sentry/locale'
     for locale in os.listdir(base):
         fn = os.path.join(base, locale, 'LC_MESSAGES', 'django.po')
@@ -44,9 +47,11 @@ def cli():
         ), err=True)
         if pct >= MINIMUM and locale not in rv:
             rv.append(locale)
-    click.echo(json.dumps({
-        'supported_locales': sorted(rv)
-    }, indent=2))
+    with open(catalog_file, 'w') as f:
+        json.dump({
+            'supported_locales': sorted(rv)
+        }, f, indent=2)
+        f.write('\n')
 
 
 if __name__ == '__main__':
diff --git a/src/sentry/locale/catalogs.json b/src/sentry/locale/catalogs.json
index c882af44b5..882c82308c 100644
--- a/src/sentry/locale/catalogs.json
+++ b/src/sentry/locale/catalogs.json
@@ -2,7 +2,7 @@
   "supported_locales": [
     "cs", 
     "de", 
-    "en",
+    "en", 
     "fi", 
     "fr", 
     "ja", 
