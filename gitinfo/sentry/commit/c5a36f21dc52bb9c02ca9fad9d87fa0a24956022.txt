commit c5a36f21dc52bb9c02ca9fad9d87fa0a24956022
Author: Mark Story <mark@mark-story.com>
Date:   Tue Feb 12 09:26:04 2019 -0500

    fix(permissions) Don't mutate scope dictionaries (#12018)
    
    Redefine the OrganizationPermission scope_map instead of
    mutating the dictionary on the class object. This prevents
    mutations from happening on the class object.
    
    Fixes APP-1106

diff --git a/src/sentry/api/endpoints/organization_teams.py b/src/sentry/api/endpoints/organization_teams.py
index a954c29509..541d0e3714 100644
--- a/src/sentry/api/endpoints/organization_teams.py
+++ b/src/sentry/api/endpoints/organization_teams.py
@@ -41,9 +41,12 @@ def list_organization_teams_scenario(runner):
 
 # OrganizationPermission + team:write
 class OrganizationTeamsPermission(OrganizationPermission):
-    def __init__(self):
-        for m in 'POST', 'PUT', 'DELETE':
-            self.scope_map[m].append('team:write')
+    scope_map = {
+        'GET': ['org:read', 'org:write', 'org:admin'],
+        'POST': ['org:write', 'org:admin', 'team:write'],
+        'PUT': ['org:write', 'org:admin', 'team:write'],
+        'DELETE': ['org:admin', 'team:write'],
+    }
 
 
 class TeamSerializer(serializers.Serializer):
