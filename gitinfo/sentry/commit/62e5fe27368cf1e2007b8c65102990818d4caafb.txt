commit 62e5fe27368cf1e2007b8c65102990818d4caafb
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Oct 15 13:59:45 2010 -0700

    Sometimes view discovery doesnt work

diff --git a/sentry/client/base.py b/sentry/client/base.py
index b6f94852c5..698ecb5d72 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -163,6 +163,7 @@ class SentryClient(object):
             # check it against SENTRY_EXCLUDE_PATHS. If it isnt listed, then we
             # use this option. If nothing is found, we use the "best guess".
             best_guess = None
+            view = None
             for frame in iter_tb_frames(exc_traceback):
                 view = '.'.join([frame.f_globals['__name__'], frame.f_code.co_name])
                 if contains(modules, view):
@@ -173,7 +174,8 @@ class SentryClient(object):
             if best_guess:
                 view = best_guess
             
-            kwargs['view'] = view
+            if view:
+                kwargs['view'] = view
 
         data = kwargs.pop('data', {}) or {}
         data['__sentry__'] = {
