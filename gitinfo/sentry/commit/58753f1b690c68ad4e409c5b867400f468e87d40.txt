commit 58753f1b690c68ad4e409c5b867400f468e87d40
Author: Eric Lindvall <eric@5stops.com>
Date:   Sat Sep 14 23:42:57 2013 -0700

    Make wad work in pull requests

diff --git a/script/wad b/script/wad
index 98f5565ab0..d17a7c0019 100755
--- a/script/wad
+++ b/script/wad
@@ -1,6 +1,6 @@
 #!/usr/bin/env ruby
 
-# Generated on: 14-09-2013 at 22:13
+# Generated on: 14-09-2013 at 23:40
 
 require 'time'
 require 'net/http'
@@ -227,17 +227,15 @@ class Wad
   def s3_credentials
     if creds = ENV['WAD_S3_CREDENTIALS'] || ENV['S3_CREDENTIALS']
       creds.split(':')
-    else
-      abort "Must provide WAD_S3_CREDENTIALS="
     end
   end
 
   def s3_access_key_id
-    s3_credentials[0]
+    s3_credentials && s3_credentials[0]
   end
 
   def s3_secret_access_key
-    s3_credentials[1]
+    s3_credentials && s3_credentials[1]
   end
 
   def s3_path
@@ -312,7 +310,10 @@ class Wad
   end
 
   def setup
-    if get
+    if !s3_credentials || !s3_bucket_name
+      log "No S3 credentials defined. Set WAD_S3_CREDENTIALS= and WAD_S3_BUCKET_NAME= for caching."
+      install
+    elsif get
       install
     elsif install
       put
