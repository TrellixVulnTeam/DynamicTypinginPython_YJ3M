commit 85bae69ee524bb44ff9cdbb6e9ffb7a84a680c9d
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Feb 5 14:30:29 2019 -0800

    feat(issues): Update group activity links for Sentry 10 (#11914)

diff --git a/src/sentry/static/sentry/app/views/groupDetails/shared/groupActivity.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupActivity.jsx
index 6246f46d79..7f40a3bd7e 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/shared/groupActivity.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupActivity.jsx
@@ -19,12 +19,15 @@ import MemberListStore from 'app/stores/memberListStore';
 import NoteContainer from 'app/components/activity/noteContainer';
 import NoteInput from 'app/components/activity/noteInput';
 import PullRequestLink from 'app/components/pullRequestLink';
+import SentryTypes from 'app/sentryTypes';
 import TeamStore from 'app/stores/teamStore';
 import TimeSince from 'app/components/timeSince';
 import Version from 'app/components/version';
+import withOrganization from 'app/utils/withOrganization';
 
 class GroupActivityItem extends React.Component {
   static propTypes = {
+    organization: SentryTypes.Organization.isRequired,
     author: PropTypes.node,
     item: PropTypes.object,
     orgId: PropTypes.string,
@@ -32,9 +35,15 @@ class GroupActivityItem extends React.Component {
   };
 
   render() {
-    const {author, item, orgId, projectId} = this.props;
+    const {organization, author, item, orgId, projectId} = this.props;
     const {data} = item;
 
+    const hasSentry10 = new Set(organization.features).has('sentry10');
+
+    const issuesLink = hasSentry10
+      ? `/organizations/${orgId}/issues/`
+      : `/${orgId}/${projectId}/issues/`;
+
     switch (item.type) {
       case 'note':
         return t('%s left a comment', author);
@@ -139,9 +148,7 @@ class GroupActivityItem extends React.Component {
           data.fingerprints.length,
           author,
           data.destination ? (
-            <a href={`/${orgId}/${projectId}/issues/${data.destination.id}`}>
-              {data.destination.shortId}
-            </a>
+            <a href={`${issuesLink}${data.destination.id}`}>{data.destination.shortId}</a>
           ) : (
             t('a group')
           )
@@ -153,9 +160,7 @@ class GroupActivityItem extends React.Component {
           data.fingerprints.length,
           author,
           data.source ? (
-            <a href={`/${orgId}/${projectId}/issues/${data.source.id}`}>
-              {data.source.shortId}
-            </a>
+            <a href={`${issuesLink}${data.source.id}`}>{data.source.shortId}</a>
           ) : (
             t('a group')
           )
@@ -319,4 +324,5 @@ const GroupActivity = createReactClass({
   },
 });
 
-export default GroupActivity;
+export {GroupActivity};
+export default withOrganization(GroupActivity);
diff --git a/tests/js/spec/views/groupActivity/index.spec.jsx b/tests/js/spec/views/groupActivity/index.spec.jsx
index 414ac0c2a7..e61fb13779 100644
--- a/tests/js/spec/views/groupActivity/index.spec.jsx
+++ b/tests/js/spec/views/groupActivity/index.spec.jsx
@@ -1,7 +1,7 @@
 import React from 'react';
 import {shallow} from 'enzyme';
 
-import GroupActivity from 'app/views/groupDetails/shared/groupActivity';
+import {GroupActivity} from 'app/views/groupDetails/shared/groupActivity';
 import NoteInput from 'app/components/activity/noteInput';
 import ConfigStore from 'app/stores/configStore';
 import GroupStore from 'app/stores/groupStore';
