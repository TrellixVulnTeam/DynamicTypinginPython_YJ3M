commit 9fba7c5248390d3e0422b03be61260eb5fb5639c
Author: Chris Jennings <chriskjennings@gmail.com>
Date:   Wed Feb 6 15:10:53 2019 -0800

    feat(ui): add a more prominent manage button in project dropdown (#11922)

diff --git a/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx b/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
index 467fce30a5..7eb05fe15a 100644
--- a/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
@@ -7,6 +7,7 @@ import styled, {css} from 'react-emotion';
 
 import {t} from 'app/locale';
 import AutoComplete from 'app/components/autoComplete';
+import Button from 'app/components/button';
 import Input from 'app/views/settings/components/forms/controls/input';
 import space from 'app/styles/space';
 import LoadingIndicator from 'app/components/loadingIndicator';
@@ -380,7 +381,7 @@ class DropdownAutoCompleteMenu extends React.Component {
                 >
                   {itemsLoading && <LoadingIndicator mini />}
                   {showInput && (
-                    <Flex>
+                    <StyledInputWrapper>
                       <StyledInput
                         autoFocus
                         placeholder={searchPlaceholder}
@@ -389,7 +390,19 @@ class DropdownAutoCompleteMenu extends React.Component {
                       <InputLoadingWrapper>
                         {busy && <LoadingIndicator size={16} mini />}
                       </InputLoadingWrapper>
-                    </Flex>
+                      {menuProps &&
+                        menuProps.showSettingsLink && (
+                          <div>
+                            <StyledButton
+                              to={`/settings/${menuProps &&
+                                menuProps.organization.slug}/projects/`}
+                              size="xsmall"
+                            >
+                              {t('Manage')}
+                            </StyledButton>
+                          </div>
+                        )}
+                    </StyledInputWrapper>
                   )}
                   <div>
                     {menuHeader && <LabelWithPadding>{menuHeader}</LabelWithPadding>}
@@ -499,22 +512,27 @@ const AutoCompleteRoot = styled(({isOpen, ...props}) => <div {...props} />)`
 `;
 
 const InputLoadingWrapper = styled(Flex)`
+  background: #fff;
   align-items: center;
-  border-bottom: 1px solid ${p => p.theme.borderLight};
   flex-shrink: 0;
   width: 30px;
 `;
 
+const StyledInputWrapper = styled(Flex)`
+  border-bottom: 1px solid ${p => p.theme.borderLight};
+  border-radius: ${p => `${p.theme.borderRadius} ${p.theme.borderRadius} 0 0`};
+  align-items: center;
+`;
+
 const StyledInput = styled(Input)`
   flex: 1;
+  border: 1px solid transparent;
 
   &,
   &:focus,
   &:active,
   &:hover {
-    border: 1px solid transparent;
-    border-bottom: 1px solid ${p => p.theme.borderLight};
-    border-radius: ${p => `${p.theme.borderRadius} ${p.theme.borderRadius} 0 0`};
+    border: 0;
     box-shadow: none;
     font-size: 13px;
     padding: ${space(1)};
@@ -574,6 +592,22 @@ const GroupLabel = styled('div')`
   padding: ${space(0.25)} ${space(1)};
 `;
 
+const StyledButton = styled(Button)`
+  display: block;
+  margin: 0 ${space(1)};
+  box-shadow: none;
+  border: 0;
+  background: ${p => p.theme.offWhite2};
+
+  &:hover,
+  &:active,
+  &:focus {
+    box-shadow: none;
+    border: 0;
+    background: ${p => p.theme.gray1};
+  }
+`;
+
 const StyledMenu = styled('div')`
   background: #fff;
   border: 1px solid ${p => p.theme.borderDark};
diff --git a/src/sentry/static/sentry/app/components/projectSelector.jsx b/src/sentry/static/sentry/app/components/projectSelector.jsx
index f9da208917..48a347e55a 100644
--- a/src/sentry/static/sentry/app/components/projectSelector.jsx
+++ b/src/sentry/static/sentry/app/components/projectSelector.jsx
@@ -187,6 +187,7 @@ class ProjectSelector extends React.Component {
         noResultsMessage={t('No projects found')}
         virtualizedHeight={40}
         emptyHidesInput
+        menuProps={{showSettingsLink: true, organization: org}}
         menuFooter={renderProps => {
           const renderedFooter =
             typeof menuFooter === 'function' ? menuFooter(renderProps) : menuFooter;
diff --git a/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap b/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
index f2e32d8230..2c5d6e1463 100644
--- a/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
@@ -65,18 +65,18 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
               onMouseLeave={[Function]}
             >
               <div
-                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq7"
+                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq9"
                 onClick={[Function]}
                 onMouseDown={[Function]}
                 onMouseEnter={[Function]}
                 onMouseLeave={[Function]}
               >
-                <Flex>
+                <StyledInputWrapper>
                   <Base
-                    className="css-sncxrr"
+                    className="css-8ql7bl-StyledInputWrapper ejumqxq2"
                   >
                     <div
-                      className="css-sncxrr"
+                      className="css-8ql7bl-StyledInputWrapper ejumqxq2"
                       is={null}
                     >
                       <StyledInput
@@ -90,7 +90,7 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
                       >
                         <input
                           autoFocus={true}
-                          className="css-o3kc4m-Input-inputStyles-StyledInput ejumqxq2"
+                          className="css-dqpq6t-Input-inputStyles-StyledInput ejumqxq3"
                           onBlur={[Function]}
                           onChange={[Function]}
                           onFocus={[Function]}
@@ -101,33 +101,33 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
                       </StyledInput>
                       <InputLoadingWrapper>
                         <Base
-                          className="css-1ren11q-InputLoadingWrapper ejumqxq1"
+                          className="css-7dbbu3-InputLoadingWrapper ejumqxq1"
                         >
                           <div
-                            className="css-1ren11q-InputLoadingWrapper ejumqxq1"
+                            className="css-7dbbu3-InputLoadingWrapper ejumqxq1"
                             is={null}
                           />
                         </Base>
                       </InputLoadingWrapper>
                     </div>
                   </Base>
-                </Flex>
+                </StyledInputWrapper>
                 <div>
                   <StyledItemList
                     maxHeight={300}
                   >
                     <div
-                      className="css-5kh8cy-StyledItemList ejumqxq8"
+                      className="css-5kh8cy-StyledItemList ejumqxq10"
                     >
                       <LabelWithBorder
                         key="countries"
                       >
                         <div
-                          className="css-o8s6pc-LabelWithBorder ejumqxq4"
+                          className="css-o8s6pc-LabelWithBorder ejumqxq5"
                         >
                           <GroupLabel>
                             <div
-                              className="css-1oz0skv-GroupLabel ejumqxq6"
+                              className="css-1oz0skv-GroupLabel ejumqxq7"
                             >
                               countries
                             </div>
@@ -141,7 +141,7 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
                         onClick={[Function]}
                       >
                         <div
-                          className="css-1dzvpw9-AutoCompleteItem ejumqxq3"
+                          className="css-1dzvpw9-AutoCompleteItem ejumqxq4"
                           onClick={[Function]}
                         >
                           <div>
@@ -156,7 +156,7 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
                         onClick={[Function]}
                       >
                         <div
-                          className="css-1sp52yo-AutoCompleteItem ejumqxq3"
+                          className="css-1sp52yo-AutoCompleteItem ejumqxq4"
                           onClick={[Function]}
                         >
                           <div>
@@ -242,18 +242,18 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
               onMouseLeave={[Function]}
             >
               <div
-                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq7"
+                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq9"
                 onClick={[Function]}
                 onMouseDown={[Function]}
                 onMouseEnter={[Function]}
                 onMouseLeave={[Function]}
               >
-                <Flex>
+                <StyledInputWrapper>
                   <Base
-                    className="css-sncxrr"
+                    className="css-8ql7bl-StyledInputWrapper ejumqxq2"
                   >
                     <div
-                      className="css-sncxrr"
+                      className="css-8ql7bl-StyledInputWrapper ejumqxq2"
                       is={null}
                     >
                       <StyledInput
@@ -267,7 +267,7 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
                       >
                         <input
                           autoFocus={true}
-                          className="css-o3kc4m-Input-inputStyles-StyledInput ejumqxq2"
+                          className="css-dqpq6t-Input-inputStyles-StyledInput ejumqxq3"
                           onBlur={[Function]}
                           onChange={[Function]}
                           onFocus={[Function]}
@@ -278,23 +278,23 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
                       </StyledInput>
                       <InputLoadingWrapper>
                         <Base
-                          className="css-1ren11q-InputLoadingWrapper ejumqxq1"
+                          className="css-7dbbu3-InputLoadingWrapper ejumqxq1"
                         >
                           <div
-                            className="css-1ren11q-InputLoadingWrapper ejumqxq1"
+                            className="css-7dbbu3-InputLoadingWrapper ejumqxq1"
                             is={null}
                           />
                         </Base>
                       </InputLoadingWrapper>
                     </div>
                   </Base>
-                </Flex>
+                </StyledInputWrapper>
                 <div>
                   <StyledItemList
                     maxHeight={300}
                   >
                     <div
-                      className="css-5kh8cy-StyledItemList ejumqxq8"
+                      className="css-5kh8cy-StyledItemList ejumqxq10"
                     >
                       <AutoCompleteItem
                         highlightedIndex={0}
@@ -303,7 +303,7 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
                         onClick={[Function]}
                       >
                         <div
-                          className="css-1dzvpw9-AutoCompleteItem ejumqxq3"
+                          className="css-1dzvpw9-AutoCompleteItem ejumqxq4"
                           onClick={[Function]}
                         >
                           <div>
@@ -318,7 +318,7 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
                         onClick={[Function]}
                       >
                         <div
-                          className="css-1sp52yo-AutoCompleteItem ejumqxq3"
+                          className="css-1sp52yo-AutoCompleteItem ejumqxq4"
                           onClick={[Function]}
                         >
                           <div>
@@ -333,7 +333,7 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
                         onClick={[Function]}
                       >
                         <div
-                          className="css-1sp52yo-AutoCompleteItem ejumqxq3"
+                          className="css-1sp52yo-AutoCompleteItem ejumqxq4"
                           onClick={[Function]}
                         >
                           <div>
diff --git a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
index 71cf01679b..7c2bfc74fe 100644
--- a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
+++ b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
@@ -748,6 +748,48 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                   }
                                   maxHeight={500}
                                   menuFooter={[Function]}
+                                  menuProps={
+                                    Object {
+                                      "organization": Object {
+                                        "access": Array [
+                                          "org:read",
+                                          "org:write",
+                                          "org:admin",
+                                          "project:read",
+                                          "project:write",
+                                          "project:admin",
+                                          "team:read",
+                                          "team:write",
+                                          "team:admin",
+                                        ],
+                                        "features": Array [
+                                          "sentry10",
+                                        ],
+                                        "id": "3",
+                                        "name": "Organization Name",
+                                        "onboardingTasks": Array [],
+                                        "projects": Array [
+                                          Object {
+                                            "hasAccess": true,
+                                            "id": "2",
+                                            "isBookmarked": false,
+                                            "isMember": true,
+                                            "name": "Project Name",
+                                            "slug": "project-slug",
+                                            "teams": Array [],
+                                          },
+                                        ],
+                                        "scrapeJavaScript": true,
+                                        "slug": "org-slug",
+                                        "status": Object {
+                                          "id": "active",
+                                          "name": "active",
+                                        },
+                                        "teams": Array [],
+                                      },
+                                      "showSettingsLink": true,
+                                    }
+                                  }
                                   noResultsMessage="No projects found"
                                   onClose={[Function]}
                                   onSelect={[Function]}
@@ -790,6 +832,48 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                     }
                                     maxHeight={500}
                                     menuFooter={[Function]}
+                                    menuProps={
+                                      Object {
+                                        "organization": Object {
+                                          "access": Array [
+                                            "org:read",
+                                            "org:write",
+                                            "org:admin",
+                                            "project:read",
+                                            "project:write",
+                                            "project:admin",
+                                            "team:read",
+                                            "team:write",
+                                            "team:admin",
+                                          ],
+                                          "features": Array [
+                                            "sentry10",
+                                          ],
+                                          "id": "3",
+                                          "name": "Organization Name",
+                                          "onboardingTasks": Array [],
+                                          "projects": Array [
+                                            Object {
+                                              "hasAccess": true,
+                                              "id": "2",
+                                              "isBookmarked": false,
+                                              "isMember": true,
+                                              "name": "Project Name",
+                                              "slug": "project-slug",
+                                              "teams": Array [],
+                                            },
+                                          ],
+                                          "scrapeJavaScript": true,
+                                          "slug": "org-slug",
+                                          "status": Object {
+                                            "id": "active",
+                                            "name": "active",
+                                          },
+                                          "teams": Array [],
+                                        },
+                                        "showSettingsLink": true,
+                                      }
+                                    }
                                     noResultsMessage="No projects found"
                                     onClose={[Function]}
                                     onSelect={[Function]}
