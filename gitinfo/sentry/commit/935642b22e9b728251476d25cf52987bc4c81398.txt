commit 935642b22e9b728251476d25cf52987bc4c81398
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Jun 29 13:25:29 2018 -0700

    fix(discover): Ensure user is member of projects in default list (#8892)
    
    We'll run into permissions issues otherwise

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
index b9c1ba5852..0342a13fec 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
@@ -35,7 +35,9 @@ function applyDefaults(query) {
  */
 export default function createQueryBuilder(initial = {}, organization) {
   const query = applyDefaults(initial);
-  const defaultProjects = organization.projects.map(project => parseInt(project.id, 10));
+  const defaultProjects = organization.projects
+    .filter(projects => projects.isMember)
+    .map(project => parseInt(project.id, 10));
   let tags = [];
 
   return {
