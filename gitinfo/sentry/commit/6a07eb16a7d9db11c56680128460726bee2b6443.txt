commit 6a07eb16a7d9db11c56680128460726bee2b6443
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 18 12:16:30 2012 -0700

    Switch back to project IDs in the DSN until all clients have been updated

diff --git a/sentry/models.py b/sentry/models.py
index ffd2db8208..37a0ff1b1d 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -239,13 +239,14 @@ class ProjectKey(Model):
         super(ProjectKey, self).save(*args, **kwargs)
 
     def get_dsn(self, domain=None, secure=True):
+        # TODO: change the DSN to use project slug once clients are compatible
         urlparts = urlparse.urlparse(settings.URL_PREFIX)
         return '%s://%s:%s@%s/%s' % (
             urlparts.scheme,
             self.public_key,
             self.secret_key,
             urlparts.netloc + urlparts.path,
-            self.project.slug,
+            self.project_id,
         )
 
 
