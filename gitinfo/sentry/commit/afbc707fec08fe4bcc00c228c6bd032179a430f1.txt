commit afbc707fec08fe4bcc00c228c6bd032179a430f1
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Nov 19 23:37:19 2012 -0800

    Improve realtime flow and optimize resorting

diff --git a/src/sentry/static/sentry/coffee/views.coffee b/src/sentry/static/sentry/coffee/views.coffee
index b4580fd2a0..b9a155ead0 100644
--- a/src/sentry/static/sentry/coffee/views.coffee
+++ b/src/sentry/static/sentry/coffee/views.coffee
@@ -73,10 +73,12 @@ jQuery ->
             obj = @collection.get(member.id)
             if member.get('count') != obj.get('count')
                 obj.set('count', member.get('count'))
+
             if member.get('score') != obj.get('score')
                 obj.set('score', member.get('score'))
 
-            @collection.sort()
+                # score changed, resort
+                @collection.sort()
 
         hasMember: (member) ->
             @collection.get(member.id)?
@@ -143,16 +145,16 @@ jQuery ->
             @config =
                 realtime: data.realtime ? false
                 pollUrl: data.pollUrl ? null
-                pollTime: data.pollTime ? 2000
-                tickTime: data.tickTime ? 300
+                pollTime: data.pollTime ? 1000
+                tickTime: data.tickTime ? 100
 
             @queue = new app.ScoredList
             @cursor = null
 
-            window.setInterval(@tick, @config.tickTime)
-
             @poll()
 
+            window.setInterval(@tick, @config.tickTime)
+
         tick: ->
             if !@queue.length
                 return
diff --git a/src/sentry/static/sentry/scripts/site.js b/src/sentry/static/sentry/scripts/site.js
index 4ee33f0d33..7183189727 100644
--- a/src/sentry/static/sentry/scripts/site.js
+++ b/src/sentry/static/sentry/scripts/site.js
@@ -519,8 +519,8 @@
         }
         if (member.get('score') !== obj.get('score')) {
           obj.set('score', member.get('score'));
+          return this.collection.sort();
         }
-        return this.collection.sort();
       };
 
       OrderedElementsView.prototype.hasMember = function(member) {
@@ -601,13 +601,13 @@
         this.config = {
           realtime: (_ref = data.realtime) != null ? _ref : false,
           pollUrl: (_ref1 = data.pollUrl) != null ? _ref1 : null,
-          pollTime: (_ref2 = data.pollTime) != null ? _ref2 : 2000,
-          tickTime: (_ref3 = data.tickTime) != null ? _ref3 : 300
+          pollTime: (_ref2 = data.pollTime) != null ? _ref2 : 1000,
+          tickTime: (_ref3 = data.tickTime) != null ? _ref3 : 100
         };
         this.queue = new app.ScoredList;
         this.cursor = null;
-        window.setInterval(this.tick, this.config.tickTime);
-        return this.poll();
+        this.poll();
+        return window.setInterval(this.tick, this.config.tickTime);
       };
 
       GroupListView.prototype.tick = function() {
