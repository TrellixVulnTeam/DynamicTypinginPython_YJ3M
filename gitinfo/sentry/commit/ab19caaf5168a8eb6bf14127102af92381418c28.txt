commit ab19caaf5168a8eb6bf14127102af92381418c28
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Mar 6 11:25:33 2018 -0800

    fix(owners): Correct various cases in committers
    
    - Handle errors in finding committers
    - Correctly return iterator from tokenize_path

diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 5c2666db7d..ad47b611fc 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -141,6 +141,8 @@ class MailPlugin(NotificationPlugin):
         )
 
     def notify(self, notification):
+        from sentry.models import Commit, Release
+
         event = notification.event
         group = event.group
         project = group.project
@@ -166,6 +168,8 @@ class MailPlugin(NotificationPlugin):
         if features.has('organizations:suggested-commits', org):
             try:
                 committers = get_event_file_committers(project, event)
+            except (Commit.DoesNotExist, Release.DoesNotExist):
+                pass
             except Exception as exc:
                 logging.exception(six.text_type(exc))
             else:
diff --git a/src/sentry/utils/committers.py b/src/sentry/utils/committers.py
index edeb7e0f67..36d44dc912 100644
--- a/src/sentry/utils/committers.py
+++ b/src/sentry/utils/committers.py
@@ -21,7 +21,8 @@ def tokenize_path(path):
     for sep in PATH_SEPERATORS:
         if sep in path:
             return reversed(path.split(sep))
-    return [path]
+    else:
+        return iter([path])
 
 
 def score_path_match_length(path_a, path_b):
