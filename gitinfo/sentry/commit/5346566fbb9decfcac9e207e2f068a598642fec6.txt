commit 5346566fbb9decfcac9e207e2f068a598642fec6
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon May 20 15:20:35 2019 -0700

    feat(ui): Add action to mark incident as seen [SEN-593] (#13276)
    
    If user visits Incident Details and they have not already seen the Incident, mark the it as seen by user
    
    Fixes SEN-593

diff --git a/src/sentry/static/sentry/app/actionCreators/incident.jsx b/src/sentry/static/sentry/app/actionCreators/incident.jsx
index f2340458f2..48eaa13257 100644
--- a/src/sentry/static/sentry/app/actionCreators/incident.jsx
+++ b/src/sentry/static/sentry/app/actionCreators/incident.jsx
@@ -94,3 +94,25 @@ export async function updateIncidentNote(api, incidentId, item, note) {
     throw err;
   }
 }
+
+// This doesn't return anything because you shouldn't need to do anything with
+// the result success or fail
+export async function markIncidentAsSeen(api, orgId, incident) {
+  if (!incident || incident.hasSeen) {
+    return;
+  }
+
+  try {
+    await api.requestPromise(
+      `/organizations/${orgId}/incidents/${incident.identifier}/seen/`,
+      {
+        method: 'POST',
+        data: {
+          hasSeen: true,
+        },
+      }
+    );
+  } catch (err) {
+    // do nothing
+  }
+}
diff --git a/src/sentry/static/sentry/app/views/organizationIncidents/details/index.jsx b/src/sentry/static/sentry/app/views/organizationIncidents/details/index.jsx
index b19e68f6fd..b85c05f876 100644
--- a/src/sentry/static/sentry/app/views/organizationIncidents/details/index.jsx
+++ b/src/sentry/static/sentry/app/views/organizationIncidents/details/index.jsx
@@ -1,12 +1,11 @@
-import React from 'react';
 import PropTypes from 'prop-types';
+import React from 'react';
 
 import {addErrorMessage} from 'app/actionCreators/indicator';
-import withApi from 'app/utils/withApi';
+import {markIncidentAsSeen} from 'app/actionCreators/incident';
 import {t} from 'app/locale';
+import withApi from 'app/utils/withApi';
 
-import DetailsHeader from './header';
-import DetailsBody from './body';
 import {
   INCIDENT_STATUS,
   fetchIncident,
@@ -14,6 +13,8 @@ import {
   updateStatus,
   isOpen,
 } from '../utils';
+import DetailsBody from './body';
+import DetailsHeader from './header';
 
 class OrganizationIncidentDetails extends React.Component {
   static propTypes = {
@@ -39,6 +40,7 @@ class OrganizationIncidentDetails extends React.Component {
     fetchIncident(api, orgId, incidentId)
       .then(incident => {
         this.setState({incident, isLoading: false, hasError: false});
+        markIncidentAsSeen(api, orgId, incident);
       })
       .catch(() => {
         this.setState({isLoading: false, hasError: true});
