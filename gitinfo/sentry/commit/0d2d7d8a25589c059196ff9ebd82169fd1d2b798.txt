commit 0d2d7d8a25589c059196ff9ebd82169fd1d2b798
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Jul 11 14:31:29 2019 -0700

    feat(netlify): Configure netlify for preview builds (#13965)
    
    We have netlify configured to deploy pull requests. However, in order
    for the SPA app to work, we must configure netlify to proxy the
    production API, and direct all other pages to react

diff --git a/netlify.toml b/netlify.toml
new file mode 100644
index 0000000000..8a960c619a
--- /dev/null
+++ b/netlify.toml
@@ -0,0 +1,25 @@
+# Sentry uses netlify to deploy pull-request previews of the frontend which
+# talk to the production API.
+#
+# This is an EXPERIMENTAL developer experience, there are still various pages
+# that are served through django and have no SPA equivalent views.
+
+[build]
+  publish = "src/sentry/static/sentry/dist"
+  command = "yarn webpack"
+
+[[redirects]]
+  from = "/_assets/*"
+  to = "/:splat"
+  status = 200
+
+[[redirects]]
+  from = "/api/*"
+  to = "https://sentry.io/api/:splat"
+  status = 200
+  force = true
+
+[[redirects]]
+  from = "/*"
+  to = "/index.html"
+  status = 200
