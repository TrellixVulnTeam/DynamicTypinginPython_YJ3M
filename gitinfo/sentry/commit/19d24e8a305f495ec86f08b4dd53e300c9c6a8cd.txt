commit 19d24e8a305f495ec86f08b4dd53e300c9c6a8cd
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Jun 21 12:29:35 2019 -0700

    ref(events-v2): Rename heatmap -> distribution (#13775)

diff --git a/src/sentry/api/endpoints/organization_events_heatmap.py b/src/sentry/api/endpoints/organization_events_distribution.py
similarity index 95%
rename from src/sentry/api/endpoints/organization_events_heatmap.py
rename to src/sentry/api/endpoints/organization_events_distribution.py
index 2cd108d4f5..454824e759 100644
--- a/src/sentry/api/endpoints/organization_events_heatmap.py
+++ b/src/sentry/api/endpoints/organization_events_distribution.py
@@ -14,7 +14,7 @@ from sentry.tagstore.base import TOP_VALUES_DEFAULT_LIMIT
 PROJECT_KEY = 'project.name'
 
 
-class OrganizationEventsHeatmapEndpoint(OrganizationEventsEndpointBase):
+class OrganizationEventsDistributionEndpoint(OrganizationEventsEndpointBase):
     def get(self, request, organization):
         try:
             snuba_args = self.get_snuba_query_args(request, organization)
@@ -43,7 +43,7 @@ class OrganizationEventsHeatmapEndpoint(OrganizationEventsEndpointBase):
             aggregations=[('count()', None, 'count')],
             orderby='-count',
             limit=TOP_VALUES_DEFAULT_LIMIT,
-            referrer='api.organization-events-heatmap',
+            referrer='api.organization-events-distribution',
         )['data']
 
         projects = {p.id: p.slug for p in self.get_projects(request, organization)}
diff --git a/src/sentry/api/urls.py b/src/sentry/api/urls.py
index 672314f7ea..d8bc67cfe8 100644
--- a/src/sentry/api/urls.py
+++ b/src/sentry/api/urls.py
@@ -74,7 +74,7 @@ from .endpoints.organization_discover_saved_query_detail import OrganizationDisc
 from .endpoints.organization_events import OrganizationEventsEndpoint
 from .endpoints.organization_events_meta import OrganizationEventsMetaEndpoint
 from .endpoints.organization_events_stats import OrganizationEventsStatsEndpoint
-from .endpoints.organization_events_heatmap import OrganizationEventsHeatmapEndpoint
+from .endpoints.organization_events_distribution import OrganizationEventsDistributionEndpoint
 from .endpoints.organization_event_details import OrganizationEventDetailsEndpoint, OrganizationEventDetailsLatestEndpoint, OrganizationEventDetailsOldestEndpoint
 from .endpoints.organization_group_index import OrganizationGroupIndexEndpoint
 from .endpoints.organization_dashboard_details import OrganizationDashboardDetailsEndpoint
@@ -630,9 +630,9 @@ urlpatterns = patterns(
         name='sentry-api-0-organization-events-stats'
     ),
     url(
-        r'^organizations/(?P<organization_slug>[^\/]+)/events-heatmap/$',
-        OrganizationEventsHeatmapEndpoint.as_view(),
-        name='sentry-api-0-organization-events-heatmap'
+        r'^organizations/(?P<organization_slug>[^\/]+)/events-distribution/$',
+        OrganizationEventsDistributionEndpoint.as_view(),
+        name='sentry-api-0-organization-events-distribution'
     ),
     url(
         r'^organizations/(?P<organization_slug>[^\/]+)/events-meta/$',
diff --git a/src/sentry/static/sentry/app/views/organizationEventsV2/utils.jsx b/src/sentry/static/sentry/app/views/organizationEventsV2/utils.jsx
index 220aaa18b3..20d7bb08bd 100644
--- a/src/sentry/static/sentry/app/views/organizationEventsV2/utils.jsx
+++ b/src/sentry/static/sentry/app/views/organizationEventsV2/utils.jsx
@@ -104,7 +104,7 @@ export function getEventTagSearchUrl(tagKey, tagValue, location) {
 export function fetchTagDistribution(api, orgSlug, key, query) {
   const urlParams = pick(query, Object.values(URL_PARAM));
 
-  return api.requestPromise(`/organizations/${orgSlug}/events-heatmap/`, {
+  return api.requestPromise(`/organizations/${orgSlug}/events-distribution/`, {
     query: {...urlParams, key, query: query.query},
   });
 }
diff --git a/tests/js/spec/views/organizationEventsV2/tags.spec.jsx b/tests/js/spec/views/organizationEventsV2/tags.spec.jsx
index d94f852b8f..9da549d5b8 100644
--- a/tests/js/spec/views/organizationEventsV2/tags.spec.jsx
+++ b/tests/js/spec/views/organizationEventsV2/tags.spec.jsx
@@ -8,7 +8,7 @@ describe('Tags', function() {
   const org = TestStubs.Organization();
   beforeEach(function() {
     Client.addMockResponse({
-      url: `/organizations/${org.slug}/events-heatmap/`,
+      url: `/organizations/${org.slug}/events-distribution/`,
       body: {
         key: 'release',
         name: 'Release',
diff --git a/tests/snuba/api/endpoints/test_organization_events_heatmap.py b/tests/snuba/api/endpoints/test_organization_events_distribution.py
similarity index 98%
rename from tests/snuba/api/endpoints/test_organization_events_heatmap.py
rename to tests/snuba/api/endpoints/test_organization_events_distribution.py
index f88b27ce35..185a2391b9 100644
--- a/tests/snuba/api/endpoints/test_organization_events_heatmap.py
+++ b/tests/snuba/api/endpoints/test_organization_events_distribution.py
@@ -9,16 +9,16 @@ from sentry.tagstore.base import TOP_VALUES_DEFAULT_LIMIT
 from sentry.testutils import APITestCase, SnubaTestCase
 
 
-class OrganizationEventsHeatmapEndpointTest(APITestCase, SnubaTestCase):
+class OrganizationEventsDistributionEndpointTest(APITestCase, SnubaTestCase):
     def setUp(self):
-        super(OrganizationEventsHeatmapEndpointTest, self).setUp()
+        super(OrganizationEventsDistributionEndpointTest, self).setUp()
         self.min_ago = (timezone.now() - timedelta(minutes=1)).replace(microsecond=0)
         self.day_ago = (timezone.now() - timedelta(days=1)).replace(microsecond=0)
         self.login_as(user=self.user)
         self.project = self.create_project()
         self.project2 = self.create_project()
         self.url = reverse(
-            'sentry-api-0-organization-events-heatmap',
+            'sentry-api-0-organization-events-distribution',
             kwargs={
                 'organization_slug': self.project.organization.slug,
             }
@@ -289,7 +289,7 @@ class OrganizationEventsHeatmapEndpointTest(APITestCase, SnubaTestCase):
     def test_no_projects(self):
         org = self.create_organization(owner=self.user)
         url = reverse(
-            'sentry-api-0-organization-events-heatmap',
+            'sentry-api-0-organization-events-distribution',
             kwargs={
                 'organization_slug': org.slug,
             }
