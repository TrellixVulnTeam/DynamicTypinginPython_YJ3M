commit 22c9823d5c20d2e37f1a0f20b5abe23b896b77bb
Author: Jan Michael Auer <jan.auer@sentry.io>
Date:   Thu Aug 15 11:04:22 2019 +0200

    fix(native): Handle symbolicator 502 and attach event errors (#14393)
    
    Retries Symbolicator's 502 (bad gateway) errors just like 503 (service unavailable) and emits an event error if symbolicator responds with any other non-200 status code.

diff --git a/src/sentry/lang/native/symbolicator.py b/src/sentry/lang/native/symbolicator.py
index 37c23f28aa..37363a2525 100644
--- a/src/sentry/lang/native/symbolicator.py
+++ b/src/sentry/lang/native/symbolicator.py
@@ -385,12 +385,16 @@ class SymbolicatorSession(object):
                     # the symbolication task.
                     return None
 
-                if response.status_code == 503:
+                if response.status_code in (502, 503):
                     raise ServiceUnavailable()
 
-                response.raise_for_status()
-
-                json = response.json()
+                if response.ok:
+                    json = response.json()
+                else:
+                    json = {
+                        'status': 'failed',
+                        'message': 'internal server error',
+                    }
 
                 return json
             except (IOError, RequestException):
