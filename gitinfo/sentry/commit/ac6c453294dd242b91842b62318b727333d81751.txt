commit ac6c453294dd242b91842b62318b727333d81751
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jun 28 09:24:38 2017 -0700

    cli: improve prioritization of merge_users
    
    1. superusers
    2. unmanaged accounts
    3. account age (oldest first)

diff --git a/src/sentry/management/commands/merge_users.py b/src/sentry/management/commands/merge_users.py
index 79ebcc806e..8b682b4918 100644
--- a/src/sentry/management/commands/merge_users.py
+++ b/src/sentry/management/commands/merge_users.py
@@ -80,7 +80,7 @@ class Command(BaseCommand):
         sys.stdout.write("Found {} unique account(s) with duplicate identities.\n".format(len(unique_users)))
 
         for user_list in unique_users:
-            user_list.sort(key=lambda x: x.date_joined)
+            user_list.sort(key=lambda x: (x.is_superuser, not x.managed, x.date_joined))
 
             primary_user = user_list[0]
             if not noinput and not self._confirm_merge(primary_user, user_list[1:]):
