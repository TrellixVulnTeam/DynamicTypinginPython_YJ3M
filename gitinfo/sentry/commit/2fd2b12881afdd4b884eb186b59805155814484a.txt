commit 2fd2b12881afdd4b884eb186b59805155814484a
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jan 15 11:45:09 2015 -0800

    Dont directly save new events

diff --git a/src/sentry/utils/raven.py b/src/sentry/utils/raven.py
index f001c5cd01..9c5c162890 100644
--- a/src/sentry/utils/raven.py
+++ b/src/sentry/utils/raven.py
@@ -1,9 +1,9 @@
 from __future__ import absolute_import, print_function
 
 from django.conf import settings
-from django.db import transaction
 from raven.contrib.django.client import DjangoClient
 
+from sentry.coreapi import insert_data_to_database
 from sentry.event_manager import EventManager
 
 
@@ -12,13 +12,12 @@ class SentryInternalClient(DjangoClient):
         return settings.SENTRY_PROJECT is not None
 
     def send(self, project, **kwargs):
-        if transaction.is_dirty():
-            transaction.rollback()
-
+        # TODO(dcramer): this should respect rate limits/etc and use the normal
+        # pipeline
         try:
             manager = EventManager(kwargs)
-            manager.normalize()
-            return manager.save(project)
+            data = manager.normalize()
+            insert_data_to_database(data)
         except Exception as e:
             if self.raise_send_errors:
                 raise
