commit 30698c7dd7a67680d6a82960ba0f0df64ec97dd3
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Fri Mar 23 11:10:19 2018 -0700

    ref(slack): Restrict team assignment for new-teams feature

diff --git a/src/sentry/integrations/slack/utils.py b/src/sentry/integrations/slack/utils.py
index 2c9e2a3424..207638afe5 100644
--- a/src/sentry/integrations/slack/utils.py
+++ b/src/sentry/integrations/slack/utils.py
@@ -4,6 +4,7 @@ import logging
 
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse, urlunparse
 
+from sentry import features
 from sentry.api.fields.actor import Actor
 from sentry.utils import json
 from sentry.utils.assets import get_asset_url
@@ -208,6 +209,11 @@ def build_attachment(group, event=None, tags=None, identity=None, actions=None,
         },
     ]
 
+    # TODO(epurkhiser): Remove when teams are no longer early adopter
+    if not features.has('organizations:new-teams', group.organization):
+        payload_actions[2]['options'] = members
+        del payload_actions[2]['option_groups']
+
     fields = []
 
     if tags:
