commit 602e11289541ccd54bf62fb6c08738b5d578e5d4
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Fri May 22 08:45:56 2020 -0400

    fix(ui): Clearing image filter search may crash the React app (#18978)
    
    * Fixes JAVASCRIPT-224R
    
    Co-authored-by: Matej Minar <matej.minar@sentry.io>

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/debugmeta.jsx b/src/sentry/static/sentry/app/components/events/interfaces/debugmeta.jsx
index a869a0d2f8..b2a3a47fa0 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/debugmeta.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/debugmeta.jsx
@@ -319,6 +319,7 @@ class DebugMetaInterface extends React.PureComponent {
 
   filterImage(image) {
     const {showUnused, filter} = this.state;
+
     if (!filter || filter.length < MIN_FILTER_LEN) {
       if (showUnused) {
         return true;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/imageForBar.tsx b/src/sentry/static/sentry/app/components/events/interfaces/imageForBar.tsx
index 7d0195873a..a12659bba0 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/imageForBar.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/imageForBar.tsx
@@ -9,20 +9,26 @@ import {t} from 'app/locale';
 
 type Props = {
   frame: Frame;
-  onShowAllImages: () => void;
+  onShowAllImages: (filter: string) => void;
 };
 
-const ImageForBar = ({frame, onShowAllImages}: Props) => (
-  <Wrapper>
-    <MatchedFunctionWrapper>
-      <MatchedFunctionCaption>{t('Image for: ')}</MatchedFunctionCaption>
-      <FrameFunctionName frame={frame} />
-    </MatchedFunctionWrapper>
-    <ResetAddressFilterCaption onClick={onShowAllImages}>
-      {t('Show all images')}
-    </ResetAddressFilterCaption>
-  </Wrapper>
-);
+const ImageForBar = ({frame, onShowAllImages}: Props) => {
+  const handleShowAllImages = () => {
+    onShowAllImages('');
+  };
+
+  return (
+    <Wrapper>
+      <MatchedFunctionWrapper>
+        <MatchedFunctionCaption>{t('Image for: ')}</MatchedFunctionCaption>
+        <FrameFunctionName frame={frame} />
+      </MatchedFunctionWrapper>
+      <ResetAddressFilterCaption onClick={handleShowAllImages}>
+        {t('Show all images')}
+      </ResetAddressFilterCaption>
+    </Wrapper>
+  );
+};
 
 ImageForBar.propTypes = {
   frame: PropTypes.object.isRequired,
