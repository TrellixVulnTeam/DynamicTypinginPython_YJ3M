commit 4867104753c327ff1610cbda0750c8c1592283e8
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Oct 14 13:22:36 2015 -0700

    Add default logger to csp reports
    
    Fixes GH-2166

diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index 3ee2d9981e..1d245aedae 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -594,6 +594,7 @@ class CspApiHelper(ClientApiHelper):
             headers['Referer'] = inst.referrer
 
         return {
+            'logger': 'csp',
             'project': project.id,
             'message': inst.get_message(),
             'culprit': inst.get_culprit(),
diff --git a/tests/integration/tests.py b/tests/integration/tests.py
index b4894fab74..107c30891f 100644
--- a/tests/integration/tests.py
+++ b/tests/integration/tests.py
@@ -416,6 +416,7 @@ class CspReportTest(TestCase):
         e = Event.objects.all()[0]
         Event.objects.bind_nodes([e], 'data')
         assert e.message == output['message']
+        assert e.get_tag('logger') == 'csp'
         self.assertDictContainsSubset(output['data'], e.data.data, e.data.data)
 
     def assertReportRejected(self, input):
diff --git a/tests/sentry/coreapi/tests.py b/tests/sentry/coreapi/tests.py
index c8795ad435..ba54371337 100644
--- a/tests/sentry/coreapi/tests.py
+++ b/tests/sentry/coreapi/tests.py
@@ -349,6 +349,7 @@ class CspApiHelperTest(BaseAPITest):
             "status-code": 200
         }
         result = self.helper.validate_data(self.project, report)
+        assert result['logger'] == 'csp'
         assert result['project'] == self.project.id
         assert 'message' in result
         assert 'culprit' in result
