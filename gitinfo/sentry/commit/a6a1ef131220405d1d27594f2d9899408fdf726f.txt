commit a6a1ef131220405d1d27594f2d9899408fdf726f
Author: Chris Clark <christopherchristopherclark@gmail.com>
Date:   Thu Feb 7 09:17:48 2019 -0800

    feat(global-selection-header): lock project dropdown and show back button when viewing an issue (#11939)
    
    * force single project in group view
    
    * visually disabled look without actual disabled wiring
    
    * if forceProject is passed, don't render projectSelector
    
    * working unstyled back link
    
    * woopsie
    
    * back button styles
    
    * cleanup
    
    * only show globalselectionheader with sentry10 flag and only wrap with PageContent with sentry10
    
    * CAPITALS
    
    * need separate flag for showing global selection header
    
    * use real tooltip
    
    * fix dropdown menu height on multi project selector
    
    * fix proptypes
    
    * update proptypes
    
    * remove extraneous condition

diff --git a/src/sentry/static/sentry/app/components/organizations/backToIssues.jsx b/src/sentry/static/sentry/app/components/organizations/backToIssues.jsx
new file mode 100644
index 0000000000..2184c25d7c
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/organizations/backToIssues.jsx
@@ -0,0 +1,27 @@
+import styled from 'react-emotion';
+import {Link} from 'react-router';
+import space from 'app/styles/space';
+
+const BackToIssues = styled(Link)`
+  color: ${p => p.theme.gray4};
+  background: ${p => p.theme.offWhite2};
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  padding: ${space(1)};
+  width: ${space(1.5)};
+  height: ${space(1.5)};
+  border-radius: 50%;
+  box-sizing: content-box;
+  margin: 0 -${space(2)} 0 ${space(2)};
+  position: relative;
+  z-index: 1;
+  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
+
+  &:hover {
+    background: ${p => p.theme.offwhite};
+    transform: scale(1.125);
+  }
+`;
+
+export default BackToIssues;
diff --git a/src/sentry/static/sentry/app/components/organizations/globalSelectionHeader/globalSelectionHeader.jsx b/src/sentry/static/sentry/app/components/organizations/globalSelectionHeader/globalSelectionHeader.jsx
index 801426ab64..7bdfd50677 100644
--- a/src/sentry/static/sentry/app/components/organizations/globalSelectionHeader/globalSelectionHeader.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/globalSelectionHeader/globalSelectionHeader.jsx
@@ -2,6 +2,7 @@ import {pick, isEqual} from 'lodash';
 import {withRouter} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
+import styled from 'react-emotion';
 
 import {
   DATE_TIME_KEYS,
@@ -10,6 +11,7 @@ import {
 import {callIfFunction} from 'app/utils/callIfFunction';
 import {defined} from 'app/utils';
 import {isEqualWithDates} from 'app/utils/isEqualWithDates';
+import {t} from 'app/locale';
 import {
   updateDateTime,
   updateEnvironments,
@@ -18,13 +20,16 @@ import {
   updateProjects,
 } from 'app/actionCreators/globalSelection';
 import {DEFAULT_STATS_PERIOD} from 'app/constants';
+import BackToIssues from 'app/components/organizations/backToIssues';
 import Header from 'app/components/organizations/header';
 import HeaderItemPosition from 'app/components/organizations/headerItemPosition';
 import HeaderSeparator from 'app/components/organizations/headerSeparator';
+import InlineSvg from 'app/components/inlineSvg';
 import MultipleEnvironmentSelector from 'app/components/organizations/multipleEnvironmentSelector';
 import MultipleProjectSelector from 'app/components/organizations/multipleProjectSelector';
 import SentryTypes from 'app/sentryTypes';
 import TimeRangeSelector from 'app/components/organizations/timeRangeSelector';
+import Tooltip from 'app/components/tooltip';
 import withGlobalSelection from 'app/utils/withGlobalSelection';
 
 import {getStateFromQuery} from './utils';
@@ -38,6 +43,10 @@ class GlobalSelectionHeader extends React.Component {
      * List of projects to display in project selector
      */
     projects: PropTypes.arrayOf(SentryTypes.Project),
+    /**
+     * If a forced project is passed, selection is disabled
+     */
+    forceProject: SentryTypes.Project,
 
     /**
      * Currently selected values(s)
@@ -285,21 +294,37 @@ class GlobalSelectionHeader extends React.Component {
       .slice(0, 1);
   };
 
+  getBackButton = () => {
+    return (
+      <Tooltip title={t('Back to Issues Stream')} tooltipOptions={{placement: 'bottom'}}>
+        <BackToIssues
+          to={`/organizations/${this.props.organization.slug}/issues/${window.location
+            .search}`}
+        >
+          <InlineSvg src="icon-arrow-left" />
+        </BackToIssues>
+      </Tooltip>
+    );
+  };
+
   render() {
     const {
       className,
+      forceProject,
       organization,
       showAbsolute,
       showRelative,
       showEnvironmentSelector,
     } = this.props;
     const {period, start, end, utc} = this.props.selection.datetime || {};
-
     return (
       <Header className={className}>
         <HeaderItemPosition>
-          <MultipleProjectSelector
+          {forceProject && this.getBackButton()}
+
+          <StyledMultipleProjectSelector
             organization={organization}
+            forceProject={forceProject}
             projects={this.getProjects()}
             value={this.state.projects || this.props.selection.projects}
             onChange={this.handleChangeProjects}
@@ -340,4 +365,11 @@ class GlobalSelectionHeader extends React.Component {
     );
   }
 }
+
 export default withRouter(withGlobalSelection(GlobalSelectionHeader));
+
+// We need this because HeaderItemPosition has `align-items` center for the back button
+// Otherwise the dropdown menu of project selector will not be at the base of the header
+const StyledMultipleProjectSelector = styled(MultipleProjectSelector)`
+  height: 100%;
+`;
diff --git a/src/sentry/static/sentry/app/components/organizations/headerItem.jsx b/src/sentry/static/sentry/app/components/organizations/headerItem.jsx
index c0e8c31903..8bd5726a32 100644
--- a/src/sentry/static/sentry/app/components/organizations/headerItem.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/headerItem.jsx
@@ -2,6 +2,7 @@ import React from 'react';
 import PropTypes from 'prop-types';
 import styled from 'react-emotion';
 import InlineSvg from 'app/components/inlineSvg';
+import Tooltip from 'app/components/tooltip';
 import space from 'app/styles/space';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 
@@ -14,6 +15,8 @@ class HeaderItem extends React.Component {
     hasChanges: PropTypes.bool,
     hasSelected: PropTypes.bool,
     isOpen: PropTypes.bool,
+    locked: PropTypes.bool,
+    lockedMessage: PropTypes.string,
   };
 
   static defaultProps = {
@@ -43,6 +46,8 @@ class HeaderItem extends React.Component {
       hasChanges,
       allowClear,
       icon,
+      locked,
+      lockedMessage,
       onClear, // eslint-disable-line no-unused-vars
       onSubmit, // eslint-disable-line no-unused-vars
       ...props
@@ -53,30 +58,58 @@ class HeaderItem extends React.Component {
         className={className}
         isOpen={isOpen}
         hasSelected={hasSelected}
+        locked={locked}
         {...props}
       >
-        <IconContainer hasSelected={hasSelected}>{icon}</IconContainer>
+        <IconContainer hasSelected={hasSelected} locked={locked}>
+          {icon}
+        </IconContainer>
         <Content>{children}</Content>
         {hasSelected &&
-          allowClear && <StyledClose src="icon-close" onClick={this.handleClear} />}
-        <StyledChevron
-          isOpen={isOpen}
-          hasChanges={hasChanges}
-          onClick={this.handleChevronClick}
-        >
-          <InlineSvg src="icon-chevron-down" />
-        </StyledChevron>
+          !locked &&
+          allowClear && (
+            <StyledClose
+              src="icon-close"
+              locked={locked}
+              hasSelected={hasSelected}
+              onClick={this.handleClear}
+            />
+          )}
+        {!locked && (
+          <StyledChevron
+            isOpen={isOpen}
+            hasChanges={hasChanges}
+            onClick={this.handleChevronClick}
+          >
+            <InlineSvg src="icon-chevron-down" />
+          </StyledChevron>
+        )}
+        {locked && (
+          <Tooltip
+            title={lockedMessage || 'This selection is locked'}
+            tooltipOptions={{
+              placement: 'bottom',
+            }}
+          >
+            <StyledLock src="icon-lock" />
+          </Tooltip>
+        )}
       </StyledHeaderItem>
     );
   }
 }
 
+const getColor = p => {
+  if (p.locked) return p.theme.gray2;
+  return p.isOpen || p.hasSelected ? p.theme.gray4 : p.theme.gray2;
+};
+
 const StyledHeaderItem = styled('div')`
   display: flex;
   padding: 0 ${space(4)};
   align-items: center;
-  cursor: pointer;
-  color: ${p => (p.isOpen || p.hasSelected ? p.theme.gray4 : p.theme.gray2)};
+  cursor: ${p => (p.locked ? 'text' : 'pointer')};
+  color: ${getColor};
   transition: 0.1s color;
   user-select: none;
 `;
@@ -88,14 +121,14 @@ const Content = styled('div')`
 `;
 
 const IconContainer = styled('span')`
-  color: ${p => (p.hasSelected ? p.theme.blue : null)};
+  color: ${getColor};
   margin-right: ${space(1.5)};
 `;
 
 const StyledClose = styled(InlineSvg)`
-  color: ${p => p.theme.gray2};
-  height: 10px;
-  width: 10px;
+  color: ${getColor};
+  height: ${space(1.5)};
+  width: ${space(1.5)};
   stroke-width: 1.5;
   padding: ${space(1)};
   box-sizing: content-box;
@@ -105,8 +138,8 @@ const StyledClose = styled(InlineSvg)`
 const StyledChevron = styled('div')`
   transform: rotate(${p => (p.isOpen ? '180deg' : '0deg')});
   transition: 0.1s all;
-  width: 16px;
-  height: 16px;
+  width: ${space(2)};
+  height: ${space(2)};
   display: flex;
   align-items: center;
   justify-content: center;
@@ -123,4 +156,11 @@ const StyledChevron = styled('div')`
       : ''};
 `;
 
+const StyledLock = styled(InlineSvg)`
+  color: ${p => p.theme.gray2};
+  width: ${space(2)};
+  height: ${space(2)};
+  stroke-width: 1.5;
+`;
+
 export default React.forwardRef((props, ref) => <HeaderItem {...props} innerRef={ref} />);
diff --git a/src/sentry/static/sentry/app/components/organizations/headerItemPosition.jsx b/src/sentry/static/sentry/app/components/organizations/headerItemPosition.jsx
index dcc42f4788..d6c244d2a5 100644
--- a/src/sentry/static/sentry/app/components/organizations/headerItemPosition.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/headerItemPosition.jsx
@@ -4,6 +4,7 @@ import {TimeRangeRoot} from 'app/components/organizations/timeRangeSelector/inde
 
 const HeaderItemPosition = styled.div`
   display: flex;
+  align-items: center;
   flex: 1;
   max-width: 450px;
   height: 100%;
diff --git a/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx b/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
index 39602c6dd5..0667842712 100644
--- a/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
@@ -21,6 +21,7 @@ export default class MultipleProjectSelector extends React.PureComponent {
     onChange: PropTypes.func,
     onUpdate: PropTypes.func,
     multi: PropTypes.bool,
+    forceProject: SentryTypes.Project,
   };
 
   static defaultProps = {
@@ -93,14 +94,22 @@ export default class MultipleProjectSelector extends React.PureComponent {
   };
 
   render() {
-    const {value, projects, multi} = this.props;
+    const {value, projects, multi, forceProject} = this.props;
     const selectedProjectIds = new Set(value);
 
     const selected = projects.filter(project =>
       selectedProjectIds.has(parseInt(project.id, 10))
     );
 
-    return (
+    return forceProject ? (
+      <StyledHeaderItem
+        icon={<StyledInlineSvg src="icon-project" />}
+        locked={true}
+        lockedMessage={t(`This issue is unique to the ${forceProject.name} project`)}
+      >
+        {forceProject.name}
+      </StyledHeaderItem>
+    ) : (
       <StyledProjectSelector
         {...this.props}
         multi={multi}
@@ -153,6 +162,7 @@ const StyledProjectSelector = styled(ProjectSelector)`
 
 const StyledHeaderItem = styled(HeaderItem)`
   height: 100%;
+  width: 100%;
 `;
 
 const StyledInlineSvg = styled(InlineSvg)`
diff --git a/src/sentry/static/sentry/app/views/groupDetails/organization/index.jsx b/src/sentry/static/sentry/app/views/groupDetails/organization/index.jsx
index 7ce1f3aec7..51e4d675c9 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/organization/index.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/organization/index.jsx
@@ -1,17 +1,14 @@
 import React from 'react';
-import SentryTypes from 'app/sentryTypes';
 
-import withOrganization from 'app/utils/withOrganization';
-import withGlobalSelection from 'app/utils/withGlobalSelection';
-import GlobalSelectionHeader from 'app/components/organizations/globalSelectionHeader';
-import {PageContent} from 'app/styles/organization';
 import Feature from 'app/components/acl/feature';
+import SentryTypes from 'app/sentryTypes';
+import withGlobalSelection from 'app/utils/withGlobalSelection';
+import withOrganization from 'app/utils/withOrganization';
 
 import GroupDetails from '../shared/groupDetails';
 
 class OrganizationGroupDetails extends React.Component {
   static propTypes = {
-    organization: SentryTypes.Organization.isRequired,
     selection: SentryTypes.GlobalSelection.isRequired,
   };
 
@@ -21,14 +18,12 @@ class OrganizationGroupDetails extends React.Component {
 
     return (
       <Feature features={['sentry10']} renderDisabled>
-        <GlobalSelectionHeader organization={this.props.organization} />
-        <PageContent>
-          <GroupDetails
-            environments={selection.environments}
-            enableSnuba={true}
-            {...props}
-          />
-        </PageContent>
+        <GroupDetails
+          environments={selection.environments}
+          enableSnuba={true}
+          showGlobalHeader={true}
+          {...props}
+        />
       </Feature>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
index 7deb88a343..bc1a80f353 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
@@ -1,22 +1,25 @@
+import {browserHistory} from 'react-router';
+import {isEqual} from 'lodash';
+import DocumentTitle from 'react-document-title';
 import PropTypes from 'prop-types';
 import React from 'react';
-import createReactClass from 'create-react-class';
 import Reflux from 'reflux';
-import {browserHistory} from 'react-router';
-import DocumentTitle from 'react-document-title';
 import * as Sentry from '@sentry/browser';
-import {isEqual} from 'lodash';
+import createReactClass from 'create-react-class';
 
+import {PageContent} from 'app/styles/organization';
+import {t} from 'app/locale';
 import ApiMixin from 'app/mixins/apiMixin';
+import Feature from 'app/components/acl/feature';
+import GlobalSelectionHeader from 'app/components/organizations/globalSelectionHeader';
 import GroupStore from 'app/stores/groupStore';
 import LoadingError from 'app/components/loadingError';
 import LoadingIndicator from 'app/components/loadingIndicator';
-import SentryTypes from 'app/sentryTypes';
-import {t} from 'app/locale';
 import ProjectsStore from 'app/stores/projectsStore';
+import SentryTypes from 'app/sentryTypes';
 
-import GroupHeader from '../shared/header';
 import {ERROR_TYPES} from '../shared/constants';
+import GroupHeader from '../shared/header';
 
 const GroupDetails = createReactClass({
   displayName: 'GroupDetails',
@@ -24,9 +27,12 @@ const GroupDetails = createReactClass({
   propTypes: {
     // Provided in the project version of group details
     project: SentryTypes.Project,
+    organization: SentryTypes.Organization,
+
     // environment: SentryTypes.Environment,
     environments: PropTypes.arrayOf(PropTypes.string),
     enableSnuba: PropTypes.bool,
+    showGlobalHeader: PropTypes.bool,
   },
 
   childContextTypes: {
@@ -192,8 +198,24 @@ const GroupDetails = createReactClass({
     }
   },
 
+  renderContent() {
+    const {params} = this.props;
+    const {group, project} = this.state;
+    return (
+      <DocumentTitle title={this.getTitle()}>
+        <div className={this.props.className}>
+          <GroupHeader params={params} project={project} group={group} />
+          {React.cloneElement(this.props.children, {
+            group,
+            project,
+          })}
+        </div>
+      </DocumentTitle>
+    );
+  },
+
   render() {
-    const params = this.props.params;
+    const {organization, showGlobalHeader} = this.props;
     const {group, project} = this.state;
 
     if (this.state.error) {
@@ -210,15 +232,22 @@ const GroupDetails = createReactClass({
     } else if (this.state.loading || !group) return <LoadingIndicator />;
 
     return (
-      <DocumentTitle title={this.getTitle()}>
-        <div className={this.props.className}>
-          <GroupHeader params={params} project={project} group={group} />
-          {React.cloneElement(this.props.children, {
-            group,
-            project,
-          })}
-        </div>
-      </DocumentTitle>
+      <Feature features={['sentry10']}>
+        {({hasFeature}) => (
+          <React.Fragment>
+            {hasFeature &&
+              showGlobalHeader && (
+                <GlobalSelectionHeader
+                  organization={organization}
+                  forceProject={project}
+                />
+              )}
+            {hasFeature &&
+              showGlobalHeader && <PageContent>{this.renderContent()}</PageContent>}
+            {!hasFeature && this.renderContent()}
+          </React.Fragment>
+        )}
+      </Feature>
     );
   },
 });
diff --git a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
index 7c2bfc74fe..1c6db97039 100644
--- a/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
+++ b/tests/js/spec/views/userFeedback/__snapshots__/organizationUserFeedback.spec.jsx.snap
@@ -526,9 +526,9 @@ exports[`OrganizationUserFeedback renders 1`] = `
                     >
                       <HeaderItemPosition>
                         <div
-                          className="css-5udiwc-HeaderItemPosition e165b9e40"
+                          className="css-1n6pjju-HeaderItemPosition e165b9e40"
                         >
-                          <MultipleProjectSelector
+                          <StyledMultipleProjectSelector
                             multi={false}
                             onChange={[Function]}
                             onUpdate={[Function]}
@@ -586,12 +586,10 @@ exports[`OrganizationUserFeedback renders 1`] = `
                             }
                             value={Array []}
                           >
-                            <StyledProjectSelector
+                            <MultipleProjectSelector
+                              className="css-ios481-StyledMultipleProjectSelector ebbiq050"
                               multi={false}
                               onChange={[Function]}
-                              onClose={[Function]}
-                              onMultiSelect={[Function]}
-                              onSelect={[Function]}
                               onUpdate={[Function]}
                               organization={
                                 Object {
@@ -645,12 +643,10 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                   },
                                 ]
                               }
-                              rootClassName="css-h5t9nh-rootContainerStyles"
-                              selectedProjects={Array []}
                               value={Array []}
                             >
-                              <ProjectSelector
-                                className="css-iw79rr-StyledProjectSelector ewlipse0"
+                              <StyledProjectSelector
+                                className="css-ios481-StyledMultipleProjectSelector ebbiq050"
                                 multi={false}
                                 onChange={[Function]}
                                 onClose={[Function]}
@@ -696,7 +692,6 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                     "teams": Array [],
                                   }
                                 }
-                                projectId={null}
                                 projects={
                                   Array [
                                     Object {
@@ -714,27 +709,35 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                 selectedProjects={Array []}
                                 value={Array []}
                               >
-                                <DropdownAutoComplete
-                                  alignMenu="left"
-                                  blendCorner={false}
-                                  className="ewlipse0 css-11ijjr3-StyledProjectSelector"
-                                  closeOnSelect={true}
-                                  emptyHidesInput={true}
-                                  emptyMessage="You have no projects"
-                                  inputProps={
+                                <ProjectSelector
+                                  className="ebbiq050 css-85v2fe-StyledProjectSelector-StyledMultipleProjectSelector ewlipse0"
+                                  multi={false}
+                                  onChange={[Function]}
+                                  onClose={[Function]}
+                                  onMultiSelect={[Function]}
+                                  onSelect={[Function]}
+                                  onUpdate={[Function]}
+                                  organization={
                                     Object {
-                                      "style": Object {
-                                        "padding": 8,
-                                        "paddingLeft": 14,
-                                      },
-                                    }
-                                  }
-                                  items={
-                                    Array [
-                                      Object {
-                                        "label": [Function],
-                                        "searchKey": "project-slug",
-                                        "value": Object {
+                                      "access": Array [
+                                        "org:read",
+                                        "org:write",
+                                        "org:admin",
+                                        "project:read",
+                                        "project:write",
+                                        "project:admin",
+                                        "team:read",
+                                        "team:write",
+                                        "team:admin",
+                                      ],
+                                      "features": Array [
+                                        "sentry10",
+                                      ],
+                                      "id": "3",
+                                      "name": "Organization Name",
+                                      "onboardingTasks": Array [],
+                                      "projects": Array [
+                                        Object {
                                           "hasAccess": true,
                                           "id": "2",
                                           "isBookmarked": false,
@@ -743,65 +746,38 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                           "slug": "project-slug",
                                           "teams": Array [],
                                         },
+                                      ],
+                                      "scrapeJavaScript": true,
+                                      "slug": "org-slug",
+                                      "status": Object {
+                                        "id": "active",
+                                        "name": "active",
                                       },
-                                    ]
+                                      "teams": Array [],
+                                    }
                                   }
-                                  maxHeight={500}
-                                  menuFooter={[Function]}
-                                  menuProps={
-                                    Object {
-                                      "organization": Object {
-                                        "access": Array [
-                                          "org:read",
-                                          "org:write",
-                                          "org:admin",
-                                          "project:read",
-                                          "project:write",
-                                          "project:admin",
-                                          "team:read",
-                                          "team:write",
-                                          "team:admin",
-                                        ],
-                                        "features": Array [
-                                          "sentry10",
-                                        ],
-                                        "id": "3",
-                                        "name": "Organization Name",
-                                        "onboardingTasks": Array [],
-                                        "projects": Array [
-                                          Object {
-                                            "hasAccess": true,
-                                            "id": "2",
-                                            "isBookmarked": false,
-                                            "isMember": true,
-                                            "name": "Project Name",
-                                            "slug": "project-slug",
-                                            "teams": Array [],
-                                          },
-                                        ],
-                                        "scrapeJavaScript": true,
-                                        "slug": "org-slug",
-                                        "status": Object {
-                                          "id": "active",
-                                          "name": "active",
-                                        },
+                                  projectId={null}
+                                  projects={
+                                    Array [
+                                      Object {
+                                        "hasAccess": true,
+                                        "id": "2",
+                                        "isBookmarked": false,
+                                        "isMember": true,
+                                        "name": "Project Name",
+                                        "slug": "project-slug",
                                         "teams": Array [],
                                       },
-                                      "showSettingsLink": true,
-                                    }
+                                    ]
                                   }
-                                  noResultsMessage="No projects found"
-                                  onClose={[Function]}
-                                  onSelect={[Function]}
                                   rootClassName="css-h5t9nh-rootContainerStyles"
-                                  searchPlaceholder="Filter projects"
-                                  virtualizedHeight={40}
-                                  zIndex={1001}
+                                  selectedProjects={Array []}
+                                  value={Array []}
                                 >
-                                  <DropdownAutoCompleteMenu
+                                  <DropdownAutoComplete
                                     alignMenu="left"
                                     blendCorner={false}
-                                    className="ewlipse0 css-11ijjr3-StyledProjectSelector"
+                                    className="ebbiq050 ewlipse0 css-o5ymgs-StyledProjectSelector-StyledMultipleProjectSelector"
                                     closeOnSelect={true}
                                     emptyHidesInput={true}
                                     emptyMessage="You have no projects"
@@ -882,51 +858,121 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                     virtualizedHeight={40}
                                     zIndex={1001}
                                   >
-                                    <AutoComplete
+                                    <DropdownAutoCompleteMenu
+                                      alignMenu="left"
+                                      blendCorner={false}
+                                      className="ebbiq050 ewlipse0 css-o5ymgs-StyledProjectSelector-StyledMultipleProjectSelector"
                                       closeOnSelect={true}
-                                      disabled={false}
-                                      inputIsActor={false}
-                                      itemToString={[Function]}
+                                      emptyHidesInput={true}
+                                      emptyMessage="You have no projects"
+                                      inputProps={
+                                        Object {
+                                          "style": Object {
+                                            "padding": 8,
+                                            "paddingLeft": 14,
+                                          },
+                                        }
+                                      }
+                                      items={
+                                        Array [
+                                          Object {
+                                            "label": [Function],
+                                            "searchKey": "project-slug",
+                                            "value": Object {
+                                              "hasAccess": true,
+                                              "id": "2",
+                                              "isBookmarked": false,
+                                              "isMember": true,
+                                              "name": "Project Name",
+                                              "slug": "project-slug",
+                                              "teams": Array [],
+                                            },
+                                          },
+                                        ]
+                                      }
+                                      maxHeight={500}
+                                      menuFooter={[Function]}
+                                      menuProps={
+                                        Object {
+                                          "organization": Object {
+                                            "access": Array [
+                                              "org:read",
+                                              "org:write",
+                                              "org:admin",
+                                              "project:read",
+                                              "project:write",
+                                              "project:admin",
+                                              "team:read",
+                                              "team:write",
+                                              "team:admin",
+                                            ],
+                                            "features": Array [
+                                              "sentry10",
+                                            ],
+                                            "id": "3",
+                                            "name": "Organization Name",
+                                            "onboardingTasks": Array [],
+                                            "projects": Array [
+                                              Object {
+                                                "hasAccess": true,
+                                                "id": "2",
+                                                "isBookmarked": false,
+                                                "isMember": true,
+                                                "name": "Project Name",
+                                                "slug": "project-slug",
+                                                "teams": Array [],
+                                              },
+                                            ],
+                                            "scrapeJavaScript": true,
+                                            "slug": "org-slug",
+                                            "status": Object {
+                                              "id": "active",
+                                              "name": "active",
+                                            },
+                                            "teams": Array [],
+                                          },
+                                          "showSettingsLink": true,
+                                        }
+                                      }
+                                      noResultsMessage="No projects found"
                                       onClose={[Function]}
                                       onSelect={[Function]}
-                                      resetInputOnClose={true}
-                                      shouldSelectWithEnter={true}
-                                      shouldSelectWithTab={false}
+                                      rootClassName="css-h5t9nh-rootContainerStyles"
+                                      searchPlaceholder="Filter projects"
                                       virtualizedHeight={40}
                                       zIndex={1001}
                                     >
-                                      <DropdownMenu
-                                        closeOnEscape={true}
-                                        isOpen={false}
-                                        keepMenuOpen={false}
-                                        onClickOutside={[Function]}
+                                      <AutoComplete
+                                        closeOnSelect={true}
+                                        disabled={false}
+                                        inputIsActor={false}
+                                        itemToString={[Function]}
+                                        onClose={[Function]}
+                                        onSelect={[Function]}
+                                        resetInputOnClose={true}
+                                        shouldSelectWithEnter={true}
+                                        shouldSelectWithTab={false}
+                                        virtualizedHeight={40}
+                                        zIndex={1001}
                                       >
-                                        <AutoCompleteRoot
-                                          className="css-h5t9nh-rootContainerStyles"
+                                        <DropdownMenu
+                                          closeOnEscape={true}
+                                          isOpen={false}
+                                          keepMenuOpen={false}
+                                          onClickOutside={[Function]}
                                         >
-                                          <Component
-                                            className="css-1ppsre-AutoCompleteRoot-rootContainerStyles ejumqxq0"
+                                          <AutoCompleteRoot
+                                            className="css-h5t9nh-rootContainerStyles"
                                           >
-                                            <div
+                                            <Component
                                               className="css-1ppsre-AutoCompleteRoot-rootContainerStyles ejumqxq0"
                                             >
-                                              <Actor
-                                                innerRef={[Function]}
-                                                isOpen={false}
-                                                onClick={[Function]}
-                                                onKeyDown={[Function]}
-                                                onMouseEnter={[Function]}
-                                                onMouseLeave={[Function]}
-                                                role="button"
-                                                style={
-                                                  Object {
-                                                    "outline": "none",
-                                                  }
-                                                }
-                                                tabIndex={-1}
+                                              <div
+                                                className="css-1ppsre-AutoCompleteRoot-rootContainerStyles ejumqxq0"
                                               >
-                                                <div
-                                                  className="css-17fe80j-Actor e53us8t0"
+                                                <Actor
+                                                  innerRef={[Function]}
+                                                  isOpen={false}
                                                   onClick={[Function]}
                                                   onKeyDown={[Function]}
                                                   onMouseEnter={[Function]}
@@ -939,23 +985,13 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                   }
                                                   tabIndex={-1}
                                                 >
-                                                  <StyledHeaderItem
-                                                    active={false}
-                                                    allowClear={false}
-                                                    hasChanges={false}
-                                                    hasSelected={false}
-                                                    icon={
-                                                      <StyledInlineSvg
-                                                        src="icon-project"
-                                                      />
-                                                    }
-                                                    isOpen={false}
-                                                    onClear={[Function]}
+                                                  <div
+                                                    className="css-17fe80j-Actor e53us8t0"
                                                     onClick={[Function]}
                                                     onKeyDown={[Function]}
                                                     onMouseEnter={[Function]}
                                                     onMouseLeave={[Function]}
-                                                    onSubmit={[Function]}
+                                                    role="button"
                                                     style={
                                                       Object {
                                                         "outline": "none",
@@ -963,10 +999,9 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                     }
                                                     tabIndex={-1}
                                                   >
-                                                    <ForwardRef
+                                                    <StyledHeaderItem
                                                       active={false}
                                                       allowClear={false}
-                                                      className="css-22y332-StyledHeaderItem ewlipse1"
                                                       hasChanges={false}
                                                       hasSelected={false}
                                                       icon={
@@ -988,10 +1023,10 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                       }
                                                       tabIndex={-1}
                                                     >
-                                                      <HeaderItem
+                                                      <ForwardRef
                                                         active={false}
                                                         allowClear={false}
-                                                        className="css-22y332-StyledHeaderItem ewlipse1"
+                                                        className="css-16gvadh-StyledHeaderItem ewlipse1"
                                                         hasChanges={false}
                                                         hasSelected={false}
                                                         icon={
@@ -999,7 +1034,6 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                             src="icon-project"
                                                           />
                                                         }
-                                                        innerRef={null}
                                                         isOpen={false}
                                                         onClear={[Function]}
                                                         onClick={[Function]}
@@ -1014,16 +1048,25 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                         }
                                                         tabIndex={-1}
                                                       >
-                                                        <StyledHeaderItem
+                                                        <HeaderItem
                                                           active={false}
-                                                          className="css-22y332-StyledHeaderItem ewlipse1"
+                                                          allowClear={false}
+                                                          className="css-16gvadh-StyledHeaderItem ewlipse1"
+                                                          hasChanges={false}
                                                           hasSelected={false}
+                                                          icon={
+                                                            <StyledInlineSvg
+                                                              src="icon-project"
+                                                            />
+                                                          }
                                                           innerRef={null}
                                                           isOpen={false}
+                                                          onClear={[Function]}
                                                           onClick={[Function]}
                                                           onKeyDown={[Function]}
                                                           onMouseEnter={[Function]}
                                                           onMouseLeave={[Function]}
+                                                          onSubmit={[Function]}
                                                           style={
                                                             Object {
                                                               "outline": "none",
@@ -1031,8 +1074,12 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                           }
                                                           tabIndex={-1}
                                                         >
-                                                          <div
-                                                            className="ewlipse1 css-1v6igws-StyledHeaderItem-StyledHeaderItem enk2k7v0"
+                                                          <StyledHeaderItem
+                                                            active={false}
+                                                            className="css-16gvadh-StyledHeaderItem ewlipse1"
+                                                            hasSelected={false}
+                                                            innerRef={null}
+                                                            isOpen={false}
                                                             onClick={[Function]}
                                                             onKeyDown={[Function]}
                                                             onMouseEnter={[Function]}
@@ -1044,27 +1091,80 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                             }
                                                             tabIndex={-1}
                                                           >
-                                                            <IconContainer
-                                                              hasSelected={false}
+                                                            <div
+                                                              className="ewlipse1 css-1y3fkpa-StyledHeaderItem-StyledHeaderItem enk2k7v0"
+                                                              onClick={[Function]}
+                                                              onKeyDown={[Function]}
+                                                              onMouseEnter={[Function]}
+                                                              onMouseLeave={[Function]}
+                                                              style={
+                                                                Object {
+                                                                  "outline": "none",
+                                                                }
+                                                              }
+                                                              tabIndex={-1}
                                                             >
-                                                              <span
-                                                                className="css-1af7peg-IconContainer enk2k7v2"
+                                                              <IconContainer
+                                                                hasSelected={false}
                                                               >
-                                                                <StyledInlineSvg
-                                                                  src="icon-project"
+                                                                <span
+                                                                  className="css-1g4tz50-IconContainer enk2k7v2"
                                                                 >
-                                                                  <InlineSvg
-                                                                    className="css-1ibtmti-StyledInlineSvg ewlipse2"
+                                                                  <StyledInlineSvg
                                                                     src="icon-project"
                                                                   >
-                                                                    <StyledSvg
+                                                                    <InlineSvg
                                                                       className="css-1ibtmti-StyledInlineSvg ewlipse2"
+                                                                      src="icon-project"
+                                                                    >
+                                                                      <StyledSvg
+                                                                        className="css-1ibtmti-StyledInlineSvg ewlipse2"
+                                                                        height="1em"
+                                                                        viewBox={Object {}}
+                                                                        width="1em"
+                                                                      >
+                                                                        <svg
+                                                                          className="ewlipse2 css-1ux8cow-StyledSvg-StyledInlineSvg e2idor0"
+                                                                          height="1em"
+                                                                          viewBox={Object {}}
+                                                                          width="1em"
+                                                                        >
+                                                                          <use
+                                                                            href="#test"
+                                                                            xlinkHref="#test"
+                                                                          />
+                                                                        </svg>
+                                                                      </StyledSvg>
+                                                                    </InlineSvg>
+                                                                  </StyledInlineSvg>
+                                                                </span>
+                                                              </IconContainer>
+                                                              <Content>
+                                                                <div
+                                                                  className="css-1yquznf-Content enk2k7v1"
+                                                                >
+                                                                  All Projects
+                                                                </div>
+                                                              </Content>
+                                                              <StyledChevron
+                                                                hasChanges={false}
+                                                                isOpen={false}
+                                                                onClick={[Function]}
+                                                              >
+                                                                <div
+                                                                  className="css-ft4nwy-StyledChevron enk2k7v4"
+                                                                  onClick={[Function]}
+                                                                >
+                                                                  <InlineSvg
+                                                                    src="icon-chevron-down"
+                                                                  >
+                                                                    <StyledSvg
                                                                       height="1em"
                                                                       viewBox={Object {}}
                                                                       width="1em"
                                                                     >
                                                                       <svg
-                                                                        className="ewlipse2 css-1ux8cow-StyledSvg-StyledInlineSvg e2idor0"
+                                                                        className="css-ryh69w-StyledSvg e2idor0"
                                                                         height="1em"
                                                                         viewBox={Object {}}
                                                                         width="1em"
@@ -1076,65 +1176,26 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                                       </svg>
                                                                     </StyledSvg>
                                                                   </InlineSvg>
-                                                                </StyledInlineSvg>
-                                                              </span>
-                                                            </IconContainer>
-                                                            <Content>
-                                                              <div
-                                                                className="css-1yquznf-Content enk2k7v1"
-                                                              >
-                                                                All Projects
-                                                              </div>
-                                                            </Content>
-                                                            <StyledChevron
-                                                              hasChanges={false}
-                                                              isOpen={false}
-                                                              onClick={[Function]}
-                                                            >
-                                                              <div
-                                                                className="css-ft4nwy-StyledChevron enk2k7v4"
-                                                                onClick={[Function]}
-                                                              >
-                                                                <InlineSvg
-                                                                  src="icon-chevron-down"
-                                                                >
-                                                                  <StyledSvg
-                                                                    height="1em"
-                                                                    viewBox={Object {}}
-                                                                    width="1em"
-                                                                  >
-                                                                    <svg
-                                                                      className="css-ryh69w-StyledSvg e2idor0"
-                                                                      height="1em"
-                                                                      viewBox={Object {}}
-                                                                      width="1em"
-                                                                    >
-                                                                      <use
-                                                                        href="#test"
-                                                                        xlinkHref="#test"
-                                                                      />
-                                                                    </svg>
-                                                                  </StyledSvg>
-                                                                </InlineSvg>
-                                                              </div>
-                                                            </StyledChevron>
-                                                          </div>
-                                                        </StyledHeaderItem>
-                                                      </HeaderItem>
-                                                    </ForwardRef>
-                                                  </StyledHeaderItem>
-                                                </div>
-                                              </Actor>
-                                            </div>
-                                          </Component>
-                                        </AutoCompleteRoot>
-                                      </DropdownMenu>
-                                    </AutoComplete>
-                                  </DropdownAutoCompleteMenu>
-                                </DropdownAutoComplete>
-                              </ProjectSelector>
-                            </StyledProjectSelector>
-                          </MultipleProjectSelector>
+                                                                </div>
+                                                              </StyledChevron>
+                                                            </div>
+                                                          </StyledHeaderItem>
+                                                        </HeaderItem>
+                                                      </ForwardRef>
+                                                    </StyledHeaderItem>
+                                                  </div>
+                                                </Actor>
+                                              </div>
+                                            </Component>
+                                          </AutoCompleteRoot>
+                                        </DropdownMenu>
+                                      </AutoComplete>
+                                    </DropdownAutoCompleteMenu>
+                                  </DropdownAutoComplete>
+                                </ProjectSelector>
+                              </StyledProjectSelector>
+                            </MultipleProjectSelector>
+                          </StyledMultipleProjectSelector>
                         </div>
                       </HeaderItemPosition>
                       <HeaderSeparator>
@@ -1149,7 +1210,7 @@ exports[`OrganizationUserFeedback renders 1`] = `
                       </HeaderSeparator>
                       <HeaderItemPosition>
                         <div
-                          className="css-5udiwc-HeaderItemPosition e165b9e40"
+                          className="css-1n6pjju-HeaderItemPosition e165b9e40"
                         >
                           <withApi(MultipleEnvironmentSelector)
                             onChange={[Function]}
@@ -1579,7 +1640,7 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                                                   hasSelected={false}
                                                                 >
                                                                   <span
-                                                                    className="css-1af7peg-IconContainer enk2k7v2"
+                                                                    className="css-1g4tz50-IconContainer enk2k7v2"
                                                                   >
                                                                     <StyledInlineSvg
                                                                       src="icon-window"
@@ -1682,7 +1743,7 @@ exports[`OrganizationUserFeedback renders 1`] = `
                       </HeaderSeparator>
                       <HeaderItemPosition>
                         <div
-                          className="css-5udiwc-HeaderItemPosition e165b9e40"
+                          className="css-1n6pjju-HeaderItemPosition e165b9e40"
                         >
                           <TimeRangeSelector
                             end={null}
@@ -1812,7 +1873,7 @@ exports[`OrganizationUserFeedback renders 1`] = `
                                               hasSelected={false}
                                             >
                                               <span
-                                                className="css-1af7peg-IconContainer enk2k7v2"
+                                                className="css-1g4tz50-IconContainer enk2k7v2"
                                               >
                                                 <StyledInlineSvg
                                                   src="icon-calendar"
