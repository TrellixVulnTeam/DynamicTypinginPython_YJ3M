commit 45f6b4d02ca49ea1354b5fb916a5f4b4979745d0
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Jan 7 10:32:25 2020 -0800

    ref: Use eventstore for group hashes endpoint (#16286)
    
    SnubaEvent is deprecated

diff --git a/src/sentry/api/endpoints/group_hashes.py b/src/sentry/api/endpoints/group_hashes.py
index 49833b3b1a..5cbfcc443c 100644
--- a/src/sentry/api/endpoints/group_hashes.py
+++ b/src/sentry/api/endpoints/group_hashes.py
@@ -4,11 +4,12 @@ from functools import partial
 
 from rest_framework.response import Response
 
+from sentry import eventstore
 from sentry.api.base import DocSection
 from sentry.api.bases import GroupEndpoint
 from sentry.api.paginator import GenericOffsetPaginator
 from sentry.api.serializers import EventSerializer, serialize
-from sentry.models import Group, GroupHash, SnubaEvent
+from sentry.models import Group, GroupHash
 from sentry.tasks.unmerge import unmerge
 from sentry.utils.apidocs import scenario, attach_scenarios
 from sentry.utils.snuba import raw_query
@@ -79,14 +80,9 @@ class GroupHashesEndpoint(GroupEndpoint):
         return [self.__handle_result(user, project_id, group_id, result) for result in results]
 
     def __handle_result(self, user, project_id, group_id, result):
-        event = {
-            "timestamp": result["latest_event_timestamp"],
-            "event_id": result["event_id"],
-            "group_id": group_id,
-            "project_id": project_id,
-        }
+        event = eventstore.get_event_by_id(project_id, result["event_id"])
 
         return {
             "id": result["primary_hash"],
-            "latestEvent": serialize(SnubaEvent(event), user, EventSerializer()),
+            "latestEvent": serialize(event, user, EventSerializer()),
         }
