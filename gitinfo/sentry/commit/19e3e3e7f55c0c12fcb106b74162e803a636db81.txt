commit 19e3e3e7f55c0c12fcb106b74162e803a636db81
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Feb 24 13:46:20 2015 -0800

    Add FeatureHandler helper for plugins

diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index 1487a82b54..6f86559eb5 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -1,6 +1,7 @@
 from __future__ import absolute_import
 
 from .base import *  # NOQA
+from .handler import *  # NOQA
 from .manager import *  # NOQA
 
 
diff --git a/src/sentry/features/handler.py b/src/sentry/features/handler.py
new file mode 100644
index 0000000000..513ff3ac1d
--- /dev/null
+++ b/src/sentry/features/handler.py
@@ -0,0 +1,16 @@
+from __future__ import absolute_import
+
+__all__ = ['FeatureHandler']
+
+
+class FeatureHandler(object):
+    features = set()
+
+    def __call__(self, feature, actor):
+        if feature.name not in self.features:
+            return None
+
+        return self.has(feature, actor)
+
+    def has(self, feature, actor):
+        raise NotImplementedError
diff --git a/src/sentry/plugins/base/v2.py b/src/sentry/plugins/base/v2.py
index 996336ba30..814351c721 100644
--- a/src/sentry/plugins/base/v2.py
+++ b/src/sentry/plugins/base/v2.py
@@ -295,10 +295,16 @@ class IPlugin2(local):
         """
         Return a list of callables to check for feature status.
 
-        >>> def get_feature_hooks(self, **kwargs):
-        >>>     def no_features(feature, actor):
+        >>> from sentry.features import FeatureHandler
+        >>>
+        >>> class NoRegistration(FeatureHandler):
+        >>>     features = set(['auth:register'])
+        >>>
+        >>>     def has(self, feature, actor):
         >>>         return False
-        >>>     return [no_features]
+
+        >>> def get_feature_hooks(self, **kwargs):
+        >>>     return [NoRegistration()]
         """
         return []
 
