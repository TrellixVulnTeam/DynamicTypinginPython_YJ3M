commit 1e3616f462216ea0dbaacd4bd2f1149118bc5a22
Author: ckj <chriskjennings@gmail.com>
Date:   Fri Nov 21 22:06:19 2014 -0500

    Make docs compatible with sidebar layout.

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index 8835fb846c..9747f41271 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -3075,16 +3075,8 @@ table.integrations {
   }
 
   header {
-    background: none;
-    color: @gray-dark;
-    padding: 30px 0;
-    margin-bottom: 0;
-
-    #logo {
-      font-size: 30px;
-    }
+    padding: 22px 0 22px;
     .user-nav {
-      margin-top: 8px;
       li > a {
         font-size: 16px;
       }
@@ -3099,9 +3091,14 @@ table.integrations {
     }
   }
 
+  .icon-sentry-logo-full {
+    font-size: 24px;
+    float: left;
+    margin-right: 30px;
+  }
+
   .content {
-    border-top: 1px solid lighten(#E9EBEC, 2);
-    padding-top: 40px;
+    padding-top: 10px;
 
     .sidebar {
       h4 {
@@ -3155,6 +3152,26 @@ table.integrations {
       line-height: 1.8;
       padding-top: 0;
 
+      .breadcrumb {
+        margin: 0 0 30px !important;
+        padding: 0;
+        background: none;
+        font-size: 18px;
+        line-height: 1.2 !important;
+        .clearfix();
+        color: lighten(@grayDark, 37);
+
+        a {
+          color: lighten(@grayDark, 37);
+        }
+
+        li + li:before {
+          padding: 0 11px 0 14px;
+          color: inherit;
+          opacity: .4;
+        }
+      }
+
       p, ul, ol {
         margin: 30px 0;
         line-height: 1.7;
@@ -3207,29 +3224,6 @@ table.integrations {
   .back-button {
     top: -2px;
   }
-
-  .crumbs {
-    .list-unstyled();
-    margin: 0 0 30px !important;
-    font-size: 18px;
-    line-height: 1.2 !important;
-    .clearfix();
-    color: lighten(@grayDark, 45);
-
-    li {
-      float: left;
-      margin-right: 20px;
-
-      &:last-child, &:last-child a {
-        color: lighten(@grayDark, 15);
-      }
-    }
-
-    a {
-      color: lighten(@grayDark, 37);
-    }
-
-  }
 }
 
 .client-platform-list {
diff --git a/src/sentry/templates/sentry/help/api_index.html b/src/sentry/templates/sentry/help/api_index.html
index 5b3899af78..f10e667985 100644
--- a/src/sentry/templates/sentry/help/api_index.html
+++ b/src/sentry/templates/sentry/help/api_index.html
@@ -3,12 +3,16 @@
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block breadcrumbs %}
+{% block breadcrumb_inner %}
     {{ block.super }}
-    <li class="divider">/</li>
     <li><a href="{% url 'sentry-api-0-help' %}">Web API</a></li>
 {% endblock%}
 
+{% block crumbs %}
+  {{ block.super }}
+  <li><a href="{% url 'sentry-api-0-help' %}">Web API</a></li>
+{% endblock%}
+
 {% block main %}
     <h2>Web API</h2>
 
diff --git a/src/sentry/templates/sentry/help/api_section.html b/src/sentry/templates/sentry/help/api_section.html
index 0e58dc89e9..28b5ad4c40 100644
--- a/src/sentry/templates/sentry/help/api_section.html
+++ b/src/sentry/templates/sentry/help/api_section.html
@@ -1,16 +1,18 @@
-{% extends "sentry/help/index.html" %}
+{% extends "sentry/help/api_index.html" %}
 
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block breadcrumbs %}
+{% block breadcrumb_inner %}
     {{ block.super }}
-    <li class="divider">/</li>
-    <li><a href="{% url 'sentry-api-0-help' %}">Web API</a></li>
-    <li class="divider">/</li>
     <li><a href="{% url 'sentry-api-0-help-section' section.id %}">{{ section.name }}</a></li>
 {% endblock%}
 
+{% block crumbs %}
+  {{ block.super }}
+  <li><a href="{% url 'sentry-api-0-help-section' section.id %}">{{ section.name }}</a></li>
+{% endblock%}
+
 {% block main %}
     <h2>{{ section.name }}</h2>
     <div class="list-group">
diff --git a/src/sentry/templates/sentry/help/basic_page.html b/src/sentry/templates/sentry/help/basic_page.html
index 59d32bd94a..d48834d096 100644
--- a/src/sentry/templates/sentry/help/basic_page.html
+++ b/src/sentry/templates/sentry/help/basic_page.html
@@ -4,13 +4,16 @@
 {% load sentry_helpers %}
 {% load sentry_markup %}
 
-{% block breadcrumbs %}
-{{ block.super }}
-<li class="divider">/</li>
-<li><a>Guides</a></li>
-<li class="divider">/</li>
-<li>{{ page.title }}</li>
+{% block breadcrumb_inner %}
+  {{ block.super }}
+  <li>Guides</li>
+  <li>{{ page.title }}</li>
+{% endblock%}
 
+{% block crumbs %}
+  {{ block.super }}
+  <li>Guides</li>
+  <li>{{ page.title }}</li>
 {% endblock%}
 
 {% block main %}
diff --git a/src/sentry/templates/sentry/help/index.html b/src/sentry/templates/sentry/help/index.html
index f73f42bac8..2a7851a95a 100644
--- a/src/sentry/templates/sentry/help/index.html
+++ b/src/sentry/templates/sentry/help/index.html
@@ -7,7 +7,12 @@
 {% block heading %}{% endblock %}
 {% block wrapperclass %}docs{% endblock %}
 
-{% block logo %}<a id="logo" href="{% url 'sentry' %}"><span class="icon-sentry-logo-full"></span></a>{% endblock %}
+{% block breadcrumb_inner %}
+  {% comment %}
+  //// Shown in header when user is logged in
+  {% endcomment %}
+  <li><a href="{% url 'sentry-help' %}">Docs</a></li>
+{% endblock %}
 
 {% block content %}
     {% block helpcontent %}
@@ -18,11 +23,16 @@
             {% endblock %}
           </div>
           <div class="col-sm-9 main">
-              <ul class="crumbs">
-                {% block breadcrumbs %}
-                <li><a href="{% url 'sentry-help' %}">Docs</a></li>
-                {% endblock %}
-              </ul>
+            {% if not request.user.is_authenticated %}
+            <ul class="breadcrumb">
+              {% block crumbs %}
+              {% comment %}
+              //// Shown in docs body when user is logged out
+              {% endcomment %}
+              <li><a href="{% url 'sentry-help' %}">Docs</a></li>
+              {% endblock %}
+            </ul>
+            {% endif %}
             {% block main %}
               <h3>Sentry Documentation</h3>
               <p>Welcome to the Sentry Docs. Reading through the guides and reference here will give you a complete understanding of how Sentry works and how to get the most out of it. We recommend that you read through the Guides first, then on to the client installation instructions for your specific platform.</p>
diff --git a/src/sentry/templates/sentry/help/platform_details.html b/src/sentry/templates/sentry/help/platform_details.html
index 3920b8485e..ceb59dd7a8 100644
--- a/src/sentry/templates/sentry/help/platform_details.html
+++ b/src/sentry/templates/sentry/help/platform_details.html
@@ -6,9 +6,13 @@
 {% block title %}{{ platform_title }} Client Configuration | {{ block.super }}{% endblock %}
 {% block client_overview_class %}{% endblock %}
 
-{% block breadcrumbs %}
+{% block breadcrumb_inner %}
+  {{ block.super }}
+  <li>{{ platform_title }}</li>
+{% endblock %}
+
+{% block crumbs %}
   {{ block.super }}
-  <li class="divider">/</li>
   <li>{{ platform_title }}</li>
 {% endblock %}
 
diff --git a/src/sentry/templates/sentry/help/platform_index.html b/src/sentry/templates/sentry/help/platform_index.html
index 4d176d6c44..3ff7482a30 100644
--- a/src/sentry/templates/sentry/help/platform_index.html
+++ b/src/sentry/templates/sentry/help/platform_index.html
@@ -6,12 +6,15 @@
 {% block title %}{% trans "Platforms" %} | {{ block.super }}{% endblock %}
 {% block client_overview_class %}active{% endblock %}
 
-{% block breadcrumbs %}
-{{ block.super }}
-<li class="divider">/</li>
-<li><a href="{% url 'sentry-help-platform-list' %}">{% trans "Clients" %}</a></li>
+{% block breadcrumb_inner %}
+  {{ block.super }}
+  <li><a href="{% url 'sentry-help-platform-list' %}">{% trans "Clients" %}</a></li>
+{% endblock %}
 
-{% endblock%}
+{% block crumbs %}
+  {{ block.super }}
+  <li><a href="{% url 'sentry-help-platform-list' %}">{% trans "Clients" %}</a></li>
+{% endblock %}
 
 {% block main %}
     <h3>Sentry Clients</h3>
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index 97bef08a07..ac5d0796d1 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -185,7 +185,9 @@
                         <span class="badge badge-error">12</span>
                       </a>
                     {% else %}
-                      <a href="/"><span class="icon-sentry-logo-full"></span></a>
+                      {% block logo %}
+                        <a href="/"><span class="icon-sentry-logo-full"></span></a>
+                      {% endblock %}
                     {% endif %}
                   {% endblock %}
                   <div class="pull-right">
@@ -203,32 +205,32 @@
                             </ul>
                           </div>
                           {% else %}
+                            <div class="user-nav">
                               <a href="{% url 'sentry-login' %}">{% trans "Login" %}</a>
+                            </div>
                           {% endif %}
                       {% endblock %}
                   </div>
-                  {% block breadcrumb_outer %}
-                    <ul class="breadcrumb">
-                      {% block breadcrumb_inner %}
-                        {% if team %}
-                          <li>
-                            <a class="team-name" href="{% url 'sentry' team.slug %}">{{ team.name }}</a>
-                          </li>
-
-
-                          {% if project %}
-                          <li>
-                            <a class="project-name" href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a> <a href="{% url 'sentry-manage-project' team.slug project.slug %}"><span class="icon-settings"></span></a>
-                          </li>
+                  {% if request.user.is_authenticated %}
+                    {% block breadcrumb_outer %}
+                      <ul class="breadcrumb">
+                        {% block breadcrumb_inner %}
+                          {% if team %}
+                            <li>
+                              <a class="team-name" href="{% url 'sentry' team.slug %}">{{ team.name }}</a>
+                            </li>
+                            {% if project %}
+                            <li>
+                              <a class="project-name" href="{% url 'sentry-stream' team.slug project.slug %}">{{ project.name }}</a> <a href="{% url 'sentry-manage-project' team.slug project.slug %}"><span class="icon-settings"></span></a>
+                            </li>
+                            {% endif %}
+                          {% else %}
+                              <li>{% block heading %}{% endblock %}</li>
                           {% endif %}
-
-
-                        {% else %}
-                            <li>{% block heading %}{% endblock %}</li>
-                        {% endif %}
+                        {% endblock %}
+                      </ul>
                       {% endblock %}
-                    </ul>
-                    {% endblock %}
+                    {% endif %}
                  </div>
             </header>
         {% endblock %}
