commit d41dbdf9108ee35b4805dcccde1f49614737f00a
Author: ganzevoort <ganzevoort@gw20e.com>
Date:   Thu Jul 11 16:40:32 2019 +0200

    fix issue 13968: silent cleanup honors is_filtered (#13969)
    
    Expired organisation members would be deleted during silent cleanup
    even when filtered (not specified on the command line).
    
    Fixes GH-13968

diff --git a/src/sentry/runner/commands/cleanup.py b/src/sentry/runner/commands/cleanup.py
index 54b86c0bd1..375b301156 100644
--- a/src/sentry/runner/commands/cleanup.py
+++ b/src/sentry/runner/commands/cleanup.py
@@ -208,11 +208,13 @@ def cleanup(days, project, concurrency, silent, model, router, timed):
             date_added__lte=timezone.now() - timedelta(hours=48)
         ).delete()
 
-    if is_filtered(models.OrganizationMember) and not silent:
-        click.echo('>> Skipping OrganizationMember')
-    else:
+    if not silent:
+        click.echo('Removing expired values for OrganizationMember')
+
+    if is_filtered(models.OrganizationMember):
         if not silent:
-            click.echo('Removing expired values for OrganizationMember')
+            click.echo('>> Skipping OrganizationMember')
+    else:
         expired_threshold = timezone.now() - timedelta(days=days)
         models.OrganizationMember.delete_expired(expired_threshold)
 
