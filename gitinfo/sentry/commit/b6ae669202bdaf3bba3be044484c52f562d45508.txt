commit b6ae669202bdaf3bba3be044484c52f562d45508
Author: Dan Fuller <dfuller@sentry.io>
Date:   Fri Apr 17 11:25:04 2020 -0700

    refs(mail): Move activity emails out of `sentry_mail`. (#18323)
    
    We're moving these to `mail/activities` since we'll be removing the mail plugin soon. This pr is
    literally just moving these activity emails and updating any references to them.

diff --git a/src/sentry/mail/activity/__init__.py b/src/sentry/mail/activity/__init__.py
new file mode 100644
index 0000000000..470145965f
--- /dev/null
+++ b/src/sentry/mail/activity/__init__.py
@@ -0,0 +1,22 @@
+from __future__ import absolute_import
+
+from sentry.mail.activity.assigned import AssignedActivityEmail
+from sentry.mail.activity.new_processing_issues import NewProcessingIssuesActivityEmail
+from sentry.mail.activity.note import NoteActivityEmail
+from sentry.mail.activity.regression import RegressionActivityEmail
+from sentry.mail.activity.release import ReleaseActivityEmail
+from sentry.mail.activity.resolved import ResolvedActivityEmail
+from sentry.mail.activity.resolved_in_release import ResolvedInReleaseActivityEmail
+from sentry.mail.activity.unassigned import UnassignedActivityEmail
+from sentry.models.activity import Activity
+
+emails = {
+    Activity.ASSIGNED: AssignedActivityEmail,
+    Activity.NOTE: NoteActivityEmail,
+    Activity.DEPLOY: ReleaseActivityEmail,
+    Activity.SET_REGRESSION: RegressionActivityEmail,
+    Activity.SET_RESOLVED: ResolvedActivityEmail,
+    Activity.SET_RESOLVED_IN_RELEASE: ResolvedInReleaseActivityEmail,
+    Activity.UNASSIGNED: UnassignedActivityEmail,
+    Activity.NEW_PROCESSING_ISSUES: NewProcessingIssuesActivityEmail,
+}
diff --git a/src/sentry/plugins/sentry_mail/activity/assigned.py b/src/sentry/mail/activity/assigned.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/assigned.py
rename to src/sentry/mail/activity/assigned.py
diff --git a/src/sentry/plugins/sentry_mail/activity/base.py b/src/sentry/mail/activity/base.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/base.py
rename to src/sentry/mail/activity/base.py
diff --git a/src/sentry/plugins/sentry_mail/activity/new_processing_issues.py b/src/sentry/mail/activity/new_processing_issues.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/new_processing_issues.py
rename to src/sentry/mail/activity/new_processing_issues.py
diff --git a/src/sentry/plugins/sentry_mail/activity/note.py b/src/sentry/mail/activity/note.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/note.py
rename to src/sentry/mail/activity/note.py
diff --git a/src/sentry/plugins/sentry_mail/activity/regression.py b/src/sentry/mail/activity/regression.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/regression.py
rename to src/sentry/mail/activity/regression.py
diff --git a/src/sentry/plugins/sentry_mail/activity/release.py b/src/sentry/mail/activity/release.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/release.py
rename to src/sentry/mail/activity/release.py
diff --git a/src/sentry/plugins/sentry_mail/activity/resolved.py b/src/sentry/mail/activity/resolved.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/resolved.py
rename to src/sentry/mail/activity/resolved.py
diff --git a/src/sentry/plugins/sentry_mail/activity/resolved_in_release.py b/src/sentry/mail/activity/resolved_in_release.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/resolved_in_release.py
rename to src/sentry/mail/activity/resolved_in_release.py
diff --git a/src/sentry/plugins/sentry_mail/activity/unassigned.py b/src/sentry/mail/activity/unassigned.py
similarity index 100%
rename from src/sentry/plugins/sentry_mail/activity/unassigned.py
rename to src/sentry/mail/activity/unassigned.py
diff --git a/src/sentry/mail/adapter.py b/src/sentry/mail/adapter.py
index db99bb0267..b9e3a69a25 100644
--- a/src/sentry/mail/adapter.py
+++ b/src/sentry/mail/adapter.py
@@ -440,7 +440,7 @@ class MailAdapter(object):
     def notify_about_activity(self, activity):
         metrics.incr("mail_adapter.notify_about_activity")
         # TODO: We should move these into the `mail` module.
-        from sentry.plugins.sentry_mail.activity import emails
+        from sentry.mail.activity import emails
 
         email_cls = emails.get(activity.type)
         if not email_cls:
diff --git a/src/sentry/plugins/sentry_mail/activity/__init__.py b/src/sentry/plugins/sentry_mail/activity/__init__.py
deleted file mode 100644
index 5fff02fa3e..0000000000
--- a/src/sentry/plugins/sentry_mail/activity/__init__.py
+++ /dev/null
@@ -1,23 +0,0 @@
-from __future__ import absolute_import
-
-from sentry.models import Activity
-
-from .assigned import AssignedActivityEmail
-from .note import NoteActivityEmail
-from .release import ReleaseActivityEmail
-from .regression import RegressionActivityEmail
-from .resolved import ResolvedActivityEmail
-from .resolved_in_release import ResolvedInReleaseActivityEmail
-from .unassigned import UnassignedActivityEmail
-from .new_processing_issues import NewProcessingIssuesActivityEmail
-
-emails = {
-    Activity.ASSIGNED: AssignedActivityEmail,
-    Activity.NOTE: NoteActivityEmail,
-    Activity.DEPLOY: ReleaseActivityEmail,
-    Activity.SET_REGRESSION: RegressionActivityEmail,
-    Activity.SET_RESOLVED: ResolvedActivityEmail,
-    Activity.SET_RESOLVED_IN_RELEASE: ResolvedInReleaseActivityEmail,
-    Activity.UNASSIGNED: UnassignedActivityEmail,
-    Activity.NEW_PROCESSING_ISSUES: NewProcessingIssuesActivityEmail,
-}
diff --git a/src/sentry/web/frontend/debug/debug_new_processing_issues_email.py b/src/sentry/web/frontend/debug/debug_new_processing_issues_email.py
index ebaa2d7927..fbfb4cb615 100644
--- a/src/sentry/web/frontend/debug/debug_new_processing_issues_email.py
+++ b/src/sentry/web/frontend/debug/debug_new_processing_issues_email.py
@@ -12,7 +12,7 @@ class DebugNewProcessingIssuesEmailView(View):
     reprocessing_active = True
 
     def get(self, request):
-        from sentry.plugins.sentry_mail.activity.new_processing_issues import summarize_issues
+        from sentry.mail.activity.new_processing_issues import summarize_issues
 
         org = Organization(id=1, slug="organization", name="My Company")
         project = Project(id=1, organization=org, slug="project", name="My Project")
diff --git a/src/sentry/web/frontend/debug/mail.py b/src/sentry/web/frontend/debug/mail.py
index 20211d911b..f317dd2c12 100644
--- a/src/sentry/web/frontend/debug/mail.py
+++ b/src/sentry/web/frontend/debug/mail.py
@@ -35,7 +35,7 @@ from sentry.models import (
     Team,
 )
 from sentry.event_manager import EventManager, get_event_type
-from sentry.plugins.sentry_mail.activity import emails
+from sentry.mail.activity import emails
 from sentry.utils import loremipsum
 from sentry.utils.dates import to_datetime, to_timestamp
 from sentry.utils.email import inline_css
diff --git a/tests/sentry/plugins/mail/activity/__init__.py b/tests/sentry/mail/activity/__init__.py
similarity index 100%
rename from tests/sentry/plugins/mail/activity/__init__.py
rename to tests/sentry/mail/activity/__init__.py
diff --git a/tests/sentry/plugins/mail/activity/test_release.py b/tests/sentry/mail/activity/test_release.py
similarity index 99%
rename from tests/sentry/plugins/mail/activity/test_release.py
rename to tests/sentry/mail/activity/test_release.py
index 1eabb3ce37..b861827fe6 100644
--- a/tests/sentry/plugins/mail/activity/test_release.py
+++ b/tests/sentry/mail/activity/test_release.py
@@ -19,7 +19,7 @@ from sentry.models import (
     UserOption,
     UserOptionValue,
 )
-from sentry.plugins.sentry_mail.activity.release import ReleaseActivityEmail
+from sentry.mail.activity.release import ReleaseActivityEmail
 from sentry.testutils import TestCase
 
 
diff --git a/tests/sentry/plugins/mail/tests.py b/tests/sentry/plugins/mail/tests.py
index f530c1a756..3a09267ce2 100644
--- a/tests/sentry/plugins/mail/tests.py
+++ b/tests/sentry/plugins/mail/tests.py
@@ -33,7 +33,7 @@ from sentry.models import (
 )
 from sentry.ownership.grammar import Owner, Matcher, dump_schema
 from sentry.plugins.base import Notification
-from sentry.plugins.sentry_mail.activity.base import ActivityEmail
+from sentry.mail.activity.base import ActivityEmail
 from sentry.plugins.sentry_mail.models import MailPlugin
 from sentry.event_manager import get_event_type
 from sentry.testutils import TestCase
