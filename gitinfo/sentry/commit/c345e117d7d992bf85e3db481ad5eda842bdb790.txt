commit c345e117d7d992bf85e3db481ad5eda842bdb790
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Apr 25 01:39:57 2017 +0200

    Act on some requested changes from the code review

diff --git a/src/sentry/plugins/sentry_mail/activity/new_processing_issues.py b/src/sentry/plugins/sentry_mail/activity/new_processing_issues.py
index 1d0da90cf4..4812a5bcec 100644
--- a/src/sentry/plugins/sentry_mail/activity/new_processing_issues.py
+++ b/src/sentry/plugins/sentry_mail/activity/new_processing_issues.py
@@ -32,7 +32,6 @@ class NewProcessingIssuesActivityEmail(ActivityEmail):
 
     def __init__(self, activity):
         ActivityEmail.__init__(self, activity)
-        self.organization = self.project.organization
         self.issues = summarize_issues(self.data['issues'])
 
     def get_participants(self):
@@ -42,8 +41,7 @@ class NewProcessingIssuesActivityEmail(ActivityEmail):
         # code (Project.is_user_subscribed_to_mail_alerts) which
         # replicates the logic on a per-user basis.
         users = User.objects.filter(
-            sentry_orgmember_set__teams=self.project.team,
-            is_active=True,
+            id__in=self.project.team.member_set.values_list('user_id'),
         )
         participants = {}
         for user in users:
diff --git a/src/sentry/tasks/store.py b/src/sentry/tasks/store.py
index 7f150c9999..77b924d309 100644
--- a/src/sentry/tasks/store.py
+++ b/src/sentry/tasks/store.py
@@ -194,7 +194,7 @@ def delete_raw_event(project_id, event_id, allow_hint_clear=False):
             if ReprocessingReport.objects.filter(
                 project_id=project_id,
                 event_id=event_id
-            ).values('id').first() is None:
+            ).exists():
                 project = Project.objects.get_from_cache(id=project_id)
                 ProjectOption.objects.set_value(
                     project, 'sentry:sent_failed_event_hint', False)
