commit 5b3975a5cd26a80c12a5ce480ac296e02a1e4163
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Mon Feb 5 17:35:53 2018 -0800

    fix(tests): Add tests for project permissions supporting no teams

diff --git a/tests/sentry/api/bases/test_project.py b/tests/sentry/api/bases/test_project.py
index 2ce3c3ac96..36d7dd1f48 100644
--- a/tests/sentry/api/bases/test_project.py
+++ b/tests/sentry/api/bases/test_project.py
@@ -324,3 +324,27 @@ class ProjectPermissionNoJoinLeaveTest(ProjectPermissionBase):
             teams=[self.team],
         )
         assert self.has_object_perm('POST', self.project, user=user)
+
+    def test_manager_when_project_has_no_teams(self):
+        project = self.create_project(organization=self.org, teams=[])
+        user = self.create_user(is_superuser=False)
+        self.create_member(
+            user=user,
+            organization=self.org,
+            role='manager',
+        )
+        # managers should be able to act on teams/projects they
+        # don't have access to
+        assert self.has_object_perm('POST', project, user=user)
+
+    def test_owner_when_project_has_no_teams(self):
+        project = self.create_project(organization=self.org, teams=[])
+        user = self.create_user(is_superuser=False)
+        self.create_member(
+            user=user,
+            organization=self.org,
+            role='owner',
+        )
+        # owners should be able to act on teams/projects they
+        # don't have access to
+        assert self.has_object_perm('POST', project, user=user)
