commit 17fdc73847e9405ea29dffb18f880f55ba11d040
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Oct 16 13:38:49 2018 -0700

    fix(integrations): Analytics must be sent after data loads (#10147)
    
    Fixes: JAVASCRIPT-4FW

diff --git a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
index d8c38879e8..11a847217b 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
@@ -22,10 +22,13 @@ class ConfigureIntegration extends AsyncView {
     ];
   }
 
-  componentDidMount() {
+  onRequestSuccess({stateKey, data}) {
+    if (stateKey !== 'integration') {
+      return;
+    }
     analytics('integrations.details_viewed', {
       org_id: parseInt(this.props.organization.id, 10),
-      integration: this.props.provider.key,
+      integration: data.provider.key,
     });
   }
 
