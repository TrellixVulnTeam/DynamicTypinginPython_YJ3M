commit 559852f84bd361277de69350df464976156f5a92
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Mon May 7 14:15:02 2018 -0700

    ref(integrations): Rename Integration to IntegrationProvider

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index d421ed0458..28d87495e4 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -1236,10 +1236,10 @@ SENTRY_ONPREMISE = True
 SENTRY_USE_X_FORWARDED_FOR = True
 
 SENTRY_DEFAULT_INTEGRATIONS = (
-    'sentry.integrations.slack.SlackIntegration',
-    'sentry.integrations.github.GitHubIntegration',
-    'sentry.integrations.jira.JiraIntegration',
-    'sentry.integrations.vsts.VSTSIntegration',
+    'sentry.integrations.slack.SlackIntegrationProvider',
+    'sentry.integrations.github.GitHubIntegrationProvider',
+    'sentry.integrations.jira.JiraIntegrationProvider',
+    'sentry.integrations.vsts.VSTSIntegrationProvider',
 )
 
 SENTRY_INTERNAL_INTEGRATIONS = (
diff --git a/src/sentry/integrations/base.py b/src/sentry/integrations/base.py
index cfc0489b83..b29ed59a88 100644
--- a/src/sentry/integrations/base.py
+++ b/src/sentry/integrations/base.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-__all__ = ['Integration', 'IntegrationMetadata']
+__all__ = ['IntegrationProvider', 'IntegrationMetadata']
 
 import logging
 from collections import namedtuple
@@ -18,7 +18,7 @@ IntegrationMetadata = namedtuple('IntegrationMetadata', [
 ])
 
 
-class Integration(PipelineProvider):
+class IntegrationProvider(PipelineProvider):
     """
     An integration describes a third party that can be registered within Sentry.
 
@@ -27,7 +27,7 @@ class Integration(PipelineProvider):
     authentication, and what kind of configuration is stored.
 
     This is similar to Sentry's legacy 'plugin' information, except that an
-    integration is lives as an instance in the database, and the ``Integration``
+    integration is lives as an instance in the database, and the ``IntegrationProvider``
     class is just a descriptor for how that object functions, and what behavior
     it provides (such as extensions provided).
     """
diff --git a/src/sentry/integrations/example/integration.py b/src/sentry/integrations/example/integration.py
index 422d80f477..d5b9eeddc1 100644
--- a/src/sentry/integrations/example/integration.py
+++ b/src/sentry/integrations/example/integration.py
@@ -1,7 +1,7 @@
 from __future__ import absolute_import
 
 from django.http import HttpResponse
-from sentry.integrations import Integration, IntegrationMetadata
+from sentry.integrations import IntegrationProvider, IntegrationMetadata
 from sentry.pipeline import PipelineView
 
 
@@ -38,7 +38,7 @@ metadata = IntegrationMetadata(
 )
 
 
-class ExampleIntegration(Integration):
+class ExampleIntegrationProvider(IntegrationProvider):
     """
     An example integration, generally used for testing.
     """
diff --git a/src/sentry/integrations/github/integration.py b/src/sentry/integrations/github/integration.py
index 0dc90470b1..e6b0edc2dd 100644
--- a/src/sentry/integrations/github/integration.py
+++ b/src/sentry/integrations/github/integration.py
@@ -5,7 +5,7 @@ from django.utils.translation import ugettext_lazy as _
 from sentry import http, options
 from sentry.identity.pipeline import IdentityProviderPipeline
 from sentry.identity.github import get_user_info
-from sentry.integrations import Integration, IntegrationMetadata
+from sentry.integrations import IntegrationProvider, IntegrationMetadata
 from sentry.pipeline import NestedPipelineView, PipelineView
 from sentry.utils.http import absolute_uri
 
@@ -27,7 +27,7 @@ metadata = IntegrationMetadata(
 )
 
 
-class GitHubIntegration(Integration):
+class GitHubIntegrationProvider(IntegrationProvider):
     key = 'github'
     name = 'GitHub'
     metadata = metadata
@@ -83,7 +83,8 @@ class GitHubIntegration(Integration):
         identity = state['identity']['data']
 
         user = get_user_info(identity['access_token'])
-        installation = self.get_installation_info(identity['access_token'], state['installation_id'])
+        installation = self.get_installation_info(
+            identity['access_token'], state['installation_id'])
 
         return {
             'name': installation['account']['login'],
diff --git a/src/sentry/integrations/jira/integration.py b/src/sentry/integrations/jira/integration.py
index b62a2f2546..407a6a7920 100644
--- a/src/sentry/integrations/jira/integration.py
+++ b/src/sentry/integrations/jira/integration.py
@@ -2,7 +2,7 @@ from __future__ import absolute_import
 
 from django.utils.translation import ugettext_lazy as _
 
-from sentry.integrations import Integration, IntegrationMetadata
+from sentry.integrations import IntegrationProvider, IntegrationMetadata
 
 alert_link = {
     'text': 'Visit the **Atlassian Marketplace** to install this integration.',
@@ -23,7 +23,7 @@ metadata = IntegrationMetadata(
 )
 
 
-class JiraIntegration(Integration):
+class JiraIntegrationProvider(IntegrationProvider):
     key = 'jira'
     name = 'JIRA'
     metadata = metadata
diff --git a/src/sentry/integrations/slack/integration.py b/src/sentry/integrations/slack/integration.py
index c456aed04b..657eb59fb9 100644
--- a/src/sentry/integrations/slack/integration.py
+++ b/src/sentry/integrations/slack/integration.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 from django.utils.translation import ugettext_lazy as _
 
 from sentry import http
-from sentry.integrations import Integration, IntegrationMetadata
+from sentry.integrations import IntegrationProvider, IntegrationMetadata
 from sentry.pipeline import NestedPipelineView
 from sentry.identity.pipeline import IdentityProviderPipeline
 from sentry.utils.http import absolute_uri
@@ -35,7 +35,7 @@ metadata = IntegrationMetadata(
 )
 
 
-class SlackIntegration(Integration):
+class SlackIntegrationProvider(IntegrationProvider):
     key = 'slack'
     name = 'Slack'
     metadata = metadata
diff --git a/src/sentry/integrations/vsts/integration.py b/src/sentry/integrations/vsts/integration.py
index c8898e94af..ff52d61fe1 100644
--- a/src/sentry/integrations/vsts/integration.py
+++ b/src/sentry/integrations/vsts/integration.py
@@ -5,7 +5,7 @@ from django import forms
 
 from django.utils.translation import ugettext_lazy as _
 from sentry.web.helpers import render_to_response
-from sentry.integrations import Integration, IntegrationMetadata
+from sentry.integrations import IntegrationProvider, IntegrationMetadata
 from sentry.pipeline import NestedPipelineView, PipelineView
 from sentry.identity.pipeline import IdentityProviderPipeline
 from sentry.identity.vsts import VSTSIdentityProvider
@@ -66,7 +66,7 @@ class ProjectForm(forms.Form):
         )
 
 
-class VSTSIntegration(Integration):
+class VSTSIntegrationProvider(IntegrationProvider):
     key = 'vsts'
     name = 'Visual Studio Team Services'
     metadata = metadata
diff --git a/src/sentry/utils/pytest/sentry.py b/src/sentry/utils/pytest/sentry.py
index 2c10ec2f55..6c63a66ba7 100644
--- a/src/sentry/utils/pytest/sentry.py
+++ b/src/sentry/utils/pytest/sentry.py
@@ -198,17 +198,14 @@ def register_extensions():
     plugins.register(TestIssuePlugin2)
 
     from sentry import integrations
-    from sentry.integrations.example import ExampleIntegration
-    from sentry.integrations.slack import SlackIntegration
-    from sentry.integrations.github import GitHubIntegration
-    integrations.register(ExampleIntegration)
-    integrations.register(SlackIntegration)
-    integrations.register(GitHubIntegration)
-
-    from sentry.integrations.vsts import VSTSIntegration
-    integrations.register(ExampleIntegration)
-    integrations.register(SlackIntegration)
-    integrations.register(VSTSIntegration)
+    from sentry.integrations.example import ExampleIntegrationProvider
+    from sentry.integrations.github import GitHubIntegrationProvider
+    from sentry.integrations.slack import SlackIntegrationProvider
+    from sentry.integrations.vsts import VSTSIntegrationProvider
+    integrations.register(ExampleIntegrationProvider)
+    integrations.register(SlackIntegrationProvider)
+    integrations.register(GitHubIntegrationProvider)
+    integrations.register(VSTSIntegrationProvider)
 
     from sentry.plugins import bindings
     from sentry.plugins.providers.dummy import DummyRepositoryProvider
diff --git a/tests/sentry/integrations/github/test_integration.py b/tests/sentry/integrations/github/test_integration.py
index bf2f815a51..22022fe20c 100644
--- a/tests/sentry/integrations/github/test_integration.py
+++ b/tests/sentry/integrations/github/test_integration.py
@@ -6,13 +6,13 @@ from mock import patch
 
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse
 
-from sentry.integrations.github import GitHubIntegration
+from sentry.integrations.github import GitHubIntegrationProvider
 from sentry.models import Identity, IdentityProvider, IdentityStatus, Integration, OrganizationIntegration
 from sentry.testutils import IntegrationTestCase
 
 
 class GitHubIntegrationTest(IntegrationTestCase):
-    provider = GitHubIntegration
+    provider = GitHubIntegrationProvider
 
     @patch('sentry.integrations.github.integration.get_jwt', return_value='jwt_token_1')
     def assert_setup_flow(self, get_jwt, installation_id='install_id_1', user_id='user_id_1'):
diff --git a/tests/sentry/integrations/slack/test_integration.py b/tests/sentry/integrations/slack/test_integration.py
index e937d2d4b1..36afba4598 100644
--- a/tests/sentry/integrations/slack/test_integration.py
+++ b/tests/sentry/integrations/slack/test_integration.py
@@ -5,13 +5,13 @@ import six
 
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse
 
-from sentry.integrations.slack import SlackIntegration
+from sentry.integrations.slack import SlackIntegrationProvider
 from sentry.models import Identity, IdentityProvider, IdentityStatus, Integration, OrganizationIntegration
 from sentry.testutils import IntegrationTestCase
 
 
 class SlackIntegrationTest(IntegrationTestCase):
-    provider = SlackIntegration
+    provider = SlackIntegrationProvider
 
     def assert_setup_flow(self, team_id='TXXXXXXX1', authorizing_user_id='UXXXXXXX1'):
         responses.reset()
diff --git a/tests/sentry/integrations/vsts/test_integration.py b/tests/sentry/integrations/vsts/test_integration.py
index 77ca908042..c9fa74f004 100644
--- a/tests/sentry/integrations/vsts/test_integration.py
+++ b/tests/sentry/integrations/vsts/test_integration.py
@@ -5,7 +5,7 @@ import responses
 from mock import Mock
 from django.http import HttpRequest
 
-from sentry.integrations.vsts import VSTSIntegration, ProjectConfigView, ProjectForm, get_projects
+from sentry.integrations.vsts import VSTSIntegrationProvider, ProjectConfigView, ProjectForm, get_projects
 from sentry.identity.vsts import VSTSIdentityProvider
 from sentry.testutils import TestCase
 
@@ -66,7 +66,7 @@ class ProjectConfigViewTest(TestCase):
 
 class VSTSIntegrationTest(TestCase):
     def setUp(self):
-        self.integration = VSTSIntegration()
+        self.integration = VSTSIntegrationProvider()
 
     def test_build_integration(self):
         state = {
diff --git a/tests/sentry/web/frontend/test_integration_setup.py b/tests/sentry/web/frontend/test_integration_setup.py
index 6d12e86048..afdaf0824c 100644
--- a/tests/sentry/web/frontend/test_integration_setup.py
+++ b/tests/sentry/web/frontend/test_integration_setup.py
@@ -1,12 +1,12 @@
 from __future__ import absolute_import
 
-from sentry.integrations.example import ExampleIntegration, ExampleSetupView
+from sentry.integrations.example import ExampleIntegrationProvider, ExampleSetupView
 from sentry.models import Integration, OrganizationIntegration
 from sentry.testutils import IntegrationTestCase
 
 
 class ExampleIntegrationTest(IntegrationTestCase):
-    provider = ExampleIntegration
+    provider = ExampleIntegrationProvider
 
     def test_basic_flow(self):
         resp = self.client.get(self.init_path)
