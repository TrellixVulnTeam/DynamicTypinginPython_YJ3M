commit f815b061846d05a8cac8c4c9b5e9fd2cf88bba9d
Author: David Cramer <dcramer@gmail.com>
Date:   Tue May 19 13:39:09 2015 -0700

    Ensure columns are quoted

diff --git a/src/sentry/tasks/deletion.py b/src/sentry/tasks/deletion.py
index d595a30ca4..b54dd3ec66 100644
--- a/src/sentry/tasks/deletion.py
+++ b/src/sentry/tasks/deletion.py
@@ -229,15 +229,15 @@ def delete_objects(models, relation, limit=1000, logger=None):
 
 def bulk_delete_objects(model, limit=10000,
                         logger=None, **filters):
+    connection = connections['default']
+    quote_name = connection.ops.quote_name
+
     query = []
     params = []
     for column, value in filters.items():
-        query.append('%s = %%s' % (column,))
+        query.append('%s = %%s' % (quote_name(column),))
         params.append(value)
 
-    connection = connections['default']
-    quote_name = connection.ops.quote_name
-
     if logger is not None:
         logger.info('Removing %r objects where %s=%r', model, column, value)
 
@@ -253,7 +253,6 @@ def bulk_delete_objects(model, limit=10000,
         """ % dict(
             query=' AND '.join(query),
             table=model._meta.db_table,
-            column=quote_name(column),
             limit=limit,
         )
     elif db.is_mysql():
@@ -264,7 +263,6 @@ def bulk_delete_objects(model, limit=10000,
         """ % dict(
             query=' AND '.join(query),
             table=model._meta.db_table,
-            column=quote_name(column),
             limit=limit,
         )
     else:
@@ -275,6 +273,7 @@ def bulk_delete_objects(model, limit=10000,
             has_more = True
         return has_more
 
+    print(query)
     cursor = connection.cursor()
     cursor.execute(query, params)
     return cursor.rowcount > 0
