commit d92917fb4b14c034780d8a5c52a7cc40b1781b9a
Author: David Cramer <dcramer@gmail.com>
Date:   Mon May 7 02:53:59 2012 -0500

    Correct how event history is queried on and optimize queries when only one side of the range is present

diff --git a/sentry/web/frontend/groups.py b/sentry/web/frontend/groups.py
index 7db029dfb8..d46ad62b9d 100644
--- a/sentry/web/frontend/groups.py
+++ b/sentry/web/frontend/groups.py
@@ -211,9 +211,15 @@ def group_list(request, project, view_id=None):
         date_to = None
 
     if date_from:
-        event_list = event_list.filter(event_set__datetime__gte=date_from)
+        if not date_to:
+            event_list = event_list.filter(last_seen__gte=date_from)
+        else:
+            event_list = event_list.filter(messagecountbyminute__date__gte=date_from)
     if date_to:
-        event_list = event_list.filter(event_set__datetime__lte=date_to)
+        if not date_from:
+            event_list = event_list.filter(last_seen__lte=date_to)
+        else:
+            event_list = event_list.filter(messagecountbyminute__date__lte=date_to)
 
     # XXX: this is duplicate in _get_group_list
     sort = request.GET.get('sort')
