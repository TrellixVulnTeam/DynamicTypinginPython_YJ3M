commit 0a16adaa93fe30449bac430523ee85fb819ab771
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 29 10:23:14 2014 -0800

    Handle missing activity entries

diff --git a/src/sentry/templatetags/sentry_activity.py b/src/sentry/templatetags/sentry_activity.py
index b390e2cf65..15c3cd9ad9 100644
--- a/src/sentry/templatetags/sentry_activity.py
+++ b/src/sentry/templatetags/sentry_activity.py
@@ -7,6 +7,8 @@ sentry.templatetags.sentry_activity
 """
 from __future__ import absolute_import
 
+import logging
+
 from django import template
 from django.utils.html import escape, urlize, linebreaks
 from django.utils.safestring import mark_safe
@@ -37,7 +39,11 @@ def render_activity(item):
         # not implemented
         return
 
-    action_str = ACTIVITY_ACTION_STRINGS[item.type]
+    try:
+        action_str = ACTIVITY_ACTION_STRINGS[item.type]
+    except KeyError:
+        logging.warning('Unknown activity type present: %s', item.type)
+        return
 
     if item.type == Activity.CREATE_ISSUE:
         action_str = action_str.format(**item.data)
