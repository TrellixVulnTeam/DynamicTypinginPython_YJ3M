commit a27a08afce5db7b071c8100ea8527af1184d0a00
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Mar 4 13:50:10 2015 -0800

    Handle sourcemap parsing exception elsewhere

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 5b3a70141b..689b2fce63 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -63,6 +63,10 @@ class CannotFetchSource(BadSource):
     pass
 
 
+class UnparseableSourcemap(BadSource):
+    pass
+
+
 def trim_line(line, column=0):
     """
     Trims a line down to a goal of 140 characters, with a little
@@ -250,7 +254,10 @@ def fetch_sourcemap(url, project=None, release=None):
     if body.startswith(")]}'"):
         body = body.split('\n', 1)[1]
 
-    return sourcemap_to_index(body)
+    try:
+        return sourcemap_to_index(body)
+    except (JSONDecodeError, ValueError):
+        raise UnparseableSourcemap('Sourcemap was not parseable')
 
 
 def is_data_uri(url):
@@ -494,9 +501,6 @@ class SourceProcessor(object):
             except BadSource as exc:
                 cache.add_error(filename, unicode(exc))
                 continue
-            except (JSONDecodeError, ValueError):
-                cache.add_error(filename, 'Sourcemap was not parseable')
-                continue
 
             sourcemaps.add(sourcemap_url, sourcemap_idx)
 
