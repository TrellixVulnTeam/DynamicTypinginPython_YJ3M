commit 6986ce79e916343b3d359105443ef8698e2b16a9
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Aug 24 18:53:26 2013 -0700

    Return ID in API as header

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 441013e9d7..2e80235db0 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -268,11 +268,14 @@ class StoreView(APIView):
         response = self.process(request, project, auth, data, **kwargs)
         # We should return a simple 1x1 gif for browser so they don't throw a warning
         js_response = HttpResponse(PIXEL, 'image/gif')
-        js_response.status_code = response.status_code
-        try:
-            js_response['X-Sentry-Error'] = response['X-Sentry-Error']
-        except KeyError:
-            pass
+        if isinstance(response, HttpResponse):
+            js_response.status_code = response.status_code
+            try:
+                js_response['X-Sentry-Error'] = response['X-Sentry-Error']
+            except KeyError:
+                pass
+        else:
+            js_response['X-Sentry-ID'] = response
         return js_response
 
     def rate_limited_response(self, request, project):
