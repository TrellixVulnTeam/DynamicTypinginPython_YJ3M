commit 11d9fc4f2aa5508a38ce69162b1af8114023a526
Author: Ted Kaemming <ted@kaemming.com>
Date:   Tue Oct 13 14:51:50 2015 -0700

    Drop records that cannot be rewritten due to missing data.

diff --git a/src/sentry/digests/notifications.py b/src/sentry/digests/notifications.py
index 38125a54c5..e86c436c8c 100644
--- a/src/sentry/digests/notifications.py
+++ b/src/sentry/digests/notifications.py
@@ -148,5 +148,5 @@ def build_digest(project, records, state=None):
         state = fetch_state(project, records)
 
     state = attach_state(**state)
-    records = map(functools.partial(rewrite_record, **state), records)
+    records = filter(None, map(functools.partial(rewrite_record, **state), records))
     return sort_groups(group_records(records))
