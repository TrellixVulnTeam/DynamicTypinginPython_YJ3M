commit 7347f1263791f59221e1b12fa774739601b7d3b7
Author: Dan Fuller <dfuller@sentry.io>
Date:   Fri Dec 6 13:24:45 2019 -0800

    fix: Treat a null integration the same as not passing an integration when creating an alert rule action
    
    This allows frontend to keep their code simpler/more consistent.

diff --git a/src/sentry/incidents/endpoints/serializers.py b/src/sentry/incidents/endpoints/serializers.py
index 943a5aaba2..a403c49ec9 100644
--- a/src/sentry/incidents/endpoints/serializers.py
+++ b/src/sentry/incidents/endpoints/serializers.py
@@ -245,7 +245,7 @@ class AlertRuleTriggerActionSerializer(CamelSnakeModelSerializer):
         extra_kwargs = {
             "target_identifier": {"required": True},
             "target_display": {"required": False},
-            "integration": {"required": False, "allow_null": False},
+            "integration": {"required": False, "allow_null": True},
         }
 
     def validate_type(self, type):
@@ -308,7 +308,7 @@ class AlertRuleTriggerActionSerializer(CamelSnakeModelSerializer):
                 ).exists():
                     raise serializers.ValidationError("User does not belong to this organization")
         elif attrs.get("type") == AlertRuleTriggerAction.Type.SLACK:
-            if "integration" not in attrs:
+            if not attrs.get("integration"):
                 raise serializers.ValidationError(
                     {"integration": "Integration must be provided for slack"}
                 )
