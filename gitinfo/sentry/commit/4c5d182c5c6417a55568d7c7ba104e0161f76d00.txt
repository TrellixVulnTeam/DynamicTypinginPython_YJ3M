commit 4c5d182c5c6417a55568d7c7ba104e0161f76d00
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Jan 2 11:26:51 2017 -0800

    javascript: don't explode attempting to jump to a bad query selector
    
    Fixes JAVASCRIPT-1NE

diff --git a/src/sentry/static/sentry/app/components/events/eventDataSection.jsx b/src/sentry/static/sentry/app/components/events/eventDataSection.jsx
index 8aeda2f756..dbf42608ec 100644
--- a/src/sentry/static/sentry/app/components/events/eventDataSection.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventDataSection.jsx
@@ -19,8 +19,18 @@ const GroupEventDataSection = React.createClass({
   componentDidMount() {
     if (location.hash) {
         let [, hash] = location.hash.split('#');
-        let anchorElement = hash && document.querySelector('div#' + hash);
-        if (anchorElement) {anchorElement.scrollIntoView(); }
+
+        try {
+          let anchorElement = hash && document.querySelector('div#' + hash);
+          if (anchorElement) { anchorElement.scrollIntoView(); }
+        } catch(e) {
+          // Since we're blindly taking the hash from the url and shoving
+          // it into a querySelector, it's possible that this may
+          // raise an exception if the input is invalid. So let's just ignore
+          // this instead of blowing up.
+          // e.g. `document.querySelector('div#=')`
+          // > Uncaught DOMException: Failed to execute 'querySelector' on 'Document': 'div#=' is not a valid selector.
+        }
     }
   },
 
