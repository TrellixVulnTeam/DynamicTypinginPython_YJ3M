commit 65c880ea2241260b4049ea8af439df9c2e9e65cc
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Feb 24 14:22:22 2015 -0800

    Correct tests

diff --git a/tests/sentry/web/frontend/test_organization_auth_settings.py b/tests/sentry/web/frontend/test_organization_auth_settings.py
index 94a1b09d8b..5ad6911657 100644
--- a/tests/sentry/web/frontend/test_organization_auth_settings.py
+++ b/tests/sentry/web/frontend/test_organization_auth_settings.py
@@ -11,13 +11,16 @@ class OrganizationAuthSettingsPermissionTest(PermissionTestCase):
         self.path = reverse('sentry-organization-auth-settings', args=[self.organization.slug])
 
     def test_teamless_owner_cannot_load(self):
-        self.assert_teamless_owner_cannot_access(self.path)
+        with self.feature('organizations:sso'):
+            self.assert_teamless_owner_cannot_access(self.path)
 
     def test_org_admin_cannot_load(self):
-        self.assert_org_admin_cannot_access(self.path)
+        with self.feature('organizations:sso'):
+            self.assert_org_admin_cannot_access(self.path)
 
     def test_org_owner_can_load(self):
-        self.assert_org_owner_can_access(self.path)
+        with self.feature('organizations:sso'):
+            self.assert_org_owner_can_access(self.path)
 
 
 class OrganizationAuthSettingsTest(TestCase):
@@ -30,14 +33,15 @@ class OrganizationAuthSettingsTest(TestCase):
 
         self.login_as(self.user)
 
-        resp = self.client.get(path)
+        with self.feature('organizations:sso'):
+            resp = self.client.get(path)
 
         assert resp.status_code == 200
 
         self.assertTemplateUsed(resp, 'sentry/organization-auth-settings.html')
 
         assert resp.context['organization'] == organization
-        assert resp.context['provider_list']
+        assert 'provider_list' in resp.context['provider_list']
 
     def test_can_start_auth_flow(self):
         organization = self.create_organization(name='foo', owner=self.user)
@@ -48,6 +52,7 @@ class OrganizationAuthSettingsTest(TestCase):
 
         self.login_as(self.user)
 
-        resp = self.client.post(path, {'provider': 'google'})
+        with self.feature('organizations:sso'):
+            resp = self.client.post(path, {'provider': 'google'})
 
         assert resp.status_code == 302
