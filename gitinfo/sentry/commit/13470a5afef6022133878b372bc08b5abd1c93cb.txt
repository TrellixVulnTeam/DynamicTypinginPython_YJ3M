commit 13470a5afef6022133878b372bc08b5abd1c93cb
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Sep 15 16:40:30 2017 -0700

    ref(visualstudio): Allow configuration of chosen scopes

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 3833ed16ab..062123eafb 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -344,6 +344,11 @@ TRELLO_API_SECRET = ''
 BITBUCKET_CONSUMER_KEY = ''
 BITBUCKET_CONSUMER_SECRET = ''
 
+VISUALSTUDIO_APP_ID = ''
+VISUALSTUDIO_APP_SECRET = ''
+VISUALSTUDIO_CLIENT_SECRET = ''
+VISUALSTUDIO_SCOPES = ['vso.work_write', 'vso.project', 'vso.code', 'vso.release']
+
 SOCIAL_AUTH_PIPELINE = (
     'social_auth.backends.pipeline.user.get_username',
     'social_auth.backends.pipeline.social.social_auth_user',
diff --git a/src/social_auth/backends/visualstudio.py b/src/social_auth/backends/visualstudio.py
index 8ffe9608c8..53fac631c3 100644
--- a/src/social_auth/backends/visualstudio.py
+++ b/src/social_auth/backends/visualstudio.py
@@ -7,6 +7,7 @@ from __future__ import absolute_import
 
 import requests
 
+from django.conf import settings
 from django.core.urlresolvers import reverse
 
 from social_auth.backends import BaseOAuth2, OAuthBackend
@@ -45,7 +46,7 @@ class VisualStudioAuth(BaseOAuth2):
     SETTINGS_SECRET_NAME = 'VISUALSTUDIO_APP_SECRET'
     SETTINGS_CLIENT_SECRET_NAME = 'VISUALSTUDIO_CLIENT_SECRET'
     REDIRECT_STATE = False
-    DEFAULT_SCOPE = ['vso.work_write', 'vso.project', 'vso.code', 'vso.release']
+    DEFAULT_SCOPE = settings.VISUALSTUDIO_SCOPES
     RESPONSE_TYPE = 'Assertion'
 
     def user_data(self, access_token, *args, **kwargs):
