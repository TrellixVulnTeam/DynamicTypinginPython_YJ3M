commit ca3a73c9bd6dda06fe10e54db7f63f49b4224fdc
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Feb 6 13:55:36 2015 -0800

    Clear filter on dropdown close

diff --git a/src/sentry/static/sentry/app/components/assigneeSelector.jsx b/src/sentry/static/sentry/app/components/assigneeSelector.jsx
index 3c515ad7e5..33e58fdf29 100644
--- a/src/sentry/static/sentry/app/components/assigneeSelector.jsx
+++ b/src/sentry/static/sentry/app/components/assigneeSelector.jsx
@@ -44,6 +44,12 @@ var AssigneeSelector = React.createClass({
     this.refs.filter.getDOMNode().focus();
   },
 
+  onDropdownClose() {
+    this.setState({
+      filterQuery: ''
+    });
+  },
+
   render() {
     var agg = this.props.aggregate;
     var loading = AggregateListStore.hasStatus(agg.id, 'assignTo');
@@ -81,6 +87,7 @@ var AssigneeSelector = React.createClass({
           <DropdownLink
             className="assignee-selector-toggle"
             onOpen={this.onDropdownOpen}
+            onClose={this.onDropdownClose}
             title={agg.assignedTo ?
               <img src={agg.assignedTo.avatarUrl} className="avatar" />
               :
diff --git a/src/sentry/static/sentry/app/components/dropdownLink.jsx b/src/sentry/static/sentry/app/components/dropdownLink.jsx
index 97b92ea9fc..49a9fa33fe 100644
--- a/src/sentry/static/sentry/app/components/dropdownLink.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownLink.jsx
@@ -24,6 +24,7 @@ var DropdownButton = React.createClass({
     onClick:   React.PropTypes.func,
     onSelect:  React.PropTypes.func,
     onOpen:    React.PropTypes.func,
+    onClose:   React.PropTypes.func,
     navItem:   React.PropTypes.bool,
     caret:     React.PropTypes.bool,
     disabled:  React.PropTypes.bool,
@@ -121,6 +122,8 @@ var DropdownButton = React.createClass({
   componentDidUpdate(prevProps, prevState) {
     if (this.state.open && !prevState.open && this.props.onOpen) {
       this.props.onOpen();
+    } else if (!this.state.open && prevState.open && this.props.onClose) {
+      this.props.onClose();
     }
   },
 
