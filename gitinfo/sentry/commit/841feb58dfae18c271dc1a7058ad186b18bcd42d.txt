commit 841feb58dfae18c271dc1a7058ad186b18bcd42d
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Aug 31 17:15:52 2010 -0700

    Update message groups to be properly labeled. Added row id as group_PK

diff --git a/sentry/templates/sentry/index.html b/sentry/templates/sentry/index.html
index 96051ebb47..fa32c404b8 100644
--- a/sentry/templates/sentry/index.html
+++ b/sentry/templates/sentry/index.html
@@ -63,7 +63,7 @@
 					{% if message_list.objects %}
 						{{ message_list.paging }}
 						<ul class="messages">
-							{% for message, priority in message_list.objects|with_priority %}
+							{% for group, priority in message_list.objects|with_priority %}
 								{% include "sentry/partial/_group.html" %}
 							{% endfor %}
 						</ul>
diff --git a/sentry/templates/sentry/partial/_group.html b/sentry/templates/sentry/partial/_group.html
index b64a7a2a6a..8df55fa061 100644
--- a/sentry/templates/sentry/partial/_group.html
+++ b/sentry/templates/sentry/partial/_group.html
@@ -1,8 +1,8 @@
-<li class="{% cycle 'row1' 'row2' %} level-{{ message.level }}{% if priority %} priority-{{ priority }}{% endif %}" onclick="window.location.href='{% url sentry-group message.pk %}'">
-	<span class="count">{{ message.times_seen }}</span>
-	<h3><a href="{% url sentry-group message.pk %}">{% if message.view %}{{ message.view }}{% else %}{{ message.message }}{% endif %}</a></h3>
-	<span class="last_seen">{{ message.last_seen|timesince }} ago</span>
-	<p class="message"><span class="tag tag-level">{{ message.get_level_display }}</span> <span class="tag tag-server">{{ message.server_name }}</span> {{ message.error }}</p>
-	<pre class="traceback">{{ message.shortened_traceback }}</pre>
+<li class="{% cycle 'row1' 'row2' %} level-{{ group.level }}{% if priority %} priority-{{ priority }}{% endif %}" onclick="window.location.href='{% url sentry-group group.pk %}'" id="group_{{ group.pk }}">
+	<span class="count">{{ group.times_seen }}</span>
+	<h3><a href="{% url sentry-group group.pk %}">{% if group.view %}{{ group.view }}{% else %}{{ group.message }}{% endif %}</a></h3>
+	<span class="last_seen">{{ group.last_seen|timesince }} ago</span>
+	<p class="message"><span class="tag tag-level">{{ group.get_level_display }}</span> <span class="tag tag-server">{{ group.server_name }}</span> {{ group.error }}</p>
+	<pre class="traceback">{{ group.shortened_traceback }}</pre>
 	<span class="hidden">&raquo;</span>
 </li>
\ No newline at end of file
