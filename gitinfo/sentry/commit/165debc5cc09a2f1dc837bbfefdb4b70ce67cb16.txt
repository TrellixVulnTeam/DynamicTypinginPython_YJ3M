commit 165debc5cc09a2f1dc837bbfefdb4b70ce67cb16
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon May 14 14:55:15 2018 -0700

    fix(settings): Fix dropdownMenu error with breadcrumbs (#8435)
    
    Fixes JAVASCRIPT-381

diff --git a/src/sentry/static/sentry/app/components/dropdownMenu.jsx b/src/sentry/static/sentry/app/components/dropdownMenu.jsx
index a7c6552344..d04afbe0de 100644
--- a/src/sentry/static/sentry/app/components/dropdownMenu.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownMenu.jsx
@@ -70,8 +70,16 @@ class DropdownMenu extends React.Component {
     if (!this.dropdownMenu) return;
     // Dropdown menu itself
     if (this.dropdownMenu.contains(e.target)) return;
+
+    if (!this.dropdownActor) {
+      // Log an error, should be lower priority
+      Raven.captureException(new Error('DropdownMenu does not have "Actor" attached'), {
+        level: 'warning',
+      });
+    }
+
     // Button that controls visibility of dropdown menu
-    if (this.dropdownActor.contains(e.target)) return;
+    if (this.dropdownActor && this.dropdownActor.contains(e.target)) return;
 
     if (typeof shouldIgnoreClickOutside === 'function' && shouldIgnoreClickOutside(e))
       return;
diff --git a/src/sentry/static/sentry/app/views/permissionDenied.jsx b/src/sentry/static/sentry/app/views/permissionDenied.jsx
index be5a97a56b..57b881c5af 100644
--- a/src/sentry/static/sentry/app/views/permissionDenied.jsx
+++ b/src/sentry/static/sentry/app/views/permissionDenied.jsx
@@ -34,7 +34,7 @@ class PermissionDenied extends React.Component {
 
     Raven.captureException(new Error(ERROR_NAME), {
       fingerprint: [ERROR_NAME, route],
-      extraInfo: {
+      extra: {
         route,
         orgFeatures: (organization && organization.features) || [],
         orgAccess: (organization && organization.access) || [],
diff --git a/src/sentry/static/sentry/app/views/settings/components/settingsBreadcrumb/breadcrumbDropdown.jsx b/src/sentry/static/sentry/app/views/settings/components/settingsBreadcrumb/breadcrumbDropdown.jsx
index 1b17db9d42..16145efaf3 100644
--- a/src/sentry/static/sentry/app/views/settings/components/settingsBreadcrumb/breadcrumbDropdown.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/settingsBreadcrumb/breadcrumbDropdown.jsx
@@ -97,13 +97,16 @@ class BreadcrumbDropdown extends React.Component {
         onSelect={onSelect}
         isStyled
       >
-        {({actions, isOpen}) => {
+        {({getActorProps, actions, isOpen}) => {
           return (
             <Crumb
-              hasMenu={hasMenu}
-              onClick={this.handleClickActor.bind(this, actions)}
-              onMouseEnter={this.handleMouseEnterActor.bind(this, actions)}
-              onMouseLeave={this.handleMouseLeave.bind(this, actions)}
+              {...getActorProps({
+                isStyled: true,
+                hasMenu,
+                onClick: this.handleClickActor.bind(this, actions),
+                onMouseEnter: this.handleMouseEnterActor.bind(this, actions),
+                onMouseLeave: this.handleMouseLeave.bind(this, actions),
+              })}
             >
               <span>{name || route.name} </span>
               <Divider isHover={hasMenu && isOpen} isLast={isLast} />
