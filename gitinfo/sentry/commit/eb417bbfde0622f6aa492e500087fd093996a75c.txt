commit eb417bbfde0622f6aa492e500087fd093996a75c
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Feb 22 13:46:36 2013 -0800

    More legible code

diff --git a/src/sentry/interfaces.py b/src/sentry/interfaces.py
index 7066a9f1df..ef46301ef6 100644
--- a/src/sentry/interfaces.py
+++ b/src/sentry/interfaces.py
@@ -437,8 +437,16 @@ class Stacktrace(Interface):
             assert frame.is_valid()
 
     def serialize(self):
+        frames = []
+        for f in self.frames:
+            # compatibility with old serialization
+            if isinstance(f, Frame):
+                frames.append(vars(f))
+            else:
+                frames.append(f)
+
         return {
-            'frames': [(isinstance(f, Frame) and vars(f) or f) for f in self.frames],
+            'frames': frames,
         }
 
     def unserialize(self, data):
