commit 0bb70c694b8b2bc175b2dc8ddeca465560d533dc
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jan 1 18:35:14 2015 -0800

    Implement more actions dropdown

diff --git a/src/sentry/static/sentry/app-react/components/dropdownLink.jsx b/src/sentry/static/sentry/app-react/components/dropdownLink.jsx
index a33c95e504..924c934248 100644
--- a/src/sentry/static/sentry/app-react/components/dropdownLink.jsx
+++ b/src/sentry/static/sentry/app-react/components/dropdownLink.jsx
@@ -23,14 +23,22 @@ var DropdownButton = React.createClass({
     href:      React.PropTypes.string,
     onClick:   React.PropTypes.func,
     onSelect:  React.PropTypes.func,
-    navItem:   React.PropTypes.bool
+    navItem:   React.PropTypes.bool,
+    caret:     React.PropTypes.bool
+  },
+
+  getDefaultProps: function() {
+    return {
+      caret: true
+    };
   },
 
   render: function () {
     var className = 'dropdown-toggle btn';
-
     var renderMethod = this.props.navItem ?
       'renderNavItem' : 'renderButtonGroup';
+    var caret = this.props.caret ?
+      caret = <span aria-hidden="true" className="icon-arrow-down" /> : '';
 
     return this[renderMethod]([
       <a
@@ -45,7 +53,7 @@ var DropdownButton = React.createClass({
         pullRight={null}
         dropup={null}>
         {this.props.title}{' '}
-        <span aria-hidden="true" className="icon-arrow-down" />
+        {caret}
       </a>,
       <DropdownMenu
         ref="menu"
diff --git a/src/sentry/static/sentry/app-react/components/menuItem.jsx b/src/sentry/static/sentry/app-react/components/menuItem.jsx
index ed5f2d4ee0..238df39cd3 100644
--- a/src/sentry/static/sentry/app-react/components/menuItem.jsx
+++ b/src/sentry/static/sentry/app-react/components/menuItem.jsx
@@ -11,7 +11,8 @@ var MenuItem = React.createClass({
     title:     React.PropTypes.string,
     onSelect:  React.PropTypes.func,
     eventKey:  React.PropTypes.any,
-    isActive:  React.PropTypes.bool
+    isActive:  React.PropTypes.bool,
+    noAnchor:  React.PropTypes.bool
   },
 
   getDefaultProps: function () {
@@ -43,7 +44,9 @@ var MenuItem = React.createClass({
     };
 
     var children = null;
-    if (this.props.header) {
+    if (this.props.noAnchor) {
+      children = this.props.children;
+    } else if (this.props.header) {
       children = this.props.children;
     } else if (!this.props.divider) {
       children = this.renderAnchor();
diff --git a/src/sentry/static/sentry/app-react/components/stream.jsx b/src/sentry/static/sentry/app-react/components/stream.jsx
index dbbb5548b4..cd35894592 100644
--- a/src/sentry/static/sentry/app-react/components/stream.jsx
+++ b/src/sentry/static/sentry/app-react/components/stream.jsx
@@ -299,46 +299,53 @@ var Actions = React.createClass({
                aggList={this.props.aggList}>
               <i aria-hidden="true" className="icon-bookmark"></i>
             </ActionLink>
-            <a className="btn btn-default btn-sm hidden-xs action-more dropdown-toggle"
-               disabled={!this.props.anySelected} data-toggle="dropdown">
-              <span className="icon-ellipsis"></span>
-            </a>
 
-            <ul className="dropdown-menu more-menu">
-              <li><ActionLink
-                 className="action-merge"
-                 disabled={!this.props.multiSelected}
-                 onAction={this.props.onMerge}
-                 confirmLabel="Merge"
-                 canActionAll={false}
-                 selectAllActive={this.props.selectAllActive}
-                 aggList={this.props.aggList}>
-                Merge Events
-              </ActionLink></li>
-              <li><ActionLink
-                 className="action-remove-bookmark"
-                 disabled={!this.props.anySelected}
-                 onAction={this.props.onRemoveBookmark}
-                 neverConfirm={true}
-                 actionLabel="remove these {count} events from your bookmarks"
-                 onlyIfBulk={true}
-                 canActionAll={false}
-                 selectAllActive={this.props.selectAllActive}
-                 aggList={this.props.aggList}>
-                Remove from Bookmarks
-              </ActionLink></li>
-              <li className="divider"></li>
-              <li><ActionLink
-                 className="action-delete"
-                 disabled={!this.props.anySelected}
-                 onAction={this.props.onRemoveBookmark}
-                 confirmLabel="Delete"
-                 canActionAll={false}
-                 selectAllActive={this.props.selectAllActive}
-                 aggList={this.props.aggList}>
-                Delete Events
-              </ActionLink></li>
-            </ul>
+            <DropdownLink
+              key="actions"
+              caret={false}
+              disabled={!this.props.anySelected}
+              className="btn-sm btn-default dropdown-toggle hidden-xs action-more"
+              title={<span className="icon-ellipsis"></span>}>
+              <MenuItem noAnchor={true}>
+                <ActionLink
+                   className="action-merge"
+                   disabled={!this.props.multiSelected}
+                   onAction={this.props.onMerge}
+                   confirmLabel="Merge"
+                   canActionAll={false}
+                   selectAllActive={this.props.selectAllActive}
+                   aggList={this.props.aggList}>
+                  Merge Events
+                </ActionLink>
+              </MenuItem>
+              <MenuItem noAnchor={true}>
+                <ActionLink
+                   className="action-remove-bookmark"
+                   disabled={!this.props.anySelected}
+                   onAction={this.props.onRemoveBookmark}
+                   neverConfirm={true}
+                   actionLabel="remove these {count} events from your bookmarks"
+                   onlyIfBulk={true}
+                   canActionAll={false}
+                   selectAllActive={this.props.selectAllActive}
+                   aggList={this.props.aggList}>
+                  Remove from Bookmarks
+                </ActionLink>
+              </MenuItem>
+              <MenuItem divider={true} />
+              <MenuItem noAnchor={true}>
+                <ActionLink
+                   className="action-delete"
+                   disabled={!this.props.anySelected}
+                   onAction={this.props.onRemoveBookmark}
+                   confirmLabel="Delete"
+                   canActionAll={false}
+                   selectAllActive={this.props.selectAllActive}
+                   aggList={this.props.aggList}>
+                  Delete Events
+                </ActionLink>
+              </MenuItem>
+            </DropdownLink>
           </div>
 
           <div className="btn-group">
