commit 9dd149451c4f56679eaad5b3d3687ff63f31cad2
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Apr 26 23:20:06 2016 +0200

    Format SQL params

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
index aa029cba59..16845f2483 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbComponents/query.jsx
@@ -75,6 +75,16 @@ const QueryCrumbComponent = React.createClass({
     });
   },
 
+  formatSqlParam(value) {
+    if (value === null) {
+      return 'NULL';
+    } else if (typeof value === 'string') {
+      return '\'' + value.replace(/\'/g, '\'\'') + '\'';
+    } else {
+      return value.toString();
+    }
+  },
+
   renderQuery() {
     let {query, params} = this.props.data;
 
@@ -93,7 +103,7 @@ const QueryCrumbComponent = React.createClass({
     let queryElements = query.split(/(%s)/).map((item, idx) => {
       return item === '%s'
         ? <span key={idx} className="param">{
-            params ? params[placeholderIdx++] : item}</span>
+            params ? this.formatSqlParam(params[placeholderIdx++]) : item}</span>
         : <span key={idx} className="literal">{item}</span>
       ;
     });
