commit 8f8615632b6e069abf1c492ce7c282bdec49c304
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Oct 15 15:10:53 2019 -0700

    test(enzyme): Change setting for `disableLifecycleMethods` to be default (false) (#15071)
    
    This behavior is confusing for people that would expect lifecycle methods to fire in tests.

diff --git a/tests/js/setup.js b/tests/js/setup.js
index 59817ce598..8a72985b6c 100644
--- a/tests/js/setup.js
+++ b/tests/js/setup.js
@@ -20,7 +20,6 @@ fromEntries.shim();
  * Enzyme configuration
  */
 Enzyme.configure({adapter: new Adapter()});
-Enzyme.configure({disableLifecycleMethods: true});
 
 /**
  * Mock (current) date to alway be below
diff --git a/tests/js/spec/components/forms/rangeField.spec.jsx b/tests/js/spec/components/forms/rangeField.spec.jsx
index 9c82a044a5..08bcdef01a 100644
--- a/tests/js/spec/components/forms/rangeField.spec.jsx
+++ b/tests/js/spec/components/forms/rangeField.spec.jsx
@@ -6,7 +6,9 @@ import {RangeField} from 'app/components/forms';
 describe('RangeField', function() {
   describe('render()', function() {
     it('renders', function() {
-      const wrapper = shallow(<RangeField name="fieldName" />);
+      const wrapper = shallow(<RangeField name="fieldName" />, {
+        disableLifecycleMethods: true,
+      });
       expect(wrapper).toMatchSnapshot();
     });
 
@@ -19,18 +21,22 @@ describe('RangeField', function() {
           step={1}
           snap={false}
           allowedValues={[1, 2, 3]}
-        />
+        />,
+        {disableLifecycleMethods: true}
       );
       expect(wrapper).toMatchSnapshot();
     });
 
     it('renders with value', function() {
-      const wrapper = shallow(<RangeField name="fieldName" value={2} />);
+      const wrapper = shallow(<RangeField name="fieldName" value={2} />, {
+        disableLifecycleMethods: true,
+      });
       expect(wrapper).toMatchSnapshot();
     });
 
     it('renders with form context', function() {
       const wrapper = shallow(<RangeField name="fieldName" />, {
+        disableLifecycleMethods: true,
         context: {
           form: {
             data: {
@@ -45,6 +51,7 @@ describe('RangeField', function() {
 
     it('renders with value=0 in form context', function() {
       const wrapper = shallow(<RangeField name="fieldName" />, {
+        disableLifecycleMethods: true,
         context: {
           form: {
             data: {
diff --git a/tests/js/spec/components/issueDiff.spec.jsx b/tests/js/spec/components/issueDiff.spec.jsx
index e32d12acfe..6e1ac4c9d4 100644
--- a/tests/js/spec/components/issueDiff.spec.jsx
+++ b/tests/js/spec/components/issueDiff.spec.jsx
@@ -13,6 +13,7 @@ describe('IssueDiff', function() {
   it('is loading when initially rendering', function() {
     const wrapper = shallow(
       <IssueDiff
+        api={api}
         baseIssueId="base"
         targetIssueId="target"
         orgId="org-slug"
diff --git a/tests/js/spec/views/discover/result/table.spec.jsx b/tests/js/spec/views/discover/result/table.spec.jsx
index bd268c69ee..e86b0f62f1 100644
--- a/tests/js/spec/views/discover/result/table.spec.jsx
+++ b/tests/js/spec/views/discover/result/table.spec.jsx
@@ -1,12 +1,12 @@
 import React from 'react';
-import {shallow, render} from 'sentry-test/enzyme';
+import {mount, render} from 'sentry-test/enzyme';
 
 import {ResultTable} from 'app/views/discover/result/table';
 
 describe('ResultTable', function() {
   let wrapper;
   beforeEach(function() {
-    wrapper = shallow(
+    wrapper = mount(
       <ResultTable
         organization={TestStubs.Organization({
           projects: [TestStubs.Project({id: '1'})],
diff --git a/tests/js/spec/views/inviteMember/inviteMember.spec.jsx b/tests/js/spec/views/inviteMember/inviteMember.spec.jsx
index 000b4a8be2..25f6bfdd26 100644
--- a/tests/js/spec/views/inviteMember/inviteMember.spec.jsx
+++ b/tests/js/spec/views/inviteMember/inviteMember.spec.jsx
@@ -54,7 +54,10 @@ describe('InviteMember', function() {
   });
 
   it('should render loading', function() {
-    const wrapper = shallow(<InviteMember {...baseProps} />, baseContext);
+    const wrapper = shallow(<InviteMember {...baseProps} />, {
+      ...baseContext,
+      disableLifecycleMethods: true,
+    });
     expect(wrapper).toMatchSnapshot();
   });
 
@@ -90,7 +93,10 @@ describe('InviteMember', function() {
       invitesEnabled: false,
     }));
 
-    const wrapper = shallow(<InviteMember {...baseProps} />, baseContext);
+    const wrapper = shallow(<InviteMember {...baseProps} />, {
+      ...baseContext,
+      disableLifecycleMethods: true,
+    });
     wrapper.setState({
       loading: false,
     });
diff --git a/tests/js/spec/views/organizationGroupDetails/groupSimilar.spec.jsx b/tests/js/spec/views/organizationGroupDetails/groupSimilar.spec.jsx
index 259caad065..14c6a231f0 100644
--- a/tests/js/spec/views/organizationGroupDetails/groupSimilar.spec.jsx
+++ b/tests/js/spec/views/organizationGroupDetails/groupSimilar.spec.jsx
@@ -44,7 +44,11 @@ describe('Issues Similar View', function() {
 
   it('renders initially with loading component', function() {
     const component = shallow(
-      <GroupSimilar project={project} params={{groupId: 'group-id'}} location={{}} />,
+      <GroupSimilar
+        project={project}
+        params={{orgId: 'org-slug', groupId: 'group-id'}}
+        location={{}}
+      />,
       routerContext
     );
 
