commit 6e15e05fa39d9193f4718df42289ec1b1a3717f3
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Fri Sep 11 16:30:28 2015 -0700

    Render user supplied data in UserWidget
    
    fixes GH-1945

diff --git a/src/sentry/static/sentry/app/views/groupDetails/userWidget.jsx b/src/sentry/static/sentry/app/views/groupDetails/userWidget.jsx
index 1f77fd9504..ba3ffe0b56 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/userWidget.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/userWidget.jsx
@@ -1,6 +1,25 @@
+import _ from "underscore";
 import React from "react";
 import Gravatar from "../../components/gravatar";
 
+function keyToName(key) {
+  // Take a given key, and transform it from
+  // camel case to title case
+  if (!key) return '';
+  key = key[0].toUpperCase() + key.slice(1);
+  return key.replace(/_/g, ' ');
+}
+
+function renderLine(key, value, name='') {
+  if (name === '') {
+    name = keyToName(key);
+  }
+  return [
+    <dt key={key + "-label"}>{name}:</dt>,
+    <dd key={key}>{value.toString()}</dd>
+  ];
+}
+
 var UserWidget = React.createClass({
   propTypes: {
     data: React.PropTypes.object.isRequired,
@@ -8,28 +27,25 @@ var UserWidget = React.createClass({
 
   render() {
     var user = this.props.data;
+    var children = [];
+
+    // Handle our native attributes special
+    user.id && children.push(renderLine('id', user.id, 'ID'));
+    user.email && children.push(renderLine('email', user.email));
+    user.username && children.push(renderLine('username', user.username));
+    user.ipAddress && children.push(renderLine('ipAddress', user.ipAddress, 'IP'));
+
+    // We also attach user supplied data as 'user.data'
+    _.each(user.data, function(value, key) {
+      children.push(renderLine(key, value));
+    });
 
     return (
       <div className="user-widget">
         <div className="pull-right"><Gravatar email={user.email} size={84} /></div>
         <h6><span>User</span></h6>
         <dl>
-          {user.id && [
-            <dt key="id-label">ID:</dt>,
-            <dd key="id">{user.id}</dd>
-          ]}
-          {user.email && [
-            <dt key="email-label">Email:</dt>,
-            <dd key="email">{user.email}</dd>
-          ]}
-          {user.username && [
-            <dt key="username-label">Username:</dt>,
-            <dd key="username">{user.username}</dd>
-          ]}
-          {user.ipAddress && [
-            <dt key="ipAddress-label">IP:</dt>,
-            <dd key="ipAddress">{user.ipAddress}</dd>
-          ]}
+          {children}
         </dl>
         <div className="btn-group hidden">
           <a href="#" className="btn btn-xs btn-default">Message User</a>
