commit e23abf1cea8279d20062d616c127f2ba9147a64d
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Thu Oct 13 16:48:29 2016 -0700

    javascript/processor: better error messages for timeout/max-size (#4359)

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index dd76242004..44bd5bc2a1 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -409,11 +409,14 @@ def fetch_file(url, project=None, release=None, allow_scraping=True):
                         error = {
                             'type': EventError.JS_FETCH_TIMEOUT,
                             'url': expose_url(url),
+                            'timeout': settings.SENTRY_SOURCE_FETCH_TIMEOUT,
                         }
                     elif isinstance(exc, OverflowError):
                         error = {
                             'type': EventError.JS_TOO_LARGE,
                             'url': expose_url(url),
+                            # We want size in megabytes to format nicely
+                            'max_size': float(settings.SENTRY_SOURCE_FETCH_MAX_SIZE) / 1024 / 1024,
                         }
                     elif isinstance(exc, (RequestException, ZeroReturnError)):
                         error = {
diff --git a/src/sentry/models/eventerror.py b/src/sentry/models/eventerror.py
index 436585d798..9ea2fa2201 100644
--- a/src/sentry/models/eventerror.py
+++ b/src/sentry/models/eventerror.py
@@ -42,8 +42,8 @@ class EventError(object):
         JS_TOO_MANY_REMOTE_SOURCES: u'The maximum number of remote source requests was made',
         JS_INVALID_SOURCE_ENCODING: u'Source file was not \'{value}\' encoding: {url}',
         JS_INVALID_SOURCEMAP_LOCATION: u'Invalid location in sourcemap: ({column}, {row})',
-        JS_TOO_LARGE: u'Remote file too large',
-        JS_FETCH_TIMEOUT: u'Remote file took too long to load',
+        JS_TOO_LARGE: u'Remote file too large: ({max_size:g}MB, {url})',
+        JS_FETCH_TIMEOUT: u'Remote file took too long to load: ({timeout}s, {url})',
         NATIVE_NO_CRASHED_THREAD: u'No crashed thread found in crash report',
         NATIVE_INTERNAL_FAILURE: u'Internal failure when attempting to symbolicate: {error}',
         NATIVE_NO_SYMSYND: u'The symbolizer is not configured for this system.',
