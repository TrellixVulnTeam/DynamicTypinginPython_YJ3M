commit 8c2b8caf3e173b4f7c4c69a3cb50aa82bb2cf62b
Author: Dan Fuller <dfuller@sentry.io>
Date:   Mon Apr 27 10:33:30 2020 -0700

    chore(subscriptions): Add better logging for subscriptions (#18430)
    
    It can be hard to track down a subscription if you want to investigate it after it has been deleted.
    Adding in extra data so that this is easier.

diff --git a/src/sentry/snuba/query_subscription_consumer.py b/src/sentry/snuba/query_subscription_consumer.py
index dc82652d41..79a00e371c 100644
--- a/src/sentry/snuba/query_subscription_consumer.py
+++ b/src/sentry/snuba/query_subscription_consumer.py
@@ -199,6 +199,12 @@ class QuerySubscriptionConsumer(object):
                 extra={
                     "timestamp": contents["timestamp"],
                     "query_subscription_id": contents["subscription_id"],
+                    "project_id": subscription.project_id,
+                    "subscription_dataset": subscription.dataset,
+                    "subscription_query": subscription.query,
+                    "subscription_aggregation": subscription.aggregation,
+                    "subscription_time_window": subscription.time_window,
+                    "subscription_resolution": subscription.resolution,
                     "contents": contents,
                     "offset": message.offset(),
                     "partition": message.partition(),
