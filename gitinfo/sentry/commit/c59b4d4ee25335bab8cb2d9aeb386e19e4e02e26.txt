commit c59b4d4ee25335bab8cb2d9aeb386e19e4e02e26
Author: Matej Minar <matej.minar@sentry.io>
Date:   Mon Jan 13 10:07:30 2020 +0100

    ref(ts): Convert <QueryCount> to typescript (#16356)

diff --git a/src/sentry/static/sentry/app/components/queryCount.jsx b/src/sentry/static/sentry/app/components/queryCount.tsx
similarity index 67%
rename from src/sentry/static/sentry/app/components/queryCount.jsx
rename to src/sentry/static/sentry/app/components/queryCount.tsx
index f5b98fa0f1..58ee07c5eb 100644
--- a/src/sentry/static/sentry/app/components/queryCount.jsx
+++ b/src/sentry/static/sentry/app/components/queryCount.tsx
@@ -2,14 +2,31 @@ import PropTypes from 'prop-types';
 import React from 'react';
 import classNames from 'classnames';
 
+import {defined} from 'app/utils';
+
+type Props = {
+  count?: number;
+  max?: number;
+  hideIfEmpty?: boolean;
+  inline?: boolean;
+  className?: string;
+};
+
 /**
  * Displays a number count. If `max` is specified, then give representation
  * of count, i.e. "1000+"
  *
  * Render nothing by default if `count` is falsy.
  */
-function QueryCount({className, count, max, hideIfEmpty, inline}) {
-  const countOrMax = typeof max !== 'undefined' && count >= max ? `${max}+` : count;
+
+const QueryCount: React.FC<Props> = ({
+  className,
+  count,
+  max,
+  hideIfEmpty = true,
+  inline = true,
+}) => {
+  const countOrMax = defined(count) && defined(max) && count >= max ? `${max}+` : count;
   const cx = classNames('query-count', className, {
     inline,
   });
@@ -25,7 +42,7 @@ function QueryCount({className, count, max, hideIfEmpty, inline}) {
       <span>)</span>
     </div>
   );
-}
+};
 QueryCount.propTypes = {
   className: PropTypes.string,
   count: PropTypes.number,
@@ -33,9 +50,5 @@ QueryCount.propTypes = {
   hideIfEmpty: PropTypes.bool,
   inline: PropTypes.bool,
 };
-QueryCount.defaultProps = {
-  hideIfEmpty: true,
-  inline: true,
-};
 
 export default QueryCount;
diff --git a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
index c25f050b25..4ad9ab08d5 100644
--- a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
+++ b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
@@ -317,8 +317,6 @@ exports[`Issues Similar View renders with mocked data 1`] = `
               </span>
               <QueryCount
                 count={4}
-                hideIfEmpty={true}
-                inline={true}
               >
                 <div
                   className="query-count inline"
