commit 95e265ba1410420636ed5b785a4044efa7b4ab02
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Aug 7 12:32:53 2018 -0700

    Bad check on app

diff --git a/src/sentry/models/counter.py b/src/sentry/models/counter.py
index b50db8e5ab..61b818b572 100644
--- a/src/sentry/models/counter.py
+++ b/src/sentry/models/counter.py
@@ -96,7 +96,7 @@ def increment_project_counter(project, delta=1):
 # this must be idempotent because it seems to execute twice
 # (at least during test runs)
 def create_counter_function(db, created_models, app, **kwargs):
-    if app is None or app.__name__ != 'sentry.models':
+    if app and app.__name__ != 'sentry.models':
         return
 
     if not is_postgres(db):
diff --git a/src/sentry/receivers/core.py b/src/sentry/receivers/core.py
index 1aba0b5e3a..e1ab98cbcf 100644
--- a/src/sentry/receivers/core.py
+++ b/src/sentry/receivers/core.py
@@ -37,7 +37,7 @@ def handle_db_failure(func):
 
 
 def create_default_projects(created_models, app, verbosity=2, **kwargs):
-    if app is None or app.__name__ != 'sentry.models':
+    if app and app.__name__ != 'sentry.models':
         return
 
     if Project not in created_models:
@@ -129,7 +129,7 @@ def set_sentry_version(latest=None, **kwargs):
 
 
 def create_keys_for_project(instance, created, app=None, **kwargs):
-    if app is None or app.__name__ != 'sentry.models':
+    if app and app.__name__ != 'sentry.models':
         return
 
     if not created or kwargs.get('raw'):
diff --git a/src/sentry/receivers/users.py b/src/sentry/receivers/users.py
index 5e158fbd2b..e21b068d2d 100644
--- a/src/sentry/receivers/users.py
+++ b/src/sentry/receivers/users.py
@@ -8,7 +8,7 @@ from sentry.models import User
 
 def create_first_user(app, created_models, verbosity, db, **kwargs):
     # this is super confusing
-    if app is None or app.__name__ != 'sentry.models':
+    if app and app.__name__ != 'sentry.models':
         return
 
     if User not in created_models:
