commit d5551c1cecb5692b99416d133dbd8fa4cd8b222c
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 13 11:09:29 2010 -0800

    Some cleanup from merge commit (tabs->spaces)

diff --git a/sentry/client/base.py b/sentry/client/base.py
index 3cdf0ee455..0c6d07c986 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -61,11 +61,13 @@ class SentryClient(object):
                 try:
                     urlread(url, post=data, timeout=conf.REMOTE_TIMEOUT)
                 except urllib2.HTTPError, e:
-		    body = e.read()
-                    logger.error('Unable to reach Sentry log server: %s (body: %s, url: %s)' % (e, body, url), exc_info=sys.exc_info(), extra={'body': body, 'remote_url': url})
+                    body = e.read()
+                    logger.error('Unable to reach Sentry log server: %s' % (e,), exc_info=sys.exc_info(),
+                                 extra={'data':{'body': body, 'remote_url': url}})
                     logger.log(kwargs.pop('level', None) or logging.ERROR, kwargs.pop('message', None))
-		except urllib2.URLError, e:
-                    logger.error('Unable to reach Sentry log server: %s (url: %s)' % (e, url), exc_info=sys.exc_info(), extra={'remote_url': url})
+                except urllib2.URLError, e:
+                    logger.error('Unable to reach Sentry log server: %s' % (e,), exc_info=sys.exc_info(),
+                                 extra={'data':{'remote_url': url}})
                     logger.log(kwargs.pop('level', None) or logging.ERROR, kwargs.pop('message', None))
         else:
             from sentry.models import GroupedMessage
diff --git a/sentry/views.py b/sentry/views.py
index f5b9b1330f..2c9adf303d 100644
--- a/sentry/views.py
+++ b/sentry/views.py
@@ -318,10 +318,10 @@ def store(request):
         except zlib.error:
             data = pickle.loads(base64.b64decode(data))
     except Exception, e:
-    # This error should be caught as it suggests that there's a
-    # bug somewhere in the Sentry code.
-
-    logging.exception('Bad data received')
+        logger = logging.getLogger('sentry.server')
+        # This error should be caught as it suggests that there's a
+        # bug somewhere in the Sentry code.
+        logger.exception('Bad data received')
         return HttpResponseForbidden('Bad data')
 
     GroupedMessage.objects.from_kwargs(**data)
