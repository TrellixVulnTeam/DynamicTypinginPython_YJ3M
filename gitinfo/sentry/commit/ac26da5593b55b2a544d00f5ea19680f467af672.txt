commit ac26da5593b55b2a544d00f5ea19680f467af672
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 31 15:09:41 2012 -0800

    Dont attempt to fetch users which dont have a valid password set

diff --git a/src/sentry/utils/auth.py b/src/sentry/utils/auth.py
index 20b518c0c3..5eca524b3e 100644
--- a/src/sentry/utils/auth.py
+++ b/src/sentry/utils/auth.py
@@ -43,13 +43,14 @@ class EmailAuthBackend(ModelBackend):
     Supports authenticating via an email address or a username.
     """
     def authenticate(self, username=None, password=None):
+        qs = User.objects.exclude(password='!')
         try:
             # Assume username is a login and attempt to login.
-            user = User.objects.get(username__iexact=username)
+            user = qs.get(username__iexact=username)
         except User.DoesNotExist:
             if '@' in username:
                 try:
-                    user = User.objects.get(email__iexact=username)
+                    user = qs.get(email__iexact=username)
                 except User.DoesNotExist:
                     return None
             else:
