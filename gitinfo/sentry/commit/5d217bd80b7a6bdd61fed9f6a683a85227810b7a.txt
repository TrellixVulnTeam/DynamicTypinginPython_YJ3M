commit 5d217bd80b7a6bdd61fed9f6a683a85227810b7a
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed May 13 13:09:25 2020 +0200

    test(incidents): Make sure an exception is set for incident tests (#18787)

diff --git a/tests/sentry/incidents/test_logic.py b/tests/sentry/incidents/test_logic.py
index 06927875b1..907c0b0d7e 100644
--- a/tests/sentry/incidents/test_logic.py
+++ b/tests/sentry/incidents/test_logic.py
@@ -247,6 +247,9 @@ class BaseIncidentsTest(SnubaTestCase):
             "fingerprint": [fingerprint],
             "timestamp": iso_format(timestamp),
             "type": "error",
+            # This is necessary because event type error should not exist without
+            # an exception being in the payload
+            "exception": [{"type": "Foo"}],
         }
         if user:
             data["user"] = user
