commit 0ce7a7b396dd62c7e52e355108f8f037335bc5ca
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed May 2 14:19:10 2018 -0700

    api: Hide "No Environment" environment from project environments

diff --git a/src/sentry/api/endpoints/project_environments.py b/src/sentry/api/endpoints/project_environments.py
index f71caea71c..04dca84022 100644
--- a/src/sentry/api/endpoints/project_environments.py
+++ b/src/sentry/api/endpoints/project_environments.py
@@ -18,6 +18,14 @@ class ProjectEnvironmentsEndpoint(ProjectEndpoint):
     def get(self, request, project):
         queryset = EnvironmentProject.objects.filter(
             project=project,
+        ).exclude(
+            # HACK(mattrobenolt): We don't want to surface the
+            # "No Environment" environment to the UI since it
+            # doesn't really exist. This might very likely change
+            # with new tagstore backend in the future, but until
+            # then, we're hiding it since it causes more problems
+            # than it's worth.
+            environment__name='',
         ).select_related('environment').order_by('environment__name')
 
         visibility = request.GET.get('visibility', 'visible')
