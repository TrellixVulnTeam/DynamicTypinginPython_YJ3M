commit d8d8885b9e459d84f10b7bd5b50f422e94c4fe8e
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 8 15:04:10 2015 -0400

    Redirect user only as part of basic auth

diff --git a/src/sentry/web/frontend/auth_login.py b/src/sentry/web/frontend/auth_login.py
index 4f3e3f6a6b..8d64da563b 100644
--- a/src/sentry/web/frontend/auth_login.py
+++ b/src/sentry/web/frontend/auth_login.py
@@ -36,6 +36,9 @@ class AuthLoginView(BaseView):
         return auth_provider
 
     def handle_basic_auth(self, request):
+        if request.user.is_authenticated():
+            return self.redirect(get_login_redirect(request))
+
         form = AuthenticationForm(
             request, request.POST or None,
             captcha=bool(request.session.get('needs_captcha')),
@@ -61,9 +64,6 @@ class AuthLoginView(BaseView):
         return self.respond('sentry/login.html', context)
 
     def handle(self, request):
-        if request.user.is_authenticated():
-            return self.redirect(get_login_redirect(request))
-
         if request.POST.get('op') == 'sso' and request.POST.get('organization'):
             auth_provider = self.get_auth_provider(request.POST['organization'])
             if auth_provider:
