commit 7c621a74344a6db7148f22795d0a9f27dfbe5c7c
Author: Mark Story <mark@sentry.io>
Date:   Tue Mar 10 17:53:00 2020 -0400

    fix(ui) Fix refinement showing up when it shouldn't (#17561)
    
    The refinement column should only show up when a function includes a 3rd
    parameter. Changing to a field should not fill the refinement with
    a non-undefined value.

diff --git a/src/sentry/static/sentry/app/views/eventsV2/table/columnEditRow.tsx b/src/sentry/static/sentry/app/views/eventsV2/table/columnEditRow.tsx
index 9730327116..f9559f5d74 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/table/columnEditRow.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/table/columnEditRow.tsx
@@ -52,13 +52,13 @@ class ColumnEditRow extends React.Component<Props> {
     switch (value.kind) {
       case FieldValueKind.TAG:
       case FieldValueKind.FIELD:
-        currentParams = ['', value.meta.name, ''];
+        currentParams = ['', value.meta.name, undefined];
         break;
       case FieldValueKind.FUNCTION:
         currentParams[0] = value.meta.name;
         // Backwards compatibility for field alias versions of functions.
         if (currentParams[1] && FIELD_ALIASES.includes(currentParams[1])) {
-          currentParams = [currentParams[0], '', ''];
+          currentParams = [currentParams[0], '', undefined];
         }
         break;
       default:
diff --git a/tests/js/spec/views/eventsV2/table/columnEditModal.spec.jsx b/tests/js/spec/views/eventsV2/table/columnEditModal.spec.jsx
index c08988add1..fc195ae956 100644
--- a/tests/js/spec/views/eventsV2/table/columnEditModal.spec.jsx
+++ b/tests/js/spec/views/eventsV2/table/columnEditModal.spec.jsx
@@ -266,7 +266,7 @@ describe('EventsV2 -> ColumnEditModal', function() {
 
       expect(onApply).toHaveBeenCalledWith([
         columns[1],
-        {field: 'title', aggregation: '', refinement: ''},
+        {field: 'title', aggregation: '', refinement: undefined},
       ]);
     });
   });
