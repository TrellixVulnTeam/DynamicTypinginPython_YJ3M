commit ff26aed547635e65d87a4f66f16035d9eb521ed7
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 8 07:52:00 2015 -0700

    Partial implementation of project selector (static design)

diff --git a/src/sentry/static/sentry/app/views/projectDetails.jsx b/src/sentry/static/sentry/app/views/projectDetails.jsx
index 8d2e55923c..88577f286c 100644
--- a/src/sentry/static/sentry/app/views/projectDetails.jsx
+++ b/src/sentry/static/sentry/app/views/projectDetails.jsx
@@ -90,7 +90,7 @@ var ProjectSelector = React.createClass({
     var title = <span>{activeTeam.name} / {activeProject.name}</span>;
 
     return (
-      <DropdownLink title={title} className="project-dropdown"
+      <DropdownLink title={title} topLevelClasses="project-dropdown"
           onOpen={this.onOpen} onClose={this.onClose}>
         <li className="project-filter" key="_filter">
           <input type="text" placeholder="Filter projects"
diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 2ed7e65001..fd6bd5ffbc 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -433,14 +433,10 @@ footer {
       padding-top: 3px;
     }
 
-    .dropdown, .project-dropdown {
+    .dropdown {
       position: static;
       padding-top: 3px;
 
-      .team-name {
-        font-size: 14px;
-      }
-
       .dropdown-menu {
         width: auto;
         left: 0;
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index f19720566d..4664d43678 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -791,78 +791,80 @@ table.integrations {
 */
 
 .project-dropdown {
-  .icon-arrow-down {
-    margin-left: 4px;
-    font-size: 14px !important;
-    color: #ccc;
-    top: 2px;
+  .dropdown-toggle {
+    .icon-arrow-down {
+      margin-left: 4px;
+      font-size: 14px !important;
+      color: #ccc;
+      top: 2px;
+    }
   }
-}
-
-.project-dropdown + .dropdown-menu {
-  width: 460px;
-  padding-bottom: 0;
 
-  .project-filter {
-    width: 100%;
-    float: none;
-    padding: 0;
-    margin-bottom: 10px;
+  .dropdown-menu {
+    width: 460px;
+    padding-bottom: 0;
 
-    input {
-      .form-control();
+    .project-filter {
       width: 100%;
-      border-radius: 3px 3px 0 0;
-      font-size: 15px;
-      border: 0;
-      border-bottom: 1px solid @trim;
-      margin-top: -5px;
-      box-shadow: none;
-      padding-left: 15px;
+      float: none;
+      padding: 0;
+      margin-bottom: 10px;
+
+      input {
+        .form-control();
+        width: 100%;
+        border-radius: 3px 3px 0 0;
+        font-size: 15px;
+        border: 0;
+        border-bottom: 1px solid @trim;
+        margin-top: -5px;
+        box-shadow: none;
+        padding-left: 15px;
+      }
     }
-  }
 
-  .team-name {
-    width: 100%;
-    padding: 5px 15px;
-    font-size: 12px;
-    text-transform: uppercase;
-    letter-spacing: -0.5px;
-  }
+    .team-name {
+      width: 100%;
+      padding: 5px 15px;
+      font-size: 12px;
+      text-transform: uppercase;
+      letter-spacing: -0.5px;
+    }
 
-  .new-project {
-    width: 100%;
-    border-top: 1px solid @trim;
-    padding: 4px 3px;
-    margin-top: 3px;
-    .align-right();
+    .new-project {
+      width: 100%;
+      border-top: 1px solid @trim;
+      padding: 4px 3px;
+      margin-top: 3px;
+      .align-right();
 
-    a {
-      color: #fff !important;
-      display: inline-block;
+      a {
+        color: #fff !important;
+        display: inline-block;
 
-      &:hover {
-        background: darken(@blue, 10);
-      }
+        &:hover {
+          background: darken(@blue, 10);
+        }
 
-      .icon-plus {
-        position: relative;
-        top: 1px;
-        left: -1px;
+        .icon-plus {
+          position: relative;
+          top: 1px;
+          left: -1px;
+        }
       }
     }
-  }
-
-  li {
-    font-size: 15px;
-    width: 50%;
-    float: left;
-    padding: 3px;
 
-    > a {
-      padding: 5px 12px;
-      .truncate();
-      border-radius: 2px;
+    li {
+      font-size: 15px;
+      width: 50%;
+      float: left;
+      padding: 3px;
+
+      > a {
+        padding: 5px 12px;
+        .truncate();
+        border-radius: 2px;
+      }
     }
   }
 }
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index ec3cc138b4..b268db2af5 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -115,9 +115,31 @@
             <a href="{% url 'sentry-organization-home' organization.slug %}">{{ organization.name }}</a>
           </li>
           {% if project %}
-            <li>
-              <a href="{% url 'sentry-stream' project.organization.slug project.slug %}">{{ project.name }}</a>
-            </li>
+          <li class="dropdown project-dropdown">
+            <a class="dropdown-toggle" data-toggle="dropdown"
+                href="{% url 'sentry-stream' project.organization.slug project.slug %}">
+              <span>{{ project.team.name }} / {{ project.name }}</span>
+              <i class="icon-arrow-down"></i>
+            </a>
+            <ul class="dropdown-menu">
+              <li class="project-filter" key="_filter">
+                <input type="text" placeholder="Filter projects"
+                       ref="filter" />
+              </li>
+              {% for n_team, n_project_list in TEAM_LIST %}
+                <li class="team-name">{{ team.name }}</li>
+                {% for n_project in n_project_list %}
+                  <li><a href="{% url 'sentry-stream' organization.slug n_project.slug %}">{{ n_project.name }}</a></li>
+                {% endfor %}
+              {% endfor %}
+              <li class="new-project" key="_new-project">
+                <a class="btn btn-primary"
+                   href="{% url 'sentry-create-project' organization.slug %}">
+                  <span class="icon-plus" /> Create Project
+                </a>
+              </li>
+            </ul>
+          </li>
           {% endif %}
           {% endblock %}
         </ul>
@@ -279,6 +301,12 @@
       </div>
     </div>
     <script type="text/javascript">
+    $(function() {
+      // This is duplicated from <ProjectSelector>
+      $('.project-dropdown').on('shown.bs.dropdown', function(event){
+        $(event.target).find('input[type=text]').focus();
+      });
+    });
     $(function() {
 
       var slideShow = function() {
