commit 57379d70d3dc4e39cd50c78ab270540ee4a2f172
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jan 26 14:33:20 2015 -0800

    Disable Raven in tests

diff --git a/src/sentry/utils/pytest.py b/src/sentry/utils/pytest.py
index 4412a3beec..47d22790ba 100644
--- a/src/sentry/utils/pytest.py
+++ b/src/sentry/utils/pytest.py
@@ -78,6 +78,7 @@ def pytest_configure(config):
     settings.SENTRY_ENABLE_EXPLORE_USERS = True
     settings.SENTRY_ENABLE_EMAIL_REPLIES = True
 
+    # disable error reporting by default
     settings.SENTRY_REDIS_OPTIONS = {'hosts': {0: {'db': 9}}}
 
     settings.SENTRY_ALLOW_ORIGIN = '*'
@@ -90,6 +91,8 @@ def pytest_configure(config):
 
     settings.CELERY_ALWAYS_EAGER = False
 
+    settings.DISABLE_RAVEN = True
+
     settings.CACHES = {
         'default': {
             'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',
diff --git a/src/sentry/utils/raven.py b/src/sentry/utils/raven.py
index c4ba8e5dc6..139bf9520a 100644
--- a/src/sentry/utils/raven.py
+++ b/src/sentry/utils/raven.py
@@ -9,6 +9,8 @@ from sentry.event_manager import EventManager
 
 class SentryInternalClient(DjangoClient):
     def is_enabled(self):
+        if getattr(settings, 'DISABLE_RAVEN', False):
+            return False
         return settings.SENTRY_PROJECT is not None
 
     def send(self, **kwargs):
