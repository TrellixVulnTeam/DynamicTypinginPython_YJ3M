commit e41f46891f3dc15e66bc1c12997ffe8cb2c253f6
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Apr 9 20:54:10 2013 -0700

    Add mute action to group details page

diff --git a/src/sentry/models.py b/src/sentry/models.py
index 6743c3b7ea..bd82b44ac7 100644
--- a/src/sentry/models.py
+++ b/src/sentry/models.py
@@ -37,7 +37,7 @@ from sentry.conf import settings
 from sentry.constants import (STATUS_LEVELS, MEMBER_TYPES,
     MEMBER_OWNER, MEMBER_USER, PLATFORM_TITLES, PLATFORM_LIST,
     STATUS_UNRESOLVED, STATUS_RESOLVED, STATUS_VISIBLE, STATUS_HIDDEN,
-    MINUTE_NORMALIZATION)
+    MINUTE_NORMALIZATION, STATUS_MUTED)
 from sentry.manager import (GroupManager, ProjectManager,
     MetaManager, InstanceMetaManager, SearchDocumentManager, BaseManager,
     UserOptionManager, FilterKeyManager, TeamManager)
@@ -572,6 +572,12 @@ class Group(EventBase):
             return False
         return self.last_seen < timezone.now() - timedelta(hours=int(resolve_age))
 
+    def is_muted(self):
+        return self.get_status() == STATUS_MUTED
+
+    def is_resolved(self):
+        return self.get_status() == STATUS_RESOLVED
+
     def get_status(self):
         if self.status == STATUS_UNRESOLVED and self.is_over_resolve_age():
             return STATUS_RESOLVED
diff --git a/src/sentry/templates/sentry/groups/details.html b/src/sentry/templates/sentry/groups/details.html
index 34a12b6b26..feb7f2863f 100644
--- a/src/sentry/templates/sentry/groups/details.html
+++ b/src/sentry/templates/sentry/groups/details.html
@@ -58,6 +58,10 @@
 
                 {% include "sentry/partial/event_nav.html" %}
             
+                {% if group.is_muted %}
+                    <div class="alert alert-info">This event has been muted. You will not be notified of any changes and it will not show up in the default feed.</div>
+                {% endif %}
+
                 {% if event.has_two_part_message %}
                     <pre id="full-message">{{ event.message }}</pre>
                 {% endif %}
@@ -122,6 +126,12 @@
     {% if can_admin_event %}
         <ul class="nav nav-list">
             <li class="nav-header">{% trans "Actions" %}</li>
+            {% if not group.is_muted %}
+                <li><a href="{% url 'sentry-api-set-group-mute' group.team.slug project.slug group.id %}">{% trans "Mute Event" %}</a></li>
+            {% elif not group.is_resolved %}
+                <li><a href="{% url 'sentry-api-set-group-unresolve' group.team.slug project.slug group.id %}">{% trans "Unmute Event" %}</a></li>
+            {% endif %}
+
             {% for label, link, is_active in group|get_actions:request %}
                 <li><a href="{{ link }}">{{ label }}</a></li>
             {% endfor %}
