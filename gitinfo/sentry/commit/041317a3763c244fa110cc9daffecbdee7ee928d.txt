commit 041317a3763c244fa110cc9daffecbdee7ee928d
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 26 14:02:47 2012 -0800

    Change default plugin enabled status (project level) to be off, and configurable

diff --git a/src/sentry/plugins/base.py b/src/sentry/plugins/base.py
index ce1834fb45..b6213beac4 100644
--- a/src/sentry/plugins/base.py
+++ b/src/sentry/plugins/base.py
@@ -152,6 +152,9 @@ class IPlugin(local):
     # Global enabled state
     enabled = True
 
+    # Should this plugin be enabled by default for projects?
+    project_default_enabled = False
+
     def _get_option_key(self, key):
         return '%s:%s' % (self.get_conf_key(), key)
 
@@ -167,10 +170,14 @@ class IPlugin(local):
             return False
         if not self.can_enable_for_projects():
             return True
+
         if project:
             project_enabled = self.get_option('enabled', project)
-            if project_enabled is False:
-                return False
+            if project_enabled is not None:
+                return project_enabled
+            else:
+                return self.project_default_enabled
+
         return True
 
     def reset_options(self, project=None, user=None):
diff --git a/src/sentry/plugins/bases/tag.py b/src/sentry/plugins/bases/tag.py
index 16584859d7..378f1e3ff9 100644
--- a/src/sentry/plugins/bases/tag.py
+++ b/src/sentry/plugins/bases/tag.py
@@ -12,6 +12,7 @@ from sentry.plugins import Plugin
 class TagPlugin(Plugin):
     tag = None
     tag_label = None
+    project_default_enabled = True
 
     def get_tag_values(self, event):
         """
diff --git a/src/sentry/plugins/sentry_interface_types/models.py b/src/sentry/plugins/sentry_interface_types/models.py
index ca73e04b3c..07d4a6bbca 100644
--- a/src/sentry/plugins/sentry_interface_types/models.py
+++ b/src/sentry/plugins/sentry_interface_types/models.py
@@ -24,6 +24,7 @@ class InterfaceTypePlugin(TagPlugin):
     author = "Sentry Team"
     author_url = "https://github.com/getsentry/sentry"
     tag = 'interface_type'
+    project_default_enabled = False
 
     def get_tag_values(self, event):
         return [i.rsplit('.', 1)[-1] for i in event.interfaces.iterkeys()]
diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 76e4515bde..19d8faa476 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -58,7 +58,7 @@ class MailProcessor(NotificationPlugin):
     version = sentry.VERSION
     author = "Sentry Team"
     author_url = "https://github.com/getsentry/sentry"
-
+    project_default_enabled = True
     project_conf_form = MailConfigurationForm
 
     def __init__(self, min_level=NOTSET, include_loggers=NOTSET, exclude_loggers=NOTSET,
diff --git a/src/sentry/plugins/sentry_servers/models.py b/src/sentry/plugins/sentry_servers/models.py
index 076084625f..98249627fb 100644
--- a/src/sentry/plugins/sentry_servers/models.py
+++ b/src/sentry/plugins/sentry_servers/models.py
@@ -24,6 +24,7 @@ class ServersPlugin(TagPlugin):
     author_url = "https://github.com/getsentry/sentry"
     tag = 'server_name'
     tag_label = _('Server Name')
+    project_default_enabled = True
 
     def get_tag_values(self, event):
         if not event.server_name:
diff --git a/src/sentry/plugins/sentry_urls/models.py b/src/sentry/plugins/sentry_urls/models.py
index fd7d4b1db4..6376155f29 100644
--- a/src/sentry/plugins/sentry_urls/models.py
+++ b/src/sentry/plugins/sentry_urls/models.py
@@ -25,6 +25,7 @@ class UrlsPlugin(TagPlugin):
     author_url = "https://github.com/getsentry/sentry"
     tag = 'url'
     tag_label = _('URL')
+    project_default_enabled = True
 
     def get_tag_values(self, event):
         http = event.interfaces.get('sentry.interfaces.Http')
diff --git a/src/sentry/plugins/sentry_useragents/models.py b/src/sentry/plugins/sentry_useragents/models.py
index 81c0f54588..45170216af 100644
--- a/src/sentry/plugins/sentry_useragents/models.py
+++ b/src/sentry/plugins/sentry_useragents/models.py
@@ -18,6 +18,7 @@ class UserAgentPlugin(TagPlugin):
     version = sentry.VERSION
     author = "Sentry Team"
     author_url = "https://github.com/getsentry/sentry"
+    project_default_enabled = True
 
     def get_tag_values(self, event):
         http = event.interfaces.get('sentry.interfaces.Http')
