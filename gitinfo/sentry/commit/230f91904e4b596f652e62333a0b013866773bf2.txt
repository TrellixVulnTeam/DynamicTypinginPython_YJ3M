commit 230f91904e4b596f652e62333a0b013866773bf2
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Oct 4 16:54:15 2018 -0700

    ref: Add singleLineRenderer to marked utils (#10011)

diff --git a/src/sentry/static/sentry/app/components/modals/integrationDetailsModal.jsx b/src/sentry/static/sentry/app/components/modals/integrationDetailsModal.jsx
index 47c5ad6503..0362e08f2d 100644
--- a/src/sentry/static/sentry/app/components/modals/integrationDetailsModal.jsx
+++ b/src/sentry/static/sentry/app/components/modals/integrationDetailsModal.jsx
@@ -1,7 +1,6 @@
 import {Box, Flex} from 'grid-emotion';
 import PropTypes from 'prop-types';
 import React from 'react';
-import marked from 'marked';
 import styled from 'react-emotion';
 
 import {t} from 'app/locale';
@@ -15,13 +14,10 @@ import PluginIcon from 'app/plugins/components/pluginIcon';
 import SentryTypes from 'app/sentryTypes';
 import Tag from 'app/views/settings/components/tag.jsx';
 import space from 'app/styles/space';
+import marked, {singleLineRenderer} from 'app/utils/marked';
 
 const EARLY_ADOPTER_INTEGRATIONS = [];
 
-const noParagraphRenderer = new marked.Renderer();
-noParagraphRenderer.paragraph = s => s;
-const markedSimple = text => marked(text, {renderer: noParagraphRenderer});
-
 /**
  * In sentry.io the features list supports rendering plan details. If the hook
  * is not registered for rendering the features list like this simply show the
@@ -132,7 +128,7 @@ class IntegrationDetailsModal extends React.Component {
           </Flex>
         </Flex>
         <Description dangerouslySetInnerHTML={{__html: description}} />
-        <FeatureList {...featureProps} formatter={markedSimple} />
+        <FeatureList {...featureProps} formatter={singleLineRenderer} />
 
         <Metadata>
           <AuthorName flex={1}>{t('By %s', provider.metadata.author)}</AuthorName>
@@ -144,7 +140,7 @@ class IntegrationDetailsModal extends React.Component {
 
         {alerts.map((alert, i) => (
           <Alert key={i} type={alert.type} icon={alert.icon}>
-            <span dangerouslySetInnerHTML={{__html: markedSimple(alert.text)}} />
+            <span dangerouslySetInnerHTML={{__html: singleLineRenderer(alert.text)}} />
           </Alert>
         ))}
 
diff --git a/src/sentry/static/sentry/app/utils/marked.jsx b/src/sentry/static/sentry/app/utils/marked.jsx
index 1ac585e5d4..a2a31fe756 100644
--- a/src/sentry/static/sentry/app/utils/marked.jsx
+++ b/src/sentry/static/sentry/app/utils/marked.jsx
@@ -54,4 +54,11 @@ marked.setOptions({
   sanitize: true,
 });
 
+const noParagraphRenderer = new Renderer();
+noParagraphRenderer.paragraph = s => s;
+
+const singleLineRenderer = (text, options) =>
+  marked(text, {...options, renderer: noParagraphRenderer});
+
 export default marked;
+export {singleLineRenderer};
