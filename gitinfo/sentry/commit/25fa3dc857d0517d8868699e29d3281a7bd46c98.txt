commit 25fa3dc857d0517d8868699e29d3281a7bd46c98
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Jul 15 11:49:20 2010 -0700

    Add --logger option to cleanup-dblog

diff --git a/djangodblog/__init__.py b/djangodblog/__init__.py
index ca267e2385..5f6dac1ea5 100644
--- a/djangodblog/__init__.py
+++ b/djangodblog/__init__.py
@@ -1 +1 @@
-__version__ = (2, 0, 1)
\ No newline at end of file
+__version__ = (2, 0, 2)
\ No newline at end of file
diff --git a/djangodblog/management/commands/cleanup_dblog.py b/djangodblog/management/commands/cleanup_dblog.py
index caf3ab606f..bfe1f2df5f 100644
--- a/djangodblog/management/commands/cleanup_dblog.py
+++ b/djangodblog/management/commands/cleanup_dblog.py
@@ -8,7 +8,8 @@ import datetime
 
 class Command(BaseCommand):
     option_list = BaseCommand.option_list + (
-        make_option('--days', action='store',  dest='cutoff'),
+        make_option('--days', action='store', dest='days'),
+        make_option('--logger', action='store', dest='logger')
     )
     
     help = 'Cleans up old entries in the log.'
@@ -16,5 +17,9 @@ class Command(BaseCommand):
     def handle(self, *args, **options):
         ts = datetime.datetime.now() - datetime.timedelta(days=options.get('days', 30))
         
-        ErrorBatch.objects.filter(last_seen__lte=ts).delete()
-        Error.objects.filter(datetime__lte=ts).delete()
\ No newline at end of file
+        base_kwargs = {}
+        if options.get('logger'):
+            base_kwargs['logger'] = options['logger']
+        
+        ErrorBatch.objects.filter(last_seen__lte=ts, **base_kwargs).delete()
+        Error.objects.filter(datetime__lte=ts, **base_kwargs).delete()
\ No newline at end of file
