commit 3278cc23a8657268424a81b5b5a79dc9f86249cd
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Jul 26 11:27:37 2019 -0700

    feat(ui): More padding fixes for Group "extras" (#14135)
    
    e.g. Annotations, loggers, etc

diff --git a/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx b/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
index 50f2fc00c4..436082cd09 100644
--- a/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
+++ b/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
@@ -1,4 +1,3 @@
-import {Flex, Box} from 'grid-emotion';
 import {Link, withRouter} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
@@ -51,7 +50,7 @@ class EventOrGroupExtraDetails extends React.Component {
     const issuesPath = `/organizations/${params.orgId}/issues/`;
 
     return (
-      <GroupExtra align="center">
+      <GroupExtra>
         {shortId && (
           <GroupShortId
             shortId={shortId}
@@ -62,40 +61,36 @@ class EventOrGroupExtraDetails extends React.Component {
             }
           />
         )}
-        <Times lastSeen={lastSeen} firstSeen={firstSeen} />
-        <GroupExtraCommentsAndLogger>
-          {numComments > 0 && (
-            <Box mr={2}>
-              <CommentsLink to={`${issuesPath}${id}/activity/`} className="comments">
-                <GroupExtraIcon
-                  src="icon-comment-sm"
-                  mentioned={
-                    subscriptionDetails && subscriptionDetails.reason === 'mentioned'
-                  }
-                />
-                <span>{numComments}</span>
-              </CommentsLink>
-            </Box>
-          )}
-          {logger && (
-            <LoggerAnnotation>
-              <Link
-                to={{
-                  pathname: issuesPath,
-                  query: {
-                    query: 'logger:' + logger,
-                  },
-                }}
-              >
-                {logger}
-              </Link>
-            </LoggerAnnotation>
-          )}
-        </GroupExtraCommentsAndLogger>
+        <StyledTimes lastSeen={lastSeen} firstSeen={firstSeen} />
+        {numComments > 0 && (
+          <CommentsLink to={`${issuesPath}${id}/activity/`} className="comments">
+            <GroupExtraIcon
+              src="icon-comment-sm"
+              mentioned={
+                subscriptionDetails && subscriptionDetails.reason === 'mentioned'
+              }
+            />
+            <span>{numComments}</span>
+          </CommentsLink>
+        )}
+        {logger && (
+          <LoggerAnnotation>
+            <Link
+              to={{
+                pathname: issuesPath,
+                query: {
+                  query: 'logger:' + logger,
+                },
+              }}
+            >
+              {logger}
+            </Link>
+          </LoggerAnnotation>
+        )}
         {annotations &&
           annotations.map((annotation, key) => {
             return (
-              <EventAnnotation
+              <AnnotationNoMargin
                 dangerouslySetInnerHTML={{
                   __html: annotation,
                 }}
@@ -112,7 +107,12 @@ class EventOrGroupExtraDetails extends React.Component {
   }
 }
 
-const GroupExtra = styled(Flex)`
+const GroupExtra = styled('div')`
+  display: grid;
+  grid-auto-flow: column;
+  grid-gap: ${space(2)};
+  justify-content: start;
+  align-items: center;
   color: ${p => p.theme.gray3};
   font-size: 12px;
   position: relative;
@@ -122,18 +122,15 @@ const GroupExtra = styled(Flex)`
   }
 `;
 
-const GroupExtraCommentsAndLogger = styled(Flex)`
-  color: ${p => p.theme.gray4};
+const StyledTimes = styled(Times)`
+  margin-right: 0;
 `;
 
 const CommentsLink = styled(Link)`
-  display: flex;
-  align-items: center;
-  flex-shrink: 0;
+  color: ${p => p.theme.gray4};
 `;
 
 const GroupShortId = styled(ShortId)`
-  margin-right: ${space(2)};
   flex-shrink: 0;
   font-size: 12px;
   color: ${p => p.theme.gray3};
@@ -145,8 +142,13 @@ const GroupExtraIcon = styled(InlineSvg)`
   margin-right: 4px;
 `;
 
-const LoggerAnnotation = styled(EventAnnotation)`
-  margin-right: ${space(2)};
+const AnnotationNoMargin = styled(EventAnnotation)`
+  margin-left: 0;
+  padding-left: ${space(2)};
+`;
+
+const LoggerAnnotation = styled(AnnotationNoMargin)`
+  color: ${p => p.theme.gray4};
 `;
 
 export default withRouter(EventOrGroupExtraDetails);
diff --git a/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx b/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx
index 97901f8719..11deb6aec9 100644
--- a/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx
+++ b/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx
@@ -3,7 +3,6 @@ import styled from 'react-emotion';
 import space from 'app/styles/space';
 
 const EventAnnotation = styled('span')`
-  margin-left: ${space(1)};
   font-size: ${p => p.theme.fontSizeSmall};
   border-left: 1px solid ${p => p.theme.borderLight};
   padding-left: ${space(1)};
diff --git a/src/sentry/static/sentry/app/components/group/times.jsx b/src/sentry/static/sentry/app/components/group/times.jsx
index 67ccf8cd08..3ea27e3c7e 100644
--- a/src/sentry/static/sentry/app/components/group/times.jsx
+++ b/src/sentry/static/sentry/app/components/group/times.jsx
@@ -5,7 +5,6 @@ import PropTypes from 'prop-types';
 import {t} from 'app/locale';
 import InlineSvg from 'app/components/inlineSvg';
 import TimeSince from 'app/components/timeSince';
-import space from 'app/styles/space';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 
 /**
@@ -39,7 +38,6 @@ Times.propTypes = {
 };
 
 const Container = styled('div')`
-  margin-right: ${space(2)};
   flex-shrink: 1;
   min-width: 0; /* flex-hack for overflow-ellipsised children */
 `;
@@ -49,7 +47,6 @@ const GroupTimeIcon = styled(InlineSvg)`
   with a number, and numbers do not have descenders */
   font-size: 11px;
   margin-right: 4px;
-  transform: translateY(-1px);
 `;
 
 export default Times;
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
index 03f6d4b3ff..951b6bc64f 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
@@ -19,6 +19,7 @@ import SeenByList from 'app/components/seenByList';
 import SentryTypes from 'app/sentryTypes';
 import ShortId from 'app/components/shortId';
 import Tooltip from 'app/components/tooltip';
+import space from 'app/styles/space';
 import withApi from 'app/utils/withApi';
 
 import GroupActions from './actions';
@@ -109,7 +110,7 @@ class GroupHeader extends React.Component {
               annotations={
                 <React.Fragment>
                   {group.logger && (
-                    <EventAnnotation>
+                    <EventAnnotationWithSpace>
                       <Link
                         to={{
                           pathname: baseUrl,
@@ -118,10 +119,10 @@ class GroupHeader extends React.Component {
                       >
                         {group.logger}
                       </Link>
-                    </EventAnnotation>
+                    </EventAnnotationWithSpace>
                   )}
                   {group.annotations.map((annotation, i) => (
-                    <EventAnnotation
+                    <EventAnnotationWithSpace
                       key={i}
                       dangerouslySetInnerHTML={{__html: annotation}}
                     />
@@ -250,6 +251,9 @@ const StyledProjectBadge = styled(ProjectBadge)`
   flex-shrink: 0;
 `;
 
+const EventAnnotationWithSpace = styled(EventAnnotation)`
+  margin-left: ${space(1)};
+`;
 export {GroupHeader};
 
 export default withApi(GroupHeader);
diff --git a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
index 5da5b293fe..ac4df3f055 100644
--- a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
+++ b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
@@ -1224,18 +1224,29 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                               type="error"
                               userCount={3}
                             >
-                              <GroupExtra
-                                align="center"
-                              >
-                                <Base
-                                  align="center"
-                                  className="css-1iq5qji-GroupExtra eec9orn0"
+                              <GroupExtra>
+                                <div
+                                  className="css-5nsonj-GroupExtra eec9orn0"
                                 >
-                                  <div
-                                    className="css-1iq5qji-GroupExtra eec9orn0"
-                                    is={null}
+                                  <GroupShortId
+                                    avatar={
+                                      <ProjectBadge
+                                        avatarSize={14}
+                                        hideAvatar={false}
+                                        hideName={true}
+                                        hideOverflow={true}
+                                        project={
+                                          Object {
+                                            "id": "123",
+                                            "name": "Internal",
+                                            "slug": "project-slug",
+                                          }
+                                        }
+                                      />
+                                    }
+                                    shortId="INTERNAL-4G"
                                   >
-                                    <GroupShortId
+                                    <ShortId
                                       avatar={
                                         <ProjectBadge
                                           avatarSize={14}
@@ -1251,9 +1262,10 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                           }
                                         />
                                       }
+                                      className="css-1r3d0zi-GroupShortId eec9orn3"
                                       shortId="INTERNAL-4G"
                                     >
-                                      <ShortId
+                                      <StyledShortId
                                         avatar={
                                           <ProjectBadge
                                             avatarSize={14}
@@ -1269,38 +1281,39 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                             }
                                           />
                                         }
-                                        className="css-yd3bt1-GroupShortId eec9orn3"
+                                        className="css-1r3d0zi-GroupShortId eec9orn3"
+                                        onClick={[Function]}
                                         shortId="INTERNAL-4G"
                                       >
-                                        <StyledShortId
-                                          avatar={
-                                            <ProjectBadge
-                                              avatarSize={14}
-                                              hideAvatar={false}
-                                              hideName={true}
-                                              hideOverflow={true}
-                                              project={
-                                                Object {
-                                                  "id": "123",
-                                                  "name": "Internal",
-                                                  "slug": "project-slug",
-                                                }
-                                              }
-                                            />
-                                          }
-                                          className="css-yd3bt1-GroupShortId eec9orn3"
+                                        <div
+                                          className="eec9orn3 css-h7na88-StyledShortId-GroupShortId ebuncw00"
                                           onClick={[Function]}
-                                          shortId="INTERNAL-4G"
                                         >
-                                          <div
-                                            className="eec9orn3 css-1p4nhlc-StyledShortId-GroupShortId ebuncw00"
-                                            onClick={[Function]}
+                                          <ProjectBadge
+                                            avatarSize={14}
+                                            hideAvatar={false}
+                                            hideName={true}
+                                            hideOverflow={true}
+                                            project={
+                                              Object {
+                                                "id": "123",
+                                                "name": "Internal",
+                                                "slug": "project-slug",
+                                              }
+                                            }
                                           >
-                                            <ProjectBadge
+                                            <BaseBadge
+                                              avatarProps={Object {}}
                                               avatarSize={14}
+                                              displayName={
+                                                <BadgeDisplayName
+                                                  hideOverflow={true}
+                                                >
+                                                  project-slug
+                                                </BadgeDisplayName>
+                                              }
                                               hideAvatar={false}
                                               hideName={true}
-                                              hideOverflow={true}
                                               project={
                                                 Object {
                                                   "id": "123",
@@ -1309,39 +1322,32 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                                 }
                                               }
                                             >
-                                              <BaseBadge
-                                                avatarProps={Object {}}
-                                                avatarSize={14}
-                                                displayName={
-                                                  <BadgeDisplayName
-                                                    hideOverflow={true}
-                                                  >
-                                                    project-slug
-                                                  </BadgeDisplayName>
-                                                }
-                                                hideAvatar={false}
-                                                hideName={true}
-                                                project={
-                                                  Object {
-                                                    "id": "123",
-                                                    "name": "Internal",
-                                                    "slug": "project-slug",
-                                                  }
-                                                }
+                                              <Flex
+                                                align="center"
                                               >
-                                                <Flex
+                                                <Base
                                                   align="center"
+                                                  className="css-5ipae5"
                                                 >
-                                                  <Base
-                                                    align="center"
+                                                  <div
                                                     className="css-5ipae5"
+                                                    is={null}
                                                   >
-                                                    <div
-                                                      className="css-5ipae5"
-                                                      is={null}
+                                                    <StyledAvatar
+                                                      className="css-0"
+                                                      hasTooltip={false}
+                                                      hideName={true}
+                                                      project={
+                                                        Object {
+                                                          "id": "123",
+                                                          "name": "Internal",
+                                                          "slug": "project-slug",
+                                                        }
+                                                      }
+                                                      size={14}
                                                     >
-                                                      <StyledAvatar
-                                                        className="css-0"
+                                                      <Avatar
+                                                        className="css-f5iyic-StyledAvatar e165dl3i0"
                                                         hasTooltip={false}
                                                         hideName={true}
                                                         project={
@@ -1353,7 +1359,7 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                                         }
                                                         size={14}
                                                       >
-                                                        <Avatar
+                                                        <ProjectAvatar
                                                           className="css-f5iyic-StyledAvatar e165dl3i0"
                                                           hasTooltip={false}
                                                           hideName={true}
@@ -1366,120 +1372,112 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                                           }
                                                           size={14}
                                                         >
-                                                          <ProjectAvatar
+                                                          <PlatformList
                                                             className="css-f5iyic-StyledAvatar e165dl3i0"
+                                                            consistentWidth={false}
+                                                            direction="right"
                                                             hasTooltip={false}
                                                             hideName={true}
-                                                            project={
-                                                              Object {
-                                                                "id": "123",
-                                                                "name": "Internal",
-                                                                "slug": "project-slug",
-                                                              }
-                                                            }
+                                                            max={1}
+                                                            platforms={Array []}
                                                             size={14}
                                                           >
-                                                            <PlatformList
+                                                            <PlatformIcons
                                                               className="css-f5iyic-StyledAvatar e165dl3i0"
                                                               consistentWidth={false}
                                                               direction="right"
-                                                              hasTooltip={false}
-                                                              hideName={true}
                                                               max={1}
-                                                              platforms={Array []}
                                                               size={14}
                                                             >
-                                                              <PlatformIcons
-                                                                className="css-f5iyic-StyledAvatar e165dl3i0"
-                                                                consistentWidth={false}
+                                                              <div
+                                                                className="e165dl3i0 css-7hp7lr-PlatformIcons-StyledAvatar ezvce7z0"
                                                                 direction="right"
                                                                 max={1}
                                                                 size={14}
                                                               >
-                                                                <div
-                                                                  className="e165dl3i0 css-7hp7lr-PlatformIcons-StyledAvatar ezvce7z0"
-                                                                  direction="right"
-                                                                  max={1}
+                                                                <StyledPlatformIcon
+                                                                  platform="default"
                                                                   size={14}
                                                                 >
-                                                                  <StyledPlatformIcon
+                                                                  <Component
+                                                                    className="css-15yyc0n-StyledPlatformIcon ezvce7z1"
                                                                     platform="default"
                                                                     size={14}
                                                                   >
-                                                                    <Component
+                                                                    <Platformicon
                                                                       className="css-15yyc0n-StyledPlatformIcon ezvce7z1"
                                                                       platform="default"
-                                                                      size={14}
+                                                                      size="14px"
                                                                     >
-                                                                      <Platformicon
+                                                                      <img
                                                                         className="css-15yyc0n-StyledPlatformIcon ezvce7z1"
-                                                                        platform="default"
-                                                                        size="14px"
-                                                                      >
-                                                                        <img
-                                                                          className="css-15yyc0n-StyledPlatformIcon ezvce7z1"
-                                                                          height="14px"
-                                                                          src={
-                                                                            Object {
-                                                                              "default": Object {
-                                                                                "id": "test",
-                                                                                "viewBox": Object {},
-                                                                              },
-                                                                            }
+                                                                        height="14px"
+                                                                        src={
+                                                                          Object {
+                                                                            "default": Object {
+                                                                              "id": "test",
+                                                                              "viewBox": Object {},
+                                                                            },
                                                                           }
-                                                                          width="14px"
-                                                                        />
-                                                                      </Platformicon>
-                                                                    </Component>
-                                                                  </StyledPlatformIcon>
-                                                                </div>
-                                                              </PlatformIcons>
-                                                            </PlatformList>
-                                                          </ProjectAvatar>
-                                                        </Avatar>
-                                                      </StyledAvatar>
-                                                      <DisplayNameAndDescription>
-                                                        <Base
+                                                                        }
+                                                                        width="14px"
+                                                                      />
+                                                                    </Platformicon>
+                                                                  </Component>
+                                                                </StyledPlatformIcon>
+                                                              </div>
+                                                            </PlatformIcons>
+                                                          </PlatformList>
+                                                        </ProjectAvatar>
+                                                      </Avatar>
+                                                    </StyledAvatar>
+                                                    <DisplayNameAndDescription>
+                                                      <Base
+                                                        className="css-1h9j57p-DisplayNameAndDescription e165dl3i1"
+                                                      >
+                                                        <div
                                                           className="css-1h9j57p-DisplayNameAndDescription e165dl3i1"
-                                                        >
-                                                          <div
-                                                            className="css-1h9j57p-DisplayNameAndDescription e165dl3i1"
-                                                            is={null}
-                                                          />
-                                                        </Base>
-                                                      </DisplayNameAndDescription>
-                                                    </div>
-                                                  </Base>
-                                                </Flex>
-                                              </BaseBadge>
-                                            </ProjectBadge>
-                                            <StyledAutoSelectText
-                                              avatar={true}
+                                                          is={null}
+                                                        />
+                                                      </Base>
+                                                    </DisplayNameAndDescription>
+                                                  </div>
+                                                </Base>
+                                              </Flex>
+                                            </BaseBadge>
+                                          </ProjectBadge>
+                                          <StyledAutoSelectText
+                                            avatar={true}
+                                          >
+                                            <AutoSelectText
+                                              className="css-1m1w4wi-StyledAutoSelectText ebuncw01"
                                             >
-                                              <AutoSelectText
-                                                className="css-1m1w4wi-StyledAutoSelectText ebuncw01"
+                                              <div
+                                                className="auto-select-text css-1m1w4wi-StyledAutoSelectText ebuncw01"
+                                                onClick={[Function]}
                                               >
-                                                <div
-                                                  className="auto-select-text css-1m1w4wi-StyledAutoSelectText ebuncw01"
-                                                  onClick={[Function]}
-                                                >
-                                                  <span>
-                                                    INTERNAL-4G
-                                                  </span>
-                                                </div>
-                                              </AutoSelectText>
-                                            </StyledAutoSelectText>
-                                          </div>
-                                        </StyledShortId>
-                                      </ShortId>
-                                    </GroupShortId>
+                                                <span>
+                                                  INTERNAL-4G
+                                                </span>
+                                              </div>
+                                            </AutoSelectText>
+                                          </StyledAutoSelectText>
+                                        </div>
+                                      </StyledShortId>
+                                    </ShortId>
+                                  </GroupShortId>
+                                  <StyledTimes
+                                    firstSeen="2017-07-10T18:32:43Z"
+                                    lastSeen={null}
+                                  >
                                     <Times
+                                      className="css-fmy35b-StyledTimes eec9orn1"
                                       firstSeen="2017-07-10T18:32:43Z"
                                       lastSeen={null}
                                     >
                                       <Container>
                                         <div
-                                          className="css-1l1pep4-Container e1f1on0q0"
+                                          className="css-46qufz-Container e1f1on0q0"
                                         >
                                           <div
                                             className="css-77t6iv"
@@ -1501,44 +1499,33 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                         </div>
                                       </Container>
                                     </Times>
-                                    <GroupExtraCommentsAndLogger>
-                                      <Base
-                                        className="css-1ycmuq8-GroupExtraCommentsAndLogger eec9orn1"
+                                  </StyledTimes>
+                                  <LoggerAnnotation>
+                                    <span
+                                      className="css-1qmgstz-EventAnnotation-AnnotationNoMargin-LoggerAnnotation eec9orn6"
+                                    >
+                                      <Link
+                                        onlyActiveOnIndex={false}
+                                        style={Object {}}
+                                        to={
+                                          Object {
+                                            "pathname": "/organizations/org-slug/issues/",
+                                            "query": Object {
+                                              "query": "logger:javascript",
+                                            },
+                                          }
+                                        }
                                       >
-                                        <div
-                                          className="css-1ycmuq8-GroupExtraCommentsAndLogger eec9orn1"
-                                          is={null}
+                                        <a
+                                          onClick={[Function]}
+                                          style={Object {}}
                                         >
-                                          <LoggerAnnotation>
-                                            <span
-                                              className="css-8pmnzs-EventAnnotation-LoggerAnnotation eec9orn5"
-                                            >
-                                              <Link
-                                                onlyActiveOnIndex={false}
-                                                style={Object {}}
-                                                to={
-                                                  Object {
-                                                    "pathname": "/organizations/org-slug/issues/",
-                                                    "query": Object {
-                                                      "query": "logger:javascript",
-                                                    },
-                                                  }
-                                                }
-                                              >
-                                                <a
-                                                  onClick={[Function]}
-                                                  style={Object {}}
-                                                >
-                                                  javascript
-                                                </a>
-                                              </Link>
-                                            </span>
-                                          </LoggerAnnotation>
-                                        </div>
-                                      </Base>
-                                    </GroupExtraCommentsAndLogger>
-                                  </div>
-                                </Base>
+                                          javascript
+                                        </a>
+                                      </Link>
+                                    </span>
+                                  </LoggerAnnotation>
+                                </div>
                               </GroupExtra>
                             </EventOrGroupExtraDetails>
                           </withRouter(EventOrGroupExtraDetails)>
