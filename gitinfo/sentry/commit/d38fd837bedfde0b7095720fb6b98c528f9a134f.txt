commit d38fd837bedfde0b7095720fb6b98c528f9a134f
Author: Mario Frasca <mario@nelen-schuurmans.nl>
Date:   Wed Apr 27 13:58:41 2011 +0200

    making error reply more informative.

diff --git a/sentry/views.py b/sentry/views.py
index b63b7aecea..a42ea114c9 100644
--- a/sentry/views.py
+++ b/sentry/views.py
@@ -367,9 +367,9 @@ def store(request):
             data = base64.b64decode(data)
     except Exception, e:
         # This error should be caught as it suggests that there's a
-        # bug somewhere in the Sentry code.
+        # bug somewhere in the client's code.
         logger.exception('Bad data received')
-        return HttpResponseForbidden('Bad data')
+        return HttpResponseForbidden('Bad data decoding request (' + e.__class__.__name__ + ', ' + e + ')')
 
     try:
         if format == 'pickle':
@@ -378,9 +378,9 @@ def store(request):
             data = simplejson.loads(data)
     except Exception, e:
         # This error should be caught as it suggests that there's a
-        # bug somewhere in the Sentry code.
+        # bug somewhere in the client's code.
         logger.exception('Bad data received')
-        return HttpResponseForbidden('Bad data')
+        return HttpResponseForbidden('Bad data reconstructing object (' + e.__class__.__name__ + ', ' + e + ')')
 
     GroupedMessage.objects.from_kwargs(**data)
     
@@ -443,4 +443,4 @@ def static_media(request, path):
     response = HttpResponse(contents, mimetype=mimetype)
     response["Last-Modified"] = http_date(statobj[stat.ST_MTIME])
     response["Content-Length"] = len(contents)
-    return response
\ No newline at end of file
+    return response
