commit 819714b5587ecdcfc64ebd7cefe801957d5355b0
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon Jul 15 09:59:21 2019 -0700

    ref(ui): Refactor event message/annotations to styled componenâ€¦ (#13998)
    
    This refactors the header message (only on issue details) into styled components.
    This also fixes the hanging annotation.

diff --git a/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx b/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
index 360766e205..50f2fc00c4 100644
--- a/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
+++ b/src/sentry/static/sentry/app/components/eventOrGroupExtraDetails.jsx
@@ -1,15 +1,16 @@
+import {Flex, Box} from 'grid-emotion';
+import {Link, withRouter} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
-import {Link, withRouter} from 'react-router';
 import styled from 'react-emotion';
-import {Flex, Box} from 'grid-emotion';
 
-import ShortId from 'app/components/shortId';
 import {tct} from 'app/locale';
+import EventAnnotation from 'app/components/events/eventAnnotation';
 import InlineSvg from 'app/components/inlineSvg';
 import ProjectBadge from 'app/components/idBadge/projectBadge';
-import Times from 'app/components/group/times';
 import SentryTypes from 'app/sentryTypes';
+import ShortId from 'app/components/shortId';
+import Times from 'app/components/group/times';
 import space from 'app/styles/space';
 
 class EventOrGroupExtraDetails extends React.Component {
@@ -77,7 +78,7 @@ class EventOrGroupExtraDetails extends React.Component {
             </Box>
           )}
           {logger && (
-            <Box className="event-annotation" mr={2}>
+            <LoggerAnnotation>
               <Link
                 to={{
                   pathname: issuesPath,
@@ -88,14 +89,13 @@ class EventOrGroupExtraDetails extends React.Component {
               >
                 {logger}
               </Link>
-            </Box>
+            </LoggerAnnotation>
           )}
         </GroupExtraCommentsAndLogger>
         {annotations &&
           annotations.map((annotation, key) => {
             return (
-              <div
-                className="event-annotation"
+              <EventAnnotation
                 dangerouslySetInnerHTML={{
                   __html: annotation,
                 }}
@@ -145,4 +145,8 @@ const GroupExtraIcon = styled(InlineSvg)`
   margin-right: 4px;
 `;
 
+const LoggerAnnotation = styled(EventAnnotation)`
+  margin-right: ${space(2)};
+`;
+
 export default withRouter(EventOrGroupExtraDetails);
diff --git a/src/sentry/static/sentry/app/components/events/errorLevel.jsx b/src/sentry/static/sentry/app/components/events/errorLevel.jsx
new file mode 100644
index 0000000000..378c423238
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/events/errorLevel.jsx
@@ -0,0 +1,30 @@
+import styled from 'react-emotion';
+
+const DEFAULT_SIZE = '13px';
+
+function getLevelColor({level, theme}) {
+  const COLORS = {
+    error: theme.orange,
+    info: theme.blue,
+    warning: theme.yellowOrange,
+    fatal: theme.red,
+    sample: theme.purple,
+  };
+
+  return `background-color: ${COLORS[level] || theme.orange};`;
+}
+
+const ErrorLevel = styled('span')`
+  padding: 0;
+  position: relative;
+  width: ${p => p.size || DEFAULT_SIZE};
+  height: ${p => p.size || DEFAULT_SIZE};
+  text-indent: -9999em;
+  display: inline-block;
+  border-radius: 50%;
+  flex-shrink: 0;
+
+  ${getLevelColor}
+`;
+
+export default ErrorLevel;
diff --git a/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx b/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx
new file mode 100644
index 0000000000..97901f8719
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/events/eventAnnotation.jsx
@@ -0,0 +1,21 @@
+import styled from 'react-emotion';
+
+import space from 'app/styles/space';
+
+const EventAnnotation = styled('span')`
+  margin-left: ${space(1)};
+  font-size: ${p => p.theme.fontSizeSmall};
+  border-left: 1px solid ${p => p.theme.borderLight};
+  padding-left: ${space(1)};
+  color: ${p => p.theme.gray2};
+
+  a {
+    color: ${p => p.theme.gray2};
+
+    &:hover {
+      color: ${p => p.theme.gray3};
+    }
+  }
+`;
+
+export default EventAnnotation;
diff --git a/src/sentry/static/sentry/app/components/events/eventMessage.jsx b/src/sentry/static/sentry/app/components/events/eventMessage.jsx
new file mode 100644
index 0000000000..d977bc143c
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/events/eventMessage.jsx
@@ -0,0 +1,49 @@
+import PropTypes from 'prop-types';
+import React from 'react';
+import styled from 'react-emotion';
+
+import ErrorLevel from 'app/components/events/errorLevel';
+import overflowEllipsis from 'app/styles/overflowEllipsis';
+import space from 'app/styles/space';
+
+const Message = styled('span')`
+  ${overflowEllipsis}
+  width: auto;
+  max-height: 38px;
+`;
+
+function EventMessage({className, level, levelIndicatorSize, message, annotations}) {
+  return (
+    <div className={className}>
+      {level && (
+        <StyledErrorLevel size={levelIndicatorSize} level={level}>
+          {level}
+        </StyledErrorLevel>
+      )}
+      {message && <Message>{message}</Message>}
+      {annotations}
+    </div>
+  );
+}
+
+EventMessage.propTypes = {
+  level: PropTypes.oneOf(['error', 'fatal', 'info', 'warning', 'sample']),
+  levelIndicatorSize: PropTypes.string,
+  message: PropTypes.node,
+  annotations: PropTypes.node,
+};
+
+export default styled(EventMessage)`
+  display: flex;
+  align-items: center;
+  position: relative;
+  line-height: 1.2;
+
+  @media (max-width: ${p => p.theme.breakpoints[0]}) {
+    margin-bottom: ${space(2)};
+  }
+`;
+
+const StyledErrorLevel = styled(ErrorLevel)`
+  margin-right: ${space(1)};
+`;
diff --git a/src/sentry/static/sentry/app/components/issueLink.jsx b/src/sentry/static/sentry/app/components/issueLink.jsx
index 4ba85c193a..3185811c62 100644
--- a/src/sentry/static/sentry/app/components/issueLink.jsx
+++ b/src/sentry/static/sentry/app/components/issueLink.jsx
@@ -1,13 +1,18 @@
+import {Link} from 'react-router';
 import PropTypes from 'prop-types';
 import React from 'react';
 import classNames from 'classnames';
-import {Link} from 'react-router';
+import styled from 'react-emotion';
 
-import Hovercard from 'app/components/hovercard';
+import {t} from 'app/locale';
 import Count from 'app/components/count';
+import EventAnnotation from 'app/components/events/eventAnnotation';
+import EventMessage from 'app/components/events/eventMessage';
 import EventOrGroupTitle from 'app/components/eventOrGroupTitle';
+import Hovercard from 'app/components/hovercard';
 import TimeSince from 'app/components/timeSince';
-import {t} from 'app/locale';
+import overflowEllipsis from 'app/styles/overflowEllipsis';
+import space from 'app/styles/space';
 
 export default class IssueLink extends React.Component {
   static propTypes = {
@@ -37,7 +42,7 @@ export default class IssueLink extends React.Component {
     const {issue, orgId} = this.props;
     const message = this.getMessage(issue);
 
-    const className = classNames(`type-${issue.type}`, `level-${issue.level}`, {
+    const className = classNames({
       isBookmarked: issue.isBookmarked,
       hasSeen: issue.hasSeen,
       isResolved: issue.status === 'resolved',
@@ -47,56 +52,60 @@ export default class IssueLink extends React.Component {
 
     return (
       <div className={className}>
-        <div style={{marginBottom: 15}}>
-          <h3>
+        <Section>
+          <Title>
             <EventOrGroupTitle data={issue} />
-          </h3>
-          <div className="event-message">
-            <span className="error-level">{issue.level}</span>
-            {message && <span className="message">{message}</span>}
-            {issue.logger && (
-              <span className="event-annotation">
-                <Link
-                  to={{
-                    pathname: streamPath,
-                    query: {query: 'logger:' + issue.logger},
-                  }}
-                >
-                  {issue.logger}
-                </Link>
-              </span>
-            )}
-            {issue.annotations.map((annotation, i) => {
-              return (
-                <span
-                  className="event-annotation"
-                  key={i}
-                  dangerouslySetInnerHTML={{__html: annotation}}
-                />
-              );
-            })}
-          </div>
-        </div>
-        <div className="row row-flex" style={{marginBottom: 15}}>
-          <div className="col-xs-6">
-            <h6>{t('First Seen')}</h6>
-            <TimeSince date={issue.firstSeen} />
+          </Title>
+
+          <HovercardEventMessage
+            level={issue.level}
+            levelIndicatorSize="9px"
+            message={message}
+            annotations={
+              <React.Fragment>
+                {issue.logger && (
+                  <EventAnnotation>
+                    <Link
+                      to={{
+                        pathname: streamPath,
+                        query: {query: `logger:${issue.logger}`},
+                      }}
+                    >
+                      {issue.logger}
+                    </Link>
+                  </EventAnnotation>
+                )}
+                {issue.annotations.map((annotation, i) => {
+                  return (
+                    <EventAnnotation
+                      key={i}
+                      dangerouslySetInnerHTML={{__html: annotation}}
+                    />
+                  );
+                })}
+              </React.Fragment>
+            }
+          />
+        </Section>
+
+        <Grid>
+          <div>
+            <GridHeader>{t('First Seen')}</GridHeader>
+            <StyledTimeSince date={issue.firstSeen} />
           </div>
-          <div className="col-xs-6">
-            <h6>{t('Last Seen')}</h6>
-            <TimeSince date={issue.lastSeen} />
+          <div>
+            <GridHeader>{t('Last Seen')}</GridHeader>
+            <StyledTimeSince date={issue.lastSeen} />
           </div>
-        </div>
-        <div className="row row-flex">
-          <div className="col-xs-6">
-            <h6>{t('Occurrences')}</h6>
+          <div>
+            <GridHeader>{t('Occurrences')}</GridHeader>
             <Count value={issue.count} />
           </div>
-          <div className="col-xs-6">
-            <h6>{t('Users Affected')}</h6>
+          <div>
+            <GridHeader>{t('Users Affected')}</GridHeader>
             <Count value={issue.userCount} />
           </div>
-        </div>
+        </Grid>
       </div>
     );
   }
@@ -114,3 +123,40 @@ export default class IssueLink extends React.Component {
     );
   }
 }
+
+const Title = styled('h3')`
+  font-size: ${p => p.theme.fontSizeMedium};
+  margin: 0 0 ${space(0.5)};
+  ${overflowEllipsis};
+
+  em {
+    font-style: normal;
+    font-weight: 400;
+    color: ${p => p.theme.gray2};
+    font-size: 90%;
+  }
+`;
+
+const Section = styled('section')`
+  margin-bottom: ${space(2)};
+`;
+
+const Grid = styled('div')`
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  grid-gap: ${space(2)};
+`;
+const HovercardEventMessage = styled(EventMessage)`
+  font-size: 12px;
+`;
+
+const GridHeader = styled('h5')`
+  color: ${p => p.theme.gray2};
+  font-size: 11px;
+  margin-bottom: ${space(0.5)};
+  text-transform: uppercase;
+`;
+
+const StyledTimeSince = styled(TimeSince)`
+  color: inherit;
+`;
diff --git a/src/sentry/static/sentry/app/components/issues/compactIssue.jsx b/src/sentry/static/sentry/app/components/issues/compactIssue.jsx
index 70f2d02e35..d6774858a8 100644
--- a/src/sentry/static/sentry/app/components/issues/compactIssue.jsx
+++ b/src/sentry/static/sentry/app/components/issues/compactIssue.jsx
@@ -1,19 +1,21 @@
+import {Flex, Box} from 'grid-emotion';
 import PropTypes from 'prop-types';
 import React from 'react';
-import createReactClass from 'create-react-class';
 import Reflux from 'reflux';
-import {Flex, Box} from 'grid-emotion';
+import createReactClass from 'create-react-class';
+import styled from 'react-emotion';
 
-import withApi from 'app/utils/withApi';
-import IndicatorStore from 'app/stores/indicatorStore';
+import {PanelItem} from 'app/components/panels';
+import {t} from 'app/locale';
 import DropdownLink from 'app/components/dropdownLink';
+import ErrorLevel from 'app/components/events/errorLevel';
 import SnoozeAction from 'app/components/issues/snoozeAction';
 import GroupChart from 'app/components/stream/groupChart';
 import GroupStore from 'app/stores/groupStore';
+import IndicatorStore from 'app/stores/indicatorStore';
 import Link from 'app/components/links/link';
-import {t} from 'app/locale';
-import {PanelItem} from 'app/components/panels';
 import SentryTypes from 'app/sentryTypes';
+import withApi from 'app/utils/withApi';
 import withOrganization from 'app/utils/withOrganization';
 
 class CompactIssueHeader extends React.Component {
@@ -83,7 +85,7 @@ class CompactIssueHeader extends React.Component {
       <React.Fragment>
         <Flex align="center">
           <Box mr={1}>
-            <span className="error-level truncate" title={data.level} />
+            <StyledErrorLevel size="12px" level={data.level} title={data.level} />
           </Box>
           <h3 className="truncate">
             <Link to={issueLink}>
@@ -201,8 +203,6 @@ const CompactIssue = createReactClass({
       className += ' isIgnored';
     }
 
-    className += ' level-' + issue.level;
-
     if (this.props.statsPeriod) {
       className += ' with-graph';
     }
@@ -273,3 +273,7 @@ const CompactIssue = createReactClass({
 
 export {CompactIssue};
 export default withApi(withOrganization(CompactIssue));
+
+const StyledErrorLevel = styled(ErrorLevel)`
+  display: block;
+`;
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupMerged/mergedItem.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupMerged/mergedItem.jsx
index 129a77c6f8..2cb30929a4 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupMerged/mergedItem.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupMerged/mergedItem.jsx
@@ -68,7 +68,7 @@ const MergedItem = createReactClass({
     e.preventDefault();
   },
 
-  handleToggle(e) {
+  handleToggle() {
     const {disabled, fingerprint, event} = this.props;
 
     if (disabled || this.state.busy) {
@@ -149,7 +149,7 @@ const ActionColumn = styled(Flex)`
   }
 `;
 
-const Controls = styled(({expanded, ...props}) => (
+const Controls = styled(({expanded: _expanded, ...props}) => (
   <Flex justify="space-between" {...props} />
 ))`
   border-top: 1px solid ${p => p.theme.borderLight};
@@ -192,10 +192,6 @@ const EventDetails = styled(Flex)`
   .event-list & {
     padding: 10px;
   }
-
-  .event-message {
-    margin-bottom: 0;
-  }
 `;
 
 export default MergedItem;
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupSimilar/similarItem.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupSimilar/similarItem.jsx
index e3f86cc9bf..726ca6a82d 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupSimilar/similarItem.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupSimilar/similarItem.jsx
@@ -64,7 +64,7 @@ const SimilarIssueItem = createReactClass({
     }
   },
 
-  handleToggle(e) {
+  handleToggle() {
     const {issue} = this.props;
 
     // clicking anywhere in the row will toggle the checkbox
@@ -119,7 +119,7 @@ const SimilarIssueItem = createReactClass({
                 onChange={this.handleCheckClick}
               />
             </div>
-            <div className="event-details level-error" style={{flex: 1}}>
+            <div className="event-details" style={{flex: 1}}>
               <EventOrGroupHeader data={issue} />
               <EventOrGroupExtraDetails {...issue} lastSeen={null} showAssignee />
             </div>
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
index 8deea2ea83..03f6d4b3ff 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/header.jsx
@@ -8,6 +8,8 @@ import {fetchOrgMembers} from 'app/actionCreators/members';
 import {t} from 'app/locale';
 import AssigneeSelector from 'app/components/assigneeSelector';
 import Count from 'app/components/count';
+import EventAnnotation from 'app/components/events/eventAnnotation';
+import EventMessage from 'app/components/events/eventMessage';
 import EventOrGroupTitle from 'app/components/eventOrGroupTitle';
 import GuideAnchor from 'app/components/assistant/guideAnchor';
 import ListLink from 'app/components/links/listLink';
@@ -65,9 +67,6 @@ class GroupHeader extends React.Component {
 
     let className = 'group-detail';
 
-    className += ' type-' + group.type;
-    className += ' level-' + group.level;
-
     if (group.isBookmarked) {
       className += ' isBookmarked';
     }
@@ -103,32 +102,35 @@ class GroupHeader extends React.Component {
                 <EventOrGroupTitle data={group} />
               </GuideAnchor>
             </h3>
-            <div className="event-message">
-              <span className="error-level">{group.level}</span>
-              {message && <span className="message">{message}</span>}
-              {group.logger && (
-                <span className="event-annotation">
-                  <Link
-                    to={{
-                      pathname: baseUrl,
-                      query: {query: 'logger:' + group.logger},
-                    }}
-                  >
-                    {group.logger}
-                  </Link>
-                </span>
-              )}
-              {group.annotations.map((annotation, i) => {
-                return (
-                  <span
-                    className="event-annotation"
-                    key={i}
-                    dangerouslySetInnerHTML={{__html: annotation}}
-                  />
-                );
-              })}
-            </div>
+
+            <EventMessage
+              message={message}
+              level={group.level}
+              annotations={
+                <React.Fragment>
+                  {group.logger && (
+                    <EventAnnotation>
+                      <Link
+                        to={{
+                          pathname: baseUrl,
+                          query: {query: 'logger:' + group.logger},
+                        }}
+                      >
+                        {group.logger}
+                      </Link>
+                    </EventAnnotation>
+                  )}
+                  {group.annotations.map((annotation, i) => (
+                    <EventAnnotation
+                      key={i}
+                      dangerouslySetInnerHTML={{__html: annotation}}
+                    />
+                  ))}
+                </React.Fragment>
+              }
+            />
           </div>
+
           <div className="col-sm-5 stats">
             <div className="flex flex-justify-right">
               {group.shortId && (
diff --git a/src/sentry/static/sentry/app/views/sharedGroupDetails/sharedGroupHeader.jsx b/src/sentry/static/sentry/app/views/sharedGroupDetails/sharedGroupHeader.jsx
index f590148265..e8237ab964 100644
--- a/src/sentry/static/sentry/app/views/sharedGroupDetails/sharedGroupHeader.jsx
+++ b/src/sentry/static/sentry/app/views/sharedGroupDetails/sharedGroupHeader.jsx
@@ -1,6 +1,8 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 
+import EventMessage from 'app/components/events/eventMessage';
+
 class SharedGroupHeader extends React.Component {
   static propTypes = {
     group: PropTypes.object.isRequired,
@@ -13,9 +15,8 @@ class SharedGroupHeader extends React.Component {
       <div className="group-detail" style={{paddingBottom: 20}}>
         <div className="details">
           <h3>{group.title}</h3>
-          <div className="event-message">
-            <span className="message">{group.culprit}</span>
-          </div>
+
+          <EventMessage message={group.culprit} />
         </div>
       </div>
     );
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index a7d58ad1e8..bcd438f2b6 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -25,65 +25,15 @@
     }
   }
 
-  .event-message,
   .event-meta {
     line-height: 1.2;
   }
 
-  .error-level {
-    padding: 0;
-    border-radius: 2px;
-    margin-right: 8px;
-    display: inline-block;
-    position: relative;
-    top: 3px;
-    .square(13px);
-    text-indent: -9999em;
-    display: inline-block;
-    border-radius: 15px;
-  }
-
-  .event-message {
-    position: relative;
-
-    .error-level {
-      position: absolute;
-      left: 0;
-    }
-
-    .message {
-      margin-left: 21px;
-      white-space: nowrap;
-      overflow: hidden;
-      text-overflow: ellipsis;
-      max-height: 38px;
-      display: block;
-    }
-  }
-
   .event-meta {
     font-size: 80%;
     margin-top: 6px;
   }
 
-  .event-annotation {
-    display: inline-block;
-    margin-left: 9px;
-    font-size: 13px;
-    line-height: 1;
-    border-left: 1px solid lighten(@trim, 6);
-    padding-left: 9px;
-    height: 13px;
-
-    a {
-      color: lighten(@gray, 12);
-
-      &:hover {
-        color: @gray;
-      }
-    }
-  }
-
   .count {
     &.short-id-box {
       min-width: 0;
@@ -1921,10 +1871,6 @@ span.val {
       display: none;
     }
 
-    .event-message .message {
-      margin-left: 0;
-    }
-
     .details {
       max-width: 960px;
       margin: 0 auto;
@@ -2478,14 +2424,6 @@ ul.crumbs {
       line-height: 1.2;
     }
 
-    .event-message,
-    .event-meta {
-      overflow: hidden;
-      white-space: nowrap;
-      text-overflow: ellipsis;
-      margin-bottom: 15px;
-    }
-
     .meta {
       font-size: 13px;
     }
diff --git a/src/sentry/static/sentry/less/sentry-hovercard.less b/src/sentry/static/sentry/less/sentry-hovercard.less
index ba71df5c83..6d61025eeb 100644
--- a/src/sentry/static/sentry/less/sentry-hovercard.less
+++ b/src/sentry/static/sentry/less/sentry-hovercard.less
@@ -108,68 +108,4 @@
       color: @70;
     }
   }
-
-  /** ISSUE LINK HAX **/
-  time {
-    padding-left: 0 !important;
-    color: inherit !important;
-  }
-  h3 {
-    color: @gray-darkest;
-    font-size: 14px;
-    margin: 0 0 5px;
-    text-overflow: ellipsis;
-    white-space: nowrap;
-    overflow: hidden;
-    line-height: 1.1;
-
-    em {
-      font-style: normal;
-      font-weight: 400;
-      color: @70;
-      font-size: 90%;
-    }
-  }
-  .event-message,
-  .event-meta {
-    line-height: 1.2;
-    font-size: 12px;
-    text-overflow: ellipsis;
-    white-space: nowrap;
-    overflow: hidden;
-  }
-  .error-level {
-    padding: 0;
-    border-radius: 2px;
-    margin-right: 5px;
-    display: inline-block;
-    position: relative;
-    top: 3px;
-    .square(9px);
-    text-indent: -9999em;
-    display: inline-block;
-    border-radius: 9px;
-  }
-  .event-meta {
-    font-size: 80%;
-    margin-top: 6px;
-  }
-  .event-annotation {
-    display: inline-block;
-    margin: 0 0 5px 9px;
-    font-size: 13px;
-    line-height: 1;
-    border-left: 1px solid lighten(@trim, 6);
-    padding-left: 9px;
-    height: 13px;
-
-    a {
-      color: lighten(@gray, 12);
-
-      &:hover {
-        color: @gray;
-      }
-    }
-  }
-  /** /ISSUE GROUP HAX **/
 }
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 545f445d06..67fd898ea2 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -1954,30 +1954,6 @@ ul.radio-inputs {
   }
 }
 
-/**
- * Error level colors
- * ============================================================================
- */
-
-.level-error .error-level {
-  background: @orange;
-}
-&.level-info .error-level {
-  background: @blue;
-}
-&.level-warning .error-level {
-  background: @yellow-orange;
-}
-&.level-error .error-level {
-  background: @orange;
-}
-&.level-fatal .error-level {
-  background: @red;
-}
-&.level-sample .error-level {
-  background: @purple;
-}
-
 /**
  * Truncate component.
  */
diff --git a/src/sentry/static/sentry/less/stream.less b/src/sentry/static/sentry/less/stream.less
index ccbec9402e..c8da835ef4 100644
--- a/src/sentry/static/sentry/less/stream.less
+++ b/src/sentry/static/sentry/less/stream.less
@@ -192,10 +192,6 @@
         .transition(all 0.2s ease-in-out);
         background: @yellow;
       }
-
-      .event-message {
-        color: #786e43;
-      }
     }
 
     &:first-child {
@@ -239,18 +235,10 @@
   .event-details {
     padding: 12px 0 8px 24px;
 
-    .event-message,
     .event-extra {
       line-height: 1.1;
     }
 
-    .event-message {
-      font-size: 14px;
-      margin-bottom: 6px;
-      color: @gray-dark;
-      word-wrap: break-word;
-    }
-
     .event-extra {
       color: @gray;
     }
@@ -581,13 +569,6 @@
       }
     }
 
-    .error-level {
-      .square(12px);
-      border-radius: 50%;
-      top: 13px;
-      left: 12px;
-    }
-
     h3 {
       font-size: 16px;
       margin: 0;
@@ -929,12 +910,6 @@
 
   .group-list .group {
     padding-right: 0;
-
-    h3 .error-level {
-      text-align: left;
-      text-indent: -9999em;
-      width: 30px;
-    }
   }
 
   .awaiting-events {
@@ -969,23 +944,6 @@
     margin: 0 0 5px;
     font-weight: 600;
 
-    .error-level {
-      position: absolute;
-      left: -6px;
-      top: 13px;
-      font-size: 10px;
-      font-weight: 600;
-      text-transform: capitalize;
-      text-align: center;
-      color: #fff;
-      padding: 2px 4px;
-      width: 50px;
-      display: block;
-      float: left;
-      border-radius: 2px;
-      margin-right: 5px;
-    }
-
     em {
       font-style: normal;
       font-size: 14px;
diff --git a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
index b536308a8a..ffed063fba 100644
--- a/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
+++ b/tests/js/spec/views/organizationGroupDetails/__snapshots__/groupSimilar.spec.jsx.snap
@@ -667,7 +667,7 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                           </Checkbox>
                         </div>
                         <div
-                          className="event-details level-error"
+                          className="event-details"
                           style={
                             Object {
                               "flex": 1,
@@ -1508,40 +1508,31 @@ exports[`Issues Similar View renders with mocked data 1`] = `
                                           className="css-1ycmuq8-GroupExtraCommentsAndLogger eec9orn1"
                                           is={null}
                                         >
-                                          <Box
-                                            className="event-annotation"
-                                            mr={2}
-                                          >
-                                            <Base
-                                              className="event-annotation css-6htue9"
-                                              mr={2}
+                                          <LoggerAnnotation>
+                                            <span
+                                              className="css-8pmnzs-EventAnnotation-LoggerAnnotation eec9orn5"
                                             >
-                                              <div
-                                                className="event-annotation css-6htue9"
-                                                is={null}
+                                              <Link
+                                                onlyActiveOnIndex={false}
+                                                style={Object {}}
+                                                to={
+                                                  Object {
+                                                    "pathname": "/organizations/org-slug/issues/",
+                                                    "query": Object {
+                                                      "query": "logger:javascript",
+                                                    },
+                                                  }
+                                                }
                                               >
-                                                <Link
-                                                  onlyActiveOnIndex={false}
+                                                <a
+                                                  onClick={[Function]}
                                                   style={Object {}}
-                                                  to={
-                                                    Object {
-                                                      "pathname": "/organizations/org-slug/issues/",
-                                                      "query": Object {
-                                                        "query": "logger:javascript",
-                                                      },
-                                                    }
-                                                  }
                                                 >
-                                                  <a
-                                                    onClick={[Function]}
-                                                    style={Object {}}
-                                                  >
-                                                    javascript
-                                                  </a>
-                                                </Link>
-                                              </div>
-                                            </Base>
-                                          </Box>
+                                                  javascript
+                                                </a>
+                                              </Link>
+                                            </span>
+                                          </LoggerAnnotation>
                                         </div>
                                       </Base>
                                     </GroupExtraCommentsAndLogger>
diff --git a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
index e6990cc2a7..fe3abd6562 100644
--- a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
@@ -168,15 +168,26 @@ exports[`SharedGroupDetails renders 1`] = `
                         <h3>
                           ZeroDivisionError
                         </h3>
-                        <div
-                          className="event-message"
+                        <Styled(EventMessage)
+                          message="fetchData(app/components/group/suggestedOwners)"
                         >
-                          <span
-                            className="message"
+                          <EventMessage
+                            className="css-1u2jzzx edommoc2"
+                            message="fetchData(app/components/group/suggestedOwners)"
                           >
-                            fetchData(app/components/group/suggestedOwners)
-                          </span>
-                        </div>
+                            <div
+                              className="css-1u2jzzx edommoc2"
+                            >
+                              <Message>
+                                <span
+                                  className="css-18no1g8-Message edommoc0"
+                                >
+                                  fetchData(app/components/group/suggestedOwners)
+                                </span>
+                              </Message>
+                            </div>
+                          </EventMessage>
+                        </Styled(EventMessage)>
                       </div>
                     </div>
                   </SharedGroupHeader>
diff --git a/tests/js/spec/views/sharedGroupDetails/index.spec.jsx b/tests/js/spec/views/sharedGroupDetails/index.spec.jsx
index 85a8fadd77..4b9cbe0cfc 100644
--- a/tests/js/spec/views/sharedGroupDetails/index.spec.jsx
+++ b/tests/js/spec/views/sharedGroupDetails/index.spec.jsx
@@ -25,7 +25,7 @@ describe('SharedGroupDetails', function() {
       params: {shareId: 'a'},
     };
 
-    const wrapper = mount(<SharedGroupDetails {...props} />);
+    const wrapper = mount(<SharedGroupDetails {...props} />, TestStubs.routerContext());
     expect(wrapper).toMatchSnapshot();
   });
 });
