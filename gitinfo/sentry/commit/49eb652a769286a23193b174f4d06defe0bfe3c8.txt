commit 49eb652a769286a23193b174f4d06defe0bfe3c8
Author: David Cramer <dcramer@gmail.com>
Date:   Thu May 9 12:18:54 2013 -0700

    Handle empty messages

diff --git a/src/sentry/models.py b/src/sentry/models.py
index a14ffba3ef..e628a84d42 100644
--- a/src/sentry/models.py
+++ b/src/sentry/models.py
@@ -479,6 +479,8 @@ class EventBase(Model):
     def message_top(self):
         if self.culprit:
             return self.culprit
+        if not self.message:
+            return '<unlabeled message>'
         return truncatechars(self.message.splitlines()[0], 100)
 
     @property
