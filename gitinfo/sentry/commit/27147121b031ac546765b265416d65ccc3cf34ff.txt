commit 27147121b031ac546765b265416d65ccc3cf34ff
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jul 17 09:44:02 2018 -0700

    fix: Allow empty origin on user feedback
    
    Refs getsentry/raven-js#1439

diff --git a/src/sentry/web/frontend/error_page_embed.py b/src/sentry/web/frontend/error_page_embed.py
index a4d1c97045..4aa4e3cb83 100644
--- a/src/sentry/web/frontend/error_page_embed.py
+++ b/src/sentry/web/frontend/error_page_embed.py
@@ -119,11 +119,8 @@ class ErrorPageEmbedView(View):
             return self._json_response(request, {'dsn': 'Missing or invalid parameter.'}, status=404)
 
         origin = self._get_origin(request)
-        if not origin:
-            return self._json_response(request, status=403)
-
         if not is_valid_origin(origin, key.project):
-            return HttpResponse(status=403)
+            return self._json_response(request, status=403)
 
         if request.method == 'OPTIONS':
             return self._json_response(request)
