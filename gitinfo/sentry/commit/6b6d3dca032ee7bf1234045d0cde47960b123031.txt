commit 6b6d3dca032ee7bf1234045d0cde47960b123031
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Apr 23 11:04:36 2015 -0700

    Add debug mail views for access requests

diff --git a/src/sentry/web/frontend/debug/mail.py b/src/sentry/web/frontend/debug/mail.py
index 4a53dcaca0..a00eaddb4a 100644
--- a/src/sentry/web/frontend/debug/mail.py
+++ b/src/sentry/web/frontend/debug/mail.py
@@ -2,11 +2,15 @@ from __future__ import absolute_import, print_function
 
 import logging
 
+from django.core.urlresolvers import reverse
 from django.utils.safestring import mark_safe
 
-from sentry.models import Activity, Event, Group, Project, Rule, Team
+from sentry.models import (
+    Activity, Event, Group, Organization, Project, Rule, Team
+)
 from sentry.utils.samples import load_data
 from sentry.utils.email import inline_css
+from sentry.utils.http import absolute_uri
 from sentry.web.decorators import login_required
 from sentry.web.helpers import render_to_response, render_to_string
 
@@ -126,3 +130,66 @@ def new_note(request):
     return render_to_response('sentry/debug/mail/preview.html', {
         'preview': preview,
     })
+
+
+@login_required
+def request_access(request):
+    org = Organization(
+        id=1,
+        slug='example',
+        name='Example',
+    )
+    team = Team(
+        id=1,
+        slug='example',
+        name='Example',
+        organization=org,
+    )
+
+    preview = MailPreview(
+        html_template='sentry/emails/request-team-access.html',
+        text_template='sentry/emails/request-team-access.txt',
+        context={
+            'email': 'foo@example.com',
+            'name': 'George Bush',
+            'organization': org,
+            'team': team,
+            'url': absolute_uri(reverse('sentry-organization-members', kwargs={
+                'organization_slug': org.slug,
+            }) + '?ref=access-requests'),
+        },
+    )
+
+    return render_to_response('sentry/debug/mail/preview.html', {
+        'preview': preview,
+    })
+
+
+@login_required
+def access_approved(request):
+    org = Organization(
+        id=1,
+        slug='example',
+        name='Example',
+    )
+    team = Team(
+        id=1,
+        slug='example',
+        name='Example',
+        organization=org,
+    )
+
+    preview = MailPreview(
+        html_template='sentry/emails/access-approved.html',
+        text_template='sentry/emails/access-approved.txt',
+        context={
+            'email': 'foo@example.com',
+            'name': 'George Bush',
+            'organization': org,
+            'team': team,
+        },
+    )
+
+    return render_to_response('sentry/debug/mail/preview.html', {
+        'preview': preview,
+    })
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 6d77aa1d0a..5fd37f659a 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -88,6 +88,10 @@ if settings.DEBUG:
             sentry.web.frontend.debug.mail.new_event),
         url(r'^debug/mail/new-note/$',
             sentry.web.frontend.debug.mail.new_note),
+        url(r'^debug/mail/request-access/$',
+            sentry.web.frontend.debug.mail.request_access),
+        url(r'^debug/mail/access-approved/$',
+            sentry.web.frontend.debug.mail.access_approved),
     )
 
 urlpatterns += patterns('',
