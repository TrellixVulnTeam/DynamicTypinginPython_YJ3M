commit bf03d9bd38f7b2bf6f3659cb3ae6faed97800985
Author: Trey <trey@ktrl.com>
Date:   Tue Nov 9 23:12:03 2010 -0500

    A quick fix to prevent sentry from imploding when __name__ is missing. I'm not 100% sure why this isn't present, but current debugging leads me to believe it has something to do with decorators and a lambda fuction

diff --git a/sentry/client/base.py b/sentry/client/base.py
index 2dfa179142..014fd1765d 100644
--- a/sentry/client/base.py
+++ b/sentry/client/base.py
@@ -163,7 +163,10 @@ class SentryClient(object):
             best_guess = None
             view = None
             for frame in iter_tb_frames(exc_traceback):
-                view = '.'.join([frame.f_globals['__name__'], frame.f_code.co_name])
+                try:
+                    view = '.'.join([frame.f_globals['__name__'], frame.f_code.co_name])
+                except:
+                    continue
                 if contains(modules, view):
                     if not (contains(conf.EXCLUDE_PATHS, view) and best_guess):
                         best_guess = view
