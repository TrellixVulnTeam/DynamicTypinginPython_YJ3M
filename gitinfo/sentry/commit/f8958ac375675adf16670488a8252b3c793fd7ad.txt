commit f8958ac375675adf16670488a8252b3c793fd7ad
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Mar 7 21:02:34 2019 +0100

    fix(grouping): Report lineno correctly and not function in disabled path (#12327)

diff --git a/src/sentry/interfaces/stacktrace.py b/src/sentry/interfaces/stacktrace.py
index a167468bd2..df7c55f0a7 100644
--- a/src/sentry/interfaces/stacktrace.py
+++ b/src/sentry/interfaces/stacktrace.py
@@ -594,7 +594,7 @@ class Frame(Interface):
                     hint='function name is used only if module or filename are available'
                 )
             if self.lineno:
-                function_component.update(
+                lineno_component.update(
                     contributes=False,
                     values=[self.lineno],
                     hint='line number is used only if module or filename are available'
diff --git a/tests/sentry/event_hashing/fixtures/aspnetcore.out b/tests/sentry/event_hashing/fixtures/aspnetcore.out
index e293d443c8..a29a44dae6 100644
--- a/tests/sentry/event_hashing/fixtures/aspnetcore.out
+++ b/tests/sentry/event_hashing/fixtures/aspnetcore.out
@@ -250,7 +250,9 @@ app:
               u'C:\\Users\\dvora\\source\\repos\\SentryTest2\\SentryTest2\\Controllers\\ValuesController.cs'
             context-line*
               u'Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Get(Int32)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Get'
+            lineno (line number is used only if module or filename are available)
               27
         type*
           u'System.Exception'
@@ -516,7 +518,9 @@ system:
               u'C:\\Users\\dvora\\source\\repos\\SentryTest2\\SentryTest2\\Controllers\\ValuesController.cs'
             context-line*
               u'Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Get(Int32)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Get'
+            lineno (line number is used only if module or filename are available)
               27
         type*
           u'System.Exception'
diff --git a/tests/sentry/event_hashing/fixtures/connection-error.out b/tests/sentry/event_hashing/fixtures/connection-error.out
index d9a297e834..0b0d6e81c7 100644
--- a/tests/sentry/event_hashing/fixtures/connection-error.out
+++ b/tests/sentry/event_hashing/fixtures/connection-error.out
@@ -11,7 +11,9 @@ app:
               u'sentry/utils/safe.py'
             context-line*
               u'            result = func(*args, **kwargs)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'safe_execute'
+            lineno (line number is used only if module or filename are available)
               31
           frame*
             module*
@@ -20,7 +22,9 @@ app:
               u'sentry/utils/services.py'
             context-line*
               u'                context[key] = (lambda f: lambda *a, **k: getattr(self, f)(*a, **k))(key)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'<lambda>'
+            lineno (line number is used only if module or filename are available)
               91
           frame*
             module*
@@ -29,7 +33,9 @@ app:
               u'getsentry/quotas.py'
             context-line*
               u'        return super(SubscriptionQuota, self).is_rate_limited(project, key=key)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'is_rate_limited'
+            lineno (line number is used only if module or filename are available)
               136
           frame*
             module*
@@ -38,7 +44,9 @@ app:
               u'sentry/quotas/redis.py'
             context-line*
               u'        rejections = is_rate_limited(client, keys, args)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'is_rate_limited'
+            lineno (line number is used only if module or filename are available)
               189
           frame*
             module*
@@ -47,7 +55,9 @@ app:
               u'sentry/utils/redis.py'
             context-line*
               u'        return script(keys, args, client)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'call_script'
+            lineno (line number is used only if module or filename are available)
               239
           frame (non app frame)
             module*
@@ -56,7 +66,9 @@ app:
               u'redis/client.py'
             context-line*
               u'            return client.evalsha(self.sha, len(keys), *args)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'__call__'
+            lineno (line number is used only if module or filename are available)
               2694
           frame (non app frame)
             module*
@@ -65,7 +77,9 @@ app:
               u'redis/client.py'
             context-line*
               u"        return self.execute_command('EVALSHA', sha, numkeys, *keys_and_args)"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'evalsha'
+            lineno (line number is used only if module or filename are available)
               1944
           frame (non app frame)
             module*
@@ -74,7 +88,9 @@ app:
               u'redis/client.py'
             context-line*
               u'            return self.parse_response(connection, command_name, **options)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'execute_command'
+            lineno (line number is used only if module or filename are available)
               579
           frame (non app frame)
             module*
@@ -83,7 +99,9 @@ app:
               u'redis/client.py'
             context-line*
               u'        response = connection.read_response()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'parse_response'
+            lineno (line number is used only if module or filename are available)
               585
           frame (non app frame)
             module*
@@ -92,7 +110,9 @@ app:
               u'redis/connection.py'
             context-line*
               u'            response = self._parser.read_response()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'read_response'
+            lineno (line number is used only if module or filename are available)
               577
           frame (non app frame)
             module*
@@ -101,7 +121,9 @@ app:
               u'redis/connection.py'
             context-line*
               u'                                      (e.args,))'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'read_response'
+            lineno (line number is used only if module or filename are available)
               357
         type*
           u'ConnectionError'
@@ -128,7 +150,9 @@ system:
               u'sentry/utils/safe.py'
             context-line*
               u'            result = func(*args, **kwargs)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'safe_execute'
+            lineno (line number is used only if module or filename are available)
               31
           frame*
             module*
@@ -137,7 +161,9 @@ system:
               u'sentry/utils/services.py'
             context-line*
               u'                context[key] = (lambda f: lambda *a, **k: getattr(self, f)(*a, **k))(key)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'<lambda>'
+            lineno (line number is used only if module or filename are available)
               91
           frame*
             module*
@@ -146,7 +172,9 @@ system:
               u'getsentry/quotas.py'
             context-line*
               u'        return super(SubscriptionQuota, self).is_rate_limited(project, key=key)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'is_rate_limited'
+            lineno (line number is used only if module or filename are available)
               136
           frame*
             module*
@@ -155,7 +183,9 @@ system:
               u'sentry/quotas/redis.py'
             context-line*
               u'        rejections = is_rate_limited(client, keys, args)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'is_rate_limited'
+            lineno (line number is used only if module or filename are available)
               189
           frame*
             module*
@@ -164,7 +194,9 @@ system:
               u'sentry/utils/redis.py'
             context-line*
               u'        return script(keys, args, client)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'call_script'
+            lineno (line number is used only if module or filename are available)
               239
           frame*
             module*
@@ -173,7 +205,9 @@ system:
               u'redis/client.py'
             context-line*
               u'            return client.evalsha(self.sha, len(keys), *args)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'__call__'
+            lineno (line number is used only if module or filename are available)
               2694
           frame*
             module*
@@ -182,7 +216,9 @@ system:
               u'redis/client.py'
             context-line*
               u"        return self.execute_command('EVALSHA', sha, numkeys, *keys_and_args)"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'evalsha'
+            lineno (line number is used only if module or filename are available)
               1944
           frame*
             module*
@@ -191,7 +227,9 @@ system:
               u'redis/client.py'
             context-line*
               u'            return self.parse_response(connection, command_name, **options)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'execute_command'
+            lineno (line number is used only if module or filename are available)
               579
           frame*
             module*
@@ -200,7 +238,9 @@ system:
               u'redis/client.py'
             context-line*
               u'        response = connection.read_response()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'parse_response'
+            lineno (line number is used only if module or filename are available)
               585
           frame*
             module*
@@ -209,7 +249,9 @@ system:
               u'redis/connection.py'
             context-line*
               u'            response = self._parser.read_response()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'read_response'
+            lineno (line number is used only if module or filename are available)
               577
           frame*
             module*
@@ -218,7 +260,9 @@ system:
               u'redis/connection.py'
             context-line*
               u'                                      (e.args,))'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'read_response'
+            lineno (line number is used only if module or filename are available)
               357
         type*
           u'ConnectionError'
diff --git a/tests/sentry/event_hashing/fixtures/laravel.out b/tests/sentry/event_hashing/fixtures/laravel.out
index 9ce6fc803c..e65584ed87 100644
--- a/tests/sentry/event_hashing/fixtures/laravel.out
+++ b/tests/sentry/event_hashing/fixtures/laravel.out
@@ -9,350 +9,448 @@ app:
               u'/server.php'
             context-line*
               u"require_once __DIR__.'/public/index.php';"
-            function (line number is used only if module or filename are available)
+            lineno (line number is used only if module or filename are available)
               21
           frame*
             filename*
               u'/public/index.php'
             context-line*
               u'    $request = Illuminate\\Http\\Request::capture()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'require_once'
+            lineno (line number is used only if module or filename are available)
               55
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'            $response = $this->sendRequestThroughRouter($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::handle'
+            lineno (line number is used only if module or filename are available)
               116
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'                    ->then($this->dispatchToRouter());'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::sendRequestThroughRouter'
+            lineno (line number is used only if module or filename are available)
               151
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'        return $pipeline($this->passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::then'
+            lineno (line number is used only if module or filename are available)
               104
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::handle'
+            lineno (line number is used only if module or filename are available)
               62
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize::handle'
+            lineno (line number is used only if module or filename are available)
               27
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest::handle'
+            lineno (line number is used only if module or filename are available)
               21
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest::handle'
+            lineno (line number is used only if module or filename are available)
               21
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/fideloper/proxy/src/TrustProxies.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Fideloper\\Proxy\\TrustProxies::handle'
+            lineno (line number is used only if module or filename are available)
               57
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                return $destination($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               30
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'            return $this->router->dispatch($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::Illuminate\\Foundation\\Http\\{closure}'
+            lineno (line number is used only if module or filename are available)
               176
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'        return $this->dispatchToRoute($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::dispatch'
+            lineno (line number is used only if module or filename are available)
               612
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'        return $this->runRoute($request, $this->findRoute($request));'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::dispatchToRoute'
+            lineno (line number is used only if module or filename are available)
               623
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'            $this->runRouteWithinStack($route, $request)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::runRoute'
+            lineno (line number is used only if module or filename are available)
               657
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'                        });'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::runRouteWithinStack'
+            lineno (line number is used only if module or filename are available)
               682
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'        return $pipeline($this->passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::then'
+            lineno (line number is used only if module or filename are available)
               104
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php'
             context-line*
               u'        return $this->encrypt($next($this->decrypt($request)));'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Cookie\\Middleware\\EncryptCookies::handle'
+            lineno (line number is used only if module or filename are available)
               66
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php'
             context-line*
               u'        $response = $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::handle'
+            lineno (line number is used only if module or filename are available)
               37
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php'
             context-line*
               u'            $response = $next($request), $session'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Session\\Middleware\\StartSession::handle'
+            lineno (line number is used only if module or filename are available)
               59
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\View\\Middleware\\ShareErrorsFromSession::handle'
+            lineno (line number is used only if module or filename are available)
               49
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php'
             context-line*
               u'            return tap($next($request), function ($response) use ($request) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken::handle'
+            lineno (line number is used only if module or filename are available)
               75
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Middleware\\SubstituteBindings::handle'
+            lineno (line number is used only if module or filename are available)
               41
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                return $destination($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               30
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'                                $request, $route->run()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               680
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Route.php'
             context-line*
               u'            return $this->runCallable();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Route::run'
+            lineno (line number is used only if module or filename are available)
               179
           frame (non app frame)
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Route.php'
             context-line*
               u"            $this->parametersWithoutNulls(), new ReflectionFunction($this->action['uses'])"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Route::runCallable'
+            lineno (line number is used only if module or filename are available)
               205
           frame*
             filename*
               u'/routes/web.php'
             context-line*
               u"    throw new Exception('LARAVEL TEST');"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\RouteFileRegistrar::{closure}'
+            lineno (line number is used only if module or filename are available)
               22
         type*
           u'Exception'
@@ -370,350 +468,448 @@ system:
               u'/server.php'
             context-line*
               u"require_once __DIR__.'/public/index.php';"
-            function (line number is used only if module or filename are available)
+            lineno (line number is used only if module or filename are available)
               21
           frame*
             filename*
               u'/public/index.php'
             context-line*
               u'    $request = Illuminate\\Http\\Request::capture()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'require_once'
+            lineno (line number is used only if module or filename are available)
               55
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'            $response = $this->sendRequestThroughRouter($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::handle'
+            lineno (line number is used only if module or filename are available)
               116
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'                    ->then($this->dispatchToRouter());'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::sendRequestThroughRouter'
+            lineno (line number is used only if module or filename are available)
               151
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'        return $pipeline($this->passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::then'
+            lineno (line number is used only if module or filename are available)
               104
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::handle'
+            lineno (line number is used only if module or filename are available)
               62
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize::handle'
+            lineno (line number is used only if module or filename are available)
               27
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest::handle'
+            lineno (line number is used only if module or filename are available)
               21
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest::handle'
+            lineno (line number is used only if module or filename are available)
               21
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/fideloper/proxy/src/TrustProxies.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Fideloper\\Proxy\\TrustProxies::handle'
+            lineno (line number is used only if module or filename are available)
               57
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                return $destination($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               30
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php'
             context-line*
               u'            return $this->router->dispatch($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Kernel::Illuminate\\Foundation\\Http\\{closure}'
+            lineno (line number is used only if module or filename are available)
               176
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'        return $this->dispatchToRoute($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::dispatch'
+            lineno (line number is used only if module or filename are available)
               612
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'        return $this->runRoute($request, $this->findRoute($request));'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::dispatchToRoute'
+            lineno (line number is used only if module or filename are available)
               623
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'            $this->runRouteWithinStack($route, $request)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::runRoute'
+            lineno (line number is used only if module or filename are available)
               657
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'                        });'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::runRouteWithinStack'
+            lineno (line number is used only if module or filename are available)
               682
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'        return $pipeline($this->passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::then'
+            lineno (line number is used only if module or filename are available)
               104
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php'
             context-line*
               u'        return $this->encrypt($next($this->decrypt($request)));'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Cookie\\Middleware\\EncryptCookies::handle'
+            lineno (line number is used only if module or filename are available)
               66
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php'
             context-line*
               u'        $response = $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::handle'
+            lineno (line number is used only if module or filename are available)
               37
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php'
             context-line*
               u'            $response = $next($request), $session'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Session\\Middleware\\StartSession::handle'
+            lineno (line number is used only if module or filename are available)
               59
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\View\\Middleware\\ShareErrorsFromSession::handle'
+            lineno (line number is used only if module or filename are available)
               49
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php'
             context-line*
               u'            return tap($next($request), function ($response) use ($request) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken::handle'
+            lineno (line number is used only if module or filename are available)
               75
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                    return $callable($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               53
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php'
             context-line*
               u'                                ? $pipe->{$this->method}(...$parameters)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Pipeline\\Pipeline::Illuminate\\Pipeline\\{closure}'
+            lineno (line number is used only if module or filename are available)
               163
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php'
             context-line*
               u'        return $next($request);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Middleware\\SubstituteBindings::handle'
+            lineno (line number is used only if module or filename are available)
               41
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php'
             context-line*
               u'                return $destination($passable);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Pipeline::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               30
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Router.php'
             context-line*
               u'                                $request, $route->run()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Router::Illuminate\\Routing\\{closure}'
+            lineno (line number is used only if module or filename are available)
               680
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Route.php'
             context-line*
               u'            return $this->runCallable();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Route::run'
+            lineno (line number is used only if module or filename are available)
               179
           frame*
             filename*
               u'/vendor/laravel/framework/src/Illuminate/Routing/Route.php'
             context-line*
               u"            $this->parametersWithoutNulls(), new ReflectionFunction($this->action['uses'])"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\Route::runCallable'
+            lineno (line number is used only if module or filename are available)
               205
           frame*
             filename*
               u'/routes/web.php'
             context-line*
               u"    throw new Exception('LARAVEL TEST');"
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Illuminate\\Routing\\RouteFileRegistrar::{closure}'
+            lineno (line number is used only if module or filename are available)
               22
         type*
           u'Exception'
diff --git a/tests/sentry/event_hashing/fixtures/node-exception-weird.out b/tests/sentry/event_hashing/fixtures/node-exception-weird.out
index 25cd4e284b..be9f320cd0 100644
--- a/tests/sentry/event_hashing/fixtures/node-exception-weird.out
+++ b/tests/sentry/event_hashing/fixtures/node-exception-weird.out
@@ -11,7 +11,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/dist/hub.js'
             context-line*
               u'     */'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.withScope'
+            lineno (line number is used only if module or filename are available)
               171
           frame*
             module*
@@ -29,7 +31,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'        return fn.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.mockConstructor [as captureException]'
+            lineno (line number is used only if module or filename are available)
               150
           frame (non app frame)
             module*
@@ -38,7 +42,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'          })();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.<anonymous>'
+            lineno (line number is used only if module or filename are available)
               446
           frame (non app frame)
             module*
@@ -47,7 +53,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'                return specificMockImpl.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'finalReturnValue'
+            lineno (line number is used only if module or filename are available)
               437
           frame (non app frame)
             module*
@@ -56,7 +64,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'        return original.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.<anonymous>'
+            lineno (line number is used only if module or filename are available)
               806
           frame*
             module*
@@ -65,7 +75,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/src/hub.ts'
             context-line*
               u'    if (maxBreadcrumbs <= 0) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.captureException'
+            lineno (line number is used only if module or filename are available)
               255
           frame*
             module*
@@ -74,7 +86,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/dist/hub.js'
             context-line*
               u'     * @returns Scope, the new cloned scope'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.invokeClient'
+            lineno (line number is used only if module or filename are available)
               91
           frame*
             module*
@@ -83,7 +97,9 @@ app:
               u'/home/travis/build/getsentry/sentry-javascript/packages/core/src/baseclient.ts'
             context-line*
               u'    promisedEvent'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'NodeClient.Object.<anonymous>.BaseClient.captureException'
+            lineno (line number is used only if module or filename are available)
               110
           frame*
             module*
@@ -112,7 +128,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/dist/hub.js'
             context-line*
               u'     */'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.withScope'
+            lineno (line number is used only if module or filename are available)
               171
           frame*
             module*
@@ -130,7 +148,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'        return fn.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.mockConstructor [as captureException]'
+            lineno (line number is used only if module or filename are available)
               150
           frame*
             module*
@@ -139,7 +159,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'          })();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.<anonymous>'
+            lineno (line number is used only if module or filename are available)
               446
           frame*
             module*
@@ -148,7 +170,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'                return specificMockImpl.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'finalReturnValue'
+            lineno (line number is used only if module or filename are available)
               437
           frame*
             module*
@@ -157,7 +181,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/node_modules/jest-mock/build/index.js'
             context-line*
               u'        return original.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.<anonymous>'
+            lineno (line number is used only if module or filename are available)
               806
           frame*
             module*
@@ -166,7 +192,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/src/hub.ts'
             context-line*
               u'    if (maxBreadcrumbs <= 0) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.captureException'
+            lineno (line number is used only if module or filename are available)
               255
           frame*
             module*
@@ -175,7 +203,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/packages/hub/dist/hub.js'
             context-line*
               u'     * @returns Scope, the new cloned scope'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Hub.Object.<anonymous>.Hub.invokeClient'
+            lineno (line number is used only if module or filename are available)
               91
           frame*
             module*
@@ -184,7 +214,9 @@ system:
               u'/home/travis/build/getsentry/sentry-javascript/packages/core/src/baseclient.ts'
             context-line*
               u'    promisedEvent'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'NodeClient.Object.<anonymous>.BaseClient.captureException'
+            lineno (line number is used only if module or filename are available)
               110
           frame*
             module*
diff --git a/tests/sentry/event_hashing/fixtures/python-http-error.out b/tests/sentry/event_hashing/fixtures/python-http-error.out
index 8dc7f6cf3e..a1f47fb581 100644
--- a/tests/sentry/event_hashing/fixtures/python-http-error.out
+++ b/tests/sentry/event_hashing/fixtures/python-http-error.out
@@ -11,7 +11,9 @@ app:
               u'sentry/utils/safe.py'
             context-line*
               u'                result = func(*args, **kwargs)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'safe_execute'
+            lineno (line number is used only if module or filename are available)
               29
           frame*
             module*
@@ -20,7 +22,9 @@ app:
               u'sentry/integrations/slack/notify_action.py'
             context-line*
               u'            resp.raise_for_status()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'send_notification'
+            lineno (line number is used only if module or filename are available)
               119
           frame (non app frame)
             module*
@@ -29,7 +33,9 @@ app:
               u'requests/models.py'
             context-line*
               u'            raise HTTPError(http_error_msg, response=self)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'raise_for_status'
+            lineno (line number is used only if module or filename are available)
               940
         type*
           u'HTTPError'
@@ -56,7 +62,9 @@ system:
               u'sentry/utils/safe.py'
             context-line*
               u'                result = func(*args, **kwargs)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'safe_execute'
+            lineno (line number is used only if module or filename are available)
               29
           frame*
             module*
@@ -65,7 +73,9 @@ system:
               u'sentry/integrations/slack/notify_action.py'
             context-line*
               u'            resp.raise_for_status()'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'send_notification'
+            lineno (line number is used only if module or filename are available)
               119
           frame*
             module*
@@ -74,7 +84,9 @@ system:
               u'requests/models.py'
             context-line*
               u'            raise HTTPError(http_error_msg, response=self)'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'raise_for_status'
+            lineno (line number is used only if module or filename are available)
               940
         type*
           u'HTTPError'
diff --git a/tests/sentry/event_hashing/fixtures/react-native.out b/tests/sentry/event_hashing/fixtures/react-native.out
index f6c7bda24a..4353e61609 100644
--- a/tests/sentry/event_hashing/fixtures/react-native.out
+++ b/tests/sentry/event_hashing/fixtures/react-native.out
@@ -11,7 +11,9 @@ app:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    return this.flushedQueue();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'value'
+            lineno (line number is used only if module or filename are available)
               119
           frame (non app frame)
             module*
@@ -20,7 +22,9 @@ app:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'      this._inCall--;'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'flushedQueue'
+            lineno (line number is used only if module or filename are available)
               318
           frame (non app frame)
             module*
@@ -29,7 +33,9 @@ app:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    return this.flushedQueue();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_inCall'
+            lineno (line number is used only if module or filename are available)
               119
           frame (non app frame)
             module*
@@ -38,7 +44,9 @@ app:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    this._lastFlush = new Date().getTime();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'flushedQueue'
+            lineno (line number is used only if module or filename are available)
               357
           frame (non app frame)
             module*
@@ -47,7 +55,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'      _receiveRootNodeIDEvent(index, eventTopLevelType, i);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_lastFlush'
+            lineno (line number is used only if module or filename are available)
               1160
           frame (non app frame)
             module*
@@ -56,7 +66,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  batchedUpdates(function() {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_receiveRootNodeIDEvent'
+            lineno (line number is used only if module or filename are available)
               1095
           frame (non app frame)
             module*
@@ -65,7 +77,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    return _batchedUpdates(fn, bookkeeping);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'batchedUpdates'
+            lineno (line number is used only if module or filename are available)
               1054
           frame (non app frame)
             module*
@@ -74,7 +88,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'        return fn(a);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_batchedUpdates'
+            lineno (line number is used only if module or filename are available)
               5928
           frame (non app frame)
             module*
@@ -83,7 +99,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'      (forEachAccumulated(events, executeDispatchesAndReleaseTopLevel),'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'fn'
+            lineno (line number is used only if module or filename are available)
               1113
           frame (non app frame)
             module*
@@ -92,7 +110,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  Array.isArray(arr) ? arr.forEach(cb, scope) : arr && cb.call(scope, arr);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'forEachAccumulated'
+            lineno (line number is used only if module or filename are available)
               219
           frame (non app frame)
             function (function name is used only if module or filename are available)
@@ -104,7 +124,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'        executeDispatch(e, !1, dispatchListeners, dispatchInstances);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'D'
+            lineno (line number is used only if module or filename are available)
               235
           frame (non app frame)
             module*
@@ -113,7 +135,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  ReactErrorUtils.invokeGuardedCallbackAndCatchFirstError('
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'executeDispatch'
+            lineno (line number is used only if module or filename are available)
               181
           frame (non app frame)
             module*
@@ -122,7 +146,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    ReactErrorUtils.invokeGuardedCallback.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'invokeGuardedCallbackAndCatchFirstError'
+            lineno (line number is used only if module or filename are available)
               54
           frame (non app frame)
             module*
@@ -131,7 +157,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    invokeGuardedCallback.apply(ReactErrorUtils, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'apply'
+            lineno (line number is used only if module or filename are available)
               41
           frame (non app frame)
             module*
@@ -140,7 +168,9 @@ app:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  var funcArgs = Array.prototype.slice.call(arguments, 3);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'apply'
+            lineno (line number is used only if module or filename are available)
               28
           frame (non app frame)
             module*
@@ -149,7 +179,9 @@ app:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'  touchableHandleResponderRelease: function(e) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'arguments'
+            lineno (line number is used only if module or filename are available)
               430
           frame (non app frame)
             module*
@@ -158,7 +190,9 @@ app:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'      this._performSideEffectsForTransition(curState, nextState, signal, e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_receiveSignal'
+            lineno (line number is used only if module or filename are available)
               662
           frame (non app frame)
             module*
@@ -167,7 +201,9 @@ app:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'        this.touchableHandlePress(e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_performSideEffectsForTransition'
+            lineno (line number is used only if module or filename are available)
               744
           frame (non app frame)
             module*
@@ -176,7 +212,9 @@ app:
               u'node_modules/react-native/Libraries/Components/Touchable/TouchableNativeFeedback.android.js'
             context-line*
               u'    this.props.onPress && this.props.onPress(e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'this'
+            lineno (line number is used only if module or filename are available)
               175
           frame*
             module*
@@ -185,7 +223,9 @@ app:
               u'App.js'
             context-line*
               u'        <Button'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'onPress'
+            lineno (line number is used only if module or filename are available)
               143
           frame*
             module*
@@ -194,7 +234,9 @@ app:
               u'App.js'
             context-line*
               u'        <Button'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Button'
+            lineno (line number is used only if module or filename are available)
               115
         type*
           u'TypeError'
@@ -214,7 +256,9 @@ system:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    return this.flushedQueue();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'value'
+            lineno (line number is used only if module or filename are available)
               119
           frame*
             module*
@@ -223,7 +267,9 @@ system:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'      this._inCall--;'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'flushedQueue'
+            lineno (line number is used only if module or filename are available)
               318
           frame*
             module*
@@ -232,7 +278,9 @@ system:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    return this.flushedQueue();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_inCall'
+            lineno (line number is used only if module or filename are available)
               119
           frame*
             module*
@@ -241,7 +289,9 @@ system:
               u'node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js'
             context-line*
               u'    this._lastFlush = new Date().getTime();'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'flushedQueue'
+            lineno (line number is used only if module or filename are available)
               357
           frame*
             module*
@@ -250,7 +300,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'      _receiveRootNodeIDEvent(index, eventTopLevelType, i);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_lastFlush'
+            lineno (line number is used only if module or filename are available)
               1160
           frame*
             module*
@@ -259,7 +311,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  batchedUpdates(function() {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_receiveRootNodeIDEvent'
+            lineno (line number is used only if module or filename are available)
               1095
           frame*
             module*
@@ -268,7 +322,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    return _batchedUpdates(fn, bookkeeping);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'batchedUpdates'
+            lineno (line number is used only if module or filename are available)
               1054
           frame*
             module*
@@ -277,7 +333,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'        return fn(a);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_batchedUpdates'
+            lineno (line number is used only if module or filename are available)
               5928
           frame*
             module*
@@ -286,7 +344,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'      (forEachAccumulated(events, executeDispatchesAndReleaseTopLevel),'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'fn'
+            lineno (line number is used only if module or filename are available)
               1113
           frame*
             module*
@@ -295,7 +355,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  Array.isArray(arr) ? arr.forEach(cb, scope) : arr && cb.call(scope, arr);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'forEachAccumulated'
+            lineno (line number is used only if module or filename are available)
               219
           frame
             function (function name is used only if module or filename are available)
@@ -307,7 +369,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'        executeDispatch(e, !1, dispatchListeners, dispatchInstances);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'D'
+            lineno (line number is used only if module or filename are available)
               235
           frame*
             module*
@@ -316,7 +380,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  ReactErrorUtils.invokeGuardedCallbackAndCatchFirstError('
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'executeDispatch'
+            lineno (line number is used only if module or filename are available)
               181
           frame*
             module*
@@ -325,7 +391,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    ReactErrorUtils.invokeGuardedCallback.apply(this, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'invokeGuardedCallbackAndCatchFirstError'
+            lineno (line number is used only if module or filename are available)
               54
           frame*
             module*
@@ -334,7 +402,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'    invokeGuardedCallback.apply(ReactErrorUtils, arguments);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'apply'
+            lineno (line number is used only if module or filename are available)
               41
           frame*
             module*
@@ -343,7 +413,9 @@ system:
               u'node_modules/react-native/Libraries/Renderer/ReactNativeRenderer-prod.js'
             context-line*
               u'  var funcArgs = Array.prototype.slice.call(arguments, 3);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'apply'
+            lineno (line number is used only if module or filename are available)
               28
           frame*
             module*
@@ -352,7 +424,9 @@ system:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'  touchableHandleResponderRelease: function(e) {'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'arguments'
+            lineno (line number is used only if module or filename are available)
               430
           frame*
             module*
@@ -361,7 +435,9 @@ system:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'      this._performSideEffectsForTransition(curState, nextState, signal, e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_receiveSignal'
+            lineno (line number is used only if module or filename are available)
               662
           frame*
             module*
@@ -370,7 +446,9 @@ system:
               u'node_modules/react-native/Libraries/Components/Touchable/Touchable.js'
             context-line*
               u'        this.touchableHandlePress(e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'_performSideEffectsForTransition'
+            lineno (line number is used only if module or filename are available)
               744
           frame*
             module*
@@ -379,7 +457,9 @@ system:
               u'node_modules/react-native/Libraries/Components/Touchable/TouchableNativeFeedback.android.js'
             context-line*
               u'    this.props.onPress && this.props.onPress(e);'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'this'
+            lineno (line number is used only if module or filename are available)
               175
           frame*
             module*
@@ -388,7 +468,9 @@ system:
               u'App.js'
             context-line*
               u'        <Button'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'onPress'
+            lineno (line number is used only if module or filename are available)
               143
           frame*
             module*
@@ -397,7 +479,9 @@ system:
               u'App.js'
             context-line*
               u'        <Button'
-            function (line number is used only if module or filename are available)
+            function (function name is used only if module or filename are available)
+              u'Button'
+            lineno (line number is used only if module or filename are available)
               115
         type*
           u'TypeError'
diff --git a/tests/sentry/event_hashing/test_variants.py b/tests/sentry/event_hashing/test_variants.py
index 6e8b29c10a..10da311745 100644
--- a/tests/sentry/event_hashing/test_variants.py
+++ b/tests/sentry/event_hashing/test_variants.py
@@ -75,4 +75,4 @@ def test_event_hash_variant(infile):
     assert sorted(evt.get_hashes()) == sorted(
         filter(None, [x.get_hash() for x in evt.get_grouping_variants().values()]))
 
-    assert output == refval
+    assert refval == output
