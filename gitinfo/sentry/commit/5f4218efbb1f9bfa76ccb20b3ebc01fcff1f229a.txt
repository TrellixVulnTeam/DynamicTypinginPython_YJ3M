commit 5f4218efbb1f9bfa76ccb20b3ebc01fcff1f229a
Author: Mark Story <mark@sentry.io>
Date:   Wed Jun 17 13:54:59 2020 -0400

    ref(ui) Replace icon-trash with IconDelete (#19377)
    
    I needed to customize icons inside bootstrap buttons to retain visual
    appearance with the previous implementation. These hacks should be
    removed when buttons are converted to styled components.

diff --git a/src/sentry/static/sentry/app/icons/iconDelete.tsx b/src/sentry/static/sentry/app/icons/iconDelete.tsx
index a296a3e39b..5d1f074b5e 100644
--- a/src/sentry/static/sentry/app/icons/iconDelete.tsx
+++ b/src/sentry/static/sentry/app/icons/iconDelete.tsx
@@ -20,6 +20,4 @@ const IconDelete = React.forwardRef<SVGSVGElement, Props>(function IconDelete(
   );
 });
 
-IconDelete.displayName = 'IconDelete';
-
 export {IconDelete};
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/actions.jsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/actions.jsx
index 4aac7d9e83..44916a348c 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/actions.jsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/actions.jsx
@@ -20,6 +20,7 @@ import FeatureDisabled from 'app/components/acl/featureDisabled';
 import GroupActions from 'app/actions/groupActions';
 import GuideAnchor from 'app/components/assistant/guideAnchor';
 import IgnoreActions from 'app/components/actions/ignore';
+import {IconDelete} from 'app/icons';
 import Link from 'app/components/links/link';
 import LinkWithConfirmation from 'app/components/links/linkWithConfirmation';
 import MenuItem from 'app/components/menuItem';
@@ -99,7 +100,7 @@ class DeleteActions extends React.Component {
           )}
           onConfirm={this.props.onDelete}
         >
-          <span className="icon-trash" />
+          <IconDelete size="xs" css={{position: 'relative', top: '1px'}} />
         </LinkWithConfirmation>
         <DropdownLink caret className="group-delete btn btn-default btn-sm">
           <MenuItem onClick={this.openDiscardModal}>
diff --git a/src/sentry/static/sentry/app/views/settings/organizationApiKeys/organizationApiKeysList.jsx b/src/sentry/static/sentry/app/views/settings/organizationApiKeys/organizationApiKeysList.jsx
index d2dedae992..a36a086746 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationApiKeys/organizationApiKeysList.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationApiKeys/organizationApiKeysList.jsx
@@ -8,12 +8,12 @@ import AutoSelectText from 'app/components/autoSelectText';
 import Button from 'app/components/button';
 import EmptyMessage from 'app/views/settings/components/emptyMessage';
 import ExternalLink from 'app/components/links/externalLink';
+import {IconDelete, IconAdd} from 'app/icons';
 import Link from 'app/components/links/link';
 import LinkWithConfirmation from 'app/components/links/linkWithConfirmation';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
 import TextBlock from 'app/views/settings/components/text/textBlock';
 import recreateRoute from 'app/utils/recreateRoute';
-import {IconAdd} from 'app/icons';
 
 class OrganizationApiKeysList extends React.Component {
   static propTypes = {
@@ -112,7 +112,7 @@ class OrganizationApiKeysList extends React.Component {
                         message={t('Are you sure you want to remove this API key?')}
                         title={t('Remove API Key?')}
                       >
-                        <span className="icon-trash" />
+                        <IconDelete size="xs" css={{position: 'relative', top: '2px'}} />
                       </LinkWithConfirmation>
                     </Box>
                   </PanelItem>
diff --git a/src/sentry/static/sentry/less/auth.less b/src/sentry/static/sentry/less/auth.less
index 4bdf031d4e..22601f98d0 100644
--- a/src/sentry/static/sentry/less/auth.less
+++ b/src/sentry/static/sentry/less/auth.less
@@ -149,10 +149,6 @@ section.org-login {
       margin-top: -4px;
     }
 
-    .icon-trash {
-      margin-left: -2px;
-    }
-
     &.enrolled {
       h4:after {
         display: inline-block;
diff --git a/src/sentry/static/sentry/less/fonts.less b/src/sentry/static/sentry/less/fonts.less
index b963524139..a6523d76e2 100644
--- a/src/sentry/static/sentry/less/fonts.less
+++ b/src/sentry/static/sentry/less/fonts.less
@@ -236,9 +236,6 @@
 .icon-search:before {
   content: '\e601';
 }
-.icon-trash:before {
-  content: '\e606';
-}
 .icon-settings:before {
   content: '\e60b';
 }
diff --git a/src/sentry/static/sentry/less/includes/bootstrap/glyphicons.less b/src/sentry/static/sentry/less/includes/bootstrap/glyphicons.less
index 9fe5e970b0..3ee8ffcba1 100644
--- a/src/sentry/static/sentry/less/includes/bootstrap/glyphicons.less
+++ b/src/sentry/static/sentry/less/includes/bootstrap/glyphicons.less
@@ -155,11 +155,6 @@
     content: '\e019';
   }
 }
-.glyphicon-trash {
-  &:before {
-    content: '\e020';
-  }
-}
 .glyphicon-home {
   &:before {
     content: '\e021';
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 86678371a1..15a49c3c14 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -232,8 +232,7 @@ fieldset[disabled] .btn-danger.active,
     margin-left: -1px;
   }
 
-  .icon-checkmark,
-  .icon-trash {
+  .icon-checkmark {
     position: relative;
     top: 1px;
     margin-right: -1px;
diff --git a/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
index 48f4cde185..99f6f28ab2 100644
--- a/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectTags.spec.jsx.snap
@@ -434,7 +434,7 @@ exports[`ProjectTags renders 1`] = `
                                                           className="css-dm7gfi-Icon edwq9my2"
                                                           size="xsmall"
                                                         >
-                                                          <IconDelete
+                                                          <ForwardRef(IconDelete)
                                                             size="xs"
                                                           >
                                                             <ForwardRef(SvgIcon)
@@ -466,7 +466,7 @@ exports[`ProjectTags renders 1`] = `
                                                                 />
                                                               </svg>
                                                             </ForwardRef(SvgIcon)>
-                                                          </IconDelete>
+                                                          </ForwardRef(IconDelete)>
                                                         </span>
                                                       </Icon>
                                                     </span>
@@ -648,7 +648,7 @@ exports[`ProjectTags renders 1`] = `
                                                           className="css-dm7gfi-Icon edwq9my2"
                                                           size="xsmall"
                                                         >
-                                                          <IconDelete
+                                                          <ForwardRef(IconDelete)
                                                             size="xs"
                                                           >
                                                             <ForwardRef(SvgIcon)
@@ -680,7 +680,7 @@ exports[`ProjectTags renders 1`] = `
                                                                 />
                                                               </svg>
                                                             </ForwardRef(SvgIcon)>
-                                                          </IconDelete>
+                                                          </ForwardRef(IconDelete)>
                                                         </span>
                                                       </Icon>
                                                     </span>
@@ -862,7 +862,7 @@ exports[`ProjectTags renders 1`] = `
                                                           className="css-dm7gfi-Icon edwq9my2"
                                                           size="xsmall"
                                                         >
-                                                          <IconDelete
+                                                          <ForwardRef(IconDelete)
                                                             size="xs"
                                                           >
                                                             <ForwardRef(SvgIcon)
@@ -894,7 +894,7 @@ exports[`ProjectTags renders 1`] = `
                                                                 />
                                                               </svg>
                                                             </ForwardRef(SvgIcon)>
-                                                          </IconDelete>
+                                                          </ForwardRef(IconDelete)>
                                                         </span>
                                                       </Icon>
                                                     </span>
@@ -1097,7 +1097,7 @@ exports[`ProjectTags renders 1`] = `
                                                                     className="css-dm7gfi-Icon edwq9my2"
                                                                     size="xsmall"
                                                                   >
-                                                                    <IconDelete
+                                                                    <ForwardRef(IconDelete)
                                                                       size="xs"
                                                                     >
                                                                       <ForwardRef(SvgIcon)
@@ -1129,7 +1129,7 @@ exports[`ProjectTags renders 1`] = `
                                                                           />
                                                                         </svg>
                                                                       </ForwardRef(SvgIcon)>
-                                                                    </IconDelete>
+                                                                    </ForwardRef(IconDelete)>
                                                                   </span>
                                                                 </Icon>
                                                               </span>
@@ -1336,7 +1336,7 @@ exports[`ProjectTags renders 1`] = `
                                                                     className="css-dm7gfi-Icon edwq9my2"
                                                                     size="xsmall"
                                                                   >
-                                                                    <IconDelete
+                                                                    <ForwardRef(IconDelete)
                                                                       size="xs"
                                                                     >
                                                                       <ForwardRef(SvgIcon)
@@ -1368,7 +1368,7 @@ exports[`ProjectTags renders 1`] = `
                                                                           />
                                                                         </svg>
                                                                       </ForwardRef(SvgIcon)>
-                                                                    </IconDelete>
+                                                                    </ForwardRef(IconDelete)>
                                                                   </span>
                                                                 </Icon>
                                                               </span>
diff --git a/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
index 067007ea0a..ebcbfc820e 100644
--- a/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/organizationApiKeysList.spec.jsx.snap
@@ -448,9 +448,58 @@ exports[`OrganizationApiKeysList renders 1`] = `
                               onClick={[Function]}
                               title="Remove API Key?"
                             >
-                              <span
-                                className="icon-trash"
-                              />
+                              <EmotionCssPropInternal
+                                __EMOTION_TYPE_PLEASE_DO_NOT_USE__={
+                                  Object {
+                                    "$$typeof": Symbol(react.forward_ref),
+                                    "render": [Function],
+                                  }
+                                }
+                                css={
+                                  Object {
+                                    "name": "17ls4qs-OrganizationApiKeysList",
+                                    "styles": "position:relative;top:2px;;label:OrganizationApiKeysList;",
+                                  }
+                                }
+                                size="xs"
+                              >
+                                <ForwardRef(IconDelete)
+                                  className="css-17ls4qs-OrganizationApiKeysList"
+                                  size="xs"
+                                >
+                                  <ForwardRef(SvgIcon)
+                                    className="css-17ls4qs-OrganizationApiKeysList"
+                                    size="xs"
+                                  >
+                                    <svg
+                                      className="css-17ls4qs-OrganizationApiKeysList"
+                                      fill="currentColor"
+                                      height="12px"
+                                      viewBox="0 0 16 16"
+                                      width="12px"
+                                    >
+                                      <path
+                                        d="M14.71,3.94H1.29a.75.75,0,0,1,0-1.5H14.71a.75.75,0,0,1,0,1.5Z"
+                                      />
+                                      <path
+                                        d="M12.69,15.94H3.31a1.75,1.75,0,0,1-1.75-1.75v-11h1.5v11a.25.25,0,0,0,.25.25h9.38a.25.25,0,0,0,.25-.25v-11h1.5v11A1.75,1.75,0,0,1,12.69,15.94Z"
+                                      />
+                                      <path
+                                        d="M5,13a.74.74,0,0,1-.75-.75V6.14a.75.75,0,0,1,1.5,0v6.1A.75.75,0,0,1,5,13Z"
+                                      />
+                                      <path
+                                        d="M8,13a.75.75,0,0,1-.75-.75V6.14a.75.75,0,0,1,1.5,0v6.1A.75.75,0,0,1,8,13Z"
+                                      />
+                                      <path
+                                        d="M11.05,13a.75.75,0,0,1-.75-.75V6.14a.75.75,0,0,1,1.5,0v6.1A.74.74,0,0,1,11.05,13Z"
+                                      />
+                                      <path
+                                        d="M10.51,3.47l-.81-2H6.3l-.81,2L4.1,2.91,5,.77A1.26,1.26,0,0,1,6.13,0H9.87A1.26,1.26,0,0,1,11,.77l.87,2.14Z"
+                                      />
+                                    </svg>
+                                  </ForwardRef(SvgIcon)>
+                                </ForwardRef(IconDelete)>
+                              </EmotionCssPropInternal>
                             </a>
                             <Modal
                               animation={false}
diff --git a/tests/js/spec/views/settings/organizationApiKeysList.spec.jsx b/tests/js/spec/views/settings/organizationApiKeysList.spec.jsx
index 39566852dc..bf22a8b150 100644
--- a/tests/js/spec/views/settings/organizationApiKeysList.spec.jsx
+++ b/tests/js/spec/views/settings/organizationApiKeysList.spec.jsx
@@ -40,7 +40,7 @@ describe('OrganizationApiKeysList', function() {
 
     wrapper.update();
     // Click remove button
-    wrapper.find('.icon-trash').simulate('click');
+    wrapper.find('ForwardRef(IconDelete)').simulate('click');
     wrapper.update();
 
     // expect a modal
