commit 86cf3619de664ff08cd38c00a0a2b7fcecd4cca9
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Thu Jun 18 14:29:13 2020 -0700

    ref(ui): Improve visual consistency of alerts (#19435)

diff --git a/docs-ui/components/alert.stories.js b/docs-ui/components/alert.stories.js
index 1f79f292bb..4fe02c118c 100644
--- a/docs-ui/components/alert.stories.js
+++ b/docs-ui/components/alert.stories.js
@@ -6,6 +6,7 @@ import {withInfo} from '@storybook/addon-info';
 import space from 'app/styles/space';
 import Alert from 'app/components/alert';
 import ExternalLink from 'app/components/links/externalLink';
+import {IconInfo, IconCheckmark, IconWarning, IconNot} from 'app/icons';
 
 storiesOf('UI|Alerts/Alert', module)
   .add(
@@ -27,6 +28,29 @@ storiesOf('UI|Alerts/Alert', module)
       </Grid>
     ))
   )
+  .add(
+    'With icons',
+    withInfo('Inline alert messages')(() => (
+      <Grid>
+        <Alert type="info" icon={<IconInfo size="md" />}>
+          <ExternalLink href="#">Info message with a url</ExternalLink>
+        </Alert>
+
+        <Alert type="success" icon={<IconCheckmark size="md" />}>
+          Success message without a url
+        </Alert>
+
+        <Alert type="warning" icon={<IconWarning size="md" />}>
+          Warning message
+        </Alert>
+
+        <Alert type="error" icon={<IconNot size="md" />}>
+          Background workers haven't checked in recently. This can mean an issue with your
+          configuration or a serious backlog in tasks.
+        </Alert>
+      </Grid>
+    ))
+  )
   .add(
     'System',
     withInfo(
diff --git a/src/sentry/static/sentry/app/components/alert.tsx b/src/sentry/static/sentry/app/components/alert.tsx
index e0cdff4d71..c2bbbd6dde 100644
--- a/src/sentry/static/sentry/app/components/alert.tsx
+++ b/src/sentry/static/sentry/app/components/alert.tsx
@@ -13,7 +13,6 @@ export type Props = {
   iconSize?: string;
   icon?: string | React.ReactNode;
   system?: boolean;
-  thinner?: boolean;
 };
 
 type AlertProps = Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props;
@@ -52,15 +51,10 @@ const getSystemAlertColorStyles = ({
   }
 `;
 
-const alertStyles = ({
-  theme,
-  type = DEFAULT_TYPE,
-  system,
-  thinner,
-}: Props & {theme: any}) => css`
+const alertStyles = ({theme, type = DEFAULT_TYPE, system}: Props & {theme: any}) => css`
   display: flex;
   margin: 0 0 ${space(3)};
-  padding: ${space(thinner ? 1 : 2)};
+  padding: ${space(1.5)} ${space(2)};
   font-size: 15px;
   box-shadow: ${theme.dropShadowLight};
   border-radius: ${theme.borderRadius};
@@ -78,7 +72,7 @@ const alertStyles = ({
 
 const IconWrapper = styled('span')`
   display: flex;
-  margin: ${space(0.5)} ${space(1.5)} ${space(0.5)} 0;
+  margin-right: ${space(1)};
 `;
 
 const StyledTextBlock = styled('span')`
@@ -116,12 +110,11 @@ Alert.propTypes = {
   iconSize: PropTypes.string,
   icon: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),
   system: PropTypes.bool,
-  thinner: PropTypes.bool,
 };
 
 Alert.defaultProps = {
   type: DEFAULT_TYPE,
-  iconSize: '24px',
+  iconSize: '20px',
 };
 
 export {alertStyles};
diff --git a/src/sentry/static/sentry/app/components/panels/panelAlert.tsx b/src/sentry/static/sentry/app/components/panels/panelAlert.tsx
index adc7bab6bb..caa79e4f76 100644
--- a/src/sentry/static/sentry/app/components/panels/panelAlert.tsx
+++ b/src/sentry/static/sentry/app/components/panels/panelAlert.tsx
@@ -3,6 +3,7 @@ import React from 'react';
 import styled from '@emotion/styled';
 
 import Alert from 'app/components/alert';
+import space from 'app/styles/space';
 
 type Props = React.ComponentProps<typeof Alert>;
 
@@ -18,6 +19,7 @@ const PanelAlert = styled(({icon, ...props}: Props) => (
   <Alert {...props} icon={icon || DEFAULT_ICONS[props.type!]} system />
 ))`
   margin: 0 0 1px 0;
+  padding: ${space(2)};
   border-radius: 0;
 `;
 
diff --git a/src/sentry/static/sentry/app/utils/theme.tsx b/src/sentry/static/sentry/app/utils/theme.tsx
index 6332919e87..ee6d2af9a5 100644
--- a/src/sentry/static/sentry/app/utils/theme.tsx
+++ b/src/sentry/static/sentry/app/utils/theme.tsx
@@ -92,40 +92,39 @@ const colors = {
 } as const;
 
 const warning = {
-  backgroundLight: colors.yellow100,
   background: colors.yellow500,
-  border: colors.yellow500,
+  backgroundLight: colors.yellow100,
+  border: colors.yellow400,
   iconColor: colors.yellow500,
 } as const;
 
 const alert = {
   muted: {
-    backgroundLight: colors.gray100,
     background: colors.gray400,
-    iconColor: 'inherit',
+    backgroundLight: colors.gray100,
     border: colors.gray400,
+    iconColor: 'inherit',
   },
   info: {
+    background: colors.blue400,
     backgroundLight: colors.blue100,
-    border: colors.blue300,
+    border: colors.blue200,
     iconColor: colors.blue400,
-    background: colors.blue400,
   },
   warning,
-  //alias warn to warning
   warn: warning,
   success: {
+    background: colors.green400,
     backgroundLight: colors.green100,
-    border: colors.green400,
+    border: colors.green300,
     iconColor: colors.green500,
-    background: colors.green400,
   },
   error: {
-    backgroundLight: colors.redLightest,
-    border: colors.redLight,
-    textLight: colors.redLight,
-    iconColor: colors.red,
-    background: colors.red,
+    background: colors.red400,
+    backgroundLight: colors.red100,
+    border: colors.red200,
+    iconColor: colors.red400,
+    textLight: colors.red200,
   },
 } as const;
 
diff --git a/src/sentry/static/sentry/app/views/settings/projectAlerts/issueEditor/ruleNode.tsx b/src/sentry/static/sentry/app/views/settings/projectAlerts/issueEditor/ruleNode.tsx
index 680dbb440e..43245b3563 100644
--- a/src/sentry/static/sentry/app/views/settings/projectAlerts/issueEditor/ruleNode.tsx
+++ b/src/sentry/static/sentry/app/views/settings/projectAlerts/issueEditor/ruleNode.tsx
@@ -207,7 +207,7 @@ class RuleNode extends React.Component<Props> {
     switch (data.targetType) {
       case MailActionTargetType.IssueOwners:
         return (
-          <MarginlessAlert thinner type="warning">
+          <MarginlessAlert type="warning">
             {tct(
               'If there are no matching [issueOwners], ownership is determined by the [ownershipSettings].',
               {
@@ -231,7 +231,7 @@ class RuleNode extends React.Component<Props> {
         return null;
       case MailActionTargetType.Member:
         return (
-          <MarginlessAlert thinner type="warning">
+          <MarginlessAlert type="warning">
             {tct('Alerts sent directly to a member override their [alertSettings].', {
               alertSettings: (
                 <ExternalLink href="/settings/account/notifications/">
diff --git a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
index 716d8a0787..25c2f37830 100644
--- a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
@@ -31,16 +31,16 @@ exports[`ConfirmDelete renders 1`] = `
           className="modal-body"
         >
           <Alert
-            iconSize="24px"
+            iconSize="20px"
             type="error"
           >
             <Component
-              className="css-red6oa-Alert ejthpj82"
-              iconSize="24px"
+              className="css-1vh5f4n-Alert ejthpj82"
+              iconSize="20px"
               type="error"
             >
               <div
-                className="ref-error css-red6oa-Alert ejthpj82"
+                className="ref-error css-1vh5f4n-Alert ejthpj82"
               >
                 <StyledTextBlock>
                   <span
diff --git a/tests/js/spec/components/__snapshots__/tag.spec.jsx.snap b/tests/js/spec/components/__snapshots__/tag.spec.jsx.snap
index 79d12ddae5..db6b51c74c 100644
--- a/tests/js/spec/components/__snapshots__/tag.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/tag.spec.jsx.snap
@@ -8,12 +8,12 @@ exports[`Tag renders 1`] = `
 >
   <Component
     border={true}
-    className="css-ppvxot-Tag e1glkkip0"
+    className="css-w9a2kc-Tag e1glkkip0"
     priority="info"
     size="small"
   >
     <div
-      className="css-ppvxot-Tag e1glkkip0"
+      className="css-w9a2kc-Tag e1glkkip0"
     >
       Text to Copy
     </div>
diff --git a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
index c461efe539..fdbda864a5 100644
--- a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
+++ b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
@@ -47,37 +47,37 @@ exports[`EventSdkUpdates renders a suggestion to update the sdk and then enable
           >
             <Alert
               icon="icon-upgrade"
-              iconSize="24px"
+              iconSize="20px"
               key="{\\"enables\\":[{\\"enables\\":[],\\"type\\":\\"enableIntegration\\"}],\\"newSdkVersion\\":\\"0.9.0\\",\\"sdkName\\":\\"sentry.python\\",\\"sdkUrl\\":null,\\"type\\":\\"updateSdk\\"}"
               type="info"
             >
               <Component
-                className="css-6uh236-Alert ejthpj82"
+                className="css-22gnn3-Alert ejthpj82"
                 icon="icon-upgrade"
-                iconSize="24px"
+                iconSize="20px"
                 type="info"
               >
                 <div
-                  className="ref-info css-6uh236-Alert ejthpj82"
+                  className="ref-info css-22gnn3-Alert ejthpj82"
                 >
                   <IconWrapper>
                     <span
-                      className="css-dhrf1z-IconWrapper ejthpj80"
+                      className="css-wdumsi-IconWrapper ejthpj80"
                     >
                       <InlineSvg
-                        size="24px"
+                        size="20px"
                         src="icon-upgrade"
                       >
                         <ForwardRef
                           className="css-tbsmsq-InlineSvg enyz4ql0"
-                          size="24px"
+                          size="20px"
                           src="icon-upgrade"
                         >
                           <svg
                             className="css-tbsmsq-InlineSvg enyz4ql0"
-                            height="24px"
+                            height="20px"
                             viewBox={Object {}}
-                            width="24px"
+                            width="20px"
                           >
                             <use
                               href="#test"
diff --git a/tests/js/spec/components/events/interfaces/breadcrumbs/__snapshots__/filter.spec.tsx.snap b/tests/js/spec/components/events/interfaces/breadcrumbs/__snapshots__/filter.spec.tsx.snap
index d718b932a6..861f83e405 100644
--- a/tests/js/spec/components/events/interfaces/breadcrumbs/__snapshots__/filter.spec.tsx.snap
+++ b/tests/js/spec/components/events/interfaces/breadcrumbs/__snapshots__/filter.spec.tsx.snap
@@ -420,16 +420,16 @@ exports[`Filter default render 1`] = `
                   Object {
                     "alert": Object {
                       "error": Object {
-                        "background": "#e03e2f",
-                        "backgroundLight": "#FDF6F5",
-                        "border": "#FA5849",
-                        "iconColor": "#e03e2f",
-                        "textLight": "#FA5849",
+                        "background": "#FA4747",
+                        "backgroundLight": "#FFF5F7",
+                        "border": "#F4B1BB",
+                        "iconColor": "#FA4747",
+                        "textLight": "#F4B1BB",
                       },
                       "info": Object {
                         "background": "#3D74DB",
                         "backgroundLight": "#F5F9FF",
-                        "border": "#7199DD",
+                        "border": "#AFC7EE",
                         "iconColor": "#3D74DB",
                       },
                       "muted": Object {
@@ -441,19 +441,19 @@ exports[`Filter default render 1`] = `
                       "success": Object {
                         "background": "#4DC771",
                         "backgroundLight": "#F5FFFB",
-                        "border": "#4DC771",
+                        "border": "#8FE7BF",
                         "iconColor": "#1C8952",
                       },
                       "warn": Object {
                         "background": "#E2A301",
                         "backgroundLight": "#FFFDF5",
-                        "border": "#E2A301",
+                        "border": "#FFC227",
                         "iconColor": "#E2A301",
                       },
                       "warning": Object {
                         "background": "#E2A301",
                         "backgroundLight": "#FFFDF5",
-                        "border": "#E2A301",
+                        "border": "#FFC227",
                         "iconColor": "#E2A301",
                       },
                     },
diff --git a/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap b/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
index 99ba822510..9a4aadbfd8 100644
--- a/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
+++ b/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
@@ -91,44 +91,44 @@ exports[`ProjectPlugins renders 1`] = `
                 type="warning"
               >
                 <Component
-                  className="css-14tfigf-PanelAlert e1cszazt0"
+                  className="css-hizmuq-PanelAlert e1cszazt0"
                   type="warning"
                 >
                   <Alert
-                    className="css-14tfigf-PanelAlert e1cszazt0"
+                    className="css-hizmuq-PanelAlert e1cszazt0"
                     icon="icon-circle-exclamation"
-                    iconSize="24px"
+                    iconSize="20px"
                     system={true}
                     type="warning"
                   >
                     <Component
-                      className="e1cszazt0 css-1xqi65p-Alert-PanelAlert ejthpj82"
+                      className="e1cszazt0 css-1l2bl4n-Alert-PanelAlert ejthpj82"
                       icon="icon-circle-exclamation"
-                      iconSize="24px"
+                      iconSize="20px"
                       system={true}
                       type="warning"
                     >
                       <div
-                        className="ref-warning e1cszazt0 css-1xqi65p-Alert-PanelAlert ejthpj82"
+                        className="ref-warning e1cszazt0 css-1l2bl4n-Alert-PanelAlert ejthpj82"
                       >
                         <IconWrapper>
                           <span
-                            className="css-dhrf1z-IconWrapper ejthpj80"
+                            className="css-wdumsi-IconWrapper ejthpj80"
                           >
                             <InlineSvg
-                              size="24px"
+                              size="20px"
                               src="icon-circle-exclamation"
                             >
                               <ForwardRef
                                 className="css-tbsmsq-InlineSvg enyz4ql0"
-                                size="24px"
+                                size="20px"
                                 src="icon-circle-exclamation"
                               >
                                 <svg
                                   className="css-tbsmsq-InlineSvg enyz4ql0"
-                                  height="24px"
+                                  height="20px"
                                   viewBox={Object {}}
-                                  width="24px"
+                                  width="20px"
                                 >
                                   <use
                                     href="#test"
diff --git a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
index d6221727e2..f7aafdcf71 100644
--- a/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationDeveloperSettings/__snapshots__/index.spec.jsx.snap
@@ -131,7 +131,7 @@ exports[`Organization Developer Settings when no Apps exist displays empty state
               withoutMarginBottom={false}
             >
               <Component
-                className="css-1j7y39l-StyledLink e1ylhppg0"
+                className="css-1bza080-StyledLink e1ylhppg0"
                 href="https://docs.sentry.io/workflow/integrations/integration-platform/"
                 openInNewTab={false}
                 priority="warning"
@@ -139,12 +139,12 @@ exports[`Organization Developer Settings when no Apps exist displays empty state
                 withoutMarginBottom={false}
               >
                 <ForwardRef(ExternalLink)
-                  className="css-1j7y39l-StyledLink e1ylhppg0"
+                  className="css-1bza080-StyledLink e1ylhppg0"
                   href="https://docs.sentry.io/workflow/integrations/integration-platform/"
                   openInNewTab={false}
                 >
                   <a
-                    className="css-1j7y39l-StyledLink e1ylhppg0"
+                    className="css-1bza080-StyledLink e1ylhppg0"
                     href="https://docs.sentry.io/workflow/integrations/integration-platform/"
                   >
                     <AlertLinkText>
