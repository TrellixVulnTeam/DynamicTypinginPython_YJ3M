commit ed82c1affd549f38c2a165be4e484dc622563307
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed May 18 22:55:29 2016 +0200

    Make properties from values depending on the system url prefix

diff --git a/src/sentry/models/authenticator.py b/src/sentry/models/authenticator.py
index 1922763b17..104c0882f2 100644
--- a/src/sentry/models/authenticator.py
+++ b/src/sentry/models/authenticator.py
@@ -398,10 +398,17 @@ class U2fInterface(AuthenticatorInterface):
                     'a browser which supports this system (like Google '
                     'Chrome).')
 
-    u2f_app_id = options.get('system.url-prefix')
-    u2f_facets = [u2f_app_id]
+    @property
+    def u2f_app_id(self):
+        return options.get('system.url-prefix')
+
+    @property
+    def u2f_facets(self):
+        return [self.u2f_app_id]
 
-    is_available = u2f_app_id.startswith('https://')
+    @property
+    def is_available(self):
+        return self.u2f_app_id.startswith('https://')
 
     def generate_new_config(self):
         return {
