commit f571df9ae4d71892bb0cc85bd181e433b66d9853
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jan 14 16:45:42 2012 -0800

    Gracefully handle invalid project ids

diff --git a/sentry/middleware.py b/sentry/middleware.py
index fdc5cebf5a..a8f966184d 100644
--- a/sentry/middleware.py
+++ b/sentry/middleware.py
@@ -41,7 +41,10 @@ class PluginList(object):
 class SentryMiddleware(object):
     def process_view(self, request, view_func, view_args, view_kwargs):
         if 'project_id' in view_kwargs:
-            project = Project.objects.get(pk=view_kwargs['project_id'])
+            try:
+                project = Project.objects.get(pk=view_kwargs['project_id'])
+            except Project.DoesNotExist:
+                project = None
         else:
             project = None
 
