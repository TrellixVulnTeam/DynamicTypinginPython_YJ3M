commit 83bd435b2db4ad728e7e8c0c9bfd3699f707869c
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Dec 29 16:44:45 2012 -0800

    Allow plugin pages to load when they're not enabled

diff --git a/src/sentry/templates/sentry/projects/plugins/configure.html b/src/sentry/templates/sentry/projects/plugins/configure.html
index d9720efb2b..26bcfcb58c 100644
--- a/src/sentry/templates/sentry/projects/plugins/configure.html
+++ b/src/sentry/templates/sentry/projects/plugins/configure.html
@@ -14,7 +14,11 @@
 {% block inner %}
     <div class="page-header">
         <div class="pull-right">
-            <a href="{% url sentry-disable-project-plugin project.slug plugin.slug %}" class="btn">{% trans "Disable Plugin" %}</a>
+            {% if not plugin_is_enabled %}
+                <a href="{% url sentry-enable-project-plugin project.slug plugin.slug %}" class="btn">{% trans "Enable Plugin" %}</a>
+            {% else %}
+                <a href="{% url sentry-disable-project-plugin project.slug plugin.slug %}" class="btn">{% trans "Disable Plugin" %}</a>
+            {% endif %}
             <a href="{% url sentry-reset-project-plugin project.slug plugin.slug %}" class="btn"
                 onclick="return confirm('{% trans "Are you sure you wish to reset all configuration for this plugin?" %}');">{% trans "Reset Configuration" %}</a>
         </div>
diff --git a/src/sentry/web/frontend/projects.py b/src/sentry/web/frontend/projects.py
index 04b2386012..3d56d63db2 100644
--- a/src/sentry/web/frontend/projects.py
+++ b/src/sentry/web/frontend/projects.py
@@ -344,7 +344,7 @@ def configure_project_plugin(request, project, slug):
     except KeyError:
         return HttpResponseRedirect(reverse('sentry-manage-project', args=[project.slug]))
 
-    if not plugin.is_enabled(project):
+    if not plugin.can_enable_for_projects():
         return HttpResponseRedirect(reverse('sentry-manage-project', args=[project.slug]))
 
     result = plugins.first('has_perm', request.user, 'configure_project_plugin', project, plugin)
@@ -366,6 +366,7 @@ def configure_project_plugin(request, project, slug):
         'view': view,
         'project': project,
         'plugin': plugin,
+        'plugin_is_enabled': plugin.is_enabled(project),
         'SECTION': 'settings',
     })
 
@@ -429,4 +430,4 @@ def disable_project_plugin(request, project, slug):
 
     plugin.set_option('enabled', False, project)
 
-    return HttpResponseRedirect(reverse('sentry-manage-project', args=[project.slug]))
+    return HttpResponseRedirect(reverse('sentry-configure-project-plugin', args=[project.slug, slug]))
