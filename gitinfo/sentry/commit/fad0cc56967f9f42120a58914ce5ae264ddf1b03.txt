commit fad0cc56967f9f42120a58914ce5ae264ddf1b03
Author: Ben Vinegar <ben@benv.ca>
Date:   Thu Sep 22 16:07:19 2016 -0700

    Fix sidebar user components on django-rendered pages

diff --git a/src/sentry/static/sentry/app/components/sidebar/index.jsx b/src/sentry/static/sentry/app/components/sidebar/index.jsx
index c7d35238bb..6b3deb5680 100644
--- a/src/sentry/static/sentry/app/components/sidebar/index.jsx
+++ b/src/sentry/static/sentry/app/components/sidebar/index.jsx
@@ -89,10 +89,6 @@ function getFirstRequiredAdminAction(org) {
 }
 
 const Sidebar = React.createClass({
-  propTypes: {
-    orgId: React.PropTypes.string
-  },
-
   mixins: [ApiMixin, OrganizationState],
 
   getInitialState: function() {
@@ -209,7 +205,7 @@ const Sidebar = React.createClass({
                 <SidebarPanel title={t('Assigned to me')}
                               hidePanel={()=>this.hidePanel()}>
                   <IssueList
-                    endpoint={`/organizations/${this.props.orgId}/members/me/issues/assigned/`}
+                    endpoint={`/organizations/${org.slug}/members/me/issues/assigned/`}
                     query={{
                       statsPeriod: '24h',
                       per_page: 10,
@@ -219,14 +215,14 @@ const Sidebar = React.createClass({
                     renderEmpty={() => <div className="sidebar-panel-empty" key="none">{t('No issues have been assigned to you.')}</div>}
                     ref="issueList"
                     showActions={false}
-                    params={{orgId:this.props.orgId}} />
+                    params={{orgId: org.slug}} />
                 </SidebarPanel>
             }
             {this.state.showPanel && this.state.currentPanel == 'bookmarks' &&
                 <SidebarPanel title={t('My Bookmarks')}
                               hidePanel={()=>this.hidePanel()}>
                   <IssueList
-                    endpoint={`/organizations/${this.props.orgId}/members/me/issues/bookmarked/`}
+                    endpoint={`/organizations/${org.slug}/members/me/issues/bookmarked/`}
                     query={{
                       statsPeriod: '24h',
                       per_page: 10,
@@ -236,14 +232,14 @@ const Sidebar = React.createClass({
                     renderEmpty={() => <div className="sidebar-panel-empty" key="no">{t('You have no bookmarked issues.')}</div>}
                     ref="issueList"
                     showActions={false}
-                    params={{orgId:this.props.orgId}} />
+                    params={{orgId: org.slug}} />
                 </SidebarPanel>
             }
             {this.state.showPanel && this.state.currentPanel == 'history' &&
                 <SidebarPanel title={t('Recently Viewed')}
                               hidePanel={()=>this.hidePanel()}>
                   <IssueList
-                    endpoint={`/organizations/${this.props.orgId}/members/me/issues/viewed/`}
+                    endpoint={`/organizations/${org.slug}/members/me/issues/viewed/`}
                     query={{
                       statsPeriod: '24h',
                       per_page: 10,
@@ -253,7 +249,7 @@ const Sidebar = React.createClass({
                     renderEmpty={() => <div className="sidebar-panel-empty" key="none">{t('No recently viewed issues.')}</div>}
                     ref="issueList"
                     showActions={false}
-                    params={{orgId:this.props.orgId}} />
+                    params={{orgId: org.slug}} />
                 </SidebarPanel>
             }
             {this.state.showPanel && this.state.currentPanel == 'statusupdate' &&
@@ -317,8 +313,8 @@ const Sidebar = React.createClass({
 
 
 
-          { /* {this.props.orgId ?
-            <Link to={`/${this.props.orgId}/`} className="logo">{logo}</Link>
+          { /* {org.slug ?
+            <Link to={`/${org.slug}/`} className="logo">{logo}</Link>
             :
             <a href="/" className="logo">{logo}</a>
           */}
diff --git a/src/sentry/static/sentry/app/views/organizationDetails.jsx b/src/sentry/static/sentry/app/views/organizationDetails.jsx
index 6f968ef1e3..d4ac7ddef4 100644
--- a/src/sentry/static/sentry/app/views/organizationDetails.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDetails.jsx
@@ -149,13 +149,11 @@ const OrganizationDetails = React.createClass({
       }
     }
 
-    let params = this.props.params;
-
     return (
       <DocumentTitle title={this.getTitle()}>
         <div className="app">
           {this.state.hooks}
-          <Sidebar orgId={params.orgId}/>
+          <Sidebar/>
           {this.props.children}
           <Footer />
         </div>
