commit cbf1e76f821fd7f7f9cdadc3bf01bb226b3289da
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue Jun 25 22:03:58 2019 +0200

    feat: Better multiple exclude support for devservices (#13814)

diff --git a/src/sentry/runner/commands/devservices.py b/src/sentry/runner/commands/devservices.py
index 59b05ba0c3..ae231413fa 100644
--- a/src/sentry/runner/commands/devservices.py
+++ b/src/sentry/runner/commands/devservices.py
@@ -3,6 +3,7 @@ from __future__ import absolute_import, print_function
 import os
 import click
 from six import text_type
+from itertools import chain
 
 
 def get_docker_client():
@@ -35,18 +36,6 @@ def ensure_interface(ports):
     return rv
 
 
-class SetType(click.ParamType):
-    name = 'set'
-
-    def convert(self, value, param, ctx):
-        if value is None:
-            return set()
-        return set(value.split(','))
-
-
-Set = SetType()
-
-
 @click.group()
 def devservices():
     """
@@ -58,11 +47,13 @@ def devservices():
 
 @devservices.command()
 @click.option('--project', default='sentry')
-@click.option('--exclude', type=Set, help='Services to ignore and not run.')
+@click.option('--exclude', multiple=True, help='Services to ignore and not run.')
 def up(project, exclude):
     "Run/update dependent services."
     os.environ['SENTRY_SKIP_BACKEND_VALIDATION'] = '1'
 
+    exclude = set(chain.from_iterable(x.split(',') for x in exclude))
+
     from sentry.runner import configure
     configure()
 
