commit 9a802f3d69f8bea59c834aaf7762861be90e1603
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Tue Feb 11 11:09:19 2020 -0500

    ref(ts): Convert chart utils to typescript (#16943)

diff --git a/src/sentry/static/sentry/app/components/charts/utils.jsx b/src/sentry/static/sentry/app/components/charts/utils.tsx
similarity index 78%
rename from src/sentry/static/sentry/app/components/charts/utils.jsx
rename to src/sentry/static/sentry/app/components/charts/utils.tsx
index 8b06d0828e..52883192f2 100644
--- a/src/sentry/static/sentry/app/components/charts/utils.jsx
+++ b/src/sentry/static/sentry/app/components/charts/utils.tsx
@@ -9,7 +9,13 @@ const DEFAULT_TRUNCATE_LENGTH = 80;
 const TWENTY_FOUR_HOURS = 1440;
 const THIRTY_MINUTES = 30;
 
-export function truncationFormatter(value, truncate) {
+type DateTimeObject = {
+  start: Date | null;
+  end: Date | null;
+  period?: string;
+};
+
+export function truncationFormatter(value: string, truncate: number): string {
   if (!truncate) {
     return value;
   }
@@ -23,13 +29,13 @@ export function truncationFormatter(value, truncate) {
 /**
  * Use a shorter interval if the time difference is <= 24 hours.
  */
-export function useShortInterval(datetimeObj) {
+export function useShortInterval(datetimeObj: DateTimeObject): boolean {
   const diffInMinutes = getDiffInMinutes(datetimeObj);
 
   return diffInMinutes <= TWENTY_FOUR_HOURS;
 }
 
-export function getInterval(datetimeObj, highFidelity = false) {
+export function getInterval(datetimeObj: DateTimeObject, highFidelity = false) {
   const diffInMinutes = getDiffInMinutes(datetimeObj);
 
   if (diffInMinutes > TWENTY_FOUR_HOURS) {
@@ -56,7 +62,7 @@ export function getInterval(datetimeObj, highFidelity = false) {
   }
 }
 
-export function getDiffInMinutes(datetimeObj) {
+export function getDiffInMinutes(datetimeObj: DateTimeObject): number {
   const {period, start, end} = datetimeObj;
 
   if (start && end) {
diff --git a/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx b/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
index e656ab67bb..a06da4d99a 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/miniGraph.tsx
@@ -41,10 +41,8 @@ class MiniGraph extends React.Component<Props> {
     const apiPayload = eventView.getEventsAPIPayload(location);
 
     const query = apiPayload.query;
-    const start = apiPayload.start
-      ? getUtcToLocalDateObject(apiPayload.start)
-      : undefined;
-    const end = apiPayload.end ? getUtcToLocalDateObject(apiPayload.end) : undefined;
+    const start = apiPayload.start ? getUtcToLocalDateObject(apiPayload.start) : null;
+    const end = apiPayload.end ? getUtcToLocalDateObject(apiPayload.end) : null;
     const period: string | undefined = apiPayload.statsPeriod as any;
 
     return {
