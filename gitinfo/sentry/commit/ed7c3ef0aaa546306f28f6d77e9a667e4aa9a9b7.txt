commit ed7c3ef0aaa546306f28f6d77e9a667e4aa9a9b7
Author: Ted Kaemming <ted@kaemming.com>
Date:   Tue Jan 19 14:26:40 2016 -0800

    Add logging where email building can result in null or empty result set.

diff --git a/src/sentry/plugins/sentry_mail/models.py b/src/sentry/plugins/sentry_mail/models.py
index 22103143d2..9be48f503e 100644
--- a/src/sentry/plugins/sentry_mail/models.py
+++ b/src/sentry/plugins/sentry_mail/models.py
@@ -52,6 +52,7 @@ class MailPlugin(NotificationPlugin):
                    project=None, group=None, headers=None, context=None):
         send_to = self.get_send_to(project)
         if not send_to:
+            logger.debug('Skipping message rendering, no users to send to.')
             return
 
         subject_prefix = self.get_option('subject_prefix', project) or self.subject_prefix
diff --git a/src/sentry/utils/email.py b/src/sentry/utils/email.py
index d50536085d..98a73860b0 100644
--- a/src/sentry/utils/email.py
+++ b/src/sentry/utils/email.py
@@ -7,6 +7,7 @@ sentry.utils.email
 """
 from __future__ import absolute_import
 
+import logging
 import os
 import time
 import toronado
@@ -25,6 +26,9 @@ from sentry.web.helpers import render_to_string
 from sentry.utils import metrics
 from sentry.utils.safe import safe_execute
 
+
+logger = logging.getLogger(__name__)
+
 SMTP_HOSTNAME = getattr(settings, 'SENTRY_SMTP_HOSTNAME', 'localhost')
 ENABLE_EMAIL_REPLIES = getattr(settings, 'SENTRY_ENABLE_EMAIL_REPLIES', False)
 
@@ -240,7 +244,10 @@ class MessageBuilder(object):
     def get_built_messages(self, to=None, bcc=None):
         send_to = set(to or ())
         send_to.update(self._send_to)
-        return [self.build(to=email, reply_to=send_to, bcc=bcc) for email in send_to]
+        results = [self.build(to=email, reply_to=send_to, bcc=bcc) for email in send_to]
+        if not results:
+            logger.debug('Did not build any messages, no users to send to.')
+        return results
 
     def send(self, to=None, bcc=None, fail_silently=False):
         messages = self.get_built_messages(to, bcc=bcc)
