commit 5efb445ece07164206ee3f32bbe324a529af3777
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 2 06:26:30 2015 -0800

    Bad call to can_edit_project_key

diff --git a/src/sentry/web/frontend/projects/keys.py b/src/sentry/web/frontend/projects/keys.py
index d0d1508dcc..b165f0b7a8 100644
--- a/src/sentry/web/frontend/projects/keys.py
+++ b/src/sentry/web/frontend/projects/keys.py
@@ -83,9 +83,6 @@ def new_project_key(request, organization, project):
 @has_access(MEMBER_ADMIN)
 @csrf_protect
 def edit_project_key(request, organization, project, key_id):
-    if not can_edit_project_key(request.user, project):
-        return HttpResponseRedirect(reverse('sentry-manage-project-keys', args=[project.organization.slug, project.slug]))
-
     try:
         key = ProjectKey.objects.get(
             id=key_id,
@@ -94,6 +91,9 @@ def edit_project_key(request, organization, project, key_id):
     except ProjectKey.DoesNotExist():
         return HttpResponseRedirect(reverse('sentry-manage-project-keys', args=[project.organization.slug, project.slug]))
 
+    if not can_edit_project_key(request.user, key):
+        return HttpResponseRedirect(reverse('sentry-manage-project-keys', args=[project.organization.slug, project.slug]))
+
     form = EditProjectKeyForm(request.POST or None, instance=key)
     if form.is_valid():
         key = form.save()
