commit f823f96aa7a482849321e2d766bf2e556878c01e
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Fri Dec 4 17:48:57 2015 -0800

    Cleanup AllowedHosts

diff --git a/src/sentry/runner/hacks.py b/src/sentry/runner/hacks.py
index 33b6649f7f..56a903b962 100644
--- a/src/sentry/runner/hacks.py
+++ b/src/sentry/runner/hacks.py
@@ -12,9 +12,13 @@ from sentry import options
 
 
 class AllowedHosts(object):
+    # HACK: This is a fake stub for settings.ALLOWED_HOSTS
+    # This is needing since ALLOWED_HOSTS is engrained
+    # in Django internals, so we want this "tuple" to respond
+    # to runtime changes based on our system.url-prefix Option
     def __iter__(self):
-        urlbits = urlparse(options.get('system.url-prefix'))
-        if urlbits.hostname:
-            yield urlbits.hostname
+        hostname = urlparse(options.get('system.url-prefix')).hostname
+        if hostname:
+            yield hostname
         else:
             yield '*'
