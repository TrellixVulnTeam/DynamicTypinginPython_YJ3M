commit 2063ac01603d120216a1e4670ec6b906f587c5d3
Author: Matej Minar <matej.minar@sentry.io>
Date:   Fri Apr 3 20:27:40 2020 +0200

    perf(ui): Don't fetch health stats when no health data available (#18080)

diff --git a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseStatsRequest.tsx b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseStatsRequest.tsx
index 0fbff91030..ac8ebf1554 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseStatsRequest.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseStatsRequest.tsx
@@ -50,6 +50,7 @@ type Props = {
   location: Location;
   yAxis: YAxis;
   children: (renderProps: ReleaseStatsRequestRenderProps) => React.ReactNode;
+  disable: boolean;
 };
 type State = {
   reloading: boolean;
@@ -83,7 +84,11 @@ class ReleaseStatsRequest extends React.Component<Props, State> {
 
   fetchData = async () => {
     let data: Data | null = null;
-    const {yAxis} = this.props;
+    const {yAxis, disable} = this.props;
+
+    if (disable) {
+      return;
+    }
 
     this.setState(state => ({
       reloading: state.data !== null,
diff --git a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/index.tsx b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/index.tsx
index 460584eba4..a90d79c7db 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/index.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/index.tsx
@@ -80,6 +80,7 @@ class ReleaseOverview extends AsyncView<Props> {
               selection={selection}
               location={location}
               yAxis={yAxis}
+              disable={!hasHealthData}
             >
               {({crashFreeTimeBreakdown, ...releaseStatsProps}) => (
                 <ContentBox>
