commit 4ba19e612bbc957e4ebd9b6ceec6418ea4d669cc
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Oct 25 00:47:22 2013 -0700

    Return the error ID as X-Sentry-ID for javascript requests

diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index cd744ad598..3901b97a08 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -266,9 +266,13 @@ class StoreView(APIView):
     @never_cache
     def get(self, request, project, auth, **kwargs):
         data = request.GET.get('sentry_data', '')
-        self.process(request, project, auth, data, **kwargs)
-        # We should return a simple 1x1 gif for browser so they don't throw a warning
-        return HttpResponse(PIXEL, 'image/gif')
+        response_or_event_id = self.process(request, project, auth, data, **kwargs)
+
+        # Return a simple 1x1 gif for browser so they don't throw a warning
+        response = HttpResponse(PIXEL, 'image/gif')
+        if not isinstance(response_or_event_id, HttpResponse):
+            response['X-Sentry-ID'] = response_or_event_id
+        return response
 
     def process(self, request, project, auth, data, **kwargs):
         if safe_execute(app.quotas.is_rate_limited, project=project):
