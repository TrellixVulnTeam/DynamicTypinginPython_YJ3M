commit bd5e5e44fe99831ca1c5b75d59ec644c454383b2
Author: Mark Story <mark@sentry.io>
Date:   Fri Mar 27 15:30:04 2020 -0400

    ref(ui) Consolidate duplicate UI components (#17959)
    
    Consolidate a few repeated UI components into a shared components. While
    not all the components are always used in charts, they often are so
    that's where I put them.

diff --git a/src/sentry/static/sentry/app/components/charts/styles.tsx b/src/sentry/static/sentry/app/components/charts/styles.tsx
new file mode 100644
index 0000000000..78f97b88e4
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/charts/styles.tsx
@@ -0,0 +1,40 @@
+import styled from '@emotion/styled';
+
+import space from 'app/styles/space';
+
+export const ChartControls = styled('div')`
+  display: flex;
+  justify-content: space-between;
+  padding: ${space(1)} ${space(3)};
+  border-top: 1px solid ${p => p.theme.borderLight};
+`;
+
+export const SubHeading = styled('h3')`
+  font-size: ${p => p.theme.fontSizeLarge};
+  font-weight: normal;
+  color: ${p => p.theme.gray5};
+  margin: 0;
+  overflow: hidden;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+`;
+
+export const SectionHeading = styled('h4')`
+  color: ${p => p.theme.gray3};
+  font-size: ${p => p.theme.fontSizeMedium};
+  margin: ${space(1)} 0;
+  padding-right: ${space(1)};
+  line-height: 1.2;
+`;
+
+export const SectionValue = styled('span')`
+  color: ${p => p.theme.gray3};
+  font-size: ${p => p.theme.fontSizeMedium};
+  margin-right: ${space(1)};
+`;
+
+export const InlineContainer = styled('div')`
+  display: flex;
+  flex-direction: row;
+  align-items: center;
+`;
diff --git a/src/sentry/static/sentry/app/views/events/yAxisSelector.jsx b/src/sentry/static/sentry/app/views/events/yAxisSelector.jsx
index 7919eff52c..ad5db7aa1e 100644
--- a/src/sentry/static/sentry/app/views/events/yAxisSelector.jsx
+++ b/src/sentry/static/sentry/app/views/events/yAxisSelector.jsx
@@ -6,8 +6,7 @@ import DropdownButton from 'app/components/dropdownButton';
 import DropdownControl, {DropdownItem} from 'app/components/dropdownControl';
 import {t} from 'app/locale';
 import space from 'app/styles/space';
-
-import {InlineContainer, SectionHeading} from '../eventsV2/styles';
+import {InlineContainer, SectionHeading} from 'app/components/charts/styles';
 
 const YAxisSelector = props => {
   const {options, onChange, selected} = props;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/chartFooter.tsx b/src/sentry/static/sentry/app/views/eventsV2/chartFooter.tsx
index aaeb7b4014..28bc081a00 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/chartFooter.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/chartFooter.tsx
@@ -3,8 +3,12 @@ import React from 'react';
 import {t} from 'app/locale';
 import {SelectValue} from 'app/types';
 import YAxisSelector from 'app/views/events/yAxisSelector';
-
-import {ChartControls, InlineContainer, SectionHeading, SectionValue} from './styles';
+import {
+  ChartControls,
+  InlineContainer,
+  SectionHeading,
+  SectionValue,
+} from 'app/components/charts/styles';
 
 type Props = {
   total: number | null;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
index 4b65101d71..e91df3a2ec 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
@@ -15,6 +15,7 @@ import {getMessage, getTitle} from 'app/utils/events';
 import {Organization, Event} from 'app/types';
 import SentryTypes from 'app/sentryTypes';
 import getDynamicText from 'app/utils/getDynamicText';
+import {SectionHeading} from 'app/components/charts/styles';
 import DateTime from 'app/components/dateTime';
 import Button from 'app/components/button';
 import ExternalLink from 'app/components/links/externalLink';
@@ -34,7 +35,7 @@ import LineGraph from './lineGraph';
 import TagsTable from '../tagsTable';
 import LinkedIssue from './linkedIssue';
 import DiscoverBreadcrumb from '../breadcrumb';
-import {SectionHeading, ContentBox, HeaderBox} from '../styles';
+import {ContentBox, HeaderBox} from '../styles';
 import OpsBreakdown from './transaction/opsBreakdown';
 
 const slugValidator = function(
diff --git a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/linkedIssue.tsx b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/linkedIssue.tsx
index 88bce99d09..9e48360faa 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/linkedIssue.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/linkedIssue.tsx
@@ -4,6 +4,7 @@ import PropTypes from 'prop-types';
 
 import {t} from 'app/locale';
 import AsyncComponent from 'app/components/asyncComponent';
+import {SectionHeading} from 'app/components/charts/styles';
 import GroupChart from 'app/components/stream/groupChart';
 import Link from 'app/components/links/link';
 import Placeholder from 'app/components/placeholder';
@@ -14,8 +15,6 @@ import Times from 'app/components/group/times';
 import space from 'app/styles/space';
 import {Group} from 'app/types';
 
-import {SectionHeading} from '../styles';
-
 type Props = {
   groupId: string;
   eventId: string;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/transaction/opsBreakdown.tsx b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/transaction/opsBreakdown.tsx
index 806ce1fa67..a665a4c909 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/transaction/opsBreakdown.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/transaction/opsBreakdown.tsx
@@ -9,13 +9,12 @@ import {
   SpanEntry,
   RawSpanType,
 } from 'app/components/events/interfaces/spans/types';
+import {SectionHeading} from 'app/components/charts/styles';
 import {pickSpanBarColour} from 'app/components/events/interfaces/spans/utils';
 import {TraceContextType} from 'app/components/events/interfaces/spans/traceView';
 import {t} from 'app/locale';
 import space from 'app/styles/space';
 
-import {SectionHeading} from '../../styles';
-
 type OpStats = {percentage: number; totalDuration: number};
 
 const TOP_N_SPANS = 4;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
index 48fdc3d59f..87bf77ab27 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
@@ -2,16 +2,15 @@ import React from 'react';
 import styled from '@emotion/styled';
 import {browserHistory} from 'react-router';
 
+import {SubHeading} from 'app/components/charts/styles';
+import Link from 'app/components/links/link';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 import theme from 'app/utils/theme';
 import {IconBookmark} from 'app/icons/iconBookmark';
-import Link from 'app/components/links/link';
 import space from 'app/styles/space';
 import {callIfFunction} from 'app/utils/callIfFunction';
 import Card from 'app/components/card';
 
-import {SubHeading} from './styles';
-
 type Props = {
   title?: string;
   subtitle?: string;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/styles.tsx b/src/sentry/static/sentry/app/views/eventsV2/styles.tsx
index ad062fda1c..0933204c5f 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/styles.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/styles.tsx
@@ -2,27 +2,6 @@ import styled from '@emotion/styled';
 
 import space from 'app/styles/space';
 
-export const SectionHeading = styled('h4')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin: ${space(1)} 0;
-  padding-right: ${space(1)};
-  line-height: 1.2;
-`;
-
-export const SectionValue = styled('span')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin-right: ${space(1)};
-`;
-
-export const ChartControls = styled('div')`
-  display: flex;
-  justify-content: space-between;
-  padding: ${space(1)} ${space(3)};
-  border-top: 1px solid ${p => p.theme.borderLight};
-`;
-
 export const ContentBox = styled('div')`
   padding: ${space(2)} ${space(4)};
   margin: 0;
@@ -54,33 +33,3 @@ export const HeaderControls = styled('div')`
   grid-row: 1/2;
   grid-column: 2/3;
 `;
-
-export const InlineContainer = styled('div')`
-  display: flex;
-  flex-direction: row;
-  align-items: center;
-`;
-
-export const SubHeading = styled('h3')`
-  font-size: ${p => p.theme.fontSizeLarge};
-  font-weight: normal;
-  color: ${p => p.theme.gray5};
-  margin: 0;
-  overflow: hidden;
-  text-overflow: ellipsis;
-  white-space: nowrap;
-`;
-
-export const ErrorPanel = styled('div')`
-  display: flex;
-  justify-content: center;
-  align-items: center;
-
-  flex: 1;
-  flex-shrink: 0;
-  overflow: hidden;
-  height: 200px;
-  position: relative;
-  border-color: transparent;
-  margin-bottom: 0;
-`;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/table/columnEditCollection.tsx b/src/sentry/static/sentry/app/views/eventsV2/table/columnEditCollection.tsx
index b3240070cd..2a347b4abe 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/table/columnEditCollection.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/table/columnEditCollection.tsx
@@ -3,6 +3,7 @@ import ReactDOM from 'react-dom';
 import styled from '@emotion/styled';
 
 import Button from 'app/components/button';
+import {SectionHeading} from 'app/components/charts/styles';
 import {
   UserSelectValues,
   setBodyUserSelect,
@@ -14,7 +15,6 @@ import space from 'app/styles/space';
 import theme from 'app/utils/theme';
 import {Column, AGGREGATIONS, FIELDS, TRACING_FIELDS} from 'app/utils/discover/fields';
 
-import {SectionHeading} from '../styles';
 import {FieldValue, FieldValueKind} from './types';
 import {ColumnEditRow} from './columnEditRow';
 
diff --git a/src/sentry/static/sentry/app/views/eventsV2/tags.tsx b/src/sentry/static/sentry/app/views/eventsV2/tags.tsx
index ebef466786..e031157e0a 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/tags.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/tags.tsx
@@ -9,6 +9,7 @@ import space from 'app/styles/space';
 import {Client} from 'app/api';
 import {fetchTagFacets, Tag, TagSegment} from 'app/actionCreators/events';
 import SentryTypes from 'app/sentryTypes';
+import {SectionHeading} from 'app/components/charts/styles';
 import EmptyStateWarning from 'app/components/emptyStateWarning';
 import {IconWarning} from 'app/icons';
 import theme from 'app/utils/theme';
@@ -20,8 +21,6 @@ import {generateQueryWithTag} from 'app/utils';
 import {trackAnalyticsEvent} from 'app/utils/analytics';
 import EventView, {isAPIPayloadSimilar} from 'app/utils/discover/eventView';
 
-import {SectionHeading} from './styles';
-
 type Props = {
   api: Client;
   organization: Organization;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/tagsTable.tsx b/src/sentry/static/sentry/app/views/eventsV2/tagsTable.tsx
index 6eea90198e..e705294e55 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/tagsTable.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/tagsTable.tsx
@@ -2,6 +2,7 @@ import React from 'react';
 import styled from '@emotion/styled';
 import {LocationDescriptor} from 'history';
 
+import {SectionHeading} from 'app/components/charts/styles';
 import Link from 'app/components/links/link';
 import Tooltip from 'app/components/tooltip';
 import {t} from 'app/locale';
@@ -12,7 +13,6 @@ import Version from 'app/components/version';
 import EventView from 'app/utils/discover/eventView';
 
 import {getExpandedResults} from './utils';
-import {SectionHeading} from './styles';
 
 type Props = {
   organization: OrganizationSummary;
diff --git a/src/sentry/static/sentry/app/views/performance/charts/footer.tsx b/src/sentry/static/sentry/app/views/performance/charts/footer.tsx
index b543f8af2a..f23015b512 100644
--- a/src/sentry/static/sentry/app/views/performance/charts/footer.tsx
+++ b/src/sentry/static/sentry/app/views/performance/charts/footer.tsx
@@ -4,12 +4,16 @@ import {Location} from 'history';
 
 import {t} from 'app/locale';
 import {Client} from 'app/api';
+import {
+  ChartControls,
+  InlineContainer,
+  SectionHeading,
+  SectionValue,
+} from 'app/components/charts/styles';
 import {fetchTotalCount} from 'app/actionCreators/events';
 import EventView, {isAPIPayloadSimilar} from 'app/utils/discover/eventView';
 import {Organization} from 'app/types';
 
-import {ChartControls, SectionHeading, SectionValue} from './styles';
-
 type Props = {
   api: Client;
   eventView: EventView;
@@ -83,8 +87,10 @@ class ChartFooter extends React.Component<Props, State> {
 
     return (
       <ChartControls>
-        <SectionHeading>{t('Total Events')}</SectionHeading>
-        <SectionValue>{value}</SectionValue>
+        <InlineContainer>
+          <SectionHeading>{t('Total Events')}</SectionHeading>
+          <SectionValue>{value}</SectionValue>
+        </InlineContainer>
       </ChartControls>
     );
   }
diff --git a/src/sentry/static/sentry/app/views/performance/charts/styles.tsx b/src/sentry/static/sentry/app/views/performance/charts/styles.tsx
index f79d24da4a..f17730e49a 100644
--- a/src/sentry/static/sentry/app/views/performance/charts/styles.tsx
+++ b/src/sentry/static/sentry/app/views/performance/charts/styles.tsx
@@ -7,20 +7,6 @@ export const HeaderTitle = styled('span')`
   padding: 0 ${space(1)};
 `;
 
-export const SectionHeading = styled('h4')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin: ${space(1)} 0;
-  padding-right: ${space(1)};
-  line-height: 1.2;
-`;
-
-export const SectionValue = styled('span')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin-right: ${space(1)};
-`;
-
 export const ChartsContainer = styled('div')`
   padding: ${space(2)} ${space(1.5)};
 `;
@@ -34,10 +20,3 @@ export const ChartsGrid = styled('div')`
 export const ChartContainer = styled('div')`
   flex-grow: 1;
 `;
-
-export const ChartControls = styled('div')`
-  display: flex;
-  align-items: center;
-  padding: ${space(1)} ${space(3)};
-  border-top: 1px solid ${p => p.theme.borderLight};
-`;
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
index 94eefd42be..a7e30d6a6e 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/latencyChart.tsx
@@ -9,16 +9,16 @@ import {Panel} from 'app/components/panels';
 import {IconQuestion, IconWarning} from 'app/icons';
 import {t} from 'app/locale';
 import BarChart from 'app/components/charts/barChart';
-import Tooltip from 'app/components/tooltip';
-import AsyncComponent from 'app/components/asyncComponent';
+import ErrorPanel from 'app/components/charts/components/errorPanel';
 import {
   ChartControls,
   InlineContainer,
   SectionHeading,
   SectionValue,
   SubHeading,
-  ErrorPanel,
-} from 'app/views/eventsV2/styles';
+} from 'app/components/charts/styles';
+import Tooltip from 'app/components/tooltip';
+import AsyncComponent from 'app/components/asyncComponent';
 import {OrganizationSummary} from 'app/types';
 import LoadingPanel from 'app/views/events/loadingPanel';
 import EventView from 'app/utils/discover/eventView';
diff --git a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseChartControls.tsx b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseChartControls.tsx
index ad2593d508..a9b7a394a9 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseChartControls.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/chart/releaseChartControls.tsx
@@ -3,6 +3,12 @@ import styled from '@emotion/styled';
 
 import {t} from 'app/locale';
 import space from 'app/styles/space';
+import {
+  ChartControls,
+  InlineContainer,
+  SectionHeading,
+  SectionValue,
+} from 'app/components/charts/styles';
 import DropdownButton from 'app/components/dropdownButton';
 import DropdownControl, {DropdownItem} from 'app/components/dropdownControl';
 
@@ -52,7 +58,7 @@ const ReleaseChartControls = ({summary, yAxis, onYAxisChange}: Props) => {
     <ChartControls>
       <InlineContainer>
         <SectionHeading key="total-label">{getSummaryHeading()}</SectionHeading>
-        <Value key="total-value">{summary}</Value>
+        <SectionValue key="total-value">{summary}</SectionValue>
       </InlineContainer>
 
       {/* TODO(releasesV2): this will be down the road replaced with discover's YAxisSelector */}
@@ -83,33 +89,6 @@ const ReleaseChartControls = ({summary, yAxis, onYAxisChange}: Props) => {
   );
 };
 
-const InlineContainer = styled('div')`
-  display: flex;
-  flex-direction: row;
-  align-items: center;
-`;
-
-const ChartControls = styled('div')`
-  display: flex;
-  justify-content: space-between;
-  padding: ${space(1)} ${space(3)};
-  border-top: 1px solid ${p => p.theme.borderLight};
-`;
-
-const SectionHeading = styled('h4')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin: ${space(1)} 0;
-  padding-right: ${space(1)};
-  line-height: 1.2;
-`;
-
-const Value = styled('span')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin-right: ${space(1)};
-`;
-
 const StyledDropdownButton = styled(DropdownButton)`
   padding: ${space(1)} ${space(2)};
   font-weight: normal;
diff --git a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/styles.tsx b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/styles.tsx
index 8d25b3bbaa..2e7545ba35 100644
--- a/src/sentry/static/sentry/app/views/releasesV2/detail/overview/styles.tsx
+++ b/src/sentry/static/sentry/app/views/releasesV2/detail/overview/styles.tsx
@@ -1,15 +1,12 @@
 import styled from '@emotion/styled';
 
+import {SectionHeading as BaseSectionHeading} from 'app/components/charts/styles';
 import space from 'app/styles/space';
 
-export const SectionHeading = styled('h4')`
-  color: ${p => p.theme.gray3};
-  font-size: ${p => p.theme.fontSizeMedium};
-  margin: 0 0 ${space(1.5)} 0;
-  padding-right: ${space(1)};
-  line-height: 1.2;
-`;
-
 export const Wrapper = styled('div')`
   margin-bottom: ${space(4)};
 `;
+
+export const SectionHeading = styled(BaseSectionHeading)`
+  margin: 0 0 ${space(1.5)} 0;
+`;
