commit 3bed9860e520bc1ecbee6420db58fffc9f079dcf
Author: Mark Story <mark@sentry.io>
Date:   Tue Jul 2 12:46:30 2019 -0400

    fix(jira) Sometimes jira instances go away (#13856)
    
    Sometimes users delete their jira instances, or don't have any projects
    and then try to use our integration. When this happens we can't fetch
    a list of projects.
    
    Fixes SENTRY-AGQ

diff --git a/src/sentry/integrations/jira/integration.py b/src/sentry/integrations/jira/integration.py
index 32df26af7a..82f9140da7 100644
--- a/src/sentry/integrations/jira/integration.py
+++ b/src/sentry/integrations/jira/integration.py
@@ -496,7 +496,22 @@ class JiraIntegration(IntegrationInstallation, IssueSyncMixin):
         project_id = params.get('project', defaults.get('project'))
 
         client = self.get_client()
-        jira_projects = client.get_projects_list()
+        try:
+            jira_projects = client.get_projects_list()
+        except ApiError as exc:
+            logger.info(
+                'jira.get-create-issue-config.no-projects',
+                extra={
+                    'integration_id': self.model.id,
+                    'organization_id': self.organization_id,
+                    'error': exc.message,
+                }
+            )
+            raise IntegrationError(
+                'Could not fetch project list from Jira'
+                'Ensure that jira is available and your account is still active.'
+            )
+
         meta = self.get_issue_create_meta(client, project_id, jira_projects)
         if not meta:
             raise IntegrationError(
