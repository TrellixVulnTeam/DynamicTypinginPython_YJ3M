commit 80ec90aeaa478ede29130d5a30a569a905e65e03
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed May 18 18:14:11 2016 -0700

    Spit back ids for tag serializers (#3262)

diff --git a/src/sentry/api/endpoints/group_tagkey_details.py b/src/sentry/api/endpoints/group_tagkey_details.py
index 2f9f438500..64c4d1e2a7 100644
--- a/src/sentry/api/endpoints/group_tagkey_details.py
+++ b/src/sentry/api/endpoints/group_tagkey_details.py
@@ -66,6 +66,7 @@ class GroupTagKeyDetailsEndpoint(GroupEndpoint):
         top_values = GroupTagValue.get_top_values(group.id, lookup_key, limit=3)
 
         data = {
+            'id': str(tag_key.id),
             'key': key,
             'name': tag_key.get_label(),
             'uniqueValues': group_tag_key.values_seen,
diff --git a/src/sentry/api/serializers/models/grouptagkey.py b/src/sentry/api/serializers/models/grouptagkey.py
index a4475dfab1..d21369d6c7 100644
--- a/src/sentry/api/serializers/models/grouptagkey.py
+++ b/src/sentry/api/serializers/models/grouptagkey.py
@@ -30,6 +30,7 @@ class GroupTagKeySerializer(Serializer):
 
     def serialize(self, obj, attrs, user):
         return {
+            'id': str(obj.id),
             'name': attrs['name'],
             'key': attrs['key'],
             'uniqueValues': obj.values_seen,
diff --git a/src/sentry/api/serializers/models/grouptagvalue.py b/src/sentry/api/serializers/models/grouptagvalue.py
index 376c06e5f4..f0392ef601 100644
--- a/src/sentry/api/serializers/models/grouptagvalue.py
+++ b/src/sentry/api/serializers/models/grouptagvalue.py
@@ -66,6 +66,7 @@ class GroupTagValueSerializer(Serializer):
 
     def serialize(self, obj, attrs, user):
         return {
+            'id': str(obj.id),
             'name': attrs['name'],
             'key': TagKey.get_standardized_key(obj.key),
             'value': obj.value,
diff --git a/src/sentry/api/serializers/models/tagvalue.py b/src/sentry/api/serializers/models/tagvalue.py
index c60eda6540..0544ba3efc 100644
--- a/src/sentry/api/serializers/models/tagvalue.py
+++ b/src/sentry/api/serializers/models/tagvalue.py
@@ -49,6 +49,7 @@ class TagValueSerializer(Serializer):
 
     def serialize(self, obj, attrs, user):
         return {
+            'id': str(obj.id),
             'key': TagKey.get_standardized_key(obj.key),
             'name': attrs['name'],
             'value': obj.value,
diff --git a/tests/sentry/api/endpoints/test_group_tagkey_details.py b/tests/sentry/api/endpoints/test_group_tagkey_details.py
index a38635e8d2..c1f4b7725d 100644
--- a/tests/sentry/api/endpoints/test_group_tagkey_details.py
+++ b/tests/sentry/api/endpoints/test_group_tagkey_details.py
@@ -42,6 +42,7 @@ class GroupTagDetailsTest(APITestCase):
         url = '/api/0/issues/{}/tags/{}/'.format(group.id, tagkey.key)
         response = self.client.get(url, format='json')
         assert response.status_code == 200, response.content
+        assert response.data['id'] == str(tagkey.id)
         assert response.data['key'] == str(tagkey.key)
         assert response.data['uniqueValues'] == 1
         assert response.data['totalValues'] == 3
diff --git a/tests/sentry/api/serializers/test_grouptagvalue.py b/tests/sentry/api/serializers/test_grouptagvalue.py
index 4f35bc7b18..53a9f8da23 100644
--- a/tests/sentry/api/serializers/test_grouptagvalue.py
+++ b/tests/sentry/api/serializers/test_grouptagvalue.py
@@ -28,6 +28,7 @@ class GroupTagValueSerializerTest(TestCase):
         )
 
         result = serialize(grouptagvalue, user)
+        assert result['id'] == str(grouptagvalue.id)
         assert result['key'] == 'user'
         assert result['value'] == grouptagvalue.value
         assert result['name'] == euser.get_label()
@@ -43,6 +44,7 @@ class GroupTagValueSerializerTest(TestCase):
         )
 
         result = serialize(grouptagvalue, user)
+        assert result['id'] == str(grouptagvalue.id)
         assert result['key'] == 'user'
         assert result['value'] == grouptagvalue.value
         assert result['name'] == grouptagvalue.value
diff --git a/tests/sentry/api/serializers/test_tagvalue.py b/tests/sentry/api/serializers/test_tagvalue.py
index 6df900649b..d0578b1cbd 100644
--- a/tests/sentry/api/serializers/test_tagvalue.py
+++ b/tests/sentry/api/serializers/test_tagvalue.py
@@ -22,6 +22,7 @@ class TagValueSerializerTest(TestCase):
         )
 
         result = serialize(tagvalue, user)
+        assert result['id'] == str(tagvalue.id)
         assert result['key'] == 'user'
         assert result['value'] == tagvalue.value
         assert result['name'] == euser.get_label()
@@ -36,6 +37,7 @@ class TagValueSerializerTest(TestCase):
         )
 
         result = serialize(tagvalue, user)
+        assert result['id'] == str(tagvalue.id)
         assert result['key'] == 'user'
         assert result['value'] == tagvalue.value
         assert result['name'] == tagvalue.get_label()
