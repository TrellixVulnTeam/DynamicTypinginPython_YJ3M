commit f851209e2c3e2745be2c16ce528ffd55ee017262
Author: Jess MacQueen <macqueen@users.noreply.github.com>
Date:   Thu May 25 11:04:38 2017 -0700

    use 7 characters for short versions (#5447)

diff --git a/src/sentry/models/commit.py b/src/sentry/models/commit.py
index 8f30a108f5..3ba0f4e406 100644
--- a/src/sentry/models/commit.py
+++ b/src/sentry/models/commit.py
@@ -47,7 +47,7 @@ class Commit(Model):
     @memoize
     def short_id(self):
         if len(self.key) == 40:
-            return self.key[:12]
+            return self.key[:7]
         return self.key
 
     def find_referenced_groups(self):
diff --git a/src/sentry/models/release.py b/src/sentry/models/release.py
index 5f70e18657..5642d55dfc 100644
--- a/src/sentry/models/release.py
+++ b/src/sentry/models/release.py
@@ -205,7 +205,7 @@ class Release(Model):
         if match is not None:
             version = version[match.end():]
         if _sha1_re.match(version):
-            return version[:12]
+            return version[:7]
         return version
 
     def add_dist(self, name, date_added=None):
diff --git a/tests/sentry/api/serializers/test_release.py b/tests/sentry/api/serializers/test_release.py
index 625a84fc61..ad9fbe4f5f 100644
--- a/tests/sentry/api/serializers/test_release.py
+++ b/tests/sentry/api/serializers/test_release.py
@@ -90,7 +90,7 @@ class ReleaseSerializerTest(TestCase):
         # Make sure a sha1 value gets truncated
         release.version = '0' * 40
         result = serialize(release, user)
-        assert result['shortVersion'] == '0' * 12
+        assert result['shortVersion'] == '0' * 7
 
     def test_no_tag_data(self):
         user = self.create_user()
