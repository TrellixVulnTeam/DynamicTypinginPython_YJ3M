commit 73f5520a1c1eea3d5c441a3729af073bd03d1013
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Nov 28 17:09:12 2016 -0800

    plugins: handle anon user for auth flows (#4615)

diff --git a/src/sentry/plugins/providers/base.py b/src/sentry/plugins/providers/base.py
index 7fdf3704c9..6e405c165c 100644
--- a/src/sentry/plugins/providers/base.py
+++ b/src/sentry/plugins/providers/base.py
@@ -33,6 +33,9 @@ class ProviderMixin(object):
         if self.auth_provider is None:
             return None
 
+        if not user.is_authenticated():
+            return None
+
         return UserSocialAuth.objects.filter(
             user=user,
             provider=self.auth_provider,
