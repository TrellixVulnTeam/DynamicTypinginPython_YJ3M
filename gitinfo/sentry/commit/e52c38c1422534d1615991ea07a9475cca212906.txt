commit e52c38c1422534d1615991ea07a9475cca212906
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Nov 13 10:15:27 2019 -0800

    ref: Remove "store.save-event-skips-nodestore" option from code (#15568)
    
    This was a temporary option that has now been set to True in production.

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index a5a3b27a7b..67bac27dec 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -15,7 +15,7 @@ from django.db.models import Func
 from django.utils import timezone
 from django.utils.encoding import force_text
 
-from sentry import buffer, eventtypes, eventstream, options, tsdb
+from sentry import buffer, eventtypes, eventstream, tsdb
 from sentry.constants import (
     DEFAULT_STORE_NORMALIZER_ARGS,
     LOG_LEVELS,
@@ -722,8 +722,7 @@ class EventManager(object):
         # save the event
         try:
             with transaction.atomic(using=router.db_for_write(Event)):
-                if options.get("store.save-event-skips-nodestore", True):
-                    event.data.save()
+                event.data.save()
                 event.save()
         except IntegrityError:
             logger.info(
diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index c83d565810..011880e9fa 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -14,7 +14,7 @@ from hashlib import md5
 
 from semaphore.processing import StoreNormalizer
 
-from sentry import eventtypes, options
+from sentry import eventtypes
 from sentry.db.models import (
     BoundedBigIntegerField,
     BoundedIntegerField,
@@ -619,7 +619,7 @@ class Event(EventCommon, Model):
         ref_func=lambda x: x.project_id or x.project.id,
         ref_version=2,
         wrapper=EventDict,
-        skip_nodestore_save=options.get("store.save-event-skips-nodestore", True),
+        skip_nodestore_save=True,
     )
 
     objects = EventManager()
