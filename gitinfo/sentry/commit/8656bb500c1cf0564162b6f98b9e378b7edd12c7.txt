commit 8656bb500c1cf0564162b6f98b9e378b7edd12c7
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Sep 24 02:32:03 2015 +0200

    Moved order of the plugin check.

diff --git a/src/sentry/plugins/base/v1.py b/src/sentry/plugins/base/v1.py
index 465735f3c2..fc4c64b2be 100644
--- a/src/sentry/plugins/base/v1.py
+++ b/src/sentry/plugins/base/v1.py
@@ -92,16 +92,16 @@ class IPlugin(local, PluggableViewMixin):
 
         >>> plugin.is_enabled()
         """
+        if project is not None:
+            from sentry import features
+            if not features.has('projects:plugins', project, self, actor=None):
+                return False
         if not self.enabled:
             return False
         if not self.can_disable:
             return True
         if not self.can_enable_for_projects():
             return True
-        if project is not None:
-            from sentry import features
-            if not features.has('projects:plugins', project, self, actor=None):
-                return False
 
         if project:
             project_enabled = self.get_option('enabled', project)
diff --git a/src/sentry/plugins/base/v2.py b/src/sentry/plugins/base/v2.py
index b7477119b3..753db654d4 100644
--- a/src/sentry/plugins/base/v2.py
+++ b/src/sentry/plugins/base/v2.py
@@ -86,16 +86,16 @@ class IPlugin2(local):
 
         >>> plugin.is_enabled()
         """
+        if project is not None:
+            from sentry import features
+            if not features.has('projects:plugins', project, self, actor=None):
+                return False
         if not self.enabled:
             return False
         if not self.can_disable:
             return True
         if not self.can_enable_for_projects():
             return True
-        if project is not None:
-            from sentry import features
-            if not features.has('projects:plugins', project, self, actor=None):
-                return False
 
         if project:
             project_enabled = self.get_option('enabled', project)
