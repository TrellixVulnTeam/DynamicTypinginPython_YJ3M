commit 4cb7d7c724b18c8c5b932d98608d9683af1828e0
Author: David Cramer <dcramer@gmail.com>
Date:   Thu May 1 15:27:26 2014 -0300

    Require store permission for events api

diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index fe6d7961cc..e798959c3f 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -162,6 +162,9 @@ def project_from_auth_vars(auth_vars):
     if pk.secret_key != auth_vars.get('sentry_secret', pk.secret_key):
         raise APIForbidden('Invalid api key')
 
+    if not pk.roles.store:
+        raise APIForbidden('Key does not allow event storage access')
+
     project = Project.objects.get_from_cache(pk=pk.project_id)
 
     return project, pk.user
