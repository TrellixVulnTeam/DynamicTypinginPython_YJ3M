commit 1ac2ee6c7d0b9f4514960d3f9f7ed121f5019b01
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Oct 14 22:42:50 2012 -0700

    Improve stacktrace rendering

diff --git a/src/sentry/templates/sentry/partial/interfaces/stacktrace.html b/src/sentry/templates/sentry/partial/interfaces/stacktrace.html
index 2cbba004e4..3025e324d4 100644
--- a/src/sentry/templates/sentry/partial/interfaces/stacktrace.html
+++ b/src/sentry/templates/sentry/partial/interfaces/stacktrace.html
@@ -25,21 +25,27 @@
                     {% endif %}
                     {% if frame.vars %}
                         <div class="commands">
-                            <a href="#" onclick="return varToggle(this, '{{ forloop.counter0 }}')"><span>&#x25b6;</span> {% trans "Local vars" %}</a>
+                            <a href="#" onclick="return varToggle(this, '{{ forloop.counter0 }}')"><span>&#x25b6;</span> {% trans "Context" %}</a>
                         </div>
-                        <table class="table vars" id="v{{ forloop.counter0 }}" style="display:none;">
-                            <colgroup>
-                                <col style="width:100px;">
-                            </colgroup>
-                            <tbody>
-                                {% for key, value in frame.vars.iteritems|as_sorted %}
-                                    <tr>
-                                        <td>{{ key }}</td>
-                                        <td class="code"><pre>{{ value|pprint }}</pre></td>
-                                    </tr>
-                                {% endfor %}
-                            </tbody>
-                        </table>
+                        {% if frame.vars|is_dict %}
+                            <table class="table vars" id="v{{ forloop.counter0 }}" style="display:none;">
+                                <colgroup>
+                                    <col style="width:100px;">
+                                </colgroup>
+                                <tbody>
+                                    {% for key, value in frame.vars.iteritems|as_sorted %}
+                                        <tr>
+                                            <td>{{ key }}</td>
+                                            <td class="code"><pre>{{ value|pprint }}</pre></td>
+                                        </tr>
+                                    {% endfor %}
+                                </tbody>
+                            </table>
+                        {% else %}
+                            <div id="v{{ forloop.counter0 }}" style="display:none;">
+                                <pre>{{ frame.vars|pprint }}</pre>
+                            </div>
+                        {% endif %}
                     {% endif %}
                 </li>
             {% endfor %}
