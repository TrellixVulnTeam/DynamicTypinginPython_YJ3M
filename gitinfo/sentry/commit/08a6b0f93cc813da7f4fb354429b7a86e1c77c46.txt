commit 08a6b0f93cc813da7f4fb354429b7a86e1c77c46
Author: Ted Kaemming <ted@kaemming.com>
Date:   Tue Oct 13 15:56:46 2015 -0700

    Force timeline records to a list when building the digest.

diff --git a/src/sentry/digests/notifications.py b/src/sentry/digests/notifications.py
index bd8ee1bd1a..1abceea992 100644
--- a/src/sentry/digests/notifications.py
+++ b/src/sentry/digests/notifications.py
@@ -143,6 +143,8 @@ def sort_groups(grouped):
 
 
 def build_digest(project, records, state=None):
+    records = list(records)
+
     # XXX: This is a hack to allow generating a mock digest without actually
     # doing any real IO!
     if state is None:
