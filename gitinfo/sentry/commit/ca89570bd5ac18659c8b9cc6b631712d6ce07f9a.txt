commit ca89570bd5ac18659c8b9cc6b631712d6ce07f9a
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Nov 28 11:11:39 2017 -0800

    build(ui): Enable CSS sourcemaps in production, rename env variable (#6621)

diff --git a/webpack.config.js b/webpack.config.js
index 63de33081d..f23a825734 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -19,7 +19,7 @@ var IS_TEST = process.env.NODE_ENV === 'TEST' || process.env.TEST_SUITE;
 var WEBPACK_DEV_PORT = process.env.WEBPACK_DEV_PORT;
 var SENTRY_DEVSERVER_PORT = process.env.SENTRY_DEVSERVER_PORT;
 var USE_HOT_MODULE_RELOAD = !IS_PRODUCTION && WEBPACK_DEV_PORT && SENTRY_DEVSERVER_PORT;
-var WITH_SOURCEMAPS = !!process.env.WITH_SOURCEMAPS;
+var WITH_CSS_SOURCEMAPS = !!process.env.WITH_CSS_SOURCEMAPS || IS_PRODUCTION;
 
 var babelConfig = JSON.parse(fs.readFileSync(path.join(__dirname, '.babelrc')));
 babelConfig.cacheDirectory = true;
@@ -257,14 +257,14 @@ var legacyCssConfig = {
             {
               loader: 'css-loader',
               options: {
-                sourceMap: WITH_SOURCEMAPS,
+                sourceMap: WITH_CSS_SOURCEMAPS,
                 minimize: IS_PRODUCTION
               }
             },
             {
               loader: 'less-loader',
               options: {
-                sourceMap: WITH_SOURCEMAPS
+                sourceMap: WITH_CSS_SOURCEMAPS
               }
             },
           ]
@@ -276,7 +276,7 @@ var legacyCssConfig = {
       }
     ]
   },
-  devtool: WITH_SOURCEMAPS ? '#source-map' : undefined
+  devtool: WITH_CSS_SOURCEMAPS ? '#source-map' : undefined
 };
 
 // Dev only! Hot module reloading
