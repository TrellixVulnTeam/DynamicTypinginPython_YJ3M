commit 4dead36bc4bd8ba97d3d97645d90ed4f1b7f4307
Author: David Cramer <dcramer@gmail.com>
Date:   Mon May 2 12:36:58 2011 -0700

    Swap timestamp -> datetime in from_kwargs

diff --git a/sentry/manager.py b/sentry/manager.py
index 0d0313874f..38eede4845 100644
--- a/sentry/manager.py
+++ b/sentry/manager.py
@@ -57,7 +57,8 @@ class SentryManager(models.Manager):
         site = kwargs.pop('site', None)
         data = kwargs.pop('data', {}) or {}
         message_id = kwargs.pop('message_id', None)
-
+        timestamp = kwargs.pop('timestamp', None)
+        
         if url:
             data['url'] = url
             url = url[:URL_MAX_LENGTH]
@@ -77,6 +78,9 @@ class SentryManager(models.Manager):
             if 'module' in data.get('__sentry__', {}):
                 kwargs['data']['module'] = data['__sentry__']['module']
 
+            if timestamp:
+                kwargs['first_seen'] = timestamp
+
             group, created = GroupedMessage.objects.get_or_create(
                 view=view,
                 logger=logger_name,
@@ -104,6 +108,10 @@ class SentryManager(models.Manager):
                     score=ScoreClause(group),
                 )
                 mail = True
+
+            if 'first_seen' in kwargs:
+                kwargs['datetime'] = kwargs.pop('first_seen', None)
+                
             instance = Message.objects.create(
                 message_id=message_id,
                 view=view,
