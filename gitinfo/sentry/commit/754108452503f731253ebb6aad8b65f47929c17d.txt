commit 754108452503f731253ebb6aad8b65f47929c17d
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jan 26 03:17:27 2015 -0800

    Set last_seen in regression clause

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index d485286ebe..cc4ae59974 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -484,8 +484,13 @@ class EventManager(object):
             ).exclude(
                 # add to the regression window to account for races here
                 active_at__gte=date - timedelta(seconds=5),
-            ).update(active_at=date, status=GroupStatus.UNRESOLVED))
-
+            ).update(
+                active_at=date,
+                # explicitly set last_seen here as ``is_resolved()`` looks
+                # at the value
+                last_seen=date,
+                status=GroupStatus.UNRESOLVED
+            ))
             group.active_at = date
             group.status = GroupStatus.UNRESOLVED
 
