commit adb30260b594e43cebe327b40bcbe8f9bbfa5290
Author: Chris Fuller <cfuller@sentry.io>
Date:   Mon Jan 13 11:35:39 2020 -0500

    feat(drf): Support for lists in camel <-> snake conversion function (#16399)
    
    * Adding support for camelized lists

diff --git a/src/sentry/api/serializers/rest_framework/base.py b/src/sentry/api/serializers/rest_framework/base.py
index 43b57a9035..f425686595 100644
--- a/src/sentry/api/serializers/rest_framework/base.py
+++ b/src/sentry/api/serializers/rest_framework/base.py
@@ -26,7 +26,9 @@ def convert_dict_key_case(obj, converter):
     Recursively converts the keys of a dictionary using the provided converter
     param.
     """
-    if not isinstance(obj, dict):
+    if isinstance(obj, list):
+        return [convert_dict_key_case(x, converter) for x in obj]
+    elif not isinstance(obj, dict):
         return obj
 
     obj = obj.copy()
diff --git a/tests/sentry/api/serializers/rest_framework/test_base.py b/tests/sentry/api/serializers/rest_framework/test_base.py
index 9ceb09b282..cdb4306b2e 100644
--- a/tests/sentry/api/serializers/rest_framework/test_base.py
+++ b/tests/sentry/api/serializers/rest_framework/test_base.py
@@ -5,8 +5,11 @@ from django.test import TestCase
 from rest_framework import serializers
 
 from sentry.api.serializers.rest_framework.base import (
-    CamelSnakeSerializer,
     CamelSnakeModelSerializer,
+    CamelSnakeSerializer,
+    convert_dict_key_case,
+    camel_to_snake_case,
+    snake_to_camel_case,
 )
 
 
@@ -49,3 +52,23 @@ class CamelSnakeModelSerializerTest(TestCase):
             "appLabel": [u"This field may not be null."],
             "model": [u"This field is required."],
         }
+
+
+def test_convert_dict_key_case():
+    camelData = {
+        "appLabel": "hello",
+        "model": "Something",
+        "nestedList": [
+            {"someObject": "someValue", "nestWithinNest": [{"anotherKey": "andAValue"}]}
+        ],
+    }
+    snake_data = convert_dict_key_case(camelData, camel_to_snake_case)
+    assert snake_data == {
+        "app_label": "hello",
+        "model": "Something",
+        "nested_list": [
+            {"some_object": "someValue", "nest_within_nest": [{"another_key": "andAValue"}]}
+        ],
+    }
+
+    assert camelData == convert_dict_key_case(snake_data, snake_to_camel_case)
