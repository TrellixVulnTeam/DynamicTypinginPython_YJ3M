commit 64294880c583c27c0c9ba69ba2ecaf279633601d
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 13 01:01:06 2012 -0800

    Kill off use of Django's hashcompat

diff --git a/sentry/conf/settings.py b/sentry/conf/settings.py
index 67f6a32518..707928ba6b 100644
--- a/sentry/conf/settings.py
+++ b/sentry/conf/settings.py
@@ -9,13 +9,13 @@ sentry.conf.settings
 from sentry.conf.defaults import *
 
 from django.conf import settings
-from django.utils.hashcompat import md5_constructor
 
+import hashlib
 import warnings
 
 # Some sane overrides to better mix with Django
 DEBUG = getattr(settings, 'DEBUG', False) and not getattr(settings, 'SENTRY_TESTING', False)
-KEY = getattr(settings, 'SENTRY_KEY', md5_constructor(settings.SECRET_KEY).hexdigest())
+KEY = getattr(settings, 'SENTRY_KEY', hashlib.md5(settings.SECRET_KEY).hexdigest())
 EMAIL_SUBJECT_PREFIX = getattr(settings, 'EMAIL_SUBJECT_PREFIX', EMAIL_SUBJECT_PREFIX)
 INTERNAL_IPS = getattr(settings, 'INTERNAL_IPS', INTERNAL_IPS)
 SERVER_EMAIL = getattr(settings, 'SERVER_EMAIL', SERVER_EMAIL)
diff --git a/sentry/utils/auth.py b/sentry/utils/auth.py
index e833224324..fcad714e72 100644
--- a/sentry/utils/auth.py
+++ b/sentry/utils/auth.py
@@ -5,15 +5,15 @@ sentry.utils.auth
 :copyright: (c) 2010 by the Sentry Team, see AUTHORS for more details.
 :license: BSD, see LICENSE for more details.
 """
+import hashlib
 import hmac
-from django.utils.hashcompat import sha_constructor
 from sentry.conf import settings
 
 
 def get_signature(message, timestamp, key=None):
     if not key:
         key = settings.KEY
-    return hmac.new(key, '%s %s' % (timestamp, message), sha_constructor).hexdigest()
+    return hmac.new(key, '%s %s' % (timestamp, message), hashlib.sha1).hexdigest()
 
 
 def get_auth_header(signature, timestamp, client, api_key=None):
