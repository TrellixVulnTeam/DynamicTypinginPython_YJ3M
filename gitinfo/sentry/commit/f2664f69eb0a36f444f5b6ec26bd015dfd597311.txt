commit f2664f69eb0a36f444f5b6ec26bd015dfd597311
Author: Mark Story <mark@sentry.io>
Date:   Mon Apr 20 13:32:14 2020 -0400

    ref(ui) Shuffle components around to make adding new graphs easier. (#18361)
    
    Move a few components around in performance views and remove cross view
    imports. This should help make adding more charts to performance views
    a tiny bit easier.

diff --git a/src/sentry/static/sentry/app/utils/discover/styles.tsx b/src/sentry/static/sentry/app/utils/discover/styles.tsx
index 1f5ea17dc3..41b4d9263e 100644
--- a/src/sentry/static/sentry/app/utils/discover/styles.tsx
+++ b/src/sentry/static/sentry/app/utils/discover/styles.tsx
@@ -3,6 +3,7 @@ import styled from '@emotion/styled';
 import DateTime from 'app/components/dateTime';
 import Link from 'app/components/links/link';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
+import space from 'app/styles/space';
 
 /**
  * Styled components used to render discover result sets.
@@ -32,3 +33,36 @@ export const StyledDateTime = styled(DateTime)`
 export const OverflowLink = styled(Link)`
   ${overflowEllipsis};
 `;
+
+/* Layout containers for discover and performance views */
+export const ContentBox = styled('div')`
+  padding: ${space(2)} ${space(4)};
+  margin: 0;
+  background-color: ${p => p.theme.white};
+  flex-grow: 1;
+
+  @media (min-width: ${p => p.theme.breakpoints[1]}) {
+    display: grid;
+    grid-template-columns: 66% auto;
+    align-content: start;
+    grid-gap: ${space(3)};
+  }
+
+  @media (min-width: ${p => p.theme.breakpoints[2]}) {
+    grid-template-columns: auto 325px;
+  }
+`;
+
+export const HeaderBox = styled(ContentBox)`
+  border-bottom: 1px solid ${p => p.theme.borderDark};
+  grid-row-gap: ${space(1)};
+  background-color: transparent;
+  flex-grow: 0;
+`;
+
+export const HeaderControls = styled('div')`
+  display: flex;
+  justify-self: end;
+  grid-row: 1/2;
+  grid-column: 2/3;
+`;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
index 774546ebaa..cc78937113 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/eventDetails/content.tsx
@@ -28,6 +28,7 @@ import EventEntries from 'app/components/events/eventEntries';
 import {DataSection} from 'app/components/events/styles';
 import Projects from 'app/utils/projects';
 import EventView from 'app/utils/discover/eventView';
+import {ContentBox, HeaderBox} from 'app/utils/discover/styles';
 
 import {generateTitle} from '../utils';
 import Pagination from './pagination';
@@ -35,7 +36,6 @@ import LineGraph from './lineGraph';
 import TagsTable from '../tagsTable';
 import LinkedIssue from './linkedIssue';
 import DiscoverBreadcrumb from '../breadcrumb';
-import {ContentBox, HeaderBox} from '../styles';
 import OpsBreakdown from './transaction/opsBreakdown';
 
 const slugValidator = function(
diff --git a/src/sentry/static/sentry/app/views/eventsV2/results.tsx b/src/sentry/static/sentry/app/views/eventsV2/results.tsx
index 03baeb43b0..e99dd03036 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/results.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/results.tsx
@@ -22,6 +22,7 @@ import withApi from 'app/utils/withApi';
 import withOrganization from 'app/utils/withOrganization';
 import withGlobalSelection from 'app/utils/withGlobalSelection';
 import EventView, {isAPIPayloadSimilar} from 'app/utils/discover/eventView';
+import {ContentBox} from 'app/utils/discover/styles';
 import Alert from 'app/components/alert';
 
 import {DEFAULT_EVENT_VIEW} from './data';
@@ -30,7 +31,6 @@ import Tags from './tags';
 import ResultsHeader from './resultsHeader';
 import ResultsChart from './resultsChart';
 import {generateTitle} from './utils';
-import {ContentBox} from './styles';
 
 type Props = {
   api: Client;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/resultsHeader.tsx b/src/sentry/static/sentry/app/views/eventsV2/resultsHeader.tsx
index bbf012fb3c..abcea3fda4 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/resultsHeader.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/resultsHeader.tsx
@@ -10,11 +10,11 @@ import Hovercard from 'app/components/hovercard';
 import {t} from 'app/locale';
 import withApi from 'app/utils/withApi';
 import EventView from 'app/utils/discover/eventView';
+import {HeaderBox, HeaderControls} from 'app/utils/discover/styles';
 
 import DiscoverBreadcrumb from './breadcrumb';
 import EventInputName from './eventInputName';
 import SavedQueryButtonGroup from './savedQuery';
-import {HeaderBox, HeaderControls} from './styles';
 
 type Props = {
   api: Client;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/styles.tsx b/src/sentry/static/sentry/app/views/eventsV2/styles.tsx
deleted file mode 100644
index 0933204c5f..0000000000
--- a/src/sentry/static/sentry/app/views/eventsV2/styles.tsx
+++ /dev/null
@@ -1,35 +0,0 @@
-import styled from '@emotion/styled';
-
-import space from 'app/styles/space';
-
-export const ContentBox = styled('div')`
-  padding: ${space(2)} ${space(4)};
-  margin: 0;
-  background-color: ${p => p.theme.white};
-  flex-grow: 1;
-
-  @media (min-width: ${p => p.theme.breakpoints[1]}) {
-    display: grid;
-    grid-template-columns: 66% auto;
-    align-content: start;
-    grid-gap: ${space(3)};
-  }
-
-  @media (min-width: ${p => p.theme.breakpoints[2]}) {
-    grid-template-columns: auto 325px;
-  }
-`;
-
-export const HeaderBox = styled(ContentBox)`
-  border-bottom: 1px solid ${p => p.theme.borderDark};
-  grid-row-gap: ${space(1)};
-  background-color: transparent;
-  flex-grow: 0;
-`;
-
-export const HeaderControls = styled('div')`
-  display: flex;
-  justify-self: end;
-  grid-row: 1/2;
-  grid-column: 2/3;
-`;
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/content.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/content.tsx
index 0eb3eb870c..f432c4079a 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/content.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/content.tsx
@@ -5,14 +5,15 @@ import styled from '@emotion/styled';
 import {Organization} from 'app/types';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
 import EventView from 'app/utils/discover/eventView';
-import {ContentBox, HeaderBox} from 'app/views/eventsV2/styles';
 import Tags from 'app/views/eventsV2/tags';
+import {ContentBox, HeaderBox} from 'app/utils/discover/styles';
 import DiscoverQuery from 'app/utils/discover/discoverQuery';
 
 import SummaryContentTable from './table';
 import Breadcrumb from './breadcrumb';
 import UserStats from './userStats';
 import KeyTransactionButton from './keyTransactionButton';
+import LatencyChart from './latencyChart';
 
 const TOP_SLOWEST_TRANSACTIONS = 5;
 
@@ -57,25 +58,37 @@ class SummaryContent extends React.Component<Props> {
           <StyledTitleHeader>{transactionName}</StyledTitleHeader>
         </HeaderBox>
         <ContentBox>
-          <DiscoverQuery
-            location={location}
-            eventView={eventView}
-            orgSlug={organization.slug}
-            extraQuery={{
-              per_page: TOP_SLOWEST_TRANSACTIONS,
-            }}
-          >
-            {({isLoading, tableData}) => (
-              <SummaryContentTable
-                organization={organization}
-                location={location}
-                eventView={eventView}
-                tableData={tableData}
-                isLoading={isLoading}
-                totalValues={totalValues}
-              />
-            )}
-          </DiscoverQuery>
+          <div>
+            <LatencyChart
+              organization={organization}
+              location={location}
+              query={eventView.query}
+              project={eventView.project}
+              environment={eventView.environment}
+              start={eventView.start}
+              end={eventView.end}
+              statsPeriod={eventView.statsPeriod}
+              totalValues={totalValues}
+            />
+            <DiscoverQuery
+              location={location}
+              eventView={eventView}
+              orgSlug={organization.slug}
+              extraQuery={{
+                per_page: TOP_SLOWEST_TRANSACTIONS,
+              }}
+            >
+              {({isLoading, tableData}) => (
+                <SummaryContentTable
+                  organization={organization}
+                  location={location}
+                  eventView={eventView}
+                  tableData={tableData}
+                  isLoading={isLoading}
+                />
+              )}
+            </DiscoverQuery>
+          </div>
           <Side>
             <UserStats
               organization={organization}
diff --git a/src/sentry/static/sentry/app/views/performance/transactionSummary/table.tsx b/src/sentry/static/sentry/app/views/performance/transactionSummary/table.tsx
index 77eff5b1e5..3c3ec81e87 100644
--- a/src/sentry/static/sentry/app/views/performance/transactionSummary/table.tsx
+++ b/src/sentry/static/sentry/app/views/performance/transactionSummary/table.tsx
@@ -30,7 +30,6 @@ import {
   GridBodyCellNumber,
   SummaryGridRow,
 } from '../styles';
-import LatencyChart from './latencyChart';
 
 type Props = {
   eventView: EventView;
@@ -39,7 +38,6 @@ type Props = {
 
   isLoading: boolean;
   tableData: TableData | null | undefined;
-  totalValues: number | null;
 };
 
 class SummaryContentTable extends React.Component<Props> {
@@ -179,7 +177,7 @@ class SummaryContentTable extends React.Component<Props> {
   }
 
   render() {
-    const {eventView, location, organization, totalValues} = this.props;
+    const {eventView, organization} = this.props;
 
     let title = t('Slowest Requests');
     const parsed = tokenizeSearch(eventView.query);
@@ -188,18 +186,7 @@ class SummaryContentTable extends React.Component<Props> {
     }
 
     return (
-      <div>
-        <LatencyChart
-          organization={organization}
-          location={location}
-          query={eventView.query}
-          project={eventView.project}
-          environment={eventView.environment}
-          start={eventView.start}
-          end={eventView.end}
-          statsPeriod={eventView.statsPeriod}
-          totalValues={totalValues}
-        />
+      <React.Fragment>
         <Header>
           <HeaderTitle>{title}</HeaderTitle>
           <HeaderButtonContainer>
@@ -220,7 +207,7 @@ class SummaryContentTable extends React.Component<Props> {
             <GridBody>{this.renderResults()}</GridBody>
           </TableGrid>
         </Panel>
-      </div>
+      </React.Fragment>
     );
   }
 }
