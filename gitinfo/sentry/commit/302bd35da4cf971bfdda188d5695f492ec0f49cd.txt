commit 302bd35da4cf971bfdda188d5695f492ec0f49cd
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Wed Jun 20 09:43:18 2018 -0700

    fix(settings): Change SavedSearches to use AsyncView (#8764)
    
    When using breadcrumb switcher in SavedSearches, view does not refetch new saved searches on change, `AsyncView` handles this for free.
    
    Fixes ISSUE-54

diff --git a/src/sentry/static/sentry/app/views/projectSavedSearches.jsx b/src/sentry/static/sentry/app/views/projectSavedSearches.jsx
index f03f8b6a8e..e8ba70e866 100644
--- a/src/sentry/static/sentry/app/views/projectSavedSearches.jsx
+++ b/src/sentry/static/sentry/app/views/projectSavedSearches.jsx
@@ -1,22 +1,17 @@
 import {Flex} from 'grid-emotion';
 import PropTypes from 'prop-types';
 import React from 'react';
-import createReactClass from 'create-react-class';
 import styled from 'react-emotion';
 
-import SentryTypes from 'app/proptypes';
+import {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';
 import {t} from 'app/locale';
-
-import ApiMixin from 'app/mixins/apiMixin';
-
+import AsyncView from 'app/views/asyncView';
 import Button from 'app/components/buttons/button';
 import Confirm from 'app/components/confirm';
+import EmptyStateWarning from 'app/components/emptyStateWarning';
 import IndicatorStore from 'app/stores/indicatorStore';
-import LoadingError from 'app/components/loadingError';
-import LoadingIndicator from 'app/components/loadingIndicator';
-import {Panel, PanelBody, PanelHeader, PanelItem} from 'app/components/panels';
+import SentryTypes from 'app/proptypes';
 import SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';
-import EmptyStateWarning from 'app/components/emptyStateWarning';
 
 const InputColumn = props => <Flex flex="1" justify="center" {...props} />;
 
@@ -103,47 +98,20 @@ class SavedSearchRow extends React.Component {
   }
 }
 
-const ProjectSavedSearches = createReactClass({
-  displayName: 'ProjectSavedSearches',
-  contextTypes: {
+class ProjectSavedSearches extends AsyncView {
+  getTitle() {
+    return t('Saved Searches');
+  }
+  static contextTypes = {
     organization: SentryTypes.Organization,
-  },
-
-  mixins: [ApiMixin],
-
-  getInitialState() {
-    return {
-      loading: true,
-      error: false,
-      savedSearchList: [],
-    };
-  },
-
-  componentDidMount() {
-    this.fetchData();
-  },
+  };
 
-  fetchData() {
+  getEndpoints() {
     let {orgId, projectId} = this.props.params;
-    this.api.request(`/projects/${orgId}/${projectId}/searches/`, {
-      success: (data, _, jqXHR) => {
-        this.setState({
-          error: false,
-          loading: false,
-          savedSearchList: data,
-          pageLinks: jqXHR.getResponseHeader('Link'),
-        });
-      },
-      error: () => {
-        this.setState({
-          error: true,
-          loading: false,
-        });
-      },
-    });
-  },
+    return [['savedSearchList', `/projects/${orgId}/${projectId}/searches/`]];
+  }
 
-  handleUpdate(params) {
+  handleUpdate = params => {
     let {orgId, projectId} = this.props.params;
     let loadingIndicator = IndicatorStore.add(t('Saving changes..'));
     let {data, isDefault, isUserDefault} = params;
@@ -177,9 +145,9 @@ const ProjectSavedSearches = createReactClass({
         });
       }
     );
-  },
+  };
 
-  handleRemovedSearch(params) {
+  handleRemovedSearch = params => {
     let {orgId, projectId} = this.props.params;
     let loadingIndicator = IndicatorStore.add(t('Saving changes..'));
     let {data} = params;
@@ -205,22 +173,7 @@ const ProjectSavedSearches = createReactClass({
         });
       }
     );
-  },
-
-  renderBody() {
-    let body;
-
-    if (this.state.loading) body = this.renderLoading();
-    else if (this.state.error) body = <LoadingError onRetry={this.fetchData} />;
-    else if (this.state.savedSearchList.length > 0) body = this.renderResults();
-    else body = this.renderEmpty();
-
-    return body;
-  },
-
-  renderLoading() {
-    return <LoadingIndicator />;
-  },
+  };
 
   renderEmpty() {
     return (
@@ -228,7 +181,7 @@ const ProjectSavedSearches = createReactClass({
         <p>{t('There are no saved searches for this project.')}</p>
       </EmptyStateWarning>
     );
-  },
+  }
 
   renderResults() {
     let {orgId, projectId} = this.props.params;
@@ -255,12 +208,13 @@ const ProjectSavedSearches = createReactClass({
         })}
       </React.Fragment>
     );
-  },
+  }
 
-  render() {
+  renderBody() {
     let {organization} = this.context;
     let access = organization && new Set(organization.access);
     let canModify = (organization && access.has('project:write')) || false;
+    let hasResults = this.state.savedSearchList.length > 0;
 
     return (
       <div>
@@ -278,12 +232,12 @@ const ProjectSavedSearches = createReactClass({
               </Flex>
             </Flex>
           </PanelHeader>
-          <PanelBody>{this.renderBody()}</PanelBody>
+          <PanelBody>{hasResults ? this.renderResults() : this.renderEmpty()}</PanelBody>
         </Panel>
       </div>
     );
-  },
-});
+  }
+}
 
 export default ProjectSavedSearches;
 export {SavedSearchRow};
diff --git a/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
index 1393426a6f..8d5555172a 100644
--- a/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectSavedSearches.spec.jsx.snap
@@ -9,92 +9,267 @@ exports[`ProjectSavedSearches renders 1`] = `
     }
   }
 >
-  <div>
-    <SettingsPageHeading
-      title="Saved Searches"
+  <SideEffect(DocumentTitle)
+    title="Saved Searches - Sentry"
+  >
+    <DocumentTitle
+      title="Saved Searches - Sentry"
     >
-      <Wrapper>
-        <div
-          className="css-1pnrn3o-Wrapper e1kblvez0"
+      <div>
+        <SettingsPageHeading
+          title="Saved Searches"
         >
-          <Flex
-            align="center"
-          >
-            <Base
-              align="center"
-              className="css-5ipae5"
+          <Wrapper>
+            <div
+              className="css-1pnrn3o-Wrapper e1kblvez0"
             >
-              <div
-                className="css-5ipae5"
-                is={null}
+              <Flex
+                align="center"
               >
-                <Title>
+                <Base
+                  align="center"
+                  className="css-5ipae5"
+                >
                   <div
-                    className="css-zmdcxu-Title e1kblvez1"
+                    className="css-5ipae5"
+                    is={null}
                   >
-                    Saved Searches
+                    <Title>
+                      <div
+                        className="css-zmdcxu-Title e1kblvez1"
+                      >
+                        Saved Searches
+                      </div>
+                    </Title>
                   </div>
-                </Title>
-              </div>
-            </Base>
-          </Flex>
-        </div>
-      </Wrapper>
-    </SettingsPageHeading>
-    <Panel>
-      <StyledPanel>
-        <div
-          className="css-17lswg2-StyledPanel e1laxa7d0"
-        >
-          <PanelHeader
-            disablePadding={true}
-          >
-            <StyledPanelHeader
-              disablePadding={true}
+                </Base>
+              </Flex>
+            </div>
+          </Wrapper>
+        </SettingsPageHeading>
+        <Panel>
+          <StyledPanel>
+            <div
+              className="css-17lswg2-StyledPanel e1laxa7d0"
             >
-              <Component
-                className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
+              <PanelHeader
                 disablePadding={true}
               >
-                <Flex
-                  align="center"
-                  className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
-                  justify="space-between"
+                <StyledPanelHeader
+                  disablePadding={true}
                 >
-                  <Base
-                    align="center"
-                    className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
-                    justify="space-between"
+                  <Component
+                    className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
+                    disablePadding={true}
                   >
-                    <div
-                      className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
-                      is={null}
+                    <Flex
+                      align="center"
+                      className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
+                      justify="space-between"
                     >
-                      <Flex
-                        flex="1"
+                      <Base
+                        align="center"
+                        className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
+                        justify="space-between"
+                      >
+                        <div
+                          className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
+                          is={null}
+                        >
+                          <Flex
+                            flex="1"
+                          >
+                            <Base
+                              className="css-z8nhq7"
+                              flex="1"
+                            >
+                              <div
+                                className="css-z8nhq7"
+                                is={null}
+                              >
+                                <Flex
+                                  flex="1"
+                                  px={2}
+                                >
+                                  <Base
+                                    className="css-1i4q2rt"
+                                    flex="1"
+                                    px={2}
+                                  >
+                                    <div
+                                      className="css-1i4q2rt"
+                                      is={null}
+                                    >
+                                      Search
+                                    </div>
+                                  </Base>
+                                </Flex>
+                                <Flex
+                                  flex="1"
+                                >
+                                  <Base
+                                    className="css-z8nhq7"
+                                    flex="1"
+                                  >
+                                    <div
+                                      className="css-z8nhq7"
+                                      is={null}
+                                    >
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              My Default
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              Team Default
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              Remove
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                    </div>
+                                  </Base>
+                                </Flex>
+                              </div>
+                            </Base>
+                          </Flex>
+                        </div>
+                      </Base>
+                    </Flex>
+                  </Component>
+                </StyledPanelHeader>
+              </PanelHeader>
+              <PanelBody
+                direction="column"
+                disablePadding={true}
+                flex={false}
+              >
+                <div
+                  className="css-9vq8an-textStyles"
+                >
+                  <SavedSearchRow
+                    access={
+                      Set {
+                        "org:read",
+                        "org:write",
+                        "org:admin",
+                        "project:read",
+                        "project:write",
+                        "project:admin",
+                        "team:read",
+                        "team:write",
+                        "team:admin",
+                      }
+                    }
+                    canModify={true}
+                    data={
+                      Object {
+                        "dateCreated": "2017-11-14T02:22:58.026Z",
+                        "id": "2",
+                        "isDefault": true,
+                        "isPrivate": false,
+                        "isUserDefault": false,
+                        "name": "Needs Triage",
+                        "query": "is:unresolved is:unassigned",
+                      }
+                    }
+                    key="2"
+                    onDefault={[Function]}
+                    onRemove={[Function]}
+                    onUserDefault={[Function]}
+                    orgId="org-slug"
+                    projectId="project-slug"
+                  >
+                    <PanelItem
+                      align="center"
+                      p={0}
+                      py={2}
+                    >
+                      <StyledPanelItem
+                        align="center"
+                        p={0}
+                        py={2}
                       >
                         <Base
-                          className="css-z8nhq7"
-                          flex="1"
+                          align="center"
+                          className="css-gub3dk-StyledPanelItem eo8n7lk0"
+                          p={0}
+                          py={2}
                         >
                           <div
-                            className="css-z8nhq7"
+                            className="css-gub3dk-StyledPanelItem eo8n7lk0"
                             is={null}
                           >
                             <Flex
+                              direction="column"
                               flex="1"
                               px={2}
                             >
                               <Base
-                                className="css-1i4q2rt"
+                                className="css-16auc1r"
+                                direction="column"
                                 flex="1"
                                 px={2}
                               >
                                 <div
-                                  className="css-1i4q2rt"
+                                  className="css-16auc1r"
                                   is={null}
                                 >
-                                  Search
+                                  <SearchTitle>
+                                    <div
+                                      className="css-225nrx-SearchTitle e1e9fsi50"
+                                    >
+                                      Needs Triage
+                                    </div>
+                                  </SearchTitle>
+                                  <code>
+                                    is:unresolved is:unassigned
+                                  </code>
                                 </div>
                               </Base>
                             </Flex>
@@ -123,7 +298,12 @@ exports[`ProjectSavedSearches renders 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          My Default
+                                          <input
+                                            checked={false}
+                                            name="userDefault"
+                                            onChange={[Function]}
+                                            type="radio"
+                                          />
                                         </div>
                                       </Base>
                                     </Flex>
@@ -142,7 +322,12 @@ exports[`ProjectSavedSearches renders 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          Team Default
+                                          <input
+                                            checked={true}
+                                            name="default"
+                                            onChange={[Function]}
+                                            type="radio"
+                                          />
                                         </div>
                                       </Base>
                                     </Flex>
@@ -161,705 +346,215 @@ exports[`ProjectSavedSearches renders 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          Remove
-                                        </div>
-                                      </Base>
-                                    </Flex>
-                                  </InputColumn>
-                                </div>
-                              </Base>
-                            </Flex>
-                          </div>
-                        </Base>
-                      </Flex>
-                    </div>
-                  </Base>
-                </Flex>
-              </Component>
-            </StyledPanelHeader>
-          </PanelHeader>
-          <PanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
-          >
-            <div
-              className="css-9vq8an-textStyles"
-            >
-              <SavedSearchRow
-                access={
-                  Set {
-                    "org:read",
-                    "org:write",
-                    "org:admin",
-                    "project:read",
-                    "project:write",
-                    "project:admin",
-                    "team:read",
-                    "team:write",
-                    "team:admin",
-                  }
-                }
-                canModify={true}
-                data={
-                  Object {
-                    "dateCreated": "2017-11-14T02:22:58.026Z",
-                    "id": "2",
-                    "isDefault": true,
-                    "isPrivate": false,
-                    "isUserDefault": false,
-                    "name": "Needs Triage",
-                    "query": "is:unresolved is:unassigned",
-                  }
-                }
-                key="2"
-                onDefault={[Function]}
-                onRemove={[Function]}
-                onUserDefault={[Function]}
-                orgId="org-slug"
-                projectId="project-slug"
-              >
-                <PanelItem
-                  align="center"
-                  p={0}
-                  py={2}
-                >
-                  <StyledPanelItem
-                    align="center"
-                    p={0}
-                    py={2}
-                  >
-                    <Base
-                      align="center"
-                      className="css-gub3dk-StyledPanelItem eo8n7lk0"
-                      p={0}
-                      py={2}
-                    >
-                      <div
-                        className="css-gub3dk-StyledPanelItem eo8n7lk0"
-                        is={null}
-                      >
-                        <Flex
-                          direction="column"
-                          flex="1"
-                          px={2}
-                        >
-                          <Base
-                            className="css-16auc1r"
-                            direction="column"
-                            flex="1"
-                            px={2}
-                          >
-                            <div
-                              className="css-16auc1r"
-                              is={null}
-                            >
-                              <SearchTitle>
-                                <div
-                                  className="css-225nrx-SearchTitle e1e9fsi50"
-                                >
-                                  Needs Triage
-                                </div>
-                              </SearchTitle>
-                              <code>
-                                is:unresolved is:unassigned
-                              </code>
-                            </div>
-                          </Base>
-                        </Flex>
-                        <Flex
-                          flex="1"
-                        >
-                          <Base
-                            className="css-z8nhq7"
-                            flex="1"
-                          >
-                            <div
-                              className="css-z8nhq7"
-                              is={null}
-                            >
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <input
-                                        checked={false}
-                                        name="userDefault"
-                                        onChange={[Function]}
-                                        type="radio"
-                                      />
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <input
-                                        checked={true}
-                                        name="default"
-                                        onChange={[Function]}
-                                        type="radio"
-                                      />
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <Confirm
-                                        cancelText="Cancel"
-                                        confirmText="Confirm"
-                                        message="Are you sure you want to remove this?"
-                                        onConfirm={[Function]}
-                                        priority="primary"
-                                      >
-                                        <Button
-                                          disabled={false}
-                                          onClick={[Function]}
-                                          size="small"
-                                        >
-                                          <StyledButton
-                                            disabled={false}
-                                            onClick={[Function]}
-                                            role="button"
-                                            size="small"
+                                          <Confirm
+                                            cancelText="Cancel"
+                                            confirmText="Confirm"
+                                            message="Are you sure you want to remove this?"
+                                            onConfirm={[Function]}
+                                            priority="primary"
                                           >
-                                            <Component
-                                              className="css-dkprmi-StyledButton-getColors e17811v30"
+                                            <Button
                                               disabled={false}
                                               onClick={[Function]}
-                                              role="button"
                                               size="small"
                                             >
-                                              <button
-                                                className="css-dkprmi-StyledButton-getColors e17811v30"
+                                              <StyledButton
                                                 disabled={false}
                                                 onClick={[Function]}
                                                 role="button"
                                                 size="small"
                                               >
-                                                <ButtonLabel
+                                                <Component
+                                                  className="css-dkprmi-StyledButton-getColors e17811v30"
+                                                  disabled={false}
+                                                  onClick={[Function]}
+                                                  role="button"
                                                   size="small"
                                                 >
-                                                  <Component
-                                                    className="css-179w01k-ButtonLabel e17811v31"
+                                                  <button
+                                                    className="css-dkprmi-StyledButton-getColors e17811v30"
+                                                    disabled={false}
+                                                    onClick={[Function]}
+                                                    role="button"
                                                     size="small"
                                                   >
-                                                    <Flex
-                                                      align="center"
-                                                      className="css-179w01k-ButtonLabel e17811v31"
+                                                    <ButtonLabel
                                                       size="small"
                                                     >
-                                                      <Base
-                                                        align="center"
-                                                        className="e17811v31 css-8mahft-ButtonLabel"
+                                                      <Component
+                                                        className="css-179w01k-ButtonLabel e17811v31"
                                                         size="small"
                                                       >
-                                                        <div
-                                                          className="e17811v31 css-8mahft-ButtonLabel"
-                                                          is={null}
+                                                        <Flex
+                                                          align="center"
+                                                          className="css-179w01k-ButtonLabel e17811v31"
                                                           size="small"
                                                         >
-                                                          <span
-                                                            className="icon icon-trash"
-                                                          />
-                                                        </div>
-                                                      </Base>
-                                                    </Flex>
-                                                  </Component>
-                                                </ButtonLabel>
-                                              </button>
-                                            </Component>
-                                          </StyledButton>
-                                        </Button>
-                                        <Modal
-                                          animation={false}
-                                          autoFocus={true}
-                                          backdrop={true}
-                                          bsClass="modal"
-                                          dialogComponentClass={[Function]}
-                                          enforceFocus={true}
-                                          keyboard={true}
-                                          manager={
-                                            ModalManager {
-                                              "add": [Function],
-                                              "containers": Array [],
-                                              "data": Array [],
-                                              "handleContainerOverflow": true,
-                                              "hideSiblingNodes": true,
-                                              "isTopModal": [Function],
-                                              "modals": Array [],
-                                              "remove": [Function],
-                                            }
-                                          }
-                                          onHide={[Function]}
-                                          renderBackdrop={[Function]}
-                                          restoreFocus={true}
-                                          show={false}
-                                        >
-                                          <Modal
-                                            autoFocus={true}
-                                            backdrop={true}
-                                            backdropClassName="modal-backdrop"
-                                            containerClassName="modal-open"
-                                            enforceFocus={true}
-                                            keyboard={true}
-                                            manager={
-                                              ModalManager {
-                                                "add": [Function],
-                                                "containers": Array [],
-                                                "data": Array [],
-                                                "handleContainerOverflow": true,
-                                                "hideSiblingNodes": true,
-                                                "isTopModal": [Function],
-                                                "modals": Array [],
-                                                "remove": [Function],
+                                                          <Base
+                                                            align="center"
+                                                            className="e17811v31 css-8mahft-ButtonLabel"
+                                                            size="small"
+                                                          >
+                                                            <div
+                                                              className="e17811v31 css-8mahft-ButtonLabel"
+                                                              is={null}
+                                                              size="small"
+                                                            >
+                                                              <span
+                                                                className="icon icon-trash"
+                                                              />
+                                                            </div>
+                                                          </Base>
+                                                        </Flex>
+                                                      </Component>
+                                                    </ButtonLabel>
+                                                  </button>
+                                                </Component>
+                                              </StyledButton>
+                                            </Button>
+                                            <Modal
+                                              animation={false}
+                                              autoFocus={true}
+                                              backdrop={true}
+                                              bsClass="modal"
+                                              dialogComponentClass={[Function]}
+                                              enforceFocus={true}
+                                              keyboard={true}
+                                              manager={
+                                                ModalManager {
+                                                  "add": [Function],
+                                                  "containers": Array [],
+                                                  "data": Array [],
+                                                  "handleContainerOverflow": true,
+                                                  "hideSiblingNodes": true,
+                                                  "isTopModal": [Function],
+                                                  "modals": Array [],
+                                                  "remove": [Function],
+                                                }
                                               }
-                                            }
-                                            onEntering={[Function]}
-                                            onExited={[Function]}
-                                            onHide={[Function]}
-                                            renderBackdrop={[Function]}
-                                            restoreFocus={true}
-                                            show={false}
-                                          />
-                                        </Modal>
-                                      </Confirm>
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                            </div>
-                          </Base>
-                        </Flex>
-                      </div>
-                    </Base>
-                  </StyledPanelItem>
-                </PanelItem>
-              </SavedSearchRow>
-              <SavedSearchRow
-                access={
-                  Set {
-                    "org:read",
-                    "org:write",
-                    "org:admin",
-                    "project:read",
-                    "project:write",
-                    "project:admin",
-                    "team:read",
-                    "team:write",
-                    "team:admin",
-                  }
-                }
-                canModify={true}
-                data={
-                  Object {
-                    "dateCreated": "2017-11-14T02:22:58.022Z",
-                    "id": "1",
-                    "isDefault": false,
-                    "isPrivate": false,
-                    "isUserDefault": true,
-                    "name": "Unresolved Issues",
-                    "query": "is:unresolved",
-                  }
-                }
-                key="1"
-                onDefault={[Function]}
-                onRemove={[Function]}
-                onUserDefault={[Function]}
-                orgId="org-slug"
-                projectId="project-slug"
-              >
-                <PanelItem
-                  align="center"
-                  p={0}
-                  py={2}
-                >
-                  <StyledPanelItem
-                    align="center"
-                    p={0}
-                    py={2}
+                                              onHide={[Function]}
+                                              renderBackdrop={[Function]}
+                                              restoreFocus={true}
+                                              show={false}
+                                            >
+                                              <Modal
+                                                autoFocus={true}
+                                                backdrop={true}
+                                                backdropClassName="modal-backdrop"
+                                                containerClassName="modal-open"
+                                                enforceFocus={true}
+                                                keyboard={true}
+                                                manager={
+                                                  ModalManager {
+                                                    "add": [Function],
+                                                    "containers": Array [],
+                                                    "data": Array [],
+                                                    "handleContainerOverflow": true,
+                                                    "hideSiblingNodes": true,
+                                                    "isTopModal": [Function],
+                                                    "modals": Array [],
+                                                    "remove": [Function],
+                                                  }
+                                                }
+                                                onEntering={[Function]}
+                                                onExited={[Function]}
+                                                onHide={[Function]}
+                                                renderBackdrop={[Function]}
+                                                restoreFocus={true}
+                                                show={false}
+                                              />
+                                            </Modal>
+                                          </Confirm>
+                                        </div>
+                                      </Base>
+                                    </Flex>
+                                  </InputColumn>
+                                </div>
+                              </Base>
+                            </Flex>
+                          </div>
+                        </Base>
+                      </StyledPanelItem>
+                    </PanelItem>
+                  </SavedSearchRow>
+                  <SavedSearchRow
+                    access={
+                      Set {
+                        "org:read",
+                        "org:write",
+                        "org:admin",
+                        "project:read",
+                        "project:write",
+                        "project:admin",
+                        "team:read",
+                        "team:write",
+                        "team:admin",
+                      }
+                    }
+                    canModify={true}
+                    data={
+                      Object {
+                        "dateCreated": "2017-11-14T02:22:58.022Z",
+                        "id": "1",
+                        "isDefault": false,
+                        "isPrivate": false,
+                        "isUserDefault": true,
+                        "name": "Unresolved Issues",
+                        "query": "is:unresolved",
+                      }
+                    }
+                    key="1"
+                    onDefault={[Function]}
+                    onRemove={[Function]}
+                    onUserDefault={[Function]}
+                    orgId="org-slug"
+                    projectId="project-slug"
                   >
-                    <Base
+                    <PanelItem
                       align="center"
-                      className="css-gub3dk-StyledPanelItem eo8n7lk0"
                       p={0}
                       py={2}
                     >
-                      <div
-                        className="css-gub3dk-StyledPanelItem eo8n7lk0"
-                        is={null}
-                      >
-                        <Flex
-                          direction="column"
-                          flex="1"
-                          px={2}
-                        >
-                          <Base
-                            className="css-16auc1r"
-                            direction="column"
-                            flex="1"
-                            px={2}
-                          >
-                            <div
-                              className="css-16auc1r"
-                              is={null}
-                            >
-                              <SearchTitle>
-                                <div
-                                  className="css-225nrx-SearchTitle e1e9fsi50"
-                                >
-                                  Unresolved Issues
-                                </div>
-                              </SearchTitle>
-                              <code>
-                                is:unresolved
-                              </code>
-                            </div>
-                          </Base>
-                        </Flex>
-                        <Flex
-                          flex="1"
-                        >
-                          <Base
-                            className="css-z8nhq7"
-                            flex="1"
-                          >
-                            <div
-                              className="css-z8nhq7"
-                              is={null}
-                            >
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <input
-                                        checked={true}
-                                        name="userDefault"
-                                        onChange={[Function]}
-                                        type="radio"
-                                      />
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <input
-                                        checked={false}
-                                        name="default"
-                                        onChange={[Function]}
-                                        type="radio"
-                                      />
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                              <InputColumn>
-                                <Flex
-                                  flex="1"
-                                  justify="center"
-                                >
-                                  <Base
-                                    className="css-k3hlac"
-                                    flex="1"
-                                    justify="center"
-                                  >
-                                    <div
-                                      className="css-k3hlac"
-                                      is={null}
-                                    >
-                                      <Confirm
-                                        cancelText="Cancel"
-                                        confirmText="Confirm"
-                                        message="Are you sure you want to remove this?"
-                                        onConfirm={[Function]}
-                                        priority="primary"
-                                      >
-                                        <Button
-                                          disabled={false}
-                                          onClick={[Function]}
-                                          size="small"
-                                        >
-                                          <StyledButton
-                                            disabled={false}
-                                            onClick={[Function]}
-                                            role="button"
-                                            size="small"
-                                          >
-                                            <Component
-                                              className="css-dkprmi-StyledButton-getColors e17811v30"
-                                              disabled={false}
-                                              onClick={[Function]}
-                                              role="button"
-                                              size="small"
-                                            >
-                                              <button
-                                                className="css-dkprmi-StyledButton-getColors e17811v30"
-                                                disabled={false}
-                                                onClick={[Function]}
-                                                role="button"
-                                                size="small"
-                                              >
-                                                <ButtonLabel
-                                                  size="small"
-                                                >
-                                                  <Component
-                                                    className="css-179w01k-ButtonLabel e17811v31"
-                                                    size="small"
-                                                  >
-                                                    <Flex
-                                                      align="center"
-                                                      className="css-179w01k-ButtonLabel e17811v31"
-                                                      size="small"
-                                                    >
-                                                      <Base
-                                                        align="center"
-                                                        className="e17811v31 css-8mahft-ButtonLabel"
-                                                        size="small"
-                                                      >
-                                                        <div
-                                                          className="e17811v31 css-8mahft-ButtonLabel"
-                                                          is={null}
-                                                          size="small"
-                                                        >
-                                                          <span
-                                                            className="icon icon-trash"
-                                                          />
-                                                        </div>
-                                                      </Base>
-                                                    </Flex>
-                                                  </Component>
-                                                </ButtonLabel>
-                                              </button>
-                                            </Component>
-                                          </StyledButton>
-                                        </Button>
-                                        <Modal
-                                          animation={false}
-                                          autoFocus={true}
-                                          backdrop={true}
-                                          bsClass="modal"
-                                          dialogComponentClass={[Function]}
-                                          enforceFocus={true}
-                                          keyboard={true}
-                                          manager={
-                                            ModalManager {
-                                              "add": [Function],
-                                              "containers": Array [],
-                                              "data": Array [],
-                                              "handleContainerOverflow": true,
-                                              "hideSiblingNodes": true,
-                                              "isTopModal": [Function],
-                                              "modals": Array [],
-                                              "remove": [Function],
-                                            }
-                                          }
-                                          onHide={[Function]}
-                                          renderBackdrop={[Function]}
-                                          restoreFocus={true}
-                                          show={false}
-                                        >
-                                          <Modal
-                                            autoFocus={true}
-                                            backdrop={true}
-                                            backdropClassName="modal-backdrop"
-                                            containerClassName="modal-open"
-                                            enforceFocus={true}
-                                            keyboard={true}
-                                            manager={
-                                              ModalManager {
-                                                "add": [Function],
-                                                "containers": Array [],
-                                                "data": Array [],
-                                                "handleContainerOverflow": true,
-                                                "hideSiblingNodes": true,
-                                                "isTopModal": [Function],
-                                                "modals": Array [],
-                                                "remove": [Function],
-                                              }
-                                            }
-                                            onEntering={[Function]}
-                                            onExited={[Function]}
-                                            onHide={[Function]}
-                                            renderBackdrop={[Function]}
-                                            restoreFocus={true}
-                                            show={false}
-                                          />
-                                        </Modal>
-                                      </Confirm>
-                                    </div>
-                                  </Base>
-                                </Flex>
-                              </InputColumn>
-                            </div>
-                          </Base>
-                        </Flex>
-                      </div>
-                    </Base>
-                  </StyledPanelItem>
-                </PanelItem>
-              </SavedSearchRow>
-            </div>
-          </PanelBody>
-        </div>
-      </StyledPanel>
-    </Panel>
-  </div>
-</ProjectSavedSearches>
-`;
-
-exports[`ProjectSavedSearches renders empty 1`] = `
-<ProjectSavedSearches
-  params={
-    Object {
-      "orgId": "org-slug",
-      "projectId": "project-slug",
-    }
-  }
->
-  <div>
-    <SettingsPageHeading
-      title="Saved Searches"
-    >
-      <Wrapper>
-        <div
-          className="css-1pnrn3o-Wrapper e1kblvez0"
-        >
-          <Flex
-            align="center"
-          >
-            <Base
-              align="center"
-              className="css-5ipae5"
-            >
-              <div
-                className="css-5ipae5"
-                is={null}
-              >
-                <Title>
-                  <div
-                    className="css-zmdcxu-Title e1kblvez1"
-                  >
-                    Saved Searches
-                  </div>
-                </Title>
-              </div>
-            </Base>
-          </Flex>
-        </div>
-      </Wrapper>
-    </SettingsPageHeading>
-    <Panel>
-      <StyledPanel>
-        <div
-          className="css-17lswg2-StyledPanel e1laxa7d0"
-        >
-          <PanelHeader
-            disablePadding={true}
-          >
-            <StyledPanelHeader
-              disablePadding={true}
-            >
-              <Component
-                className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
-                disablePadding={true}
-              >
-                <Flex
-                  align="center"
-                  className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
-                  justify="space-between"
-                >
-                  <Base
-                    align="center"
-                    className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
-                    justify="space-between"
-                  >
-                    <div
-                      className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
-                      is={null}
-                    >
-                      <Flex
-                        flex="1"
+                      <StyledPanelItem
+                        align="center"
+                        p={0}
+                        py={2}
                       >
                         <Base
-                          className="css-z8nhq7"
-                          flex="1"
+                          align="center"
+                          className="css-gub3dk-StyledPanelItem eo8n7lk0"
+                          p={0}
+                          py={2}
                         >
                           <div
-                            className="css-z8nhq7"
+                            className="css-gub3dk-StyledPanelItem eo8n7lk0"
                             is={null}
                           >
                             <Flex
+                              direction="column"
                               flex="1"
                               px={2}
                             >
                               <Base
-                                className="css-1i4q2rt"
+                                className="css-16auc1r"
+                                direction="column"
                                 flex="1"
                                 px={2}
                               >
                                 <div
-                                  className="css-1i4q2rt"
+                                  className="css-16auc1r"
                                   is={null}
                                 >
-                                  Search
+                                  <SearchTitle>
+                                    <div
+                                      className="css-225nrx-SearchTitle e1e9fsi50"
+                                    >
+                                      Unresolved Issues
+                                    </div>
+                                  </SearchTitle>
+                                  <code>
+                                    is:unresolved
+                                  </code>
                                 </div>
                               </Base>
                             </Flex>
@@ -888,7 +583,12 @@ exports[`ProjectSavedSearches renders empty 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          My Default
+                                          <input
+                                            checked={true}
+                                            name="userDefault"
+                                            onChange={[Function]}
+                                            type="radio"
+                                          />
                                         </div>
                                       </Base>
                                     </Flex>
@@ -907,7 +607,12 @@ exports[`ProjectSavedSearches renders empty 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          Team Default
+                                          <input
+                                            checked={false}
+                                            name="default"
+                                            onChange={[Function]}
+                                            type="radio"
+                                          />
                                         </div>
                                       </Base>
                                     </Flex>
@@ -926,7 +631,125 @@ exports[`ProjectSavedSearches renders empty 1`] = `
                                           className="css-k3hlac"
                                           is={null}
                                         >
-                                          Remove
+                                          <Confirm
+                                            cancelText="Cancel"
+                                            confirmText="Confirm"
+                                            message="Are you sure you want to remove this?"
+                                            onConfirm={[Function]}
+                                            priority="primary"
+                                          >
+                                            <Button
+                                              disabled={false}
+                                              onClick={[Function]}
+                                              size="small"
+                                            >
+                                              <StyledButton
+                                                disabled={false}
+                                                onClick={[Function]}
+                                                role="button"
+                                                size="small"
+                                              >
+                                                <Component
+                                                  className="css-dkprmi-StyledButton-getColors e17811v30"
+                                                  disabled={false}
+                                                  onClick={[Function]}
+                                                  role="button"
+                                                  size="small"
+                                                >
+                                                  <button
+                                                    className="css-dkprmi-StyledButton-getColors e17811v30"
+                                                    disabled={false}
+                                                    onClick={[Function]}
+                                                    role="button"
+                                                    size="small"
+                                                  >
+                                                    <ButtonLabel
+                                                      size="small"
+                                                    >
+                                                      <Component
+                                                        className="css-179w01k-ButtonLabel e17811v31"
+                                                        size="small"
+                                                      >
+                                                        <Flex
+                                                          align="center"
+                                                          className="css-179w01k-ButtonLabel e17811v31"
+                                                          size="small"
+                                                        >
+                                                          <Base
+                                                            align="center"
+                                                            className="e17811v31 css-8mahft-ButtonLabel"
+                                                            size="small"
+                                                          >
+                                                            <div
+                                                              className="e17811v31 css-8mahft-ButtonLabel"
+                                                              is={null}
+                                                              size="small"
+                                                            >
+                                                              <span
+                                                                className="icon icon-trash"
+                                                              />
+                                                            </div>
+                                                          </Base>
+                                                        </Flex>
+                                                      </Component>
+                                                    </ButtonLabel>
+                                                  </button>
+                                                </Component>
+                                              </StyledButton>
+                                            </Button>
+                                            <Modal
+                                              animation={false}
+                                              autoFocus={true}
+                                              backdrop={true}
+                                              bsClass="modal"
+                                              dialogComponentClass={[Function]}
+                                              enforceFocus={true}
+                                              keyboard={true}
+                                              manager={
+                                                ModalManager {
+                                                  "add": [Function],
+                                                  "containers": Array [],
+                                                  "data": Array [],
+                                                  "handleContainerOverflow": true,
+                                                  "hideSiblingNodes": true,
+                                                  "isTopModal": [Function],
+                                                  "modals": Array [],
+                                                  "remove": [Function],
+                                                }
+                                              }
+                                              onHide={[Function]}
+                                              renderBackdrop={[Function]}
+                                              restoreFocus={true}
+                                              show={false}
+                                            >
+                                              <Modal
+                                                autoFocus={true}
+                                                backdrop={true}
+                                                backdropClassName="modal-backdrop"
+                                                containerClassName="modal-open"
+                                                enforceFocus={true}
+                                                keyboard={true}
+                                                manager={
+                                                  ModalManager {
+                                                    "add": [Function],
+                                                    "containers": Array [],
+                                                    "data": Array [],
+                                                    "handleContainerOverflow": true,
+                                                    "hideSiblingNodes": true,
+                                                    "isTopModal": [Function],
+                                                    "modals": Array [],
+                                                    "remove": [Function],
+                                                  }
+                                                }
+                                                onEntering={[Function]}
+                                                onExited={[Function]}
+                                                onHide={[Function]}
+                                                renderBackdrop={[Function]}
+                                                restoreFocus={true}
+                                                show={false}
+                                              />
+                                            </Modal>
+                                          </Confirm>
                                         </div>
                                       </Base>
                                     </Flex>
@@ -936,46 +759,239 @@ exports[`ProjectSavedSearches renders empty 1`] = `
                             </Flex>
                           </div>
                         </Base>
-                      </Flex>
-                    </div>
-                  </Base>
-                </Flex>
-              </Component>
-            </StyledPanelHeader>
-          </PanelHeader>
-          <PanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
-          >
+                      </StyledPanelItem>
+                    </PanelItem>
+                  </SavedSearchRow>
+                </div>
+              </PanelBody>
+            </div>
+          </StyledPanel>
+        </Panel>
+      </div>
+    </DocumentTitle>
+  </SideEffect(DocumentTitle)>
+</ProjectSavedSearches>
+`;
+
+exports[`ProjectSavedSearches renders empty 1`] = `
+<ProjectSavedSearches
+  params={
+    Object {
+      "orgId": "org-slug",
+      "projectId": "project-slug",
+    }
+  }
+>
+  <SideEffect(DocumentTitle)
+    title="Saved Searches - Sentry"
+  >
+    <DocumentTitle
+      title="Saved Searches - Sentry"
+    >
+      <div>
+        <SettingsPageHeading
+          title="Saved Searches"
+        >
+          <Wrapper>
             <div
-              className="css-9vq8an-textStyles"
+              className="css-1pnrn3o-Wrapper e1kblvez0"
             >
-              <EmptyStateWarning>
-                <EmptyStreamWrapper
-                  className="ref-empty-state"
+              <Flex
+                align="center"
+              >
+                <Base
+                  align="center"
+                  className="css-5ipae5"
                 >
                   <div
-                    className="ref-empty-state css-n38n5f-EmptyStreamWrapper ernlsnc0"
+                    className="css-5ipae5"
+                    is={null}
                   >
-                    <Icon
-                      className="icon icon-exclamation"
-                    >
+                    <Title>
                       <div
-                        className="icon icon-exclamation css-tjp7mx-Icon ernlsnc1"
-                      />
-                    </Icon>
-                    <p>
-                      There are no saved searches for this project.
-                    </p>
+                        className="css-zmdcxu-Title e1kblvez1"
+                      >
+                        Saved Searches
+                      </div>
+                    </Title>
                   </div>
-                </EmptyStreamWrapper>
-              </EmptyStateWarning>
+                </Base>
+              </Flex>
+            </div>
+          </Wrapper>
+        </SettingsPageHeading>
+        <Panel>
+          <StyledPanel>
+            <div
+              className="css-17lswg2-StyledPanel e1laxa7d0"
+            >
+              <PanelHeader
+                disablePadding={true}
+              >
+                <StyledPanelHeader
+                  disablePadding={true}
+                >
+                  <Component
+                    className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
+                    disablePadding={true}
+                  >
+                    <Flex
+                      align="center"
+                      className="css-bkejvr-StyledPanelHeader-getPadding e1p8v8nv0"
+                      justify="space-between"
+                    >
+                      <Base
+                        align="center"
+                        className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
+                        justify="space-between"
+                      >
+                        <div
+                          className="e1p8v8nv0 css-1w90zj8-StyledPanelHeader-getPadding"
+                          is={null}
+                        >
+                          <Flex
+                            flex="1"
+                          >
+                            <Base
+                              className="css-z8nhq7"
+                              flex="1"
+                            >
+                              <div
+                                className="css-z8nhq7"
+                                is={null}
+                              >
+                                <Flex
+                                  flex="1"
+                                  px={2}
+                                >
+                                  <Base
+                                    className="css-1i4q2rt"
+                                    flex="1"
+                                    px={2}
+                                  >
+                                    <div
+                                      className="css-1i4q2rt"
+                                      is={null}
+                                    >
+                                      Search
+                                    </div>
+                                  </Base>
+                                </Flex>
+                                <Flex
+                                  flex="1"
+                                >
+                                  <Base
+                                    className="css-z8nhq7"
+                                    flex="1"
+                                  >
+                                    <div
+                                      className="css-z8nhq7"
+                                      is={null}
+                                    >
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              My Default
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              Team Default
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                      <InputColumn>
+                                        <Flex
+                                          flex="1"
+                                          justify="center"
+                                        >
+                                          <Base
+                                            className="css-k3hlac"
+                                            flex="1"
+                                            justify="center"
+                                          >
+                                            <div
+                                              className="css-k3hlac"
+                                              is={null}
+                                            >
+                                              Remove
+                                            </div>
+                                          </Base>
+                                        </Flex>
+                                      </InputColumn>
+                                    </div>
+                                  </Base>
+                                </Flex>
+                              </div>
+                            </Base>
+                          </Flex>
+                        </div>
+                      </Base>
+                    </Flex>
+                  </Component>
+                </StyledPanelHeader>
+              </PanelHeader>
+              <PanelBody
+                direction="column"
+                disablePadding={true}
+                flex={false}
+              >
+                <div
+                  className="css-9vq8an-textStyles"
+                >
+                  <EmptyStateWarning>
+                    <EmptyStreamWrapper
+                      className="ref-empty-state"
+                    >
+                      <div
+                        className="ref-empty-state css-n38n5f-EmptyStreamWrapper ernlsnc0"
+                      >
+                        <Icon
+                          className="icon icon-exclamation"
+                        >
+                          <div
+                            className="icon icon-exclamation css-tjp7mx-Icon ernlsnc1"
+                          />
+                        </Icon>
+                        <p>
+                          There are no saved searches for this project.
+                        </p>
+                      </div>
+                    </EmptyStreamWrapper>
+                  </EmptyStateWarning>
+                </div>
+              </PanelBody>
             </div>
-          </PanelBody>
-        </div>
-      </StyledPanel>
-    </Panel>
-  </div>
+          </StyledPanel>
+        </Panel>
+      </div>
+    </DocumentTitle>
+  </SideEffect(DocumentTitle)>
 </ProjectSavedSearches>
 `;
