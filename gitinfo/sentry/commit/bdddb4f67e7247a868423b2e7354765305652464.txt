commit bdddb4f67e7247a868423b2e7354765305652464
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Nov 17 17:02:09 2015 -0800

    Ensure admins can create teams (refs GH-2243)

diff --git a/tests/sentry/web/frontend/test_create_team.py b/tests/sentry/web/frontend/test_create_team.py
index 839aab7bf6..72e73a6f2f 100644
--- a/tests/sentry/web/frontend/test_create_team.py
+++ b/tests/sentry/web/frontend/test_create_team.py
@@ -60,3 +60,27 @@ class CreateTeamTest(TestCase):
         redirect_uri = reverse('sentry-create-project', args=[organization.slug])
         assert resp['Location'] == 'http://testserver%s?team=%s' % (
             redirect_uri, team.slug)
+
+    def test_admin_can_create_team(self):
+        organization = self.create_organization()
+        path = reverse('sentry-create-team', args=[organization.slug])
+
+        admin = self.create_user('admin@example.com')
+        self.create_member(
+            organization=organization,
+            user=admin,
+            role='admin',
+            teams=[],
+        )
+
+        self.login_as(admin)
+
+        resp = self.client.post(path, {
+            'name': 'bar',
+        })
+        assert resp.status_code == 302, resp.context['form'].errors
+
+        assert Team.objects.filter(
+            organization=organization,
+            name='bar',
+        ).exists()
