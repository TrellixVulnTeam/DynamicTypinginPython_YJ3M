commit 1e9bd77eb83e7690881b8e046a244ecc2d115bf2
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Aug 3 13:21:49 2013 -0700

    Some **very slight** improvements for java raw stacktrace (still awful)

diff --git a/src/sentry/templates/sentry/partial/frames/java.txt b/src/sentry/templates/sentry/partial/frames/java.txt
new file mode 100644
index 0000000000..58e4634463
--- /dev/null
+++ b/src/sentry/templates/sentry/partial/frames/java.txt
@@ -0,0 +1,4 @@
+{% load sentry_helpers %}{% autoescape off %}
+    at {% if filename %}{{ filename }}{% elif module %}{{ module }}{% else %}?{% endif %}{% if function %}.{{ function }}{% endif %}({% if filename %}{{ filename|basename }}{% endif %}{% if lineno != None %}:{{ lineno }}{% endif %}{% if context_line %}
+    {{ context_line.strip }}{% endif %}
+{% endautoescape %}
diff --git a/src/sentry/templatetags/sentry_helpers.py b/src/sentry/templatetags/sentry_helpers.py
index 4cf65be620..68e6d8dc2f 100644
--- a/src/sentry/templatetags/sentry_helpers.py
+++ b/src/sentry/templatetags/sentry_helpers.py
@@ -9,6 +9,7 @@ sentry.templatetags.sentry_helpers
 #      INSTALLED_APPS
 
 import datetime
+import os.path
 
 from collections import namedtuple
 from paging.helpers import paginate as paginate_func
@@ -459,3 +460,8 @@ def reorder_teams(team_list, team):
 @register.filter
 def urlquote(value, safe=''):
     return quote(value.encode('utf8'), safe)
+
+
+@register.filter
+def basename(value):
+    return os.path.basename(value)
