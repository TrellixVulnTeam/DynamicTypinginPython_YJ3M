commit 59c70d6c1b34c2f4cf7cc7ad47509f0b5e508091
Author: k-fish <kevan.fisher@sentry.io>
Date:   Mon Jul 6 11:42:46 2020 -0700

    fix(discover): Fix disabled styling on 'Saved Query' button (#19699)
    
    As per https://github.com/getsentry/sentry/pull/19497\#issuecomment-647887937 the button should be disabled instead of hidden. It was previously only restyling button and passing disabled in from SavedQueryButtonGroup, which was false as the group as a whole was not disabled. This removes the extra styled button components and forces disabled to true on this button as it doesn't do anything.

diff --git a/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx b/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
index 70fb8b90f3..231eea89db 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
@@ -262,10 +262,10 @@ class SavedQueryButtonGroup extends React.PureComponent<Props, State> {
     }
 
     return (
-      <ButtonSaved disabled={this.props.disabled}>
+      <Button disabled data-test-id="discover2-savedquery-button-saved">
         <StyledIconBookmark isSolid size="xs" color="yellow400" />
         {t('Saved query')}
-      </ButtonSaved>
+      </Button>
     );
   }
 
@@ -353,9 +353,6 @@ const ButtonSaveAs = styled(DropdownButton)`
   z-index: ${p => p.theme.zIndex.dropdownAutocomplete.actor};
   white-space: nowrap;
 `;
-const ButtonSaved = styled(Button)`
-  cursor: not-allowed;
-`;
 const ButtonSaveDropDown = styled('div')`
   padding: ${space(1)};
 `;
diff --git a/tests/js/spec/views/eventsV2/savedQuery/index.spec.jsx b/tests/js/spec/views/eventsV2/savedQuery/index.spec.jsx
index 68812b746b..ab756808f3 100644
--- a/tests/js/spec/views/eventsV2/savedQuery/index.spec.jsx
+++ b/tests/js/spec/views/eventsV2/savedQuery/index.spec.jsx
@@ -8,7 +8,7 @@ import EventView from 'app/utils/discover/eventView';
 import * as utils from 'app/views/eventsV2/savedQuery/utils';
 
 const SELECTOR_BUTTON_SAVE_AS = 'ButtonSaveAs';
-const SELECTOR_BUTTON_SAVED = 'ButtonSaved';
+const SELECTOR_BUTTON_SAVED = '[data-test-id="discover2-savedquery-button-saved"]';
 const SELECTOR_BUTTON_UPDATE = '[data-test-id="discover2-savedquery-button-update"]';
 const SELECTOR_BUTTON_DELETE = '[data-test-id="discover2-savedquery-button-delete"]';
 const SELECTOR_BUTTON_CREATE_ALERT = '[data-test-id="discover2-create-from-discover"]';
