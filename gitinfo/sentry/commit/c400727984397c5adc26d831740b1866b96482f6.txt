commit c400727984397c5adc26d831740b1866b96482f6
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Tue Oct 9 11:50:34 2018 -0700

    ref(ui): Add pagination for repositories (#10043)
    
    * ref(ui): Add pagination for repositories

diff --git a/src/sentry/static/sentry/app/components/asyncComponent.jsx b/src/sentry/static/sentry/app/components/asyncComponent.jsx
index d36fb257d1..03e9a5cf4b 100644
--- a/src/sentry/static/sentry/app/components/asyncComponent.jsx
+++ b/src/sentry/static/sentry/app/components/asyncComponent.jsx
@@ -142,6 +142,8 @@ export default class AsyncComponent extends React.Component {
 
     endpoints.forEach(([stateKey, endpoint, params, options]) => {
       options = options || {};
+      // If you're using nested async components/views make sure to pass the
+      // props through so that the child component has access to props.location
       let locationQuery = (this.props.location && this.props.location.query) || {};
       let query = (params && params.query) || {};
       // If paginate option then pass entire `query` object to API call
diff --git a/src/sentry/static/sentry/app/views/organizationIntegrations/integrationRepos.jsx b/src/sentry/static/sentry/app/views/organizationIntegrations/integrationRepos.jsx
index c8e3a33cc5..88f2002a11 100644
--- a/src/sentry/static/sentry/app/views/organizationIntegrations/integrationRepos.jsx
+++ b/src/sentry/static/sentry/app/views/organizationIntegrations/integrationRepos.jsx
@@ -12,6 +12,7 @@ import DropdownButton from 'app/components/dropdownButton';
 import EmptyMessage from 'app/views/settings/components/emptyMessage';
 import IndicatorStore from 'app/stores/indicatorStore';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
+import Pagination from 'app/components/pagination';
 import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
 import SpreadLayout from 'app/components/spreadLayout';
 import space from 'app/styles/space';
@@ -38,7 +39,6 @@ export default class IntegrationRepos extends AsyncComponent {
 
   getEndpoints() {
     let orgId = this.context.organization.slug;
-
     return [
       ['itemList', `/organizations/${orgId}/repos/`, {query: {status: ''}}],
       [
@@ -234,6 +234,7 @@ export default class IntegrationRepos extends AsyncComponent {
   }
 
   renderBody() {
+    const {itemListPageLinks} = this.state;
     const itemList = this.getIntegrationRepos() || [];
     const header = (
       <PanelHeader disablePadding hasButtons>
@@ -247,63 +248,68 @@ export default class IntegrationRepos extends AsyncComponent {
     );
 
     return (
-      <Panel>
-        {header}
-        <PanelBody>
-          {itemList.length === 0 && (
-            <EmptyMessage
-              icon="icon-commit"
-              title={t('Sentry is better with commit data')}
-              description={t(
-                'Add a repository to begin tracking its commit data. Then, set up release tracking to unlock features like suspect commits, suggested owners, and deploy emails.'
-              )}
-              action={
-                <Button href="https://docs.sentry.io/learn/releases/">
-                  {t('Learn More')}
-                </Button>
-              }
-            />
-          )}
-          {itemList.map(repo => {
-            let repoIsActive = repo.status === 'active';
-            return (
-              <RepoOption key={repo.id} disabled={repo.status === 'disabled'}>
-                <Box p={2} flex="1">
-                  <Flex direction="column">
-                    <Box pb={1}>
-                      <strong>{repo.name}</strong>
-                      {!repoIsActive && <small> — {this.getStatusLabel(repo)}</small>}
-                      {repo.status === 'pending_deletion' && (
+      <React.Fragment>
+        <Panel>
+          {header}
+          <PanelBody>
+            {itemList.length === 0 && (
+              <EmptyMessage
+                icon="icon-commit"
+                title={t('Sentry is better with commit data')}
+                description={t(
+                  'Add a repository to begin tracking its commit data. Then, set up release tracking to unlock features like suspect commits, suggested owners, and deploy emails.'
+                )}
+                action={
+                  <Button href="https://docs.sentry.io/learn/releases/">
+                    {t('Learn More')}
+                  </Button>
+                }
+              />
+            )}
+            {itemList.map(repo => {
+              let repoIsActive = repo.status === 'active';
+              return (
+                <RepoOption key={repo.id} disabled={repo.status === 'disabled'}>
+                  <Box p={2} flex="1">
+                    <Flex direction="column">
+                      <Box pb={1}>
+                        <strong>{repo.name}</strong>
+                        {!repoIsActive && <small> — {this.getStatusLabel(repo)}</small>}
+                        {repo.status === 'pending_deletion' && (
+                          <small>
+                            {' '}
+                            (
+                            <a onClick={() => this.cancelDelete(repo)}>{t('Cancel')}</a>
+                            )
+                          </small>
+                        )}
+                      </Box>
+                      <Box>
                         <small>
-                          {' '}
-                          (
-                          <a onClick={() => this.cancelDelete(repo)}>{t('Cancel')}</a>
-                          )
+                          <a href={repo.url}>{repo.url.replace('https://', '')}</a>
                         </small>
-                      )}
-                    </Box>
-                    <Box>
-                      <small>
-                        <a href={repo.url}>{repo.url.replace('https://', '')}</a>
-                      </small>
-                    </Box>
-                  </Flex>
-                </Box>
+                      </Box>
+                    </Flex>
+                  </Box>
 
-                <Box p={2}>
-                  <Confirm
-                    disabled={!repoIsActive && repo.status !== 'disabled'}
-                    onConfirm={() => this.deleteRepo(repo)}
-                    message={t('Are you sure you want to remove this repository?')}
-                  >
-                    <Button size="xsmall" icon="icon-trash" />
-                  </Confirm>
-                </Box>
-              </RepoOption>
-            );
-          })}
-        </PanelBody>
-      </Panel>
+                  <Box p={2}>
+                    <Confirm
+                      disabled={!repoIsActive && repo.status !== 'disabled'}
+                      onConfirm={() => this.deleteRepo(repo)}
+                      message={t('Are you sure you want to remove this repository?')}
+                    >
+                      <Button size="xsmall" icon="icon-trash" />
+                    </Confirm>
+                  </Box>
+                </RepoOption>
+              );
+            })}
+          </PanelBody>
+        </Panel>
+        {itemListPageLinks && (
+          <Pagination pageLinks={itemListPageLinks} {...this.props} />
+        )}
+      </React.Fragment>
     );
   }
 }
diff --git a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
index e4499690d7..603ad7db46 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationIntegrations/configureIntegration.jsx
@@ -61,7 +61,7 @@ export default class ConfigureIntegration extends AsyncView {
         )}
 
         {provider.features.includes('commits') && (
-          <IntegrationRepos integration={integration} />
+          <IntegrationRepos {...this.props} integration={integration} />
         )}
       </React.Fragment>
     );
diff --git a/src/sentry/static/sentry/app/views/settings/organizationRepositories/index.jsx b/src/sentry/static/sentry/app/views/settings/organizationRepositories/index.jsx
index 2be7adfc1f..9820866c4a 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationRepositories/index.jsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationRepositories/index.jsx
@@ -4,7 +4,7 @@ import {sortArray} from 'app/utils';
 import {t} from 'app/locale';
 import IndicatorStore from 'app/stores/indicatorStore';
 import AsyncView from 'app/views/asyncView';
-
+import Pagination from 'app/components/pagination';
 import OrganizationRepositories from './organizationRepositories';
 
 export default class OrganizationRepositoriesContainer extends AsyncView {
@@ -83,13 +83,18 @@ export default class OrganizationRepositoriesContainer extends AsyncView {
 
   renderBody() {
     return (
-      <OrganizationRepositories
-        {...this.props}
-        {...this.state}
-        onAddRepo={this.onAddRepo}
-        onCancelDelete={this.cancelDelete}
-        onDeleteRepo={this.deleteRepo}
-      />
+      <React.Fragment>
+        <OrganizationRepositories
+          {...this.props}
+          {...this.state}
+          onAddRepo={this.onAddRepo}
+          onCancelDelete={this.cancelDelete}
+          onDeleteRepo={this.deleteRepo}
+        />
+        {this.state.itemListPageLinks && (
+          <Pagination pageLinks={this.state.itemListPageLinks} {...this.props} />
+        )}
+      </React.Fragment>
     );
   }
 }
