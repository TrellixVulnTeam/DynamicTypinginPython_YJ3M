commit 4bfb3f6cc8b580718263df0db923af9586e2d2c5
Author: ckj <chris.jennings@github.com>
Date:   Mon Jun 2 00:29:31 2014 -0400

    Add in new stream table and checkboxes

diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index e36070d19c..065849dedc 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -13,6 +13,7 @@
 @orange: #fb4226;
 @black: #111;
 @white: #fff;
+@sentry-orange: #fb4226;
 
 @linkColor: #4593DE;
 
@@ -39,7 +40,7 @@ h1, h2, h3, h4, h5, h6 {
 }
 
 .container {
-  width: 960px;
+  max-width: 960px;
 }
 
 // LINKS
@@ -75,6 +76,10 @@ h3 {
   font-size: 18px;
 }
 
+.align-right {
+  text-align: right;
+}
+
 /* =============================  Layout  ============================== */
 
 header {
@@ -213,11 +218,6 @@ header {
   margin: -10px 0 20px;
 }
 
-.stream-actions {
-  .clearfix();
-  margin: 0 0 18px;
-}
-
 .nav-tabs {
   border-bottom: 3px solid #f1f2f3;
   li {
@@ -281,7 +281,6 @@ header {
     position: relative;
   }
   .main {
-    min-width: 786px;
     width: 100%;
     position: relative;
     float: left;
@@ -701,337 +700,499 @@ a.icon-share {
   }
 }
 
+.stream-actions {
+  .clearfix();
+  position: relative;
+  border-bottom: 3px solid #F8F9FA;
+  margin-top: -4px;
+  padding: 0 0 15px 30px;
+  .checkbox {
+    position: absolute;
+    left: 4px;
+    top: -1px;
+  }
+}
+
 .group-list, .events {
-  margin: 0;
-  padding: 0;
-  list-style: none;
+  .list-unstyled;
+  .list-unstyled;
+  margin-bottom: 20px;
+  display: table;
+  width: 100%;
+  .group {
+    display: table-row;
+    padding: 16px 0 16px 26px;
 
-  &.events-detail {
-    li {
-      border-bottom: none;
-      padding-bottom: 0;
-    }
-  }
-  &.similar-events {
-    > li {
-      padding-left: 20px;
-      min-height: 0;
-      .meta {
-        position: absolute;
-        top: 10px;
-        bottom: 0;
-        right: 20px;
-      }
-      .row_link:hover {
-        background: rgba(238, 238, 238, 0.10);
-      }
+    &.level-alert:after {
+      position: absolute;
+      content: "";
+      top: -3px;
+      right: 0;
+      bottom: -3px;
+      left: 0;
+      width: 4px;
+      background: @sentry-orange;
     }
   }
 
-  > li {
-    position: relative;
-    padding: 10px 30px 10px 74px;
+  .event-cell {
     position: relative;
-    border-bottom: 2px solid #f2f4f7;
-    min-height: 60px; /* count height */
-
-    a {
-      .transition(none);
-    }
-
-    &:first-child {
-      border-top-width: 1px;
-    }
-
-    &:hover {
-      .actions a {
-        color: darken(#e7e9ed, 6);
-      }
-    }
-
-    &.empty {
-      border: 0;
-      padding-left: 30px;
-      &:hover {
-        .reset-filter();
-        background-image: none;
-        background-color: inherit;
-      }
-    }
+    display: table-cell;
+    border-bottom: 3px solid #F8F9FA;
+    padding: 15px 0;
+  }
 
-    &.with-sparkline {
-      .message {
-        padding-right: 129px;
-      }
-      .meta {
-        right: 155px;
-      }
-    }
+  .deploy {
+    background: lighten(#F8F9FA, 1.25);
+    font-size: 12px;
+    text-align: center;
+    border-bottom: 3px solid #F8F9FA;
+    padding: 5px 0;
+  }
 
-    &.seen {
-      h3 {
-        font-weight: normal;
+  .row {
+    margin: 0;
+  }
 
-        a {
-          color: #898f98;
-        }
-      }
-    }
+  .checkbox {
+    position: absolute;
+    left: 4px;
+    top: 4px;
+  }
 
+  .event-details {
+    padding-left: 30px;
     h3 {
-      margin: 0;
       font-size: 16px;
-      line-height: 20px;
-      font-weight: 500;
-      width: 85%;
-      white-space: nowrap;
-      overflow: hidden;
-      text-overflow: ellipsis;
-
+      line-height: 1.2;
+      letter-spacing: -0.25;
+      margin: 0 0 3px;
       a {
-        color: #465262;
-        &:hover {
-          color: #000;
-        }
-      }
-      span {
-        margin-left: 10px;
-        font-weight: 300;
-        padding: 0 5px;
-        font-size: 13px;
+        color: inherit;
       }
     }
-    .count {
-      color: #fff;
-      position: absolute;
-      left: 0;
-      .square(60px);
-      border-radius: 60px;
-      line-height: 60px;
-      background: #cfd3da;
-      text-align: center;
-      font-size: 17px;
-      font-weight: bold;
-      letter-spacing: -1px;
-      overflow: hidden;
 
-      span {
-        position: absolute;
-        left: 0;
-        right: 0;
-        height: 100%;
-        text-align: center;
-        line-height: inherit;
-        display: block;
-      }
-    }
-    .message {
-      color: #898f98;
-      margin-bottom: 0;
-      font-size: 14px;
-      padding-right: 24px;
+    .event-message {
+      text-overflow: ellipsis;
       white-space: nowrap;
       overflow: hidden;
-      text-overflow: ellipsis;
-
-      .tag {
-        .pull-right;
-      }
     }
 
-    .meta {
-      color: #b6bcc2;
-      font-size: 12px;
-      a {
-        color: inherit;
-        &:hover {
-          text-decoration: underline;
-          color: #000;
-        }
-      }
+    p {
+      line-height: 1.4;
+      color: #79858C;
+      margin-bottom: 0;
     }
 
-    .tag,
-    .annotation {
-      margin-left: 10px;
-    }
-    .tag-users,
-    .annotation {
-      margin-right: 10px;
-      margin-left: 0;
-      position: relative;
-      background: #f9f9f9;
-      padding: 0 5px;
-      line-height: 20px;
-      height: 20px;
-      min-width: 20px;
-      text-align: right;
-      float: left;
+    h3 a, p {
       display: block;
-      color: #666;
+      max-width: 100%;
+      text-overflow: ellipsis;
+      white-space: nowrap;
       overflow: hidden;
-
-      span {
-        position: absolute;
-        top: 0;
-        bottom: 0;
-        right: 5px;
-        height: 100%;
-        text-align: center;
-        line-height: inherit;
-        display: block;
-      }
-
-      i {
-        padding-right: 25px;
-        font-style: normal;
-        color: #aaa;
-      }
-    }
-    .tag-project {
-      display: none;
-    }
-    .sparkline {
-      position: absolute;
-      right: 50px;
-      top: 18px;
-      display: inline-block;
-      width: 100px;
-      height: 52px;
-
-      > span {
-        position: relative;
-        float: left;
-        width: 3px;
-      }
     }
-    .actions {
-      position: absolute;
-      right: 2px;
-      top: 17px;
-      list-style-type: none;
-      margin: 0;
-      padding: 0;
-      li {
-        margin-bottom: 13px;
-        font-size: 14px;
-        line-height: 18px;
-        text-align: center;
-        display: block;
-        width: 20px;
-        height: 20px;
-        > a {
-          font-size: 19px;
-          color: #e7e9ed;
-          &:hover {
-            color: darken(#e7e9ed, 6);
-            text-decoration: none;
-          }
-          i {
-            background-image: none;
-          }
-        }
-        .checked, .checked:hover {
-          color: #f6de2f;
-        }
-
-        .bookmarked {
-          color: @orange;
-        }
 
-        .disabled {
-          color: @gray;
-        }
-      }
+    .event-meta {
+      color: lighten(#79858C, 10);
     }
+  }
 
-    .row_link {
-      top: 0;
-      left: 0;
-      width: 100%;
-      height: 100%;
-      position: absolute;
+  .event-graph {
+    figure {
+      height: 40px;
+      margin: 0;
     }
+  }
 
-    &.level-debug .count {}
-    &.level-info .count { background: #2788ce; }
-    &.level-warning .count { background: #f18500; }
-    &.level-error .count { background: #f43f20; }
-    &.level-fatal .count { background: #d20f2a; }
-
-    &.resolved {
-      h3 {
-        text-decoration: line-through;
-      }
-      .count {
-        background: #cfd3da;
-      }
-      .icon-checkmark {
-        color: #27ce8a;
-      }
+  .event-users, .event-occurrences {
+    vertical-align: middle;
+    span {
+      color: #949ea4;
+      font-size: 20px;
+      display: inline-block;
     }
   }
-  &.small {
-    > li {
-      min-height: 30px;
-      padding: 14px 14px 14px 50px;
 
-      &.empty {
-        padding-left: 0px;
-      }
+  .event-header {
+    padding-top: 0;
+    padding-bottom: 20px;
+    border-color: darken(#F8F9FA, 2);
+    .checkbox {
+      top: -5px;
+    }
 
-      &:last-child {
-        border-bottom: none;
-      }
+    .icon-checkmark, .icon-pause {
+      position: relative;
+      top: 1px;
+    }
 
-      h3 {
-        margin: 0;
-        font-size: 14px;
-        line-height: 18px;
-      }
+    .icon-bookmark {
+      position: relative;
+      top: 2px;
+    }
 
-      .message {
-        line-height: 18px;
-        font-size: 12px;
-        .tag {
-          display: none;
+    .graph {
+      ul {
+        .list-unstyled;
+        .clearfix;
+        float: right;
+        li {
+          float: left;
+          margin: 0 0 0 10px;
+          &.active a {
+            font-weight: 500;
+            color: @gray-dark;
+          }
         }
-      }
-      .meta {
-        line-height: 18px;
-        font-size: 12px;
-      }
 
-      .count {
-        left: 0;
-        font-size: 12px;
-        width: 36px;
-        height: 36px;
-        line-height: 38px;
-        border-radius: 36px;
-      }
-
-      .actions {
-        display: none;
-      }
-
-      .sparkline {
-        right: 10px;
-        height: 30px;
-        top: 20px;
-      }
-
-      .tag, .meta {
-
-      }
-
-      .tag-project {
-        display: inline-block;
+        a {
+          color: #949ea4;
+        }
       }
+    }
 
+    .event-graph, .event-occurrences, .event-users {
+      padding-top: 6px;
     }
-  }
-}
+
+    strong {
+      display: inline-block;
+      padding-top: 6px;
+    }
+  }
+}
+
+// .group-list, .events {
+//   margin: 0;
+//   padding: 0;
+//   list-style: none;
+//
+//   &.events-detail {
+//     li {
+//       border-bottom: none;
+//       padding-bottom: 0;
+//     }
+//   }
+//   &.similar-events {
+//     > li {
+//       padding-left: 20px;
+//       min-height: 0;
+//       .meta {
+//         position: absolute;
+//         top: 10px;
+//         bottom: 0;
+//         right: 20px;
+//       }
+//       .row_link:hover {
+//         background: rgba(238, 238, 238, 0.10);
+//       }
+//     }
+//   }
+//
+//   > li {
+//     position: relative;
+//     padding: 10px 30px 10px 74px;
+//     position: relative;
+//     border-bottom: 2px solid #f2f4f7;
+//     min-height: 60px; /* count height */
+//
+//     a {
+//       .transition(none);
+//     }
+//
+//     &:first-child {
+//       border-top-width: 1px;
+//     }
+//
+//     &:hover {
+//       .actions a {
+//         color: darken(#e7e9ed, 6);
+//       }
+//     }
+//
+//     &.empty {
+//       border: 0;
+//       padding-left: 30px;
+//       &:hover {
+//         .reset-filter();
+//         background-image: none;
+//         background-color: inherit;
+//       }
+//     }
+//
+//     &.with-sparkline {
+//       .message {
+//         padding-right: 129px;
+//       }
+//       .meta {
+//         right: 155px;
+//       }
+//     }
+//
+//     &.seen {
+//       h3 {
+//         font-weight: normal;
+//
+//         a {
+//           color: #898f98;
+//         }
+//       }
+//     }
+//
+//     h3 {
+//       margin: 0;
+//       font-size: 16px;
+//       line-height: 20px;
+//       font-weight: 500;
+//       width: 85%;
+//       white-space: nowrap;
+//       overflow: hidden;
+//       text-overflow: ellipsis;
+//
+//       a {
+//         color: #465262;
+//         &:hover {
+//           color: #000;
+//         }
+//       }
+//       span {
+//         margin-left: 10px;
+//         font-weight: 300;
+//         padding: 0 5px;
+//         font-size: 13px;
+//       }
+//     }
+//     .count {
+//       color: #fff;
+//       position: absolute;
+//       left: 0;
+//       .square(60px);
+//       border-radius: 60px;
+//       line-height: 60px;
+//       background: #cfd3da;
+//       text-align: center;
+//       font-size: 17px;
+//       font-weight: bold;
+//       letter-spacing: -1px;
+//       overflow: hidden;
+//
+//       span {
+//         position: absolute;
+//         left: 0;
+//         right: 0;
+//         height: 100%;
+//         text-align: center;
+//         line-height: inherit;
+//         display: block;
+//       }
+//     }
+//     .message {
+//       color: #898f98;
+//       margin-bottom: 0;
+//       font-size: 14px;
+//       padding-right: 24px;
+//       white-space: nowrap;
+//       overflow: hidden;
+//       text-overflow: ellipsis;
+//
+//       .tag {
+//         .pull-right;
+//       }
+//     }
+//
+//     .meta {
+//       color: #b6bcc2;
+//       font-size: 12px;
+//       a {
+//         color: inherit;
+//         &:hover {
+//           text-decoration: underline;
+//           color: #000;
+//         }
+//       }
+//     }
+//
+//     .tag,
+//     .annotation {
+//       margin-left: 10px;
+//     }
+//     .tag-users,
+//     .annotation {
+//       margin-right: 10px;
+//       margin-left: 0;
+//       position: relative;
+//       background: #f9f9f9;
+//       padding: 0 5px;
+//       line-height: 20px;
+//       height: 20px;
+//       min-width: 20px;
+//       text-align: right;
+//       float: left;
+//       display: block;
+//       color: #666;
+//       overflow: hidden;
+//
+//       span {
+//         position: absolute;
+//         top: 0;
+//         bottom: 0;
+//         right: 5px;
+//         height: 100%;
+//         text-align: center;
+//         line-height: inherit;
+//         display: block;
+//       }
+//
+//       i {
+//         padding-right: 25px;
+//         font-style: normal;
+//         color: #aaa;
+//       }
+//     }
+//     .tag-project {
+//       display: none;
+//     }
+//     .sparkline {
+//       position: absolute;
+//       right: 50px;
+//       top: 18px;
+//       display: inline-block;
+//       width: 100px;
+//       height: 52px;
+//
+//       > span {
+//         position: relative;
+//         float: left;
+//         width: 3px;
+//       }
+//     }
+//     .actions {
+//       position: absolute;
+//       right: 2px;
+//       top: 17px;
+//       list-style-type: none;
+//       margin: 0;
+//       padding: 0;
+//       li {
+//         margin-bottom: 13px;
+//         font-size: 14px;
+//         line-height: 18px;
+//         text-align: center;
+//         display: block;
+//         width: 20px;
+//         height: 20px;
+//         > a {
+//           font-size: 19px;
+//           color: #e7e9ed;
+//           &:hover {
+//             color: darken(#e7e9ed, 6);
+//             text-decoration: none;
+//           }
+//           i {
+//             background-image: none;
+//           }
+//         }
+//         .checked, .checked:hover {
+//           color: #f6de2f;
+//         }
+//
+//         .bookmarked {
+//           color: @orange;
+//         }
+//
+//         .disabled {
+//           color: @gray;
+//         }
+//       }
+//     }
+//
+//     .row_link {
+//       top: 0;
+//       left: 0;
+//       width: 100%;
+//       height: 100%;
+//       position: absolute;
+//     }
+//
+//     &.level-debug .count {}
+//     &.level-info .count { background: #2788ce; }
+//     &.level-warning .count { background: #f18500; }
+//     &.level-error .count { background: #f43f20; }
+//     &.level-fatal .count { background: #d20f2a; }
+//
+//     &.resolved {
+//       h3 {
+//         text-decoration: line-through;
+//       }
+//       .count {
+//         background: #cfd3da;
+//       }
+//       .icon-checkmark {
+//         color: #27ce8a;
+//       }
+//     }
+//   }
+//   &.small {
+//     > li {
+//       min-height: 30px;
+//       padding: 14px 14px 14px 50px;
+//
+//       &.empty {
+//         padding-left: 0px;
+//       }
+//
+//       &:last-child {
+//         border-bottom: none;
+//       }
+//
+//       h3 {
+//         margin: 0;
+//         font-size: 14px;
+//         line-height: 18px;
+//       }
+//
+//       .message {
+//         line-height: 18px;
+//         font-size: 12px;
+//         .tag {
+//           display: none;
+//         }
+//       }
+//       .meta {
+//         line-height: 18px;
+//         font-size: 12px;
+//       }
+//
+//       .count {
+//         left: 0;
+//         font-size: 12px;
+//         width: 36px;
+//         height: 36px;
+//         line-height: 38px;
+//         border-radius: 36px;
+//       }
+//
+//       .actions {
+//         display: none;
+//       }
+//
+//       .sparkline {
+//         right: 10px;
+//         height: 30px;
+//         top: 20px;
+//       }
+//
+//       .tag, .meta {
+//
+//       }
+//
+//       .tag-project {
+//         display: inline-block;
+//       }
+//
+//     }
+//   }
+// }
 
 .inactive .group-list > li:hover {
   .reset-filter();
diff --git a/src/sentry/static/sentry/scripts/global.min.js b/src/sentry/static/sentry/scripts/global.min.js
index e3f757eb51..6daaa43ae6 100644
--- a/src/sentry/static/sentry/scripts/global.min.js
+++ b/src/sentry/static/sentry/scripts/global.min.js
@@ -1,3 +1,2 @@
-app=window.app={config:{},templates:{},utils:{}};(function(app,Backbone){"use strict";app.models={};app.models.Group=Backbone.Model.extend({defaults:{count:0,version:0,annotations:[],tags:[],versions:[],hasSeen:false,isBookmarked:false,historicalData:[]}})})(app,Backbone);(function(app){"use strict";app.templates={group:""+'<div class="count" data-count="<%= app.utils.formatNumber(count) %>">'+'<span title="<%= count %>"><%= app.utils.formatNumber(count) %></span>'+"</div>"+'<div class="details">'+'<h3><a href="<%= permalink %>"><%= title %></a></h3>'+'<p class="message">'+"<%= message %>"+"</p>"+'<div class="meta">'+"<% $.each(annotations, function(_, tag) { %>"+'<span class="tag annotation" data-tag="<%= tag.label %>" data-count="<%= app.utils.formatNumber(tag.count) %>">'+"<i><%= tag.label %></i>"+'<span title="<%= count %>"><%= app.utils.formatNumber(tag.count) %></span>'+"</span>"+"<% }) %>"+'<span class="last-seen pretty-date"></span>'+"<% if (timeSpent) { %>"+'<span class="tag time-spent"><%= Math.round(timeSpent) %>ms</span>'+"<% } %>"+'<span class="tag tag-project">'+'<a href="<%= projectUrl %>"><%= project.name %></a>'+"</span>"+'<span class="tag tag-logger">'+'<a href="<%= loggerUrl %>"><%= logger %></a>'+"</span>"+"<% _.each(versions, function(version){ %> "+'<span class="tag tag-version"><%= version %></span>'+"<% }) %>"+"<% _.each(tags, function(tag){ %> "+'<span class="tag"><%= tag %></span>'+"<% }) %>"+"</div>"+'<span class="sparkline"></span>'+'<ul class="actions">'+"<% if (canResolve) { %>"+"<li>"+'<a href="#" data-action="resolve">'+'<i aria-hidden="true" class="icon-checkmark"></i>'+"</a>"+"</li>"+"<li>"+'<a href="#" data-action="bookmark" class="bookmark" title="Bookmark">'+'<i aria-hidden="true" class="icon-star"></i>'+"</a>"+"</li>"+"<% } %>"+"</ul>"+"</div>"}})(app);(function(app,jQuery,_,moment){"use strict";var $=jQuery;var number_formats=[[1e9,"b"],[1e6,"m"],[1e3,"k"]];app.utils={getQueryParams:function(){var vars={},href=window.location.href,hashes,hash;if(href.indexOf("?")==-1)return vars;hashes=href.slice(href.indexOf("?")+1,href.indexOf("#")!=-1?href.indexOf("#"):href.length).split("&");$.each(hashes,function(_,chunk){hash=chunk.split("=");if(!hash[0]&&!hash[1])return;vars[decodeURIComponent(hash[0])]=hash[1]?decodeURIComponent(hash[1]).replace(/\+/," "):""});return vars},floatFormat:function(number,places){var multi=Math.pow(10,places);return parseInt(number*multi,10)/multi},formatNumber:function(number){var b,x,y,o,p;number=parseInt(number,10);for(var i=0;b=number_formats[i];i++){x=b[0];y=b[1];o=Math.floor(number/x);p=number%x;if(o>0){if(o/10>1||!p)return""+o+y;return""+this.floatFormat(number/x,1)+y}}return""+number},slugify:function(str){str=str.replace(/^\s+|\s+$/g,"");str=str.toLowerCase();var from="àáäâèéëêìíïîòóöôùúüûñç·/_,:;";var to="aaaaeeeeiiiioooouuuunc------";for(var i=0,l=from.length;i<l;i++){str=str.replace(new RegExp(from.charAt(i),"g"),to.charAt(i))}str=str.replace(/[^a-z0-9\s\-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");return str},varToggle:function(link,$elm){var $link=$(link);if(!$link.attr("data-expand-label"))$link.attr("data-expand-label",$link.html());$elm.toggle();if($elm.is(":visible"))$link.html($link.attr("data-collapse-label"));else $link.html($link.attr("data-expand-label"))},getSearchUsersUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/users/search/"},getSearchProjectsUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/projects/search/"},getSearchTagsUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/tags/search/"},makeSearchableInput:function(el,url,callback,options){$(el).select2($.extend({allowClear:true,width:"element",initSelection:function(el,callback){var $el=$(el);callback({id:$el.val(),text:$el.val()})},ajax:{url:url,dataType:"json",data:function(term,page){return{query:term,limit:10}},results:function(data,page){var results=callback(data);return{results:callback(data)}}}},options||{}))},escape:function(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},makeSearchableUsersInput:function(el){this.makeSearchableInput(el,this.getSearchUsersUrl(),_.bind(function(data){var results=[];$(data.results).each(_.bind(function(_,val){var label;if(val.first_name){label=this.escape(val.first_name)+" &mdash; "+this.escape(val.username)}else{label=this.escape(val.username)}label+="<br>"+this.escape(val.email);results.push({id:val.username,text:label})},this));if(data.query&&$(results).filter(function(){return this.id.localeCompare(data.query)===0}).length===0){results.push({id:this.escape(data.query),text:this.escape(data.query)})}return results},this),{escapeMarkup:function(s){return s}})},makeSearchableTagsInput:function(el,options){var $el=$(el);$el.select2({multiple:true,tokenSeperators:[","],minimumInputLength:3,allowClear:true,width:"element",initSelection:function(el,callback){var $el=$(el);var values=$el.val().split(",");var results=[];$.each(values,function(_,val){if(val==="")return;results.push({id:val,text:val})});callback(results)},ajax:{url:this.getSearchTagsUrl(),dataType:"json",data:function(term,page){return{query:term,quietMillis:300,name:$el.data("tag"),limit:10}},results:function(data,page){var results=[];$(data.results).each(function(_,val){results.push({id:val,text:val})});if(data.query&&$(results).filter(function(){return this.id.localeCompare(data.query)===0}).length===0){results.push({id:data.query,text:data.query})}return{results:results}}}})}};$(function(){$(".body select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});setInterval(function(){$(".pretty-date").each(function(_,el){var $el=$(el);var dt=$el.data("datetime");if(dt){var date=moment(dt);if(date){$el.text(date.fromNow());$el.attr("title",date.format("llll"))}}})},5e3)})})(app,jQuery,_,moment);(function(app,Backbone){"use strict";app.ScoredList=Backbone.Collection.extend({comparator:function(member){return-member.get("score")}})})(app,Backbone);(function(app,Backbone,jQuery,moment){"use strict";var $=jQuery;app.charts={render:function(el,options){var $el=$("#chart");var url=$el.attr("data-api-url");var title=$(el).attr("data-title");var $spark=$el.find(".sparkline");$spark.height($el.height());$.ajax({url:$el.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:function(resp){var data=[],maxval=10;$spark.empty();$.each(resp,function(_,val){var date=new Date(val[0]*1e3);data.push({y:val[1],label:moment(date).fromNow()});if(val[1]>maxval){maxval=val[1]}});app.charts.createSparkline($spark,data,options)}})},createSparkline:function(el,points,options){var $el=$(el),existing=$el.children(),maxval=10,title,point,pct,child,point_width;if(options===undefined){options={}}for(var i=0;i<points.length;i++){point=points[i];if(typeof point==="number"){point=points[i]={y:point}}if(point.y>maxval){maxval=point.y}}point_width=app.utils.floatFormat(100/points.length,2)+"%";for(i=0;i<points.length;i++){point=points[i];pct=app.utils.floatFormat(point.y/maxval*99,2)+"%";title=point.y+" events";if(point.label){title=title+"<br>("+point.label+")"}if(existing.get(i)===undefined){$('<a style="width:'+point_width+';" rel="tooltip" title="'+title+'"><span style="height:'+pct+'">'+point.y+"</span></a>").tooltip({placement:options.placement||"bottom",html:true,container:"body"}).appendTo($el)}else{$(existing[i]).find("span").css("height",pct).text(point.y).attr("title",point.label||point.y)}}}}})(app,Backbone,jQuery,moment);(function(window,app,Backbone,jQuery,_,moment){"use strict";var $=jQuery;app.GroupView=Backbone.View.extend({tagName:"li",className:"group",template:_.template(app.templates.group),initialize:function(){Backbone.View.prototype.initialize.apply(this,arguments);_.bindAll(this,"updateCount","updateAllAnnotations","updateAnnotation","updateLastSeen","updateResolved","updateHasSeen","renderSparkline","updateBookmarked","render");this.model.on({"change:count":this.updateCount,"change:annotations":this.updateAllAnnotations,"change:lastSeen":this.updateLastSeen,"change:isBookmarked":this.updateBookmarked,"change:isResolved":this.updateResolved,"change:hasSeen":this.updateHasSeen,"change:historicalData":this.renderSparkline},this)},render:function(){var data=this.model.toJSON();data.projectUrl=app.config.urlPrefix+"/"+app.config.teamId+"/"+data.project.slug+"/";data.loggerUrl=data.projectUrl+"?logger="+data.logger;this.$el.html(this.template(data));this.$el.attr("data-id",this.model.id);this.$el.addClass(this.getLevelClassName());this.$el.find("a[data-action=resolve]").click(_.bind(function(e){e.preventDefault();if(this.model.get("isResolved")){this.unresolve()}else{this.resolve()}},this));this.$el.find("a[data-action=bookmark]").click(_.bind(function(e){e.preventDefault();this.bookmark()},this));this.updateLastSeen();this.renderSparkline();this.updateResolved();this.updateHasSeen();this.updateBookmarked()},updateBookmarked:function(){if(this.model.get("isBookmarked")){this.$el.find("a[data-action=bookmark]").addClass("checked")}else{this.$el.find("a[data-action=bookmark]").removeClass("checked")}},updateResolved:function(){if(this.model.get("isResolved")){this.$el.addClass("resolved")}else{this.$el.removeClass("resolved")}},updateHasSeen:function(){if(this.model.get("hasSeen")){this.$el.addClass("seen")}else{this.$el.removeClass("seen")}},renderSparkline:function(obj){var data=this.model.get("historicalData");if(!data||!data.length)return;this.$el.addClass("with-sparkline");app.charts.createSparkline(this.$el.find(".sparkline"),data)},resolve:function(){$.ajax({url:this.getResolveUrl(),type:"post",dataType:"json",success:_.bind(function(response){this.model.set("version",response.version+5e3);this.model.set("isResolved",true)},this)})},unresolve:function(){$.ajax({url:this.getUnresolveUrl(),type:"post",dataType:"json",success:_.bind(function(response){this.model.set("version",response.version+5e3);this.model.set("isResolved",false)},this)})},getResolveUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/group/"+this.model.get("id")+"/set/resolved/"},getUnresolveUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/group/"+this.model.get("id")+"/set/unresolved/"},getBookmarkUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/bookmark/"},bookmark:function(){$.ajax({url:this.getBookmarkUrl(),type:"post",dataType:"json",data:{gid:this.model.get("id")},success:_.bind(function(response){this.model.set("version",response.version);this.model.set("isBookmarked",response.isBookmarked)},this)})},getLevelClassName:function(){return"level-"+this.model.get("levelName")},updateLastSeen:function(){var dt=moment(this.model.get("lastSeen"));this.$el.find(".last-seen").text(dt.fromNow()).data("datetime",this.model.get("lastSeen")).attr("title",dt.format("llll"))},updateCount:function(){var new_count=app.utils.formatNumber(this.model.get("count"));var counter=this.$el.find(".count");var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")},updateAnnotation:function(annotation){var value=annotation.count;if(value===null)return;var new_count=app.utils.formatNumber(value);var counter=this.$el.find('.annotation[data-tag="'+annotation.label+'"]');var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")},updateAllAnnotations:function(){var self=this;$.each(this.model.get("annotations"),function(index,annotation){self.updateAnnotation(annotation)})}});app.OrderedElementsView=Backbone.View.extend({emptyMessage:'<div class="empty-message"><h2>No events to show.</h2><p>We\'ll notify you if that changes. In the meantime why not take a moment to become more familiar with Sentry.</p><p class="links"><a href="docs/">Installation instructions</a> <a href="settings/">Project settings</a></p></div>',loadingMessage:"<p>Loading...</p>",model:app.models.Group,defaults:{maxItems:50,view:Backbone.View},initialize:function(data){if(_.isUndefined(data))data={};var members=data.members;Backbone.View.prototype.initialize.apply(this,arguments);this.options=$.extend({},this.defaults,this.options,data);this.$wrapper=$("#"+this.id);this.$parent=$("<ul></ul>");this.$empty=$('<li class="empty"></li>');this.$wrapper.html(this.$parent);if(this.options.className)this.$parent.addClass(this.options.className);_.bindAll(this,"renderMemberInContainer","unrenderMember","reSortMembers");this.collection=new app.ScoredList([],{model:data.model});this.collection.on("add",this.renderMemberInContainer,this);this.collection.on("remove",this.unrenderMember,this);this.collection.on("reset",this.reSortMembers,this);delete data.members;this.reset(members)},reset:function(members){this.$parent.empty();this.setEmpty();if(members===undefined){this.$empty.html(this.loadingMessage);this.collection.reset();this.setEmpty();this.loaded=false}else{this.$empty.html(this.emptyMessage);this.collection.reset(members);this.loaded=true}},setEmpty:function(){this.$parent.html(this.$empty)},extend:function(data){for(var i=0;i<data.length;i++){this.addMember(data[i])}},addMember:function(member){var existing=this.collection.get(member.id);if(!existing){if(this.collection.length>=this.options.maxItems){if(member.score<this.collection.last().get("score"))return;while(this.collection.length>=this.options.maxItems)this.collection.pop()}}else if(member.version&&existing.get("version")>=member.version){return}this.collection.add(member,{merge:true})},reSortMembers:function(){this.collection.each(_.bind(function(member){this.renderMemberInContainer(member)},this))},updateMember:function(member,options){if(_.isUndefined(options))options={};var existing=this.collection.get(member.id);if(existing.get("version")>=member.get("version"))return;this.collection.add(member,{merge:true,sort:options.sort!==false?true:false})},hasMember:function(member){return this.collection.get(member.id)?true:false},removeMember:function(member){this.collection.remove(member)},renderMemberInContainer:function(member){var new_pos=this.collection.indexOf(member),$el,$rel;this.$parent.find("li.empty").remove();$el=$("#"+this.id+member.id);if(!$el.length){$el=this.renderMember(member)}else if($el.index()===new_pos){return}if(new_pos===0){this.$parent.prepend($el)}else{$rel=$("#"+this.id+this.collection.at(new_pos).id);if(!$rel.length){this.$parent.append($el)}else if($el.id!==$rel.id){$el.insertBefore($rel)}else{return}}if(this.loaded)$el.css("background-color","#eee").animate({backgroundColor:"#fff"},300)},renderMember:function(member){var view=new this.options.view({model:member,id:this.id+member.id});view.render();return view.$el},unrenderMember:function(member){this.$parent.find("#"+this.id+member.id).remove();if(!this.$parent.find("li").length)this.setEmpty()}});app.GroupListView=app.OrderedElementsView.extend({defaults:{realtime:false,stream:false,pollUrl:null,pollTime:1e3,tickTime:100},initialize:function(data){if(_.isUndefined(data))data={};data.model=app.models.Group;data.view=app.GroupView;app.OrderedElementsView.prototype.initialize.call(this,data);this.options=$.extend({},this.defaults,this.options,data);this.queue=new app.ScoredList([],{model:data.model});this.cursor=null;_.bindAll(this,"poll","pollSuccess","pollFailure","tick");this.poll();window.setInterval(this.tick,this.options.tickTime)},tick:function(){if(!this.queue.length)return;var item=this.queue.pop();if(this.options.canStream){this.addMember(item)}else if(this.hasMember(item)){this.updateMember(item,{sort:false})}},pollSuccess:function(groups){if(!groups.length)return window.setTimeout(this.poll,this.options.pollTime*5);this.cursor=groups[groups.length-1].score;this.queue.add(groups,{merge:true});window.setTimeout(this.poll,this.options.pollTime)},pollFailure:function(jqXHR,textStatus,errorThrown){window.setTimeout(this.poll,this.options.pollTime*10)},poll:function(){var data;if(!this.options.realtime||!this.options.pollUrl)return window.setTimeout(this.poll,this.options.pollTime);data=app.utils.getQueryParams();data.cursor=this.cursor||undefined;$.ajax({url:this.options.pollUrl,type:"GET",dataType:"json",data:data,success:this.pollSuccess,error:this.pollFailure})}})})(window,app,Backbone,jQuery,_,moment);(function(window,app,Backbone,jQuery,_){"use strict";var $=jQuery;var BasePage=Backbone.View.extend({defaults:{canStream:false,realtime:false},initialize:function(data){Backbone.View.prototype.initialize.apply(this,arguments);if(_.isUndefined(data))data={};this.options=$.extend({},this.defaults,this.options,data);this.views={};this.initializeAjaxTabs()},initializeAjaxTabs:function(){$("a[data-toggle=ajtab]").click(_.bind(function(e){var $tab=$(e.target),uri=$tab.attr("data-uri"),view_id=$tab.attr("href").substr(1),view=this.getView(view_id,uri),$cont,$parent;e.preventDefault();if(!uri)return view.reset();$cont=$("#"+view_id);$parent=$cont.parent();$parent.css("opacity",.6);$.ajax({url:uri,dataType:"json",success:function(data){view.reset(data);$parent.css("opacity",1);$tab.tab("show")},error:function(){$cont.html("<p>There was an error fetching data from the server.</p>")}})},this));$("li.active a[data-toggle=ajtab]").click()},makeDefaultView:function(id){return new app.GroupListView({className:"group-list small",id:id,maxItems:5,stream:this.options.stream,realtime:this.options.realtime,model:app.models.Group})},getView:function(id,uri){if(!this.views[id])this.views[id]=this.makeDefaultView(id);var view=this.views[id];view.options.pollUrl=uri;return view}});app.StreamPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);this.group_list=new app.GroupListView({className:"group-list",id:"event_list",members:data.groups,maxItems:50,realtime:$.cookie("pausestream")?false:true,canStream:this.options.canStream,pollUrl:app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/poll/",model:app.models.Group});this.control=$("a[data-action=pause]");this.updateStreamOptions();this.initFilters();this.control.click(_.bind(function(e){e.preventDefault();this.options.realtime=this.group_list.options.realtime=this.control.hasClass("realtime-pause");this.updateStreamOptions()},this));$("#chart").height("50px");app.charts.render("#chart",{placement:"left"})},initFilters:function(){$(".filter").each(_.bind(function(_,el){var $filter=$(el);var $input=$filter.find("input[type=text]");if($input.length>0){$input.select2({initSelection:function(el,callback){var $el=$(el);callback({id:$el.val(),text:$el.val()})},allowClear:true,minimumInputLength:3,ajax:{url:app.utils.getSearchTagsUrl(),dataType:"json",data:function(term,page){return{query:term,quietMillis:300,name:$input.attr("name"),limit:10}},results:function(data,page){var results=[];$(data.results).each(function(_,val){results.push({id:app.utils.escape(val),text:app.utils.escape(val)})});return{results:results}}}})}else{$input=$filter.find("select").select2({allowClear:true})}if($input.length>0){$input.on("change",function(e){var query=app.utils.getQueryParams();query[e.target.name]=e.val;window.location.href="?"+$.param(query)})}},this))},updateStreamOptions:function(){if(this.options.realtime){$.removeCookie("pausestream");this.control.removeClass("realtime-pause");this.control.addClass("realtime-play");this.control.html(this.control.attr("data-pause-label"))}else{$.cookie("pausestream","1",{expires:7});this.control.addClass("realtime-pause");this.control.removeClass("realtime-play");this.control.html(this.control.attr("data-play-label"))}}});app.DashboardPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);$("#chart").height("150px");Sentry.charts.render("#chart")}});app.SelectTeamPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);this.refreshSparklines();$(window).on("resize",this.refreshSparklines)},refreshSparklines:function(){$(".chart").each(function(n,el){var $el=$(el);$.ajax({url:$el.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:_.bind(function(data){for(var i=0;i<data.length;i++){data[i][0]=data[i][0]*1e3}$.plot($el,[{data:data,color:"#ebeff3",shadowSize:0,lines:{lineWidth:2,show:true,fill:true,color:"#f6f8fa"}}],{yaxis:{min:0},grid:{show:false},hoverable:false,legend:{noColumns:5},lines:{show:false}})},this)})})}});app.GroupDetailsPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);this.group_list=new app.GroupListView({className:"group-list",id:"event_list",members:[data.group],model:app.models.Group});$("#chart").height("150px");Sentry.charts.render("#chart");$("#public-status .action").click(function(){var $this=$(this);$.ajax({url:$this.attr("data-api-url"),type:"post",success:function(group){var selector=group.isPublic?"true":"false";var nselector=group.isPublic?"false":"true";$('#public-status span[data-public="'+selector+'"]').show();$('#public-status span[data-public="'+nselector+'"]').hide()},error:function(){window.alert("There was an error changing the public status")}})});$(".add-note-btn").click(function(e){var $el=$(this),$form=$(".add-note-form",$el.parent());e.preventDefault();if($el.hasClass("selected")){$el.removeClass("selected");$form.addClass("hide")}else{$el.addClass("selected");$form.removeClass("hide");$form.find("textarea:first").focus()}});var $event_nav=$("#event_nav");if($event_nav.length>0){var $window=$(window);var $nav_links=$event_nav.find("a[href*=#]");var $nav_targets=[];var scroll_offset=$event_nav.offset().top;var event_nav_height;var last_target;$window.resize(function(){event_nav_height=$event_nav.find(".nav").outerHeight();$event_nav.height(event_nav_height+"px")}).resize();$nav_links.click(function(e){var $el=$(this);var target=$(this.hash);$el.parent().addClass("active").siblings().removeClass("active");$("html,body").animate({scrollTop:target.position().top+event_nav_height},"fast");if(history.pushState){history.pushState({},"",this.hash)}e.preventDefault()}).each(function(){if(this.hash.length>1&&$(this.hash).length){$nav_targets.push(this.hash)}});var resizeTimer;$window.scroll(function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if($window.scrollTop()>scroll_offset){if(!$event_nav.hasClass("fixed")){$event_nav.addClass("fixed")}}else if($event_nav.hasClass("fixed")){$event_nav.removeClass("fixed")}if($nav_targets.length){var from_top=$window.scrollTop()+event_nav_height+20;var cur=$.map($nav_targets,function(hash){if($(hash).offset().top<from_top){return hash}});var target=cur?cur[cur.length-1]:null;if(!target){target=$nav_targets[0]}if(last_target!==target){last_target=target;$nav_links.parent().removeClass("active").end().filter("[href="+target+"]").parent().addClass("active")}}},1)}).scroll()}}});app.WallPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,{realtime:true,pollTime:3e3});this.sparkline=$(".chart");this.sparkline.height(this.sparkline.parent().height());this.stats=$("#stats");_.bindAll(this,"refreshStats","refreshSparkline");this.refreshSparkline();this.refreshStats()},makeDefaultView:function(id){return new app.GroupListView({className:"group-list",id:id,maxItems:5,stream:this.options.stream,realtime:this.options.realtime,model:app.models.Group})},refreshSparkline:function(){$.ajax({url:this.sparkline.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:_.bind(function(data){for(var i=0;i<data.length;i++){data[i][0]=data[i][0]*1e3}this.sparkline.empty();$.plot(this.sparkline,[{data:data,color:"#52566c",shadowSize:0,lines:{lineWidth:2,show:true,fill:true,fillColor:"#232428"}}],{yaxis:{min:0},grid:{show:false},hoverable:false,legend:{noColumns:5},lines:{show:false}});window.setTimeout(this.refreshSparkline,1e4)},this)})},refreshStats:function(){$.ajax({url:this.stats.attr("data-uri"),dataType:"json",success:_.bind(function(data){this.stats.find("[data-stat]").each(function(){var $this=$(this);var new_count=data[$this.attr("data-stat")];var counter=$this.find("big");var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")});window.setTimeout(this.refreshStats,1e3)},this)})}});app.AddTeamMemberPage=BasePage.extend({});app.AccessGroupMembersPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=user]")}});app.TeamDetailsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=owner]")}});app.ProjectDetailsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=owner]");$("input[type=range]").each(_.bind(function loop(n,el){var $el=$(el),min=parseInt($el.attr("min"),10),max=parseInt($el.attr("max"),10),step=parseInt($el.attr("step"),10),values=[],$value=$('<span class="value"></span>');var i=min;while(i<=max){values.push(i);if(i<12){i+=1}else if(i<24){i+=3}else if(i<36){i+=6}else if(i<48){i+=12}else{i+=24}}$el.on("slider:ready",_.bind(function sliderready(event,data){$value.appendTo(data.el);$value.html(this.formatHours(data.value))},this)).on("slider:changed",_.bind(function sliderchanged(event,data){$value.html(this.formatHours(data.value))},this)).simpleSlider({range:[min,max],step:step,allowedValues:values,snap:true})},this))},formatHours:function formatHours(val){val=parseInt(val,10);if(val===0){return"Disabled"}else if(val>23&&val%24===0){val=val/24;return val+" day"+(val!=1?"s":"")}return val+" hour"+(val!=1?"s":"")}});app.ProjectNotificationsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);$("input[type=range]").each(_.bind(function loop(n,el){var $el=$(el),min=parseInt($el.attr("min"),10),max=parseInt($el.attr("max"),10),step=parseInt($el.attr("step"),10),$value=$('<span class="value"></span>');$el.on("slider:ready",_.bind(function sliderready(event,data){$value.appendTo(data.el);$value.html(this.formatThreshold(data.value))},this)).on("slider:changed",_.bind(function sliderchanged(event,data){$value.html(this.formatThreshold(data.value))},this)).simpleSlider({range:[min,max],step:step,snap:true})},this));$("#tag_list input").each(function(_,el){$(el).addClass("span6");app.utils.makeSearchableTagsInput(el)})},formatThreshold:function formatThreshold(value){if(!value){return"Disabled"}return value+"%"}});app.NewProjectPage=BasePage.extend({initialize:function(data){this.el=$(data.el);BasePage.prototype.initialize.apply(this,arguments);if(this.options.canSelectTeam&&this.options.canCreateTeam){$("#new_team").hide();$('a[rel="create-new-team"]').click(function(){$("#new_team").show();$("#select_team").hide()});$('a[rel="select-team"]').click(function(){$("#new_team").hide();$("#select_team").show()})}}});app.NewProjectRulePage=BasePage.extend({initialize:function(data){var select2_options={width:"element",allowClear:false,minimumResultsForSearch:10};BasePage.prototype.initialize.apply(this,arguments);_.bindAll(this,"addAction","addCondition","parseFormData");this.actions_by_id={};this.conditions_by_id={};this.el=$(data.el);this.action_sel=this.el.find('select[id="action-select"]');this.action_table=this.el.find("table.action-list");this.action_table_body=this.action_table.find("tbody");this.condition_sel=this.el.find('select[id="condition-select"]');this.condition_table=this.el.find("table.condition-list");this.condition_table_body=this.condition_table.find("tbody");this.action_sel.empty();this.action_sel.append($("<option></option>"));$.each(data.actions,_.bind(function(_,action){var opt=$("<option></option>");opt.attr({value:action.id});opt.text(action.label);opt.appendTo(this.action_sel);this.actions_by_id[action.id]=action},this));this.condition_sel.empty();this.condition_sel.append($("<option></option>"));$.each(data.conditions,_.bind(function(_,condition){var opt=$("<option></option>");opt.attr({value:condition.id});opt.text(condition.label);opt.appendTo(this.condition_sel);this.conditions_by_id[condition.id]=condition},this));this.action_sel.select2(select2_options);this.condition_sel.select2(select2_options);this.action_sel.change(_.bind(function(){this.addAction(this.action_sel.val())},this));this.condition_sel.change(_.bind(function(){this.addCondition(this.condition_sel.val())},this));this.parseFormData(data.form_data,data.form_errors)},parseFormData:function(form_data,form_errors){var data={action:{},action_match:form_data.action_match||"all",condition:{},label:form_data.label||""};form_errors=form_errors||{};$.each(form_data,function(key,value){var matches=key.match(/^(condition|action)\[(\d+)\]\[(.+)\]$/);var type,num;if(!matches){return}type=matches[1];num=matches[2];if(data[type][num]===undefined){data[type][num]={}}data[type][num][matches[3]]=value});this.el.find("input[name=label]").val(data.label);this.el.find('select[name="action_match"]').val(data.action_match);$.each(_.sortBy(data.condition),_.bind(function(num,item){this.addCondition(item.id,item,form_errors["condition["+num+"]"]||false)},this));$.each(_.sortBy(data.action),_.bind(function(num,item){this.addAction(item.id,item,form_errors["action["+num+"]"]||false)},this))},addCondition:function(id,options,has_errors){var node=this.conditions_by_id[id],row=$("<tr></tr>"),remove_btn=$('<button class="btn btn-small">Remove</button>'),num=this.condition_table_body.find("tr").length,html=$("<div>"+node.html+"</div>"),prefix="condition["+num+"]",id_field=$('<input type="hidden" name="'+prefix+'[id]" value="'+node.id+'">');has_errors=has_errors||false;options=options||{};if(has_errors){row.addClass("error")}html.find("select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});html.find("input, select, textarea").each(function(_,el){var $el=$(el),name=$el.attr("name");$el.attr("name",prefix+"["+name+"]");$el.val(options[name]||"")});row.append($("<td></td>").append(html).append(id_field));row.append($("<td></td>").append(remove_btn));row.appendTo(this.condition_table_body);remove_btn.click(function(){row.remove();return false});this.condition_sel.data("select2").clear();this.condition_table.show()},addAction:function(id,options,has_errors){var node=this.actions_by_id[id],row=$("<tr></tr>"),remove_btn=$('<button class="btn btn-small">Remove</button>'),num=this.action_table_body.find("tr").length,html=$("<div>"+node.html+"</div>"),prefix="action["+num+"]",id_field=$('<input type="hidden" name="'+prefix+'[id]" value="'+node.id+'">');has_errors=has_errors||false;
-options=options||{};if(has_errors){row.addClass("error")}html.find("select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});html.find("input, select, textarea").each(function(_,el){var $el=$(el),name=$el.attr("name");$el.attr("name",prefix+"["+name+"]");$el.val(options[name]||"")});row.append($("<td></td>").append(html).append(id_field));row.append($("<td></td>").append(remove_btn));row.appendTo(this.action_table_body);remove_btn.click(function(){row.remove();return false});this.action_sel.data("select2").clear();this.action_table.show()}});Backbone.sync=function(method,model,success,error){success()}})(window,app,Backbone,jQuery,_);
+app=window.app={config:{},templates:{},utils:{}};(function(app,Backbone){"use strict";app.models={};app.models.Group=Backbone.Model.extend({defaults:{count:0,version:0,annotations:[],tags:[],versions:[],hasSeen:false,isBookmarked:false,historicalData:[]}})})(app,Backbone);(function(app){"use strict";app.templates={group:""+'<div class="event-details event-cell">'+'<div class="checkbox">'+'<input type="checkbox">'+"</div>"+'<h3><a href="<%= permalink %>"><%= title %></a></h3>'+'<div class="event-meta">'+"<% if (timeSpent) { %><time><%= Math.round(timeSpent) %>ms</time> &middot;<% } %>"+'<span class="message"><%= message %></span>'+"</div>"+"</div>"+'<div class="hidden-md hidden-sm hidden-xs event-graph align-right event-cell">'+'<span class="sparkline"></span>'+"</div>"+'<div class="hidden-xs event-occurrences align-right event-cell"><span><%= app.utils.formatNumber(count) %></span></div>'+'<div class="hidden-xs event-users align-right event-cell"><span>209</span></div>'}})(app);(function(app,jQuery,_,moment){"use strict";var $=jQuery;var number_formats=[[1e9,"b"],[1e6,"m"],[1e3,"k"]];app.utils={getQueryParams:function(){var vars={},href=window.location.href,hashes,hash;if(href.indexOf("?")==-1)return vars;hashes=href.slice(href.indexOf("?")+1,href.indexOf("#")!=-1?href.indexOf("#"):href.length).split("&");$.each(hashes,function(_,chunk){hash=chunk.split("=");if(!hash[0]&&!hash[1])return;vars[decodeURIComponent(hash[0])]=hash[1]?decodeURIComponent(hash[1]).replace(/\+/," "):""});return vars},floatFormat:function(number,places){var multi=Math.pow(10,places);return parseInt(number*multi,10)/multi},formatNumber:function(number){var b,x,y,o,p;number=parseInt(number,10);for(var i=0;b=number_formats[i];i++){x=b[0];y=b[1];o=Math.floor(number/x);p=number%x;if(o>0){if(o/10>1||!p)return""+o+y;return""+this.floatFormat(number/x,1)+y}}return""+number},slugify:function(str){str=str.replace(/^\s+|\s+$/g,"");str=str.toLowerCase();var from="àáäâèéëêìíïîòóöôùúüûñç·/_,:;";var to="aaaaeeeeiiiioooouuuunc------";for(var i=0,l=from.length;i<l;i++){str=str.replace(new RegExp(from.charAt(i),"g"),to.charAt(i))}str=str.replace(/[^a-z0-9\s\-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");return str},varToggle:function(link,$elm){var $link=$(link);if(!$link.attr("data-expand-label"))$link.attr("data-expand-label",$link.html());$elm.toggle();if($elm.is(":visible"))$link.html($link.attr("data-collapse-label"));else $link.html($link.attr("data-expand-label"))},getSearchUsersUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/users/search/"},getSearchProjectsUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/projects/search/"},getSearchTagsUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/tags/search/"},makeSearchableInput:function(el,url,callback,options){$(el).select2($.extend({allowClear:true,width:"element",initSelection:function(el,callback){var $el=$(el);callback({id:$el.val(),text:$el.val()})},ajax:{url:url,dataType:"json",data:function(term,page){return{query:term,limit:10}},results:function(data,page){var results=callback(data);return{results:callback(data)}}}},options||{}))},escape:function(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},makeSearchableUsersInput:function(el){this.makeSearchableInput(el,this.getSearchUsersUrl(),_.bind(function(data){var results=[];$(data.results).each(_.bind(function(_,val){var label;if(val.first_name){label=this.escape(val.first_name)+" &mdash; "+this.escape(val.username)}else{label=this.escape(val.username)}label+="<br>"+this.escape(val.email);results.push({id:val.username,text:label})},this));if(data.query&&$(results).filter(function(){return this.id.localeCompare(data.query)===0}).length===0){results.push({id:this.escape(data.query),text:this.escape(data.query)})}return results},this),{escapeMarkup:function(s){return s}})},makeSearchableTagsInput:function(el,options){var $el=$(el);$el.select2({multiple:true,tokenSeperators:[","],minimumInputLength:3,allowClear:true,width:"element",initSelection:function(el,callback){var $el=$(el);var values=$el.val().split(",");var results=[];$.each(values,function(_,val){if(val==="")return;results.push({id:val,text:val})});callback(results)},ajax:{url:this.getSearchTagsUrl(),dataType:"json",data:function(term,page){return{query:term,quietMillis:300,name:$el.data("tag"),limit:10}},results:function(data,page){var results=[];$(data.results).each(function(_,val){results.push({id:val,text:val})});if(data.query&&$(results).filter(function(){return this.id.localeCompare(data.query)===0}).length===0){results.push({id:data.query,text:data.query})}return{results:results}}}})}};$(function(){$(".body select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});setInterval(function(){$(".pretty-date").each(function(_,el){var $el=$(el);var dt=$el.data("datetime");if(dt){var date=moment(dt);if(date){$el.text(date.fromNow());$el.attr("title",date.format("llll"))}}})},5e3)})})(app,jQuery,_,moment);(function(app,Backbone){"use strict";app.ScoredList=Backbone.Collection.extend({comparator:function(member){return-member.get("score")}})})(app,Backbone);(function(app,Backbone,jQuery,moment){"use strict";var $=jQuery;app.charts={render:function(el,options){var $el=$("#chart");var url=$el.attr("data-api-url");var title=$(el).attr("data-title");var $spark=$el.find(".sparkline");$spark.height($el.height());$.ajax({url:$el.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:function(resp){var data=[],maxval=10;$spark.empty();$.each(resp,function(_,val){var date=new Date(val[0]*1e3);data.push({y:val[1],label:moment(date).fromNow()});if(val[1]>maxval){maxval=val[1]}});app.charts.createSparkline($spark,data,options)}})},createSparkline:function(el,points,options){var $el=$(el),existing=$el.children(),maxval=10,title,point,pct,child,point_width;if(options===undefined){options={}}for(var i=0;i<points.length;i++){point=points[i];if(typeof point==="number"){point=points[i]={y:point}}if(point.y>maxval){maxval=point.y}}point_width=app.utils.floatFormat(100/points.length,2)+"%";for(i=0;i<points.length;i++){point=points[i];pct=app.utils.floatFormat(point.y/maxval*99,2)+"%";title=point.y+" events";if(point.label){title=title+"<br>("+point.label+")"}if(existing.get(i)===undefined){$('<a style="width:'+point_width+';" rel="tooltip" title="'+title+'"><span style="height:'+pct+'">'+point.y+"</span></a>").tooltip({placement:options.placement||"bottom",html:true,container:"body"}).appendTo($el)}else{$(existing[i]).find("span").css("height",pct).text(point.y).attr("title",point.label||point.y)}}}}})(app,Backbone,jQuery,moment);(function(window,app,Backbone,jQuery,_,moment){"use strict";var $=jQuery;app.GroupView=Backbone.View.extend({tagName:"li",className:"group",template:_.template(app.templates.group),initialize:function(){Backbone.View.prototype.initialize.apply(this,arguments);_.bindAll(this,"updateCount","updateAllAnnotations","updateAnnotation","updateLastSeen","updateResolved","updateHasSeen","renderSparkline","updateBookmarked","render");this.model.on({"change:count":this.updateCount,"change:annotations":this.updateAllAnnotations,"change:lastSeen":this.updateLastSeen,"change:isBookmarked":this.updateBookmarked,"change:isResolved":this.updateResolved,"change:hasSeen":this.updateHasSeen,"change:historicalData":this.renderSparkline},this)},render:function(){var data=this.model.toJSON();data.projectUrl=app.config.urlPrefix+"/"+app.config.teamId+"/"+data.project.slug+"/";data.loggerUrl=data.projectUrl+"?logger="+data.logger;this.$el.html(this.template(data));this.$el.attr("data-id",this.model.id);this.$el.addClass(this.getLevelClassName());this.$el.find("a[data-action=resolve]").click(_.bind(function(e){e.preventDefault();if(this.model.get("isResolved")){this.unresolve()}else{this.resolve()}},this));this.$el.find("a[data-action=bookmark]").click(_.bind(function(e){e.preventDefault();this.bookmark()},this));this.updateLastSeen();this.renderSparkline();this.updateResolved();this.updateHasSeen();this.updateBookmarked()},updateBookmarked:function(){if(this.model.get("isBookmarked")){this.$el.find("a[data-action=bookmark]").addClass("checked")}else{this.$el.find("a[data-action=bookmark]").removeClass("checked")}},updateResolved:function(){if(this.model.get("isResolved")){this.$el.addClass("resolved")}else{this.$el.removeClass("resolved")}},updateHasSeen:function(){if(this.model.get("hasSeen")){this.$el.addClass("seen")}else{this.$el.removeClass("seen")}},renderSparkline:function(obj){var data=this.model.get("historicalData");if(!data||!data.length)return;this.$el.addClass("with-sparkline");app.charts.createSparkline(this.$el.find(".sparkline"),data)},resolve:function(){$.ajax({url:this.getResolveUrl(),type:"post",dataType:"json",success:_.bind(function(response){this.model.set("version",response.version+5e3);this.model.set("isResolved",true)},this)})},unresolve:function(){$.ajax({url:this.getUnresolveUrl(),type:"post",dataType:"json",success:_.bind(function(response){this.model.set("version",response.version+5e3);this.model.set("isResolved",false)},this)})},getResolveUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/group/"+this.model.get("id")+"/set/resolved/"},getUnresolveUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/group/"+this.model.get("id")+"/set/unresolved/"},getBookmarkUrl:function(){return app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/bookmark/"},bookmark:function(){$.ajax({url:this.getBookmarkUrl(),type:"post",dataType:"json",data:{gid:this.model.get("id")},success:_.bind(function(response){this.model.set("version",response.version);this.model.set("isBookmarked",response.isBookmarked)},this)})},getLevelClassName:function(){return"level-"+this.model.get("levelName")},updateLastSeen:function(){var dt=moment(this.model.get("lastSeen"));this.$el.find(".last-seen").text(dt.fromNow()).data("datetime",this.model.get("lastSeen")).attr("title",dt.format("llll"))},updateCount:function(){var new_count=app.utils.formatNumber(this.model.get("count"));var counter=this.$el.find(".count");var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")},updateAnnotation:function(annotation){var value=annotation.count;if(value===null)return;var new_count=app.utils.formatNumber(value);var counter=this.$el.find('.annotation[data-tag="'+annotation.label+'"]');var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")},updateAllAnnotations:function(){var self=this;$.each(this.model.get("annotations"),function(index,annotation){self.updateAnnotation(annotation)})}});app.OrderedElementsView=Backbone.View.extend({emptyMessage:'<div class="empty-message"><h2>No events to show.</h2><p>We\'ll notify you if that changes. In the meantime why not take a moment to become more familiar with Sentry.</p><p class="links"><a href="docs/">Installation instructions</a> <a href="settings/">Project settings</a></p></div>',loadingMessage:"<p>Loading...</p>",model:app.models.Group,defaults:{maxItems:50,view:Backbone.View},initialize:function(data){if(_.isUndefined(data))data={};var members=data.members;Backbone.View.prototype.initialize.apply(this,arguments);this.options=$.extend({},this.defaults,this.options,data);this.$wrapper=$("#"+this.id);this.$parent=$("<ul></ul>");this.$empty=$('<li class="empty"></li>');this.$wrapper.html(this.$parent);if(this.options.className)this.$parent.addClass(this.options.className);_.bindAll(this,"renderMemberInContainer","unrenderMember","reSortMembers");this.collection=new app.ScoredList([],{model:data.model});this.collection.on("add",this.renderMemberInContainer,this);this.collection.on("remove",this.unrenderMember,this);this.collection.on("reset",this.reSortMembers,this);delete data.members;this.reset(members)},reset:function(members){this.$parent.empty();this.setEmpty();if(members===undefined){this.$empty.html(this.loadingMessage);this.collection.reset();this.setEmpty();this.loaded=false}else{this.$empty.html(this.emptyMessage);this.collection.reset(members);this.loaded=true}},setEmpty:function(){this.$parent.html(this.$empty)},extend:function(data){for(var i=0;i<data.length;i++){this.addMember(data[i])}},addMember:function(member){var existing=this.collection.get(member.id);if(!existing){if(this.collection.length>=this.options.maxItems){if(member.score<this.collection.last().get("score"))return;while(this.collection.length>=this.options.maxItems)this.collection.pop()}}else if(member.version&&existing.get("version")>=member.version){return}this.collection.add(member,{merge:true})},reSortMembers:function(){this.collection.each(_.bind(function(member){this.renderMemberInContainer(member)},this))},updateMember:function(member,options){if(_.isUndefined(options))options={};var existing=this.collection.get(member.id);if(existing.get("version")>=member.get("version"))return;this.collection.add(member,{merge:true,sort:options.sort!==false?true:false})},hasMember:function(member){return this.collection.get(member.id)?true:false},removeMember:function(member){this.collection.remove(member)},renderMemberInContainer:function(member){var new_pos=this.collection.indexOf(member),$el,$rel;this.$parent.find("li.empty").remove();$el=$("#"+this.id+member.id);if(!$el.length){$el=this.renderMember(member)}else if($el.index()===new_pos){return}if(new_pos===0){this.$parent.prepend($el)}else{$rel=$("#"+this.id+this.collection.at(new_pos).id);if(!$rel.length){this.$parent.append($el)}else if($el.id!==$rel.id){$el.insertBefore($rel)}else{return}}if(this.loaded)$el.css("background-color","#eee").animate({backgroundColor:"#fff"},300)},renderMember:function(member){var view=new this.options.view({model:member,id:this.id+member.id});view.render();return view.$el},unrenderMember:function(member){this.$parent.find("#"+this.id+member.id).remove();if(!this.$parent.find("li").length)this.setEmpty()}});app.GroupListView=app.OrderedElementsView.extend({defaults:{realtime:false,stream:false,pollUrl:null,pollTime:1e3,tickTime:100},initialize:function(data){if(_.isUndefined(data))data={};data.model=app.models.Group;data.view=app.GroupView;app.OrderedElementsView.prototype.initialize.call(this,data);this.options=$.extend({},this.defaults,this.options,data);this.queue=new app.ScoredList([],{model:data.model});this.cursor=null;_.bindAll(this,"poll","pollSuccess","pollFailure","tick");this.poll();window.setInterval(this.tick,this.options.tickTime)},tick:function(){if(!this.queue.length)return;var item=this.queue.pop();if(this.options.canStream){this.addMember(item)}else if(this.hasMember(item)){this.updateMember(item,{sort:false})}},pollSuccess:function(groups){if(!groups.length)return window.setTimeout(this.poll,this.options.pollTime*5);this.cursor=groups[groups.length-1].score;this.queue.add(groups,{merge:true});window.setTimeout(this.poll,this.options.pollTime)},pollFailure:function(jqXHR,textStatus,errorThrown){window.setTimeout(this.poll,this.options.pollTime*10)},poll:function(){var data;if(!this.options.realtime||!this.options.pollUrl)return window.setTimeout(this.poll,this.options.pollTime);data=app.utils.getQueryParams();data.cursor=this.cursor||undefined;$.ajax({url:this.options.pollUrl,type:"GET",dataType:"json",data:data,success:this.pollSuccess,error:this.pollFailure})}})})(window,app,Backbone,jQuery,_,moment);(function(window,app,Backbone,jQuery,_){"use strict";var $=jQuery;var BasePage=Backbone.View.extend({defaults:{canStream:false,realtime:false},initialize:function(data){Backbone.View.prototype.initialize.apply(this,arguments);if(_.isUndefined(data))data={};this.options=$.extend({},this.defaults,this.options,data);this.views={};this.initializeAjaxTabs()},initializeAjaxTabs:function(){$("a[data-toggle=ajtab]").click(_.bind(function(e){var $tab=$(e.target),uri=$tab.attr("data-uri"),view_id=$tab.attr("href").substr(1),view=this.getView(view_id,uri),$cont,$parent;e.preventDefault();if(!uri)return view.reset();$cont=$("#"+view_id);$parent=$cont.parent();$parent.css("opacity",.6);$.ajax({url:uri,dataType:"json",success:function(data){view.reset(data);$parent.css("opacity",1);$tab.tab("show")},error:function(){$cont.html("<p>There was an error fetching data from the server.</p>")}})},this));$("li.active a[data-toggle=ajtab]").click()},makeDefaultView:function(id){return new app.GroupListView({className:"group-list small",id:id,maxItems:5,stream:this.options.stream,realtime:this.options.realtime,model:app.models.Group})},getView:function(id,uri){if(!this.views[id])this.views[id]=this.makeDefaultView(id);var view=this.views[id];view.options.pollUrl=uri;return view}});app.StreamPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);this.group_list=new app.GroupListView({className:"group-list",id:"event_list",members:data.groups,maxItems:50,realtime:$.cookie("pausestream")?false:true,canStream:this.options.canStream,pollUrl:app.config.urlPrefix+"/api/"+app.config.teamId+"/"+app.config.projectId+"/poll/",model:app.models.Group});this.control=$("a[data-action=pause]");this.updateStreamOptions();this.initFilters();this.control.click(_.bind(function(e){e.preventDefault();this.options.realtime=this.group_list.options.realtime=this.control.hasClass("realtime-pause");this.updateStreamOptions()},this));$("#chart").height("50px");app.charts.render("#chart",{placement:"left"})},initFilters:function(){$(".filter").each(_.bind(function(_,el){var $filter=$(el);var $input=$filter.find("input[type=text]");if($input.length>0){$input.select2({initSelection:function(el,callback){var $el=$(el);callback({id:$el.val(),text:$el.val()})},allowClear:true,minimumInputLength:3,ajax:{url:app.utils.getSearchTagsUrl(),dataType:"json",data:function(term,page){return{query:term,quietMillis:300,name:$input.attr("name"),limit:10}},results:function(data,page){var results=[];$(data.results).each(function(_,val){results.push({id:app.utils.escape(val),text:app.utils.escape(val)})});return{results:results}}}})}else{$input=$filter.find("select").select2({allowClear:true})}if($input.length>0){$input.on("change",function(e){var query=app.utils.getQueryParams();query[e.target.name]=e.val;window.location.href="?"+$.param(query)})}},this))},updateStreamOptions:function(){if(this.options.realtime){$.removeCookie("pausestream");this.control.removeClass("realtime-pause");this.control.addClass("realtime-play");this.control.html(this.control.attr("data-pause-label"))}else{$.cookie("pausestream","1",{expires:7});this.control.addClass("realtime-pause");this.control.removeClass("realtime-play");this.control.html(this.control.attr("data-play-label"))}}});app.DashboardPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);$("#chart").height("150px");Sentry.charts.render("#chart")}});app.SelectTeamPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);this.refreshSparklines();$(window).on("resize",this.refreshSparklines)},refreshSparklines:function(){$(".chart").each(function(n,el){var $el=$(el);$.ajax({url:$el.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:_.bind(function(data){for(var i=0;i<data.length;i++){data[i][0]=data[i][0]*1e3}$.plot($el,[{data:data,color:"#ebeff3",shadowSize:0,lines:{lineWidth:2,show:true,fill:true,color:"#f6f8fa"}}],{yaxis:{min:0},grid:{show:false},hoverable:false,legend:{noColumns:5},lines:{show:false}})},this)})})}});app.GroupDetailsPage=BasePage.extend({initialize:function(data){BasePage.prototype.initialize.apply(this,arguments);this.group_list=new app.GroupListView({className:"group-list",id:"event_list",members:[data.group],model:app.models.Group});$("#chart").height("150px");Sentry.charts.render("#chart");$("#public-status .action").click(function(){var $this=$(this);$.ajax({url:$this.attr("data-api-url"),type:"post",success:function(group){var selector=group.isPublic?"true":"false";var nselector=group.isPublic?"false":"true";$('#public-status span[data-public="'+selector+'"]').show();$('#public-status span[data-public="'+nselector+'"]').hide()},error:function(){window.alert("There was an error changing the public status")}})});$(".add-note-btn").click(function(e){var $el=$(this),$form=$(".add-note-form",$el.parent());e.preventDefault();if($el.hasClass("selected")){$el.removeClass("selected");$form.addClass("hide")}else{$el.addClass("selected");$form.removeClass("hide");$form.find("textarea:first").focus()}});var $event_nav=$("#event_nav");if($event_nav.length>0){var $window=$(window);var $nav_links=$event_nav.find("a[href*=#]");var $nav_targets=[];var scroll_offset=$event_nav.offset().top;var event_nav_height;var last_target;$window.resize(function(){event_nav_height=$event_nav.find(".nav").outerHeight();$event_nav.height(event_nav_height+"px")}).resize();$nav_links.click(function(e){var $el=$(this);var target=$(this.hash);$el.parent().addClass("active").siblings().removeClass("active");$("html,body").animate({scrollTop:target.position().top+event_nav_height},"fast");if(history.pushState){history.pushState({},"",this.hash)}e.preventDefault()}).each(function(){if(this.hash.length>1&&$(this.hash).length){$nav_targets.push(this.hash)}});var resizeTimer;$window.scroll(function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if($window.scrollTop()>scroll_offset){if(!$event_nav.hasClass("fixed")){$event_nav.addClass("fixed")}}else if($event_nav.hasClass("fixed")){$event_nav.removeClass("fixed")}if($nav_targets.length){var from_top=$window.scrollTop()+event_nav_height+20;var cur=$.map($nav_targets,function(hash){if($(hash).offset().top<from_top){return hash}});var target=cur?cur[cur.length-1]:null;if(!target){target=$nav_targets[0]}if(last_target!==target){last_target=target;$nav_links.parent().removeClass("active").end().filter("[href="+target+"]").parent().addClass("active")}}},1)}).scroll()}}});app.WallPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,{realtime:true,pollTime:3e3});this.sparkline=$(".chart");this.sparkline.height(this.sparkline.parent().height());this.stats=$("#stats");_.bindAll(this,"refreshStats","refreshSparkline");this.refreshSparkline();this.refreshStats()},makeDefaultView:function(id){return new app.GroupListView({className:"group-list",id:id,maxItems:5,stream:this.options.stream,realtime:this.options.realtime,model:app.models.Group})},refreshSparkline:function(){$.ajax({url:this.sparkline.attr("data-api-url"),type:"get",dataType:"json",data:{since:(new Date).getTime()/1e3-3600*24,resolution:"1h"},success:_.bind(function(data){for(var i=0;i<data.length;i++){data[i][0]=data[i][0]*1e3}this.sparkline.empty();$.plot(this.sparkline,[{data:data,color:"#52566c",shadowSize:0,lines:{lineWidth:2,show:true,fill:true,fillColor:"#232428"}}],{yaxis:{min:0},grid:{show:false},hoverable:false,legend:{noColumns:5},lines:{show:false}});window.setTimeout(this.refreshSparkline,1e4)},this)})},refreshStats:function(){$.ajax({url:this.stats.attr("data-uri"),dataType:"json",success:_.bind(function(data){this.stats.find("[data-stat]").each(function(){var $this=$(this);var new_count=data[$this.attr("data-stat")];var counter=$this.find("big");var digit=counter.find("span");if(digit.is(":animated"))return false;if(counter.data("count")==new_count){return false}counter.data("count",new_count);var replacement=$("<span></span>",{css:{top:"-2.1em",opacity:0},text:new_count});digit.before(replacement).animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast")});window.setTimeout(this.refreshStats,1e3)},this)})}});app.AddTeamMemberPage=BasePage.extend({});app.AccessGroupMembersPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=user]")}});app.TeamDetailsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=owner]")}});app.ProjectDetailsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);app.utils.makeSearchableUsersInput("form input[name=owner]");$("input[type=range]").each(_.bind(function loop(n,el){var $el=$(el),min=parseInt($el.attr("min"),10),max=parseInt($el.attr("max"),10),step=parseInt($el.attr("step"),10),values=[],$value=$('<span class="value"></span>');var i=min;while(i<=max){values.push(i);if(i<12){i+=1}else if(i<24){i+=3}else if(i<36){i+=6}else if(i<48){i+=12}else{i+=24}}$el.on("slider:ready",_.bind(function sliderready(event,data){$value.appendTo(data.el);$value.html(this.formatHours(data.value))},this)).on("slider:changed",_.bind(function sliderchanged(event,data){$value.html(this.formatHours(data.value))},this)).simpleSlider({range:[min,max],step:step,allowedValues:values,snap:true})},this))},formatHours:function formatHours(val){val=parseInt(val,10);if(val===0){return"Disabled"}else if(val>23&&val%24===0){val=val/24;return val+" day"+(val!=1?"s":"")}return val+" hour"+(val!=1?"s":"")}});app.ProjectNotificationsPage=BasePage.extend({initialize:function(){BasePage.prototype.initialize.apply(this,arguments);$("input[type=range]").each(_.bind(function loop(n,el){var $el=$(el),min=parseInt($el.attr("min"),10),max=parseInt($el.attr("max"),10),step=parseInt($el.attr("step"),10),$value=$('<span class="value"></span>');$el.on("slider:ready",_.bind(function sliderready(event,data){$value.appendTo(data.el);$value.html(this.formatThreshold(data.value))},this)).on("slider:changed",_.bind(function sliderchanged(event,data){$value.html(this.formatThreshold(data.value))},this)).simpleSlider({range:[min,max],step:step,snap:true})},this));$("#tag_list input").each(function(_,el){$(el).addClass("span6");app.utils.makeSearchableTagsInput(el)})},formatThreshold:function formatThreshold(value){if(!value){return"Disabled"}return value+"%"}});app.NewProjectPage=BasePage.extend({initialize:function(data){this.el=$(data.el);BasePage.prototype.initialize.apply(this,arguments);if(this.options.canSelectTeam&&this.options.canCreateTeam){$("#new_team").hide();$('a[rel="create-new-team"]').click(function(){$("#new_team").show();$("#select_team").hide()});$('a[rel="select-team"]').click(function(){$("#new_team").hide();$("#select_team").show()})}}});app.NewProjectRulePage=BasePage.extend({initialize:function(data){var select2_options={width:"element",allowClear:false,minimumResultsForSearch:10};BasePage.prototype.initialize.apply(this,arguments);_.bindAll(this,"addAction","addCondition","parseFormData");this.actions_by_id={};this.conditions_by_id={};this.el=$(data.el);this.action_sel=this.el.find('select[id="action-select"]');this.action_table=this.el.find("table.action-list");this.action_table_body=this.action_table.find("tbody");this.condition_sel=this.el.find('select[id="condition-select"]');this.condition_table=this.el.find("table.condition-list");this.condition_table_body=this.condition_table.find("tbody");this.action_sel.empty();this.action_sel.append($("<option></option>"));$.each(data.actions,_.bind(function(_,action){var opt=$("<option></option>");opt.attr({value:action.id});opt.text(action.label);opt.appendTo(this.action_sel);this.actions_by_id[action.id]=action},this));this.condition_sel.empty();this.condition_sel.append($("<option></option>"));$.each(data.conditions,_.bind(function(_,condition){var opt=$("<option></option>");opt.attr({value:condition.id});opt.text(condition.label);opt.appendTo(this.condition_sel);this.conditions_by_id[condition.id]=condition},this));this.action_sel.select2(select2_options);this.condition_sel.select2(select2_options);this.action_sel.change(_.bind(function(){this.addAction(this.action_sel.val())},this));this.condition_sel.change(_.bind(function(){this.addCondition(this.condition_sel.val())},this));this.parseFormData(data.form_data,data.form_errors)},parseFormData:function(form_data,form_errors){var data={action:{},action_match:form_data.action_match||"all",condition:{},label:form_data.label||""};form_errors=form_errors||{};$.each(form_data,function(key,value){var matches=key.match(/^(condition|action)\[(\d+)\]\[(.+)\]$/);var type,num;if(!matches){return}type=matches[1];num=matches[2];if(data[type][num]===undefined){data[type][num]={}}data[type][num][matches[3]]=value});this.el.find("input[name=label]").val(data.label);this.el.find('select[name="action_match"]').val(data.action_match);$.each(_.sortBy(data.condition),_.bind(function(num,item){this.addCondition(item.id,item,form_errors["condition["+num+"]"]||false)},this));$.each(_.sortBy(data.action),_.bind(function(num,item){this.addAction(item.id,item,form_errors["action["+num+"]"]||false)},this))},addCondition:function(id,options,has_errors){var node=this.conditions_by_id[id],row=$("<tr></tr>"),remove_btn=$('<button class="btn btn-small">Remove</button>'),num=this.condition_table_body.find("tr").length,html=$("<div>"+node.html+"</div>"),prefix="condition["+num+"]",id_field=$('<input type="hidden" name="'+prefix+'[id]" value="'+node.id+'">');has_errors=has_errors||false;options=options||{};if(has_errors){row.addClass("error")}html.find("select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});html.find("input, select, textarea").each(function(_,el){var $el=$(el),name=$el.attr("name");$el.attr("name",prefix+"["+name+"]");$el.val(options[name]||"")});row.append($("<td></td>").append(html).append(id_field));row.append($("<td></td>").append(remove_btn));row.appendTo(this.condition_table_body);remove_btn.click(function(){row.remove();return false});this.condition_sel.data("select2").clear();this.condition_table.show()},addAction:function(id,options,has_errors){var node=this.actions_by_id[id],row=$("<tr></tr>"),remove_btn=$('<button class="btn btn-small">Remove</button>'),num=this.action_table_body.find("tr").length,html=$("<div>"+node.html+"</div>"),prefix="action["+num+"]",id_field=$('<input type="hidden" name="'+prefix+'[id]" value="'+node.id+'">');has_errors=has_errors||false;options=options||{};if(has_errors){row.addClass("error")}html.find("select").each(function(){var $this=$(this),options={width:"element",allowClear:false,minimumResultsForSearch:10};if($this.attr("data-allowClear")){options.allowClear=$this.attr("data-allowClear")}$this.select2(options)});html.find("input, select, textarea").each(function(_,el){var $el=$(el),name=$el.attr("name");$el.attr("name",prefix+"["+name+"]");$el.val(options[name]||"")});row.append($("<td></td>").append(html).append(id_field));row.append($("<td></td>").append(remove_btn));row.appendTo(this.action_table_body);remove_btn.click(function(){row.remove();return false});this.action_sel.data("select2").clear();this.action_table.show()}});Backbone.sync=function(method,model,success,error){success()}})(window,app,Backbone,jQuery,_);
 //@ sourceMappingURL=global.min.map.js
\ No newline at end of file
diff --git a/src/sentry/static/sentry/scripts/templates.js b/src/sentry/static/sentry/scripts/templates.js
index f3319aad1d..b053ad04c7 100644
--- a/src/sentry/static/sentry/scripts/templates.js
+++ b/src/sentry/static/sentry/scripts/templates.js
@@ -2,54 +2,70 @@
     "use strict";
 
     app.templates = {
+        // group: '' +
+        //     '<div class="count" data-count="<%= app.utils.formatNumber(count) %>">' +
+        //         '<span title="<%= count %>"><%= app.utils.formatNumber(count) %></span>' +
+        //     '</div>' +
+        //     '<div class="details">' +
+        //         '<h3><a href="<%= permalink %>"><%= title %></a></h3>' +
+        //         '<p class="message">' +
+        //             '<%= message %>' +
+        //         '</p>' +
+        //         '<div class="meta">' +
+        //             '<% $.each(annotations, function(_, tag) { %>' +
+        //             '<span class="tag annotation" data-tag="<%= tag.label %>" data-count="<%= app.utils.formatNumber(tag.count) %>">' +
+        //                 '<i><%= tag.label %></i>' +
+        //                 '<span title="<%= count %>"><%= app.utils.formatNumber(tag.count) %></span>' +
+        //             '</span>' +
+        //             '<% }) %>' +
+        //             '<span class="last-seen pretty-date"></span>' +
+        //             '<% if (timeSpent) { %>' +
+        //                 '<span class="tag time-spent"><%= Math.round(timeSpent) %>ms</span>' +
+        //             '<% } %>' +
+        //             '<span class="tag tag-project">' +
+        //                 '<a href="<%= projectUrl %>"><%= project.name %></a>' +
+        //             '</span>' +
+        //             '<span class="tag tag-logger">' +
+        //                 '<a href="<%= loggerUrl %>"><%= logger %></a>' +
+        //             '</span>' +
+        //             '<% _.each(versions, function(version){ %> ' +
+        //                 '<span class="tag tag-version"><%= version %></span>' +
+        //             '<% }) %>' +
+        //             '<% _.each(tags, function(tag){ %> ' +
+        //                 '<span class="tag"><%= tag %></span>' +
+        //             '<% }) %>' +
+        //         '</div>' +
+        //         '<span class="sparkline"></span>' +
+        //         '<ul class="actions">' +
+        //             '<% if (canResolve) { %>' +
+        //                 '<li>' +
+        //                     '<a href="#" data-action="resolve">' +
+        //                         '<i aria-hidden="true" class="icon-checkmark"></i>' +
+        //                     '</a>' +
+        //                 '</li>' +
+        //                 '<li>' +
+        //                     '<a href="#" data-action="bookmark" class="bookmark" title="Bookmark">' +
+        //                         '<i aria-hidden="true" class="icon-star"></i>' +
+        //                     '</a>' +
+        //                 '</li>' +
+        //             '<% } %>' +
+        //         '</ul>' +
+        //     '</div>'
         group: '' +
-            '<div class="count" data-count="<%= app.utils.formatNumber(count) %>">' +
-                '<span title="<%= count %>"><%= app.utils.formatNumber(count) %></span>' +
-            '</div>' +
-            '<div class="details">' +
+            '<div class="event-details event-cell">' +
+                '<div class="checkbox">' +
+                    '<input type="checkbox">' +
+                '</div>' +
                 '<h3><a href="<%= permalink %>"><%= title %></a></h3>' +
-                '<p class="message">' +
-                    '<%= message %>' +
-                '</p>' +
-                '<div class="meta">' +
-                    '<% $.each(annotations, function(_, tag) { %>' +
-                    '<span class="tag annotation" data-tag="<%= tag.label %>" data-count="<%= app.utils.formatNumber(tag.count) %>">' +
-                        '<i><%= tag.label %></i>' +
-                        '<span title="<%= count %>"><%= app.utils.formatNumber(tag.count) %></span>' +
-                    '</span>' +
-                    '<% }) %>' +
-                    '<span class="last-seen pretty-date"></span>' +
-                    '<% if (timeSpent) { %>' +
-                        '<span class="tag time-spent"><%= Math.round(timeSpent) %>ms</span>' +
-                    '<% } %>' +
-                    '<span class="tag tag-project">' +
-                        '<a href="<%= projectUrl %>"><%= project.name %></a>' +
-                    '</span>' +
-                    '<span class="tag tag-logger">' +
-                        '<a href="<%= loggerUrl %>"><%= logger %></a>' +
-                    '</span>' +
-                    '<% _.each(versions, function(version){ %> ' +
-                        '<span class="tag tag-version"><%= version %></span>' +
-                    '<% }) %>' +
-                    '<% _.each(tags, function(tag){ %> ' +
-                        '<span class="tag"><%= tag %></span>' +
-                    '<% }) %>' +
+                '<div class="event-meta">' +
+                    '<% if (timeSpent) { %><time><%= Math.round(timeSpent) %>ms</time> &middot;<% } %>' +
+                    '<span class="message"><%= message %></span>' +
                 '</div>' +
+            '</div>' +
+            '<div class="hidden-md hidden-sm hidden-xs event-graph align-right event-cell">' +
                 '<span class="sparkline"></span>' +
-                '<ul class="actions">' +
-                    '<% if (canResolve) { %>' +
-                        '<li>' +
-                            '<a href="#" data-action="resolve">' +
-                                '<i aria-hidden="true" class="icon-checkmark"></i>' +
-                            '</a>' +
-                        '</li>' +
-                        '<li>' +
-                            '<a href="#" data-action="bookmark" class="bookmark" title="Bookmark">' +
-                                '<i aria-hidden="true" class="icon-star"></i>' +
-                            '</a>' +
-                        '</li>' +
-                    '<% } %>' +
-                '</ul>' +
-            '</div>'
+            '</div>' +
+            '<div class="hidden-xs event-occurrences align-right event-cell"><span><%= app.utils.formatNumber(count) %></span></div>' +
+            '<div class="hidden-xs event-users align-right event-cell"><span>209</span></div>'
     };
 }(app));
diff --git a/src/sentry/static/sentry/styles/global.min.css b/src/sentry/static/sentry/styles/global.min.css
index b4c29772ca..c1352eeef4 100644
--- a/src/sentry/static/sentry/styles/global.min.css
+++ b/src/sentry/static/sentry/styles/global.min.css
@@ -6992,7 +6992,7 @@ h6 {
   font-weight: 500;
 }
 .container {
-  width: 960px;
+  max-width: 960px;
 }
 a {
   color: #4593de;
@@ -7025,6 +7025,9 @@ h3 {
   line-height: 27px;
   font-size: 18px;
 }
+.align-right {
+  text-align: right;
+}
 /* =============================  Layout  ============================== */
 header {
   background: #465262;
@@ -7179,25 +7182,6 @@ header .project-dropdown .icon-arrow-down {
 .project-nav {
   margin: -10px 0 20px;
 }
-.stream-actions {
-  margin: 0 0 18px;
-}
-.stream-actions:before,
-.stream-actions:after {
-  content: " ";
-  display: table;
-}
-.stream-actions:after {
-  clear: both;
-}
-.stream-actions:before,
-.stream-actions:after {
-  content: " ";
-  display: table;
-}
-.stream-actions:after {
-  clear: both;
-}
 .nav-tabs {
   border-bottom: 3px solid #f1f2f3;
 }
@@ -7269,7 +7253,6 @@ header .project-dropdown .icon-arrow-down {
   clear: both;
 }
 #content .main {
-  min-width: 786px;
   width: 100%;
   position: relative;
   float: left;
@@ -7681,363 +7664,218 @@ a.icon-share:hover {
   overflow: hidden;
   text-indent: -9999px;
 }
-.group-list,
-.events {
-  margin: 0;
-  padding: 0;
-  list-style: none;
-}
-.group-list.events-detail li,
-.events.events-detail li {
-  border-bottom: none;
-  padding-bottom: 0;
-}
-.group-list.similar-events > li,
-.events.similar-events > li {
-  padding-left: 20px;
-  min-height: 0;
-}
-.group-list.similar-events > li .meta,
-.events.similar-events > li .meta {
-  position: absolute;
-  top: 10px;
-  bottom: 0;
-  right: 20px;
-}
-.group-list.similar-events > li .row_link:hover,
-.events.similar-events > li .row_link:hover {
-  background: rgba(238, 238, 238, 0.1);
-}
-.group-list > li,
-.events > li {
-  padding: 10px 30px 10px 74px;
+.stream-actions {
   position: relative;
-  border-bottom: 2px solid #f2f4f7;
-  min-height: 60px;
-  /* count height */
-}
-.group-list > li a,
-.events > li a {
-  -webkit-transition: none;
-  transition: none;
-}
-.group-list > li:first-child,
-.events > li:first-child {
-  border-top-width: 1px;
-}
-.group-list > li:hover .actions a,
-.events > li:hover .actions a {
-  color: #d6d9e0;
+  border-bottom: 3px solid #F8F9FA;
+  margin-top: -4px;
+  padding: 0 0 15px 30px;
 }
-.group-list > li.empty,
-.events > li.empty {
-  border: 0;
-  padding-left: 30px;
-}
-.group-list > li.empty:hover,
-.events > li.empty:hover {
-  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
-  background-image: none;
-  background-color: inherit;
-}
-.group-list > li.with-sparkline .message,
-.events > li.with-sparkline .message {
-  padding-right: 129px;
-}
-.group-list > li.with-sparkline .meta,
-.events > li.with-sparkline .meta {
-  right: 155px;
-}
-.group-list > li.seen h3,
-.events > li.seen h3 {
-  font-weight: normal;
+.stream-actions:before,
+.stream-actions:after {
+  content: " ";
+  display: table;
 }
-.group-list > li.seen h3 a,
-.events > li.seen h3 a {
-  color: #898f98;
+.stream-actions:after {
+  clear: both;
 }
-.group-list > li h3,
-.events > li h3 {
-  margin: 0;
-  font-size: 16px;
-  line-height: 20px;
-  font-weight: 500;
-  width: 85%;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
+.stream-actions:before,
+.stream-actions:after {
+  content: " ";
+  display: table;
 }
-.group-list > li h3 a,
-.events > li h3 a {
-  color: #465262;
+.stream-actions:after {
+  clear: both;
 }
-.group-list > li h3 a:hover,
-.events > li h3 a:hover {
-  color: #000;
+.stream-actions .checkbox {
+  position: absolute;
+  left: 4px;
+  top: -1px;
 }
-.group-list > li h3 span,
-.events > li h3 span {
-  margin-left: 10px;
-  font-weight: 300;
-  padding: 0 5px;
-  font-size: 13px;
+.group-list,
+.events {
+  padding-left: 0;
+  list-style: none;
+  margin-bottom: 20px;
+  display: table;
+  width: 100%;
 }
-.group-list > li .count,
-.events > li .count {
-  color: #fff;
-  position: absolute;
-  left: 0;
-  width: 60px;
-  height: 60px;
-  border-radius: 60px;
-  line-height: 60px;
-  background: #cfd3da;
-  text-align: center;
-  font-size: 17px;
-  font-weight: bold;
-  letter-spacing: -1px;
-  overflow: hidden;
+.group-list .group,
+.events .group {
+  display: table-row;
+  padding: 16px 0 16px 26px;
 }
-.group-list > li .count span,
-.events > li .count span {
+.group-list .group.level-alert:after,
+.events .group.level-alert:after {
   position: absolute;
-  left: 0;
+  content: "";
+  top: -3px;
   right: 0;
-  height: 100%;
-  text-align: center;
-  line-height: inherit;
-  display: block;
-}
-.group-list > li .message,
-.events > li .message {
-  color: #898f98;
-  margin-bottom: 0;
-  font-size: 14px;
-  padding-right: 24px;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
-}
-.group-list > li .message .tag,
-.events > li .message .tag {
-  float: right !important;
-}
-.group-list > li .meta,
-.events > li .meta {
-  color: #b6bcc2;
-  font-size: 12px;
-}
-.group-list > li .meta a,
-.events > li .meta a {
-  color: inherit;
-}
-.group-list > li .meta a:hover,
-.events > li .meta a:hover {
-  text-decoration: underline;
-  color: #000;
-}
-.group-list > li .tag,
-.events > li .tag,
-.group-list > li .annotation,
-.events > li .annotation {
-  margin-left: 10px;
+  bottom: -3px;
+  left: 0;
+  width: 4px;
+  background: #fb4226;
 }
-.group-list > li .tag-users,
-.events > li .tag-users,
-.group-list > li .annotation,
-.events > li .annotation {
-  margin-right: 10px;
-  margin-left: 0;
+.group-list .event-cell,
+.events .event-cell {
   position: relative;
-  background: #f9f9f9;
-  padding: 0 5px;
-  line-height: 20px;
-  height: 20px;
-  min-width: 20px;
-  text-align: right;
-  float: left;
-  display: block;
-  color: #666;
-  overflow: hidden;
+  display: table-cell;
+  border-bottom: 3px solid #F8F9FA;
+  padding: 15px 0;
 }
-.group-list > li .tag-users span,
-.events > li .tag-users span,
-.group-list > li .annotation span,
-.events > li .annotation span {
-  position: absolute;
-  top: 0;
-  bottom: 0;
-  right: 5px;
-  height: 100%;
+.group-list .deploy,
+.events .deploy {
+  background: #fcfcfd;
+  font-size: 12px;
   text-align: center;
-  line-height: inherit;
-  display: block;
-}
-.group-list > li .tag-users i,
-.events > li .tag-users i,
-.group-list > li .annotation i,
-.events > li .annotation i {
-  padding-right: 25px;
-  font-style: normal;
-  color: #aaa;
-}
-.group-list > li .tag-project,
-.events > li .tag-project {
-  display: none;
-}
-.group-list > li .sparkline,
-.events > li .sparkline {
-  position: absolute;
-  right: 50px;
-  top: 18px;
-  display: inline-block;
-  width: 100px;
-  height: 52px;
-}
-.group-list > li .sparkline > span,
-.events > li .sparkline > span {
-  position: relative;
-  float: left;
-  width: 3px;
+  border-bottom: 3px solid #F8F9FA;
+  padding: 5px 0;
 }
-.group-list > li .actions,
-.events > li .actions {
-  position: absolute;
-  right: 2px;
-  top: 17px;
-  list-style-type: none;
+.group-list .row,
+.events .row {
   margin: 0;
-  padding: 0;
-}
-.group-list > li .actions li,
-.events > li .actions li {
-  margin-bottom: 13px;
-  font-size: 14px;
-  line-height: 18px;
-  text-align: center;
-  display: block;
-  width: 20px;
-  height: 20px;
 }
-.group-list > li .actions li > a,
-.events > li .actions li > a {
-  font-size: 19px;
-  color: #e7e9ed;
+.group-list .checkbox,
+.events .checkbox {
+  position: absolute;
+  left: 4px;
+  top: 4px;
 }
-.group-list > li .actions li > a:hover,
-.events > li .actions li > a:hover {
-  color: #d6d9e0;
-  text-decoration: none;
+.group-list .event-details,
+.events .event-details {
+  padding-left: 30px;
 }
-.group-list > li .actions li > a i,
-.events > li .actions li > a i {
-  background-image: none;
+.group-list .event-details h3,
+.events .event-details h3 {
+  font-size: 16px;
+  line-height: 1.2;
+  letter-spacing: -0.25;
+  margin: 0 0 3px;
 }
-.group-list > li .actions li .checked,
-.events > li .actions li .checked,
-.group-list > li .actions li .checked:hover,
-.events > li .actions li .checked:hover {
-  color: #f6de2f;
+.group-list .event-details h3 a,
+.events .event-details h3 a {
+  color: inherit;
 }
-.group-list > li .actions li .bookmarked,
-.events > li .actions li .bookmarked {
-  color: #fb4226;
+.group-list .event-details .event-message,
+.events .event-details .event-message {
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  overflow: hidden;
 }
-.group-list > li .actions li .disabled,
-.events > li .actions li .disabled {
-  color: #465262;
+.group-list .event-details p,
+.events .event-details p {
+  line-height: 1.4;
+  color: #79858C;
+  margin-bottom: 0;
 }
-.group-list > li .row_link,
-.events > li .row_link {
-  top: 0;
-  left: 0;
-  width: 100%;
-  height: 100%;
-  position: absolute;
+.group-list .event-details h3 a,
+.events .event-details h3 a,
+.group-list .event-details p,
+.events .event-details p {
+  display: block;
+  max-width: 100%;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  overflow: hidden;
 }
-.group-list > li.level-info .count,
-.events > li.level-info .count {
-  background: #2788ce;
+.group-list .event-details .event-meta,
+.events .event-details .event-meta {
+  color: #949ea4;
 }
-.group-list > li.level-warning .count,
-.events > li.level-warning .count {
-  background: #f18500;
+.group-list .event-graph figure,
+.events .event-graph figure {
+  height: 40px;
+  margin: 0;
 }
-.group-list > li.level-error .count,
-.events > li.level-error .count {
-  background: #f43f20;
+.group-list .event-users,
+.events .event-users,
+.group-list .event-occurrences,
+.events .event-occurrences {
+  vertical-align: middle;
 }
-.group-list > li.level-fatal .count,
-.events > li.level-fatal .count {
-  background: #d20f2a;
+.group-list .event-users span,
+.events .event-users span,
+.group-list .event-occurrences span,
+.events .event-occurrences span {
+  color: #949ea4;
+  font-size: 20px;
+  display: inline-block;
 }
-.group-list > li.resolved h3,
-.events > li.resolved h3 {
-  text-decoration: line-through;
+.group-list .event-header,
+.events .event-header {
+  padding-top: 0;
+  padding-bottom: 20px;
+  border-color: #f2f4f6;
 }
-.group-list > li.resolved .count,
-.events > li.resolved .count {
-  background: #cfd3da;
+.group-list .event-header .checkbox,
+.events .event-header .checkbox {
+  top: -5px;
 }
-.group-list > li.resolved .icon-checkmark,
-.events > li.resolved .icon-checkmark {
-  color: #27ce8a;
+.group-list .event-header .icon-checkmark,
+.events .event-header .icon-checkmark,
+.group-list .event-header .icon-pause,
+.events .event-header .icon-pause {
+  position: relative;
+  top: 1px;
 }
-.group-list.small > li,
-.events.small > li {
-  min-height: 30px;
-  padding: 14px 14px 14px 50px;
+.group-list .event-header .icon-bookmark,
+.events .event-header .icon-bookmark {
+  position: relative;
+  top: 2px;
 }
-.group-list.small > li.empty,
-.events.small > li.empty {
-  padding-left: 0px;
+.group-list .event-header .graph ul,
+.events .event-header .graph ul {
+  padding-left: 0;
+  list-style: none;
+  float: right;
 }
-.group-list.small > li:last-child,
-.events.small > li:last-child {
-  border-bottom: none;
+.group-list .event-header .graph ul:before,
+.events .event-header .graph ul:before,
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  content: " ";
+  display: table;
 }
-.group-list.small > li h3,
-.events.small > li h3 {
-  margin: 0;
-  font-size: 14px;
-  line-height: 18px;
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  clear: both;
 }
-.group-list.small > li .message,
-.events.small > li .message {
-  line-height: 18px;
-  font-size: 12px;
+.group-list .event-header .graph ul:before,
+.events .event-header .graph ul:before,
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  content: " ";
+  display: table;
 }
-.group-list.small > li .message .tag,
-.events.small > li .message .tag {
-  display: none;
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  clear: both;
 }
-.group-list.small > li .meta,
-.events.small > li .meta {
-  line-height: 18px;
-  font-size: 12px;
+.group-list .event-header .graph ul li,
+.events .event-header .graph ul li {
+  float: left;
+  margin: 0 0 0 10px;
 }
-.group-list.small > li .count,
-.events.small > li .count {
-  left: 0;
-  font-size: 12px;
-  width: 36px;
-  height: 36px;
-  line-height: 38px;
-  border-radius: 36px;
+.group-list .event-header .graph ul li.active a,
+.events .event-header .graph ul li.active a {
+  font-weight: 500;
+  color: #333333;
 }
-.group-list.small > li .actions,
-.events.small > li .actions {
-  display: none;
+.group-list .event-header .graph ul a,
+.events .event-header .graph ul a {
+  color: #949ea4;
 }
-.group-list.small > li .sparkline,
-.events.small > li .sparkline {
-  right: 10px;
-  height: 30px;
-  top: 20px;
+.group-list .event-header .event-graph,
+.events .event-header .event-graph,
+.group-list .event-header .event-occurrences,
+.events .event-header .event-occurrences,
+.group-list .event-header .event-users,
+.events .event-header .event-users {
+  padding-top: 6px;
 }
-.group-list.small > li .tag-project,
-.events.small > li .tag-project {
+.group-list .event-header strong,
+.events .event-header strong {
   display: inline-block;
+  padding-top: 6px;
 }
 .inactive .group-list > li:hover {
   filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
diff --git a/src/sentry/static/sentry/styles/sentry.css b/src/sentry/static/sentry/styles/sentry.css
index b4c29772ca..c1352eeef4 100644
--- a/src/sentry/static/sentry/styles/sentry.css
+++ b/src/sentry/static/sentry/styles/sentry.css
@@ -6992,7 +6992,7 @@ h6 {
   font-weight: 500;
 }
 .container {
-  width: 960px;
+  max-width: 960px;
 }
 a {
   color: #4593de;
@@ -7025,6 +7025,9 @@ h3 {
   line-height: 27px;
   font-size: 18px;
 }
+.align-right {
+  text-align: right;
+}
 /* =============================  Layout  ============================== */
 header {
   background: #465262;
@@ -7179,25 +7182,6 @@ header .project-dropdown .icon-arrow-down {
 .project-nav {
   margin: -10px 0 20px;
 }
-.stream-actions {
-  margin: 0 0 18px;
-}
-.stream-actions:before,
-.stream-actions:after {
-  content: " ";
-  display: table;
-}
-.stream-actions:after {
-  clear: both;
-}
-.stream-actions:before,
-.stream-actions:after {
-  content: " ";
-  display: table;
-}
-.stream-actions:after {
-  clear: both;
-}
 .nav-tabs {
   border-bottom: 3px solid #f1f2f3;
 }
@@ -7269,7 +7253,6 @@ header .project-dropdown .icon-arrow-down {
   clear: both;
 }
 #content .main {
-  min-width: 786px;
   width: 100%;
   position: relative;
   float: left;
@@ -7681,363 +7664,218 @@ a.icon-share:hover {
   overflow: hidden;
   text-indent: -9999px;
 }
-.group-list,
-.events {
-  margin: 0;
-  padding: 0;
-  list-style: none;
-}
-.group-list.events-detail li,
-.events.events-detail li {
-  border-bottom: none;
-  padding-bottom: 0;
-}
-.group-list.similar-events > li,
-.events.similar-events > li {
-  padding-left: 20px;
-  min-height: 0;
-}
-.group-list.similar-events > li .meta,
-.events.similar-events > li .meta {
-  position: absolute;
-  top: 10px;
-  bottom: 0;
-  right: 20px;
-}
-.group-list.similar-events > li .row_link:hover,
-.events.similar-events > li .row_link:hover {
-  background: rgba(238, 238, 238, 0.1);
-}
-.group-list > li,
-.events > li {
-  padding: 10px 30px 10px 74px;
+.stream-actions {
   position: relative;
-  border-bottom: 2px solid #f2f4f7;
-  min-height: 60px;
-  /* count height */
-}
-.group-list > li a,
-.events > li a {
-  -webkit-transition: none;
-  transition: none;
-}
-.group-list > li:first-child,
-.events > li:first-child {
-  border-top-width: 1px;
-}
-.group-list > li:hover .actions a,
-.events > li:hover .actions a {
-  color: #d6d9e0;
+  border-bottom: 3px solid #F8F9FA;
+  margin-top: -4px;
+  padding: 0 0 15px 30px;
 }
-.group-list > li.empty,
-.events > li.empty {
-  border: 0;
-  padding-left: 30px;
-}
-.group-list > li.empty:hover,
-.events > li.empty:hover {
-  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
-  background-image: none;
-  background-color: inherit;
-}
-.group-list > li.with-sparkline .message,
-.events > li.with-sparkline .message {
-  padding-right: 129px;
-}
-.group-list > li.with-sparkline .meta,
-.events > li.with-sparkline .meta {
-  right: 155px;
-}
-.group-list > li.seen h3,
-.events > li.seen h3 {
-  font-weight: normal;
+.stream-actions:before,
+.stream-actions:after {
+  content: " ";
+  display: table;
 }
-.group-list > li.seen h3 a,
-.events > li.seen h3 a {
-  color: #898f98;
+.stream-actions:after {
+  clear: both;
 }
-.group-list > li h3,
-.events > li h3 {
-  margin: 0;
-  font-size: 16px;
-  line-height: 20px;
-  font-weight: 500;
-  width: 85%;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
+.stream-actions:before,
+.stream-actions:after {
+  content: " ";
+  display: table;
 }
-.group-list > li h3 a,
-.events > li h3 a {
-  color: #465262;
+.stream-actions:after {
+  clear: both;
 }
-.group-list > li h3 a:hover,
-.events > li h3 a:hover {
-  color: #000;
+.stream-actions .checkbox {
+  position: absolute;
+  left: 4px;
+  top: -1px;
 }
-.group-list > li h3 span,
-.events > li h3 span {
-  margin-left: 10px;
-  font-weight: 300;
-  padding: 0 5px;
-  font-size: 13px;
+.group-list,
+.events {
+  padding-left: 0;
+  list-style: none;
+  margin-bottom: 20px;
+  display: table;
+  width: 100%;
 }
-.group-list > li .count,
-.events > li .count {
-  color: #fff;
-  position: absolute;
-  left: 0;
-  width: 60px;
-  height: 60px;
-  border-radius: 60px;
-  line-height: 60px;
-  background: #cfd3da;
-  text-align: center;
-  font-size: 17px;
-  font-weight: bold;
-  letter-spacing: -1px;
-  overflow: hidden;
+.group-list .group,
+.events .group {
+  display: table-row;
+  padding: 16px 0 16px 26px;
 }
-.group-list > li .count span,
-.events > li .count span {
+.group-list .group.level-alert:after,
+.events .group.level-alert:after {
   position: absolute;
-  left: 0;
+  content: "";
+  top: -3px;
   right: 0;
-  height: 100%;
-  text-align: center;
-  line-height: inherit;
-  display: block;
-}
-.group-list > li .message,
-.events > li .message {
-  color: #898f98;
-  margin-bottom: 0;
-  font-size: 14px;
-  padding-right: 24px;
-  white-space: nowrap;
-  overflow: hidden;
-  text-overflow: ellipsis;
-}
-.group-list > li .message .tag,
-.events > li .message .tag {
-  float: right !important;
-}
-.group-list > li .meta,
-.events > li .meta {
-  color: #b6bcc2;
-  font-size: 12px;
-}
-.group-list > li .meta a,
-.events > li .meta a {
-  color: inherit;
-}
-.group-list > li .meta a:hover,
-.events > li .meta a:hover {
-  text-decoration: underline;
-  color: #000;
-}
-.group-list > li .tag,
-.events > li .tag,
-.group-list > li .annotation,
-.events > li .annotation {
-  margin-left: 10px;
+  bottom: -3px;
+  left: 0;
+  width: 4px;
+  background: #fb4226;
 }
-.group-list > li .tag-users,
-.events > li .tag-users,
-.group-list > li .annotation,
-.events > li .annotation {
-  margin-right: 10px;
-  margin-left: 0;
+.group-list .event-cell,
+.events .event-cell {
   position: relative;
-  background: #f9f9f9;
-  padding: 0 5px;
-  line-height: 20px;
-  height: 20px;
-  min-width: 20px;
-  text-align: right;
-  float: left;
-  display: block;
-  color: #666;
-  overflow: hidden;
+  display: table-cell;
+  border-bottom: 3px solid #F8F9FA;
+  padding: 15px 0;
 }
-.group-list > li .tag-users span,
-.events > li .tag-users span,
-.group-list > li .annotation span,
-.events > li .annotation span {
-  position: absolute;
-  top: 0;
-  bottom: 0;
-  right: 5px;
-  height: 100%;
+.group-list .deploy,
+.events .deploy {
+  background: #fcfcfd;
+  font-size: 12px;
   text-align: center;
-  line-height: inherit;
-  display: block;
-}
-.group-list > li .tag-users i,
-.events > li .tag-users i,
-.group-list > li .annotation i,
-.events > li .annotation i {
-  padding-right: 25px;
-  font-style: normal;
-  color: #aaa;
-}
-.group-list > li .tag-project,
-.events > li .tag-project {
-  display: none;
-}
-.group-list > li .sparkline,
-.events > li .sparkline {
-  position: absolute;
-  right: 50px;
-  top: 18px;
-  display: inline-block;
-  width: 100px;
-  height: 52px;
-}
-.group-list > li .sparkline > span,
-.events > li .sparkline > span {
-  position: relative;
-  float: left;
-  width: 3px;
+  border-bottom: 3px solid #F8F9FA;
+  padding: 5px 0;
 }
-.group-list > li .actions,
-.events > li .actions {
-  position: absolute;
-  right: 2px;
-  top: 17px;
-  list-style-type: none;
+.group-list .row,
+.events .row {
   margin: 0;
-  padding: 0;
-}
-.group-list > li .actions li,
-.events > li .actions li {
-  margin-bottom: 13px;
-  font-size: 14px;
-  line-height: 18px;
-  text-align: center;
-  display: block;
-  width: 20px;
-  height: 20px;
 }
-.group-list > li .actions li > a,
-.events > li .actions li > a {
-  font-size: 19px;
-  color: #e7e9ed;
+.group-list .checkbox,
+.events .checkbox {
+  position: absolute;
+  left: 4px;
+  top: 4px;
 }
-.group-list > li .actions li > a:hover,
-.events > li .actions li > a:hover {
-  color: #d6d9e0;
-  text-decoration: none;
+.group-list .event-details,
+.events .event-details {
+  padding-left: 30px;
 }
-.group-list > li .actions li > a i,
-.events > li .actions li > a i {
-  background-image: none;
+.group-list .event-details h3,
+.events .event-details h3 {
+  font-size: 16px;
+  line-height: 1.2;
+  letter-spacing: -0.25;
+  margin: 0 0 3px;
 }
-.group-list > li .actions li .checked,
-.events > li .actions li .checked,
-.group-list > li .actions li .checked:hover,
-.events > li .actions li .checked:hover {
-  color: #f6de2f;
+.group-list .event-details h3 a,
+.events .event-details h3 a {
+  color: inherit;
 }
-.group-list > li .actions li .bookmarked,
-.events > li .actions li .bookmarked {
-  color: #fb4226;
+.group-list .event-details .event-message,
+.events .event-details .event-message {
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  overflow: hidden;
 }
-.group-list > li .actions li .disabled,
-.events > li .actions li .disabled {
-  color: #465262;
+.group-list .event-details p,
+.events .event-details p {
+  line-height: 1.4;
+  color: #79858C;
+  margin-bottom: 0;
 }
-.group-list > li .row_link,
-.events > li .row_link {
-  top: 0;
-  left: 0;
-  width: 100%;
-  height: 100%;
-  position: absolute;
+.group-list .event-details h3 a,
+.events .event-details h3 a,
+.group-list .event-details p,
+.events .event-details p {
+  display: block;
+  max-width: 100%;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  overflow: hidden;
 }
-.group-list > li.level-info .count,
-.events > li.level-info .count {
-  background: #2788ce;
+.group-list .event-details .event-meta,
+.events .event-details .event-meta {
+  color: #949ea4;
 }
-.group-list > li.level-warning .count,
-.events > li.level-warning .count {
-  background: #f18500;
+.group-list .event-graph figure,
+.events .event-graph figure {
+  height: 40px;
+  margin: 0;
 }
-.group-list > li.level-error .count,
-.events > li.level-error .count {
-  background: #f43f20;
+.group-list .event-users,
+.events .event-users,
+.group-list .event-occurrences,
+.events .event-occurrences {
+  vertical-align: middle;
 }
-.group-list > li.level-fatal .count,
-.events > li.level-fatal .count {
-  background: #d20f2a;
+.group-list .event-users span,
+.events .event-users span,
+.group-list .event-occurrences span,
+.events .event-occurrences span {
+  color: #949ea4;
+  font-size: 20px;
+  display: inline-block;
 }
-.group-list > li.resolved h3,
-.events > li.resolved h3 {
-  text-decoration: line-through;
+.group-list .event-header,
+.events .event-header {
+  padding-top: 0;
+  padding-bottom: 20px;
+  border-color: #f2f4f6;
 }
-.group-list > li.resolved .count,
-.events > li.resolved .count {
-  background: #cfd3da;
+.group-list .event-header .checkbox,
+.events .event-header .checkbox {
+  top: -5px;
 }
-.group-list > li.resolved .icon-checkmark,
-.events > li.resolved .icon-checkmark {
-  color: #27ce8a;
+.group-list .event-header .icon-checkmark,
+.events .event-header .icon-checkmark,
+.group-list .event-header .icon-pause,
+.events .event-header .icon-pause {
+  position: relative;
+  top: 1px;
 }
-.group-list.small > li,
-.events.small > li {
-  min-height: 30px;
-  padding: 14px 14px 14px 50px;
+.group-list .event-header .icon-bookmark,
+.events .event-header .icon-bookmark {
+  position: relative;
+  top: 2px;
 }
-.group-list.small > li.empty,
-.events.small > li.empty {
-  padding-left: 0px;
+.group-list .event-header .graph ul,
+.events .event-header .graph ul {
+  padding-left: 0;
+  list-style: none;
+  float: right;
 }
-.group-list.small > li:last-child,
-.events.small > li:last-child {
-  border-bottom: none;
+.group-list .event-header .graph ul:before,
+.events .event-header .graph ul:before,
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  content: " ";
+  display: table;
 }
-.group-list.small > li h3,
-.events.small > li h3 {
-  margin: 0;
-  font-size: 14px;
-  line-height: 18px;
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  clear: both;
 }
-.group-list.small > li .message,
-.events.small > li .message {
-  line-height: 18px;
-  font-size: 12px;
+.group-list .event-header .graph ul:before,
+.events .event-header .graph ul:before,
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  content: " ";
+  display: table;
 }
-.group-list.small > li .message .tag,
-.events.small > li .message .tag {
-  display: none;
+.group-list .event-header .graph ul:after,
+.events .event-header .graph ul:after {
+  clear: both;
 }
-.group-list.small > li .meta,
-.events.small > li .meta {
-  line-height: 18px;
-  font-size: 12px;
+.group-list .event-header .graph ul li,
+.events .event-header .graph ul li {
+  float: left;
+  margin: 0 0 0 10px;
 }
-.group-list.small > li .count,
-.events.small > li .count {
-  left: 0;
-  font-size: 12px;
-  width: 36px;
-  height: 36px;
-  line-height: 38px;
-  border-radius: 36px;
+.group-list .event-header .graph ul li.active a,
+.events .event-header .graph ul li.active a {
+  font-weight: 500;
+  color: #333333;
 }
-.group-list.small > li .actions,
-.events.small > li .actions {
-  display: none;
+.group-list .event-header .graph ul a,
+.events .event-header .graph ul a {
+  color: #949ea4;
 }
-.group-list.small > li .sparkline,
-.events.small > li .sparkline {
-  right: 10px;
-  height: 30px;
-  top: 20px;
+.group-list .event-header .event-graph,
+.events .event-header .event-graph,
+.group-list .event-header .event-occurrences,
+.events .event-header .event-occurrences,
+.group-list .event-header .event-users,
+.events .event-header .event-users {
+  padding-top: 6px;
 }
-.group-list.small > li .tag-project,
-.events.small > li .tag-project {
+.group-list .event-header strong,
+.events .event-header strong {
   display: inline-block;
+  padding-top: 6px;
 }
 .inactive .group-list > li:hover {
   filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
diff --git a/src/sentry/templates/sentry/groups/group_list.html b/src/sentry/templates/sentry/groups/group_list.html
index c3df01de34..59d511c1a5 100644
--- a/src/sentry/templates/sentry/groups/group_list.html
+++ b/src/sentry/templates/sentry/groups/group_list.html
@@ -42,6 +42,9 @@
     {% querystring from request without since as since_querystring %}
 
     <div class="stream-actions">
+        <div class="checkbox">
+            <input type="checkbox">
+        </div>
         <div class="btn-group">
             <a class="btn btn-default" href="javascript:void(0)" id="sentry-resolve-feed" onclick="Sentry.stream.clear('{{ project.slug }}');"><i aria-hidden="true" class="icon-checkmark"></i> {% trans "Resolve All Events" %}</a>
         </div>
