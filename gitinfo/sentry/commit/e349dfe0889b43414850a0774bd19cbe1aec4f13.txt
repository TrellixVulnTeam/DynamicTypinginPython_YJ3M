commit e349dfe0889b43414850a0774bd19cbe1aec4f13
Author: David Cramer <dcramer@gmail.com>
Date:   Wed May 21 10:39:40 2014 -0700

    Basic test for search status filter

diff --git a/tests/sentry/search/django/tests.py b/tests/sentry/search/django/tests.py
index 60d26a86a2..4d3806354d 100644
--- a/tests/sentry/search/django/tests.py
+++ b/tests/sentry/search/django/tests.py
@@ -5,6 +5,7 @@ from __future__ import absolute_import
 from datetime import datetime
 from exam import fixture
 
+from sentry.constants import STATUS_RESOLVED, STATUS_UNRESOLVED
 from sentry.search.django.backend import DjangoSearchBackend
 from sentry.testutils import TestCase
 
@@ -20,6 +21,7 @@ class DjangoSearchTest(TestCase):
             project=project,
             checksum='a' * 40,
             message='foo',
+            status=STATUS_UNRESOLVED,
             last_seen=datetime(2013, 8, 13, 3, 8, 24, 880386),
             first_seen=datetime(2013, 7, 13, 3, 8, 24, 880386),
         )
@@ -27,6 +29,7 @@ class DjangoSearchTest(TestCase):
             project=project,
             checksum='b' * 40,
             message='bar',
+            status=STATUS_RESOLVED,
             last_seen=datetime(2013, 7, 14, 3, 8, 24, 880386),
             first_seen=datetime(2013, 7, 14, 3, 8, 24, 880386),
         )
@@ -48,3 +51,11 @@ class DjangoSearchTest(TestCase):
         assert len(results) == 2
         assert results[0] == group2
         assert results[1] == group1
+
+        results = self.backend.query(project, status=STATUS_UNRESOLVED)
+        assert len(results) == 1
+        assert results[0] == group1
+
+        results = self.backend.query(project, status=STATUS_RESOLVED)
+        assert len(results) == 1
+        assert results[0] == group2
