commit 6ee3f6ec6d7a3a29c2cc951536df1f57018af912
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 8 13:36:33 2015 -0400

    Kill .min on filenames

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index da010a1565..25f3c6efc9 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -326,7 +326,10 @@ def generate_module(src):
     """
     if not src:
         return UNKNOWN_MODULE
-    return CLEAN_MODULE_RE.sub('', splitext(urlsplit(src).path)[0]) or UNKNOWN_MODULE
+    filename = splitext(urlsplit(src).path)[0]
+    if filename.endswith('.min'):
+        filename = filename[:-4]
+    return CLEAN_MODULE_RE.sub('', filename) or UNKNOWN_MODULE
 
 
 def generate_culprit(frame):
diff --git a/tests/sentry/lang/javascript/test_processor.py b/tests/sentry/lang/javascript/test_processor.py
index 04ec029169..25e88a740f 100644
--- a/tests/sentry/lang/javascript/test_processor.py
+++ b/tests/sentry/lang/javascript/test_processor.py
@@ -121,6 +121,7 @@ class GenerateModuleTest(TestCase):
         assert generate_module('/bower_components/foo/bar.js') == 'foo/bar'
         assert generate_module('/node_modules/foo/bar.js') == 'foo/bar'
         assert generate_module('http://example.com/vendor.92cd589eca8235e7b373bf5ae94ebf898e3b949c.js') == 'vendor'
+        assert generate_module('/a/javascripts/application-bundle-149360d3414c26adac3febdf6832e25c.min.js') == 'a/javascripts/application-bundle'
 
 
 class FetchBase64SourcemapTest(TestCase):
