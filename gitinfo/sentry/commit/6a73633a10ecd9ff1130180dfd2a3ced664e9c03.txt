commit 6a73633a10ecd9ff1130180dfd2a3ced664e9c03
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jan 21 23:37:52 2013 -0800

    Update all API urls

diff --git a/src/sentry/static/sentry/scripts/app.js b/src/sentry/static/sentry/scripts/app.js
index 571d1a9ca0..3a70ffd227 100644
--- a/src/sentry/static/sentry/scripts/app.js
+++ b/src/sentry/static/sentry/scripts/app.js
@@ -92,7 +92,7 @@
                 maxItems: 50,
                 realtime: ($.cookie('pausestream') ? false : true),
                 canStream: this.options.canStream,
-                pollUrl: app.config.urlPrefix + '/api/' + app.config.projectId + '/poll/',
+                pollUrl: app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/poll/',
                 model: app.models.Group
             });
 
diff --git a/src/sentry/static/sentry/scripts/sentry.core.js b/src/sentry/static/sentry/scripts/sentry.core.js
index ede7407af5..9e1e34e6a7 100644
--- a/src/sentry/static/sentry/scripts/sentry.core.js
+++ b/src/sentry/static/sentry/scripts/sentry.core.js
@@ -14,23 +14,11 @@ if (Sentry === undefined) {
     var Sentry = {};
 }
 
-(function(jQuery){
+(function(app, jQuery){
     "use strict";
 
     var $ = jQuery;
 
-    Sentry.options = {
-        urlPrefix: '',
-        mediaUrl: '/media/',
-        defaultImage: '/media/images/sentry.png'
-    };
-
-    Sentry.config = function(data){
-        $.each(data, function(k, v){
-            Sentry.options[k] = v;
-        });
-    };
-
     Sentry.prettyDate = function(date_str) {
         // we need to zero out at CST
         var time = Date.parse(date_str);
@@ -135,7 +123,7 @@ if (Sentry === undefined) {
                     allowClear: true,
                     minimumInputLength: 3,
                     ajax: {
-                        url: Sentry.options.urlPrefix + '/api/' + Sentry.options.projectId + '/tags/search/',
+                        url: app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/tags/search/',
                         dataType: 'json',
                         data: function (term, page) {
                             return {
@@ -225,10 +213,10 @@ if (Sentry === undefined) {
         w.document.write("<!DOCTYPE html><html>" +
             "<head>" +
                 "<title>" + title + "</title>" +
-                "<link href=\"" + Sentry.options.popupCss + "\" rel=\"stylesheet\" type=\"text/css\"/>" +
+                "<link href=\"" + app.config.popupCss + "\" rel=\"stylesheet\" type=\"text/css\"/>" +
             "</head><body>" +
                 "<div id=\"popup\">" + content + "</div></body>" +
             "</html>");
     });
 
-}(jQuery));
+}(app, jQuery));
diff --git a/src/sentry/static/sentry/scripts/sentry.stream.js b/src/sentry/static/sentry/scripts/sentry.stream.js
index f6b4e07b68..4b9b0c59c1 100644
--- a/src/sentry/static/sentry/scripts/sentry.stream.js
+++ b/src/sentry/static/sentry/scripts/sentry.stream.js
@@ -3,16 +3,16 @@
 if (Sentry === undefined) {
     var Sentry = {};
 }
-(function(jQuery){
+(function(app, jQuery){
     "use strict";
 
     var $ = jQuery;
 
     Sentry.stream = {};
-    Sentry.stream.clear = function(project_id) {
+    Sentry.stream.clear = function() {
         if (window.confirm("Are you sure you want to mark all your stream as resolved?")) {
             $.ajax({
-                url: Sentry.options.urlPrefix + '/api/' + project_id + '/clear/',
+                url: app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/clear/',
                 type: 'post',
                 dataType: 'json',
                 success: function(groups){
@@ -21,12 +21,12 @@ if (Sentry === undefined) {
             });
         }
     };
-    Sentry.stream.resolve = function(project_id, gid, remove){
+    Sentry.stream.resolve = function(gid, remove){
         if (typeof(remove) == 'undefined') {
             remove = true;
         }
         $.ajax({
-            url: Sentry.options.urlPrefix + '/api/' + project_id + '/resolve/',
+            url: app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/resolve/',
             type: 'post',
             dataType: 'json',
             data: {
@@ -45,7 +45,7 @@ if (Sentry === undefined) {
     };
     Sentry.stream.bookmark = function(project_id, gid, el){
         $.ajax({
-            url: Sentry.options.urlPrefix + '/api/' + project_id + '/bookmark/',
+            url: app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/bookmark/',
             type: 'post',
             dataType: 'json',
             data: {
@@ -64,4 +64,4 @@ if (Sentry === undefined) {
             }
         });
     };
-}(jQuery));
\ No newline at end of file
+}(app, jQuery));
diff --git a/src/sentry/static/sentry/scripts/views.js b/src/sentry/static/sentry/scripts/views.js
index 41dd37f83c..96db07d3fd 100644
--- a/src/sentry/static/sentry/scripts/views.js
+++ b/src/sentry/static/sentry/scripts/views.js
@@ -47,7 +47,7 @@
         },
 
         getResolveUrl: function(){
-            return app.config.urlPrefix + '/api/' + app.config.projectId + '/resolve/';
+            return app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/resolve/';
         },
 
         resolve: function(){
@@ -65,7 +65,7 @@
         },
 
         getBookmarkUrl: function(){
-            return app.config.urlPrefix + '/api/' + app.config.projectId + '/bookmark/';
+            return app.config.urlPrefix + '/api/' + app.config.teamId + '/' + app.config.projectId + '/bookmark/';
         },
 
         bookmark: function(){
diff --git a/src/sentry/templates/sentry/dashboard.html b/src/sentry/templates/sentry/dashboard.html
index 379943a317..9d395aab4c 100644
--- a/src/sentry/templates/sentry/dashboard.html
+++ b/src/sentry/templates/sentry/dashboard.html
@@ -7,7 +7,7 @@
 {% block main %}
     <section class="body dashboard">
         {% if project_list %}
-            <div id="chart" class="chart" data-api-url="{% url sentry-api-chart %}">
+            <div id="chart" class="chart" data-api-url="{% url sentry-api-chart team.slug %}">
                 <div class="sparkline">
                     <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
                     <span class="loading">{% trans "Loading historical data..." %}</span>
@@ -16,9 +16,9 @@
             <div class="page-header clearfix">
                 <h3 class="pull-left">{% trans "Trends" %}</h3>
                 <ul class="nav nav-pills nav-small pull-right">
-                    <li><a href="#top_15m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends %}?minutes=15&amp;limit=5">{% trans "15 minutes" %}</a></li>
-                    <li><a href="#top_60m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends %}?minutes=60&amp;limit=5">{% trans "60 minutes" %}</a></li>
-                    <li class="active"><a href="#top_24h" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends %}?minutes=1440&amp;limit=5">{% trans "24 hours" %}</a></li>
+                    <li><a href="#top_15m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends team.slug %}?minutes=15&amp;limit=5">{% trans "15 minutes" %}</a></li>
+                    <li><a href="#top_60m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends team.slug %}?minutes=60&amp;limit=5">{% trans "60 minutes" %}</a></li>
+                    <li class="active"><a href="#top_24h" data-toggle="ajtab" data-uri="{% url sentry-api-groups-trends team.slug %}?minutes=1440&amp;limit=5">{% trans "24 hours" %}</a></li>
                 </ul>
             </div>
             <div class="tab-content">
@@ -29,9 +29,9 @@
             <div class="page-header clearfix">
                 <h3 class="pull-left">{% trans "New Events" %}</h3>
                 <ul class="nav nav-pills nav-small pull-right">
-                    <li><a href="#new_15m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new %}?minutes=15&amp;limit=5">{% trans "15 minutes" %}</a></li>
-                    <li><a href="#new_60m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new %}?minutes=60&amp;limit=5">{% trans "60 minutes" %}</a></li>
-                    <li class="active"><a href="#new_24h" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new %}?minutes=1440&amp;limit=5">{% trans "24 hours" %}</a></li>
+                    <li><a href="#new_15m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new team.slug %}?minutes=15&amp;limit=5">{% trans "15 minutes" %}</a></li>
+                    <li><a href="#new_60m" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new team.slug %}?minutes=60&amp;limit=5">{% trans "60 minutes" %}</a></li>
+                    <li class="active"><a href="#new_24h" data-toggle="ajtab" data-uri="{% url sentry-api-groups-new team.slug %}?minutes=1440&amp;limit=5">{% trans "24 hours" %}</a></li>
                 </ul>
             </div>
             <div class="tab-content">
diff --git a/src/sentry/templates/sentry/groups/details.html b/src/sentry/templates/sentry/groups/details.html
index a110e3fb7d..15e40a5ec2 100644
--- a/src/sentry/templates/sentry/groups/details.html
+++ b/src/sentry/templates/sentry/groups/details.html
@@ -110,7 +110,7 @@
 
                 {% if group|has_charts %}
                     <div class="module">
-                        <div style="height:50px;" id="chart" class="chart" data-api-url="{% url sentry-api-chart project_id=project.slug %}" data-group="{{ group.id|safe }}">
+                        <div style="height:50px;" id="chart" class="chart" data-api-url="{% url sentry-api-chart project.team.slug project.slug %}" data-group="{{ group.id|safe }}">
                             <div class="sparkline">
                                 <span class="loading">{% trans "Loading historical data..." %}</span>
                                 <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
diff --git a/src/sentry/templates/sentry/groups/group_list.html b/src/sentry/templates/sentry/groups/group_list.html
index 66a0b6aa98..465aac378b 100644
--- a/src/sentry/templates/sentry/groups/group_list.html
+++ b/src/sentry/templates/sentry/groups/group_list.html
@@ -21,7 +21,7 @@
 {% endblock %}
 
 {% block sidebar %}
-    <div id="chart" class="chart" data-api-url="{% url sentry-api-chart %}" data-days="1">
+    <div id="chart" class="chart" data-api-url="{% url sentry-api-chart project.team.slug %}" data-days="1">
         <div class="sparkline">
             <noscript>{% trans "Get yourself some JavaScripts dood" %}</noscript>
             <span class="loading">{% trans "Loading historical data..." %}</span>
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index bef0ed213a..44048f0e77 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -57,19 +57,14 @@
                 <script type="text/javascript" src="{% url sentry-media "sentry" "scripts/sentry.stream.js" %}"></script>
             {% endcompress %}
             <script type="text/javascript">
-            Sentry.config({
-                urlPrefix: {{ URL_PREFIX|to_json|safe }},
-                mediaUrl: '{% url sentry-media "sentry" '' %}',
-                projectId: {% if project %}{{ project.id|to_json|safe }}{% else %}null{% endif %},
-                defaultImage: '{% url sentry-media "sentry" 'images/sentry.png' %}',
-                popupCss: '{% url sentry-media "sentry" 'styles/popup.css' %}'
-            });
+            app.config.popupCss: '{% url sentry-media "sentry" 'styles/popup.css' %}'
             app.config.defaultImage = '{% url sentry-media "sentry" 'images/sentry.png' %}';
             app.config.popupCss = '{% url sentry-media "sentry" 'styles/popup.css' %}';
             app.config.mediaUrl = '{% url sentry-media "sentry" '' %}';
             app.config.urlPrefix = {{ URL_PREFIX|to_json|safe }};
             app.config.hasRealtime = {{ hasRealtime|to_json|safe  }};
             app.config.projectId = {{ project.slug|to_json|safe }};
+            app.config.teamId = {{ team.slug|to_json|safe }};
             app.config.viewId = {% if view %}{{ view.pk|to_json|safe }}{% else %}null{% endif %};
             </script>
         {% endblock %}
diff --git a/src/sentry/web/api.py b/src/sentry/web/api.py
index 2af93e9b66..4904daec32 100644
--- a/src/sentry/web/api.py
+++ b/src/sentry/web/api.py
@@ -257,18 +257,11 @@ class StoreView(APIView):
         return HttpResponse()
 
 
-@csrf_exempt
-@has_access
-@never_cache
-def notification(request, project):
-    return render_to_response('sentry/partial/_notification.html', request.GET)
-
-
 @csrf_exempt
 @has_access
 @never_cache
 @api
-def poll(request, project):
+def poll(request, team, project):
     offset = 0
     limit = settings.MESSAGES_PER_PAGE
 
@@ -287,7 +280,7 @@ def poll(request, project):
 @has_access(MEMBER_USER)
 @never_cache
 @api
-def resolve(request, project):
+def resolve(request, team, project):
     gid = request.REQUEST.get('gid')
     if not gid:
         return HttpResponseForbidden()
@@ -323,7 +316,7 @@ def resolve(request, project):
 @has_access(MEMBER_USER)
 @never_cache
 @api
-def make_group_public(request, project, group_id):
+def make_group_public(request, team, project, group_id):
     try:
         group = Group.objects.get(pk=group_id)
     except Group.DoesNotExist:
@@ -346,7 +339,7 @@ def make_group_public(request, project, group_id):
 @has_access(MEMBER_USER)
 @never_cache
 @api
-def make_group_private(request, project, group_id):
+def make_group_private(request, team, project, group_id):
     try:
         group = Group.objects.get(pk=group_id)
     except Group.DoesNotExist:
@@ -369,7 +362,7 @@ def make_group_private(request, project, group_id):
 @has_access(MEMBER_USER)
 @never_cache
 @api
-def mute_group(request, project, group_id):
+def mute_group(request, team, project, group_id):
     try:
         group = Group.objects.get(pk=group_id)
     except Group.DoesNotExist:
@@ -391,7 +384,7 @@ def mute_group(request, project, group_id):
 @has_access(MEMBER_USER)
 @never_cache
 @api
-def unmute_group(request, project, group_id):
+def unmute_group(request, team, project, group_id):
     try:
         group = Group.objects.get(pk=group_id)
     except Group.DoesNotExist:
@@ -412,7 +405,7 @@ def unmute_group(request, project, group_id):
 @csrf_exempt
 @has_access(MEMBER_USER)
 @never_cache
-def remove_group(request, project, group_id):
+def remove_group(request, team, project, group_id):
     try:
         group = Group.objects.get(pk=group_id)
     except Group.DoesNotExist:
@@ -432,7 +425,7 @@ def remove_group(request, project, group_id):
 @has_access
 @never_cache
 @api
-def bookmark(request, project):
+def bookmark(request, team, project):
     gid = request.REQUEST.get('gid')
     if not gid:
         return HttpResponseForbidden()
@@ -459,7 +452,7 @@ def bookmark(request, project):
 @csrf_exempt
 @has_access(MEMBER_USER)
 @never_cache
-def clear(request, project):
+def clear(request, team, project):
     response = _get_group_list(
         request=request,
         project=project,
@@ -478,7 +471,7 @@ def clear(request, project):
 @vary_on_cookie
 @csrf_exempt
 @has_access
-def chart(request, project=None):
+def chart(request, team=None, project=None):
     gid = request.REQUEST.get('gid')
     days = int(request.REQUEST.get('days', '90'))
     if gid:
@@ -490,6 +483,14 @@ def chart(request, project=None):
         data = Group.objects.get_chart_data(group, max_days=days)
     elif project:
         data = Project.objects.get_chart_data(project, max_days=days)
+    elif team:
+        cache_key = 'api.chart:team=%s,days=%s' % (team.id, days)
+
+        data = cache.get(cache_key)
+        if data is None:
+            project_list = list(Project.objects.filter(team=team))
+            data = Project.objects.get_chart_data_for_group(project_list, max_days=days)
+            cache.set(cache_key, data, 300)
     else:
         cache_key = 'api.chart:user=%s,days=%s' % (request.user.id, days)
 
@@ -507,12 +508,14 @@ def chart(request, project=None):
 @never_cache
 @csrf_exempt
 @has_access
-def get_group_trends(request, project=None):
+def get_group_trends(request, team=None, project=None):
     minutes = int(request.REQUEST.get('minutes', 15))
     limit = min(100, int(request.REQUEST.get('limit', 10)))
 
-    if project:
-        project_dict = {project.pk: project}
+    if team:
+        project_dict = dict((p.id, p) for p in Project.objects.filter(team=team))
+    elif project:
+        project_dict = {project.id: project}
     else:
         project_dict = get_project_list(request.user)
 
@@ -547,11 +550,13 @@ def get_group_trends(request, project=None):
 @never_cache
 @csrf_exempt
 @has_access
-def get_new_groups(request, project=None):
+def get_new_groups(request, team=None, project=None):
     minutes = int(request.REQUEST.get('minutes', 15))
     limit = min(100, int(request.REQUEST.get('limit', 10)))
 
-    if project:
+    if team:
+        project_dict = dict((p.id, p) for p in Project.objects.filter(team=team))
+    elif project:
         project_dict = {project.id: project}
     else:
         project_dict = get_project_list(request.user)
@@ -579,11 +584,13 @@ def get_new_groups(request, project=None):
 @never_cache
 @csrf_exempt
 @has_access
-def get_resolved_groups(request, project=None):
+def get_resolved_groups(request, team=None, project=None):
     minutes = int(request.REQUEST.get('minutes', 15))
     limit = min(100, int(request.REQUEST.get('limit', 10)))
 
-    if project:
+    if team:
+        project_list = list(Project.objects.filter(team=team))
+    elif project:
         project_list = [project]
     else:
         project_list = get_project_list(request.user).values()
@@ -645,7 +652,7 @@ def get_stats(request, project=None):
 @never_cache
 @csrf_exempt
 @has_access
-def search_tags(request, project):
+def search_tags(request, team, project):
     limit = min(100, int(request.GET.get('limit', 10)))
     name = request.GET['name']
     query = request.GET['query']
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 81b52287df..2bd1cf6a11 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -132,24 +132,38 @@ urlpatterns = patterns('',
     # API / JS
     url(r'^crossdomain\.xml$', api.crossdomain_xml_index, name='sentry-api-crossdomain-xml-index'),
     url(r'^api/store/$', api.StoreView.as_view(), name='sentry-api-store'),
-    url(r'^api/notification/$', api.notification, name='sentry-api-notification'),
+
+    # Client API endpoints. MUST NOT BE CHANGED
     url(r'^api/(?P<project_id>[\w_-]+)/crossdomain\.xml$', api.crossdomain_xml, name='sentry-api-crossdomain-xml'),
     url(r'^api/(?P<project_id>[\w_-]+)/store/$', api.StoreView.as_view(), name='sentry-api-store'),
-    url(r'^api/(?P<project_id>[\w_-]+)/poll/$', api.poll, name='sentry-api-poll'),
-    url(r'^api/(?P<project_id>[\w_-]+)/resolve/$', api.resolve, name='sentry-api-resolve'),
-    url(r'^api/(?P<project_id>[\w_-]+)/bookmark/$', api.bookmark, name='sentry-api-bookmark'),
-    url(r'^api/(?P<project_id>[\w_-]+)/clear/$', api.clear, name='sentry-api-clear'),
-    url(r'^api/(?:(?P<project_id>[\w_-]+)/)?chart/$', api.chart, name='sentry-api-chart'),
-    url(r'^api/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/remove/$', api.remove_group, name='sentry-api-remove-group'),
-    url(r'^api/(?:(?P<project_id>[\w_-]+)/)?groups/trends/$', api.get_group_trends, name='sentry-api-groups-trends'),
-    url(r'^api/(?:(?P<project_id>[\w_-]+)/)?groups/newest/$', api.get_new_groups, name='sentry-api-groups-new'),
-    url(r'^api/(?:(?P<project_id>[\w_-]+)/)?groups/resolved/$', api.get_resolved_groups, name='sentry-api-groups-resolved'),
-    url(r'^api/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/public/$', api.make_group_public, name='sentry-api-set-group-public'),
-    url(r'^api/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/private/$', api.make_group_private, name='sentry-api-set-group-private'),
-    url(r'^api/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/mute/$', api.mute_group, name='sentry-api-set-group-mute'),
-    url(r'^api/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/unmute/$', api.unmute_group, name='sentry-api-set-group-unmute'),
-    url(r'^api/(?:(?P<project_id>[\w_-]+)/)?stats/$', api.get_stats, name='sentry-api-stats'),
-    url(r'^api/(?P<project_id>[\w_-]+)/tags/search/$', api.search_tags, name='sentry-api-search-tags'),
+
+    # Generic API
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/poll/$', api.poll, name='sentry-api-poll'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/resolve/$', api.resolve, name='sentry-api-resolve'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/bookmark/$', api.bookmark, name='sentry-api-bookmark'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/clear/$', api.clear, name='sentry-api-clear'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?chart/$', api.chart, name='sentry-api-chart'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/remove/$', api.remove_group,
+        name='sentry-api-remove-group'),
+
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?groups/trends/$', api.get_group_trends,
+        name='sentry-api-groups-trends'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?groups/newest/$', api.get_new_groups,
+        name='sentry-api-groups-new'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?groups/resolved/$', api.get_resolved_groups,
+        name='sentry-api-groups-resolved'),
+
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/public/$', api.make_group_public,
+        name='sentry-api-set-group-public'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/private/$', api.make_group_private, name='sentry-api-set-group-private'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/mute/$', api.mute_group,
+        name='sentry-api-set-group-mute'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/group/(?P<group_id>[\w_-]+)/set/unmute/$', api.unmute_group,
+        name='sentry-api-set-group-unmute'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?:(?P<project_id>[\w_-]+)/)?stats/$', api.get_stats,
+        name='sentry-api-stats'),
+    url(r'^api/(?P<team_slug>[\w_-]+)/(?P<project_id>[\w_-]+)/tags/search/$', api.search_tags,
+        name='sentry-api-search-tags'),
 
     # Users
     url(r'^(?P<team_slug>[\w_-]+)/users/$', users.user_list, name='sentry-users'),
