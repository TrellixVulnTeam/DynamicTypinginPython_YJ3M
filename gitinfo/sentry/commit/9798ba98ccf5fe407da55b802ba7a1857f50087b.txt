commit 9798ba98ccf5fe407da55b802ba7a1857f50087b
Author: Chris Clark <christopherchristopherclark@gmail.com>
Date:   Fri Jan 19 13:51:58 2018 -0800

    feat(settings): styled copy text field (#6997)
    
    * add and include new clipboard icon
    
    * moar
    
    * Ref(UI): Visible Input Fields (#7004)
    
    * basic styles
    
    * hover and focus
    
    * reduce padding

diff --git a/src/sentry/static/sentry/app/icons/icon-clipboard.svg b/src/sentry/static/sentry/app/icons/icon-clipboard.svg
new file mode 100644
index 0000000000..e52f0506ce
--- /dev/null
+++ b/src/sentry/static/sentry/app/icons/icon-clipboard.svg
@@ -0,0 +1,13 @@
+<svg viewBox="0 0 20 26">
+  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
+    <g id="icon-clipboard" fill="currentColor">
+      <g transform="translate(-4.000000, 0.000000)">
+        <path d="M6,4 L6,24 L22,24 L22,4 L6,4 Z M9,2 L9,4 L20,4 L20,2 L22,2 C23.1045695,2 24,2.8954305 24,4 L24,24 C24,25.1045695 23.1045695,26 22,26 L6,26 C4.8954305,26 4,25.1045695 4,24 L4,4 C4,2.8954305 4.8954305,2 6,2 L9,2 Z" fill-rule="nonzero"></path>
+        <path d="M10,2 L10,4 L18,4 L18,2 L10,2 Z M10,0 L18,0 C19.1045695,-2.02906125e-16 20,0.8954305 20,2 L20,4 C20,5.1045695 19.1045695,6 18,6 L10,6 C8.8954305,6 8,5.1045695 8,4 L8,2 C8,0.8954305 8.8954305,2.02906125e-16 10,0 Z" fill-rule="nonzero"></path>
+        <rect x="8" y="8" width="12" height="2" rx="1"></rect>
+        <rect x="8" y="12" width="12" height="2" rx="1"></rect>
+        <rect x="8" y="16" width="12" height="2" rx="1"></rect>
+      </g>
+    </g>
+  </g>
+</svg>
\ No newline at end of file
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/formField/formFieldWrapper.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/formField/formFieldWrapper.jsx
index 5f77d87450..d68f18073f 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/formField/formFieldWrapper.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/formField/formFieldWrapper.jsx
@@ -10,6 +10,13 @@ const FormFieldWrapper = styled(({highlighted, inline, ...props}) => <Flex {...p
   border-bottom: 1px solid ${p => p.theme.borderLight};
   transition: background 0.15s;
 
+  ${SettingsInputField}, ${SettingsTextAreaField} {
+    background: ${p => (p.error ? '#fff' : p.theme.offWhite)};
+    border: 1px solid ${p => p.theme.borderLight};
+
+    &:hover, &:focus { border: 1px solid ${p => p.theme.borderDark}}
+  }
+
   ${p => {
     if (p.inline) {
       return 'align-items: center;';
@@ -20,24 +27,14 @@ const FormFieldWrapper = styled(({highlighted, inline, ...props}) => <Flex {...p
       `;
     }
   }} ${p => {
-      if (p.highlighted) {
-        return css`
-          outline: 1px solid ${p.theme.purple};
-        `;
-      } else {
-        return '';
-      }
-    }}
-
-  &:hover {
-    ${SettingsInputField}, ${SettingsTextAreaField} {
-      ${p => css`
-        background: ${p.error ? '#fff' : p.theme.offWhite};
-      `};
-    }
+  if (p.highlighted) {
+    return css`
+      outline: 1px solid ${p.theme.purple};
+    `;
+  } else {
+    return '';
   }
-
-  &:last-child {
+}} &:last-child {
     border-bottom: none;
   }
 `;
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/styled/styles.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/styled/styles.jsx
index 1f3659ebb5..21e6a2bc47 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/styled/styles.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/styled/styles.jsx
@@ -6,7 +6,7 @@ const inputStyles = props => css`
   width: 100%;
   border: 0;
   border-radius: 2px;
-  padding: 10px;
+  padding: 0.5em;
   transition: border 0.2s ease;
   resize: vertical;
 
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
index 0de9f99a76..448e9c0c2d 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
@@ -11,20 +11,34 @@ import Button from '../../../../components/buttons/button';
 import Clipboard from '../../../../components/clipboard';
 import InlineSvg from '../../../../components/inlineSvg';
 
-const StyledAutoSelectText = styled(AutoSelectText)`
-  ${inputStyles};
-  display: inline-block;
-  width: auto;
-  padding: 0;
+const Wrapper = styled(Flex)`
+  display: flex;
+  max-width: 600px;
 `;
 
-const OverflowContainer = styled(Flex)`
+const OverflowContainer = styled('div')`
+  flex-grow: 1;
   overflow: hidden;
   text-overflow: ellipsis;
+  white-space: nowrap;
+  background: ${p => p.theme.offWhite};
+  border: 1px solid ${p => p.theme.borderLight};
+  border-right-width: 0;
+  border-radius: 0.25em 0 0 0.25em;
+  padding: 0.25em 1em;
+  box-shadow: 0 2px rgba(0, 0, 0, 0.05);
 `;
 
-const Wrapper = styled(Flex)`
-  overflow: hidden;
+const StyledCopyButton = styled(Button)`
+  flex-shrink: 1;
+  border-radius: 0 0.25em 0.25em 0;
+`;
+
+const StyledAutoSelectText = styled(AutoSelectText)`
+  ${inputStyles};
+  display: inline-block;
+  width: 100%;
+  padding: 0;
 `;
 
 class TextCopyInput extends React.Component {
@@ -73,17 +87,15 @@ class TextCopyInput extends React.Component {
 
     return (
       <Wrapper>
-        <OverflowContainer flex="1">
+        <OverflowContainer>
           <StyledAutoSelectText innerRef={this.handleAutoMount} style={style}>
             {children}
           </StyledAutoSelectText>
         </OverflowContainer>
         <Clipboard hideUnsupported onClick={this.handleCopyClick} value={children}>
-          <Flex shrink="0">
-            <Button borderless size="xsmall" onClick={this.handleCopyClick}>
-              <InlineSvg src="icon-copy" />
-            </Button>
-          </Flex>
+          <StyledCopyButton size="xsmall" onClick={this.handleCopyClick}>
+            <InlineSvg src="icon-clipboard" size="1.25em" />
+          </StyledCopyButton>
         </Clipboard>
       </Wrapper>
     );
diff --git a/tests/js/spec/components/__snapshots__/textCopyInput.spec.jsx.snap b/tests/js/spec/components/__snapshots__/textCopyInput.spec.jsx.snap
index 1902342e4b..634ae1bc40 100644
--- a/tests/js/spec/components/__snapshots__/textCopyInput.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/textCopyInput.spec.jsx.snap
@@ -2,15 +2,13 @@
 
 exports[`TextCopyInput renders 1`] = `
 <Styled(Base)>
-  <Styled(Base)
-    flex="1"
-  >
+  <Styled(div)>
     <Styled(AutoSelectText)
       innerRef={[Function]}
     >
       Text to Copy
     </Styled(AutoSelectText)>
-  </Styled(Base)>
+  </Styled(div)>
   <Clipboard
     errorMessage="Error copying to clipboard"
     hideMessages={false}
@@ -19,20 +17,15 @@ exports[`TextCopyInput renders 1`] = `
     successMessage="Copied to clipboard"
     value="Text to Copy"
   >
-    <Flex
-      shrink="0"
+    <Styled(Button)
+      onClick={[Function]}
+      size="xsmall"
     >
-      <Button
-        borderless={true}
-        disabled={false}
-        onClick={[Function]}
-        size="xsmall"
-      >
-        <InlineSvg
-          src="icon-copy"
-        />
-      </Button>
-    </Flex>
+      <InlineSvg
+        size="1.25em"
+        src="icon-clipboard"
+      />
+    </Styled(Button)>
   </Clipboard>
 </Styled(Base)>
 `;
