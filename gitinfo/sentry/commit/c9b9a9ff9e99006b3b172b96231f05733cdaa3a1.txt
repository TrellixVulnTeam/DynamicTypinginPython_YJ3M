commit c9b9a9ff9e99006b3b172b96231f05733cdaa3a1
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Sep 28 21:08:51 2013 -0700

    Do not raise an error when create_or_update is a noop (fixes GH-1014)

diff --git a/src/sentry/db/models/query.py b/src/sentry/db/models/query.py
index d1754f25cb..5f1d1ac801 100644
--- a/src/sentry/db/models/query.py
+++ b/src/sentry/db/models/query.py
@@ -12,8 +12,6 @@ from django.db import router, transaction, IntegrityError
 from django.db.models.expressions import ExpressionNode
 from django.db.models.signals import post_save
 
-from sentry.db.exceptions import QueryError
-
 from .utils import resolve_expression_node
 
 __all__ = ('update', 'create_or_update')
@@ -84,7 +82,4 @@ def create_or_update(model, using=None, **kwargs):
         transaction.rollback_unless_managed(using=using)
         affected = objects.filter(**kwargs).update(**defaults)
 
-    if not affected:
-        raise QueryError('No rows updated or created for kwargs: %r' % kwargs)
-
     return affected, False
