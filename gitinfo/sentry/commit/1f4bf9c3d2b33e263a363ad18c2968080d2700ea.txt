commit 1f4bf9c3d2b33e263a363ad18c2968080d2700ea
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Apr 12 13:00:29 2018 -0700

    fix(ui): Fix activity feed when "commit" is null (#8018)

diff --git a/src/sentry/static/sentry/app/components/activity/item.jsx b/src/sentry/static/sentry/app/components/activity/item.jsx
index dda8d6d22d..794a6e70c3 100644
--- a/src/sentry/static/sentry/app/components/activity/item.jsx
+++ b/src/sentry/static/sentry/app/components/activity/item.jsx
@@ -113,8 +113,8 @@ class ActivityItem extends React.Component {
           version: (
             <CommitLink
               inline={true}
-              commitId={data.commit.id}
-              repository={data.commit.repository}
+              commitId={data.commit && data.commit.id}
+              repository={data.commit && data.commit.repository}
             />
           ),
           issue: issueLink,
diff --git a/src/sentry/static/sentry/app/components/commitLink.jsx b/src/sentry/static/sentry/app/components/commitLink.jsx
index 8b0526f3dd..28379b2b3e 100644
--- a/src/sentry/static/sentry/app/components/commitLink.jsx
+++ b/src/sentry/static/sentry/app/components/commitLink.jsx
@@ -1,6 +1,7 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 
+import {t} from '../locale';
 import InlineSvg from './inlineSvg';
 
 class CommitLink extends React.Component {
@@ -22,19 +23,25 @@ class CommitLink extends React.Component {
   };
 
   render() {
+    let {inline, commitId, repository} = this.props;
+
+    if (!commitId || !repository) {
+      return <span>{t('Unknown Commit')}</span>;
+    }
+
     let commitUrl = this.getCommitUrl();
-    let shortId = this.props.commitId.slice(0, 7);
+    let shortId = commitId.slice(0, 7);
 
     return commitUrl ? (
       <a
-        className={this.props.inline ? 'inline-commit' : 'btn btn-default btn-sm'}
+        className={inline ? 'inline-commit' : 'btn btn-default btn-sm'}
         href={commitUrl}
         target="_blank"
       >
-        {this.props.repository.provider.id == 'github' && (
+        {repository.provider.id == 'github' && (
           <InlineSvg src="icon-github" style={{verticalAlign: 'text-top'}} size="14px" />
         )}
-        {this.props.repository.provider.id == 'bitbucket' && (
+        {repository.provider.id == 'bitbucket' && (
           <InlineSvg
             src="icon-bitbucket"
             style={{verticalAlign: 'text-top'}}
@@ -42,7 +49,7 @@ class CommitLink extends React.Component {
           />
         )}
         &nbsp;
-        {this.props.inline ? '' : ' '}
+        {inline ? '' : ' '}
         {shortId}
       </a>
     ) : (
