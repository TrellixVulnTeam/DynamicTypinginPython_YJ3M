commit 3b774b309c77d967b7fb64a534aa97b3a766d663
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Feb 10 23:43:19 2017 +0100

    Do not fail on missing cpu name
    
    This catches missing cpu names in the instruction fixup code.  While
    this should never happen it does appear we have clients live that
    do not send a cpu name or conflicting values.
    
    Fixes SENTRY-2R6

diff --git a/src/sentry/lang/native/symbolizer.py b/src/sentry/lang/native/symbolizer.py
index e8fda3df5d..4f453c1baa 100644
--- a/src/sentry/lang/native/symbolizer.py
+++ b/src/sentry/lang/native/symbolizer.py
@@ -166,7 +166,9 @@ class Symbolizer(object):
 
     def find_best_instruction(self, frame, meta=None):
         """Finds the best instruction for a given frame."""
-        if not self.images:
+        # If we have no images or cpu name we cannot possibly fix the
+        # instruction here.
+        if not self.images or self.cpu_name is None:
             return parse_addr(frame['instruction_addr'])
         return self.symsynd_symbolizer.find_best_instruction(
             frame['instruction_addr'], cpu_name=self.cpu_name, meta=meta)
