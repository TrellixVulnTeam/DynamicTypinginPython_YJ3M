commit 9582195c15b6e6723b105e89999e1653e75b24d6
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Apr 21 14:31:50 2015 -0700

    More aggressive trailing version match

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 8836cad9a5..18804b6b2a 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -41,7 +41,7 @@ CLEAN_MODULE_RE = re.compile(r"""^
     [a-f0-9]{32}|      # md5
     [a-f0-9]{40}       # sha1
 )/)+|
-(?:[-\.][a-f0-9]{32,40}$)  # Ending in a commitish
+(?:[-\.][a-f0-9]{7,}$)  # Ending in a commitish
 """, re.X | re.I)
 # the maximum number of remote resources (i.e. sourc eifles) that should be
 # fetched
diff --git a/tests/sentry/lang/javascript/test_processor.py b/tests/sentry/lang/javascript/test_processor.py
index 25e88a740f..9b13e5f140 100644
--- a/tests/sentry/lang/javascript/test_processor.py
+++ b/tests/sentry/lang/javascript/test_processor.py
@@ -122,6 +122,7 @@ class GenerateModuleTest(TestCase):
         assert generate_module('/node_modules/foo/bar.js') == 'foo/bar'
         assert generate_module('http://example.com/vendor.92cd589eca8235e7b373bf5ae94ebf898e3b949c.js') == 'vendor'
         assert generate_module('/a/javascripts/application-bundle-149360d3414c26adac3febdf6832e25c.min.js') == 'a/javascripts/application-bundle'
+        assert generate_module('https://example.com/libs/libs-20150417171659.min.js') == 'libs/libs'
 
 
 class FetchBase64SourcemapTest(TestCase):
