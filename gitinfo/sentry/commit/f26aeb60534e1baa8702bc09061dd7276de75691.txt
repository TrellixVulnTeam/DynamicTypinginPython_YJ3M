commit f26aeb60534e1baa8702bc09061dd7276de75691
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Jan 20 14:03:37 2013 -0800

    Add tests for invalid key and invalid secret on project_from_auth_vars

diff --git a/tests/sentry/coreapi/tests.py b/tests/sentry/coreapi/tests.py
index 2b328b7c54..df8c2d679a 100644
--- a/tests/sentry/coreapi/tests.py
+++ b/tests/sentry/coreapi/tests.py
@@ -145,6 +145,14 @@ class ProjectFromAuthVarsTest(BaseAPITest):
         auth_vars = {'sentry_key': self.pk.public_key}
         self.assertRaises(APIUnauthorized, project_from_auth_vars, auth_vars)
 
+    def test_invalid_key(self):
+        auth_vars = {'sentry_key': 'z'}
+        self.assertRaises(APIForbidden, project_from_auth_vars, auth_vars)
+
+    def test_invalid_secret(self):
+        auth_vars = {'sentry_key': self.pk.public_key, 'sentry_secret': 'z'}
+        self.assertRaises(APIForbidden, project_from_auth_vars, auth_vars)
+
 
 class ProcessDataTimestampTest(BaseAPITest):
     def test_iso_timestamp(self):
