commit 7830e3633a1356076c096491b749a042a673cf50
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jun 7 10:29:54 2014 -0400

    Gracefully handle unresolvable names

diff --git a/src/sentry/http.py b/src/sentry/http.py
index 68806f317b..1b3e8c4ac9 100644
--- a/src/sentry/http.py
+++ b/src/sentry/http.py
@@ -42,7 +42,10 @@ def is_valid_url(url):
     Tests a URL to ensure it doesn't appear to be a blacklisted IP range.
     """
     parsed = urlparse(url)
-    ip_network = IPNetwork(socket.gethostbyname(parsed.hostname))
+    ip_address = socket.gethostbyname(parsed.hostname)
+    if ip_address is None:
+        return False
+    ip_network = IPNetwork(ip_address)
     for addr in DISALLOWED_IPS:
         if ip_network in addr:
             return False
