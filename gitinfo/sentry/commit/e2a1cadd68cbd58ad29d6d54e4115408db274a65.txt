commit e2a1cadd68cbd58ad29d6d54e4115408db274a65
Author: Mark Story <mark@mark-story.com>
Date:   Fri Nov 9 13:51:27 2018 -0500

    fix(integrations) Don't fail on a missing external issue (#10492)
    
    External issues could be deleted while queue jobs are in-flight. Instead
    of failing we can just skip the sync work.
    
    Fixes SENTRY-85J

diff --git a/src/sentry/tasks/integrations.py b/src/sentry/tasks/integrations.py
index ac349da69c..450dc10a9e 100644
--- a/src/sentry/tasks/integrations.py
+++ b/src/sentry/tasks/integrations.py
@@ -110,7 +110,7 @@ def sync_assignee_outbound(external_issue_id, user_id, assign, **kwargs):
     default_retry_delay=60 * 5,
     max_retries=5
 )
-@retry(exclude=(ExternalIssue.DoesNotExist, Integration.DoesNotExist))
+@retry(exclude=(Integration.DoesNotExist))
 def sync_status_outbound(group_id, external_issue_id, **kwargs):
     try:
         group = Group.objects.filter(
@@ -125,7 +125,11 @@ def sync_status_outbound(group_id, external_issue_id, **kwargs):
     if not has_issue_sync:
         return
 
-    external_issue = ExternalIssue.objects.get(id=external_issue_id)
+    try:
+        external_issue = ExternalIssue.objects.get(id=external_issue_id)
+    except ExternalIssue.DoesNotExist:
+        # Issue link could have been deleted while sync job was in the queue.
+        return
     integration = Integration.objects.get(id=external_issue.integration_id)
     installation = integration.get_installation(
         organization_id=external_issue.organization_id,
