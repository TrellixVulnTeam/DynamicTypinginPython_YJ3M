commit beac89313832d6d3f4dcb005b7e9b67c2e71b7c7
Author: Ben Vinegar <ben@benv.ca>
Date:   Mon Feb 15 15:28:14 2016 -0800

    Fix bad .po lookups for chinese language variants (fixes #2679)

diff --git a/src/sentry/static/sentry/app/translations.jsx b/src/sentry/static/sentry/app/translations.jsx
index c1820286a1..ccff3245cf 100644
--- a/src/sentry/static/sentry/app/translations.jsx
+++ b/src/sentry/static/sentry/app/translations.jsx
@@ -1,10 +1,18 @@
+// zh-cn => zh_CN
+function convertToDjangoLocaleFormat(language) {
+  let [left, right] = language.split('-');
+  return left + (
+    right ? '_' + right.toUpperCase() : ''
+  );
+}
+
 export function getTranslations(language) {
-  return language === 'en'
-    ? {'':{domain:'sentry'}}
-    : require('sentry-locale/' + language + '/LC_MESSAGES/django.po');
+  language = convertToDjangoLocaleFormat(language);
+  return require('sentry-locale/' + language + '/LC_MESSAGES/django.po');
 }
 
 export function translationsExist(language) {
+  language = convertToDjangoLocaleFormat(language);
   try {
     require('sentry-locale/' + language + '/LC_MESSAGES/django.po');
   } catch (e) {
diff --git a/webpack.config.js b/webpack.config.js
index 98d784de23..b6c1819737 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -82,7 +82,7 @@ localeCatalog.supported_locales.forEach(function (locale) {
   var normalizedLocale = locale.toLowerCase().replace('_', '-');
   entry['locale/' + normalizedLocale] = [
     'moment/locale/' + normalizedLocale,
-    'sentry-locale/' + normalizedLocale + '/LC_MESSAGES/django.po' // relative to static/sentry
+    'sentry-locale/' + locale + '/LC_MESSAGES/django.po' // relative to static/sentry
   ];
   localeEntries.push('locale/' + normalizedLocale);
 });
