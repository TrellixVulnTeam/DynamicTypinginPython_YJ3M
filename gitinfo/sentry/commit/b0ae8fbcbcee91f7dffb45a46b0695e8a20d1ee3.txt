commit b0ae8fbcbcee91f7dffb45a46b0695e8a20d1ee3
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon May 13 14:46:24 2019 -0700

    feat(api): Use `identifier` instead of db id when fetching Incident details (#13182)
    
    Change to use `identifier` which is unique to an organization instead of exposing the database id for an Incident object

diff --git a/src/sentry/api/endpoints/organization_incident_details.py b/src/sentry/api/endpoints/organization_incident_details.py
index f8f5d51331..7b8e21664e 100644
--- a/src/sentry/api/endpoints/organization_incident_details.py
+++ b/src/sentry/api/endpoints/organization_incident_details.py
@@ -28,7 +28,7 @@ class OrganizationIncidentDetailsEndpoint(OrganizationEndpoint):
         try:
             kwargs['incident'] = Incident.objects.get(
                 organization=organization,
-                id=incident_id,
+                identifier=incident_id,
             )
         except Incident.DoesNotExist:
             raise ResourceDoesNotExist
diff --git a/tests/sentry/api/endpoints/test_organization_incident_details.py b/tests/sentry/api/endpoints/test_organization_incident_details.py
index a5689d4966..9cee9dae24 100644
--- a/tests/sentry/api/endpoints/test_organization_incident_details.py
+++ b/tests/sentry/api/endpoints/test_organization_incident_details.py
@@ -33,7 +33,7 @@ class IncidentDetailsTest(APITestCase):
         incident = self.create_incident(seen_by=[self.user])
         self.login_as(self.user)
         with self.feature('organizations:incidents'):
-            resp = self.get_valid_response(incident.organization.slug, incident.id)
+            resp = self.get_valid_response(incident.organization.slug, incident.identifier)
 
         expected = serialize(incident)
 
