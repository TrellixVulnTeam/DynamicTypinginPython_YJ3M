commit d0934598fa98f621ad3c2d85ed02cfefc0d1a1b7
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 14 13:05:29 2016 -0800

    [privacy] hide sdk.clientIP from non superusers (#4674)

diff --git a/src/sentry/api/serializers/models/event.py b/src/sentry/api/serializers/models/event.py
index 4c18d18a09..f05b97519f 100644
--- a/src/sentry/api/serializers/models/event.py
+++ b/src/sentry/api/serializers/models/event.py
@@ -59,6 +59,11 @@ class EventSerializer(Serializer):
             sdk_interface = item.interfaces.get('sdk')
             if sdk_interface:
                 sdk_data = sdk_interface.get_api_context()
+                # we restrict SDK information to superusers due to the nature of
+                # privacy laws and IP sensitivity
+                # TODO(dcramer): make this respect 'enhanced privacy' org flag
+                if not user.is_superuser:
+                    sdk_data.pop('clientIP', None)
             else:
                 sdk_data = None
 
diff --git a/src/sentry/static/sentry/app/components/events/sdk.jsx b/src/sentry/static/sentry/app/components/events/sdk.jsx
index 3f926ad89c..80b05ce581 100644
--- a/src/sentry/static/sentry/app/components/events/sdk.jsx
+++ b/src/sentry/static/sentry/app/components/events/sdk.jsx
@@ -31,10 +31,12 @@ const EventSdk = React.createClass({
               <td className="key">Version</td>
               <td className="value"><pre>{data.version}</pre></td>
             </tr>
-            <tr key="clientIP">
-              <td className="key">Client IP</td>
-              <td className="value"><pre>{data.clientIP || 'n/a'}</pre></td>
-            </tr>
+            {data.clientIP &&
+              <tr key="clientIP">
+                <td className="key">Client IP</td>
+                <td className="value"><pre>{data.clientIP}</pre></td>
+              </tr>
+            }
           </tbody>
         </table>
       </GroupEventDataSection>
