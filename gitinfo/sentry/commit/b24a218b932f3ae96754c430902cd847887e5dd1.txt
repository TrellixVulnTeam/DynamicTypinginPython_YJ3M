commit b24a218b932f3ae96754c430902cd847887e5dd1
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Aug 2 14:15:33 2014 -0700

    handle timeout cancellation and correct utils usage

diff --git a/src/sentry/static/sentry/app/controllers/projectStream.js b/src/sentry/static/sentry/app/controllers/projectStream.js
index f3b4fb9084..1369923b73 100644
--- a/src/sentry/static/sentry/app/controllers/projectStream.js
+++ b/src/sentry/static/sentry/app/controllers/projectStream.js
@@ -9,9 +9,16 @@
     inject: ['Collection', 'selectedProject', '$http', '$scope', '$window', '$timeout'],
 
     init: function() {
+      var self = this;
+
       this.$scope.groupList = new this.Collection(this.$window.groupList);
+      this.timeoutId = null;
 
-      this.$timeout(this.pollForChanges, 1000);
+      this.timeoutId = window.setTimeout(this.pollForChanges, 1000);
+
+      this.$scope.$on('destroy', function(){
+        window.clearTimeout(self.timeoutId);
+      });
 
       this.setChartDuration('1d');
     },
@@ -30,12 +37,12 @@
         for (var i = 0; i < data.length; i++) {
           self.$scope.groupList.unshift(data[i]);
         }
-        utils.sortArray(self.$scope.groupList, function(item){
+        app.utils.sortArray(self.$scope.groupList, function(item){
           return [new Date(item.lastSeen).getTime()];
         }).splice(50);
 
       }).finally(function(){
-        self.$timeout(self.pollForChanges, 1000);
+        self.timeoutId = window.setTimeout(self.pollForChanges, 1000);
       });
     }
   });
