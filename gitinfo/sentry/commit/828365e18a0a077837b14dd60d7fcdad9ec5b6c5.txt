commit 828365e18a0a077837b14dd60d7fcdad9ec5b6c5
Author: Ted Kaemming <ted@kaemming.com>
Date:   Thu Oct 15 12:21:32 2015 -0700

    Add custom intervals to digest `IntervalBackoffStrategy`.

diff --git a/src/sentry/digests/backends/base.py b/src/sentry/digests/backends/base.py
index 2a051dc82c..35878cd3fa 100644
--- a/src/sentry/digests/backends/base.py
+++ b/src/sentry/digests/backends/base.py
@@ -14,6 +14,13 @@ def load(options):
 
 DEFAULT_BACKOFF = {
     'path': 'sentry.digests.backoff.IntervalBackoffStrategy',
+    'options': {
+        'default': 60 * 15,
+        'intervals': {
+            0: 30,
+            1: 60 * 5,
+        },
+    },
 }
 
 
diff --git a/src/sentry/digests/backoff.py b/src/sentry/digests/backoff.py
index 48fa3dd66f..1cfbb7c0aa 100644
--- a/src/sentry/digests/backoff.py
+++ b/src/sentry/digests/backoff.py
@@ -7,8 +7,9 @@ class BackoffStrategy(object):
 
 
 class IntervalBackoffStrategy(BackoffStrategy):
-    def __init__(self, interval=60):
-        self.interval = interval
+    def __init__(self, default=60, intervals=None):
+        self.default = default
+        self.intervals = intervals if intervals is not None else {}
 
     def __call__(self, iteration):
-        return self.interval
+        return self.intervals.get(iteration, self.default)
