commit d70dcc29c6fd8bc5521c1b353eb7cd863a188a8d
Author: Dan Fuller <dfuller@sentry.io>
Date:   Tue Nov 19 16:57:16 2019 -0800

    fix(api): Add `Creator` to `ArrayField` so that it still calls `to_python` on set
    
    `to_python` is no longer called in Django 1.10. We've fixed this in other fields with `Creator`,
    adding it to `ArrayField` too.

diff --git a/src/sentry/db/models/fields/array.py b/src/sentry/db/models/fields/array.py
index 771ecc5bcf..f90787ab1b 100644
--- a/src/sentry/db/models/fields/array.py
+++ b/src/sentry/db/models/fields/array.py
@@ -4,6 +4,7 @@ import six
 
 from django.db import models
 
+from sentry.db.models.utils import Creator
 from sentry.utils import json
 
 
@@ -24,6 +25,14 @@ class ArrayField(models.Field):
 
         super(ArrayField, self).__init__(**kwargs)
 
+    def contribute_to_class(self, cls, name):
+        """
+        Add a descriptor for backwards compatibility
+        with previous Django behavior.
+        """
+        super(ArrayField, self).contribute_to_class(cls, name)
+        setattr(cls, name, Creator(self))
+
     def db_type(self, connection):
         return u"{}[]".format(self.of.db_type(connection))
 
