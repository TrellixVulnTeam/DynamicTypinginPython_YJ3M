commit dc40807bfe6418b440504b97306aaceaee395552
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon Jan 6 10:48:58 2020 -0800

    fix(ts): Fix some styled component typings (#16263)
    
    These will be needed for emotion@10

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanBar.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanBar.tsx
index adde443dfa..5ffae2e25c 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/spanBar.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/spanBar.tsx
@@ -716,7 +716,7 @@ class SpanBar extends React.Component<SpanBarProps, SpanBarState> {
         >
           {displaySpanBar && (
             <SpanBarRectangle
-              spanBarHatch={spanBarHatch}
+              spanBarHatch={!!spanBarHatch}
               style={{
                 backgroundColor: spanBarColour,
                 left: toPercent(bounds.left || 0),
@@ -1000,7 +1000,7 @@ const getHatchPattern = ({spanBarHatch}) => {
   return null;
 };
 
-const SpanBarRectangle = styled('div')`
+const SpanBarRectangle = styled('div')<{spanBarHatch: boolean}>`
   position: relative;
   height: 100%;
   min-width: 1px;
diff --git a/src/sentry/static/sentry/app/components/forms/searchInput.tsx b/src/sentry/static/sentry/app/components/forms/searchInput.tsx
index bdff766be8..f1bc7def78 100644
--- a/src/sentry/static/sentry/app/components/forms/searchInput.tsx
+++ b/src/sentry/static/sentry/app/components/forms/searchInput.tsx
@@ -20,7 +20,7 @@ class SearchInput extends React.Component<Props> {
   render() {
     const {placeholder, value, onChange, smaller} = this.props;
     return (
-      <SearchWrapper smaller={smaller}>
+      <SearchWrapper smaller={!!smaller}>
         <SearchIcon />
         <SearchField placeholder={placeholder} value={value || ''} onChange={onChange} />
         {value && value.length > 0 && (
@@ -56,7 +56,7 @@ const SearchReset = styled(props => <InlineSvg src="icon-circle-close" {...props
   }
 `;
 
-const SearchWrapper = styled('div')<Partial<Props>>`
+const SearchWrapper = styled('div')<{smaller: boolean}>`
   position: relative;
   display: inline-block;
   ${SearchIcon} {
diff --git a/src/sentry/static/sentry/app/components/issueDiff.jsx b/src/sentry/static/sentry/app/components/issueDiff.jsx
index 4847f63f78..8f78ce9d3c 100644
--- a/src/sentry/static/sentry/app/components/issueDiff.jsx
+++ b/src/sentry/static/sentry/app/components/issueDiff.jsx
@@ -1,5 +1,6 @@
 import PropTypes from 'prop-types';
 import React from 'react';
+import isPropValid from '@emotion/is-prop-valid';
 import styled, {css} from 'react-emotion';
 
 import {addErrorMessage} from 'app/actionCreators/indicator';
@@ -106,7 +107,7 @@ const getLoadingStyle = p =>
     `) ||
   '';
 
-const StyledIssueDiff = styled('div')`
+const StyledIssueDiff = styled('div', {shouldForwardProp: isPropValid})`
   background-color: #f7f8f9;
   overflow: auto;
   padding: 10px;
diff --git a/src/sentry/static/sentry/app/components/issueSyncListElement.tsx b/src/sentry/static/sentry/app/components/issueSyncListElement.tsx
index 2c98d42364..e5d098b063 100644
--- a/src/sentry/static/sentry/app/components/issueSyncListElement.tsx
+++ b/src/sentry/static/sentry/app/components/issueSyncListElement.tsx
@@ -169,7 +169,7 @@ export const IntegrationLink = styled('a')`
   }
 `;
 
-export const OpenCloseIcon = styled(InlineSvg)`
+export const OpenCloseIcon = styled(InlineSvg)<{isLinked: boolean}>`
   height: ${space(1.5)};
   color: ${p => p.theme.gray4};
   transition: 0.2s transform;
@@ -177,7 +177,7 @@ export const OpenCloseIcon = styled(InlineSvg)`
   box-sizing: content-box;
   padding: ${space(1)};
   margin: -${space(1)};
-  ${(p: any) => (p.isLinked ? '' : 'transform: rotate(45deg) scale(0.9);')};
+  ${p => (p.isLinked ? '' : 'transform: rotate(45deg) scale(0.9);')};
 `;
 
 export default IssueSyncListElement;
diff --git a/src/sentry/static/sentry/app/components/sidebar/sidebarItem.jsx b/src/sentry/static/sentry/app/components/sidebar/sidebarItem.jsx
index c661cc6de9..35d24880b5 100644
--- a/src/sentry/static/sentry/app/components/sidebar/sidebarItem.jsx
+++ b/src/sentry/static/sentry/app/components/sidebar/sidebarItem.jsx
@@ -78,6 +78,7 @@ class SidebarItem extends React.Component {
       // TODO: this won't be necessary once we remove settingsHome
       (label === 'Settings' && location.pathname.startsWith('/settings/'));
 
+    const isActive = active || isActiveRouter;
     const isTop = orientation === 'top';
     const placement = isTop ? 'bottom' : 'right';
 
@@ -85,7 +86,7 @@ class SidebarItem extends React.Component {
       <Tooltip disabled={!collapsed} title={label} placement={placement}>
         <StyledSidebarItem
           data-test-id={this.props['data-test-id']}
-          active={active || isActiveRouter}
+          active={isActive ? 'true' : undefined}
           href={href}
           to={to}
           className={className}
@@ -131,7 +132,7 @@ const getActiveStyle = ({active, theme}) => {
   `;
 };
 
-const StyledSidebarItem = styled(({active: _, ...props}) => <Link {...props} />)`
+const StyledSidebarItem = styled(Link)`
   display: flex;
   color: inherit;
   position: relative;
diff --git a/src/sentry/static/sentry/app/views/incidents/details/header.tsx b/src/sentry/static/sentry/app/views/incidents/details/header.tsx
index ca719ff0ca..add4be482d 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/header.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/header.tsx
@@ -1,6 +1,7 @@
 import {Params} from 'react-router/lib/Router';
 import {Link} from 'react-router';
 import React from 'react';
+import isPropValid from '@emotion/is-prop-valid';
 import moment from 'moment';
 import styled from 'react-emotion';
 
@@ -205,7 +206,7 @@ const Breadcrumb = styled('div')`
   margin-bottom: ${space(1)};
 `;
 
-const IncidentTitle = styled('div')<{loading: boolean}>`
+const IncidentTitle = styled('div', {shouldForwardProp: isPropValid})<{loading: boolean}>`
   ${p => p.loading && 'opacity: 0'};
 `;
 
diff --git a/src/sentry/static/sentry/app/views/incidents/details/sideHeader.tsx b/src/sentry/static/sentry/app/views/incidents/details/sideHeader.tsx
index 45055a734e..f4bc6c5cff 100644
--- a/src/sentry/static/sentry/app/views/incidents/details/sideHeader.tsx
+++ b/src/sentry/static/sentry/app/views/incidents/details/sideHeader.tsx
@@ -1,4 +1,5 @@
 import React from 'react';
+import isPropValid from '@emotion/is-prop-valid';
 import styled from 'react-emotion';
 
 import space from 'app/styles/space';
@@ -22,7 +23,7 @@ const SideHeader = styled(function SideHeader({className, loading, children}: Pr
   text-transform: uppercase;
 `;
 
-const Title = styled('span')<{loading: boolean}>`
+const Title = styled('span', {shouldForwardProp: isPropValid})<{loading: boolean}>`
   ${p =>
     p.loading
       ? `
diff --git a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow.tsx b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow.tsx
index d973b629e7..dfacabae7a 100644
--- a/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow.tsx
+++ b/src/sentry/static/sentry/app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsTableRow.tsx
@@ -75,11 +75,11 @@ class GroupEventAttachmentsTableRow extends React.Component<Props> {
 }
 
 type TableRowProps = {isDeleted: boolean};
-const TableRow = styled('tr')`
-  opacity: ${(props: TableRowProps) => (props.isDeleted ? 0.3 : 1)};
+
+const TableRow = styled('tr')<TableRowProps>`
+  opacity: ${p => (p.isDeleted ? 0.3 : 1)};
   td {
-    text-decoration: ${(props: TableRowProps) =>
-      props.isDeleted ? 'line-through' : 'normal'};
+    text-decoration: ${p => (p.isDeleted ? 'line-through' : 'normal')};
   }
 `;
 
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
index e4b6d1efc9..226c445641 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/textCopyInput.jsx
@@ -10,9 +10,7 @@ import Button from 'app/components/button';
 import Clipboard from 'app/components/clipboard';
 import InlineSvg from 'app/components/inlineSvg';
 
-const StyledInput = styled(props => {
-  return <input {...props} />;
-})`
+const StyledInput = styled('input')`
   ${inputStyles};
   background-color: ${p => p.theme.offWhite};
   border-right-width: 0;
diff --git a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/subscriptionBox.tsx b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/subscriptionBox.tsx
index d5e182912d..9b22c7fec2 100644
--- a/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/subscriptionBox.tsx
+++ b/src/sentry/static/sentry/app/views/settings/organizationDeveloperSettings/subscriptionBox.tsx
@@ -93,7 +93,7 @@ const SubscriptionInfo = styled('div')`
   flex-direction: column;
 `;
 
-const SubscriptionGridItem = styled('div')`
+const SubscriptionGridItem = styled('div')<{disabled: boolean}>`
   display: flex;
   flex-direction: row;
   justify-content: space-between;
