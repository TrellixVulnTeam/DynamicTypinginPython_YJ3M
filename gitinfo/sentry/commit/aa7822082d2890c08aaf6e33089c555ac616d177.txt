commit aa7822082d2890c08aaf6e33089c555ac616d177
Author: Chris Clark <christopherchristopherclark@gmail.com>
Date:   Fri Apr 27 10:55:14 2018 -0700

    fix(ui): resolve scoping issue with dropdownButton in production css (#8188)
    
    * add one scope level to dropdownButton styles to prevent override when compiled css order changes in production
    
    * fix drop shadow which should in turn fix percy tests

diff --git a/src/sentry/static/sentry/app/components/dropdownButton.jsx b/src/sentry/static/sentry/app/components/dropdownButton.jsx
index 1d6c19cbc4..136d2ad888 100644
--- a/src/sentry/static/sentry/app/components/dropdownButton.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownButton.jsx
@@ -24,15 +24,17 @@ const StyledChevronDown = styled(props => (
 `;
 
 const StyledButton = styled(({isOpen, ...props}) => <Button {...props} />)`
-  border-bottom-right-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
-  border-bottom-left-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
-  position: relative;
-  z-index: 2;
-  box-shadow: none;
+  &.button {
+    border-bottom-right-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
+    border-bottom-left-radius: ${p => (p.isOpen ? 0 : p.theme.borderRadius)};
+    position: relative;
+    z-index: 2;
+    box-shadow: ${p => (p.isOpen ? 'none' : p.theme.dropShadowLight)};
 
-  &,
-  &:hover {
-    border-bottom-color: ${p => (p.isOpen ? 'transparent' : p.theme.borderDark)};
+    &,
+    &:hover {
+      border-bottom-color: ${p => (p.isOpen ? 'transparent' : p.theme.borderDark)};
+    }
   }
 `;
 
diff --git a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
index 1966b0d1d0..96fadf5e5a 100644
--- a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
@@ -110,17 +110,17 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                           size="xsmall"
                                         >
                                           <Component
-                                            className="css-ngzubs-StyledButton css-1pig06q1"
+                                            className="css-1jpufvo-StyledButton css-1txqzk1"
                                             isOpen={false}
                                             size="xsmall"
                                           >
                                             <Button
-                                              className="css-ngzubs-StyledButton css-1pig06q1"
+                                              className="css-1jpufvo-StyledButton css-1txqzk1"
                                               disabled={false}
                                               size="xsmall"
                                             >
                                               <button
-                                                className="css-ngzubs-StyledButton css-1pig06q1 button button-default button-xs"
+                                                className="css-1jpufvo-StyledButton css-1txqzk1 button button-default button-xs"
                                                 disabled={false}
                                                 onClick={[Function]}
                                                 role="button"
@@ -140,20 +140,20 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                                       Add Project
                                                       <StyledChevronDown>
                                                         <Component
-                                                          className="css-17v3tc-StyledChevronDown css-1pig06q0"
+                                                          className="css-17v3tc-StyledChevronDown css-1txqzk0"
                                                         >
                                                           <InlineSvg
-                                                            className="css-17v3tc-StyledChevronDown css-1pig06q0"
+                                                            className="css-17v3tc-StyledChevronDown css-1txqzk0"
                                                             src="icon-chevron-down"
                                                           >
                                                             <StyledSvg
-                                                              className="css-17v3tc-StyledChevronDown css-1pig06q0"
+                                                              className="css-17v3tc-StyledChevronDown css-1txqzk0"
                                                               height="1em"
                                                               viewBox={Object {}}
                                                               width="1em"
                                                             >
                                                               <svg
-                                                                className="css-1pig06q0 css-1vk3ljv-StyledSvg css-adkcw30"
+                                                                className="css-1txqzk0 css-1vk3ljv-StyledSvg css-adkcw30"
                                                                 height="1em"
                                                                 viewBox={Object {}}
                                                                 width="1em"
