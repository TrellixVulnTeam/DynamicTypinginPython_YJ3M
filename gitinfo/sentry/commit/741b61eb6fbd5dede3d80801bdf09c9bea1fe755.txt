commit 741b61eb6fbd5dede3d80801bdf09c9bea1fe755
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Dec 1 18:30:39 2015 -0800

    Test `sentry init` for directory branch

diff --git a/tests/sentry/runner/commands/test_init.py b/tests/sentry/runner/commands/test_init.py
index 2e673fe943..594be2c144 100644
--- a/tests/sentry/runner/commands/test_init.py
+++ b/tests/sentry/runner/commands/test_init.py
@@ -8,9 +8,11 @@ from sentry.runner.commands.init import init
 
 
 class InitTest(CliTestCase):
+    command = init
+
     def test_simple(self):
         with self.runner.isolated_filesystem():
-            rv = self.runner.invoke(init, ['config'], obj={})
+            rv = self.invoke('config')
             assert rv.exit_code == 0, rv.output
             contents = os.listdir('config')
             assert set(contents) == {'sentry.conf.py', 'config.yml'}
@@ -25,3 +27,7 @@ class InitTest(CliTestCase):
             with open('config/config.yml', 'rb') as fp:
                 ctx = safe_load(fp)
             assert 'system.secret-key' in ctx
+
+    def test_no_directory(self):
+        rv = self.invoke('sentry.conf.py')
+        assert rv.exit_code != 0, rv.output
