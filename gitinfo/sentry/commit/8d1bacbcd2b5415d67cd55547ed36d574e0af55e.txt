commit 8d1bacbcd2b5415d67cd55547ed36d574e0af55e
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Sun Feb 8 12:17:30 2015 -0800

    Ignore node_modules and bower_componets from js module name

diff --git a/src/sentry/tasks/fetch_source.py b/src/sentry/tasks/fetch_source.py
index df94613f9d..87ce887228 100644
--- a/src/sentry/tasks/fetch_source.py
+++ b/src/sentry/tasks/fetch_source.py
@@ -36,7 +36,7 @@ UNKNOWN_MODULE = '<unknown module>'
 CLEAN_MODULE_RE = re.compile(r"""^
 (?:/|  # Leading slashes
 (?:
-    (?:java)?scripts?|js|build|static|[_\.].*?|  # common folder prefixes
+    (?:java)?scripts?|js|build|static|node_modules|bower_components|[_\.].*?|  # common folder prefixes
     v?(?:\d+\.)*\d+|   # version numbers, v1, 1.0.0
     [a-f0-9]{7,8}|     # short sha
     [a-f0-9]{32}|      # md5
diff --git a/tests/sentry/tasks/fetch_source/tests.py b/tests/sentry/tasks/fetch_source/tests.py
index 6cee12f5f0..a10a02d7ae 100644
--- a/tests/sentry/tasks/fetch_source/tests.py
+++ b/tests/sentry/tasks/fetch_source/tests.py
@@ -207,6 +207,8 @@ class GenerateModuleTest(TestCase):
         assert generate_module('/foo/bar.js') == 'foo/bar'
         assert generate_module('../../foo/bar.js') == 'foo/bar'
         assert generate_module('/foo/bar-7d6d00eae0ceccdc7ee689659585d95f.js') == 'foo/bar'
+        assert generate_module('/bower_components/foo/bar.js') == 'foo/bar'
+        assert generate_module('/node_modules/foo/bar.js') == 'foo/bar'
 
 
 class FetchBase64SourcemapTest(TestCase):
