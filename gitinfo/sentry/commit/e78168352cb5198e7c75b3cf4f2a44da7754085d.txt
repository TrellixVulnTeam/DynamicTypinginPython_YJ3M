commit e78168352cb5198e7c75b3cf4f2a44da7754085d
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Feb 16 09:29:16 2018 -0800

    feat(ui): Change user nav dropdown to use new settings for internal (#7272)

diff --git a/src/sentry/static/sentry/app/components/sidebar/userNav.jsx b/src/sentry/static/sentry/app/components/sidebar/userNav.jsx
index 0fbde054df..5a26e265dc 100644
--- a/src/sentry/static/sentry/app/components/sidebar/userNav.jsx
+++ b/src/sentry/static/sentry/app/components/sidebar/userNav.jsx
@@ -9,6 +9,7 @@ import {t} from '../../locale';
 class UserNav extends React.Component {
   static contextTypes = {
     location: PropTypes.object,
+    organization: PropTypes.object,
   };
 
   shouldComponentUpdate(nextProps, nextState) {
@@ -17,6 +18,7 @@ class UserNav extends React.Component {
 
   render() {
     let user = ConfigStore.get('user');
+    let {organization} = this.context;
 
     if (!user) {
       // TODO
@@ -28,11 +30,22 @@ class UserNav extends React.Component {
     // "to" attribute => in-app router
     // "href" attribute => Django-powered views
     let to = url => (this.context.location ? {to: url} : {href: url});
+    // #NEW-SETTINGS
+    let hasNewSettings =
+      organization && organization.features.indexOf('new-settings') > -1;
 
     return (
       <DropdownLink topLevelClasses={this.props.className} title={title} caret={false}>
-        <MenuItem href="/account/settings/">{t('Account')}</MenuItem>
-        <MenuItem {...to('/api/')}>{t('API')}</MenuItem>
+        {hasNewSettings ? (
+          <MenuItem {...to('/settings/account/')}>{t('Account')}</MenuItem>
+        ) : (
+          <MenuItem href="/account/settings/">{t('Account')}</MenuItem>
+        )}
+        {hasNewSettings ? (
+          <MenuItem {...to('/settings/account/api/')}>{t('API')}</MenuItem>
+        ) : (
+          <MenuItem {...to('/api/')}>{t('API')}</MenuItem>
+        )}
         {user.isSuperuser && <MenuItem {...to('/manage/')}>{t('Admin')}</MenuItem>}
         <MenuItem href="/auth/logout/">{t('Sign out')}</MenuItem>
       </DropdownLink>
