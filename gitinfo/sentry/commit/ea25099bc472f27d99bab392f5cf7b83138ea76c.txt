commit ea25099bc472f27d99bab392f5cf7b83138ea76c
Author: Mark Story <mark@mark-story.com>
Date:   Wed Apr 24 09:41:00 2019 -0400

    fix(ui) Normalize dropshadow and border radius usage (#12847)
    
    Normalize the border radiuses, border colors and dropshadows so that we don't have
    a mixture of different shadow/radius styles on the same page.

diff --git a/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx b/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
index 6c8fe855ea..275ddf347b 100644
--- a/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownAutoCompleteMenu.jsx
@@ -633,6 +633,7 @@ const StyledMenu = styled('div')`
       .menu}; /* This is needed to be able to cover e.g. pagination buttons, but also be below dropdown actor button's zindex */
   right: 0;
   box-shadow: ${p => p.theme.dropShadowLight};
+  overflow: hidden;
 
   ${getMenuBorderRadius};
   ${({alignMenu}) => (alignMenu === 'left' ? 'left: 0;' : '')};
diff --git a/src/sentry/static/sentry/app/components/dropdownControl.jsx b/src/sentry/static/sentry/app/components/dropdownControl.jsx
index e0ba710fda..7895209032 100644
--- a/src/sentry/static/sentry/app/components/dropdownControl.jsx
+++ b/src/sentry/static/sentry/app/components/dropdownControl.jsx
@@ -4,7 +4,6 @@ import React from 'react';
 import styled from 'react-emotion';
 import DropdownButton from 'app/components/dropdownButton';
 import DropdownMenu from 'app/components/dropdownMenu';
-import space from 'app/styles/space';
 
 /*
  * A higher level dropdown component that helps with building complete dropdowns
@@ -92,15 +91,15 @@ const MenuContainer = styled.ul`
 
   position: absolute;
   top: ${p => p.menuOffset};
-  padding: 0 0 ${space(0.5)} 0;
+  padding: 0;
   margin: 0;
   z-index: ${p => p.theme.zIndex.dropdownAutocomplete.menu};
 
   background: ${p => p.theme.background};
-  border-radius: 0 0 ${p => p.theme.borderRadius} ${p => p.theme.borderRadius};
-  box-shadow: 0 1px 3px rgba(70, 82, 98, 0.25);
+  border-radius: ${p => p.theme.borderRadiusBottom};
+  box-shadow: ${p => p.theme.dropShadowLight};
   border: 1px solid ${p => p.theme.borderDark};
-  background-clip: padding-box;
+  overflow: hidden;
 
   display: ${p => (p.isOpen ? 'block' : 'none')};
 `;
diff --git a/src/sentry/static/sentry/app/components/organizations/multipleEnvironmentSelector.jsx b/src/sentry/static/sentry/app/components/organizations/multipleEnvironmentSelector.jsx
index a15328aced..148f3d9fd5 100644
--- a/src/sentry/static/sentry/app/components/organizations/multipleEnvironmentSelector.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/multipleEnvironmentSelector.jsx
@@ -286,11 +286,11 @@ const StyledInlineSvg = styled(InlineSvg)`
 
 const StyledDropdownAutoComplete = styled(DropdownAutoComplete)`
   background: #fff;
-  border: 1px solid ${p => p.theme.borderLight};
+  border: 1px solid ${p => p.theme.borderDark};
   position: absolute;
   top: 100%;
   box-shadow: ${p => p.theme.dropShadowLight};
-  border-radius: 0;
+  border-radius: ${p => p.theme.borderRadiusBottom};
   margin-top: 0;
   min-width: 120%;
 `;
diff --git a/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx b/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
index 5e5717af87..87732b04db 100644
--- a/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/multipleProjectSelector.jsx
@@ -195,7 +195,7 @@ export default class MultipleProjectSelector extends React.PureComponent {
 
 const StyledProjectSelector = styled(ProjectSelector)`
   margin: 1px 0 0 -1px;
-  border-radius: 0 0 4px 4px;
+  border-radius: ${p => p.theme.borderRadiusBottom};
   width: 110%;
 `;
 
diff --git a/src/sentry/static/sentry/app/components/organizations/timeRangeSelector/index.jsx b/src/sentry/static/sentry/app/components/organizations/timeRangeSelector/index.jsx
index 8b8af061b5..3f67bb2e2e 100644
--- a/src/sentry/static/sentry/app/components/organizations/timeRangeSelector/index.jsx
+++ b/src/sentry/static/sentry/app/components/organizations/timeRangeSelector/index.jsx
@@ -393,14 +393,15 @@ const Menu = styled('div')`
 
   display: flex;
   background: #fff;
-  border: 1px solid ${p => p.theme.borderLight};
+  border: 1px solid ${p => p.theme.borderDark};
   position: absolute;
   top: 100%;
   min-width: 120%;
   z-index: ${p => p.theme.zIndex.dropdown};
   box-shadow: ${p => p.theme.dropShadowLight};
-  border-radius: 0 0 ${p => p.theme.borderRadius} ${p => p.theme.borderRadius};
+  border-radius: ${p => p.theme.borderRadiusBottom};
   font-size: 0.8em;
+  overflow: hidden;
 `;
 
 const SelectorList = styled(({isAbsoluteSelected, ...props}) => <Flex {...props} />)`
diff --git a/src/sentry/static/sentry/app/components/smartSearchBar/searchDropdown.jsx b/src/sentry/static/sentry/app/components/smartSearchBar/searchDropdown.jsx
index 8414e21205..b0082c39f3 100644
--- a/src/sentry/static/sentry/app/components/smartSearchBar/searchDropdown.jsx
+++ b/src/sentry/static/sentry/app/components/smartSearchBar/searchDropdown.jsx
@@ -108,9 +108,9 @@ class SearchDropdown extends React.PureComponent {
 export default SearchDropdown;
 
 const StyledSearchDropdown = styled('div')`
-  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
-  border: 1px solid ${p => p.theme.borderLight};
-  border-radius: 0 0 4px 4px;
+  box-shadow: ${p => p.theme.dropShadowLight};
+  border: 1px solid ${p => p.theme.borderDark};
+  border-radius: ${p => p.theme.borderRadiusBottom};
   position: absolute;
   top: 38px;
   /* Container has a border that we need to account for */
diff --git a/src/sentry/static/sentry/app/utils/theme.jsx b/src/sentry/static/sentry/app/utils/theme.jsx
index 936bc8514c..2f32a68744 100644
--- a/src/sentry/static/sentry/app/utils/theme.jsx
+++ b/src/sentry/static/sentry/app/utils/theme.jsx
@@ -62,6 +62,7 @@ const theme = {
   borderLight: '#E2DBE8',
   borderDark: '#D1CAD8',
   borderRadius: '4px',
+  borderRadiusBottom: '0 0 4px 4px',
   headerSelectorRowHeight: 44,
 
   dropShadowLight: '0 2px 0 rgba(37, 11, 54, 0.04)',
diff --git a/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap b/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
index 5f6ca981be..327b10571b 100644
--- a/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/dropdownAutoCompleteMenu.spec.jsx.snap
@@ -65,7 +65,7 @@ exports[`DropdownAutoCompleteMenu renders with a group 1`] = `
               onMouseLeave={[Function]}
             >
               <div
-                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq8"
+                className="css-fob2sh-StyledMenu-getMenuBorderRadius ejumqxq8"
                 onClick={[Function]}
                 onMouseDown={[Function]}
                 onMouseEnter={[Function]}
@@ -244,7 +244,7 @@ exports[`DropdownAutoCompleteMenu renders without a group 1`] = `
               onMouseLeave={[Function]}
             >
               <div
-                className="css-1fwqu7l-StyledMenu-getMenuBorderRadius ejumqxq8"
+                className="css-fob2sh-StyledMenu-getMenuBorderRadius ejumqxq8"
                 onClick={[Function]}
                 onMouseDown={[Function]}
                 onMouseEnter={[Function]}
diff --git a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
index 049800585e..c690bab803 100644
--- a/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
+++ b/tests/js/spec/views/settings/organizationIntegrations/__snapshots__/sentryAppInstallations.spec.jsx.snap
@@ -276,6 +276,7 @@ exports[`Sentry App Installations when Apps exist displays all Apps owned by the
                                       "borderLight": "#E2DBE8",
                                       "borderLighter": "#f9f6fd",
                                       "borderRadius": "4px",
+                                      "borderRadiusBottom": "0 0 4px 4px",
                                       "breakpoints": Array [
                                         "768px",
                                         "992px",
@@ -545,6 +546,7 @@ exports[`Sentry App Installations when Apps exist displays all Apps owned by the
                                               "borderLight": "#E2DBE8",
                                               "borderLighter": "#f9f6fd",
                                               "borderRadius": "4px",
+                                              "borderRadiusBottom": "0 0 4px 4px",
                                               "breakpoints": Array [
                                                 "768px",
                                                 "992px",
