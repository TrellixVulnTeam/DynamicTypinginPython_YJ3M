commit 56c4129283ba832f33359c21b26f1383909339c7
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Sep 4 11:32:38 2015 -0700

    Add test covering empty stacktrace

diff --git a/tests/sentry/interfaces/test_exception.py b/tests/sentry/interfaces/test_exception.py
index e32d167088..2cea31886a 100644
--- a/tests/sentry/interfaces/test_exception.py
+++ b/tests/sentry/interfaces/test_exception.py
@@ -206,6 +206,14 @@ class SingleExceptionTest(TestCase):
             value='ValueError',
         ))
 
+    def test_throws_away_empty_stacktrace(self):
+        result = SingleException.to_python(dict(
+            type='ValueError',
+            value='foo',
+            stacktrace={'frames': []},
+        ))
+        assert not result.stacktrace
+
 
 class TrimExceptionsTest(TestCase):
     def test_under_max(self):
