commit 94c0a5a4316d11f31dbdd6b20258841927b0c157
Author: Billy Vong <billyvg@gmail.com>
Date:   Fri Aug 25 09:39:47 2017 -0700

    ui(component): <DynamicWrapper> for acceptance tests

diff --git a/docs-ui/components/dynamicWrapper.stories.js b/docs-ui/components/dynamicWrapper.stories.js
new file mode 100644
index 0000000000..761a24dc93
--- /dev/null
+++ b/docs-ui/components/dynamicWrapper.stories.js
@@ -0,0 +1,13 @@
+import React from 'react';
+import {storiesOf} from '@storybook/react';
+import {withInfo} from '@storybook/addon-info';
+// import {action} from '@storybook/addon-actions';
+
+import DynamicWrapper from 'sentry-ui/dynamicWrapper';
+
+storiesOf('DynamicWrapper', module).add(
+  'default',
+  withInfo(
+    'Use this to wrap dynamic content (i.e. dates) for acceptance/snapshot tests. Currently checks for existance of PERCY_TOKEN env var'
+  )(() => <DynamicWrapper fixed="Fixed Content" value={new Date()} />)
+);
diff --git a/src/sentry/static/sentry/app/components/dynamicWrapper.jsx b/src/sentry/static/sentry/app/components/dynamicWrapper.jsx
new file mode 100644
index 0000000000..a327db4fed
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/dynamicWrapper.jsx
@@ -0,0 +1,25 @@
+/* global process */
+// eslint-disable-next-line no-unused-vars
+import React, {PropTypes} from 'react';
+
+const DynamicWrapper = ({fixed, value, ...otherProps}) => {
+  // Wrap with span b/c react
+  return (
+    <span {...otherProps}>
+      {process.env.IS_PERCY ? fixed : value}
+    </span>
+  );
+};
+
+DynamicWrapper.propTypes = {
+  /**
+   * Value to display when `process.env.IS_PERCY` is truthy
+   */
+  fixed: PropTypes.string.isRequired,
+  /**
+   * Actual value to use when not in a test environment
+   */
+  value: PropTypes.string.isRequired
+};
+
+export default DynamicWrapper;
diff --git a/tests/js/spec/components/__snapshots__/dynamicWrapper.spec.jsx.snap b/tests/js/spec/components/__snapshots__/dynamicWrapper.spec.jsx.snap
new file mode 100644
index 0000000000..998682faf2
--- /dev/null
+++ b/tests/js/spec/components/__snapshots__/dynamicWrapper.spec.jsx.snap
@@ -0,0 +1,13 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`DynamicWrapper renders actual value 1`] = `
+<span>
+  Dynamic Content
+</span>
+`;
+
+exports[`DynamicWrapper renders fixed content when \`process.env.IS_PERCY\` is true 1`] = `
+<span>
+  Test
+</span>
+`;
diff --git a/tests/js/spec/components/dynamicWrapper.spec.jsx b/tests/js/spec/components/dynamicWrapper.spec.jsx
new file mode 100644
index 0000000000..d059ba5766
--- /dev/null
+++ b/tests/js/spec/components/dynamicWrapper.spec.jsx
@@ -0,0 +1,27 @@
+import React from 'react';
+import {shallow} from 'enzyme';
+import DynamicWrapper from 'app/components/dynamicWrapper';
+
+describe('DynamicWrapper', function() {
+  beforeEach(function() {
+    this.sandbox = sinon.sandbox.create();
+  });
+
+  afterEach(function() {
+    this.sandbox.restore();
+  });
+
+  it('renders actual value', function() {
+    let wrapper = shallow(<DynamicWrapper fixed="Test" value="Dynamic Content" />);
+    expect(wrapper).toMatchSnapshot();
+  });
+
+  it('renders fixed content when `process.env.IS_PERCY` is true', function() {
+    // eslint-disable-next-line no-undef
+    process.env.IS_PERCY = true;
+    let wrapper = shallow(<DynamicWrapper fixed="Test" value="Dynamic Content" />);
+    expect(wrapper).toMatchSnapshot();
+    // eslint-disable-next-line no-undef
+    process.env.IS_PERCY = null;
+  });
+});
