commit 08d7c0ccf9e9fe92147d18c1fdcad1832532e264
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed May 9 17:03:27 2018 -0700

    fix(api): Add request.organization to other bases

diff --git a/src/sentry/api/bases/group.py b/src/sentry/api/bases/group.py
index fe9b579163..90df3fdcd2 100644
--- a/src/sentry/api/bases/group.py
+++ b/src/sentry/api/bases/group.py
@@ -44,7 +44,7 @@ class GroupEndpoint(Endpoint):
         try:
             group, _ = get_group_with_redirect(
                 issue_id,
-                queryset=Group.objects.select_related('project'),
+                queryset=Group.objects.select_related('project', 'project__organization'),
             )
         except Group.DoesNotExist:
             raise ResourceDoesNotExist
@@ -61,6 +61,8 @@ class GroupEndpoint(Endpoint):
         if group.status in EXCLUDED_STATUSES:
             raise ResourceDoesNotExist
 
+        request._request.organization = group.project.organization
+
         kwargs['group'] = group
 
         return (args, kwargs)
diff --git a/src/sentry/api/bases/organization.py b/src/sentry/api/bases/organization.py
index fa0e08c83a..bd755634bd 100644
--- a/src/sentry/api/bases/organization.py
+++ b/src/sentry/api/bases/organization.py
@@ -146,7 +146,7 @@ class OrganizationEndpoint(Endpoint):
             'organization': organization.id,
         })
 
-        request.organization = organization
+        request._request.organization = organization
 
         kwargs['organization'] = organization
         return (args, kwargs)
diff --git a/src/sentry/api/bases/project.py b/src/sentry/api/bases/project.py
index 314bf65fae..5f12fe8afc 100644
--- a/src/sentry/api/bases/project.py
+++ b/src/sentry/api/bases/project.py
@@ -126,5 +126,7 @@ class ProjectEndpoint(Endpoint):
             'organization': project.organization_id,
         })
 
+        request._request.organization = project.organization
+
         kwargs['project'] = project
         return (args, kwargs)
diff --git a/src/sentry/api/bases/team.py b/src/sentry/api/bases/team.py
index d0c7507a56..ae8503ca43 100644
--- a/src/sentry/api/bases/team.py
+++ b/src/sentry/api/bases/team.py
@@ -51,5 +51,7 @@ class TeamEndpoint(Endpoint):
             'organization': team.organization_id,
         })
 
+        request._request.organization = team.organization
+
         kwargs['team'] = team
         return (args, kwargs)
