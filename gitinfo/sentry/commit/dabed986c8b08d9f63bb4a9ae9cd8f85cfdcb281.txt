commit dabed986c8b08d9f63bb4a9ae9cd8f85cfdcb281
Author: Ben Vinegar <ben@benv.ca>
Date:   Mon Aug 24 16:01:56 2015 -0700

    Apply user tz preference in client app (fixes #1825)

diff --git a/package.json b/package.json
index e9222d1db5..eb71cce2fd 100644
--- a/package.json
+++ b/package.json
@@ -18,9 +18,11 @@
     "gulp-watch": "^3.0.0",
     "jquery": "^2.1.3",
     "jshint": "~2.5.0",
+    "json-loader": "^0.5.2",
     "jsxhint": "^0.9.0",
     "less": "1.7.0",
     "moment": "^2.10.5",
+    "moment-timezone": "^0.4.0",
     "node-libs-browser": "^0.5.2",
     "raven-js": "^1.1.19",
     "react": "^0.13.3",
diff --git a/src/sentry/static/sentry/app/components/dateTime.jsx b/src/sentry/static/sentry/app/components/dateTime.jsx
index f5f27488a4..2bf26dcc14 100644
--- a/src/sentry/static/sentry/app/components/dateTime.jsx
+++ b/src/sentry/static/sentry/app/components/dateTime.jsx
@@ -14,7 +14,7 @@ var DateTime = React.createClass({
     }
 
     return (
-      <time>{moment.utc(date).local().format('LLL z')}</time>
+      <time>{moment(date).format('LLL z')}</time>
     );
   }
 });
diff --git a/src/sentry/static/sentry/app/components/timeSince.jsx b/src/sentry/static/sentry/app/components/timeSince.jsx
index 95d4e4e0d6..dc9497381e 100644
--- a/src/sentry/static/sentry/app/components/timeSince.jsx
+++ b/src/sentry/static/sentry/app/components/timeSince.jsx
@@ -43,7 +43,7 @@ var TimeSince = React.createClass({
     }
 
     return (
-      <time>{moment.utc(date).fromNow(true)} {this.props.suffix || ''}</time>
+      <time>{moment(date).fromNow(true)} {this.props.suffix || ''}</time>
     );
   }
 });
diff --git a/src/sentry/static/sentry/app/views/app.jsx b/src/sentry/static/sentry/app/views/app.jsx
index c82dbc3a45..32b451c7a5 100644
--- a/src/sentry/static/sentry/app/views/app.jsx
+++ b/src/sentry/static/sentry/app/views/app.jsx
@@ -1,5 +1,6 @@
 import React from "react";
 import api from "../api";
+import moment from "moment-timezone";
 import Alerts from "../components/alerts";
 import AlertActions from "../actions/alertActions.jsx";
 import ConfigStore from "../stores/configStore";
@@ -24,6 +25,10 @@ var App = React.createClass({
   componentWillMount() {
     ConfigStore.loadInitialData(this.props.config);
 
+    // Configure global timezone
+    var user = ConfigStore.get('user');
+    moment.tz.setDefault(user.options.timezone);
+
     api.request('/organizations/', {
       success: (data) => {
         OrganizationStore.load(data);
diff --git a/src/sentry/static/sentry/app/views/groupDetails/eventHeader.jsx b/src/sentry/static/sentry/app/views/groupDetails/eventHeader.jsx
index 84450200c7..999534c13d 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/eventHeader.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/eventHeader.jsx
@@ -27,7 +27,7 @@ var GroupEventHeader = React.createClass({
           Older Sample <span className="icon-arrow-right"></span>
         </a>
         <h4>
-          <time>{moment.utc(event.dateCreated).format('lll')}</time>
+          <time>{moment(event.dateCreated).format('lll')}</time>
           <span>[<FileSize bytes={event.size} />]</span>
           <div>
             <small>ID: {event.eventID}</small>
diff --git a/webpack.config.js b/webpack.config.js
index de6e587fa7..bd821e37e2 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -39,6 +39,10 @@ var config = {
         loader: "babel-loader",
         include: path.join(__dirname, staticPrefix),
         exclude: /(vendor|node_modules)/
+      },
+      {
+        include: /\.json$/,
+        loader: "json-loader"
       }
     ]
   },
