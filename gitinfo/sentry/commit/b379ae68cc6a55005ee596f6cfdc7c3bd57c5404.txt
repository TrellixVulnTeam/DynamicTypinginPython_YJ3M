commit b379ae68cc6a55005ee596f6cfdc7c3bd57c5404
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Jul 6 14:11:15 2016 -0700

    Wrap migration 0183 in transaction (#3655)

diff --git a/src/sentry/south_migrations/0183_auto__del_index_grouphash_hash.py b/src/sentry/south_migrations/0183_auto__del_index_grouphash_hash.py
index 828c22b138..e8b0605f73 100644
--- a/src/sentry/south_migrations/0183_auto__del_index_grouphash_hash.py
+++ b/src/sentry/south_migrations/0183_auto__del_index_grouphash_hash.py
@@ -2,17 +2,20 @@
 from south.utils import datetime_utils as datetime
 from south.db import db
 from south.v2 import SchemaMigration
-from django.db import models
+from django.db import models, transaction
+from sentry.utils.db import is_postgres
 
 
 class Migration(SchemaMigration):
 
     def forwards(self, orm):
         # Removing index on 'GroupHash', fields ['hash']
-        try:
-            db.delete_index(u'sentry_grouphash', ['hash'])
-        except Exception:
-            pass
+        if is_postgres():
+            try:
+                with transaction.atomic():
+                    db.delete_index(u'sentry_grouphash', ['hash'])
+            except Exception:
+                pass
 
 
     def backwards(self, orm):
