commit 88aa2281b033acfd408d5b02816720f74550fbb4
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 27 13:14:55 2016 -0700

    Add device data for javascript

diff --git a/src/sentry/lang/javascript/plugin.py b/src/sentry/lang/javascript/plugin.py
index ad5e0c1e71..2dda5d9474 100644
--- a/src/sentry/lang/javascript/plugin.py
+++ b/src/sentry/lang/javascript/plugin.py
@@ -50,6 +50,8 @@ def parse_user_agent(data):
 def inject_browser_context(data, user_agent):
     ua = user_agent['user_agent']
     try:
+        if ua['family'] == 'Other':
+            return
         data['contexts']['browser'] = {
             'name': ua['family'],
             'version': '.'.join(value for value in [
@@ -64,6 +66,8 @@ def inject_browser_context(data, user_agent):
 def inject_os_context(data, user_agent):
     ua = user_agent['os']
     try:
+        if ua['family'] == 'Other':
+            return
         data['contexts']['os'] = {
             'name': ua['family'],
             'version': '.'.join(value for value in [
@@ -76,6 +80,20 @@ def inject_os_context(data, user_agent):
         pass
 
 
+def inject_device_context(data, user_agent):
+    ua = user_agent['device']
+    try:
+        if ua['family'] == 'Other':
+            return
+        data['contexts']['device'] = {
+            'family': ua['family'],
+            'model': ua['model'],
+            'brand': ua['brand'],
+        }
+    except KeyError:
+        pass
+
+
 def inject_device_data(data):
     user_agent = parse_user_agent(data)
     if not user_agent:
@@ -85,6 +103,7 @@ def inject_device_data(data):
 
     inject_browser_context(data, user_agent)
     inject_os_context(data, user_agent)
+    inject_device_context(data, user_agent)
 
 
 class JavascriptPlugin(Plugin2):
