commit 6be78203ba004e655430028643230c5a0062a266
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Thu Nov 29 15:38:25 2018 -0800

    fix(ui): Fix bug with clearing event issue search bar (#10846)
    
    Fixes ISSUE-232

diff --git a/src/sentry/static/sentry/app/views/groupEvents.jsx b/src/sentry/static/sentry/app/views/groupEvents.jsx
index 425d7b4618..6baec0dead 100644
--- a/src/sentry/static/sentry/app/views/groupEvents.jsx
+++ b/src/sentry/static/sentry/app/views/groupEvents.jsx
@@ -104,7 +104,7 @@ const GroupEvents = createReactClass({
 
     query = getQueryStringWithoutEnvironment(query);
     let targetQueryParams = {...this.props.location.query};
-    if (query !== '') targetQueryParams.query = query;
+    targetQueryParams.query = query;
     let {groupId, orgId, projectId} = this.props.params;
 
     browserHistory.push({
diff --git a/tests/js/spec/views/groupEvents.spec.jsx b/tests/js/spec/views/groupEvents.spec.jsx
index 6f03276f05..9348f731b9 100644
--- a/tests/js/spec/views/groupEvents.spec.jsx
+++ b/tests/js/spec/views/groupEvents.spec.jsx
@@ -47,16 +47,16 @@ describe('groupEvents', function() {
     );
 
     const list = [
-      {searchTerm: '', expectedQuery: {}},
-      {searchTerm: 'test', expectedQuery: {query: 'test'}},
-      {searchTerm: 'environment:production test', expectedQuery: {query: 'test'}},
+      {searchTerm: '', expectedQuery: ''},
+      {searchTerm: 'test', expectedQuery: 'test'},
+      {searchTerm: 'environment:production test', expectedQuery: 'test'},
     ];
 
     list.forEach(item => {
       component.instance().handleSearch(item.searchTerm);
       expect(browserHistory.push).toHaveBeenCalledWith(
         expect.objectContaining({
-          query: item.expectedQuery,
+          query: {query: item.expectedQuery},
         })
       );
     });
