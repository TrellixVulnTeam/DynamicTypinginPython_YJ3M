commit 8e86e8978a0423e09a13daa4e8d4ca68631b9d8e
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Sep 20 15:22:19 2010 -0700

    Add logout pane

diff --git a/sentry/media/styles/global.css b/sentry/media/styles/global.css
index 3c04b81f57..6b741fc28d 100644
--- a/sentry/media/styles/global.css
+++ b/sentry/media/styles/global.css
@@ -41,6 +41,7 @@ ul { margin: 1em 0 1em 2em; }
 }
 
 #header .container {
+    position: relative;
     padding: 1em 2em;
     max-width: 1550px;
 }
@@ -50,6 +51,21 @@ ul { margin: 1em 0 1em 2em; }
     right: 45px;
     top: 20px;
 }
+
+#account {
+    position: absolute;
+    right: 1em;
+    top: 1.8em;
+    color: #fff;
+}
+
+.nav {
+    list-style: none;
+    margin: 0;
+    padding: 0;
+}
+.nav a { color: inherit; }
+
 .sentry-logo {
 	display: inline-block;
 	font-weight: normal;
diff --git a/sentry/templates/sentry/index.html b/sentry/templates/sentry/index.html
index 7d83c10468..1633f6230c 100644
--- a/sentry/templates/sentry/index.html
+++ b/sentry/templates/sentry/index.html
@@ -22,6 +22,11 @@
 			<div class="container">
 				<h1><a href="{% url sentry %}"><span class="sentry-logo" title="Django Sentry"><img src="{% url sentry-media "images/sentry.png" %}" border=0/></span></a></h1>
 				<h2>Dashboard</h2>
+				<ul class="nav" id="account">
+					{% if request.user.is_authenticated %}
+						<li><a href="{% url sentry-logout %}">Logout</a>
+					{% endif %}
+				</ul>
 			</div>
 		</div> 
 		<div id="content">
diff --git a/sentry/urls.py b/sentry/urls.py
index 9748814e36..8c6ca5a056 100644
--- a/sentry/urls.py
+++ b/sentry/urls.py
@@ -26,6 +26,7 @@ urlpatterns = patterns('',
     # Normal views
 
     url(r'^login$', views.login, name='sentry-login'),
+    url(r'^logout$', views.logout, name='sentry-logout'),
     url(r'^group/(\d+)$', views.group, name='sentry-group'),
 
     url(r'^$', views.index, name='sentry'),
diff --git a/sentry/views.py b/sentry/views.py
index 9e992c370c..1f29a19321 100644
--- a/sentry/views.py
+++ b/sentry/views.py
@@ -89,6 +89,13 @@ def login(request):
     context.update(csrf(request))
     return render_to_response('sentry/login.html', locals(), )
 
+def logout(request):
+    from django.contrib.auth import logout
+    
+    logout(request)
+    
+    return HttpResponseRedirect(reverse('sentry'))
+
 @login_required
 def index(request):
     filters = []
