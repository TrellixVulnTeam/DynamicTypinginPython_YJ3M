commit d8b39af61f30e0dc99cd4fc584dc6e0e257ed574
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Apr 16 21:42:37 2015 -0700

    Various tweaks to admin

diff --git a/src/sentry/templates/sentry/admin/stats.html b/src/sentry/templates/sentry/admin/stats.html
index 14a996e7b5..f127f754ed 100644
--- a/src/sentry/templates/sentry/admin/stats.html
+++ b/src/sentry/templates/sentry/admin/stats.html
@@ -1,27 +1,31 @@
 {% extends "sentry/bases/admin.html" %}
 
-{% block admin-nav-stats %} class="active"{% endblock %}
+{% block admin-nav-overview %} class="active"{% endblock %}
 
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block title %}{% trans "Stats" %} | {{ block.super }}{% endblock %}
+{% block title %}{% trans "Overview" %} | {{ block.super }}{% endblock %}
 
 {% block inner %}
-    <div class="page-header">
-        <h2>{% trans "Statistics" %}</h2>
+  <div class="page-header">
+    <h2>{% trans "System Overview" %}</h2>
+  </div>
+
+  <div class="row">
+    <div class="span6">
+      <h3>Total Events</h3>
+      <div class="chart" data-api-url="{% url 'sentry-api-0-internal-stats' %}?key=events.total"></div>
+    </div>
+    <div class="span6">
+      <h3>Dropped Events</h3>
+      <div class="chart" data-api-url="{% url 'sentry-api-0-internal-stats' %}?key=events.dropped"></div>
     </div>
-    <table class="table vars table-bordered table-striped">
-        <colgroup>
-            <col style="width:220px">
-        </colgroup>
-        <tbody>
-            {% for key, value in statistics %}
-                <tr>
-                    <td>{{ key }}</td>
-                    <td>{{ value }}</td>
-                </tr>
-            {% endfor %}
-        </tbody>
-    </table>
+  </div>
+
+  <script>
+    $('.chart').height('150px').each(function(){
+      Sentry.charts.render(this);
+    });
+  </script>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/bases/admin.html b/src/sentry/templates/sentry/bases/admin.html
index 12ecd2e730..6de412ca63 100644
--- a/src/sentry/templates/sentry/bases/admin.html
+++ b/src/sentry/templates/sentry/bases/admin.html
@@ -1,6 +1,7 @@
 {% extends "sentry/layout.html" %}
 
 {% load i18n %}
+{% load sentry_helpers %}
 
 {% block title %}{% trans "Admin" %} | {{ block.super }}{% endblock %}
 
@@ -12,14 +13,19 @@
 {% endblock %}
 
 {% block sidebar %}
-    <h6>{% trans "Overview" %}</h6>
+    <h6>{% trans "General" %}</h6>
+    <ul class="nav nav-tabs nav-stacked">
+        <li{% block admin-nav-overview %}{% endblock %}><a href="{% url 'sentry-admin-overview' %}">{% trans "Overview" %}</a></li>
+    </ul>
+
+    <h6>{% trans "Manage" %}</h6>
     <ul class="nav nav-tabs nav-stacked">
         <li{% block admin-nav-teams %}{% endblock %}><a href="{% url 'sentry-admin-teams' %}">{% trans "Teams" %}</a></li>
         <li{% block admin-nav-projects %}{% endblock %}><a href="{% url 'sentry-admin-projects' %}">{% trans "Projects" %}</a></li>
         <li{% block admin-nav-users %}{% endblock %}><a href="{% url 'sentry-admin-users' %}">{% trans "Users" %}</a></li>
     </ul>
 
-    {% with PLUGINS.for_site as plugins %}
+    {% with plugins=PLUGINS.for_site|as_sorted %}
         {% if plugins %}
             <h6>{% trans "Plugins" %}</h6>
             <ul class="nav nav-tabs nav-stacked">
@@ -32,16 +38,12 @@
         {% endif %}
     {% endwith %}
 
-    <h6>{% trans "Server Status" %}</h6>
+    <h6>{% trans "System" %}</h6>
     <ul class="nav nav-tabs nav-stacked">
         <li{% block admin-nav-status %}{% endblock %}><a href="{% url 'sentry-admin-status' %}">{% trans "Environment" %}</a></li>
         <li{% block admin-nav-packages %}{% endblock %}><a href="{% url 'sentry-admin-packages-status' %}">{% trans "Packages" %}</a></li>
         <li{% block admin-nav-mail %}{% endblock %}><a href="{% url 'sentry-admin-mail-status' %}">{% trans "Mail" %}</a></li>
     </ul>
-    <h6>{% trans "Statistics" %}</h6>
-    <ul class="nav nav-tabs nav-stacked">
-        <li{% block admin-nav-stats %}{% endblock %}><a href="{% url 'sentry-admin-stats' %}">{% trans "Overview" %}</a></li>
-    </ul>
 {% endblock %}
 
 {% block main %}
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index fb8fb4db3f..3443af7229 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -161,7 +161,7 @@
                                             <ul class="dropdown-menu">
                                                 <li><a href="{% url 'sentry-account-settings' %}">{% trans "Account" %}</a></li>
                                                 {% if request.user.is_staff %}
-                                                    <li><a href="{% url 'sentry-admin-status' %}">{% trans "Admin" %}</a></li>
+                                                    <li><a href="{% url 'sentry-admin-overview' %}">{% trans "Admin" %}</a></li>
                                                 {% endif %}
                                                 <li class="divider">
                                                 <li><a href="{% url 'sentry-logout' %}">{% trans "Logout" %}</a></li>
diff --git a/src/sentry/web/frontend/admin.py b/src/sentry/web/frontend/admin.py
index 0622d7425a..6d102a3028 100644
--- a/src/sentry/web/frontend/admin.py
+++ b/src/sentry/web/frontend/admin.py
@@ -355,7 +355,7 @@ def status_mail(request):
 
 
 @requires_admin
-def stats(request):
+def overview(request):
     new_projects = Project.objects.filter(
         date_added__gte=timezone.now() - datetime.timedelta(hours=24),
     ).count()
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index 780ad9801f..d3e73a7db6 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -151,6 +151,40 @@ urlpatterns += patterns('',
     url(r'^docs/platforms/(?P<platform>[^\/]+)/$', HelpPlatformDetailsView.as_view(),
         name='sentry-help-platform'),
 
+    # Admin
+    url(r'^manage/$', admin.overview,
+        name='sentry-admin-overview'),
+    url(r'^manage/status/environment/$', admin.status_env,
+        name='sentry-admin-status'),
+    url(r'^manage/status/packages/$', admin.status_packages,
+        name='sentry-admin-packages-status'),
+    url(r'^manage/status/mail/$', admin.status_mail,
+        name='sentry-admin-mail-status'),
+
+    # Admin - Teams
+    url(r'^manage/teams/$', admin.manage_teams,
+        name='sentry-admin-teams'),
+
+    # Admin - Projects
+    url(r'^manage/projects/$', admin.manage_projects,
+        name='sentry-admin-projects'),
+
+    # Admin - Users
+    url(r'^manage/users/$', admin.manage_users,
+        name='sentry-admin-users'),
+    url(r'^manage/users/new/$', admin.create_new_user,
+        name='sentry-admin-new-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/$', admin.edit_user,
+        name='sentry-admin-edit-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/remove/$', admin.remove_user,
+        name='sentry-admin-remove-user'),
+    url(r'^manage/users/(?P<user_id>\d+)/projects/$', admin.list_user_projects,
+        name='sentry-admin-list-user-projects'),
+
+    # Admin - Plugins
+    url(r'^manage/plugins/(?P<slug>[\w_-]+)/$', admin.configure_plugin,
+        name='sentry-admin-configure-plugin'),
+
     # Organizations
     url(r'^(?P<organization_slug>[\w_-]+)/$', OrganizationHomeView.as_view(),
         name='sentry-organization-home'),
@@ -261,40 +295,6 @@ urlpatterns += patterns('',
     url(r'^$', HomeView.as_view(),
         name='sentry'),
 
-    # Admin
-    url(r'^manage/status/$', admin.status_env,
-        name='sentry-admin-status'),
-    url(r'^manage/status/packages/$', admin.status_packages,
-        name='sentry-admin-packages-status'),
-    url(r'^manage/status/mail/$', admin.status_mail,
-        name='sentry-admin-mail-status'),
-    url(r'^manage/stats/$', admin.stats,
-        name='sentry-admin-stats'),
-
-    # Admin - Teams
-    url(r'^manage/teams/$', admin.manage_teams,
-        name='sentry-admin-teams'),
-
-    # Admin - Projects
-    url(r'^manage/projects/$', admin.manage_projects,
-        name='sentry-admin-projects'),
-
-    # Admin - Users
-    url(r'^manage/users/$', admin.manage_users,
-        name='sentry-admin-users'),
-    url(r'^manage/users/new/$', admin.create_new_user,
-        name='sentry-admin-new-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/$', admin.edit_user,
-        name='sentry-admin-edit-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/remove/$', admin.remove_user,
-        name='sentry-admin-remove-user'),
-    url(r'^manage/users/(?P<user_id>\d+)/projects/$', admin.list_user_projects,
-        name='sentry-admin-list-user-projects'),
-
-    # Admin - Plugins
-    url(r'^manage/plugins/(?P<slug>[\w_-]+)/$', admin.configure_plugin,
-        name='sentry-admin-configure-plugin'),
-
     # crossdomain.xml
     url(r'^crossdomain\.xml$', api.crossdomain_xml_index,
         name='sentry-api-crossdomain-xml-index'),
