commit d8d3bbb5e68957fe88afdabb506d050ea273b8b9
Author: Mark Story <mark@sentry.io>
Date:   Mon Jul 15 14:44:55 2019 -0400

    ref(ui) Remove org prefix from projects dashboard (#14008)
    
    We don't need a prefix now that there is only one project dashboard.
    I've also fixed a duplicate key warning that was being emitted when
    a release had been deployed to more than one environment.
    
    Fixes SEN-748

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index e8f06f57db..6e84517455 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -875,7 +875,7 @@ function routes() {
         <Route component={errorHandler(OrganizationRoot)}>
           <IndexRoute
             componentPromise={() =>
-              import(/* webpackChunkName: "OrganizationProjectsDashboard" */ './views/organizationProjectsDashboard')
+              import(/* webpackChunkName: "ProjectsDashboard" */ './views/projectsDashboard')
             }
             component={errorHandler(LazyLoad)}
           />
@@ -883,7 +883,7 @@ function routes() {
           <Route
             path="/organizations/:orgId/projects/"
             componentPromise={() =>
-              import(/* webpackChunkName: "OrganizationProjectsDashboard" */ './views/organizationProjectsDashboard')
+              import(/* webpackChunkName: "ProjectsDashboard" */ './views/projectsDashboard')
             }
             component={errorHandler(LazyLoad)}
           />
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/chart.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/chart.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/chart.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/chart.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/deploys.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/deploys.jsx
similarity index 98%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/deploys.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/deploys.jsx
index 7f874c0b97..86a31f3644 100644
--- a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/deploys.jsx
+++ b/src/sentry/static/sentry/app/views/projectsDashboard/deploys.jsx
@@ -37,7 +37,7 @@ export default class Deploys extends React.Component {
         <DeployBox p={2} pt={1}>
           {deploys.map(deploy => (
             <Deploy
-              key={deploy.version}
+              key={`${deploy.environment}-${deploy.version}`}
               deploy={deploy}
               project={project}
               organization={organization}
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/index.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/index.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/index.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/index.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/newIssues.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/newIssues.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/newIssues.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/newIssues.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/noEvents.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/noEvents.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/noEvents.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/noEvents.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/projectCard.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/projectCard.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/projectCard.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/projectCard.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/resources.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/resources.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/resources.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/resources.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/teamMembers.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/teamMembers.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/teamMembers.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/teamMembers.jsx
diff --git a/src/sentry/static/sentry/app/views/organizationProjectsDashboard/teamSection.jsx b/src/sentry/static/sentry/app/views/projectsDashboard/teamSection.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/organizationProjectsDashboard/teamSection.jsx
rename to src/sentry/static/sentry/app/views/projectsDashboard/teamSection.jsx
diff --git a/tests/js/spec/views/organizationProjectsDashboard/__snapshots__/projectCard.spec.jsx.snap b/tests/js/spec/views/organizationProjectsDashboard/__snapshots__/projectCard.spec.jsx.snap
index 0beea1e6e6..54fdcd1197 100644
--- a/tests/js/spec/views/organizationProjectsDashboard/__snapshots__/projectCard.spec.jsx.snap
+++ b/tests/js/spec/views/organizationProjectsDashboard/__snapshots__/projectCard.spec.jsx.snap
@@ -71,7 +71,7 @@ exports[`ProjectCard renders 1`] = `
     }
   >
     <Base
-      className="css-3jemnr-ProjectCardWrapper ei886av2"
+      className="css-3jemnr-ProjectCardWrapper e1o95it02"
       data-test-id="project-slug"
       width={
         Array [
@@ -83,17 +83,17 @@ exports[`ProjectCard renders 1`] = `
       }
     >
       <div
-        className="css-3jemnr-ProjectCardWrapper ei886av2"
+        className="css-3jemnr-ProjectCardWrapper e1o95it02"
         data-test-id="project-slug"
         is={null}
       >
         <StyledProjectCard>
           <div
-            className="css-18be1td-StyledProjectCard ei886av3"
+            className="css-18be1td-StyledProjectCard e1o95it03"
           >
             <StyledProjectCardHeader>
               <div
-                className="css-v59cbs-StyledProjectCardHeader ei886av1"
+                className="css-v59cbs-StyledProjectCardHeader e1o95it01"
               >
                 <StyledIdBadge
                   avatarSize={18}
@@ -128,7 +128,7 @@ exports[`ProjectCard renders 1`] = `
                 >
                   <IdBadge
                     avatarSize={18}
-                    className="css-1gy4gs4-StyledIdBadge ei886av5"
+                    className="css-1gy4gs4-StyledIdBadge e1o95it05"
                     displayName={
                       <span>
                         project-slug
@@ -167,7 +167,7 @@ exports[`ProjectCard renders 1`] = `
                       >
                         <ProjectBadge
                           avatarSize={18}
-                          className="css-1gy4gs4-StyledIdBadge ei886av5"
+                          className="css-1gy4gs4-StyledIdBadge e1o95it05"
                           displayName={
                             <span>
                               project-slug
@@ -202,7 +202,7 @@ exports[`ProjectCard renders 1`] = `
                           <BaseBadge
                             avatarProps={Object {}}
                             avatarSize={18}
-                            className="css-1gy4gs4-StyledIdBadge ei886av5"
+                            className="css-1gy4gs4-StyledIdBadge e1o95it05"
                             displayName={
                               <span>
                                 project-slug
@@ -235,14 +235,14 @@ exports[`ProjectCard renders 1`] = `
                           >
                             <Flex
                               align="center"
-                              className="css-1gy4gs4-StyledIdBadge ei886av5"
+                              className="css-1gy4gs4-StyledIdBadge e1o95it05"
                             >
                               <Base
                                 align="center"
-                                className="ei886av5 css-v2wlq8-StyledIdBadge"
+                                className="e1o95it05 css-v2wlq8-StyledIdBadge"
                               >
                                 <div
-                                  className="ei886av5 css-v2wlq8-StyledIdBadge"
+                                  className="e1o95it05 css-v2wlq8-StyledIdBadge"
                                   is={null}
                                 >
                                   <StyledAvatar
@@ -571,7 +571,7 @@ exports[`ProjectCard renders 1`] = `
             </StyledProjectCardHeader>
             <ChartContainer>
               <div
-                className="css-1s8o1vf-ChartContainer ei886av0"
+                className="css-1s8o1vf-ChartContainer e1o95it00"
               >
                 <Chart
                   noEvents={true}
@@ -607,7 +607,7 @@ exports[`ProjectCard renders 1`] = `
                       }
                     >
                       <BarChart
-                        className="css-h6aoq0-StyledBarChart e114levy0"
+                        className="css-h6aoq0-StyledBarChart e1aigaye0"
                         gap={1.5}
                         height={60}
                         label="events"
@@ -630,7 +630,7 @@ exports[`ProjectCard renders 1`] = `
                               "chart-bar",
                             ]
                           }
-                          className="css-h6aoq0-StyledBarChart e114levy0"
+                          className="css-h6aoq0-StyledBarChart e1aigaye0"
                           gap={1.5}
                           height={60}
                           label="events"
@@ -655,7 +655,7 @@ exports[`ProjectCard renders 1`] = `
                           width={null}
                         >
                           <StyledFigure
-                            className="css-h6aoq0-StyledBarChart e114levy0 barchart"
+                            className="css-h6aoq0-StyledBarChart e1aigaye0 barchart"
                             style={
                               Object {
                                 "height": 60,
@@ -664,7 +664,7 @@ exports[`ProjectCard renders 1`] = `
                             }
                           >
                             <figure
-                              className="e114levy0 barchart css-caakmb-StyledFigure-StyledBarChart e5t71581"
+                              className="e1aigaye0 barchart css-caakmb-StyledFigure-StyledBarChart e5t71581"
                               style={
                                 Object {
                                   "height": 60,
@@ -855,7 +855,7 @@ exports[`ProjectCard renders 1`] = `
                 <NoEvents>
                   <Container>
                     <div
-                      className="css-1m9okvh-Container exgrkp30"
+                      className="css-1m9okvh-Container e1acggzn0"
                     >
                       <EmptyText
                         align="center"
@@ -863,11 +863,11 @@ exports[`ProjectCard renders 1`] = `
                       >
                         <Base
                           align="center"
-                          className="css-k1bbsy-EmptyText exgrkp31"
+                          className="css-k1bbsy-EmptyText e1acggzn1"
                           justify="center"
                         >
                           <div
-                            className="css-k1bbsy-EmptyText exgrkp31"
+                            className="css-k1bbsy-EmptyText e1acggzn1"
                             is={null}
                           >
                             No activity yet.
@@ -937,11 +937,11 @@ exports[`ProjectCard renders 1`] = `
                   p={2}
                 >
                   <Base
-                    className="css-1y6xtyw-DeployBox eawgu3c5"
+                    className="css-1y6xtyw-DeployBox elff1ar5"
                     p={2}
                   >
                     <div
-                      className="css-1y6xtyw-DeployBox eawgu3c5"
+                      className="css-1y6xtyw-DeployBox elff1ar5"
                       is={null}
                     >
                       <Background
@@ -950,11 +950,11 @@ exports[`ProjectCard renders 1`] = `
                       >
                         <Base
                           align="center"
-                          className="css-itelel-Background eawgu3c6"
+                          className="css-itelel-Background elff1ar6"
                           justify="center"
                         >
                           <div
-                            className="css-itelel-Background eawgu3c6"
+                            className="css-itelel-Background elff1ar6"
                             is={null}
                           >
                             <Button
diff --git a/tests/js/spec/views/organizationProjectsDashboard/index.spec.jsx b/tests/js/spec/views/organizationProjectsDashboard/index.spec.jsx
index 8c9c250921..e55ce4bbeb 100644
--- a/tests/js/spec/views/organizationProjectsDashboard/index.spec.jsx
+++ b/tests/js/spec/views/organizationProjectsDashboard/index.spec.jsx
@@ -1,7 +1,7 @@
 import React from 'react';
 import {shallow, mount} from 'enzyme';
 
-import {Dashboard} from 'app/views/organizationProjectsDashboard';
+import {Dashboard} from 'app/views/projectsDashboard';
 import ProjectsStatsStore from 'app/stores/projectsStatsStore';
 import * as projectsActions from 'app/actionCreators/projects';
 
diff --git a/tests/js/spec/views/organizationProjectsDashboard/projectCard.spec.jsx b/tests/js/spec/views/organizationProjectsDashboard/projectCard.spec.jsx
index 2581b3b806..c3059d8d03 100644
--- a/tests/js/spec/views/organizationProjectsDashboard/projectCard.spec.jsx
+++ b/tests/js/spec/views/organizationProjectsDashboard/projectCard.spec.jsx
@@ -1,7 +1,7 @@
 import {mount} from 'enzyme';
 import React from 'react';
 
-import {ProjectCard} from 'app/views/organizationProjectsDashboard/projectCard';
+import {ProjectCard} from 'app/views/projectsDashboard/projectCard';
 
 // NOTE: Unmocking debounce so that the actionCreator never fires
 jest.unmock('lodash/debounce');
