commit 31b17c10e2a8ef0069ea80a22a65bb1d5f0656b9
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Oct 18 10:34:16 2016 -0700

    [plugins] fix disconnect on social auth

diff --git a/src/social_auth/views.py b/src/social_auth/views.py
index 2167969fb6..064db896e2 100644
--- a/src/social_auth/views.py
+++ b/src/social_auth/views.py
@@ -84,6 +84,7 @@ def complete(request, backend, *args, **kwargs):
             request, messages.ERROR,
             six.text_type(exc)
         )
+        user = None
     else:
         messages.add_message(
             request, messages.SUCCESS,
@@ -91,6 +92,7 @@ def complete(request, backend, *args, **kwargs):
                 settings.AUTH_PROVIDER_LABELS.get(backend_name, backend_name),
             )
         )
+        user = None
 
     if not user:
         url = (
