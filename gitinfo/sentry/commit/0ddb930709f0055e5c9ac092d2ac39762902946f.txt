commit 0ddb930709f0055e5c9ac092d2ac39762902946f
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Tue May 30 23:32:12 2017 +0200

    Added sentry:dist to missing mappings

diff --git a/src/sentry/constants.py b/src/sentry/constants.py
index 24da9cce11..ba259ee6b9 100644
--- a/src/sentry/constants.py
+++ b/src/sentry/constants.py
@@ -118,6 +118,7 @@ TAG_LABELS = {
     'sentry:filename': 'File',
     'sentry:function': 'Function',
     'sentry:release': 'Release',
+    'sentry:dist': 'Distribution',
     'os': 'OS',
     'url': 'URL',
     'server_name': 'Server',
diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index 6758718442..42e2ce2fd9 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -295,6 +295,7 @@ class EventSubjectTemplate(string.Template):
 class EventSubjectTemplateData(object):
     tag_aliases = {
         'release': 'sentry:release',
+        'dist': 'sentry:dist',
     }
 
     def __init__(self, event):
diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
index d834240b8a..c06c48cf6e 100644
--- a/src/sentry/search/utils.py
+++ b/src/sentry/search/utils.py
@@ -360,6 +360,8 @@ def parse_query(project, query, user):
                 results['first_release'] = parse_release(project, value)
             elif key == 'release':
                 results['tags']['sentry:release'] = parse_release(project, value)
+            elif key == 'dist':
+                results['tags']['sentry:dist'] = value
             elif key == 'user':
                 if ':' in value:
                     comp, value = value.split(':', 1)
diff --git a/tests/sentry/search/test_utils.py b/tests/sentry/search/test_utils.py
index 1629590740..eb1dac592e 100644
--- a/tests/sentry/search/test_utils.py
+++ b/tests/sentry/search/test_utils.py
@@ -333,6 +333,10 @@ class ParseQueryTest(TestCase):
         result = self.parse_query('release:bar')
         assert result == {'tags': {'sentry:release': 'bar'}, 'query': ''}
 
+    def test_dist(self):
+        result = self.parse_query('dist:123')
+        assert result == {'tags': {'sentry:dist': '123'}, 'query': ''}
+
     def test_release_latest(self):
         old = Release.objects.create(
             organization_id=self.project.organization_id,
