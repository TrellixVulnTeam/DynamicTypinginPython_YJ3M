commit 9b497aa19d0f00eb2bd69be7499990a2133bc01d
Author: Dena Mwangi <dena@getsentry.com>
Date:   Thu Apr 18 09:40:43 2019 -0700

    feat(broadcasts): Add ability to tack on a secondary filter on Broadcast (#12809)

diff --git a/src/sentry/api/endpoints/broadcast_index.py b/src/sentry/api/endpoints/broadcast_index.py
index 4a968bfcfc..a08c8c0bde 100644
--- a/src/sentry/api/endpoints/broadcast_index.py
+++ b/src/sentry/api/endpoints/broadcast_index.py
@@ -33,11 +33,15 @@ class BroadcastIndexEndpoint(Endpoint):
         serializer_cls = self._get_serializer(request)
         return serialize(items, request.user, serializer=serializer_cls())
 
-    def get(self, request):
+    def _secondary_filtering(self, request, organization_slug, queryset):
+        # used in the SASS product
+        return list(queryset)
+
+    def get(self, request, organization_slug=None):
         if request.GET.get('show') == 'all' and is_active_superuser(
                 request) and request.access.has_permission('broadcasts.admin'):
             # superusers can slice and dice
-            queryset = Broadcast.objects.all()
+            queryset = Broadcast.objects.all().order_by('-date_added')
         else:
             # only allow active broadcasts if they're not a superuser
             queryset = Broadcast.objects.filter(
@@ -79,6 +83,10 @@ class BroadcastIndexEndpoint(Endpoint):
                 else:
                     queryset = queryset.none()
 
+        if organization_slug:
+            data = self._secondary_filtering(request, organization_slug, queryset)
+            return self.respond(self._serialize_objects(data, request))
+
         sort_by = request.GET.get('sortBy')
         if sort_by == 'expires':
             order_by = '-date_expires'
