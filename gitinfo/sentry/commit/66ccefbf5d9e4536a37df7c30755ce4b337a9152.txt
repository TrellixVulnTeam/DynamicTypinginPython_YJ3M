commit 66ccefbf5d9e4536a37df7c30755ce4b337a9152
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue May 7 13:45:01 2019 -0700

    ref(mixins): Remove `OrganizationState.getOnboardingTasks` (#13089)
    
    This was actually unused.

diff --git a/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx b/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx
index d8ecde699b..b8eefad9da 100644
--- a/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx
+++ b/src/sentry/static/sentry/app/components/onboardingWizard/todos.jsx
@@ -1,11 +1,12 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 import createReactClass from 'create-react-class';
-import {t} from 'app/locale';
 
-import withApi from 'app/utils/withApi';
-import OrganizationState from 'app/mixins/organizationState';
+import {t} from 'app/locale';
+import SentryTypes from 'app/sentryTypes';
 import TodoItem from 'app/components/onboardingWizard/toDoItem';
+import withApi from 'app/utils/withApi';
+import withOrganization from 'app/utils/withOrganization';
 
 const TASKS = [
   {
@@ -138,10 +139,9 @@ const TodoList = createReactClass({
 
   propTypes: {
     api: PropTypes.object,
+    organization: SentryTypes.Organization,
   },
 
-  mixins: [OrganizationState],
-
   getInitialState() {
     return {
       tasks: [],
@@ -151,11 +151,11 @@ const TodoList = createReactClass({
 
   componentWillMount() {
     // Map server task state (who finished what) to TodoList.TASK objects
-    const org = this.getOrganization();
+    const org = this.props.organization;
     const tasks = TASKS.map(task => {
-      for (const server_task of org.onboardingTasks) {
-        if (server_task.task == task.task) {
-          Object.assign(task, server_task);
+      for (const serverTask of org.onboardingTasks) {
+        if (serverTask.task == task.task) {
+          Object.assign(task, serverTask);
           break;
         }
       }
@@ -164,22 +164,21 @@ const TodoList = createReactClass({
     this.setState({tasks});
   },
 
-  skipTask(skipped_task) {
-    const org = this.getOrganization();
+  skipTask(skippedTask) {
+    const org = this.props.organization;
     this.props.api.request('/organizations/' + org.slug + '/onboarding-tasks/', {
       method: 'POST',
-      data: {task: skipped_task, status: 'skipped'},
+      data: {task: skippedTask, status: 'skipped'},
       success: () => {
-        const new_state = this.state.tasks.map(task => {
-          if (task.task == skipped_task) {
+        const newState = this.state.tasks.map(task => {
+          if (task.task == skippedTask) {
             task.status = 'skipped';
           }
           return task;
         });
-        this.setState({tasks: new_state});
+        this.setState({tasks: newState});
       },
     });
-    this.getOnboardingTasks();
   },
 
   render() {
@@ -201,4 +200,4 @@ const TodoList = createReactClass({
 
 export {TodoList, TASKS};
 
-export default withApi(TodoList);
+export default withApi(withOrganization(TodoList));
diff --git a/src/sentry/static/sentry/app/mixins/organizationState.jsx b/src/sentry/static/sentry/app/mixins/organizationState.jsx
index f522f67184..9f90133b4a 100644
--- a/src/sentry/static/sentry/app/mixins/organizationState.jsx
+++ b/src/sentry/static/sentry/app/mixins/organizationState.jsx
@@ -16,10 +16,6 @@ const OrganizationStateMixin = {
   getFeatures() {
     return new Set(this.context.organization.features);
   },
-
-  getOnboardingTasks() {
-    return new Set(this.context.organization.onboardingTasks);
-  },
 };
 
 export default OrganizationStateMixin;
@@ -36,8 +32,5 @@ export const getOrganizationState = function(org) {
     getFeatures: () => {
       return new Set(org.features);
     },
-    getOnboardingTasks: () => {
-      return new Set(org.onboardingTasks);
-    },
   };
 };
diff --git a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
index d89d7a56f4..a1e6d55119 100644
--- a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
@@ -1361,385 +1361,417 @@ exports[`Sidebar can have onboarding feature 1`] = `
           <div
             className="css-1pl3kd6-SidebarPanelBody e1cvaskl2"
           >
-            <withApi(TodoList)>
-              <TodoList
+            <withApi(WithOrganizationMockWrapper)>
+              <WithOrganizationMockWrapper
                 api={Client {}}
               >
-                <div>
-                  <div
-                    className="onboarding-wrapper"
-                  >
-                    <ul
-                      className="list-unstyled"
+                <TodoList
+                  api={Client {}}
+                  organization={
+                    Object {
+                      "access": Array [
+                        "org:read",
+                        "org:write",
+                        "org:admin",
+                        "org:integrations",
+                        "project:read",
+                        "project:write",
+                        "project:admin",
+                        "team:read",
+                        "team:write",
+                        "team:admin",
+                      ],
+                      "features": Array [],
+                      "id": "3",
+                      "name": "Organization Name",
+                      "onboardingTasks": Array [],
+                      "projects": Array [],
+                      "scrapeJavaScript": true,
+                      "slug": "org-slug",
+                      "status": Object {
+                        "id": "active",
+                        "name": "active",
+                      },
+                      "teams": Array [],
+                    }
+                  }
+                >
+                  <div>
+                    <div
+                      className="onboarding-wrapper"
                     >
-                      <TodoItem
-                        key="1"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Create your first Sentry project",
-                            "detailedDescription": "Follow our quick and easy steps to set up a project and start sending errors.",
-                            "display": true,
-                            "featureLocation": "organization",
-                            "location": "projects/new/",
-                            "prereq": Array [],
-                            "skippable": false,
-                            "task": 1,
-                            "title": "Create a project",
-                          }
-                        }
+                      <ul
+                        className="list-unstyled"
                       >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
+                        <TodoItem
+                          key="1"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Create your first Sentry project",
+                              "detailedDescription": "Follow our quick and easy steps to set up a project and start sending errors.",
+                              "display": true,
+                              "featureLocation": "organization",
+                              "location": "projects/new/",
+                              "prereq": Array [],
+                              "skippable": false,
+                              "task": 1,
+                              "title": "Create a project",
+                            }
+                          }
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="/organizations/org-slug/projects/new/"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Create a project
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Create your first Sentry project
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="/organizations/org-slug/projects/new/"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Create a project
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Create your first Sentry project
+                                   
+                                </p>
+                              </div>
                             </div>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="2"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Install Sentry's client",
-                            "detailedDescription": "Choose your platform and send an event.",
-                            "display": true,
-                            "featureLocation": "project",
-                            "location": "settings/install/",
-                            "prereq": Array [
-                              1,
-                            ],
-                            "skippable": false,
-                            "task": 2,
-                            "title": "Send your first event",
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="2"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Install Sentry's client",
+                              "detailedDescription": "Choose your platform and send an event.",
+                              "display": true,
+                              "featureLocation": "project",
+                              "location": "settings/install/",
+                              "prereq": Array [
+                                1,
+                              ],
+                              "skippable": false,
+                              "task": 2,
+                              "title": "Send your first event",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="/organizations/org-slug/projects/choose/?onboarding=1&task=2"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Send your first event
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Install Sentry's client
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="/organizations/org-slug/projects/choose/?onboarding=1&task=2"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Send your first event
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Install Sentry's client
+                                   
+                                </p>
+                              </div>
                             </div>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="3"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Bring your team aboard",
-                            "detailedDescription": "Let Sentry help your team triage and assign issues. Improve your workflow
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="3"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Bring your team aboard",
+                              "detailedDescription": "Let Sentry help your team triage and assign issues. Improve your workflow
           by unlocking suggested owners, mentions, and assignment.",
-                            "display": true,
-                            "featureLocation": "organization",
-                            "location": "members/",
-                            "prereq": Array [],
-                            "skippable": true,
-                            "task": 3,
-                            "title": "Invite team member",
+                              "display": true,
+                              "featureLocation": "organization",
+                              "location": "members/",
+                              "prereq": Array [],
+                              "skippable": true,
+                              "task": 3,
+                              "title": "Invite team member",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="/organizations/org-slug/members/"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Invite team member
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Bring your team aboard
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="/organizations/org-slug/members/"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Invite team member
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Bring your team aboard
+                                   
+                                </p>
+                              </div>
+                              <a
+                                className="skip-btn btn btn-default"
+                                onClick={[Function]}
+                              >
+                                Skip
+                              </a>
                             </div>
-                            <a
-                              className="skip-btn btn btn-default"
-                              onClick={[Function]}
-                            >
-                              Skip
-                            </a>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="4"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Add Sentry to a second platform",
-                            "detailedDescription": "Cross platform functionality to support both your frontend and backend.",
-                            "display": true,
-                            "featureLocation": "organization",
-                            "location": "projects/new/",
-                            "prereq": Array [
-                              1,
-                              2,
-                            ],
-                            "skippable": true,
-                            "task": 4,
-                            "title": "Add a second platform",
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="4"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Add Sentry to a second platform",
+                              "detailedDescription": "Cross platform functionality to support both your frontend and backend.",
+                              "display": true,
+                              "featureLocation": "organization",
+                              "location": "projects/new/",
+                              "prereq": Array [
+                                1,
+                                2,
+                              ],
+                              "skippable": true,
+                              "task": 4,
+                              "title": "Add a second platform",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="/organizations/org-slug/projects/new/"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Add a second platform
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Add Sentry to a second platform
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="/organizations/org-slug/projects/new/"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Add a second platform
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Add Sentry to a second platform
+                                   
+                                </p>
+                              </div>
+                              <a
+                                className="skip-btn btn btn-default"
+                                onClick={[Function]}
+                              >
+                                Skip
+                              </a>
                             </div>
-                            <a
-                              className="skip-btn btn btn-default"
-                              onClick={[Function]}
-                            >
-                              Skip
-                            </a>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="5"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Know who is being affected by crashes",
-                            "detailedDescription": "Unlock features that let you
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="5"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Know who is being affected by crashes",
+                              "detailedDescription": "Unlock features that let you
           drill down into the number of users affected by an issue as well as get a broader sense about the quality of the application.",
-                            "display": true,
-                            "featureLocation": "absolute",
-                            "location": "https://docs.sentry.io/enriching-error-data/context/#capturing-the-user",
-                            "prereq": Array [
-                              1,
-                              2,
-                            ],
-                            "skippable": true,
-                            "task": 5,
-                            "title": "Add user context",
+                              "display": true,
+                              "featureLocation": "absolute",
+                              "location": "https://docs.sentry.io/enriching-error-data/context/#capturing-the-user",
+                              "prereq": Array [
+                                1,
+                                2,
+                              ],
+                              "skippable": true,
+                              "task": 5,
+                              "title": "Add user context",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="https://docs.sentry.io/enriching-error-data/context/#capturing-the-user"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Add user context
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Know who is being affected by crashes
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="https://docs.sentry.io/enriching-error-data/context/#capturing-the-user"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Add user context
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Know who is being affected by crashes
+                                   
+                                </p>
+                              </div>
+                              <a
+                                className="skip-btn btn btn-default"
+                                onClick={[Function]}
+                              >
+                                Skip
+                              </a>
                             </div>
-                            <a
-                              className="skip-btn btn btn-default"
-                              onClick={[Function]}
-                            >
-                              Skip
-                            </a>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="6"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "See what releases are generating errors",
-                            "detailedDescription": "Set up commits for additional context when determining the cause of an issue
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="6"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "See what releases are generating errors",
+                              "detailedDescription": "Set up commits for additional context when determining the cause of an issue
           e.g. suggested owners and resolve issues via commit messages.",
-                            "display": true,
-                            "featureLocation": "project",
-                            "location": "settings/release-tracking/",
-                            "prereq": Array [
-                              1,
-                              2,
-                            ],
-                            "skippable": true,
-                            "task": 6,
-                            "title": "Set up release tracking",
+                              "display": true,
+                              "featureLocation": "project",
+                              "location": "settings/release-tracking/",
+                              "prereq": Array [
+                                1,
+                                2,
+                              ],
+                              "skippable": true,
+                              "task": 6,
+                              "title": "Set up release tracking",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="/organizations/org-slug/projects/choose/?onboarding=1&task=6"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Set up release tracking
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                See what releases are generating errors
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="/organizations/org-slug/projects/choose/?onboarding=1&task=6"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Set up release tracking
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  See what releases are generating errors
+                                   
+                                </p>
+                              </div>
+                              <a
+                                className="skip-btn btn btn-default"
+                                onClick={[Function]}
+                              >
+                                Skip
+                              </a>
                             </div>
-                            <a
-                              className="skip-btn btn btn-default"
-                              onClick={[Function]}
-                            >
-                              Skip
-                            </a>
-                          </div>
-                        </li>
-                      </TodoItem>
-                      <TodoItem
-                        key="7"
-                        onSkip={[Function]}
-                        task={
-                          Object {
-                            "description": "Deminify JavaScript stack traces",
-                            "detailedDescription": "View source code context obtained from stack traces in their
+                          </li>
+                        </TodoItem>
+                        <TodoItem
+                          key="7"
+                          onSkip={[Function]}
+                          task={
+                            Object {
+                              "description": "Deminify JavaScript stack traces",
+                              "detailedDescription": "View source code context obtained from stack traces in their
           original untransformed form, which is particularly useful for debugging minified code.",
-                            "display": true,
-                            "featureLocation": "absolute",
-                            "location": "https://docs.sentry.io/platforms/javascript/sourcemaps/",
-                            "prereq": Array [
-                              1,
-                              2,
-                            ],
-                            "skippable": true,
-                            "task": 7,
-                            "title": "Upload source maps",
+                              "display": true,
+                              "featureLocation": "absolute",
+                              "location": "https://docs.sentry.io/platforms/javascript/sourcemaps/",
+                              "prereq": Array [
+                                1,
+                                2,
+                              ],
+                              "skippable": true,
+                              "task": 7,
+                              "title": "Upload source maps",
+                            }
                           }
-                        }
-                      >
-                        <li
-                          className=""
-                          onMouseOut={[Function]}
-                          onMouseOver={[Function]}
                         >
-                          <div
-                            className="todo-content"
+                          <li
+                            className=""
+                            onMouseOut={[Function]}
+                            onMouseOver={[Function]}
                           >
                             <div
-                              className="ob-checkbox"
-                            />
-                            <a
-                              href="https://docs.sentry.io/platforms/javascript/sourcemaps/"
-                              onClick={[Function]}
+                              className="todo-content"
                             >
-                              <h4>
-                                Upload source maps
-                              </h4>
-                            </a>
-                            <div>
-                              <p>
-                                Deminify JavaScript stack traces
-                                 
-                              </p>
+                              <div
+                                className="ob-checkbox"
+                              />
+                              <a
+                                href="https://docs.sentry.io/platforms/javascript/sourcemaps/"
+                                onClick={[Function]}
+                              >
+                                <h4>
+                                  Upload source maps
+                                </h4>
+                              </a>
+                              <div>
+                                <p>
+                                  Deminify JavaScript stack traces
+                                   
+                                </p>
+                              </div>
+                              <a
+                                className="skip-btn btn btn-default"
+                                onClick={[Function]}
+                              >
+                                Skip
+                              </a>
                             </div>
-                            <a
-                              className="skip-btn btn btn-default"
-                              onClick={[Function]}
-                            >
-                              Skip
-                            </a>
-                          </div>
-                        </li>
-                      </TodoItem>
-                    </ul>
+                          </li>
+                        </TodoItem>
+                      </ul>
+                    </div>
                   </div>
-                </div>
-              </TodoList>
-            </withApi(TodoList)>
+                </TodoList>
+              </WithOrganizationMockWrapper>
+            </withApi(WithOrganizationMockWrapper)>
           </div>
         </SidebarPanelBody>
       </div>
