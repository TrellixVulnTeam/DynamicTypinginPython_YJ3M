commit fc00f63852b66a48f17ccc540c0e097720bc2031
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Aug 5 10:46:21 2016 -0700

    Restore full validation of empty values

diff --git a/src/sentry/web/forms/fields.py b/src/sentry/web/forms/fields.py
index 0c5ecebbf9..7ac97c1930 100644
--- a/src/sentry/web/forms/fields.py
+++ b/src/sentry/web/forms/fields.py
@@ -134,7 +134,7 @@ class OriginsField(CharField):
     def clean(self, value):
         if not value:
             return []
-        values = [v.strip() for v in value.split('\n') if v]
+        values = [v for v in (v.strip() for v in value.split('\n')) if v]
         for value in values:
             if not self.is_valid_origin(value):
                 raise ValidationError('%r is not an acceptable value' % value)
@@ -166,7 +166,7 @@ class IPNetworksField(CharField):
         value = value.strip()
         if not value:
             return None
-        values = [v.strip() for v in value.split('\n') if v]
+        values = [v for v in (v.strip() for v in value.split('\n')) if v]
         for value in values:
             try:
                 ipaddress.ip_network(six.text_type(value))
