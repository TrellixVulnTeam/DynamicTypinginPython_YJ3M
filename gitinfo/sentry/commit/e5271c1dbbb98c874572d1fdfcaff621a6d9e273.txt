commit e5271c1dbbb98c874572d1fdfcaff621a6d9e273
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Mar 13 17:33:48 2018 -0700

    ref: Remove rich metadata for projects from org details

diff --git a/src/sentry/api/serializers/models/organization.py b/src/sentry/api/serializers/models/organization.py
index acf03c707a..efd7f37315 100644
--- a/src/sentry/api/serializers/models/organization.py
+++ b/src/sentry/api/serializers/models/organization.py
@@ -69,7 +69,7 @@ class DetailedOrganizationSerializer(OrganizationSerializer):
     def serialize(self, obj, attrs, user):
         from sentry import features
         from sentry.app import env
-        from sentry.api.serializers.models.project import ProjectWithTeamSerializer
+        from sentry.api.serializers.models.project import ProjectSummarySerializer
         from sentry.api.serializers.models.team import TeamSerializer
 
         team_list = list(Team.objects.filter(
@@ -168,7 +168,7 @@ class DetailedOrganizationSerializer(OrganizationSerializer):
             'scrubIPAddresses': bool(obj.get_option('sentry:require_scrub_ip_address', False)),
         })
         context['teams'] = serialize(team_list, user, TeamSerializer())
-        context['projects'] = serialize(project_list, user, ProjectWithTeamSerializer())
+        context['projects'] = serialize(project_list, user, ProjectSummarySerializer())
         if env.request:
             context['access'] = access.from_request(env.request, obj).scopes
         else:
diff --git a/src/sentry/api/serializers/models/project.py b/src/sentry/api/serializers/models/project.py
index 8ac1746abf..b87120df8e 100644
--- a/src/sentry/api/serializers/models/project.py
+++ b/src/sentry/api/serializers/models/project.py
@@ -233,6 +233,20 @@ class ProjectWithTeamSerializer(ProjectSerializer):
         return data
 
 
+class ProjectSummarySerializer(ProjectWithTeamSerializer):
+    def serialize(self, obj, attrs, user):
+        return {
+            'team': attrs['teams'][0] if attrs['teams'] else None,
+            'teams': attrs['teams'],
+            'id': six.text_type(obj.id),
+            'name': obj.name,
+            'slug': obj.slug,
+            'isBookmarked': attrs['is_bookmarked'],
+            'isMember': attrs['is_member'],
+            'hasAccess': attrs['has_access'],
+        }
+
+
 class DetailedProjectSerializer(ProjectWithTeamSerializer):
     OPTION_KEYS = frozenset(
         [
diff --git a/src/sentry/static/sentry/app/views/organizationDashboard.jsx b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
index ae0fbf6737..fd94bf7c28 100644
--- a/src/sentry/static/sentry/app/views/organizationDashboard.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
@@ -10,7 +10,7 @@ import {loadStats} from '../actionCreators/projects';
 
 import GroupStore from '../stores/groupStore';
 import HookStore from '../stores/hookStore';
-import ProjectStore from '../stores/projectsStore';
+import ProjectsStore from '../stores/projectsStore';
 import TeamStore from '../stores/teamStore';
 
 import ActivityFeed from '../components/activity/feed';
@@ -345,7 +345,7 @@ const OrganizationDashboard = createReactClass({
   mixins: [
     ApiMixin,
     Reflux.listenTo(TeamStore, 'onTeamListChange'),
-    Reflux.listenTo(ProjectStore, 'onProjectListChange'),
+    Reflux.listenTo(ProjectsStore, 'onProjectListChange'),
     OrganizationState,
   ],
 
@@ -366,7 +366,7 @@ const OrganizationDashboard = createReactClass({
 
     return {
       teams: TeamStore.getAll(),
-      projects: ProjectStore.getAll(),
+      projects: ProjectsStore.getAll(),
       hooks,
     };
   },
@@ -394,7 +394,7 @@ const OrganizationDashboard = createReactClass({
 
   onProjectListChange() {
     this.setState({
-      projects: ProjectStore.getAll(),
+      projects: ProjectsStore.getAll(),
     });
   },
 
diff --git a/tests/js/setup.js b/tests/js/setup.js
index a0e1adeabe..2d5f9f6d89 100644
--- a/tests/js/setup.js
+++ b/tests/js/setup.js
@@ -603,6 +603,16 @@ window.TestStubs = {
       id: '2',
       slug: 'project-slug',
       name: 'Project Name',
+      hasAccess: true,
+      isMember: true,
+      isBookmarked: false,
+      teams: [],
+      ...params,
+    };
+  },
+
+  ProjectDetails: params => {
+    return TestStubs.Project({
       subjectTemplate: '[$project] ${tag:level}: $title',
       digestsMinDelay: 5,
       digestsMaxDelay: 60,
@@ -618,9 +628,8 @@ window.TestStubs = {
       securityTokenHeader: 'x-security-header',
       verifySSL: true,
       features: [],
-      teams: [],
       ...params,
-    };
+    });
   },
 
   ProjectAlertRule: () => {
diff --git a/tests/js/spec/views/__snapshots__/organizationProjects.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationProjects.spec.jsx.snap
index f7e25f0eac..dc74048224 100644
--- a/tests/js/spec/views/__snapshots__/organizationProjects.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationProjects.spec.jsx.snap
@@ -142,34 +142,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
     projects={
       Array [
         Object {
-          "allowedDomains": Array [
-            "example.com",
-            "https://example.com",
-          ],
-          "dataScrubber": false,
-          "dataScrubberDefaults": false,
-          "digestsMaxDelay": 60,
-          "digestsMinDelay": 5,
-          "features": Array [],
+          "hasAccess": true,
           "id": "2",
+          "isBookmarked": false,
+          "isMember": true,
           "name": "Project Name",
-          "resolveAge": 48,
-          "safeFields": Array [
-            "business-email",
-            "company",
-          ],
-          "scrapeJavaScript": true,
-          "scrubIPAddresses": false,
-          "securityToken": "security-token",
-          "securityTokenHeader": "x-security-header",
-          "sensitiveFields": Array [
-            "creditcard",
-            "ssn",
-          ],
           "slug": "project-slug",
-          "subjectTemplate": "[$project] \${tag:level}: $title",
           "teams": Array [],
-          "verifySSL": true,
         },
       ]
     }
@@ -419,34 +398,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
                                     }
                                     project={
                                       Object {
-                                        "allowedDomains": Array [
-                                          "example.com",
-                                          "https://example.com",
-                                        ],
-                                        "dataScrubber": false,
-                                        "dataScrubberDefaults": false,
-                                        "digestsMaxDelay": 60,
-                                        "digestsMinDelay": 5,
-                                        "features": Array [],
+                                        "hasAccess": true,
                                         "id": "2",
+                                        "isBookmarked": false,
+                                        "isMember": true,
                                         "name": "Project Name",
-                                        "resolveAge": 48,
-                                        "safeFields": Array [
-                                          "business-email",
-                                          "company",
-                                        ],
-                                        "scrapeJavaScript": true,
-                                        "scrubIPAddresses": false,
-                                        "securityToken": "security-token",
-                                        "securityTokenHeader": "x-security-header",
-                                        "sensitiveFields": Array [
-                                          "creditcard",
-                                          "ssn",
-                                        ],
                                         "slug": "project-slug",
-                                        "subjectTemplate": "[$project] \${tag:level}: $title",
                                         "teams": Array [],
-                                        "verifySSL": true,
                                       }
                                     }
                                   >
@@ -517,34 +475,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
                                               }
                                               project={
                                                 Object {
-                                                  "allowedDomains": Array [
-                                                    "example.com",
-                                                    "https://example.com",
-                                                  ],
-                                                  "dataScrubber": false,
-                                                  "dataScrubberDefaults": false,
-                                                  "digestsMaxDelay": 60,
-                                                  "digestsMinDelay": 5,
-                                                  "features": Array [],
+                                                  "hasAccess": true,
                                                   "id": "2",
+                                                  "isBookmarked": false,
+                                                  "isMember": true,
                                                   "name": "Project Name",
-                                                  "resolveAge": 48,
-                                                  "safeFields": Array [
-                                                    "business-email",
-                                                    "company",
-                                                  ],
-                                                  "scrapeJavaScript": true,
-                                                  "scrubIPAddresses": false,
-                                                  "securityToken": "security-token",
-                                                  "securityTokenHeader": "x-security-header",
-                                                  "sensitiveFields": Array [
-                                                    "creditcard",
-                                                    "ssn",
-                                                  ],
                                                   "slug": "project-slug",
-                                                  "subjectTemplate": "[$project] \${tag:level}: $title",
                                                   "teams": Array [],
-                                                  "verifySSL": true,
                                                 }
                                               }
                                             >
@@ -578,34 +515,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
                                                 }
                                                 project={
                                                   Object {
-                                                    "allowedDomains": Array [
-                                                      "example.com",
-                                                      "https://example.com",
-                                                    ],
-                                                    "dataScrubber": false,
-                                                    "dataScrubberDefaults": false,
-                                                    "digestsMaxDelay": 60,
-                                                    "digestsMinDelay": 5,
-                                                    "features": Array [],
+                                                    "hasAccess": true,
                                                     "id": "2",
+                                                    "isBookmarked": false,
+                                                    "isMember": true,
                                                     "name": "Project Name",
-                                                    "resolveAge": 48,
-                                                    "safeFields": Array [
-                                                      "business-email",
-                                                      "company",
-                                                    ],
-                                                    "scrapeJavaScript": true,
-                                                    "scrubIPAddresses": false,
-                                                    "securityToken": "security-token",
-                                                    "securityTokenHeader": "x-security-header",
-                                                    "sensitiveFields": Array [
-                                                      "creditcard",
-                                                      "ssn",
-                                                    ],
                                                     "slug": "project-slug",
-                                                    "subjectTemplate": "[$project] \${tag:level}: $title",
                                                     "teams": Array [],
-                                                    "verifySSL": true,
                                                   }
                                                 }
                                               >
@@ -639,34 +555,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
                                                   }
                                                   project={
                                                     Object {
-                                                      "allowedDomains": Array [
-                                                        "example.com",
-                                                        "https://example.com",
-                                                      ],
-                                                      "dataScrubber": false,
-                                                      "dataScrubberDefaults": false,
-                                                      "digestsMaxDelay": 60,
-                                                      "digestsMinDelay": 5,
-                                                      "features": Array [],
+                                                      "hasAccess": true,
                                                       "id": "2",
+                                                      "isBookmarked": false,
+                                                      "isMember": true,
                                                       "name": "Project Name",
-                                                      "resolveAge": 48,
-                                                      "safeFields": Array [
-                                                        "business-email",
-                                                        "company",
-                                                      ],
-                                                      "scrapeJavaScript": true,
-                                                      "scrubIPAddresses": false,
-                                                      "securityToken": "security-token",
-                                                      "securityTokenHeader": "x-security-header",
-                                                      "sensitiveFields": Array [
-                                                        "creditcard",
-                                                        "ssn",
-                                                      ],
                                                       "slug": "project-slug",
-                                                      "subjectTemplate": "[$project] \${tag:level}: $title",
                                                       "teams": Array [],
-                                                      "verifySSL": true,
                                                     }
                                                   }
                                                 >
@@ -703,34 +598,13 @@ exports[`OrganizationProjectsView render() Should render the projects in the sto
                                     key="2"
                                     project={
                                       Object {
-                                        "allowedDomains": Array [
-                                          "example.com",
-                                          "https://example.com",
-                                        ],
-                                        "dataScrubber": false,
-                                        "dataScrubberDefaults": false,
-                                        "digestsMaxDelay": 60,
-                                        "digestsMinDelay": 5,
-                                        "features": Array [],
+                                        "hasAccess": true,
                                         "id": "2",
+                                        "isBookmarked": false,
+                                        "isMember": true,
                                         "name": "Project Name",
-                                        "resolveAge": 48,
-                                        "safeFields": Array [
-                                          "business-email",
-                                          "company",
-                                        ],
-                                        "scrapeJavaScript": true,
-                                        "scrubIPAddresses": false,
-                                        "securityToken": "security-token",
-                                        "securityTokenHeader": "x-security-header",
-                                        "sensitiveFields": Array [
-                                          "creditcard",
-                                          "ssn",
-                                        ],
                                         "slug": "project-slug",
-                                        "subjectTemplate": "[$project] \${tag:level}: $title",
                                         "teams": Array [],
-                                        "verifySSL": true,
                                       }
                                     }
                                   >
diff --git a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
index 58a76af21c..3658f938b8 100644
--- a/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/organizationTeamProjects.spec.jsx.snap
@@ -373,32 +373,12 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                               }
                               project={
                                 Object {
-                                  "allowedDomains": Array [
-                                    "example.com",
-                                    "https://example.com",
-                                  ],
-                                  "dataScrubber": false,
-                                  "dataScrubberDefaults": false,
-                                  "digestsMaxDelay": 60,
-                                  "digestsMinDelay": 5,
-                                  "features": Array [],
+                                  "hasAccess": true,
                                   "id": "2",
+                                  "isBookmarked": false,
+                                  "isMember": true,
                                   "name": "Project Name",
-                                  "resolveAge": 48,
-                                  "safeFields": Array [
-                                    "business-email",
-                                    "company",
-                                  ],
-                                  "scrapeJavaScript": true,
-                                  "scrubIPAddresses": false,
-                                  "securityToken": "security-token",
-                                  "securityTokenHeader": "x-security-header",
-                                  "sensitiveFields": Array [
-                                    "creditcard",
-                                    "ssn",
-                                  ],
                                   "slug": "project-slug",
-                                  "subjectTemplate": "[$project] \${tag:level}: $title",
                                   "teams": Array [
                                     Object {
                                       "id": "1",
@@ -406,7 +386,6 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                       "slug": "team-slug",
                                     },
                                   ],
-                                  "verifySSL": true,
                                 }
                               }
                             >
@@ -477,32 +456,12 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                         }
                                         project={
                                           Object {
-                                            "allowedDomains": Array [
-                                              "example.com",
-                                              "https://example.com",
-                                            ],
-                                            "dataScrubber": false,
-                                            "dataScrubberDefaults": false,
-                                            "digestsMaxDelay": 60,
-                                            "digestsMinDelay": 5,
-                                            "features": Array [],
+                                            "hasAccess": true,
                                             "id": "2",
+                                            "isBookmarked": false,
+                                            "isMember": true,
                                             "name": "Project Name",
-                                            "resolveAge": 48,
-                                            "safeFields": Array [
-                                              "business-email",
-                                              "company",
-                                            ],
-                                            "scrapeJavaScript": true,
-                                            "scrubIPAddresses": false,
-                                            "securityToken": "security-token",
-                                            "securityTokenHeader": "x-security-header",
-                                            "sensitiveFields": Array [
-                                              "creditcard",
-                                              "ssn",
-                                            ],
                                             "slug": "project-slug",
-                                            "subjectTemplate": "[$project] \${tag:level}: $title",
                                             "teams": Array [
                                               Object {
                                                 "id": "1",
@@ -510,7 +469,6 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                                 "slug": "team-slug",
                                               },
                                             ],
-                                            "verifySSL": true,
                                           }
                                         }
                                       >
@@ -544,32 +502,12 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                           }
                                           project={
                                             Object {
-                                              "allowedDomains": Array [
-                                                "example.com",
-                                                "https://example.com",
-                                              ],
-                                              "dataScrubber": false,
-                                              "dataScrubberDefaults": false,
-                                              "digestsMaxDelay": 60,
-                                              "digestsMinDelay": 5,
-                                              "features": Array [],
+                                              "hasAccess": true,
                                               "id": "2",
+                                              "isBookmarked": false,
+                                              "isMember": true,
                                               "name": "Project Name",
-                                              "resolveAge": 48,
-                                              "safeFields": Array [
-                                                "business-email",
-                                                "company",
-                                              ],
-                                              "scrapeJavaScript": true,
-                                              "scrubIPAddresses": false,
-                                              "securityToken": "security-token",
-                                              "securityTokenHeader": "x-security-header",
-                                              "sensitiveFields": Array [
-                                                "creditcard",
-                                                "ssn",
-                                              ],
                                               "slug": "project-slug",
-                                              "subjectTemplate": "[$project] \${tag:level}: $title",
                                               "teams": Array [
                                                 Object {
                                                   "id": "1",
@@ -577,7 +515,6 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                                   "slug": "team-slug",
                                                 },
                                               ],
-                                              "verifySSL": true,
                                             }
                                           }
                                         >
@@ -611,32 +548,12 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                             }
                                             project={
                                               Object {
-                                                "allowedDomains": Array [
-                                                  "example.com",
-                                                  "https://example.com",
-                                                ],
-                                                "dataScrubber": false,
-                                                "dataScrubberDefaults": false,
-                                                "digestsMaxDelay": 60,
-                                                "digestsMinDelay": 5,
-                                                "features": Array [],
+                                                "hasAccess": true,
                                                 "id": "2",
+                                                "isBookmarked": false,
+                                                "isMember": true,
                                                 "name": "Project Name",
-                                                "resolveAge": 48,
-                                                "safeFields": Array [
-                                                  "business-email",
-                                                  "company",
-                                                ],
-                                                "scrapeJavaScript": true,
-                                                "scrubIPAddresses": false,
-                                                "securityToken": "security-token",
-                                                "securityTokenHeader": "x-security-header",
-                                                "sensitiveFields": Array [
-                                                  "creditcard",
-                                                  "ssn",
-                                                ],
                                                 "slug": "project-slug",
-                                                "subjectTemplate": "[$project] \${tag:level}: $title",
                                                 "teams": Array [
                                                   Object {
                                                     "id": "1",
@@ -644,7 +561,6 @@ exports[`OrganizationTeamProjects Should render 1`] = `
                                                     "slug": "team-slug",
                                                   },
                                                 ],
-                                                "verifySSL": true,
                                               }
                                             }
                                           >
diff --git a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
index 2d650819cb..a2a5381268 100644
--- a/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ownershipInput.spec.jsx.snap
@@ -49,34 +49,13 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
   }
   project={
     Object {
-      "allowedDomains": Array [
-        "example.com",
-        "https://example.com",
-      ],
-      "dataScrubber": false,
-      "dataScrubberDefaults": false,
-      "digestsMaxDelay": 60,
-      "digestsMinDelay": 5,
-      "features": Array [],
+      "hasAccess": true,
       "id": "2",
+      "isBookmarked": false,
+      "isMember": true,
       "name": "Project Name",
-      "resolveAge": 48,
-      "safeFields": Array [
-        "business-email",
-        "company",
-      ],
-      "scrapeJavaScript": true,
-      "scrubIPAddresses": false,
-      "securityToken": "security-token",
-      "securityTokenHeader": "x-security-header",
-      "sensitiveFields": Array [
-        "creditcard",
-        "ssn",
-      ],
       "slug": "project-slug",
-      "subjectTemplate": "[$project] \${tag:level}: $title",
       "teams": Array [],
-      "verifySSL": true,
     }
   }
 >
diff --git a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
index 7b09b715aa..95ab7d4648 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
@@ -126,34 +126,13 @@ exports[`ProjectAlertRuleDetails Edit alert rule renders 1`] = `
         }
         project={
           Object {
-            "allowedDomains": Array [
-              "example.com",
-              "https://example.com",
-            ],
-            "dataScrubber": false,
-            "dataScrubberDefaults": false,
-            "digestsMaxDelay": 60,
-            "digestsMinDelay": 5,
-            "features": Array [],
+            "hasAccess": true,
             "id": "2",
+            "isBookmarked": false,
+            "isMember": true,
             "name": "Project Name",
-            "resolveAge": 48,
-            "safeFields": Array [
-              "business-email",
-              "company",
-            ],
-            "scrapeJavaScript": true,
-            "scrubIPAddresses": false,
-            "securityToken": "security-token",
-            "securityTokenHeader": "x-security-header",
-            "sensitiveFields": Array [
-              "creditcard",
-              "ssn",
-            ],
             "slug": "project-slug",
-            "subjectTemplate": "[$project] \${tag:level}: $title",
             "teams": Array [],
-            "verifySSL": true,
           }
         }
       >
@@ -820,34 +799,13 @@ exports[`ProjectAlertRuleDetails New alert rule renders 1`] = `
         }
         project={
           Object {
-            "allowedDomains": Array [
-              "example.com",
-              "https://example.com",
-            ],
-            "dataScrubber": false,
-            "dataScrubberDefaults": false,
-            "digestsMaxDelay": 60,
-            "digestsMinDelay": 5,
-            "features": Array [],
+            "hasAccess": true,
             "id": "2",
+            "isBookmarked": false,
+            "isMember": true,
             "name": "Project Name",
-            "resolveAge": 48,
-            "safeFields": Array [
-              "business-email",
-              "company",
-            ],
-            "scrapeJavaScript": true,
-            "scrubIPAddresses": false,
-            "securityToken": "security-token",
-            "securityTokenHeader": "x-security-header",
-            "sensitiveFields": Array [
-              "creditcard",
-              "ssn",
-            ],
             "slug": "project-slug",
-            "subjectTemplate": "[$project] \${tag:level}: $title",
             "teams": Array [],
-            "verifySSL": true,
           }
         }
       >
diff --git a/tests/js/spec/views/__snapshots__/projectAlertSettings.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertSettings.spec.jsx.snap
index 72d18bb056..31875944d5 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertSettings.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertSettings.spec.jsx.snap
@@ -159,7 +159,10 @@ exports[`ProjectAlertSettings render() renders 1`] = `
           "digestsMaxDelay": 60,
           "digestsMinDelay": 5,
           "features": Array [],
+          "hasAccess": true,
           "id": "2",
+          "isBookmarked": false,
+          "isMember": true,
           "name": "Project Name",
           "resolveAge": 48,
           "safeFields": Array [
diff --git a/tests/js/spec/views/__snapshots__/projectOwnership.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectOwnership.spec.jsx.snap
index 567b7d45af..499d37d044 100644
--- a/tests/js/spec/views/__snapshots__/projectOwnership.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectOwnership.spec.jsx.snap
@@ -84,7 +84,10 @@ exports[`ProjectTeamsSettings render() renders 1`] = `
               "digestsMaxDelay": 60,
               "digestsMinDelay": 5,
               "features": Array [],
+              "hasAccess": true,
               "id": "2",
+              "isBookmarked": false,
+              "isMember": true,
               "name": "Project Name",
               "resolveAge": 48,
               "safeFields": Array [
diff --git a/tests/js/spec/views/__snapshots__/projectPluginDetails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectPluginDetails.spec.jsx.snap
index ad7c2b2f5d..a51b484fa6 100644
--- a/tests/js/spec/views/__snapshots__/projectPluginDetails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectPluginDetails.spec.jsx.snap
@@ -169,34 +169,13 @@ exports[`ProjectPluginDetails renders 1`] = `
   }
   project={
     Object {
-      "allowedDomains": Array [
-        "example.com",
-        "https://example.com",
-      ],
-      "dataScrubber": false,
-      "dataScrubberDefaults": false,
-      "digestsMaxDelay": 60,
-      "digestsMinDelay": 5,
-      "features": Array [],
+      "hasAccess": true,
       "id": "2",
+      "isBookmarked": false,
+      "isMember": true,
       "name": "Project Name",
-      "resolveAge": 48,
-      "safeFields": Array [
-        "business-email",
-        "company",
-      ],
-      "scrapeJavaScript": true,
-      "scrubIPAddresses": false,
-      "securityToken": "security-token",
-      "securityTokenHeader": "x-security-header",
-      "sensitiveFields": Array [
-        "creditcard",
-        "ssn",
-      ],
       "slug": "project-slug",
-      "subjectTemplate": "[$project] \${tag:level}: $title",
       "teams": Array [],
-      "verifySSL": true,
     }
   }
 >
@@ -250,34 +229,13 @@ exports[`ProjectPluginDetails renders 1`] = `
     }
     project={
       Object {
-        "allowedDomains": Array [
-          "example.com",
-          "https://example.com",
-        ],
-        "dataScrubber": false,
-        "dataScrubberDefaults": false,
-        "digestsMaxDelay": 60,
-        "digestsMinDelay": 5,
-        "features": Array [],
+        "hasAccess": true,
         "id": "2",
+        "isBookmarked": false,
+        "isMember": true,
         "name": "Project Name",
-        "resolveAge": 48,
-        "safeFields": Array [
-          "business-email",
-          "company",
-        ],
-        "scrapeJavaScript": true,
-        "scrubIPAddresses": false,
-        "securityToken": "security-token",
-        "securityTokenHeader": "x-security-header",
-        "sensitiveFields": Array [
-          "creditcard",
-          "ssn",
-        ],
         "slug": "project-slug",
-        "subjectTemplate": "[$project] \${tag:level}: $title",
         "teams": Array [],
-        "verifySSL": true,
       }
     }
   >
@@ -467,34 +425,13 @@ exports[`ProjectPluginDetails renders 1`] = `
                 }
                 project={
                   Object {
-                    "allowedDomains": Array [
-                      "example.com",
-                      "https://example.com",
-                    ],
-                    "dataScrubber": false,
-                    "dataScrubberDefaults": false,
-                    "digestsMaxDelay": 60,
-                    "digestsMinDelay": 5,
-                    "features": Array [],
+                    "hasAccess": true,
                     "id": "2",
+                    "isBookmarked": false,
+                    "isMember": true,
                     "name": "Project Name",
-                    "resolveAge": 48,
-                    "safeFields": Array [
-                      "business-email",
-                      "company",
-                    ],
-                    "scrapeJavaScript": true,
-                    "scrubIPAddresses": false,
-                    "securityToken": "security-token",
-                    "securityTokenHeader": "x-security-header",
-                    "sensitiveFields": Array [
-                      "creditcard",
-                      "ssn",
-                    ],
                     "slug": "project-slug",
-                    "subjectTemplate": "[$project] \${tag:level}: $title",
                     "teams": Array [],
-                    "verifySSL": true,
                   }
                 }
               >
@@ -676,34 +613,13 @@ exports[`ProjectPluginDetails renders 1`] = `
                                 }
                                 project={
                                   Object {
-                                    "allowedDomains": Array [
-                                      "example.com",
-                                      "https://example.com",
-                                    ],
-                                    "dataScrubber": false,
-                                    "dataScrubberDefaults": false,
-                                    "digestsMaxDelay": 60,
-                                    "digestsMinDelay": 5,
-                                    "features": Array [],
+                                    "hasAccess": true,
                                     "id": "2",
+                                    "isBookmarked": false,
+                                    "isMember": true,
                                     "name": "Project Name",
-                                    "resolveAge": 48,
-                                    "safeFields": Array [
-                                      "business-email",
-                                      "company",
-                                    ],
-                                    "scrapeJavaScript": true,
-                                    "scrubIPAddresses": false,
-                                    "securityToken": "security-token",
-                                    "securityTokenHeader": "x-security-header",
-                                    "sensitiveFields": Array [
-                                      "creditcard",
-                                      "ssn",
-                                    ],
                                     "slug": "project-slug",
-                                    "subjectTemplate": "[$project] \${tag:level}: $title",
                                     "teams": Array [],
-                                    "verifySSL": true,
                                   }
                                 }
                               />
diff --git a/tests/js/spec/views/projectAlertSettings.spec.jsx b/tests/js/spec/views/projectAlertSettings.spec.jsx
index 27f24ff495..513f6d22e8 100644
--- a/tests/js/spec/views/projectAlertSettings.spec.jsx
+++ b/tests/js/spec/views/projectAlertSettings.spec.jsx
@@ -10,7 +10,7 @@ describe('ProjectAlertSettings', function() {
 
   beforeEach(function() {
     org = TestStubs.Organization();
-    project = TestStubs.Project();
+    project = TestStubs.ProjectDetails();
 
     Client.addMockResponse({
       url: `/projects/${org.slug}/${project.slug}/`,
diff --git a/tests/js/spec/views/projectGeneralSettings.spec.jsx b/tests/js/spec/views/projectGeneralSettings.spec.jsx
index 4bc9f419cf..3b76669fa8 100644
--- a/tests/js/spec/views/projectGeneralSettings.spec.jsx
+++ b/tests/js/spec/views/projectGeneralSettings.spec.jsx
@@ -11,7 +11,7 @@ jest.mock('jquery');
 
 describe('projectGeneralSettings', function() {
   let org = TestStubs.Organization();
-  let project = TestStubs.Project();
+  let project = TestStubs.ProjectDetails();
 
   beforeEach(function() {
     sinon.stub(window.location, 'assign');
diff --git a/tests/js/spec/views/projectOwnership.spec.jsx b/tests/js/spec/views/projectOwnership.spec.jsx
index c9b15c1982..f90333ebbf 100644
--- a/tests/js/spec/views/projectOwnership.spec.jsx
+++ b/tests/js/spec/views/projectOwnership.spec.jsx
@@ -10,7 +10,7 @@ describe('ProjectTeamsSettings', function() {
 
   beforeEach(function() {
     org = TestStubs.Organization();
-    project = TestStubs.Project();
+    project = TestStubs.ProjectDetails();
 
     Client.addMockResponse({
       url: `/projects/${org.slug}/${project.slug}/`,
diff --git a/tests/js/spec/views/projectTeamSettings.spec.jsx b/tests/js/spec/views/projectTeamSettings.spec.jsx
index 67f5713aab..d730ef694b 100644
--- a/tests/js/spec/views/projectTeamSettings.spec.jsx
+++ b/tests/js/spec/views/projectTeamSettings.spec.jsx
@@ -17,7 +17,7 @@ describe('ProjectTeamsSettings', function() {
 
   beforeEach(function() {
     org = TestStubs.Organization();
-    project = TestStubs.Project();
+    project = TestStubs.ProjectDetails();
     team = TestStubs.Team();
 
     Client.addMockResponse({
diff --git a/tests/js/spec/views/projectUserFeedback.spec.jsx b/tests/js/spec/views/projectUserFeedback.spec.jsx
index 3c223ce355..cc241330e3 100644
--- a/tests/js/spec/views/projectUserFeedback.spec.jsx
+++ b/tests/js/spec/views/projectUserFeedback.spec.jsx
@@ -5,7 +5,7 @@ import ProjectUserFeedback from 'app/views/settings/project/projectUserFeedback'
 
 describe('ProjectUserFeedback', function() {
   let org = TestStubs.Organization();
-  let project = TestStubs.Project();
+  let project = TestStubs.ProjectDetails();
   let url = `/projects/${org.slug}/${project.slug}/`;
 
   beforeEach(function() {
