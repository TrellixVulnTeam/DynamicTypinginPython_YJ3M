commit 083515246267e455e79a02ea9db25a765d707c24
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Mar 17 10:17:31 2020 -0700

    ci(github): Add TSC matcher and better workflow (#17665)
    
    * Adds tsc step + annotations
    * Adds yarn caching
    * Refactor node version to use `.nvmrc`
    
    Co-authored-by: Mark Story <mark@mark-story.com>

diff --git a/.github/tsc.json b/.github/tsc.json
new file mode 100644
index 0000000000..6df5bf58f6
--- /dev/null
+++ b/.github/tsc.json
@@ -0,0 +1,18 @@
+{
+  "problemMatcher": [
+    {
+      "owner": "typescript",
+      "pattern": [
+        {
+          "regexp": "^(?:\\s+\\d+\\>)?([^\\s].*)\\((\\d+),(\\d+)\\)\\s*:\\s+(error|warning|info)\\s+(\\w{1,2}\\d+)\\s*:\\s*(.*)$",
+          "file": 1,
+          "line": 2,
+          "column": 3,
+          "severity": 4,
+          "code": 5,
+          "message": 6
+        }
+      ]
+    }
+  ]
+}
diff --git a/.github/workflows/eslint.yml b/.github/workflows/eslint.yml
deleted file mode 100644
index a8ba1549a6..0000000000
--- a/.github/workflows/eslint.yml
+++ /dev/null
@@ -1,21 +0,0 @@
-name: javascript
-on: push
-jobs:
-    build:
-      name: eslint
-      runs-on: ubuntu-latest
-      steps:
-        - uses: actions/checkout@v1
-        - uses: actions/setup-node@v1
-          with:
-            node-version: '10.16.3'
-
-        - name: yarn install
-          run: yarn install --frozen-lockfile
-
-        - name: eslint
-          uses: getsentry/action-eslint@v1
-          env:
-            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
-          with:
-            job-name: eslint
diff --git a/.github/workflows/javascript.yml b/.github/workflows/javascript.yml
new file mode 100644
index 0000000000..d269f9f3ee
--- /dev/null
+++ b/.github/workflows/javascript.yml
@@ -0,0 +1,51 @@
+name: javascript
+on:
+  pull_request:
+    paths:
+      - '**.[tj]sx?'
+
+jobs:
+    build:
+      runs-on: ubuntu-latest
+      steps:
+        # Checkout codebase
+        - uses: actions/checkout@v1
+
+        # See https://github.com/actions/cache/blob/master/examples.md#node---yarn for example
+        - name: Get yarn cache directory path
+          id: yarn-cache-dir-path
+          run: echo "::set-output name=dir::$(yarn cache dir)"
+
+        # Use nvmrc so we don't have yet another place node version is defined
+        - name: Get node version from .nvmrc
+          id: nvmrc
+          run: echo "::set-output name=version::$(cat .nvmrc)"
+
+        # yarn cache
+        - uses: actions/cache@v1
+          id: yarn-cache # use this to check for `cache-hit` (`steps.yarn-cache.outputs.cache-hit != 'true'`)
+          with:
+            path: ${{ steps.yarn-cache-dir-path.outputs.dir }}
+            key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
+            restore-keys: |
+              ${{ runner.os }}-yarn-
+
+        # Setup node
+        - uses: actions/setup-node@v1
+          with:
+            node-version: ${{ steps.nvmrc.outputs.version }}
+
+        - name: Install dependencies
+          run: yarn install --frozen-lockfile
+
+        - name: eslint
+          run:
+            yarn lint -c .eslintrc.relax.js
+
+        # Setup custom tsc matcher, see https://github.com/actions/setup-node/issues/97
+        - name: tsc
+          if: always()
+          run: |
+            echo "::remove-matcher owner=tsc::"
+            echo "::add-matcher::.github/tsc.json"
+            yarn tsc
diff --git a/src/sentry/static/sentry/app/data/platforms.jsx b/src/sentry/static/sentry/app/data/platforms.jsx
index 091e1814fb..6dfcdbafa6 100644
--- a/src/sentry/static/sentry/app/data/platforms.jsx
+++ b/src/sentry/static/sentry/app/data/platforms.jsx
@@ -1,3 +1,4 @@
+/* eslint import/no-unresolved:0 import/order:0 */
 import {platforms} from 'integration-docs-platforms';
 import {t} from 'app/locale';
 
diff --git a/src/sentry/static/sentry/app/views/app.jsx b/src/sentry/static/sentry/app/views/app.jsx
index d65e9144f7..03d88c2442 100644
--- a/src/sentry/static/sentry/app/views/app.jsx
+++ b/src/sentry/static/sentry/app/views/app.jsx
@@ -1,12 +1,12 @@
 import $ from 'jquery';
+import {Global, css} from '@emotion/core';
 import {ThemeProvider} from 'emotion-theming';
 import {browserHistory} from 'react-router';
-import isEqual from 'lodash/isEqual';
-import get from 'lodash/get';
-import {Global, css} from '@emotion/core';
 import Cookies from 'js-cookie';
 import PropTypes from 'prop-types';
 import React from 'react';
+import get from 'lodash/get';
+import isEqual from 'lodash/isEqual';
 import keydown from 'react-keydown';
 
 import {DEPLOY_PREVIEW_CONFIG, EXPERIMENTAL_SPA} from 'app/constants';
diff --git a/tsconfig.json b/tsconfig.json
index 614156f794..c2e6405b6e 100644
--- a/tsconfig.json
+++ b/tsconfig.json
@@ -19,7 +19,7 @@
     "noImplicitThis": true,
     "noUnusedLocals": true,
     "noUnusedParameters": true,
-    "pretty": true,
+    "pretty": false,
     "sourceMap": true,
     "strict": true,
     "target": "es5",
