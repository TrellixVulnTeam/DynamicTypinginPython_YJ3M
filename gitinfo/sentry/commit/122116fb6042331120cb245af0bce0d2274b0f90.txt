commit 122116fb6042331120cb245af0bce0d2274b0f90
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Sep 30 11:58:35 2015 -0700

    Correctly raise ValueError on User validation

diff --git a/src/sentry/interfaces/user.py b/src/sentry/interfaces/user.py
index 7188ef70f9..8607f13944 100644
--- a/src/sentry/interfaces/user.py
+++ b/src/sentry/interfaces/user.py
@@ -67,7 +67,8 @@ class User(Interface):
         username = trim(data.pop('username', None), 128)
         ip_address = validate_ip(data.pop('ip_address', None), False)
 
-        assert ident or email or username or ip_address
+        if not (ident or email or username or ip_address):
+            raise ValueError('No identifying value')
 
         kwargs = {
             'id': ident,
