commit a698ad613968ab75681ac0a73d18aa7104b985e2
Author: Jess MacQueen <jess@getsentry.com>
Date:   Tue Dec 5 20:36:27 2017 -0800

    fix(ignore): Make ignore ui use minutes to match backend

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index cd2431e372..f0bbac1cee 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -95,11 +95,11 @@ class StatusDetailsValidator(serializers.Serializer):
     inRelease = serializers.CharField()
     ignoreDuration = serializers.IntegerField()
     ignoreCount = serializers.IntegerField()
-    # in hours, max of one week
-    ignoreWindow = serializers.IntegerField(max_value=7 * 24)
+    # in minutes, max of one week
+    ignoreWindow = serializers.IntegerField(max_value=7 * 24 * 60)
     ignoreUserCount = serializers.IntegerField()
-    # in hours, max of one week
-    ignoreUserWindow = serializers.IntegerField(max_value=7 * 24)
+    # in minutes, max of one week
+    ignoreUserWindow = serializers.IntegerField(max_value=7 * 24 * 60)
 
     def validate_inRelease(self, attrs, source):
         value = attrs[source]
@@ -151,11 +151,11 @@ class GroupValidator(serializers.Serializer):
     discard = serializers.BooleanField()
     ignoreDuration = serializers.IntegerField()
     ignoreCount = serializers.IntegerField()
-    # in hours, max of one week
-    ignoreWindow = serializers.IntegerField(max_value=7 * 24)
+    # in minutes, max of one week
+    ignoreWindow = serializers.IntegerField(max_value=7 * 24 * 60)
     ignoreUserCount = serializers.IntegerField()
-    # in hours, max of one week
-    ignoreUserWindow = serializers.IntegerField(max_value=7 * 24)
+    # in minutes, max of one week
+    ignoreUserWindow = serializers.IntegerField(max_value=7 * 24 * 60)
     assignedTo = UserField()
 
     # TODO(dcramer): remove in 9.0
diff --git a/src/sentry/models/groupsnooze.py b/src/sentry/models/groupsnooze.py
index 18083b3966..b272c91edc 100644
--- a/src/sentry/models/groupsnooze.py
+++ b/src/sentry/models/groupsnooze.py
@@ -22,6 +22,8 @@ class GroupSnooze(Model):
     - If ``user_count`` is set, the snooze is lfited when unique users match.
     - If ``user_window`` is set (in addition to count), the snooze is lifted
       when the rate unique users matches.
+
+    NOTE: `window` and `user_window` are specified in minutes
     """
     __core__ = False
 
diff --git a/src/sentry/static/sentry/app/components/activity/item.jsx b/src/sentry/static/sentry/app/components/activity/item.jsx
index f0ff296ce3..edcdc3cf21 100644
--- a/src/sentry/static/sentry/app/components/activity/item.jsx
+++ b/src/sentry/static/sentry/app/components/activity/item.jsx
@@ -127,7 +127,7 @@ const ActivityItem = React.createClass({
             {
               author,
               count: data.ignoreCount,
-              duration: <Duration seconds={data.ignoreWindow * 3600} />,
+              duration: <Duration seconds={data.ignoreWindow * 60} />,
               issue: issueLink,
             }
           );
@@ -143,7 +143,7 @@ const ActivityItem = React.createClass({
             {
               author,
               count: data.ignoreUserCount,
-              duration: <Duration seconds={data.ignoreUserWindow * 3600} />,
+              duration: <Duration seconds={data.ignoreUserWindow * 60} />,
               issue: issueLink,
             }
           );
diff --git a/src/sentry/static/sentry/app/components/mutedBox.jsx b/src/sentry/static/sentry/app/components/mutedBox.jsx
index ce2ead5f02..04f75b2d1b 100644
--- a/src/sentry/static/sentry/app/components/mutedBox.jsx
+++ b/src/sentry/static/sentry/app/components/mutedBox.jsx
@@ -27,7 +27,7 @@ export default React.createClass({
         'This issue has been ignored until it occurs %s time(s) in %s',
         <strong>{details.ignoreCount.toLocaleString()}</strong>,
         <strong>
-          <Duration seconds={details.ignoreWindow * 3600} />
+          <Duration seconds={details.ignoreWindow * 60} />
         </strong>
       );
     } else if (details.ignoreCount) {
@@ -40,7 +40,7 @@ export default React.createClass({
         'This issue has been ignored until it affects %s user(s) in %s',
         <strong>{details.ignoreUserCount.toLocaleString()}</strong>,
         <strong>
-          <Duration seconds={details.ignoreUserWindow * 3600} />
+          <Duration seconds={details.ignoreUserWindow * 60} />
         </strong>
       );
     } else if (details.ignoreUserCount) {
diff --git a/src/sentry/static/sentry/app/views/groupActivity/index.jsx b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
index 13e9c8887f..bdc7bda4a6 100644
--- a/src/sentry/static/sentry/app/views/groupActivity/index.jsx
+++ b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
@@ -74,7 +74,7 @@ const GroupActivity = React.createClass({
             {
               author,
               count: data.ignoreCount,
-              duration: <Duration seconds={data.ignoreWindow * 3600} />,
+              duration: <Duration seconds={data.ignoreWindow * 60} />,
             }
           );
         } else if (data.ignoreCount) {
diff --git a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
index 4160147772..ec7f971f80 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/actions.jsx
@@ -184,7 +184,7 @@ const IgnoreActions = React.createClass({
   },
 
   getIgnoreWindows() {
-    return [[1, 'per hour'], [24, 'per day'], [24 * 7, 'per week']];
+    return [[60, 'per hour'], [24 * 60, 'per day'], [24 * 7 * 60, 'per week']];
   },
 
   onCustomIgnore(statusDetails) {
diff --git a/src/sentry/static/sentry/app/views/stream/actions.jsx b/src/sentry/static/sentry/app/views/stream/actions.jsx
index 21e2e20e13..c17ff0acb0 100644
--- a/src/sentry/static/sentry/app/views/stream/actions.jsx
+++ b/src/sentry/static/sentry/app/views/stream/actions.jsx
@@ -86,7 +86,7 @@ const IgnoreActions = React.createClass({
   },
 
   getIgnoreWindows() {
-    return [[1, 'per hour'], [24, 'per day'], [24 * 7, 'per week']];
+    return [[60, 'per hour'], [24 * 60, 'per day'], [24 * 7 * 60, 'per week']];
   },
 
   onCustomIgnore(statusDetails) {
diff --git a/tests/js/spec/components/__snapshots__/mutedBox.spec.jsx.snap b/tests/js/spec/components/__snapshots__/mutedBox.spec.jsx.snap
index 4c82813ff7..7c460b845f 100644
--- a/tests/js/spec/components/__snapshots__/mutedBox.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/mutedBox.spec.jsx.snap
@@ -54,7 +54,7 @@ exports[`MutedBox render() handles ignoreCount with ignoreWindow 1`] = `
        time(s) in 
       <strong>
         <Duration
-          seconds={3600}
+          seconds={60}
         />
       </strong>
        — 
@@ -124,7 +124,7 @@ exports[`MutedBox render() handles ignoreUserCount with ignoreUserWindow 1`] = `
        user(s) in 
       <strong>
         <Duration
-          seconds={3600}
+          seconds={60}
         />
       </strong>
        — 
