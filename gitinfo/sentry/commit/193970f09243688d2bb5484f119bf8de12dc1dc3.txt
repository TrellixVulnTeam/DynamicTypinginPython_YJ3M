commit 193970f09243688d2bb5484f119bf8de12dc1dc3
Author: adhiraj <693121+adhiraj@users.noreply.github.com>
Date:   Tue Jun 26 10:26:15 2018 -0700

    feat(login): Add query string option on login page (#8834)
    
    Currently a GET request to /auth/login always shows the basic authentication tab. Allow passing an "op" param that can be set to "sso" to activate the SSO tab instead. This is useful when we want to redirect someone to the SSO login page.

diff --git a/src/sentry/web/frontend/auth_login.py b/src/sentry/web/frontend/auth_login.py
index 0daf266e82..ecae79c07c 100644
--- a/src/sentry/web/frontend/auth_login.py
+++ b/src/sentry/web/frontend/auth_login.py
@@ -99,10 +99,13 @@ class AuthLoginView(BaseView):
 
         op = request.POST.get('op')
 
-        # Detect that we are on the register page by url /register/ and
-        # then activate the register tab by default.
-        if not op and '/register' in request.path_info and can_register:
-            op = 'register'
+        if not op:
+            # Detect that we are on the register page by url /register/ and
+            # then activate the register tab by default.
+            if '/register' in request.path_info and can_register:
+                op = 'register'
+            elif request.GET.get('op') == 'sso':
+                op = 'sso'
 
         login_form = self.get_login_form(request)
         if can_register:
