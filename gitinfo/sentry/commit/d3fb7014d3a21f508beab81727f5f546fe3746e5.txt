commit d3fb7014d3a21f508beab81727f5f546fe3746e5
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 11 18:02:29 2013 -0800

    Linenos are not zero indexed in javascript frames

diff --git a/src/sentry/utils/sourcemaps.py b/src/sentry/utils/sourcemaps.py
index aace976e53..1547f23281 100644
--- a/src/sentry/utils/sourcemaps.py
+++ b/src/sentry/utils/sourcemaps.py
@@ -111,5 +111,6 @@ def sourcemap_to_index(sourcemap):
 
 
 def find_source(indexed_sourcemap, lineno, colno):
-    # error says "line no 0, column no 56"
-    return indexed_sourcemap.states[bisect.bisect_left(indexed_sourcemap.keys, (lineno, colno)) - 1]
+    # error says "line no 1, column no 56"
+    assert lineno > 0, 'line numbers are 1-indexed'
+    return indexed_sourcemap.states[bisect.bisect_left(indexed_sourcemap.keys, (lineno - 1, colno)) - 1]
diff --git a/tests/sentry/utils/sourcemaps/tests.py b/tests/sentry/utils/sourcemaps/tests.py
index dc98dc6c05..03efc3b5eb 100644
--- a/tests/sentry/utils/sourcemaps/tests.py
+++ b/tests/sentry/utils/sourcemaps/tests.py
@@ -23,12 +23,13 @@ class FindSourceTest(TestCase):
     def test_simple(self):
         indexed_sourcemap = sourcemap_to_index(sourcemap)
 
-        result = find_source(indexed_sourcemap, 0, 56)
+        result = find_source(indexed_sourcemap, 1, 56)
 
         assert result == SourceMap(dst_line=0, dst_col=50, src='file2.js', src_line=0, src_col=9, name='multiply')
 
 
 class ParseSourcemapTest(TestCase):
+    def test_basic(self):
         states = list(parse_sourcemap(sourcemap))
 
         assert states == [
