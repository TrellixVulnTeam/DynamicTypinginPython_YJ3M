commit 80b7a59635efcba64d1c568ee98429bbdd7e6327
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Sep 3 10:29:10 2019 -1000

    ref(ts): Refactor Settings Index to ts (#14478)
    
    * Replace `grid-emotion` with CSS grid as well

diff --git a/src/sentry/static/sentry/app/views/settings/settingsIndex.jsx b/src/sentry/static/sentry/app/views/settings/settingsIndex.jsx
deleted file mode 100644
index 6326ceed36..0000000000
--- a/src/sentry/static/sentry/app/views/settings/settingsIndex.jsx
+++ /dev/null
@@ -1,376 +0,0 @@
-import {Flex, Box} from 'grid-emotion';
-import DocumentTitle from 'react-document-title';
-import PropTypes from 'prop-types';
-import React from 'react';
-import styled, {css} from 'react-emotion';
-
-import {t} from 'app/locale';
-import Avatar from 'app/components/avatar';
-import ConfigStore from 'app/stores/configStore';
-import ExternalLink from 'app/components/links/externalLink';
-import {fetchOrganizationDetails} from 'app/actionCreators/organizations';
-import InlineSvg from 'app/components/inlineSvg';
-import Link from 'app/components/links/link';
-import LoadingIndicator from 'app/components/loadingIndicator';
-import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
-import overflowEllipsis from 'app/styles/overflowEllipsis';
-import SentryTypes from 'app/sentryTypes';
-import SettingsLayout from 'app/views/settings/components/settingsLayout';
-import withLatestContext from 'app/utils/withLatestContext';
-
-const LINKS = {
-  DOCUMENTATION: 'https://docs.sentry.io/',
-  DOCUMENTATION_PLATFORMS: 'https://docs.sentry.io/clients/',
-  DOCUMENATATION_QUICKSTART: 'https://docs.sentry.io/quickstart/',
-  DOCUMENTATION_CLI: 'https://docs.sentry.io/learn/cli/',
-  DOCUMENTATION_API: 'https://docs.sentry.io/hosted/api/',
-  API: '/settings/account/api/',
-  API_APPLICATIONS: '/settings/account/api/applications/',
-  MANAGE: '/manage/',
-  FORUM: 'https://forum.sentry.io/',
-  GITHUB_ISSUES: 'https://github.com/getsentry/sentry/issues',
-  SERVICE_STATUS: 'https://status.sentry.io/',
-};
-
-const HOME_ICON_SIZE = 76;
-
-const flexCenter = css`
-  display: flex;
-  flex-direction: column;
-  align-items: center;
-`;
-
-class SettingsIndex extends React.Component {
-  static propTypes = {
-    organization: SentryTypes.Organization,
-  };
-
-  componentDidUpdate(prevProps) {
-    const {organization} = this.props;
-    if (prevProps.organization === organization) {
-      return;
-    }
-
-    // if there is no org in context, SidebarDropdown uses an org from `withLatestContext`
-    // (which queries the org index endpoint instead of org details)
-    // and does not have `access` info
-    if (organization && typeof organization.access === 'undefined') {
-      fetchOrganizationDetails(organization.slug, {
-        setActive: true,
-        loadProjects: true,
-      });
-    }
-  }
-
-  render() {
-    const {organization} = this.props;
-    const user = ConfigStore.get('user');
-    const isOnPremise = ConfigStore.get('isOnPremise');
-    const isSuperuser = user.isSuperuser;
-
-    const organizationSettingsUrl =
-      (organization && `/settings/${organization.slug}/`) || '';
-
-    const supportLinkProps = {
-      isOnPremise,
-      href: LINKS.FORUM,
-      to: `${organizationSettingsUrl}support`,
-    };
-    const supportText = isOnPremise ? t('Community Forums') : t('Contact Support');
-
-    return (
-      <DocumentTitle title={organization ? `${organization.slug} Settings` : 'Settings'}>
-        <SettingsLayout {...this.props}>
-          <Flex mx={-2} wrap>
-            <Box w={1 / 3} px={2}>
-              <Panel>
-                <HomePanelHeader>
-                  <HomeLinkIcon to="/settings/account/">
-                    <AvatarContainer>
-                      <Avatar user={user} size={HOME_ICON_SIZE} />
-                    </AvatarContainer>
-                    {t('My Account')}
-                  </HomeLinkIcon>
-                </HomePanelHeader>
-
-                <HomePanelBody>
-                  <h3>{t('Quick links')}:</h3>
-                  <ul>
-                    <li>
-                      <HomeLink to="/settings/account/security/">
-                        {t('Change my password')}
-                      </HomeLink>
-                    </li>
-                    <li>
-                      <HomeLink to="/settings/account/notifications/">
-                        {t('Notification Preferences')}
-                      </HomeLink>
-                    </li>
-                    <li>
-                      <HomeLink to="/settings/account/">{t('Change my avatar')}</HomeLink>
-                    </li>
-                  </ul>
-                </HomePanelBody>
-              </Panel>
-            </Box>
-
-            <Box w={1 / 3} px={2}>
-              {/* if admin */}
-              <Panel>
-                {!organization && <LoadingIndicator overlay hideSpinner />}
-                <HomePanelHeader>
-                  <HomeLinkIcon to={organizationSettingsUrl}>
-                    {organization ? (
-                      <AvatarContainer>
-                        <Avatar organization={organization} size={HOME_ICON_SIZE} />
-                      </AvatarContainer>
-                    ) : (
-                      <HomeIcon color="green">
-                        <InlineSvg src="icon-stack" size="44px" />
-                      </HomeIcon>
-                    )}
-                    <OrganizationName css={{lineHeight: '1.1em'}}>
-                      {organization ? organization.slug : t('No Organization')}
-                    </OrganizationName>
-                  </HomeLinkIcon>
-                </HomePanelHeader>
-                <HomePanelBody>
-                  <h3>{t('Quick links')}:</h3>
-                  <ul>
-                    <li>
-                      <HomeLink to={`${organizationSettingsUrl}projects/`}>
-                        {t('Projects')}
-                      </HomeLink>
-                    </li>
-                    <li>
-                      <HomeLink to={`${organizationSettingsUrl}teams/`}>
-                        {t('Teams')}
-                      </HomeLink>
-                    </li>
-                    <li>
-                      <HomeLink to={`${organizationSettingsUrl}members/`}>
-                        {t('Members')}
-                      </HomeLink>
-                    </li>
-                  </ul>
-                </HomePanelBody>
-              </Panel>
-            </Box>
-
-            <Box w={1 / 3} px={2}>
-              <Panel>
-                <HomePanelHeader>
-                  <ExternalHomeLink css={flexCenter} href={LINKS.DOCUMENTATION}>
-                    <HomeIcon color="orange">
-                      <InlineSvg src="icon-docs" size="48px" />
-                    </HomeIcon>
-                  </ExternalHomeLink>
-                  <ExternalHomeLink href={LINKS.DOCUMENTATION}>
-                    {t('Documentation')}
-                  </ExternalHomeLink>
-                </HomePanelHeader>
-
-                <HomePanelBody>
-                  <h3>{t('Quick links')}:</h3>
-                  <ul>
-                    <li>
-                      <ExternalHomeLink href={LINKS.DOCUMENATATION_QUICKSTART}>
-                        {t('Quickstart Guide')}
-                      </ExternalHomeLink>
-                    </li>
-                    <li>
-                      <ExternalHomeLink href={LINKS.DOCUMENTATION_PLATFORMS}>
-                        {t('Platforms & Frameworks')}
-                      </ExternalHomeLink>
-                    </li>
-                    <li>
-                      <ExternalHomeLink href={LINKS.DOCUMENTATION_CLI}>
-                        {t('Sentry CLI')}
-                      </ExternalHomeLink>
-                    </li>
-                  </ul>
-                </HomePanelBody>
-              </Panel>
-            </Box>
-
-            <Box w={1 / 3} px={2}>
-              <Panel>
-                <HomePanelHeader>
-                  <SupportLinkComponent css={flexCenter} {...supportLinkProps}>
-                    <HomeIcon color="purple">
-                      <InlineSvg src="icon-support" size="48px" />
-                    </HomeIcon>
-                    {t('Support')}
-                  </SupportLinkComponent>
-                </HomePanelHeader>
-
-                <HomePanelBody>
-                  <h3>{t('Quick links')}:</h3>
-                  <ul>
-                    <li>
-                      <SupportLinkComponent {...supportLinkProps}>
-                        {supportText}
-                      </SupportLinkComponent>
-                    </li>
-                    <li>
-                      <ExternalHomeLink href={LINKS.GITHUB_ISSUES}>
-                        {t('Sentry on GitHub')}
-                      </ExternalHomeLink>
-                    </li>
-                    <li>
-                      <ExternalHomeLink href={LINKS.SERVICE_STATUS}>
-                        {t('Service Status')}
-                      </ExternalHomeLink>
-                    </li>
-                  </ul>
-                </HomePanelBody>
-              </Panel>
-            </Box>
-
-            <Box w={1 / 3} px={2}>
-              <Panel>
-                <HomePanelHeader>
-                  <HomeLinkIcon to={LINKS.API}>
-                    <HomeIcon>
-                      <InlineSvg src="icon-lock" size="48px" />
-                    </HomeIcon>
-                    {t('API Keys')}
-                  </HomeLinkIcon>
-                </HomePanelHeader>
-
-                <HomePanelBody>
-                  <h3>{t('Quick links')}:</h3>
-                  <ul>
-                    <li>
-                      <HomeLink to={LINKS.API}>{t('Auth Tokens')}</HomeLink>
-                    </li>
-                    <li>
-                      <HomeLink to={LINKS.API_APPLICATIONS}>{t('Applications')}</HomeLink>
-                    </li>
-                    <li>
-                      <ExternalHomeLink href={LINKS.DOCUMENTATION_API}>
-                        {t('Documentation')}
-                      </ExternalHomeLink>
-                    </li>
-                  </ul>
-                </HomePanelBody>
-              </Panel>
-            </Box>
-
-            {isSuperuser && (
-              <Box w={1 / 3} px={2}>
-                <Panel>
-                  <HomePanelHeader>
-                    <HomeLinkIcon href={LINKS.MANAGE}>
-                      <HomeIcon color="red">
-                        <InlineSvg src="icon-laptop" size="48px" />
-                      </HomeIcon>
-                      {t('Server Admin')}
-                    </HomeLinkIcon>
-                  </HomePanelHeader>
-                  <HomePanelBody>
-                    <h3>{t('Quick links')}:</h3>
-                    <ul>
-                      <li />
-                      <li />
-                      <li />
-                    </ul>
-                  </HomePanelBody>
-                </Panel>
-              </Box>
-            )}
-          </Flex>
-        </SettingsLayout>
-      </DocumentTitle>
-    );
-  }
-}
-
-export {SettingsIndex};
-export default withLatestContext(SettingsIndex);
-
-const HomePanelHeader = styled(PanelHeader)`
-  background: #fff;
-  flex-direction: column;
-  text-align: center;
-  justify-content: center;
-  font-size: 18px;
-  text-transform: unset;
-  padding: 35px 30px;
-`;
-
-const HomePanelBody = styled(PanelBody)`
-  padding: 30px;
-
-  h3 {
-    font-size: 14px;
-  }
-
-  ul {
-    margin: 0;
-    li {
-      line-height: 1.6;
-      /* Bullet color */
-      color: ${p => p.theme.gray1};
-    }
-  }
-`;
-
-const getHomeIconMargin = css`
-  margin-bottom: 20px;
-`;
-
-const HomeIcon = styled('div')`
-  background: ${p => p.theme[p.color || 'gray2']};
-  color: #fff;
-  width: ${HOME_ICON_SIZE}px;
-  height: ${HOME_ICON_SIZE}px;
-  border-radius: ${HOME_ICON_SIZE}px;
-  ${getHomeIconMargin} > svg {
-    margin-top: 14px;
-  }
-`;
-
-const HomeLink = styled(Link)`
-  color: ${p => p.theme.purple};
-
-  &:hover {
-    color: ${p => p.theme.purpleDark};
-  }
-`;
-
-const HomeLinkIcon = styled(HomeLink)`
-  overflow: hidden;
-  width: 100%;
-  ${flexCenter};
-`;
-
-const ExternalHomeLink = styled(ExternalLink)`
-  color: ${p => p.theme.purple};
-
-  &:hover {
-    color: ${p => p.theme.purpleDark};
-  }
-`;
-
-const SupportLinkComponent = ({isOnPremise, href, to, ...props}) => {
-  if (isOnPremise) {
-    return <ExternalHomeLink href={href} {...props} />;
-  }
-  return <HomeLink to={to} {...props} />;
-};
-SupportLinkComponent.propTypes = {
-  isOnPremise: PropTypes.bool,
-  href: PropTypes.string,
-  to: PropTypes.string,
-};
-
-const AvatarContainer = styled('div')`
-  margin-bottom: 20px;
-`;
-
-const OrganizationName = styled('div')`
-  line-height: 1.1em;
-
-  ${overflowEllipsis};
-`;
diff --git a/src/sentry/static/sentry/app/views/settings/settingsIndex.tsx b/src/sentry/static/sentry/app/views/settings/settingsIndex.tsx
new file mode 100644
index 0000000000..6d1777fff5
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/settings/settingsIndex.tsx
@@ -0,0 +1,385 @@
+import DocumentTitle from 'react-document-title';
+import PropTypes from 'prop-types';
+import React from 'react';
+import styled, {css} from 'react-emotion';
+
+import {t} from 'app/locale';
+import Avatar from 'app/components/avatar';
+import ConfigStore from 'app/stores/configStore';
+import ExternalLink from 'app/components/links/externalLink';
+import {fetchOrganizationDetails} from 'app/actionCreators/organizations';
+import InlineSvg from 'app/components/inlineSvg';
+import Link from 'app/components/links/link';
+import LoadingIndicator from 'app/components/loadingIndicator';
+import {Panel, PanelBody, PanelHeader} from 'app/components/panels';
+import overflowEllipsis from 'app/styles/overflowEllipsis';
+import SentryTypes from 'app/sentryTypes';
+import SettingsLayout from 'app/views/settings/components/settingsLayout';
+import withLatestContext from 'app/utils/withLatestContext';
+import {Organization} from 'app/types';
+
+const LINKS = {
+  DOCUMENTATION: 'https://docs.sentry.io/',
+  DOCUMENTATION_PLATFORMS: 'https://docs.sentry.io/clients/',
+  DOCUMENATATION_QUICKSTART: 'https://docs.sentry.io/quickstart/',
+  DOCUMENTATION_CLI: 'https://docs.sentry.io/learn/cli/',
+  DOCUMENTATION_API: 'https://docs.sentry.io/hosted/api/',
+  API: '/settings/account/api/',
+  API_APPLICATIONS: '/settings/account/api/applications/',
+  MANAGE: '/manage/',
+  FORUM: 'https://forum.sentry.io/',
+  GITHUB_ISSUES: 'https://github.com/getsentry/sentry/issues',
+  SERVICE_STATUS: 'https://status.sentry.io/',
+};
+
+const HOME_ICON_SIZE = 76;
+
+const flexCenter = css`
+  display: flex;
+  flex-direction: column;
+  align-items: center;
+`;
+
+type Props = {
+  organization: Organization;
+};
+
+class SettingsIndex extends React.Component<Props> {
+  static propTypes = {
+    organization: SentryTypes.Organization,
+  };
+
+  componentDidUpdate(prevProps: Props) {
+    const {organization} = this.props;
+    if (prevProps.organization === organization) {
+      return;
+    }
+
+    // if there is no org in context, SidebarDropdown uses an org from `withLatestContext`
+    // (which queries the org index endpoint instead of org details)
+    // and does not have `access` info
+    if (organization && typeof organization.access === 'undefined') {
+      fetchOrganizationDetails(organization.slug, {
+        setActive: true,
+        loadProjects: true,
+      });
+    }
+  }
+
+  render() {
+    const {organization} = this.props;
+    const user = ConfigStore.get('user');
+    const isOnPremise = ConfigStore.get('isOnPremise');
+
+    const organizationSettingsUrl =
+      (organization && `/settings/${organization.slug}/`) || '';
+
+    const supportLinkProps = {
+      isOnPremise,
+      href: LINKS.FORUM,
+      to: `${organizationSettingsUrl}support`,
+    };
+    const supportText = isOnPremise ? t('Community Forums') : t('Contact Support');
+
+    return (
+      <DocumentTitle title={organization ? `${organization.slug} Settings` : 'Settings'}>
+        <SettingsLayout {...this.props}>
+          <GridLayout>
+            <GridPanel>
+              <HomePanelHeader>
+                <HomeLinkIcon to="/settings/account/">
+                  <AvatarContainer>
+                    <Avatar user={user} size={HOME_ICON_SIZE} />
+                  </AvatarContainer>
+                  {t('My Account')}
+                </HomeLinkIcon>
+              </HomePanelHeader>
+
+              <HomePanelBody>
+                <h3>{t('Quick links')}:</h3>
+                <ul>
+                  <li>
+                    <HomeLink to="/settings/account/security/">
+                      {t('Change my password')}
+                    </HomeLink>
+                  </li>
+                  <li>
+                    <HomeLink to="/settings/account/notifications/">
+                      {t('Notification Preferences')}
+                    </HomeLink>
+                  </li>
+                  <li>
+                    <HomeLink to="/settings/account/">{t('Change my avatar')}</HomeLink>
+                  </li>
+                </ul>
+              </HomePanelBody>
+            </GridPanel>
+
+            {/* if admin */}
+            <GridPanel>
+              {!organization && <LoadingIndicator overlay hideSpinner />}
+              <HomePanelHeader>
+                <HomeLinkIcon to={organizationSettingsUrl}>
+                  {organization ? (
+                    <AvatarContainer>
+                      <Avatar organization={organization} size={HOME_ICON_SIZE} />
+                    </AvatarContainer>
+                  ) : (
+                    <HomeIcon color="green">
+                      <InlineSvg src="icon-stack" size="44px" />
+                    </HomeIcon>
+                  )}
+                  <OrganizationName>
+                    {organization ? organization.slug : t('No Organization')}
+                  </OrganizationName>
+                </HomeLinkIcon>
+              </HomePanelHeader>
+              <HomePanelBody>
+                <h3>{t('Quick links')}:</h3>
+                <ul>
+                  <li>
+                    <HomeLink to={`${organizationSettingsUrl}projects/`}>
+                      {t('Projects')}
+                    </HomeLink>
+                  </li>
+                  <li>
+                    <HomeLink to={`${organizationSettingsUrl}teams/`}>
+                      {t('Teams')}
+                    </HomeLink>
+                  </li>
+                  <li>
+                    <HomeLink to={`${organizationSettingsUrl}members/`}>
+                      {t('Members')}
+                    </HomeLink>
+                  </li>
+                </ul>
+              </HomePanelBody>
+            </GridPanel>
+
+            <GridPanel>
+              <HomePanelHeader>
+                <ExternalHomeLink isCentered href={LINKS.DOCUMENTATION}>
+                  <HomeIcon color="orange">
+                    <InlineSvg src="icon-docs" size="48px" />
+                  </HomeIcon>
+                </ExternalHomeLink>
+                <ExternalHomeLink href={LINKS.DOCUMENTATION}>
+                  {t('Documentation')}
+                </ExternalHomeLink>
+              </HomePanelHeader>
+
+              <HomePanelBody>
+                <h3>{t('Quick links')}:</h3>
+                <ul>
+                  <li>
+                    <ExternalHomeLink href={LINKS.DOCUMENATATION_QUICKSTART}>
+                      {t('Quickstart Guide')}
+                    </ExternalHomeLink>
+                  </li>
+                  <li>
+                    <ExternalHomeLink href={LINKS.DOCUMENTATION_PLATFORMS}>
+                      {t('Platforms & Frameworks')}
+                    </ExternalHomeLink>
+                  </li>
+                  <li>
+                    <ExternalHomeLink href={LINKS.DOCUMENTATION_CLI}>
+                      {t('Sentry CLI')}
+                    </ExternalHomeLink>
+                  </li>
+                </ul>
+              </HomePanelBody>
+            </GridPanel>
+
+            <GridPanel>
+              <HomePanelHeader>
+                <SupportLinkComponent isCentered {...supportLinkProps}>
+                  <HomeIcon color="purple">
+                    <InlineSvg src="icon-support" size="48px" />
+                  </HomeIcon>
+                  {t('Support')}
+                </SupportLinkComponent>
+              </HomePanelHeader>
+
+              <HomePanelBody>
+                <h3>{t('Quick links')}:</h3>
+                <ul>
+                  <li>
+                    <SupportLinkComponent {...supportLinkProps}>
+                      {supportText}
+                    </SupportLinkComponent>
+                  </li>
+                  <li>
+                    <ExternalHomeLink href={LINKS.GITHUB_ISSUES}>
+                      {t('Sentry on GitHub')}
+                    </ExternalHomeLink>
+                  </li>
+                  <li>
+                    <ExternalHomeLink href={LINKS.SERVICE_STATUS}>
+                      {t('Service Status')}
+                    </ExternalHomeLink>
+                  </li>
+                </ul>
+              </HomePanelBody>
+            </GridPanel>
+
+            <GridPanel>
+              <HomePanelHeader>
+                <HomeLinkIcon to={LINKS.API}>
+                  <HomeIcon>
+                    <InlineSvg src="icon-lock" size="48px" />
+                  </HomeIcon>
+                  {t('API Keys')}
+                </HomeLinkIcon>
+              </HomePanelHeader>
+
+              <HomePanelBody>
+                <h3>{t('Quick links')}:</h3>
+                <ul>
+                  <li>
+                    <HomeLink to={LINKS.API}>{t('Auth Tokens')}</HomeLink>
+                  </li>
+                  <li>
+                    <HomeLink to={LINKS.API_APPLICATIONS}>{t('Applications')}</HomeLink>
+                  </li>
+                  <li>
+                    <ExternalHomeLink href={LINKS.DOCUMENTATION_API}>
+                      {t('Documentation')}
+                    </ExternalHomeLink>
+                  </li>
+                </ul>
+              </HomePanelBody>
+            </GridPanel>
+          </GridLayout>
+        </SettingsLayout>
+      </DocumentTitle>
+    );
+  }
+}
+
+export {SettingsIndex};
+export default withLatestContext(SettingsIndex);
+
+const HomePanelHeader = styled(PanelHeader)`
+  background: #fff;
+  flex-direction: column;
+  text-align: center;
+  justify-content: center;
+  font-size: 18px;
+  text-transform: unset;
+  padding: 35px 30px;
+`;
+
+const HomePanelBody = styled(PanelBody)`
+  padding: 30px;
+
+  h3 {
+    font-size: 14px;
+  }
+
+  ul {
+    margin: 0;
+    li {
+      line-height: 1.6;
+      /* Bullet color */
+      color: ${p => p.theme.gray1};
+    }
+  }
+`;
+
+const HomeIcon = styled('div')<{color?: string}>`
+  background: ${p => p.theme[p.color || 'gray2']};
+  color: #fff;
+  width: ${HOME_ICON_SIZE}px;
+  height: ${HOME_ICON_SIZE}px;
+  border-radius: ${HOME_ICON_SIZE}px;
+  margin-bottom: 20px;
+
+  ${InlineSvg} {
+    margin-top: 14px;
+  }
+`;
+
+type CenterableProps = {
+  isCentered?: boolean;
+};
+
+const HomeLink = styled(Link)`
+  color: ${p => p.theme.purple};
+
+  &:hover {
+    color: ${p => p.theme.purpleDark};
+  }
+`;
+
+const HomeLinkIcon = styled(HomeLink)`
+  overflow: hidden;
+  width: 100%;
+  ${flexCenter};
+`;
+
+const ExternalHomeLink = styled(
+  ({
+    isCentered,
+    ...props
+  }: CenterableProps & React.ComponentProps<typeof ExternalLink>) => (
+    <ExternalLink {...props} />
+  )
+)<CenterableProps>`
+  color: ${p => p.theme.purple};
+
+  &:hover {
+    color: ${p => p.theme.purpleDark};
+  }
+
+  ${p => p.isCentered && flexCenter};
+`;
+
+type SupportLinkProps = {
+  isOnPremise: boolean;
+  href: string;
+  to: string;
+  isCentered?: boolean;
+} & (
+  | {isOnPremise: true} & React.ComponentProps<typeof ExternalLink>
+  | {isOnPremise: false} & React.ComponentProps<typeof HomeLink>);
+
+const SupportLinkComponent = ({
+  isCentered,
+  isOnPremise,
+  href,
+  to,
+  ...props
+}: SupportLinkProps) => {
+  if (isOnPremise) {
+    return <ExternalHomeLink isCentered={isCentered} href={href} {...props} />;
+  }
+  return <HomeLink to={to} {...props} />;
+};
+
+SupportLinkComponent.propTypes = {
+  isOnPremise: PropTypes.bool,
+  href: PropTypes.string,
+  to: PropTypes.string,
+  isCentered: PropTypes.bool,
+  children: PropTypes.node,
+};
+
+const AvatarContainer = styled('div')`
+  margin-bottom: 20px;
+`;
+
+const OrganizationName = styled('div')`
+  line-height: 1.1em;
+
+  ${overflowEllipsis};
+`;
+
+const GridLayout = styled('div')`
+  display: grid;
+  grid-template-columns: 1fr 1fr 1fr;
+  grid-gap: 16px;
+`;
+
+const GridPanel = styled(Panel)`
+  margin-bottom: 0;
+`;
diff --git a/tests/js/spec/views/settings/__snapshots__/settingsIndex.spec.jsx.snap b/tests/js/spec/views/settings/__snapshots__/settingsIndex.spec.jsx.snap
index 2535f75cb4..45a923aa88 100644
--- a/tests/js/spec/views/settings/__snapshots__/settingsIndex.spec.jsx.snap
+++ b/tests/js/spec/views/settings/__snapshots__/settingsIndex.spec.jsx.snap
@@ -34,353 +34,307 @@ exports[`SettingsIndex renders 1`] = `
       }
     }
   >
-    <Flex
-      mx={-2}
-      wrap={true}
-    >
-      <Box
-        px={2}
-        w={0.3333333333333333}
-      >
-        <Panel>
-          <HomePanelHeader>
-            <HomeLinkIcon
-              to="/settings/account/"
-            >
-              <AvatarContainer>
-                <Avatar
-                  hasTooltip={false}
-                  size={76}
-                  user={
-                    Object {
-                      "email": "foo@example.com",
-                      "flags": Object {
-                        "newsletter_consent_prompt": false,
-                      },
-                      "hasPasswordAuth": true,
-                      "id": "1",
-                      "isAuthenticated": true,
-                      "name": "Foo Bar",
-                      "options": Object {
-                        "timezone": "UTC",
-                      },
-                      "permissions": Set {},
-                      "username": "foo@example.com",
-                    }
-                  }
-                />
-              </AvatarContainer>
-              My Account
-            </HomeLinkIcon>
-          </HomePanelHeader>
-          <HomePanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
+    <GridLayout>
+      <GridPanel>
+        <HomePanelHeader>
+          <HomeLinkIcon
+            to="/settings/account/"
           >
-            <h3>
-              Quick links
-              :
-            </h3>
-            <ul>
-              <li>
-                <HomeLink
-                  to="/settings/account/security/"
-                >
-                  Change my password
-                </HomeLink>
-              </li>
-              <li>
-                <HomeLink
-                  to="/settings/account/notifications/"
-                >
-                  Notification Preferences
-                </HomeLink>
-              </li>
-              <li>
-                <HomeLink
-                  to="/settings/account/"
-                >
-                  Change my avatar
-                </HomeLink>
-              </li>
-            </ul>
-          </HomePanelBody>
-        </Panel>
-      </Box>
-      <Box
-        px={2}
-        w={0.3333333333333333}
-      >
-        <Panel>
-          <HomePanelHeader>
-            <HomeLinkIcon
-              to="/settings/org-slug/"
-            >
-              <AvatarContainer>
-                <Avatar
-                  hasTooltip={false}
-                  organization={
-                    Object {
-                      "access": Array [
-                        "org:read",
-                        "org:write",
-                        "org:admin",
-                        "org:integrations",
-                        "project:read",
-                        "project:write",
-                        "project:admin",
-                        "team:read",
-                        "team:write",
-                        "team:admin",
-                      ],
-                      "features": Array [],
-                      "id": "3",
-                      "name": "Organization Name",
-                      "onboardingTasks": Array [],
-                      "projects": Array [],
-                      "scrapeJavaScript": true,
-                      "slug": "org-slug",
-                      "status": Object {
-                        "id": "active",
-                        "name": "active",
-                      },
-                      "teams": Array [],
-                    }
+            <AvatarContainer>
+              <Avatar
+                hasTooltip={false}
+                size={76}
+                user={
+                  Object {
+                    "email": "foo@example.com",
+                    "flags": Object {
+                      "newsletter_consent_prompt": false,
+                    },
+                    "hasPasswordAuth": true,
+                    "id": "1",
+                    "isAuthenticated": true,
+                    "name": "Foo Bar",
+                    "options": Object {
+                      "timezone": "UTC",
+                    },
+                    "permissions": Set {},
+                    "username": "foo@example.com",
                   }
-                  size={76}
-                />
-              </AvatarContainer>
-              <OrganizationName
-                className="css-sikqsf"
+                }
+              />
+            </AvatarContainer>
+            My Account
+          </HomeLinkIcon>
+        </HomePanelHeader>
+        <HomePanelBody
+          direction="column"
+          disablePadding={true}
+          flex={false}
+        >
+          <h3>
+            Quick links
+            :
+          </h3>
+          <ul>
+            <li>
+              <HomeLink
+                to="/settings/account/security/"
+              >
+                Change my password
+              </HomeLink>
+            </li>
+            <li>
+              <HomeLink
+                to="/settings/account/notifications/"
+              >
+                Notification Preferences
+              </HomeLink>
+            </li>
+            <li>
+              <HomeLink
+                to="/settings/account/"
               >
-                org-slug
-              </OrganizationName>
-            </HomeLinkIcon>
-          </HomePanelHeader>
-          <HomePanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
+                Change my avatar
+              </HomeLink>
+            </li>
+          </ul>
+        </HomePanelBody>
+      </GridPanel>
+      <GridPanel>
+        <HomePanelHeader>
+          <HomeLinkIcon
+            to="/settings/org-slug/"
           >
-            <h3>
-              Quick links
-              :
-            </h3>
-            <ul>
-              <li>
-                <HomeLink
-                  to="/settings/org-slug/projects/"
-                >
-                  Projects
-                </HomeLink>
-              </li>
-              <li>
-                <HomeLink
-                  to="/settings/org-slug/teams/"
-                >
-                  Teams
-                </HomeLink>
-              </li>
-              <li>
-                <HomeLink
-                  to="/settings/org-slug/members/"
-                >
-                  Members
-                </HomeLink>
-              </li>
-            </ul>
-          </HomePanelBody>
-        </Panel>
-      </Box>
-      <Box
-        px={2}
-        w={0.3333333333333333}
-      >
-        <Panel>
-          <HomePanelHeader>
-            <ExternalHomeLink
-              className="css-1rszxb1-flexCenter"
-              href="https://docs.sentry.io/"
-              rel="noreferrer noopener"
-              target="_blank"
-            >
-              <HomeIcon
-                color="orange"
+            <AvatarContainer>
+              <Avatar
+                hasTooltip={false}
+                organization={
+                  Object {
+                    "access": Array [
+                      "org:read",
+                      "org:write",
+                      "org:admin",
+                      "org:integrations",
+                      "project:read",
+                      "project:write",
+                      "project:admin",
+                      "team:read",
+                      "team:write",
+                      "team:admin",
+                    ],
+                    "features": Array [],
+                    "id": "3",
+                    "name": "Organization Name",
+                    "onboardingTasks": Array [],
+                    "projects": Array [],
+                    "scrapeJavaScript": true,
+                    "slug": "org-slug",
+                    "status": Object {
+                      "id": "active",
+                      "name": "active",
+                    },
+                    "teams": Array [],
+                  }
+                }
+                size={76}
+              />
+            </AvatarContainer>
+            <OrganizationName>
+              org-slug
+            </OrganizationName>
+          </HomeLinkIcon>
+        </HomePanelHeader>
+        <HomePanelBody
+          direction="column"
+          disablePadding={true}
+          flex={false}
+        >
+          <h3>
+            Quick links
+            :
+          </h3>
+          <ul>
+            <li>
+              <HomeLink
+                to="/settings/org-slug/projects/"
               >
-                <InlineSvg
-                  size="48px"
-                  src="icon-docs"
-                />
-              </HomeIcon>
-            </ExternalHomeLink>
-            <ExternalHomeLink
-              href="https://docs.sentry.io/"
-              rel="noreferrer noopener"
-              target="_blank"
-            >
-              Documentation
-            </ExternalHomeLink>
-          </HomePanelHeader>
-          <HomePanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
+                Projects
+              </HomeLink>
+            </li>
+            <li>
+              <HomeLink
+                to="/settings/org-slug/teams/"
+              >
+                Teams
+              </HomeLink>
+            </li>
+            <li>
+              <HomeLink
+                to="/settings/org-slug/members/"
+              >
+                Members
+              </HomeLink>
+            </li>
+          </ul>
+        </HomePanelBody>
+      </GridPanel>
+      <GridPanel>
+        <HomePanelHeader>
+          <ExternalHomeLink
+            href="https://docs.sentry.io/"
+            isCentered={true}
           >
-            <h3>
-              Quick links
-              :
-            </h3>
-            <ul>
-              <li>
-                <ExternalHomeLink
-                  href="https://docs.sentry.io/quickstart/"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Quickstart Guide
-                </ExternalHomeLink>
-              </li>
-              <li>
-                <ExternalHomeLink
-                  href="https://docs.sentry.io/clients/"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Platforms & Frameworks
-                </ExternalHomeLink>
-              </li>
-              <li>
-                <ExternalHomeLink
-                  href="https://docs.sentry.io/learn/cli/"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Sentry CLI
-                </ExternalHomeLink>
-              </li>
-            </ul>
-          </HomePanelBody>
-        </Panel>
-      </Box>
-      <Box
-        px={2}
-        w={0.3333333333333333}
-      >
-        <Panel>
-          <HomePanelHeader>
-            <SupportLinkComponent
-              className="css-1rszxb1-flexCenter"
-              href="https://forum.sentry.io/"
-              to="/settings/org-slug/support"
+            <HomeIcon
+              color="orange"
             >
-              <HomeIcon
-                color="purple"
+              <InlineSvg
+                size="48px"
+                src="icon-docs"
+              />
+            </HomeIcon>
+          </ExternalHomeLink>
+          <ExternalHomeLink
+            href="https://docs.sentry.io/"
+          >
+            Documentation
+          </ExternalHomeLink>
+        </HomePanelHeader>
+        <HomePanelBody
+          direction="column"
+          disablePadding={true}
+          flex={false}
+        >
+          <h3>
+            Quick links
+            :
+          </h3>
+          <ul>
+            <li>
+              <ExternalHomeLink
+                href="https://docs.sentry.io/quickstart/"
+              >
+                Quickstart Guide
+              </ExternalHomeLink>
+            </li>
+            <li>
+              <ExternalHomeLink
+                href="https://docs.sentry.io/clients/"
+              >
+                Platforms & Frameworks
+              </ExternalHomeLink>
+            </li>
+            <li>
+              <ExternalHomeLink
+                href="https://docs.sentry.io/learn/cli/"
               >
-                <InlineSvg
-                  size="48px"
-                  src="icon-support"
-                />
-              </HomeIcon>
-              Support
-            </SupportLinkComponent>
-          </HomePanelHeader>
-          <HomePanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
+                Sentry CLI
+              </ExternalHomeLink>
+            </li>
+          </ul>
+        </HomePanelBody>
+      </GridPanel>
+      <GridPanel>
+        <HomePanelHeader>
+          <SupportLinkComponent
+            href="https://forum.sentry.io/"
+            isCentered={true}
+            to="/settings/org-slug/support"
           >
-            <h3>
-              Quick links
-              :
-            </h3>
-            <ul>
-              <li>
-                <SupportLinkComponent
-                  href="https://forum.sentry.io/"
-                  to="/settings/org-slug/support"
-                >
-                  Contact Support
-                </SupportLinkComponent>
-              </li>
-              <li>
-                <ExternalHomeLink
-                  href="https://github.com/getsentry/sentry/issues"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Sentry on GitHub
-                </ExternalHomeLink>
-              </li>
-              <li>
-                <ExternalHomeLink
-                  href="https://status.sentry.io/"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Service Status
-                </ExternalHomeLink>
-              </li>
-            </ul>
-          </HomePanelBody>
-        </Panel>
-      </Box>
-      <Box
-        px={2}
-        w={0.3333333333333333}
-      >
-        <Panel>
-          <HomePanelHeader>
-            <HomeLinkIcon
-              to="/settings/account/api/"
+            <HomeIcon
+              color="purple"
             >
-              <HomeIcon>
-                <InlineSvg
-                  size="48px"
-                  src="icon-lock"
-                />
-              </HomeIcon>
-              API Keys
-            </HomeLinkIcon>
-          </HomePanelHeader>
-          <HomePanelBody
-            direction="column"
-            disablePadding={true}
-            flex={false}
+              <InlineSvg
+                size="48px"
+                src="icon-support"
+              />
+            </HomeIcon>
+            Support
+          </SupportLinkComponent>
+        </HomePanelHeader>
+        <HomePanelBody
+          direction="column"
+          disablePadding={true}
+          flex={false}
+        >
+          <h3>
+            Quick links
+            :
+          </h3>
+          <ul>
+            <li>
+              <SupportLinkComponent
+                href="https://forum.sentry.io/"
+                to="/settings/org-slug/support"
+              >
+                Contact Support
+              </SupportLinkComponent>
+            </li>
+            <li>
+              <ExternalHomeLink
+                href="https://github.com/getsentry/sentry/issues"
+              >
+                Sentry on GitHub
+              </ExternalHomeLink>
+            </li>
+            <li>
+              <ExternalHomeLink
+                href="https://status.sentry.io/"
+              >
+                Service Status
+              </ExternalHomeLink>
+            </li>
+          </ul>
+        </HomePanelBody>
+      </GridPanel>
+      <GridPanel>
+        <HomePanelHeader>
+          <HomeLinkIcon
+            to="/settings/account/api/"
           >
-            <h3>
-              Quick links
-              :
-            </h3>
-            <ul>
-              <li>
-                <HomeLink
-                  to="/settings/account/api/"
-                >
-                  Auth Tokens
-                </HomeLink>
-              </li>
-              <li>
-                <HomeLink
-                  to="/settings/account/api/applications/"
-                >
-                  Applications
-                </HomeLink>
-              </li>
-              <li>
-                <ExternalHomeLink
-                  href="https://docs.sentry.io/hosted/api/"
-                  rel="noreferrer noopener"
-                  target="_blank"
-                >
-                  Documentation
-                </ExternalHomeLink>
-              </li>
-            </ul>
-          </HomePanelBody>
-        </Panel>
-      </Box>
-    </Flex>
+            <HomeIcon>
+              <InlineSvg
+                size="48px"
+                src="icon-lock"
+              />
+            </HomeIcon>
+            API Keys
+          </HomeLinkIcon>
+        </HomePanelHeader>
+        <HomePanelBody
+          direction="column"
+          disablePadding={true}
+          flex={false}
+        >
+          <h3>
+            Quick links
+            :
+          </h3>
+          <ul>
+            <li>
+              <HomeLink
+                to="/settings/account/api/"
+              >
+                Auth Tokens
+              </HomeLink>
+            </li>
+            <li>
+              <HomeLink
+                to="/settings/account/api/applications/"
+              >
+                Applications
+              </HomeLink>
+            </li>
+            <li>
+              <ExternalHomeLink
+                href="https://docs.sentry.io/hosted/api/"
+              >
+                Documentation
+              </ExternalHomeLink>
+            </li>
+          </ul>
+        </HomePanelBody>
+      </GridPanel>
+    </GridLayout>
   </SettingsLayout>
 </SideEffect(DocumentTitle)>
 `;
