commit 0dd6d406fc41cc491fecbfd9f3e5745ac9acbfc2
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri May 25 10:58:57 2018 -0700

    fix(environments): Prevent environment change triggering double fetch (#8553)

diff --git a/src/sentry/static/sentry/app/views/projectReleases/index.jsx b/src/sentry/static/sentry/app/views/projectReleases/index.jsx
index ef6a3a048e..c42b74d61d 100644
--- a/src/sentry/static/sentry/app/views/projectReleases/index.jsx
+++ b/src/sentry/static/sentry/app/views/projectReleases/index.jsx
@@ -50,7 +50,10 @@ const ProjectReleases = createReactClass({
   },
 
   componentWillReceiveProps(nextProps) {
-    if (nextProps.location.search !== this.props.location.search) {
+    const queryHasChanged =
+      nextProps.location.query.query !== this.props.location.query.query;
+
+    if (queryHasChanged) {
       let queryParams = nextProps.location.query;
       this.setState(
         {
