commit 23ed06e6ac730704c37d8891ad72d9ec2222f2a6
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Thu Nov 2 16:01:05 2017 -0700

    simplify/improve sample logic
    
    Instead of using the feature flag, we can just leverage all of sampling
    in general, which itself also is looking at the feature flag. This will
    reduce usage even more.

diff --git a/src/sentry/event_manager.py b/src/sentry/event_manager.py
index 46681f9184..4f7359f2d3 100644
--- a/src/sentry/event_manager.py
+++ b/src/sentry/event_manager.py
@@ -608,12 +608,12 @@ class EventManager(object):
         # store a reference to the group id to guarantee validation of isolation
         event.data.bind_ref(event)
 
-        # When sampling is enabled, the only canonical source of truth
-        # is the EventMapping table. Otherwise, without sampling enabled,
-        # the source of truth can be relied on the Event table itself.
-        # As a bonus, when sampling is not enabled, we can avoid writing
-        # an EventMapping row entirely since it's redundant to the Event table.
-        if features.has('projects:sample-events', project=project):
+        # When an event was sampled, the canonical source of truth
+        # is the EventMapping table since we aren't going to be writing out an actual
+        # Event row. Otherwise, if the Event isn't being sampled, we can safely
+        # rely on the Event table itself as the source of truth and ignore
+        # EventMapping since it's redundant information.
+        if is_sample:
             try:
                 with transaction.atomic(using=router.db_for_write(EventMapping)):
                     EventMapping.objects.create(project=project, group=group, event_id=event_id)
