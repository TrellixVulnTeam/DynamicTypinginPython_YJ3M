commit da70fee848feebf39f55e65cc810a0d7358713b0
Author: Alberto Leal <mail4alberto@gmail.com>
Date:   Mon May 18 12:10:34 2020 -0400

    fix(apm): Display any description for the root span of a transaction (#18884)

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
index a36a5d3ca3..9b528aee0d 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/types.tsx
@@ -47,6 +47,7 @@ export type ParsedTraceType = {
   traceEndTimestamp: number;
   numOfSpans: number;
   spans: SpanType[];
+  description?: string;
 };
 
 export enum TickAlignment {
@@ -61,6 +62,7 @@ export type TraceContextType = {
   span_id?: string;
   trace_id?: string;
   parent_span_id?: string;
+  description?: string;
 };
 
 type SpanTreeDepth = number;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/spans/utils.tsx b/src/sentry/static/sentry/app/components/events/interfaces/spans/utils.tsx
index 0e3912e1d4..4bdf1cdca7 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/spans/utils.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/spans/utils.tsx
@@ -323,6 +323,7 @@ export function generateRootSpan(trace: ParsedTraceType): RawSpanType {
     start_timestamp: trace.traceStartTimestamp,
     timestamp: trace.traceEndTimestamp,
     op: trace.op,
+    description: trace.description,
     data: {},
   };
 
@@ -421,6 +422,7 @@ export function parseTrace(event: Readonly<SentryTransactionEvent>): ParsedTrace
   const traceID = (traceContext && traceContext.trace_id) || '';
   const rootSpanID = (traceContext && traceContext.span_id) || '';
   const rootSpanOpName = (traceContext && traceContext.op) || 'transaction';
+  const description = traceContext && traceContext.description;
   const parentSpanID = traceContext && traceContext.parent_span_id;
 
   if (!spanEntry || spans.length <= 0) {
@@ -434,6 +436,7 @@ export function parseTrace(event: Readonly<SentryTransactionEvent>): ParsedTrace
       parentSpanID,
       numOfSpans: 0,
       spans: [],
+      description,
     };
   }
 
@@ -459,6 +462,7 @@ export function parseTrace(event: Readonly<SentryTransactionEvent>): ParsedTrace
     parentSpanID,
     numOfSpans: spans.length,
     spans,
+    description,
   };
 
   const reduced: ParsedTraceType = spans.reduce((acc, inputSpan) => {
