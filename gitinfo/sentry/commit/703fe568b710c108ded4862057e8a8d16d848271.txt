commit 703fe568b710c108ded4862057e8a8d16d848271
Author: Lauryn Brown <lauryndbrown@gmail.com>
Date:   Tue Dec 12 11:37:09 2017 -0800

    fix(auditlog): Added platform to deletedproject (#6724)
    
    * Added platforms to deleted project.
    
    * used create_project to add platform.

diff --git a/src/sentry/utils/audit.py b/src/sentry/utils/audit.py
index 8c3575c47f..8eec2418ba 100644
--- a/src/sentry/utils/audit.py
+++ b/src/sentry/utils/audit.py
@@ -65,6 +65,7 @@ def create_project_delete_log(entry):
     delete_log.name = project.name
     delete_log.slug = project.slug
     delete_log.date_created = project.date_added
+    delete_log.platform = project.platform
 
     delete_log.organization_id = entry.organization.id
     delete_log.organization_name = entry.organization.name
diff --git a/tests/sentry/utils/audit/tests.py b/tests/sentry/utils/audit/tests.py
index 797fe284b7..d1733f0486 100644
--- a/tests/sentry/utils/audit/tests.py
+++ b/tests/sentry/utils/audit/tests.py
@@ -20,7 +20,7 @@ class CreateAuditEntryTest(TestCase):
         self.req = FakeHttpRequest(self.user)
         self.org = self.create_organization(owner=self.user)
         self.team = self.create_team(organization=self.org)
-        self.project = self.create_project(team=self.team)
+        self.project = self.create_project(team=self.team, platform='java')
 
     def assert_no_delete_log_created(self):
         assert not DeletedOrganization.objects.filter(slug=self.org.slug).exists()
@@ -101,3 +101,4 @@ class CreateAuditEntryTest(TestCase):
 
         deleted_project = DeletedProject.objects.get(slug=self.project.slug)
         self.assert_valid_deleted_log(deleted_project, self.project)
+        assert deleted_project.platform == self.project.platform
