commit 22875e030c501c4d8e24b12c5941a2010e642d4b
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Aug 9 23:04:20 2015 -0700

    Render valid html

diff --git a/src/sentry/debug/middleware.py b/src/sentry/debug/middleware.py
index ed8062d77e..33945431ae 100644
--- a/src/sentry/debug/middleware.py
+++ b/src/sentry/debug/middleware.py
@@ -6,6 +6,16 @@ import re
 from debug_toolbar.toolbar import DebugToolbar
 from django.utils.encoding import force_text
 
+TEMPLATE = """
+<!DOCTYPE html>
+<html>
+<body>
+    <h1>Debugger</h1>
+    <pre>{}</pre>
+</body>
+</html>
+"""
+
 
 class DebugMiddleware(object):
     _body_regexp = re.compile(re.escape('</body>'), flags=re.IGNORECASE)
@@ -76,7 +86,7 @@ class DebugMiddleware(object):
             if 'application/json' in response['Content-Type']:
                 content = json.dumps(json.loads(content), indent=2)
             response['Content-Type'] = 'text/html'
-            response.content = '<body><h1>Debugger</h1><pre>{}</pre></body>'.format(content)
+            response.content = TEMPLATE.format(content)
 
         # Insert the toolbar in the response.
         bits = self._body_regexp.split(content)
