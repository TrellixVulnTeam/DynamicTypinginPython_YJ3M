commit 65f80b1501e51f54002717bf11b9dc27d7a7a3ea
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Jan 4 20:00:49 2016 -0800

    Add tests for static media

diff --git a/tests/sentry/web/frontend/generic/__init__.py b/tests/sentry/web/frontend/generic/__init__.py
new file mode 100644
index 0000000000..e69de29bb2
diff --git a/tests/sentry/web/frontend/generic/test_static_media.py b/tests/sentry/web/frontend/generic/test_static_media.py
new file mode 100644
index 0000000000..8aba4246e7
--- /dev/null
+++ b/tests/sentry/web/frontend/generic/test_static_media.py
@@ -0,0 +1,36 @@
+from __future__ import absolute_import
+
+from sentry.testutils import TestCase
+
+
+class StaticMediaTest(TestCase):
+    def test_basic(self):
+        url = '/_static/sentry/dist/app.js'
+        response = self.client.get(url)
+        assert response.status_code == 200, response
+        assert 'Cache-Control' not in response
+        assert 'Vary' not in response
+        assert response['Access-Control-Allow-Origin'] == '*'
+
+    def test_versioned(self):
+        url = '/_static/1234567890/sentry/dist/app.js'
+        response = self.client.get(url)
+        assert response.status_code == 200, response
+        assert 'Cache-Control' in response
+        assert 'Vary' not in response
+        assert response['Access-Control-Allow-Origin'] == '*'
+
+        url = '/_static/a43db3b08ddd4918972f80739f15344b/sentry/dist/app.js'
+        response = self.client.get(url)
+        assert response.status_code == 200, response
+        assert 'Cache-Control' in response
+        assert 'Vary' not in response
+        assert response['Access-Control-Allow-Origin'] == '*'
+
+    def test_css(self):
+        url = '/_static/sentry/dist/sentry.css'
+        response = self.client.get(url)
+        assert response.status_code == 200, response
+        assert 'Cache-Control' not in response
+        assert 'Vary' not in response
+        assert 'Access-Control-Allow-Origin' not in response
