commit 407ad019bc3a9cdbc072963005a87f9a56c32230
Author: Mark Story <mark@sentry.io>
Date:   Wed Sep 4 13:33:32 2019 -0400

    fix(tests) Improve stability of new store test (#14578)
    
    I saw this fail once or twice in other builds. This should improve the
    test stability.

diff --git a/tests/js/spec/stores/discoverSavedQueriesStore.spec.jsx b/tests/js/spec/stores/discoverSavedQueriesStore.spec.jsx
index b61dd36e64..d0b4e5c7de 100644
--- a/tests/js/spec/stores/discoverSavedQueriesStore.spec.jsx
+++ b/tests/js/spec/stores/discoverSavedQueriesStore.spec.jsx
@@ -11,9 +11,10 @@ describe('DiscoverSavedQueriesStore', function() {
   let api;
   const now = '2019-09-03T12:13:14';
 
-  beforeAll(function() {
+  beforeAll(async function() {
     api = new Client();
     DiscoverSavedQueriesStore.reset();
+    await tick();
   });
 
   beforeEach(function() {
@@ -61,6 +62,7 @@ describe('DiscoverSavedQueriesStore', function() {
   it('fetching queries updates the store', async function() {
     fetchSavedQueries(api, 'org-1');
     await tick();
+    await tick();
 
     const state = DiscoverSavedQueriesStore.get();
     expect(state.isLoading).toEqual(false);
@@ -77,6 +79,7 @@ describe('DiscoverSavedQueriesStore', function() {
     });
     fetchSavedQueries(api, 'org-1');
     await tick();
+    await tick();
 
     const state = DiscoverSavedQueriesStore.get();
     expect(state.isLoading).toEqual(false);
