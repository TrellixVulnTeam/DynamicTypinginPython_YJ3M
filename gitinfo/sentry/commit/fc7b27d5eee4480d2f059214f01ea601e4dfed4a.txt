commit fc7b27d5eee4480d2f059214f01ea601e4dfed4a
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Thu Dec 3 18:34:22 2015 -0800

    Make sure local cache is flushed before tests run

diff --git a/tests/sentry/options/test_manager.py b/tests/sentry/options/test_manager.py
index ff27196af9..1a0a99a54b 100644
--- a/tests/sentry/options/test_manager.py
+++ b/tests/sentry/options/test_manager.py
@@ -22,6 +22,7 @@ class OptionsManagerTest(TestCase):
 
     @around
     def register(self):
+        self.store.flush_local_cache()
         self.manager.register('foo')
         yield
         self.manager.unregister('foo')
diff --git a/tests/sentry/options/test_store.py b/tests/sentry/options/test_store.py
index 638456eb74..5a1f09387e 100644
--- a/tests/sentry/options/test_store.py
+++ b/tests/sentry/options/test_store.py
@@ -3,7 +3,7 @@
 from __future__ import absolute_import
 
 from uuid import uuid1
-from exam import fixture
+from exam import fixture, before
 from mock import patch
 
 from sentry.models import Option
@@ -18,6 +18,10 @@ class OptionsStoreTest(TestCase):
     def key(self):
         return self.make_key()
 
+    @before
+    def flush_local_cache(self):
+        self.store.flush_local_cache()
+
     def make_key(self, ttl=10, grace=10):
         return self.store.make_key(uuid1().hex, '', object, 0, ttl, grace)
 
