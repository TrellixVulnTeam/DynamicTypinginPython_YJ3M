commit 536ce3358ad31bbc2a2a4a26bd7c564f68530d66
Author: Anton <neanton@users.noreply.github.com>
Date:   Wed Aug 7 00:31:52 2019 +0300

    fix(ui): Improve avatar rescaling quality (#14245)
    
    Avatar does not look smooth when resized because Pillow uses "Nearest neighbor" resample filter
    by default. Providing an optional resample parameter with PIL.Image.LANCZOS algo greatly improves
    downsampling quality.
    
    Fixes GH-14286

diff --git a/src/sentry/models/avatar.py b/src/sentry/models/avatar.py
index 1ba3028514..cba28fc4ab 100644
--- a/src/sentry/models/avatar.py
+++ b/src/sentry/models/avatar.py
@@ -55,7 +55,7 @@ class AvatarBase(Model):
         if photo is None:
             photo_file = self.file.getfile()
             with Image.open(photo_file) as image:
-                image = image.resize((size, size))
+                image = image.resize((size, size), Image.LANCZOS)
                 image_file = BytesIO()
                 image.save(image_file, 'PNG')
                 photo = image_file.getvalue()
