commit 779b99b1e5211636a878bc360c3cc033e76790d3
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 19 16:29:23 2015 -0800

    Handle context expansion without sourcemaps

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 045d0c9f9b..244386f6ab 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -353,14 +353,15 @@ class SourceProcessor(object):
                 state = find_source(sourcemap_idx, frame.lineno, frame.colno)
                 abs_path = urljoin(sourcemap_url, state.src)
                 logger.debug('Mapping compressed source %r to mapping in %r', frame.abs_path, abs_path)
-                source = cache.get(abs_path)
-                if not source:
+                uncompressed_source = cache.get(abs_path)
+                if not uncompressed_source:
                     frame.data = {
                         'sourcemap': sourcemap_url,
                     }
                     frame.errors.append('Failed to map %r' % abs_path.encode('utf-8'))
                     logger.debug('Failed mapping path %r', abs_path)
                 else:
+                    source = uncompressed_source
                     # Store original data in annotation
                     frame.data = {
                         'orig_lineno': frame.lineno,
