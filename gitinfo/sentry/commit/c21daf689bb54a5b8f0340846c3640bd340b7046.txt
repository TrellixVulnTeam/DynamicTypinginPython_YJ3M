commit c21daf689bb54a5b8f0340846c3640bd340b7046
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jun 30 00:24:15 2016 +0300

    Fixed system frame handling for threads

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/threads.jsx b/src/sentry/static/sentry/app/components/events/interfaces/threads.jsx
index 49f58dcc75..5669215317 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/threads.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/threads.jsx
@@ -48,6 +48,10 @@ const Thread = React.createClass({
   },
 
   render() {
+    let includeSystemFrames = this.props.stackView === 'full' ||
+      (this.props.data.stacktrace &&
+       !this.props.data.stacktrace.hasSystemFrames);
+
     return (
       <div className="thread">
         {this.renderTitle()}
@@ -59,7 +63,7 @@ const Thread = React.createClass({
           :
             <StacktraceContent
                 data={this.props.data.stacktrace}
-                includeSystemFrames={this.props.stackView === 'full'}
+                includeSystemFrames={includeSystemFrames}
                 platform={this.props.event.platform}
                 newestFirst={this.props.newestFirst} />
         ) : (
@@ -81,8 +85,8 @@ const ThreadsInterface = React.createClass({
 
   getInitialState() {
     let hasSystemFrames = false;
-    for (let thread in this.props.data.list) {
-      if (thread.hasSystemFrames) {
+    for (let thread of this.props.data.list) {
+      if (thread.stacktrace && thread.stacktrace.hasSystemFrames) {
         hasSystemFrames = true;
         break;
       }
