commit d36e4cd30cba4f42e392f0c7516bb8c04682c1c9
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Tue Oct 22 16:02:57 2019 +0200

    ref: Track outcomes for our outcomes (#15193)

diff --git a/src/sentry/ingest/outcomes_consumer.py b/src/sentry/ingest/outcomes_consumer.py
index c795dfd4bf..2bac664ed3 100644
--- a/src/sentry/ingest/outcomes_consumer.py
+++ b/src/sentry/ingest/outcomes_consumer.py
@@ -78,10 +78,12 @@ def is_signal_sent(project_id, event_id):
 def _process_signal(msg):
     project_id = int(msg.get("project_id", 0))
     if project_id == 0:
+        metrics.incr("outcomes_consumer.skip_outcome", tags={"reason": "project_zero"})
         return  # no project. this is valid, so ignore silently.
 
     outcome = int(msg.get("outcome", -1))
     if outcome not in (Outcome.FILTERED, Outcome.RATE_LIMITED):
+        metrics.incr("outcomes_consumer.skip_outcome", tags={"reason": "wrong_outcome_type"})
         return  # nothing to do here
 
     event_id = msg.get("event_id")
@@ -89,6 +91,7 @@ def _process_signal(msg):
         return
 
     if is_signal_sent(project_id=project_id, event_id=event_id):
+        metrics.incr("outcomes_consumer.skip_outcome", tags={"reason": "is_signal_sent"})
         return  # message already processed nothing left to do
 
     try:
