commit 993588cf8a4088d6f0847c5e1281a8ca45d41ab7
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Mar 23 23:23:17 2015 -0700

    Add response hook for missing add member permission

diff --git a/src/sentry/permissions.py b/src/sentry/permissions.py
index 5f67305901..a251438559 100644
--- a/src/sentry/permissions.py
+++ b/src/sentry/permissions.py
@@ -35,6 +35,7 @@ class Permissions(object):
     ADD_ORGANIZATION = Permission('add_organization', 'create new organizations')
     ADD_TEAM = Permission('add_team', 'create new teams')
     ADD_PROJECT = Permission('add_project', 'create new projects')
+    ADD_MEMBER = Permission('add_organization_member', 'add an organization member')
 
 
 def requires_login(func):
diff --git a/src/sentry/web/frontend/create_organization_member.py b/src/sentry/web/frontend/create_organization_member.py
index 36f1c2b267..d351d2d275 100644
--- a/src/sentry/web/frontend/create_organization_member.py
+++ b/src/sentry/web/frontend/create_organization_member.py
@@ -7,8 +7,9 @@ from django.http import HttpResponseRedirect
 from django.utils.translation import ugettext_lazy as _
 
 from sentry.models import OrganizationMemberType
-from sentry.permissions import can_add_organization_member
+from sentry.permissions import can_add_organization_member, Permissions
 from sentry.web.frontend.base import OrganizationView
+from sentry.web.frontend.generic import missing_perm
 from sentry.web.forms.invite_organization_member import InviteOrganizationMemberForm
 from sentry.web.forms.add_organization_member import AddOrganizationMemberForm
 
@@ -30,7 +31,7 @@ class CreateOrganizationMemberView(OrganizationView):
 
     def handle(self, request, organization):
         if not can_add_organization_member(request.user, organization):
-            return HttpResponseRedirect(reverse('sentry'))
+            return missing_perm(request, Permissions.ADD_MEMBER)
 
         form = self.get_form(request)
         if form.is_valid():
