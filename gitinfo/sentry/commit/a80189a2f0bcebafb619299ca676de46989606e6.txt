commit a80189a2f0bcebafb619299ca676de46989606e6
Author: Dora <dora.l.chan@gmail.com>
Date:   Thu Feb 13 20:42:27 2020 -0800

    update stars to bookmarks (#17040)

diff --git a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
index 17589a69c6..f0157b6e25 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/queryList.tsx
@@ -10,10 +10,10 @@ import space from 'app/styles/space';
 import {Organization, SavedQuery} from 'app/types';
 import {trackAnalyticsEvent} from 'app/utils/analytics';
 import {Client} from 'app/api';
-import InlineSvg from 'app/components/inlineSvg';
 import DropdownMenu from 'app/components/dropdownMenu';
 import MenuItem from 'app/components/menuItem';
 import Pagination from 'app/components/pagination';
+import {IconEllipsis} from 'app/icons/iconEllipsis';
 import withApi from 'app/utils/withApi';
 import parseLinkHeader from 'app/utils/parseLinkHeader';
 
@@ -260,29 +260,26 @@ class ContextMenu extends React.Component {
       <DropdownMenu>
         {({isOpen, getRootProps, getActorProps, getMenuProps}) => {
           const topLevelCx = classNames('dropdown', {
-            'pull-right': true,
             'anchor-right': true,
             open: isOpen,
           });
 
           return (
-            <span
+            <MoreOptions
               {...getRootProps({
                 className: topLevelCx,
               })}
             >
-              <ContextMenuButton
+              <IconEllipsis
                 data-test-id="context-menu"
+                size="md"
                 {...(getActorProps({
                   onClick: (event: MouseEvent) => {
                     event.stopPropagation();
                     event.preventDefault();
                   },
                 }) as any)}
-              >
-                <InlineSvg src="icon-ellipsis-filled" />
-              </ContextMenuButton>
-
+              />
               {isOpen && (
                 <ul
                   {...(getMenuProps({}) as any)}
@@ -291,7 +288,7 @@ class ContextMenu extends React.Component {
                   {children}
                 </ul>
               )}
-            </span>
+            </MoreOptions>
           );
         }}
       </DropdownMenu>
@@ -299,15 +296,8 @@ class ContextMenu extends React.Component {
   }
 }
 
-const ContextMenuButton = styled('div')`
-  border-radius: 3px;
-  background-color: ${p => p.theme.offWhite};
-  padding-left: 8px;
-  padding-right: 8px;
-
-  &:hover {
-    background-color: ${p => p.theme.offWhite2};
-  }
+const MoreOptions = styled('span')`
+  display: flex;
 `;
 
 export default withApi(QueryList);
diff --git a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
index 4db024ed6e..de80fe2f50 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
@@ -2,7 +2,8 @@ import React from 'react';
 import styled from '@emotion/styled';
 import {browserHistory} from 'react-router';
 import overflowEllipsis from 'app/styles/overflowEllipsis';
-import InlineSvg from 'app/components/inlineSvg';
+import theme from 'app/utils/theme';
+import {IconBookmark} from 'app/icons/iconBookmark';
 import Link from 'app/components/links/link';
 
 import space from 'app/styles/space';
@@ -45,11 +46,17 @@ class QueryCard extends React.PureComponent<Props> {
         to={this.props.to}
       >
         <QueryCardHeader>
-          <StyledTitle>{title}</StyledTitle>
+          <StyledTitle>
+            {title}
+            {starred && (
+              <StyledIconBookmark
+                color={theme.yellow}
+                data-test-id="is-saved-query"
+                solid
+              />
+            )}
+          </StyledTitle>
           <StyledQueryDetail>{queryDetail}</StyledQueryDetail>
-          {starred && (
-            <StyledInlineSvg data-test-id="is-saved-query" src="icon-star-small-filled" />
-          )}
         </QueryCardHeader>
         <QueryCardBody>{renderGraph()}</QueryCardBody>
         <QueryCardFooter>
@@ -96,14 +103,13 @@ const QueryCardHeader = styled('div')`
   position: relative;
   padding: ${space(1.5)} ${space(2)};
   overflow: hidden;
-  min-height: 62px;
   line-height: 1.4;
+  flex-grow: 1;
 `;
 
-const StyledInlineSvg = styled(InlineSvg)`
+const StyledIconBookmark = styled(IconBookmark)`
   position: absolute;
-  color: ${p => p.theme.yellow};
-  top: ${space(2)};
+  top: 14px;
   right: ${space(2)};
 `;
 
@@ -127,7 +133,7 @@ const StyledQueryDetail = styled('div')`
 `;
 
 const QueryCardBody = styled('div')`
-  background: ${p => p.theme.offWhiteLight};
+  background: ${p => p.theme.offWhite};
   max-height: 100px;
   height: 100%;
   overflow: hidden;
@@ -143,9 +149,9 @@ const QueryCardFooter = styled('div')`
 
 const StyledCreator = styled('div')`
   font-size: ${p => p.theme.fontSizeSmall};
-  ${overflowEllipsis};
   display: flex;
   align-items: center;
+  ${overflowEllipsis};
 `;
 
 export default QueryCard;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx b/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
index 5fc9a2220c..444d7502b3 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/savedQuery/index.tsx
@@ -11,9 +11,10 @@ import withApi from 'app/utils/withApi';
 import Button from 'app/components/button';
 import DropdownButton from 'app/components/dropdownButton';
 import DropdownControl from 'app/components/dropdownControl';
-import InlineSvg from 'app/components/inlineSvg';
 import Input from 'app/components/forms/input';
 import space from 'app/styles/space';
+import theme from 'app/utils/theme';
+import {IconBookmark, IconDelete} from 'app/icons';
 
 import EventView from '../eventView';
 import {getDiscoverLandingUrl} from '../utils';
@@ -208,11 +209,7 @@ class SavedQueryButtonGroup extends React.PureComponent<Props, State> {
             showChevron={false}
             disabled={disabled}
           >
-            <ButtonSaveIcon
-              isNewQuery={isNewQuery}
-              src="icon-star-small-filled"
-              size="14"
-            />
+            <StyledIconBookmark size="xs" color={theme.gray2} />
             {t('Save as...')}
           </ButtonSaveAs>
         )}
@@ -250,7 +247,7 @@ class SavedQueryButtonGroup extends React.PureComponent<Props, State> {
 
     return (
       <ButtonSaved disabled={this.props.disabled}>
-        <ButtonSaveIcon isNewQuery={isNewQuery} src="icon-star-small-filled" size="14" />
+        <StyledIconBookmark solid size="xs" color={theme.yellow} />
         {t('Saved query')}
       </ButtonSaved>
     );
@@ -269,7 +266,7 @@ class SavedQueryButtonGroup extends React.PureComponent<Props, State> {
         data-test-id="discover2-savedquery-button-update"
         disabled={this.props.disabled}
       >
-        <ButtonUpdateIcon />
+        <IconUpdate />
         {t('Update query')}
       </Button>
     );
@@ -285,10 +282,11 @@ class SavedQueryButtonGroup extends React.PureComponent<Props, State> {
     return (
       <Button
         data-test-id="discover2-savedquery-button-delete"
-        icon="icon-trash"
         onClick={this.handleDeleteQuery}
         disabled={this.props.disabled}
-      />
+      >
+        <IconDelete size="xs" color={theme.gray4} />
+      </Button>
     );
   }
 
@@ -325,12 +323,6 @@ const ButtonSaveAs = styled(DropdownButton)`
 const ButtonSaved = styled(Button)`
   cursor: not-allowed;
 `;
-const ButtonSaveIcon = styled(InlineSvg)<{isNewQuery?: boolean}>`
-  margin-top: -3px; /* Align SVG vertically to text */
-  margin-right: ${space(0.75)};
-
-  color: ${p => (p.isNewQuery ? p.theme.gray1 : p.theme.yellow)};
-`;
 const ButtonSaveDropDown = styled('li')`
   padding: ${space(1)};
 `;
@@ -339,7 +331,11 @@ const ButtonSaveInput = styled(Input)`
   margin-bottom: ${space(1)};
 `;
 
-const ButtonUpdateIcon = styled('div')`
+const StyledIconBookmark = styled(IconBookmark)`
+  margin-right: ${space(1)};
+`;
+
+const IconUpdate = styled('div')`
   display: inline-block;
   width: 10px;
   height: 10px;
diff --git a/tests/js/spec/views/eventsV2/queryList.spec.jsx b/tests/js/spec/views/eventsV2/queryList.spec.jsx
index af26d10689..eab0ca1fd1 100644
--- a/tests/js/spec/views/eventsV2/queryList.spec.jsx
+++ b/tests/js/spec/views/eventsV2/queryList.spec.jsx
@@ -5,7 +5,7 @@ import {browserHistory} from 'react-router';
 import QueryList from 'app/views/eventsV2/queryList';
 
 function openContextMenu(card) {
-  card.find('DropdownMenu ContextMenuButton div').simulate('click');
+  card.find('DropdownMenu MoreOptions IconEllipsis').simulate('click');
 }
 
 function clickMenuItem(card, selector) {
