commit a17fb9b171f5ad10ab2600d586afc51527413b59
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Feb 13 22:13:29 2014 -0800

    Force strings values to be unicode in GzippedDictField

diff --git a/src/sentry/db/models/fields/gzippeddict.py b/src/sentry/db/models/fields/gzippeddict.py
index 778b92d7e1..d1ae23913c 100644
--- a/src/sentry/db/models/fields/gzippeddict.py
+++ b/src/sentry/db/models/fields/gzippeddict.py
@@ -42,6 +42,9 @@ class GzippedDictField(models.TextField):
         if not value and self.null:
             # save ourselves some storage
             return None
+        # enforce unicode strings to guarantee consistency
+        if isinstance(value, basestring):
+            value = unicode(value)
         return compress(pickle.dumps(value))
 
     def value_to_string(self, obj):
