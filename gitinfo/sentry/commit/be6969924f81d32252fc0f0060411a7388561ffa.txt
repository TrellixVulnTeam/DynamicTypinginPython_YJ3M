commit be6969924f81d32252fc0f0060411a7388561ffa
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Apr 22 11:48:14 2015 -0700

    Handle anonymous user

diff --git a/src/sentry/api/serializers/models/organization.py b/src/sentry/api/serializers/models/organization.py
index f3ef500575..286b84b8ad 100644
--- a/src/sentry/api/serializers/models/organization.py
+++ b/src/sentry/api/serializers/models/organization.py
@@ -9,13 +9,16 @@ from sentry.models import (
 @register(Organization)
 class OrganizationSerializer(Serializer):
     def get_attrs(self, item_list, user):
-        member_map = dict(
-            (om.organization_id, om)
-            for om in OrganizationMember.objects.filter(
-                organization__in=item_list,
-                user=user,
+        if user.is_authenticated():
+            member_map = dict(
+                (om.organization_id, om)
+                for om in OrganizationMember.objects.filter(
+                    organization__in=item_list,
+                    user=user,
+                )
             )
-        )
+        else:
+            member_map = {}
 
         result = {}
         for organization in item_list:
