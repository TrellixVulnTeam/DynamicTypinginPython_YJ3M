commit 659a054817aff1b57e6694b085a3eeb8c426e9f0
Author: Mark Story <mark@sentry.io>
Date:   Fri Apr 3 16:11:34 2020 -0400

    fix(charts) Fix left side overflow in chart tooltips. (#18084)
    
    Fix overflows on the left side of the screen. Top5 graphs in discover
    could have _very_ long tooltip contents. Doing some additional
    positioning math will ensure we keep the tooltip in the viewport.

diff --git a/src/sentry/static/sentry/app/components/charts/components/tooltip.jsx b/src/sentry/static/sentry/app/components/charts/components/tooltip.jsx
index dbe1319247..0a4dfb0a40 100644
--- a/src/sentry/static/sentry/app/components/charts/components/tooltip.jsx
+++ b/src/sentry/static/sentry/app/components/charts/components/tooltip.jsx
@@ -164,9 +164,16 @@ export default function Tooltip({
       // And the right edge taking into account the chart left offset
       const rightEdge = chartLeft + pos[0] + tipWidth / 2;
 
-      // If the tooltip would go off viewport shift the tooltip over with a gap.
-      if (rightEdge >= window.innerWidth - 20) {
-        leftPos -= rightEdge - window.innerWidth + 20;
+      // If the tooltip would leave viewport on the right, pin it.
+      // and adjust the arrow position.
+      if (rightEdge >= window.innerWidth - 30) {
+        leftPos -= rightEdge - window.innerWidth + 30;
+        arrowPosition = `${pos[0] - leftPos}px`;
+      }
+
+      // If the tooltip would leave viewport on the left, pin it.
+      if (leftPos + chartLeft - 20 <= 0) {
+        leftPos = chartLeft * -1 + 20;
         arrowPosition = `${pos[0] - leftPos}px`;
       }
 
