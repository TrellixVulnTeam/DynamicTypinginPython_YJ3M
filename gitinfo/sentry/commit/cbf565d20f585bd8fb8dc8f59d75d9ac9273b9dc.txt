commit cbf565d20f585bd8fb8dc8f59d75d9ac9273b9dc
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Oct 6 14:42:28 2015 -0700

    move into constants

diff --git a/src/sentry/api/endpoints/event_details.py b/src/sentry/api/endpoints/event_details.py
index aff572ee0d..1c06ad31c5 100644
--- a/src/sentry/api/endpoints/event_details.py
+++ b/src/sentry/api/endpoints/event_details.py
@@ -5,6 +5,7 @@ from rest_framework.response import Response
 from sentry.api.base import Endpoint
 from sentry.api.bases.group import GroupPermission
 from sentry.api.serializers import serialize
+from sentry.constants import EVENT_ORDERING_KEY
 from sentry.models import Event, Release, UserReport
 
 
@@ -51,13 +52,13 @@ class EventDetailsEndpoint(Endpoint):
             base_qs.filter(
                 datetime__gte=event.datetime,
             ).order_by('datetime')[0:5],
-            key=Event.ordering_key,
+            key=EVENT_ORDERING_KEY,
         )
         prev_events = sorted(
             base_qs.filter(
                 datetime__lte=event.datetime,
             ).order_by('-datetime')[0:5],
-            key=Event.ordering_key,
+            key=EVENT_ORDERING_KEY,
             reverse=True,
         )
 
diff --git a/src/sentry/constants.py b/src/sentry/constants.py
index b6eeac0d56..da405bb977 100644
--- a/src/sentry/constants.py
+++ b/src/sentry/constants.py
@@ -12,6 +12,7 @@ from __future__ import absolute_import, print_function
 
 import logging
 import os.path
+from operator import attrgetter
 from collections import OrderedDict
 
 from django.conf import settings
@@ -182,3 +183,6 @@ OK_PLUGIN_ENABLED = _("The {name} integration has been enabled.")
 OK_PLUGIN_DISABLED = _("The {name} integration has been disabled.")
 
 OK_PLUGIN_SAVED = _('Configuration for the {name} integration has been saved.')
+
+# Key to use when ordering a list of events manually
+EVENT_ORDERING_KEY = attrgetter('datetime', 'id')
diff --git a/src/sentry/models/event.py b/src/sentry/models/event.py
index fb9781e230..cead62a651 100644
--- a/src/sentry/models/event.py
+++ b/src/sentry/models/event.py
@@ -9,7 +9,6 @@ from __future__ import absolute_import
 
 import warnings
 
-from operator import attrgetter
 from collections import OrderedDict
 from django.db import models
 from django.utils import timezone
@@ -43,9 +42,6 @@ class Event(Model):
 
     objects = BaseManager()
 
-    # Key to use when ordering a list of events manually
-    ordering_key = attrgetter('datetime', 'id')
-
     class Meta:
         app_label = 'sentry'
         db_table = 'sentry_message'
diff --git a/src/sentry/models/group.py b/src/sentry/models/group.py
index a9329705f4..03f0e1b625 100644
--- a/src/sentry/models/group.py
+++ b/src/sentry/models/group.py
@@ -22,7 +22,7 @@ from django.utils.translation import ugettext_lazy as _
 
 from sentry.app import buffer
 from sentry.constants import (
-    DEFAULT_LOGGER_NAME, LOG_LEVELS, MAX_CULPRIT_LENGTH
+    DEFAULT_LOGGER_NAME, LOG_LEVELS, MAX_CULPRIT_LENGTH, EVENT_ORDERING_KEY,
 )
 from sentry.db.models import (
     BaseManager, BoundedIntegerField, BoundedPositiveIntegerField,
@@ -203,7 +203,7 @@ class Group(Model):
                 Event.objects.filter(
                     group=self,
                 ).order_by('-datetime')[0:5],
-                key=Event.ordering_key,
+                key=EVENT_ORDERING_KEY,
                 reverse=True,
             )
             try:
@@ -220,7 +220,7 @@ class Group(Model):
                 Event.objects.filter(
                     group=self,
                 ).order_by('datetime')[0:5],
-                key=Event.ordering_key,
+                key=EVENT_ORDERING_KEY,
             )
             try:
                 self._oldest_event = oldest_events[0]
