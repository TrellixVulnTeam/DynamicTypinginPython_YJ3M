commit 87282327de6a7a6aeff77ce6c97476f510bad6be
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 20 15:49:55 2010 -0800

    You now MUST configure SENTRY_SEARCH_ENGINE for Haystack to be enabled

diff --git a/sentry/conf.py b/sentry/conf.py
index b5866101e0..a2dae701a0 100644
--- a/sentry/conf.py
+++ b/sentry/conf.py
@@ -26,7 +26,7 @@ FILTERS = getattr(settings, 'SENTRY_FILTERS', filter(None, (
 )))
 
 # Sentry allows you to specify an alternative search backend for itself
-SEARCH_ENGINE = getattr(settings, 'SENTRY_SEARCH_ENGINE', getattr(settings, 'HAYSTACK_SEARCH_ENGINE', None))
+SEARCH_ENGINE = getattr(settings, 'SENTRY_SEARCH_ENGINE', None)
 SEARCH_OPTIONS = getattr(settings, 'SENTRY_SEARCH_OPTIONS', {})
 
 KEY = getattr(settings, 'SENTRY_KEY', md5_constructor(settings.SECRET_KEY).hexdigest())
diff --git a/sentry/search_indexes.py b/sentry/search_indexes.py
index f87275951f..1d9dcd44c4 100644
--- a/sentry/search_indexes.py
+++ b/sentry/search_indexes.py
@@ -5,6 +5,10 @@ from haystack.sites import SearchSite
 from sentry import conf
 from sentry.models import GroupedMessage
 
+if not conf.SEARCH_ENGINE:
+    # Ensure we stop here if we havent configure Sentry to work under haystack
+    return
+
 backend = haystack.load_backend(conf.SEARCH_ENGINE)
 
 class SentrySearchSite(SearchSite): pass
