commit f4c41963e833ab041b269f62a726d26ed6433987
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Mon Sep 16 13:59:24 2019 +0200

    fix: Handle parent quota being None (#14707)

diff --git a/src/sentry/quotas/base.py b/src/sentry/quotas/base.py
index 1845107629..a683589911 100644
--- a/src/sentry/quotas/base.py
+++ b/src/sentry/quotas/base.py
@@ -91,10 +91,9 @@ class Quota(Service):
     def translate_quota(self, quota, parent_quota):
         if six.text_type(quota).endswith("%"):
             pct = int(quota[:-1])
-            quota = int(parent_quota) * pct / 100
-        if not quota:
-            return _limit_from_settings(parent_quota)
-        return _limit_from_settings(quota)
+            quota = int(parent_quota or 0) * pct / 100
+
+        return _limit_from_settings(quota or parent_quota)
 
     def get_key_quota(self, key):
         from sentry import features
