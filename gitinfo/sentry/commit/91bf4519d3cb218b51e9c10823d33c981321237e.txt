commit 91bf4519d3cb218b51e9c10823d33c981321237e
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Sep 30 19:25:56 2014 -0700

    Process group deletion via queue

diff --git a/src/sentry/api/endpoints/group_details.py b/src/sentry/api/endpoints/group_details.py
index 75f74e6760..ee2dfa2514 100644
--- a/src/sentry/api/endpoints/group_details.py
+++ b/src/sentry/api/endpoints/group_details.py
@@ -129,12 +129,14 @@ class GroupDetailsEndpoint(Endpoint):
         return Response(serialize(group, request.user))
 
     def delete(self, request, group_id):
+        from sentry.tasks.deletion import delete_group
+
         group = Group.objects.get(
             id=group_id,
         )
 
         assert_perm(group, request.user, request.auth)
 
-        group.delete()
+        delete_group.delay(object_id=group.id)
 
-        return Response()
+        return Response(status=202)
diff --git a/tests/sentry/api/endpoints/test_group_details.py b/tests/sentry/api/endpoints/test_group_details.py
index bb99f904e8..3ef4708950 100644
--- a/tests/sentry/api/endpoints/test_group_details.py
+++ b/tests/sentry/api/endpoints/test_group_details.py
@@ -68,7 +68,7 @@ class GroupDetailsTest(APITestCase):
         })
         response = self.client.delete(url, format='json')
 
-        assert response.status_code == 200, response.content
+        assert response.status_code == 202, response.content
 
         group = Group.objects.filter(id=group.id).exists()
         assert not group
