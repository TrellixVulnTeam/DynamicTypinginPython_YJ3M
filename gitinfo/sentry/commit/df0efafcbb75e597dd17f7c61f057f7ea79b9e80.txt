commit df0efafcbb75e597dd17f7c61f057f7ea79b9e80
Author: NisanthanNanthakumar <nisanthan.nanthakumar@sentry.io>
Date:   Mon May 4 13:28:08 2020 -0700

    fix(Plugins): Success & failure toast stays around long enough (#18601)
    
    Objective
    If you got a backend validation error on saving a plugin (e.g. bad phone number for Twilio), the toast message goes away so quickly you can't figure out what's going on. We want to make the toast stay long enough for a user to read in both success and failure.

diff --git a/src/sentry/static/sentry/app/components/bases/pluginComponentBase.jsx b/src/sentry/static/sentry/app/components/bases/pluginComponentBase.jsx
index 858f47ec92..d973fcc66c 100644
--- a/src/sentry/static/sentry/app/components/bases/pluginComponentBase.jsx
+++ b/src/sentry/static/sentry/app/components/bases/pluginComponentBase.jsx
@@ -99,13 +99,16 @@ class PluginComponentBase extends React.Component {
   }
 
   onSaveSuccess(callback, ...args) {
+    callback = callbackWithArgs(callback, ...args);
     this.setState(
       {
         state: FormState.READY,
       },
-      callbackWithArgs(callback, ...args)
+      () => callback && callback()
     );
-    addSuccessMessage(t('Success!'));
+    setTimeout(() => {
+      addSuccessMessage(t('Success!'));
+    }, 0);
   }
 
   onSaveError(callback, ...args) {
@@ -114,11 +117,11 @@ class PluginComponentBase extends React.Component {
       {
         state: FormState.ERROR,
       },
-      () => {
-        addErrorMessage(t('Unable to save changes. Please try again.'));
-        callback && callback();
-      }
+      () => callback && callback()
     );
+    setTimeout(() => {
+      addErrorMessage(t('Unable to save changes. Please try again.'));
+    }, 0);
   }
 
   onSaveComplete(callback, ...args) {
