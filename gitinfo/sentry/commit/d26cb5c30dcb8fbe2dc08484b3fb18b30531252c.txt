commit d26cb5c30dcb8fbe2dc08484b3fb18b30531252c
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Tue Jun 18 10:15:24 2019 -0700

    feat(ui): Fix layout issues with long release names in Releases List (#13699)
    
    Also refactor to use CSS grid

diff --git a/src/sentry/static/sentry/app/views/organizationReleases/list/layout.jsx b/src/sentry/static/sentry/app/views/organizationReleases/list/layout.jsx
new file mode 100644
index 0000000000..26e085b652
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/organizationReleases/list/layout.jsx
@@ -0,0 +1,36 @@
+import styled from 'react-emotion';
+
+import space from 'app/styles/space';
+
+const Layout = styled('div')`
+  display: grid;
+  grid-template-columns: 2fr 1fr 1fr 1fr;
+  grid-column-gap: ${space(1.5)};
+  width: 100%;
+  align-items: center;
+  grid-template-areas: 'release-name stats new-count last-event';
+
+  @media (max-width: ${p => p.theme.breakpoints[0]}) {
+    grid-template-columns: 3fr 1fr 1fr;
+    grid-template-areas: 'release-name new-count last-event';
+  }
+`;
+
+const VersionColumn = styled('div')`
+  grid-area: release-name;
+  overflow: hidden;
+`;
+const StatsColumn = styled('div')`
+  grid-area: stats;
+
+  @media (max-width: ${p => p.theme.breakpoints[0]}) {
+    display: none;
+  }
+`;
+const CountColumn = styled('div')`
+  grid-area: new-count;
+`;
+const LastEventColumn = styled('div')`
+  grid-area: last-event;
+`;
+export {Layout, VersionColumn, StatsColumn, CountColumn, LastEventColumn};
diff --git a/src/sentry/static/sentry/app/views/organizationReleases/list/releaseList.jsx b/src/sentry/static/sentry/app/views/organizationReleases/list/releaseList.jsx
index 66d365a560..c71c346b1d 100644
--- a/src/sentry/static/sentry/app/views/organizationReleases/list/releaseList.jsx
+++ b/src/sentry/static/sentry/app/views/organizationReleases/list/releaseList.jsx
@@ -1,13 +1,16 @@
 import PropTypes from 'prop-types';
 import React from 'react';
-import {Box} from 'grid-emotion';
+import styled from 'react-emotion';
 
 import {PanelItem} from 'app/components/panels';
-import ReleaseStats from 'app/components/releaseStats';
 import Count from 'app/components/count';
+import ReleaseStats from 'app/components/releaseStats';
 import TimeSince from 'app/components/timeSince';
 import Version from 'app/components/version';
+import overflowEllipsis from 'app/styles/overflowEllipsis';
+import space from 'app/styles/space';
 
+import {LastEventColumn, Layout, CountColumn, VersionColumn, StatsColumn} from './layout';
 import LatestDeployOrReleaseTime from './latestDeployOrReleaseTime';
 
 class ReleaseList extends React.Component {
@@ -24,33 +27,33 @@ class ReleaseList extends React.Component {
       <div>
         {this.props.releaseList.map(release => {
           return (
-            <PanelItem key={release.version} align="center" px={2} py={1}>
-              <Box flex="1">
-                <div>
-                  <div style={{fontWeight: 'bold', marginBottom: 2}}>
+            <ReleasePanelItem key={release.version}>
+              <Layout>
+                <VersionColumn>
+                  <VersionWrapper>
                     <Version
                       orgId={orgId}
                       projectId={projectId}
                       version={release.version}
                     />
-                  </div>
+                  </VersionWrapper>
                   <LatestDeployOrReleaseTime orgId={orgId} release={release} />
-                </div>
-              </Box>
-              <Box w={4 / 12} pl={2} className="hidden-xs">
-                <ReleaseStats release={release} />
-              </Box>
-              <Box w={2 / 12} pl={2}>
-                <Count className="release-count" value={release.newGroups || 0} />
-              </Box>
-              <Box w={2 / 12} pl={2}>
-                {release.lastEvent ? (
-                  <TimeSince date={release.lastEvent} style={{fontSize: 13}} />
-                ) : (
-                  <span>—</span>
-                )}
-              </Box>
-            </PanelItem>
+                </VersionColumn>
+                <StatsColumn>
+                  <ReleaseStats release={release} />
+                </StatsColumn>
+                <CountColumn>
+                  <Count className="release-count" value={release.newGroups || 0} />
+                </CountColumn>
+                <LastEventColumn>
+                  {release.lastEvent ? (
+                    <SmallTimeSince date={release.lastEvent} />
+                  ) : (
+                    <span>—</span>
+                  )}
+                </LastEventColumn>
+              </Layout>
+            </ReleasePanelItem>
           );
         })}
       </div>
@@ -59,3 +62,18 @@ class ReleaseList extends React.Component {
 }
 
 export default ReleaseList;
+
+const ReleasePanelItem = styled(PanelItem)`
+  align-items: center;
+  padding: ${space(1)} ${space(2)};
+`;
+
+const VersionWrapper = styled('div')`
+  font-weight: bold;
+  margin-bottom: ${space(0.25)};
+  ${overflowEllipsis};
+`;
+
+const SmallTimeSince = styled(TimeSince)`
+  font-size: ${p => p.theme.fontSizeSmall};
+`;
diff --git a/src/sentry/static/sentry/app/views/organizationReleases/list/releaseListHeader.jsx b/src/sentry/static/sentry/app/views/organizationReleases/list/releaseListHeader.jsx
index 9037f31c52..24020fe97d 100644
--- a/src/sentry/static/sentry/app/views/organizationReleases/list/releaseListHeader.jsx
+++ b/src/sentry/static/sentry/app/views/organizationReleases/list/releaseListHeader.jsx
@@ -1,21 +1,20 @@
 import React from 'react';
-import {Box} from 'grid-emotion';
-import {PanelHeader} from 'app/components/panels';
 
+import {PanelHeader} from 'app/components/panels';
 import {t} from 'app/locale';
 
+import {LastEventColumn, Layout, CountColumn, VersionColumn, StatsColumn} from './layout';
+
 export default class ReleaseListHeader extends React.Component {
   render() {
     return (
       <PanelHeader>
-        <Box flex="1">{t('Version')}</Box>
-        <Box w={4 / 12} pl={2} className="hidden-xs" />
-        <Box w={2 / 12} pl={2}>
-          {t('New Issues')}
-        </Box>
-        <Box w={2 / 12} pl={2}>
-          {t('Last Event')}
-        </Box>
+        <Layout>
+          <VersionColumn>{t('Version')}</VersionColumn>
+          <StatsColumn />
+          <CountColumn>{t('New Issues')}</CountColumn>
+          <LastEventColumn>{t('Last Event')}</LastEventColumn>
+        </Layout>
       </PanelHeader>
     );
   }
