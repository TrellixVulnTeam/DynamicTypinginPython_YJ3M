commit f288a9548975507d54b661e9954219713e341212
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 12 16:22:15 2016 -0800

    Default membership with singular teams

diff --git a/src/sentry/runner/commands/createuser.py b/src/sentry/runner/commands/createuser.py
index 4b76b17f8e..c6dc661408 100644
--- a/src/sentry/runner/commands/createuser.py
+++ b/src/sentry/runner/commands/createuser.py
@@ -90,15 +90,27 @@ def createuser(email, password, superuser, no_password, no_input):
 
     # TODO(dcramer): kill this when we improve flows
     if settings.SENTRY_SINGLE_ORGANIZATION:
-        from sentry.models import Organization, OrganizationMember
+        from sentry.models import (
+            Organization, OrganizationMember, OrganizationMemberTeam, Team
+        )
+
         org = Organization.get_default()
         if superuser:
             role = roles.get_top_dog().id
         else:
             role = org.default_role
-        OrganizationMember.objects.create(
+        member = OrganizationMember.objects.create(
             organization=org,
             user=user,
             role=role,
         )
+
+        # if we've only got a single team let's go ahead and give
+        # access to that team as its likely the desired outcome
+        teams = list(Team.objects.filter(organization=org)[0:2])
+        if len(teams) == 1:
+            OrganizationMemberTeam.objects.create(
+                team=teams[0],
+                organizationmember=member,
+            )
         click.echo('Added to organization: %s' % (org.slug,))
