commit 82d53202162f68c3786c0fcb75be1f12d35df945
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Nov 9 02:00:05 2012 -0800

    Correctly handle frame not having lineno in emails

diff --git a/src/sentry/interfaces.py b/src/sentry/interfaces.py
index 2fccc75814..f2d8d5da81 100644
--- a/src/sentry/interfaces.py
+++ b/src/sentry/interfaces.py
@@ -340,8 +340,10 @@ class Stacktrace(Interface):
         for frame in self.frames:
             if 'function' in frame:
                 result.append('  File "%(filename)s", line %(lineno)s, in %(function)s' % frame)
-            else:
+            elif 'lineno' in frame:
                 result.append('  File "%(filename)s", line %(lineno)s' % frame)
+            else:
+                result.append('  File "%(filename)s"')
             if 'context_line' in frame:
                 result.append('    %s' % frame['context_line'].strip())
 
