commit 32272559b770f3a80d9331bf3ed6dc505c2cfe8a
Author: Ben Vinegar <ben@benv.ca>
Date:   Fri May 20 13:57:25 2016 -0700

    Fix GroupStore removing existing entries on org dashboard
    
    /cc @getsentry/ui

diff --git a/src/sentry/static/sentry/app/stores/groupStore.jsx b/src/sentry/static/sentry/app/stores/groupStore.jsx
index 3c71a0697c..652d26f1d9 100644
--- a/src/sentry/static/sentry/app/stores/groupStore.jsx
+++ b/src/sentry/static/sentry/app/stores/groupStore.jsx
@@ -52,17 +52,15 @@ const GroupStore = Reflux.createStore({
       itemIds.add(item.id);
     });
 
-    items.forEach((item, idx) => {
+    // See if any existing items are updated by this new set of items
+    this.items.forEach((item, idx) => {
       if (itemsById[item.id]) {
         this.items[idx] = jQuery.extend(true, {}, item, itemsById[item.id]);
-        // HACK(dcramer): work around statusDetails not being consistent
-        if (typeof itemsById[item.id].statusDetails !== undefined) {
-          this.items[idx].statusDetails = itemsById[item.id].statusDetails;
-        }
         delete itemsById[item.id];
       }
     });
 
+    // New items
     for (let itemId in itemsById) {
       this.items.push(itemsById[itemId]);
     }
diff --git a/tests/js/spec/stores/groupStore.spec.jsx b/tests/js/spec/stores/groupStore.spec.jsx
index c0ca783042..a101f66438 100644
--- a/tests/js/spec/stores/groupStore.spec.jsx
+++ b/tests/js/spec/stores/groupStore.spec.jsx
@@ -10,6 +10,39 @@ describe('GroupStore', function () {
     this.sandbox.restore();
   });
 
+  describe('add()', function () {
+    it('should add new entries', function () {
+      GroupStore.items = [];
+      GroupStore.add([
+        {id: 1},
+        {id: 2},
+      ]);
+
+      expect(GroupStore.items).to.eql([
+        {id: 1},
+        {id: 2},
+      ]);
+    });
+
+    it('should update matching existing entries', function () {
+      GroupStore.items = [
+        {id: 1},
+        {id: 2},
+      ];
+
+      GroupStore.add([
+        {id: 1, foo: 'bar'},
+        {id: 3},
+      ]);
+
+      expect(GroupStore.items).to.eql([
+        {id: 1, foo: 'bar'},
+        {id: 2},
+        {id: 3},
+      ]);
+    });
+  });
+
   describe('onMergeSuccess()', function () {
     it('should remove the non-parent merged ids', function () {
       GroupStore.items = [
