commit 194748b2bf0399db3dd06d9d1292ff8e4130f137
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Feb 27 14:13:17 2018 -0800

    ref(slack): Compute timestamp w/ event time

diff --git a/src/sentry/integrations/slack/utils.py b/src/sentry/integrations/slack/utils.py
index 6c0120897b..12416c6461 100644
--- a/src/sentry/integrations/slack/utils.py
+++ b/src/sentry/integrations/slack/utils.py
@@ -1,11 +1,11 @@
 from __future__ import absolute_import
 
 import logging
-import time
 
 from django.db.models import Q
 from six.moves.urllib.parse import parse_qs, urlencode, urlparse, urlunparse
 
+from sentry.utils.dates import to_timestamp
 from sentry.utils import json
 from sentry.utils.assets import get_asset_url
 from sentry.utils.http import absolute_uri
@@ -186,6 +186,12 @@ def build_attachment(group, event=None, identity=None, actions=None):
         color = ACTIONED_ISSUE_COLOR
         payload_actions = []
 
+    ts = group.last_seen
+
+    if event:
+        event_ts = event.datetime
+        ts = max(ts, event_ts)
+
     return {
         'fallback': u'[{}] {}'.format(group.project.slug, group.title),
         'title': build_attachment_title(group, event),
@@ -198,7 +204,7 @@ def build_attachment(group, event=None, identity=None, actions=None):
             group.organization.slug,
             group.project.slug,
         ),
-        'ts': int(time.mktime(group.last_seen.timetuple())),
+        'ts': to_timestamp(ts),
         'color': color,
         'actions': payload_actions,
     }
