commit e7ae36bc6279d776e93418b393c75e97b5933868
Author: ckj <chriskjennings@gmail.com>
Date:   Wed Mar 11 00:45:05 2015 -0400

    Make project settings use rightbar

diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 45b4f63bba..018334835f 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -1,8 +1,3 @@
-html {
-  overflow-y: scroll;
-  height: 100%;
-}
-
 body {
   margin: 0;
   font-family: @font-family-base;
@@ -233,7 +228,7 @@ header + .messages-container {
   position: absolute;
   width: 220px;
   right: 0px;
-  top: -1px;
+  top: -11px;
 
   .nav-stacked {
     li, li+li {
@@ -257,6 +252,11 @@ header + .messages-container {
       background: @blue;
     }
   }
+
+  h6 {
+    color: darken(@gray-light, 10);
+    margin: 15px 20px;
+  }
 }
 
 /**
diff --git a/src/sentry/templates/sentry/bases/settings.html b/src/sentry/templates/sentry/bases/settings.html
index f74b363610..32c1f59682 100644
--- a/src/sentry/templates/sentry/bases/settings.html
+++ b/src/sentry/templates/sentry/bases/settings.html
@@ -4,18 +4,3 @@
 {% load sentry_permissions %}
 
 {% block title %}{{ project.name }} Settings | {{ block.super }}{% endblock %}
-
-{% block page_header %}
-    {{ block.super }}
-    <ul class="nav nav-tabs project-nav">
-        <li>
-            <a href="{% url 'sentry-stream' project.organization.slug project.slug %}">{% trans "Stream" %}</a>
-        </li>
-        <li>
-            <a href="{% url 'sentry-explore' project.organization.slug project.slug %}">{% trans "Explore" %}</a>
-        </li>
-        <li class="active">
-            <a href="{% url 'sentry-manage-project' project.organization.slug project.slug %}"><span class="icon-settings"></span> {% trans "Project Settings" %}</a>
-        </li>
-    </ul>
-{% endblock %}
diff --git a/src/sentry/templates/sentry/projects/keys.html b/src/sentry/templates/sentry/projects/keys.html
index cf0d97ea66..e0f972712b 100644
--- a/src/sentry/templates/sentry/projects/keys.html
+++ b/src/sentry/templates/sentry/projects/keys.html
@@ -6,7 +6,7 @@
 
 {% block title %}{% trans "Manage API Keys" %} | {{ block.super }}{% endblock %}
 
-{% block inner %}
+{% block content %}
     <div class="page-header">
         {% if can_add_key %}
             <a href="{% url 'sentry-new-project-key' project.organization.slug project.slug %}" class="btn pull-right btn-primary btn-sm" style="position: relative; top: -6px;">{% trans "Generate New Key" %}</a>
diff --git a/src/sentry/templates/sentry/projects/manage.html b/src/sentry/templates/sentry/projects/manage.html
index 1cbf242cc5..6a03fdac09 100644
--- a/src/sentry/templates/sentry/projects/manage.html
+++ b/src/sentry/templates/sentry/projects/manage.html
@@ -5,123 +5,121 @@
 {% load sentry_helpers %}
 {% load sentry_plugins %}
 
-{% block wrapperclass %} {{ block.super }} settings{% endblock %}
+{% block wrapperclass %} {{ block.super }} show-rightbar settings{% endblock %}
 
 {% block controller %}ManageProjectCtrl{% endblock %}
 
-{% block main %}
+{% block content %}
+  <h3>{% trans "Project Settings" %}</h3>
+  <form class="form-stacked" action="." method="post">
+    {% csrf_token %}
 
-    {% block inner %}
-        <h3>{% trans "Project Settings" %}</h3>
-        <form class="form-stacked" action="." method="post">
-            {% csrf_token %}
+    {{ form|as_crispy_errors }}
 
-            {{ form|as_crispy_errors }}
+    <div class="box">
+      <div class="box-header">
+        <h3>{% trans "Project Details" %}</h3>
+      </div>
+      <div class="box-content with-padding">
+        {{ form.name|as_crispy_field }}
+        {{ form.slug|as_crispy_field }}
+        {{ form.platform|as_crispy_field }}
+        {{ form.team|as_crispy_field }}
+      </div>
+    </div>
 
-            <div class="box">
-              <div class="box-header">
-                <h3>{% trans "Project Details" %}</h3>
-              </div>
-              <div class="box-content with-padding">
-                {{ form.name|as_crispy_field }}
-                {{ form.slug|as_crispy_field }}
-                {{ form.platform|as_crispy_field }}
-                {{ form.team|as_crispy_field }}
-              </div>
-            </div>
+    <div class="box">
+      <div class="box-header">
+        <h3>{% trans "Event Settings" %}</h3>
+      </div>
+      <div class="box-content with-padding">
+        {{ form.resolve_age|as_crispy_field }}
+        {{ form.scrub_data|as_crispy_field }}
+        {{ form.scrub_ip_address|as_crispy_field }}
+        {% if form.public %}
+        {{ form.public|as_crispy_field }}
+        {% endif %}
+      </div>
+    </div>
 
-            <div class="box">
-                <div class="box-header">
-                  <h3>{% trans "Event Settings" %}</h3>
-                </div>
-                <div class="box-content with-padding">
-                  {{ form.resolve_age|as_crispy_field }}
-                    {{ form.scrub_data|as_crispy_field }}
-                    {{ form.scrub_ip_address|as_crispy_field }}
-                  {% if form.public %}
-                    {{ form.public|as_crispy_field }}
-<<<<<<< HEAD
-                  {% endif %}
-                </div>
-            </div>
+    <div class="box">
+      <div class="box-header">
+        <h3>{% trans "Client Security" %}</h3>
+      </div>
+      <div class="box-content with-padding">
+        {% with form.origins as field %}
+        <p>{% blocktrans with 'https://github.com/getsentry/raven-js' as link %}Configure origin URLs which Sentry should accept events from. This is used for communication with clients like <a href="{{ link }}">raven-js</a>.{% endblocktrans %}
+        <br>
+        {% blocktrans %}This will restrict requests based on the <code>Origin</code> and <code>Referer</code> headers.{% endblocktrans %}</p>
+        {{ field|as_crispy_field }}
+        {% endwith %}
+        {{ form.token|as_crispy_field }}
+      </div>
+    </div>
 
-            <div class="box">
-                <div class="box-header">
-                  <h3>{% trans "Client Security" %}</h3>
-                </div>
-                <div class="box-content with-padding">
-                  {% with form.origins as field %}
-                      <p>{% blocktrans with 'https://github.com/getsentry/raven-js' as link %}Configure origin URLs which Sentry should accept events from. This is used for communication with clients like <a href="{{ link }}">raven-js</a>.{% endblocktrans %}
-                      <br>
-                      {% blocktrans %}This will restrict requests based on the <code>Origin</code> and <code>Referer</code> headers.{% endblocktrans %}</p>
-                      {{ field|as_crispy_field }}
-                  {% endwith %}
-                  {{ form.token|as_crispy_field }}
-                </div>
-            </div>
+    <div class="box">
+      <div class="box-header">
+        <h3>{% trans "Remove Project" %}</h3>
+      </div>
+      <div class="box-content with-padding">
+        {% if not ACCESS.project_delete %}
+        <p>{% trans "You do not have the required permission to remove this project." %}</p>
+        {% elif project.is_internal_project %}
+        <p>{% trans "This project cannot be removed. It is used internally by the Sentry server." %}</p>
+        {% else %}
+        <p class="clearfix">
+          <a href="{% url 'sentry-remove-project' project.organization.slug project.slug %}" class="btn btn-danger pull-right">{% trans "Remove Project" %}</a>
+          Remove the <strong>{{ project.slug }}</strong> project from <strong>{{ project.team.slug }}</strong>. </br>
+          Careful, this action cannot be undone.
+        </p>
+        {% endif %}
+      </div>
+    </div>
 
-            <div class="box">
-              <div class="box-header">
-                <h3>{% trans "Remove Project" %}</h3>
-              </div>
-              <div class="box-content with-padding">
-                {% if not ACCESS.project_delete %}
-                    <p>{% trans "You do not have the required permission to remove this project." %}</p>
-                {% elif project.is_internal_project %}
-                    <p>{% trans "This project cannot be removed. It is used internally by the Sentry server." %}</p>
-                {% else %}
-                    <p class="clearfix">
-                      <a href="{% url 'sentry-remove-project' project.organization.slug project.slug %}" class="btn btn-danger pull-right">{% trans "Remove Project" %}</a>
-                      Remove the <strong>{{ project.slug }}</strong> project from <strong>{{ project.team.slug }}</strong>. </br>
-                      Careful, this action cannot be undone.
-                    </p>
-                {% endif %}
-              </div>
-            </div>
-
-            <div class="form-actions">
-                <button type="submit" class="btn btn-primary btn-lg">{% trans "Save Changes" %}</button>
-            </div>
-        </form>
-    {% endblock %}
+    <div class="form-actions">
+      <button type="submit" class="btn btn-primary btn-lg">{% trans "Save Changes" %}</button>
+    </div>
+  </form>
 {% endblock %}
 
-{% block sidebar %}
-    <ul class="nav nav-stacked">
-        <li{% if page == 'details' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-project' project.organization.slug project.slug %}">{% trans "Project Settings" %}</a>
-        </li>
-        <li{% if page == 'notifications' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-project-notifications' project.organization.slug project.slug %}">{% trans "Notifications" %}</a>
-        </li>
-        <li{% if page == 'quotas' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-project-quotas' project.organization.slug project.slug %}">{% trans "Rate Limits" %}</a>
-        </li>
-        <li{% if page == 'rules' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-project-rules' project.organization.slug project.slug %}">{% trans "Rules" %}</a>
-        </li>
-        <li{% if page == 'tags' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-project-tags' project.organization.slug project.slug %}">{% trans "Tags" %}</a>
-        </li>
-        <li{% if page == 'keys' %} class="active"{% endif %}>
-            <a href="{% url 'sentry-manage-project-keys' project.organization.slug project.slug %}">{% trans "API Keys" %}</a>
+{% block rightbar %}
+  <h6>{% trans "Configuration" %}</h6>
+  <ul class="nav nav-stacked">
+    <li{% if not page %} class="active"{% endif %}>
+        <a href="{% url 'sentry-manage-project' project.organization.slug project.slug %}">{% trans "Project Settings" %}</a>
+    </li>
+    <li{% if page == 'notifications' %} class="active"{% endif %}>
+        <a href="{% url 'sentry-project-notifications' project.organization.slug project.slug %}">{% trans "Notifications" %}</a>
+    </li>
+    <li{% if page == 'quotas' %} class="active"{% endif %}>
+        <a href="{% url 'sentry-manage-project-quotas' project.organization.slug project.slug %}">{% trans "Rate Limits" %}</a>
+    </li>
+    <li{% if page == 'rules' %} class="active"{% endif %}>
+        <a href="{% url 'sentry-project-rules' project.organization.slug project.slug %}">{% trans "Rules" %}</a>
+    </li>
+    <li{% if page == 'tags' %} class="active"{% endif %}>
+        <a href="{% url 'sentry-manage-project-tags' project.organization.slug project.slug %}">{% trans "Tags" %}</a>
+    </li>
+    <li{% if page == 'keys' %} class="active"{% endif %}>
+        <a href="{% url 'sentry-manage-project-keys' project.organization.slug project.slug %}">{% trans "API Keys" %}</a>
+    </li>
+  </ul>
+  <h6>{% trans "Help" %}</h6>
+  <ul class="nav nav-stacked">
+    <li>
+        <a href="{% url 'sentry-help-platform-list' %}?pid={{ project.id }}">{% trans "Setup &amp; Installation" %}</a>
+    </li>
+    {% with project|get_plugins as plugins %}
+      <h6>{% trans "Integrations" %}</h6>
+      <ul class="nav nav-stacked">
+        <li class="{% if page == 'plugins' %} active{% endif %}">
+          <a href="{% url 'sentry-manage-project-plugins' project.organization.slug project.slug %}">{% trans "Manage Integrations" %} ({{ PLUGINS|length }})</a>
         </li>
-    </ul>
-    <h6>{% trans "Help" %}</h6>
-    <ul class="nav nav-stacked">
-        <li>
-            <a href="{% url 'sentry-help-platform-list' %}?pid={{ project.id }}">{% trans "Setup &amp; Installation" %}</a>
+      {% for p in plugins %}
+        <li{% if page == 'plugin' and plugin.slug == p.slug %} class="active"{% endif %}>
+            <a href="{% url 'sentry-configure-project-plugin' project.organization.slug project.slug p.slug %}">{{ p.get_title }}</a>
         </li>
-    {% with project|get_plugins as plugins %}
-        <h6>{% trans "Integrations" %}</h6>
-        <ul class="nav nav-stacked">
-            <li class="{% if page == 'plugins' %} active{% endif %}">
-                <a href="{% url 'sentry-manage-project-plugins' project.organization.slug project.slug %}">{% trans "Manage Integrations" %} ({{ PLUGINS|length }})</a>
-        {% for p in plugins %}
-            <li{% if page == 'plugin' and plugin.slug == p.slug %} class="active"{% endif %}>
-                <a href="{% url 'sentry-configure-project-plugin' project.organization.slug project.slug p.slug %}">{{ p.get_title }}</a>
-            </li>
-        {% endfor %}
+      {% endfor %}
     {% endwith %}
-    </ul>
+  </ul>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/projects/manage_tags.html b/src/sentry/templates/sentry/projects/manage_tags.html
index 3b1a4648b0..22924a0b32 100644
--- a/src/sentry/templates/sentry/projects/manage_tags.html
+++ b/src/sentry/templates/sentry/projects/manage_tags.html
@@ -6,7 +6,7 @@
 
 {% block title %}{% trans "Manage Tags" %} | {{ block.super }}{% endblock %}
 
-{% block inner %}
+{% block content %}
   <div class="page-header">
     <h2>{% trans "Manage Tags" %}</h2>
   </div>
diff --git a/src/sentry/templates/sentry/projects/notifications.html b/src/sentry/templates/sentry/projects/notifications.html
index f9f6a28f6a..f6bfb141b4 100644
--- a/src/sentry/templates/sentry/projects/notifications.html
+++ b/src/sentry/templates/sentry/projects/notifications.html
@@ -8,7 +8,7 @@
 
 {% block controller %}ManageProjectNotificationsCtrl{% endblock %}
 
-{% block inner %}
+{% block content %}
     <h3>{% trans "Notifications" %}</h3>
     <form action="." method="post" class="form-stacked">
         {% csrf_token %}
diff --git a/src/sentry/templates/sentry/projects/plugins/configure.html b/src/sentry/templates/sentry/projects/plugins/configure.html
index de12c00abf..9658492da8 100644
--- a/src/sentry/templates/sentry/projects/plugins/configure.html
+++ b/src/sentry/templates/sentry/projects/plugins/configure.html
@@ -3,7 +3,7 @@
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block inner %}
+{% block content %}
     <div class="page-header">
         <div class="pull-right">
             {% if plugin.can_disable %}
diff --git a/src/sentry/templates/sentry/projects/plugins/list.html b/src/sentry/templates/sentry/projects/plugins/list.html
index 9c94455dec..284b02bb8d 100644
--- a/src/sentry/templates/sentry/projects/plugins/list.html
+++ b/src/sentry/templates/sentry/projects/plugins/list.html
@@ -6,7 +6,7 @@
 
 {% block title %}{% trans "Manage Integrations" %} | {{ block.super }}{% endblock %}
 
-{% block inner %}
+{% block content %}
     <div class="page-header">
         <h2>{% trans "Manage Integrations" %}</h2>
     </div>
diff --git a/src/sentry/templates/sentry/projects/quotas.html b/src/sentry/templates/sentry/projects/quotas.html
index 1e7e2b3d95..ab9ad22459 100644
--- a/src/sentry/templates/sentry/projects/quotas.html
+++ b/src/sentry/templates/sentry/projects/quotas.html
@@ -6,7 +6,7 @@
 
 {% block title %}{% trans "Rate Limits" %} | {{ block.super }}{% endblock %}
 
-{% block inner %}
+{% block content %}
 
     <h3>{% trans "Rate Limits" %}</h3>
 
diff --git a/src/sentry/templates/sentry/projects/rules/list.html b/src/sentry/templates/sentry/projects/rules/list.html
index 44c1684bbc..4ca77849d1 100644
--- a/src/sentry/templates/sentry/projects/rules/list.html
+++ b/src/sentry/templates/sentry/projects/rules/list.html
@@ -2,7 +2,7 @@
 
 {% load i18n %}
 
-{% block inner %}
+{% block content %}
     <div class="page-header">
         <a href="{% url 'sentry-new-project-rule' project.organization.slug project.slug %}" class="btn pull-right btn-primary btn-sm" style="position: relative; top: -6px;">{% trans "New Rule" %}</a>
         <h3>{% trans "Rules" %}</h3>
diff --git a/src/sentry/templates/sentry/projects/rules/new.html b/src/sentry/templates/sentry/projects/rules/new.html
index 76136a1dd0..f724862146 100644
--- a/src/sentry/templates/sentry/projects/rules/new.html
+++ b/src/sentry/templates/sentry/projects/rules/new.html
@@ -4,7 +4,7 @@
 {% load i18n %}
 {% load sentry_helpers %}
 
-{% block inner %}
+{% block content %}
   <div id="blk_rule_editor"></div>
   <script>
   $(function(){
