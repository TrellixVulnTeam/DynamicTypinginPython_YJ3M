commit 8b076c0ac93608af2f4128afa56fc451a44cd8ad
Author: MeredithAnya <meredith.a.heller@gmail.com>
Date:   Fri May 29 11:03:17 2020 -0700

    ref(audit-logs): Migration for adding INTEGRATION_UPGRADE (#19084)

diff --git a/migrations_lockfile.txt b/migrations_lockfile.txt
index 0ed489187e..6c25f502e3 100644
--- a/migrations_lockfile.txt
+++ b/migrations_lockfile.txt
@@ -10,7 +10,7 @@ auth: 0008_alter_user_username_max_length
 contenttypes: 0002_remove_content_type_name
 jira_ac: 0001_initial
 nodestore: 0001_initial
-sentry: 0080_alert_rules_drop_unused_tables_cols
+sentry: 0081_add_integraiton_upgrade_audit_log
 sessions: 0001_initial
 sites: 0002_alter_domain_unique
 social_auth: 0001_initial
diff --git a/src/sentry/migrations/0081_add_integraiton_upgrade_audit_log.py b/src/sentry/migrations/0081_add_integraiton_upgrade_audit_log.py
new file mode 100644
index 0000000000..225268112b
--- /dev/null
+++ b/src/sentry/migrations/0081_add_integraiton_upgrade_audit_log.py
@@ -0,0 +1,38 @@
+# -*- coding: utf-8 -*-
+# Generated by Django 1.11.29 on 2020-05-29 15:18
+from __future__ import unicode_literals
+
+from django.db import migrations
+import sentry.db.models.fields.bounded
+
+
+class Migration(migrations.Migration):
+    # This flag is used to mark that a migration shouldn't be automatically run in
+    # production. We set this to True for operations that we think are risky and want
+    # someone from ops to run manually and monitor.
+    # General advice is that if in doubt, mark your migration as `is_dangerous`.
+    # Some things you should always mark as dangerous:
+    # - Large data migrations. Typically we want these to be run manually by ops so that
+    #   they can be monitored. Since data migrations will now hold a transaction open
+    #   this is even more important.
+    # - Adding columns to highly active tables, even ones that are NULL.
+    is_dangerous = False
+
+    # This flag is used to decide whether to run this migration in a transaction or not.
+    # By default we prefer to run in a transaction, but for migrations where you want
+    # to `CREATE INDEX CONCURRENTLY` this needs to be set to False. Typically you'll
+    # want to create an index concurrently when adding one to an existing table.
+    atomic = True
+
+
+    dependencies = [
+        ('sentry', '0080_alert_rules_drop_unused_tables_cols'),
+    ]
+
+    operations = [
+        migrations.AlterField(
+            model_name='auditlogentry',
+            name='event',
+            field=sentry.db.models.fields.bounded.BoundedPositiveIntegerField(choices=[(1, b'member.invite'), (2, b'member.add'), (3, b'member.accept-invite'), (5, b'member.remove'), (4, b'member.edit'), (6, b'member.join-team'), (7, b'member.leave-team'), (8, b'member.pending'), (20, b'team.create'), (21, b'team.edit'), (22, b'team.remove'), (30, b'project.create'), (31, b'project.edit'), (32, b'project.remove'), (33, b'project.set-public'), (34, b'project.set-private'), (35, b'project.request-transfer'), (36, b'project.accept-transfer'), (37, b'project.enable'), (38, b'project.disable'), (10, b'org.create'), (11, b'org.edit'), (12, b'org.remove'), (13, b'org.restore'), (40, b'tagkey.remove'), (50, b'projectkey.create'), (51, b'projectkey.edit'), (52, b'projectkey.remove'), (53, b'projectkey.enable'), (53, b'projectkey.disable'), (60, b'sso.enable'), (61, b'sso.disable'), (62, b'sso.edit'), (63, b'sso-identity.link'), (70, b'api-key.create'), (71, b'api-key.edit'), (72, b'api-key.remove'), (80, b'rule.create'), (81, b'rule.edit'), (82, b'rule.remove'), (100, b'servicehook.create'), (101, b'servicehook.edit'), (102, b'servicehook.remove'), (103, b'servicehook.enable'), (104, b'servicehook.disable'), (109, b'integration.upgrade'), (110, b'integration.add'), (111, b'integration.edit'), (112, b'integration.remove'), (113, b'sentry-app.add'), (115, b'sentry-app.remove'), (116, b'sentry-app.install'), (117, b'sentry-app.uninstall'), (130, b'internal-integration.create'), (135, b'internal-integration.add-token'), (136, b'internal-integration.remove-token'), (90, b'ondemand.edit'), (91, b'trial.started'), (92, b'plan.changed'), (93, b'plan.cancelled'), (140, b'invite-request.create'), (141, b'invite-request.remove')]),
+        ),
+    ]
