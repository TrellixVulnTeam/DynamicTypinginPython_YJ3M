commit 918ac5637bb38b1d4edb98ac11f1ca3f9d8cc415
Author: Katie Lundsgaard <katie@getsentry.com>
Date:   Fri Jan 27 15:35:14 2017 -0800

    Test commit serializer

diff --git a/tests/sentry/api/serializers/test_commit.py b/tests/sentry/api/serializers/test_commit.py
new file mode 100644
index 0000000000..6d114c2dd4
--- /dev/null
+++ b/tests/sentry/api/serializers/test_commit.py
@@ -0,0 +1,49 @@
+# -*- coding: utf-8 -*-
+
+from __future__ import absolute_import
+
+from uuid import uuid4
+
+from sentry.api.serializers import serialize
+from sentry.models import (Commit, CommitAuthor,
+    Release, ReleaseCommit, Repository)
+from sentry.testutils import TestCase
+
+
+class CommitSerializerTest(TestCase):
+    def test_simple(self):
+        user = self.create_user()
+        project = self.create_project()
+        release = Release.objects.create(
+            organization_id=project.organization_id,
+            version=uuid4().hex,
+        )
+        release.add_project(project)
+        repository = Repository.objects.create(
+            organization_id=project.organization_id,
+            name='test/test',
+        )
+        commit_author = CommitAuthor.objects.create(
+            name='stebe',
+            email='stebe@sentry.io',
+            organization_id=project.organization_id,
+        )
+        commit = Commit.objects.create(
+            organization_id=project.organization_id,
+            repository_id=repository.id,
+            key='abc',
+            author=commit_author,
+            message='waddap',
+        )
+        ReleaseCommit.objects.create(
+            organization_id=project.organization_id,
+            project_id=project.id,
+            release=release,
+            commit=commit,
+            order=1,
+        )
+        result = serialize(commit, user)
+
+        assert result['message'] == 'waddap'
+        assert result['repository']['name'] == 'test/test'
+        assert result['author'] == {'name': 'stebe', 'email': 'stebe@sentry.io'}
