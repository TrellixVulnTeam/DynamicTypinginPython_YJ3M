commit d5668abe9dca757e341f7d1168cae33d99a7202b
Author: Dora <dora.l.chan@gmail.com>
Date:   Thu Mar 26 20:44:30 2020 -0700

    fix(alert refactor): inline text and alignment fix for alerts (#17951)
    
    * fix alerts
    
    * added auto margin to vertically center text
    
    * update snapshots
    
    * refactor and replace with standard spacing
    
    Co-authored-by: Dora Chan <dora.lchan@gmail.com>

diff --git a/src/sentry/static/sentry/app/components/alert.tsx b/src/sentry/static/sentry/app/components/alert.tsx
index da6569f4e0..ce2a5e912e 100644
--- a/src/sentry/static/sentry/app/components/alert.tsx
+++ b/src/sentry/static/sentry/app/components/alert.tsx
@@ -81,10 +81,11 @@ const IconWrapper = styled('span')`
   margin: ${space(0.5)} ${space(1.5)} ${space(0.5)} 0;
 `;
 
-const StyledTextBlock = styled('div')`
-  display: flex;
-  align-items: center;
+const StyledTextBlock = styled('span')`
+  line-height: 1.5;
   flex-grow: 1;
+  position: relative;
+  margin: auto;
 `;
 
 const Alert = styled(
@@ -103,10 +104,7 @@ const Alert = styled(
           {typeof icon === 'string' ? <InlineSvg src={icon} size={iconSize!} /> : icon}
         </IconWrapper>
       )}
-      <StyledTextBlock>
-        {/* wrap with <span> to preserve inline white space in children */}
-        <span>{children}</span>
-      </StyledTextBlock>
+      <StyledTextBlock>{children}</StyledTextBlock>
     </div>
   )
 )<AlertProps>`
diff --git a/src/sentry/static/sentry/app/components/alertMessage.tsx b/src/sentry/static/sentry/app/components/alertMessage.tsx
index 1f4e701759..d6117db113 100644
--- a/src/sentry/static/sentry/app/components/alertMessage.tsx
+++ b/src/sentry/static/sentry/app/components/alertMessage.tsx
@@ -32,7 +32,7 @@ const AlertMessage = ({alert, system}: Props) => {
 
   return (
     <StyledAlert type={type} icon={icon} system={system}>
-      {url ? <Link href={url}>{message}</Link> : message}
+      <StyledMessage>{url ? <Link href={url}>{message}</Link> : message}</StyledMessage>
       <StyledCloseButton
         icon={<IconClose size="md" circle />}
         aria-label={t('Close')}
@@ -51,12 +51,18 @@ const StyledAlert = styled(Alert)`
   margin: 0;
 `;
 
+const StyledMessage = styled('span')`
+  display: block;
+  margin: auto ${space(4)} auto 0;
+`;
+
 const StyledCloseButton = styled(Button)`
-  align-self: flex-start;
-  margin: ${space(0.5)} 0 ${space(0.5)} auto;
   background-color: transparent;
   opacity: 0.4;
   transition: opacity 0.1s linear;
+  position: absolute;
+  top: 0;
+  right: 0;
 
   &:hover,
   &:focus {
diff --git a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
index ab895cbd2a..e03a4afb73 100644
--- a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
@@ -43,13 +43,11 @@ exports[`ConfirmDelete renders 1`] = `
                 className="ref-error css-1cl10ra-Alert ejthpj82"
               >
                 <StyledTextBlock>
-                  <div
-                    className="css-12wruw9-StyledTextBlock ejthpj81"
+                  <span
+                    className="css-6y2q80-StyledTextBlock ejthpj81"
                   >
-                    <span>
-                      Are you sure?
-                    </span>
-                  </div>
+                    Are you sure?
+                  </span>
                 </StyledTextBlock>
               </div>
             </Component>
diff --git a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
index 2852cbc77f..1ae2fc2347 100644
--- a/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
+++ b/tests/js/spec/components/events/__snapshots__/sdkUpdates.spec.jsx.snap
@@ -88,119 +88,117 @@ exports[`EventSdkUpdates renders a suggestion to update the sdk and then enable
                     </span>
                   </IconWrapper>
                   <StyledTextBlock>
-                    <div
-                      className="css-12wruw9-StyledTextBlock ejthpj81"
+                    <span
+                      className="css-6y2q80-StyledTextBlock ejthpj81"
                     >
-                      <span>
-                        We recommend you 
-                        <EventSdkUpdateSuggestion
-                          event={
-                            Object {
-                              "id": "123",
-                              "sdk": Object {
-                                "name": "sentry.python",
-                                "version": "0.1.0",
+                      We recommend you 
+                      <EventSdkUpdateSuggestion
+                        event={
+                          Object {
+                            "id": "123",
+                            "sdk": Object {
+                              "name": "sentry.python",
+                              "version": "0.1.0",
+                            },
+                            "sdkUpdates": Array [
+                              Object {
+                                "enables": Array [
+                                  Object {
+                                    "enables": Array [],
+                                    "integrationName": "django",
+                                    "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
+                                    "type": "enableIntegration",
+                                  },
+                                ],
+                                "newSdkVersion": "0.9.0",
+                                "sdkName": "sentry.python",
+                                "sdkUrl": null,
+                                "type": "updateSdk",
                               },
-                              "sdkUpdates": Array [
-                                Object {
-                                  "enables": Array [
-                                    Object {
-                                      "enables": Array [],
-                                      "integrationName": "django",
-                                      "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
-                                      "type": "enableIntegration",
-                                    },
-                                  ],
-                                  "newSdkVersion": "0.9.0",
-                                  "sdkName": "sentry.python",
-                                  "sdkUrl": null,
-                                  "type": "updateSdk",
-                                },
-                              ],
-                            }
+                            ],
                           }
-                          suggestion={
-                            Object {
-                              "enables": Array [
-                                Object {
-                                  "enables": Array [],
-                                  "integrationName": "django",
-                                  "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
-                                  "type": "enableIntegration",
-                                },
-                              ],
-                              "newSdkVersion": "0.9.0",
-                              "sdkName": "sentry.python",
-                              "sdkUrl": null,
-                              "type": "updateSdk",
-                            }
+                        }
+                        suggestion={
+                          Object {
+                            "enables": Array [
+                              Object {
+                                "enables": Array [],
+                                "integrationName": "django",
+                                "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
+                                "type": "enableIntegration",
+                              },
+                            ],
+                            "newSdkVersion": "0.9.0",
+                            "sdkName": "sentry.python",
+                            "sdkUrl": null,
+                            "type": "updateSdk",
                           }
-                        >
-                          <span>
-                            update your SDK from version 0.1.0 to version 0.9.0
-                             so you can
-                            <AlertUl>
-                              <ul
-                                className="css-1m5k0q4-AlertUl emcdiy70"
+                        }
+                      >
+                        <span>
+                          update your SDK from version 0.1.0 to version 0.9.0
+                           so you can
+                          <AlertUl>
+                            <ul
+                              className="css-1m5k0q4-AlertUl emcdiy70"
+                            >
+                              <li
+                                key="{\\"enables\\":[],\\"integrationName\\":\\"django\\",\\"integrationUrl\\":\\"https://docs.sentry.io/platforms/python/django/\\",\\"type\\":\\"enableIntegration\\"}"
                               >
-                                <li
-                                  key="{\\"enables\\":[],\\"integrationName\\":\\"django\\",\\"integrationUrl\\":\\"https://docs.sentry.io/platforms/python/django/\\",\\"type\\":\\"enableIntegration\\"}"
-                                >
-                                  <EventSdkUpdateSuggestion
-                                    event={
-                                      Object {
-                                        "id": "123",
-                                        "sdk": Object {
-                                          "name": "sentry.python",
-                                          "version": "0.1.0",
+                                <EventSdkUpdateSuggestion
+                                  event={
+                                    Object {
+                                      "id": "123",
+                                      "sdk": Object {
+                                        "name": "sentry.python",
+                                        "version": "0.1.0",
+                                      },
+                                      "sdkUpdates": Array [
+                                        Object {
+                                          "enables": Array [
+                                            Object {
+                                              "enables": Array [],
+                                              "integrationName": "django",
+                                              "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
+                                              "type": "enableIntegration",
+                                            },
+                                          ],
+                                          "newSdkVersion": "0.9.0",
+                                          "sdkName": "sentry.python",
+                                          "sdkUrl": null,
+                                          "type": "updateSdk",
                                         },
-                                        "sdkUpdates": Array [
-                                          Object {
-                                            "enables": Array [
-                                              Object {
-                                                "enables": Array [],
-                                                "integrationName": "django",
-                                                "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
-                                                "type": "enableIntegration",
-                                              },
-                                            ],
-                                            "newSdkVersion": "0.9.0",
-                                            "sdkName": "sentry.python",
-                                            "sdkUrl": null,
-                                            "type": "updateSdk",
-                                          },
-                                        ],
-                                      }
+                                      ],
                                     }
-                                    suggestion={
-                                      Object {
-                                        "enables": Array [],
-                                        "integrationName": "django",
-                                        "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
-                                        "type": "enableIntegration",
-                                      }
+                                  }
+                                  suggestion={
+                                    Object {
+                                      "enables": Array [],
+                                      "integrationName": "django",
+                                      "integrationUrl": "https://docs.sentry.io/platforms/python/django/",
+                                      "type": "enableIntegration",
                                     }
+                                  }
+                                >
+                                  <ForwardRef
+                                    href="https://docs.sentry.io/platforms/python/django/"
                                   >
-                                    <ForwardRef
+                                    <a
                                       href="https://docs.sentry.io/platforms/python/django/"
+                                      rel="noreferrer noopener"
+                                      target="_blank"
                                     >
-                                      <a
-                                        href="https://docs.sentry.io/platforms/python/django/"
-                                        rel="noreferrer noopener"
-                                        target="_blank"
-                                      >
-                                        enable the 'django' integration
-                                      </a>
-                                    </ForwardRef>
-                                  </EventSdkUpdateSuggestion>
-                                </li>
-                              </ul>
-                            </AlertUl>
-                          </span>
-                        </EventSdkUpdateSuggestion>
-                        .
-                      </span>
-                    </div>
+                                      enable the 'django' integration
+                                    </a>
+                                  </ForwardRef>
+                                </EventSdkUpdateSuggestion>
+                              </li>
+                            </ul>
+                          </AlertUl>
+                        </span>
+                      </EventSdkUpdateSuggestion>
+                      .
+                    </span>
                   </StyledTextBlock>
                 </div>
               </Component>
diff --git a/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap b/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
index 32b540047f..231078ac96 100644
--- a/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
+++ b/tests/js/spec/views/projectPlugins/__snapshots__/projectPlugins.spec.jsx.snap
@@ -140,23 +140,79 @@ exports[`ProjectPlugins renders 1`] = `
                           </span>
                         </IconWrapper>
                         <StyledTextBlock>
-                          <div
-                            className="css-12wruw9-StyledTextBlock ejthpj81"
+                          <span
+                            className="css-6y2q80-StyledTextBlock ejthpj81"
                           >
-                            <span>
-                              <WithOrganizationMockWrapper
+                            <WithOrganizationMockWrapper
+                              access={
+                                Array [
+                                  "org:integrations",
+                                ]
+                              }
+                            >
+                              <withConfig(Access)
                                 access={
                                   Array [
                                     "org:integrations",
                                   ]
                                 }
+                                organization={
+                                  Object {
+                                    "access": Array [
+                                      "org:read",
+                                      "org:write",
+                                      "org:admin",
+                                      "org:integrations",
+                                      "project:read",
+                                      "project:write",
+                                      "project:admin",
+                                      "team:read",
+                                      "team:write",
+                                      "team:admin",
+                                    ],
+                                    "features": Array [],
+                                    "id": "3",
+                                    "name": "Organization Name",
+                                    "onboardingTasks": Array [],
+                                    "projects": Array [],
+                                    "scrapeJavaScript": true,
+                                    "slug": "org-slug",
+                                    "status": Object {
+                                      "id": "active",
+                                      "name": "active",
+                                    },
+                                    "teams": Array [],
+                                  }
+                                }
                               >
-                                <withConfig(Access)
+                                <Access
                                   access={
                                     Array [
                                       "org:integrations",
                                     ]
                                   }
+                                  config={
+                                    Object {
+                                      "features": Set {},
+                                      "messages": Array [],
+                                      "user": Object {
+                                        "email": "foo@example.com",
+                                        "flags": Object {
+                                          "newsletter_consent_prompt": false,
+                                        },
+                                        "hasPasswordAuth": true,
+                                        "id": "1",
+                                        "isAuthenticated": true,
+                                        "name": "Foo Bar",
+                                        "options": Object {
+                                          "timezone": "UTC",
+                                        },
+                                        "permissions": Set {},
+                                        "username": "foo@example.com",
+                                      },
+                                    }
+                                  }
+                                  isSuperuser={false}
                                   organization={
                                     Object {
                                       "access": Array [
@@ -185,106 +241,48 @@ exports[`ProjectPlugins renders 1`] = `
                                       "teams": Array [],
                                     }
                                   }
+                                  renderNoAccessMessage={false}
+                                  requireAll={true}
                                 >
-                                  <Access
-                                    access={
-                                      Array [
-                                        "org:integrations",
-                                      ]
-                                    }
-                                    config={
-                                      Object {
-                                        "features": Set {},
-                                        "messages": Array [],
-                                        "user": Object {
-                                          "email": "foo@example.com",
-                                          "flags": Object {
-                                            "newsletter_consent_prompt": false,
-                                          },
-                                          "hasPasswordAuth": true,
-                                          "id": "1",
-                                          "isAuthenticated": true,
-                                          "name": "Foo Bar",
-                                          "options": Object {
-                                            "timezone": "UTC",
-                                          },
-                                          "permissions": Set {},
-                                          "username": "foo@example.com",
-                                        },
-                                      }
-                                    }
-                                    isSuperuser={false}
-                                    organization={
-                                      Object {
-                                        "access": Array [
-                                          "org:read",
-                                          "org:write",
-                                          "org:admin",
-                                          "org:integrations",
-                                          "project:read",
-                                          "project:write",
-                                          "project:admin",
-                                          "team:read",
-                                          "team:write",
-                                          "team:admin",
-                                        ],
-                                        "features": Array [],
-                                        "id": "3",
-                                        "name": "Organization Name",
-                                        "onboardingTasks": Array [],
-                                        "projects": Array [],
-                                        "scrapeJavaScript": true,
-                                        "slug": "org-slug",
-                                        "status": Object {
-                                          "id": "active",
-                                          "name": "active",
-                                        },
-                                        "teams": Array [],
-                                      }
-                                    }
-                                    renderNoAccessMessage={false}
-                                    requireAll={true}
+                                  <span
+                                    key="5"
                                   >
                                     <span
-                                      key="5"
+                                      key="0"
+                                    >
+                                      Legacy Integrations must be configured per-project. It's recommended to prefer organization integrations over the legacy project integrations when available. Visit the 
+                                    </span>
+                                    <Link
+                                      key="2"
+                                      to="/settings/org-slug/integrations"
                                     >
-                                      <span
-                                        key="0"
-                                      >
-                                        Legacy Integrations must be configured per-project. It's recommended to prefer organization integrations over the legacy project integrations when available. Visit the 
-                                      </span>
                                       <Link
-                                        key="2"
+                                        onlyActiveOnIndex={false}
+                                        style={Object {}}
                                         to="/settings/org-slug/integrations"
                                       >
-                                        <Link
-                                          onlyActiveOnIndex={false}
+                                        <a
+                                          onClick={[Function]}
                                           style={Object {}}
-                                          to="/settings/org-slug/integrations"
                                         >
-                                          <a
-                                            onClick={[Function]}
-                                            style={Object {}}
+                                          <span
+                                            key="1"
                                           >
-                                            <span
-                                              key="1"
-                                            >
-                                              organization integrations
-                                            </span>
-                                          </a>
-                                        </Link>
+                                            organization integrations
+                                          </span>
+                                        </a>
                                       </Link>
-                                      <span
-                                        key="3"
-                                      >
-                                         settings to manage them.
-                                      </span>
+                                    </Link>
+                                    <span
+                                      key="3"
+                                    >
+                                       settings to manage them.
                                     </span>
-                                  </Access>
-                                </withConfig(Access)>
-                              </WithOrganizationMockWrapper>
-                            </span>
-                          </div>
+                                  </span>
+                                </Access>
+                              </withConfig(Access)>
+                            </WithOrganizationMockWrapper>
+                          </span>
                         </StyledTextBlock>
                       </div>
                     </Component>
