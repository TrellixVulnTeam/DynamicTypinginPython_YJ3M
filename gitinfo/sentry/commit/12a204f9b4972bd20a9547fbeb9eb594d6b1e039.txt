commit 12a204f9b4972bd20a9547fbeb9eb594d6b1e039
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Dec 2 15:14:27 2015 -0800

    Fix bad test for values

diff --git a/src/sentry/utils/data_scrubber.py b/src/sentry/utils/data_scrubber.py
index ce754fe78b..ab15635bef 100644
--- a/src/sentry/utils/data_scrubber.py
+++ b/src/sentry/utils/data_scrubber.py
@@ -31,8 +31,8 @@ def varmap(func, var, context=None, name=None):
         ret = dict((k, varmap(func, v, context, k)) for k, v in six.iteritems(var))
     elif isinstance(var, (list, tuple)):
         # treat it like a mapping
-        if all(v for v in var if isinstance(v, (list, tuple)) and len(v) == 2):
-            ret = [(k, varmap(func, v, context, k)) for k, v in var]
+        if all(isinstance(v, (list, tuple)) and len(v) == 2 for v in var):
+            ret = [[k, varmap(func, v, context, k)] for k, v in var]
         else:
             ret = [varmap(func, f, context, name) for f in var]
     else:
