commit 526f1d4cb30d05ebca90d54e9f91d94e35671ca3
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Wed Apr 19 14:12:11 2017 +0200

    Fixed get_ident call

diff --git a/src/sentry/lang/javascript/processor.py b/src/sentry/lang/javascript/processor.py
index 4eb2172637..5532c164b1 100644
--- a/src/sentry/lang/javascript/processor.py
+++ b/src/sentry/lang/javascript/processor.py
@@ -211,14 +211,16 @@ def fetch_release_file(filename, release, distribution=None):
                  filename, release.id)
     result = cache.get(cache_key)
 
+    dist_name = distribution and distribution.name or None
+
     if result is None:
         logger.debug('Checking database for release artifact %r (release_id=%s)',
                      filename, release.id)
 
-        filename_idents = [ReleaseFile.get_ident(filename, distribution)]
+        filename_idents = [ReleaseFile.get_ident(filename, dist_name)]
         if filename_path is not None and filename_path != filename:
             filename_idents.append(ReleaseFile.get_ident(
-                filename_path, distribution))
+                filename_path, dist_name))
 
         possible_files = list(ReleaseFile.objects.filter(
             release=release,
