commit d824ccf1ddf31debcc64dbf8e0c16cf20c10b645
Author: James Cunningham <cunninghamjt09@gmail.com>
Date:   Fri Sep 9 15:26:00 2016 -0700

    Add rule_id to notifications and move logging statement to universal method. (#4112)
    
    * Simple list object for notifiers.
    
    * Move logging statement to a universally used plugin method.
    
    * Unnecessary.

diff --git a/src/sentry/plugins/bases/notify.py b/src/sentry/plugins/bases/notify.py
index a9ec3fadf6..afc0af0cd1 100644
--- a/src/sentry/plugins/bases/notify.py
+++ b/src/sentry/plugins/bases/notify.py
@@ -59,10 +59,6 @@ class NotificationPlugin(Plugin):
         return 'notification'
 
     def notify(self, notification):
-        self.logger.info('notification.dispatched', extra={
-            'event_id': notification.event.id,
-            'plugin': self.slug
-        })
         event = notification.event
         return self.notify_users(event.group, event)
 
@@ -96,6 +92,11 @@ class NotificationPlugin(Plugin):
                 rules=rules,
             )
             self.notify(notification)
+            self.logger.info('notification.dispatched', extra={
+                'event_id': event.id,
+                'plugin': self.slug,
+                'rule_id': rules[0] if rules else None,
+            })
 
     def notify_users(self, group, event, fail_silently=False):
         raise NotImplementedError
