commit 69221cb737d75861ffb447ef2c2ea932941cdc7c
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Mar 2 23:31:57 2012 -0800

    Show your DSN value on the project dashboard if there are no events

diff --git a/sentry/templates/sentry/groups/group_list.html b/sentry/templates/sentry/groups/group_list.html
index 2779d4cde8..d6f3438465 100644
--- a/sentry/templates/sentry/groups/group_list.html
+++ b/sentry/templates/sentry/groups/group_list.html
@@ -100,8 +100,19 @@
             {% endfor %}
         </ul>
     {% else %}
+        {% get_project_dsn for request.user from project as project_dsn %}
         <ul class="events" id="event_list">
-            <li class="empty-result" id="no_messages">{% trans "No events match your filters." %}</li>
+            <li class="empty-result" id="no_messages">
+                <div class="alert alert-block alert-notice">
+                    {% if project_dsn %}
+                        <p>{% trans "To start sending events, configure your client to send events with the following DSN value:" %}</p>
+                        <p><code class="clippy">{{ project_dsn }}</code></p>
+                        <p>{% blocktrans with 'http://sentry.readthedocs.org' as link %}For more information, please see the <a href="{{ link }}">documentation</a>.{% endblocktrans %}</p>
+                    {% else %}
+                        <p>{% trans "No events match your filters." %}</p>
+                    {% endif %}
+                </div>
+            </li>
         </ul>
     {% endif %}
 
diff --git a/sentry/templates/sentry/projects/list.html b/sentry/templates/sentry/projects/list.html
index 94ee3bf085..ce3ccf8268 100644
--- a/sentry/templates/sentry/projects/list.html
+++ b/sentry/templates/sentry/projects/list.html
@@ -42,7 +42,7 @@
                             <td>
                                 <a href="{% url sentry-manage-project project.pk %}">{{ project.name }}</a><br/>
                                 {% if project.member_dsn %}
-                                    <small class="clippy">{{ project.member_dsn }}</small>
+                                    <small><code class="clippy">{{ project.member_dsn }}</code></small>
                                 {% endif %}
                             </td>
                             <td style="text-align:center;vertical-align:middle;">{{ project.member_type }}</td>
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index dec27cde08..b7a1958b25 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -347,3 +347,23 @@ def as_bookmarks(group_list, user):
 def date(datetime, arg=None):
     from django.template.defaultfilters import date
     return date(local_to_utc(datetime), arg)
+
+
+@tag(register, [Constant('for'), Variable('user'),
+                Constant('from'), Variable('project'),
+                Constant('as'), Name('asvar')])
+def get_project_dsn(context, user, project, asvar):
+    from sentry.models import ProjectMember
+
+    if not user.is_authenticated():
+        context[asvar] = None
+        return ''
+
+    try:
+        member = ProjectMember.objects.get(user=user, project=project)
+    except ProjectMember.DoesNotExist:
+        context[asvar] = None
+    else:
+        context[asvar] = member.get_dsn()
+
+    return ''
diff --git a/sentry/web/frontend/groups.py b/sentry/web/frontend/groups.py
index 25bcb1f316..c47f42a778 100644
--- a/sentry/web/frontend/groups.py
+++ b/sentry/web/frontend/groups.py
@@ -214,6 +214,7 @@ def group_list(request, project, view_id=None):
 
     return render_to_response('sentry/groups/group_list.html', {
         'project': project,
+
         'has_realtime': has_realtime,
         'event_list': event_list,
         'today': today,
