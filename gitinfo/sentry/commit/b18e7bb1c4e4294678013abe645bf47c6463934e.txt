commit b18e7bb1c4e4294678013abe645bf47c6463934e
Author: josh <josh@jrl.ninja>
Date:   Tue May 5 18:38:56 2020 +0000

    perf: remove costly assert_package_not_installed (#18628)

diff --git a/src/sentry_plugins/base.py b/src/sentry_plugins/base.py
index 4f8c959c65..14ac2882eb 100644
--- a/src/sentry_plugins/base.py
+++ b/src/sentry_plugins/base.py
@@ -1,6 +1,5 @@
 from __future__ import absolute_import
 
-import pkg_resources
 import sentry_plugins
 import six
 import sys
@@ -68,14 +67,3 @@ class CorePluginMixin(object):
         else:
             self.logger.exception(six.text_type(exc))
             six.reraise(PluginError, PluginError(self.message_from_error(exc)), sys.exc_info()[2])
-
-
-def assert_package_not_installed(name):
-    try:
-        pkg_resources.get_distribution(name)
-    except pkg_resources.DistributionNotFound:
-        return
-    else:
-        raise RuntimeError(
-            "Found %r. This has been superseded by 'sentry-plugins', so please uninstall." % name
-        )
diff --git a/src/sentry_plugins/bitbucket/__init__.py b/src/sentry_plugins/bitbucket/__init__.py
index 9cc5c4d2cf..c3961685ab 100644
--- a/src/sentry_plugins/bitbucket/__init__.py
+++ b/src/sentry_plugins/bitbucket/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-bitbucket")
diff --git a/src/sentry_plugins/github/__init__.py b/src/sentry_plugins/github/__init__.py
index 189b29c6a8..f85f5f6e35 100644
--- a/src/sentry_plugins/github/__init__.py
+++ b/src/sentry_plugins/github/__init__.py
@@ -1,7 +1,3 @@
 from __future__ import absolute_import
 
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-github")
-
 from sentry_plugins.github import options  # NOQA
diff --git a/src/sentry_plugins/gitlab/__init__.py b/src/sentry_plugins/gitlab/__init__.py
index e15a932122..c3961685ab 100644
--- a/src/sentry_plugins/gitlab/__init__.py
+++ b/src/sentry_plugins/gitlab/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-gitlab")
diff --git a/src/sentry_plugins/heroku/__init__.py b/src/sentry_plugins/heroku/__init__.py
index 13de32a23d..c3961685ab 100644
--- a/src/sentry_plugins/heroku/__init__.py
+++ b/src/sentry_plugins/heroku/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-heroku")
diff --git a/src/sentry_plugins/jira/__init__.py b/src/sentry_plugins/jira/__init__.py
index ecde9e6a59..c3961685ab 100644
--- a/src/sentry_plugins/jira/__init__.py
+++ b/src/sentry_plugins/jira/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-jira")
diff --git a/src/sentry_plugins/pagerduty/__init__.py b/src/sentry_plugins/pagerduty/__init__.py
index 55556ca521..c3961685ab 100644
--- a/src/sentry_plugins/pagerduty/__init__.py
+++ b/src/sentry_plugins/pagerduty/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-pagerduty")
diff --git a/src/sentry_plugins/pivotal/__init__.py b/src/sentry_plugins/pivotal/__init__.py
index 3e3caee7aa..c3961685ab 100644
--- a/src/sentry_plugins/pivotal/__init__.py
+++ b/src/sentry_plugins/pivotal/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-pivotal")
diff --git a/src/sentry_plugins/pushover/__init__.py b/src/sentry_plugins/pushover/__init__.py
index b5f88ec73d..c3961685ab 100644
--- a/src/sentry_plugins/pushover/__init__.py
+++ b/src/sentry_plugins/pushover/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-pushover")
diff --git a/src/sentry_plugins/slack/__init__.py b/src/sentry_plugins/slack/__init__.py
index dd49f748de..c3961685ab 100644
--- a/src/sentry_plugins/slack/__init__.py
+++ b/src/sentry_plugins/slack/__init__.py
@@ -1,5 +1 @@
 from __future__ import absolute_import
-
-from sentry_plugins.base import assert_package_not_installed
-
-assert_package_not_installed("sentry-slack")
