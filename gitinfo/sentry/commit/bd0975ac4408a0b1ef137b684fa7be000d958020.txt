commit bd0975ac4408a0b1ef137b684fa7be000d958020
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 11 21:32:17 2014 -0700

    Add assigneeSelector directive

diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index f5661b10e0..ce80f45529 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -433,6 +433,7 @@ SENTRY_STATIC_BUNDLES = {
                 "sentry/app/controllers/teamDashboard.js",
                 "sentry/app/controllers/teamList.js",
 
+                "sentry/app/directives/assigneeSelector.js",
                 "sentry/app/directives/clippy.js",
                 "sentry/app/directives/count.js",
                 "sentry/app/directives/timeSince.js",
diff --git a/src/sentry/static/sentry/app.js b/src/sentry/static/sentry/app.js
index a743b76460..3746ee6f2c 100644
--- a/src/sentry/static/sentry/app.js
+++ b/src/sentry/static/sentry/app.js
@@ -5,6 +5,7 @@ var SentryApp = angular.module('sentry', [
   'sentry.collection',
   'sentry.forms',
 
+  'sentry.directives.assigneeSelector',
   'sentry.directives.clippy',
   'sentry.directives.count',
   'sentry.directives.timeSince',
diff --git a/src/sentry/static/sentry/app/controllers/groupDetails.js b/src/sentry/static/sentry/app/controllers/groupDetails.js
index 733938456d..501a227629 100644
--- a/src/sentry/static/sentry/app/controllers/groupDetails.js
+++ b/src/sentry/static/sentry/app/controllers/groupDetails.js
@@ -4,11 +4,16 @@
   SentryApp.classy.controller({
     name: 'GroupDetailsCtrl',
 
-    inject: ['$scope', '$http'],
+    inject: ['$scope', '$http', 'selectedProject'],
 
     init: function() {
+      var selectedGroup = window.SentryConfig.selectedGroup,
+          selectedProject = this.selectedProject,
+          $scope = this.$scope,
+          $http = this.$http;
+
       // TODO(dcramer): remove the window hack
-      this.$http.post('/api/0/groups/' + window.SentryConfig.selectedGroup.id + '/markseen/');
+      $http.post('/api/0/groups/' + selectedGroup.id + '/markseen/');
 
       $('#chart').height('150px');
       app.charts.createBasic('#chart');
diff --git a/src/sentry/static/sentry/app/directives/assigneeSelector.js b/src/sentry/static/sentry/app/directives/assigneeSelector.js
new file mode 100644
index 0000000000..98d21b8db6
--- /dev/null
+++ b/src/sentry/static/sentry/app/directives/assigneeSelector.js
@@ -0,0 +1,18 @@
+(function(){
+  'use strict';
+
+  angular.module('sentry.directives.assigneeSelector', [])
+    .directive('assigneeSelector', function() {
+      return {
+        restrict: 'E',
+        templateUrl: '/templates/assignee-selector.html',
+        controller: ['$scope', '$http', 'selectedProject', function($scope, $http, selectedProject){
+          $http.get('/api/0/projects/' + selectedProject.id + '/members/')
+            .success(function(data){
+              $scope.projectMemberList = data;
+            });
+        }],
+        controllerAs: 'assigneeSelector'
+      };
+    });
+}());
diff --git a/src/sentry/static/sentry/app/templates/assignee-selector.html b/src/sentry/static/sentry/app/templates/assignee-selector.html
new file mode 100644
index 0000000000..e2a048728d
--- /dev/null
+++ b/src/sentry/static/sentry/app/templates/assignee-selector.html
@@ -0,0 +1,17 @@
+<div class="user-selector">
+  <div class="btn-group">
+    <a href="#" class="btn btn-sm btn-default dropdown-toggle">
+      <img src="http://github.com/benvinegar.png" class="avatar">
+      <span aria-hidden="true" class="icon-arrow-down"></span>
+    </a>
+    <div class="dropdown-menu">
+      <input type="text" class="form-control input-sm" placeholder="Filter people">
+      <ul>
+        <li ng-repeat="projectMember in projectMemberList">
+          <a href="#"><img src="<% projectMember.avatarUrl %>" class="avatar"> <% projectMember.name || projectMember.email %></a>
+        </li>
+      </ul>
+    </div>
+  </div>
+</div>
+<div style="clear: both">is assigned</div>
diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index dec434e110..1ee7a3e780 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -5,6 +5,7 @@
 @import url("selectize.less");
 @import url("pygments.less");
 @import url("simple-slider.less");
+@import url("typeahead.less");
 
 @baseFontSize: 13px;
 @grayDark: #404f60;
diff --git a/src/sentry/templates/sentry/groups/details.html b/src/sentry/templates/sentry/groups/details.html
index cf4445befb..6cd4c0dc38 100644
--- a/src/sentry/templates/sentry/groups/details.html
+++ b/src/sentry/templates/sentry/groups/details.html
@@ -29,24 +29,7 @@
           <div class="col-xs-4 occurrences">
             <div class="row">
               <div class="col-xs-4 assigned-to">
-                <div class="user-selector">
-                  <div class="btn-group">
-                    <a href="#" class="btn btn-sm btn-default dropdown-toggle">
-                      <img src="http://github.com/benvinegar.png" class="avatar">
-                      <span aria-hidden="true" class="icon-arrow-down"></span>
-                    </a>
-                    <div class="dropdown-menu">
-                      <input type="text" class="form-control input-sm" placeholder="Filter people">
-                      <ul>
-                        <li><a href="#"><img src="http://github.com/dcramer.png" class="avatar"> David Cramer</a></li>
-                        <li><a href="#"><img src="http://github.com/ckj.png" class="avatar"> Chris Jennings</a></li>
-                        <li><a href="#"><img src="http://github.com/mattrobenolt.png" class="avatar"> Matt Robenolt</a></li>
-                        <li><a href="#"><img src="http://github.com/byk.png" class="avatar"> Red Lobster</a></li>
-                      </ul>
-                    </div>
-                  </div>
-                </div>
-                <div style="clear: both">is assigned</div>
+                  <assignee-selector></assignee-selector>
               </div>
               <div class="col-xs-4 occurences align-right"><span class="count">{{ group.times_seen|small_count }}</span> events</div>
               <div class="col-xs-4 users align-right"><span class="count">209</span> users</div>
