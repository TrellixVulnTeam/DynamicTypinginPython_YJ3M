commit c9b807e23fd3249f5b81a0755903e50f0630cfce
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Mar 5 14:39:25 2013 -0800

    Drop events with an invalid message

diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index cfbbb43cc0..e2886a0be9 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -298,6 +298,8 @@ def validate_data(project, data, client=None):
 
     if not data.get('message'):
         data['message'] = '<no message value>'
+    elif not isinstance(data['message'], basestring):
+        raise APIError('Invalid value for message')
     elif len(data['message']) > MAX_MESSAGE_LENGTH:
         logger.error('Truncated value for message due to length (%d chars)', len(data['message']),
             **client_metadata(client))
