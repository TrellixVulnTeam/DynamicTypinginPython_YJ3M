commit 8b7ce6adbafc737bedb470bac3803672550c4b52
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Fri Mar 11 19:14:02 2016 +0100

    Switch to big integer fields for counters

diff --git a/src/sentry/migrations/0241_auto__add_counter__add_unique_counter_project_ident__add_field_group_s.py b/src/sentry/migrations/0241_auto__add_counter__add_unique_counter_project_ident__add_field_group_s.py
index 6ba185f260..d55c58e7ff 100644
--- a/src/sentry/migrations/0241_auto__add_counter__add_unique_counter_project_ident__add_field_group_s.py
+++ b/src/sentry/migrations/0241_auto__add_counter__add_unique_counter_project_ident__add_field_group_s.py
@@ -14,7 +14,7 @@ class Migration(SchemaMigration):
             ('id', self.gf('sentry.db.models.fields.bounded.BoundedBigAutoField')(primary_key=True)),
             ('project', self.gf('sentry.db.models.fields.foreignkey.FlexibleForeignKey')(to=orm['sentry.Project'])),
             ('ident', self.gf('django.db.models.fields.CharField')(max_length=40)),
-            ('value', self.gf('sentry.db.models.fields.bounded.BoundedPositiveIntegerField')()),
+            ('value', self.gf('sentry.db.models.fields.bounded.BoundedBigIntegerField')()),
         ))
         db.send_create_signal('sentry', ['Counter'])
 
@@ -23,7 +23,7 @@ class Migration(SchemaMigration):
 
         # Adding field 'Group.short_id'
         db.add_column('sentry_groupedmessage', 'short_id',
-                      self.gf('sentry.db.models.fields.bounded.BoundedPositiveIntegerField')(null=True),
+                      self.gf('sentry.db.models.fields.bounded.BoundedBigIntegerField')(null=True),
                       keep_default=False)
 
         # Adding unique constraint on 'Group', fields ['project', 'short_id']
diff --git a/src/sentry/models/counter.py b/src/sentry/models/counter.py
index b7c0c57aa8..339a14c6ab 100644
--- a/src/sentry/models/counter.py
+++ b/src/sentry/models/counter.py
@@ -11,7 +11,7 @@ from __future__ import absolute_import
 from django.db import models, connection
 
 from sentry.db.models import (
-    FlexibleForeignKey, Model, sane_repr, BoundedPositiveIntegerField
+    FlexibleForeignKey, Model, sane_repr, BoundedBigIntegerField
 )
 from sentry.utils import db
 
@@ -26,7 +26,7 @@ class Counter(Model):
 
     project = FlexibleForeignKey('sentry.Project')
     ident = models.CharField(max_length=40)
-    value = BoundedPositiveIntegerField()
+    value = BoundedBigIntegerField()
 
     __repr__ = sane_repr('project', 'ident')
 
diff --git a/src/sentry/models/group.py b/src/sentry/models/group.py
index 397be902aa..ece50fe55e 100644
--- a/src/sentry/models/group.py
+++ b/src/sentry/models/group.py
@@ -27,7 +27,8 @@ from sentry.constants import (
 )
 from sentry.db.models import (
     BaseManager, BoundedIntegerField, BoundedPositiveIntegerField,
-    FlexibleForeignKey, Model, GzippedDictField, sane_repr
+    BoundedBigIntegerField, FlexibleForeignKey, Model, GzippedDictField,
+    sane_repr
 )
 from sentry.utils.http import absolute_uri
 from sentry.utils.strings import truncatechars, strip
@@ -148,7 +149,7 @@ class Group(Model):
     score = BoundedIntegerField(default=0)
     is_public = models.NullBooleanField(default=False, null=True)
     data = GzippedDictField(blank=True, null=True)
-    short_id = BoundedPositiveIntegerField(null=True)
+    short_id = BoundedBigIntegerField(null=True)
 
     objects = GroupManager()
 
