commit b2c403274d93b81f0b9e67da97b3f845aae6ad2d
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Aug 3 17:58:48 2015 -0700

    Handle hard database errors

diff --git a/src/sentry/utils/raven.py b/src/sentry/utils/raven.py
index f1cf336ca3..acc4e4aa9e 100644
--- a/src/sentry/utils/raven.py
+++ b/src/sentry/utils/raven.py
@@ -6,6 +6,7 @@ import raven
 import sentry
 
 from django.conf import settings
+from django.db.utils import DatabaseError
 from raven.contrib.django.client import DjangoClient
 
 from . import metrics
@@ -56,6 +57,9 @@ class SentryInternalClient(DjangoClient):
 
         try:
             project = Project.objects.get_from_cache(id=settings.SENTRY_PROJECT)
+        except DatabaseError:
+            self.error_logger.error('Unable to fetch internal project',
+                                    exc_info=True)
         except Project.DoesNotExist:
             self.error_logger.error('Internal project (id=%s) does not exist',
                                     settings.SENTRY_PROJECT)
