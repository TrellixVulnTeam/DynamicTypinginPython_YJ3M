commit 12a28fc44ab7a2d97a2df3c6aa1c3bad02eac4e1
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Jan 15 11:59:48 2019 -0800

    ref(issues): Refactor group merged components (#11524)
    
    Move to shared folder as these are reusable between org and project
    issue details.
    
    Depends on https://github.com/getsentry/sentry/pull/11519

diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 4d06637836..d00a5815ea 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -6,7 +6,7 @@ import CreateProject from 'app/views/onboarding/createProject';
 import ProjectGroupDetails from 'app/views/groupDetails/project/index';
 import ProjectGroupEvents from 'app/views/groupDetails/project/groupEvents';
 import ProjectGroupEventDetails from 'app/views/groupDetails/project/groupEventDetails';
-import ProjectGroupMergedView from 'app/views/groupDetails/project/groupMerged';
+import ProjectGroupMergedView from 'app/views/groupDetails/shared/groupMerged';
 import ProjectGroupSimilarView from 'app/views/groupDetails/project/groupSimilar';
 import ProjectGroupTagValues from 'app/views/groupDetails/project/groupTagValues';
 import ProjectGroupTags from 'app/views/groupDetails/project/groupTags';
diff --git a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/index.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/index.jsx
similarity index 93%
rename from src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/index.jsx
rename to src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/index.jsx
index c81f051785..3773a18a57 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/index.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/index.jsx
@@ -91,7 +91,6 @@ const GroupMergedView = createReactClass({
   },
 
   render() {
-    let {orgId, projectId, groupId} = this.props.params;
     let isLoading = this.state.loading;
     let isError = this.state.error && !isLoading;
     let isLoadedSuccessfully = !isError && !isLoading;
@@ -116,12 +115,7 @@ const GroupMergedView = createReactClass({
         {isLoadedSuccessfully && (
           <MergedList
             items={this.state.mergedItems}
-            orgId={orgId}
-            projectId={projectId}
-            groupId={groupId}
             pageLinks={this.state.mergedLinks}
-            busyMap={this.state.busy}
-            hiddenMap={this.state.hidden}
             onUnmerge={this.handleUnmerge}
             onToggleCollapse={GroupingActions.toggleCollapseFingerprints}
           />
diff --git a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedItem.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedItem.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedItem.jsx
rename to src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedItem.jsx
diff --git a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedList.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedList.jsx
similarity index 88%
rename from src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedList.jsx
rename to src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedList.jsx
index 123d70fcef..9795122b86 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedList.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedList.jsx
@@ -29,7 +29,7 @@ class MergedList extends React.Component {
   };
 
   render() {
-    let {items, pageLinks, onToggleCollapse, onUnmerge, ...otherProps} = this.props;
+    let {items, pageLinks, onToggleCollapse, onUnmerge} = this.props;
     let itemsWithLatestEvent = items.filter(({latestEvent}) => !!latestEvent);
     let hasResults = itemsWithLatestEvent.length > 0;
 
@@ -44,11 +44,7 @@ class MergedList extends React.Component {
           <QueryCount count={itemsWithLatestEvent.length} />
         </h2>
 
-        <MergedToolbar
-          {...otherProps}
-          onToggleCollapse={onToggleCollapse}
-          onUnmerge={onUnmerge}
-        />
+        <MergedToolbar onToggleCollapse={onToggleCollapse} onUnmerge={onUnmerge} />
 
         <MergedItems>
           {itemsWithLatestEvent.map(({id, latestEvent}) => (
diff --git a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedToolbar.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedToolbar.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedToolbar.jsx
rename to src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedToolbar.jsx
index 3de32e0739..d5f2df6e69 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/project/groupMerged/mergedToolbar.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupMerged/mergedToolbar.jsx
@@ -18,8 +18,8 @@ const MergedToolbar = createReactClass({
   displayName: 'MergedToolbar',
 
   propTypes: {
-    onUnmerge: PropTypes.func,
     groupId: PropTypes.string,
+    onUnmerge: PropTypes.func,
     onToggleCollapse: PropTypes.func,
   },
 
diff --git a/tests/js/spec/views/groupDetails/__snapshots__/groupMergedView.spec.jsx.snap b/tests/js/spec/views/groupDetails/__snapshots__/groupMergedView.spec.jsx.snap
index bf946ec6f0..b763e4c079 100644
--- a/tests/js/spec/views/groupDetails/__snapshots__/groupMergedView.spec.jsx.snap
+++ b/tests/js/spec/views/groupDetails/__snapshots__/groupMergedView.spec.jsx.snap
@@ -13,7 +13,6 @@ exports[`Issues -> Merged View renders with mocked data 1`] = `
     This is an experimental feature. Data may not be immediately available while we process unmerges.
   </div>
   <MergedList
-    groupId="groupId"
     items={
       Array [
         Object {
@@ -218,8 +217,6 @@ exports[`Issues -> Merged View renders with mocked data 1`] = `
     }
     onToggleCollapse={[Function]}
     onUnmerge={[Function]}
-    orgId="orgId"
-    projectId="projectId"
   />
 </div>
 `;
diff --git a/tests/js/spec/views/groupDetails/groupMergedView.spec.jsx b/tests/js/spec/views/groupDetails/groupMergedView.spec.jsx
index 234b3966d4..2ca4b72b6f 100644
--- a/tests/js/spec/views/groupDetails/groupMergedView.spec.jsx
+++ b/tests/js/spec/views/groupDetails/groupMergedView.spec.jsx
@@ -3,7 +3,7 @@ import PropTypes from 'prop-types';
 
 import {shallow} from 'enzyme';
 
-import GroupMergedView from 'app/views/groupDetails/project/groupMerged';
+import GroupMergedView from 'app/views/groupDetails/shared/groupMerged';
 import {Client} from 'app/api';
 import events from 'app-test/mocks/events';
 
