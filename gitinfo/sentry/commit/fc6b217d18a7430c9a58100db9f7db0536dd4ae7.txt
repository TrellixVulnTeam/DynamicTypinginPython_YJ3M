commit fc6b217d18a7430c9a58100db9f7db0536dd4ae7
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Wed Aug 31 17:10:59 2016 -0700

    Optionally leverage ujson for decoding initial store payloads (#4035)

diff --git a/Makefile b/Makefile
index 3e89c62a56..f58df82fdf 100644
--- a/Makefile
+++ b/Makefile
@@ -6,6 +6,7 @@ install-python:
 	pip install "setuptools>=0.9.8"
 	# order matters here, base package must install first
 	pip install -e .
+	pip install ujson
 	pip install "file://`pwd`#egg=sentry[dev,dsym]"
 
 install-npm:
diff --git a/src/sentry/coreapi.py b/src/sentry/coreapi.py
index adc5dd6e33..3d2ea41361 100644
--- a/src/sentry/coreapi.py
+++ b/src/sentry/coreapi.py
@@ -42,6 +42,16 @@ from sentry.utils.http import is_valid_ip
 from sentry.utils.strings import decompress
 from sentry.utils.validators import is_float, is_event_id
 
+try:
+    # Attempt to load ujson if it's installed.
+    # It's advantageous to leverage here because this is
+    # our primary data ingestion endpoint, and it's a
+    # simple win. ujson differs from simplejson a bunch
+    # so it's not worth utilizing it anywhere else.
+    import ujson as json  # noqa
+except ImportError:
+    from sentry.utils import json
+
 
 class APIError(Exception):
     http_status = 400
