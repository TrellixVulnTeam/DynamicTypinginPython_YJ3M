commit a9589283b27d4e767a96cf469cd3f4f096b8a7aa
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Mon Dec 14 15:43:30 2015 -0800

    Fast check if there are not allowed origins, reject

diff --git a/src/sentry/utils/http.py b/src/sentry/utils/http.py
index 0b3149c251..580e450292 100644
--- a/src/sentry/utils/http.py
+++ b/src/sentry/utils/http.py
@@ -111,6 +111,10 @@ def is_valid_origin(origin, project=None, allowed=None):
     """
     if allowed is None:
         allowed = get_origins(project)
+
+    if not allowed:
+        return False
+
     if '*' in allowed:
         return True
 
