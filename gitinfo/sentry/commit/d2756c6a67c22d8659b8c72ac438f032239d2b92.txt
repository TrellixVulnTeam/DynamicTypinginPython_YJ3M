commit d2756c6a67c22d8659b8c72ac438f032239d2b92
Author: Jan Michael Auer <jan.auer@sentry.io>
Date:   Thu Apr 2 17:38:30 2020 +0200

    fix(ingest): Do not crash the consumer on minidump attachments (#18044)

diff --git a/src/sentry/ingest/ingest_consumer.py b/src/sentry/ingest/ingest_consumer.py
index 902b3cd845..752d09e1be 100644
--- a/src/sentry/ingest/ingest_consumer.py
+++ b/src/sentry/ingest/ingest_consumer.py
@@ -217,7 +217,9 @@ def process_individual_attachment(message, projects):
     attachment = attachment_cache.get_from_chunks(
         key=cache_key, type=attachment.pop("attachment_type"), **attachment
     )
-    assert attachment.type == "event.attachment", attachment.type
+    if attachment.type != "event.attachment":
+        logger.exception("invalid individual attachment type: %s", attachment.type)
+        return
 
     file = File.objects.create(
         name=attachment.name,
