commit b2606ef87a01c366623e5c6cdac4e865ab2202eb
Author: Max Bittker <maxbittker@gmail.com>
Date:   Mon Apr 3 18:35:55 2017 -0700

    improved tooltips (especially in unknown user case) (#5190)
    
    * improved tooltips with ckj's mocks
    
    * limit shown commits in tool tip to 7

diff --git a/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx b/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
index cba8deb3ce..0df088735a 100644
--- a/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
+++ b/src/sentry/static/sentry/app/components/group/suggestedOwners.jsx
@@ -20,7 +20,7 @@ const SuggestedOwners = React.createClass({
       selector: '.tip',
       html: true,
       container: 'body',
-      template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner owners break-word"></div></div>',
+      template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner tooltip-owners"></div></div>',
     })
   ],
 
@@ -71,26 +71,39 @@ const SuggestedOwners = React.createClass({
   },
 
   assignTo(member) {
-    this.api.assignTo({id: this.props.event.groupID, member: member});
+    if (member.id !== undefined) {
+      this.api.assignTo({id: this.props.event.groupID, member: member});
+    }
   },
 
   renderCommitter({author, commits}) {
     return (
-      <span key={author.id} className="avatar-grid-item tip" onClick={() => this.assignTo(author)} title={
+      <span key={author.id || author.email} className="avatar-grid-item tip" onClick={() => this.assignTo(author)} title={
         ReactDOMServer.renderToStaticMarkup(
           <div>
-            <strong className="time-label">
-              {`${author.name}: `}
-            </strong>
-            <div className="commit-list">
-              {commits.map( c => {
+            {author.id ?
+              ( <div className="tooltip-owners-name">
+                  {author.name}
+                </div>)  :
+                (<div className="tooltip-owners-unknown">
+                  <p className="tooltip-owners-unknown-email">
+                    <span className="icon icon-circle-cross" />
+                    <strong>{author.email}</strong>
+                  </p>
+                  <p>Sorry, we don't recognize this member. Make sure to link alternative emails in Account Settings.</p>
+                  <hr/>
+                </div>)
+              }
+            <ul className="tooltip-owners-commits">
+              {commits.slice(0, 6).map( c => {
                 return (
-                 <span key={c.id}>
-                  <span>{c.message} : </span>
-                  <span>{moment(c.dateCreated).fromNow()}</span>
-                 </span>);
+                  <li key={c.id} className="tooltip-owners-commit">
+                    {c.message}
+                    <span className="tooltip-owners-date"> - {moment(c.dateCreated).fromNow()}</span>
+                  </li>
+                );
               })}
-            </div>
+            </ul>
           </div>)
         }>
         <Avatar user={author}/>
diff --git a/src/sentry/static/sentry/less/includes/tooltips.less b/src/sentry/static/sentry/less/includes/tooltips.less
index 0ba0881b84..39df828e3c 100644
--- a/src/sentry/static/sentry/less/includes/tooltips.less
+++ b/src/sentry/static/sentry/less/includes/tooltips.less
@@ -2,16 +2,19 @@
 @tooltip-color: @white;
 @tooltip-max-width: 200px;
 
-.tooltip-inner.owners {
-  max-width: 600px;
-}
-
 .tooltip-inner {
   font-weight: bold;
   // border: 1px solid @trim;
   padding: 5px 10px;
   box-shadow: 0 1px 4px rgba(0,0,0, .15);
 
+  hr {
+    border: 0px;
+    margin: 10px auto;
+    width: 80px;
+    border-bottom: 2px solid @90;
+  }
+
   dl {
     margin: 0 !important;
   }
@@ -114,3 +117,79 @@
     }
   }
 }
+
+// Owners
+
+.tooltip-owners {
+  max-width: 310px !important;
+  text-align: left;
+  font-weight: normal;
+  font-size: 13px;
+  padding: 6px 15px;
+
+  .tooltip-owners-heading {
+    .clearfix;
+    margin-bottom: 2px;
+  }
+
+  .tooltip-owners-name, .tooltip-owners-date {
+    font-size: 12px;
+  }
+
+  .tooltip-owners-name {
+    font-weight: bold;
+  }
+
+  .tooltip-owners-date {
+    color: @40;
+  }
+
+  ul.tooltip-owners-commits {
+    .list-unstyled;
+    margin: 0 0 5px;
+
+    li.tooltip-owners-commit {
+      position: relative;
+      line-height: 1.4;
+      margin-bottom: 4px;
+
+      &:before {
+        display: block;
+        position: absolute;
+        content: "";
+        left: -15px;
+        top: 8px;
+        width: 5px;
+        height: 2px;
+        background: @70;
+      }
+    }
+  }
+
+  // Unknown member
+
+  .tooltip-owners-unknown {
+    padding: 14px 0 0;
+    text-align: center;
+
+    .icon-circle-cross {
+      font-size: 18px;
+      color: @red;
+      vertical-align: text-top;
+      margin-right: 6px;
+    }
+
+    .tooltip-owners-unknown-email {
+      font-size: 15px;
+    }
+
+    p {
+      line-height: 1.4;
+      margin: 0 0 10px;
+
+      &:last-child {
+        margin-bottom: 0;
+      }
+    }
+  }
+}
