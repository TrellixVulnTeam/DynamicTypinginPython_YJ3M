commit 26d3c8187ffd1ce379136ff4855af0f314734adc
Author: Jay Soffian <jaysoffian@gmail.com>
Date:   Thu Aug 14 20:45:50 2014 -0400

    Hide account identities tab if there are no auth providers
    
    If there's no configured auth providers, there's not much reason
    to show this tab.

diff --git a/src/sentry/templates/sentry/bases/account.html b/src/sentry/templates/sentry/bases/account.html
index 33edd1da9e..c121352d9e 100644
--- a/src/sentry/templates/sentry/bases/account.html
+++ b/src/sentry/templates/sentry/bases/account.html
@@ -31,6 +31,8 @@
         <li{% if page == 'settings' %} class="active"{% endif %}><a href="{% url 'sentry-account-settings' %}">{% trans "Account" %}</a></li>
         <li{% if page == 'appearance' %} class="active"{% endif %}><a href="{% url 'sentry-account-settings-appearance' %}">{% trans "Appearance" %}</a></li>
         <li{% if page == 'notifications' %} class="active"{% endif %}><a href="{% url 'sentry-account-settings-notifications' %}">{% trans "Notifications" %}</a></li>
+    {% if AUTH_PROVIDERS %}
         <li{% if page == 'identities' %} class="active"{% endif %}><a href="{% url 'sentry-account-settings-identities' %}">{% trans "Identities" %}</a></li>
+    {% endif %}
     </ul>
 {% endblock %}
diff --git a/src/sentry/web/frontend/accounts.py b/src/sentry/web/frontend/accounts.py
index 1036f9029b..734d2e484e 100644
--- a/src/sentry/web/frontend/accounts.py
+++ b/src/sentry/web/frontend/accounts.py
@@ -217,6 +217,7 @@ def settings(request):
     context.update({
         'form': form,
         'page': 'settings',
+        'AUTH_PROVIDERS': get_auth_providers(),
     })
     return render_to_response('sentry/account/settings.html', context, request)
 
@@ -245,6 +246,7 @@ def appearance_settings(request):
     context.update({
         'form': form,
         'page': 'appearance',
+        'AUTH_PROVIDERS': get_auth_providers(),
     })
     return render_to_response('sentry/account/appearance.html', context, request)
 
@@ -291,6 +293,7 @@ def notification_settings(request):
         'project_forms': project_forms,
         'ext_forms': ext_forms,
         'page': 'notifications',
+        'AUTH_PROVIDERS': get_auth_providers(),
     })
     return render_to_response('sentry/account/notifications.html', context, request)
 
