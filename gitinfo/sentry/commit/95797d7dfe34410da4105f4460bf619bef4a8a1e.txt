commit 95797d7dfe34410da4105f4460bf619bef4a8a1e
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Sun Jul 13 22:53:45 2014 -0700

    Add Copy as cURL button

diff --git a/src/sentry/interfaces/http.py b/src/sentry/interfaces/http.py
index 1754dca225..b8ccf2d4c7 100644
--- a/src/sentry/interfaces/http.py
+++ b/src/sentry/interfaces/http.py
@@ -170,6 +170,7 @@ class Http(Interface):
             'query_string': self.query_string,
             'fragment': self.fragment,
             'headers': self.headers,
+            'curl': self.to_curl(),
         }
         if not is_public:
             # It's kind of silly we store this twice
@@ -183,7 +184,7 @@ class Http(Interface):
 
     def to_curl(self):
         method = self.method.upper()
-        if self.cookies is not None:
+        if self.cookies:
             cookies = SmartCookie(self.cookies)
             # The Cookie header is already yanked out of the headers dict
             # inside `to_python` so we can just safely re-set it.
diff --git a/src/sentry/templates/sentry/partial/interfaces/http.html b/src/sentry/templates/sentry/partial/interfaces/http.html
index e9aaa9aab5..32d6ff99b2 100644
--- a/src/sentry/templates/sentry/partial/interfaces/http.html
+++ b/src/sentry/templates/sentry/partial/interfaces/http.html
@@ -3,6 +3,7 @@
 
 <div class="module">
     <div class="page-header">
+        <a href="javascript:void(0)" data-container="#copy_as_curl" data-title="Copy as cURL" class="popup btn small pull-right" style="margin-left: 5px">{% trans "Copy as cURL" %}</a>
         {% if not is_public %}
             <a href="{% url 'sentry-replay' event.team.slug event.project.slug event.group_id event.id %}" class="btn small pull-right">{% trans "Replay this request" %}</a>
         {% endif %}
@@ -76,3 +77,6 @@
         </table>
     </div>
 </div>
+<div id="copy_as_curl" style="display: none;">
+    <pre>{{ curl }}</pre>
+</div>
