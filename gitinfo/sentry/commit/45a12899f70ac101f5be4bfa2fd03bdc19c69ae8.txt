commit 45a12899f70ac101f5be4bfa2fd03bdc19c69ae8
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Wed Feb 21 15:30:11 2018 -0800

    fix(projects): Update project details api to not rely on project.team

diff --git a/src/sentry/api/endpoints/project_details.py b/src/sentry/api/endpoints/project_details.py
index 2837479b02..b96e6912e3 100644
--- a/src/sentry/api/endpoints/project_details.py
+++ b/src/sentry/api/endpoints/project_details.py
@@ -258,7 +258,12 @@ class ProjectDetailsEndpoint(ProjectEndpoint):
                         'detail': ['The new team is not found.']
                     }, status=400
                 )
-            old_team_id = project.team_id
+            # TODO(jess): update / deprecate this functionality
+            try:
+                old_team_id = project.teams.values_list('id', flat=True)[0]
+            except IndexError:
+                pass
+
             project.team = team_list[0]
             changed = True
 
