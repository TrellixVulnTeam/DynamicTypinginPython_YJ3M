commit 6c2718cb1687be0ff9486e48a27b6bc26d1ff8a5
Author: Markus Unterwaditzer <markus@unterwaditzer.net>
Date:   Tue Dec 3 16:38:23 2019 +0100

    ref: Add metric for projectconfig sizes (#15882)

diff --git a/src/sentry/api/endpoints/relay_projectconfigs.py b/src/sentry/api/endpoints/relay_projectconfigs.py
index 3050936dee..f31a4ed27b 100644
--- a/src/sentry/api/endpoints/relay_projectconfigs.py
+++ b/src/sentry/api/endpoints/relay_projectconfigs.py
@@ -11,7 +11,7 @@ from sentry.api.permissions import RelayPermission
 from sentry.api.authentication import RelayAuthentication
 from sentry.relay import config
 from sentry.models import Project, ProjectKey, Organization, OrganizationOption
-from sentry.utils import metrics
+from sentry.utils import metrics, json
 
 
 class RelayProjectConfigsEndpoint(Endpoint):
@@ -94,6 +94,7 @@ class RelayProjectConfigsEndpoint(Endpoint):
                         project_keys=project_keys.get(project.id, []),
                     )
 
-            configs[six.text_type(project_id)] = project_config.to_dict()
+            configs[six.text_type(project_id)] = serialized_config = project_config.to_dict()
+            metrics.timing("relay_project_configs.config_size", len(json.dumps(serialized_config)))
 
         return Response({"configs": configs}, status=200)
