commit f5df4f44d05eb60b689eea379c0f2c6ad07d4d6d
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jul 29 12:30:16 2015 -0700

    Default allowed domains to *

diff --git a/src/sentry/api/endpoints/project_details.py b/src/sentry/api/endpoints/project_details.py
index 9b4a97ef14..5c572f87dd 100644
--- a/src/sentry/api/endpoints/project_details.py
+++ b/src/sentry/api/endpoints/project_details.py
@@ -40,7 +40,7 @@ class ProjectDetailsEndpoint(ProjectEndpoint):
         """
         data = serialize(project, request.user)
         data['options'] = {
-            'sentry:origins': '\n'.join(project.get_option('sentry:origins', None) or []),
+            'sentry:origins': '\n'.join(project.get_option('sentry:origins', '*') or []),
             'sentry:resolve_age': int(project.get_option('sentry:resolve_age', 0)),
             'sentry:scrub_data': bool(project.get_option('sentry:scrub_data', True)),
             'sentry:sensitive_fields': project.get_option('sentry:sensitive_fields', []),
@@ -95,7 +95,7 @@ class ProjectDetailsEndpoint(ProjectEndpoint):
 
             data = serialize(project, request.user)
             data['options'] = {
-                'sentry:origins': '\n'.join(project.get_option('sentry:origins', None) or []),
+                'sentry:origins': '\n'.join(project.get_option('sentry:origins', '*') or []),
                 'sentry:resolve_age': int(project.get_option('sentry:resolve_age', 0)),
             }
             return Response(data)
diff --git a/src/sentry/utils/http.py b/src/sentry/utils/http.py
index 4303aaddf4..6acf9bf12c 100644
--- a/src/sentry/utils/http.py
+++ b/src/sentry/utils/http.py
@@ -74,7 +74,9 @@ def get_origins(project=None):
         # TODO: we should cache this
         from sentry.plugins.helpers import get_option
         optval = get_option('sentry:origins', project)
-        if optval:
+        if optval is None:
+            optval = ['*']
+        elif optval:
             result.extend(optval)
 
     # lowercase and strip the trailing slash from all origin values
diff --git a/src/sentry/web/frontend/project_settings.py b/src/sentry/web/frontend/project_settings.py
index fb262c2a94..9ff6dc1d01 100644
--- a/src/sentry/web/frontend/project_settings.py
+++ b/src/sentry/web/frontend/project_settings.py
@@ -176,7 +176,7 @@ class ProjectSettingsView(ProjectView):
         return EditProjectForm(
             request, organization, team_list, request.POST or None,
             instance=project, initial={
-                'origins': '\n'.join(project.get_option('sentry:origins', None) or []),
+                'origins': '\n'.join(project.get_option('sentry:origins', '*') or []),
                 'token': security_token,
                 'resolve_age': int(project.get_option('sentry:resolve_age', 0)),
                 'scrub_data': bool(project.get_option('sentry:scrub_data', True)),
