commit b868d431d53b609f75463d3e2c484dce57196f44
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Jan 19 16:23:45 2018 -0800

    build(percy): Mock project settings security token field (#7019)

diff --git a/src/sentry/static/sentry/app/views/projectGeneralSettings.jsx b/src/sentry/static/sentry/app/views/projectGeneralSettings.jsx
index ab46f01ee3..2bfa301c5c 100644
--- a/src/sentry/static/sentry/app/views/projectGeneralSettings.jsx
+++ b/src/sentry/static/sentry/app/views/projectGeneralSettings.jsx
@@ -12,6 +12,7 @@ import {
 import {getOrganizationState} from '../mixins/organizationState';
 import {t, tct} from '../locale';
 import AsyncView from './asyncView';
+import DynamicWrapper from '../components/dynamicWrapper';
 import IndicatorStore from '../stores/indicatorStore';
 import SettingsPageHeader from './settings/components/settingsPageHeader';
 
@@ -359,13 +360,29 @@ export default class ProjectGeneralSettings extends AsyncView {
                   'Allow Sentry to scrape missing JavaScript source context when possible.'
                 )}
               />
-              <TextField
-                name="securityToken"
-                label={t('Security token')}
-                help={t(
-                  'Outbound requests matching Allowed Domains will have the header "{token_header}: {token}" appended.'
-                )}
+
+              <DynamicWrapper
+                value={
+                  <TextField
+                    name="securityToken"
+                    label={t('Security token')}
+                    help={t(
+                      'Outbound requests matching Allowed Domains will have the header "{token_header}: {token}" appended.'
+                    )}
+                  />
+                }
+                fixed={
+                  <TextField
+                    name="percy-mock-securityToken"
+                    label={t('Security token')}
+                    value="<<SECURITY_TOKEN>>"
+                    help={t(
+                      'Outbound requests matching Allowed Domains will have the header "{token_header}: {token}" appended.'
+                    )}
+                  />
+                }
               />
+
               <TextField
                 name="securityTokenHeader"
                 label={t('Security token header')}
diff --git a/tests/js/spec/views/__snapshots__/projectGeneralSettings.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectGeneralSettings.spec.jsx.snap
index 1c20e3e457..a735b7d6f1 100644
--- a/tests/js/spec/views/__snapshots__/projectGeneralSettings.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectGeneralSettings.spec.jsx.snap
@@ -338,13 +338,28 @@ exports[`projectGeneralSettings renders 1`] = `
             name="scrapeJavaScript"
             required={false}
           />
-          <TextField
-            disabled={false}
-            help="Outbound requests matching Allowed Domains will have the header \\"{token_header}: {token}\\" appended."
-            hideErrorMessage={false}
-            label="Security token"
-            name="securityToken"
-            required={false}
+          <DynamicWrapper
+            fixed={
+              <TextField
+                disabled={false}
+                help="Outbound requests matching Allowed Domains will have the header \\"{token_header}: {token}\\" appended."
+                hideErrorMessage={false}
+                label="Security token"
+                name="percy-mock-securityToken"
+                required={false}
+                value="<<SECURITY_TOKEN>>"
+              />
+            }
+            value={
+              <TextField
+                disabled={false}
+                help="Outbound requests matching Allowed Domains will have the header \\"{token_header}: {token}\\" appended."
+                hideErrorMessage={false}
+                label="Security token"
+                name="securityToken"
+                required={false}
+              />
+            }
           />
           <TextField
             disabled={false}
