commit 9062f68af50838152cce2334622c958f2c8e4e8f
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Mon Jun 4 11:52:08 2018 -0700

    fix(integrations): Prevent IntegrityErrors when linking to existing issue

diff --git a/src/sentry/api/endpoints/group_integration_details.py b/src/sentry/api/endpoints/group_integration_details.py
index 9d0cc1469b..f87bd90641 100644
--- a/src/sentry/api/endpoints/group_integration_details.py
+++ b/src/sentry/api/endpoints/group_integration_details.py
@@ -72,13 +72,19 @@ class GroupIntegrationDetailsEndpoint(GroupEndpoint):
         except IntegrationError as exc:
             return Response({'detail': exc.message}, status=400)
 
-        external_issue = ExternalIssue.objects.get_or_create(
+        defaults = {
+            'title': data.get('title'),
+            'description': data.get('description'),
+        }
+        external_issue, created = ExternalIssue.objects.get_or_create(
             organization_id=organization_id,
             integration_id=integration.id,
             key=external_issue_id,
-            title=data.get('title'),
-            description=data.get('description'),
-        )[0]
+            defaults=defaults,
+        )
+
+        if not created:
+            external_issue.update(**defaults)
 
         try:
             with transaction.atomic():
