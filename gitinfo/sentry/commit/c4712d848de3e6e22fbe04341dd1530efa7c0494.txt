commit c4712d848de3e6e22fbe04341dd1530efa7c0494
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 23 10:24:39 2015 -0800

    Soft fail on Basic auths

diff --git a/src/sentry/api/authentication.py b/src/sentry/api/authentication.py
index 035321f952..1fc9dd0ed2 100644
--- a/src/sentry/api/authentication.py
+++ b/src/sentry/api/authentication.py
@@ -16,12 +16,12 @@ class QuietBasicAuthentication(BasicAuthentication):
 class ApiKeyAuthentication(QuietBasicAuthentication):
     def authenticate_credentials(self, userid, password):
         if password:
-            raise AuthenticationFailed('A password should not be specified')
+            return
 
         try:
             key = ApiKey.objects.get_from_cache(key=userid)
         except ApiKey.DoesNotExist:
-            raise AuthenticationFailed('Invalid api key')
+            return None
 
         if not key.is_active:
             raise AuthenticationFailed('Key is disabled')
@@ -34,10 +34,10 @@ class ProjectKeyAuthentication(QuietBasicAuthentication):
         try:
             pk = ProjectKey.objects.get_from_cache(public_key=userid)
         except ProjectKey.DoesNotExist:
-            raise AuthenticationFailed('Invalid api key')
+            return None
 
         if not constant_time_compare(pk.secret_key, password):
-            raise AuthenticationFailed('Invalid api key')
+            return None
 
         if not pk.is_active:
             raise AuthenticationFailed('Key is disabled')
diff --git a/src/sentry/api/base.py b/src/sentry/api/base.py
index 4161832bbb..eea4900d70 100644
--- a/src/sentry/api/base.py
+++ b/src/sentry/api/base.py
@@ -27,6 +27,12 @@ ONE_DAY = ONE_HOUR * 24
 
 LINK_HEADER = '<{uri}&cursor={cursor}>; rel="{name}"; results="{has_results}"'
 
+DEFAULT_AUTHENTICATION = (
+    ApiKeyAuthentication,
+    ProjectKeyAuthentication,
+    SessionAuthentication
+)
+
 
 class DocSection(Enum):
     ACCOUNTS = 'Accounts'
@@ -38,11 +44,7 @@ class DocSection(Enum):
 
 
 class Endpoint(APIView):
-    authentication_classes = (
-        ApiKeyAuthentication,
-        ProjectKeyAuthentication,
-        SessionAuthentication
-    )
+    authentication_classes = DEFAULT_AUTHENTICATION
     renderer_classes = (JSONRenderer,)
     parser_classes = (JSONParser,)
     permission_classes = (NoPermission,)
