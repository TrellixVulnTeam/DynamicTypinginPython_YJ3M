commit 6fd07eb17eacdcb20c3ac07796df4c271790e5ed
Author: Mark Story <mark@mark-story.com>
Date:   Tue Oct 30 14:18:56 2018 -0400

    fix(releases) Filter out empty paths when scoring commits (#10331)
    
    When matching paths between stack frames and VCS modified files we were
    including empty path segments which resulted in misses. If we filter out
    empty segments suspect commits will work for VSTS repositories. VSTS
    includes leading `/` in their commit information. I considered changing
    VSTS but that wouldn't help existing users, nor would it insulate us
    against other future VCS integrations from also having the same problem.
    
    Fixes APP-691

diff --git a/src/sentry/utils/committers.py b/src/sentry/utils/committers.py
index 15c305075a..9dfc5a1f0a 100644
--- a/src/sentry/utils/committers.py
+++ b/src/sentry/utils/committers.py
@@ -20,7 +20,9 @@ PATH_SEPERATORS = frozenset(['/', '\\'])
 def tokenize_path(path):
     for sep in PATH_SEPERATORS:
         if sep in path:
-            return reversed(path.split(sep))
+            # Exclude empty path segments as some repository integrations
+            # start their paths with `/` which we want to ignore.
+            return reversed(filter(lambda x: x != '', path.split(sep)))
     else:
         return iter([path])
 
diff --git a/tests/sentry/utils/test_committers.py b/tests/sentry/utils/test_committers.py
index aa5a13de96..b23880e9de 100644
--- a/tests/sentry/utils/test_committers.py
+++ b/tests/sentry/utils/test_committers.py
@@ -20,6 +20,7 @@ def test_tokenize_path():
     assert list(tokenize_path('foo/bar')) == ['bar', 'foo']
     assert list(tokenize_path('foo\\bar')) == ['bar', 'foo']
     assert list(tokenize_path('foo.bar')) == ['foo.bar']
+    assert list(tokenize_path('/foo/bar')) == ['bar', 'foo']
 
 
 class GetPreviousReleasesTestCase(TestCase):
