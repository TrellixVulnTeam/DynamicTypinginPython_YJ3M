commit e7869035e5b7b9dfeac7f937c72b25c477e2df6e
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Aug 5 10:46:56 2016 -0700

    Force 2fa cookie to utf-8

diff --git a/src/sentry/web/frontend/twofactor.py b/src/sentry/web/frontend/twofactor.py
index 66c37d6303..5466b4db9f 100644
--- a/src/sentry/web/frontend/twofactor.py
+++ b/src/sentry/web/frontend/twofactor.py
@@ -28,8 +28,10 @@ class TwoFactorAuthView(BaseView):
         if interface is not None:
             interface.authenticator.mark_used()
             if not interface.is_backup_interface:
-                rv.set_cookie(COOKIE_NAME, six.text_type(interface.type),
-                              max_age=COOKIE_MAX_AGE, path='/')
+                rv.set_cookie(
+                    COOKIE_NAME,
+                    six.text_type(interface.type).encode('utf-8'),
+                    max_age=COOKIE_MAX_AGE, path='/')
         return rv
 
     def fail_signin(self, request, user, form):
