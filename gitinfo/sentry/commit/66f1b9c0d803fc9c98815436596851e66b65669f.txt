commit 66f1b9c0d803fc9c98815436596851e66b65669f
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Dec 27 23:37:42 2011 -0800

    Remove can_view requirement and allow changing of project status from edit project

diff --git a/sentry/web/decorators.py b/sentry/web/decorators.py
index 9bd4609640..ab03dde471 100644
--- a/sentry/web/decorators.py
+++ b/sentry/web/decorators.py
@@ -55,8 +55,6 @@ def login_required(func):
         if not settings.PUBLIC:
             if not request.user.is_authenticated():
                 return HttpResponseRedirect(get_login_url())
-            if not request.user.has_perm('sentry.can_view'):
-                return render_to_response('sentry/missing_permissions.html', status=400)
         return func(request, *args, **kwargs)
     wrapped.__doc__ = func.__doc__
     wrapped.__name__ = func.__name__
@@ -68,8 +66,6 @@ def permission_required(perm):
         def _wrapped(request, *args, **kwargs):
             if not request.user.is_authenticated():
                 return HttpResponseRedirect(get_login_url())
-            if not request.user.has_perm('sentry.can_view'):
-                return render_to_response('sentry/missing_permissions.html', status=400)
             if not request.user.has_perm(perm):
                 return render_to_response('sentry/missing_permissions.html', status=400)
             return func(request, *args, **kwargs)
diff --git a/sentry/web/forms.py b/sentry/web/forms.py
index 31fb17da56..0721fb9fad 100644
--- a/sentry/web/forms.py
+++ b/sentry/web/forms.py
@@ -129,7 +129,7 @@ class NewProjectForm(forms.ModelForm):
 
 class EditProjectForm(forms.ModelForm):
     class Meta:
-        fields = ('name', 'status')
+        fields = ('name', 'status', 'public')
         model = Project
 
 
