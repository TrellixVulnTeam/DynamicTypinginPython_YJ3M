commit 48274455310ec570fac186ff024a25ed6f9941d0
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 9 14:25:35 2018 -0700

    feat(gdpr): Update subscribe text

diff --git a/src/sentry/static/sentry/less/forms.less b/src/sentry/static/sentry/less/forms.less
index 969d95df16..be2f1c8203 100644
--- a/src/sentry/static/sentry/less/forms.less
+++ b/src/sentry/static/sentry/less/forms.less
@@ -106,6 +106,7 @@ legend {
 .inputs-list label {
   padding-left: 18px;
 }
+
 .inputs-list label input[type='radio'],
 .inputs-list label input[type='checkbox'] {
   float: left;
@@ -128,6 +129,22 @@ label {
   }
 }
 
+.boolean-radio-select .inputs-list ul {
+  list-style: none;
+  margin-bottom: 0;
+  padding-left: 0;
+
+  li {
+    margin-bottom: 5px;
+    &:last-child {
+      margin-bottom: 0;
+    }
+    label {
+      font-weight: normal;
+    }
+  }
+}
+
 .radio,
 .checkbox {
   label {
diff --git a/src/sentry/templates/sentry/login.html b/src/sentry/templates/sentry/login.html
index a388a96ffc..ca50eb6137 100644
--- a/src/sentry/templates/sentry/login.html
+++ b/src/sentry/templates/sentry/login.html
@@ -52,9 +52,28 @@
         {{ register_form|as_crispy_errors }}
 
         {% for field in register_form %}
-          {{ field|as_crispy_field }}
+          {% if not field.name == 'subscribe' %}
+            {{ field|as_crispy_field }}
+          {% endif %}
         {% endfor %}
 
+        {% if register_form.subscribe %}
+          {% with register_form.subscribe as field %}
+            <fieldset class="{% if field.errors %}is-invalid{% endif %} boolean-radio-select">
+              <label> {{ field.label }}</label>
+              <div class="help-block">{{ field.help_text }}</div>
+              <div class="inputs-list radio">
+                {{ field }}
+                {% if field.errors %}
+                  {% for error in field.errors %}
+                    <p class="form-text"><small>{{ error }}</small></p>
+                  {% endfor %}
+                {% endif %}
+              </div>
+            </fieldset>
+          {% endwith %}
+        {% endif %}
+
         <fieldset class="form-actions">
           <button type="submit" class="btn btn-primary">{% trans "Continue" %}</button>
           <a class="pull-right" style="margin-top: 9px" href="https://sentry.io/privacy/" target="_blank">
diff --git a/src/sentry/web/forms/accounts.py b/src/sentry/web/forms/accounts.py
index 3769fa8650..2cfc6731b4 100644
--- a/src/sentry/web/forms/accounts.py
+++ b/src/sentry/web/forms/accounts.py
@@ -14,7 +14,7 @@ from django import forms
 from django.conf import settings
 from django.contrib.auth import authenticate, get_user_model
 from django.db.models import Q
-from django.utils.text import capfirst
+from django.utils.text import capfirst, mark_safe
 from django.utils.translation import ugettext_lazy as _
 
 from sentry import options
@@ -24,7 +24,7 @@ from sentry.constants import LANGUAGES
 from sentry.models import (Organization, OrganizationStatus, User, UserOption, UserOptionValue)
 from sentry.security import capture_security_activity
 from sentry.utils.auth import find_users, logger
-from sentry.web.forms.fields import ReadOnlyTextField
+from sentry.web.forms.fields import CustomTypedChoiceField, ReadOnlyTextField
 from six.moves import range
 
 
@@ -191,9 +191,15 @@ class RegistrationForm(forms.ModelForm):
     password = forms.CharField(
         required=True, widget=forms.PasswordInput(attrs={'placeholder': 'something super secret'})
     )
-    subscribe = forms.BooleanField(
-        label=_('Subscribe to product updates newsletter'),
-        required=False,
+    subscribe = CustomTypedChoiceField(
+        coerce=bool,
+        label=_("Email updates"),
+        choices=(
+            (1, 'Yes, I would like to receive updates via email'),
+            (0, "No, I'd prefer not to receive these updates"),
+        ),
+        widget=forms.RadioSelect,
+        required=True,
         initial=False,
     )
 
@@ -201,6 +207,10 @@ class RegistrationForm(forms.ModelForm):
         super(RegistrationForm, self).__init__(*args, **kwargs)
         if not newsletter.enabled:
             del self.fields['subscribe']
+        else:
+            self.fields['subscribe'].help_text = mark_safe("We'd love to keep you updated via email with product and feature announcements, promotions, educational materials, and events. Our updates focus on relevant information and never sell your data to marketing companies. See our <a href=\"%(privacy_link)s\">Privacy Policy</a> for more details.".format(
+                privacy_link=settings.PRIVACY_URL,
+            ))
 
     class Meta:
         fields = ('username', 'name')
