commit 6acf8942f8152e12126a0efd07c942084199cbe0
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Oct 20 09:13:18 2014 +0200

    Migrate access groups

diff --git a/src/sentry/templates/sentry/teams/groups/list.html b/src/sentry/templates/sentry/teams/groups/list.html
index e7bd756a46..90d64ecffd 100644
--- a/src/sentry/templates/sentry/teams/groups/list.html
+++ b/src/sentry/templates/sentry/teams/groups/list.html
@@ -27,7 +27,10 @@
                     <tr>
                         <td><a href="{% url 'sentry-edit-access-group' team.slug group.id %}">{{ group.name }}</a>{% if group.managed %} ({% trans "automatically managed" %}){% endif %}</td>
                         <td style="text-align:center">{{ group.get_type_display }}</td>
-                        <td style="text-align:center"><a href="{% url 'sentry-remove-access-group' team.slug group.id %}" class="btn btn-danger">{% trans "Remove" %}</a></td>
+                        <td style="text-align:center">
+                            <a href="{% url 'sentry-remove-access-group' team.slug group.id %}"
+                               class="btn btn-small btn-danger">{% trans "Remove" %}</a>
+                        </td>
                     </tr>
                 {% endfor %}
             </tbody>
diff --git a/src/sentry/web/frontend/team_access_groups.py b/src/sentry/web/frontend/team_access_groups.py
new file mode 100644
index 0000000000..9b86b90086
--- /dev/null
+++ b/src/sentry/web/frontend/team_access_groups.py
@@ -0,0 +1,15 @@
+from __future__ import absolute_import
+
+from sentry.models import AccessGroup, TeamMemberType
+from sentry.web.frontend.base import TeamView
+
+
+class TeamAccessGroupsView(TeamView):
+    required_access = TeamMemberType.MEMBER
+
+    def get(self, request, organization, team):
+        context = {
+            'group_list': AccessGroup.objects.filter(team=team),
+        }
+
+        return self.respond('sentry/teams/groups/list.html', context)
diff --git a/src/sentry/web/frontend/teams.py b/src/sentry/web/frontend/teams.py
index b3dfbf3e5a..c1bea8591b 100644
--- a/src/sentry/web/frontend/teams.py
+++ b/src/sentry/web/frontend/teams.py
@@ -293,19 +293,6 @@ def create_new_team_project(request, team):
     return render_with_team_context(team, 'sentry/teams/projects/new.html', context, request)
 
 
-@has_access(MEMBER_OWNER)
-@csrf_protect
-def manage_access_groups(request, team):
-    context = csrf(request)
-    context.update({
-        'can_add_group': True,
-        'group_list': AccessGroup.objects.filter(team=team),
-        'SUBSECTION': 'groups',
-    })
-
-    return render_with_team_context(team, 'sentry/teams/groups/list.html', context, request)
-
-
 @csrf_protect
 @has_access(MEMBER_OWNER)
 def new_access_group(request, team):
diff --git a/src/sentry/web/urls.py b/src/sentry/web/urls.py
index bd77ca1ff6..8fccfe8052 100644
--- a/src/sentry/web/urls.py
+++ b/src/sentry/web/urls.py
@@ -41,6 +41,7 @@ from sentry.web.frontend.organization_settings import OrganizationSettingsView
 from sentry.web.frontend.organization_teams import OrganizationTeamsView
 from sentry.web.frontend.create_team import CreateTeamView
 from sentry.web.frontend.remove_team import RemoveTeamView
+from sentry.web.frontend.team_access_groups import TeamAccessGroupsView
 from sentry.web.frontend.team_members import TeamMembersView
 from sentry.web.frontend.team_projects import TeamProjectsView
 from sentry.web.frontend.team_settings import TeamSettingsView
@@ -128,7 +129,7 @@ urlpatterns += patterns('',
         name='sentry-manage-team'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/remove/$', RemoveTeamView.as_view(),
         name='sentry-remove-team'),
-    url(r'^account/teams/(?P<team_slug>[\w_-]+)/groups/$', teams.manage_access_groups,
+    url(r'^account/teams/(?P<team_slug>[\w_-]+)/groups/$', TeamAccessGroupsView.as_view(),
         name='sentry-manage-access-groups'),
     url(r'^account/teams/(?P<team_slug>[\w_-]+)/groups/new/$', teams.new_access_group,
         name='sentry-new-access-group'),
