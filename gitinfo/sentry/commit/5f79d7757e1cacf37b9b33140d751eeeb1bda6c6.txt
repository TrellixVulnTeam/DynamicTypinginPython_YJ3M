commit 5f79d7757e1cacf37b9b33140d751eeeb1bda6c6
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Sep 28 15:34:37 2015 -0700

    Correct IP lookups

diff --git a/src/sentry/api/serializers/models/grouptagvalue.py b/src/sentry/api/serializers/models/grouptagvalue.py
index cc5ac91b96..d60ad3043d 100644
--- a/src/sentry/api/serializers/models/grouptagvalue.py
+++ b/src/sentry/api/serializers/models/grouptagvalue.py
@@ -12,6 +12,8 @@ def parse_user_tag(value):
     lookup, value = value.split(':', 1)
     if lookup == 'id':
         lookup = 'ident'
+    elif lookup == 'ip':
+        lookup = 'ip_address'
     return {lookup: value}
 
 
diff --git a/src/sentry/api/serializers/models/tagvalue.py b/src/sentry/api/serializers/models/tagvalue.py
index 6a6cb30a5e..f18055f1f4 100644
--- a/src/sentry/api/serializers/models/tagvalue.py
+++ b/src/sentry/api/serializers/models/tagvalue.py
@@ -12,6 +12,8 @@ def parse_user_tag(value):
     lookup, value = value.split(':', 1)
     if lookup == 'id':
         lookup = 'ident'
+    elif lookup == 'ip':
+        lookup = 'ip_address'
     return {lookup: value}
 
 
diff --git a/src/sentry/search/utils.py b/src/sentry/search/utils.py
index 3f3ae4fda4..488af414c1 100644
--- a/src/sentry/search/utils.py
+++ b/src/sentry/search/utils.py
@@ -8,6 +8,8 @@ from sentry.utils.auth import find_users
 def get_user_tag(project, key, value):
     if key == 'id':
         lookup = 'ident'
+    elif key == 'ip':
+        lookup = 'ip_address'
     else:
         lookup = key
 
