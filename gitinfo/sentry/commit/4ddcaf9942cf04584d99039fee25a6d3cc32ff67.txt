commit 4ddcaf9942cf04584d99039fee25a6d3cc32ff67
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Sep 1 13:50:35 2010 -0700

    Kill javascript usage on group details page (as it cant refresh the entirety of the page

diff --git a/sentry/templates/sentry/group.html b/sentry/templates/sentry/group.html
index deb0382a3d..b646ab1bad 100644
--- a/sentry/templates/sentry/group.html
+++ b/sentry/templates/sentry/group.html
@@ -56,7 +56,7 @@
 						<p class="message"><span class="tag tag-level">{{ group.get_level_display }}</span> {{ group.error }}</p>
 						<pre class="traceback">{{ group.shortened_traceback }}</pre>
 						{% if group.status == 0 %}
-							<a href="javascript:void(0)" onclick="sentryResolve({{ group.pk }}, false);" class="hidden button button_resolve">&#10003;</a>
+							<a href="{% url sentry-ajax %}?op=resolve&amp;gid={{ group.pk }}" class="hidden button button_resolve">&#10003;</a>
 						{% endif %}
 					</li>
 				</ul>
diff --git a/sentry/views.py b/sentry/views.py
index 7618131625..2d4422a9e5 100644
--- a/sentry/views.py
+++ b/sentry/views.py
@@ -8,7 +8,7 @@ except ImportError:
 
 # TODO: login
 from django.db.models import Count
-from django.http import HttpResponse, HttpResponseForbidden
+from django.http import HttpResponse, HttpResponseForbidden, HttpResponseRedirect
 from django.shortcuts import render_to_response
 from django.template.loader import render_to_string
 from django.utils import simplejson
@@ -139,7 +139,7 @@ def ajax_handler(request):
             }) for m, p in with_priority(message_list[0:15])]
 
     elif op == 'resolve':
-        gid = request.POST.get('gid')
+        gid = request.REQUEST.get('gid')
         if not gid:
             return HttpResponseForbidden()
         try:
