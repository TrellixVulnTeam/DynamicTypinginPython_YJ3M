commit 0878f48b69ffb3c846b40d6b284deb80c38f7a4a
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Jul 15 14:24:03 2015 -0700

    Improve handling of SSL cookies (and docs)

diff --git a/docs/getting-started/index.rst b/docs/getting-started/index.rst
index b7cda1b4b8..a01539f209 100644
--- a/docs/getting-started/index.rst
+++ b/docs/getting-started/index.rst
@@ -335,6 +335,7 @@ well as within the Sentry configuration:
 .. code-block:: python
 
     SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')
+    SESSION_COOKIE_SECURE = True
 
 Running Sentry as a Service
 ---------------------------
diff --git a/src/sentry/utils/runner.py b/src/sentry/utils/runner.py
index 0a2f67052c..57aad57561 100644
--- a/src/sentry/utils/runner.py
+++ b/src/sentry/utils/runner.py
@@ -173,6 +173,7 @@ SENTRY_URL_PREFIX = 'http://sentry.example.com'  # No trailing slash!
 # If you're using a reverse proxy, you should enable the X-Forwarded-Proto
 # header and uncomment the following settings
 # SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')
+# SESSION_COOKIE_SECURE = True
 
 SENTRY_WEB_HOST = '0.0.0.0'
 SENTRY_WEB_PORT = 9000
@@ -305,6 +306,8 @@ def initialize_app(config):
     if settings.SENTRY_SINGLE_ORGANIZATION:
         settings.SENTRY_FEATURES['organizations:create'] = False
 
+    settings.SUDO_COOKIE_SECURE = settings.SESSION_COOKIE_SECURE
+
     initialize_receivers()
 
 
