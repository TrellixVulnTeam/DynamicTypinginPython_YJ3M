commit 129df5510bccf125c8082edc91ecb6aa3a5a4f32
Author: Burak Yigit Kaya <byk@sentry.io>
Date:   Fri Jul 10 21:25:21 2020 +0300

    ref(jsonschema): Move everything from Draft4 to Draft7 (#19815)
    
    Follow up to #19765. Since we don't have anything incompatible w/ Draft 7, which is the default now, abandon the Draft 4 usage.

diff --git a/src/sentry/api/validators/sentry_apps/schema.py b/src/sentry/api/validators/sentry_apps/schema.py
index 755572def8..dabd4bc2d0 100644
--- a/src/sentry/api/validators/sentry_apps/schema.py
+++ b/src/sentry/api/validators/sentry_apps/schema.py
@@ -3,7 +3,7 @@ from __future__ import absolute_import
 import logging
 import json
 
-from jsonschema import Draft4Validator
+from jsonschema import Draft7Validator
 from jsonschema.exceptions import best_match
 from jsonschema.exceptions import ValidationError as SchemaValidationError
 
@@ -243,6 +243,6 @@ def validate_ui_element_schema(instance):
 
 
 def validate(instance, schema):
-    v = Draft4Validator(schema)
+    v = Draft7Validator(schema)
     if not v.is_valid(instance):
         raise best_match(v.iter_errors(instance))
diff --git a/src/sentry/interfaces/schemas.py b/src/sentry/interfaces/schemas.py
index cb761db827..f305c033e2 100644
--- a/src/sentry/interfaces/schemas.py
+++ b/src/sentry/interfaces/schemas.py
@@ -590,7 +590,7 @@ INTERFACE_SCHEMAS = {
 def validator_for_interface(name):
     if name not in INTERFACE_SCHEMAS:
         return None
-    return jsonschema.Draft4Validator(
+    return jsonschema.Draft7Validator(
         INTERFACE_SCHEMAS[name],
         types={"array": (list, tuple)},
         format_checker=jsonschema.FormatChecker(),
diff --git a/src/sentry/mediators/external_requests/util.py b/src/sentry/mediators/external_requests/util.py
index 06486e9f71..16e4a73cef 100644
--- a/src/sentry/mediators/external_requests/util.py
+++ b/src/sentry/mediators/external_requests/util.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import
 
-from jsonschema import Draft4Validator
+from jsonschema import Draft7Validator
 from requests.exceptions import Timeout
 
 from sentry.utils.sentryappwebhookrequests import SentryAppWebhookRequestsBuffer
@@ -34,7 +34,7 @@ SCHEMA_LIST = {"select": SELECT_OPTIONS_SCHEMA, "issue_link": ISSUE_LINKER_SCHEM
 
 def validate(instance, schema_type):
     schema = SCHEMA_LIST[schema_type]
-    v = Draft4Validator(schema)
+    v = Draft7Validator(schema)
 
     if not v.is_valid(instance):
         return False
