commit b548406298e0826f67eb38b7f0d77658cf88ddb8
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jan 28 21:35:46 2012 -0800

    Added DSN to members page

diff --git a/sentry/models.py b/sentry/models.py
index 3fb2873c36..a990aa64e2 100644
--- a/sentry/models.py
+++ b/sentry/models.py
@@ -196,6 +196,15 @@ class ProjectMember(Model):
     def generate_api_key(cls):
         return uuid.uuid4().hex
 
+    def get_dsn(self, domain, secure=True):
+        return 'http%s://%s:%s@%s/%s' % (
+            secure and 's' or '',
+            self.public_key,
+            self.secret_key,
+            domain,
+            self.project_id,
+        )
+
 
 class ProjectDomain(Model):
     """
diff --git a/sentry/templates/sentry/projects/members/edit.html b/sentry/templates/sentry/projects/members/edit.html
index 29e6ac5ebd..e0909c8289 100644
--- a/sentry/templates/sentry/projects/members/edit.html
+++ b/sentry/templates/sentry/projects/members/edit.html
@@ -37,6 +37,10 @@
                 <label>{% trans "Secret Key" %}</label>
                 <div class="input">{{ member.secret_key }}</div>
             </div>
+            <div class="clearfix">
+                <label>{% trans "Client DSN" %}</label>
+                <div class="input">{{ dsn }}</div>
+            </div>
         </fieldset>
         <fieldset>
             <div class="page-header">
diff --git a/sentry/web/frontend/projects.py b/sentry/web/frontend/projects.py
index 24d16abe05..31bd66c28a 100644
--- a/sentry/web/frontend/projects.py
+++ b/sentry/web/frontend/projects.py
@@ -142,6 +142,7 @@ def edit_project_member(request, project, member_id):
         'member': member,
         'project': project,
         'form': form,
+        'dsn': member.get_dsn(request.META['HTTP_HOST'], secure=request.is_secure()),
     })
 
     return render_to_response('sentry/projects/members/edit.html', context, request)
