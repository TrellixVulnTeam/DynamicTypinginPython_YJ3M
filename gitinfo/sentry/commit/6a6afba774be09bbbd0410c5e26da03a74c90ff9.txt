commit 6a6afba774be09bbbd0410c5e26da03a74c90ff9
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 16 22:31:57 2012 -0700

    Move plugin post processors into a task

diff --git a/sentry/processors/base.py b/sentry/processors/base.py
index ce0d4cfb68..fe98f15aa9 100644
--- a/sentry/processors/base.py
+++ b/sentry/processors/base.py
@@ -5,13 +5,13 @@ sentry.processors.base
 :copyright: (c) 2010-2012 by the Sentry Team, see AUTHORS for more details.
 :license: BSD, see LICENSE for more details.
 """
-from sentry.plugins import plugins
-from sentry.utils.safe import safe_execute
+
+from sentry.tasks.post_process import post_process_group
+from sentry.utils.queue import maybe_delay
+
 
 __all__ = ('send_group_processors',)
 
 
 def send_group_processors(group, **kwargs):
-    for plugin in plugins.all():
-        if safe_execute(plugin.is_enabled, group.project):
-            safe_execute(plugin.post_process, group=group, **kwargs)
+    maybe_delay(post_process_group, group=group)
diff --git a/sentry/tasks/post_process.py b/sentry/tasks/post_process.py
new file mode 100644
index 0000000000..af587f2690
--- /dev/null
+++ b/sentry/tasks/post_process.py
@@ -0,0 +1,22 @@
+"""
+sentry.tasks.post_process
+~~~~~~~~~~~~~~~~~~~~~~~~~
+
+:copyright: (c) 2010-2012 by the Sentry Team, see AUTHORS for more details.
+:license: BSD, see LICENSE for more details.
+"""
+
+from celery.task import task
+
+
+@task(ignore_result=True)
+def post_process_group(group, **kwargs):
+    """
+    Fires post processing hooks for a group.
+    """
+    from sentry.plugins import plugins
+    from sentry.utils.safe import safe_execute
+
+    for plugin in plugins.all():
+        if safe_execute(plugin.is_enabled, group.project):
+            safe_execute(plugin.post_process, group=group, **kwargs)
