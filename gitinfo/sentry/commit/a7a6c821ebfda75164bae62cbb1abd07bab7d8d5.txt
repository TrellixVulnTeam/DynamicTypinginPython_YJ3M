commit a7a6c821ebfda75164bae62cbb1abd07bab7d8d5
Author: Chris Jennings <chriskjennings@gmail.com>
Date:   Fri Jul 27 15:17:59 2018 -0700

    feat(ui): make room for sign in with <provider> buttons (#9064)
    
    * feat(ui): make room for sign in with <provider> buttons
    
    * responsive styles
    
    * can_register styles
    
    * oAuth styles

diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 6c2aa148b7..c41c928bb1 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -146,8 +146,115 @@ body.narrow {
 
 body.auth {
   .app > .container {
+    padding-top: 5vh;
+    max-width: 740px;
+  }
+
+  .box {
+    border: 0;
+    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.1);
+    border-radius: 4px;
+    display: flex;
+    width: 100%;
+  }
+
+  .auth-sidebar {
+    padding-top: 20px;
+    width: 60px;
+    background: #564f64;
+    background-image: linear-gradient(
+      -180deg,
+      rgba(52, 44, 62, 0) 0%,
+      rgba(52, 44, 62, 0.5) 100%
+    );
+    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1);
+    border-radius: 4px 0 0 4px;
+    margin-top: -1px;
+    margin-bottom: -1px;
+    text-align: center;
+
+    a {
+      color: #fff;
+      font-size: 22px;
+      line-height: 1.5;
+    }
+  }
+
+  .org-login {
+    flex: 1;
+  }
+
+  .auth-container {
+    padding-left: 40px;
+    padding-right: 40px;
+
+    &.border-bottom {
+      border-bottom: 1px solid @trim;
+    }
+
+    ul,
+    ol,
+    p,
+    blockquote {
+      &:last-child {
+        margin-bottom: 0;
+      }
+    }
+  }
+
+  .tab-content .auth-container {
     padding-top: 30px;
-    max-width: 540px;
+    padding-bottom: 40px;
+    display: flex;
+  }
+
+  .auth-form-column {
+    flex: 1;
+  }
+
+  .auth-provider-column {
+    width: 42%;
+    padding-left: 30px;
+    margin-left: 30px;
+    border-left: 1px solid @trim;
+
+    p {
+      margin-bottom: 15px;
+
+      &:first-child {
+        margin-top: 28px;
+      }
+    }
+
+    .btn-default {
+      display: block;
+      text-align: left;
+      padding: 8px 12px;
+
+      .provider-logo {
+        top: 0;
+      }
+    }
+  }
+
+  .auth-footer {
+    display: flex;
+    align-items: center;
+    margin-top: 20px;
+
+    > .btn {
+      margin-right: 6px;
+    }
+
+    .secondary {
+      flex: 1;
+      text-align: right;
+      color: @gray-light;
+
+      &:hover {
+        color: @gray-dark;
+      }
+    }
   }
 }
 
@@ -523,11 +630,55 @@ footer {
     }
 
     .app > .container {
-      padding: 62px 10px 0 10px !important;
       .box-content.with-padding {
         padding: 20px 20px 10px;
       }
     }
+
+    .box {
+      flex-direction: column;
+    }
+
+    .auth-sidebar {
+      width: 100%;
+      text-align: left;
+      padding: 20px;
+      border-radius: 4px 4px 0 0;
+
+      a {
+        line-height: 1;
+        position: relative;
+        top: 3px;
+      }
+    }
+
+    .auth-container {
+      flex-wrap: wrap;
+      padding-left: 20px;
+      padding-right: 20px;
+
+      > div {
+        width: 100%;
+        padding: 0;
+        margin: 0;
+        border: 0;
+
+        &.auth-provider-column {
+          border-top: 1px solid @trim;
+          padding-top: 20px;
+          margin-top: 20px;
+          p {
+            margin-top: 0;
+          }
+        }
+      }
+    }
+
+    .tab-pane {
+      .auth-container {
+        padding: 20px;
+      }
+    }
   }
 
   .app > footer {
diff --git a/src/sentry/templates/sentry/bases/auth.html b/src/sentry/templates/sentry/bases/auth.html
index 2a84277403..60691e35d8 100644
--- a/src/sentry/templates/sentry/bases/auth.html
+++ b/src/sentry/templates/sentry/bases/auth.html
@@ -8,11 +8,24 @@
 
 {% block wrapperclass %}narrow auth org-login{% endblock %}
 
-{% block main %}
-  <div class="pattern-bg"></div>
+{% block content %}
+<div class="pattern-bg"></div>
+
+<div class="box">
+  <div class="auth-sidebar">
+    <a href="/">
+      <span class="icon-sentry-logo"></span>
+    </a>
+  </div>
   <section class="org-login">
-    {% block auth_main %}{% endblock %}
+    {% block auth_container %}
+      <div class="auth-container p-y-2">
+        {% block auth_main %}{% endblock %}
+      </div>
+    {% endblock %}
   </section>
+</div>
+
 {% endblock %}
 
 {% block footer %}
diff --git a/src/sentry/templates/sentry/login.html b/src/sentry/templates/sentry/login.html
index fb28901c88..23e44e11e2 100644
--- a/src/sentry/templates/sentry/login.html
+++ b/src/sentry/templates/sentry/login.html
@@ -6,112 +6,125 @@
 
 {% block title %}{% trans "Login" %} | {{ block.super }}{% endblock %}
 
-{% block auth_main %}
+{% block auth_container %}
   {% if banner %}
     <h4>{{ banner }}</h4>
   {% endif %}
 
-  <ul class="nav nav-tabs auth-toggle border-bottom">
-    <li{% if op == "login" %} class="active"{% endif %}>
-      <a href="#login" data-toggle="tab">{% trans "Login" %}</a>
-    </li>
-    {% if CAN_REGISTER %}
-      <li{% if op == "register" %} class="active"{% endif %}>
-        <a href="#register" data-toggle="tab">{% trans "Register" %}</a>
+  <div class="auth-container p-t-1 border-bottom">
+    <h3>{% trans "Sign in to continue" %}</h3>
+    <ul class="nav nav-tabs auth-toggle m-b-0">
+      <li{% if op == "login" %} class="active"{% endif %}>
+        <a href="#login" data-toggle="tab">{% trans "Login" %}</a>
       </li>
-    {% endif %}
-    <li{% if op == "sso" %} class="active"{% endif %}>
-      <a href="#sso" data-toggle="tab">{% trans "Single Sign-On" %}</a>
-    </li>
-  </ul>
-
+      {% if CAN_REGISTER %}
+        <li{% if op == "register" %} class="active"{% endif %}>
+          <a href="#register" data-toggle="tab">{% trans "Register" %}</a>
+        </li>
+      {% endif %}
+      <li{% if op == "sso" %} class="active"{% endif %}>
+        <a href="#sso" data-toggle="tab">{% trans "Single Sign-On" %}</a>
+      </li>
+    </ul>
+  </div>
   <div class="tab-content">
     <div class="tab-pane{% if op == "login" %} active{% endif %}" id="login">
-      <form class="form-stacked" action="" method="post" autocomplete="off">
-        {% csrf_token %}
+      <div class="auth-container">
+        <div class="auth-form-column">
+          <form class="form-stacked" action="" method="post" autocomplete="off">
+            {% csrf_token %}
 
-        <input type="hidden" name="op" value="login" />
+            <input type="hidden" name="op" value="login" />
 
-        {{ login_form|as_crispy_errors }}
+            {{ login_form|as_crispy_errors }}
 
-        {% for field in login_form %}
-          {{ field|as_crispy_field }}
-        {% endfor %}
+            {% for field in login_form %}
+              {{ field|as_crispy_field }}
+            {% endfor %}
 
-        <fieldset class="form-actions" style="text-align: center">
-          <button type="submit" class="btn btn-primary" style="width: 50%">{% trans "Continue" %}</button>
-        </fieldset>
-
-        {% if github_login_template %}
-          {% include github_login_template %}
-        {% endif %}
-
-        {% if vsts_login_template %}
-          {% include vsts_login_template %}
+            <div class="auth-footer m-t-1">
+              <button type="submit" class="btn btn-primary">{% trans "Continue" %}</button>
+              <a class="secondary" href="{% url 'sentry-account-recover' %}">{% trans "Lost your password?" %}</a>
+            </div>
+          </form>
+        </div>
+        {% if github_login_template or vsts_login_template %}
+          <div class="auth-provider-column">
+            {% if github_login_template %}
+              {% include github_login_template %}
+            {% endif %}
+
+            {% if vsts_login_template %}
+              {% include vsts_login_template %}
+            {% endif %}
+          </div>
         {% endif %}
-
-        <p style="text-align: center">
-          <a style="margin-top: 7px; width: 50%; color: gray" href="{% url 'sentry-account-recover' %}">{% trans "Lost your password?" %}</a>
-        </p>
-      </form>
+      </div>
     </div>
     <div class="tab-pane{% if op == "register" %} active{% endif %}" id="register">
-      <form class="form-stacked" action="" method="post" autocomplete="off">
-        {% csrf_token %}
-
-        <input type="hidden" name="op" value="register" />
-
-        {{ register_form|as_crispy_errors }}
-
-        {% for field in register_form %}
-          {% if not field.name == 'subscribe' %}
-            {{ field|as_crispy_field }}
-          {% endif %}
-        {% endfor %}
-
-        {% if register_form.subscribe %}
-          {% with register_form.subscribe as field %}
-            <fieldset class="{% if field.errors %}is-invalid{% endif %} boolean-radio-select">
-              <label> {{ field.label }}</label>
-              <div class="help-block">{{ field.help_text }}</div>
-              <div class="inputs-list radio">
-                {{ field }}
-                {% if field.errors %}
-                  {% for error in field.errors %}
-                    <p class="form-text"><small>{{ error }}</small></p>
-                  {% endfor %}
-                {% endif %}
-              </div>
-            </fieldset>
-          {% endwith %}
-        {% endif %}
-
-        <fieldset class="form-actions">
-          <button type="submit" class="btn btn-primary">{% trans "Continue" %}</button>
-          <a class="pull-right" style="margin-top: 9px" href="https://sentry.io/privacy/" target="_blank">
-            {% trans "Privacy Policy" %}
-          </a>
-        </fieldset>
-      </form>
+      <div class="auth-container">
+        <div class="auth-form-column">
+          <form class="form-stacked" action="" method="post" autocomplete="off">
+            {% csrf_token %}
+
+            <input type="hidden" name="op" value="register" />
+
+            {{ register_form|as_crispy_errors }}
+
+            {% for field in register_form %}
+              {% if not field.name == 'subscribe' %}
+                {{ field|as_crispy_field }}
+              {% endif %}
+            {% endfor %}
+
+            {% if register_form.subscribe %}
+              {% with register_form.subscribe as field %}
+                <fieldset class="{% if field.errors %}is-invalid{% endif %} boolean-radio-select">
+                  <label> {{ field.label }}</label>
+                  <div class="help-block">{{ field.help_text }}</div>
+                  <div class="inputs-list radio">
+                    {{ field }}
+                    {% if field.errors %}
+                      {% for error in field.errors %}
+                        <p class="form-text"><small>{{ error }}</small></p>
+                      {% endfor %}
+                    {% endif %}
+                  </div>
+                </fieldset>
+              {% endwith %}
+            {% endif %}
+
+            <div class="auth-footer m-t-1">
+              <button type="submit" class="btn btn-primary">{% trans "Continue" %}</button>
+              <a class="secondary" href="https://sentry.io/privacy/" target="_blank">
+                {% trans "Privacy Policy" %}
+              </a>
+            </div>
+          </form>
+        </div>
+      </div>
     </div>
     <div class="tab-pane{% if op == "sso" %} active{% endif %}" id="sso">
-      <form class="form-stacked" method="post">
-        {% csrf_token %}
-
-        <input type="hidden" name="op" value="sso" />
-
-        <div class="control-group required">
-          <div class="controls">
-            <label class="control-label">{% trans "Organization ID" %}</label>
-            <input type="text" class="form-control" name="organization" placeholder="acme" required>
-            <p class="help-block">Enter your organization's ID and we'll get things started.</p>
-            <p class="help-block">Your ID is the reference used when Sentry generates URLs.<br />e.g. <code>{{ server_hostname }}/<strong>acme</strong>/</code></p>
-          </div>
-        </div>
-        <div class="form-actions" style="margin-top: 25px">
-          <button class="btn btn-primary">{% trans "Continue" %}</button>
+      <div class="auth-container">
+        <div class="auth-form-column">
+          <form class="form-stacked" method="post">
+            {% csrf_token %}
+
+            <input type="hidden" name="op" value="sso" />
+
+            <div class="control-group required">
+              <div class="controls">
+                <label class="control-label">{% trans "Organization ID" %}</label>
+                <input type="text" class="form-control" name="organization" placeholder="acme" required>
+                <p class="help-block">Your ID is the reference used when Sentry generates URLs, e.g. <code>{{ server_hostname }}/<strong>acme</strong>/</code></p>
+              </div>
+            </div>
+            <div class="auth-footer m-t-1">
+              <button class="btn btn-primary">{% trans "Continue" %}</button>
+            </div>
+          </form>
         </div>
-      </form>
+      </div>
     </div>
   </div>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/oauth-authorize.html b/src/sentry/templates/sentry/oauth-authorize.html
index 401ddca311..2a8821929e 100644
--- a/src/sentry/templates/sentry/oauth-authorize.html
+++ b/src/sentry/templates/sentry/oauth-authorize.html
@@ -32,9 +32,9 @@
       {% endif %}
     </div>
 
-    <fieldset class="form-actions">
+    <div class="auth-footer">
       <button type="submit" class="btn btn-primary" name="op" value="approve">{% trans "Approve" %}</button>
       <button type="submit" class="btn btn-danger" name="op" value="deny">{% trans "Deny" %}</button>
-    </fieldset>
+    </div>
   </form>
 {% endblock %}
diff --git a/src/sentry/templates/sentry/oauth-error.html b/src/sentry/templates/sentry/oauth-error.html
index c0cbd162cf..f71474cd89 100644
--- a/src/sentry/templates/sentry/oauth-error.html
+++ b/src/sentry/templates/sentry/oauth-error.html
@@ -7,14 +7,14 @@
 {% block title %}{% trans "Authorization Error" %} | {{ block.super }}{% endblock %}
 
 {% block auth_main %}
-    <div style="font-size:24px;margin-bottom:10px">
-      <span class="icon-exclamation" style="font-size:20px;margin-right:10px;"></span>
-      <span>Authorization Error</span>
-    </div>
+  <div style="font-size:24px;margin-bottom:10px">
+    <span class="icon-exclamation" style="font-size:20px;margin-right:10px;"></span>
+    <span>Authorization Error</span>
+  </div>
 
-    <p>We encountered the following error while trying to process your authorization:</p>
+  <p>We encountered the following error while trying to process your authorization:</p>
 
-    <ul>
-      <li>{{ error }}</li>
-    </ul>
+  <ul>
+    <li>{{ error }}</li>
+  </ul>
 {% endblock %}
