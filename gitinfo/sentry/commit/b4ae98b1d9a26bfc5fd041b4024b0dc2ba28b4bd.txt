commit b4ae98b1d9a26bfc5fd041b4024b0dc2ba28b4bd
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Thu Nov 3 13:57:00 2016 -0700

    riak: request data as gzipped (#4475)

diff --git a/src/sentry/nodestore/riak/client.py b/src/sentry/nodestore/riak/client.py
index e4bf8bc358..7d8de5dbbe 100644
--- a/src/sentry/nodestore/riak/client.py
+++ b/src/sentry/nodestore/riak/client.py
@@ -86,6 +86,10 @@ class RiakClient(object):
         )
 
     def get(self, bucket, key, headers=None, **kwargs):
+        if headers is None:
+            headers = {}
+        headers['accept-encoding'] = 'gzip'  # urllib3 will automatically decompress
+
         return self.manager.urlopen(
             'GET', self.build_url(bucket, key, kwargs),
             headers=headers,
