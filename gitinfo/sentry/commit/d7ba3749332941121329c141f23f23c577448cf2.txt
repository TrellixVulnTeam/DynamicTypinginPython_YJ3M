commit d7ba3749332941121329c141f23f23c577448cf2
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Jan 21 11:47:31 2012 -0800

    Ensure were marking all primary keys safe (fixes GH-299)

diff --git a/sentry/templates/sentry/500.html b/sentry/templates/sentry/500.html
index c3fe539868..05ba577370 100644
--- a/sentry/templates/sentry/500.html
+++ b/sentry/templates/sentry/500.html
@@ -17,7 +17,7 @@
         <p>{% blocktrans with request.sentry.id as id %}You may reference this error as <strong>{{ id }}</strong>.{% endblocktrans %}</p>
 
         {% if request.sentry.project_id %}
-            <p><a href="{% url sentry-search request.sentry.project_id %}?q={{ request.sentry.id }}">View this error in Sentry</a></p>
+            <p><a href="{% url sentry-search request.sentry.project_id %}?q={{ request.sentry.id|safe }}">View this error in Sentry</a></p>
         {% endif %}
     {% endif %}
 {% endblock %}
diff --git a/sentry/templates/sentry/dashboard.html b/sentry/templates/sentry/dashboard.html
index 4417639c62..7108c5592a 100644
--- a/sentry/templates/sentry/dashboard.html
+++ b/sentry/templates/sentry/dashboard.html
@@ -15,7 +15,7 @@
                     <li>
                         <a href="{% url sentry project.pk %}">
                             <h3>{{ project.name }}</h3>
-                            <div class="sparkline" data-project="{{ project.pk }}" data-api-url="{% url sentry-api-chart project.pk %}"></div>
+                            <div class="sparkline" data-project="{{ project.pk|safe }}" data-api-url="{% url sentry-api-chart project.pk %}"></div>
                         </a>
                     </li>
                 {% endfor %}
diff --git a/sentry/templates/sentry/groups/details.html b/sentry/templates/sentry/groups/details.html
index d771942541..d2ac949cf2 100644
--- a/sentry/templates/sentry/groups/details.html
+++ b/sentry/templates/sentry/groups/details.html
@@ -179,7 +179,7 @@
 {% block content_after %}
     <script type="text/javascript">
     $(document).ready(function() {
-        Sentry.charts.render("#chart", {{ group.project.id }}, {{ group.id }}, true);
+        Sentry.charts.render("#chart", {{ group.project.id|safe }}, {{ group.id|safe }}, true);
     });
     </script>
 {% endblock %}
\ No newline at end of file
diff --git a/sentry/templates/sentry/groups/group_list.html b/sentry/templates/sentry/groups/group_list.html
index 2d359300b8..4a450d138c 100644
--- a/sentry/templates/sentry/groups/group_list.html
+++ b/sentry/templates/sentry/groups/group_list.html
@@ -8,8 +8,8 @@
     <script>
     {% if has_realtime %}
         Sentry.realtime.config({
-            projectId: {{ project.pk }},
-            viewId: {% if view %}{{ view.pk }}{% else %}null{% endif %}
+            projectId: {{ project.pk|safe }},
+            viewId: {% if view %}{{ view.pk|safe }}{% else %}null{% endif %}
         })
         Sentry.realtime.enable();
     {% endif %}
@@ -90,7 +90,7 @@
             </ul>
         </li>
         <li class="pull-right">
-            <a href="javascript:void(0)" onclick="Sentry.stream.clear({{ project.id }});">{% trans "Resolve Feed" %}</a>
+            <a href="javascript:void(0)" onclick="Sentry.stream.clear({{ project.id|safe }});">{% trans "Resolve Feed" %}</a>
         </li>
         <li class="pull-right">
             <a href="javascript:void(0)" id="sentry_realtime" class="realtime-play" onclick="Sentry.realtime.toggle();">{% trans "Pause Feed" %}</a>
@@ -114,7 +114,7 @@
 {% block content_after %}
     <script type="text/javascript">
     $(document).ready(function() {
-        Sentry.charts.render("#sparkline", {{ project.id }});
+        Sentry.charts.render("#sparkline", {{ project.id|safe }});
     });
     </script>
 {% endblock %}
\ No newline at end of file
