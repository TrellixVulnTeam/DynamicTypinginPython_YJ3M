commit 56dd5a3d165c9999afba0e1242d42a131906eef0
Author: David Cramer <dcramer@gmail.com>
Date:   Fri May 20 11:26:15 2016 -0500

    Handle non-ints gracefully for share IDs

diff --git a/src/sentry/models/group.py b/src/sentry/models/group.py
index b08db48628..22a8cdc1fd 100644
--- a/src/sentry/models/group.py
+++ b/src/sentry/models/group.py
@@ -276,6 +276,8 @@ class Group(Model):
             project_id, group_id = b16decode(share_id.upper()).split('.')
         except ValueError:
             raise cls.DoesNotExist
+        if not (project_id.isdigit() and group_id.isdigit()):
+            raise cls.DoesNotExist
         return cls.objects.get(project=project_id, id=group_id)
 
     def get_score(self):
diff --git a/tests/sentry/models/test_group.py b/tests/sentry/models/test_group.py
index 2930900a0d..716e515fb8 100644
--- a/tests/sentry/models/test_group.py
+++ b/tests/sentry/models/test_group.py
@@ -147,3 +147,7 @@ class GroupTest(TestCase):
 
         with pytest.raises(Group.DoesNotExist):
             get_group_with_redirect(duplicate_id)
+
+    def test_invalid_shared_id(self):
+        with pytest.raises(Group.DoesNotExist):
+            Group.from_share_id('adc7a5b902184ce3818046302e94f8ec')
