commit 398403445c0d5b7dc15b744fbd455827b1bbdf64
Author: David Cramer <dcramer@gmail.com>
Date:   Sun Jul 29 12:19:44 2012 -0700

    Correct privileges on group_plugin_action and bump to 4.8.5

diff --git a/sentry/web/decorators.py b/sentry/web/decorators.py
index b2dfa5ed9f..dfa32d53c8 100644
--- a/sentry/web/decorators.py
+++ b/sentry/web/decorators.py
@@ -133,10 +133,7 @@ def has_group_access(func):
 
     @wraps(func)
     def wrapped(request, project_id, group_id, *args, **kwargs):
-        group = get_object_or_404(Group, pk=group_id)
-
-        if group.project and project_id not in (group.project.slug, str(group.project.id)):
-            return HttpResponse(status=404)
+        group = get_object_or_404(Group, pk=group_id, project=project_id)
 
         if group.is_public:
             return func(request, group.project, group, *args, **kwargs)
diff --git a/sentry/web/frontend/groups.py b/sentry/web/frontend/groups.py
index afea39671d..bfb11c33f3 100644
--- a/sentry/web/frontend/groups.py
+++ b/sentry/web/frontend/groups.py
@@ -336,8 +336,9 @@ def group_event_details_json(request, project, group, event_id_or_latest):
 
 @login_required
 @has_access
-@has_group_access
-def group_plugin_action(request, project, group, slug):
+def group_plugin_action(request, project, group_id, slug):
+    group = get_object_or_404(Group, pk=group_id, project=project)
+
     try:
         plugin = plugins.get(slug)
     except KeyError:
diff --git a/setup.py b/setup.py
index 450178df0d..21b15a64a1 100755
--- a/setup.py
+++ b/setup.py
@@ -75,7 +75,7 @@ dependency_links = [
 
 setup(
     name='sentry',
-    version='4.8.4',
+    version='4.8.5',
     author='David Cramer',
     author_email='dcramer@gmail.com',
     url='http://github.com/dcramer/sentry',
