commit 92e01b7f1d70aff8a90d3d584c0b006dd3550cc5
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Oct 6 17:30:40 2015 -0700

    Record coverage in tests

diff --git a/.travis.yml b/.travis.yml
index 06c1c17eef..ae6756426f 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -33,7 +33,7 @@ before_script:
 script:
   - make lint
   - make test-js
-  - py.test tests
+  - coverage run --source=src/sentry -m py.test tests
   - make test-cli
 after_success:
   - codecov -e DB
diff --git a/setup.py b/setup.py
index a89b48c6a8..e3c468f0e6 100755
--- a/setup.py
+++ b/setup.py
@@ -59,6 +59,7 @@ tests_require = [
     'blist',  # used by cassandra
     'casscache',
     'cqlsh',
+    'coverage',
     'datadog',
     'httpretty',
     'pytest-cov>=1.4',
