commit 4ee95b0381efd1577b36126e1c1b40c12238355b
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Feb 25 16:25:46 2016 +0100

    Put debug symbol link behind feature flag

diff --git a/src/sentry/api/serializers/models/project.py b/src/sentry/api/serializers/models/project.py
index c703cc10b0..66665c4dfc 100644
--- a/src/sentry/api/serializers/models/project.py
+++ b/src/sentry/api/serializers/models/project.py
@@ -26,12 +26,9 @@ class ProjectSerializer(Serializer):
         from sentry import features
 
         feature_list = []
-        if features.has('projects:quotas', obj, actor=user):
-            feature_list.append('quotas')
-        if features.has('projects:global-events', obj, actor=user):
-            feature_list.append('global-events')
-        if features.has('projects:user-reports', obj, actor=user):
-            feature_list.append('user-reports')
+        for feature in 'global-events', 'user-reports', 'dsym':
+            if features.has('projects:' + feature, obj, actor=user):
+                feature_list.append(feature)
 
         return {
             'id': str(obj.id),
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 735d89378a..373ec597b5 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -611,6 +611,7 @@ SENTRY_FEATURES = {
     'projects:quotas': True,
     'projects:user-reports': False,
     'projects:plugins': True,
+    'projects:dsym': False,
 }
 
 # Default time zone for localization in the UI.
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index 0e0e29231a..71668200ce 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -14,6 +14,7 @@ default_manager.add('projects:global-events', ProjectFeature)
 default_manager.add('projects:quotas', ProjectFeature)
 default_manager.add('projects:user-reports', ProjectFeature)
 default_manager.add('projects:plugins', ProjectPluginFeature)
+default_manager.add('projects:dsym', ProjectFeature)
 
 
 # expose public api
diff --git a/src/sentry/static/sentry/app/views/projectSettings/index.jsx b/src/sentry/static/sentry/app/views/projectSettings/index.jsx
index fc76a8e44c..d5acad7710 100644
--- a/src/sentry/static/sentry/app/views/projectSettings/index.jsx
+++ b/src/sentry/static/sentry/app/views/projectSettings/index.jsx
@@ -96,7 +96,9 @@ const ProjectSettings = React.createClass({
             {features.has('user-reports') &&
               <ListLink to={`/${orgId}/${projectId}/settings/user-reports/`}>{t('User Reports')}</ListLink>
             }
-            <ListLink to={`/${orgId}/${projectId}/settings/debug-symbols/`}>{t('Debug Symbols')}</ListLink>
+            {features.has('dsym') &&
+              <ListLink to={`/${orgId}/${projectId}/settings/debug-symbols/`}>{t('Debug Symbols')}</ListLink>
+            }
           </ul>
           <h6 className="nav-header">{t('Setup')}</h6>
           <ul className="nav nav-stacked">
diff --git a/src/sentry/templates/sentry/projects/manage.html b/src/sentry/templates/sentry/projects/manage.html
index 09524e384d..eb389adede 100644
--- a/src/sentry/templates/sentry/projects/manage.html
+++ b/src/sentry/templates/sentry/projects/manage.html
@@ -179,9 +179,11 @@
     <li>
         <a href="{% absolute_uri '/{}/{}/settings/saved-searches/' project.organization.slug project.slug %}">{% trans "Saved Searches" %}</a>
     </li>
+    {% feature projects:dsym project %}
     <li>
         <a href="{% absolute_uri '/{}/{}/settings/debug-symbols/' project.organization.slug project.slug %}">{% trans "Debug Symbols" %}</a>
     </li>
+    {% endfeature %}
     {% feature projects:user-reports project %}
     <li>
         <a href="{% absolute_uri '/{}/{}/settings/user-reports/' project.organization.slug project.slug %}">{% trans "User Reports" %}</a>
