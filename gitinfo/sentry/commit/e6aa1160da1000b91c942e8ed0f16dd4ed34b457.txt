commit e6aa1160da1000b91c942e8ed0f16dd4ed34b457
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Fri Apr 13 15:41:16 2018 -0700

    fix(api): Use 302 over 301 for project redirect

diff --git a/src/sentry/api/exceptions.py b/src/sentry/api/exceptions.py
index 1b0c2738c8..8c05786723 100644
--- a/src/sentry/api/exceptions.py
+++ b/src/sentry/api/exceptions.py
@@ -10,7 +10,7 @@ class ResourceDoesNotExist(APIException):
 
 
 class ResourceMoved(APIException):
-    status_code = status.HTTP_301_MOVED_PERMANENTLY
+    status_code = status.HTTP_302_FOUND
 
 
 class SentryAPIException(APIException):
diff --git a/src/sentry/static/sentry/app/views/projects/projectContext.jsx b/src/sentry/static/sentry/app/views/projects/projectContext.jsx
index 3ae1521dbd..4f69c6839b 100644
--- a/src/sentry/static/sentry/app/views/projects/projectContext.jsx
+++ b/src/sentry/static/sentry/app/views/projects/projectContext.jsx
@@ -198,12 +198,12 @@ const ProjectContext = createReactClass({
       });
     } else {
       // The project may have been renamed, attempt to lookup the project, if
-      // we 301 we will recieve the moved project slug and can update update
+      // we 302 we will recieve the moved project slug and can update update
       // our route accordingly.
       const lookupHandler = resp => {
         const {status, responseJSON} = resp;
 
-        if (status !== 301 || !responseJSON || !responseJSON.detail) {
+        if (status !== 302 || !responseJSON || !responseJSON.detail) {
           this.setState({
             loading: false,
             error: true,
@@ -220,7 +220,7 @@ const ProjectContext = createReactClass({
         );
       };
 
-      // The request ill 404 or 301
+      // The request ill 404 or 302
       this.api.request(`/projects/${orgId}/${projectId}/`, {error: lookupHandler});
     }
   },
diff --git a/tests/js/spec/views/projects/projectContext.spec.jsx b/tests/js/spec/views/projects/projectContext.spec.jsx
index 5b68c7e428..96224cb021 100644
--- a/tests/js/spec/views/projects/projectContext.spec.jsx
+++ b/tests/js/spec/views/projects/projectContext.spec.jsx
@@ -23,7 +23,7 @@ describe('projectContext component', function() {
     Client.addMockResponse({
       url: `/projects/${org.slug}/${project.slug}/`,
       method: 'GET',
-      statusCode: 301,
+      statusCode: 302,
       body: {
         detail: {slug: 'renamed-slug'},
       },
diff --git a/tests/sentry/api/endpoints/test_project_details.py b/tests/sentry/api/endpoints/test_project_details.py
index a906eaf174..9dc798b831 100644
--- a/tests/sentry/api/endpoints/test_project_details.py
+++ b/tests/sentry/api/endpoints/test_project_details.py
@@ -63,7 +63,7 @@ class ProjectDetailsTest(APITestCase):
         assert response.status_code == 200
         assert response.data['stats']['unresolved'] == 1
 
-    def test_project_renamed_301(self):
+    def test_project_renamed_302(self):
         project = self.create_project()
         self.login_as(user=self.user)
 
@@ -76,7 +76,7 @@ class ProjectDetailsTest(APITestCase):
         self.client.put(url, data={'slug': 'foobar'})
 
         response = self.client.get(url)
-        assert response.status_code == 301
+        assert response.status_code == 302
         assert response.data['detail']['slug'] == 'foobar'
 
 
