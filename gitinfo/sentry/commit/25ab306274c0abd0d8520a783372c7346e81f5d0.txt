commit 25ab306274c0abd0d8520a783372c7346e81f5d0
Author: ckj <chriskjennings@gmail.com>
Date:   Wed Mar 11 16:41:23 2015 -0400

    Make .app-sidebar a wrapper for related components. Hide sidebar in templates that extend modal.

diff --git a/src/sentry/static/sentry/app/components/organizationSidebar.jsx b/src/sentry/static/sentry/app/components/organizationSidebar.jsx
index 609f16d9c8..066de17ff7 100644
--- a/src/sentry/static/sentry/app/components/organizationSidebar.jsx
+++ b/src/sentry/static/sentry/app/components/organizationSidebar.jsx
@@ -63,9 +63,9 @@ var OrganizationSidebar = React.createClass({
     }
 
     return (
-      <div>
+      <div className="app-sidebar">
         <OrganizationSelector />
-        <div className="app-sidebar">
+        <div className="app-sidebar-content">
           <div className="teams">
             {activeOrg.teams.map((team, teamIdx) => {
               var routeParams = {
diff --git a/src/sentry/static/sentry/less/layout.less b/src/sentry/static/sentry/less/layout.less
index 018334835f..c65e4590a1 100644
--- a/src/sentry/static/sentry/less/layout.less
+++ b/src/sentry/static/sentry/less/layout.less
@@ -103,10 +103,11 @@ header {
     margin-bottom: 0;
     font-size: 18px;
     white-space: nowrap;
-    overflow: hidden;
     margin-right: 140px;
     position: relative;
 
+    .clearfix;
+
     &:after {
       content: "";
       display: block;
@@ -188,6 +189,12 @@ header {
 
   .icon-sentry-logo-full, .icon-sentry-logo {
     font-size: 24px;
+    position: relative;
+    top: 0;
+  }
+
+  .icon-sentry-logo-full {
+    top: -4px;
   }
 
   .nav-tabs {
@@ -269,12 +276,11 @@ header + .messages-container {
   color: #fff;
   width: @sidebar-width;
   position: fixed;
-  top: 65px;
+  top: 0;
   left: 0;
-  bottom: 60px;
-  padding: 0 20px 104px;
+  bottom: 0;
   color: #fff;
-  overflow: auto;
+
   .transition(.1s left ease-in-out);
 
   a {
@@ -350,22 +356,31 @@ header + .messages-container {
     text-overflow: ellipsis;
   }
 
-  // Scrollbar
+  .app-sidebar-content {
+    position: fixed;
+    left: 0;
+    top: 66px;
+    bottom: 60px;
+    padding: 0 20px 20px;
+    width: @sidebar-width;
+    overflow: auto;
 
-  &::-webkit-scrollbar {
-    width: 10px;
-  }
+    // Scrollbar
 
-  &::-webkit-scrollbar-track {
-      background: #252A31;
-  }
+    &::-webkit-scrollbar {
+      width: 10px;
+    }
 
-  &::-webkit-scrollbar-thumb {
-      border-radius: 2px;
-      background: @grayDark;
-      border: 1px solid #252A31;
-  }
+    &::-webkit-scrollbar-track {
+        background: #252A31;
+    }
 
+    &::-webkit-scrollbar-thumb {
+        border-radius: 2px;
+        background: @grayDark;
+        border: 1px solid #252A31;
+    }
+  }
 }
 
 /**
diff --git a/src/sentry/static/sentry/less/sentry.less b/src/sentry/static/sentry/less/sentry.less
index dfc7b13458..7999c024f0 100644
--- a/src/sentry/static/sentry/less/sentry.less
+++ b/src/sentry/static/sentry/less/sentry.less
@@ -7,4 +7,5 @@
 @import url("group-detail.less");
 @import url("dashboard.less");
 @import url("organization.less");
+@import url("docs.less");
 @import url("misc.less");
diff --git a/src/sentry/templates/sentry/bases/modal.html b/src/sentry/templates/sentry/bases/modal.html
index de03e8c003..cb86f6c924 100644
--- a/src/sentry/templates/sentry/bases/modal.html
+++ b/src/sentry/templates/sentry/bases/modal.html
@@ -2,7 +2,7 @@
 
 {% load i18n %}
 
-{% block bodyclass %}{% endblock %}
+{% block wrapperclass %} {{block.super }} hide-sidebar{% endblock %}
 
 {% block page_header_block %}
 {% endblock %}
diff --git a/src/sentry/templates/sentry/layout.html b/src/sentry/templates/sentry/layout.html
index 64aa578504..aa33dbc092 100644
--- a/src/sentry/templates/sentry/layout.html
+++ b/src/sentry/templates/sentry/layout.html
@@ -47,8 +47,9 @@
         {% endblock %}
     </head>
 
-    <body class="{% block wrapperclass %}{% endblock %} {% if not request.user.is_authenticated %}hide-sidebar{% endif %}">
+    <body class="{% block wrapperclass %}{% endblock %}">
       {% block body %}
+        <div class="app-sidebar">
         {% if request.user.is_authenticated %}
         {% if organization %}
           <div class="org-selector dropdown">
@@ -71,7 +72,8 @@
             {% endif %}
           </div>
           {% endif %}
-        <div class="app-sidebar">
+        {% endif %}
+        <div class="app-sidebar-content">
           {% block app-sidebar %}{% endblock %}
           <div class="teams">
             {% if TEAM_LIST %}
@@ -93,6 +95,7 @@
             {% endif %}
           </div>
         </div>
+        {% if request.user.is_authenticated %}
         {% block account_nav %}
           <div class="user-nav">
             <img src="{% gravatar_url user.email size 72 %}" class="avatar">
@@ -104,12 +107,9 @@
               </ul>
             </div>
           </div>
-        {% endblock%}
-        {% else %}
-          <div class="user-nav">
-            <a href="{% url 'sentry-login' %}">{% trans "Login" %}</a>
-          </div>
+        {% endblock %}
         {% endif %}
+        </div>
         <div class="app">
           {% block header %}
             <header>
@@ -123,6 +123,9 @@
                   {% endblock %}
                   <div class="pull-right">
                       {% block header_action %}
+                        {% if not request.user.is_authenticated %}
+                        <a href="{% url 'sentry-login' %}">{% trans "Login" %}</a>
+                        {% endif %}
                       {% endblock %}
                   </div>
                   {% if request.user.is_authenticated %}
