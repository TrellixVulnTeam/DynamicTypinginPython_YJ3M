commit 2e76ba21ba26232b5ef9a903a4947d9f8355d51e
Author: David Cramer <dcramer@gmail.com>
Date:   Wed May 20 13:56:05 2015 -0700

    since/until are now timestamps

diff --git a/src/sentry/api/endpoints/project_group_index.py b/src/sentry/api/endpoints/project_group_index.py
index 2329aa7341..1034544bf7 100644
--- a/src/sentry/api/endpoints/project_group_index.py
+++ b/src/sentry/api/endpoints/project_group_index.py
@@ -1,6 +1,6 @@
 from __future__ import absolute_import, division, print_function
 
-from datetime import timedelta
+from datetime import datetime, timedelta
 from django.db.models import Q
 from django.utils import timezone
 from rest_framework import serializers
@@ -22,7 +22,6 @@ from sentry.search.utils import parse_query
 from sentry.tasks.deletion import delete_group
 from sentry.tasks.merge import merge_group
 from sentry.utils.cursors import Cursor
-from sentry.utils.dates import parse_date
 
 
 class GroupSerializer(serializers.Serializer):
@@ -39,6 +38,11 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
 
     permission_classes = (ProjectEventPermission,)
 
+    def _parse_date(self, value):
+        return datetime.utcfromtimestamp(float(value)).replace(
+            tzinfo=timezone.utc,
+        )
+
     # bookmarks=0/1
     # status=<x>
     # <tag>=<value>
@@ -87,11 +91,9 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
 
         # TODO: dates should include timestamps
         date_from = request.GET.get('since')
-        time_from = request.GET.get('until')
+        date_to = request.GET.get('until')
         date_filter = request.GET.get('date_filter')
 
-        date_to = request.GET.get('dt')
-        time_to = request.GET.get('tt')
         limit = request.GET.get('limit')
         if limit:
             try:
@@ -100,12 +102,13 @@ class ProjectGroupIndexEndpoint(ProjectEndpoint):
                 return Response('{"detail": "invalid limit"}', status=400)
 
         today = timezone.now()
-        # date format is Y-m-d
-        if any(x is not None for x in [date_from, time_from, date_to, time_to]):
-            date_from, date_to = parse_date(date_from, time_from), parse_date(date_to, time_to)
+        if date_from:
+            date_from = self._parse_date(date_from)
         else:
             date_from = today - timedelta(days=5)
-            date_to = None
+
+        if date_to:
+            date_to = self._parse_date(date_to)
 
         query_kwargs['date_from'] = date_from
         query_kwargs['date_to'] = date_to
diff --git a/src/sentry/static/sentry/app/views/stream/actions.jsx b/src/sentry/static/sentry/app/views/stream/actions.jsx
index 707eafd8f6..c4242a0eb3 100644
--- a/src/sentry/static/sentry/app/views/stream/actions.jsx
+++ b/src/sentry/static/sentry/app/views/stream/actions.jsx
@@ -266,8 +266,8 @@ var DateSelector = React.createClass({
     e.preventDefault();
     var router = this.context.router;
     var queryParams = router.getCurrentQuery();
-    queryParams.dt = this.state.dateTo;
-    queryParams.df = this.state.dateFrom;
+    queryParams.until = this.state.dateTo;
+    queryParams.since = this.state.dateFrom;
     queryParams.date_type = this.state.dateType;
     // TODO(dcramer): ideally we wouldn't hardcode stream here
     router.transitionTo('stream', router.getCurrentParams(), queryParams);
