commit eabbebf6ed5595ccb1c530821ae209037e009c5f
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jul 28 18:28:37 2015 -0700

    Swap in simpler datetime picker

diff --git a/package.json b/package.json
index 747b434cb1..2b3af223df 100644
--- a/package.json
+++ b/package.json
@@ -28,6 +28,7 @@
     "raven-js": "^1.1.19",
     "react": "^0.13.3",
     "react-bootstrap": "^0.13.0",
+    "react-datepicker": "^0.11.0",
     "react-day-picker": "^1.0.3",
     "react-document-title": "^1.0.2",
     "react-router": "^0.13.3",
diff --git a/src/sentry/static/sentry/app/components/dateTimeInput.jsx b/src/sentry/static/sentry/app/components/dateTimeInput.jsx
index 41c9bf6f2f..276a72b206 100644
--- a/src/sentry/static/sentry/app/components/dateTimeInput.jsx
+++ b/src/sentry/static/sentry/app/components/dateTimeInput.jsx
@@ -1,17 +1,12 @@
 var React = require("react");
 var moment = require("moment");
-var DayPicker = require("react-day-picker");
-// var {isPastDay, isSameDay} = require("react-day-picker");
+var DatePicker = require("react-datepicker");
 
 var DateTimeInput = React.createClass({
   getInitialState() {
-    var today = new Date();
     return {
-      // The value of the input field
-      dateValue: moment(today).format("L"),
-      timeValue: '',
-      // The month to display in the calendar
-      month: today
+      dateValue: moment(),
+      timeValue: ''
     };
   },
 
@@ -19,35 +14,24 @@ var DateTimeInput = React.createClass({
     var {dateValue, timeValue, month} = this.state;
 
     var selectedDay = moment(dateValue, "L", true).toDate();
-    var modifiers = {
-      // Add the `disabled` modifier to days in the past. The day cell will have
-      // a `DayPicker-Day--disabled` CSS class
-      // "disabled": isPastDay,
-
-      // Add the `selected` modifier to days corresponding to the day inserted
-      // in the input field. The day cell will have a `DayPicker-Day--selected`
-      // CSS class
-      // "selected": (day) => isSameDay(selectedDay, day)
-    };
 
     return (
       <div>
         <p>
-          <input
-            className="day form-control"
-            ref="input"
-            type="date"
-            value={dateValue}
-            placeholder="YYYY-MM-DD"
-            onChange={this.handleDateInputChange}
-            onFocus={this.showCurrentDate} />
+          <div className="datepicker-wrapper">
+            <DatePicker
+              selected={dateValue}
+              onChange={this.handleDateChange}
+              placeholderText="YYYY-MM-DD" />
+          </div>
           <input
             className="time form-control"
             ref="input"
             type="time"
             value={timeValue}
             placeholder="HH:MM"
-            onChange={this.handleTimeInputChange} />
+            onChange={this.handleTimeInputChange}
+            onFocus={this.showDatePicker} />
         </p>
       </div>
     );
@@ -60,32 +44,9 @@ var DateTimeInput = React.createClass({
   },
 
   handleDateInputChange(e) {
-    var value = e.target.value;
-    var month = this.state.month;
-
-    // Change the current month only if the value entered by the user is a valid
-    // date according to the `L` format
-    if (moment(value, "L", true).isValid()) {
-      month = moment(value, "L").toDate();
-    }
     this.setState({
-      value: dateValue,
-      month: month
-    }, this.showCurrentDate);
-  },
-
-  handleDayTouchTap(e, day, modifiers) {
-    if (modifiers.indexOf("disabled") > -1) {
-      return;
-    }
-    this.setState({
-      dateValue: moment(day).format("L"),
-      month: day
+      dateValue: e.target.value,
     });
-  },
-
-  showCurrentDate() {
-    this.refs.daypicker.showMonth(this.state.month);
   }
 });
 
diff --git a/src/sentry/static/sentry/less/includes/datepicker.less b/src/sentry/static/sentry/less/includes/datepicker.less
index fdf82e20c9..a5b2ec76f7 100644
--- a/src/sentry/static/sentry/less/includes/datepicker.less
+++ b/src/sentry/static/sentry/less/includes/datepicker.less
@@ -1,116 +1,168 @@
-.DayPicker
-{
-    display: flex;
-    flex-wrap: wrap;
-    justify-content: center;
-    ms-flex-pack: center;
-    ms-flex-wrap: wrap;
-    padding: 1rem 0;
-    position: relative;
-    user-select: none;
-    webkit-flex-wrap: wrap;
-    webkit-justify-content: center;
-}
-.DayPicker,.DayPicker-Month
-{
-    moz-user-select: none;
-    ms-user-select: none;
-    webkit-user-select: none;
-}
-.DayPicker-Month
-{
-    border-collapse: collapse;
-    border-spacing: 0;
-    display: table;
-    margin: 0 1rem;
-    user-select: none;
-}
-.DayPicker-NavBar
-{
-    left: 0;
-    padding: 0 .5rem;
-    position: absolute;
-    right: 0;
-}
-.DayPicker-NavButton
-{
-    background-position: center;
-    background-repeat: no-repeat;
-    background-size: contain;
-    cursor: pointer;
-    height: 1.5rem;
-    position: absolute;
-    width: 1.5rem;
-}
-.DayPicker-NavButton--prev
-{
-}
-.DayPicker-NavButton--next
-{
-}
-.DayPicker-Caption
-{
-    display: table-caption;
-    height: 1.5rem;
-    text-align: center;
-}
-.DayPicker-Weekdays
-{
-    display: table-header-group;
-}
-.DayPicker-Weekday
-{
-    display: table-cell;
-    font-size: .875em;
-    padding: .5rem;
-    text-align: center;
-}
-.DayPicker-Body
-{
-    display: table-row-group;
-}
-.DayPicker-Day
-{
-    border: 1px solid #eaecec;
-    cursor: pointer;
-    display: table-cell;
-    padding: .5rem;
-    text-align: center;
-    vertical-align: middle;
-}
-.DayPicker-Day--disabled,.DayPicker-Day--outside
-{
-    color: #DCE0E0;
-    cursor: default;
-}
-.DayPicker--interactionDisabled .DayPicker-Day
-{
-    cursor: default;
-}
-.DayPicker-Day--today
-{
-    color: #D0021B;
-    font-weight: 500;
-}
-.DayPicker-Day--disabled
-{
-    background-color: #eff1f1;
-}
-.DayPicker-Day--sunday
-{
-    background-color: #f7f8f8;
-    color: #DCE0E0;
-}
-.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside)
-{
-    background-color: #4A90E2;
-    color: #fff;
-}
-.DayPicker--ar
-{
-    direction: rtl;
-}
-.DayPicker-Weekdays>div,.DayPicker-Week
-{
-    display: table-row;
+.tether-target {
+  display: inline;
+}
+.tether-element-attached-top .datepicker__triangle, .tether-element-attached-bottom .datepicker__triangle {
+  margin-left: -8px;
+  position: absolute;
+}
+.tether-element-attached-top .datepicker__triangle, .tether-element-attached-bottom .datepicker__triangle, .tether-element-attached-top .datepicker__triangle:before, .tether-element-attached-bottom .datepicker__triangle:before {
+  box-sizing: content-box;
+  position: absolute;
+  border: 8px solid transparent;
+  height: 0;
+  width: 1px;
+}
+.tether-element-attached-top .datepicker__triangle:before, .tether-element-attached-bottom .datepicker__triangle:before {
+  content: "";
+  z-index: -1;
+  border-width: 8px;
+  left: -8px;
+  border-bottom-color: #aeaeae;
+}
+
+.tether-element-attached-top .datepicker__triangle {
+  top: 0;
+  margin-top: -8px;
+}
+.tether-element-attached-top .datepicker__triangle, .tether-element-attached-top .datepicker__triangle:before {
+  border-top: none;
+  border-bottom-color: #f0f0f0;
+}
+.tether-element-attached-top .datepicker__triangle:before {
+  top: -1px;
+  border-bottom-color: #aeaeae;
+}
+
+.tether-element-attached-bottom .datepicker__triangle {
+  bottom: 0;
+  margin-bottom: -8px;
+}
+.tether-element-attached-bottom .datepicker__triangle, .tether-element-attached-bottom .datepicker__triangle:before {
+  border-bottom: none;
+  border-top-color: #fff;
+}
+.tether-element-attached-bottom .datepicker__triangle:before {
+  bottom: -1px;
+  border-top-color: #aeaeae;
+}
+
+.datepicker {
+  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
+  font-size: 11px;
+  background-color: #fff;
+  color: #000;
+  border: 1px solid #aeaeae;
+  border-radius: 4px;
+  display: inline-block;
+  position: relative;
+}
+
+.datepicker__container {
+  position: absolute;
+  display: inline-block;
+  z-index: 2147483647;
+}
+
+.datepicker__triangle {
+  position: absolute;
+  left: 50px;
+}
+
+.datepicker__header {
+  text-align: center;
+  background-color: #f0f0f0;
+  border-bottom: 1px solid #aeaeae;
+  border-top-left-radius: 4px;
+  border-top-right-radius: 4px;
+  padding-top: 8px;
+  position: relative;
+}
+
+.datepicker__current-month {
+  color: black;
+  font-weight: bold;
+  font-size: 13px;
+}
+
+.datepicker__navigation {
+  line-height: 24px;
+  text-align: center;
+  cursor: pointer;
+  position: absolute;
+  top: 10px;
+  width: 0;
+  border: 6px solid transparent;
+}
+.datepicker__navigation--previous {
+  left: 10px;
+  border-right-color: #ccc;
+}
+.datepicker__navigation--previous:hover {
+  border-right-color: #b3b3b3;
+}
+.datepicker__navigation--next {
+  right: 10px;
+  border-left-color: #ccc;
+}
+.datepicker__navigation--next:hover {
+  border-left-color: #b3b3b3;
+}
+
+.datepicker__week-day {
+  color: #ccc;
+  display: inline-block;
+  width: 28px;
+  line-height: 24px;
+}
+
+.datepicker__month {
+  margin: 5px;
+  text-align: center;
+}
+
+.datepicker__day {
+  color: #000;
+  display: inline-block;
+  width: 24px;
+  line-height: 24px;
+  text-align: center;
+  margin: 2px;
+  cursor: pointer;
+}
+.datepicker__day:hover {
+  border-radius: 4px;
+  background-color: #f0f0f0;
+}
+.datepicker__day--today {
+  font-weight: bold;
+}
+.datepicker__day--selected {
+  border-radius: 4px;
+  background-color: #216ba5;
+  color: #fff;
+}
+.datepicker__day--selected:hover {
+  background-color: #1d5d90;
+}
+.datepicker__day--disabled {
+  cursor: default;
+  color: #ccc;
+}
+.datepicker__day--disabled:hover {
+  background-color: transparent;
+}
+
+.datepicker__input {
+  position: relative;
+  font-size: 13px;
+  border-radius: 4px;
+  box-shadow: inset 0 2px 2px #e9e9e9;
+  border: 1px solid #aeaeae;
+  line-height: 16px;
+  padding: 6px 10px 5px;
+}
+.datepicker__input:focus {
+  outline: none;
+  border-color: #aeaeae;
+  box-shadow: inset 0 2px 2px #e9e9e9, 0 0 10px 0 rgba(73, 107, 125, 0.3);
 }
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index 9f02b37f3b..9b8a98177a 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -1980,24 +1980,30 @@ pre.clippy {
 }
 
 .datepicker-box {
-  .DayPicker {
-    padding: 0;
-  }
-
   h6 {
     margin-bottom: 15px;
   }
 
+  .datepicker-wrapper {
+    > div {
+      display: inline-block;
+    }
+    .datepicker__input {
+      .form-control;
+      display: inline-block;
+      line-height: 1.2 !important;
+      padding-right: 4px !important;
+      padding-left: 8px !important;
+      width: 57%;
+    }
+  }
+
   .form-control {
     display: inline-block;
     line-height: 1.2 !important;
     padding-right: 4px !important;
     padding-left: 8px !important;
 
-    &.day {
-      width: 57%;
-    }
-
     &.time {
       margin-left: 2%;
       width: 41%;
diff --git a/webpack.config.js b/webpack.config.js
index 98094b8189..d8ddd40038 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -18,7 +18,7 @@ var config = {
       "moment",
       "raven-js",
       "react/addons",
-      "react-day-picker",
+      "react-datepicker",
       "react-document-title",
       "react-router",
       "react-bootstrap",
