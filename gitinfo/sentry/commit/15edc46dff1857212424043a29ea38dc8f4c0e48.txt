commit 15edc46dff1857212424043a29ea38dc8f4c0e48
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Oct 10 17:13:25 2018 -0700

    fix(discover): Display error message on failed requests (#10074)

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
index 982823bc91..fedc16610a 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/discover.jsx
@@ -147,18 +147,24 @@ export default class OrganizationDiscover extends React.Component {
 
     clearIndicators();
 
-    resultManager.fetchAll().then(data => {
-      const shouldRedirect = !this.props.params.savedQueryId;
-
-      if (shouldRedirect) {
-        browserHistory.push({
-          pathname: `/organizations/${organization.slug}/discover/`,
-          search: getQueryStringFromQuery(queryBuilder.getInternal()),
-        });
-      }
-
-      this.setState({data, isFetchingQuery: false});
-    });
+    resultManager
+      .fetchAll()
+      .then(data => {
+        const shouldRedirect = !this.props.params.savedQueryId;
+
+        if (shouldRedirect) {
+          browserHistory.push({
+            pathname: `/organizations/${organization.slug}/discover/`,
+            search: getQueryStringFromQuery(queryBuilder.getInternal()),
+          });
+        }
+
+        this.setState({data, isFetchingQuery: false});
+      })
+      .catch(err => {
+        const message = (err && err.message) || t('An error occurred');
+        addErrorMessage(message);
+      });
   };
 
   toggleSidebar = view => {
