commit da920dda23598ef3137b2b829cbce48570daa99c
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Wed Jan 2 15:59:04 2019 -0800

    fix(discover): Fix queryBuilder.fetch when no args (#11322)
    
    Calling `fetch()` fails when no args are passed.

diff --git a/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx b/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
index a43882a441..1d973daaed 100644
--- a/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDiscover/queryBuilder.jsx
@@ -174,13 +174,11 @@ export default function createQueryBuilder(initial = {}, organization) {
    * @param {Object} [data] Optional field to provide data to fetch
    * @returns {Promise<Object|Error>}
    */
-  function fetch(data, cursor = '0:0:1') {
+  function fetch(data = getExternal(), cursor = '0:0:1') {
     const api = new Client();
     const limit = data.limit || 1000;
     const endpoint = `/organizations/${organization.slug}/discover/query/?per_page=${limit}&cursor=${cursor}`;
 
-    data = data || getExternal();
-
     // Reject immediately if no projects are available
     if (!data.projects.length) {
       return Promise.reject(new Error(t('No projects selected')));
