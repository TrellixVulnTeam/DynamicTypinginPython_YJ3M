commit 6ea892fcfdde4116c15305d5be8ffcfe3c5e31d8
Author: David Cramer <dcramer@gmail.com>
Date:   Mon May 8 11:40:51 2017 -0700

    add projects:data-forwarding feature flag

diff --git a/src/sentry/api/serializers/models/project.py b/src/sentry/api/serializers/models/project.py
index cd3ccc3316..32e9c862ae 100644
--- a/src/sentry/api/serializers/models/project.py
+++ b/src/sentry/api/serializers/models/project.py
@@ -96,7 +96,7 @@ class ProjectSerializer(Serializer):
         from sentry import features
 
         feature_list = []
-        for feature in ('global-events',):
+        for feature in ('global-events', 'data-forwarding'):
             if features.has('projects:' + feature, obj, actor=user):
                 feature_list.append(feature)
 
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 83f5a2654b..4f1845f1f9 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -748,6 +748,7 @@ SENTRY_FEATURES = {
     'projects:plugins': True,
     'projects:dsym': False,
     'projects:sample-events': True,
+    'projects:data-forwarding': True,
 }
 
 # Default time zone for localization in the UI.
diff --git a/src/sentry/features/__init__.py b/src/sentry/features/__init__.py
index ca7a6f47f4..75b216df4d 100644
--- a/src/sentry/features/__init__.py
+++ b/src/sentry/features/__init__.py
@@ -16,6 +16,7 @@ default_manager.add('organizations:repos', OrganizationFeature)  # NOQA
 default_manager.add('organizations:release-commits', OrganizationFeature)  # NOQA
 default_manager.add('projects:global-events', ProjectFeature)  # NOQA
 default_manager.add('projects:plugins', ProjectPluginFeature)  # NOQA
+default_manager.add('projects:data-forwarding', ProjectFeature)  # NOQA
 default_manager.add('workflow:release-emails', ProjectFeature)  # NOQA
 default_manager.add('projects:sample-events', ProjectFeature)  # NOQA
 default_manager.add('projects:similarity-indexing', ProjectFeature)  # NOQA
diff --git a/src/sentry/static/sentry/app/views/projectSettings/index.jsx b/src/sentry/static/sentry/app/views/projectSettings/index.jsx
index 6fb8aa852e..411f3b3501 100644
--- a/src/sentry/static/sentry/app/views/projectSettings/index.jsx
+++ b/src/sentry/static/sentry/app/views/projectSettings/index.jsx
@@ -102,9 +102,10 @@ const ProjectSettings = React.createClass({
             <li>
               <a href={`${settingsUrlRoot}/release-tracking/`}>{t('Release Tracking')}</a>
             </li>
-            <ListLink to={`/${orgId}/${projectId}/settings/data-forwarding/`}>
-              {t('Data Forwarding')}
-            </ListLink>
+            {features.has('data-forwarding') &&
+              <ListLink to={`/${orgId}/${projectId}/settings/data-forwarding/`}>
+                {t('Data Forwarding')}
+              </ListLink>}
             <ListLink to={`/${orgId}/${projectId}/settings/saved-searches/`}>
               {t('Saved Searches')}
             </ListLink>
diff --git a/src/sentry/templates/sentry/projects/manage.html b/src/sentry/templates/sentry/projects/manage.html
index f4efc9f585..0be6cddbb1 100644
--- a/src/sentry/templates/sentry/projects/manage.html
+++ b/src/sentry/templates/sentry/projects/manage.html
@@ -196,9 +196,11 @@
     <li{% if page == 'release-tracking' %} class="active"{% endif %}>
         <a href="{% url 'sentry-project-release-tracking' project.organization.slug project.slug %}">{% trans "Release Tracking" %}</a>
     </li>
+    {% feature projects:data-forwarding project %}
     <li>
         <a href="{% absolute_uri '/{}/{}/settings/data-forwarding/' project.organization.slug project.slug %}">{% trans "Data Forwarding" %}</a>
     </li>
+    {% endfeature %}
     <li>
         <a href="{% absolute_uri '/{}/{}/settings/saved-searches/' project.organization.slug project.slug %}">{% trans "Saved Searches" %}</a>
     </li>
