commit 778efdf4ae3fb5a7e0193ae4a62115ef186f17ec
Author: Ben Vinegar <ben@benv.ca>
Date:   Thu Sep 17 17:51:48 2015 -0700

    Only show context button when there's context to show

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx b/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
index fceb75bd7c..77d960c1a1 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
@@ -2,7 +2,6 @@ import React from "react";
 import classNames from "classnames";
 import {defined, objectIsEmpty} from "../../../utils";
 
-import TooltipMixin from "../../../mixins/tooltip";
 import FrameVariables from "./frameVariables";
 
 var Frame = React.createClass({
@@ -10,12 +9,6 @@ var Frame = React.createClass({
     data: React.PropTypes.object.isRequired
   },
 
-  mixins: [
-    TooltipMixin({
-      selector: ".expand-button"
-    })
-  ],
-
   getInitialState() {
     // isExpanded can be initialized to true via parent component;
     // data synchronization is not important
@@ -86,8 +79,6 @@ var Frame = React.createClass({
 
     let context = '';
 
-    // delete data.context;
-
     if (defined(data.context) && data.context.length || !objectIsEmpty(data.vars)) {
       var startLineNo = defined(data.context) ? data.context[0][0] : '';
       context = (
@@ -131,7 +122,16 @@ var Frame = React.createClass({
     // TODO(dcramer): implement local vars
     return (
       <li className={className}>
-        <p>{title} <a onClick={(e) => { e.preventDefault(); this.toggleContext(); }} className="btn btn-sm btn-default btn-toggle"><span className="icon-plus"/></a>
+        <p>{title}
+          {context ?
+            <a
+              title="Toggle context"
+              onClick={this.toggleContext}
+              className="btn btn-sm btn-default btn-toggle">
+              <span className={this.state.isExpanded ? "icon-minus" : "icon-plus"}/>
+            </a>
+            : ''
+          }
         </p>
         {context}
       </li>
