commit 99b3d1c17d8b4bc52524e52cbeb331c296cbed23
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Jun 4 00:07:17 2012 -0700

    Fix broken migrations

diff --git a/sentry/migrations/0020_auto__add_projectdomain__add_unique_projectdomain_project_domain.py b/sentry/migrations/0020_auto__add_projectdomain__add_unique_projectdomain_project_domain.py
index 81307f2eff..fc02139136 100644
--- a/sentry/migrations/0020_auto__add_projectdomain__add_unique_projectdomain_project_domain.py
+++ b/sentry/migrations/0020_auto__add_projectdomain__add_unique_projectdomain_project_domain.py
@@ -19,20 +19,6 @@ class Migration(SchemaMigration):
         # Adding unique constraint on 'ProjectDomain', fields ['project', 'domain']
         db.create_unique('sentry_projectdomain', ['project_id', 'domain'])
 
-        sid = transaction.savepoint()
-        try:
-            # Adding index on 'Message', fields ['checksum']
-            db.create_index('sentry_message', ['checksum'])
-        except:
-            transaction.savepoint_rollback(sid)
-
-        sid = transaction.savepoint()
-        try:
-            # Adding index on 'Message', fields ['checksum']
-            db.create_index('sentry_groupedmessage', ['checksum'])
-        except:
-            transaction.savepoint_rollback(sid)
-
     def backwards(self, orm):
 
         # Removing unique constraint on 'ProjectDomain', fields ['project', 'domain']
diff --git a/sentry/migrations/0034_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py b/sentry/migrations/0034_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
index d56244b5fa..cfc6044117 100644
--- a/sentry/migrations/0034_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
+++ b/sentry/migrations/0034_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
@@ -26,12 +26,6 @@ class Migration(SchemaMigration):
         except:
             pass
 
-        # Adding unique constraint on 'GroupMeta', fields ['group', 'key']
-        try:
-            db.create_unique('sentry_groupmeta', ['group_id', 'key'])
-        except:
-            pass
-
         # Adding unique constraint on 'ProjectOption', fields ['project', 'key']
         try:
             db.create_unique('sentry_projectoptions', ['project_id', 'key'])
@@ -44,9 +38,6 @@ class Migration(SchemaMigration):
         # Removing unique constraint on 'ProjectOption', fields ['project', 'key']
         db.delete_unique('sentry_projectoptions', ['project_id', 'key'])
 
-        # Removing unique constraint on 'GroupMeta', fields ['group', 'key']
-        db.delete_unique('sentry_groupmeta', ['group_id', 'key'])
-
         # Adding unique constraint on 'Option', fields ['value', 'key']
         db.create_unique('sentry_option', ['value', 'key'])
 
diff --git a/sentry/migrations/0037_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py b/sentry/migrations/0037_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
index a7f7767b93..d42e4c41fa 100644
--- a/sentry/migrations/0037_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
+++ b/sentry/migrations/0037_auto__add_unique_option_key__del_unique_option_value_key__del_unique_g.py
@@ -26,36 +26,9 @@ class Migration(SchemaMigration):
         except:
             pass
 
-        # Adding unique constraint on 'Option', fields ['key']
-        try:
-            db.create_unique('sentry_option', ['key'])
-        except:
-            pass
-
-        # Adding unique constraint on 'GroupMeta', fields ['group', 'key']
-        try:
-            db.create_unique('sentry_groupmeta', ['group_id', 'key'])
-        except:
-            pass
-
-        # Adding unique constraint on 'ProjectOption', fields ['project', 'key']
-        try:
-            db.create_unique('sentry_projectoptions', ['project_id', 'key'])
-        except:
-            pass
-
 
     def backwards(self, orm):
 
-        # Removing unique constraint on 'ProjectOption', fields ['project', 'key']
-        db.delete_unique('sentry_projectoptions', ['project_id', 'key'])
-
-        # Removing unique constraint on 'GroupMeta', fields ['group', 'key']
-        db.delete_unique('sentry_groupmeta', ['group_id', 'key'])
-
-        # Removing unique constraint on 'Option', fields ['key']
-        db.delete_unique('sentry_option', ['key'])
-
         # Adding unique constraint on 'Option', fields ['value', 'key']
         db.create_unique('sentry_option', ['value', 'key'])
 
