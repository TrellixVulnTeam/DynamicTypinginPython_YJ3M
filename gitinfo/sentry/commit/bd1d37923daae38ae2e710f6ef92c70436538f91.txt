commit bd1d37923daae38ae2e710f6ef92c70436538f91
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Mon Apr 20 11:00:21 2020 -0700

    ref(ts): Convert `<ProjectSettingsLayout>` (#18162)
    
    Convert to typescript and clean up context

diff --git a/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.jsx b/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.jsx
deleted file mode 100644
index 8711320467..0000000000
--- a/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.jsx
+++ /dev/null
@@ -1,37 +0,0 @@
-import React from 'react';
-
-import ProjectContext from 'app/views/projects/projectContext';
-import ProjectSettingsNavigation from 'app/views/settings/project/projectSettingsNavigation';
-import SettingsLayout from 'app/views/settings/components/settingsLayout';
-import SentryTypes from 'app/sentryTypes';
-
-class ProjectSettingsLayout extends React.Component {
-  static contextTypes = {
-    organization: SentryTypes.Organization,
-  };
-
-  render() {
-    const {orgId, projectId} = this.props.params;
-
-    return (
-      <ProjectContext
-        {...this.props.params}
-        skipReload
-        orgId={orgId}
-        projectId={projectId}
-      >
-        <SettingsLayout
-          {...this.props}
-          renderNavigation={() => <ProjectSettingsNavigation {...this.props} />}
-        >
-          {this.props.children &&
-            React.cloneElement(this.props.children, {
-              organization: this.context.organization,
-            })}
-        </SettingsLayout>
-      </ProjectContext>
-    );
-  }
-}
-
-export default ProjectSettingsLayout;
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.tsx b/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.tsx
new file mode 100644
index 0000000000..12880ab650
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/settings/project/projectSettingsLayout.tsx
@@ -0,0 +1,35 @@
+import {RouteComponentProps} from 'react-router/lib/Router';
+import React from 'react';
+
+import {Organization} from 'app/types';
+import ProjectContext from 'app/views/projects/projectContext';
+import ProjectSettingsNavigation from 'app/views/settings/project/projectSettingsNavigation';
+import SettingsLayout from 'app/views/settings/components/settingsLayout';
+import withOrganization from 'app/utils/withOrganization';
+
+type Props = {
+  organization: Organization;
+  children: React.ReactNode;
+} & RouteComponentProps<{orgId: string; projectId: string}, {}>;
+
+function ProjectSettingsLayout({params, organization, children, ...props}: Props) {
+  const {orgId, projectId} = params;
+
+  return (
+    <ProjectContext skipReload orgId={orgId} projectId={projectId}>
+      <SettingsLayout
+        params={params}
+        {...props}
+        renderNavigation={() => <ProjectSettingsNavigation organization={organization} />}
+      >
+        {children && React.isValidElement(children)
+          ? React.cloneElement(children, {
+              organization,
+            })
+          : children}
+      </SettingsLayout>
+    </ProjectContext>
+  );
+}
+
+export default withOrganization(ProjectSettingsLayout);
diff --git a/src/sentry/static/sentry/app/views/settings/project/projectSettingsNavigation.tsx b/src/sentry/static/sentry/app/views/settings/project/projectSettingsNavigation.tsx
index 372f4e9e15..85b4f0ad26 100644
--- a/src/sentry/static/sentry/app/views/settings/project/projectSettingsNavigation.tsx
+++ b/src/sentry/static/sentry/app/views/settings/project/projectSettingsNavigation.tsx
@@ -2,7 +2,6 @@ import React from 'react';
 
 import SettingsNavigation from 'app/views/settings/components/settingsNavigation';
 import getConfiguration from 'app/views/settings/project/navigationConfiguration';
-import withOrganization from 'app/utils/withOrganization';
 import withProject from 'app/utils/withProject';
 import {Organization, Project} from 'app/types';
 
@@ -21,4 +20,4 @@ const ProjectSettingsNavigation = ({organization, project}: Props) => (
   />
 );
 
-export default withProject(withOrganization(ProjectSettingsNavigation));
+export default withProject(ProjectSettingsNavigation);
