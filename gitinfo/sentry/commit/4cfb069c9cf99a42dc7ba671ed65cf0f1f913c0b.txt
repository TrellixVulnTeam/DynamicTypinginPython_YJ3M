commit 4cfb069c9cf99a42dc7ba671ed65cf0f1f913c0b
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Nov 29 18:04:52 2010 -0800

    Handle empty chart data gracefully

diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index 6474e1c18a..3dfbdefc36 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -61,6 +61,9 @@ def chart_data(group, max_days=90):
                       .annotate(num=Count('id')).values_list('grouper', 'num')\
                       .order_by('grouper'))
 
+    if not chart_qs:
+        return {}
+
     min_date = chart_qs[0][0]
     if min_date and min_date < datetime.datetime.now() - datetime.timedelta(days=1):
         stop_hours = (datetime.datetime.now() - min_date).days * 24
