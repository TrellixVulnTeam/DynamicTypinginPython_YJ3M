commit 7b7a4e888834db09bec724116ebfc5126a873815
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Nov 13 11:08:32 2015 -0800

    Remove use of transaction

diff --git a/src/sentry/migrations/0213_migrate_file_blobs.py b/src/sentry/migrations/0213_migrate_file_blobs.py
index 1c10c1f74c..7c349e9155 100644
--- a/src/sentry/migrations/0213_migrate_file_blobs.py
+++ b/src/sentry/migrations/0213_migrate_file_blobs.py
@@ -18,16 +18,17 @@ class Migration(DataMigration):
             if not file.storage:
                 continue
 
-            blob, created = FileBlob.objects.get_or_create(
-                checksum=file.checksum,
-                defaults={
-                    'storage': file.storage,
-                    'storage_options': file.storage_options,
-                    'path': file.path,
-                    'size': file.size,
-                    'timestamp': file.timestamp,
-                },
-            )
+            try:
+                blob = FileBlob.objects.get(checksum=file.checksum)
+            except FileBlob.DoesNotExist:
+                blob = FileBlob.objects.create(
+                    checksum=file.checksum,
+                    storage=file.storage,
+                    storage_options=file.storage_options,
+                    path=file.path,
+                    size=file.size,
+                    timestamp=file.timestamp,
+                )
 
             File.objects.filter(
                 id=file.id,
