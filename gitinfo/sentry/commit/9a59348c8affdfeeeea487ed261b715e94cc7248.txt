commit 9a59348c8affdfeeeea487ed261b715e94cc7248
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Fri Feb 14 16:08:38 2020 -0800

    ref(ui): Minor improvements to context picker modal (#17071)
    
    - Ensure the modal closes before pushing to the router. We do this by
       pushing the router.push call to the end of the callback queue,
       ensuring closeModal happens first.
    
     - Some minor typescript types

diff --git a/src/sentry/static/sentry/app/actionCreators/navigation.tsx b/src/sentry/static/sentry/app/actionCreators/navigation.tsx
index 160fdcc32d..374f469d94 100644
--- a/src/sentry/static/sentry/app/actionCreators/navigation.tsx
+++ b/src/sentry/static/sentry/app/actionCreators/navigation.tsx
@@ -24,7 +24,7 @@ export function navigateTo(to: string, router: InjectedRouter) {
           comingFromProjectId={comingFromProjectId}
           onFinish={path => {
             closeModal();
-            router.push(path);
+            setTimeout(() => router.push(path), 0);
           }}
         />
       ),
diff --git a/src/sentry/static/sentry/app/components/contextPickerModal.tsx b/src/sentry/static/sentry/app/components/contextPickerModal.tsx
index 49574c8dee..5992a51833 100644
--- a/src/sentry/static/sentry/app/components/contextPickerModal.tsx
+++ b/src/sentry/static/sentry/app/components/contextPickerModal.tsx
@@ -90,7 +90,7 @@ class ContextPickerModal extends React.Component<Props> {
     }
   }
 
-  componentDidUpdate(prevProps) {
+  componentDidUpdate(prevProps: Props) {
     // Component may be mounted before projects is fetched, check if we can finish when
     // component is updated with projects
     if (prevProps.projects !== this.props.projects) {
@@ -296,7 +296,7 @@ const ContextPickerModalContainer = createReactClass<ContainerProps, ContainerSt
     };
   },
 
-  handleSelectOrganization(organizationSlug) {
+  handleSelectOrganization(organizationSlug: string) {
     this.setState({selectedOrganization: organizationSlug});
   },
 
