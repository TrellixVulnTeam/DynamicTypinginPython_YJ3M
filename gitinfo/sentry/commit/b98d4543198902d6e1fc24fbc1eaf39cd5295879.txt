commit b98d4543198902d6e1fc24fbc1eaf39cd5295879
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Feb 27 14:26:23 2012 -0800

    Ensure Stacktrae.get_hash only requires filename and lineno

diff --git a/sentry/interfaces.py b/sentry/interfaces.py
index 631c6e242d..c0afe44292 100644
--- a/sentry/interfaces.py
+++ b/sentry/interfaces.py
@@ -185,8 +185,15 @@ class Stacktrace(Interface):
     def get_hash(self):
         output = []
         for frame in self.frames:
-            output.append(frame['module'])
-            output.append(frame['function'])
+            if 'module' in frame:
+                output.append(frame['module'])
+            else:
+                output.append(frame['filename'])
+
+            if 'function' in frame:
+                output.append(frame['function'])
+            else:
+                output.append(frame['lineno'])
         return output
 
     def to_html(self, event):
