commit 1d3ace62729e46632d329ed12a1bad80392feebd
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Tue Dec 18 16:29:59 2018 -0800

    ref(releases): Reorder and codesplit release detail pages (#11083)
    
    - Move release files to same folder
    - Move tests to folder structure that mirrors source
    - Codesplit all project release detail pages
    - Move PullRequestLink to components since this isn't part of releases

diff --git a/src/sentry/static/sentry/app/components/activity/item.jsx b/src/sentry/static/sentry/app/components/activity/item.jsx
index 4b82e204cb..01a577eed1 100644
--- a/src/sentry/static/sentry/app/components/activity/item.jsx
+++ b/src/sentry/static/sentry/app/components/activity/item.jsx
@@ -3,7 +3,7 @@ import React from 'react';
 import {Link} from 'react-router';
 import marked from 'marked';
 
-import PullRequestLink from 'app/views/releases/pullRequestLink';
+import PullRequestLink from 'app/components/pullRequestLink';
 
 import CommitLink from 'app/components/commitLink';
 import Duration from 'app/components/duration';
diff --git a/src/sentry/static/sentry/app/views/releases/pullRequestLink.jsx b/src/sentry/static/sentry/app/components/pullRequestLink.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/pullRequestLink.jsx
rename to src/sentry/static/sentry/app/components/pullRequestLink.jsx
diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index 307852e30e..13e0110cc2 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -180,8 +180,9 @@ export default {
     Pagination: require('app/components/pagination').default,
     PluginConfig: require('app/components/pluginConfig').default,
     ProjectSelector: require('app/components/projectHeader/projectSelector').default,
-    ReleaseLanding: require('app/views/releases/projectReleases/releaseLanding').default,
-    ReleaseProgress: require('app/views/releases/projectReleases/releaseProgress')
+    ReleaseLanding: require('app/views/releases/list/projectReleases/releaseLanding')
+      .default,
+    ReleaseProgress: require('app/views/releases/list/projectReleases/releaseProgress')
       .default,
     CreateSampleEvent: require('app/components/createSampleEvent').default,
     InstallPromptBanner: require('app/components/installPromptBanner').default,
diff --git a/src/sentry/static/sentry/app/routes.jsx b/src/sentry/static/sentry/app/routes.jsx
index 833ef7e578..b3f6c7cfad 100644
--- a/src/sentry/static/sentry/app/routes.jsx
+++ b/src/sentry/static/sentry/app/routes.jsx
@@ -43,12 +43,6 @@ import ProjectSavedSearches from 'app/views/projectSavedSearches';
 import ProjectSettings from 'app/views/projectSettings';
 import ProjectPlugins from 'app/views/projectPlugins';
 import ProjectPluginDetails from 'app/views/projectPluginDetails';
-import ReleaseAllEvents from 'app/views/releaseAllEvents';
-import ReleaseArtifacts from 'app/views/releaseArtifacts';
-import ReleaseCommits from 'app/views/releases/releaseCommits';
-import ReleaseDetails from 'app/views/releaseDetails';
-import ReleaseNewEvents from 'app/views/releaseNewEvents';
-import ReleaseOverview from 'app/views/releases/releaseOverview';
 import RouteNotFound from 'app/views/routeNotFound';
 import SettingsProjectProvider from 'app/views/settings/components/settingsProjectProvider';
 import SettingsWrapper from 'app/views/settings/components/settingsWrapper';
@@ -791,7 +785,7 @@ function routes() {
           <Route
             path="/organizations/:orgId/releases/"
             componentPromise={() =>
-              import(/*webpackChunkName: "OrganizationReleases"*/ './views/releases/organizationReleases')}
+              import(/*webpackChunkName: "OrganizationReleases"*/ './views/releases/list/organizationReleases')}
             component={errorHandler(LazyLoad)}
           />
 
@@ -876,19 +870,46 @@ function routes() {
           <Route
             path="releases/"
             componentPromise={() =>
-              import(/*webpackChunkName:"ProjectReleases"*/ './views/releases/projectReleases')}
+              import(/*webpackChunkName:"ProjectReleases"*/ './views/releases/list/projectReleases')}
             component={errorHandler(LazyLoad)}
           />
           <Route
-            name="releaseDetails"
             path="releases/:version/"
-            component={errorHandler(ReleaseDetails)}
+            componentPromise={() =>
+              import(/*webpackChunkName:"ReleaseDetails"*/ './views/releases/detail/releaseDetails')}
+            component={errorHandler(LazyLoad)}
           >
-            <IndexRoute component={errorHandler(ReleaseOverview)} />
-            <Route path="new-events/" component={errorHandler(ReleaseNewEvents)} />
-            <Route path="all-events/" component={errorHandler(ReleaseAllEvents)} />
-            <Route path="artifacts/" component={errorHandler(ReleaseArtifacts)} />
-            <Route path="commits/" component={errorHandler(ReleaseCommits)} />
+            <IndexRoute
+              componentPromise={() =>
+                import(/*webpackChunkName:"ReleaseOverview"*/ './views/releases/detail/releaseOverview')}
+              component={errorHandler(LazyLoad)}
+            />
+
+            <Route
+              path="new-events/"
+              componentPromise={() =>
+                import(/*webpackChunkName:"ReleaseNewEvents"*/ './views/releases/detail/releaseNewEvents')}
+              component={errorHandler(LazyLoad)}
+            />
+
+            <Route
+              path="all-events/"
+              componentPromise={() =>
+                import(/*webpackChunkName:"ReleaseAllEvents"*/ './views/releases/detail/releaseAllEvents')}
+              component={errorHandler(LazyLoad)}
+            />
+            <Route
+              path="artifacts/"
+              componentPromise={() =>
+                import(/*webpackChunkName:"ReleaseArtifacts"*/ './views/releases/detail/releaseArtifacts')}
+              component={errorHandler(LazyLoad)}
+            />
+            <Route
+              path="commits/"
+              componentPromise={() =>
+                import(/*webpackChunkName:"ReleaseCommits"*/ './views/releases/detail/releaseCommits')}
+              component={errorHandler(LazyLoad)}
+            />
           </Route>
           <Route
             path="user-feedback/"
diff --git a/src/sentry/static/sentry/app/views/groupActivity/index.jsx b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
index 1a3fb416f0..ed28ac4885 100644
--- a/src/sentry/static/sentry/app/views/groupActivity/index.jsx
+++ b/src/sentry/static/sentry/app/views/groupActivity/index.jsx
@@ -19,7 +19,7 @@ import GroupStore from 'app/stores/groupStore';
 import MemberListStore from 'app/stores/memberListStore';
 import NoteContainer from 'app/components/activity/noteContainer';
 import NoteInput from 'app/components/activity/noteInput';
-import PullRequestLink from 'app/views/releases/pullRequestLink';
+import PullRequestLink from 'app/components/pullRequestLink';
 import TeamStore from 'app/stores/teamStore';
 import TimeSince from 'app/components/timeSince';
 import Version from 'app/components/version';
diff --git a/src/sentry/static/sentry/app/views/releaseAllEvents.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseAllEvents.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releaseAllEvents.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseAllEvents.jsx
diff --git a/src/sentry/static/sentry/app/views/releaseArtifacts.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseArtifacts.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releaseArtifacts.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseArtifacts.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/releaseCommits.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseCommits.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/releaseCommits.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseCommits.jsx
diff --git a/src/sentry/static/sentry/app/views/releaseDetails.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseDetails.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releaseDetails.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseDetails.jsx
diff --git a/src/sentry/static/sentry/app/views/releaseNewEvents.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseNewEvents.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releaseNewEvents.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseNewEvents.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/releaseOverview.jsx b/src/sentry/static/sentry/app/views/releases/detail/releaseOverview.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/releaseOverview.jsx
rename to src/sentry/static/sentry/app/views/releases/detail/releaseOverview.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/organizationReleases/index.jsx b/src/sentry/static/sentry/app/views/releases/list/organizationReleases/index.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/organizationReleases/index.jsx
rename to src/sentry/static/sentry/app/views/releases/list/organizationReleases/index.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/index.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/index.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/index.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/progressBar.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/progressBar.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/progressBar.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/progressBar.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/releaseEmptyState.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseEmptyState.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/releaseEmptyState.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseEmptyState.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/releaseLanding.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseLanding.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/releaseLanding.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseLanding.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/releaseLandingCard.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseLandingCard.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/releaseLandingCard.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseLandingCard.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/projectReleases/releaseProgress.jsx b/src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseProgress.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/projectReleases/releaseProgress.jsx
rename to src/sentry/static/sentry/app/views/releases/list/projectReleases/releaseProgress.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/shared/releaseList.jsx b/src/sentry/static/sentry/app/views/releases/list/shared/releaseList.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/shared/releaseList.jsx
rename to src/sentry/static/sentry/app/views/releases/list/shared/releaseList.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/shared/releaseListHeader.jsx b/src/sentry/static/sentry/app/views/releases/list/shared/releaseListHeader.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/shared/releaseListHeader.jsx
rename to src/sentry/static/sentry/app/views/releases/list/shared/releaseListHeader.jsx
diff --git a/src/sentry/static/sentry/app/views/releases/shared/utils.jsx b/src/sentry/static/sentry/app/views/releases/list/shared/utils.jsx
similarity index 100%
rename from src/sentry/static/sentry/app/views/releases/shared/utils.jsx
rename to src/sentry/static/sentry/app/views/releases/list/shared/utils.jsx
diff --git a/tests/js/spec/views/releases/pullRequestLink.spec.jsx b/tests/js/spec/components/pullRequestLink.spec.jsx
similarity index 97%
rename from tests/js/spec/views/releases/pullRequestLink.spec.jsx
rename to tests/js/spec/components/pullRequestLink.spec.jsx
index 6dddc0ea68..181b519fd9 100644
--- a/tests/js/spec/views/releases/pullRequestLink.spec.jsx
+++ b/tests/js/spec/components/pullRequestLink.spec.jsx
@@ -1,7 +1,7 @@
 import React from 'react';
 import {mount} from 'enzyme';
 
-import PullRequestLink from 'app/views/releases/pullRequestLink';
+import PullRequestLink from 'app/components/pullRequestLink';
 
 describe('PullRequestLink', function() {
   it('renders no url on missing externalUrl', function() {
diff --git a/tests/js/spec/views/releaseArtifacts.spec.jsx b/tests/js/spec/views/releases/detail/releaseArtifacts.spec.jsx
similarity index 98%
rename from tests/js/spec/views/releaseArtifacts.spec.jsx
rename to tests/js/spec/views/releases/detail/releaseArtifacts.spec.jsx
index 343f8627fb..c92d3e52c9 100644
--- a/tests/js/spec/views/releaseArtifacts.spec.jsx
+++ b/tests/js/spec/views/releases/detail/releaseArtifacts.spec.jsx
@@ -2,7 +2,7 @@ import React from 'react';
 import {shallow} from 'enzyme';
 
 import {Client} from 'app/api';
-import ReleaseArtifacts from 'app/views/releaseArtifacts';
+import ReleaseArtifacts from 'app/views/releases/detail/releaseArtifacts';
 
 describe('ReleaseArtifacts', function() {
   let sandbox;
diff --git a/tests/js/spec/views/releaseDetails.spec.jsx b/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
similarity index 95%
rename from tests/js/spec/views/releaseDetails.spec.jsx
rename to tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
index fd9fc4e266..aee447aa87 100644
--- a/tests/js/spec/views/releaseDetails.spec.jsx
+++ b/tests/js/spec/views/releases/detail/releaseDetails.spec.jsx
@@ -1,7 +1,7 @@
 import React from 'react';
 import {mount} from 'enzyme';
 
-import ReleaseDetails from 'app/views/releaseDetails';
+import ReleaseDetails from 'app/views/releases/detail/releaseDetails';
 
 describe('ReleaseDetails', function() {
   let deleteMock;
diff --git a/tests/js/spec/views/projectReleases.spec.jsx b/tests/js/spec/views/releases/list/projectReleases.spec.jsx
similarity index 94%
rename from tests/js/spec/views/projectReleases.spec.jsx
rename to tests/js/spec/views/releases/list/projectReleases.spec.jsx
index 8905c3c668..a1a9653a6c 100644
--- a/tests/js/spec/views/projectReleases.spec.jsx
+++ b/tests/js/spec/views/releases/list/projectReleases.spec.jsx
@@ -3,11 +3,11 @@ import {shallow} from 'enzyme';
 import {browserHistory} from 'react-router';
 
 import {Client} from 'app/api';
-import {ProjectReleases} from 'app/views/releases/projectReleases';
+import {ProjectReleases} from 'app/views/releases/list/projectReleases';
 import SearchBar from 'app/views/stream/searchBar';
 import Pagination from 'app/components/pagination';
 
-import stubReactComponents from '../../helpers/stubReactComponent';
+import stubReactComponents from '../../../../helpers/stubReactComponent';
 
 describe('ProjectReleases', function() {
   let sandbox;
diff --git a/tests/js/spec/views/projectReleasesLanding.spec.jsx b/tests/js/spec/views/releases/list/projectReleasesLanding.spec.jsx
similarity index 93%
rename from tests/js/spec/views/projectReleasesLanding.spec.jsx
rename to tests/js/spec/views/releases/list/projectReleasesLanding.spec.jsx
index 1eb0125599..4918712518 100644
--- a/tests/js/spec/views/projectReleasesLanding.spec.jsx
+++ b/tests/js/spec/views/releases/list/projectReleasesLanding.spec.jsx
@@ -1,7 +1,7 @@
 import React from 'react';
 import {mount} from 'enzyme';
 
-import ReleaseLanding from 'app/views/releases/projectReleases/releaseLanding';
+import ReleaseLanding from 'app/views/releases/list/projectReleases/releaseLanding';
 
 describe('ProjectReleasesLanding', function() {
   describe('renders and progresses', function() {
diff --git a/tests/js/spec/views/projectReleasesProgress.spec.jsx b/tests/js/spec/views/releases/list/projectReleasesProgress.spec.jsx
similarity index 97%
rename from tests/js/spec/views/projectReleasesProgress.spec.jsx
rename to tests/js/spec/views/releases/list/projectReleasesProgress.spec.jsx
index 3b874e45af..17504331d0 100644
--- a/tests/js/spec/views/projectReleasesProgress.spec.jsx
+++ b/tests/js/spec/views/releases/list/projectReleasesProgress.spec.jsx
@@ -2,7 +2,7 @@ import React from 'react';
 import {Client} from 'app/api';
 import {mount} from 'enzyme';
 
-import ReleaseProgress from 'app/views/releases/projectReleases/releaseProgress';
+import ReleaseProgress from 'app/views/releases/list/projectReleases/releaseProgress';
 
 describe('ReleaseProgress', function() {
   let wrapper, organization, project, getPromptsMock, putMock, routerContext;
diff --git a/tests/js/spec/views/projectReleaseTracking.spec.jsx b/tests/js/spec/views/settings/projectReleaseTracking.spec.jsx
similarity index 100%
rename from tests/js/spec/views/projectReleaseTracking.spec.jsx
rename to tests/js/spec/views/settings/projectReleaseTracking.spec.jsx
