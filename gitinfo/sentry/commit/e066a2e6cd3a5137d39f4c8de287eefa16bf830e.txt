commit e066a2e6cd3a5137d39f4c8de287eefa16bf830e
Author: David Cramer <dcramer@gmail.com>
Date:   Thu Apr 30 08:15:45 2015 -0700

    Handle organization list as ApiKey

diff --git a/src/sentry/api/endpoints/organization_index.py b/src/sentry/api/endpoints/organization_index.py
index 0e772bc916..ae88a46def 100644
--- a/src/sentry/api/endpoints/organization_index.py
+++ b/src/sentry/api/endpoints/organization_index.py
@@ -28,7 +28,10 @@ class OrganizationIndexEndpoint(Endpoint):
 
         """
         if request.auth:
-            organizations = [request.auth.project.organization]
+            if hasattr(request.auth, 'project'):
+                organizations = [request.auth.project.organization]
+            else:
+                organizations = [request.auth.organization]
         else:
             organizations = Organization.objects.get_for_user(
                 user=request.user,
