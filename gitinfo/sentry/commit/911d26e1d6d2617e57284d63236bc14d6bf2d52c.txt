commit 911d26e1d6d2617e57284d63236bc14d6bf2d52c
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 27 12:42:31 2015 -0800

    Add version arg to plugins.first

diff --git a/src/sentry/plugins/base/manager.py b/src/sentry/plugins/base/manager.py
index 7dd2eb4be4..1eca4a9ac7 100644
--- a/src/sentry/plugins/base/manager.py
+++ b/src/sentry/plugins/base/manager.py
@@ -49,7 +49,8 @@ class PluginManager(InstanceManager):
         raise KeyError(slug)
 
     def first(self, func_name, *args, **kwargs):
-        for plugin in self.all():
+        version = kwargs.pop('version', 1)
+        for plugin in self.all(version=version):
             try:
                 result = getattr(plugin, func_name)(*args, **kwargs)
             except Exception as e:
