commit d7fe22f22a603dcb30bfccbf42778ad833bffdc9
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Thu Jul 7 02:23:37 2016 +0500

    user.id -> user_id for 2fa otp

diff --git a/src/sentry/models/authenticator.py b/src/sentry/models/authenticator.py
index e6965f7707..b6a43a3e24 100644
--- a/src/sentry/models/authenticator.py
+++ b/src/sentry/models/authenticator.py
@@ -344,7 +344,7 @@ class OtpMixin(object):
     def _get_otp_counter_cache_key(self, counter):
         if self.authenticator is not None:
             return 'used-otp-counters:%s:%s' % (
-                self.authenticator.user.id,
+                self.authenticator.user_id,
                 counter,
             )
 
