commit 7fd622c0ad00b6d6414be1d0710c6455a5679026
Author: Mark Story <mark@sentry.io>
Date:   Thu Jul 9 09:47:39 2020 -0400

    ref(ui) Replace icon-search with SVG icons (#19749)
    
    Retain a class name on the icon, as some instances need
    to style the icon.

diff --git a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/index.tsx b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/index.tsx
index 3e8c8741dc..a60f06e085 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/index.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/breadcrumbsV2/index.tsx
@@ -466,7 +466,7 @@ const StyledSearchBar = styled(SearchBar)`
     border-bottom-left-radius: 0;
   }
   .search-clear-form,
-  .icon-search {
+  .search-input-icon {
     top: 0 !important;
     height: 32px;
     display: flex;
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/debugMeta/index.tsx b/src/sentry/static/sentry/app/components/events/interfaces/debugMeta/index.tsx
index add8cc1cdb..c8709e6f8f 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/debugMeta/index.tsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/debugMeta/index.tsx
@@ -317,7 +317,7 @@ const StyledSearchBar = styled(SearchBar)`
   .search-clear-form {
     top: 5px !important;
   }
-  .icon-search {
+  .search-input-icon {
     top: 8px;
   }
 `;
diff --git a/src/sentry/static/sentry/app/components/platformPicker.jsx b/src/sentry/static/sentry/app/components/platformPicker.jsx
index 749aac5942..3f34e97406 100644
--- a/src/sentry/static/sentry/app/components/platformPicker.jsx
+++ b/src/sentry/static/sentry/app/components/platformPicker.jsx
@@ -10,14 +10,13 @@ import {t, tct} from 'app/locale';
 import Button from 'app/components/button';
 import EmptyMessage from 'app/views/settings/components/emptyMessage';
 import ExternalLink from 'app/components/links/externalLink';
-import InlineSvg from 'app/components/inlineSvg';
 import ListLink from 'app/components/links/listLink';
 import NavTabs from 'app/components/navTabs';
 import PlatformIconTile from 'app/components/platformIconTile';
 import categoryList from 'app/data/platformCategories';
 import platforms from 'app/data/platforms';
 import space from 'app/styles/space';
-import {IconClose, IconProject} from 'app/icons';
+import {IconClose, IconSearch, IconProject} from 'app/icons';
 
 const PLATFORM_CATEGORIES = categoryList.concat({id: 'all', name: t('All')});
 
@@ -97,7 +96,7 @@ class PlatformPicker extends React.Component {
             ))}
           </CategoryNav>
           <SearchBar>
-            <InlineSvg src="icon-search" />
+            <IconSearch size="xs" />
             <input
               type="text"
               ref={this.searchInput}
diff --git a/src/sentry/static/sentry/app/components/resultGrid.jsx b/src/sentry/static/sentry/app/components/resultGrid.jsx
index c226f49847..1345759a8f 100644
--- a/src/sentry/static/sentry/app/components/resultGrid.jsx
+++ b/src/sentry/static/sentry/app/components/resultGrid.jsx
@@ -8,6 +8,7 @@ import withApi from 'app/utils/withApi';
 import DropdownLink from 'app/components/dropdownLink';
 import MenuItem from 'app/components/menuItem';
 import Pagination from 'app/components/pagination';
+import {IconSearch} from 'app/icons';
 
 class Filter extends React.Component {
   static propTypes = {
@@ -324,7 +325,7 @@ const ResultGrid = createReactClass({
                     onChange={this.onQueryChange}
                   />
                   <button type="submit" className="btn btn-sm btn-primary">
-                    <span className="icon-search" />
+                    <IconSearch size="xs" />
                   </button>
                 </div>
               </form>
diff --git a/src/sentry/static/sentry/app/components/searchBar.tsx b/src/sentry/static/sentry/app/components/searchBar.tsx
index 8d1fbdb6a0..7c5e97e8c4 100644
--- a/src/sentry/static/sentry/app/components/searchBar.tsx
+++ b/src/sentry/static/sentry/app/components/searchBar.tsx
@@ -3,6 +3,7 @@ import styled from '@emotion/styled';
 import classNames from 'classnames';
 
 import {callIfFunction} from 'app/utils/callIfFunction';
+import {IconSearch} from 'app/icons';
 
 type DefaultProps = {
   query: string;
@@ -99,7 +100,7 @@ class SearchBar extends React.PureComponent<Props, State> {
               onChange={this.onQueryChange}
               width={width}
             />
-            <span className="icon-search" />
+            <StyledIconSearch className="search-input-icon" size="sm" color="gray500" />
             {this.state.query !== this.props.defaultQuery && (
               <div>
                 <a className="search-clear-form" onClick={this.clearSearch}>
@@ -118,4 +119,10 @@ const Input = styled('input')`
   width: ${p => (p.width ? p.width : undefined)};
 `;
 
+const StyledIconSearch = styled(IconSearch)`
+  position: absolute;
+  top: 13px;
+  left: 14px;
+`;
+
 export default SearchBar;
diff --git a/src/sentry/static/sentry/app/views/settings/components/settingsSearch/index.tsx b/src/sentry/static/sentry/app/views/settings/components/settingsSearch/index.tsx
index a1f0a1467b..c7c8fe45c0 100644
--- a/src/sentry/static/sentry/app/views/settings/components/settingsSearch/index.tsx
+++ b/src/sentry/static/sentry/app/views/settings/components/settingsSearch/index.tsx
@@ -3,7 +3,7 @@ import keydown from 'react-keydown';
 import styled from '@emotion/styled';
 
 import {t} from 'app/locale';
-import InlineSvg from 'app/components/inlineSvg';
+import {IconSearch} from 'app/icons';
 import Search from 'app/components/search';
 
 const MIN_SEARCH_LENGTH = 1;
@@ -61,7 +61,7 @@ const SearchInputWrapper = styled('div')`
   position: relative;
 `;
 
-const SearchInputIcon = styled(props => <InlineSvg src="icon-search" {...props} />)`
+const SearchInputIcon = styled(IconSearch)`
   color: ${p => p.theme.gray500};
   position: absolute;
   left: 10px;
diff --git a/src/sentry/static/sentry/less/shared-components.less b/src/sentry/static/sentry/less/shared-components.less
index dbf2c319f0..67f27c1bae 100644
--- a/src/sentry/static/sentry/less/shared-components.less
+++ b/src/sentry/static/sentry/less/shared-components.less
@@ -643,14 +643,6 @@ table.table.key-value {
     position: relative;
   }
 
-  .icon-search {
-    color: lighten(@gray, 15);
-    position: absolute;
-    top: 12px;
-    left: 14px;
-    font-size: 14px;
-  }
-
   .search-input {
     // Match the height of buttons adjacent to the search input.
     height: 40px;
@@ -674,10 +666,6 @@ table.table.key-value {
       box-shadow: none;
     }
 
-    .icon-search {
-      color: @gray-light;
-    }
-
     &:after {
       display: block;
       content: '';
diff --git a/tests/js/spec/views/projectInstall/__snapshots__/createProject.spec.jsx.snap b/tests/js/spec/views/projectInstall/__snapshots__/createProject.spec.jsx.snap
index f11d5a6205..6ee53cf4e9 100644
--- a/tests/js/spec/views/projectInstall/__snapshots__/createProject.spec.jsx.snap
+++ b/tests/js/spec/views/projectInstall/__snapshots__/createProject.spec.jsx.snap
@@ -345,26 +345,27 @@ exports[`CreateProject should deal with incorrect platform name if its provided
             <div
               className="css-1wzdmtr-SearchBar exv4dm81"
             >
-              <InlineSvg
-                src="icon-search"
+              <IconSearch
+                size="xs"
               >
-                <ForwardRef
-                  className="css-tbsmsq-InlineSvg enyz4ql0"
-                  src="icon-search"
+                <ForwardRef(SvgIcon)
+                  size="xs"
                 >
                   <svg
-                    className="css-tbsmsq-InlineSvg enyz4ql0"
-                    height="1em"
-                    viewBox={Object {}}
-                    width="1em"
+                    fill="currentColor"
+                    height="12px"
+                    viewBox="0 0 16 16"
+                    width="12px"
                   >
-                    <use
-                      href="#test"
-                      xlinkHref="#test"
+                    <path
+                      d="M6,12A6,6,0,1,1,12,6,6,6,0,0,1,6,12ZM6,1.54A4.46,4.46,0,1,0,10.45,6,4.46,4.46,0,0,0,6,1.54Z"
+                    />
+                    <path
+                      d="M15.2,16a.74.74,0,0,1-.53-.22L9.14,10.2A.75.75,0,0,1,10.2,9.14l5.53,5.53a.75.75,0,0,1,0,1.06A.74.74,0,0,1,15.2,16Z"
                     />
                   </svg>
-                </ForwardRef>
-              </InlineSvg>
+                </ForwardRef(SvgIcon)>
+              </IconSearch>
               <input
                 label="Filter Platforms"
                 onChange={[Function]}
@@ -1990,26 +1991,27 @@ exports[`CreateProject should fill in platform name if its provided by url 1`] =
             <div
               className="css-1wzdmtr-SearchBar exv4dm81"
             >
-              <InlineSvg
-                src="icon-search"
+              <IconSearch
+                size="xs"
               >
-                <ForwardRef
-                  className="css-tbsmsq-InlineSvg enyz4ql0"
-                  src="icon-search"
+                <ForwardRef(SvgIcon)
+                  size="xs"
                 >
                   <svg
-                    className="css-tbsmsq-InlineSvg enyz4ql0"
-                    height="1em"
-                    viewBox={Object {}}
-                    width="1em"
+                    fill="currentColor"
+                    height="12px"
+                    viewBox="0 0 16 16"
+                    width="12px"
                   >
-                    <use
-                      href="#test"
-                      xlinkHref="#test"
+                    <path
+                      d="M6,12A6,6,0,1,1,12,6,6,6,0,0,1,6,12ZM6,1.54A4.46,4.46,0,1,0,10.45,6,4.46,4.46,0,0,0,6,1.54Z"
+                    />
+                    <path
+                      d="M15.2,16a.74.74,0,0,1-.53-.22L9.14,10.2A.75.75,0,0,1,10.2,9.14l5.53,5.53a.75.75,0,0,1,0,1.06A.74.74,0,0,1,15.2,16Z"
                     />
                   </svg>
-                </ForwardRef>
-              </InlineSvg>
+                </ForwardRef(SvgIcon)>
+              </IconSearch>
               <input
                 label="Filter Platforms"
                 onChange={[Function]}
@@ -3046,26 +3048,27 @@ exports[`CreateProject should fill in project name if its empty when platform is
             <div
               className="css-1wzdmtr-SearchBar exv4dm81"
             >
-              <InlineSvg
-                src="icon-search"
+              <IconSearch
+                size="xs"
               >
-                <ForwardRef
-                  className="css-tbsmsq-InlineSvg enyz4ql0"
-                  src="icon-search"
+                <ForwardRef(SvgIcon)
+                  size="xs"
                 >
                   <svg
-                    className="css-tbsmsq-InlineSvg enyz4ql0"
-                    height="1em"
-                    viewBox={Object {}}
-                    width="1em"
+                    fill="currentColor"
+                    height="12px"
+                    viewBox="0 0 16 16"
+                    width="12px"
                   >
-                    <use
-                      href="#test"
-                      xlinkHref="#test"
+                    <path
+                      d="M6,12A6,6,0,1,1,12,6,6,6,0,0,1,6,12ZM6,1.54A4.46,4.46,0,1,0,10.45,6,4.46,4.46,0,0,0,6,1.54Z"
+                    />
+                    <path
+                      d="M15.2,16a.74.74,0,0,1-.53-.22L9.14,10.2A.75.75,0,0,1,10.2,9.14l5.53,5.53a.75.75,0,0,1,0,1.06A.74.74,0,0,1,15.2,16Z"
                     />
                   </svg>
-                </ForwardRef>
-              </InlineSvg>
+                </ForwardRef(SvgIcon)>
+              </IconSearch>
               <input
                 label="Filter Platforms"
                 onChange={[Function]}
