commit fefc10ecfdef7d12eee394b2c23b4a2a60ec2370
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Wed Apr 10 09:46:21 2019 -0700

    feat: Do not store datetime selection (#12702)
    
    Do not store a user's datetime selection in local storage. We should
    always apply the default when reloading the page if a datetime value is
    not passed via querystring.
    
    Closes SEN-456

diff --git a/src/sentry/static/sentry/app/stores/globalSelectionStore.jsx b/src/sentry/static/sentry/app/stores/globalSelectionStore.jsx
index bdbd4fb177..e8d9a7d25e 100644
--- a/src/sentry/static/sentry/app/stores/globalSelectionStore.jsx
+++ b/src/sentry/static/sentry/app/stores/globalSelectionStore.jsx
@@ -77,9 +77,13 @@ const GlobalSelectionStore = Reflux.createStore({
     } else {
       try {
         const localStorageKey = `${LOCAL_STORAGE_KEY}:${organization.slug}`;
-        const storedValue = JSON.parse(localStorage.getItem(localStorageKey));
+
+        const storedValue = localStorage.getItem(localStorageKey);
+
+        const defaultDateTime = getDefaultSelection().datetime;
+
         if (storedValue) {
-          globalSelection = storedValue;
+          globalSelection = {datetime: defaultDateTime, ...JSON.parse(storedValue)};
         }
       } catch (ex) {
         // use default if invalid
@@ -145,7 +149,11 @@ const GlobalSelectionStore = Reflux.createStore({
 
     try {
       const localStorageKey = `${LOCAL_STORAGE_KEY}:${this.organization.slug}`;
-      localStorage.setItem(localStorageKey, JSON.stringify(this.selection));
+      const dataToSave = {
+        projects: this.selection.projects,
+        environments: this.selection.environments,
+      };
+      localStorage.setItem(localStorageKey, JSON.stringify(dataToSave));
     } catch (ex) {
       // Do nothing
     }
