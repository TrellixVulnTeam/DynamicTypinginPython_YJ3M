commit 066b67bf62e9d6dadee7c7e82c70a9aec7e532fa
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Apr 6 17:41:52 2015 -0700

    Add ability to induce delay in API

diff --git a/src/sentry/api/base.py b/src/sentry/api/base.py
index ba63c02bfd..8e87bc505e 100644
--- a/src/sentry/api/base.py
+++ b/src/sentry/api/base.py
@@ -3,8 +3,10 @@ from __future__ import absolute_import
 __all__ = ['DocSection', 'Endpoint', 'StatsMixin']
 
 import logging
+import time
 
 from datetime import datetime, timedelta
+from django.conf import settings
 from django.utils.http import urlquote
 from django.views.decorators.csrf import csrf_exempt
 from enum import Enum
@@ -96,6 +98,9 @@ class Endpoint(APIView):
         self.request = request
         self.headers = self.default_response_headers  # deprecate?
 
+        if settings.SENTRY_API_RESPONSE_DELAY:
+            time.sleep(settings.SENTRY_API_RESPONSE_DELAY / 1000.0)
+
         try:
             self.initial(request, *args, **kwargs)
 
diff --git a/src/sentry/conf/server.py b/src/sentry/conf/server.py
index 02668aea9e..b5905ff482 100644
--- a/src/sentry/conf/server.py
+++ b/src/sentry/conf/server.py
@@ -765,6 +765,9 @@ SENTRY_OPTIONS = {}
 # unless you have altered all schemas first
 SENTRY_USE_BIG_INTS = False
 
+# Delay (in ms) to induce on API responses
+SENTRY_API_RESPONSE_DELAY = 0
+
 # Configure celery
 import djcelery
 djcelery.setup_loader()
