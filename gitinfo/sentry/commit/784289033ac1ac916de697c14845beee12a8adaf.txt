commit 784289033ac1ac916de697c14845beee12a8adaf
Author: David Cramer <dcramer@gmail.com>
Date:   Wed May 6 09:04:54 2015 +0800

    Handle team list on org key

diff --git a/src/sentry/api/endpoints/organization_teams.py b/src/sentry/api/endpoints/organization_teams.py
index 4eab1f5f7d..f10401763a 100644
--- a/src/sentry/api/endpoints/organization_teams.py
+++ b/src/sentry/api/endpoints/organization_teams.py
@@ -27,7 +27,7 @@ class OrganizationTeamsEndpoint(OrganizationEndpoint):
             {method} {path}
 
         """
-        if request.auth:
+        if request.auth and hasattr(request.auth, 'project'):
             teams = [request.auth.project.team]
             if teams[0].organization != organization:
                 return Response(status=403)
