commit d5af134529fce9d2c6d2abce8278ae4b61c380b4
Author: David Cramer <dcramer@gmail.com>
Date:   Sat Feb 18 03:05:12 2012 -0800

    Print full exception messages for plugin errors

diff --git a/sentry/processors/base.py b/sentry/processors/base.py
index 09ec924526..f7a11c4bc3 100644
--- a/sentry/processors/base.py
+++ b/sentry/processors/base.py
@@ -18,8 +18,8 @@ def send_group_processors(group, **kwargs):
     for inst in plugins.all():
         try:
             inst.post_process(group=group, **kwargs)
-        except:
+        except Exception, e:
             transaction.rollback_unless_managed(using=group._state.db)
             logger = logging.getLogger('sentry.plugins')
-            logger.exception('Error processing post_process() on %r', inst.__class__)
+            logger.exception('Error processing post_process() on %r: %s', inst.__class__, e)
 
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index fe9c97bfcc..dec27cde08 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -139,9 +139,9 @@ def get_actions(group, request):
     for inst in plugins.all():
         try:
             action_list = inst.actions(request, group, action_list)
-        except:
+        except Exception, e:
             logger = logging.getLogger('sentry.plugins')
-            logger.error('Error processing actions() on %r', inst.__class__, extra={
+            logger.error('Error processing actions() on %r: %s', inst.__class__, e, extra={
                 'request': request,
             }, exc_info=True)
 
@@ -155,9 +155,9 @@ def get_panels(group, request):
     for inst in plugins.all():
         try:
             panel_list = inst.panels(request, group, panel_list)
-        except:
+        except Exception, e:
             logger = logging.getLogger('sentry.plugins')
-            logger.error('Error processing panels() on %r', inst.__class__, extra={
+            logger.error('Error processing panels() on %r: %s', inst.__class__, e, extra={
                 'request': request,
             }, exc_info=True)
 
@@ -172,9 +172,9 @@ def get_widgets(group, request):
             resp = inst.widget(request, group)
             if resp:
                 resp = resp.render(request)
-        except:
+        except Exception, e:
             logger = logging.getLogger('sentry.plugins')
-            logger.error('Error processing widget() on %r', inst.__class__, extra={
+            logger.error('Error processing widget() on %r: %s', inst.__class__, e, extra={
                 'request': request,
             }, exc_info=True)
             continue
@@ -188,9 +188,9 @@ def get_tags(group, request):
     for inst in plugins.all():
         try:
             tag_list = inst.tags(request, group, tag_list)
-        except:
+        except Exception, e:
             logger = logging.getLogger('sentry.plugins')
-            logger.rror('Error processing tags() on %r', inst.__class__, extra={
+            logger.rror('Error processing tags() on %r: %s', inst.__class__, e, extra={
                 'request': request,
             }, exc_info=True)
 
@@ -205,9 +205,9 @@ def handle_before_events(request, event_list):
     for inst in plugins.all():
         try:
             inst.before_events(request, event_list)
-        except:
+        except Exception, e:
             logger = logging.getLogger('sentry.plugins')
-            logger.error('Error processing before_events() on %r', inst.__class__, extra={
+            logger.error('Error processing before_events() on %r: %s', inst.__class__, e, extra={
                 'request': request,
             }, exc_info=True)
     return ''
