commit e180219a55622f470e60f04ff400c9853c27b2af
Author: Jess MacQueen <jessmacqueen@gmail.com>
Date:   Thu Feb 1 11:32:51 2018 -0800

    test(projects): Add test for adding a new team to a project

diff --git a/tests/js/spec/views/projectTeamSettings.spec.jsx b/tests/js/spec/views/projectTeamSettings.spec.jsx
index bcbae71c4f..0b1c22e693 100644
--- a/tests/js/spec/views/projectTeamSettings.spec.jsx
+++ b/tests/js/spec/views/projectTeamSettings.spec.jsx
@@ -91,4 +91,45 @@ describe('ProjectTeamsSettings', function() {
       );
     });
   });
+
+  describe('ProjectTeams.handleAdd()', function() {
+    it('can add a team', function() {
+      let endpoint = `/projects/${org.slug}/${project.slug}/teams/${team2.slug}/`;
+      let mock = Client.addMockResponse({
+        url: endpoint,
+        method: 'POST',
+        statusCode: 200,
+      });
+
+      let wrapper = mount(
+        <ProjectTeams
+          params={{orgId: org.slug, projectId: project.slug}}
+          organization={org}
+        />,
+        {
+          context: {
+            router: TestStubs.router(),
+          },
+        }
+      );
+
+      expect(mock).not.toHaveBeenCalled();
+
+      // open dropdown
+      wrapper.find('DropdownLink').simulate('click');
+
+      // click a team
+      wrapper
+        .find('MenuItem')
+        .find('a')
+        .simulate('click');
+
+      expect(mock).toHaveBeenCalledWith(
+        endpoint,
+        expect.objectContaining({
+          method: 'POST',
+        })
+      );
+    });
+  });
 });
