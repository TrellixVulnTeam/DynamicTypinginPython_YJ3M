commit 333259fa741b7d98dd1ca4b949f2f29b9a129142
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Feb 12 16:54:52 2013 -0800

    Improve assertions in check_project_alerts test

diff --git a/tests/sentry/tasks/check_alerts/tests.py b/tests/sentry/tasks/check_alerts/tests.py
index 5105dcc61b..ae8b499fb4 100644
--- a/tests/sentry/tasks/check_alerts/tests.py
+++ b/tests/sentry/tasks/check_alerts/tests.py
@@ -1,6 +1,6 @@
 from datetime import timedelta
 from django.utils import timezone
-from sentry.models import ProjectCountByMinute
+from sentry.models import ProjectCountByMinute, Alert
 from sentry.tasks.check_alerts import check_project_alerts
 from sentry.testutils import TestCase
 from sentry.utils.dates import normalize_datetime
@@ -29,19 +29,17 @@ class CheckProjectAlertsTest(TestCase):
 
         # the 45 minute interval should be ignored and the
         # 30 minute interval should be normalized to the 15 minute interval
-        can_alert = check_project_alerts(
+        check_project_alerts(
             project_id=self.project.id,
-            name='total',
             when=now,
             count=20
         )
-        assert can_alert is False
+        assert not Alert.objects.filter(project=self.project).exists()
 
         self.create_counts(now, 73, 30)  # 15 minutes ago
-        can_alert = check_project_alerts(
+        check_project_alerts(
             project_id=self.project.id,
-            name='total',
             when=now,
             count=20
         )
-        assert can_alert is True
+        assert Alert.objects.filter(project=self.project).exists()
\ No newline at end of file
