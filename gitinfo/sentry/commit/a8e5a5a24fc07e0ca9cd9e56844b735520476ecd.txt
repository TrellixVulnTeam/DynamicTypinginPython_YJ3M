commit a8e5a5a24fc07e0ca9cd9e56844b735520476ecd
Author: Ben Vinegar <ben@benv.ca>
Date:   Fri May 20 17:36:25 2016 -0700

    Reload the current page (and redirect to /login) if XHR returns 401
    
    /cc @getsentry/ui

diff --git a/src/sentry/static/sentry/app/views/app.jsx b/src/sentry/static/sentry/app/views/app.jsx
index 161e24c8d7..2462d2c038 100644
--- a/src/sentry/static/sentry/app/views/app.jsx
+++ b/src/sentry/static/sentry/app/views/app.jsx
@@ -1,4 +1,6 @@
 import React from 'react';
+import $ from 'jquery';
+
 import ApiMixin from '../mixins/apiMixin';
 import Alerts from '../components/alerts';
 import AlertActions from '../actions/alertActions.jsx';
@@ -72,6 +74,16 @@ const App = React.createClass({
         type: msg.level
       });
     });
+
+    $(document).ajaxError(function (evt, jqXHR) {
+      if (jqXHR && jqXHR.status === 401) {
+        // User has become unauthenticated; reload URL, and let Django
+        // redirect to login page
+        // NOTE: This presumes that React application is ONLY for
+        //       authenticated users.
+        window.location.reload();
+      }
+    });
   },
 
   componentWillUnmount() {
