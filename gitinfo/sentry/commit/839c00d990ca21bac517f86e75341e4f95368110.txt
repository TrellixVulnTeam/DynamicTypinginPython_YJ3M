commit 839c00d990ca21bac517f86e75341e4f95368110
Author: ckj <chriskjennings@gmail.com>
Date:   Mon Mar 28 17:24:39 2016 -0700

    Improve activity design. Move to center column

diff --git a/src/sentry/static/sentry/app/components/activity/item.jsx b/src/sentry/static/sentry/app/components/activity/item.jsx
index 73ae2aa2be..ef54bf088c 100644
--- a/src/sentry/static/sentry/app/components/activity/item.jsx
+++ b/src/sentry/static/sentry/app/components/activity/item.jsx
@@ -55,16 +55,14 @@ const ActivityItem = React.createClass({
 
     switch(item.type) {
       case 'note':
-        return tct('[author] commented on [link:an issue] in [project]', {
+        return tct('[author] commented on [link:an issue]', {
           author: author,
-          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/activity/#event_${item.id}`} />,
-          project: <Link to={`/${orgId}/${project.slug}/`}>{project.name}</Link>
+          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/activity/#event_${item.id}`} />
         });
       case 'set_resolved':
-        return tct('[author] marked [link:an issue] as resolved in [project]', {
+        return tct('[author] marked [link:an issue] as resolved', {
           author: author,
-          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />,
-          project: <Link to={`/${orgId}/${project.slug}/`}>{project.name}</Link>
+          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
         });
       case 'set_resolved_in_release':
         if (data.version) {
@@ -79,10 +77,9 @@ const ActivityItem = React.createClass({
           link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
         });
       case 'set_unresolved':
-        return tct('[author] marked [link:an issue] as unresolved in [project]', {
+        return tct('[author] marked [link:an issue] as unresolved', {
           author: author,
-          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />,
-          project: <Link to={`/${orgId}/${project.slug}/`}>{project.name}</Link>
+          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
         });
       case 'set_muted':
         if (data.snoozeDuration) {
@@ -114,10 +111,9 @@ const ActivityItem = React.createClass({
             link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
           });
         }
-        return tct('[author] marked [link:an issue] as a regression in [project]', {
+        return tct('[author] marked [link:an issue] as a regression', {
           author: author,
-          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />,
-          project: <Link to={`/${orgId}/${project.slug}/`}>{project.name}</Link>
+          link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
         });
       case 'create_issue':
         return tct('[author] linked [link:an issue] on [provider]', {
@@ -170,9 +166,8 @@ const ActivityItem = React.createClass({
           link: <Link to={`/${orgId}/${project.slug}/issues/${issue.id}/`} />
         });
       case 'release':
-        return tct('[author] released version [version] to [project]', {
+        return tct('[author] released version [version]', {
           author: author,
-          project: <Link to={`/${orgId}/${project.slug}/`}>{project.name}</Link>,
           version: <Version version={data.version} orgId={orgId} projectId={project.slug} />
         });
       default:
@@ -182,6 +177,7 @@ const ActivityItem = React.createClass({
 
   render() {
     let item = this.props.item;
+    let orgId = this.props.orgId;
 
     let bubbleClassName = 'activity-item-bubble';
     if (this.state.clipped) {
@@ -209,8 +205,14 @@ const ActivityItem = React.createClass({
               </span>,
               item
             )}
-            <TimeSince date={item.dateCreated} />
             <div className={bubbleClassName} ref="activityBubble" dangerouslySetInnerHTML={{__html: noteBody}} />
+            <div className="activity-meta">
+              <Link
+                className="project"
+                to={`/${orgId}/${item.project.slug}/`}>{item.project.name}</Link>
+              <span className="bullet" />
+              <TimeSince date={item.dateCreated} />
+            </div>
           </div>
         </li>
       );
@@ -225,10 +227,16 @@ const ActivityItem = React.createClass({
               </span>,
               item
             )}
-            <TimeSince date={item.dateCreated} />
             <div className="activity-item-bubble">
               <a href={item.data.location}>{item.data.title}</a>
             </div>
+            <div className="activity-meta">
+              <Link
+                className="project"
+                to={`/${orgId}/${item.project.slug}/`}>{item.project.name}</Link>
+              <span className="bullet" />
+              <TimeSince date={item.dateCreated} />
+            </div>
           </div>
         </li>
       );
@@ -243,7 +251,13 @@ const ActivityItem = React.createClass({
               </span>,
               item
             )}
-            <TimeSince date={item.dateCreated} />
+            <div className="activity-meta">
+              <Link
+                className="project"
+                to={`/${orgId}/${item.project.slug}/`}>{item.project.name}</Link>
+              <span className="bullet" />
+              <TimeSince date={item.dateCreated} />
+            </div>
           </div>
         </li>
       );
diff --git a/src/sentry/static/sentry/app/views/organizationDashboard.jsx b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
index 4575e0c72a..6f25fc4df5 100644
--- a/src/sentry/static/sentry/app/views/organizationDashboard.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
@@ -41,7 +41,7 @@ const AssignedIssues = React.createClass({
         <div className="pull-right">
           <Link className="btn btn-sm btn-default" to={this.getViewMoreLink()}>{t('View more')}</Link>
         </div>
-        <h3>Assigned to me</h3>
+        <h4>Assigned to me</h4>
         <IssueList endpoint={this.getEndpoint()} query={{
           statsPeriod: this.props.statsPeriod,
           per_page: this.props.pageSize,
@@ -69,7 +69,7 @@ const NewIssues = React.createClass({
   render() {
     return (
       <div>
-        <h3>New</h3>
+        <h4>New issues</h4>
         <IssueList endpoint={this.getEndpoint()} query={{
           statsPeriod: this.props.statsPeriod,
           per_page: this.props.pageSize,
@@ -175,7 +175,7 @@ const Activity = React.createClass({
   render() {
     return (
       <div>
-        <h6 className="nav-header">Activity</h6>
+        <h4>Recent activity</h4>
         <ActivityFeed endpoint={this.getEndpoint()} query={{
           per_page: 10,
         }} pagination={false} {...this.props} />
@@ -233,10 +233,10 @@ const OrganizationDashboard = React.createClass({
           <div className="col-md-8">
             <AssignedIssues {...this.props} />
             <NewIssues {...this.props} />
+            <Activity {...this.props} />
           </div>
           <div className="col-md-4">
             <ProjectList {...this.props} teams={this.state.teams} />
-            <Activity {...this.props} />
           </div>
         </div>
       </OrganizationHomeContainer>
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index 2aaf754df3..63f6501480 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -657,84 +657,6 @@
         padding-right: 8px;
         background: @white;
       }
-
-      &.activity-item-compact {
-        font-size: 14px;
-
-        .avatar {
-          border-radius: 3px;
-          .square(30px);
-          position: absolute;
-          top: 2px;
-          left: 0;
-
-          &.sentry {
-            background: @white-darker;
-            font-size: 16px;
-            line-height: 1.2;
-            text-align: center;
-            line-height: 32px;
-          }
-        }
-
-        .activity-item-content {
-          display: block;
-          position: relative;
-          padding-left: 38px;
-          line-height: 1.25;
-          min-height: 30px;
-        }
-
-        time {
-          float: none;
-          padding-left: 0;
-          white-space: nowrap;
-        }
-
-        .activity-item-bubble {
-          margin: 5px 0 0 -38px;
-          padding: 6px 8px 4px;
-          border: 1px solid @trim;
-          border-radius: 3px;
-          box-shadow: 0 1px 1px rgba(0,0,0, .04);
-          position: relative;
-          overflow: hidden;
-
-          a {
-            max-width: 100%;
-            overflow-x: hidden;
-            text-overflow: ellipsis;
-          }
-
-          p {
-            &:last-child {
-              margin-bottom: 0;
-            }
-          }
-
-          &.clipped {
-            max-height: 68px;
-
-            &:after {
-              position: absolute;
-              content: "";
-              display: block;
-              bottom: 0;
-              right: 0;
-              left: 0;
-              height: 36px;
-              #gradient > .vertical(rgba(255, 255, 255, .15), rgba(255,255,255, 1));
-              border-bottom: 6px solid #fff;
-              border-radius: 0 0 3px 3px;
-              pointer-events: none;
-            }
-          }
-        }
-
-        &:before {
-          display: none;
-        }
-      }
     }
   }
 
diff --git a/src/sentry/static/sentry/less/organization.less b/src/sentry/static/sentry/less/organization.less
index f77acecd59..5473308cac 100644
--- a/src/sentry/static/sentry/less/organization.less
+++ b/src/sentry/static/sentry/less/organization.less
@@ -51,6 +51,111 @@
   }
 }
 
+.organization-home {
+  .activity {
+    margin: -10px 0 20px;
+
+    .activity-item {
+      margin: 0;
+      padding: 10px 0 10px 45px;
+      border-bottom: 1px solid lighten(@trim, 5);
+      line-height: 1.4;
+      font-size: 14px;
+
+      &:before {
+        display: none;
+      }
+
+      .activity-item-content {
+        display: block;
+      }
+
+      .activity-item-bubble {
+        background: @white-dark;
+        margin: 5px 0;
+        padding: 6px 8px;
+        border: 1px solid @trim;
+        border-radius: 3px;
+        box-shadow: 0 1px 1px rgba(0,0,0, .04);
+        position: relative;
+        overflow: hidden;
+
+        a {
+          max-width: 100%;
+          overflow-x: hidden;
+          text-overflow: ellipsis;
+        }
+
+        p {
+          &:last-child {
+            margin-bottom: 0;
+          }
+        }
+
+        &.clipped {
+          max-height: 68px;
+
+          &:after {
+            position: absolute;
+            content: "";
+            display: block;
+            bottom: 0;
+            right: 0;
+            left: 0;
+            height: 36px;
+            #gradient > .vertical(rgba(255, 255, 255, .15), rgba(255,255,255, 1));
+            border-bottom: 6px solid #fff;
+            border-radius: 0 0 3px 3px;
+            pointer-events: none;
+          }
+        }
+      }
+
+      .avatar {
+        position: absolute;
+        .square(36px);
+        left: 0;
+        top: 10px;
+
+        &.sentry {
+          top: 10px;
+          text-align: center;
+          background: @purple;
+          color: #fff;
+          line-height: 36px;
+          border-radius: 50%;
+        }
+      }
+
+      .activity-meta {
+        color: @gray;
+        font-size: 90%;
+
+        a {
+          color: @gray;
+          &:hover {
+            color: @gray-dark;
+          }
+        }
+      }
+
+      .project {
+        font-weight: bold;
+      }
+
+      time {
+        float: none;
+        display: inline;
+        margin-left: 0;
+      }
+
+      &:last-child {
+        border-bottom: 0;
+      }
+    }
+  }
+}
+
 /**
 * Dashboard
 * ============================================================================
