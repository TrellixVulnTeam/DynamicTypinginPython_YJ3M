commit 8fd8b6edb0b6e7dee542410a4649a4d69756e3e7
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Dec 13 11:10:08 2010 -0800

    Handle strings as strings, and unicode as unicode

diff --git a/sentry/helpers.py b/sentry/helpers.py
index 9a61cebdf4..5ceb217a86 100644
--- a/sentry/helpers.py
+++ b/sentry/helpers.py
@@ -68,12 +68,13 @@ def transform(value):
         return repr(value)
     elif isinstance(value, dict):
         return dict((k, transform(v)) for k, v in value.iteritems())
-    elif isinstance(value, basestring):
+    elif isinstance(value, unicode):
+        return force_unicode(value)
+    elif isinstance(value, str):
         try:
-            value = unicode(value)
+            return str(value)
         except:
-            value = force_unicode(value)
-        return value
+            return force_unicode(value)
     elif not isinstance(value, (int, bool)) and value is not None:
         # XXX: we could do transform(repr(value)) here
         return force_unicode(value)
