commit 937cbe914c76e734ef4ada3aeabd5312e7ebbecf
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Fri Mar 22 15:49:56 2019 -0700

    test(shared-issues): Add SharedGroupDetails snapshot test (#12491)

diff --git a/tests/js/fixtures/eventEntry.js b/tests/js/fixtures/eventEntry.js
new file mode 100644
index 0000000000..814a1c0582
--- /dev/null
+++ b/tests/js/fixtures/eventEntry.js
@@ -0,0 +1,10 @@
+export function EventEntry(params) {
+  return {
+    id: '1',
+    type: 'message',
+    data: {
+      formatted: 'Blocked script',
+    },
+    ...params,
+  };
+}
diff --git a/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
new file mode 100644
index 0000000000..0056855ace
--- /dev/null
+++ b/tests/js/spec/views/sharedGroupDetails/__snapshots__/index.spec.jsx.snap
@@ -0,0 +1,736 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`SharedGroupDetails renders 1`] = `
+<SharedGroupDetails
+  params={
+    Object {
+      "shareId": "a",
+    }
+  }
+>
+  <SideEffect(DocumentTitle)
+    title="ZeroDivisionError"
+  >
+    <DocumentTitle
+      title="ZeroDivisionError"
+    >
+      <div
+        className="app"
+      >
+        <div
+          className="pattern-bg"
+        />
+        <div
+          className="container"
+        >
+          <div
+            className="box box-modal"
+          >
+            <div
+              className="box-header"
+            >
+              <a
+                className="logo"
+                href="/"
+              >
+                <span
+                  className="icon-sentry-logo-full"
+                />
+              </a>
+            </div>
+            <div
+              className="box-content"
+            >
+              <div
+                className="content"
+              >
+                <SharedGroupHeader
+                  group={
+                    Object {
+                      "assignedTo": null,
+                      "id": "1",
+                      "latestEvent": Object {
+                        "entries": Array [
+                          Object {
+                            "data": Object {
+                              "formatted": "Blocked script",
+                            },
+                            "id": "1",
+                            "type": "message",
+                          },
+                        ],
+                        "eventID": "12345678901234567890123456789012",
+                        "groupID": "1",
+                        "id": "1",
+                        "message": "ApiException",
+                      },
+                      "project": Object {
+                        "environments": Array [],
+                        "hasAccess": true,
+                        "id": "2",
+                        "isBookmarked": false,
+                        "isMember": true,
+                        "name": "Project Name",
+                        "organization": Object {
+                          "slug": "test-org",
+                        },
+                        "slug": "project-slug",
+                        "teams": Array [],
+                      },
+                      "stats": Object {
+                        "24h": Array [
+                          Array [
+                            1517281200,
+                            2,
+                          ],
+                          Array [
+                            1517310000,
+                            1,
+                          ],
+                        ],
+                        "30d": Array [
+                          Array [
+                            1514764800,
+                            1,
+                          ],
+                          Array [
+                            1515024000,
+                            122,
+                          ],
+                        ],
+                      },
+                      "tags": Array [],
+                      "title": "ZeroDivisionError",
+                    }
+                  }
+                >
+                  <div
+                    className="group-detail"
+                    style={
+                      Object {
+                        "paddingBottom": 20,
+                      }
+                    }
+                  >
+                    <div
+                      className="details"
+                    >
+                      <h3>
+                        ZeroDivisionError
+                      </h3>
+                      <div
+                        className="event-message"
+                      >
+                        <span
+                          className="message"
+                        />
+                      </div>
+                    </div>
+                  </div>
+                </SharedGroupHeader>
+                <div
+                  className="group-overview event-details-container"
+                >
+                  <div
+                    className="primary"
+                  >
+                    <WithOrganizationMockWrapper
+                      event={
+                        Object {
+                          "entries": Array [
+                            Object {
+                              "data": Object {
+                                "formatted": "Blocked script",
+                              },
+                              "id": "1",
+                              "type": "message",
+                            },
+                          ],
+                          "eventID": "12345678901234567890123456789012",
+                          "groupID": "1",
+                          "id": "1",
+                          "message": "ApiException",
+                        }
+                      }
+                      group={
+                        Object {
+                          "assignedTo": null,
+                          "id": "1",
+                          "latestEvent": Object {
+                            "entries": Array [
+                              Object {
+                                "data": Object {
+                                  "formatted": "Blocked script",
+                                },
+                                "id": "1",
+                                "type": "message",
+                              },
+                            ],
+                            "eventID": "12345678901234567890123456789012",
+                            "groupID": "1",
+                            "id": "1",
+                            "message": "ApiException",
+                          },
+                          "project": Object {
+                            "environments": Array [],
+                            "hasAccess": true,
+                            "id": "2",
+                            "isBookmarked": false,
+                            "isMember": true,
+                            "name": "Project Name",
+                            "organization": Object {
+                              "slug": "test-org",
+                            },
+                            "slug": "project-slug",
+                            "teams": Array [],
+                          },
+                          "stats": Object {
+                            "24h": Array [
+                              Array [
+                                1517281200,
+                                2,
+                              ],
+                              Array [
+                                1517310000,
+                                1,
+                              ],
+                            ],
+                            "30d": Array [
+                              Array [
+                                1514764800,
+                                1,
+                              ],
+                              Array [
+                                1515024000,
+                                122,
+                              ],
+                            ],
+                          },
+                          "tags": Array [],
+                          "title": "ZeroDivisionError",
+                        }
+                      }
+                      isShare={true}
+                      orgId="test-org"
+                      project={
+                        Object {
+                          "environments": Array [],
+                          "hasAccess": true,
+                          "id": "2",
+                          "isBookmarked": false,
+                          "isMember": true,
+                          "name": "Project Name",
+                          "organization": Object {
+                            "slug": "test-org",
+                          },
+                          "slug": "project-slug",
+                          "teams": Array [],
+                        }
+                      }
+                    >
+                      <EventEntries
+                        event={
+                          Object {
+                            "entries": Array [
+                              Object {
+                                "data": Object {
+                                  "formatted": "Blocked script",
+                                },
+                                "id": "1",
+                                "type": "message",
+                              },
+                            ],
+                            "eventID": "12345678901234567890123456789012",
+                            "groupID": "1",
+                            "id": "1",
+                            "message": "ApiException",
+                          }
+                        }
+                        group={
+                          Object {
+                            "assignedTo": null,
+                            "id": "1",
+                            "latestEvent": Object {
+                              "entries": Array [
+                                Object {
+                                  "data": Object {
+                                    "formatted": "Blocked script",
+                                  },
+                                  "id": "1",
+                                  "type": "message",
+                                },
+                              ],
+                              "eventID": "12345678901234567890123456789012",
+                              "groupID": "1",
+                              "id": "1",
+                              "message": "ApiException",
+                            },
+                            "project": Object {
+                              "environments": Array [],
+                              "hasAccess": true,
+                              "id": "2",
+                              "isBookmarked": false,
+                              "isMember": true,
+                              "name": "Project Name",
+                              "organization": Object {
+                                "slug": "test-org",
+                              },
+                              "slug": "project-slug",
+                              "teams": Array [],
+                            },
+                            "stats": Object {
+                              "24h": Array [
+                                Array [
+                                  1517281200,
+                                  2,
+                                ],
+                                Array [
+                                  1517310000,
+                                  1,
+                                ],
+                              ],
+                              "30d": Array [
+                                Array [
+                                  1514764800,
+                                  1,
+                                ],
+                                Array [
+                                  1515024000,
+                                  122,
+                                ],
+                              ],
+                            },
+                            "tags": Array [],
+                            "title": "ZeroDivisionError",
+                          }
+                        }
+                        isShare={true}
+                        orgId="test-org"
+                        organization={
+                          Object {
+                            "access": Array [
+                              "org:read",
+                              "org:write",
+                              "org:admin",
+                              "org:integrations",
+                              "project:read",
+                              "project:write",
+                              "project:admin",
+                              "team:read",
+                              "team:write",
+                              "team:admin",
+                            ],
+                            "features": Array [],
+                            "id": "3",
+                            "name": "Organization Name",
+                            "onboardingTasks": Array [],
+                            "projects": Array [],
+                            "scrapeJavaScript": true,
+                            "slug": "org-slug",
+                            "status": Object {
+                              "id": "active",
+                              "name": "active",
+                            },
+                            "teams": Array [],
+                          }
+                        }
+                        project={
+                          Object {
+                            "environments": Array [],
+                            "hasAccess": true,
+                            "id": "2",
+                            "isBookmarked": false,
+                            "isMember": true,
+                            "name": "Project Name",
+                            "organization": Object {
+                              "slug": "test-org",
+                            },
+                            "slug": "project-slug",
+                            "teams": Array [],
+                          }
+                        }
+                      >
+                        <div
+                          className="entries"
+                        >
+                           
+                          <EventTags
+                            event={
+                              Object {
+                                "entries": Array [
+                                  Object {
+                                    "data": Object {
+                                      "formatted": "Blocked script",
+                                    },
+                                    "id": "1",
+                                    "type": "message",
+                                  },
+                                ],
+                                "eventID": "12345678901234567890123456789012",
+                                "groupID": "1",
+                                "id": "1",
+                                "message": "ApiException",
+                              }
+                            }
+                            group={
+                              Object {
+                                "assignedTo": null,
+                                "id": "1",
+                                "latestEvent": Object {
+                                  "entries": Array [
+                                    Object {
+                                      "data": Object {
+                                        "formatted": "Blocked script",
+                                      },
+                                      "id": "1",
+                                      "type": "message",
+                                    },
+                                  ],
+                                  "eventID": "12345678901234567890123456789012",
+                                  "groupID": "1",
+                                  "id": "1",
+                                  "message": "ApiException",
+                                },
+                                "project": Object {
+                                  "environments": Array [],
+                                  "hasAccess": true,
+                                  "id": "2",
+                                  "isBookmarked": false,
+                                  "isMember": true,
+                                  "name": "Project Name",
+                                  "organization": Object {
+                                    "slug": "test-org",
+                                  },
+                                  "slug": "project-slug",
+                                  "teams": Array [],
+                                },
+                                "stats": Object {
+                                  "24h": Array [
+                                    Array [
+                                      1517281200,
+                                      2,
+                                    ],
+                                    Array [
+                                      1517310000,
+                                      1,
+                                    ],
+                                  ],
+                                  "30d": Array [
+                                    Array [
+                                      1514764800,
+                                      1,
+                                    ],
+                                    Array [
+                                      1515024000,
+                                      122,
+                                    ],
+                                  ],
+                                },
+                                "tags": Array [],
+                                "title": "ZeroDivisionError",
+                              }
+                            }
+                            orgId="test-org"
+                            organization={
+                              Object {
+                                "access": Array [
+                                  "org:read",
+                                  "org:write",
+                                  "org:admin",
+                                  "org:integrations",
+                                  "project:read",
+                                  "project:write",
+                                  "project:admin",
+                                  "team:read",
+                                  "team:write",
+                                  "team:admin",
+                                ],
+                                "features": Array [],
+                                "id": "3",
+                                "name": "Organization Name",
+                                "onboardingTasks": Array [],
+                                "projects": Array [],
+                                "scrapeJavaScript": true,
+                                "slug": "org-slug",
+                                "status": Object {
+                                  "id": "active",
+                                  "name": "active",
+                                },
+                                "teams": Array [],
+                              }
+                            }
+                            projectId="project-slug"
+                          />
+                          <MessageInterface
+                            data={
+                              Object {
+                                "formatted": "Blocked script",
+                              }
+                            }
+                            event={
+                              Object {
+                                "entries": Array [
+                                  Object {
+                                    "data": Object {
+                                      "formatted": "Blocked script",
+                                    },
+                                    "id": "1",
+                                    "type": "message",
+                                  },
+                                ],
+                                "eventID": "12345678901234567890123456789012",
+                                "groupID": "1",
+                                "id": "1",
+                                "message": "ApiException",
+                              }
+                            }
+                            group={
+                              Object {
+                                "assignedTo": null,
+                                "id": "1",
+                                "latestEvent": Object {
+                                  "entries": Array [
+                                    Object {
+                                      "data": Object {
+                                        "formatted": "Blocked script",
+                                      },
+                                      "id": "1",
+                                      "type": "message",
+                                    },
+                                  ],
+                                  "eventID": "12345678901234567890123456789012",
+                                  "groupID": "1",
+                                  "id": "1",
+                                  "message": "ApiException",
+                                },
+                                "project": Object {
+                                  "environments": Array [],
+                                  "hasAccess": true,
+                                  "id": "2",
+                                  "isBookmarked": false,
+                                  "isMember": true,
+                                  "name": "Project Name",
+                                  "organization": Object {
+                                    "slug": "test-org",
+                                  },
+                                  "slug": "project-slug",
+                                  "teams": Array [],
+                                },
+                                "stats": Object {
+                                  "24h": Array [
+                                    Array [
+                                      1517281200,
+                                      2,
+                                    ],
+                                    Array [
+                                      1517310000,
+                                      1,
+                                    ],
+                                  ],
+                                  "30d": Array [
+                                    Array [
+                                      1514764800,
+                                      1,
+                                    ],
+                                    Array [
+                                      1515024000,
+                                      122,
+                                    ],
+                                  ],
+                                },
+                                "tags": Array [],
+                                "title": "ZeroDivisionError",
+                              }
+                            }
+                            isShare={true}
+                            key="entry-0"
+                            type="message"
+                          >
+                            <GroupEventDataSection
+                              event={
+                                Object {
+                                  "entries": Array [
+                                    Object {
+                                      "data": Object {
+                                        "formatted": "Blocked script",
+                                      },
+                                      "id": "1",
+                                      "type": "message",
+                                    },
+                                  ],
+                                  "eventID": "12345678901234567890123456789012",
+                                  "groupID": "1",
+                                  "id": "1",
+                                  "message": "ApiException",
+                                }
+                              }
+                              group={
+                                Object {
+                                  "assignedTo": null,
+                                  "id": "1",
+                                  "latestEvent": Object {
+                                    "entries": Array [
+                                      Object {
+                                        "data": Object {
+                                          "formatted": "Blocked script",
+                                        },
+                                        "id": "1",
+                                        "type": "message",
+                                      },
+                                    ],
+                                    "eventID": "12345678901234567890123456789012",
+                                    "groupID": "1",
+                                    "id": "1",
+                                    "message": "ApiException",
+                                  },
+                                  "project": Object {
+                                    "environments": Array [],
+                                    "hasAccess": true,
+                                    "id": "2",
+                                    "isBookmarked": false,
+                                    "isMember": true,
+                                    "name": "Project Name",
+                                    "organization": Object {
+                                      "slug": "test-org",
+                                    },
+                                    "slug": "project-slug",
+                                    "teams": Array [],
+                                  },
+                                  "stats": Object {
+                                    "24h": Array [
+                                      Array [
+                                        1517281200,
+                                        2,
+                                      ],
+                                      Array [
+                                        1517310000,
+                                        1,
+                                      ],
+                                    ],
+                                    "30d": Array [
+                                      Array [
+                                        1514764800,
+                                        1,
+                                      ],
+                                      Array [
+                                        1515024000,
+                                        122,
+                                      ],
+                                    ],
+                                  },
+                                  "tags": Array [],
+                                  "title": "ZeroDivisionError",
+                                }
+                              }
+                              raw={false}
+                              title="Message"
+                              type="message"
+                              wrapTitle={true}
+                            >
+                              <div
+                                className=" box"
+                              >
+                                <div
+                                  className="box-header"
+                                  id="message"
+                                >
+                                  <a
+                                    className="permalink"
+                                    href="#message"
+                                  >
+                                    <em
+                                      className="icon-anchor"
+                                    />
+                                  </a>
+                                  <h3>
+                                    Message
+                                  </h3>
+                                </div>
+                                <div
+                                  className="box-content with-padding"
+                                >
+                                  <pre
+                                    className="plain"
+                                  >
+                                    <Annotated
+                                      object={
+                                        Object {
+                                          "formatted": "Blocked script",
+                                        }
+                                      }
+                                      prop="formatted"
+                                      required={false}
+                                    >
+                                      <MetaData
+                                        object={
+                                          Object {
+                                            "formatted": "Blocked script",
+                                          }
+                                        }
+                                        prop="formatted"
+                                        required={false}
+                                      >
+                                        <ErrorBoundary
+                                          mini={true}
+                                        >
+                                          Blocked script
+                                        </ErrorBoundary>
+                                      </MetaData>
+                                    </Annotated>
+                                  </pre>
+                                </div>
+                              </div>
+                            </GroupEventDataSection>
+                          </MessageInterface>
+                           
+                        </div>
+                      </EventEntries>
+                    </WithOrganizationMockWrapper>
+                  </div>
+                </div>
+                <Footer>
+                  <footer>
+                    <div
+                      className="container"
+                    >
+                      <div
+                        className="pull-right"
+                      >
+                        <a
+                          className="hidden-xs"
+                          href="/api/"
+                        >
+                          API
+                        </a>
+                        <a
+                          href="/docs/"
+                        >
+                          Docs
+                        </a>
+                        <a
+                          className="hidden-xs"
+                          href="https://github.com/getsentry/sentry"
+                          rel="noreferrer"
+                        >
+                          Contribute
+                        </a>
+                      </div>
+                      <a
+                        className="icon-sentry-logo"
+                        href="/"
+                      />
+                      <Hook
+                        name="footer"
+                      />
+                    </div>
+                  </footer>
+                </Footer>
+              </div>
+            </div>
+          </div>
+        </div>
+      </div>
+    </DocumentTitle>
+  </SideEffect(DocumentTitle)>
+</SharedGroupDetails>
+`;
diff --git a/tests/js/spec/views/sharedGroupDetails/index.spec.jsx b/tests/js/spec/views/sharedGroupDetails/index.spec.jsx
new file mode 100644
index 0000000000..85a8fadd77
--- /dev/null
+++ b/tests/js/spec/views/sharedGroupDetails/index.spec.jsx
@@ -0,0 +1,31 @@
+import React from 'react';
+import {mount} from 'enzyme';
+import SharedGroupDetails from 'app/views/sharedGroupDetails';
+
+describe('SharedGroupDetails', function() {
+  beforeEach(function() {
+    MockApiClient.addMockResponse({
+      url: '/shared/issues/a/',
+      body: TestStubs.Group({
+        title: 'ZeroDivisionError',
+        latestEvent: TestStubs.Event({
+          entries: [TestStubs.EventEntry()],
+        }),
+        project: TestStubs.Project({organization: {slug: 'test-org'}}),
+      }),
+    });
+  });
+
+  afterEach(function() {
+    MockApiClient.clearMockResponses();
+  });
+
+  it('renders', function() {
+    const props = {
+      params: {shareId: 'a'},
+    };
+
+    const wrapper = mount(<SharedGroupDetails {...props} />);
+    expect(wrapper).toMatchSnapshot();
+  });
+});
