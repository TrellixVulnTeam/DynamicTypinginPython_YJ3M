commit c42e28149287923635cdd873f5ca3ec535657870
Author: David Cramer <dcramer@gmail.com>
Date:   Wed Nov 18 11:21:17 2015 -0800

    Some initial work with Jed

diff --git a/src/sentry/static/sentry/app/index.js b/src/sentry/static/sentry/app/index.js
index 160e551012..ada51e4c88 100644
--- a/src/sentry/static/sentry/app/index.js
+++ b/src/sentry/static/sentry/app/index.js
@@ -1,4 +1,4 @@
-import jQuery from "jquery";
+import jQuery from 'jquery';
 
 // setup jquery for CSRF tokens
 function getCookie(name) {
@@ -17,7 +17,7 @@ function getCookie(name) {
   return cookieValue;
 }
 
-var csrftoken = getCookie("csrf");
+var csrftoken = getCookie('csrf');
 
 function csrfSafeMethod(method) {
   // these HTTP methods do not require CSRF protection
@@ -26,7 +26,7 @@ function csrfSafeMethod(method) {
 jQuery.ajaxSetup({
   beforeSend: function(xhr, settings) {
     if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
-      xhr.setRequestHeader("X-CSRFToken", csrftoken);
+      xhr.setRequestHeader('X-CSRFToken', csrftoken);
     }
   }
 });
@@ -34,30 +34,30 @@ jQuery.ajaxSetup({
 // these get exported to a global variable, which is important as its the only
 // way we can call into scoped objects
 export default {
-  i18n: require("locale"),
   jQuery: jQuery,
-  moment: require("moment"),
-  Raven: require("raven-js"),
-  React: require("react"),
-  ReactDOM: require("react-dom"),
-  Router: require("react-router"),
+  moment: require('moment'),
+  Raven: require('raven-js'),
+  React: require('react'),
+  ReactDOM: require('react-dom'),
+  Router: require('react-router'),
 
   Sentry: {
-    api: require("./api"),
-    routes: require("./routes"),
-    createHistory: require("history/lib/createBrowserHistory"),
+    api: require('./api'),
+    routes: require('./routes'),
+    createHistory: require('history/lib/createBrowserHistory'),
+    i18n: require('./locale'),
 
-    Alerts: require("./components/alerts"),
-    ConfigStore: require("./stores/configStore"),
-    DropdownLink: require("./components/dropdownLink"),
-    FlotChart: require("./components/flotChart"),
-    HookStore: require("./stores/hookStore"),
-    Indicators: require("./components/indicators"),
-    ListLink: require("./components/listLink"),
-    MenuItem: require("./components/menuItem"),
-    Pagination: require("./components/pagination"),
-    ProjectSelector: require("./components/projectHeader/projectSelector"),
-    RuleEditor: require("./views/ruleEditor")
+    Alerts: require('./components/alerts'),
+    ConfigStore: require('./stores/configStore'),
+    DropdownLink: require('./components/dropdownLink'),
+    FlotChart: require('./components/flotChart'),
+    HookStore: require('./stores/hookStore'),
+    Indicators: require('./components/indicators'),
+    ListLink: require('./components/listLink'),
+    MenuItem: require('./components/menuItem'),
+    Pagination: require('./components/pagination'),
+    ProjectSelector: require('./components/projectHeader/projectSelector'),
+    RuleEditor: require('./views/ruleEditor')
   }
 };
 
diff --git a/src/sentry/static/sentry/app/locale.jsx b/src/sentry/static/sentry/app/locale.jsx
index dea0e6faf3..399268f083 100644
--- a/src/sentry/static/sentry/app/locale.jsx
+++ b/src/sentry/static/sentry/app/locale.jsx
@@ -6,7 +6,6 @@ const i18n = new Jed({
   // This callback is called when a key is missing
   'missing_key_callback' : function(key) {
     // TODO(dcramer): this should log to Sentry
-    console.error(key);
   },
 
   'locale_data' : {
@@ -28,7 +27,8 @@ const i18n = new Jed({
   }
 });
 
-export const gettext = i18n.gettext;
-export const ngettext = i18n.ngettext;
-export const _ = i18n.gettext;
+export const gettext = i18n.gettext.bind(i18n);
+export const ngettext = i18n.ngettext.bind(i18n);
+export const t = i18n.gettext.bind(i18n);
+export const tn = i18n.ngettext.bind(i18n);
 export default i18n;
diff --git a/webpack.config.js b/webpack.config.js
index 05a9361672..1b22b67f68 100644
--- a/webpack.config.js
+++ b/webpack.config.js
@@ -23,6 +23,7 @@ var config = {
       "bootstrap/js/tooltip",
       "bootstrap/js/alert",
       "crypto-js/md5",
+      "jed",
       "jquery",
       "marked",
       "moment",
