commit 5a7d5079af767d2a25b58ee8273344c8eee191d1
Author: Lyn Nagara <lyn.nagara@gmail.com>
Date:   Mon Jan 14 13:27:50 2019 -0800

    feat(issues): Update group details header links (#11504)
    
    Update group details header links to make this component resuable for
    organization issue details where projectId parameter won't be in the URL

diff --git a/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
index 77789344c6..3d8562261e 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/groupDetails.jsx
@@ -199,7 +199,7 @@ const GroupDetails = createReactClass({
     return (
       <DocumentTitle title={this.getTitle()}>
         <div className={this.props.className}>
-          <GroupHeader orgId={params.orgId} project={project} group={group} />
+          <GroupHeader params={params} project={project} group={group} />
           {React.cloneElement(this.props.children, {
             group,
             project,
diff --git a/src/sentry/static/sentry/app/views/groupDetails/shared/header.jsx b/src/sentry/static/sentry/app/views/groupDetails/shared/header.jsx
index 9e9fa0c531..c5d51b33a5 100644
--- a/src/sentry/static/sentry/app/views/groupDetails/shared/header.jsx
+++ b/src/sentry/static/sentry/app/views/groupDetails/shared/header.jsx
@@ -25,6 +25,7 @@ const GroupHeader = createReactClass({
   propTypes: {
     group: SentryTypes.Group.isRequired,
     project: SentryTypes.Project,
+    params: PropTypes.object,
   },
 
   contextTypes: {
@@ -70,7 +71,7 @@ const GroupHeader = createReactClass({
   },
 
   render() {
-    let {project, group} = this.props;
+    let {project, group, params} = this.props;
     let projectFeatures = new Set(project ? project.features : []);
     let userCount = group.userCount;
 
@@ -90,12 +91,15 @@ const GroupHeader = createReactClass({
     }
 
     let groupId = group.id;
-    let projectId = group.project.slug;
     let orgId = this.context.organization.slug;
     let message = this.getMessage();
 
     let hasSimilarView = projectFeatures.has('similarity-view');
 
+    let baseUrl = params.projectId
+      ? `/${orgId}/${params.projectId}/issues/`
+      : `/organizations/${orgId}/issues/`;
+
     return (
       <div className={className}>
         <div className="row">
@@ -110,7 +114,7 @@ const GroupHeader = createReactClass({
                 <span className="event-annotation">
                   <Link
                     to={{
-                      pathname: `/${orgId}/${projectId}/`,
+                      pathname: baseUrl,
                       query: {query: 'logger:' + group.logger},
                     }}
                   >
@@ -153,14 +157,14 @@ const GroupHeader = createReactClass({
               )}
               <div className="count align-right">
                 <h6 className="nav-header">{t('Events')}</h6>
-                <Link to={`/${orgId}/${projectId}/issues/${groupId}/events/`}>
+                <Link to={`${baseUrl}${groupId}/events/`}>
                   <Count className="count" value={group.count} />
                 </Link>
               </div>
               <div className="count align-right">
                 <h6 className="nav-header">{t('Users')}</h6>
                 {userCount !== 0 ? (
-                  <Link to={`/${orgId}/${projectId}/issues/${groupId}/tags/user/`}>
+                  <Link to={`${baseUrl}${groupId}/tags/user/`}>
                     <Count className="count" value={userCount} />
                   </Link>
                 ) : (
@@ -178,9 +182,9 @@ const GroupHeader = createReactClass({
         <GroupActions group={group} project={project} />
         <NavTabs>
           <ListLink
-            to={`/${orgId}/${projectId}/issues/${groupId}/`}
+            to={`${baseUrl}${groupId}/`}
             isActive={() => {
-              let rootGroupPath = `/${orgId}/${projectId}/issues/${groupId}/`;
+              let rootGroupPath = `${baseUrl}${groupId}/`;
               let pathname = this.context.location.pathname;
 
               // Because react-router 1.0 removes router.isActive(route)
@@ -189,24 +193,18 @@ const GroupHeader = createReactClass({
           >
             {t('Details')}
           </ListLink>
-          <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/activity/`}>
+          <ListLink to={`${baseUrl}${groupId}/activity/`}>
             {t('Comments')} <span className="badge animated">{group.numComments}</span>
           </ListLink>
-          <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/feedback/`}>
+          <ListLink to={`${baseUrl}${groupId}/feedback/`}>
             {t('User Feedback')}{' '}
             <span className="badge animated">{group.userReportCount}</span>
           </ListLink>
-          <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/tags/`}>
-            {t('Tags')}
-          </ListLink>
-          <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/events/`}>
-            {t('Events')}
-          </ListLink>
-          <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/merged/`}>
-            {t('Merged')}
-          </ListLink>
+          <ListLink to={`${baseUrl}${groupId}/tags/`}>{t('Tags')}</ListLink>
+          <ListLink to={`${baseUrl}${groupId}/events/`}>{t('Events')}</ListLink>
+          <ListLink to={`${baseUrl}${groupId}/merged/`}>{t('Merged')}</ListLink>
           {hasSimilarView && (
-            <ListLink to={`/${orgId}/${projectId}/issues/${groupId}/similar/`}>
+            <ListLink to={`${baseUrl}${groupId}/similar/`}>
               {t('Similar Issues')}
             </ListLink>
           )}
