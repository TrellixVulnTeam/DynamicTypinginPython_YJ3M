commit 5a7f5625d1d8a86b74644d4fd91fdc77f31bbd62
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Thu Sep 27 09:06:34 2018 -0700

    fix(ui): Fix Alert Editor when no plugins (#9900)
    
    UI crashes when you try to add an alert that sends a notification where you do not have any plugins/legacy integrations installed.
    
    Fixes JAVASCRIPT-462

diff --git a/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleEditor/ruleNode.jsx b/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleEditor/ruleNode.jsx
index 61d01f289a..57df693f5f 100644
--- a/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleEditor/ruleNode.jsx
+++ b/src/sentry/static/sentry/app/views/settings/projectAlerts/ruleEditor/ruleNode.jsx
@@ -1,7 +1,9 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 import styled from 'react-emotion';
+
 import Button from 'app/components/button';
+import {t} from 'app/locale';
 import {SelectField, NumberField, TextField} from 'app/components/forms';
 
 class RuleNode extends React.Component {
@@ -20,7 +22,7 @@ class RuleNode extends React.Component {
     // If it's not yet defined, call handlePropertyChange to make sure the value is set on state
 
     let initialVal;
-    if (this.props.data[name] === undefined) {
+    if (this.props.data[name] === undefined && !!data.choices.length) {
       initialVal = data.choices[0][0];
       this.props.handlePropertyChange(name, initialVal);
     } else {
@@ -30,6 +32,8 @@ class RuleNode extends React.Component {
     return (
       <SelectField
         clearable={false}
+        placeholder={t('Select integration')}
+        noResultsText={t('No integrations available')}
         name={name}
         value={initialVal}
         choices={data.choices}
@@ -145,6 +149,10 @@ const RuleNodeForm = styled('div')`
     line-height: 26px;
     min-width: 150px;
   }
+  .Select-placeholder {
+    height: 26px;
+    line-height: 26px;
+  }
   .Select-control {
     height: 24px;
   }
diff --git a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
index f8be6655b4..35cb8c8e80 100644
--- a/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/projectAlertRuleDetails.spec.jsx.snap
@@ -653,7 +653,7 @@ exports[`ProjectAlertRuleDetails Edit alert rule renders 1`] = `
                                 >
                                   <RuleNodeForm>
                                     <div
-                                      className="css-xqmzt9-RuleNodeForm e1qnqozx1"
+                                      className="css-1by90re-RuleNodeForm e1qnqozx1"
                                     >
                                       <input
                                         name="id"
@@ -1412,7 +1412,7 @@ exports[`ProjectAlertRuleDetails Edit alert rule renders 1`] = `
                                 >
                                   <RuleNodeForm>
                                     <div
-                                      className="css-xqmzt9-RuleNodeForm e1qnqozx1"
+                                      className="css-1by90re-RuleNodeForm e1qnqozx1"
                                     >
                                       <input
                                         name="id"
