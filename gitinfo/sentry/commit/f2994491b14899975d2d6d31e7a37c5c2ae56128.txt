commit f2994491b14899975d2d6d31e7a37c5c2ae56128
Author: Armin Ronacher <armin.ronacher@active-4.com>
Date:   Sat Mar 12 00:23:24 2016 +0100

    Set up the child context for orgs from the projectSelector

diff --git a/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx b/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
index 37252d2279..06feeab7e8 100644
--- a/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
+++ b/src/sentry/static/sentry/app/components/projectHeader/projectSelector.jsx
@@ -6,6 +6,7 @@ import jQuery from 'jquery';
 import ConfigStore from '../../stores/configStore';
 import ProjectLabel from '../../components/projectLabel';
 import DropdownLink from '../dropdownLink';
+import PropTypes from '../../proptypes';
 import MenuItem from '../menuItem';
 import {t} from '../../locale';
 
@@ -19,6 +20,13 @@ const ProjectSelector = React.createClass({
     location: React.PropTypes.object
   },
 
+  // this is necessary so that the project selector stays functional
+  // in non react pages.  Without this the organization state mixin
+  // will not be functional on old layout based pages.
+  childContextTypes: {
+    organization: PropTypes.Organization
+  },
+
   getDefaultProps() {
     return {
       projectId: null,
@@ -31,6 +39,12 @@ const ProjectSelector = React.createClass({
     };
   },
 
+  getChildContext() {
+    return {
+      organization: this.props.organization
+    };
+  },
+
   componentDidUpdate(prevProps, prevState) {
     // XXX(dcramer): fix odd dedraw issue as of Chrome 45.0.2454.15 dev (64-bit)
     let node = jQuery(ReactDOM.findDOMNode(this.refs.container));
