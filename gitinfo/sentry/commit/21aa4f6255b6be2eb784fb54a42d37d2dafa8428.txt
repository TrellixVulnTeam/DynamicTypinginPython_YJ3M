commit 21aa4f6255b6be2eb784fb54a42d37d2dafa8428
Author: Bruno Garcia <github@brunogarcia.com>
Date:   Mon May 7 23:27:45 2018 +0200

    feat(contexts): runtime normalization (#8314)
    
    * feat(contexts): Runtime info sent via raw_description is parsed when no Name and Version is set
    * feat: Runtime version takes only the numbers - icons for .NET, Mono and Electron.
    * feat: more precise runtime information

diff --git a/src/sentry/interfaces/contexts.py b/src/sentry/interfaces/contexts.py
index 80d0143078..7682e124aa 100644
--- a/src/sentry/interfaces/contexts.py
+++ b/src/sentry/interfaces/contexts.py
@@ -15,7 +15,7 @@ from django.utils.encoding import force_text
 
 from sentry.utils.safe import trim
 from sentry.interfaces.base import Interface
-from sentry.utils.os_normalization import normalize
+from sentry.utils.contexts_normalization import normalize_os, normalize_runtime
 
 __all__ = ('Contexts', )
 
@@ -122,6 +122,10 @@ class RuntimeContextType(ContextType):
         'name': u'{name}',
     }
 
+    def __init__(self, alias, data):
+        normalize_runtime(data)
+        super(RuntimeContextType, self).__init__(alias, data)
+
 
 @contexttype
 class BrowserContextType(ContextType):
@@ -144,7 +148,7 @@ class OsContextType(ContextType):
     # build, rooted
 
     def __init__(self, alias, data):
-        normalize(data)
+        normalize_os(data)
         super(OsContextType, self).__init__(alias, data)
 
 
diff --git a/src/sentry/static/sentry/app/components/events/contextSummary.jsx b/src/sentry/static/sentry/app/components/events/contextSummary.jsx
index 0d49717fd2..959025834e 100644
--- a/src/sentry/static/sentry/app/components/events/contextSummary.jsx
+++ b/src/sentry/static/sentry/app/components/events/contextSummary.jsx
@@ -11,7 +11,8 @@ const generateClassName = function(name) {
     .split(/\d/)[0]
     .toLowerCase()
     .replace(/[^a-z0-9\-]+/g, '-')
-    .replace(/\-+$/, '');
+    .replace(/\-+$/, '')
+    .replace(/^\-+/, '');
 };
 
 class NoSummary extends React.Component {
diff --git a/src/sentry/static/sentry/images/icons/context/electron.png b/src/sentry/static/sentry/images/icons/context/electron.png
new file mode 100644
index 0000000000..47b7c3fc30
Binary files /dev/null and b/src/sentry/static/sentry/images/icons/context/electron.png differ
diff --git a/src/sentry/static/sentry/images/icons/context/mono-gorilla.svg b/src/sentry/static/sentry/images/icons/context/mono-gorilla.svg
new file mode 100644
index 0000000000..7705a016cd
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/context/mono-gorilla.svg
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<svg xmlns="http://www.w3.org/2000/svg" width="248" height="248" viewbox="0 0 248 248">
+  <path d="m21,247.108917c0,-1.547012 51.746597,-63.73201 52.837601,-63.496002c0.623199,0.134995 23.735199,9.953995 51.360397,21.819992c47.179001,20.266006 50.309006,21.464005 51.585007,19.755005c1.929001,-2.585999 8.57399,-16.485992 12.088989,-25.287994l2.98201,-7.469009l-5.024002,-2.746994c-7.119003,-3.893005 -17.561996,-12.563995 -24.100006,-20.012009c-5.966995,-6.79599 -16.729996,-23.194992 -16.729996,-25.490997c0,-0.759003 3.419998,2.695007 7.600006,7.677002c11.73999,13.992996 38.794998,35.889008 40.493988,32.772995c2.016998,-3.696991 3.320007,-14.613998 3.255005,-27.263c-0.078995,-15.441986 -2.102997,-27.463989 -7.417999,-44.057983l-2.979004,-9.298004l-14.725998,-4.628998c-8.098999,-2.545799 -16.218994,-5.098198 -18.042999,-5.6717c-6.362,-2 -2.382004,-1.892403 6.932999,0.187599c11.137009,2.4869 22.449005,4.587402 29.45401,5.469101c6.167999,0.776001 7.524994,-0.433998 8.184998,-7.297897c0.840988,-8.751701 -4.807007,-32.921402 -10.505005,-44.955204c-2.274002,-4.802898 -3.300003,-5.838497 -7.852997,-7.922897c-15.156006,-6.9384 -62.594002,-13.436901 -82.738503,-11.334301c-8.708099,0.909 -17.653198,3.025101 -20.441101,4.835598c-0.785797,0.510303 4.830704,1.957203 14.5,3.735302c8.680603,1.596298 15.0056,3.0541 14.056602,3.239498c-0.949005,0.185402 -14.588799,-1.313599 -30.311005,-3.330997c-27.601597,-3.541702 -28.654396,-3.606003 -30.576897,-1.8661c-4.008301,3.627399 -9.775299,13.542801 -10.962601,18.848198c-1.149502,5.136501 -1.0686,5.731701 1.4888,10.959003c4.3591,8.909798 12.464901,15.392799 30.909897,24.721901c8.722,4.4114 15.646606,8.2323 15.3881,8.490799c-0.258499,0.258499 -7.701698,-2.520599 -16.540596,-6.175705l-16.070602,-6.645699l-23.581898,6.599205c-12.9701,3.629593 -24.01738,6.599197 -24.549571,6.599197c-0.60822,0 -0.96763,-15.6689 -0.96763,-42.184299c0,-40.622202 0.07668,-42.342602 2.07095,-46.462301c1.21568,-2.5112 3.59035,-5.22276 5.75,-6.56567l3.67905,-2.28771l108,-0.30055c59.399994,-0.1653 110.403,-0.01541 113.339005,0.33309c6.616989,0.78534 12.588989,5.63064 14.168991,11.49574c0.680008,2.528399 0.936005,40.981501 0.759003,114.142797l-0.266998,110.328987l-2.287994,3.679001c-1.343002,2.160004 -4.054001,4.534012 -6.565002,5.75c-4.24501,2.055008 -5.104004,2.070999 -110.962997,2.070999c-58.676109,0 -106.684006,-0.341995 -106.684006,-0.758987z" fill="#000000" id="path2228"/>
+</svg>
diff --git a/src/sentry/static/sentry/images/icons/context/netcore.svg b/src/sentry/static/sentry/images/icons/context/netcore.svg
new file mode 100644
index 0000000000..43a66f8c8b
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/context/netcore.svg
@@ -0,0 +1 @@
+<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#5c2d91;}.cls-2,.cls-3{fill:#fff;}.cls-2{opacity:0.1;}.cls-4{fill:#f2f2f2;}</style></defs><title>logo_NETcore</title><circle class="cls-1" cx="32" cy="32" r="32"/><path class="cls-2" d="M9.82,9A32,32,0,1,0,55,54.18Z"/><path class="cls-3" d="M7.4,37.25a1.35,1.35,0,0,1-1-.42,1.38,1.38,0,0,1-.41-1,1.4,1.4,0,0,1,.41-1,1.34,1.34,0,0,1,1-.43,1.37,1.37,0,0,1,1,.43,1.39,1.39,0,0,1,.42,1,1.37,1.37,0,0,1-.42,1A1.38,1.38,0,0,1,7.4,37.25Z"/><path class="cls-3" d="M27.27,37H24.65L15.28,22.46a6,6,0,0,1-.58-1.14h-.08a18.72,18.72,0,0,1,.1,2.5V37H12.59V18.77h2.77l9.12,14.28q.57.89.74,1.22h.05a19.28,19.28,0,0,1-.13-2.68V18.77h2.13Z"/><path class="cls-3" d="M41.69,37H32V18.77h9.24V20.7H34.18v6.06h6.58v1.92H34.18V35h7.52Z"/><path class="cls-3" d="M56,20.7H50.7V37H48.57V20.7H43.33V18.77H56Z"/><path class="cls-4" d="M26.12,49.4a4.93,4.93,0,0,1-2.32.49,3.74,3.74,0,0,1-2.87-1.15,4.26,4.26,0,0,1-1.08-3,4.46,4.46,0,0,1,1.21-3.26,4.12,4.12,0,0,1,3.08-1.24,4.93,4.93,0,0,1,2,.35v1a4,4,0,0,0-2-.5,3.06,3.06,0,0,0-2.35,1,3.64,3.64,0,0,0-.9,2.58,3.47,3.47,0,0,0,.84,2.45,2.86,2.86,0,0,0,2.21.91,4.14,4.14,0,0,0,2.19-.56Z"/><path class="cls-4" d="M30.21,49.89A2.78,2.78,0,0,1,28.08,49a3.11,3.11,0,0,1-.79-2.23,3.24,3.24,0,0,1,.83-2.36,3,3,0,0,1,2.23-.85,2.69,2.69,0,0,1,2.09.83,3.28,3.28,0,0,1,.75,2.29,3.22,3.22,0,0,1-.81,2.3A2.84,2.84,0,0,1,30.21,49.89Zm.07-5.47a1.83,1.83,0,0,0-1.46.63,2.59,2.59,0,0,0-.54,1.74,2.45,2.45,0,0,0,.54,1.68,1.85,1.85,0,0,0,1.46.62,1.76,1.76,0,0,0,1.43-.6,2.62,2.62,0,0,0,.5-1.72,2.66,2.66,0,0,0-.5-1.73A1.75,1.75,0,0,0,30.28,44.42Z"/><path class="cls-4" d="M37.86,44.72a1.18,1.18,0,0,0-.73-.19,1.23,1.23,0,0,0-1,.58,2.68,2.68,0,0,0-.41,1.58v3.06h-1v-6h1V45h0a2.1,2.1,0,0,1,.63-1,1.43,1.43,0,0,1,.94-.35,1.57,1.57,0,0,1,.57.08Z"/><path class="cls-4" d="M43.72,47H39.49A2.24,2.24,0,0,0,40,48.54a1.86,1.86,0,0,0,1.42.54,3,3,0,0,0,1.86-.67v.9a3.48,3.48,0,0,1-2.09.57,2.54,2.54,0,0,1-2-.82,3.35,3.35,0,0,1-.73-2.3,3.28,3.28,0,0,1,.79-2.28,2.55,2.55,0,0,1,2-.88,2.26,2.26,0,0,1,1.82.76,3.18,3.18,0,0,1,.64,2.12Zm-1-.81a2,2,0,0,0-.4-1.29,1.37,1.37,0,0,0-1.1-.46,1.55,1.55,0,0,0-1.15.49,2.21,2.21,0,0,0-.59,1.27Z"/></svg>
\ No newline at end of file
diff --git a/src/sentry/static/sentry/images/icons/context/netframework.svg b/src/sentry/static/sentry/images/icons/context/netframework.svg
new file mode 100644
index 0000000000..809816ba80
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/context/netframework.svg
@@ -0,0 +1 @@
+<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#5c2d91;}.cls-2,.cls-3{fill:#fff;}.cls-2{opacity:0.1;}.cls-4{fill:#f2f2f2;}</style></defs><title>logo_NETframework</title><circle class="cls-1" cx="32" cy="32" r="32"/><path class="cls-2" d="M9.82,9A32,32,0,1,0,55,54.18Z"/><path class="cls-3" d="M7.4,37.25a1.35,1.35,0,0,1-1-.42,1.38,1.38,0,0,1-.41-1,1.4,1.4,0,0,1,.41-1,1.34,1.34,0,0,1,1-.43,1.37,1.37,0,0,1,1,.43,1.39,1.39,0,0,1,.42,1,1.37,1.37,0,0,1-.42,1A1.38,1.38,0,0,1,7.4,37.25Z"/><path class="cls-3" d="M27.27,37H24.65L15.28,22.46a6,6,0,0,1-.58-1.14h-.08a18.72,18.72,0,0,1,.1,2.5V37H12.59V18.77h2.77l9.12,14.28q.57.89.74,1.22h.05a19.28,19.28,0,0,1-.13-2.68V18.77h2.13Z"/><path class="cls-3" d="M41.69,37H32V18.77h9.24V20.7H34.18v6.06h6.58v1.92H34.18V35h7.52Z"/><path class="cls-3" d="M56,20.7H50.71V37H48.57V20.7H43.33V18.77H56Z"/><path class="cls-4" d="M9,41.19V44h2.59v.44H9v3.26H8.51v-7h3.27v.44Z"/><path class="cls-4" d="M15.67,43.22a.88.88,0,0,0-.53-.16,1.17,1.17,0,0,0-1,.61,3.15,3.15,0,0,0-.4,1.73v2.35h-.44v-5h.44v1.11h0a1.82,1.82,0,0,1,.54-.89,1.28,1.28,0,0,1,.86-.32,1.33,1.33,0,0,1,.5.09Z"/><path class="cls-4" d="M19.85,47.75v-1h0a2,2,0,0,1-.7.82,1.78,1.78,0,0,1-1,.31,1.56,1.56,0,0,1-1.13-.4,1.34,1.34,0,0,1-.42-1q0-1.31,1.73-1.58l1.54-.23q0-1.61-1.21-1.61A2.47,2.47,0,0,0,17,43.7v-.54a2.46,2.46,0,0,1,.75-.38,2.87,2.87,0,0,1,.9-.16,1.51,1.51,0,0,1,1.19.48,2,2,0,0,1,.42,1.39v3.25Zm-1.38-2.49a2.4,2.4,0,0,0-1.1.36,1.13,1.13,0,0,0,0,1.55,1.13,1.13,0,0,0,.82.29,1.55,1.55,0,0,0,1.2-.53,2,2,0,0,0,.48-1.38v-.49Z"/><path class="cls-4" d="M28.32,47.75v-3a2.22,2.22,0,0,0-.3-1.32,1.11,1.11,0,0,0-.94-.38,1.3,1.3,0,0,0-1,.51,1.91,1.91,0,0,0-.43,1.27v2.93h-.45v-3q0-1.67-1.27-1.67a1.25,1.25,0,0,0-1,.51,2.06,2.06,0,0,0-.41,1.32v2.88h-.45v-5h.45v.83h0a1.66,1.66,0,0,1,1.53-1,1.43,1.43,0,0,1,.94.32,1.54,1.54,0,0,1,.52.83,1.92,1.92,0,0,1,.67-.84,1.65,1.65,0,0,1,.95-.3q1.64,0,1.64,2v3.09Z"/><path class="cls-4" d="M30.63,45.27a2.47,2.47,0,0,0,.48,1.61,1.6,1.6,0,0,0,1.31.58,2.66,2.66,0,0,0,1.64-.62v.48a2.92,2.92,0,0,1-1.73.55,2,2,0,0,1-1.56-.69,2.92,2.92,0,0,1-.6-2,2.79,2.79,0,0,1,.62-1.84,2,2,0,0,1,1.62-.75,1.69,1.69,0,0,1,1.43.65,2.89,2.89,0,0,1,.5,1.79v.2Zm3.23-.41a2.21,2.21,0,0,0-.42-1.34A1.29,1.29,0,0,0,32.38,43a1.56,1.56,0,0,0-1.16.47,2.26,2.26,0,0,0-.57,1.35Z"/><path class="cls-4" d="M40.06,47.75h-.42L38.55,44a3.11,3.11,0,0,1-.08-.42h0a2.51,2.51,0,0,1-.1.41l-1.22,3.78h-.42l-1.51-5h.5l1.16,4a2.44,2.44,0,0,1,.07.42h0a2.13,2.13,0,0,1,.09-.42l1.27-4h.31l1.13,4a2.83,2.83,0,0,1,.07.42h0a1.63,1.63,0,0,1,.08-.42l1.19-4h.46Z"/><path class="cls-4" d="M44.85,47.87a2.2,2.2,0,0,1-1.73-.72,3.12,3.12,0,0,1,0-3.82,2.31,2.31,0,0,1,1.75-.7,2.14,2.14,0,0,1,1.69.7,2.81,2.81,0,0,1,.62,1.93,2.76,2.76,0,0,1-.63,1.89A2.18,2.18,0,0,1,44.85,47.87Zm0-4.83a1.78,1.78,0,0,0-1.41.6,2.42,2.42,0,0,0-.53,1.66,2.33,2.33,0,0,0,.51,1.58,1.75,1.75,0,0,0,1.4.6,1.71,1.71,0,0,0,1.39-.59,3,3,0,0,0,0-3.27A1.71,1.71,0,0,0,44.88,43Z"/><path class="cls-4" d="M51.06,43.22a.88.88,0,0,0-.53-.16,1.16,1.16,0,0,0-1,.61,3.15,3.15,0,0,0-.4,1.73v2.35H48.7v-5h.44v1.11h0A1.82,1.82,0,0,1,49.7,43a1.28,1.28,0,0,1,.86-.32,1.33,1.33,0,0,1,.5.09Z"/><path class="cls-4" d="M55.11,47.75l-2.39-2.47h0v2.47h-.45v-7.4h.45v4.77h0L55,42.75h.58L53.2,45.17l2.56,2.58Z"/></svg>
\ No newline at end of file
diff --git a/src/sentry/static/sentry/images/icons/electron.png b/src/sentry/static/sentry/images/icons/electron.png
new file mode 100644
index 0000000000..5d220344fe
Binary files /dev/null and b/src/sentry/static/sentry/images/icons/electron.png differ
diff --git a/src/sentry/static/sentry/images/icons/mono-gorilla.svg b/src/sentry/static/sentry/images/icons/mono-gorilla.svg
new file mode 100644
index 0000000000..87df58a420
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/mono-gorilla.svg
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<svg xmlns="http://www.w3.org/2000/svg" width="248" height="248" viewbox="0 0 248 248">
+  <path d="m21,247.108917c0,-1.547012 51.746597,-63.73201 52.837601,-63.496002c0.623199,0.134995 23.735199,9.953995 51.360397,21.819992c47.179001,20.266006 50.309006,21.464005 51.585007,19.755005c1.929001,-2.585999 8.57399,-16.485992 12.088989,-25.287994l2.98201,-7.469009l-5.024002,-2.746994c-7.119003,-3.893005 -17.561996,-12.563995 -24.100006,-20.012009c-5.966995,-6.79599 -16.729996,-23.194992 -16.729996,-25.490997c0,-0.759003 3.419998,2.695007 7.600006,7.677002c11.73999,13.992996 38.794998,35.889008 40.493988,32.772995c2.016998,-3.696991 3.320007,-14.613998 3.255005,-27.263c-0.078995,-15.441986 -2.102997,-27.463989 -7.417999,-44.057983l-2.979004,-9.298004l-14.725998,-4.628998c-8.098999,-2.545799 -16.218994,-5.098198 -18.042999,-5.6717c-6.362,-2 -2.382004,-1.892403 6.932999,0.187599c11.137009,2.4869 22.449005,4.587402 29.45401,5.469101c6.167999,0.776001 7.524994,-0.433998 8.184998,-7.297897c0.840988,-8.751701 -4.807007,-32.921402 -10.505005,-44.955204c-2.274002,-4.802898 -3.300003,-5.838497 -7.852997,-7.922897c-15.156006,-6.9384 -62.594002,-13.436901 -82.738503,-11.334301c-8.708099,0.909 -17.653198,3.025101 -20.441101,4.835598c-0.785797,0.510303 4.830704,1.957203 14.5,3.735302c8.680603,1.596298 15.0056,3.0541 14.056602,3.239498c-0.949005,0.185402 -14.588799,-1.313599 -30.311005,-3.330997c-27.601597,-3.541702 -28.654396,-3.606003 -30.576897,-1.8661c-4.008301,3.627399 -9.775299,13.542801 -10.962601,18.848198c-1.149502,5.136501 -1.0686,5.731701 1.4888,10.959003c4.3591,8.909798 12.464901,15.392799 30.909897,24.721901c8.722,4.4114 15.646606,8.2323 15.3881,8.490799c-0.258499,0.258499 -7.701698,-2.520599 -16.540596,-6.175705l-16.070602,-6.645699l-23.581898,6.599205c-12.9701,3.629593 -24.01738,6.599197 -24.549571,6.599197c-0.60822,0 -0.96763,-15.6689 -0.96763,-42.184299c0,-40.622202 0.07668,-42.342602 2.07095,-46.462301c1.21568,-2.5112 3.59035,-5.22276 5.75,-6.56567l3.67905,-2.28771l108,-0.30055c59.399994,-0.1653 110.403,-0.01541 113.339005,0.33309c6.616989,0.78534 12.588989,5.63064 14.168991,11.49574c0.680008,2.528399 0.936005,40.981501 0.759003,114.142797l-0.266998,110.328987l-2.287994,3.679001c-1.343002,2.160004 -4.054001,4.534012 -6.565002,5.75c-4.24501,2.055008 -5.104004,2.070999 -110.962997,2.070999c-58.676109,0 -106.684006,-0.341995 -106.684006,-0.758987z" fill="#ffffff" id="path2228"/>
+</svg>
diff --git a/src/sentry/static/sentry/images/icons/netcore.svg b/src/sentry/static/sentry/images/icons/netcore.svg
new file mode 100644
index 0000000000..43a66f8c8b
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/netcore.svg
@@ -0,0 +1 @@
+<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#5c2d91;}.cls-2,.cls-3{fill:#fff;}.cls-2{opacity:0.1;}.cls-4{fill:#f2f2f2;}</style></defs><title>logo_NETcore</title><circle class="cls-1" cx="32" cy="32" r="32"/><path class="cls-2" d="M9.82,9A32,32,0,1,0,55,54.18Z"/><path class="cls-3" d="M7.4,37.25a1.35,1.35,0,0,1-1-.42,1.38,1.38,0,0,1-.41-1,1.4,1.4,0,0,1,.41-1,1.34,1.34,0,0,1,1-.43,1.37,1.37,0,0,1,1,.43,1.39,1.39,0,0,1,.42,1,1.37,1.37,0,0,1-.42,1A1.38,1.38,0,0,1,7.4,37.25Z"/><path class="cls-3" d="M27.27,37H24.65L15.28,22.46a6,6,0,0,1-.58-1.14h-.08a18.72,18.72,0,0,1,.1,2.5V37H12.59V18.77h2.77l9.12,14.28q.57.89.74,1.22h.05a19.28,19.28,0,0,1-.13-2.68V18.77h2.13Z"/><path class="cls-3" d="M41.69,37H32V18.77h9.24V20.7H34.18v6.06h6.58v1.92H34.18V35h7.52Z"/><path class="cls-3" d="M56,20.7H50.7V37H48.57V20.7H43.33V18.77H56Z"/><path class="cls-4" d="M26.12,49.4a4.93,4.93,0,0,1-2.32.49,3.74,3.74,0,0,1-2.87-1.15,4.26,4.26,0,0,1-1.08-3,4.46,4.46,0,0,1,1.21-3.26,4.12,4.12,0,0,1,3.08-1.24,4.93,4.93,0,0,1,2,.35v1a4,4,0,0,0-2-.5,3.06,3.06,0,0,0-2.35,1,3.64,3.64,0,0,0-.9,2.58,3.47,3.47,0,0,0,.84,2.45,2.86,2.86,0,0,0,2.21.91,4.14,4.14,0,0,0,2.19-.56Z"/><path class="cls-4" d="M30.21,49.89A2.78,2.78,0,0,1,28.08,49a3.11,3.11,0,0,1-.79-2.23,3.24,3.24,0,0,1,.83-2.36,3,3,0,0,1,2.23-.85,2.69,2.69,0,0,1,2.09.83,3.28,3.28,0,0,1,.75,2.29,3.22,3.22,0,0,1-.81,2.3A2.84,2.84,0,0,1,30.21,49.89Zm.07-5.47a1.83,1.83,0,0,0-1.46.63,2.59,2.59,0,0,0-.54,1.74,2.45,2.45,0,0,0,.54,1.68,1.85,1.85,0,0,0,1.46.62,1.76,1.76,0,0,0,1.43-.6,2.62,2.62,0,0,0,.5-1.72,2.66,2.66,0,0,0-.5-1.73A1.75,1.75,0,0,0,30.28,44.42Z"/><path class="cls-4" d="M37.86,44.72a1.18,1.18,0,0,0-.73-.19,1.23,1.23,0,0,0-1,.58,2.68,2.68,0,0,0-.41,1.58v3.06h-1v-6h1V45h0a2.1,2.1,0,0,1,.63-1,1.43,1.43,0,0,1,.94-.35,1.57,1.57,0,0,1,.57.08Z"/><path class="cls-4" d="M43.72,47H39.49A2.24,2.24,0,0,0,40,48.54a1.86,1.86,0,0,0,1.42.54,3,3,0,0,0,1.86-.67v.9a3.48,3.48,0,0,1-2.09.57,2.54,2.54,0,0,1-2-.82,3.35,3.35,0,0,1-.73-2.3,3.28,3.28,0,0,1,.79-2.28,2.55,2.55,0,0,1,2-.88,2.26,2.26,0,0,1,1.82.76,3.18,3.18,0,0,1,.64,2.12Zm-1-.81a2,2,0,0,0-.4-1.29,1.37,1.37,0,0,0-1.1-.46,1.55,1.55,0,0,0-1.15.49,2.21,2.21,0,0,0-.59,1.27Z"/></svg>
\ No newline at end of file
diff --git a/src/sentry/static/sentry/images/icons/netframework.svg b/src/sentry/static/sentry/images/icons/netframework.svg
new file mode 100644
index 0000000000..809816ba80
--- /dev/null
+++ b/src/sentry/static/sentry/images/icons/netframework.svg
@@ -0,0 +1 @@
+<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#5c2d91;}.cls-2,.cls-3{fill:#fff;}.cls-2{opacity:0.1;}.cls-4{fill:#f2f2f2;}</style></defs><title>logo_NETframework</title><circle class="cls-1" cx="32" cy="32" r="32"/><path class="cls-2" d="M9.82,9A32,32,0,1,0,55,54.18Z"/><path class="cls-3" d="M7.4,37.25a1.35,1.35,0,0,1-1-.42,1.38,1.38,0,0,1-.41-1,1.4,1.4,0,0,1,.41-1,1.34,1.34,0,0,1,1-.43,1.37,1.37,0,0,1,1,.43,1.39,1.39,0,0,1,.42,1,1.37,1.37,0,0,1-.42,1A1.38,1.38,0,0,1,7.4,37.25Z"/><path class="cls-3" d="M27.27,37H24.65L15.28,22.46a6,6,0,0,1-.58-1.14h-.08a18.72,18.72,0,0,1,.1,2.5V37H12.59V18.77h2.77l9.12,14.28q.57.89.74,1.22h.05a19.28,19.28,0,0,1-.13-2.68V18.77h2.13Z"/><path class="cls-3" d="M41.69,37H32V18.77h9.24V20.7H34.18v6.06h6.58v1.92H34.18V35h7.52Z"/><path class="cls-3" d="M56,20.7H50.71V37H48.57V20.7H43.33V18.77H56Z"/><path class="cls-4" d="M9,41.19V44h2.59v.44H9v3.26H8.51v-7h3.27v.44Z"/><path class="cls-4" d="M15.67,43.22a.88.88,0,0,0-.53-.16,1.17,1.17,0,0,0-1,.61,3.15,3.15,0,0,0-.4,1.73v2.35h-.44v-5h.44v1.11h0a1.82,1.82,0,0,1,.54-.89,1.28,1.28,0,0,1,.86-.32,1.33,1.33,0,0,1,.5.09Z"/><path class="cls-4" d="M19.85,47.75v-1h0a2,2,0,0,1-.7.82,1.78,1.78,0,0,1-1,.31,1.56,1.56,0,0,1-1.13-.4,1.34,1.34,0,0,1-.42-1q0-1.31,1.73-1.58l1.54-.23q0-1.61-1.21-1.61A2.47,2.47,0,0,0,17,43.7v-.54a2.46,2.46,0,0,1,.75-.38,2.87,2.87,0,0,1,.9-.16,1.51,1.51,0,0,1,1.19.48,2,2,0,0,1,.42,1.39v3.25Zm-1.38-2.49a2.4,2.4,0,0,0-1.1.36,1.13,1.13,0,0,0,0,1.55,1.13,1.13,0,0,0,.82.29,1.55,1.55,0,0,0,1.2-.53,2,2,0,0,0,.48-1.38v-.49Z"/><path class="cls-4" d="M28.32,47.75v-3a2.22,2.22,0,0,0-.3-1.32,1.11,1.11,0,0,0-.94-.38,1.3,1.3,0,0,0-1,.51,1.91,1.91,0,0,0-.43,1.27v2.93h-.45v-3q0-1.67-1.27-1.67a1.25,1.25,0,0,0-1,.51,2.06,2.06,0,0,0-.41,1.32v2.88h-.45v-5h.45v.83h0a1.66,1.66,0,0,1,1.53-1,1.43,1.43,0,0,1,.94.32,1.54,1.54,0,0,1,.52.83,1.92,1.92,0,0,1,.67-.84,1.65,1.65,0,0,1,.95-.3q1.64,0,1.64,2v3.09Z"/><path class="cls-4" d="M30.63,45.27a2.47,2.47,0,0,0,.48,1.61,1.6,1.6,0,0,0,1.31.58,2.66,2.66,0,0,0,1.64-.62v.48a2.92,2.92,0,0,1-1.73.55,2,2,0,0,1-1.56-.69,2.92,2.92,0,0,1-.6-2,2.79,2.79,0,0,1,.62-1.84,2,2,0,0,1,1.62-.75,1.69,1.69,0,0,1,1.43.65,2.89,2.89,0,0,1,.5,1.79v.2Zm3.23-.41a2.21,2.21,0,0,0-.42-1.34A1.29,1.29,0,0,0,32.38,43a1.56,1.56,0,0,0-1.16.47,2.26,2.26,0,0,0-.57,1.35Z"/><path class="cls-4" d="M40.06,47.75h-.42L38.55,44a3.11,3.11,0,0,1-.08-.42h0a2.51,2.51,0,0,1-.1.41l-1.22,3.78h-.42l-1.51-5h.5l1.16,4a2.44,2.44,0,0,1,.07.42h0a2.13,2.13,0,0,1,.09-.42l1.27-4h.31l1.13,4a2.83,2.83,0,0,1,.07.42h0a1.63,1.63,0,0,1,.08-.42l1.19-4h.46Z"/><path class="cls-4" d="M44.85,47.87a2.2,2.2,0,0,1-1.73-.72,3.12,3.12,0,0,1,0-3.82,2.31,2.31,0,0,1,1.75-.7,2.14,2.14,0,0,1,1.69.7,2.81,2.81,0,0,1,.62,1.93,2.76,2.76,0,0,1-.63,1.89A2.18,2.18,0,0,1,44.85,47.87Zm0-4.83a1.78,1.78,0,0,0-1.41.6,2.42,2.42,0,0,0-.53,1.66,2.33,2.33,0,0,0,.51,1.58,1.75,1.75,0,0,0,1.4.6,1.71,1.71,0,0,0,1.39-.59,3,3,0,0,0,0-3.27A1.71,1.71,0,0,0,44.88,43Z"/><path class="cls-4" d="M51.06,43.22a.88.88,0,0,0-.53-.16,1.16,1.16,0,0,0-1,.61,3.15,3.15,0,0,0-.4,1.73v2.35H48.7v-5h.44v1.11h0A1.82,1.82,0,0,1,49.7,43a1.28,1.28,0,0,1,.86-.32,1.33,1.33,0,0,1,.5.09Z"/><path class="cls-4" d="M55.11,47.75l-2.39-2.47h0v2.47h-.45v-7.4h.45v4.77h0L55,42.75h.58L53.2,45.17l2.56,2.58Z"/></svg>
\ No newline at end of file
diff --git a/src/sentry/static/sentry/less/group-detail.less b/src/sentry/static/sentry/less/group-detail.less
index 1ab8ce5396..f401612ce7 100644
--- a/src/sentry/static/sentry/less/group-detail.less
+++ b/src/sentry/static/sentry/less/group-detail.less
@@ -954,6 +954,22 @@
       }
     }
 
+    &.electron .context-item-icon {
+      background-image: url(../images/icons/context/electron.png);
+    }
+
+    &.net-framework .context-item-icon {
+      background-image: url(../images/icons/context/netframework.svg);
+    }
+
+    &.net-core .context-item-icon {
+      background-image: url(../images/icons/context/netcore.svg);
+    }
+
+    &.mono .context-item-icon {
+      background-image: url(../images/icons/context/mono-gorilla.svg);
+    }
+
     &.ipad .context-item-icon {
       background-image: url(../images/icons/context/ipad.svg);
     }
diff --git a/src/sentry/utils/contexts_normalization.py b/src/sentry/utils/contexts_normalization.py
new file mode 100644
index 0000000000..b4e270d3ce
--- /dev/null
+++ b/src/sentry/utils/contexts_normalization.py
@@ -0,0 +1,68 @@
+from __future__ import absolute_import
+import re
+
+# Environment.OSVersion (GetVersionEx) or RuntimeInformation.OSDescription, on Windows
+_windows_re = re.compile('^(Microsoft )?Windows (NT )?(?P<version>\d+\.\d+\.\d+).*$')
+# Environment.OSVersion or RuntimeInformation.OSDescription (uname)
+# on Mono and CoreCLR on macOS, iOS, Linux, etc
+_uname_re = re.compile('^(?P<name>[a-zA-Z]+) (?P<version>\d+\.\d+\.\d+(\.[1-9]+)?).*$')
+# Mono 5.4, .NET Core 2.0
+_runtime_re = re.compile('^(?P<name>.*) (?P<version>\d+\.\d+(\.\d+){0,2}).*$')
+
+
+def normalize_os(data):
+    raw_description = data.get('raw_description')
+    # If there's no name and version, attempts to infer from raw_description
+    if raw_description is not None \
+            and data.get('name') is None \
+            and data.get('version') is None:
+        r = _windows_re.search(raw_description)
+        if r:
+            data['name'] = 'Windows'
+            data['version'] = r.group('version')
+        else:
+            r = _uname_re.search(raw_description)
+            if r:
+                data['name'] = r.group('name')
+                data['kernel_version'] = r.group('version')
+
+
+def normalize_runtime(data):
+    raw_description = data.get('raw_description')
+    # If there's no name and version, attempts to infer from raw_description
+    if raw_description is not None \
+            and data.get('name') is None \
+            and data.get('version') is None:
+        r = _runtime_re.search(raw_description)
+        if r:
+            data['name'] = r.group('name')
+            data['version'] = r.group('version')
+
+    # RuntimeInformation.FrameworkDescription doesn't return a very useful value.
+    # example: .NET Framework 4.7.3056.0
+    # Release key dug from registry and sent as #build
+    if data.get('name').startswith('.NET Framework'):
+        build = data.get('build')
+
+        if build is not None:
+            version_map = {
+                "378389": "4.5",
+                "378675": "4.5.1",
+                "378758": "4.5.1",
+                "379893": "4.5.2",
+                "393295": "4.6",
+                "393297": "4.6",
+                "394254": "4.6.1",
+                "394271": "4.6.1",
+                "394802": "4.6.2",
+                "394806": "4.6.2",
+                "460798": "4.7",
+                "460805": "4.7",
+                "461308": "4.7.1",
+                "461310": "4.7.1",
+                "461808": "4.7.2",
+                "461814": "4.7.2",
+            }
+            version = version_map.get(build, None)
+            if version is not None:
+                data['version'] = version
diff --git a/src/sentry/utils/os_normalization.py b/src/sentry/utils/os_normalization.py
deleted file mode 100644
index 4d5dde4b66..0000000000
--- a/src/sentry/utils/os_normalization.py
+++ /dev/null
@@ -1,25 +0,0 @@
-from __future__ import absolute_import
-import re
-
-# Environment.OSVersion (GetVersionEx) or RuntimeInformation.OSDescription, on Windows
-_windows_re = re.compile('^(Microsoft )?Windows (NT )?(?P<version>\d+\.\d+\.\d+).*$')
-# Environment.OSVersion or RuntimeInformation.OSDescription (uname)
-# on Mono and CoreCLR on macOS, iOS, Linux, etc
-_uname_re = re.compile('^(?P<name>[a-zA-Z]+) (?P<version>\d+\.\d+\.\d+(\.[1-9]+)?).*$')
-
-
-def normalize(data):
-    raw_description = data.get('raw_description')
-    # If there's no name and version, attempts to infer from raw_description
-    if raw_description is not None \
-            and data.get('name') is None \
-            and data.get('version') is None:
-        r = _windows_re.search(raw_description)
-        if r:
-            data['name'] = 'Windows'
-            data['version'] = r.group('version')
-        else:
-            r = _uname_re.search(raw_description)
-            if r:
-                data['name'] = r.group('name')
-                data['kernel_version'] = r.group('version')
diff --git a/tests/sentry/interfaces/test_contexts.py b/tests/sentry/interfaces/test_contexts.py
index 5d9330550b..e60dd49edd 100644
--- a/tests/sentry/interfaces/test_contexts.py
+++ b/tests/sentry/interfaces/test_contexts.py
@@ -71,6 +71,27 @@ class ContextsTest(TestCase):
             }
         }
 
+    def test_runtime_normalization(self):
+        ctx = Contexts.to_python({
+            'runtime': {
+                'raw_description': '.NET Framework 4.0.30319.42000',
+                'build': '461808',
+            }
+        })
+        assert sorted(ctx.iter_tags()) == [
+            ('runtime', '.NET Framework 4.7.2'),
+            ('runtime.name', '.NET Framework')
+        ]
+        assert ctx.to_json() == {
+            'runtime': {
+                'type': 'runtime',
+                'raw_description': '.NET Framework 4.0.30319.42000',
+                'build': '461808',
+                'name': '.NET Framework',
+                'version': '4.7.2'
+            }
+        }
+
     def test_device(self):
         ctx = Contexts.to_python(
             {
diff --git a/tests/sentry/utils/test_contexts_normalization.py b/tests/sentry/utils/test_contexts_normalization.py
new file mode 100644
index 0000000000..83449d7fa2
--- /dev/null
+++ b/tests/sentry/utils/test_contexts_normalization.py
@@ -0,0 +1,109 @@
+from __future__ import absolute_import
+from sentry.utils.contexts_normalization import normalize_os, normalize_runtime
+from sentry.testutils import TestCase
+
+
+class NormalizeRuntimeTests(TestCase):
+    def test_dotnet_framework_472(self):
+        data = {'raw_description': '.NET Framework 4.7.3056.0', 'build': "461814"}
+        normalize_runtime(data)
+        assert data['name'] == '.NET Framework'
+        assert data['version'] == '4.7.2'
+
+    def test_dotnet_framework_future_version(self):
+        # Unmapped build number doesn't override version
+        data = {'raw_description': '.NET Framework 200.0', 'build': "999999"}
+        normalize_runtime(data)
+        assert data['name'] == '.NET Framework'
+        assert data['version'] == '200.0'
+
+    def test_dotnet_native(self):
+        data = {'raw_description': '.NET Native 2.0'}
+        normalize_runtime(data)
+        assert data['name'] == '.NET Native'
+        assert data['version'] == '2.0'
+
+    def test_dotnet_core(self):
+        data = {'raw_description': '.NET Core 2.0'}
+        normalize_runtime(data)
+        assert data['name'] == '.NET Core'
+        assert data['version'] == '2.0'
+
+
+class NormalizeOsTests(TestCase):
+    # Environment.OSVersion on Windows 7 (CoreCLR 1.0+, .NET Framework 1.1+, Mono 1+)
+    def test_windows_7_or_server_2008(self):
+        data = {'raw_description': 'Microsoft Windows NT 6.1.7601 Service Pack 1'}
+        normalize_os(data)
+        assert data['name'] == 'Windows'
+        assert data['version'] == '6.1.7601'
+
+    # Environment.OSVersion on Windows 10 (CoreCLR 1.0+, .NET Framework 1.1+, Mono 1+)
+    # *or later, due to GetVersionEx deprecated on Windows 8.1
+    # It's a potentially really misleading API on newer platforms
+    # Only used if RuntimeInformation.OSDescription is not available (old runtimes)
+    def test_windows_8_or_server_2012_or_later(self):
+        data = {'raw_description': 'Microsoft Windows NT 6.2.9200.0'}
+        normalize_os(data)
+        assert data['name'] == 'Windows'
+        assert data['version'] == '6.2.9200'
+
+    # RuntimeInformation.OSDescription on Windows 10 (CoreCLR 2.0+, .NET Framework 4.7.1+, Mono 5.4+)
+    def test_windows_10(self):
+        data = {'raw_description': 'Microsoft Windows 10.0.16299'}
+        normalize_os(data)
+        assert data['name'] == 'Windows'
+        assert data['version'] == '10.0.16299'
+
+    # Environment.OSVersion on macOS (CoreCLR 1.0+, Mono 1+)
+    def test_macos(self):
+        data = {'raw_description': 'Unix 17.5.0.0'}
+        normalize_os(data)
+        assert data['name'] == 'Unix'
+        assert data['kernel_version'] == '17.5.0'
+
+    # Environment.OSVersion on CentOS 7 (CoreCLR 1.0+, Mono 1+)
+    def test_centos_os_version(self):
+        data = {'raw_description': 'Unix 3.10.0.693'}
+        normalize_os(data)
+        assert data['name'] == 'Unix'
+        assert data['kernel_version'] == '3.10.0.693'
+
+    # RuntimeInformation.OSDescription on CentOS 7 (CoreCLR 2.0+, Mono 5.4+)
+    def test_centos_runtime_info(self):
+        data = {'raw_description': 'Linux 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018'}
+        normalize_os(data)
+        assert data['name'] == 'Linux'
+        assert data['kernel_version'] == '3.10.0'
+
+    # RuntimeInformation.OSDescription on macOS (CoreCLR 2.0+, Mono 5.4+)
+    def test_darwin(self):
+        data = {'raw_description': 'Darwin 17.5.0 Darwin Kernel Version 17.5.0: Mon Mar  5 22:24:32 PST 2018; root:xnu-4570.51.1~1/RELEASE_X86_64'}
+        normalize_os(data)
+        assert data['name'] == 'Darwin'
+        assert data['kernel_version'] == '17.5.0'
+
+    # RuntimeInformation.OSDescription on Windows Subsystem for Linux (Ubuntu) (CoreCLR 2.0+, Mono 5.4+)
+    def test_wsl_ubuntu(self):
+        data = {'raw_description': 'Linux 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014'}
+        normalize_os(data)
+        assert data['name'] == 'Linux'
+        assert data['kernel_version'] == '4.4.0'
+
+    def test_name_not_overwritten(self):
+        data = {'name': 'Properly defined name', 'raw_description': 'Linux 4.4.0'}
+        normalize_os(data)
+        assert data['name'] == 'Properly defined name'
+
+    def test_version_not_overwritten(self):
+        data = {'version': 'Properly defined version', 'raw_description': 'Linux 4.4.0'}
+        normalize_os(data)
+        assert data['version'] == 'Properly defined version'
+
+    def test_no_name(self):
+        data = {}
+        normalize_os(data)
+        assert 'name' not in data
+        assert 'version' not in data
+        assert 'kernel_version' not in data
+        assert 'raw_description' not in data
diff --git a/tests/sentry/utils/test_os_normalization.py b/tests/sentry/utils/test_os_normalization.py
deleted file mode 100644
index 50432161f3..0000000000
--- a/tests/sentry/utils/test_os_normalization.py
+++ /dev/null
@@ -1,90 +0,0 @@
-from __future__ import absolute_import
-from sentry.utils.os_normalization import normalize
-
-
-# Environment.OSVersion on Windows 7 (CoreCLR 1.0+, .NET Framework 1.1+, Mono 1+)
-def test_windows_7_or_server_2008():
-    data = {'raw_description': 'Microsoft Windows NT 6.1.7601 Service Pack 1'}
-    normalize(data)
-    assert data['name'] == 'Windows'
-    assert data['version'] == '6.1.7601'
-
-
-# Environment.OSVersion on Windows 10 (CoreCLR 1.0+, .NET Framework 1.1+, Mono 1+)
-# *or later, due to GetVersionEx deprecated on Windows 8.1
-# It's a potentially really misleading API on newer platforms
-# Only used if RuntimeInformation.OSDescription is not available (old runtimes)
-def test_windows_8_or_server_2012_or_later():
-    data = {'raw_description': 'Microsoft Windows NT 6.2.9200.0'}
-    normalize(data)
-    assert data['name'] == 'Windows'
-    assert data['version'] == '6.2.9200'
-
-
-# RuntimeInformation.OSDescription on Windows 10 (CoreCLR 2.0+, .NET Framework 4.7.1+, Mono 5.4+)
-def test_windows_10():
-    data = {'raw_description': 'Microsoft Windows 10.0.16299'}
-    normalize(data)
-    assert data['name'] == 'Windows'
-    assert data['version'] == '10.0.16299'
-
-
-# Environment.OSVersion on macOS (CoreCLR 1.0+, Mono 1+)
-def test_macos():
-    data = {'raw_description': 'Unix 17.5.0.0'}
-    normalize(data)
-    assert data['name'] == 'Unix'
-    assert data['kernel_version'] == '17.5.0'
-
-
-# Environment.OSVersion on CentOS 7 (CoreCLR 1.0+, Mono 1+)
-def test_centos_os_version():
-    data = {'raw_description': 'Unix 3.10.0.693'}
-    normalize(data)
-    assert data['name'] == 'Unix'
-    assert data['kernel_version'] == '3.10.0.693'
-
-
-# RuntimeInformation.OSDescription on CentOS 7 (CoreCLR 2.0+, Mono 5.4+)
-def test_centos_runtime_info():
-    data = {'raw_description': 'Linux 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018'}
-    normalize(data)
-    assert data['name'] == 'Linux'
-    assert data['kernel_version'] == '3.10.0'
-
-
-# RuntimeInformation.OSDescription on macOS (CoreCLR 2.0+, Mono 5.4+)
-def test_darwin():
-    data = {'raw_description': 'Darwin 17.5.0 Darwin Kernel Version 17.5.0: Mon Mar  5 22:24:32 PST 2018; root:xnu-4570.51.1~1/RELEASE_X86_64'}
-    normalize(data)
-    assert data['name'] == 'Darwin'
-    assert data['kernel_version'] == '17.5.0'
-
-
-# RuntimeInformation.OSDescription on Windows Subsystem for Linux (Ubuntu) (CoreCLR 2.0+, Mono 5.4+)
-def test_wsl_ubuntu():
-    data = {'raw_description': 'Linux 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014'}
-    normalize(data)
-    assert data['name'] == 'Linux'
-    assert data['kernel_version'] == '4.4.0'
-
-
-def test_name_not_overwritten():
-    data = {'name': 'Properly defined name', 'raw_description': 'Linux 4.4.0'}
-    normalize(data)
-    assert data['name'] == 'Properly defined name'
-
-
-def test_version_not_overwritten():
-    data = {'version': 'Properly defined version', 'raw_description': 'Linux 4.4.0'}
-    normalize(data)
-    assert data['version'] == 'Properly defined version'
-
-
-def test_no_name():
-    data = {}
-    normalize(data)
-    assert 'name' not in data
-    assert 'version' not in data
-    assert 'kernel_version' not in data
-    assert 'raw_description' not in data
