commit e50dbcac189e11e30f75e3467de8aa3445804d0d
Author: David Cramer <dcramer@gmail.com>
Date:   Fri Jan 18 00:31:10 2013 -0800

    optimize sort query for last seen view

diff --git a/src/sentry/web/frontend/groups.py b/src/sentry/web/frontend/groups.py
index feb1f546b0..ad896925d6 100644
--- a/src/sentry/web/frontend/groups.py
+++ b/src/sentry/web/frontend/groups.py
@@ -117,7 +117,12 @@ def _get_group_list(request, project):
     if score_clause:
         event_list = event_list.extra(
             select={'sort_value': score_clause},
-        ).order_by('-sort_value', '-last_seen')
+        )
+        # HACK: dont sort by the same column twice
+        if sort == 'date':
+            event_list = event_list.order_by('-last_seen')
+        else:
+            event_list = event_list.order_by('-sort_value', '-last_seen')
         cursor = request.GET.get('cursor')
         if cursor:
             event_list = event_list.extra(
