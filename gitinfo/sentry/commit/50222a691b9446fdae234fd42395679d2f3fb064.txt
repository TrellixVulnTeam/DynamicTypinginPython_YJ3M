commit 50222a691b9446fdae234fd42395679d2f3fb064
Author: Billy Vong <billyvg@users.noreply.github.com>
Date:   Fri Sep 21 10:09:09 2018 -0700

    feat(health): Filter empty tooltips in Releases charts (#9749)
    
    Add a new Release chart. Confine tooltips to within chart canvas.

diff --git a/src/sentry/static/sentry/app/components/charts/panelChart/index.jsx b/src/sentry/static/sentry/app/components/charts/panelChart/index.jsx
index 31ad046e9e..2cf1f12c41 100644
--- a/src/sentry/static/sentry/app/components/charts/panelChart/index.jsx
+++ b/src/sentry/static/sentry/app/components/charts/panelChart/index.jsx
@@ -30,7 +30,7 @@ const PanelChart = styled(
         <Panel className={className}>
           {(title || showLegend) && (
             <PanelHeader>
-              {title && <span>{title}</span>}
+              {title && <Title>{title}</Title>}
               {showLegend && <Legend {...props} />}
             </PanelHeader>
           )}
@@ -53,3 +53,8 @@ export default PanelChart;
 const ChartWrapper = styled('div')`
   overflow: hidden; /* This is required to have flex containers resize */
 `;
+
+const Title = styled('span')`
+  white-space: nowrap;
+  flex-shrink: 0;
+`;
diff --git a/src/sentry/static/sentry/app/views/organizationHealth/errors.jsx b/src/sentry/static/sentry/app/views/organizationHealth/errors.jsx
index 0fbaec6bf6..bc8da54bbe 100644
--- a/src/sentry/static/sentry/app/views/organizationHealth/errors.jsx
+++ b/src/sentry/static/sentry/app/views/organizationHealth/errors.jsx
@@ -21,6 +21,8 @@ import HealthRequest from './util/healthRequest';
 import HealthTableChart from './styles/healthTableChart';
 import withHealth from './util/withHealth';
 
+const filterEmpty = val => !!val;
+
 class OrganizationHealthErrors extends React.Component {
   static propTypes = {
     actions: PropTypes.object,
@@ -34,6 +36,11 @@ class OrganizationHealthErrors extends React.Component {
   render() {
     let {organization} = this.props;
 
+    const tooltipOptions = {
+      filter: filterEmpty,
+      confine: true,
+    };
+
     return (
       <React.Fragment>
         <Flex justify="space-between">
@@ -123,16 +130,41 @@ class OrganizationHealthErrors extends React.Component {
               return (
                 <HealthPanelChart
                   height={200}
-                  title={t('Releases')}
+                  title={t('Releases (most recent)')}
                   series={timeseriesData}
                 >
-                  {props => <AreaChart isGroupedByDate {...props} />}
+                  {props => (
+                    <AreaChart isGroupedByDate tooltip={tooltipOptions} {...props} />
+                  )}
                 </HealthPanelChart>
               );
             }}
           </ReleasesRequest>
         </Flex>
 
+        <Flex>
+          <HealthRequest
+            tag="release"
+            includeTimeseries
+            interval="1d"
+            showLoading
+            limit={10}
+            getCategory={({shortVersion}) => shortVersion}
+          >
+            {({timeseriesData}) => {
+              return (
+                <HealthPanelChart
+                  height={200}
+                  title={t('Releases (most in period)')}
+                  series={timeseriesData}
+                >
+                  {props => <AreaChart tooltip={tooltipOptions} {...props} />}
+                </HealthPanelChart>
+              );
+            }}
+          </HealthRequest>
+        </Flex>
+
         <Flex>
           <ReleasesRequest organization={organization}>
             {({timeseriesData, loading}) => {
@@ -140,7 +172,7 @@ class OrganizationHealthErrors extends React.Component {
               return (
                 <HealthPanelChart
                   height={200}
-                  title={t('Releases')}
+                  title={t('Releases (most recent)')}
                   series={timeseriesData}
                 >
                   {props => <PercentageBarChart isGroupedByDate {...props} />}
@@ -161,7 +193,7 @@ class OrganizationHealthErrors extends React.Component {
               return (
                 <HealthPanelChart
                   height={200}
-                  title={t('Releases')}
+                  title={t('Releases (most in period)')}
                   series={timeseriesData}
                 >
                   {props => <PercentageBarChart isGroupedByDate {...props} />}
