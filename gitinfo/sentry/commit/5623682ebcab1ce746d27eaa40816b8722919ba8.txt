commit 5623682ebcab1ce746d27eaa40816b8722919ba8
Author: Dora <dora.l.chan@gmail.com>
Date:   Fri Nov 8 16:19:37 2019 -0800

    feat(discover-v2-grid): card-grid-setup (#15478)
    
    * adding grid layout
    
    * styling card
    
    * styled query card content
    
    * updated responsiveness
    
    * added wider screen queries
    
    * added hover and active states
    
    * removed excess font weight
    
    * fixing rebasing conflicts
    
    * removed avatar
    
    * changed querycard component to purecomponent

diff --git a/src/sentry/static/sentry/app/components/banner.tsx b/src/sentry/static/sentry/app/components/banner.tsx
index 24019ec761..c0843fded1 100644
--- a/src/sentry/static/sentry/app/components/banner.tsx
+++ b/src/sentry/static/sentry/app/components/banner.tsx
@@ -24,7 +24,7 @@ class Banner extends React.Component<Props> {
     const {title, subtitle, isDismissable, onCloseClick, children} = this.props;
 
     return (
-      <StyledBanner>
+      <BannerWrapper>
         {isDismissable ? (
           <BannerIcon src="icon-close" aria-label={t('Close')} onClick={onCloseClick} />
         ) : null}
@@ -33,21 +33,21 @@ class Banner extends React.Component<Props> {
           <BannerSubtitle>{subtitle}</BannerSubtitle>
           <BannerActions>{children}</BannerActions>
         </BannerContent>
-      </StyledBanner>
+      </BannerWrapper>
     );
   }
 }
 
-const StyledBanner = styled('div')`
+const BannerWrapper = styled('div')`
   background-image: url(${spaceBg});
   background-repeat: no-repeat;
   background-size: cover;
   background-position: center center;
   position: relative;
   min-height: 320px;
+  margin-bottom: ${space(3)};
   padding-top: 24%;
   box-shadow: ${p => p.theme.dropShadowLight};
-  margin-bottom: ${space(2)};
 
   @media (min-width: ${theme.breakpoints[1]}) {
     min-height: 220px;
diff --git a/src/sentry/static/sentry/app/views/eventsV2/index.tsx b/src/sentry/static/sentry/app/views/eventsV2/index.tsx
index 6206fbd40f..a3428fbf04 100644
--- a/src/sentry/static/sentry/app/views/eventsV2/index.tsx
+++ b/src/sentry/static/sentry/app/views/eventsV2/index.tsx
@@ -20,7 +20,7 @@ import Banner from 'app/components/banner';
 import Button from 'app/components/button';
 import BetaTag from 'app/components/betaTag';
 import Feature from 'app/components/acl/feature';
-import Link from 'app/components/links/link';
+import SearchBar from 'app/views/events/searchBar';
 import NoProjectMessage from 'app/components/noProjectMessage';
 
 import {PageContent, PageHeader} from 'app/styles/organization';
@@ -33,6 +33,7 @@ import EventView from './eventView';
 import EventInputName from './eventInputName';
 import {getFirstQueryString} from './utils';
 import {ALL_VIEWS, TRANSACTION_VIEWS, SAMPLE_VIEWS} from './data';
+import QueryCard from './querycard';
 
 type Props = {
   organization: Organization;
@@ -81,25 +82,24 @@ class EventsV2 extends React.Component<Props> {
       };
 
       return (
-        <LinkContainer key={index}>
-          <Link
-            to={to}
-            onClick={() => {
-              trackAnalyticsEvent({
-                eventKey: 'discover_v2.prebuilt_query_click',
-                eventName: 'Discoverv2: Click a pre-built query',
-                organization_id: this.props.organization.id,
-                query_name: eventView.name,
-              });
-            }}
-          >
-            {eventView.name}
-          </Link>
-        </LinkContainer>
+        <QueryCard
+          key={index}
+          to={to}
+          title={eventView.name}
+          queryDetail={eventView.query}
+          onEventClick={() => {
+            trackAnalyticsEvent({
+              eventKey: 'discover_v2.prebuilt_query_click',
+              eventName: 'Discoverv2: Click a pre-built query',
+              organization_id: this.props.organization.id,
+              query_name: eventView.name,
+            });
+          }}
+        />
       );
     });
 
-    return <LinkList>{list}</LinkList>;
+    return <QueryGrid>{list}</QueryGrid>;
   }
 
   renderBanner() {
@@ -151,6 +151,16 @@ class EventsV2 extends React.Component<Props> {
     );
   }
 
+  renderNewQuery() {
+    return (
+      <div>
+        {this.renderBanner()}
+        <StyledSearchBar />
+        {this.renderQueryList()}
+      </div>
+    );
+  }
+
   render() {
     const {organization, location, router} = this.props;
 
@@ -192,8 +202,7 @@ class EventsV2 extends React.Component<Props> {
                     />
                   )}
                 </PageHeader>
-                {!hasQuery && this.renderBanner()}
-                {!hasQuery && this.renderQueryList()}
+                {!hasQuery && this.renderNewQuery()}
                 {hasQuery && (
                   <Events
                     organization={organization}
@@ -228,18 +237,26 @@ const BannerButton = styled(Button)`
   }
 `;
 
-const LinkList = styled('ul')`
-  list-style: none;
-  padding: 0;
-  margin: 0;
+const StyledSearchBar = styled(SearchBar)`
+  margin-bottom: ${space(3)};
 `;
-const LinkContainer = styled('li')`
-  background: ${p => p.theme.white};
-  line-height: 1.4;
-  border: 1px solid ${p => p.theme.borderLight};
-  border-radius: ${p => p.theme.borderRadius};
-  margin-bottom: ${space(1)};
-  padding: ${space(1)};
+
+const QueryGrid = styled('div')`
+  display: grid;
+  grid-template-columns: minmax(100px, 1fr);
+  grid-gap: ${space(3)};
+
+  @media (min-width: ${theme.breakpoints[1]}) {
+    grid-template-columns: repeat(2, minmax(100px, 1fr));
+  }
+
+  @media (min-width: ${theme.breakpoints[2]}) {
+    grid-template-columns: repeat(3, minmax(100px, 1fr));
+  }
+
+  @media (min-width: ${theme.breakpoints[4]}) {
+    grid-template-columns: repeat(5, minmax(100px, 1fr));
+  }
 `;
 
 // Wrapper is needed because BetaTag discards margins applied directly to it
diff --git a/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
new file mode 100644
index 0000000000..2d473c072c
--- /dev/null
+++ b/src/sentry/static/sentry/app/views/eventsV2/querycard.tsx
@@ -0,0 +1,102 @@
+import React from 'react';
+
+import styled from 'react-emotion';
+import space from 'app/styles/space';
+import Link from 'app/components/links/link';
+import InlineSvg from 'app/components/inlineSvg';
+
+type Props = {
+  title?: string;
+  queryDetail?: string;
+  to?: string | object;
+  onEventClick?: () => void;
+};
+
+class QueryCard extends React.PureComponent<Props> {
+  render() {
+    const {title, queryDetail, onEventClick, to} = this.props;
+
+    return (
+      <StyledQueryCard onClick={onEventClick} to={to}>
+        <QueryCardHeader>
+          <StyledTitle>{title}</StyledTitle>
+          <StyledQueryDetail>{queryDetail}</StyledQueryDetail>
+        </QueryCardHeader>
+        <QueryCardBody />
+        <QueryCardFooter>
+          <StyledCreator>
+            <small>Pre-Built Query</small>
+          </StyledCreator>
+          <InlineSvg src="icon-ellipsis-filled" />
+        </QueryCardFooter>
+      </StyledQueryCard>
+    );
+  }
+}
+
+const StyledQueryCard = styled(Link)`
+  background: ${p => p.theme.white};
+  border: 1px solid ${p => p.theme.borderLight};
+  border-radius: ${p => p.theme.borderRadius};
+  display: flex;
+  flex-direction: column;
+  justify-content: space-between;
+  height: 220px;
+  transition: all 0.2s ease;
+
+  &:hover {
+    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.2);
+    transform: translateY(-2px);
+  }
+
+  &:active {
+    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.5);
+  }
+`;
+
+const QueryCardHeader = styled('div')`
+  padding: ${space(1.5)} ${space(2)};
+  height: 80px;
+  overflow: hidden;
+`;
+
+const StyledTitle = styled('div')`
+  font-size: ${p => p.theme.fontSizeExtraLarge};
+  color: ${p => p.theme.gray5};
+  overflow: hidden;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  width: 100%;
+`;
+
+const StyledQueryDetail = styled('div')`
+  font-family: ${p => p.theme.text.familyMono};
+  font-size: ${p => p.theme.fontSizeMedium};
+  color: ${p => p.theme.gray2};
+  overflow: hidden;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+  width: 100%;
+`;
+
+const QueryCardBody = styled('div')`
+  background: ${p => p.theme.offWhiteLight};
+  max-height: 100px;
+  height: 100%;
+  overflow: hidden;
+`;
+
+const QueryCardFooter = styled('div')`
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  padding: ${space(1.5)} ${space(2)};
+  color: ${p => p.theme.gray5};
+`;
+
+const StyledCreator = styled('div')`
+  display: flex;
+  align-items: center;
+`;
+
+export default QueryCard;
