commit 64ea84c7dac1c79111fed09be94c81395a26abed
Author: David Cramer <dcramer@gmail.com>
Date:   Mon Sep 29 20:45:21 2014 -0700

    Correct exc_omitted

diff --git a/src/sentry/interfaces/exception.py b/src/sentry/interfaces/exception.py
index 11cbe863e6..6b00711f33 100644
--- a/src/sentry/interfaces/exception.py
+++ b/src/sentry/interfaces/exception.py
@@ -103,11 +103,6 @@ class SingleException(Interface):
             e_type = e_value
             e_value = None
 
-        if self.exc_omitted:
-            first_exc_omitted, last_exc_omitted = self.exc_omitted
-        else:
-            first_exc_omitted, last_exc_omitted = None, None
-
         return {
             'is_public': is_public,
             'event': event,
@@ -116,8 +111,6 @@ class SingleException(Interface):
             'exception_module': e_module,
             'fullname': fullname,
             'last_frame': last_frame,
-            'first_exc_omitted': first_exc_omitted,
-            'last_exc_omitted': last_exc_omitted,
         }
 
 
@@ -253,11 +246,18 @@ class Exception(Interface):
         if newest_first:
             exceptions.reverse()
 
+        if self.exc_omitted:
+            first_exc_omitted, last_exc_omitted = self.exc_omitted
+        else:
+            first_exc_omitted, last_exc_omitted = None, None
+
         return {
             'newest_first': newest_first,
             'system_frames': sum(e['stacktrace'].get('system_frames', 0) for e in exceptions),
             'exceptions': exceptions,
-            'stacktrace': self.get_stacktrace(event, newest_first=newest_first)
+            'stacktrace': self.get_stacktrace(event, newest_first=newest_first),
+            'first_exc_omitted': first_exc_omitted,
+            'last_exc_omitted': last_exc_omitted,
         }
 
     def to_html(self, event, **kwargs):
