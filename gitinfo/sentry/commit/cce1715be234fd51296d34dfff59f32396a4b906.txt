commit cce1715be234fd51296d34dfff59f32396a4b906
Author: Ted Kaemming <ted@kaemming.com>
Date:   Fri Nov 20 15:08:48 2015 -0800

    Improve Java stack frame formatting.
    
    This makes the formatting consistent with the [reference
    implementation][ref] as well as the [JavaScript implementation][js]
    used in the web UI.
    
    [ref]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/StackTraceElement.java#StackTraceElement.toString%28%29
    [js]: https://github.com/getsentry/sentry/blob/38efc3472787c8969f25b33a1e69624979151173/src/sentry/static/sentry/app/components/events/interfaces/rawStacktraceContent.jsx#L74-L90

diff --git a/src/sentry/templates/sentry/partial/frames/java.txt b/src/sentry/templates/sentry/partial/frames/java.txt
index 0c51adbf6c..cd7ec5194b 100644
--- a/src/sentry/templates/sentry/partial/frames/java.txt
+++ b/src/sentry/templates/sentry/partial/frames/java.txt
@@ -1,4 +1,4 @@
 {% load sentry_helpers %}{% autoescape off %}
-    at {% if filename %}{{ filename }}{% elif module %}{{ module }}{% else %}?{% endif %}{% if function %}.{{ function }}{% endif %}{% if filename %}({{ filename|basename }}{% if lineno != None %}:{{ lineno }}{% endif %}){% endif %}{% if context_line %}
+    at {% if module %}{{ module }}.{% endif %}{% if function %}{{ function }}{% endif %}{% if filename %}({{ filename|basename }}{% if lineno >= 0 %}:{{ lineno }}{% endif %}){% endif %}{% if context_line %}
     {{ context_line.strip }}{% endif %}
 {% endautoescape %}
