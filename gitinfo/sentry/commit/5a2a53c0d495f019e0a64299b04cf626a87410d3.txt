commit 5a2a53c0d495f019e0a64299b04cf626a87410d3
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Tue Nov 29 18:23:34 2011 -0500

    Using group.project works.

diff --git a/sentry/plugins/sentry_servers/models.py b/sentry/plugins/sentry_servers/models.py
index 77199b1eab..22f01b0129 100644
--- a/sentry/plugins/sentry_servers/models.py
+++ b/sentry/plugins/sentry_servers/models.py
@@ -20,12 +20,12 @@ class ServerGroupPanel(GroupActionProvider):
     
     title = 'Servers'
 
-    def panels(self, request, panel_list, group):
-        panel_list.append((self.title, self.__class__.get_url(group.pk)))
+    def panels(self, request, panel_list, project, group):
+        panel_list.append((self.title, self.__class__.get_url(project.pk, group.pk)))
         return panel_list
 
-    def view(self, request, group):
+    def view(self, request, project, group):
         return render_to_response('sentry/plugins/sentry_servers/index.html', locals())
     
-    def widget(self, request, group):
+    def widget(self, request, project, group):
         return render_to_string('sentry/plugins/sentry_servers/widget.html', locals())
\ No newline at end of file
diff --git a/sentry/plugins/sentry_sites/models.py b/sentry/plugins/sentry_sites/models.py
index d3bac94d93..f78eb2fcc1 100644
--- a/sentry/plugins/sentry_sites/models.py
+++ b/sentry/plugins/sentry_sites/models.py
@@ -20,8 +20,8 @@ class SiteGroupPanel(GroupActionProvider):
     
     title = 'Sites'
 
-    def panels(self, request, panel_list, group):
-        panel_list.append((self.title, self.__class__.get_url(group.pk)))
+    def panels(self, request, panel_list, project, group):
+        panel_list.append((self.title, self.__class__.get_url(project.pk, group.pk)))
         return panel_list
 
     def view(self, request, group):
diff --git a/sentry/plugins/sentry_urls/models.py b/sentry/plugins/sentry_urls/models.py
index f454c5a73e..70662531c7 100644
--- a/sentry/plugins/sentry_urls/models.py
+++ b/sentry/plugins/sentry_urls/models.py
@@ -20,12 +20,12 @@ class ServerUrlsPanel(GroupActionProvider):
     
     title = 'URLs'
 
-    def panels(self, request, panel_list, group):
-        panel_list.append((self.title, self.__class__.get_url(group.pk)))
+    def panels(self, request, panel_list, project, group):
+        panel_list.append((self.title, self.__class__.get_url(project.pk, group.pk)))
         return panel_list
 
-    def view(self, request, group):
+    def view(self, request, project, group):
         return render_to_response('sentry/plugins/sentry_urls/index.html', locals())
     
-    def widget(self, request, group):
+    def widget(self, request, project, group):
         return render_to_string('sentry/plugins/sentry_urls/widget.html', locals())
\ No newline at end of file
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index 19f71e8330..ab320a20a5 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -114,7 +114,7 @@ def get_panels(group, request):
     panel_list = []
     for cls in GroupActionProvider.plugins.itervalues():
         inst = cls(group.pk)
-        panel_list = inst.panels(request, panel_list, group)
+        panel_list = inst.panels(request, panel_list, group.project, group)
     for panel in panel_list:
         yield panel[0], panel[1], request.path == panel[1]
 
@@ -122,7 +122,7 @@ def get_panels(group, request):
 def get_widgets(group, request):
     for cls in GroupActionProvider.plugins.itervalues():
         inst = cls(group.pk)
-        resp = inst.widget(request, group)
+        resp = inst.widget(request, group.project, group)
         if resp:
             yield resp
 
@@ -131,7 +131,7 @@ def get_tags(group, request):
     tag_list = []
     for cls in GroupActionProvider.plugins.itervalues():
         inst = cls(group.pk)
-        tag_list = inst.tags(request, tag_list, group)
+        tag_list = inst.tags(request, tag_list, group.project, group)
     for tag in tag_list:
         yield tag
 
