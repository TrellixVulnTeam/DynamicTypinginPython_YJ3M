commit 6b114adfbe60a64f6a3919ee94f9d27d562d7476
Author: David Feeney <dfeeney@gmail.com>
Date:   Wed Oct 20 00:35:55 2010 -0400

    Prepend script_name to path_info for url comparisons

diff --git a/sentry/plugins/__init__.py b/sentry/plugins/__init__.py
index 2950155cd4..d5eaa4d531 100644
--- a/sentry/plugins/__init__.py
+++ b/sentry/plugins/__init__.py
@@ -38,7 +38,7 @@ class ActionProvider:
         self.url = reverse('sentry-plugin-action', args=(self.slug,))
 
     def __call__(self, request):
-        self.selected = request.META['PATH_INFO'] == self.url
+        self.selected = request.META.get('SCRIPT_NAME', '') + request.META['PATH_INFO'] == self.url
         if not self.selected:
             return
 
@@ -59,7 +59,7 @@ class GroupActionProvider:
         self.url = self.__class__.get_url(group_id)
 
     def __call__(self, request, group):
-        self.selected = request.META['PATH_INFO'] == self.url
+        self.selected = request.META.get('SCRIPT_NAME', '') + request.META['PATH_INFO'] == self.url
         if not self.selected:
             return
         return self.view(request, group)
@@ -84,4 +84,4 @@ class GroupActionProvider:
     def widget(self, request, group):
         """
         Renders as a widget in the group details sidebar.
-        """
\ No newline at end of file
+        """
diff --git a/sentry/templatetags/sentry_helpers.py b/sentry/templatetags/sentry_helpers.py
index 18ec7de938..500554ebd4 100644
--- a/sentry/templatetags/sentry_helpers.py
+++ b/sentry/templatetags/sentry_helpers.py
@@ -96,7 +96,7 @@ def get_actions(group, request):
         inst = cls(group.pk)
         action_list = inst.actions(request, action_list, group)
     for action in action_list:
-        yield action[0], action[1], request.META['PATH_INFO'] == action[1]
+        yield action[0], action[1], request.META.get('SCRIPT_NAME', '') + request.META['PATH_INFO'] == action[1]
 
 @register.filter
 def get_panels(group, request):
@@ -105,7 +105,7 @@ def get_panels(group, request):
         inst = cls(group.pk)
         panel_list = inst.panels(request, panel_list, group)
     for panel in panel_list:
-        yield panel[0], panel[1], request.META['PATH_INFO'] == panel[1]
+        yield panel[0], panel[1], request.META.get('SCRIPT_NAME', '') + request.META['PATH_INFO'] == panel[1]
 
 @register.filter
 def get_widgets(group, request):
@@ -136,4 +136,4 @@ def timesince(value):
         return 'Just now'
     if value == '1 day':
         return 'Yesterday'
-    return value + ' ago'
\ No newline at end of file
+    return value + ' ago'
