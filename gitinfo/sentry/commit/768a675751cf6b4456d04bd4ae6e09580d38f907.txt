commit 768a675751cf6b4456d04bd4ae6e09580d38f907
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 31 01:24:20 2012 -0800

    Fix error handler registration

diff --git a/sentry/conf/urls.py b/sentry/conf/urls.py
index aba57e4b4f..ee6c000bc2 100644
--- a/sentry/conf/urls.py
+++ b/sentry/conf/urls.py
@@ -13,12 +13,31 @@ import os
 from sentry.web.urls import *
 from sentry.web.frontend import generic
 from django.conf.urls.defaults import *
-
 from django.contrib import admin
+from django.views.defaults import page_not_found
 
 admin.autodiscover()
 admin_media_dir = os.path.join(os.path.dirname(admin.__file__), 'media')
 
+
+handler404 = lambda x: page_not_found(x, template_name='sentry/404.html')
+
+
+def handler500(request):
+    """
+    500 error handler.
+
+    Templates: `500.html`
+    Context: None
+    """
+    from django.template import Context, loader
+    from django.http import HttpResponseServerError
+
+    context = {'request': request}
+
+    t = loader.get_template('sentry/500.html')
+    return HttpResponseServerError(t.render(Context(context)))
+
 urlpatterns += patterns('',
     (r'^admin/', include(admin.site.urls)),
     url(r'^_admin_media/(?P<path>.*)$', generic.static_media,
diff --git a/sentry/web/urls.py b/sentry/web/urls.py
index 8b8fdd7a14..0c6dc1a088 100644
--- a/sentry/web/urls.py
+++ b/sentry/web/urls.py
@@ -7,13 +7,12 @@ sentry.web.urls
 """
 
 from django.conf.urls.defaults import *
-from django.views.defaults import page_not_found
 
 from sentry.web import api
 from sentry.web.frontend import accounts, generic, groups, events, \
   projects, admin
 
-__all__ = ('handler404', 'handler500', 'urlpatterns')
+__all__ = ('urlpatterns',)
 
 
 def init_plugins():
@@ -25,25 +24,6 @@ def init_plugins():
             continue
 init_plugins()
 
-
-handler404 = lambda x: page_not_found(x, template_name='sentry/404.html')
-
-
-def handler500(request):
-    """
-    500 error handler.
-
-    Templates: `500.html`
-    Context: None
-    """
-    from django.template import Context, loader
-    from django.http import HttpResponseServerError
-
-    context = {'request': request}
-
-    t = loader.get_template('sentry/500.html')
-    return HttpResponseServerError(t.render(Context(context)))
-
 urlpatterns = patterns('',
     url(r'^_static/(?P<path>.*)$', generic.static_media, name='sentry-media'),
 
