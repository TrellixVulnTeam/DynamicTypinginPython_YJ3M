commit 0e8ac5ace418ae874c45f61a275293795ed0a9f1
Author: Mark Story <mark@mark-story.com>
Date:   Wed Nov 7 20:43:38 2018 -0500

    feat(gitlab) Improve GitLab setup flow (#10452)
    
    Make it clearer what is required when setting up GitLab and give a way
    to get back to the instructions should the user blast through that page.
    
    Refs APP-736

diff --git a/src/sentry/integrations/gitlab/integration.py b/src/sentry/integrations/gitlab/integration.py
index 9a95afb3b8..dffbc68325 100644
--- a/src/sentry/integrations/gitlab/integration.py
+++ b/src/sentry/integrations/gitlab/integration.py
@@ -109,8 +109,9 @@ class InstallationForm(forms.Form):
     url = forms.CharField(
         label=_('GitLab URL'),
         help_text=_('The base URL for your GitLab instance, including the host and protocol. '
-                    'Do not include group path. If using gitlab.com, enter '
-                    'https://gitlab.com/'),
+                    'Do not include group path.'
+                    '<br>'
+                    'If using gitlab.com, enter https://gitlab.com/'),
         widget=forms.TextInput(
             attrs={'placeholder': 'https://gitlab.example.com'}
         ),
@@ -118,6 +119,7 @@ class InstallationForm(forms.Form):
     group = forms.CharField(
         label=_('GitLab Group Path'),
         help_text=_('This can be found in the URL of your group\'s GitLab page. '
+                    '<br>'
                     'For example, if your group can be found at '
                     'https://gitlab.com/my-group/my-subgroup, enter `my-group/my-subgroup`.'),
         widget=forms.TextInput(
diff --git a/src/sentry/templates/sentry/integrations/gitlab-config.html b/src/sentry/templates/sentry/integrations/gitlab-config.html
index 27412a782a..eb8ec40b67 100644
--- a/src/sentry/templates/sentry/integrations/gitlab-config.html
+++ b/src/sentry/templates/sentry/integrations/gitlab-config.html
@@ -27,41 +27,50 @@
 {% block title %} {% trans "GitLab Setup" %} | {{ block.super }} {% endblock %}
 
 {% block main %}
-<h3>GitLab Configuration</h3>
 {% if form %}
+<h3>{% trans "Step 2: Connect Sentry with your App" %}</h3>
+  <p>{% trans "Add your GitLab App credentials to Sentry." %}</p>
   <form action="" method="post" class="form-stacked">
     {% csrf_token %}
     <input type="hidden" name="provider" value="gitlab" />
 
-    <p>{% trans "Configure GitLab to use with Sentry." %}</p>
-
     {{ form|as_crispy_errors }}
 
     {% for field in form %}
     {{ field|as_crispy_field }}
     {% endfor %}
 
-    <fieldset class="form-actions">
-      <button type="submit" class="btn btn-primary" name="save_mappings" value="url">{% trans "Submit" %}</button>
+    <fieldset class="form-actions clearfix">
+      <div class="pull-right">
+        <a class="btn btn-default" href="{% url "sentry-extension-setup" "gitlab" %}">{% trans "Back to instructions" %}</a>
+        <button type="submit" class="btn btn-primary" name="save_mappings" value="url">{% trans "Submit" %}</button>
+      </div>
     </fieldset>
   </form>
 {% else %}
-  <p>To configure GitLab with Sentry, you will need to create a Sentry app in your GitLab instance.</p>
+<h3>{% trans "Step 1: Create a Sentry App in GitLab" %}</h3>
+  <p>{% trans "To configure GitLab with Sentry, you will need to create a Sentry app in your GitLab instance." %}</p>
   <ol>
-    <li>Navigate to the User Settings section of your GitLab instance.</li>
-    <li>In the sidebar, select 'Applications'.</li>
-    <li>In the resulting form, enter the following information:
+    <li>{% trans "Navigate to the User Settings section of your GitLab instance." %} </li>
+    <li>{% trans "In the sidebar, select 'Applications'." %}</li>
+    <li>{% trans "In the resulting form, enter the following information:" %}
       <ul class="list-unstyled code-list">
         {% for val in setup_values %}
           <li class="p-a-0">{{ val.label }}: {{ val.value }}</li>
         {% endfor %}
       </ul>
     </li>
-    <li>Click Save Application.</li>
-    <li>In the resulting page, you'll see the Application ID and Secret. You'll need those for the next phase of setup.</li>
+    <li>{% trans "Click Save Application." %}</li>
+    <li>{% trans "In the resulting page, you'll see the Application ID and Secret. You'll need those for the next phase of setup." %}</li>
   </ol>
-  <div class="p-y-2 b-t-1">
-    <a class="btn btn-primary" href="{{ next_url }}">{% trans "Next" %}</a>
+  <p class="alert alert-block flex">
+    <i class="icon icon-exclamation"></i>
+    {% trans "You must complete the above steps in GitLab to connect GitLab with Sentry." %}
+  </p>
+  <div class="form-actions clearfix">
+    <div class="pull-right">
+        <a class="btn btn-primary" href="{{ next_url }}">{% trans "Next" %}</a>
+    </div>
   </div>
   {% endif %}
 {% endblock %}
