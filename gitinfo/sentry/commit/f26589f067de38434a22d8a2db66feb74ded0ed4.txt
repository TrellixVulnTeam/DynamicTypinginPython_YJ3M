commit f26589f067de38434a22d8a2db66feb74ded0ed4
Author: Stephen Cefali <scefali@sentry.io>
Date:   Fri Apr 24 14:46:37 2020 -0700

    adds more vsts webhook logging for debugging (#18470)

diff --git a/src/sentry/integrations/vsts/webhooks.py b/src/sentry/integrations/vsts/webhooks.py
index 8c8b3564a6..a85695de31 100644
--- a/src/sentry/integrations/vsts/webhooks.py
+++ b/src/sentry/integrations/vsts/webhooks.py
@@ -75,6 +75,23 @@ class WorkItemWebhook(Endpoint):
         try:
             integration_secret = integration.metadata["subscription"]["secret"]
             webhook_payload_secret = request.META["HTTP_SHARED_SECRET"]
+            logger.info(
+                "vsts.simple-webhook-check",
+                extra={
+                    "equality1": integration_secret == webhook_payload_secret,
+                    "equality2": constant_time_compare(integration_secret, webhook_payload_secret),
+                },
+            )
+            # TODO(Steve): remove
+            # I don't want to put the webhook secret in logs except for my own integration I don't care about :)
+            if integration.id == 58554:
+                logger.info(
+                    "vst.special-webhook-sercret",
+                    extra={
+                        "integration_secret": six.text_type(integration_secret),
+                        "webhook_payload_secret": six.text_type(webhook_payload_secret),
+                    },
+                )
         except KeyError as e:
             logger.info(
                 "vsts.missing-webhook-secret",
