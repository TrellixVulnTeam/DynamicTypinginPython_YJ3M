commit 615e2aeb55fd881487cf3e6de030a87b8217afa6
Author: Eric Feng <erichfeng@gmail.com>
Date:   Fri Jan 22 13:54:56 2016 -0800

    moving onboarding into a component

diff --git a/src/sentry/static/sentry/app/components/header/index.jsx b/src/sentry/static/sentry/app/components/header/index.jsx
index 17978d00ba..7fde8099ed 100644
--- a/src/sentry/static/sentry/app/components/header/index.jsx
+++ b/src/sentry/static/sentry/app/components/header/index.jsx
@@ -1,4 +1,6 @@
 import React from 'react';
+
+import ApiMixin from '../../mixins/apiMixin';
 import ConfigStore from '../../stores/configStore';
 import OrganizationState from '../../mixins/organizationState';
 import {Link} from 'react-router';
@@ -7,9 +9,10 @@ import Broadcasts from './broadcasts';
 import StatusPage from './statuspage';
 import UserNav from './userNav';
 import OrganizationSelector from './organizationSelector';
+import Todos from '../todos';
 
 const Header = React.createClass({
-  mixins: [OrganizationState],
+  mixins: [ApiMixin, OrganizationState],
 
   getInitialState: function() {
     return {showTodos: false};
@@ -45,7 +48,9 @@ const Header = React.createClass({
           <StatusPage className="pull-right" />
           <div className="onboarding-progress-bar" onClick={this.toggleTodos}>
             <div className="slider"></div>
-             { this.state.showTodos ? <Todos /> : null }
+              <div className="dropdown-menu">
+                { this.state.showTodos ? <Todos /> : null }
+              </div>
           </div>
         </div>
       </header>
@@ -53,55 +58,4 @@ const Header = React.createClass({
   }
 });
 
-const Todos = React.createClass({
-  render: function() {
-    return (
-      <div className="dropdown-menu">
-        <div className="onboarding-wrapper">
-          <h3>Remaining Todos</h3>
-          <ul className="list-unstyled">
-            <li className="checked">
-              <div className="ob-checkbox">
-                <span className="icon-checkmark"/>
-              </div>
-              <h4>Send your first event</h4>
-              <p>
-                View our <a href="#">installation instructions</a>
-              </p>
-            </li>
-            <li>
-              <div className="ob-checkbox"></div>
-              <h4>Invite team members</h4>
-              <p>
-                Learn about <a href="#">how access works</a> on Sentry
-              </p>
-            </li>
-            <li>
-              <div className="ob-checkbox"></div>
-              <h4>Teach Sentry about your project</h4>
-              <p>
-                Track users, releases, and other rich context  &middot; <a href="#">Learn More</a>
-              </p>
-            </li>
-            <li>
-              <div className="ob-checkbox"></div>
-              <h4>Add an issue tracker</h4>
-              <p>
-                Link Sentry Issues in Jira, GitHub, Trello, and others &middot; <a href="#">Learn More</a>
-              </p>
-            </li>
-            <li>
-              <div className="ob-checkbox"></div>
-              <h4>Setup notification services</h4>
-              <p>
-                Be notified of Issues via Slack, HipChat, and More &middot; <a href="#">Learn More</a>
-              </p>
-            </li>
-          </ul>
-        </div>
-      </div>
-    );
-  }
-});
-
 export default Header;
diff --git a/src/sentry/static/sentry/app/components/todos.jsx b/src/sentry/static/sentry/app/components/todos.jsx
new file mode 100644
index 0000000000..9da9778f4c
--- /dev/null
+++ b/src/sentry/static/sentry/app/components/todos.jsx
@@ -0,0 +1,66 @@
+import React from 'react';
+
+// import ApiMixin from '../mixins/apiMixin';
+import ConfigStore from '../stores/configStore';
+
+const Todos = React.createClass({
+  // mixins: [ApiMixin, OrganizationState],
+
+  // skip() {
+  //   let org = this.getOrganization();
+  //   this.api.request('/organizations/' + org.slug + '/onboarding-tasks/', {
+  //     method: 'POST',
+  //     data: {'a': 1}
+  //   });
+  //   this.getOnboardingTasks();
+  // },
+
+  render: function() {
+    return (
+        <div className="onboarding-wrapper">
+          <h3>Remaining Todos</h3>
+          <ul className="list-unstyled">
+            <li className="checked">
+              <div className="ob-checkbox">
+                <span className="icon-checkmark"/>
+              </div>
+              <h4>Send your first event</h4>
+              <p>
+                View our <a href="#">installation instructions</a>
+              </p>
+            </li>
+            <li>
+              <div className="ob-checkbox"></div>
+              <h4>Invite team members</h4>
+              <p>
+                Learn about <a href="#">how access works</a> on Sentry
+              </p>
+            </li>
+            <li>
+              <div className="ob-checkbox"></div>
+              <h4>Teach Sentry about your project</h4>
+              <p>
+                Track users, releases, and other rich context &middot; <a href="#">Learn More</a>
+              </p>
+            </li>
+            <li>
+              <div className="ob-checkbox"></div>
+              <h4>Add an issue tracker</h4>
+              <p>
+                Link Sentry Issues in Jira, GitHub, Trello, and others &middot; <a href="#">Learn More</a> &middot; <span>Skip</span>
+              </p>
+            </li>
+            <li>
+              <div className="ob-checkbox"></div>
+              <h4>Setup notification services</h4>
+              <p>
+                Be notified of Issues via Slack, HipChat, and More &middot; <a href="#">Learn More</a> &middot; <span>Skip</span>
+              </p>
+            </li>
+          </ul>
+        </div>
+    );
+  }
+});
+
+export default Todos
diff --git a/src/sentry/static/sentry/app/mixins/organizationState.jsx b/src/sentry/static/sentry/app/mixins/organizationState.jsx
index daf9a8484e..04947bc68c 100644
--- a/src/sentry/static/sentry/app/mixins/organizationState.jsx
+++ b/src/sentry/static/sentry/app/mixins/organizationState.jsx
@@ -15,7 +15,11 @@ let OrganizationState = {
 
   getFeatures() {
     return new Set(this.context.organization.features);
-  }
+  },
+
+  getOnboardingTasks() {
+    return new Set(this.context.organization.onboardingTasks);
+  },
 };
 
 export default OrganizationState;
diff --git a/src/sentry/static/sentry/app/views/organizationDashboard.jsx b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
index 4624e2e5b5..6710b2687c 100644
--- a/src/sentry/static/sentry/app/views/organizationDashboard.jsx
+++ b/src/sentry/static/sentry/app/views/organizationDashboard.jsx
@@ -2,9 +2,12 @@ import React from 'react';
 import {Link} from 'react-router';
 
 import ActivityFeed from '../components/activity/feed';
+import ApiMixin from '../mixins/apiMixin';
+import OrganizationState from '../mixins/organizationState';
 import GroupStore from '../stores/groupStore';
 import IssueList from '../components/issueList';
-import OrganizationHomeContainer from '../components//organizations/homeContainer';
+import OrganizationHomeContainer from '../components/organizations/homeContainer';
+import Todos from '../components/todos';
 import {t} from '../locale';
 
 const AssignedIssues = React.createClass({
@@ -54,6 +57,7 @@ const NewIssues = React.createClass({
 
 
 const Activity = React.createClass({
+
   getEndpoint() {
     return `/organizations/${this.props.params.orgId}/activity/`;
   },
@@ -70,7 +74,6 @@ const Activity = React.createClass({
   },
 });
 
-
 const OrganizationDashboard = React.createClass({
   getDefaultProps() {
     return {
@@ -89,49 +92,7 @@ const OrganizationDashboard = React.createClass({
         <div className="early-adopter-banner"><strong>Psst!</strong> This feature is still a work-in-progress. Thanks for being an early adopter! YO! YO!</div>
         <div className="row">
           <div className="col-md-8">
-            <div className="onboarding-wrapper">
-              <a href="#" className="close"><span className="icon-x"/></a>
-              <h3>Remaining Todos</h3>
-              <ul className="list-unstyled">
-                <li className="checked">
-                  <div className="ob-checkbox">
-                    <span className="icon-checkmark"/>
-                  </div>
-                  <h4>Send your first event</h4>
-                  <p>
-                    View our <a href="#">installation instructions</a>
-                  </p>
-                </li>
-                <li>
-                  <div className="ob-checkbox"></div>
-                  <h4>Invite team members</h4>
-                  <p>
-                    Learn about <a href="#">how access works</a> on Sentry
-                  </p>
-                </li>
-                <li>
-                  <div className="ob-checkbox"></div>
-                  <h4>Teach Sentry about your project</h4>
-                  <p>
-                    Track users, releases, and other rich context  &middot; <a href="#">Learn More</a>
-                  </p>
-                </li>
-                <li>
-                  <div className="ob-checkbox"></div>
-                  <h4>Add an issue tracker</h4>
-                  <p>
-                    Link Sentry Issues in Jira, GitHub, Trello, and others &middot; <a href="#">Learn More</a>
-                  </p>
-                </li>
-                <li>
-                  <div className="ob-checkbox"></div>
-                  <h4>Setup notification services</h4>
-                  <p>
-                    Be notified of Issues via Slack, HipChat, and More &middot; <a href="#">Learn More</a>
-                  </p>
-                </li>
-              </ul>
-            </div>
+            <Todos {...this.props} />
             <AssignedIssues {...this.props} />
             <NewIssues {...this.props} />
           </div>
