commit 83ca05c7d0b560ad4868fa2b262f9fddb7060b66
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Fri Jul 27 13:14:42 2018 -0700

    feat(form): Add `stacked` proptype (#9212)

diff --git a/src/sentry/static/sentry/app/components/createTeam/createTeamForm.jsx b/src/sentry/static/sentry/app/components/createTeam/createTeamForm.jsx
index 4b039f04d7..c719b89626 100644
--- a/src/sentry/static/sentry/app/components/createTeam/createTeamForm.jsx
+++ b/src/sentry/static/sentry/app/components/createTeam/createTeamForm.jsx
@@ -46,7 +46,7 @@ export default class CreateTeamForm extends React.Component {
             required
             flexibleControlStateSize
             inline={false}
-            p={0}
+            stacked={true}
           />
         </Form>
       </React.Fragment>
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldDescription.js b/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldDescription.js
index 30b895fd67..6aeee83595 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldDescription.js
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldDescription.js
@@ -1,6 +1,8 @@
 import React from 'react';
 import styled, {css} from 'react-emotion';
 
+import space from 'app/styles/space';
+
 const inlineStyle = p =>
   p.inline
     ? css`
@@ -9,7 +11,7 @@ const inlineStyle = p =>
         flex-shrink: 0;
       `
     : css`
-        margin-bottom: 10px;
+        margin-bottom: ${space(1)};
       `;
 
 const FieldDescription = styled(({inline, ...props}) => <label {...props} />)`
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldWrapper.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldWrapper.jsx
index 3bce873a3a..9aab349f71 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldWrapper.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/field/fieldWrapper.jsx
@@ -20,14 +20,21 @@ const highlightedStyle = p =>
       `
     : '';
 
-const getPadding = props => {
-  if (typeof props.p !== 'undefined') {
-    return `padding: ${props.p};`;
-  }
-  return `padding: ${space(2)} ${props.hasControlState ? 0 : space(2)} ${space(
-    2
-  )} ${space(2)}`;
-};
+const borderStyle = p =>
+  p.stacked
+    ? ''
+    : css`
+        border-bottom: 1px solid ${p.theme.borderLight};
+      `;
+
+const getPadding = p =>
+  p.stacked && !p.inline
+    ? css`
+        padding: 0 ${p.hasControlState ? 0 : space(2)} ${space(1)} 0;
+      `
+    : css`
+        padding: ${space(2)} ${p.hasControlState ? 0 : space(2)} ${space(2)} ${space(2)};
+      `;
 
 /**
  * `hasControlState` - adds padding to right if this is false
@@ -36,11 +43,15 @@ const FieldWrapper = styled(({highlighted, inline, hasControlState, p, ...props}
   <Flex {...props} />
 ))`
   ${getPadding};
-  border-bottom: 1px solid ${p => p.theme.borderLight};
   transition: background 0.15s;
 
-  ${inlineStyle} ${highlightedStyle} &:last-child {
+  ${borderStyle};
+  ${inlineStyle};
+  ${highlightedStyle};
+
+  &:last-child {
     border-bottom: none;
+    ${p => (p.stacked ? 'padding-bottom: 0' : '')};
   }
 `;
 
diff --git a/src/sentry/static/sentry/app/views/settings/components/forms/field/index.jsx b/src/sentry/static/sentry/app/views/settings/components/forms/field/index.jsx
index 3954de0e6d..e37d3c1e21 100644
--- a/src/sentry/static/sentry/app/views/settings/components/forms/field/index.jsx
+++ b/src/sentry/static/sentry/app/views/settings/components/forms/field/index.jsx
@@ -27,11 +27,6 @@ class Field extends React.Component {
      */
     highlighted: PropTypes.bool,
 
-    /**
-     * Padding
-     */
-    p: PropTypes.number,
-
     /**
      * Show "required" indicator
      */
@@ -72,6 +67,11 @@ class Field extends React.Component {
      */
     inline: PropTypes.bool,
 
+    /**
+     * Should the field display in a stacked manner (no borders + reduced padding
+     */
+    stacked: PropTypes.bool,
+
     /**
      * The control's `id` property
      */
@@ -114,7 +114,7 @@ class Field extends React.Component {
       label,
       help,
       id,
-      p,
+      stacked,
       children,
       style,
     } = otherProps;
@@ -147,9 +147,9 @@ class Field extends React.Component {
 
     return (
       <FieldWrapper
-        p={p}
         className={className}
         inline={inline}
+        stacked={stacked}
         highlighted={highlighted}
         hasControlState={!flexibleControlStateSize}
         style={style}
diff --git a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
index b93ef476f1..186602c587 100644
--- a/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/confirmDelete.spec.jsx.snap
@@ -76,33 +76,31 @@ exports[`ConfirmDelete renders 1`] = `
             <FieldWrapper
               hasControlState={false}
               inline={false}
-              p={0}
             >
               <Component
-                className="css-1vm8clh-FieldWrapper-inlineStyle etqqcs20"
+                className="css-8yn43f-FieldWrapper-getPadding-borderStyle-inlineStyle etqqcs20"
                 hasControlState={false}
                 inline={false}
-                p={0}
               >
                 <Flex
-                  className="css-1vm8clh-FieldWrapper-inlineStyle etqqcs20"
+                  className="css-8yn43f-FieldWrapper-getPadding-borderStyle-inlineStyle etqqcs20"
                 >
                   <Base
-                    className="etqqcs20 css-1hq624p-FieldWrapper-inlineStyle"
+                    className="etqqcs20 css-9jf0ny-FieldWrapper-getPadding-borderStyle-inlineStyle"
                   >
                     <div
-                      className="etqqcs20 css-1hq624p-FieldWrapper-inlineStyle"
+                      className="etqqcs20 css-9jf0ny-FieldWrapper-getPadding-borderStyle-inlineStyle"
                       is={null}
                     >
                       <FieldDescription
                         inline={false}
                       >
                         <Component
-                          className="css-19gs2h3-FieldDescription-inlineStyle e12jefmo0"
+                          className="css-jq43rd-FieldDescription-inlineStyle e12jefmo0"
                           inline={false}
                         >
                           <label
-                            className="css-19gs2h3-FieldDescription-inlineStyle e12jefmo0"
+                            className="css-jq43rd-FieldDescription-inlineStyle e12jefmo0"
                           >
                             <FieldLabel>
                               <div
diff --git a/tests/js/spec/components/forms/__snapshots__/formField.spec.jsx.snap b/tests/js/spec/components/forms/__snapshots__/formField.spec.jsx.snap
index 2bb8e7aefb..a464dc731f 100644
--- a/tests/js/spec/components/forms/__snapshots__/formField.spec.jsx.snap
+++ b/tests/js/spec/components/forms/__snapshots__/formField.spec.jsx.snap
@@ -84,18 +84,18 @@ exports[`FormField + model renders with Form 1`] = `
                 inline={true}
               >
                 <Component
-                  className="css-mq954e-FieldWrapper-inlineStyle etqqcs20"
+                  className="css-e5jskw-FieldWrapper-getPadding-borderStyle-inlineStyle etqqcs20"
                   hasControlState={true}
                   inline={true}
                 >
                   <Flex
-                    className="css-mq954e-FieldWrapper-inlineStyle etqqcs20"
+                    className="css-e5jskw-FieldWrapper-getPadding-borderStyle-inlineStyle etqqcs20"
                   >
                     <Base
-                      className="etqqcs20 css-14yamts-FieldWrapper-inlineStyle"
+                      className="etqqcs20 css-11jhx2k-FieldWrapper-getPadding-borderStyle-inlineStyle"
                     >
                       <div
-                        className="etqqcs20 css-14yamts-FieldWrapper-inlineStyle"
+                        className="etqqcs20 css-11jhx2k-FieldWrapper-getPadding-borderStyle-inlineStyle"
                         is={null}
                       >
                         <FieldControl
