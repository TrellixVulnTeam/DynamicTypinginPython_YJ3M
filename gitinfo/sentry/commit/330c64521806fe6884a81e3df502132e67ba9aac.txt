commit 330c64521806fe6884a81e3df502132e67ba9aac
Author: Evan Purkhiser <evanpurkhiser@gmail.com>
Date:   Tue Oct 30 11:23:29 2018 -0700

    fix(saml): Better error for missing Saml2_Constants (#10311)

diff --git a/src/sentry/auth/providers/saml2.py b/src/sentry/auth/providers/saml2.py
index 30c2f67b94..f7385e91fc 100644
--- a/src/sentry/auth/providers/saml2.py
+++ b/src/sentry/auth/providers/saml2.py
@@ -11,7 +11,7 @@ from django.http import HttpResponse, HttpResponseServerError
 from django.utils.decorators import method_decorator
 from django.utils.translation import ugettext_lazy as _
 from django.views.decorators.csrf import csrf_exempt
-from six import iteritems
+from six import iteritems, add_metaclass
 from six.moves.urllib.parse import urlparse
 
 from sentry import options
@@ -41,6 +41,14 @@ except ImportError:
     def OneLogin_Saml2_Settings(*args, **kwargs):
         raise NotImplementedError('Missing SAML libraries')
 
+    class OneLogin_Saml2_ConstantsType(type):
+        def __getattr__(self, attr):
+            raise NotImplementedError('Missing SAML libraries')
+
+    @add_metaclass(OneLogin_Saml2_ConstantsType)
+    class OneLogin_Saml2_Constants(object):
+        pass
+
 
 ERR_NO_SAML_SSO = _('The organization does not exist or does not have SAML SSO enabled.')
 ERR_SAML_FAILED = _('SAML SSO failed, {reason}')
