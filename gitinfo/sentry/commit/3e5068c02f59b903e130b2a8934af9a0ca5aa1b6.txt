commit 3e5068c02f59b903e130b2a8934af9a0ca5aa1b6
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Fri Apr 29 17:21:40 2016 -0700

    Add ChunkedFileBlobIndexWrapper:tell()
    
    Fixes GH-3150

diff --git a/src/sentry/models/file.py b/src/sentry/models/file.py
index 180bcba630..d86a1cff3e 100644
--- a/src/sentry/models/file.py
+++ b/src/sentry/models/file.py
@@ -254,6 +254,9 @@ class ChunkedFileBlobIndexWrapper(object):
             raise Exception('Cannot seek to pos')
         self._curfile.seek(pos - self._curidx.offset)
 
+    def tell(self):
+        return self._curidx.offset + self._curfile.tell()
+
     def read(self, bytes=4096):
         if self.closed:
             raise IOError('Cannot read on a closed file')
diff --git a/tests/sentry/models/test_file.py b/tests/sentry/models/test_file.py
index 0cec2b763c..b08ee3bfb1 100644
--- a/tests/sentry/models/test_file.py
+++ b/tests/sentry/models/test_file.py
@@ -38,8 +38,13 @@ class FileTest(TestCase):
         with file1.getfile() as fp:
             assert fp.read() == 'foo bar'
             fp.seek(2)
+            fp.tell() == 2
             assert fp.read() == 'o bar'
             fp.seek(0)
+            fp.tell() == 0
             assert fp.read() == 'foo bar'
             fp.seek(4)
+            fp.tell() == 4
             assert fp.read() == 'bar'
+            fp.seek(1000)
+            fp.tell() == 1000
