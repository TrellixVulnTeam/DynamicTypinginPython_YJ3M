commit 832e87caf83ecbc6b89042f7d12e8a3ce874b46a
Author: David Cramer <dcramer@gmail.com>
Date:   Tue Jan 24 14:41:55 2012 -0800

    Handle empty headers

diff --git a/sentry/interfaces.py b/sentry/interfaces.py
index c563181777..b817bcfe5a 100644
--- a/sentry/interfaces.py
+++ b/sentry/interfaces.py
@@ -224,16 +224,18 @@ class Http(Interface):
         self.method = method
         self.data = data
         self.query_string = query_string
-        self.headers = headers or {}
-        self.env = env or {}
         if cookies:
             self.cookies = cookies
         else:
             self.cookies = {}
-        if 'Cookie' in headers:
+        # if cookies were [also] included in headers we
+        # strip them out
+        if headers and 'Cookie' in headers:
             cookies = headers.pop('Cookie')
             if not self.cookies:
                 cookies = self.cookies
+        self.headers = headers or {}
+        self.env = env or {}
 
     def serialize(self):
         return {
