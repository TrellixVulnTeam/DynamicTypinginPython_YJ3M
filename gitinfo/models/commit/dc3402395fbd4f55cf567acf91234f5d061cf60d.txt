commit dc3402395fbd4f55cf567acf91234f5d061cf60d
Author: Michael Figurnov <mfigurnov@google.com>
Date:   Sat Aug 27 16:18:37 2016 -0700

    Do not perform averaging of the cost.
    
    The moving average object was shared between training and evaluation. As
    a result, the cost during evaluation was averaged with the training
    cost. This affects only objective, not precision.

diff --git a/resnet/resnet_model.py b/resnet/resnet_model.py
index 7a91e56a..8f60e1e5 100644
--- a/resnet/resnet_model.py
+++ b/resnet/resnet_model.py
@@ -122,10 +122,7 @@ class ResNet(object):
       self.cost = tf.reduce_mean(xent, name='xent')
       self.cost += self._decay()
 
-      moving_avg = tf.train.ExponentialMovingAverage(
-          0.99, num_updates=self.global_step, name='moving_avg')
-      self._extra_train_ops.append(moving_avg.apply([self.cost]))
-      tf.scalar_summary('cost', moving_avg.average(self.cost))
+      tf.scalar_summary('cost', self.cost)
 
   def _build_train_op(self):
     """Build training specific ops for the graph."""
