commit 1b089751e76751eaf76b3c5db2416320966637f7
Author: Hongjun Choi <hongjunchoi@google.com>
Date:   Wed Jul 31 15:34:15 2019 -0700

    Merged commit includes the following changes: (#7346)
    
    * Merged commit includes the following changes:
    260800447  by A. Unique TensorFlower<gardener@tensorflow.org>:
    
        Fix tf function signature errors for NCF model.
    
    --
    260767064  by psv<psv@google.com>:
    
        Renames the `run_distributed` flag to `experimental_run_tf_function` and modifies the tests generated by the keras_all_modes decorator to better reflect that.
    
    --
    
    PiperOrigin-RevId: 260800447
    
    * Update ncf_keras_benchmark.py
    
    * Update ncf_keras_benchmark.py
    
    * Update ncf_keras_benchmark.py
    
    * Update ncf_keras_benchmark.py

diff --git a/official/recommendation/data_pipeline.py b/official/recommendation/data_pipeline.py
index d32cd897..5374e890 100644
--- a/official/recommendation/data_pipeline.py
+++ b/official/recommendation/data_pipeline.py
@@ -161,7 +161,7 @@ class DatasetManager(object):
                 tf.io.FixedLenFeature([batch_size], dtype=tf.int64)
         }
 
-    features = tf.parse_single_example(
+    features = tf.io.parse_single_example(
         serialized_data, _get_feature_map(batch_size, is_training=is_training))
     users = tf.reshape(
         tf.cast(features[movielens.USER_COLUMN], rconst.USER_DTYPE),
diff --git a/official/recommendation/ncf_keras_main.py b/official/recommendation/ncf_keras_main.py
index 46e8f2dc..99d1196e 100644
--- a/official/recommendation/ncf_keras_main.py
+++ b/official/recommendation/ncf_keras_main.py
@@ -255,7 +255,7 @@ def run_ncf(_):
     callbacks.append(per_epoch_callback)
   else:
     assert params["eval_dataset_path"] and params["input_meta_data_path"]
-    with tf.gfile.GFile(params["input_meta_data_path"], "rb") as reader:
+    with tf.io.gfile.GFile(params["input_meta_data_path"], "rb") as reader:
       input_meta_data = json.loads(reader.read().decode("utf-8"))
       num_users = input_meta_data["num_users"]
       num_items = input_meta_data["num_items"]
