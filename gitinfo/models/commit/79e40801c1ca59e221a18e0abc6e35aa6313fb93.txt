commit 79e40801c1ca59e221a18e0abc6e35aa6313fb93
Author: Eli Bixby <elibixby@google.com>
Date:   Mon Aug 7 17:04:18 2017 -0700

    Fix GPUConfig initialization

diff --git a/tutorials/image/cifar10_estimator/cifar10_main.py b/tutorials/image/cifar10_estimator/cifar10_main.py
index 56d0d8f6..a6ccfa89 100644
--- a/tutorials/image/cifar10_estimator/cifar10_main.py
+++ b/tutorials/image/cifar10_estimator/cifar10_main.py
@@ -497,12 +497,15 @@ def main(unused_argv):
   eval_steps = num_eval_examples // FLAGS.eval_batch_size
 
   # Session configuration.
-  sess_config = tf.ConfigProto()
-  sess_config.allow_soft_placement = True
-  sess_config.log_device_placement = FLAGS.log_device_placement
-  sess_config.intra_op_parallelism_threads = FLAGS.num_intra_threads
-  sess_config.inter_op_parallelism_threads = FLAGS.num_inter_threads
-  sess_config.gpu_options.force_gpu_compatible = FLAGS.force_gpu_compatible
+  sess_config = tf.ConfigProto(
+      allow_soft_placement=True,
+      log_device_placement=FLAGS.log_device_placement,
+      intra_op_parallelism_threads=FLAGS.num_intra_threads,
+      inter_op_parallelism_threads=FLAGS.num_inter_threads,
+      gpu_options=tf.GPUOptions(
+          force_gpu_compatible=FLAGS.force_gpu_compatible
+      )
+  )
 
   # Hooks that add extra logging that is useful to see the loss more often in
   # the console as well as examples per second.
