commit ef8aed7995e768df2fe5d5310b67afafe9536b06
Author: Haoyu Zhang <haoyuzhang@google.com>
Date:   Wed Dec 4 19:44:02 2019 -0800

    Remove tweaked benchmark for no_dist_strat in function mode.
    
    No need to test explicit_gpu_placement + no_dist_strat + function case, since the performance issue is already fixed by unifying the Keras codepaths. However, there is still performance gap using the explicit_gpu_placement flag when run_eagerly.
    
    PiperOrigin-RevId: 283890008

diff --git a/official/benchmark/keras_cifar_benchmark.py b/official/benchmark/keras_cifar_benchmark.py
index b1e92fab..0abfdfba 100644
--- a/official/benchmark/keras_cifar_benchmark.py
+++ b/official/benchmark/keras_cifar_benchmark.py
@@ -123,7 +123,6 @@ class Resnet56KerasAccuracy(keras_benchmark.KerasBenchmark):
     """Test keras based model with eager and no dist strat."""
     self._setup()
     FLAGS.num_gpus = 1
-    FLAGS.explicit_gpu_placement = True
     FLAGS.data_dir = self.data_dir
     FLAGS.batch_size = 128
     FLAGS.train_epochs = 182
diff --git a/official/benchmark/keras_imagenet_benchmark.py b/official/benchmark/keras_imagenet_benchmark.py
index a825f6c9..de931f4f 100644
--- a/official/benchmark/keras_imagenet_benchmark.py
+++ b/official/benchmark/keras_imagenet_benchmark.py
@@ -231,20 +231,6 @@ class Resnet50KerasBenchmarkBase(keras_benchmark.KerasBenchmark):
     FLAGS.batch_size = 128
     self._run_and_report_benchmark()
 
-  def benchmark_1_gpu_no_dist_strat_tweaked(self):
-    """Test with 1 GPU, no distribution strategy, and manual tuning."""
-    self._setup()
-
-    FLAGS.num_gpus = 1
-    FLAGS.explicit_gpu_placement = True
-    FLAGS.enable_eager = True
-    FLAGS.distribution_strategy = 'off'
-    FLAGS.set_learning_phase_to_train = False
-    FLAGS.model_dir = self._get_model_dir(
-        'benchmark_1_gpu_no_dist_strat_tweaked')
-    FLAGS.batch_size = 128
-    self._run_and_report_benchmark()
-
   def benchmark_1_gpu_no_dist_strat_run_eagerly(self):
     """Test Keras model with 1 GPU, no distribution strategy, run eagerly."""
     self._setup()
