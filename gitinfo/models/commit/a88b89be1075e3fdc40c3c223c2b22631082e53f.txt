commit a88b89be1075e3fdc40c3c223c2b22631082e53f
Author: Sundara Tejaswi Digumarti <tejaswid@users.noreply.github.com>
Date:   Mon Jul 30 18:53:33 2018 +0200

    Compute metrics under distributed strategies. (#4942)
    
    Removed the conditional over distributed strategies when computing metrics.
    Metrics are now computed even when distributed strategies are used.

diff --git a/official/resnet/resnet_run_loop.py b/official/resnet/resnet_run_loop.py
index de2f4e3e..bb604fde 100644
--- a/official/resnet/resnet_run_loop.py
+++ b/official/resnet/resnet_run_loop.py
@@ -300,12 +300,7 @@ def resnet_model_fn(features, labels, mode, model_class,
   else:
     train_op = None
 
-  if not tf.contrib.distribute.has_distribution_strategy():
-    accuracy = tf.metrics.accuracy(labels, predictions['classes'])
-  else:
-    # Metrics are currently not compatible with distribution strategies during
-    # training. This does not affect the overall performance of the model.
-    accuracy = (tf.no_op(), tf.constant(0))
+  accuracy = tf.metrics.accuracy(labels, predictions['classes'])
 
   metrics = {'accuracy': accuracy}
 
