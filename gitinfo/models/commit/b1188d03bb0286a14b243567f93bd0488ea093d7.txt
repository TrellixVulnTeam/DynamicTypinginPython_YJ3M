commit b1188d03bb0286a14b243567f93bd0488ea093d7
Author: Reed Wanderman-Milne <reedwm@google.com>
Date:   Mon Aug 19 16:26:08 2019 -0700

    Fix transformer_main.py.
    
    An earlier change made it so running this file would cause an error. The unit tests still passed, as the unit tests do not directly call the main() function
    
    PiperOrigin-RevId: 264268400

diff --git a/official/transformer/v2/transformer_main.py b/official/transformer/v2/transformer_main.py
index 87e0409c..9b64f79c 100644
--- a/official/transformer/v2/transformer_main.py
+++ b/official/transformer/v2/transformer_main.py
@@ -403,8 +403,7 @@ def main(_):
     if not flags_obj.distribution_strategy != "tpu":
       _run_task(task)
     else:
-      primary_cpu_task = ("/job:worker"
-                          if flags_obj.use_tpu_2vm_config is not None else "")
+      primary_cpu_task = "/job:worker" if flags_obj.use_tpu_2vm_config else ""
       with tf.device(primary_cpu_task):
         _run_task(task)
 
