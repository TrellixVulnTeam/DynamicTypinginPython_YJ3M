commit d6117ed15d8529b2ef20ac295f06b75eb24a7b4d
Author: A. Unique TensorFlower <gardener@tensorflow.org>
Date:   Wed Jan 22 09:18:26 2020 -0800

    Fix minor bug in NCF data creation cleanup code.
    
    PiperOrigin-RevId: 290967096

diff --git a/official/recommendation/data_pipeline.py b/official/recommendation/data_pipeline.py
index a0634470..5bcbb36a 100644
--- a/official/recommendation/data_pipeline.py
+++ b/official/recommendation/data_pipeline.py
@@ -425,7 +425,7 @@ class BaseDataConstructor(threading.Thread):
     self._shuffle_with_forkpool = not stream_files
     if stream_files:
       self._shard_root = epoch_dir or tempfile.mkdtemp(prefix="ncf_")
-      atexit.register(tf.io.gfile.rmtree, dirname=self._shard_root)
+      atexit.register(tf.io.gfile.rmtree, self._shard_root)
     else:
       self._shard_root = None
 
