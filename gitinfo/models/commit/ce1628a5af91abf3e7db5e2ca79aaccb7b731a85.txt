commit ce1628a5af91abf3e7db5e2ca79aaccb7b731a85
Author: jtran064 <jtran064@ucr.edu>
Date:   Sat Mar 18 21:30:09 2017 -0700

    move exception message to caller loop and skip currupted files

diff --git a/inception/inception/data/build_image_data.py b/inception/inception/data/build_image_data.py
index 28f9fae5..6d076fcc 100644
--- a/inception/inception/data/build_image_data.py
+++ b/inception/inception/data/build_image_data.py
@@ -208,11 +208,7 @@ def _process_image(filename, coder):
     image_data = coder.png_to_jpeg(image_data)
 
   # Decode the RGB JPEG.
-  try:
-    image = coder.decode_jpeg(image_data)
-  except:
-    print('Unexpected eror while decoding %s' % filename)
-    raise
+  image = coder.decode_jpeg(image_data)
 
   # Check that image converted to RGB
   assert len(image.shape) == 3
@@ -265,7 +261,13 @@ def _process_image_files_batch(coder, thread_index, ranges, name, filenames,
       label = labels[i]
       text = texts[i]
 
-      image_buffer, height, width = _process_image(filename, coder)
+      try:
+        image_buffer, height, width = _process_image(filename, coder)
+      except Exception, e:
+        print (e)
+        print ('SKIPPED. Unexpected eror while decoding %s' % filename)
+        continue
+
 
       example = _convert_to_example(filename, image_buffer, label,
                                     text, height, width)
