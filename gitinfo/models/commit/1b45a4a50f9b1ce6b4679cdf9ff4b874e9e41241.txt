commit 1b45a4a50f9b1ce6b4679cdf9ff4b874e9e41241
Author: Rick Chao <rchao@google.com>
Date:   Fri Mar 6 13:32:07 2020 -0800

    Remove num_epochs in imagenet_preprocessing.py as it's unused.
    
    PiperOrigin-RevId: 299424863

diff --git a/official/vision/image_classification/cifar_preprocessing.py b/official/vision/image_classification/cifar_preprocessing.py
index 6cf78a1e..53ac7340 100644
--- a/official/vision/image_classification/cifar_preprocessing.py
+++ b/official/vision/image_classification/cifar_preprocessing.py
@@ -115,7 +115,6 @@ def get_filenames(is_training, data_dir):
 def input_fn(is_training,
              data_dir,
              batch_size,
-             num_epochs=1,
              dtype=tf.float32,
              datasets_num_private_threads=None,
              parse_record_fn=parse_record,
@@ -127,7 +126,6 @@ def input_fn(is_training,
     is_training: A boolean denoting whether the input is for training.
     data_dir: The directory containing the input data.
     batch_size: The number of samples per batch.
-    num_epochs: The number of epochs to repeat the dataset.
     dtype: Data type to use for images/features
     datasets_num_private_threads: Number of private threads for tf.data.
     parse_record_fn: Function to use for parsing the records.
@@ -155,7 +153,6 @@ def input_fn(is_training,
       batch_size=batch_size,
       shuffle_buffer=NUM_IMAGES['train'],
       parse_record_fn=parse_record_fn,
-      num_epochs=num_epochs,
       dtype=dtype,
       datasets_num_private_threads=datasets_num_private_threads,
       drop_remainder=drop_remainder
diff --git a/official/vision/image_classification/imagenet_preprocessing.py b/official/vision/image_classification/imagenet_preprocessing.py
index 6758cd21..f1490c22 100644
--- a/official/vision/image_classification/imagenet_preprocessing.py
+++ b/official/vision/image_classification/imagenet_preprocessing.py
@@ -67,7 +67,6 @@ def process_record_dataset(dataset,
                            batch_size,
                            shuffle_buffer,
                            parse_record_fn,
-                           num_epochs=1,
                            dtype=tf.float32,
                            datasets_num_private_threads=None,
                            drop_remainder=False,
@@ -83,7 +82,6 @@ def process_record_dataset(dataset,
       time and use less memory.
     parse_record_fn: A function that takes a raw record and returns the
       corresponding (image, label) pair.
-    num_epochs: The number of epochs to repeat the dataset.
     dtype: Data type to use for images/features.
     datasets_num_private_threads: Number of threads for a private
       threadpool created for all datasets computation.
@@ -276,7 +274,6 @@ def get_parse_record_fn(use_keras_image_data_format=False):
 def input_fn(is_training,
              data_dir,
              batch_size,
-             num_epochs=1,
              dtype=tf.float32,
              datasets_num_private_threads=None,
              parse_record_fn=parse_record,
@@ -291,7 +288,6 @@ def input_fn(is_training,
     is_training: A boolean denoting whether the input is for training.
     data_dir: The directory containing the input data.
     batch_size: The number of samples per batch.
-    num_epochs: The number of epochs to repeat the dataset.
     dtype: Data type to use for images/features
     datasets_num_private_threads: Number of private threads for tf.data.
     parse_record_fn: Function to use for parsing the records.
@@ -344,7 +340,6 @@ def input_fn(is_training,
       batch_size=batch_size,
       shuffle_buffer=_SHUFFLE_BUFFER,
       parse_record_fn=parse_record_fn,
-      num_epochs=num_epochs,
       dtype=dtype,
       datasets_num_private_threads=datasets_num_private_threads,
       drop_remainder=drop_remainder,
