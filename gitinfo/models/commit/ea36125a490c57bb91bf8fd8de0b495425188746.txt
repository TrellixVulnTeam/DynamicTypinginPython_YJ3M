commit ea36125a490c57bb91bf8fd8de0b495425188746
Author: Taylor Robie <taylorrobie@google.com>
Date:   Mon Jan 7 14:55:50 2019 -0800

    fix test now that cache construction no longer uses match_mlperf

diff --git a/official/recommendation/data_test.py b/official/recommendation/data_test.py
index 5f5b6789..05667b89 100644
--- a/official/recommendation/data_test.py
+++ b/official/recommendation/data_test.py
@@ -110,14 +110,12 @@ class BaseTest(tf.test.TestCase):
     # For the most part the necessary checks are performed within
     # _filter_index_sort()
 
-    for match_mlperf in [True, False]:
-      cache_path = os.path.join(self.temp_data_dir, "test_cache.pickle")
-      data, valid_cache = data_preprocessing._filter_index_sort(
-          self.rating_file, cache_path=cache_path)
-
-      assert len(data[rconst.USER_MAP]) == NUM_USERS
-      assert len(data[rconst.ITEM_MAP]) == NUM_ITEMS
-      assert not valid_cache
+    cache_path = os.path.join(self.temp_data_dir, "test_cache.pickle")
+    data, valid_cache = data_preprocessing._filter_index_sort(
+        self.rating_file, cache_path=cache_path)
+
+    assert len(data[rconst.USER_MAP]) == NUM_USERS
+    assert len(data[rconst.ITEM_MAP]) == NUM_ITEMS
 
   def drain_dataset(self, dataset, g):
     # type: (tf.data.Dataset, tf.Graph) -> list
