commit cf4cae61990bf4dfdcf766d2e07b96d8fc47e5bd
Author: Hongkun Yu <hongkuny@google.com>
Date:   Thu Oct 10 08:50:26 2019 -0700

    Internal change
    
    PiperOrigin-RevId: 273966871

diff --git a/official/recommendation/ncf_keras_benchmark.py b/official/recommendation/ncf_keras_benchmark.py
index 5808c922..e1a3d491 100644
--- a/official/recommendation/ncf_keras_benchmark.py
+++ b/official/recommendation/ncf_keras_benchmark.py
@@ -88,7 +88,7 @@ class NCFKerasAccuracy(NCFKerasBenchmarkBase):
                root_data_dir=None,
                default_flags=None,
                **kwargs):
-
+    root_data_dir = root_data_dir if root_data_dir else ''
     default_flags = {}
     default_flags['dataset'] = 'ml-20m'
     default_flags['num_gpus'] = 1
diff --git a/official/transformer/v2/transformer_benchmark.py b/official/transformer/v2/transformer_benchmark.py
index 7f0f395d..c43fe3a9 100644
--- a/official/transformer/v2/transformer_benchmark.py
+++ b/official/transformer/v2/transformer_benchmark.py
@@ -44,6 +44,8 @@ class TransformerBenchmark(PerfZeroBenchmark):
   def __init__(self, output_dir=None, default_flags=None, root_data_dir=None,
                flag_methods=None):
     assert tf.version.VERSION.startswith('2.')
+    root_data_dir = root_data_dir if root_data_dir else ''
+
     self.train_data_dir = os.path.join(root_data_dir,
                                        TRANSFORMER_EN2DE_DATA_DIR_NAME)
 
@@ -368,7 +370,7 @@ class TransformerBigKerasAccuracy(TransformerBenchmark):
                                    log_steps=FLAGS.log_steps,
                                    bleu_min=28,
                                    bleu_max=29)
-    
+
   def benchmark_8_gpu_static_batch_fp16(self):
     """Benchmark 8 gpu with static batch and fp16.
 
@@ -650,7 +652,7 @@ class TransformerKerasBenchmark(TransformerBenchmark):
 class TransformerBaseKerasBenchmarkReal(TransformerKerasBenchmark):
   """Transformer based version real data benchmark tests."""
 
-  def __init__(self, output_dir=TMP_DIR, root_data_dir=None, **kwargs):
+  def __init__(self, output_dir=TMP_DIR, root_data_dir=TMP_DIR, **kwargs):
     def_flags = {}
     def_flags['param_set'] = 'base'
     def_flags['train_steps'] = 50
@@ -664,7 +666,7 @@ class TransformerBaseKerasBenchmarkReal(TransformerKerasBenchmark):
 class TransformerBigKerasBenchmarkReal(TransformerKerasBenchmark):
   """Transformer based version real data benchmark tests."""
 
-  def __init__(self, output_dir=TMP_DIR, root_data_dir=None, **kwargs):
+  def __init__(self, output_dir=TMP_DIR, root_data_dir=TMP_DIR, **kwargs):
     def_flags = {}
     def_flags['param_set'] = 'big'
     def_flags['train_steps'] = 50
