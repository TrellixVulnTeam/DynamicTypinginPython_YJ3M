commit a5db44202ce1d9eb74e816d926ecc19a4d0246cf
Author: Ayush Dubey <ayush@ayushdubey.com>
Date:   Thu Mar 7 10:47:51 2019 -0800

    No checkpointing only if multi worker strategy. (#6322)

diff --git a/official/resnet/resnet_run_loop.py b/official/resnet/resnet_run_loop.py
index 7b625d47..2322b52d 100644
--- a/official/resnet/resnet_run_loop.py
+++ b/official/resnet/resnet_run_loop.py
@@ -486,10 +486,14 @@ def resnet_main(
 
   # Creates a `RunConfig` that checkpoints every 24 hours which essentially
   # results in checkpoints determined only by `epochs_between_evals`.
+  # TODO(ayushd,yuefengz): re-enable checkpointing for multi-worker strategy.
+  save_checkpoints_secs = (None if distribution_strategy.__class__.__name__ in
+                           ['CollectiveAllReduceStrategy',
+                            'MultiWorkerMirroredStrategy'] else 60*60*24)
   run_config = tf.estimator.RunConfig(
       train_distribute=distribution_strategy,
       session_config=session_config,
-      save_checkpoints_secs=None,
+      save_checkpoints_secs=save_checkpoints_secs,
       save_checkpoints_steps=None)
 
   # Initializes model with all but the dense layer from pretrained ResNet.
