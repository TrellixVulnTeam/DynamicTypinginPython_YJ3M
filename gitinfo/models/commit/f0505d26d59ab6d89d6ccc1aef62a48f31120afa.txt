commit f0505d26d59ab6d89d6ccc1aef62a48f31120afa
Author: Jin Dong <jin.dong@mail.mcgill.ca>
Date:   Sun May 24 02:28:14 2020 -0400

    repeated cast

diff --git a/official/vision/image_classification/dataset_factory.py b/official/vision/image_classification/dataset_factory.py
index 3e919584..24986c0e 100644
--- a/official/vision/image_classification/dataset_factory.py
+++ b/official/vision/image_classification/dataset_factory.py
@@ -477,7 +477,7 @@ class DatasetBuilder:
     parsed = tf.io.parse_single_example(record, keys_to_features)
 
     label = tf.reshape(parsed['image/class/label'], shape=[1])
-    label = tf.cast(label, dtype=tf.int32)
+    label = tf.cast(label, tf.int32)
 
     # Subtract one so that labels are in [0, 1000)
     label -= 1
@@ -507,7 +507,6 @@ class DatasetBuilder:
           standardize=self.config.standardize,
           dtype=self.dtype)
 
-    label = tf.cast(label, tf.int32)
     if self.config.one_hot:
       label = tf.one_hot(label, self.num_classes)
       label = tf.reshape(label, [self.num_classes])
