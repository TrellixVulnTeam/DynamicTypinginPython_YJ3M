commit 2b4f7b443e20b4c130e2b6d609efbf761a462aab
Author: Qianli Scott Zhu <scottzhu@google.com>
Date:   Fri Apr 6 10:26:33 2018 -0700

    Allow mnist data to be writen to remote file system. (#3890)

diff --git a/official/mnist/dataset.py b/official/mnist/dataset.py
index 1b0279bb..55b5e1c3 100644
--- a/official/mnist/dataset.py
+++ b/official/mnist/dataset.py
@@ -70,7 +70,8 @@ def download(directory, filename):
   zipped_filepath = filepath + '.gz'
   print('Downloading %s to %s' % (url, zipped_filepath))
   urllib.request.urlretrieve(url, zipped_filepath)
-  with gzip.open(zipped_filepath, 'rb') as f_in, open(filepath, 'wb') as f_out:
+  with gzip.open(zipped_filepath, 'rb') as f_in, \
+      tf.gfile.Open(filepath, 'wb') as f_out:
     shutil.copyfileobj(f_in, f_out)
   os.remove(zipped_filepath)
   return filepath
