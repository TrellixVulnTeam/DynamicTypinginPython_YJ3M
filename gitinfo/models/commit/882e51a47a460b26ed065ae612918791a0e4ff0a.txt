commit 882e51a47a460b26ed065ae612918791a0e4ff0a
Author: Reed Wanderman-Milne <reedwm@google.com>
Date:   Thu Aug 22 18:38:21 2019 -0700

    Unexpose some flags from models which do not use them.
    
    --num_parallel_calls, --inter_op_parallelism_threads, and --intra_op_parallelism_threads have been unexposed from models which do not use them
    
    PiperOrigin-RevId: 264965788

diff --git a/official/mnist/mnist.py b/official/mnist/mnist.py
index 46e43620..85ca3218 100644
--- a/official/mnist/mnist.py
+++ b/official/mnist/mnist.py
@@ -89,7 +89,8 @@ def create_model(data_format):
 
 def define_mnist_flags():
   flags_core.define_base()
-  flags_core.define_performance(num_parallel_calls=False)
+  flags_core.define_performance(inter_op=True, intra_op=True,
+                                num_parallel_calls=False)
   flags_core.define_image()
   flags.adopt_module_key_flags(flags_core)
   flags_core.set_defaults(data_dir='/tmp/mnist_data',
diff --git a/official/r1/resnet/resnet_run_loop.py b/official/r1/resnet/resnet_run_loop.py
index ba36565e..a2763c3a 100644
--- a/official/r1/resnet/resnet_run_loop.py
+++ b/official/r1/resnet/resnet_run_loop.py
@@ -725,6 +725,8 @@ def define_resnet_flags(resnet_size_choices=None, dynamic_loss_scale=False,
   """Add flags and validators for ResNet."""
   flags_core.define_base()
   flags_core.define_performance(num_parallel_calls=False,
+                                inter_op=True,
+                                intra_op=True,
                                 tf_gpu_thread_mode=True,
                                 datasets_num_private_threads=True,
                                 dynamic_loss_scale=dynamic_loss_scale,
diff --git a/official/utils/flags/_performance.py b/official/utils/flags/_performance.py
index c14c4324..6f7797c2 100644
--- a/official/utils/flags/_performance.py
+++ b/official/utils/flags/_performance.py
@@ -53,7 +53,7 @@ def get_loss_scale(flags_obj, default_for_fp16):
     return default_for_fp16
 
 
-def define_performance(num_parallel_calls=True, inter_op=True, intra_op=True,
+def define_performance(num_parallel_calls=False, inter_op=False, intra_op=False,
                        synthetic_data=True, max_train_steps=False, dtype=True,
                        all_reduce_alg=True, num_packs=True,
                        tf_gpu_thread_mode=False,
diff --git a/official/utils/flags/flags_test.py b/official/utils/flags/flags_test.py
index 6c0656c1..bdecd488 100644
--- a/official/utils/flags/flags_test.py
+++ b/official/utils/flags/flags_test.py
@@ -23,7 +23,9 @@ from official.utils.flags import core as flags_core  # pylint: disable=g-bad-imp
 
 def define_flags():
   flags_core.define_base(num_gpu=False)
-  flags_core.define_performance(dynamic_loss_scale=True, loss_scale=True)
+  flags_core.define_performance(
+      num_parallel_calls=True, inter_op=True,  intra_op=True,
+      dynamic_loss_scale=True, loss_scale=True)
   flags_core.define_image()
   flags_core.define_benchmark()
 
