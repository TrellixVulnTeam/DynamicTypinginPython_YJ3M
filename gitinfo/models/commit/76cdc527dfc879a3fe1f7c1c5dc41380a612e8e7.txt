commit 76cdc527dfc879a3fe1f7c1c5dc41380a612e8e7
Author: Janardhan Pulivarthi <j143@protonmail.com>
Date:   Tue May 22 09:28:20 2018 +0530

    resolve 'float' to 'int' conversion, StringIO import, conacat str + byte

diff --git a/research/neural_gpu/data_utils.py b/research/neural_gpu/data_utils.py
index c4e7b80d..3c14ff70 100644
--- a/research/neural_gpu/data_utils.py
+++ b/research/neural_gpu/data_utils.py
@@ -111,7 +111,7 @@ def init_data(task, length, nbr_cases, nclass):
   """Data initialization."""
   def rand_pair(l, task):
     """Random data pair for a task. Total length should be <= l."""
-    k = (l-1)/2
+    k = int((l-1)/2)
     base = 10
     if task[0] == "b": base = 2
     if task[0] == "q": base = 4
@@ -135,7 +135,7 @@ def init_data(task, length, nbr_cases, nclass):
 
   def rand_dup_pair(l):
     """Random data pair for duplication task. Total length should be <= l."""
-    k = l/2
+    k = int(l/2)
     x = [np.random.randint(nclass - 1) + 1 for _ in xrange(k)]
     inp = x + [0 for _ in xrange(l - k)]
     res = x + x + [0 for _ in xrange(l - 2*k)]
diff --git a/research/neural_gpu/program_utils.py b/research/neural_gpu/program_utils.py
index 41099cbf..1f49d012 100644
--- a/research/neural_gpu/program_utils.py
+++ b/research/neural_gpu/program_utils.py
@@ -16,10 +16,14 @@
 
 import contextlib
 import sys
-import StringIO
 import random
 import os
 
+try:
+  import StringIO
+except ImportError:
+  from io import StringIO
+
 class ListType(object):
   def __init__(self, arg):
     self.arg = arg
diff --git a/research/neural_gpu/wmt_utils.py b/research/neural_gpu/wmt_utils.py
index 826fcdf0..ef831918 100644
--- a/research/neural_gpu/wmt_utils.py
+++ b/research/neural_gpu/wmt_utils.py
@@ -43,7 +43,7 @@ _CHAR_MARKER = "_CHAR_"
 _CHAR_MARKER_LEN = len(_CHAR_MARKER)
 _SPEC_CHARS = "" + chr(226) + chr(153) + chr(128)
 _PUNCTUATION = "][.,!?\"':;%$#@&*+}{|><=/^~)(_`,0123456789" + _SPEC_CHARS + "-"
-_WORD_SPLIT = re.compile(b"([" + _PUNCTUATION + "])")
+_WORD_SPLIT = re.compile("([" + _PUNCTUATION + "])")
 _OLD_WORD_SPLIT = re.compile(b"([.,!?\"':;)(])")
 _DIGIT_RE = re.compile(br"\d")
 
