commit 14b8bf2521fa7fc0bd8ff631b808a418cb75f930
Author: Christopher Shallue <chris.shallue@gmail.com>
Date:   Thu Mar 15 17:29:13 2018 -0700

    Add explicit bytes encoding for Python3 compatibility.

diff --git a/research/astronet/astronet/data/generate_input_records.py b/research/astronet/astronet/data/generate_input_records.py
index 1c4cfad6..4b20fcad 100644
--- a/research/astronet/astronet/data/generate_input_records.py
+++ b/research/astronet/astronet/data/generate_input_records.py
@@ -140,7 +140,8 @@ def _set_float_feature(ex, name, value):
 def _set_bytes_feature(ex, name, value):
   """Sets the value of a bytes feature in a tensorflow.train.Example proto."""
   assert name not in ex.features.feature, "Duplicate feature: %s" % name
-  ex.features.feature[name].bytes_list.value.extend([str(v) for v in value])
+  ex.features.feature[name].bytes_list.value.extend([
+      str(v).encode("latin-1") for v in value])
 
 
 def _set_int64_feature(ex, name, value):
@@ -187,7 +188,7 @@ def _process_tce(tce):
       try:
         _set_float_feature(ex, col_name, [float(value)])
       except ValueError:
-        _set_bytes_feature(ex, col_name, [str(value)])
+        _set_bytes_feature(ex, col_name, [value])
 
   return ex
 
