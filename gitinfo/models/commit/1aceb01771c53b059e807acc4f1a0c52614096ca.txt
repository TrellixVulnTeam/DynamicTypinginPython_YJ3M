commit 1aceb01771c53b059e807acc4f1a0c52614096ca
Author: Mark Daoust <markdaoust@google.com>
Date:   Tue Jul 17 09:55:16 2018 -0700

    Robust "PYTHONPATH" usage.

diff --git a/samples/core/tutorials/estimators/linear.ipynb b/samples/core/tutorials/estimators/linear.ipynb
index 0c414cc2..88cbc02d 100644
--- a/samples/core/tutorials/estimators/linear.ipynb
+++ b/samples/core/tutorials/estimators/linear.ipynb
@@ -165,8 +165,8 @@
       },
       "cell_type": "code",
       "source": [
-      "! pip install requests\n",
-      "! git clone --depth 1 https://github.com/tensorflow/models"
+        "! pip install requests\n",
+        "! git clone --depth 1 https://github.com/tensorflow/models"
       ],
       "execution_count": 0,
       "outputs": []
@@ -247,7 +247,10 @@
         "#export PYTHONPATH=${PYTHONPATH}:\"$(pwd)/models\"\n",
         "#running from python you need to set the `os.environ` or the subprocess will not see the directory.\n",
         "\n",
-        "os.environ['PYTHONPATH'] += os.pathsep +  models_path"
+        "if \"PYTHONPATH\" in os.environ:\n",
+        "  os.environ['PYTHONPATH'] += os.pathsep +  models_path\n",
+        "else:\n",
+        "  os.environ['PYTHONPATH'] = models_path"
       ],
       "execution_count": 0,
       "outputs": []
@@ -1394,4 +1397,4 @@
       ]
     }
   ]
-}
+}
\ No newline at end of file
