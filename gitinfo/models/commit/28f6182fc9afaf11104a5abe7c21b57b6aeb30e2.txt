commit 28f6182fc9afaf11104a5abe7c21b57b6aeb30e2
Author: Hongkun Yu <hongkuny@google.com>
Date:   Mon Mar 16 22:48:25 2020 -0700

    Estimator should still use v1 optimizer.
    
    PiperOrigin-RevId: 301308906

diff --git a/official/recommendation/neumf_model.py b/official/recommendation/neumf_model.py
index 8d4ce119..7c561b26 100644
--- a/official/recommendation/neumf_model.py
+++ b/official/recommendation/neumf_model.py
@@ -109,7 +109,7 @@ def neumf_model_fn(features, labels, mode, params):
     mlperf_helper.ncf_print(key=mlperf_helper.TAGS.OPT_HP_ADAM_EPSILON,
                             value=params["epsilon"])
 
-    optimizer = tf.keras.optimizers.Adam(
+    optimizer = tf.compat.v1.train.AdamOptimizer(
         learning_rate=params["learning_rate"],
         beta1=params["beta1"],
         beta2=params["beta2"],
