commit 1b8c0ee84391a9afe481882fc9370e29a0786790
Author: Jose Baiocchi <jbaiocchi@google.com>
Date:   Mon Nov 18 17:40:40 2019 -0800

    Properly save/restore flags in model tests
    
    PiperOrigin-RevId: 281192912

diff --git a/official/utils/testing/integration.py b/official/utils/testing/integration.py
index f95c5cec..b4809a48 100644
--- a/official/utils/testing/integration.py
+++ b/official/utils/testing/integration.py
@@ -25,10 +25,12 @@ import sys
 import tempfile
 
 from absl import flags
+from absl.testing import flagsaver
 
 from official.utils.flags import core as flags_core
 
 
+@flagsaver.flagsaver
 def run_synthetic(main, tmp_root, extra_flags=None, synth=True, train_epochs=1,
                   epochs_between_evals=1):
   """Performs a minimal run of a model.
