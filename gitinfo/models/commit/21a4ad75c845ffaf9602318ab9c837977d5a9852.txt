commit 21a4ad75c845ffaf9602318ab9c837977d5a9852
Author: guptapriya <14104855+guptapriya@users.noreply.github.com>
Date:   Fri Feb 22 09:48:36 2019 -0800

    Remove isintance change for contrib strategy (#6250)
    
    * Remove isintance change for contrib strategy
    
    Replace it with class name check instead which should work regardless
    
    * Add quotes for string
    
    * fix quote type

diff --git a/official/resnet/resnet_run_loop.py b/official/resnet/resnet_run_loop.py
index 66af9676..2419e78b 100644
--- a/official/resnet/resnet_run_loop.py
+++ b/official/resnet/resnet_run_loop.py
@@ -554,8 +554,8 @@ def resnet_main(
   train_epochs = (0 if flags_obj.eval_only or not flags_obj.train_epochs else
                   flags_obj.train_epochs)
 
-  use_train_and_evaluate = flags_obj.use_train_and_evaluate or isinstance(
-      distribution_strategy, tf.contrib.distribute.CollectiveAllReduceStrategy)
+  use_train_and_evaluate = flags_obj.use_train_and_evaluate or (
+    distribution_strategy.__class__.__name__ == 'CollectiveAllReduceStrategy')
   if use_train_and_evaluate:
     train_spec = tf.estimator.TrainSpec(
         input_fn=lambda: input_fn_train(train_epochs), hooks=train_hooks,
