commit 1f4936f104a98e7be2d45177748df85751a467af
Author: Madhura Pande <madhurapande2011@gmail.com>
Date:   Thu Oct 24 16:28:25 2019 +0530

    Tensorboard summary writing for few params
    
    Using this code on GPU, was not logging "learning_rate" and "gradient norm" etc. We need to use simple "tf.summary.scalar" instead of contrib one to log these params. Tested on Tensorflow 1.14.

diff --git a/official/transformer/transformer_main.py b/official/transformer/transformer_main.py
index 4d007c01..335e553b 100644
--- a/official/transformer/transformer_main.py
+++ b/official/transformer/transformer_main.py
@@ -140,7 +140,7 @@ def model_fn(features, labels, mode, params):
 
 def record_scalars(metric_dict):
   for key, value in metric_dict.items():
-    tf.contrib.summary.scalar(name=key, tensor=value)
+    tf.summary.scalar(name=key, tensor=value)
 
 
 def get_learning_rate(learning_rate, hidden_size, learning_rate_warmup_steps):
