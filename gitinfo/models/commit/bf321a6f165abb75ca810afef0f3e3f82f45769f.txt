commit bf321a6f165abb75ca810afef0f3e3f82f45769f
Author: Neal Wu <neal@nealwu.com>
Date:   Tue Feb 28 16:19:11 2017 -0800

    Logits and labels were out of order when computing loss

diff --git a/slim/train_image_classifier.py b/slim/train_image_classifier.py
index 7ac1154e..662d42b0 100644
--- a/slim/train_image_classifier.py
+++ b/slim/train_image_classifier.py
@@ -470,10 +470,11 @@ def main(_):
       #############################
       if 'AuxLogits' in end_points:
         tf.losses.softmax_cross_entropy(
-            end_points['AuxLogits'], labels,
+            logits=end_points['AuxLogits'], onehot_labels=labels,
             label_smoothing=FLAGS.label_smoothing, weights=0.4, scope='aux_loss')
       tf.losses.softmax_cross_entropy(
-          logits, labels, label_smoothing=FLAGS.label_smoothing, weights=1.0)
+          logits=logits, onehot_labels=labels,
+          label_smoothing=FLAGS.label_smoothing, weights=1.0)
       return end_points
 
     # Gather initial summaries.
