commit 6487fa7c9677b539f34f06b60950cb715955a2bb
Author: Mikalai Drabovich <nick.drabovich@amd.com>
Date:   Thu Jan 11 23:04:58 2018 -0800

    Fix #3148
    
    Opening gzipped datasets in binary, read-only mode fixes the issue

diff --git a/official/mnist/dataset.py b/official/mnist/dataset.py
index 6f5ce04b..9eac0b11 100644
--- a/official/mnist/dataset.py
+++ b/official/mnist/dataset.py
@@ -33,7 +33,7 @@ def read32(bytestream):
 
 def check_image_file_header(filename):
   """Validate that filename corresponds to images for the MNIST dataset."""
-  with tf.gfile.Open(filename) as f:
+  with tf.gfile.Open(filename,'rb') as f:
     magic = read32(f)
     num_images = read32(f)
     rows = read32(f)
@@ -49,7 +49,7 @@ def check_image_file_header(filename):
 
 def check_labels_file_header(filename):
   """Validate that filename corresponds to labels for the MNIST dataset."""
-  with tf.gfile.Open(filename) as f:
+  with tf.gfile.Open(filename,'rb') as f:
     magic = read32(f)
     num_items = read32(f)
     if magic != 2049:
