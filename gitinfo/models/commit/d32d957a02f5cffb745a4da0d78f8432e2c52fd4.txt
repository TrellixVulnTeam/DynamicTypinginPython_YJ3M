commit d32d957a02f5cffb745a4da0d78f8432e2c52fd4
Author: Gonzalo Gasca Meza <gogasca@google.com>
Date:   Mon Jan 14 10:36:26 2019 -0800

    Update tensorrt.py (#6034)
    
    Changes in Tensorflow contrib:
    https://github.com/tensorflow/tensorflow/commit/304faf0444260912b6996d39227417c09561c37e
    
    Causes tensortt.py to fail.
    
    ```
    AttributeError: 'module' object has no attribute 'get_signature_def_by_key'
    ```
    Replace `tf.contrib.saved_model.get_signature_def_by_key` with `meta_graph_def.signature_def`

diff --git a/research/tensorrt/tensorrt.py b/research/tensorrt/tensorrt.py
index 41956180..caf43baa 100644
--- a/research/tensorrt/tensorrt.py
+++ b/research/tensorrt/tensorrt.py
@@ -182,10 +182,9 @@ def convert_savedmodel_to_frozen_graph(savedmodel_dir, output_dir):
   Returns:
     Frozen Graph definition for use.
   """
-  meta_graph = get_serving_meta_graph_def(savedmodel_dir)
-  signature_def = tf.contrib.saved_model.get_signature_def_by_key(
-      meta_graph,
-      tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY)
+  meta_graph_def = get_serving_meta_graph_def(savedmodel_dir)
+  signature_def = meta_graph_def.signature_def[
+      tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY]
 
   outputs = [v.name for v in signature_def.outputs.itervalues()]
   output_names = [node.split(":")[0] for node in outputs]
@@ -193,7 +192,7 @@ def convert_savedmodel_to_frozen_graph(savedmodel_dir, output_dir):
   graph = tf.Graph()
   with tf.Session(graph=graph) as sess:
     tf.saved_model.loader.load(
-        sess, meta_graph.meta_info_def.tags, savedmodel_dir)
+        sess, meta_graph_def.meta_info_def.tags, savedmodel_dir)
     frozen_graph_def = tf.graph_util.convert_variables_to_constants(
         sess, graph.as_graph_def(), output_names)
 
