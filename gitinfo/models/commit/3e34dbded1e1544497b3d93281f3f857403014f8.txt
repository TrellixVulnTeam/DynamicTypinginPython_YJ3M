commit 3e34dbded1e1544497b3d93281f3f857403014f8
Author: Fahim Mannan <fmannan@gmail.com>
Date:   Mon Mar 26 15:41:34 2018 -0400

    deeplab_demo notebook py2 and py3 support

diff --git a/research/deeplab/deeplab_demo.ipynb b/research/deeplab/deeplab_demo.ipynb
index 984725cb..8e7b7161 100644
--- a/research/deeplab/deeplab_demo.ipynb
+++ b/research/deeplab/deeplab_demo.ipynb
@@ -31,10 +31,10 @@
         "#@title Imports\n",
         "\n",
         "import os\n",
-        "import StringIO\n",
+        "from io import BytesIO\n",
         "import tarfile\n",
         "import tempfile\n",
-        "import urllib\n",
+        "from six.moves import urllib\n",
         "\n",
         "from matplotlib import gridspec\n",
         "from matplotlib import pyplot as plt\n",
@@ -238,13 +238,13 @@
         "tf.gfile.MakeDirs(model_dir)\n",
         "\n",
         "download_path = os.path.join(model_dir, _TARBALL_NAME)\n",
-        "print 'downloading model, this might take a while...'\n",
-        "urllib.urlretrieve(_DOWNLOAD_URL_PREFIX + _MODEL_URLS[MODEL_NAME],\n",
+        "print('downloading model, this might take a while...')\n",
+        "urllib.request.urlretrieve(_DOWNLOAD_URL_PREFIX + _MODEL_URLS[MODEL_NAME],\n",
         "                   download_path)\n",
-        "print 'download completed! loading DeepLab model...'\n",
+        "print('download completed! loading DeepLab model...')\n",
         "\n",
         "MODEL = DeepLabModel(download_path)\n",
-        "print 'model loaded successfully!'"
+        "print('model loaded successfully!')"
       ]
     },
     {
@@ -292,14 +292,14 @@
         "def run_visualization(url):\n",
         "  \"\"\"Inferences DeepLab model and visualizes result.\"\"\"\n",
         "  try:\n",
-        "    f = urllib.urlopen(url)\n",
+        "    f = urllib.request.urlopen(url)\n",
         "    jpeg_str = f.read()\n",
-        "    orignal_im = Image.open(StringIO.StringIO(jpeg_str))\n",
+        "    orignal_im = Image.open(BytesIO(jpeg_str))\n",
         "  except IOError:\n",
-        "    print 'Cannot retrieve image. Please check url: ' + url\n",
+        "    print('Cannot retrieve image. Please check url: ' + url)\n",
         "    return\n",
         "\n",
-        "  print 'running deeplab on image %s...' % url\n",
+        "  print('running deeplab on image %s...' % url)\n",
         "  resized_im, seg_map = MODEL.run(orignal_im)\n",
         "\n",
         "  vis_segmentation(resized_im, seg_map)\n",
