commit 1577ed076cab2d38be4885a1b0678756f7aacd8b
Author: Jiri Simsa <jsimsa@google.com>
Date:   Wed Sep 11 00:37:11 2019 -0700

    Fix TF 2.0 tf.data API usage.
    
    PiperOrigin-RevId: 268401010

diff --git a/official/recommendation/data_test.py b/official/recommendation/data_test.py
index 37aa4f9d..3e657853 100644
--- a/official/recommendation/data_test.py
+++ b/official/recommendation/data_test.py
@@ -127,7 +127,7 @@ class BaseTest(tf.test.TestCase):
     # type: (tf.data.Dataset, tf.Graph) -> list
     with self.session(graph=g) as sess:
       with g.as_default():
-        batch = dataset.make_one_shot_iterator().get_next()
+        batch = tf.compat.v1.data.make_one_shot_iterator(dataset).get_next()
       output = []
       while True:
         try:
