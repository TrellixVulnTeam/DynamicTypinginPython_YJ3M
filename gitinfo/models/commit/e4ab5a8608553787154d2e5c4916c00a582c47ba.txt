commit e4ab5a8608553787154d2e5c4916c00a582c47ba
Author: Reed <reedwm@google.com>
Date:   Tue Jul 31 15:35:13 2018 -0700

    Fix crash when Python interpreter not on PATH. (#4961)
    
    * Fix crash when Python interpreter not on PATH.
    
    * Fix lint error.

diff --git a/official/recommendation/popen_helper.py b/official/recommendation/popen_helper.py
index fd46d0ac..183352f6 100644
--- a/official/recommendation/popen_helper.py
+++ b/official/recommendation/popen_helper.py
@@ -15,10 +15,13 @@
 """Helper file for running the async data generation process in OSS."""
 
 import os
-import six
+import sys
 
 
-_PYTHON = "python3" if six.PY3 else "python2"
+_PYTHON = sys.executable
+if not _PYTHON:
+  raise RuntimeError("Could not find path to Python interpreter in order to "
+                     "spawn subprocesses.")
 
 _ASYNC_GEN_PATH = os.path.join(os.path.dirname(__file__),
                                "data_async_generation.py")
