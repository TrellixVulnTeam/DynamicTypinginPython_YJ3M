commit 6d1dd03df5bc9573ca6c414f28c3c9fbaf1afd12
Author: Hongkun Yu <hongkuny@google.com>
Date:   Thu Sep 5 22:10:05 2019 -0700

    Remove vars dedup as keras fixed it.
    
    PiperOrigin-RevId: 267525663

diff --git a/official/bert/model_training_utils.py b/official/bert/model_training_utils.py
index a9806c8e..c8636ccb 100644
--- a/official/bert/model_training_utils.py
+++ b/official/bert/model_training_utils.py
@@ -231,9 +231,8 @@ def run_customized_training_loop(
       else:
         train_summary_writer = None
 
-      # De-dupes variables due to keras tracking issues.
-      training_vars = list({id(v): v for v in model.trainable_variables
-                           }.values())
+      # Collects training variables.
+      training_vars = model.trainable_variables
 
       def _replicated_step(inputs):
         """Replicated training step."""
