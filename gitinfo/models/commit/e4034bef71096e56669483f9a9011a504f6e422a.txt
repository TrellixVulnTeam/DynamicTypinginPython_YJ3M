commit e4034bef71096e56669483f9a9011a504f6e422a
Author: Reed <reedwm@google.com>
Date:   Tue Jul 31 12:57:07 2018 -0700

    Fix crash when --eval_batch_size is not set. (#4955)

diff --git a/official/recommendation/ncf_main.py b/official/recommendation/ncf_main.py
index 38edb804..096d20b2 100644
--- a/official/recommendation/ncf_main.py
+++ b/official/recommendation/ncf_main.py
@@ -202,7 +202,7 @@ def run_ncf(_):
   num_gpus = flags_core.get_num_gpus(FLAGS)
   batch_size = distribution_utils.per_device_batch_size(
       int(FLAGS.batch_size), num_gpus)
-  eval_batch_size = int(FLAGS.eval_batch_size) or int(FLAGS.batch_size)
+  eval_batch_size = int(FLAGS.eval_batch_size or FLAGS.batch_size)
   ncf_dataset = data_preprocessing.instantiate_pipeline(
       dataset=FLAGS.dataset, data_dir=FLAGS.data_dir,
       batch_size=batch_size,
