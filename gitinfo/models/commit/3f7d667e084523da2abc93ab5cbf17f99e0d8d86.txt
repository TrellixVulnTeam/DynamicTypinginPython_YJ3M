commit 3f7d667e084523da2abc93ab5cbf17f99e0d8d86
Author: Swaroop Guntupalli <swaroopgj@gmail.com>
Date:   Tue Apr 17 09:11:45 2018 -0700

    Bugfix for initialization in autoencoder. (#3477)

diff --git a/research/autoencoder/autoencoder_models/Autoencoder.py b/research/autoencoder/autoencoder_models/Autoencoder.py
index fc404d27..788a1464 100644
--- a/research/autoencoder/autoencoder_models/Autoencoder.py
+++ b/research/autoencoder/autoencoder_models/Autoencoder.py
@@ -40,21 +40,24 @@ class Autoencoder(object):
 
     def _initialize_weights(self):
         all_weights = dict()
+        initializer = tf.contrib.layers.xavier_initializer()
         # Encoding network weights
         encoder_weights = []
         for layer in range(len(self.n_layers)-1):
             w = tf.Variable(
-                autoencoder.Utils.xavier_init(self.n_layers[layer],
-                                              self.n_layers[layer + 1]))
-            b = tf.Variable(tf.zeros([self.n_layers[layer+1]], dtype=tf.float32))
+                initializer((self.n_layers[layer], self.n_layers[layer + 1]),
+                            dtype=tf.float32))
+            b = tf.Variable(
+                tf.zeros([self.n_layers[layer + 1]], dtype=tf.float32))
             encoder_weights.append({'w': w, 'b': b})
         # Recon network weights
         recon_weights = []
         for layer in range(len(self.n_layers)-1, 0, -1):
             w = tf.Variable(
-                autoencoder.Utils.xavier_init(self.n_layers[layer],
-                                              self.n_layers[layer - 1]))
-            b = tf.Variable(tf.zeros([self.n_layers[layer-1]], dtype=tf.float32))
+                initializer((self.n_layers[layer], self.n_layers[layer - 1]),
+                            dtype=tf.float32))
+            b = tf.Variable(
+                tf.zeros([self.n_layers[layer - 1]], dtype=tf.float32))
             recon_weights.append({'w': w, 'b': b})
         all_weights['encode'] = encoder_weights
         all_weights['recon'] = recon_weights
