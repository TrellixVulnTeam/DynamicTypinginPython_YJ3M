commit 65f20011d1c8054217beef9322b811ab6bec005e
Author: Zhichao Lu <lzc@google.com>
Date:   Wed Feb 28 16:46:03 2018 -0800

    Updating trainer so that train config parameter `load_all_detection_checkpoint_vars` is used in restore_map.
    
    PiperOrigin-RevId: 187403903

diff --git a/research/object_detection/trainer.py b/research/object_detection/trainer.py
index b5059b94..bd5e8021 100644
--- a/research/object_detection/trainer.py
+++ b/research/object_detection/trainer.py
@@ -268,7 +268,9 @@ def train(create_tensor_dict_fn, create_model_fn, train_config, master, task,
     init_fn = None
     if train_config.fine_tune_checkpoint:
       var_map = detection_model.restore_map(
-          from_detection_checkpoint=train_config.from_detection_checkpoint)
+          from_detection_checkpoint=train_config.from_detection_checkpoint,
+          load_all_detection_checkpoint_vars=(
+              train_config.load_all_detection_checkpoint_vars))
       available_var_map = (variables_helper.
                            get_variables_available_in_checkpoint(
                                var_map, train_config.fine_tune_checkpoint))
