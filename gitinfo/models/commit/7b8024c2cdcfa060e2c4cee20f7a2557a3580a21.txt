commit 7b8024c2cdcfa060e2c4cee20f7a2557a3580a21
Author: A. Unique TensorFlower <gardener@tensorflow.org>
Date:   Sun Apr 12 11:49:59 2020 -0700

    Internal change
    
    PiperOrigin-RevId: 306136233

diff --git a/official/nlp/xlnet/xlnet_modeling.py b/official/nlp/xlnet/xlnet_modeling.py
index 1af517a2..3e16af8e 100644
--- a/official/nlp/xlnet/xlnet_modeling.py
+++ b/official/nlp/xlnet/xlnet_modeling.py
@@ -1019,7 +1019,8 @@ class Summarization(tf.keras.layers.Layer):
       summary = inputs[0]
     else:
       raise ValueError('Invalid summary type provided: %s' % self.summary_type)
-    summary = self.proj_layer(summary)
+    if self.use_proj:
+      summary = self.proj_layer(summary)
     summary = self.dropout_layer(summary)
     return summary
 
