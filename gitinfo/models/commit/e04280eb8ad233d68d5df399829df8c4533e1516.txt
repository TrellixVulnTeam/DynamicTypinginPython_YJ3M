commit e04280eb8ad233d68d5df399829df8c4533e1516
Author: Vlad Paunescu <vlad.paunescu@gmail.com>
Date:   Tue May 8 17:15:43 2018 +0300

    Fixed Bug regarding tfrecord shuffling in object_detection

diff --git a/research/object_detection/utils/dataset_util.py b/research/object_detection/utils/dataset_util.py
index 29dd7174..5f7e1923 100644
--- a/research/object_detection/utils/dataset_util.py
+++ b/research/object_detection/utils/dataset_util.py
@@ -134,7 +134,7 @@ def read_dataset(file_read_func, decode_func, input_files, config):
           file_read_func, cycle_length=config.num_readers,
           block_length=config.read_block_length, sloppy=True))
   if config.shuffle:
-    records_dataset.shuffle(config.shuffle_buffer_size)
+    records_dataset = records_dataset.shuffle(config.shuffle_buffer_size)
   tensor_dataset = records_dataset.map(
       decode_func, num_parallel_calls=config.num_parallel_map_calls)
   return tensor_dataset.prefetch(config.prefetch_size)
