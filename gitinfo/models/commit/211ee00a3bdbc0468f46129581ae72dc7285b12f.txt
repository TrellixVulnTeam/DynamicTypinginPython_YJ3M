commit 211ee00a3bdbc0468f46129581ae72dc7285b12f
Author: Neal Wu <neal@nealwu.com>
Date:   Wed Mar 15 21:27:12 2017 -0700

    Convert tf.GraphKeys.VARIABLES -> tf.GraphKeys.GLOBAL_VARIABLES

diff --git a/slim/nets/inception_resnet_v2_test.py b/slim/nets/inception_resnet_v2_test.py
index 864eb250..b1560fb0 100644
--- a/slim/nets/inception_resnet_v2_test.py
+++ b/slim/nets/inception_resnet_v2_test.py
@@ -65,9 +65,9 @@ class InceptionTest(tf.test.TestCase):
         inception.inception_resnet_v2(inputs, num_classes)
       with tf.variable_scope('on_gpu'), tf.device('/gpu:0'):
         inception.inception_resnet_v2(inputs, num_classes)
-      for v in tf.get_collection(tf.GraphKeys.VARIABLES, scope='on_cpu'):
+      for v in tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope='on_cpu'):
         self.assertDeviceEqual(v.device, '/cpu:0')
-      for v in tf.get_collection(tf.GraphKeys.VARIABLES, scope='on_gpu'):
+      for v in tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope='on_gpu'):
         self.assertDeviceEqual(v.device, '/gpu:0')
 
   def testHalfSizeImages(self):
diff --git a/slim/nets/inception_v4_test.py b/slim/nets/inception_v4_test.py
index 5ffe656e..11cffb63 100644
--- a/slim/nets/inception_v4_test.py
+++ b/slim/nets/inception_v4_test.py
@@ -146,9 +146,9 @@ class InceptionTest(tf.test.TestCase):
       inception.inception_v4(inputs, num_classes)
     with tf.variable_scope('on_gpu'), tf.device('/gpu:0'):
       inception.inception_v4(inputs, num_classes)
-    for v in tf.get_collection(tf.GraphKeys.VARIABLES, scope='on_cpu'):
+    for v in tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope='on_cpu'):
       self.assertDeviceEqual(v.device, '/cpu:0')
-    for v in tf.get_collection(tf.GraphKeys.VARIABLES, scope='on_gpu'):
+    for v in tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES, scope='on_gpu'):
       self.assertDeviceEqual(v.device, '/gpu:0')
 
   def testHalfSizeImages(self):
diff --git a/video_prediction/prediction_train.py b/video_prediction/prediction_train.py
index 872849ec..59822603 100644
--- a/video_prediction/prediction_train.py
+++ b/video_prediction/prediction_train.py
@@ -196,7 +196,7 @@ def main(unused_argv):
   print 'Constructing saver.'
   # Make saver.
   saver = tf.train.Saver(
-      tf.get_collection(tf.GraphKeys.VARIABLES), max_to_keep=0)
+      tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES), max_to_keep=0)
 
   # Make training session.
   sess = tf.InteractiveSession()
