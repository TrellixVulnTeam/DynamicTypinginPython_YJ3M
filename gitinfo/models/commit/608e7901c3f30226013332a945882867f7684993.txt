commit 608e7901c3f30226013332a945882867f7684993
Author: Christopher Shallue <chris.shallue@gmail.com>
Date:   Fri Sep 30 14:42:01 2016 -0700

    Use tar on OSX to unzip the MSCOCO data file.

diff --git a/im2txt/im2txt/data/download_and_preprocess_mscoco.sh b/im2txt/im2txt/data/download_and_preprocess_mscoco.sh
index 5ac8fa10..ab3ff28d 100755
--- a/im2txt/im2txt/data/download_and_preprocess_mscoco.sh
+++ b/im2txt/im2txt/data/download_and_preprocess_mscoco.sh
@@ -29,6 +29,12 @@ if [ -z "$1" ]; then
   exit
 fi
 
+if [ "$(uname)" == "Darwin" ]; then
+  UNZIP="tar -xf"
+else
+  UNZIP="unzip -nq"
+fi
+
 # Create the output directories.
 OUTPUT_DIR="${1%/}"
 SCRATCH_DIR="${OUTPUT_DIR}/raw-data"
@@ -49,7 +55,7 @@ function download_and_unzip() {
     echo "Skipping download of ${FILENAME}"
   fi
   echo "Unzipping ${FILENAME}"
-  unzip -nq ${FILENAME}
+  ${UNZIP} ${FILENAME}
 }
 
 cd ${SCRATCH_DIR}
