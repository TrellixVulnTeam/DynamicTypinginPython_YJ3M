commit d0b6a34bb0dbd981e3785661f04f04cde9c4222b
Author: Tobias Hinz <33095815+tohinz@users.noreply.github.com>
Date:   Wed May 9 17:36:22 2018 +0200

    mnist_eager to use GPU if not specified otherwise (#4216)
    
    Update mnist_eager.py to use GPU if available and not specified otherwise. At the moment it uses the CPU even if a GPU is available, since "if flags_obj.no_gpu or tf.test.is_gpu_available():" in "def run_mnist_eager(flags_obj):" evaluates to True if a GPU is available.

diff --git a/official/mnist/mnist_eager.py b/official/mnist/mnist_eager.py
index 99a31094..9efa626a 100644
--- a/official/mnist/mnist_eager.py
+++ b/official/mnist/mnist_eager.py
@@ -107,7 +107,7 @@ def run_mnist_eager(flags_obj):
 
   # Automatically determine device and data_format
   (device, data_format) = ('/gpu:0', 'channels_first')
-  if flags_obj.no_gpu or tf.test.is_gpu_available():
+  if flags_obj.no_gpu or not tf.test.is_gpu_available():
     (device, data_format) = ('/cpu:0', 'channels_last')
   # If data_format is defined in FLAGS, overwrite automatically set value.
   if flags_obj.data_format is not None:
