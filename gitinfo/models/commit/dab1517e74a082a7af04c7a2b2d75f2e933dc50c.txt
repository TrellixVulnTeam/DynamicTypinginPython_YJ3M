commit dab1517e74a082a7af04c7a2b2d75f2e933dc50c
Author: kaiix <kvn.hou@gmail.com>
Date:   Wed Aug 31 16:34:33 2016 +0800

    Allow using a single GPU

diff --git a/textsum/seq2seq_attention_model.py b/textsum/seq2seq_attention_model.py
index fbb0bee9..0a88e0f0 100644
--- a/textsum/seq2seq_attention_model.py
+++ b/textsum/seq2seq_attention_model.py
@@ -105,7 +105,8 @@ class Seq2SeqAttentionModel(object):
     if self._num_gpus == 0:
       return ''
     dev = '/gpu:%d' % self._cur_gpu
-    self._cur_gpu = (self._cur_gpu + 1) % (self._num_gpus-1)
+    if self._num_gpus > 1:
+      self._cur_gpu = (self._cur_gpu + 1) % (self._num_gpus-1)
     return dev
 
   def _get_gpu(self, gpu_id):
