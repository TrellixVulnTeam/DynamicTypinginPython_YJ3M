commit 31b0e5184a8b86063760ef5b8ea19ed6cb0e5d9e
Author: Yukun Zhu <YknZhu@users.noreply.github.com>
Date:   Mon May 4 12:31:10 2020 -0700

    Allow deeplab dataset script to be run from any location (#8466)
    
    Thanks amangu@ for fixing this script.

diff --git a/research/deeplab/datasets/download_and_convert_voc2012.sh b/research/deeplab/datasets/download_and_convert_voc2012.sh
index 30eec7f7..c0223518 100644
--- a/research/deeplab/datasets/download_and_convert_voc2012.sh
+++ b/research/deeplab/datasets/download_and_convert_voc2012.sh
@@ -37,6 +37,7 @@ set -e
 
 CURRENT_DIR=$(pwd)
 WORK_DIR="./pascal_voc_seg"
+SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
 mkdir -p "${WORK_DIR}"
 cd "${WORK_DIR}"
 
@@ -69,7 +70,7 @@ SEG_FOLDER="${PASCAL_ROOT}/SegmentationClass"
 SEMANTIC_SEG_FOLDER="${PASCAL_ROOT}/SegmentationClassRaw"
 
 echo "Removing the color map in ground truth annotations..."
-python ./remove_gt_colormap.py \
+python3 "${SCRIPT_DIR}/remove_gt_colormap.py" \
   --original_gt_folder="${SEG_FOLDER}" \
   --output_dir="${SEMANTIC_SEG_FOLDER}"
 
@@ -82,7 +83,7 @@ IMAGE_FOLDER="${PASCAL_ROOT}/JPEGImages"
 LIST_FOLDER="${PASCAL_ROOT}/ImageSets/Segmentation"
 
 echo "Converting PASCAL VOC 2012 dataset..."
-python ./build_voc2012_data.py \
+python3 "${SCRIPT_DIR}/build_voc2012_data.py" \
   --image_folder="${IMAGE_FOLDER}" \
   --semantic_segmentation_folder="${SEMANTIC_SEG_FOLDER}" \
   --list_folder="${LIST_FOLDER}" \
