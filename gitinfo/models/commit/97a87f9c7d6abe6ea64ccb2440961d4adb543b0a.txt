commit 97a87f9c7d6abe6ea64ccb2440961d4adb543b0a
Author: Chris Mattmann <chris.mattmann@gmail.com>
Date:   Thu Jul 18 22:08:27 2019 -0700

    Fix for TF-models #7216: CIFAR-10 tutorial for multi-GPU fails because full shape isn't passed to prefetch_queue contributed by mattmann. (#7217)

diff --git a/tutorials/image/cifar10/cifar10_multi_gpu_train.py b/tutorials/image/cifar10/cifar10_multi_gpu_train.py
index 3c1950d6..8cb8a096 100644
--- a/tutorials/image/cifar10/cifar10_multi_gpu_train.py
+++ b/tutorials/image/cifar10/cifar10_multi_gpu_train.py
@@ -163,6 +163,8 @@ def train():
 
     # Get images and labels for CIFAR-10.
     images, labels = cifar10.distorted_inputs()
+    images = tf.reshape(images, [cifar10.FLAGS.batch_size, 24, 24, 3])
+    labels = tf.reshape(labels, [cifar10.FLAGS.batch_size])
     batch_queue = tf.contrib.slim.prefetch_queue.prefetch_queue(
           [images, labels], capacity=2 * FLAGS.num_gpus)
     # Calculate the gradients for each model tower.
