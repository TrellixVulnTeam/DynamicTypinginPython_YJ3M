commit ae86bfd9ed457514662c04c4f10f7aaf536d85ea
Author: Tian Lin <lintian06@users.noreply.github.com>
Date:   Mon Jan 7 15:15:10 2019 +0800

    Add repeat to datasets. (#6001)

diff --git a/official/keras_application_models/dataset.py b/official/keras_application_models/dataset.py
index e8ca03e5..1a35caeb 100644
--- a/official/keras_application_models/dataset.py
+++ b/official/keras_application_models/dataset.py
@@ -69,6 +69,6 @@ class Cifar10Dataset(object):
     y_train = tf.keras.utils.to_categorical(y_train, self.num_classes)
     y_test = tf.keras.utils.to_categorical(y_test, self.num_classes)
     self.train_dataset = tf.data.Dataset.from_tensor_slices(
-        (x_train, y_train)).shuffle(2000).batch(batch_size)
+        (x_train, y_train)).shuffle(2000).batch(batch_size).repeat()
     self.test_dataset = tf.data.Dataset.from_tensor_slices(
-        (x_test, y_test)).shuffle(2000).batch(batch_size)
+        (x_test, y_test)).shuffle(2000).batch(batch_size).repeat()
