commit 41d071ee5ec985a6bf03d9813085ec7ef86697c0
Author: guptapriya <14104855+guptapriya@users.noreply.github.com>
Date:   Thu Jul 18 18:23:39 2019 -0700

    NCF Keras: Fail early with TF 1.x + dist strat
    
    This combination does not yet work. Fail early with an explicit message instead of throwing error later on.

diff --git a/official/recommendation/ncf_keras_main.py b/official/recommendation/ncf_keras_main.py
index 2d30d61b..b06c8045 100644
--- a/official/recommendation/ncf_keras_main.py
+++ b/official/recommendation/ncf_keras_main.py
@@ -275,6 +275,10 @@ def run_ncf(_):
       num_gpus=FLAGS.num_gpus)
   params["distribute_strategy"] = strategy
 
+  if keras_utils.is_v2_0() and strategy is not None:
+    logging.error("NCF Keras only works with distribution strategy in TF 2.0")
+    return
+  
   if (params["keras_use_ctl"] and (
       not keras_utils.is_v2_0() or strategy is None)):
     logging.error(
