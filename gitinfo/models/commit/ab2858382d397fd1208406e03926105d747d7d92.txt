commit ab2858382d397fd1208406e03926105d747d7d92
Author: Zader Zheng <yumaoshu@gmail.com>
Date:   Wed Feb 28 11:33:23 2018 +0800

    fix python3 numpy load in skip_thoughts (#2398)

diff --git a/research/skip_thoughts/skip_thoughts/encoder_manager.py b/research/skip_thoughts/skip_thoughts/encoder_manager.py
index 6d74fb52..7620238e 100644
--- a/research/skip_thoughts/skip_thoughts/encoder_manager.py
+++ b/research/skip_thoughts/skip_thoughts/encoder_manager.py
@@ -69,8 +69,7 @@ class EncoderManager(object):
     tf.logging.info("Loading embedding matrix from %s", embedding_matrix_file)
     # Note: tf.gfile.GFile doesn't work here because np.load() calls f.seek()
     # with 3 arguments.
-    with open(embedding_matrix_file, "r") as f:
-      embedding_matrix = np.load(f)
+    embedding_matrix = np.load(embedding_matrix_file)
     tf.logging.info("Loaded embedding matrix with shape %s",
                     embedding_matrix.shape)
 
