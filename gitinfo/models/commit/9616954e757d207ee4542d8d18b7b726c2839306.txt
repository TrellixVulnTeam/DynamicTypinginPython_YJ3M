commit 9616954e757d207ee4542d8d18b7b726c2839306
Author: Hongkun Yu <hongkuny@google.com>
Date:   Mon Oct 21 22:07:56 2019 -0700

    Adds save_steps to fix squad
    
    PiperOrigin-RevId: 275994710

diff --git a/official/nlp/xlnet/common_flags.py b/official/nlp/xlnet/common_flags.py
index 9869593a..93d9499f 100644
--- a/official/nlp/xlnet/common_flags.py
+++ b/official/nlp/xlnet/common_flags.py
@@ -142,5 +142,5 @@ flags.DEFINE_integer(
     default=16,
     help="Size of the test batch across all hosts.")
 flags.DEFINE_integer(
-    "save_steps", default=None, help="Number of steps for saving checkpoint.")
+    "save_steps", default=1000, help="Number of steps for saving checkpoint.")
 FLAGS = flags.FLAGS
diff --git a/official/nlp/xlnet/run_classifier.py b/official/nlp/xlnet/run_classifier.py
index 371340a2..0e9fd6d5 100644
--- a/official/nlp/xlnet/run_classifier.py
+++ b/official/nlp/xlnet/run_classifier.py
@@ -184,7 +184,7 @@ def main(unused_argv):
       optimizer=optimizer,
       learning_rate_fn=learning_rate_fn,
       model_dir=FLAGS.model_dir,
-      save_steps=1000)
+      save_steps=FLAGS.save_steps)
 
 
 if __name__ == "__main__":
diff --git a/official/nlp/xlnet/run_squad.py b/official/nlp/xlnet/run_squad.py
index ff58cf63..3011bf20 100644
--- a/official/nlp/xlnet/run_squad.py
+++ b/official/nlp/xlnet/run_squad.py
@@ -288,7 +288,8 @@ def main(unused_argv):
       steps_per_loop=steps_per_loop,
       optimizer=optimizer,
       learning_rate_fn=learning_rate_fn,
-      model_dir=FLAGS.model_dir)
+      model_dir=FLAGS.model_dir,
+      save_steps=FLAGS.save_steps)
 
 
 if __name__ == "__main__":
