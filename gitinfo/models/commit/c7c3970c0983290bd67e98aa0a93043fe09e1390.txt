commit c7c3970c0983290bd67e98aa0a93043fe09e1390
Author: Shaoning Zeng <shaoning.zeng@gmail.com>
Date:   Tue Apr 17 00:28:20 2018 +0800

    fix issue 'could not satisfy explicit device' (#3641)
    
    * fix issue 'could not satisfy explicit device'
    
    * remove the line unrelated to fix issue

diff --git a/research/slim/train_image_classifier.py b/research/slim/train_image_classifier.py
index bd7280d7..4b547d57 100644
--- a/research/slim/train_image_classifier.py
+++ b/research/slim/train_image_classifier.py
@@ -552,6 +552,8 @@ def main(_):
     # Merge all summaries together.
     summary_op = tf.summary.merge(list(summaries), name='summary_op')
 
+    # Add config to avoid 'could not satisfy explicit device' problem 
+    sess_config = tf.ConfigProto(allow_soft_placement=True)
 
     ###########################
     # Kicks off the training. #
@@ -567,7 +569,8 @@ def main(_):
         log_every_n_steps=FLAGS.log_every_n_steps,
         save_summaries_secs=FLAGS.save_summaries_secs,
         save_interval_secs=FLAGS.save_interval_secs,
-        sync_optimizer=optimizer if FLAGS.sync_replicas else None)
+        sync_optimizer=optimizer if FLAGS.sync_replicas else None,
+        session_config=sess_config)
 
 
 if __name__ == '__main__':
