commit 2708db702c33fe25c191865de6935f2db920e5f9
Author: A. Unique TensorFlower <gardener@tensorflow.org>
Date:   Fri Sep 27 11:22:59 2019 -0700

    Internal change
    
    PiperOrigin-RevId: 271611082

diff --git a/official/recommendation/movielens.py b/official/recommendation/movielens.py
index 2cbad0f9..acfa8d8f 100644
--- a/official/recommendation/movielens.py
+++ b/official/recommendation/movielens.py
@@ -40,6 +40,7 @@ import tensorflow as tf
 from official.utils.flags import core as flags_core
 
 
+
 ML_1M = "ml-1m"
 ML_20M = "ml-20m"
 DATASETS = [ML_1M, ML_20M]
@@ -151,7 +152,7 @@ def _transform_csv(input_path, output_path, names, skip_first, separator=","):
     separator: Character used to separate fields in the raw csv.
   """
   if six.PY2:
-    names = [n.decode("utf-8") for n in names]
+    names = [six.ensure_text(n, "utf-8") for n in names]
 
   with tf.io.gfile.GFile(output_path, "wb") as f_out, \
       tf.io.gfile.GFile(input_path, "rb") as f_in:
@@ -163,7 +164,7 @@ def _transform_csv(input_path, output_path, names, skip_first, separator=","):
       if i == 0 and skip_first:
         continue  # ignore existing labels in the csv
 
-      line = line.decode("utf-8", errors="ignore")
+      line = six.ensure_text(line, "utf-8", errors="ignore")
       fields = line.split(separator)
       if separator != ",":
         fields = ['"{}"'.format(field) if "," in field else field
