commit 3d2a7e7fbd708303151837d17e29b2119644d4ff
Author: guptapriya <priyag@google.com>
Date:   Mon Jun 3 19:13:24 2019 +0000

    Address code review comments

diff --git a/official/recommendation/ncf_keras_main.py b/official/recommendation/ncf_keras_main.py
index f93a7e1e..75e37ea2 100644
--- a/official/recommendation/ncf_keras_main.py
+++ b/official/recommendation/ncf_keras_main.py
@@ -62,14 +62,12 @@ class MetricLayer(tf.keras.layers.Layer):
   def __init__(self, params):
     super(MetricLayer, self).__init__()
     self.params = params
-
-  def build(self, input_shape):
     self.metric = tf.keras.metrics.Mean(name=rconst.HR_METRIC_NAME)
-
+  
   def call(self, inputs):
     logits, dup_mask = inputs
     in_top_k, metric_weights = metric_fn(logits, dup_mask, self.params)
-    self.add_metric(self.metric(in_top_k, metric_weights))
+    self.add_metric(self.metric(in_top_k, sample_weight=metric_weights))
     return logits
 
 
