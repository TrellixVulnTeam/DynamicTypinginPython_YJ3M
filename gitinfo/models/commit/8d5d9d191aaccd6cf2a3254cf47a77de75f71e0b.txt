commit 8d5d9d191aaccd6cf2a3254cf47a77de75f71e0b
Author: zora tung <gatoatigrado@gmail.com>
Date:   Wed Jan 16 18:27:23 2019 -0500

    Syntaxnet/DRAGNN visualization: Update webpack and (necessarily) babel. (#6058)

diff --git a/research/syntaxnet/dragnn/viz/package.json b/research/syntaxnet/dragnn/viz/package.json
index 5b7bd1e1..ba138ed6 100644
--- a/research/syntaxnet/dragnn/viz/package.json
+++ b/research/syntaxnet/dragnn/viz/package.json
@@ -4,16 +4,18 @@
   "description": "Development container to build DRAGNN visualization javascript (for most cases, it's compled to a single file)",
   "main": "index.js",
   "devDependencies": {
-    "babel-core": "^6.23.1",
-    "babel-loader": "^6.3.2",
-    "babel-plugin-transform-object-rest-spread": "^6.23.0",
-    "babel-plugin-transform-react-jsx": "^6.23.0",
-    "babel-preset-es2015": "^6.22.0",
+    "@babel/core": "^7.2.2",
+    "@babel/plugin-proposal-object-rest-spread": "^7.2.0",
+    "@babel/plugin-transform-react-jsx": "^7.2.0",
+    "@babel/preset-env": "^7.2.3",
+    "@babel/preset-es2015": "^7.0.0-beta.53",
+    "babel-loader": "8.0.5",
     "cytoscape": "^2.7.15",
-    "exports-loader": "^0.6.3",
+    "exports-loader": "0.7.0",
     "preact": "^7.2.0",
-    "webpack": "^2.2.1",
     "uglify-js": "2.7.5",
-    "webpack-dev-server": "^2.3.0"
+    "webpack": "4.28.4",
+    "webpack-cli": "^3.2.1",
+    "webpack-dev-server": "3.1.14"
   }
 }
diff --git a/research/syntaxnet/dragnn/viz/viz.min.js.gz b/research/syntaxnet/dragnn/viz/viz.min.js.gz
index d5725c8c..95bf4f0e 100644
Binary files a/research/syntaxnet/dragnn/viz/viz.min.js.gz and b/research/syntaxnet/dragnn/viz/viz.min.js.gz differ
diff --git a/research/syntaxnet/dragnn/viz/webpack.config.js b/research/syntaxnet/dragnn/viz/webpack.config.js
index 4a6d9c5f..a22a85cc 100644
--- a/research/syntaxnet/dragnn/viz/webpack.config.js
+++ b/research/syntaxnet/dragnn/viz/webpack.config.js
@@ -14,18 +14,23 @@ module.exports = {
     port: 9000,
   },
   module: {
-    loaders: [{
+    rules: [{
       // Uses some new-style (ECMA 2015) classes ... compile them out.
       test: /\.jsx?$/,
+
       exclude: /node_modules/,
-      loader: 'babel-loader',
-      query: {
-        presets: ['es2015'],
-        plugins: [
-          'transform-object-rest-spread',
-          ['transform-react-jsx', {'pragma': 'preact.h'}],
-        ],
-      }
+
+      use: [{
+        loader: 'babel-loader',
+
+        options: {
+          presets: [['@babel/preset-env', {targets: 'cover 99.5%'}]],
+          plugins: [
+            '@babel/plugin-proposal-object-rest-spread',
+            ['@babel/plugin-transform-react-jsx', {'pragma': 'preact.h'}],
+          ],
+        }
+      }]
     }]
   }
 };
