commit 82a25a31f1273540e64ac00ff305d202a9e598eb
Author: Scott Zhu <scottzhu@google.com>
Date:   Mon Mar 19 11:43:17 2018 -0700

    Update logger value type and test
    
    1. Update logger to convert the value type to float to please JSON.
    2. Update logger test to call parent test tearDown.

diff --git a/official/benchmark/logger.py b/official/benchmark/logger.py
index e04e3e45..d8c899f1 100644
--- a/official/benchmark/logger.py
+++ b/official/benchmark/logger.py
@@ -60,12 +60,16 @@ class BenchmarkLogger(object):
         os.path.join(self._logging_dir, _METRIC_LOG_FILE_NAME), "a") as f:
       metric = {
           "name": name,
-          "value": value,
+          "value": float(value),
           "unit": unit,
           "global_step": global_step,
           "timestamp": datetime.datetime.now().strftime(
               _DATE_TIME_FORMAT_PATTERN),
           "extras": extras}
-      json.dump(metric, f)
-      f.write("\n")
+      try:
+        json.dump(metric, f)
+        f.write("\n")
+      except (TypeError, ValueError) as e:
+        tf.logging.warning("Failed to dump metric to log file: name %s, value %s, error %s",
+                           name, value, e)
 
diff --git a/official/benchmark/logger_test.py b/official/benchmark/logger_test.py
index bcc5ecf2..f509e13e 100644
--- a/official/benchmark/logger_test.py
+++ b/official/benchmark/logger_test.py
@@ -32,6 +32,7 @@ import tensorflow as tf
 class BenchmarkLoggerTest(tf.test.TestCase):
 
   def tearDown(self):
+    super(BenchmarkLoggerTest, self).tearDown()
     tf.gfile.DeleteRecursively(self.get_temp_dir())
 
   def test_create_logging_dir(self):
