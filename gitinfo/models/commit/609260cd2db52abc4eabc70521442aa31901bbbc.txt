commit 609260cd2db52abc4eabc70521442aa31901bbbc
Author: Hongkun Yu <saberkun@users.noreply.github.com>
Date:   Mon Jul 22 20:04:27 2019 -0700

    Update lint presubmit to be consistent with tensorflow (#7278)
    
    Only care about errors and output into an error file.

diff --git a/official/utils/testing/scripts/ci_sanity.sh b/official/utils/testing/scripts/ci_sanity.sh
index 0fede44c..01efdf1c 100755
--- a/official/utils/testing/scripts/ci_sanity.sh
+++ b/official/utils/testing/scripts/ci_sanity.sh
@@ -78,6 +78,18 @@ do_pylint() {
     echo "pylint took $((PYLINT_END_TIME - PYLINT_START_TIME)) s"
     echo ""
 
+    # Report only what we care about
+    # Ref https://pylint.readthedocs.io/en/latest/technical_reference/features.html
+    # E: all errors
+    # W0311 bad-indentation
+    # W0312 mixed-indentation
+    # C0330 bad-continuation
+    # C0301 line-too-long
+    # C0326 bad-whitespace
+    # W0611 unused-import
+    # W0622 redefined-builtin
+    grep -E '(\[E|\[W0311|\[W0312|\[C0330|\[C0301|\[C0326|\[W0611|\[W0622)' ${OUTPUT_FILE} > ${ERRORS_FILE}
+
     N_ERRORS=0
     while read -r LINE; do
         IS_WHITELISTED=0
@@ -94,7 +106,9 @@ do_pylint() {
             echo "" >> ${NONWL_ERRORS_FILE}
             ((N_ERRORS++))
         fi
-    done <${OUTPUT_FILE}
+    done <${ERRORS_FILE}
+
+    echo "Raw lint output file: ${OUTPUT_FILE}"
 
     echo ""
     if [[ ${N_ERRORS} != 0 ]]; then
