commit 34af79db12577f2039c4f88bfae50734d8ddd2c6
Author: Mohammad Babaeizadeh <babaeizadeh@gmail.com>
Date:   Wed Jun 14 16:01:29 2017 -0700

    Fixing the initialization/loading bug.
    
    The code currently loads the checkpoint and then initializes the variables resulting to random weights.
    Swapping the order fixes the loading checkpoint issue.

diff --git a/video_prediction/prediction_train.py b/video_prediction/prediction_train.py
index 46f88142..09625bbf 100644
--- a/video_prediction/prediction_train.py
+++ b/video_prediction/prediction_train.py
@@ -204,6 +204,8 @@ def main(unused_argv):
 
   # Make training session.
   sess = tf.InteractiveSession()
+  sess.run(tf.global_variables_initializer())
+
   summary_writer = tf.summary.FileWriter(
       FLAGS.event_log_dir, graph=sess.graph, flush_secs=10)
 
@@ -211,7 +213,6 @@ def main(unused_argv):
     saver.restore(sess, FLAGS.pretrained_model)
 
   tf.train.start_queue_runners(sess)
-  sess.run(tf.global_variables_initializer())
 
   tf.logging.info('iteration number, cost')
 
