commit 040f62d1a5efe0bb15e7c02e58f7081a1d88b2f3
Author: Adam Tetelman <supertetelman@gmail.com>
Date:   Thu Apr 23 09:01:22 2020 -0700

    Fix paths/permissions in download_and_preprocess_flowers.sh to work end-to-end (#8351)

diff --git a/research/inception/inception/data/build_image_data.py b/research/inception/inception/data/build_image_data.py
old mode 100644
new mode 100755
diff --git a/research/inception/inception/data/download_and_preprocess_flowers.sh b/research/inception/inception/data/download_and_preprocess_flowers.sh
index ab8d451c..ee045c16 100755
--- a/research/inception/inception/data/download_and_preprocess_flowers.sh
+++ b/research/inception/inception/data/download_and_preprocess_flowers.sh
@@ -42,9 +42,9 @@ fi
 # Create the output and temporary directories.
 DATA_DIR="${1%/}"
 SCRATCH_DIR="${DATA_DIR}/raw-data"
+WORK_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
 mkdir -p "${DATA_DIR}"
 mkdir -p "${SCRATCH_DIR}"
-WORK_DIR="$0.runfiles/inception/inception"
 
 # Download the flowers data.
 DATA_URL="http://download.tensorflow.org/example_images/flower_photos.tgz"
@@ -87,7 +87,7 @@ done < "${LABELS_FILE}"
 
 # Build the TFRecords version of the image data.
 cd "${CURRENT_DIR}"
-BUILD_SCRIPT="${WORK_DIR}/build_image_data"
+BUILD_SCRIPT="${WORK_DIR}/build_image_data.py"
 OUTPUT_DIRECTORY="${DATA_DIR}"
 "${BUILD_SCRIPT}" \
   --train_directory="${TRAIN_DIRECTORY}" \
