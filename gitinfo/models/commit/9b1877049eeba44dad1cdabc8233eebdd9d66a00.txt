commit 9b1877049eeba44dad1cdabc8233eebdd9d66a00
Author: Duc Nguyen <justanhduc@users.noreply.github.com>
Date:   Sat Jun 17 22:24:27 2017 +0900

    Change key of type 'tuple' to 'str'
    
    dictionary having both 'tuple' and 'str' keys cannot be 'sorted'

diff --git a/object_detection/core/batcher.py b/object_detection/core/batcher.py
index fdd698c4..7b9d040a 100644
--- a/object_detection/core/batcher.py
+++ b/object_detection/core/batcher.py
@@ -81,7 +81,7 @@ class BatchQueue(object):
         {key: tensor.get_shape() for key, tensor in tensor_dict.iteritems()})
     # Remember runtime shapes to unpad tensors after batching.
     runtime_shapes = collections.OrderedDict(
-        {(key, 'runtime_shapes'): tf.shape(tensor)
+        {(key + '_runtime_shapes'): tf.shape(tensor)
          for key, tensor in tensor_dict.iteritems()})
     all_tensors = tensor_dict
     all_tensors.update(runtime_shapes)
@@ -112,8 +112,8 @@ class BatchQueue(object):
     for key, batched_tensor in batched_tensors.iteritems():
       unbatched_tensor_list = tf.unstack(batched_tensor)
       for i, unbatched_tensor in enumerate(unbatched_tensor_list):
-        if isinstance(key, tuple) and key[1] == 'runtime_shapes':
-          shapes[(key[0], i)] = unbatched_tensor
+        if '_runtime_shapes' in key:
+          shapes[(key[:-15], i)] = unbatched_tensor
         else:
           tensors[(key, i)] = unbatched_tensor
 
