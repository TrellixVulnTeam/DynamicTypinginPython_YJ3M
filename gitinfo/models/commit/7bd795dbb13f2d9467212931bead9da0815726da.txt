commit 7bd795dbb13f2d9467212931bead9da0815726da
Author: Hongkun Yu <hongkuny@google.com>
Date:   Wed Sep 18 10:23:47 2019 -0700

    Move bert benchmark stuff to a central place.
    
    PiperOrigin-RevId: 269835917

diff --git a/official/bert/benchmark/bert_benchmark.py b/official/benchmark/bert_benchmark.py
similarity index 99%
rename from official/bert/benchmark/bert_benchmark.py
rename to official/benchmark/bert_benchmark.py
index d6deb6e1..1d5a2ca6 100644
--- a/official/bert/benchmark/bert_benchmark.py
+++ b/official/benchmark/bert_benchmark.py
@@ -26,10 +26,10 @@ import time
 # pylint: disable=g-bad-import-order
 from absl import flags
 from absl.testing import flagsaver
-import tensorflow as tf
+import tensorflow.compat.v2 as tf
 # pylint: enable=g-bad-import-order
 
-from official.bert.benchmark import benchmark_utils
+from official.benchmark import bert_benchmark_utils as benchmark_utils
 from official.nlp import bert_modeling as modeling
 from official.nlp.bert import run_classifier
 from official.utils.misc import distribution_utils
diff --git a/official/bert/benchmark/benchmark_utils.py b/official/benchmark/bert_benchmark_utils.py
similarity index 99%
rename from official/bert/benchmark/benchmark_utils.py
rename to official/benchmark/bert_benchmark_utils.py
index 85f0ca99..780b3af0 100644
--- a/official/bert/benchmark/benchmark_utils.py
+++ b/official/benchmark/bert_benchmark_utils.py
@@ -25,7 +25,7 @@ import time
 import numpy as np
 from absl import flags
 from absl.testing import flagsaver
-import tensorflow as tf
+import tensorflow.compat.v2 as tf
 # pylint: enable=g-bad-import-order
 
 from official.utils.flags import core as flags_core
diff --git a/official/bert/benchmark/bert_squad_benchmark.py b/official/benchmark/bert_squad_benchmark.py
similarity index 98%
rename from official/bert/benchmark/bert_squad_benchmark.py
rename to official/benchmark/bert_squad_benchmark.py
index f06f1d79..cc94cb46 100644
--- a/official/bert/benchmark/bert_squad_benchmark.py
+++ b/official/benchmark/bert_squad_benchmark.py
@@ -25,11 +25,11 @@ import time
 # pylint: disable=g-bad-import-order
 from absl import flags
 from absl.testing import flagsaver
-import tensorflow as tf
+import tensorflow.compat.v2 as tf
 # pylint: enable=g-bad-import-order
 
-from official.bert.benchmark import benchmark_utils
-from official.bert.benchmark import squad_evaluate_v1_1
+from official.benchmark import bert_benchmark_utils as benchmark_utils
+from official.benchmark import squad_evaluate_v1_1
 from official.nlp.bert import run_squad
 from official.utils.misc import distribution_utils
 
@@ -82,7 +82,7 @@ class BertSquadBenchmarkBase(benchmark_utils.BertBenchmarkBase):
   @flagsaver.flagsaver
   def _train_squad(self, use_ds=True, run_eagerly=False):
     """Runs BERT SQuAD training."""
-    assert tf.version.VERSION.startswith('2.')
+    tf.enable_v2_behavior()
     input_meta_data = self._read_input_meta_data_from_file()
     strategy = self._get_distribution_strategy(use_ds)
 
@@ -95,7 +95,7 @@ class BertSquadBenchmarkBase(benchmark_utils.BertBenchmarkBase):
   @flagsaver.flagsaver
   def _evaluate_squad(self, use_ds=True):
     """Runs BERT SQuAD evaluation."""
-    assert tf.version.VERSION.startswith('2.')
+    tf.enable_v2_behavior()
     input_meta_data = self._read_input_meta_data_from_file()
     strategy = self._get_distribution_strategy(use_ds)
 
diff --git a/official/bert/benchmark/squad_evaluate_v1_1.py b/official/benchmark/squad_evaluate_v1_1.py
similarity index 99%
rename from official/bert/benchmark/squad_evaluate_v1_1.py
rename to official/benchmark/squad_evaluate_v1_1.py
index b9a935b5..4a9b4569 100644
--- a/official/bert/benchmark/squad_evaluate_v1_1.py
+++ b/official/benchmark/squad_evaluate_v1_1.py
@@ -1,6 +1,5 @@
 # Copyright 2019 Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev and
 # Percy Liang. All Rights Reserved.
-#
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
diff --git a/official/bert/benchmark/__init__.py b/official/bert/benchmark/__init__.py
deleted file mode 100644
index e69de29b..00000000
