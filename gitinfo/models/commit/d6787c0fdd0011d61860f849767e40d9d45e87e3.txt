commit d6787c0fdd0011d61860f849767e40d9d45e87e3
Author: K. Nathaniel Tucker <k.nathaniel.tucker@gmail.com>
Date:   Tue Mar 7 19:26:25 2017 -0800

    Update model.py
    
    In response to reviewer's comments.

diff --git a/namignizer/model.py b/namignizer/model.py
index 7006dfc7..5435798a 100644
--- a/namignizer/model.py
+++ b/namignizer/model.py
@@ -37,11 +37,14 @@ class NamignizerModel(object):
         self._weights = tf.placeholder(tf.float32, [batch_size * num_steps])
 
         # lstm for our RNN cell (GRU supported too)
-        lstm_cell = tf.contrib.rnn.BasicLSTMCell(size, forget_bias=0.0)
-        if is_training and config.keep_prob < 1:
-            lstm_cell = tf.contrib.rnn.DropoutWrapper(
-                lstm_cell, output_keep_prob=config.keep_prob)
-        cell = tf.contrib.rnn.MultiRNNCell([lstm_cell] * config.num_layers)
+        lstm_cells = []
+        for layer in range(config.num_layers):
+            lstm_cell = tf.contrib.rnn.BasicLSTMCell(size, forget_bias=0.0)
+            if is_training and config.keep_prob < 1:
+                lstm_cell = tf.contrib.rnn.DropoutWrapper(
+                    lstm_cell, output_keep_prob=config.keep_prob)
+            lstm_cells.append(lstm_cell)
+        cell = tf.contrib.rnn.MultiRNNCell(lstm_cells)
 
         self._initial_state = cell.zero_state(batch_size, tf.float32)
 
