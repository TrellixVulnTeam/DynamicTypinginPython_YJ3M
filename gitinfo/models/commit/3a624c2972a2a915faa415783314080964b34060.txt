commit 3a624c2972a2a915faa415783314080964b34060
Author: Taylor Robie <taylorrobie@google.com>
Date:   Thu May 24 09:41:36 2018 -0700

    properly assign dataset in the second prefetch call (#4358)

diff --git a/official/resnet/resnet_run_loop.py b/official/resnet/resnet_run_loop.py
index 9076b21d..a2fab9ed 100644
--- a/official/resnet/resnet_run_loop.py
+++ b/official/resnet/resnet_run_loop.py
@@ -88,7 +88,7 @@ def process_record_dataset(dataset, is_training, batch_size, shuffle_buffer,
   # critical training path. Setting buffer_size to tf.contrib.data.AUTOTUNE
   # allows DistributionStrategies to adjust how many batches to fetch based
   # on how many devices are present.
-  dataset.prefetch(buffer_size=tf.contrib.data.AUTOTUNE)
+  dataset = dataset.prefetch(buffer_size=tf.contrib.data.AUTOTUNE)
 
   return dataset
 
