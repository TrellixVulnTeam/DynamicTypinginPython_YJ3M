commit 7021ac1c735a0632ee86c9dcbde4ca5786014565
Author: Taylor Robie <taylorrobie@google.com>
Date:   Tue Jan 8 14:22:17 2019 -0800

    missed a not

diff --git a/official/recommendation/data_pipeline.py b/official/recommendation/data_pipeline.py
index 47975393..e50110d4 100644
--- a/official/recommendation/data_pipeline.py
+++ b/official/recommendation/data_pipeline.py
@@ -378,7 +378,7 @@ class BaseDataConstructor(threading.Thread):
     self._current_epoch_order = np.empty(shape=(0,))
     self._shuffle_iterator = None
 
-    self._shuffle_with_forkpool = stream_files
+    self._shuffle_with_forkpool = not stream_files
     if stream_files:
       self._shard_root = tempfile.mkdtemp(prefix="ncf_")
       atexit.register(tf.gfile.DeleteRecursively, dirname=self._shard_root)
