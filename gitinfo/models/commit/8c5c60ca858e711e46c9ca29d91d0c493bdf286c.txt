commit 8c5c60ca858e711e46c9ca29d91d0c493bdf286c
Author: Dan O'Shea <dan@djoshea.com>
Date:   Thu May 24 13:10:30 2018 -0700

    Removing defaultless case statement

diff --git a/research/lfads/lfads.py b/research/lfads/lfads.py
index a58029f2..16fcfbcf 100644
--- a/research/lfads/lfads.py
+++ b/research/lfads/lfads.py
@@ -490,15 +490,15 @@ class LFADS(object):
     pf_pairs_out_fac_Ws = zip(preds, fns_out_fac_Ws)
     pf_pairs_out_fac_bs = zip(preds, fns_out_fac_bs)
 
-    def _case_with_no_default(pairs):
-      def _default_value_fn():
-        with tf.control_dependencies([tf.Assert(False, ["Reached default"])]):
-          return tf.identity(pairs[0][1]())
-      return tf.case(pairs, _default_value_fn, exclusive=True)
-    this_in_fac_W = _case_with_no_default(pf_pairs_in_fac_Ws)
-    this_in_fac_b = _case_with_no_default(pf_pairs_in_fac_bs)
-    this_out_fac_W = _case_with_no_default(pf_pairs_out_fac_Ws)
-    this_out_fac_b = _case_with_no_default(pf_pairs_out_fac_bs)
+    # def _case_with_no_default(pairs):
+    #   def _default_value_fn():
+    #     with tf.control_dependencies([tf.Assert(False, ["Reached default"])]):
+    #       return tf.identity(pairs[0][1]())
+    #   return tf.case(pairs, _default_value_fn, exclusive=True)
+    this_in_fac_W = tf.case(pf_pairs_in_fac_Ws, exclusive=True)
+    this_in_fac_b = tf.case(pf_pairs_in_fac_bs, exclusive=True)
+    this_out_fac_W = tf.case(pf_pairs_out_fac_Ws, exclusive=True)
+    this_out_fac_b = tf.case(pf_pairs_out_fac_bs, exclusive=True)
 
     # External inputs (not changing by dataset, by definition).
     if hps.ext_input_dim > 0:
