commit cffaa589571db4abc4f9e6886176b87da31092e8
Author: Qianli Scott Zhu <scottzhu@google.com>
Date:   Fri Apr 6 11:46:26 2018 -0700

    Update data model download location to temp dir. (#3899)

diff --git a/official/mnist/dataset.py b/official/mnist/dataset.py
index 55b5e1c3..0ba7c1a8 100644
--- a/official/mnist/dataset.py
+++ b/official/mnist/dataset.py
@@ -20,6 +20,7 @@ from __future__ import print_function
 import gzip
 import os
 import shutil
+import tempfile
 
 import numpy as np
 from six.moves import urllib
@@ -67,7 +68,7 @@ def download(directory, filename):
     tf.gfile.MakeDirs(directory)
   # CVDF mirror of http://yann.lecun.com/exdb/mnist/
   url = 'https://storage.googleapis.com/cvdf-datasets/mnist/' + filename + '.gz'
-  zipped_filepath = filepath + '.gz'
+  _, zipped_filepath = tempfile.mkstemp(suffix='.gz')
   print('Downloading %s to %s' % (url, zipped_filepath))
   urllib.request.urlretrieve(url, zipped_filepath)
   with gzip.open(zipped_filepath, 'rb') as f_in, \
