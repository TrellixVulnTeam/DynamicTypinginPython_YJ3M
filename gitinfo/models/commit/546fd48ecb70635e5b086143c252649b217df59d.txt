commit 546fd48ecb70635e5b086143c252649b217df59d
Author: Neal Wu <neal@nealwu.com>
Date:   Mon Mar 13 19:49:37 2017 -0700

    Additional upgrades to 1.0 and code fixes

diff --git a/slim/train_image_classifier.py b/slim/train_image_classifier.py
index 662d42b0..8b7b2448 100644
--- a/slim/train_image_classifier.py
+++ b/slim/train_image_classifier.py
@@ -394,9 +394,9 @@ def main(_):
 
   tf.logging.set_verbosity(tf.logging.INFO)
   with tf.Graph().as_default():
-    ######################
-    # Config model_deploy#
-    ######################
+    #######################
+    # Config model_deploy #
+    #######################
     deploy_config = model_deploy.DeploymentConfig(
         num_clones=FLAGS.num_clones,
         clone_on_cpu=FLAGS.clone_on_cpu,
@@ -414,9 +414,9 @@ def main(_):
     dataset = dataset_factory.get_dataset(
         FLAGS.dataset_name, FLAGS.dataset_split_name, FLAGS.dataset_dir)
 
-    ####################
+    ######################
     # Select the network #
-    ####################
+    ######################
     network_fn = nets_factory.get_network_fn(
         FLAGS.model_name,
         num_classes=(dataset.num_classes - FLAGS.labels_offset),
diff --git a/textsum/seq2seq_attention_model.py b/textsum/seq2seq_attention_model.py
index ddcfb69b..e797b0e7 100644
--- a/textsum/seq2seq_attention_model.py
+++ b/textsum/seq2seq_attention_model.py
@@ -158,11 +158,11 @@ class Seq2SeqAttentionModel(object):
       for layer_i in xrange(hps.enc_layers):
         with tf.variable_scope('encoder%d'%layer_i), tf.device(
             self._next_device()):
-          cell_fw = tf.nn.rnn_cell.LSTMCell(
+          cell_fw = tf.contrib.rnn.LSTMCell(
               hps.num_hidden,
               initializer=tf.random_uniform_initializer(-0.1, 0.1, seed=123),
               state_is_tuple=False)
-          cell_bw = tf.nn.rnn_cell.LSTMCell(
+          cell_bw = tf.contrib.rnn.LSTMCell(
               hps.num_hidden,
               initializer=tf.random_uniform_initializer(-0.1, 0.1, seed=113),
               state_is_tuple=False)
@@ -188,7 +188,7 @@ class Seq2SeqAttentionModel(object):
           loop_function = _extract_argmax_and_embed(
               embedding, (w, v), update_embedding=False)
 
-        cell = tf.nn.rnn_cell.LSTMCell(
+        cell = tf.contrib.rnn.LSTMCell(
             hps.num_hidden,
             initializer=tf.random_uniform_initializer(-0.1, 0.1, seed=113),
             state_is_tuple=False)
diff --git a/tutorials/rnn/linear.py b/tutorials/rnn/linear.py
deleted file mode 100644
index 6aad2283..00000000
--- a/tutorials/rnn/linear.py
+++ /dev/null
@@ -1,20 +0,0 @@
-# Copyright 2015 The TensorFlow Authors. All Rights Reserved.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#     http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-# ==============================================================================
-"""Import linear python op for backward compatibility."""
-from __future__ import absolute_import
-from __future__ import division
-from __future__ import print_function
-
-raise ImportError("This module is deprecated.  Use tf.contrib.layers.linear.")
diff --git a/tutorials/rnn/rnn.py b/tutorials/rnn/rnn.py
deleted file mode 100644
index 2b24676f..00000000
--- a/tutorials/rnn/rnn.py
+++ /dev/null
@@ -1,21 +0,0 @@
-# Copyright 2015 The TensorFlow Authors. All Rights Reserved.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#     http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-# ==============================================================================
-"""Import rnn python ops for backward compatibility."""
-
-from __future__ import absolute_import
-from __future__ import division
-from __future__ import print_function
-
-raise ImportError("This module is deprecated.  Use tf.nn.rnn_* instead.")
diff --git a/tutorials/rnn/rnn_cell.py b/tutorials/rnn/rnn_cell.py
deleted file mode 100644
index 47beb5e5..00000000
--- a/tutorials/rnn/rnn_cell.py
+++ /dev/null
@@ -1,21 +0,0 @@
-# Copyright 2015 The TensorFlow Authors. All Rights Reserved.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#     http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-# ==============================================================================
-"""Import rnn_cell python ops for backward compatibility."""
-
-from __future__ import absolute_import
-from __future__ import division
-from __future__ import print_function
-
-raise ImportError("This module is deprecated.  Use tf.contrib.rnn instead.")
diff --git a/tutorials/rnn/seq2seq.py b/tutorials/rnn/seq2seq.py
deleted file mode 100644
index ff487f94..00000000
--- a/tutorials/rnn/seq2seq.py
+++ /dev/null
@@ -1,22 +0,0 @@
-# Copyright 2015 The TensorFlow Authors. All Rights Reserved.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#     http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-# ==============================================================================
-"""Import seq2seq python ops for backward compatibility."""
-
-from __future__ import absolute_import
-from __future__ import division
-from __future__ import print_function
-
-raise ImportError(
-    "This module is deprecated. Use tf.contrib.legacy_seq2seq instead.")
