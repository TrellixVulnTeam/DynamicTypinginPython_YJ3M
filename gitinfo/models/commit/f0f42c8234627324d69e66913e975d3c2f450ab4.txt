commit f0f42c8234627324d69e66913e975d3c2f450ab4
Author: Hongkun Yu <hongkuny@google.com>
Date:   Sat Oct 19 00:20:00 2019 -0700

    Internal change
    
    PiperOrigin-RevId: 275610155

diff --git a/official/vision/image_classification/resnet_ctl_imagenet_test.py b/official/vision/image_classification/resnet_ctl_imagenet_test.py
index f18bafbf..9857cdbb 100644
--- a/official/vision/image_classification/resnet_ctl_imagenet_test.py
+++ b/official/vision/image_classification/resnet_ctl_imagenet_test.py
@@ -18,6 +18,8 @@ from __future__ import absolute_import
 from __future__ import division
 from __future__ import print_function
 
+import tempfile
+
 import tensorflow.compat.v2 as tf
 
 from tensorflow.python.eager import context
@@ -37,8 +39,14 @@ class CtlImagenetTest(tf.test.TestCase):
   ]
   _tempdir = None
 
+  def get_temp_dir(self):
+    if not self._tempdir:
+      self._tempdir = tempfile.mkdtemp(
+          dir=super(CtlImagenetTest, self).get_temp_dir())
+    return self._tempdir
+
   @classmethod
-  def setUpClass(cls):  # pylint: disable=invalid-name
+  def setUpClass(cls):
     super(CtlImagenetTest, cls).setUpClass()
     common.define_keras_flags()
 
