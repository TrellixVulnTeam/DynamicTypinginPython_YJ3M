commit 3549575879a41d4508b4f52f6481e47cc50ef02d
Author: Toby Boyd <tobyboyd@google.com>
Date:   Thu Jan 17 16:16:48 2019 -0800

    Change to gfile.Exists and deeper link to CIFAR-10 (#6066)
    
    * Change to gfile.Exists and deeper link to CIFAR-10
    
    * fix lint and use tf.gfile

diff --git a/official/resnet/cifar10_main.py b/official/resnet/cifar10_main.py
index a632e490..bbb60ef8 100644
--- a/official/resnet/cifar10_main.py
+++ b/official/resnet/cifar10_main.py
@@ -24,10 +24,10 @@ from absl import app as absl_app
 from absl import flags
 import tensorflow as tf  # pylint: disable=g-bad-import-order
 
-from official.utils.flags import core as flags_core
-from official.utils.logs import logger
 from official.resnet import resnet_model
 from official.resnet import resnet_run_loop
+from official.utils.flags import core as flags_core
+from official.utils.logs import logger
 
 HEIGHT = 32
 WIDTH = 32
@@ -52,7 +52,7 @@ DATASET_NAME = 'CIFAR-10'
 ###############################################################################
 def get_filenames(is_training, data_dir):
   """Returns a list of filenames."""
-  assert os.path.exists(data_dir), (
+  assert tf.gfile.Exists(data_dir), (
       'Run cifar10_download_and_extract.py first to download and extract the '
       'CIFAR-10 data.')
 
diff --git a/official/resnet/estimator_cifar_benchmark.py b/official/resnet/estimator_cifar_benchmark.py
index 581bb906..bcb15750 100644
--- a/official/resnet/estimator_cifar_benchmark.py
+++ b/official/resnet/estimator_cifar_benchmark.py
@@ -26,7 +26,7 @@ import tensorflow as tf  # pylint: disable=g-bad-import-order
 
 from official.resnet import cifar10_main as cifar_main
 
-DATA_DIR = '/data/cifar10_data/'
+DATA_DIR = '/data/cifar10_data/cifar-10-batches-bin'
 
 
 class EstimatorCifar10BenchmarkTests(object):
diff --git a/official/resnet/keras/keras_cifar_benchmark.py b/official/resnet/keras/keras_cifar_benchmark.py
index 6f70d2b6..23bcc7ff 100644
--- a/official/resnet/keras/keras_cifar_benchmark.py
+++ b/official/resnet/keras/keras_cifar_benchmark.py
@@ -85,6 +85,7 @@ class KerasCifar10BenchmarkTests(object):
     """Test keras based model with Keras fit and distribution strategies."""
     self._setup()
     flags.FLAGS.num_gpus = 2
+    flags.FLAGS.data_dir = DATA_DIR
     flags.FLAGS.data_dir = self._get_model_dir('keras_resnet56_2_gpu')
     flags.FLAGS.batch_size = 128
     flags.FLAGS.train_epochs = 182
