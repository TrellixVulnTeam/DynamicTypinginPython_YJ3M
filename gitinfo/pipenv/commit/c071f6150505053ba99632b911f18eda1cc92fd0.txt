commit c071f6150505053ba99632b911f18eda1cc92fd0
Author: Dan Ryan <dan@danryan.co>
Date:   Tue Jun 26 21:32:00 2018 -0400

    Handle empty pipfile sections
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/project.py b/pipenv/project.py
index 0a9e04be..db515acf 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -624,7 +624,7 @@ class Project(object):
             formatted_data = contoml.dumps(data).rstrip()
         except Exception:
             for section in ('packages', 'dev-packages'):
-                for package in data[section]:
+                for package in data.get(section, {}):
                     # Convert things to inline tables â€” fancy :)
                     if hasattr(data[section][package], 'keys'):
                         _data = data[section][package]
