commit 3807168913e92f4f984c9addb9df8b101119ad90
Author: Dan Ryan <dan@danryan.co>
Date:   Sat May 19 15:45:11 2018 -0400

    Update vendoring tasks and patches
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/tasks/vendoring/__init__.py b/tasks/vendoring/__init__.py
index d0fee528..b0ffa46c 100644
--- a/tasks/vendoring/__init__.py
+++ b/tasks/vendoring/__init__.py
@@ -64,7 +64,7 @@ PATCHED_RENAMES = {
 }
 
 LIBRARY_RENAMES = {
-    'pip': 'notpip'
+    'pip': 'pipenv.patched.notpip'
 }
 
 
@@ -295,7 +295,8 @@ def vendor(ctx, vendor_dir, rewrite=True):
     drop_dir(vendor_dir / 'tests')
 
     # Detect the vendored packages/modules
-    vendored_libs = detect_vendored_libs(vendor_dir)
+    vendored_libs = detect_vendored_libs(_get_vendor_dir(ctx))
+    patched_libs = detect_vendored_libs(_get_patched_dir(ctx))
     log("Detected vendored libraries: %s" % ", ".join(vendored_libs))
 
     # Apply pre-patches
diff --git a/tasks/vendoring/patches/patched/pip10.patch b/tasks/vendoring/patches/patched/pip10.patch
index 61ddb1fb..77f9e52a 100644
--- a/tasks/vendoring/patches/patched/pip10.patch
+++ b/tasks/vendoring/patches/patched/pip10.patch
@@ -19,7 +19,7 @@ index e0e2d24c..d6d07e77 100644
  
      timeout = None
  
-@--- a/pipenv/patched/pip/_internal/download.py
+--- a/pipenv/patched/pip/_internal/download.py
 +++ b/pipenv/patched/pip/_internal/download.py
 @@ -753,7 +753,7 @@ def _copy_dist_from_dir(link_path, location):
  
@@ -311,22 +311,6 @@ diff --git a/pipenv/patched/pip/_internal/resolve.py b/pipenv/patched/pip/_inter
 index 3200fca8..14e3d298 100644
 --- a/pipenv/patched/pip/_internal/resolve.py
 +++ b/pipenv/patched/pip/_internal/resolve.py
-@@ -14,15 +14,15 @@ import logging
- from collections import defaultdict
- from itertools import chain
- 
-from pip._internal.exceptions import (
-     BestVersionAlreadyInstalled, DistributionNotFound, HashError, HashErrors,
-     UnsupportedPythonVersion,
- )
- 
-from pip._internal.req.req_install import InstallRequirement
-from pip._internal.utils.logging import indent_log
-from pip._internal.utils.misc import dist_in_usersite, ensure_dir
-from pip._internal.utils.packaging import check_dist_requires_python
- 
- logger = logging.getLogger(__name__)
- 
 @@ -36,7 +36,7 @@ class Resolver(object):
  
      def __init__(self, preparer, session, finder, wheel_cache, use_user_site,
