commit 8157e447fcfb2b633d08cac89e2c6aee0f710874
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sat Feb 24 10:23:47 2018 -0500

    improvements to --selective-upgrade
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/core.py b/pipenv/core.py
index 1a620c17..672f0004 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -1800,8 +1800,11 @@ def do_install(
             package__name = list(package.keys())[0]
             package__val = list(package.values())[0]
 
-            if not is_star(section[package__name]) and is_star(package__val):
-                package_names[i] = '{0}{1}'.format(package_name, section[package__name])
+            try:
+                if not is_star(section[package__name]) and is_star(package__val):
+                    package_names[i] = '{0}{1}'.format(package_name, section[package__name])
+            except KeyError:
+                pass
 
     for package_name in package_names:
         click.echo(crayons.normal(u'Installing {0}â€¦'.format(crayons.green(package_name, bold=True)), bold=True))
