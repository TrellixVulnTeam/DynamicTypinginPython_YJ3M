commit b493c7784eda91a8d6cf539140713c28bda840db
Author: Dan Ryan <dan.ryan@canonical.com>
Date:   Fri Apr 10 17:48:56 2020 -0400

    Only include first two requires_python markers
    
    Signed-off-by: Dan Ryan <dan.ryan@canonical.com>

diff --git a/tests/pytest-pypi/pytest_pypi/app.py b/tests/pytest-pypi/pytest_pypi/app.py
index 5b1e693e..6f829819 100644
--- a/tests/pytest-pypi/pytest_pypi/app.py
+++ b/tests/pytest-pypi/pytest_pypi/app.py
@@ -90,6 +90,8 @@ class Package(object):
             pkg = distlib.wheel.Wheel(path_to_binary)
             md_dict = pkg.metadata.todict()
             requires_python = md_dict.get("requires_python", "")
+            if requires_python.count(".") > 1:
+                requires_python, _, _ = requires_python.rpartition(".")
         self.releases[release] = ReleaseTuple(path_to_binary, requires_python)
         self._package_dirs.add(ReleaseTuple(path, requires_python))
 
