commit cea46f18c7a17af88d6232dd25a71c3647ec6155
Author: cclauss <cclauss@bluewin.ch>
Date:   Sun Jan 14 07:44:23 2018 +0100

    missing comma in __all__ tuple?

diff --git a/pipenv/patched/crayons.py b/pipenv/patched/crayons.py
index ef97e786..7c9ff0d2 100644
--- a/pipenv/patched/crayons.py
+++ b/pipenv/patched/crayons.py
@@ -18,7 +18,7 @@ PY3 = sys.version_info[0] >= 3
 
 __all__ = (
     'red', 'green', 'yellow', 'blue',
-    'black', 'magenta', 'cyan', 'white', 'normal'
+    'black', 'magenta', 'cyan', 'white', 'normal',
     'clean', 'disable',
 )
 
diff --git a/pipenv/utils.py b/pipenv/utils.py
index 80ffc85d..90a774e9 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -439,7 +439,7 @@ def prepare_pip_source_args(sources, pip_args=None):
 
         # Trust the host if it's not verified.
         if not sources[0].get('verify_ssl', True):
-            pip_args.extend(['--trusted-host', urlparse(sources[0]['url']).hostname])
+            pip_args.extend(['--trusted-host', urlparse(sources[0]['url']).netloc.split(':')[0]])
 
         # Add additional sources as extra indexes.
         if len(sources) > 1:
@@ -448,7 +448,7 @@ def prepare_pip_source_args(sources, pip_args=None):
 
                 # Trust the host if it's not verified.
                 if not source.get('verify_ssl', True):
-                    pip_args.extend(['--trusted-host', urlparse(source['url']).hostname])
+                    pip_args.extend(['--trusted-host', urlparse(source['url']).netloc.split(':')[0]])
 
     return pip_args
 
