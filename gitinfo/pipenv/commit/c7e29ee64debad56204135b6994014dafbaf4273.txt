commit c7e29ee64debad56204135b6994014dafbaf4273
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Jan 20 16:39:36 2017 -0500

    all better

diff --git a/Pipfile b/Pipfile
index b43dfcd1..8febe97d 100644
--- a/Pipfile
+++ b/Pipfile
@@ -2,8 +2,10 @@
 url = "https://pypi.org/"
 verify_ssl = true
 
+
+
 [packages]
 crayons = "*"
 toml = "*"
 click = "*"
-"delegator.py" = "*"
+"delegator.py" = "*"
\ No newline at end of file
diff --git a/Pipfile.freeze b/Pipfile.freeze
index b15977a4..d0fffcad 100644
--- a/Pipfile.freeze
+++ b/Pipfile.freeze
@@ -1 +1 @@
-{"default": {"crayons": "==0.1.1", "colorama": "==0.3.7", "daemon": "==1.1", "delegator.py": "==0.0.1", "pexpect": "==4.2.1", "toml": "==0.9.2", "click": "==6.7", "ptyprocess": "==0.5.1"}, "develop": {}, "_meta": {"sources": [{"url": "https://pypi.org/", "verify_ssl": true}], "requires": {}, "Pipfile-sha256": "ce6157382da4a84c865a7f63c551bb4112c15c3168158e4b21ce08c933e4c164"}}
\ No newline at end of file
+{"_meta": {"sources": [{"url": "https://pypi.org/", "verify_ssl": true}], "requires": {}, "Pipfile-sha256": "de1f8e5aa253a9e36b5fc2473624573c463ff598eb6cdd8596acc2f687337be7"}, "default": {"crayons": "*", "toml": "*", "click": "*", "delegator.py": "*"}, "develop": {}}
\ No newline at end of file
diff --git a/pipenv.py b/pipenv.py
index ceda7379..547116f0 100644
--- a/pipenv.py
+++ b/pipenv.py
@@ -309,7 +309,8 @@ def init(dev=False):
         # Create the pipfile if it doesn't exist.
         project.create_pipfile()
 
-    do_freeze()
+        # Create the Pipfile.freeze too.
+        do_freeze()
 
     # Display where the Project is established.
     do_where(bare=False)
@@ -325,12 +326,16 @@ def init(dev=False):
 
     # Write out the lockfile if it doesn't exist.
     if project.lockfile_exists():
-        click.echo(crayons.yellow('Installing dependencies from Pipfile.freeze...'))
+        # Open the lockfile.
         with codecs.open(project.lockfile_location(), 'r') as f:
             lockfile = json.load(f)
 
-        # TODO: Update the lockfile if it is out-of-date.
+        # Update the lockfile if it is out-of-date.
         p = pipfile.load(project.pipfile_location())
+
+        # Check that the hash of the Lockfile matches the lockfile's hash.
+        print p.hash
+        print lockfile['_meta']['Pipfile-sha256']
         if not lockfile['_meta']['Pipfile-sha256'] == p.hash:
             click.echo(crayons.red('Pipfile.freeze out of date, updating...'))
 
@@ -339,6 +344,11 @@ def init(dev=False):
             with open(project.lockfile_location(), 'w') as f:
                 f.write(p.freeze())
 
+        click.echo(crayons.yellow('Installing dependencies from Pipfile.freeze...'))
+
+
+
+
     else:
 
         # Load the pipfile.
