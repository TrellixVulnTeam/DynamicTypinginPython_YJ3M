commit d33c4e86e18489e0ac51b1d225fe26e1d68d1d69
Author: Dan Ryan <dan@danryan.co>
Date:   Wed Jul 25 00:14:44 2018 -0400

    Fix exception handling
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/patched/piptools/repositories/pypi.py b/pipenv/patched/piptools/repositories/pypi.py
index f92bd97e..bf7ebd2d 100644
--- a/pipenv/patched/piptools/repositories/pypi.py
+++ b/pipenv/patched/piptools/repositories/pypi.py
@@ -284,7 +284,7 @@ class PyPIRepository(BaseRepository):
                     with chdir(ireq.setup_py_dir):
                         from setuptools.dist import distutils
                         distutils.core.run_setup(ireq.setup_py)
-                except (ImportError, InstallationError, TypeError):
+                except (ImportError, InstallationError, TypeError, AttributeError):
                     pass
                 try:
                     dist = ireq.get_dist()
diff --git a/tasks/vendoring/patches/patched/piptools.patch b/tasks/vendoring/patches/patched/piptools.patch
index 273955a1..7d9b64d8 100644
--- a/tasks/vendoring/patches/patched/piptools.patch
+++ b/tasks/vendoring/patches/patched/piptools.patch
@@ -246,7 +246,7 @@ index 1c4b943..91902dc 100644
 +                    with chdir(ireq.setup_py_dir):
 +                        from setuptools.dist import distutils
 +                        distutils.core.run_setup(ireq.setup_py)
-+                except (ImportError, InstallationError, TypeError):
++                except (ImportError, InstallationError, TypeError, AttributeError):
 +                    pass
 +                try:
 +                    dist = ireq.get_dist()
