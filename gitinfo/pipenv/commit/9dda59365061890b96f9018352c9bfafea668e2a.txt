commit 9dda59365061890b96f9018352c9bfafea668e2a
Author: Tzu-ping Chung <uranusjr@gmail.com>
Date:   Mon Apr 2 02:31:15 2018 +0800

    Improve python 2 cmdparse compatibility
    
    - Use string_types to improve compat on Python 2
    - Correct PYTHON_VERSION in appveyor.yml
    - Let's debug

diff --git a/appveyor.yml b/appveyor.yml
index d268576b..a5829309 100644
--- a/appveyor.yml
+++ b/appveyor.yml
@@ -56,7 +56,7 @@ environment:
       TEST_SUITE: '"markers or run or project or utils"'
 
     - PYTHON: "C:\\Python36-x64"
-      PYTHON_VERSION: "2.7.x"
+      PYTHON_VERSION: "3.6.x"
       TEST_SUITE: "install"
 
 install:
diff --git a/pipenv/cmdparse.py b/pipenv/cmdparse.py
index 1f6bc9e6..6240f0ba 100644
--- a/pipenv/cmdparse.py
+++ b/pipenv/cmdparse.py
@@ -17,7 +17,7 @@ class Script(object):
 
     @classmethod
     def parse(cls, value):
-        if isinstance(value, six.text_type):
+        if isinstance(value, six.string_types):
             value = shlex.split(value)
         return cls(value)
 
diff --git a/tests/test_pipenv.py b/tests/test_pipenv.py
index 8fc18f64..faf4ab71 100644
--- a/tests/test_pipenv.py
+++ b/tests/test_pipenv.py
@@ -1018,7 +1018,7 @@ maya = "*"
                 """.strip()
                 f.write(contents)
 
-            c = p.pipenv('lock')
+            c = p.pipenv('lock --verbose')
             assert c.return_code == 0
 
             c = p.pipenv('install')
