commit aadb24b9df3f39b6b56263cf4c45e205cc3d2e6f
Author: Frost Ming <mianghong@gmail.com>
Date:   Fri Dec 7 09:00:04 2018 +0800

    Move to install test suite

diff --git a/tests/integration/test_install_basic.py b/tests/integration/test_install_basic.py
index 317351a0..f858f8ac 100644
--- a/tests/integration/test_install_basic.py
+++ b/tests/integration/test_install_basic.py
@@ -446,3 +446,25 @@ def test_install_package_with_dots(PipenvInstance, pypi):
         c = p.pipenv("install backports.html")
         assert c.ok
         assert "backports.html" in p.pipfile["packages"]
+
+
+@pytest.mark.install
+def test_rewrite_outline_table(PipenvInstance, pypi):
+    with PipenvInstance(pypi=pypi, chdir=True) as p:
+        with open(p.pipfile_path, 'w') as f:
+            contents = """
+[packages]
+six = {version = "*", editable = true}
+
+[packages.requests]
+version = "*"
+            """.strip()
+            f.write(contents)
+        c = p.pipenv("install -e click")
+        assert c.return_code == 0
+        with open(p.pipfile_path) as f:
+            contents = f.read()
+        assert "[packages.requests]" not in contents
+        assert 'six = {version = "*", editable = true}' in contents
+        assert 'requests = {version = "*"}' in contents
+        assert 'click = {' in contents
diff --git a/tests/integration/test_project.py b/tests/integration/test_project.py
index bec98d59..6a4a858a 100644
--- a/tests/integration/test_project.py
+++ b/tests/integration/test_project.py
@@ -148,29 +148,6 @@ six = {{version = "*", index = "pypi"}}
         assert c.return_code == 0
 
 
-@pytest.mark.install
-@pytest.mark.project
-def test_rewrite_outline_table(PipenvInstance, pypi):
-    with PipenvInstance(pypi=pypi, chdir=True) as p:
-        with open(p.pipfile_path, 'w') as f:
-            contents = """
-[packages]
-six = {version = "*", editable = true}
-
-[packages.requests]
-version = "*"
-            """.strip()
-            f.write(contents)
-        c = p.pipenv("install -e click")
-        assert c.return_code == 0
-        with open(p.pipfile_path) as f:
-            contents = f.read()
-        assert "[packages.requests]" not in contents
-        assert 'six = {version = "*", editable = true}' in contents
-        assert 'requests = {version = "*"}' in contents
-        assert 'click = {' in contents
-
-
 @pytest.mark.install
 @pytest.mark.project
 def test_include_editable_packages(PipenvInstance, pypi, testsroot, pathlib_tmpdir):
@@ -190,6 +167,7 @@ def test_include_editable_packages(PipenvInstance, pypi, testsroot, pathlib_tmpd
 
 
 @pytest.mark.project
+@pytest.mark.virtualenv
 def test_run_in_virtualenv(PipenvInstance, pypi, virtualenv):
     with PipenvInstance(chdir=True, pypi=pypi) as p:
         os.environ.pop("PIPENV_IGNORE_VIRTUALENVS", None)
