commit fdffd9f086d180d65605c9828d3520ac0a9400ac
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Wed Feb 1 20:42:00 2017 -0500

    magic sauce

diff --git a/pipenv/environments.py b/pipenv/environments.py
index d4184d4d..43f6b24f 100644
--- a/pipenv/environments.py
+++ b/pipenv/environments.py
@@ -10,4 +10,8 @@ PIPENV_VENV_IN_PROJECT = os.environ.get('PIPENV_SHELL_COMPAT')
 PIPENV_COLORBLIND = os.environ.get('PIPENV_COLORBLIND')
 
 # User-configuraable max-depth for Pipfile searching.
-PIPENV_MAX_DEPTH = int(os.environ.get('PIPENV_MAX_DEPTH', '3'))
\ No newline at end of file
+PIPENV_MAX_DEPTH = int(os.environ.get('PIPENV_MAX_DEPTH', '3'))
+
+# Use shell compatibility mode when using venv in project mode.
+if PIPENV_VENV_IN_PROJECT:
+    PIPENV_SHELL_COMPAT = True
\ No newline at end of file
