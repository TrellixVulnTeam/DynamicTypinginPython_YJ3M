commit 3859d5f80334802f6ff4af5487e2441fdaf3c26c
Author: Dan Ryan <dan@danryan.co>
Date:   Thu Apr 12 18:16:07 2018 -0400

    Don't always subscript venv names when searching
    
    - Causes a bug on windows (verbally reported to me at work)
    /cc @stephen.bunn if you can provide a log when you get a sec
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/project.py b/pipenv/project.py
index 46bf8103..4d5879c9 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -263,17 +263,17 @@ class Project(object):
         # Check for different capitalization of the same project.
         from pipenv.patched.pew.pew import lsenvs
         for env in lsenvs():
-            env_name = env[:-9]
-            if not (env[-9] != '-' and
-                    env[-8:].isalpha() and
-                    env_name.lower() != name.lower()):
+            try:
+                env_name, hash_ = env.rsplit('-', 1)
+            except ValueError:
+                continue
+            if len(hash_) != 8 or env_name.lower() != name.lower():
                 continue
             return get_name(env_name, self.pipfile_location.replace(name, env_name))
 
         # Use the default if no matching env exists.
         return clean_name, encoded_hash
 
-
     @property
     def virtualenv_name(self):
         sanitized, encoded_hash = self._get_virtualenv_hash(self.name)
