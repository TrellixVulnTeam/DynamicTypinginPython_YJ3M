commit 817d171c415573596b15308cf10fd9c20a4737be
Author: Rafael Pivato <rpivato@gmail.com>
Date:   Sun May 17 15:41:01 2020 -0300

    Accepts Safety API key flag

diff --git a/pipenv/cli/command.py b/pipenv/cli/command.py
index 008ec479..464fded0 100644
--- a/pipenv/cli/command.py
+++ b/pipenv/cli/command.py
@@ -437,6 +437,12 @@ def run(state, command, args):
     default="default",
     help="Translates to --json, --full-report or --bare from safety check",
 )
+@option(
+    "--safety-key",
+    help="Safety API key from PyUp.io for scanning dependencies against a live"
+         " vulnerabilities database. Leave blank for scanning against a"
+         " database that only updates once a month.",
+)
 @option(
     "--quiet",
     is_flag=True,
@@ -453,6 +459,7 @@ def check(
     style=False,
     ignore=None,
     output="default",
+    safety_key=None,
     quiet=False,
     args=None,
     **kwargs
@@ -468,6 +475,7 @@ def check(
         db=db,
         ignore=ignore,
         output=output,
+        safety_key=safety_key,
         quiet=quiet,
         args=args,
         pypi_mirror=state.pypi_mirror,
diff --git a/pipenv/core.py b/pipenv/core.py
index 1ab68bb3..fc137a1c 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -2565,6 +2565,7 @@ def do_check(
     db=False,
     ignore=None,
     output="default",
+    safety_key=None,
     quiet=False,
     args=None,
     pypi_mirror=None
@@ -2682,8 +2683,8 @@ def do_check(
         if not quiet and not environments.is_quiet():
             click.echo(crayons.normal("Using local database {}".format(db)))
         cmd.append("--db={0}".format(db))
-    if PIPENV_PYUP_API_KEY and not db:
-        cmd = cmd + ["--key={0}".format(PIPENV_PYUP_API_KEY)]
+    if not db and (safety_key or PIPENV_PYUP_API_KEY):
+        cmd = cmd + ["--key={0}".format(safety_key or PIPENV_PYUP_API_KEY)]
     if ignored:
         for cve in ignored:
             cmd += cve
