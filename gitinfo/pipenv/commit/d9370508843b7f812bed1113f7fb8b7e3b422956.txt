commit d9370508843b7f812bed1113f7fb8b7e3b422956
Author: Dan Ryan <dan@danryan.co>
Date:   Sun Mar 24 23:30:13 2019 -0400

    Update pip patch
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/tasks/vendoring/patches/patched/pip19.patch b/tasks/vendoring/patches/patched/pip19.patch
index 7dd912dc..74b98f50 100644
--- a/tasks/vendoring/patches/patched/pip19.patch
+++ b/tasks/vendoring/patches/patched/pip19.patch
@@ -1,7 +1,7 @@
-diff --git a/pipenv/patched/notpip/_internal/download.py b/pipenv/patched/notpip/_internal/download.py
+diff --git a/pipenv/patched/pip/_internal/download.py b/pipenv/patched/pip/_internal/download.py
 index 2bbe1762..872af328 100644
---- a/pipenv/patched/notpip/_internal/download.py
-+++ b/pipenv/patched/notpip/_internal/download.py
+--- a/pipenv/patched/pip/_internal/download.py
++++ b/pipenv/patched/pip/_internal/download.py
 @@ -77,7 +77,7 @@ def user_agent():
      Return a string representing the user agent.
      """
@@ -11,10 +11,10 @@ index 2bbe1762..872af328 100644
          "python": platform.python_version(),
          "implementation": {
              "name": platform.python_implementation(),
-diff --git a/pipenv/patched/notpip/_internal/index.py b/pipenv/patched/notpip/_internal/index.py
+diff --git a/pipenv/patched/pip/_internal/index.py b/pipenv/patched/pip/_internal/index.py
 index 9eda3a35..67dd952c 100644
---- a/pipenv/patched/notpip/_internal/index.py
-+++ b/pipenv/patched/notpip/_internal/index.py
+--- a/pipenv/patched/pip/_internal/index.py
++++ b/pipenv/patched/pip/_internal/index.py
 @@ -331,6 +331,9 @@ class PackageFinder(object):
          # The Session we'll use to make requests
          self.session = session
@@ -156,10 +156,10 @@ index 9eda3a35..67dd952c 100644
  
  
  def _find_name_version_sep(egg_info, canonical_name):
-diff --git a/pipenv/patched/notpip/_internal/models/candidate.py b/pipenv/patched/notpip/_internal/models/candidate.py
+diff --git a/pipenv/patched/pip/_internal/models/candidate.py b/pipenv/patched/pip/_internal/models/candidate.py
 index 4475458a..6748957d 100644
---- a/pipenv/patched/notpip/_internal/models/candidate.py
-+++ b/pipenv/patched/notpip/_internal/models/candidate.py
+--- a/pipenv/patched/pip/_internal/models/candidate.py
++++ b/pipenv/patched/pip/_internal/models/candidate.py
 @@ -13,11 +13,12 @@ class InstallationCandidate(KeyBasedCompareMixin):
      """Represents a potential "candidate" for installation.
      """
@@ -175,10 +175,10 @@ index 4475458a..6748957d 100644
  
          super(InstallationCandidate, self).__init__(
              key=(self.project, self.version, self.location),
-diff --git a/pipenv/patched/notpip/_internal/operations/prepare.py b/pipenv/patched/notpip/_internal/operations/prepare.py
+diff --git a/pipenv/patched/pip/_internal/operations/prepare.py b/pipenv/patched/pip/_internal/operations/prepare.py
 index 4f31dd5a..ed0c86b2 100644
---- a/pipenv/patched/notpip/_internal/operations/prepare.py
-+++ b/pipenv/patched/notpip/_internal/operations/prepare.py
+--- a/pipenv/patched/pip/_internal/operations/prepare.py
++++ b/pipenv/patched/pip/_internal/operations/prepare.py
 @@ -17,7 +17,7 @@ from pip._internal.exceptions import (
  from pip._internal.utils.compat import expanduser
  from pip._internal.utils.hashes import MissingHashes
@@ -204,10 +204,10 @@ index 4f31dd5a..ed0c86b2 100644
              req.populate_link(finder, upgrade_allowed, require_hashes)
  
              # We can't hit this spot and have populate_link return None.
-diff --git a/pipenv/patched/notpip/_internal/pep425tags.py b/pipenv/patched/notpip/_internal/pep425tags.py
+diff --git a/pipenv/patched/pip/_internal/pep425tags.py b/pipenv/patched/pip/_internal/pep425tags.py
 index 1e782d1a..3c760ca3 100644
---- a/pipenv/patched/notpip/_internal/pep425tags.py
-+++ b/pipenv/patched/notpip/_internal/pep425tags.py
+--- a/pipenv/patched/pip/_internal/pep425tags.py
++++ b/pipenv/patched/pip/_internal/pep425tags.py
 @@ -10,7 +10,10 @@ import sysconfig
  import warnings
  from collections import OrderedDict
@@ -220,10 +220,10 @@ index 1e782d1a..3c760ca3 100644
  from pip._internal.utils.compat import get_extension_suffixes
  from pip._internal.utils.typing import MYPY_CHECK_RUNNING
  
-diff --git a/pipenv/patched/notpip/_internal/req/req_install.py b/pipenv/patched/notpip/_internal/req/req_install.py
+diff --git a/pipenv/patched/pip/_internal/req/req_install.py b/pipenv/patched/pip/_internal/req/req_install.py
 index a4834b00..2c22e141 100644
---- a/pipenv/patched/notpip/_internal/req/req_install.py
-+++ b/pipenv/patched/notpip/_internal/req/req_install.py
+--- a/pipenv/patched/pip/_internal/req/req_install.py
++++ b/pipenv/patched/pip/_internal/req/req_install.py
 @@ -588,7 +588,8 @@ class InstallRequirement(object):
                  self.setup_py, self.link,
              )
@@ -256,10 +256,10 @@ index a4834b00..2c22e141 100644
          install_args.append('-c')
          install_args.append(SETUPTOOLS_SHIM % self.setup_py)
          install_args += list(global_options) + \
-diff --git a/pipenv/patched/notpip/_internal/req/req_set.py b/pipenv/patched/notpip/_internal/req/req_set.py
+diff --git a/pipenv/patched/pip/_internal/req/req_set.py b/pipenv/patched/pip/_internal/req/req_set.py
 index d1410e93..69a53bf2 100644
---- a/pipenv/patched/notpip/_internal/req/req_set.py
-+++ b/pipenv/patched/notpip/_internal/req/req_set.py
+--- a/pipenv/patched/pip/_internal/req/req_set.py
++++ b/pipenv/patched/pip/_internal/req/req_set.py
 @@ -18,7 +18,7 @@ logger = logging.getLogger(__name__)
  
  class RequirementSet(object):
@@ -288,10 +288,10 @@ index d1410e93..69a53bf2 100644
  
      def cleanup_files(self):
          # type: () -> None
-diff --git a/pipenv/patched/notpip/_internal/resolve.py b/pipenv/patched/notpip/_internal/resolve.py
+diff --git a/pipenv/patched/pip/_internal/resolve.py b/pipenv/patched/pip/_internal/resolve.py
 index 33f572f1..dfe149ad 100644
---- a/pipenv/patched/notpip/_internal/resolve.py
-+++ b/pipenv/patched/notpip/_internal/resolve.py
+--- a/pipenv/patched/pip/_internal/resolve.py
++++ b/pipenv/patched/pip/_internal/resolve.py
 @@ -19,6 +19,7 @@ from pip._internal.exceptions import (
      UnsupportedPythonVersion,
  )
@@ -389,10 +389,10 @@ index 33f572f1..dfe149ad 100644
              if not req_to_install.editable and not req_to_install.satisfied_by:
                  # XXX: --no-install leads this to report 'Successfully
                  # downloaded' for only non-editable reqs, even though we took
-diff --git a/pipenv/patched/notpip/_internal/utils/packaging.py b/pipenv/patched/notpip/_internal/utils/packaging.py
+diff --git a/pipenv/patched/pip/_internal/utils/packaging.py b/pipenv/patched/pip/_internal/utils/packaging.py
 index 7aaf7b5e..d56f0512 100644
---- a/pipenv/patched/notpip/_internal/utils/packaging.py
-+++ b/pipenv/patched/notpip/_internal/utils/packaging.py
+--- a/pipenv/patched/pip/_internal/utils/packaging.py
++++ b/pipenv/patched/pip/_internal/utils/packaging.py
 @@ -37,7 +37,7 @@ def check_requires_python(requires_python):
      requires_python_specifier = specifiers.SpecifierSet(requires_python)
  
@@ -415,10 +415,10 @@ index 7aaf7b5e..d56f0512 100644
      try:
          if not check_requires_python(requires_python):
              raise exceptions.UnsupportedPythonVersion(
-diff --git a/pipenv/patched/notpip/_internal/utils/temp_dir.py b/pipenv/patched/notpip/_internal/utils/temp_dir.py
+diff --git a/pipenv/patched/pip/_internal/utils/temp_dir.py b/pipenv/patched/pip/_internal/utils/temp_dir.py
 index 2c81ad55..ff2ccc5a 100644
---- a/pipenv/patched/notpip/_internal/utils/temp_dir.py
-+++ b/pipenv/patched/notpip/_internal/utils/temp_dir.py
+--- a/pipenv/patched/pip/_internal/utils/temp_dir.py
++++ b/pipenv/patched/pip/_internal/utils/temp_dir.py
 @@ -5,8 +5,10 @@ import itertools
  import logging
  import os.path
@@ -491,10 +491,10 @@ index 2c81ad55..ff2ccc5a 100644
              )
 +        self._register_finalizer()
          logger.debug("Created temporary directory: {}".format(self.path))
-diff --git a/pipenv/patched/notpip/_internal/wheel.py b/pipenv/patched/notpip/_internal/wheel.py
+diff --git a/pipenv/patched/pip/_internal/wheel.py b/pipenv/patched/pip/_internal/wheel.py
 index 67bcc7f7..968cdff9 100644
---- a/pipenv/patched/notpip/_internal/wheel.py
-+++ b/pipenv/patched/notpip/_internal/wheel.py
+--- a/pipenv/patched/pip/_internal/wheel.py
++++ b/pipenv/patched/pip/_internal/wheel.py
 @@ -114,7 +114,7 @@ def fix_script(path):
              firstline = script.readline()
              if not firstline.startswith(b'#!python'):
@@ -525,3 +525,18 @@ index 67bcc7f7..968cdff9 100644
              SETUPTOOLS_SHIM % req.setup_py
          ] + list(self.global_options)
  
+diff --git a/pipenv/patched/pip/_internal/utils/misc.py b/pipenv/patched/pip/_internal/utils/misc.py
+index 84605ee3..649311c0 100644
+--- a/pipenv/patched/pip/_internal/utils/misc.py
++++ b/pipenv/patched/pip/_internal/utils/misc.py
+@@ -117,8 +117,8 @@ def get_prog():
+ @retry(stop_max_delay=3000, wait_fixed=500)
+ def rmtree(dir, ignore_errors=False):
+     # type: (str, bool) -> None
+-    shutil.rmtree(dir, ignore_errors=ignore_errors,
+-                  onerror=rmtree_errorhandler)
++    from pipenv.vendor.vistir.path import rmtree as vistir_rmtree, handle_remove_readonly
++    vistir_rmtree(dir, onerror=handle_remove_readonly, ignore_errors=ignore_errors)
+ 
+ 
+ def rmtree_errorhandler(func, path, exc_info):
