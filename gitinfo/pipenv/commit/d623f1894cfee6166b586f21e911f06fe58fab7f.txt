commit d623f1894cfee6166b586f21e911f06fe58fab7f
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Wed Sep 20 12:33:33 2017 -0400

    don't include windows tests in sdist
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/setup.py b/setup.py
index 8db28111..ab22a0d5 100644
--- a/setup.py
+++ b/setup.py
@@ -59,8 +59,8 @@ class UploadCommand(Command):
         except FileNotFoundError:
             pass
 
-        self.status('Building Source distribution…')
-        os.system('{0} setup.py sdist'.format(sys.executable))
+        self.status('Building Source distribution & Universal wheel…')
+        os.system('{0} setup.py sdist bdist_wheel --universal'.format(sys.executable))
 
         self.status('Uploading the package to PyPi via Twine…')
         os.system('twine upload dist/*')
@@ -80,7 +80,7 @@ setup(
     author='Kenneth Reitz',
     author_email='me@kennethreitz.org',
     url='https://github.com/kennethreitz/pipenv',
-    packages=find_packages(exclude=['tests']),
+    packages=find_packages(exclude=['tests', 'tests_windows']),
     entry_points={
         'console_scripts': ['pipenv=pipenv:cli'],
     },
