commit 7e394c39e788c6776ceac7913432c66a411e2174
Author: Dan Ryan <dan@danryan.co>
Date:   Thu May 16 01:24:47 2019 -0400

    Fix license download script
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/vendor/pythonfinder/pep514tools.LICENSE b/pipenv/vendor/pythonfinder/pep514tools.LICENSE
new file mode 100644
index 00000000..c7ac395f
--- /dev/null
+++ b/pipenv/vendor/pythonfinder/pep514tools.LICENSE
@@ -0,0 +1,21 @@
+MIT License
+
+Copyright (c) 2016 Steve Dower
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
+SOFTWARE.
diff --git a/tasks/vendoring/__init__.py b/tasks/vendoring/__init__.py
index 4b01ef0d..aa0a15df 100644
--- a/tasks/vendoring/__init__.py
+++ b/tasks/vendoring/__init__.py
@@ -90,6 +90,12 @@ LIBRARY_RENAMES = {
 }
 
 
+LICENSE_RENAMES = {
+    "pythonfinder/LICENSE": "pythonfinder/pep514tools.LICENSE"
+}
+
+
+
 def drop_dir(path):
     if path.exists() and path.is_dir():
         shutil.rmtree(str(path), ignore_errors=True)
@@ -522,7 +528,7 @@ def download_licenses(
         if req.startswith("enum34"):
             exe_cmd = "{0} -d {1} {2}".format(enum_cmd, tmp_dir.as_posix(), req)
         else:
-            exe_cmd = "{0} --no-build-isolation --no-use-pep517 -d {1} {2}".format(
+            exe_cmd = "{0} --no-build-isolation -d {1} {2}".format(
                 cmd, tmp_dir.as_posix(), req
             )
         try:
@@ -629,6 +635,9 @@ def license_destination(vendor_dir, libname, filename):
             return (
                 vendor_dir / override.parent
             ) / '{0}.{1}'.format(override.name, filename)
+        license_path = LIBRARY_DIRNAMES[libname] / filename
+        if license_path.as_posix() in LICENSE_RENAMES:
+            return vendor_dir / LICENSE_RENAMES[license_path.as_posix()]
         return vendor_dir / LIBRARY_DIRNAMES[libname] / filename
     # fallback to libname.LICENSE (used for nondirs)
     return vendor_dir / '{}.{}'.format(libname, filename)
