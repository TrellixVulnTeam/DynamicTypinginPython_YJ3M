commit 6ed4cea8b616509579cf647e3fadf9b543235749
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Mar 2 19:20:34 2018 -0500

    maybe fix?
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/patched/piptools/resolver.py b/pipenv/patched/piptools/resolver.py
index fcc020bf..8df96bde 100755
--- a/pipenv/patched/piptools/resolver.py
+++ b/pipenv/patched/piptools/resolver.py
@@ -299,7 +299,7 @@ class Resolver(object):
             if sys.version_info[0] == 2:
                 self.dependency_cache[ireq] = sorted(str(ireq.req) for ireq in dependencies)
             else:
-                self.dependency_cache[ireq] = sorted('{0}; {1}'.format(str(ireq.req), str(ireq.markers)) if ireq.markers else str(ireq.req) for ireq in dependencies)
+                self.dependency_cache[ireq] = sorted('{0}; {1}'.format(str(ireq.req), str(ireq.markers)) if str(ireq.markers) else str(ireq.req) for ireq in dependencies)
 
         # Example: ['Werkzeug>=0.9', 'Jinja2>=2.4']
         dependency_strings = self.dependency_cache[ireq]
