commit 068b7ab1b7675af3704c944b9d5f856d7ac3e6f5
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Sep 15 11:15:20 2017 -0400

    stole @jacebrowning's tests (modified)
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/test_windows/test_pipenv.py b/test_windows/test_pipenv.py
index 3ade112d..cc4351f3 100644
--- a/test_windows/test_pipenv.py
+++ b/test_windows/test_pipenv.py
@@ -8,15 +8,29 @@ import toml
 
 from pipenv.cli import (
     ensure_proper_casing,
-    pip_install, pip_download
+    pip_install, pip_download, find_a_system_python
 )
 
+FULL_PYTHON_PATH = find_a_system_python('.'.join(os.environ.PYTHON_VERSION.split('.'[:2])))
+
 
 class TestPipenvWindows():
 
     def test_existience(self):
         assert True
 
+    def test_cli_with_custom_python_path(self):
+        delegator.run('mkdir custom_python')
+        os.chdir('custom_python')
+
+        c = delegator.run('pipenv install --python={0}'.format(FULL_PYTHON_PATH))
+
+        # Debugging, if it fails.
+        print(c.out)
+        print(c.err)
+
+        assert c.return_code == 0
+
     def test_cli_usage(self):
         delegator.run('mkdir test_project')
         os.chdir('test_project')
diff --git a/tests/test_utils.py b/tests/test_utils.py
index 29d26e5d..a054ca24 100644
--- a/tests/test_utils.py
+++ b/tests/test_utils.py
@@ -138,15 +138,16 @@ class TestUtils:
 
     def test_split_vcs(self):
         pipfile_dict = {
-                        'packages': {
-                            'requests': {'git': 'https://github.com/kennethreitz/requests.git'},
-                            'Flask': '*'
-                        },
-                        'dev-packages': {
-                            'Django': '==1.10',
-                            'click': {'svn': 'https://svn.notareal.com/click'},
-                            'crayons': {'hg': 'https://hg.alsonotreal.com/crayons'}
-                        }}
+            'packages': {
+                'requests': {'git': 'https://github.com/kennethreitz/requests.git'},
+                'Flask': '*'
+            },
+            'dev-packages': {
+                'Django': '==1.10',
+                'click': {'svn': 'https://svn.notareal.com/click'},
+                'crayons': {'hg': 'https://hg.alsonotreal.com/crayons'}
+            }
+        }
         split_dict = pipenv.utils.split_vcs(pipfile_dict)
 
         assert list(split_dict['packages'].keys()) == ['Flask']
@@ -154,3 +155,9 @@ class TestUtils:
         assert list(split_dict['dev-packages'].keys()) == ['Django']
         assert 'click' in split_dict['dev-packages-vcs']
         assert 'crayons' in split_dict['dev-packages-vcs']
+
+    def test_python_version_from_bad_path(self):
+        assert pipenv.utils.python_version("/fake/path") is None
+
+    def test_python_version_from_non_python(self):
+        assert pipenv.utils.python_version("/dev/null") is None
