commit d7d50ef3b745c822fd4b3aff509718fc3b57f40f
Author: Dan Ryan <dan@danryan.co>
Date:   Mon Nov 12 16:31:53 2018 -0500

    no samefile for windows python2.7
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/environment.py b/pipenv/environment.py
index b96f2fbe..9315447c 100644
--- a/pipenv/environment.py
+++ b/pipenv/environment.py
@@ -26,7 +26,8 @@ class Environment(object):
         super(Environment, self).__init__()
         self._modules = {'pkg_resources': pkg_resources, 'pipenv': pipenv}
         self.base_working_set = base_working_set if base_working_set else BASE_WORKING_SET
-        self.is_venv = not os.path.samefile(os.path.abspath(str(prefix)), sys.prefix)
+        prefix = os.path.normcase(os.path.normpath(os.path.abspath(str(prefix))))
+        self.is_venv = not prefix == os.path.normcase(os.path.normpath(sys.prefix))
         if not sources:
             sources = []
         self.sources = sources
