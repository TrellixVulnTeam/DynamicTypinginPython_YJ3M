commit 2ed7fb6d6bc73320ffc1fd07a41e8af750d251d1
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Mon Mar 12 09:09:28 2018 -0400

    don't support all extras
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/patched/piptools/repositories/pypi.py b/pipenv/patched/piptools/repositories/pypi.py
index 7f31e067..b7263870 100755
--- a/pipenv/patched/piptools/repositories/pypi.py
+++ b/pipenv/patched/piptools/repositories/pypi.py
@@ -224,9 +224,9 @@ class PyPIRepository(BaseRepository):
                 for section in setup_requires:
                     python_version = section
                     for value in setup_requires[section]:
-                        if ':' in value:
+                        if ':' in value and 'python' in value:
                             python_version = value[1:-1]
-                        else:
+                        elif ':' not in value:
                             try:
                                 result = result + [InstallRequirement.from_line("{0}{1}".format(value, python_version).replace(':', ';'))]
                             # Anything could go wrong here â€” can't be too careful.
diff --git a/tests/test_pipenv.py b/tests/test_pipenv.py
index 09c16362..280fd09c 100644
--- a/tests/test_pipenv.py
+++ b/tests/test_pipenv.py
@@ -946,6 +946,7 @@ requests = "==2.14.0"
     @pytest.mark.install
     @pytest.mark.files
     @pytest.mark.resolver
+    @pytest.mark.eggs
     def test_local_package(self, pip_src_dir):
         """This test ensures that local packages (directories with a setup.py)
         installed in editable mode have their dependencies resolved as well"""
