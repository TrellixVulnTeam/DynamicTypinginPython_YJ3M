commit ac853d055263913faf9467517c5320ebf600eb8e
Author: Dan Ryan <dan@danryan.co>
Date:   Mon Jun 18 03:35:19 2018 -0400

    Switch all update workflows to `pipenv lock/sync`
    
    - `pipenv update` currently doesn't actually run `pipenv lock`
    - Semantics around this changed but it doesn't look like the code did
    - `pipenv update` should operate similarly for all operations by running
    `lock` followed by `sync`
    - Fixes #2179
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/cli.py b/pipenv/cli.py
index 4839411e..27bf7d40 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -823,24 +823,6 @@ def update(
                 crayons.white('.', bold=True),
             )
         )
-        do_lock(
-            verbose=verbose, clear=clear, pre=pre, keep_outdated=keep_outdated, pypi_mirror=pypi_mirror
-        )
-        do_sync(
-            ctx=ctx,
-            install=install,
-            dev=dev,
-            three=three,
-            python=python,
-            bare=bare,
-            dont_upgrade=False,
-            user=False,
-            verbose=verbose,
-            clear=clear,
-            unused=False,
-            sequential=sequential,
-            pypi_mirror=pypi_mirror,
-        )
     else:
         for package in ([package] + list(more_packages) or []):
             if package not in project.all_packages:
@@ -853,28 +835,24 @@ def update(
                     err=True,
                 )
                 sys.exit(1)
-        ensure_lockfile(keep_outdated=project.lockfile_exists, pypi_mirror=pypi_mirror)
-        # Install the dependencies.
-        do_install(
-            package_name=package,
-            more_packages=more_packages,
-            dev=dev,
-            three=three,
-            python=python,
-            pypi_mirror=pypi_mirror,
-            system=system,
-            lock=True,
-            ignore_pipfile=False,
-            skip_lock=False,
-            verbose=verbose,
-            requirements=False,
-            sequential=sequential,
-            pre=pre,
-            code=False,
-            deploy=False,
-            keep_outdated=True,
-            selective_upgrade=True,
-        )
+    do_lock(
+        verbose=verbose, clear=clear, pre=pre, keep_outdated=keep_outdated, pypi_mirror=pypi_mirror
+    )
+    do_sync(
+        ctx=ctx,
+        install=install,
+        dev=dev,
+        three=three,
+        python=python,
+        bare=bare,
+        dont_upgrade=False,
+        user=False,
+        verbose=verbose,
+        clear=clear,
+        unused=False,
+        sequential=sequential,
+        pypi_mirror=pypi_mirror,
+    )
 
 
 @command(
