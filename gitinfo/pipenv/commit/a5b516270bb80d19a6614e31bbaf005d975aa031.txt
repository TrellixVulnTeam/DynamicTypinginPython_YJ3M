commit a5b516270bb80d19a6614e31bbaf005d975aa031
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Tue Mar 6 09:04:11 2018 -0500

    cleanup
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/patched/piptools/repositories/pypi.py b/pipenv/patched/piptools/repositories/pypi.py
index 70529496..146aaa2d 100755
--- a/pipenv/patched/piptools/repositories/pypi.py
+++ b/pipenv/patched/piptools/repositories/pypi.py
@@ -160,11 +160,12 @@ class PyPIRepository(BaseRepository):
 
     def get_dependencies(self, ireq):
         legacy_results = self.get_legacy_dependencies(ireq)
-        try:
-            json_results = self.get_json_dependencies(ireq)
-            legacy_results.update(json_results)
-        except TypeError:
-            pass
+        if self.use_json:
+            try:
+                json_results = self.get_json_dependencies(ireq)
+                legacy_results.update(json_results)
+            except TypeError:
+                pass
 
         return legacy_results
 
