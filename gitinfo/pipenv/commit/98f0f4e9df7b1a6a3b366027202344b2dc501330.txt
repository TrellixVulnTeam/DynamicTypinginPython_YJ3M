commit 98f0f4e9df7b1a6a3b366027202344b2dc501330
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sun Sep 24 22:31:05 2017 -0400

    fix pip indexes
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/cli.py b/pipenv/cli.py
index 875f5c91..0c374c95 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -35,7 +35,8 @@ from .project import Project
 from .utils import (
     convert_deps_from_pip, convert_deps_to_pip, is_required_version,
     proper_case, pep423_name, split_vcs, resolve_deps, shellquote, is_vcs,
-    python_version, suggest_package, find_windows_executable, is_file
+    python_version, suggest_package, find_windows_executable, is_file,
+    prepare_pip_source_args
 )
 from .__version__ import __version__
 from . import pep508checker, progress
@@ -1287,10 +1288,10 @@ def pip_install(
         if os.name != 'nt':
             quoted_pip = shellquote(quoted_pip)
 
-        pip_command = '{0} install {4} {5} {3} {1} -i {2} --exists-action w'.format(
+        pip_command = '{0} install {4} {5} {3} {1} {2} --exists-action w'.format(
             quoted_pip,
             install_reqs,
-            source['url'],
+            ' '.join(prepare_pip_source_args([source])),
             no_deps,
             pre,
             src
