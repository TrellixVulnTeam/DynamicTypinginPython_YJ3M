commit 8a7223bac8929a99e156e8ecc896701a61f4c920
Author: Nate Prewitt <Nate.Prewitt@gmail.com>
Date:   Wed Feb 8 14:36:28 2017 -0700

    properly handle percent-encodings in parse_install_output

diff --git a/pipenv/cli.py b/pipenv/cli.py
index 3beeeafb..93d7740e 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -309,6 +309,8 @@ def parse_install_output(output):
                 continue
 
             fname = r['file'].split(os.sep)[-1]
+            # Unencode percent-encoded values like ``!`` in version number.
+            fname = requests.compat.unquote(fname)
 
             names.append((fname, name.strip()))
             break
diff --git a/tests/test_pipenv.py b/tests/test_pipenv.py
index 816a2f54..266967e3 100644
--- a/tests/test_pipenv.py
+++ b/tests/test_pipenv.py
@@ -4,7 +4,8 @@ import pytest
 import delegator
 import toml
 
-from pipenv.cli import parse_download_fname, ensure_proper_casing
+from pipenv.cli import (parse_download_fname, ensure_proper_casing,
+    parse_install_output)
 
 class TestPipenv():
 
@@ -82,3 +83,20 @@ class TestPipenv():
         assert 'flask' in p['packages']
         assert 'pytest' in p['dev-packages']
         assert changed is False
+
+    def test_parse_install_output(self):
+        install_output = ("Collecting requests\n"
+                          "Using cached requests-2.13.0-py2.py3-none-any.whl\n"
+                          "Successfully downloaded requests-2.13.0\n"
+                          "Collecting honcho\n"
+                          "Using cached honcho-0.7.1.tar.gz\n"
+                          "Successfully downloaded honcho-0.7.1\n"
+                          "Collecting foursquare\n"
+                          "Downloading foursquare-1%212015.4.7.tar.gz\n"
+                          "Saved ./foursquare-1%212015.4.7.tar.gz\n"
+                          "Successfully downloaded click\n")
+
+        names_map = dict(parse_install_output(install_output))
+        assert 'requests-2.13.0-py2.py3-none-any.whl' in names_map
+        assert names_map['requests-2.13.0-py2.py3-none-any.whl'] == 'requests'
+        assert 'foursquare-1!2015.4.7.tar.gz' in names_map
