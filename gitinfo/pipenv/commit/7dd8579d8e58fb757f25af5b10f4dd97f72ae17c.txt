commit 7dd8579d8e58fb757f25af5b10f4dd97f72ae17c
Author: Dan Ryan <dan@danryan.co>
Date:   Sat Jun 30 16:13:32 2018 -0400

    Fix typo
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/patched/piptools/resolver.py b/pipenv/patched/piptools/resolver.py
index 889abce6..807cf518 100644
--- a/pipenv/patched/piptools/resolver.py
+++ b/pipenv/patched/piptools/resolver.py
@@ -165,7 +165,7 @@ class Resolver(object):
                 else:
                     _markers = combined_ireq.markers._markers
                     if not isinstance(_markers[0], (tuple, list)):
-                        combined_ireq.markers._markers = [markers, 'and', ireq.markers._markers]
+                        combined_ireq.markers._markers = [_markers, 'and', ireq.markers._markers]
                 # Return a sorted, de-duped tuple of extras
                 combined_ireq.extras = tuple(sorted(set(tuple(combined_ireq.extras) + tuple(ireq.extras))))
             yield combined_ireq
diff --git a/tasks/vendoring/patches/patched/piptools.patch b/tasks/vendoring/patches/patched/piptools.patch
index 32cfbdf7..f5fb822f 100644
--- a/tasks/vendoring/patches/patched/piptools.patch
+++ b/tasks/vendoring/patches/patched/piptools.patch
@@ -474,7 +474,7 @@ index 05ec8fd..2f94f6b 100644
 +                else:
 +                    _markers = combined_ireq.markers._markers
 +                    if not isinstance(_markers[0], (tuple, list)):
-+                        combined_ireq.markers._markers = [markers, 'and', ireq.markers._markers]
++                        combined_ireq.markers._markers = [_markers, 'and', ireq.markers._markers]
                  # Return a sorted, de-duped tuple of extras
                  combined_ireq.extras = tuple(sorted(set(tuple(combined_ireq.extras) + tuple(ireq.extras))))
              yield combined_ireq
