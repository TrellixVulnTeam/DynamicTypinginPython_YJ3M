commit 704b688fa0c41f014975d623bf4543acd4c52679
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sun Sep 24 18:23:47 2017 -0400

    SESSION_IS_INTERACTIVE
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/cli.py b/pipenv/cli.py
index f1b730a9..521711e0 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -46,7 +46,7 @@ from .environments import (
     PIPENV_SKIP_VALIDATION, PIPENV_HIDE_EMOJIS, PIPENV_INSTALL_TIMEOUT,
     PYENV_INSTALLED, PIPENV_YES, PIPENV_DONT_LOAD_ENV,
     PIPENV_DEFAULT_PYTHON_VERSION, PIPENV_MAX_SUBPROCESS,
-    PIPENV_DONT_USE_PYENV
+    PIPENV_DONT_USE_PYENV, SESSION_IS_INTERACTIVE
 )
 
 # Backport required for earlier versions of Python.
@@ -431,7 +431,7 @@ def ensure_python(three=None, python=None):
         if not PYENV_INSTALLED:
             abort()
         else:
-            if not PIPENV_DONT_USE_PYENV:
+            if (not PIPENV_DONT_USE_PYENV) and (SESSION_IS_INTERACTIVE):
                 version_map = {
                     # TODO: Keep this up to date!
                     # These versions appear incompatible with pew:
diff --git a/pipenv/environments.py b/pipenv/environments.py
index 74356ff2..00dd182b 100644
--- a/pipenv/environments.py
+++ b/pipenv/environments.py
@@ -1,4 +1,5 @@
 import os
+import sys
 
 
 # Prevent invalid shebangs with Homebrew-installed Python:
@@ -73,3 +74,5 @@ PIPENV_INSTALL_TIMEOUT = 60 * 15
 PIPENV_DONT_USE_PYENV = os.environ.get('PIPENV_DONT_USE_PYENV')
 
 PYENV_INSTALLED = (bool(os.environ.get('PYENV_SHELL')) or bool(os.environ.get('PYENV_ROOT')))
+
+PIPENV_INTERACTIVE = bool(os.isatty(sys.stdout.fileno()))
diff --git a/pipenv/utils.py b/pipenv/utils.py
index a4682676..6a87105a 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -28,6 +28,7 @@ from pip.exceptions import DistributionNotFound
 from requests.exceptions import HTTPError
 
 from .pep508checker import lookup
+from .environments import SESSION_IS_INTERACTIVE
 
 specifiers = [k for k in lookup.keys()]
 
@@ -270,7 +271,7 @@ packages = [
 
 def suggest_package(package):
     """Suggests a package name, given a package name."""
-    if os.isatty(sys.stdout.fileno()):
+    if SESSION_IS_INTERACTIVE:
 
         if ('-' in package) or ('[' in package) or ('+' in package):
             THRESHOLD = 90
