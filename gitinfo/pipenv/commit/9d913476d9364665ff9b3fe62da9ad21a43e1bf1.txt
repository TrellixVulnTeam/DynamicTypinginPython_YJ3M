commit 9d913476d9364665ff9b3fe62da9ad21a43e1bf1
Author: Dan Ryan <dan@danryan.co>
Date:   Sat Jul 13 13:40:55 2019 -0400

    Remove click type and add validation for site packages
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/cli/options.py b/pipenv/cli/options.py
index b2183fec..fc45256f 100644
--- a/pipenv/cli/options.py
+++ b/pipenv/cli/options.py
@@ -261,11 +261,12 @@ def quiet_option(f):
 def site_packages_option(f):
     def callback(ctx, param, value):
         state = ctx.ensure_object(State)
+        validate_bool_or_none(ctx, param, value)
         state.site_packages = value
         return value
     return option("--site-packages/--no-site-packages", is_flag=True, default=None,
-                  type=click.types.BOOL, help="Enable site-packages for the virtualenv.",
-                  callback=callback, expose_value=False, show_envvar=True)(f)
+                  help="Enable site-packages for the virtualenv.", callback=callback,
+                  expose_value=False, show_envvar=True)(f)
 
 
 def clear_option(f):
@@ -356,6 +357,12 @@ def validate_python_path(ctx, param, value):
     return value
 
 
+def validate_bool_or_none(ctx, param, value):
+    if value is not None:
+        return click.types.BOOL(value)
+    return False
+
+
 def validate_pypi_mirror(ctx, param, value):
     if value and not is_valid_url(value):
         raise BadParameter("Invalid PyPI mirror URL: %s" % value)
