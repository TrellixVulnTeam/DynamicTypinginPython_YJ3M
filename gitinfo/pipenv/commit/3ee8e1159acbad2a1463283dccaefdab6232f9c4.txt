commit 3ee8e1159acbad2a1463283dccaefdab6232f9c4
Author: Dan Ryan <dan@danryan.co>
Date:   Wed Oct 10 11:27:44 2018 -0400

    Fix source naming
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/project.py b/pipenv/project.py
index addc8ada..3a4d3cce 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -824,7 +824,7 @@ class Project(object):
         self.write_toml(p)
 
     def src_name_from_url(self, index_url):
-        name, _, tld_guess = six.moves.urllib.parse.urlsplit(index).netloc.rpartition(
+        name, _, tld_guess = six.moves.urllib.parse.urlsplit(index_url).netloc.rpartition(
             "."
         )
         src_name = name.replace(".", "")
