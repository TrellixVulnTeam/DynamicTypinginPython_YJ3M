commit 07547ec5f07046767659c3f5cb909a2ee2830952
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Thu Sep 7 11:54:57 2017 -0400

    v5, legacy mode
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/__version__.py b/pipenv/__version__.py
index 39079da3..d34937a5 100644
--- a/pipenv/__version__.py
+++ b/pipenv/__version__.py
@@ -3,4 +3,4 @@
 #  //___/ / / / //___/ / //       //   / /  || / /
 # //       / / //       ((____   //   / /   ||/ /
 
-__version__ = '5.4.3'
+__version__ = '5.5.0'
diff --git a/pipenv/cli.py b/pipenv/cli.py
index 0d533309..a438884b 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -1023,6 +1023,7 @@ def uninstall(package_name=False, more_packages=False, three=None, python=False,
 @click.option('--python', default=False, nargs=1, help="Specify which version of Python virtualenv should use.")
 @click.option('--hashes', is_flag=True, default=False, help="Generate hashes.")
 @click.option('--verbose', is_flag=True, default=False, help="Verbose mode.")
+@click.option('--legacy', is_flag=True, default=False, help="Legacy mode (download all the files for hash calculation).")
 @click.option('--requirements', '-r', is_flag=True, default=False, help="Generate output compatible with requirements.txt.")
 def lock(three=None, python=False, hashes=False, verbose=False, requirements=False):
     # Hack to invert hashing mode.
diff --git a/pipenv/utils.py b/pipenv/utils.py
index 6b4329b4..fb644ddf 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -160,9 +160,14 @@ def convert_deps_to_pip(deps, r=True):
             extra = ''
 
         hash = ''
+        # Support for single hash (spec 1).
         if 'hash' in deps[dep]:
             hash = ' --hash={0}'.format(deps[dep]['hash'])
 
+        # Support for multiple hashes (spec 2).
+        if 'hashes' in deps[dep]:
+            hash = '{0} '.format(''.join([' --hash={0} '.format(h) for h in deps[dep]['hashes']]))
+
         # Support for extras (e.g. requests[socks])
         if 'extras' in deps[dep]:
             extra = '[{0}]'.format(deps[dep]['extras'][0])
diff --git a/pipenv/vendor/pipfile/api.py b/pipenv/vendor/pipfile/api.py
index f149d63d..6e24036b 100644
--- a/pipenv/vendor/pipfile/api.py
+++ b/pipenv/vendor/pipfile/api.py
@@ -143,7 +143,6 @@ class Pipfile(object):
         data = self.data
         data['_meta']['hash'] = {"sha256": self.hash}
         data['_meta']['pipfile-spec'] = 2
-        # return _json.dumps(data)
         return json.dumps(data, indent=4, separators=(',', ': '))
 
     def assert_requirements(self):
