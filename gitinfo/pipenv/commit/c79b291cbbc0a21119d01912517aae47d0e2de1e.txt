commit c79b291cbbc0a21119d01912517aae47d0e2de1e
Author: John Vandenberg <jayvdb@gmail.com>
Date:   Wed Apr 3 09:34:22 2019 +0700

    Avoid using requests unnecessarily in tests
    
    This replaces requests with tablib in test_include_editable_packages
    as in a de-vendored environment the locking fails with requests.
    
    Continuation of https://github.com/pypa/pipenv/issues/3644

diff --git a/news/3644.trivial.rst b/news/3644.trivial.rst
new file mode 100644
index 00000000..5a7db2e1
--- /dev/null
+++ b/news/3644.trivial.rst
@@ -0,0 +1 @@
+Use tablib instead of requests in tests to avoid failures when vendored
diff --git a/tests/integration/test_project.py b/tests/integration/test_project.py
index d366ed9d..f7b0e460 100644
--- a/tests/integration/test_project.py
+++ b/tests/integration/test_project.py
@@ -155,16 +155,16 @@ six = {{version = "*", index = "pypi"}}
 @pytest.mark.install
 @pytest.mark.project
 def test_include_editable_packages(PipenvInstance, testsroot, pathlib_tmpdir):
-    file_name = "requests-2.19.1.tar.gz"
-    package = pathlib_tmpdir.joinpath("requests-2.19.1")
-    source_path = os.path.abspath(os.path.join(testsroot, "test_artifacts", file_name))
+    file_name = "tablib-0.12.1.tar.gz"
+    package = pathlib_tmpdir.joinpath("tablib-0.12.1")
+    source_path = os.path.abspath(os.path.join(testsroot, "pypi", "tablib", file_name))
     with PipenvInstance(chdir=True) as p:
         with tarfile.open(source_path, "r:gz") as tarinfo:
             tarinfo.extractall(path=str(pathlib_tmpdir))
         c = p.pipenv('install -e {0}'.format(package.as_posix()))
         assert c.return_code == 0
         project = Project()
-        assert "requests" in [
+        assert "tablib" in [
             package.project_name
             for package in project.environment.get_installed_packages()
         ]
