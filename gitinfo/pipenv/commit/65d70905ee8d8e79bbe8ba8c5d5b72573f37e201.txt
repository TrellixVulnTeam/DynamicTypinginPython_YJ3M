commit 65d70905ee8d8e79bbe8ba8c5d5b72573f37e201
Author: frostming <mianghong@gmail.com>
Date:   Thu Nov 8 17:52:05 2018 +0800

    Force inline table

diff --git a/pipenv/project.py b/pipenv/project.py
index 6d59b4cb..4f947e4b 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -580,7 +580,7 @@ class Project(object):
     @staticmethod
     def convert_outline_table(parsed):
         """Converts all outline to inline tables"""
-        if Project._istomlkit_parsed_result(parsed):
+        if Project._is_tomlkit_parsed_result(parsed):
             empty_inline_table = tomlkit.inline_table
         else:
             empty_inline_table = toml.TomlDecoder().get_empty_inline_table
@@ -856,6 +856,7 @@ class Project(object):
         """Writes the given data structure out as TOML."""
         if path is None:
             path = self.pipfile_location
+        data = self.convert_outline_table(data)
         try:
             formatted_data = tomlkit.dumps(data).rstrip()
         except Exception:
