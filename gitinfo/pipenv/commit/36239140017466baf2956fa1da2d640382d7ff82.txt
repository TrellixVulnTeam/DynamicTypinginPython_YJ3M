commit 36239140017466baf2956fa1da2d640382d7ff82
Author: Tzu-ping Chung <uranusjr@gmail.com>
Date:   Fri Jul 13 22:26:43 2018 +0800

    Also allow TokenElement in lock file encoder
    
    Can't be too careful hadling things here.

diff --git a/pipenv/project.py b/pipenv/project.py
index 1dc2aaa4..79fa1b91 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -78,8 +78,8 @@ class _LockFileEncoder(json.JSONEncoder):
         )
 
     def default(self, obj):
-        from prettytoml.elements.common import ContainerElement
-        if isinstance(obj, ContainerElement):
+        from prettytoml.elements.common import ContainerElement, TokenElement
+        if isinstance(obj, (ContainerElement, TokenElement)):
             return obj.primitive_value
         return super(_LockFileEncoder, self).default(obj)
 
