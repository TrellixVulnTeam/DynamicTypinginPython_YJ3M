commit 7297fdf084a5bae0f292d5c5b92af833f359820c
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Sep 1 20:17:41 2017 -0400

    PASSED!
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/project.py b/pipenv/project.py
index 58ef8de7..9654a217 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -201,7 +201,7 @@ class Project(object):
         ps = {}
         for k, v in self.parsed_pipfile.get('packages', {}).items():
             # Skip VCS deps.
-            if not hasattr(v, 'keys'):
+            if 'extras' in v or (not hasattr(v, 'keys')):
                 ps.update({k: v})
         return ps
 
@@ -210,7 +210,7 @@ class Project(object):
         ps = {}
         for k, v in self.parsed_pipfile.get('dev-packages', {}).items():
             # Skip VCS deps.
-            if not hasattr(v, 'keys'):
+            if 'extras' in v or (not hasattr(v, 'keys')):
                 ps.update({k: v})
         return ps
 
diff --git a/pipenv/utils.py b/pipenv/utils.py
index 66df8d04..fd2620ae 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -56,7 +56,7 @@ def resolve_deps(deps, sources=None):
             dep.update(d[name])
             results.append(dep)
         else:
-            results.append({'name': result.name, 'version': str(result.specifier).replace('==', '')})
+            results.append({'name': pep423_name(result.name), 'version': str(result.specifier).replace('==', '')})
 
     return results
 
diff --git a/tests/test_utils.py b/tests/test_utils.py
index 4e1ec9e0..49e0a021 100644
--- a/tests/test_utils.py
+++ b/tests/test_utils.py
@@ -55,7 +55,7 @@ class TestUtils:
         # pinax = { git = 'git://github.com/pinax/pinax.git', ref = '1.4'}
         deps = {'pinax': {'git': 'git://github.com/pinax/pinax.git', 'ref': '1.4'}}
         deps = pipenv.utils.convert_deps_to_pip(deps, r=False)
-        assert deps[0] == '-e git+git://github.com/pinax/pinax.git@1.4#egg=pinax'
+        assert deps[0] == 'git+git://github.com/pinax/pinax.git@1.4#egg=pinax'
 
         # test hashes
         deps = {'FooProject': {'version': '==1.2', 'hash': 'sha256:2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824'}}
