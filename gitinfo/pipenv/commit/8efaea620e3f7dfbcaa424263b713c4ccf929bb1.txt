commit 8efaea620e3f7dfbcaa424263b713c4ccf929bb1
Author: Frost Ming <mianghong@gmail.com>
Date:   Thu Dec 6 16:02:37 2018 +0800

    Raise condition evaluation

diff --git a/pipenv/utils.py b/pipenv/utils.py
index 67f3e9a6..08847e59 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -99,11 +99,12 @@ def convert_toml_outline_tables(parsed):
                 table.update(value)
                 section[package] = table
 
+    is_tomlkit_parsed = isinstance(parsed, tomlkit.container.Container)
     for section in ("packages", "dev-packages"):
         table_data = parsed.get(section, {})
         if not table_data:
             continue
-        if isinstance(parsed, tomlkit.container.Container):
+        if is_tomlkit_parsed:
             convert_tomlkit_table(table_data)
         else:
             convert_toml_table(table_data)
