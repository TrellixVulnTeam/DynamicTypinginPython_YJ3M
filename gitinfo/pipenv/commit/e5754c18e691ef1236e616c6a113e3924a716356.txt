commit e5754c18e691ef1236e616c6a113e3924a716356
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Mar 2 14:06:07 2018 -0500

    improve the state of things with new resolver
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/resolver.py b/pipenv/resolver.py
index 446c1d8a..d9784a08 100644
--- a/pipenv/resolver.py
+++ b/pipenv/resolver.py
@@ -60,7 +60,12 @@ if __name__ == '__main__':
 
     project = pipenv.core.project
 
-    results = resolve(packages, pre=do_pre, sources=project.sources, verbose=is_verbose, clear=do_clear)
+    try:
+        results = resolve(packages, pre=do_pre, sources=project.sources, verbose=is_verbose, clear=do_clear)
+    except Exception:
+        sys.exit(1)
+
+
     print('XYZZY')
     if results:
         print(json.dumps(results))
diff --git a/pipenv/utils.py b/pipenv/utils.py
index ccf44ee8..4647c070 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -327,7 +327,7 @@ def actually_resolve_reps(deps, index_lookup, markers_lookup, project, sources,
             ),
             err=True)
 
-        click.echo(crayons.blue(str(e)))
+        click.echo(crayons.blue(str(e)), err=True)
 
         if 'no version found at all' in str(e):
             click.echo(crayons.blue('Please check your version specifier and version number. See PEP440 for more information.'))
@@ -351,8 +351,9 @@ def venv_resolve_deps(deps, which, project, pre=False, verbose=False, clear=Fals
     try:
         assert c.return_code == 0
     except AssertionError:
-        print(c.err)
-        return []
+        print(c.err[int(len(c.err) / 2):])
+        sys.exit(c.return_code)
+        return None
 
     if verbose:
         click.echo(c.out.split('XYZZY')[0], err=True)
