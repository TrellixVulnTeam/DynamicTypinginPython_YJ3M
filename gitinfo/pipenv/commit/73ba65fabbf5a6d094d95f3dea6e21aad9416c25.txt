commit 73ba65fabbf5a6d094d95f3dea6e21aad9416c25
Author: Vincent Philippon <sindaewoh@gmail.com>
Date:   Thu Nov 16 12:38:42 2017 -0500

    In HackedPythonVersion, patch sys.version_info
    
    This is required to have pip/pip-tools get the right wheels according to
    the project virtualenv python version.

diff --git a/pipenv/utils.py b/pipenv/utils.py
index b47c4162..64276517 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -1,4 +1,5 @@
 # -*- coding: utf-8 -*-
+from collections import namedtuple
 import os
 import hashlib
 import tempfile
@@ -393,6 +394,9 @@ def clean_pkg_version(version):
 
 class HackedPythonVersion(object):
     """A Beautiful hack, which allows us to tell pip which version of Python we're using."""
+
+    PatchedSysVersion = namedtuple('PatchedSysVersion', ['major', 'minor', 'micro'])
+
     def __init__(self, python_version, python_path):
         self.python_version = python_version
         self.python_path = python_path
@@ -400,10 +404,13 @@ class HackedPythonVersion(object):
     def __enter__(self):
         os.environ['PIP_PYTHON_VERSION'] = str(self.python_version)
         os.environ['PIP_PYTHON_PATH'] = str(self.python_path)
+        self.backup_version_info = sys.version_info
+        sys.version_info = self.PatchedSysVersion(*map(int, self.python_version.split('.')))
 
     def __exit__(self, *args):
         # Restore original Python version information.
         del os.environ['PIP_PYTHON_VERSION']
+        sys.version_info = self.backup_version_info
 
 
 def prepare_pip_source_args(sources, pip_args=None):
