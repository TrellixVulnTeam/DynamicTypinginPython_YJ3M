commit a1921259443f647c944e186bb46c59e0a080ff23
Author: Dan Ryan <dan@danryan.co>
Date:   Mon May 27 17:55:57 2019 -0400

    Use parametrized python version
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/.azure-pipelines/steps/create-virtualenv.yml b/.azure-pipelines/steps/create-virtualenv.yml
index 3986fd9a..3f039a09 100644
--- a/.azure-pipelines/steps/create-virtualenv.yml
+++ b/.azure-pipelines/steps/create-virtualenv.yml
@@ -29,10 +29,10 @@ steps:
 - script: |
     echo "Python path: $(PY_EXE)"
     echo "GIT_SSL_CAINFO: $(GIT_SSL_CAINFO)"
-    echo "PIPENV PYTHON VERSION: $(PIPENV_DEFAULT_PYTHON_VERSION)"
-    $(PY_EXE) -m pipenv install --deploy --dev --python "$PIPENV_DEFAULT_PYTHON_VERSION"
+    echo "PIPENV PYTHON VERSION: $PIPENV_DEFAULT_PYTHON_VERSION"
+    $(PY_EXE) -m pipenv install --deploy --dev
   env:
-    PIPENV_DEFAULT_PYTHON_VERSION: '$(PIPENV_DEFAULT_PYTHON_VERSION)'
+    PIPENV_DEFAULT_PYTHON_VERSION: ${{ parameters.python.version }}
     PYTHONWARNINGS: 'ignore:DEPRECATION'
     PIPENV_NOSPIN: '1'
   displayName: Make Virtualenv
diff --git a/.azure-pipelines/steps/run-tests.yml b/.azure-pipelines/steps/run-tests.yml
index f559b8ca..7373fa57 100644
--- a/.azure-pipelines/steps/run-tests.yml
+++ b/.azure-pipelines/steps/run-tests.yml
@@ -9,11 +9,13 @@ steps:
 - template: install-dependencies.yml
 
 - script: |
-    echo '##vso[task.setvariable variable=PIPENV_DEFAULT_PYTHON_VERSION]$(PYTHON_VERSION)'
+    echo '##vso[task.setvariable variable=PIPENV_DEFAULT_PYTHON_VERSION]$PYTHON_VERSION'
   env:
     PYTHON_VERSION: $(python.version)
 
 - template: create-virtualenv.yml
+  parameters:
+    python.version: $(python.version)
 
 - ${{ if eq(parameters.vmImage, 'windows-2019') }}:
   - template: run-tests-windows.yml
