commit 3f053a355f0a6936939542ae791c8c6c2aec9424
Author: frostming <frostming@tencent.com>
Date:   Wed Feb 27 12:21:23 2019 +0800

    Fix command dispatching

diff --git a/pipenv/cli/command.py b/pipenv/cli/command.py
index 16ce115e..f1fac2b2 100644
--- a/pipenv/cli/command.py
+++ b/pipenv/cli/command.py
@@ -12,8 +12,6 @@ import click_completion
 import crayons
 import delegator
 
-from click_didyoumean import DYMCommandCollection
-
 from ..__version__ import __version__
 from .options import (
     CONTEXT_SETTINGS, PipenvGroup, code_option, common_options, deploy_option,
@@ -400,8 +398,7 @@ def shell(
 @pass_state
 def run(state, command, args):
     """Spawns a command installed into the virtualenv."""
-    from ..core import do_run, warn_in_virtualenv
-    warn_in_virtualenv()
+    from ..core import do_run
     do_run(
         command=command, args=args, three=state.three, python=state.python, pypi_mirror=state.pypi_mirror
     )
@@ -634,8 +631,5 @@ def clean(ctx, state, dry_run=False, bare=False, user=False):
              system=state.system)
 
 
-# Only invoke the "did you mean" when an argument wasn't passed (it breaks those).
-if "-" not in "".join(sys.argv) and len(sys.argv) > 1:
-    cli = DYMCommandCollection(sources=[cli])
 if __name__ == "__main__":
     cli()
diff --git a/pipenv/cli/options.py b/pipenv/cli/options.py
index 745275dd..8ca38ae5 100644
--- a/pipenv/cli/options.py
+++ b/pipenv/cli/options.py
@@ -8,6 +8,7 @@ import click.types
 from click import (
     BadParameter, Group, Option, argument, echo, make_pass_decorator, option
 )
+from click_didyoumean import DYMMixin
 
 from .. import environments
 from ..utils import is_valid_url
@@ -19,7 +20,7 @@ CONTEXT_SETTINGS = {
 }
 
 
-class PipenvGroup(Group):
+class PipenvGroup(DYMMixin, Group):
     """Custom Group class provides formatted main help"""
 
     def get_help_option(self, ctx):
