commit 018e6fe29f065809b19d1ff3f82c1397743ac71b
Author: Dan Ryan <dan@danryan.co>
Date:   Fri Feb 22 21:07:42 2019 -0500

    Fix pipenv dist discovery
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/environment.py b/pipenv/environment.py
index 5e2ec3f5..0140a0a4 100644
--- a/pipenv/environment.py
+++ b/pipenv/environment.py
@@ -92,12 +92,16 @@ class Environment(object):
             deps |= cls.resolve_dist(dist, working_set)
         return deps
 
-    def add_dist(self, dist_name):
-        dist = pkg_resources.get_distribution(pkg_resources.Requirement(dist_name))
+    def extend_dists(self, dist):
         extras = self.resolve_dist(dist, self.base_working_set)
+        self.extra_dists.append(dist)
         if extras:
             self.extra_dists.extend(extras)
 
+    def add_dist(self, dist_name):
+        dist = pkg_resources.get_distribution(pkg_resources.Requirement(dist_name))
+        self.extend_dists(dist)
+
     @cached_property
     def python_version(self):
         with self.activated():
diff --git a/pipenv/project.py b/pipenv/project.py
index 68ec4666..55921414 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -34,7 +34,7 @@ from .utils import (
     get_canonical_names, get_url_name, get_workon_home, is_editable,
     is_installable_file, is_star, is_valid_url, is_virtual_environment,
     looks_like_dir, normalize_drive, pep423_name, proper_case, python_version,
-    safe_expandvars
+    safe_expandvars, get_pipenv_dist
 )
 
 
@@ -340,7 +340,11 @@ class Project(object):
                 prefix=prefix, is_venv=is_venv, sources=sources, pipfile=self.parsed_pipfile,
                 project=self
             )
-            self._environment.add_dist("pipenv")
+            pipenv_dist = get_pipenv_dist(pkg="pipenv")
+            if pipenv_dist:
+                self._environment.extend_dists(pipenv_dist)
+            else:
+                self._environment.add_dist("pipenv")
         return self._environment
 
     def get_outdated_packages(self):
diff --git a/pipenv/utils.py b/pipenv/utils.py
index d7093495..93896aba 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -1779,3 +1779,12 @@ def is_url_equal(url, other_url):
     unparsed = parsed_url._replace(auth=None, query=None, fragment=None).url
     unparsed_other = parsed_other_url._replace(auth=None, query=None, fragment=None).url
     return unparsed == unparsed_other
+
+
+def get_pipenv_dist(pkg="pipenv", pipenv_site=None):
+    from .resolver import find_site_path
+    pipenv_libdir = os.path.dirname(os.path.abspath(__file__))
+    if pipenv_site is None:
+        pipenv_site = os.path.dirname(pipenv_libdir)
+    pipenv_dist, _ = find_site_path(pkg, site_dir=pipenv_site)
+    return pipenv_dist
