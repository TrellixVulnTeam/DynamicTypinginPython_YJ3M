commit 58a10908aba9621501bcbeec9e8362221ee5af75
Author: Ed Morley <edmorley@users.noreply.github.com>
Date:   Thu May 25 20:31:33 2017 +0100

    Add flake8 to the Travis run
    
    flake8 would have caught the regression in #371 and output:
    `pipenv/cli.py:257:19: F821 undefined name 'hashed_deps_path'`
    
    Whilst in an ideal world there would be 100% test coverage, linters help
    fill in the gaps, plus spot potential unused variable/imports cleanup.
    
    I'm happy to disable more of the style/whitespace pep8 rules if
    needed - the priority is having the pyflakes subset run in CI.

diff --git a/.travis.yml b/.travis.yml
index 5300eefb..c5d31e83 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -16,4 +16,6 @@ install:
   - "pipenv install --dev"
 # command to run tests
 script:
+  # flake8 has dropped support for Python 2.6.
+  - if [[ "$TRAVIS_PYTHON_VERSION" != "2.6" ]]; then pipenv run flake8; fi
   - pipenv run pytest tests
diff --git a/Pipfile b/Pipfile
index b683ecce..3f997b15 100644
--- a/Pipfile
+++ b/Pipfile
@@ -1,4 +1,5 @@
 [dev-packages]
+flake8 = ">=3.3.0,<4"
 pytest = "*"
 mock = "*"
 "delegator.py" = ">=0.0.10"
diff --git a/Pipfile.lock b/Pipfile.lock
index 2578aa3a..6d1638fe 100644
--- a/Pipfile.lock
+++ b/Pipfile.lock
@@ -1,7 +1,7 @@
 {
     "_meta": {
         "hash": {
-            "sha256": "8cba5434b2ba425d05649334b063af088196a5208a5a7c9ae52be9e1467824b8"
+            "sha256": "d099a1995f5e9122193bde9a54f4ca624afb2abdf0cf75e76b1930464966ea86"
         },
         "requires": {
             "python_version": "2.7"
@@ -17,7 +17,7 @@
         "appdirs": {
             "version": "==1.4.3"
         },
-        "backports.shutil_get_terminal_size": {
+        "backports.shutil-get-terminal-size": {
             "version": "==1.0.0"
         },
         "packaging": {
@@ -52,39 +52,45 @@
         }
     },
     "develop": {
-        "Babel": {
-            "version": "==2.4.0"
-        },
-        "Jinja2": {
-            "version": "==2.9.6"
-        },
-        "MarkupSafe": {
-            "version": "==1.0"
-        },
-        "Pygments": {
-            "version": "==2.2.0"
-        },
-        "Sphinx": {
-            "version": "==1.5.5"
-        },
         "alabaster": {
             "version": "==0.7.10"
         },
         "appdirs": {
             "version": "==1.4.3"
         },
+        "babel": {
+            "version": "==2.4.0"
+        },
+        "configparser": {
+            "version": "==3.5.0"
+        },
         "delegator.py": {
             "version": "==0.0.10"
         },
         "docutils": {
             "version": "==0.13.1"
         },
+        "enum34": {
+            "version": "==1.1.6"
+        },
+        "flake8": {
+            "version": "==3.3.0"
+        },
         "funcsigs": {
             "version": "==1.0.2"
         },
         "imagesize": {
             "version": "==0.7.1"
         },
+        "jinja2": {
+            "version": "==2.9.6"
+        },
+        "markupsafe": {
+            "version": "==1.0"
+        },
+        "mccabe": {
+            "version": "==0.6.1"
+        },
         "mock": {
             "version": "==2.0.0"
         },
@@ -103,11 +109,20 @@
         "py": {
             "version": "==1.4.33"
         },
+        "pycodestyle": {
+            "version": "==2.3.1"
+        },
+        "pyflakes": {
+            "version": "==1.5.0"
+        },
+        "pygments": {
+            "version": "==2.2.0"
+        },
         "pyparsing": {
             "version": "==2.2.0"
         },
         "pytest": {
-            "version": "==3.0.7"
+            "version": "==3.1.0"
         },
         "pytz": {
             "version": "==2017.2"
@@ -124,6 +139,9 @@
         "snowballstemmer": {
             "version": "==1.2.1"
         },
+        "sphinx": {
+            "version": "==1.5.5"
+        },
         "toml": {
             "version": "==0.9.2"
         }
diff --git a/pipenv/cli.py b/pipenv/cli.py
index cf9f5b45..7c103207 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -51,7 +51,7 @@ if PIPENV_COLORBLIND:
 
 # Disable spinner, for cleaner build logs (the unworthy).
 if PIPENV_NOSPIN:
-    @contextlib.contextmanager
+    @contextlib.contextmanager  # noqa: F811
     def spinner():
         yield
 
diff --git a/setup.cfg b/setup.cfg
new file mode 100644
index 00000000..2979c981
--- /dev/null
+++ b/setup.cfg
@@ -0,0 +1,14 @@
+[flake8]
+exclude = .git,__pycache__,docs/,pipenv/vendor/,get-pipenv.py
+ignore =
+    # The default ignore list:
+    E121,E123,E126,E226,E24,E704,
+    # Our additions:
+    # E127: continuation line over-indented for visual indent
+    # E128: continuation line under-indented for visual indent
+    # E129: visually indented line with same indent as next logical line
+    # E222: multiple spaces after operator
+    # E231: missing whitespace after ','
+    # E402: module level import not at top of file
+    # E501: line too long
+    E127,E128,E129,E222,E231,E402,E501
