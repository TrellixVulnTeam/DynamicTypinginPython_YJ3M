commit ff84219171d7746372141b694cb88839619e0ee6
Author: Jeff Tratner <jtratner@counsyl.com>
Date:   Thu Mar 22 22:02:45 2018 -0700

    Do not inject env when calculating hashes

diff --git a/pipenv/core.py b/pipenv/core.py
index d26356ca..c9cf97e5 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -1316,7 +1316,7 @@ def do_init(
         with codecs.open(project.lockfile_location, 'r') as f:
             lockfile = simplejson.load(f)
         # Update the lockfile if it is out-of-date.
-        p = pipfile.load(project.pipfile_location)
+        p = pipfile.load(project.pipfile_location, inject_env=False)
         # Check that the hash of the Lockfile matches the lockfile's hash.
         if not lockfile['_meta'].get('hash', {}).get('sha256') == p.hash:
             old_hash = lockfile['_meta'].get('hash', {}).get('sha256')[-6:]
@@ -1659,7 +1659,7 @@ def ensure_lockfile(keep_outdated=False):
         with codecs.open(project.lockfile_location, 'r') as f:
             lockfile = simplejson.load(f)
         # Update the lockfile if it is out-of-date.
-        p = pipfile.load(project.pipfile_location)
+        p = pipfile.load(project.pipfile_location, inject_env=False)
         # Check that the hash of the Lockfile matches the lockfile's hash.
         if not lockfile['_meta'].get('hash', {}).get('sha256') == p.hash:
             old_hash = lockfile['_meta'].get('hash', {}).get('sha256')[-6:]
