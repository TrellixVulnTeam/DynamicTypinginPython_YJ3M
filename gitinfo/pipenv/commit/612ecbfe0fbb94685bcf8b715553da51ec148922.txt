commit 612ecbfe0fbb94685bcf8b715553da51ec148922
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Mar 2 15:10:14 2018 -0500

    no more depending on requests
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/core.py b/pipenv/core.py
index e3e4a321..0fa14c88 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -26,11 +26,9 @@ import pipdeptree
 import semver
 from pipreqs import pipreqs
 from blindspin import spinner
-try:
-    import urllib3
-    from urllib3.exceptions import InsecureRequestWarning
-except ImportError:
-    pass
+
+from requests.packages import urllib3
+from requests.packages.urllib3.exceptions import InsecureRequestWarning
 
 from .project import Project
 from .utils import (
diff --git a/pipenv/resolver.py b/pipenv/resolver.py
index cf58c124..49c92281 100644
--- a/pipenv/resolver.py
+++ b/pipenv/resolver.py
@@ -24,17 +24,26 @@ if __name__ == '__main__':
     is_verbose = '--verbose' in sys.argv
     do_pre = '--pre' in sys.argv
     do_clear = '--clear' in sys.argv
-    packages = os.environ['PIPENV_PACKAGES'].split('\n')
+    if 'PIPENV_PACKAGES' in os.environ:
+        packages = os.environ['PIPENV_PACKAGES'].split('\n')
+    else:
+        packages = sys.argv[1:]
+
+        for i, package in enumerate(packages):
+            if package.startswith('--'):
+                del packages[i]
 
     project = pipenv.core.project
 
     try:
         results = resolve(packages, pre=do_pre, sources=project.sources, verbose=is_verbose, clear=do_clear)
-    except Exception:
+    except Exception as e:
+        raise(e)
         sys.exit(1)
 
 
-    print('XYZZY')
+    print('RESULTS:')
+
     if results:
         print(json.dumps(results))
     else:
diff --git a/pipenv/utils.py b/pipenv/utils.py
index 7595c727..1e71a232 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -356,9 +356,9 @@ def venv_resolve_deps(deps, which, project, pre=False, verbose=False, clear=Fals
         sys.exit(c.return_code)
 
     if verbose:
-        click.echo(c.out.split('XYZZY')[0], err=True)
+        click.echo(c.out.split('RESULTS:')[0], err=True)
 
-    return json.loads(c.out.split('XYZZY')[1].strip())
+    return json.loads(c.out.split('RESULTS:')[1].strip())
 
 
 def resolve_deps(deps, which, project, sources=None, verbose=False, python=False, clear=False, pre=False, allow_global=False):
diff --git a/setup.py b/setup.py
index 77c8e1d9..56d527fc 100644
--- a/setup.py
+++ b/setup.py
@@ -24,9 +24,7 @@ if sys.argv[-1] == "publish":
 required = [
     'virtualenv',
     'pew>=0.1.26',
-    'pip>=9.0.1',
-    'requests>2.18.0',
-    'urllib3>=1.21.1'
+    'pip>=9.0.1'
 ]
 
 if sys.version_info < (2, 7):
