commit 3cbcef41f1520da720383cdc74a8eafaa314c377
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sat Feb 24 08:03:56 2018 -0500

    udpate to #1481
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/project.py b/pipenv/project.py
index 1f4b6376..f8a49562 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -412,11 +412,13 @@ class Project(object):
         pypi_source = {u'url': u'https://pypi.python.org/simple', u'verify_ssl': True, u'name': 'pypi'}
         sources = [pypi_source]
 
-        for num, index in enumerate(indexes):
+        for i, index in enumerate(indexes):
             if not index:
                 continue
-            source_name = 'pip_index_{}'.format(num+1)
-            sources.append({u'url': index, u'verify_ssl': True, u'name': source_name})
+            source_name = 'pip_index_{}'.format(i)
+            verify_ssl = index.startswith('https')
+
+            sources.append({u'url': index, u'verify_ssl': verify_ssl, u'name': source_name})
 
         data = {
             u'source': sources,
diff --git a/tests/test_project.py b/tests/test_project.py
index 93e5c5b1..3916dd95 100644
--- a/tests/test_project.py
+++ b/tests/test_project.py
@@ -43,12 +43,12 @@ class TestProject():
 
         config_source_1 = pfile['source'][1]
         assert config_source_1['url'] == 'https://pypi.host.com/simple'
-        assert config_source_1['name'] == 'pip_index_1'
+        assert config_source_1['name'] == 'pip_index_0'
         assert config_source_1['verify_ssl'] is True
 
         config_source_2 = pfile['source'][2]
         assert config_source_2['url'] == 'https://remote.packagehost.net/simple'
-        assert config_source_2['name'] == 'pip_index_2'
+        assert config_source_2['name'] == 'pip_index_1'
         assert config_source_2['verify_ssl'] is True
 
     def test_parsed_pipfile(self):
