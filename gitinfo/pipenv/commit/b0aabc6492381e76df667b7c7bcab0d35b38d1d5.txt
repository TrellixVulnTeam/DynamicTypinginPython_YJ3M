commit b0aabc6492381e76df667b7c7bcab0d35b38d1d5
Author: Dan Ryan <dan@danryan.co>
Date:   Tue Apr 24 00:08:21 2018 -0400

    Re-add check for vcs pkgs presence in pipfile
    
    - This was removed in a refactor for no discernable reason
    - The logic is still present in dev-packages
    - Fixes #1130
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/core.py b/pipenv/core.py
index 1543983d..89108d56 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -1131,6 +1131,11 @@ def do_lock(
     pip_freeze = delegator.run('{0} freeze'.format(escape_grouped_arguments(which_pip(allow_global=system)))).out
     for dep in vcs_deps:
         for line in pip_freeze.strip().split('\n'):
+            # if the line doesn't match a vcs dependency in the Pipfile,
+            # ignore it
+            if not any(dep in line for dep in vcs_deps):
+                continue
+
             try:
                 installed = convert_deps_from_pip(line)
                 name = list(installed.keys())[0]
