commit 711403305a543355292db291906178257cf373ad
Author: Kyle Cribbs <kylecribbs@outlook.com>
Date:   Thu Oct 10 14:21:33 2019 -0600

    Updated with quiet, verbose, and environmental var
    
    Users can pass PIPENV_SAFETY_DB path for local db or --db
    changed squelch to quiet.
    added logging stating its using local db.

diff --git a/pipenv/cli/command.py b/pipenv/cli/command.py
index c37c5560..a0f721ab 100644
--- a/pipenv/cli/command.py
+++ b/pipenv/cli/command.py
@@ -419,8 +419,8 @@ def run(state, command, args):
 @option(
     "--db",
     nargs=1,
-    default=False,
-    help="Path to a local vulnerability database. Default: empty",
+    default=lambda: os.environ.get('PIPENV_SAFETY_DB', False),
+    help="Path to a local vulnerability database. Default: ENV PIPENV_SAFETY_DB or None",
 )
 @option(
     "--ignore",
@@ -435,9 +435,9 @@ def run(state, command, args):
     help="Translates to --json, --ful-report or --bare from safety check",
 )
 @option(
-    "--squelch",
+    "--quiet",
     is_flag=True,
-    help="Squelch stdout except vulnerability report."
+    help="Quiet stdout except vulnerability report."
 )
 @common_options
 @system_option
@@ -450,7 +450,7 @@ def check(
     style=False,
     ignore=None,
     output="default",
-    squelch=False,
+    quiet=False,
     args=None,
     **kwargs
 ):
@@ -465,7 +465,7 @@ def check(
         db=db,
         ignore=ignore,
         output=output,
-        squelch=squelch,
+        quiet=quiet,
         args=args,
         pypi_mirror=state.pypi_mirror,
     )
diff --git a/pipenv/core.py b/pipenv/core.py
index db39a56f..981d0a4c 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -2329,7 +2329,7 @@ def do_check(
     db=False,
     ignore=None,
     output="default",
-    squelch=False,
+    quiet=False,
     args=None,
     pypi_mirror=None
 ):
@@ -2353,7 +2353,7 @@ def do_check(
             except ValueError:
                 pass
         if deps_required:
-            if not squelch:
+            if not quiet and not environments.is_quiet():
                 click.echo(
                     crayons.normal(
                         "The following dependencies appear unused, and may be safe for removal:"
@@ -2364,7 +2364,7 @@ def do_check(
                 sys.exit(1)
         else:
             sys.exit(0)
-    if not squelch:
+    if not quiet and not environments.is_quiet():
         click.echo(crayons.normal(fix_utf8("Checking PEP 508 requirements…"), bold=True))
     if system:
         python = system_which("python")
@@ -2400,9 +2400,9 @@ def do_check(
         click.echo(crayons.red("Failed!"), err=True)
         sys.exit(1)
     else:
-        if not squelch:
+        if not quiet and not environments.is_quiet():
             click.echo(crayons.green("Passed!"))
-    if not squelch:
+    if not quiet and not environments.is_quiet():
         click.echo(crayons.normal(fix_utf8("Checking installed package safety…"), bold=True))
     path = pep508checker.__file__.rstrip("cdo")
     path = os.sep.join(__file__.split(os.sep)[:-1] + ["patched", "safety.zip"])
@@ -2418,6 +2418,8 @@ def do_check(
 
     key = "--key={0}".format(PIPENV_PYUP_API_KEY)
     if db:
+        if not quiet and not environments.is_quiet():
+            click.echo(crayons.normal("Using local database {}".format(db)))
         key = "--db {0}".format(db)
 
     switch = output
