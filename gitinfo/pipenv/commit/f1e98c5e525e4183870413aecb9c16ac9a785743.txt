commit f1e98c5e525e4183870413aecb9c16ac9a785743
Author: Dan Ryan <dan@danryan.co>
Date:   Sat Nov 4 21:40:58 2017 -0400

    Add tests for is_vcs changes to prevent regression
    
    - Fix vcs test for git+git syntax

diff --git a/pipenv/utils.py b/pipenv/utils.py
index bd28e77b..cad2960e 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -771,6 +771,9 @@ def is_vcs(pipfile_entry):
     if hasattr(pipfile_entry, 'keys'):
         return any(key for key in pipfile_entry.keys() if key in VCS_LIST)
     elif isinstance(pipfile_entry, six.string_types):
+        # This syntax is only valid with git
+        if pipfile_entry.startswith('git+git@'):
+            pipfile_entry = pipfile_entry.replace('git+git@', 'git+git://')
         return bool(requirements.requirement.VCS_REGEX.match(pipfile_entry))
     return False
 
diff --git a/tests/test_pipenv.py b/tests/test_pipenv.py
index 53225a20..cd0321b1 100644
--- a/tests/test_pipenv.py
+++ b/tests/test_pipenv.py
@@ -326,9 +326,13 @@ class TestPipenv:
         with PipenvInstance() as p:
             c = p.pipenv('install git+https://github.com/requests/requests.git#egg=requests')
             assert c.return_code == 0
-            assert 'requests' in p.pipfile['packages']
+            # edge case where normal package starts with VCS name shouldn't be flagged as vcs
+            c = p.pipenv('install gitdb2')
+            assert c.return_code == 0
+            assert all(package in p.pipfile['packages'] for package in ['requests', 'gitdb2'])
             assert 'git' in p.pipfile['packages']['requests']
             assert p.lockfile['default']['requests'] == {"git": "https://github.com/requests/requests.git"}
+            assert 'gitdb2' in p.lockfile['default']
 
     @pytest.mark.e
     @pytest.mark.vcs
diff --git a/tests/test_utils.py b/tests/test_utils.py
index 4922d294..4ca48f08 100644
--- a/tests/test_utils.py
+++ b/tests/test_utils.py
@@ -124,8 +124,10 @@ class TestUtils:
         ({'some_value': 5, 'other_value': object()}, False),
         ('package', False),
         ('git+https://github.com/requests/requests.git#egg=requests', True),
-        ('git+git@github.com:requests/requests.git#egg=requests', True)
+        ('git+git@github.com:requests/requests.git#egg=requests', True),
+        ('gitdb2', False)
     ])
+    @pytest.mark.vcs
     def test_is_vcs(self, entry, expected):
         assert pipenv.utils.is_vcs(entry) is expected
 
