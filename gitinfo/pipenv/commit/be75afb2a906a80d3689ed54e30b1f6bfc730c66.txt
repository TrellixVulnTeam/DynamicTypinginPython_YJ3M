commit be75afb2a906a80d3689ed54e30b1f6bfc730c66
Author: Dan Ryan <dan@danryan.co>
Date:   Thu Jun 7 11:04:44 2018 -0400

    Add a space for markers that we transform
    
    - Cleanup stale comments
    - Deterministic ordering for locking
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/core.py b/pipenv/core.py
index e4a94d31..4d06a66c 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -1056,7 +1056,8 @@ def do_lock(
             'dev': False
         }
     }
-    for section_name, settings in sections.items():
+    for section_name in ['dev', 'default']:
+        settings = sections[section_name]
         if write:
             # Alert the user of progress.
             click.echo(
@@ -1081,7 +1082,7 @@ def do_lock(
             allow_global=system,
             pypi_mirror=pypi_mirror,
         )
-        # Add develop dependencies to lockfile.
+        # Add dependencies to lockfile.
         for dep in results:
             is_top_level = dep['name'] in settings['packages']
             pipfile_entry = settings['packages'][dep['name']] if is_top_level else None
diff --git a/pipenv/utils.py b/pipenv/utils.py
index 44ace3ce..56a387c8 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -1247,7 +1247,7 @@ def clean_resolved_dep(dep, is_top_level=False, pipfile_entry=None):
             if pipfile_marker:
                 entry = "{0}".format(pipfile_entry[pipfile_marker])
                 if pipfile_marker != 'markers':
-                    entry = "{0}{1}".format(pipfile_marker, entry)
+                    entry = "{0} {1}".format(pipfile_marker, entry)
                 lockfile['markers'] = entry
     return {name: lockfile}
 
