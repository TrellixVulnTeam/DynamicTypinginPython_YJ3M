commit 29b3f75b2c96e361b9c4f19d1833fec107457554
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Wed Mar 7 11:53:01 2018 -0500

    fix #1417
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/core.py b/pipenv/core.py
index c5c8672b..854a2582 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -818,8 +818,9 @@ def do_install_dependencies(
         # Additional package selectors, specific to pip's --hash checking mode.
         for l in (deps_list, dev_deps_list):
             for i, dep in enumerate(l):
-                if '--hash' not in dep[0]:
-                    l[i] = ('# {0}'.format(l[i][0]),) + l[i][1:]
+                if '--hash' in l[i][0]:
+                    l[i] = list(l[i])
+                    l[i][0] = (l[i][0].split('--hash')[0].strip())
 
         # Output only default dependencies
         if not dev:
