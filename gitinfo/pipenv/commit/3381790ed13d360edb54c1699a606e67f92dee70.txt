commit 3381790ed13d360edb54c1699a606e67f92dee70
Author: Dan Ryan <dan@danryan.co>
Date:   Tue Oct 30 11:44:17 2018 -0400

    Fix unicode encoding to replace non-ascii chars
    
    - Drops any unmapped non-ascii characters on non-utf8 systems
    - Fixes #3131
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/news/3131.bugfix.rst b/news/3131.bugfix.rst
new file mode 100644
index 00000000..6eaa4bdd
--- /dev/null
+++ b/news/3131.bugfix.rst
@@ -0,0 +1 @@
+Added additional logic for ignoring and replacing non-ascii characters when formatting console output on non-UTF-8 systems.
diff --git a/pipenv/_compat.py b/pipenv/_compat.py
index 6cc4c732..d19bc514 100644
--- a/pipenv/_compat.py
+++ b/pipenv/_compat.py
@@ -379,11 +379,12 @@ def decode_output(output):
         return output
     try:
         output = output.encode(DEFAULT_ENCODING)
-    except (AttributeError, UnicodeDecodeError):
+    except (AttributeError, UnicodeDecodeError, UnicodeEncodeError):
         if six.PY2:
             output = unicode.translate(vistir.misc.to_text(output),
                                             UNICODE_TO_ASCII_TRANSLATION_MAP)
         else:
             output = output.translate(UNICODE_TO_ASCII_TRANSLATION_MAP)
-    output = output.decode(DEFAULT_ENCODING)
+        output = output.encode(DEFAULT_ENCODING, "replace")
+    return vistir.misc.to_text(output, encoding=DEFAULT_ENCODING, errors="replace")
     return output
