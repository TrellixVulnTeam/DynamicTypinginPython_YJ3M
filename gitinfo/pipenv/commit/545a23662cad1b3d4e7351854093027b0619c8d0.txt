commit 545a23662cad1b3d4e7351854093027b0619c8d0
Author: Aliaksei Urbanski <aliaksei@inspectorio.com>
Date:   Fri Nov 2 20:40:04 2018 +0300

    Fix _get_virtualenv_hash function
    
    Case-sensitive filesystems were handled
    like case-insensitive and vice versa.
    
    Close #3151
    
    This changes also:
    
     - Add PyCharm's config directory to .gitignore

diff --git a/.gitignore b/.gitignore
index 4809d065..766ffe3a 100644
--- a/.gitignore
+++ b/.gitignore
@@ -8,6 +8,9 @@
 .AppleDouble
 .LSOverride
 
+# PyCharm
+.idea/
+
 # VSCode
 .vscode
 
diff --git a/news/3151.bugfix b/news/3151.bugfix
new file mode 100644
index 00000000..96f14c10
--- /dev/null
+++ b/news/3151.bugfix
@@ -0,0 +1 @@
+Fix project path hashing logic in purpose to prevent collisions of virtual environments.
diff --git a/pipenv/project.py b/pipenv/project.py
index 195448d9..0b32811d 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -449,7 +449,7 @@ class Project(object):
         #   In-project venv
         #   "Proper" path casing (on non-case-sensitive filesystems).
         if (
-            fnmatch.fnmatch("A", "a")
+            not fnmatch.fnmatch("A", "a")
             or self.is_venv_in_project()
             or get_workon_home().joinpath(venv_name).exists()
         ):
