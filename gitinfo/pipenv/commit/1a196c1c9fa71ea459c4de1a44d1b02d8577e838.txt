commit 1a196c1c9fa71ea459c4de1a44d1b02d8577e838
Author: Grey Baker <greysteil@gmail.com>
Date:   Fri Apr 27 22:17:34 2018 +0100

    Allow pyenv installs in non-interactive sessions in PIPENV_YES is set

diff --git a/pipenv/core.py b/pipenv/core.py
index 8965668d..13898f22 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -461,7 +461,7 @@ def ensure_python(three=None, python=None):
         if not PYENV_INSTALLED:
             abort()
         else:
-            if (not PIPENV_DONT_USE_PYENV) and (SESSION_IS_INTERACTIVE):
+            if (not PIPENV_DONT_USE_PYENV) and (SESSION_IS_INTERACTIVE or PIPENV_YES):
                 version_map = {
                     # TODO: Keep this up to date!
                     # These versions appear incompatible with pew:
