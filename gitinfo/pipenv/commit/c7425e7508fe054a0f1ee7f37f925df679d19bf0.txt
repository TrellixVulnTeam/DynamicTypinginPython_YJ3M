commit c7425e7508fe054a0f1ee7f37f925df679d19bf0
Author: Dan Ryan <dan.ryan@canonical.com>
Date:   Sat May 9 10:55:01 2020 -0400

    Skip tests that build extensions on windows
    
    Signed-off-by: Dan Ryan <dan.ryan@canonical.com>

diff --git a/tests/integration/conftest.py b/tests/integration/conftest.py
index ef91f503..4940fb57 100644
--- a/tests/integration/conftest.py
+++ b/tests/integration/conftest.py
@@ -133,6 +133,8 @@ def pytest_runtest_setup(item):
         sys.version_info[:2] == (3, 6)
     ):
         pytest.skip('test is skipped on python 3.6')
+    if item.get_closest_marker('skip_windows') is not None and (os.name == 'nt'):
+        pytest.skip('test does not run on windows')
 
 
 @pytest.fixture
diff --git a/tests/integration/test_lock.py b/tests/integration/test_lock.py
index cf9a3d5c..633e8f93 100644
--- a/tests/integration/test_lock.py
+++ b/tests/integration/test_lock.py
@@ -386,6 +386,7 @@ fake-package = "*"
 
 @pytest.mark.lock
 @pytest.mark.install
+@pytest.mark.skip_windows
 @pytest.mark.needs_internet
 def test_outdated_setuptools_with_pep517_legacy_build_meta_is_updated(PipenvInstance):
     """
@@ -413,6 +414,7 @@ def test_outdated_setuptools_with_pep517_legacy_build_meta_is_updated(PipenvInst
 
 @pytest.mark.lock
 @pytest.mark.install
+@pytest.mark.skip_windows
 @pytest.mark.needs_internet
 def test_outdated_setuptools_with_pep517_cython_import_in_setuppy(PipenvInstance):
     """
