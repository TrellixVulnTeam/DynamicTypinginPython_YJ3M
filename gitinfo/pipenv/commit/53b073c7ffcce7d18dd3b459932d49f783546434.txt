commit 53b073c7ffcce7d18dd3b459932d49f783546434
Author: frostming <mianghong@gmail.com>
Date:   Thu Nov 8 15:20:47 2018 +0800

    python 2.7 unicode

diff --git a/pipenv/project.py b/pipenv/project.py
index 13c6619f..74fe6527 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -856,7 +856,7 @@ class Project(object):
                 formatted_data = tomlkit.dumps(data).rstrip()
             else:
                 encoder = toml.encoder.TomlPreserveInlineDictEncoder()
-                formatted_data = toml.dumps(data, encoder=encoder)
+                formatted_data = toml.dumps(data, encoder=encoder).rstrip()
         except Exception:
             document = tomlkit.document()
             for section in ("packages", "dev-packages"):
diff --git a/tests/unit/test_vendor.py b/tests/unit/test_vendor.py
index 35458c53..aea93112 100644
--- a/tests/unit/test_vendor.py
+++ b/tests/unit/test_vendor.py
@@ -82,6 +82,6 @@ def test_token_date(dt, content):
 
 
 def test_dump_nonascii_string():
-    content = 'name = "Stažené"\n'
+    content = u'name = "Stažené"\n'
     toml_content = tomlkit.dumps(tomlkit.loads(content))
     assert toml_content == content
