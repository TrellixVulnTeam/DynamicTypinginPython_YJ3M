commit 7744b6c43a92206f89fb421c02289976b2782fa3
Author: Dan Ryan <dan.ryan@canonical.com>
Date:   Mon Apr 27 15:28:55 2020 -0400

    Update piptools resolver creation
    
    Signed-off-by: Dan Ryan <dan.ryan@canonical.com>

diff --git a/pipenv/utils.py b/pipenv/utils.py
index 13fba133..eb1f6519 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -781,10 +781,12 @@ class Resolver(object):
         return self._parsed_constraints
 
     def get_resolver(self, clear=False, pre=False):
-        from pipenv.patched.piptools.resolver import Resolver
-        self._resolver = Resolver(
+        from pipenv.patched.piptools.resolver import Resolver as PiptoolsResolver
+        from pipenv.patched.piptools.cache import DependencyCache
+        self._resolver = PiptoolsResolver(
             constraints=self.parsed_constraints, repository=self.repository,
-            clear_caches=clear, prereleases=pre,
+            cache=DependencyCache(environments.PIPENV_CACHE_DIR), clear_caches=clear,
+            prereleases=pre, allow_unsafe=False
         )
 
     @property
