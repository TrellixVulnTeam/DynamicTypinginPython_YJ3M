commit bad0846246b8522e4cd3d563822b45a41c6e1d8f
Author: Frost Ming <mianghong@gmail.com>
Date:   Thu May 28 21:50:26 2020 +0800

    Don't check against root directory

diff --git a/pipenv/core.py b/pipenv/core.py
index 1938e7f5..10508044 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -568,14 +568,6 @@ def ensure_project(
         system = True
     if not project.pipfile_exists and deploy:
         raise exceptions.PipfileNotFound
-    # Fail if working under /
-    if not project.name:
-        click.echo(
-            "{0}: Pipenv is not intended to work under the root directory, "
-            "please choose another path.".format(crayons.red("ERROR")),
-            err=True
-        )
-        sys.exit(1)
     # Skip virtualenv creation when --system was used.
     if not system:
         ensure_virtualenv(
diff --git a/pipenv/project.py b/pipenv/project.py
index 40b6b263..54d51a65 100644
--- a/pipenv/project.py
+++ b/pipenv/project.py
@@ -685,8 +685,8 @@ class Project(object):
         from .vendor.pip_shims.shims import (
             ConfigOptionParser, make_option_group, index_group
         )
-
-        config_parser = ConfigOptionParser(name=self.name)
+        # Inherit the pip's index configuration of install command.
+        config_parser = ConfigOptionParser(name="install")
         config_parser.add_option_group(make_option_group(index_group, config_parser))
         install = config_parser.option_groups[0]
         indexes = (
