commit 99e65f44590d6c90d57490d3dee6272c2097cf63
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Tue Sep 12 11:40:01 2017 -0400

    fix bug in graph
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/pipenv/cli.py b/pipenv/cli.py
index dd8cb895..ff792183 100644
--- a/pipenv/cli.py
+++ b/pipenv/cli.py
@@ -1384,7 +1384,8 @@ def check(three=None, python=False):
 
 
 @click.command(help=u"Displays currentlyâ€“installed dependency graph information.")
-def graph():
+@click.option('--bare', is_flag=True, default=False, help="Minimal output.")
+def graph(bare=False):
     cmd = '"{0}" {1}'.format(
         which('python'),
         shellquote(pipdeptree.__file__.rstrip('cdo'))
@@ -1393,19 +1394,23 @@ def graph():
     # Run dep-tree.
     c = delegator.run(cmd)
 
-    for line in c.out.split('\n'):
+    if not bare:
+
+        for line in c.out.split('\n'):
 
-        # Ignore bad packages.
-        if line.split('==')[0] in BAD_PACKAGES:
-            break
+            # Ignore bad packages.
+            if line.split('==')[0] in BAD_PACKAGES:
+                continue
 
-        # Bold top-level packages.
-        if not line.startswith(' '):
-            click.echo(crayons.white(line, bold=True))
+            # Bold top-level packages.
+            if not line.startswith(' '):
+                click.echo(crayons.white(line, bold=True))
 
-        # Echo the rest.
-        else:
-            click.echo(crayons.white(line, bold=False))
+            # Echo the rest.
+            else:
+                click.echo(crayons.white(line, bold=False))
+    else:
+        click.echo(c.out)
 
     # Return its return code.
     sys.exit(c.return_code)
