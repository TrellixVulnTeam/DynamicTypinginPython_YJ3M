commit adff22b114a1cc743c705e5378a1c955aafe1761
Author: Dan Ryan <dan@danryan.co>
Date:   Mon Apr 23 16:29:32 2018 -0400

    Update safety.zip to add modules to path properly
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/__version__.py b/pipenv/__version__.py
index 4e111412..511f12fa 100644
--- a/pipenv/__version__.py
+++ b/pipenv/__version__.py
@@ -2,4 +2,4 @@
 #   //   ) ) / / //   ) ) //___) ) //   ) ) ||  / /
 #  //___/ / / / //___/ / //       //   / /  || / /
 # //       / / //       ((____   //   / /   ||/ /
-__version__ = '11.10.1.dev1'
+__version__ = '11.10.1.dev2'
diff --git a/pipenv/patched/safety.zip b/pipenv/patched/safety.zip
index 446badfc..b839971a 100644
Binary files a/pipenv/patched/safety.zip and b/pipenv/patched/safety.zip differ
diff --git a/tasks/vendoring/__init__.py b/tasks/vendoring/__init__.py
index c7957112..33b3123f 100644
--- a/tasks/vendoring/__init__.py
+++ b/tasks/vendoring/__init__.py
@@ -180,6 +180,10 @@ def update_safety(ctx):
     yaml_build_dir = build_dir / 'pyyaml'
     main_file = safety_dir / '__main__.py'
     main_content = """
+import sys
+yaml_lib = 'yaml{0}'.format(sys.version_info[0])
+locals()[yaml_lib] = __import__(yaml_lib)
+sys.modules['yaml'] = sys.modules[yaml_lib]
 from safety.cli import cli
 
 # Disable insecure warnings.
@@ -199,22 +203,22 @@ cli(prog_name="safety")
         if yaml_dir.exists():
             version_choices = ['2', '3']
             version_choices.remove(str(sys.version_info[0]))
-            mkdir_p(str(yaml_dir / 'yaml{0}'.format(sys.version_info[0])))
+            mkdir_p(str(safety_dir / 'yaml{0}'.format(sys.version_info[0])))
             for fn in yaml_dir.glob('*.py'):
-                fn.rename(str(fn.parent.joinpath('yaml{0}'.format(sys.version_info[0]), fn.name)))
+                fn.rename(str(safety_dir.joinpath('yaml{0}'.format(sys.version_info[0]), fn.name)))
             if version_choices[0] == '2':
                 lib = yaml_build_dir / 'lib' / 'yaml'
             else:
                 lib = yaml_build_dir / 'lib3' / 'yaml'
-            shutil.copytree(str(lib.absolute()), str(yaml_dir / 'yaml{0}'.format(version_choices[0])))
-            yaml_init = yaml_dir / '__init__.py'
-            yaml_init.write_text("""
-import sys
-if sys.version_info[0] == 3:
-    from .yaml3 import *
-else:
-    from .yaml2 import *
-            """.strip())
+            shutil.copytree(str(lib.absolute()), str(safety_dir / 'yaml{0}'.format(version_choices[0])))
+#             yaml_init = yaml_dir / '__init__.py'
+#             yaml_init.write_text("""
+# import sys
+# if sys.version_info[0] == 3:
+#     from .yaml3 import *
+# else:
+#     from .yaml2 import *
+#             """.strip())
         requests_dir = safety_dir / 'requests'
         cacert = vendor_dir / 'requests' / 'cacert.pem'
         if not cacert.exists():
