commit c926ba5751b844998c1adc890621aad60c988731
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri Jan 20 15:33:40 2017 -0500

    fix bugs

diff --git a/Pipfile b/Pipfile
index e74c1855..dd0a5515 100644
--- a/Pipfile
+++ b/Pipfile
@@ -1 +1,8 @@
+[[source]]
+url = "https://pypi.org/"
+verify_ssl = true
+
 [packages]
+requests = "*"
+toml = "*"
+crayons = "*"
\ No newline at end of file
diff --git a/Pipfile.freeze b/Pipfile.freeze
index c8831c35..16c84742 100644
--- a/Pipfile.freeze
+++ b/Pipfile.freeze
@@ -1 +1 @@
-{"_meta": {"sources": [{"url": "https://pypi.org/", "verify_ssl": true}], "requires": {}, "Pipfile-sha256": "3a7b1ced0c922aefbfc107113f464cf98ae12667eec21d03f252d3f67c15d7be"}, "default": {}, "develop": {}}
\ No newline at end of file
+{"_meta": {"sources": [{"url": "https://pypi.org/", "verify_ssl": true}], "requires": {}, "Pipfile-sha256": "ce08ae933be214b81b35fbe5eddbebc0d4a5b281608c1acaa272a4b9de7a4fc1"}, "default": {}, "develop": {}}
\ No newline at end of file
diff --git a/Pipfile2 b/Pipfile2
deleted file mode 100644
index 22b994ff..00000000
--- a/Pipfile2
+++ /dev/null
@@ -1,18 +0,0 @@
-[[source]]
-url = "https://pypi.org/"
-verify_ssl = true
-
-[packages]
-crayons = "*"
-click = "*"
-"delegator.py" = "*"
-
-[develop]
-requests = "*"
-"requests==2.12.5" = "*"
-
-[develop."Django>1.10"]
-Django = ""
-
-[develop.Django]
-Django = "*"
diff --git a/pipenv.py b/pipenv.py
index 2a5a2b79..8b490bfe 100644
--- a/pipenv.py
+++ b/pipenv.py
@@ -36,9 +36,9 @@ class Project(object):
         return os.path.isfile(self.lockfile_location())
 
     def create_pipfile(self):
-        data = """[packages]\n"""
+        data = {u'source': [{u'url': u'https://pypi.org/', u'verify_ssl': True}], u'packages': {}}
         with open('Pipfile', 'w') as f:
-            f.write(data)
+            f.write(toml.dumps(data))
 
     @staticmethod
     def remove_package_from_pipfile(package_name, dev=False):
@@ -72,11 +72,10 @@ class Project(object):
                 p[key] = {}
 
             package = convert_deps_from_pip(package_name)
+            package_name = package.keys()[0]
 
             # Add the package to the group.
-            if package_name not in p[key]:
-                # TODO: Support >1.0.1
-                p[key][package_name] = package
+            p[key][package_name] = package[package_name]
 
         # Write Pipfile.
         data = format_toml(toml.dumps(p))
@@ -362,9 +361,6 @@ def purge():
 
 
 
-
-
-
 # Install click commands.
 cli.add_command(init)
 cli.add_command(where)
