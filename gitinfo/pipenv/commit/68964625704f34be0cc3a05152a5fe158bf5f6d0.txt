commit 68964625704f34be0cc3a05152a5fe158bf5f6d0
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Wed Mar 14 18:58:51 2018 -0400

    fix #1745

diff --git a/pipenv/patched/notpip/index.py b/pipenv/patched/notpip/index.py
index fdf2cd52..f8f313e4 100644
--- a/pipenv/patched/notpip/index.py
+++ b/pipenv/patched/notpip/index.py
@@ -488,7 +488,7 @@ class PackageFinder(object):
             dependency_versions
         )
 
-    def find_requirement(self, req, upgrade, ignore_compatibility=True):
+    def find_requirement(self, req, upgrade, ignore_compatibility=False):
         """Try to find a Link matching req
 
         Expects req, an InstallRequirement and upgrade, a boolean
diff --git a/pipenv/patched/piptools/repositories/pypi.py b/pipenv/patched/piptools/repositories/pypi.py
index 72713ae0..4564aab9 100755
--- a/pipenv/patched/piptools/repositories/pypi.py
+++ b/pipenv/patched/piptools/repositories/pypi.py
@@ -40,7 +40,7 @@ class PyPIRepository(BaseRepository):
     config), but any other PyPI mirror can be used if index_urls is
     changed/configured on the Finder.
     """
-    def __init__(self, pip_options, session, use_json=True):
+    def __init__(self, pip_options, session, use_json=False):
         self.session = session
         self.use_json = use_json
 
@@ -218,6 +218,7 @@ class PyPIRepository(BaseRepository):
                                     ignore_installed=True,
                                     ignore_compatibility=False
                                     )
+
             result = reqset._prepare_file(self.finder, ireq, ignore_requires_python=True)
 
             # Convert setup_requires dict into a somewhat usable form.
