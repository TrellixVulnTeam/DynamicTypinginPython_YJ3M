commit 061f430148041d15a05272e946dde3ba77fa9c09
Author: Dan Ryan <dan.ryan@canonical.com>
Date:   Tue Apr 28 21:59:55 2020 -0400

    Update CI exclusion rules
    
    - Fix build rules for deployment environment
    
    Signed-off-by: Dan Ryan <dan.ryan@canonical.com>

diff --git a/.github/workflows/ci.yaml b/.github/workflows/ci.yaml
index 09be266d..3d8b0b62 100644
--- a/.github/workflows/ci.yaml
+++ b/.github/workflows/ci.yaml
@@ -2,9 +2,35 @@ name: CI
 
 on:
   push:
+    paths-ignore:
+    - 'docs/**'
+    - 'news/**'
+    - 'examples/**'
+    - 'peeps/**'
+    - '*.ini'
+    - '*.md'
+    - '**/*.txt'
+    - '*.rst'
+    - '.gitignore'
+    - '.gitmodules'
+    - '.gitattributes'
+    - '.editorconfig'
     branches:
     - master
   pull_request:
+    paths-ignore:
+    - 'docs/**'
+    - 'news/**'
+    - 'examples/**'
+    - 'peeps/**'
+    - '*.ini'
+    - '*.md'
+    - '**/*.txt'
+    - '*.rst'
+    - '.gitignore'
+    - '.gitmodules'
+    - '.gitattributes'
+    - '.editorconfig'
 
 jobs:
   build:
diff --git a/.github/workflows/pypi_upload.yml b/.github/workflows/pypi_upload.yml
index 0244f26d..8ba4421a 100644
--- a/.github/workflows/pypi_upload.yml
+++ b/.github/workflows/pypi_upload.yml
@@ -43,7 +43,7 @@ jobs:
         python -m pip install .
         python -m pipenv install --dev
       env:
-        PIPENV_PYTHON: "3.7"
+        PIPENV_DEFAULT_PYTHON_VERSION: "3.7"
 
     - name: Build wheels
       run: |
diff --git a/azure-pipelines.yml b/azure-pipelines.yml
index 021b4200..7b2e1859 100644
--- a/azure-pipelines.yml
+++ b/azure-pipelines.yml
@@ -6,19 +6,48 @@ trigger:
     - master
   paths:
     exclude:
-    - docs/*
-    - news/*
-    - peeps/*
-    - examples/*
-    - pytest.ini
-    - README.md
-    - pipenv/*.txt
-    - CHANGELOG.rst
-    - CONTRIBUTING.md
-    - CODE_OF_CONDUCT.md
-    - .gitignore
-    - .gitattributes
-    - .editorconfig
+    - 'docs/*'
+    - 'news/*'
+    - 'peeps/*'
+    - 'examples/*'
+    - 'pytest.ini'
+    - 'README.md'
+    - 'pipenv/patched/patched.txt'
+    - 'pipenv/vendor/vendor_pip.txt'
+    - '*/LICENSE.txt'
+    - '*/LICENSE'
+    - '*.LICENSE'
+    - '*/vendor.txt'
+    - 'CHANGELOG.rst'
+    - 'CONTRIBUTING.md'
+    - 'CODE_OF_CONDUCT.md'
+    - '*.md'
+    - '.gitignore'
+    - '.gitattributes'
+    - '.editorconfig'
+
+pr:
+  paths:
+    exclude:
+    - 'docs/*'
+    - 'news/*'
+    - 'peeps/*'
+    - 'examples/*'
+    - 'pytest.ini'
+    - 'README.md'
+    - 'pipenv/patched/patched.txt'
+    - 'pipenv/vendor/vendor_pip.txt'
+    - '*/LICENSE.txt'
+    - '*/LICENSE'
+    - '*.LICENSE'
+    - '*/vendor.txt'
+    - 'CHANGELOG.rst'
+    - 'CONTRIBUTING.md'
+    - 'CODE_OF_CONDUCT.md'
+    - '*.md'
+    - '.gitignore'
+    - '.gitattributes'
+    - '.editorconfig'
 
 variables:
 - group: CI
