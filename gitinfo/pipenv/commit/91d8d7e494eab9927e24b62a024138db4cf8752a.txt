commit 91d8d7e494eab9927e24b62a024138db4cf8752a
Author: Dan Ryan <dan@danryan.co>
Date:   Thu Oct 11 06:28:10 2018 -0400

    Fix install state passing
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/pipenv/cli/command.py b/pipenv/cli/command.py
index b552778f..3525ef98 100644
--- a/pipenv/cli/command.py
+++ b/pipenv/cli/command.py
@@ -308,7 +308,7 @@ def lock(
     ensure_project(three=state.three, python=state.python, pypi_mirror=state.pypi_mirror)
     if state.installstate.requirementstxt:
         do_init(dev=state.installstate.dev, requirements=state.installstate.requirementstxt,
-                        pypi_mirror=state.pypi_mirror)
+                        pypi_mirror=state.pypi_mirror, state.installstate.pre)
     do_lock(
         clear=state.clear,
         pre=state.installstate.pre,
diff --git a/pipenv/core.py b/pipenv/core.py
index 17640934..eb42c5e7 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -1346,7 +1346,7 @@ def pip_install(
         except SourceNotFound:
             src_name = project.src_name_from_url(index)
             index_url = parse_url(index)
-            verify_ssl = True if index_url.host not in trusted_hosts else False
+            verify_ssl = index_url.host not in trusted_hosts
             index_source = {"url": index, "verify_ssl": verify_ssl, "name": src_name}
         sources = [index_source.copy(),]
         if extra_indexes:
@@ -1358,7 +1358,7 @@ def pip_install(
                 except SourceNotFound:
                     src_name = project.src_name_from_url(idx)
                     src_url = parse_url(idx)
-                    verify_ssl = True if src_url.host not in trusted_hosts else False
+                    verify_ssl = src_url.host not in trusted_hosts
                     extra_src = {"url": idx, "verify_ssl": verify_ssl, "name": extra_src}
                 if extra_src["url"] != index_source["url"]:
                     sources.append(extra_src)
