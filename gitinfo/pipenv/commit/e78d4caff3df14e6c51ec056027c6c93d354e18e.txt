commit e78d4caff3df14e6c51ec056027c6c93d354e18e
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sat Sep 30 08:27:39 2017 -0400

    improve the test
    
    Signed-off-by: Kenneth Reitz <me@kennethreitz.org>

diff --git a/tests/test_pipenv.py b/tests/test_pipenv.py
index 0f3c2d91..5b36fc42 100644
--- a/tests/test_pipenv.py
+++ b/tests/test_pipenv.py
@@ -595,11 +595,18 @@ requests = "==2.14.0"
     @pytest.mark.install
     @pytest.mark.files
     @pytest.mark.urls
-    @pytest.mark.skip(reason='Test isn\'t complete')
     def test_urls_work(self):
 
         with PipenvInstance() as p:
 
             c = p.pipenv('install https://github.com/divio/django-cms/archive/release/3.4.x.zip')
-            # TODO: Improve this.
-            assert c.return_code == 1
+            key = [k for k in p.pipfile['packages'].keys()][0]
+            dep = p.pipfile['packages'][key]
+
+            assert 'file' in dep
+            assert c.return_code == 0
+
+            key = [k for k in p.lockfile['default'].keys()][0]
+            dep = p.lockfile['default'][key]
+
+            assert 'file' in dep
