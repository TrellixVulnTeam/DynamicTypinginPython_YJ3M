commit 05651cb95ed5cefb7cdf6a220c3ee21d77b3c503
Author: Dan Ryan <dan@danryan.co>
Date:   Sat May 18 23:29:53 2019 -0400

    Add black config and remove unused azure yaml
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/.azure-pipelines/steps/create-virtualenv-windows.yml b/.azure-pipelines/steps/create-virtualenv-windows.yml
index 35338205..b992e210 100644
--- a/.azure-pipelines/steps/create-virtualenv-windows.yml
+++ b/.azure-pipelines/steps/create-virtualenv-windows.yml
@@ -24,39 +24,3 @@ steps:
     PYTHONWARNINGS: 'ignore:DEPRECATION'
     PIPENV_NOSPIN: '1'
   displayName: Make Virtualenv
-
-# steps:
-
-# - powershell: |
-#     $env:PY_EXE=$(python -c "import sys; print(sys.executable)")
-#     if (!$env:PY_EXE) {
-#         $env:PY_EXE="python"
-#     }
-#     Write-Host "##vso[task.setvariable variable=PY_EXE]$env:PY_EXE"
-#     Write-Host "Found Python: $env:PY_EXE"
-#     Invoke-Expression "& '$env:PY_EXE' -m virtualenv D:\.venv"
-#     Write-Host "##vso[task.setvariable variable=VIRTUAL_ENV]D:\.venv"
-#     Invoke-Expression "& 'D:\.venv\Scripts\activate.ps1'"
-#     $env:VIRTUAL_ENV="D:\.venv"
-#     Write-Host "Installing local package..."
-#     Invoke-Expression "& '$env:PY_EXE' -m pip install -e .[tests] requests --upgrade"
-#     Write-Host "upgrading local package in virtual env"
-#     $venv_scripts = Join-Path -path D:\.venv -childpath Scripts
-#     $venv_py = Join-Path -path $venv_scripts -childpath python.exe
-#     Write-Host "##vso[task.setvariable variable=VIRTUAL_ENV_PY]$venv_py"
-#     Invoke-Expression "& '$venv_py' -m pip install -e .[tests] requests --upgrade" 2>&1
-#     Write-Host "Installing pipenv development packages"
-#     Invoke-Expression "& '$venv_py' -m pipenv install --dev" 2>&1
-#     # Write-Host "Installing local package in pipenv environment"
-#     # Invoke-Expression "& '$venv_py' -m pipenv run pip install -e .[tests] requests" 2>&1
-#     # Write-Host "Printing metadata"
-#     # Write-Host $(Invoke-Expression "& '$venv_py' -m pipenv --venv" 2>&1)
-#     # Write-Host $(Invoke-Expression "& '$venv_py' -m pipenv --py" 2>&1)
-#     # Write-Host $(Invoke-Expression "& '$venv_py' -m pipenv run python --version" 2>&1)
-#   displayName: Make Virtualenv
-#   failOnStderr: false
-#   env:
-#     PIPENV_DEFAULT_PYTHON_VERSION: $(PIPENV_DEFAULT_PYTHON_VERSION)
-#     PYTHONWARNINGS: 'ignore:DEPRECATION'
-#     PIPENV_VERBOSITY: '-1'
-#     PIPENV_NOSPIN: '1'
diff --git a/.azure-pipelines/steps/run-tests-windows.yml b/.azure-pipelines/steps/run-tests-windows.yml
index 7778f7c5..db782c01 100644
--- a/.azure-pipelines/steps/run-tests-windows.yml
+++ b/.azure-pipelines/steps/run-tests-windows.yml
@@ -13,27 +13,3 @@ steps:
     PIPENV_DEFAULT_PYTHON_VERSION: $(PIPENV_DEFAULT_PYTHON_VERSION)
     PYTHONWARNINGS: 'ignore:DEPRECATION'
     PIPENV_NOSPIN: '1'
-
-# - powershell: |
-#     # Fix Git SSL errors
-#     Invoke-Expression "& '$env:VIRTUAL_ENV_PY' -m pip install certifi"
-#     Invoke-Expression "& '$env:VIRTUAL_ENV_PY' -m certifi > cacert.txt"
-#     Write-Host "##vso[task.setvariable variable=GIT_SSL_CAINFO]$(Get-Content cacert.txt)"
-#     $env:GIT_SSL_CAINFO="$(Get-Content cacert.txt)"
-#     # Shorten paths to get under MAX_PATH or else integration tests will fail
-#     # https://bugs.python.org/issue18199
-#     subst T: "$env:TEMP"
-#     Write-Host "##vso[task.setvariable variable=TEMP]T:\"
-#     $env:TEMP='T:\'
-#     Write-Host "##vso[task.setvariable variable=TMP]T:\"
-#     $env:TMP='T:\'
-#     Invoke-Expression "git submodule sync -q" 2>&1
-#     Invoke-Expression "git submodule update --init --recursive -q" 2>&1
-#     Invoke-Expression "& '$env:VIRTUAL_ENV_PY' -m pipenv run pytest -ra --ignore=pipenv\patched --ignore=pipenv\vendor --junitxml=test-results.xml tests"
-#   displayName: Run integration tests
-#   failOnStderr: false
-#   env:
-#     VIRTUAL_ENV: $(VIRTUAL_ENV)
-#     VIRTUAL_ENV_PY: $(VIRTUAL_ENV_PY)
-#     PYTHONWARNINGS: 'ignore:DEPRECATION'
-#     PIPENV_VERBOSITY: '-1'
diff --git a/pyproject.toml b/pyproject.toml
index a799764c..9929dac7 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,6 +1,32 @@
 [build-system]
 requires = ["setuptools", "wheel"]
 
+[tool.black]
+line-length = 90
+include = '\.pyi?$'
+exclude = '''
+/(
+    \.eggs
+  | \.git
+  | \.github
+  | \.hg
+  | \.mypy_cache
+  | \.tox
+  | \.pyre_configuration
+  | \.venv
+  | _build
+  | buck-out
+  | build
+  | dist
+  | pipenv/vendor
+  | pipenv/patched
+  | tests/pypi
+  | tests/pytest-pypi
+  | tests/test_artifacts
+  | get-pipenv.py
+)
+'''
+
 [tool.towncrier]
 package = "pipenv"
 filename = "CHANGELOG.rst"
