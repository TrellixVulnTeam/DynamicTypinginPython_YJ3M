commit 2dce8355e6ae3df727a35ddf95198de1bcb0a2b1
Author: frostming <frostming@tencent.com>
Date:   Mon May 20 14:28:02 2019 +0800

    let's see what's happening

diff --git a/pipenv/core.py b/pipenv/core.py
index 3e62b19c..f90c60d1 100644
--- a/pipenv/core.py
+++ b/pipenv/core.py
@@ -243,12 +243,15 @@ def import_from_code(path="."):
     rs = []
     try:
         for r in pipreqs.get_all_imports(path, encoding="utf-8"):
+            click.echo(r)
             if r not in BAD_PACKAGES:
                 rs.append(r)
         pkg_names = pipreqs.get_pkg_names(rs)
         return [proper_case(r) for r in pkg_names]
 
     except Exception:
+        import traceback
+        traceback.print_exc()
         return []
 
 
diff --git a/pipenv/vendor/pipreqs/pipreqs.py b/pipenv/vendor/pipreqs/pipreqs.py
index 791168a9..c0466adf 100644
--- a/pipenv/vendor/pipreqs/pipreqs.py
+++ b/pipenv/vendor/pipreqs/pipreqs.py
@@ -68,7 +68,7 @@ def get_all_imports(path, encoding=None, extra_ignore_dirs=None):
 
         candidates.append(os.path.basename(root))
         files = [fn for fn in files if os.path.splitext(fn)[1] == ".py"]
-
+        print(root, files)
         candidates += [os.path.splitext(fn)[0] for fn in files]
         for file_name in files:
             with open_func(os.path.join(root, file_name), "r", encoding=encoding) as f:
