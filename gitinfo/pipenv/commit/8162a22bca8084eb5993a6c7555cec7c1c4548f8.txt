commit 8162a22bca8084eb5993a6c7555cec7c1c4548f8
Author: frostming <frostming@tencent.com>
Date:   Thu Apr 30 09:49:13 2020 +0800

    add a test case

diff --git a/tests/integration/test_install_basic.py b/tests/integration/test_install_basic.py
index 9d3247fe..b398561c 100644
--- a/tests/integration/test_install_basic.py
+++ b/tests/integration/test_install_basic.py
@@ -280,14 +280,13 @@ def test_bad_packages(PipenvInstance):
 @pytest.mark.extras
 @pytest.mark.install
 @pytest.mark.requirements
-@pytest.mark.skip(reason="Not mocking this.")
-def test_requirements_to_pipfile(PipenvInstance):
+def test_requirements_to_pipfile(PipenvInstance, pypi):
 
     with PipenvInstance(pipfile=False, chdir=True) as p:
 
         # Write a requirements file
         with open("requirements.txt", "w") as f:
-            f.write("requests[socks]==2.18.1\n")
+            f.write("-i {}\nrequests[socks]==2.18.1\n".format(pypi.url))
 
         c = p.pipenv("install")
         assert c.return_code == 0
