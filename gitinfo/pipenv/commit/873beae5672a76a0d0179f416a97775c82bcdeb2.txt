commit 873beae5672a76a0d0179f416a97775c82bcdeb2
Author: Gordon P. Hemsley <me@gphemsley.org>
Date:   Fri May 29 00:01:12 2020 -0400

    #4278: Don't pin wildcard versions in lockfile
    
    Fixes bug introduced by 552d1274eacbd04c61f46f639bd967d294f25e6a,
    which activated the (unused) changes made much earlier in
    a08a2da52488fa31b1e74b22211f383566fef16b.

diff --git a/news/4278.bugfix.rst b/news/4278.bugfix.rst
new file mode 100644
index 00000000..21396490
--- /dev/null
+++ b/news/4278.bugfix.rst
@@ -0,0 +1 @@
+Fix a bug that caused non-specific versions to be pinned in ``Pipfile.lock``.
diff --git a/pipenv/utils.py b/pipenv/utils.py
index d008e761..ce1354cd 100644
--- a/pipenv/utils.py
+++ b/pipenv/utils.py
@@ -1191,7 +1191,7 @@ def get_locked_dep(dep, pipfile_section, prefer_pipfile=True):
     lockfile_name, lockfile_dict = lockfile_entry.copy().popitem()
     lockfile_version = lockfile_dict.get("version", "")
     # Keep pins from the lockfile
-    if prefer_pipfile and lockfile_version != version and version.startswith("=="):
+    if prefer_pipfile and lockfile_version != version and version.startswith("==") and "*" not in version:
         lockfile_dict["version"] = version
     lockfile_entry[lockfile_name] = lockfile_dict
     return lockfile_entry
diff --git a/tests/integration/test_lock.py b/tests/integration/test_lock.py
index 672fbedf..48232e60 100644
--- a/tests/integration/test_lock.py
+++ b/tests/integration/test_lock.py
@@ -748,3 +748,16 @@ def test_lock_nested_vcs_direct_url(PipenvInstance):
         assert "git" in p.lockfile["default"]["sibling-package"]
         assert "subdirectory" in p.lockfile["default"]["sibling-package"]
         assert "version" not in p.lockfile["default"]["sibling-package"]
+
+
+@pytest.mark.lock
+@pytest.mark.install
+def test_lock_package_with_wildcard_version(PipenvInstance):
+    with PipenvInstance(chdir=True) as p:
+        c = p.pipenv("install 'six==1.11.*'")
+        assert c.ok
+        assert "six" in p.pipfile["packages"]
+        assert p.pipfile["packages"]["six"] == "==1.11.*"
+        assert "six" in p.lockfile["default"]
+        assert "version" in p.lockfile["default"]["six"]
+        assert p.lockfile["default"]["six"]["version"] == "==1.11.0"
