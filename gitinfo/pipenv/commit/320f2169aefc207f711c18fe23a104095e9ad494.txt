commit 320f2169aefc207f711c18fe23a104095e9ad494
Author: Dan Ryan <dan@danryan.co>
Date:   Sun Sep 2 18:49:57 2018 -0400

    Vendor passa as zip for running in venvs
    
    Signed-off-by: Dan Ryan <dan@danryan.co>

diff --git a/tasks/__init__.py b/tasks/__init__.py
index 581f5076..a20a64b2 100644
--- a/tasks/__init__.py
+++ b/tasks/__init__.py
@@ -4,5 +4,6 @@
 import invoke
 
 from . import vendoring, release
+from .vendoring import vendor_passa
 
-ns = invoke.Collection(vendoring, release)
+ns = invoke.Collection(vendoring, release, vendor_passa.vendor_passa)
diff --git a/tasks/vendoring/__init__.py b/tasks/vendoring/__init__.py
index 9e36723b..c9ef3b32 100644
--- a/tasks/vendoring/__init__.py
+++ b/tasks/vendoring/__init__.py
@@ -306,7 +306,6 @@ def _ensure_package_in_requirements(ctx, requirements_file, package):
     return requirement
 
 
-
 def install(ctx, vendor_dir, package=None):
     requirements_file = vendor_dir / "{0}.txt".format(vendor_dir.name)
     requirement = "-r {0}".format(requirements_file.as_posix())
diff --git a/tasks/vendoring/vendor_passa.py b/tasks/vendoring/vendor_passa.py
new file mode 100644
index 00000000..ad179a10
--- /dev/null
+++ b/tasks/vendoring/vendor_passa.py
@@ -0,0 +1,20 @@
+from pipenv._compat import TemporaryDirectory
+import invoke
+
+
+from . import _get_git_root, _get_vendor_dir, log
+
+
+@invoke.task
+def vendor_passa(ctx):
+    with TemporaryDirectory(prefix='passa') as passa_dir:
+        vendor_dir = _get_vendor_dir(ctx).absolute().as_posix()
+        ctx.run("git clone https://github.com/sarugaku/passa.git {0}".format(passa_dir.name))
+        with ctx.cd("{0}".format(passa_dir.name)):
+            # ctx.run("git checkout 0.3.0")
+            ctx.run("pip install plette[validation] requirementslib distlib pip-shims -q --exists-action=i")
+            log("Packing Passa")
+            ctx.run("invoke pack")
+            log("Moving pack to vendor dir!")
+            ctx.run("mv pack/passa.zip {0}".format(vendor_dir))
+    log("Successfully vendored passa!")
