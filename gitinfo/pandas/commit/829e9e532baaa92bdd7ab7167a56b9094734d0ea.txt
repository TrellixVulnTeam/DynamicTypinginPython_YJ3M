commit 829e9e532baaa92bdd7ab7167a56b9094734d0ea
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Thu Oct 20 14:40:42 2011 -0400

    BUG: sql int column with null should result in f8 dtype

diff --git a/pandas/io/tests/test_parsers.py b/pandas/io/tests/test_parsers.py
index fb0cf3530..2da9ebaee 100644
--- a/pandas/io/tests/test_parsers.py
+++ b/pandas/io/tests/test_parsers.py
@@ -241,6 +241,11 @@ class TestParseSQL(unittest.TestCase):
         assert_same_values_and_dtype(result, expected)
         assert_same_values_and_dtype(result2, expected)
 
+        arr = np.array([1, 2, 3, None, 4], dtype='O')
+        result = lib.convert_sql_column(arr)
+        expected = np.array([1, 2, 3, np.nan, 4], dtype='f8')
+        assert_same_values_and_dtype(result, expected)
+
     def test_convert_sql_column_bools(self):
         arr = np.array([True, False, True, False], dtype='O')
         result = lib.convert_sql_column(arr)
diff --git a/pandas/src/parsing.pyx b/pandas/src/parsing.pyx
index cd8ee0b56..044c0ac05 100644
--- a/pandas/src/parsing.pyx
+++ b/pandas/src/parsing.pyx
@@ -135,6 +135,7 @@ def convert_sql_column(ndarray[object] objects):
             floats[i] = val
             seen_float = 1
         elif not (cpython.PyString_Check(val) or cpython.PyUnicode_Check(val)):
+            # this will convert Decimal objects
             try:
                 floats[i] = float(val)
                 seen_float = 1
@@ -142,7 +143,7 @@ def convert_sql_column(ndarray[object] objects):
                 pass
 
     if seen_null:
-        if seen_float:
+        if seen_float or seen_int:
             return floats
         else:
             return objects
