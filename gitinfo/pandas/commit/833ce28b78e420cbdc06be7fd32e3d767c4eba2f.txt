commit 833ce28b78e420cbdc06be7fd32e3d767c4eba2f
Author: Daniel Saxton <2658661+dsaxton@users.noreply.github.com>
Date:   Sat May 23 02:45:49 2020 -0500

    CLN: Use to_numpy directly in cov / corr (#34031)

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 73993b2ac..6532d084a 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -7980,7 +7980,7 @@ NaN 12.3   33.0
         numeric_df = self._get_numeric_data()
         cols = numeric_df.columns
         idx = cols.copy()
-        mat = numeric_df.astype(float, copy=False).to_numpy()
+        mat = numeric_df.to_numpy(dtype=float, na_value=np.nan, copy=False)
 
         if method == "pearson":
             correl = libalgos.nancorr(mat, minp=min_periods)
@@ -8115,7 +8115,7 @@ NaN 12.3   33.0
         numeric_df = self._get_numeric_data()
         cols = numeric_df.columns
         idx = cols.copy()
-        mat = numeric_df.astype(float, copy=False).to_numpy()
+        mat = numeric_df.to_numpy(dtype=float, na_value=np.nan, copy=False)
 
         if notna(mat).all():
             if min_periods is not None and min_periods > len(mat):
