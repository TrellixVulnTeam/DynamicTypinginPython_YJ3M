commit 2e3f4ec27efcec32e83f34f3e65a38f9fa61b994
Author: Marc Garcia <garcia.marc@gmail.com>
Date:   Tue Jun 12 08:57:03 2018 +0100

    DOC: Loading sphinxcontrib.spelling to sphinx only if it's available (#21397)

diff --git a/ci/environment-dev.yaml b/ci/environment-dev.yaml
index f9f920851..5733857b5 100644
--- a/ci/environment-dev.yaml
+++ b/ci/environment-dev.yaml
@@ -13,3 +13,4 @@ dependencies:
   - pytz
   - setuptools>=24.2.0
   - sphinx
+  - sphinxcontrib-spelling
diff --git a/ci/requirements_dev.txt b/ci/requirements_dev.txt
index 3430e778a..83ee30b52 100644
--- a/ci/requirements_dev.txt
+++ b/ci/requirements_dev.txt
@@ -9,3 +9,4 @@ python-dateutil>=2.5.0
 pytz
 setuptools>=24.2.0
 sphinx
+sphinxcontrib-spelling
\ No newline at end of file
diff --git a/doc/source/conf.py b/doc/source/conf.py
index 97081bec8..909bd5a80 100644
--- a/doc/source/conf.py
+++ b/doc/source/conf.py
@@ -16,9 +16,11 @@ import os
 import re
 import inspect
 import importlib
-from sphinx.ext.autosummary import _import_by_name
+import logging
 import warnings
+from sphinx.ext.autosummary import _import_by_name
 
+logger = logging.getLogger(__name__)
 
 try:
     raw_input          # Python 2
@@ -73,9 +75,16 @@ extensions = ['sphinx.ext.autodoc',
               'sphinx.ext.ifconfig',
               'sphinx.ext.linkcode',
               'nbsphinx',
-              'sphinxcontrib.spelling'
               ]
 
+try:
+    import sphinxcontrib.spelling
+except ImportError as err:
+    logger.warn(('sphinxcontrib.spelling failed to import with error "{}". '
+                '`spellcheck` command is not available.'.format(err)))
+else:
+    extensions.append('sphinxcontrib.spelling')
+
 exclude_patterns = ['**.ipynb_checkpoints']
 
 spelling_word_list_filename = ['spelling_wordlist.txt', 'names_wordlist.txt']
