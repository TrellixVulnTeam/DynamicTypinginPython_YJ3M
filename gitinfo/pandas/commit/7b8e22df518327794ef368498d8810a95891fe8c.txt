commit 7b8e22df518327794ef368498d8810a95891fe8c
Author: Mateusz <mateuszg18@gmail.com>
Date:   Tue Oct 22 14:40:25 2019 +0200

    TST: Add regression test for Series dropping uint datatype (#18311) (#29071)

diff --git a/pandas/tests/series/indexing/test_indexing.py b/pandas/tests/series/indexing/test_indexing.py
index f50b3ddbc..19d3e76f5 100644
--- a/pandas/tests/series/indexing/test_indexing.py
+++ b/pandas/tests/series/indexing/test_indexing.py
@@ -907,3 +907,12 @@ def test_head_tail(test_data):
     assert_series_equal(test_data.series.head(0), test_data.series[0:0])
     assert_series_equal(test_data.series.tail(), test_data.series[-5:])
     assert_series_equal(test_data.series.tail(0), test_data.series[0:0])
+
+
+def test_uint_drop(any_int_dtype):
+    # see GH18311
+    # assigning series.loc[0] = 4 changed series.dtype to int
+    series = pd.Series([1, 2, 3], dtype=any_int_dtype)
+    series.loc[0] = 4
+    expected = pd.Series([4, 2, 3], dtype=any_int_dtype)
+    tm.assert_series_equal(series, expected)
