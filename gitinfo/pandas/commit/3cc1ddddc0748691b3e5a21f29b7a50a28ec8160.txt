commit 3cc1ddddc0748691b3e5a21f29b7a50a28ec8160
Author: y-p <yoval@gmx.com>
Date:   Wed Jan 29 18:56:18 2014 +0200

    BLD: try harder to find errno in @network

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 3421f38ef..49361501c 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -1097,7 +1097,9 @@ def network(t, url="http://www.google.com",
         try:
             return t(*args, **kwargs)
         except Exception as e:
-            errno = getattr(e,'errno',None)
+            errno = getattr(e, 'errno', None)
+            if not errno and hasattr(errno, "reason"):
+                errno = getattr(e.reason, 'errno', None)
 
             if not isinstance(e, error_classes):
                 raise
