commit 747e55164bf5d5b16d3900758b16e47d96304334
Author: Adam Klein <adamklein@gmail.com>
Date:   Thu Feb 23 12:00:29 2012 -0500

    BUG: dtype sometimes not converted to bool, closes issue #820

diff --git a/pandas/src/inference.pyx b/pandas/src/inference.pyx
index 281ad0eee..37b9d2138 100644
--- a/pandas/src/inference.pyx
+++ b/pandas/src/inference.pyx
@@ -399,9 +399,9 @@ def maybe_convert_bool(ndarray[object] arr):
     for i from 0 <= i < n:
         val = arr[i]
 
-        if val == 'True':
+        if val == 'True' or type(val) == bool and val:
             result[i] = 1
-        elif val == 'False':
+        elif val == 'False' or type(val) == bool and not val:
             result[i] = 0
         else:
             return arr
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 5fd54466d..3e7d12d63 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -2201,6 +2201,17 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         test_comp(operator.ge)
         test_comp(operator.le)
 
+    def test_string_comparison(self):
+        df = DataFrame([{ "a" : 1, "b" : "foo" }, {"a" : 2, "b" : "bar"}])
+        mask_a = df.a > 1
+        assert_frame_equal(df[mask_a], df.ix[1:1,:])
+        assert_frame_equal(df[-mask_a], df.ix[0:0,:])
+
+        import ipdb; ipdb.set_trace()
+        mask_b = df.b == "foo"
+        assert_frame_equal(df[mask_b], df.ix[0:0,:])
+        assert_frame_equal(df[-mask_b], df.ix[1:1,:])
+
     def test_to_csv_from_csv(self):
         path = '__tmp__'
 
@@ -4660,6 +4671,7 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         exp = Y['g'].sum()
         self.assert_(isnull(Y['g']['c']))
 
+
 if __name__ == '__main__':
     # unittest.main()
     import nose
