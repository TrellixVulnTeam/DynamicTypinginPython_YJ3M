commit 5382985cd62e1d6cf70d03b3dc65b81534f7d43e
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Aug 8 21:25:24 2012 -0400

    BUG: critical DatetimeIndex.union bug with different frequency indexes close #1730

diff --git a/RELEASE.rst b/RELEASE.rst
index 585f712c9..dd9ac0770 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -38,6 +38,7 @@ pandas 0.8.2
 
 **Bug fixes**
 
+  - Fix critical DatetimeIndex.union bug (#1730)
   - Fix MM-YYYY time series indexing case (#1672)
   - Fix case where Categorical group key was not being passed into index in
     GroupBy result (#1701)
diff --git a/pandas/tseries/index.py b/pandas/tseries/index.py
index d2f89171c..391bb12c8 100644
--- a/pandas/tseries/index.py
+++ b/pandas/tseries/index.py
@@ -750,7 +750,7 @@ class DatetimeIndex(Int64Index):
 
         offset = self.offset
 
-        if offset is None:
+        if offset is None or offset != other.offset:
             return False
 
         if not self.is_monotonic or not other.is_monotonic:
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 57adabf69..9284a447b 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -1153,6 +1153,14 @@ class TestDatetimeIndex(unittest.TestCase):
         self.assert_(result.equals(ordered))
         self.assert_(result.freq == ordered.freq)
 
+    def test_union_bug_1730(self):
+        rng_a = date_range('1/1/2012', periods=4, freq='3H')
+        rng_b = date_range('1/1/2012', periods=4, freq='4H')
+
+        result = rng_a.union(rng_b)
+        exp = DatetimeIndex(sorted(set(list(rng_a)) | set(list(rng_b))))
+        self.assert_(result.equals(exp))
+
     # def test_add_timedelta64(self):
     #     rng = date_range('1/1/2000', periods=5)
     #     delta = rng.values[3] - rng.values[1]
