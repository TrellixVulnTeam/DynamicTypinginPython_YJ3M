commit f95a7bf5b1b294e2f7150091dcf79a1c08cb065c
Author: y-p <yoval@gmx.com>
Date:   Tue Nov 26 14:35:54 2013 +0200

    BUG: to_html doesn't slice index to max_rows before formatting

diff --git a/pandas/core/format.py b/pandas/core/format.py
index 1ca68b8d4..cc6f5bd51 100644
--- a/pandas/core/format.py
+++ b/pandas/core/format.py
@@ -819,14 +819,14 @@ class HTMLFormatter(TableFormatter):
 
     def _write_regular_rows(self, fmt_values, indent, truncated):
         ncols = min(len(self.columns), self.max_cols)
-
+        nrows = min(len(self.frame), self.max_rows)
         fmt = self.fmt._get_formatter('__index__')
         if fmt is not None:
-            index_values = self.frame.index.map(fmt)
+            index_values = self.frame.index[:nrows].map(fmt)
         else:
-            index_values = self.frame.index.format()
+            index_values = self.frame.index[:nrows].format()
 
-        for i in range(min(len(self.frame), self.max_rows)):
+        for i in range(nrows):
             row = []
             row.append(index_values[i])
             row.extend(fmt_values[j][i] for j in range(ncols))
