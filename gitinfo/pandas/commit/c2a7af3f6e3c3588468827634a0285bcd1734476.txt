commit c2a7af3f6e3c3588468827634a0285bcd1734476
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Sep 2 19:14:16 2009 +0000

    fixed error in groupby, added yahoo finance example
    
    git-svn-id: http://pandas.googlecode.com/svn/trunk@12 d5231056-7de3-11de-ac95-d976489f1ece

diff --git a/examples/data/SOURCES b/examples/data/SOURCES
new file mode 100644
index 000000000..e69de29bb
diff --git a/examples/finance.py b/examples/finance.py
new file mode 100644
index 000000000..0834ee536
--- /dev/null
+++ b/examples/finance.py
@@ -0,0 +1,74 @@
+"""
+Some examples playing around with yahoo finance data
+"""
+
+from datetime import datetime
+
+import matplotlib.finance as fin
+import numpy as np
+from pylab import show
+
+
+from pandas import Index, DataMatrix
+from pandas.core.datetools import BMonthEnd
+
+startDate = datetime(2009, 1, 1)
+endDate = datetime(2009, 9, 1)
+
+def getQuotes(symbol, start, end):
+    quotes = fin.quotes_historical_yahoo(symbol, start, end)
+    dates, open, close, high, low, volume = zip(*quotes)
+
+    data = {
+        'open' : open,
+        'close' : close,
+        'high' : high,
+        'low' : low,
+        'volume' : volume
+    }
+
+    dates = Index([datetime.fromordinal(int(d)) for d in dates])
+    return DataMatrix(data, index=dates)
+
+msft = getQuotes('MSFT', startDate, endDate)
+ibm = getQuotes('IBM', startDate, endDate)
+
+# Select dates
+
+subIndex = ibm.index[(ibm['close'] > 95) & (ibm['close'] < 100)]
+msftOnSameDates = msft.reindex(subIndex)
+
+# Insert columns
+
+msft['hi-lo spread'] = msft['high'] - msft['low']
+ibm['hi-lo spread'] = ibm['high'] - ibm['low']
+
+# Aggregate monthly
+
+def toMonthly(frame, how):
+    offset = BMonthEnd()
+
+    return frame.groupby(offset.rollforward).aggregate(how)
+
+msftMonthly = toMonthly(msft, np.mean)
+ibmMonthly = toMonthly(ibm, np.mean)
+
+# Statistics
+
+stdev = DataMatrix({
+    'MSFT' : msft.std(),
+    'IBM'  : ibm.std()
+})
+
+# Arithmetic
+
+ratios = ibm / msft
+
+# Works with different indices
+
+ratio = ibm / ibmMonthly
+monthlyRatio = ratio.reindex(ibmMonthly.index)
+
+# Ratio relative to past month average
+
+filledRatio = ibm / ibmMonthly.reindex(ibm.index, fillMethod='pad')
diff --git a/pandas/core/mixins.py b/pandas/core/mixins.py
index 57ce70fc8..1a3895ff9 100644
--- a/pandas/core/mixins.py
+++ b/pandas/core/mixins.py
@@ -13,15 +13,15 @@ class Picklable(object):
     @classmethod
     def load(cls, fileName):
         with open(fileName, 'rb') as f:
-            obj = cPickle.load(f)        
+            obj = cPickle.load(f)
             return obj
         raise Exception("Error trying to unpickle %s" % fileName)
-    
+
 #-------------------------------------------------------------------------------
 # Groupable mixin
 
 class Groupable(object):
     def groupby(self, mapper):
-        from panda.core.groupby import GroupBy
+        from pandas.core.groupby import GroupBy
         return GroupBy(self, mapper)
 
