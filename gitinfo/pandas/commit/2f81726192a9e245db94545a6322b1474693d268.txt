commit 2f81726192a9e245db94545a6322b1474693d268
Author: David Stephens <dstephens99@gmail.com>
Date:   Fri Jun 20 16:44:37 2014 -0700

    TST: io.data.Options changes to avoid test failures on bad data.
    
    Added try, except to underlying price / quote_time function.
    
    Changed to RemoteDataError in the event that some tables are found, but the correct table is not available.

diff --git a/pandas/io/data.py b/pandas/io/data.py
index fe87c0d9f..dab9862ba 100644
--- a/pandas/io/data.py
+++ b/pandas/io/data.py
@@ -683,7 +683,10 @@ class Options(object):
         table_name = '_tables' + m1 + str(year)[-2:]
         setattr(self, table_name, tables)
 
-        self.underlying_price, self.quote_time = self._get_underlying_price(root)
+        try:
+            self.underlying_price, self.quote_time = self._get_underlying_price(root)
+        except IndexError:
+            self.underlying_price, self.quote_time = np.nan, np.nan
 
         return tables
 
@@ -723,7 +726,7 @@ class Options(object):
         if ntables == 0:
             raise RemoteDataError("No tables found at {0!r}".format(url))
         elif table_loc - 1 > ntables:
-            raise IndexError("Table location {0} invalid, {1} tables"
+            raise RemoteDataError("Table location {0} invalid, {1} tables"
                              " found".format(table_loc, ntables))
 
         option_data = _parse_options_data(tables[table_loc])
