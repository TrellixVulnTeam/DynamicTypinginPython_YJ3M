commit d2ab4076512f5571b74e6ea2936910841b10dbe2
Author: Jeff Reback <jeff@reback.net>
Date:   Sat Mar 31 12:37:32 2018 -0400

    TST: xfail matmul under numpy < 1.12 (#20567)

diff --git a/pandas/tests/extension/base/methods.py b/pandas/tests/extension/base/methods.py
index f9f079cb2..430c571aa 100644
--- a/pandas/tests/extension/base/methods.py
+++ b/pandas/tests/extension/base/methods.py
@@ -90,7 +90,7 @@ class BaseMethodsTests(BaseExtensionTests):
                                        na_sentinel=na_sentinel)
         expected_labels = np.array([0, 0, na_sentinel,
                                    na_sentinel, 1, 1, 0, 2],
-                                   dtype='int64')
+                                   dtype=np.intp)
         expected_uniques = data_for_grouping.take([0, 4, 7])
 
         tm.assert_numpy_array_equal(labels, expected_labels)
diff --git a/pandas/tests/frame/test_analytics.py b/pandas/tests/frame/test_analytics.py
index 0dd068b90..e7be8bd32 100644
--- a/pandas/tests/frame/test_analytics.py
+++ b/pandas/tests/frame/test_analytics.py
@@ -15,7 +15,7 @@ import numpy as np
 from pandas.compat import lrange, product, PY35
 from pandas import (compat, isna, notna, DataFrame, Series,
                     MultiIndex, date_range, Timestamp, Categorical,
-                    _np_version_under1p15)
+                    _np_version_under1p12, _np_version_under1p15)
 import pandas as pd
 import pandas.core.nanops as nanops
 import pandas.core.algorithms as algorithms
@@ -2139,6 +2139,9 @@ class TestDataFrameAnalytics(TestData):
 
     @pytest.mark.skipif(not PY35,
                         reason='matmul supported for Python>=3.5')
+    @pytest.mark.xfail(
+        _np_version_under1p12,
+        reason="unpredictable return types under numpy < 1.12")
     def test_matmul(self):
         # matmul test is for GH #10259
         a = DataFrame(np.random.randn(3, 4), index=['a', 'b', 'c'],
