commit d80275dfaa6a8ad50bc49dbaef9eacd5509008dc
Author: Arco Bast <arco.bast@yahoo.de>
Date:   Fri Feb 24 15:37:18 2017 -0500

    BUG: msgpack supports CategoricalIndex
    
    closes #15487
    
    Author: Arco Bast <arco.bast@yahoo.de>
    
    Closes #15493 from abast/CategoricalIndex_msgpack and squashes the following commits:
    
    c1c68e4 [Arco Bast] corrections
    3c1f2e7 [Arco Bast] whatsnew
    215c2aa [Arco Bast] improve tests
    cd9354f [Arco Bast] improve tests
    7895c16 [Arco Bast] flake8
    f3f492a [Arco Bast] fix test
    91d85cb [Arco Bast] msgpack supports CategoricalIndex

diff --git a/doc/source/whatsnew/v0.20.0.txt b/doc/source/whatsnew/v0.20.0.txt
index 7426b5ca2..c94429b46 100644
--- a/doc/source/whatsnew/v0.20.0.txt
+++ b/doc/source/whatsnew/v0.20.0.txt
@@ -615,6 +615,7 @@ Bug Fixes
 - Bug in ``DataFrame.fillna()`` where the argument ``downcast`` was ignored when fillna value was of type ``dict`` (:issue:`15277`)
 - Bug in ``.reset_index()`` when an all ``NaN`` level of a ``MultiIndex`` would fail (:issue:`6322`)
 
+- Bug in ``pd.read_msgpack`` when deserializing a ``CategoricalIndex`` (:issue:`15487`)
 
 
 - Bug in ``pd.read_csv()`` with ``float_precision='round_trip'`` which caused a segfault when a text entry is parsed (:issue:`15140`)
@@ -630,3 +631,4 @@ Bug Fixes
 - Bug in ``Series.replace`` and ``DataFrame.replace`` which failed on empty replacement dicts (:issue:`15289`)
 - Bug in ``pd.melt()`` where passing a tuple value for ``value_vars`` caused a ``TypeError`` (:issue:`15348`)
 - Bug in ``.eval()`` which caused multiline evals to fail with local variables not on the first line (:issue:`15342`)
+- Bug in ``pd.read_msgpack`` which did not allow to load dataframe with an index of type ``CategoricalIndex`` (:issue:`15487`)
diff --git a/pandas/io/packers.py b/pandas/io/packers.py
index 3f4be6ad4..7afe8a06b 100644
--- a/pandas/io/packers.py
+++ b/pandas/io/packers.py
@@ -54,7 +54,7 @@ from pandas.types.common import (is_categorical_dtype, is_object_dtype,
 from pandas import (Timestamp, Period, Series, DataFrame,  # noqa
                     Index, MultiIndex, Float64Index, Int64Index,
                     Panel, RangeIndex, PeriodIndex, DatetimeIndex, NaT,
-                    Categorical)
+                    Categorical, CategoricalIndex)
 from pandas.tslib import NaTType
 from pandas.sparse.api import SparseSeries, SparseDataFrame
 from pandas.sparse.array import BlockIndex, IntIndex
diff --git a/pandas/tests/io/test_packers.py b/pandas/tests/io/test_packers.py
index 097c03937..251c6ae8b 100644
--- a/pandas/tests/io/test_packers.py
+++ b/pandas/tests/io/test_packers.py
@@ -311,6 +311,7 @@ class TestIndex(TestPackers):
             'period': Index(period_range('2012-1-1', freq='M', periods=3)),
             'date2': Index(date_range('2013-01-1', periods=10)),
             'bdate': Index(bdate_range('2013-01-02', periods=10)),
+            'cat': tm.makeCategoricalIndex(100)
         }
 
         self.mi = {
@@ -349,6 +350,13 @@ class TestIndex(TestPackers):
         i_rec = self.encode_decode(i)
         self.assert_index_equal(i, i_rec)
 
+    def categorical_index(self):
+        # GH15487
+        df = DataFrame(np.random.randn(10, 2))
+        df = df.astype({0: 'category'}).set_index(0)
+        result = self.encode_decode(df)
+        tm.assert_frame_equal(result, df)
+
 
 class TestSeries(TestPackers):
 
