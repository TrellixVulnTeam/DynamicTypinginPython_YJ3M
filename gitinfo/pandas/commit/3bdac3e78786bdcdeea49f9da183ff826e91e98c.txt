commit 3bdac3e78786bdcdeea49f9da183ff826e91e98c
Author: Kaiqi Dong <kaiqi@kth.se>
Date:   Wed Aug 7 15:57:33 2019 +0200

    TST: Add tests for groupby categorical values with axis=1 (#27788)

diff --git a/pandas/tests/groupby/test_categorical.py b/pandas/tests/groupby/test_categorical.py
index ce724f5a6..756de3edd 100644
--- a/pandas/tests/groupby/test_categorical.py
+++ b/pandas/tests/groupby/test_categorical.py
@@ -1163,3 +1163,13 @@ def test_seriesgroupby_observed_apply_dict(df_cat, observed, index, data):
         lambda x: OrderedDict([("min", x.min()), ("max", x.max())])
     )
     assert_series_equal(result, expected)
+
+
+@pytest.mark.parametrize("code", [([1, 0, 0]), ([0, 0, 0])])
+def test_groupby_categorical_axis_1(code):
+    # GH 13420
+    df = DataFrame({"a": [1, 2, 3, 4], "b": [-1, -2, -3, -4], "c": [5, 6, 7, 8]})
+    cat = pd.Categorical.from_codes(code, categories=list("abc"))
+    result = df.groupby(cat, axis=1).mean()
+    expected = df.T.groupby(cat, axis=0).mean().T
+    assert_frame_equal(result, expected)
