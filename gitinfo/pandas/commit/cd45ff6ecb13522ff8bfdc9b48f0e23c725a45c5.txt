commit cd45ff6ecb13522ff8bfdc9b48f0e23c725a45c5
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Wed Sep 25 10:58:43 2013 -0400

    CLN: proper version checking for statsmodels testWLS

diff --git a/doc/source/release.rst b/doc/source/release.rst
index eec2e91f0..a50a0f9c9 100644
--- a/doc/source/release.rst
+++ b/doc/source/release.rst
@@ -128,6 +128,8 @@ Improvements to existing features
   - ``read_stata`` now accepts Stata 13 format (:issue:`4291`)
   - ``ExcelWriter`` and ``ExcelFile`` can be used as contextmanagers.
     (:issue:`3441`, :issue:`4933`)
+  - ``pandas`` is now tested with two different versions of ``statsmodels``
+    (0.4.3 and 0.5.0) (:issue:`4981`).
 
 API Changes
 ~~~~~~~~~~~
diff --git a/pandas/stats/tests/test_ols.py b/pandas/stats/tests/test_ols.py
index a2271731b..ad9184e69 100644
--- a/pandas/stats/tests/test_ols.py
+++ b/pandas/stats/tests/test_ols.py
@@ -6,6 +6,7 @@ Unit test suite for OLS and PanelOLS classes
 
 from __future__ import division
 
+from distutils.version import LooseVersion
 from datetime import datetime
 from pandas import compat
 import unittest
@@ -98,11 +99,10 @@ class TestOLS(BaseTest):
 
     def testWLS(self):
         # WLS centered SS changed (fixed) in 0.5.0
-        v = sm.version.version.split('.')
-        if int(v[0]) >= 0 and int(v[1]) <= 5:
-            if int(v[2]) < 1:
-                raise nose.SkipTest
-        print( "Make sure you're using statsmodels 0.5.0.dev-cec4f26 or later.")
+        sm_version = sm.version.version
+        if sm_version < LooseVersion('0.5.0'):
+            raise nose.SkipTest("WLS centered SS not fixed in statsmodels"
+                                " version {0}".format(sm_version))
 
         X = DataFrame(np.random.randn(30, 4), columns=['A', 'B', 'C', 'D'])
         Y = Series(np.random.randn(30))
