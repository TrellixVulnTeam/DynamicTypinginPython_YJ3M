commit d5f10fa5a5a60781a8deac3bde6196e8cc771e7a
Author: y-p <yoval@gmx.com>
Date:   Sun Dec 2 06:09:56 2012 +0200

    TST: clear more FutureWarnings from test suite

diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index 866cd55ad..c93ecb591 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -9,6 +9,7 @@ import os
 import sys
 import unittest
 from textwrap import dedent
+import warnings
 
 from numpy import nan
 from numpy.random import randn
@@ -30,12 +31,16 @@ def curpath():
 class TestDataFrameFormatting(unittest.TestCase):
     _multiprocess_can_split_ = True
     def setUp(self):
-        import warnings
-        self.frame = _frame.copy()
+        self.warn_filters = warnings.filters
         warnings.filterwarnings('ignore',
                                 category=FutureWarning,
                                 module=".*format")
 
+        self.frame = _frame.copy()
+
+    def tearDown(self):
+        warnings.filters = self.warn_filters
+
     def test_repr_embedded_ndarray(self):
         arr = np.empty(10, dtype=[('err', object)])
         for i in range(len(arr)):
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 2b1672b6e..d8270806c 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -2934,6 +2934,11 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
 
     def test_repr_unsortable(self):
         # columns are not sortable
+        import warnings
+        warn_filters = warnings.filters
+        warnings.filterwarnings('ignore',
+                                category=FutureWarning,
+                                module=".*format")
 
         unsortable = DataFrame({'foo' : [1] * 50,
                                 datetime.today() : [1] * 50,
@@ -2953,6 +2958,8 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
 
         fmt.reset_printoptions()
 
+        warnings.filters = warn_filters
+
     def test_repr_unicode(self):
         uval = u'\u03c3\u03c3\u03c3\u03c3'
         bval = uval.encode('utf-8')
diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index aece98445..51e32b9da 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -1319,6 +1319,11 @@ class TestMultiIndex(unittest.TestCase):
         self.assertEqual(result[3], '1  0  0  0')
 
     def test_format_sparse_config(self):
+        import warnings
+        warn_filters = warnings.filters
+        warnings.filterwarnings('ignore',
+                                category=FutureWarning,
+                                module=".*format")
         # #1538
         pd.set_printoptions(multi_sparse=False)
 
@@ -1327,6 +1332,8 @@ class TestMultiIndex(unittest.TestCase):
 
         pd.reset_printoptions()
 
+        warnings.filters = warn_filters
+
     def test_bounds(self):
         self.index._bounds
 
