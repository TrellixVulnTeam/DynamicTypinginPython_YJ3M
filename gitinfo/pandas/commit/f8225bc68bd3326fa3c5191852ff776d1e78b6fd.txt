commit f8225bc68bd3326fa3c5191852ff776d1e78b6fd
Author: Marc Garcia <garcia.marc@gmail.com>
Date:   Sun Jun 9 22:51:38 2019 +0100

    DOC: Skip creating redirects if docs build fails (#26752)

diff --git a/doc/make.py b/doc/make.py
index 6ffbd3ef8..496b3cfd4 100755
--- a/doc/make.py
+++ b/doc/make.py
@@ -220,10 +220,11 @@ class DocBuilder:
         if os.path.exists(zip_fname):
             os.remove(zip_fname)
 
-        if self.single_doc_html is not None:
-            self._open_browser(self.single_doc_html)
-        else:
-            self._add_redirects()
+        if ret_code == 0:
+            if self.single_doc_html is not None:
+                self._open_browser(self.single_doc_html)
+            else:
+                self._add_redirects()
         return ret_code
 
     def latex(self, force=False):
