commit 3f4f2855652cb1454f37f2a6f27104e7968d8fe5
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Nov 14 14:36:31 2012 -0500

    BUG: parallel_coordinates bugfix with matplotlib 1.2.0. close #2237

diff --git a/RELEASE.rst b/RELEASE.rst
index 69e4c4b02..973b34916 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -108,6 +108,8 @@ pandas 0.9.1
   - SparseDataFrame.icol was not returning SparseSeries (#2227, #2229)
   - Enable ExcelWriter to handle PeriodIndex (#2240)
   - Fix issue constructing DataFrame from empty Series with name (#2234)
+  - Use console-width detection in interactive sessions only (#1610)
+  - Fix parallel_coordinates legend bug with mpl 1.2.0 (#2237)
 
 pandas 0.9.0
 ============
diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index e61d1be9c..68cc5208f 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -452,12 +452,14 @@ def parallel_coordinates(data, class_column, cols=None, ax=None, **kwds):
     for i in range(n):
         row = df.irow(i).values
         y = row
-        label = None
         kls = class_col.iget_value(i)
         if com.pprint_thing(kls) not in used_legends:
             label = com.pprint_thing(kls)
             used_legends.add(label)
-        ax.plot(x, y, color=random_color(kls), label=label, **kwds)
+            ax.plot(x, y, color=random_color(kls),
+                    label=label, **kwds)
+        else:
+            ax.plot(x, y, color=random_color(kls), **kwds)
 
     for i in range(ncols):
         ax.axvline(i, linewidth=1, color='black')
