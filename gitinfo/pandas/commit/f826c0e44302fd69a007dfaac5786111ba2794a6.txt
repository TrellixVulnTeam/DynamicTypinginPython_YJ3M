commit f826c0e44302fd69a007dfaac5786111ba2794a6
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon May 21 16:23:47 2012 -0400

    ENH: add nanosecond field accessor to DatetimeIndex, close #1261

diff --git a/pandas/src/datetime.pyx b/pandas/src/datetime.pyx
index e4ad6c4d4..ce2612da4 100644
--- a/pandas/src/datetime.pyx
+++ b/pandas/src/datetime.pyx
@@ -1147,7 +1147,11 @@ def fast_field_accessor(ndarray[int64_t] dtindex, object field):
             pandas_datetime_to_datetimestruct(dtindex[i], PANDAS_FR_ns, &dts)
             out[i] = dts.us
         return out
-
+    elif field == 'ns':
+        for i in range(count):
+            pandas_datetime_to_datetimestruct(dtindex[i], PANDAS_FR_ns, &dts)
+            out[i] = dts.ps / 1000
+        return out
     elif field == 'doy':
         for i in range(count):
             pandas_datetime_to_datetimestruct(dtindex[i], PANDAS_FR_ns, &dts)
diff --git a/pandas/tseries/index.py b/pandas/tseries/index.py
index c66ba4071..49e35995c 100644
--- a/pandas/tseries/index.py
+++ b/pandas/tseries/index.py
@@ -984,6 +984,7 @@ class DatetimeIndex(Int64Index):
     minute = _field_accessor('minute', 'm')
     second = _field_accessor('second', 's')
     microsecond = _field_accessor('microsecond', 'us')
+    nanosecond = _field_accessor('nanosecond', 'ns')
     weekofyear = _field_accessor('weekofyear', 'woy')
     week = weekofyear
     dayofweek = _field_accessor('dayofweek', 'dow')
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 95206d6b7..1599ba3f1 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -1038,6 +1038,11 @@ class TestDatetime64(unittest.TestCase):
         self.assertEquals(len(dti.weekofyear), 100)
         self.assertEquals(len(dti.quarter), 100)
 
+    def test_nanosecond_field(self):
+        dti = DatetimeIndex(np.arange(10))
+
+        self.assert_(np.array_equal(dti.nanosecond, np.arange(10)))
+
     def test_datetimeindex_diff(self):
         dti1 = DatetimeIndex(freq='Q-JAN', start=datetime(1997,12,31),
                              periods=100)
