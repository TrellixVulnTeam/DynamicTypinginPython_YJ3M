commit 08f9bd28216e25a8fbe2dc05e8b7407f7fe086da
Author: Kaiqi Dong <kaiqi@kth.se>
Date:   Mon Apr 27 22:55:55 2020 +0200

    TST: Separate expanding_apply and rolling_apply out of consistency (#33817)

diff --git a/pandas/tests/window/moments/test_moments_expanding.py b/pandas/tests/window/moments/test_moments_expanding.py
index 01940d83a..a358f0e70 100644
--- a/pandas/tests/window/moments/test_moments_expanding.py
+++ b/pandas/tests/window/moments/test_moments_expanding.py
@@ -368,6 +368,14 @@ class TestExpandingMomentsConsistency(ConsistencyBase):
                 ),
             )
 
+    @pytest.mark.parametrize("min_periods", [0, 1, 2, 3, 4])
+    def test_expanding_apply_consistency(self, min_periods):
+        with warnings.catch_warnings():
+            warnings.filterwarnings(
+                "ignore",
+                message=".*(empty slice|0 for slice).*",
+                category=RuntimeWarning,
+            )
             # test consistency between expanding_xyz() and either (a)
             # expanding_apply of Series.xyz(), or (b) expanding_apply of
             # np.nanxyz()
diff --git a/pandas/tests/window/moments/test_moments_rolling.py b/pandas/tests/window/moments/test_moments_rolling.py
index 33e870df4..503f2e12b 100644
--- a/pandas/tests/window/moments/test_moments_rolling.py
+++ b/pandas/tests/window/moments/test_moments_rolling.py
@@ -1013,6 +1013,17 @@ class TestRollingMomentsConsistency(ConsistencyBase):
                 ),
             )
 
+    @pytest.mark.parametrize(
+        "window,min_periods,center", list(_rolling_consistency_cases())
+    )
+    def test_rolling_apply_consistency(self, window, min_periods, center):
+
+        with warnings.catch_warnings():
+            warnings.filterwarnings(
+                "ignore",
+                message=".*(empty slice|0 for slice).*",
+                category=RuntimeWarning,
+            )
             # test consistency between rolling_xyz() and either (a)
             # rolling_apply of Series.xyz(), or (b) rolling_apply of
             # np.nanxyz()
