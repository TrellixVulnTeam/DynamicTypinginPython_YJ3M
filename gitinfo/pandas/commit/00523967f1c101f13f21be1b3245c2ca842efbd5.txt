commit 00523967f1c101f13f21be1b3245c2ca842efbd5
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Sat Jun 7 21:29:22 2014 -0400

    BUG/TST: test for groupby max nan subselection bug

diff --git a/pandas/tests/test_groupby.py b/pandas/tests/test_groupby.py
index 4aae5dfea..1f1853186 100644
--- a/pandas/tests/test_groupby.py
+++ b/pandas/tests/test_groupby.py
@@ -4369,6 +4369,17 @@ class TestGroupBy(tm.TestCase):
                 exc.args += ('operation: %s' % op,)
                 raise
 
+    def test_max_nan_bug(self):
+        raw = """,Date,app,File
+2013-04-23,2013-04-23 00:00:00,,log080001.log
+2013-05-06,2013-05-06 00:00:00,,log.log
+2013-05-07,2013-05-07 00:00:00,OE,xlsx"""
+        df = pd.read_csv(StringIO(raw), parse_dates=[0])
+        gb = df.groupby('Date')
+        r = gb[['File']].max()
+        e = gb['File'].max().to_frame()
+        tm.assert_frame_equal(r, e)
+        self.assertFalse(r['File'].isnull().any())
 
 def assert_fp_equal(a, b):
     assert (np.abs(a - b) < 1e-12).all()
