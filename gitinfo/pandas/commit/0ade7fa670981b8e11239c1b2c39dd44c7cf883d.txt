commit 0ade7fa670981b8e11239c1b2c39dd44c7cf883d
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Jun 25 18:05:16 2012 -0400

    DOC: lreshape docstring, release note

diff --git a/RELEASE.rst b/RELEASE.rst
index d9e5f6abe..c5bb354c8 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -89,6 +89,7 @@ pandas 0.8.0
   - Add support for Categorical use in GroupBy (#292)
   - Add ``any`` and ``all`` methods to DataFrame (#1416)
   - Add ``secondary_y`` option to Series.plot
+  - Add experimental ``lreshape`` function for reshaping wide to long
 
 **Improvements to existing features**
 
diff --git a/pandas/core/reshape.py b/pandas/core/reshape.py
index 8703de4b3..475a6822e 100644
--- a/pandas/core/reshape.py
+++ b/pandas/core/reshape.py
@@ -567,9 +567,25 @@ def lreshape(data, groups, dropna=True, label=None):
 
     Parameters
     ----------
-    data :
+    data : DataFrame
     groups : dict
-    na_action :
+        {new_name : list_of_columns}
+    dropna : boolean, default True
+
+    Examples
+    --------
+    >>> data
+       hr1  hr2     team  year1  year2
+    0  514  545  Red Sox   2007   2008
+    1  573  526  Yankees   2007   2008
+
+    >>> pd.lreshape(data, {'year': ['year1', 'year2'],
+                           'hr': ['hr1', 'hr2']})
+          team   hr  year
+    0  Red Sox  514  2007
+    1  Yankees  573  2007
+    2  Red Sox  545  2008
+    3  Yankees  526  2008
 
     Returns
     -------
diff --git a/pandas/tseries/index.py b/pandas/tseries/index.py
index 1c4af41ff..ae212902f 100644
--- a/pandas/tseries/index.py
+++ b/pandas/tseries/index.py
@@ -484,7 +484,7 @@ class DatetimeIndex(Int64Index):
         to_concat = [x.values if isinstance(x, Index) else x
                      for x in to_concat]
 
-        return Index(_concat(to_concat), name=name)
+        return Index(com._concat_compat(to_concat), name=name)
 
     def get_duplicates(self):
         values = Index.get_duplicates(self)
@@ -775,7 +775,7 @@ class DatetimeIndex(Int64Index):
             if left_end < right_end:
                 loc = right.searchsorted(left_end, side='right')
                 right_chunk = right.values[loc:]
-                dates = _concat((left.values, right_chunk))
+                dates = com._concat_compat((left.values, right_chunk))
                 return self._view_like(dates)
             else:
                 return left
@@ -1371,11 +1371,3 @@ def _time_to_micros(time):
     return 1000000 * seconds + time.microsecond
 
 
-def _concat(to_concat):
-    if all(x.dtype == _NS_DTYPE for x in to_concat):
-        # work around NumPy 1.6 bug
-        new_values = np.concatenate([x.view('i8') for x in to_concat])
-        return new_values.view(_NS_DTYPE)
-    else:
-        return np.concatenate(to_concat)
-
