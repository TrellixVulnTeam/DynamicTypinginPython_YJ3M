commit cce79936ca1790fe9870e8a5b6bccb3dba41b8ae
Author: Kamil Sindi <ksindi@users.noreply.github.com>
Date:   Wed Aug 10 06:15:35 2016 -0400

    ENH: raise ImporError if conn is string and sqlalchemy not installed (#11920)

diff --git a/pandas/io/sql.py b/pandas/io/sql.py
index 49f277f6b..47642c2e2 100644
--- a/pandas/io/sql.py
+++ b/pandas/io/sql.py
@@ -528,6 +528,8 @@ def pandasSQL_builder(con, flavor=None, schema=None, meta=None,
     con = _engine_builder(con)
     if _is_sqlalchemy_connectable(con):
         return SQLDatabase(con, schema=schema, meta=meta)
+    elif isinstance(con, string_types):
+        raise ImportError("Using URI string without sqlalchemy installed.")
     else:
         return SQLiteDatabase(con, is_cursor=is_cursor)
 
diff --git a/pandas/io/tests/test_sql.py b/pandas/io/tests/test_sql.py
index 21c3ea416..ffe7b9d6b 100644
--- a/pandas/io/tests/test_sql.py
+++ b/pandas/io/tests/test_sql.py
@@ -1051,6 +1051,14 @@ class TestSQLiteFallbackApi(SQLiteMixIn, _TestSQLApi):
 
         tm.assert_frame_equal(self.test_frame3, result)
 
+    def test_con_string_import_error(self):
+        if not SQLALCHEMY_INSTALLED:
+            conn = 'mysql://root@localhost/pandas_nosetest'
+            self.assertRaises(ImportError, sql.read_sql, "SELECT * FROM iris",
+                              conn)
+        else:
+            raise nose.SkipTest('SQLAlchemy is installed')
+
     def test_read_sql_delegate(self):
         iris_frame1 = sql.read_sql_query("SELECT * FROM iris", self.conn)
         iris_frame2 = sql.read_sql("SELECT * FROM iris", self.conn)
