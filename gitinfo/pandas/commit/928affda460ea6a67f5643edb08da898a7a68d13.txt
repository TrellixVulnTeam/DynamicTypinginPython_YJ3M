commit 928affda460ea6a67f5643edb08da898a7a68d13
Author: jschendel <jschendel@users.noreply.github.com>
Date:   Tue Jan 9 17:17:28 2018 -0700

    TST: Add test for setting with on loc DataFrame with one row (#19127)

diff --git a/pandas/tests/indexing/test_loc.py b/pandas/tests/indexing/test_loc.py
index fb5f094f9..433b0d87a 100644
--- a/pandas/tests/indexing/test_loc.py
+++ b/pandas/tests/indexing/test_loc.py
@@ -420,6 +420,13 @@ class TestLoc(Base):
         df.loc[:, 'date'] = 1.0
         tm.assert_frame_equal(df, expected)
 
+        # GH 15494
+        # setting on frame with single row
+        df = DataFrame({'date': Series([Timestamp('20180101')])})
+        df.loc[:, 'date'] = 'string'
+        expected = DataFrame({'date': Series(['string'])})
+        tm.assert_frame_equal(df, expected)
+
     def test_loc_setitem_consistency_empty(self):
         # empty (essentially noops)
         expected = DataFrame(columns=['x', 'y'])
