commit 4288d0fa3bedfbb15336d236124d07f4261aaca2
Author: jreback <jeff@reback.net>
Date:   Thu Mar 21 10:00:57 2013 -0400

    TST: test for GH2623, object in frame upconverting a datetime64[ns] in another column

diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 1c3c1da8a..313e4a967 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -3387,6 +3387,22 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         exp = DataFrame(data, index=['a', 'b', 'c'])
         assert_frame_equal(result, exp)
 
+
+        # GH 2623
+        rows = []
+        rows.append([datetime(2010, 1, 1), 1])
+        rows.append([datetime(2010, 1, 2), 'hi']) # test col upconverts to obj
+        df2_obj = DataFrame.from_records(rows, columns=['date', 'test'])
+        results = df2_obj.get_dtype_counts()
+        expected = Series({ 'datetime64[ns]' : 1, 'object' : 1 })
+
+        rows = []
+        rows.append([datetime(2010, 1, 1), 1])
+        rows.append([datetime(2010, 1, 2), 1])
+        df2_obj = DataFrame.from_records(rows, columns=['date', 'test'])
+        results = df2_obj.get_dtype_counts()
+        expected = Series({ 'datetime64[ns]' : 1, 'int64' : 1 })
+   
     def test_to_records_floats(self):
         df = DataFrame(np.random.rand(10, 10))
         df.to_records()
