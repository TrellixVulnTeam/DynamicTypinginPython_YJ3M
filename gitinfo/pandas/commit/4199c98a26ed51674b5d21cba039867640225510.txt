commit 4199c98a26ed51674b5d21cba039867640225510
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Thu Jun 27 10:48:05 2019 -0500

    Prepare black formatting: update flake8 config + add to CI code checks

diff --git a/ci/code_checks.sh b/ci/code_checks.sh
index 00c430064..1494452ca 100755
--- a/ci/code_checks.sh
+++ b/ci/code_checks.sh
@@ -52,6 +52,13 @@ fi
 ### LINTING ###
 if [[ -z "$CHECK" || "$CHECK" == "lint" ]]; then
 
+    echo "black --version"
+    black --version
+
+    MSG='Checking black formatting' ; echo $MSG
+    black . --check
+    RET=$(($RET + $?)) ; echo $MSG "DONE"
+
     # `setup.cfg` contains the list of error codes that are being ignored in flake8
 
     echo "flake8 --version"
diff --git a/environment.yml b/environment.yml
index c21a0949f..93e8302b4 100644
--- a/environment.yml
+++ b/environment.yml
@@ -16,6 +16,7 @@ dependencies:
   - cython>=0.28.2
 
   # code checks
+  - black
   - cpplint
   - flake8
   - flake8-comprehensions  # used by flake8, linting of unnecessary comprehensions
diff --git a/requirements-dev.txt b/requirements-dev.txt
index 169af7da5..e49ad10bf 100644
--- a/requirements-dev.txt
+++ b/requirements-dev.txt
@@ -3,6 +3,7 @@ python-dateutil>=2.6.1
 pytz
 asv
 cython>=0.28.2
+black
 cpplint
 flake8
 flake8-comprehensions
diff --git a/setup.cfg b/setup.cfg
index 77dc04304..fee0ab60f 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -12,8 +12,10 @@ tag_prefix = v
 parentdir_prefix = pandas-
 
 [flake8]
-max-line-length = 79
+max-line-length = 88
 ignore =
+    E501,  # longer line length
+    E203,  # space before : (needed for how black formats slicing)
     W503,  # line break before binary operator
     W504,  # line break after binary operator
     E402,  # module level import not at top of file
@@ -113,9 +115,12 @@ sections=FUTURE,STDLIB,THIRDPARTY,PRE_LIBS,PRE_CORE,DTYPES,FIRSTPARTY,POST_CORE,
 
 known_first_party=pandas
 known_third_party=Cython,numpy,dateutil,matplotlib,python-dateutil,pytz,pyarrow,pytest
-multi_line_output=4
+
+multi_line_output=3
+include_trailing_comma=True
 force_grid_wrap=0
 combine_as_imports=True
+line_length=88
 force_sort_within_sections=True
 skip_glob=env,
 skip=
