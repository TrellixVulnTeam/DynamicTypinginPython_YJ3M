commit c55511bbef52830c588752587433447074685e60
Author: y-p <yoval@gmx.com>
Date:   Mon Jan 27 04:58:18 2014 +0200

    BUG: get_options_data should raise ValueError if given only one of month/year GH6105

diff --git a/doc/source/release.rst b/doc/source/release.rst
index aa7b701ee..6593ba78a 100644
--- a/doc/source/release.rst
+++ b/doc/source/release.rst
@@ -156,6 +156,7 @@ Bug Fixes
   - Subtle ``iloc`` indexing bug, surfaced in (:issue:`6059`)
   - Bug with insert of strings into DatetimeIndex (:issue:`5818`)
   - Fixed unicode bug in to_html/HTML repr (:issue:`6098`)
+  - Fixed missing arg validation in get_options_data (:issue:`6105`)
 
 pandas 0.13.0
 -------------
diff --git a/pandas/io/data.py b/pandas/io/data.py
index b3332df3c..eb182e77a 100644
--- a/pandas/io/data.py
+++ b/pandas/io/data.py
@@ -632,6 +632,10 @@ class Options(object):
     _OPTIONS_BASE_URL = 'http://finance.yahoo.com/q/op?s={sym}'
 
     def _get_option_data(self, month, year, expiry, table_loc, name):
+        if (month is None or year is None) and expiry is None:
+            msg = "You must specify either (`year` and `month`) or `expiry`."
+            raise ValueError(msg)
+
         year, month = self._try_parse_dates(year, month, expiry)
 
         url = self._OPTIONS_BASE_URL.format(sym=self.symbol)
