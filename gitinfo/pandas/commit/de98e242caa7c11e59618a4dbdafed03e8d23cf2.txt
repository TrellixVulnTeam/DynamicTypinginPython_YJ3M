commit de98e242caa7c11e59618a4dbdafed03e8d23cf2
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Oct 21 22:12:19 2011 -0400

    ENH: specify dependency list for tseries Cython module, GH #271

diff --git a/Makefile b/Makefile
index a4a700a81..a4861c147 100644
--- a/Makefile
+++ b/Makefile
@@ -2,7 +2,6 @@ clean:
 	-rm -rf build dist
 
 tseries: pandas/src/tseries.pyx
-	touch pandas/src/tseries.pyx
 	python setup.py build_ext --inplace
 
 sparse: pandas/src/sparse.pyx
diff --git a/RELEASE.rst b/RELEASE.rst
index 44e02e338..24d4768fb 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -149,6 +149,7 @@ feedback on the library.
     the source directory (GH #250)
   - Significantly speed up DataFrame `__repr__` and `count` on large mixed-type
     DataFrame objects
+  - Better handling of pyx file dependencies in Cython module build (GH #271)
 
 **Bug fixes**
 
diff --git a/setup.py b/setup.py
index 633be5ebc..4a3059954 100755
--- a/setup.py
+++ b/setup.py
@@ -274,22 +274,30 @@ else:
     cmdclass['build_ext'] =  build_ext
     cmdclass['sdist'] =  CheckSDist
 
-tseries_depends = ['reindex', 'io', 'common', 'groupby'
-                   'skiplist', 'isnull', 'moments', 'operators']
-
+tseries_depends = ['reindex', 'groupby', 'skiplist', 'moments',
+                   'generated', 'parsing']
 def srcpath(name=None, suffix='.pyx', subdir='src'):
     return pjoin('pandas', subdir, name+suffix)
 
+if suffix == '.pyx':
+    tseries_depends = [srcpath(f, suffix='.pyx')
+                       for f in tseries_depends]
+else:
+    tseries_depends = None
+
+print tseries_depends
+
 tseries_ext = Extension('pandas._tseries',
+                        depends=tseries_depends,
                         sources=[srcpath('tseries', suffix=suffix)],
-                        # depends=[srcpath(f, suffix='.pyx')
-                        #          for f in tseries_depends],
                         include_dirs=[np.get_include()])
+
 sparse_ext = Extension('pandas._sparse',
                        sources=[srcpath('sparse', suffix=suffix)],
                        include_dirs=[np.get_include()])
 extensions = [tseries_ext,
               sparse_ext]
+
 # if _have_setuptools:
 #     setuptools_args["test_suite"] = "nose.collector"
 
