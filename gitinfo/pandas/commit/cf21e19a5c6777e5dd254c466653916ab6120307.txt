commit cf21e19a5c6777e5dd254c466653916ab6120307
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Jul 11 13:09:08 2012 -0400

    BUG: fix conflict introduced in #1592

diff --git a/RELEASE.rst b/RELEASE.rst
index 06e45cc5d..794e83961 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -42,7 +42,7 @@ pandas 0.8.1
     (#1318)
   - Fix resampling bug to lower case daily frequency (#1588)
   - Fix kendall/spearman DataFrame.corr bug with no overlap (#1595)
-
+  - Fix bug in DataFrame.set_index (#1592)
 
 pandas 0.8.0
 ============
diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index c9d58949d..f83ec7fd2 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -2297,8 +2297,6 @@ class DataFrame(NDFrame):
         else:
             frame = self.copy()
 
-        names = keys
-
         arrays = []
         names = []
         if append:
@@ -2308,7 +2306,6 @@ class DataFrame(NDFrame):
                     arrays.append(self.index.get_level_values(i))
             else:
                 arrays.append(np.asarray(self.index))
-            names.extend(keys)
 
         for col in keys:
             if isinstance(col, Series):
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 2ab938f4e..c234b3045 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -1391,6 +1391,7 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         xp = df.reset_index().set_index(['index', 'A', 'B'])
         xp.index.names = [None, 'A', 'B']
         assert_frame_equal(result, xp)
+
     def test_set_index_bug(self):
         #GH1590
         df = DataFrame({'val' : [0, 1, 2], 'key': ['a', 'b', 'c']})
