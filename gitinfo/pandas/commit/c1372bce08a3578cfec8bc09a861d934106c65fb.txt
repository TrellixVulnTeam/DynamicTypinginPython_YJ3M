commit c1372bce08a3578cfec8bc09a861d934106c65fb
Author: Skipper Seabold <jsseabold@gmail.com>
Date:   Sat Jan 21 23:50:56 2012 -0500

    BUG: week as top-level iterator overwrites week instance

diff --git a/pandas/core/datetools.py b/pandas/core/datetools.py
index 8dd44f66f..005f59f5f 100644
--- a/pandas/core/datetools.py
+++ b/pandas/core/datetools.py
@@ -714,9 +714,9 @@ _offsetMap = {
 
 
 for i, weekday in enumerate(['MON', 'TUE', 'WED', 'THU', 'FRI']):
-    for week in xrange(4):
-        _offsetMap['WOM@%d%s' % (week + 1, weekday)] = \
-            WeekOfMonth(week=week, weekday=i)
+    for iweek in xrange(4):
+        _offsetMap['WOM@%d%s' % (iweek + 1, weekday)] = \
+            WeekOfMonth(week=iweek, weekday=i)
 
 _offsetNames = dict([(v, k) for k, v in _offsetMap.iteritems()])
 
