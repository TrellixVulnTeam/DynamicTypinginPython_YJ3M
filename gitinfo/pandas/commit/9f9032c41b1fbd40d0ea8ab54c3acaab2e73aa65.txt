commit 9f9032c41b1fbd40d0ea8ab54c3acaab2e73aa65
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Sep 2 19:04:53 2011 -0400

    TST: more unit tests for lexsort_depth check

diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index 7c654b898..b250846c6 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -392,6 +392,21 @@ class TestMultiIndex(unittest.TestCase):
         expected = df[6:15].stack()
         tm.assert_almost_equal(sliced.values, expected.values)
 
+    def test_slice_locs_not_sorted(self):
+        index = MultiIndex(levels=[Index(range(4)),
+                                   Index(range(4)),
+                                   Index(range(4))],
+                           labels=[np.array([0, 0, 1, 2, 2, 2, 3, 3]),
+                                   np.array([0, 1, 0, 0, 0, 1, 0, 1]),
+                                   np.array([1, 0, 1, 1, 0, 0, 1, 0])])
+
+        self.assertRaises(Exception, index.slice_locs, (1, 0, 1),
+                          (2, 1, 0))
+
+        # works
+        sorted_index, _ = index.sortlevel(0)
+        result = sorted_index.slice_locs((1, 0, 1), (2, 1, 0))
+
     def test_slice_locs_partial(self):
         sorted_idx, _ = self.index.sortlevel(0)
 
diff --git a/pandas/tests/test_multilevel.py b/pandas/tests/test_multilevel.py
index 5ae0be134..9d3107b4e 100644
--- a/pandas/tests/test_multilevel.py
+++ b/pandas/tests/test_multilevel.py
@@ -248,6 +248,7 @@ class TestMultiLevel(unittest.TestCase):
                            labels=[[0, 0, 1, 0, 1, 1],
                                    [0, 1, 0, 2, 2, 1]])
         self.assert_(not index.is_lexsorted())
+        self.assert_(index.lexsort_depth == 0)
 
 if __name__ == '__main__':
 
