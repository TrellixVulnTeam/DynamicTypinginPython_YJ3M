commit 2c44f5772407479b30040f41aef4f1bdea3c3736
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Thu Jul 12 16:58:58 2012 -0400

    ENH: add Panel.dropna, close #171

diff --git a/RELEASE.rst b/RELEASE.rst
index 920d4d4cd..b888382f2 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -35,6 +35,7 @@ pandas 0.8.1
   - Add ``radviz`` plot function (#1566)
   - Add ``multi_sparse`` option to ``set_printoptions`` to modify display of
     hierarchical indexes (#1538)
+  - Add ``dropna`` method to Panel (#171)
 
 **Improvements to existing features**
 
diff --git a/pandas/core/panel.py b/pandas/core/panel.py
index 12eed700d..deb91c775 100644
--- a/pandas/core/panel.py
+++ b/pandas/core/panel.py
@@ -744,6 +744,41 @@ class Panel(NDFrame):
         return self.reindex(major=other.major_axis, items=other.items,
                             minor=other.minor_axis, method=method)
 
+    def dropna(self, axis=0, how='any'):
+        """
+        Drop 2D from panel, holding passed axis constant
+
+        Parameters
+        ----------
+        axis : int, default 0
+            Axis to hold constant. E.g. axis=1 will drop major_axis entries
+            having a certain amount of NA data
+        how : {'all', 'any'}, default 'any'
+            'any': one or more values are NA in the DataFrame along the
+            axis. For 'all' they all must be.
+
+        Returns
+        -------
+        dropped : Panel
+        """
+        axis = self._get_axis_number(axis)
+
+        values = self.values
+        mask = com.notnull(values)
+
+        for ax in reversed(sorted(set(range(3)) - set([axis]))):
+            mask = mask.sum(ax)
+
+        per_slice = np.prod(values.shape[:axis] + values.shape[axis + 1:])
+
+        if how == 'all':
+            cond = mask > 0
+        else:
+            cond = mask == per_slice
+
+        new_ax = self._get_axis(axis)[cond]
+        return self.reindex_axis(new_ax, axis=axis)
+
     def _combine(self, other, func, axis=0):
         if isinstance(other, Panel):
             return self._combine_panel(other, func)
diff --git a/pandas/tests/test_panel.py b/pandas/tests/test_panel.py
index 3c568562c..579232f33 100644
--- a/pandas/tests/test_panel.py
+++ b/pandas/tests/test_panel.py
@@ -1108,6 +1108,38 @@ class TestPanel(unittest.TestCase, PanelTests, CheckIndexing,
                 assert_frame_equal(df, recdf)
             os.remove(path)
 
+    def test_dropna(self):
+        p = Panel(np.random.randn(4, 5, 6), major_axis=list('abcde'))
+        p.ix[:, ['b', 'd'], 0] = np.nan
+
+        result = p.dropna(axis=1)
+        exp = p.ix[:, ['a', 'c', 'e'], :]
+        assert_panel_equal(result, exp)
+
+        result = p.dropna(axis=1, how='all')
+        assert_panel_equal(result, p)
+
+        p.ix[:, ['b', 'd'], :] = np.nan
+        result = p.dropna(axis=1, how='all')
+        exp = p.ix[:, ['a', 'c', 'e'], :]
+        assert_panel_equal(result, exp)
+
+        p = Panel(np.random.randn(4, 5, 6), items=list('abcd'))
+        p.ix[['b'], :, 0] = np.nan
+
+        result = p.dropna()
+        exp = p.ix[['a', 'c', 'd']]
+        assert_panel_equal(result, exp)
+
+        result = p.dropna(how='all')
+        assert_panel_equal(result, p)
+
+        p.ix['b'] = np.nan
+        result = p.dropna(how='all')
+        exp = p.ix[['a', 'c', 'd']]
+        assert_panel_equal(result, exp)
+
+
 class TestLongPanel(unittest.TestCase):
     """
     LongPanel no longer exists, but...
