commit f67dd4bc2acf5ab7b871ced4d249503faf789afa
Author: Chris <cbartak@gmail.com>
Date:   Wed Jun 15 17:37:19 2016 -0500

    BLD: use inline macro
    
    closes #13448
    closes #13456

diff --git a/pandas/src/klib/khash_python.h b/pandas/src/klib/khash_python.h
index 7684493d0..a375a73b0 100644
--- a/pandas/src/klib/khash_python.h
+++ b/pandas/src/klib/khash_python.h
@@ -13,7 +13,7 @@
 // simple hash, viewing the double bytes as an int64 and using khash's default
 // hash for 64 bit integers.
 // GH 13436
-inline khint64_t asint64(double key) {
+khint64_t PANDAS_INLINE asint64(double key) {
   return *(khint64_t *)(&key);
 }
 #define kh_float64_hash_func(key) (khint32_t)((asint64(key))>>33^(asint64(key))^(asint64(key))<<11)
diff --git a/pandas/tests/indexing/test_coercion.py b/pandas/tests/indexing/test_coercion.py
index 23600e1f4..97a5c48b8 100644
--- a/pandas/tests/indexing/test_coercion.py
+++ b/pandas/tests/indexing/test_coercion.py
@@ -461,6 +461,13 @@ class TestSeriesCoercion(tm.TestCase):
 
         result = s.replace(replacer)
 
+        # buggy on windows for bool/int64
+        if (from_key == 'bool' and
+                to_key == 'int64' and
+                tm.is_platform_windows()):
+            raise nose.SkipTest("windows platform buggy: {0} -> {1}".format
+                                (from_key, to_key))
+
         if ((from_key == 'float64' and
              to_key in ('bool', 'int64')) or
 
@@ -471,7 +478,7 @@ class TestSeriesCoercion(tm.TestCase):
              to_key in ('bool')) or
 
             # TODO_GH12747 The result must be int?
-           (from_key == 'bool' and to_key in ('int64'))):
+           (from_key == 'bool' and to_key == 'int64')):
 
             # buggy on 32-bit
             if tm.is_platform_32bit():
