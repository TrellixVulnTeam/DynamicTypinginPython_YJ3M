commit 1509a22dec879d0ef3a74dc80b86ecced7c65eaa
Author: Weston Renoud <wrenoud@gmail.com>
Date:   Wed Dec 25 02:52:28 2013 +0200

    TST: corner_case for read_csv with usecols GH5766

diff --git a/pandas/io/tests/test_parsers.py b/pandas/io/tests/test_parsers.py
index 93a26b70a..484c0c89f 100644
--- a/pandas/io/tests/test_parsers.py
+++ b/pandas/io/tests/test_parsers.py
@@ -2049,6 +2049,16 @@ a,b,c
                                 header=None, usecols=['b', 'c'])
         tm.assert_frame_equal(result2, result)
 
+
+        # 5766
+        result = self.read_csv(StringIO(data), names=['a', 'b'],
+                               header=None, usecols=[0, 1])
+
+        expected = self.read_csv(StringIO(data), names=['a', 'b', 'c'],
+                                 header=None)
+        expected = expected[['a', 'b']]
+        tm.assert_frame_equal(result, expected)
+
         # length conflict, passed names and usecols disagree
         self.assertRaises(ValueError, self.read_csv, StringIO(data),
                           names=['a', 'b'], usecols=[1], header=None)
