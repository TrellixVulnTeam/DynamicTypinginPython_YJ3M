commit fbe15d0f60da77277139787838cd2441d3153146
Author: Jeff Reback <jeff@reback.net>
Date:   Sun Nov 12 11:15:03 2017 -0500

    CI: slightly more robust xfvb starting (#18239)

diff --git a/.travis.yml b/.travis.yml
index fe1a2950d..42b4ef039 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -102,8 +102,6 @@ before_install:
   - uname -a
   - git --version
   - git tag
-  - ci/before_install_travis.sh
-  - export DISPLAY=":99.0"
 
 install:
   - echo "install start"
@@ -114,6 +112,8 @@ install:
 
 before_script:
   - ci/install_db_travis.sh
+  - export DISPLAY=":99.0"
+  - ci/before_script_travis.sh
 
 script:
   - echo "script start"
diff --git a/ci/before_install_travis.sh b/ci/before_script_travis.sh
similarity index 93%
rename from ci/before_install_travis.sh
rename to ci/before_script_travis.sh
index 2d0b4da61..0b3939b19 100755
--- a/ci/before_install_travis.sh
+++ b/ci/before_script_travis.sh
@@ -4,6 +4,7 @@ echo "inside $0"
 
 if [ "${TRAVIS_OS_NAME}" == "linux" ]; then
    sh -e /etc/init.d/xvfb start
+   sleep 3
 fi
 
 # Never fail because bad things happened here.
diff --git a/pandas/tests/io/test_clipboard.py b/pandas/tests/io/test_clipboard.py
index 940a331a9..b5d1435c2 100644
--- a/pandas/tests/io/test_clipboard.py
+++ b/pandas/tests/io/test_clipboard.py
@@ -18,7 +18,7 @@ from pandas.io.clipboard import clipboard_set
 try:
     DataFrame({'A': [1, 2]}).to_clipboard()
     _DEPS_INSTALLED = 1
-except PyperclipException:
+except (PyperclipException, RuntimeError):
     _DEPS_INSTALLED = 0
 
 
