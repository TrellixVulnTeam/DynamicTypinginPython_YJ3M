commit 86a1404cb41ab1d8bd070fcc16e8c1eafa6909b5
Author: Tomaz Berisa <tomaz.berisa@gmail.com>
Date:   Fri Apr 3 17:48:38 2015 -0400

    TST: Test saves and restore context (#9764)

diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index 145fa78b3..e3f458690 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -2987,7 +2987,13 @@ class TestFloatArrayFormatter(tm.TestCase):
         self.assertEqual(result[1], "  0")
 
     def test_output_significant_digits(self):
-        # relevant to issue #9764
+        # Issue #9764
+        
+        # In case default display precision changes:
+        saved_option=pd.get_option('display.precision')
+        pd.set_option('display.precision', 7)
+
+        # DataFrame from issue #9764
         d=pd.DataFrame({'col1':[9.999e-8, 1e-7, 1.0001e-7, 2e-7, 4.999e-7, 5e-7, 5.0001e-7, 6e-7, 9.999e-7, 1e-6, 1.0001e-6, 2e-6, 4.999e-6, 5e-6, 5.0001e-6, 6e-6]})
         
         expected_output={
@@ -3001,6 +3007,9 @@ class TestFloatArrayFormatter(tm.TestCase):
         for k, v in expected_output.items():
             self.assertEqual(d[k[0]:k[1]].__str__(), v)
 
+        # Restore precision
+        pd.set_option('display.precision', saved_option)
+
 class TestRepr_timedelta64(tm.TestCase):
 
     def test_none(self):
