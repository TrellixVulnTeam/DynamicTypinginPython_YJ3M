commit 26e5e30f97a11561ca72c767a7b54ee8f6805fa0
Author: y-p <yoval@gmx.com>
Date:   Mon May 20 18:48:18 2013 +0300

    ENH/CLN: add helpers for ipnb detection

diff --git a/pandas/core/common.py b/pandas/core/common.py
index a52c932b3..cbc85e6b9 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -1904,8 +1904,23 @@ def in_qtconsole():
             return True
     except:
         return False
+    return False
+
+def in_ipnb():
+    """
+    check if we're inside an IPython Notebook
+    """
+    try:
+        ip = get_ipython()
+        front_end = (ip.config.get('KernelApp',{}).get('parent_appname',"") or
+                         ip.config.get('IPKernelApp',{}).get('parent_appname',""))
+        if 'notebook' in front_end.lower():
+            return True
+    except:
+        return False
+    return False
 
-def in_ipnb_frontend():
+def in_ipython_frontend():
     """
     check if we're inside an an IPython zmq frontend
     """
diff --git a/pandas/core/format.py b/pandas/core/format.py
index 3d38caa84..608165f4e 100644
--- a/pandas/core/format.py
+++ b/pandas/core/format.py
@@ -1718,7 +1718,7 @@ def get_console_size():
     # Simple. yeah.
 
     if com.in_interactive_session():
-        if com.in_ipnb_frontend():
+        if com.in_ipython_frontend():
             # sane defaults for interactive non-shell terminal
             # match default for width,height in config_init
             from pandas.core.config import get_default_val
