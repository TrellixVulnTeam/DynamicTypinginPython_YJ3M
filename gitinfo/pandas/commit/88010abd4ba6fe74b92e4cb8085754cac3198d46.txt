commit 88010abd4ba6fe74b92e4cb8085754cac3198d46
Author: y-p <yoval@gmx.com>
Date:   Sat Jan 4 05:27:08 2014 +0200

    BLD: fix cythonized msgpack extension in setup.py GH5831

diff --git a/setup.py b/setup.py
index 497c6a564..ce26946b7 100755
--- a/setup.py
+++ b/setup.py
@@ -486,7 +486,8 @@ else:
 
 msgpack_ext = Extension('pandas.msgpack',
                         sources = [srcpath('msgpack',
-                                           suffix=suffix, subdir='')],
+                                   suffix=suffix if suffix == '.pyx' else '.cpp',
+                                   subdir='')],
                         language='c++',
                         include_dirs=common_include,
                         define_macros=macros)
@@ -499,7 +500,7 @@ extensions.append(msgpack_ext)
 if suffix == '.pyx' and 'setuptools' in sys.modules:
     # undo dumb setuptools bug clobbering .pyx sources back to .c
     for ext in extensions:
-        if ext.sources[0].endswith('.c'):
+        if ext.sources[0].endswith(('.c','.cpp')):
             root, _ = os.path.splitext(ext.sources[0])
             ext.sources[0] = root + suffix
 
