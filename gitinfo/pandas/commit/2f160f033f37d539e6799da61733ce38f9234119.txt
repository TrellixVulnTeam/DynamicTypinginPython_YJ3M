commit 2f160f033f37d539e6799da61733ce38f9234119
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Apr 7 08:03:55 2017 -0400

    TST: suppress some warnings (#15932)

diff --git a/pandas/core/algorithms.py b/pandas/core/algorithms.py
index 244f882f2..9b88ea234 100644
--- a/pandas/core/algorithms.py
+++ b/pandas/core/algorithms.py
@@ -3,7 +3,7 @@ Generic data algorithms. This module is experimental at the moment and not
 intended for public consumption
 """
 from __future__ import division
-from warnings import warn
+from warnings import warn, catch_warnings
 import numpy as np
 
 from pandas import compat, _np_version_under1p8
@@ -110,7 +110,11 @@ def _ensure_data(values, dtype=None):
             values = _ensure_uint64(values)
             ndtype = dtype = 'uint64'
         elif is_complex_dtype(values) or is_complex_dtype(dtype):
-            values = _ensure_float64(values)
+
+            # ignore the fact that we are casting to float
+            # which discards complex parts
+            with catch_warnings(record=True):
+                values = _ensure_float64(values)
             ndtype = dtype = 'float64'
         elif is_float_dtype(values) or is_float_dtype(dtype):
             values = _ensure_float64(values)
diff --git a/pandas/tests/test_errors.py b/pandas/tests/test_errors.py
index aabce7ecb..4a0850734 100644
--- a/pandas/tests/test_errors.py
+++ b/pandas/tests/test_errors.py
@@ -1,6 +1,7 @@
 # -*- coding: utf-8 -*-
 
 import pytest
+from warnings import catch_warnings
 import pandas  # noqa
 import pandas as pd
 
@@ -44,7 +45,8 @@ def test_error_rename():
     except CParserError:
         pass
 
-    try:
-        raise ParserError()
-    except pd.parser.CParserError:
-        pass
+    with catch_warnings(record=True):
+        try:
+            raise ParserError()
+        except pd.parser.CParserError:
+            pass
