commit 314ed4573d2eb0db88bf7995fc6e11418a5a7498
Author: BrenBarn <brenbarn@gmail.com>
Date:   Mon Oct 12 09:23:04 2015 -0700

    Fix mistake in Pytables querying with numpy scalar value. Fixes #11283

diff --git a/doc/source/whatsnew/v0.17.1.txt b/doc/source/whatsnew/v0.17.1.txt
index 74ace42eb..47a83e989 100755
--- a/doc/source/whatsnew/v0.17.1.txt
+++ b/doc/source/whatsnew/v0.17.1.txt
@@ -53,7 +53,7 @@ Bug Fixes
 
 - Bug in ``.to_latex()`` output broken when the index has a name (:issue: `10660`)
 - Bug in ``HDFStore.append`` with strings whose encoded length exceded the max unencoded length (:issue:`11234`)
-
+- Bug in ``HDFStore.select`` when comparing with a numpy scalar in a where clause (:issue:`11283`)
 
 
 
diff --git a/pandas/computation/pytables.py b/pandas/computation/pytables.py
index bc4e60f70..1bc5b8b72 100644
--- a/pandas/computation/pytables.py
+++ b/pandas/computation/pytables.py
@@ -129,7 +129,7 @@ class BinOp(ops.BinOp):
         """ inplace conform rhs """
         if not com.is_list_like(rhs):
             rhs = [rhs]
-        if hasattr(self.rhs, 'ravel'):
+        if isinstance(rhs, np.ndarray):
             rhs = rhs.ravel()
         return rhs
 
diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index 167170f7c..6c78f9cf3 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -3049,6 +3049,18 @@ class TestHDFStore(Base, tm.TestCase):
             result = store.select(
                 'df4', where='values>2.0')
             tm.assert_frame_equal(expected, result)
+        
+        # test selection with comparison against numpy scalar
+        # GH 11283
+        with ensure_clean_store(self.path) as store:
+            df = tm.makeDataFrame()
+
+            expected = df[df['A']>0]
+
+            store.append('df', df, data_columns=True)
+            np_zero = np.float64(0)
+            result = store.select('df', where=["A>np_zero"])
+            tm.assert_frame_equal(expected, result)
 
     def test_select_with_many_inputs(self):
 
