commit 9b27e3c79b19d32fdb58fb4ec287b5451bbdc659
Author: Hsiaoming Yang <me@lepture.com>
Date:   Tue Aug 19 16:50:53 2014 +0800

    Fix bdist_wheel. Add Tag information to WHEEL dist info.
    
    Related: http://lepture.com/en/2014/python-on-a-hard-wheel

diff --git a/setup.py b/setup.py
index f57349c04..a7793f330 100755
--- a/setup.py
+++ b/setup.py
@@ -392,6 +392,20 @@ cmdclass = {'clean': CleanCommand,
             'build': build,
             'sdist': CheckSDist}
 
+try:
+    from wheel.bdist_wheel import bdist_wheel
+
+    class BdistWheel(bdist_wheel):
+        def get_tag(self):
+            tag = bdist_wheel.get_tag(self)
+            repl = 'macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64'
+            if tag[2] == 'macosx_10_6_intel':
+                tag = (tag[0], tag[1], repl)
+            return tag
+    cmdclass['bdist_wheel'] = BdistWheel
+except ImportError:
+    pass
+
 if cython:
     suffix = '.pyx'
     cmdclass['build_ext'] = CheckingBuildExt
