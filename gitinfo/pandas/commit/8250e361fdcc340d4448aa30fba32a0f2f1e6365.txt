commit 8250e361fdcc340d4448aa30fba32a0f2f1e6365
Author: Skipper Seabold <jsseabold@gmail.com>
Date:   Sun May 19 00:01:25 2013 -0400

    TST: Add failing str.replace test with flags

diff --git a/pandas/tests/test_strings.py b/pandas/tests/test_strings.py
index 2134eea18..7763ed7bc 100644
--- a/pandas/tests/test_strings.py
+++ b/pandas/tests/test_strings.py
@@ -271,6 +271,13 @@ class TestStringMethods(unittest.TestCase):
         exp = Series([u'foobarBAD', NA])
         tm.assert_series_equal(result, exp)
 
+        #flags + unicode
+        values = Series(["abcd,\xc3\xa0".decode("utf-8")])
+        exp = Series(["abcd, \xc3\xa0".decode("utf-8")])
+        result = values.str.replace("(?<=\w),(?=\w)", ", ", flags=re.UNICODE)
+        tm.assert_series_equal(result, exp)
+
+
     def test_repeat(self):
         values = Series(['a', 'b', NA, 'c', NA, 'd'])
 
