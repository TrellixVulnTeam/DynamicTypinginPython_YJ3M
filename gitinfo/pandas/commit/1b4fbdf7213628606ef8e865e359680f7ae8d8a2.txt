commit 1b4fbdf7213628606ef8e865e359680f7ae8d8a2
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Jan 4 22:21:38 2012 -0500

    TST: more test coverage for merge

diff --git a/pandas/tools/merge.py b/pandas/tools/merge.py
index 6c5f965f8..37301586b 100644
--- a/pandas/tools/merge.py
+++ b/pandas/tools/merge.py
@@ -655,7 +655,7 @@ class Concatenator(object):
         except Exception:  # EAFP
             # should not be possible to fail here for the expected reason with
             # axis=1
-            if self.axis == 1:
+            if self.axis == 1:  # pragma: no cover
                 raise
 
             new_data = {}
diff --git a/pandas/tools/tests/test_merge.py b/pandas/tools/tests/test_merge.py
index e96f8c4c0..83b38100a 100644
--- a/pandas/tools/tests/test_merge.py
+++ b/pandas/tools/tests/test_merge.py
@@ -459,6 +459,19 @@ class TestMerge(unittest.TestCase):
         assert_almost_equal(merged['value.x'], [2, 3, 1, 1, 4, 4, np.nan])
         assert_almost_equal(merged['value.y'], [6, np.nan, 5, 8, 5, 8, 7])
 
+    def test_merge_nocopy(self):
+        left = DataFrame({'a' : 0, 'b' : 1}, index=range(10))
+        right = DataFrame({'c' : 'foo', 'd' : 'bar'}, index=range(10))
+
+        merged = merge(left, right, left_index=True,
+                       right_index=True, copy=False)
+
+        merged['a'] = 6
+        self.assert_((left['a'] == 6).all())
+
+        merged['d'] = 'peekaboo'
+        self.assert_((right['d'] == 'peekaboo').all())
+
 class TestMergeMulti(unittest.TestCase):
 
     def setUp(self):
