commit b92f85cf1068d9623c86240b7b708cd49f6ada3b
Author: Fabian Haase <haase.fabian@gmail.com>
Date:   Fri Nov 16 15:27:09 2018 +0100

    fix renaming of packages (#23740)
    
    Signed-off-by: Fabian Haase <haase.fabian@gmail.com>

diff --git a/requirements-dev.txt b/requirements-dev.txt
index 6678d205a..d01a21ac5 100644
--- a/requirements-dev.txt
+++ b/requirements-dev.txt
@@ -29,7 +29,7 @@ numexpr>=2.6.1
 openpyxl
 pyarrow>=0.7.0
 pymysql
-pytables>=3.4.2
+tables>=3.4.2
 pytest-cov
 pytest-xdist
 s3fs
diff --git a/scripts/generate_pip_deps_from_conda.py b/scripts/generate_pip_deps_from_conda.py
index 2474214a4..1f79b23a2 100755
--- a/scripts/generate_pip_deps_from_conda.py
+++ b/scripts/generate_pip_deps_from_conda.py
@@ -36,10 +36,19 @@ def conda_package_to_pip(package):
     if package in EXCLUDE:
         return
 
-    if package in RENAME:
-        return RENAME[package]
+    package = re.sub('(?<=[^<>])=', '==', package).strip()
+    for compare in ('<=', '>=', '=='):
+        if compare not in package:
+            continue
 
-    return re.sub('(?<=[^<>])=', '==', package).strip()
+        pkg, version = package.split(compare)
+
+        if pkg in RENAME:
+            return ''.join((RENAME[pkg], compare, version))
+
+        break
+
+    return package
 
 
 def main(conda_fname, pip_fname, compare=False):
