commit ed9e893b78e64a44057261f95d74c2779871ec8e
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Tue Jun 19 11:10:02 2012 -0400

    BUG: add datetimeblock NumPy 1.6 workaround close #1498

diff --git a/pandas/core/algorithms.py b/pandas/core/algorithms.py
index 2df8b4040..2334c47ec 100644
--- a/pandas/core/algorithms.py
+++ b/pandas/core/algorithms.py
@@ -223,7 +223,7 @@ def quantile(x, q, interpolation_method='fraction'):
     score : float
         Score at percentile.
 
-    Examples
+    Examplesb
     --------
     >>> from scipy import stats
     >>> a = np.arange(100)
diff --git a/pandas/core/series.py b/pandas/core/series.py
index ec16d6779..7279f48cc 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -125,6 +125,9 @@ def _comp_method(op, name):
                           index=self.index, name=name)
         elif isinstance(other, DataFrame): # pragma: no cover
             return NotImplemented
+        elif isinstance(other, np.ndarray):
+            return Series(na_op(self.values, np.asarray(other)),
+                          index=self.index, name=self.name)
         else:
             values = self.values
             other = lib.convert_scalar(values, other)
diff --git a/pandas/tools/merge.py b/pandas/tools/merge.py
index 4a3ec1002..9fdbbdaa6 100644
--- a/pandas/tools/merge.py
+++ b/pandas/tools/merge.py
@@ -13,7 +13,7 @@ from pandas.core.index import (Index, MultiIndex, _get_combined_index,
                                _ensure_index, _get_consensus_names,
                                _all_indexes_same)
 from pandas.core.internals import (IntBlock, BoolBlock, BlockManager,
-                                   make_block, _consolidate)
+                                   DatetimeBlock, make_block, _consolidate)
 from pandas.util.decorators import cache_readonly, Appender, Substitution
 
 from pandas.sparse.frame import SparseDataFrame
@@ -965,9 +965,15 @@ class _Concatenator(object):
         return reindexed_data
 
     def _concat_blocks(self, blocks):
-        concat_values = np.concatenate([b.values for b in blocks
-                                        if b is not None],
-                                       axis=self.axis)
+        values_list = [b.values for b in blocks if b is not None]
+        if isinstance(blocks[0], DatetimeBlock):
+            # hack around NumPy 1.6 bug
+            concat_values = np.concatenate([x.view(np.int64)
+                                            for x in values_list],
+                                           axis=self.axis)
+            concat_values = concat_values.view(np.dtype('M8[ns]'))
+        else:
+            concat_values = np.concatenate(values_list, axis=self.axis)
 
         if self.axis > 0:
             # Not safe to remove this check, need to profile
diff --git a/pandas/tools/tests/test_merge.py b/pandas/tools/tests/test_merge.py
index 83ea8399c..6be27a0a9 100644
--- a/pandas/tools/tests/test_merge.py
+++ b/pandas/tools/tests/test_merge.py
@@ -1367,6 +1367,16 @@ class TestConcatenate(unittest.TestCase):
         tm.assert_frame_equal(result, df)
         self.assertRaises(Exception, concat, [None, None])
 
+    def test_concat_datetime64_block(self):
+        from pandas.tseries.index import date_range
+
+        rng = date_range('1/1/2000', periods=10)
+
+        df = DataFrame({'time': rng})
+
+        result = concat([df, df])
+        self.assert_((result[:10]['time'] == rng).all())
+
 class TestOrderedMerge(unittest.TestCase):
 
     def setUp(self):
