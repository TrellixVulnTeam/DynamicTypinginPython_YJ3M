commit d6dd40dee839d9fcbe80ba6b44e49890cee5d71d
Author: y-p <yoval@gmx.com>
Date:   Thu Jan 10 15:56:01 2013 +0200

    TST: fix test to rely on display.encoding rather then utf8, GH2666

diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index 4f77da10a..cb92f85ca 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -137,7 +137,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         line_len = len(rs[0])
         for line in rs[1:]:
             try:
-                line = line.decode('utf-8')
+                line = line.decode(get_option("display.encoding"))
             except:
                 pass
             self.assert_(len(line) == line_len)
