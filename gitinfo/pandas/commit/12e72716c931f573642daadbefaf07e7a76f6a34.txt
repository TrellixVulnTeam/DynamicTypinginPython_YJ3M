commit 12e72716c931f573642daadbefaf07e7a76f6a34
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon May 7 09:33:40 2012 -0400

    ENH: finished fixing resampling period-indexed data, only 50% slower than timestamps now, close #1152

diff --git a/pandas/core/groupby.py b/pandas/core/groupby.py
index 29ed324ba..3e59ed24e 100644
--- a/pandas/core/groupby.py
+++ b/pandas/core/groupby.py
@@ -371,7 +371,7 @@ class GroupBy(object):
             if not issubclass(obj.dtype.type, (np.number, np.bool_)):
                 continue
 
-            result, names = self.grouper.aggregate(obj, how)
+            result, names = self.grouper.aggregate(obj.values, how)
             output[name] = result
 
         if len(output) == 0:
diff --git a/pandas/tseries/period.py b/pandas/tseries/period.py
index 3556a231e..10b6e527d 100644
--- a/pandas/tseries/period.py
+++ b/pandas/tseries/period.py
@@ -607,6 +607,8 @@ class PeriodIndex(Int64Index):
     def asfreq(self, freq=None, how='E'):
         how = _validate_end_alias(how)
 
+        freq = _freq_mod.get_standard_freq(freq)
+
         base1, mult1 = _gfc(self.freq)
 
         if isinstance(freq, basestring):
@@ -621,7 +623,10 @@ class PeriodIndex(Int64Index):
         new_data = lib.period_asfreq_arr(self.values, base1, mult1,
                                          base2, mult2, end)
 
-        return PeriodIndex(new_data, freq=freq)
+        result = new_data.view(PeriodIndex)
+        result.name = self.name
+        result.freq = freq
+        return result
 
     year = _field_accessor('year')
     month = _field_accessor('month')
diff --git a/vb_suite/timeseries.py b/vb_suite/timeseries.py
index 773ee0b74..1fccea71f 100644
--- a/vb_suite/timeseries.py
+++ b/vb_suite/timeseries.py
@@ -102,7 +102,7 @@ rng = period_range('1/1/2000', '1/1/2001', freq='T')
 ts = Series(np.random.randn(len(rng)), index=rng)
 """
 
-timeseries_period_resample_mean = \
+timeseries_period_downsample_mean = \
     Benchmark("ts.resample('D', how='mean')", setup,
               start_date=datetime(2012, 4, 25))
 
@@ -111,6 +111,6 @@ rng = date_range('1/1/2000', '1/1/2001', freq='T')
 ts = Series(np.random.randn(len(rng)), index=rng)
 """
 
-timeseries_timestamp_resample_mean = \
+timeseries_timestamp_downsample_mean = \
     Benchmark("ts.resample('D', how='mean')", setup,
               start_date=datetime(2012, 4, 25))
