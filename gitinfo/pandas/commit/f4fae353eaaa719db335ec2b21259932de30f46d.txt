commit f4fae353eaaa719db335ec2b21259932de30f46d
Author: Ming Li <14131823+minggli@users.noreply.github.com>
Date:   Sun Sep 30 14:59:46 2018 +0100

    BLD: minor break ci/requirements-optional-pip.txt (#22889)

diff --git a/ci/requirements-optional-pip.txt b/ci/requirements-optional-pip.txt
index 2e1bf0ca2..09ce8e59a 100644
--- a/ci/requirements-optional-pip.txt
+++ b/ci/requirements-optional-pip.txt
@@ -14,7 +14,7 @@ lxml
 matplotlib
 nbsphinx
 numexpr
-openpyxl=2.5.5
+openpyxl==2.5.5
 pyarrow
 pymysql
 tables
@@ -28,4 +28,4 @@ statsmodels
 xarray
 xlrd
 xlsxwriter
-xlwt
+xlwt
\ No newline at end of file
diff --git a/scripts/convert_deps.py b/scripts/convert_deps.py
index aabeb24a0..3ff157e0a 100755
--- a/scripts/convert_deps.py
+++ b/scripts/convert_deps.py
@@ -1,6 +1,7 @@
 """
 Convert the conda environment.yaml to a pip requirements.txt
 """
+import re
 import yaml
 
 exclude = {'python=3'}
@@ -15,6 +16,7 @@ with open("ci/requirements-optional-conda.txt") as f:
 required = dev['dependencies']
 required = [rename.get(dep, dep) for dep in required if dep not in exclude]
 optional = [rename.get(dep, dep) for dep in optional if dep not in exclude]
+optional = [re.sub("(?<=[^<>])=", '==', dep) for dep in optional]
 
 
 with open("ci/requirements_dev.txt", 'wt') as f:
