commit 09736e54cad2a0fba130383fbf61762bf1bb1f70
Author: Stefan van der Walt <stefan@sun.ac.za>
Date:   Mon Apr 30 17:29:53 2012 -0700

    BUG: work around missing NPY_FR_B in numpy 1.7

diff --git a/pandas/src/np_datetime_strings.c b/pandas/src/np_datetime_strings.c
index 5382fd8e4..1224ce16c 100644
--- a/pandas/src/np_datetime_strings.c
+++ b/pandas/src/np_datetime_strings.c
@@ -926,31 +926,44 @@ get_datetime_iso_8601_strlen(int local, NPY_DATETIMEUNIT base)
         /*    return 4;*/
         case NPY_FR_as:
             len += 3;  /* "###" */
+            break;
         case NPY_FR_fs:
             len += 3;  /* "###" */
+            break;
         case NPY_FR_ps:
             len += 3;  /* "###" */
+            break;
         case NPY_FR_ns:
             len += 3;  /* "###" */
+            break;
         case NPY_FR_us:
             len += 3;  /* "###" */
+            break;
         case NPY_FR_ms:
             len += 4;  /* ".###" */
+            break;
         case NPY_FR_s:
             len += 3;  /* ":##" */
+            break;
         case NPY_FR_m:
             len += 3;  /* ":##" */
+            break;
         case NPY_FR_h:
             len += 3;  /* "T##" */
+            break;
         case NPY_FR_D:
-        case NPY_FR_B:
         case NPY_FR_W:
             len += 3;  /* "-##" */
+            break;
         case NPY_FR_M:
             len += 3;  /* "-##" */
+            break;
         case NPY_FR_Y:
             len += 21; /* 64-bit year */
             break;
+        default:
+            len += 3; /* handle the now defunct NPY_FR_B */
+            break;
     }
 
     if (base >= NPY_FR_h) {
