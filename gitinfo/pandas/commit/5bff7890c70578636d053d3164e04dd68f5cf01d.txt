commit 5bff7890c70578636d053d3164e04dd68f5cf01d
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Sep 9 14:41:24 2012 -0400

    BUG: more fun unicode fixes

diff --git a/pandas/core/common.py b/pandas/core/common.py
index 47e8a46f5..e46882289 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -70,11 +70,11 @@ def _isnull_ndarraylike(obj):
     from pandas import Series
     values = np.asarray(obj)
 
-    if values.dtype.kind in ('O', 'S'):
+    if values.dtype.kind in ('O', 'S', 'U'):
         # Working around NumPy ticket 1542
         shape = values.shape
 
-        if values.dtype.kind == 'S':
+        if values.dtype.kind in ('S', 'U'):
             result = np.zeros(values.shape, dtype=bool)
         else:
             result = np.empty(shape, dtype=bool)
diff --git a/pandas/tests/test_common.py b/pandas/tests/test_common.py
index d8834924b..0653796b8 100644
--- a/pandas/tests/test_common.py
+++ b/pandas/tests/test_common.py
@@ -50,10 +50,14 @@ def test_isnull_lists():
     exp = np.array([[False], [False]])
     assert(np.array_equal(result, exp))
 
-    # list of strings
+    # list of strings / unicode
     result = isnull(['foo', 'bar'])
     assert(not result.any())
 
+    result = isnull([u'foo', u'bar'])
+    assert(not result.any())
+
+
 def test_isnull_datetime():
     assert (not isnull(datetime.now()))
     assert notnull(datetime.now())
@@ -307,12 +311,14 @@ class TestTake(unittest.TestCase):
         # stub test
         # need to mock-out sys.stdin.encoding=None for real test
         result = com.console_encode(u"\u05d0")
-        expected = u"\u05d0".encode(sys.stdin.encoding,
-                                    errors='replace')
-
-        # lot of console encodings, ISO-8869-1, cp850, etc. won't encode this
-        # character
-        self.assertEqual(result, expected)
+        try:
+            expected = u"\u05d0".encode(sys.stdin.encoding)
+
+            # lot of console encodings, ISO-8869-1, cp850, etc. won't encode
+            # this character
+            self.assertEqual(result, expected)
+        except UnicodeEncodeError:
+            pass
 
 
 if __name__ == '__main__':
