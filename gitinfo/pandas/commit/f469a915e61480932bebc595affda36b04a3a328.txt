commit f469a915e61480932bebc595affda36b04a3a328
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sat Jan 5 17:42:50 2013 -0500

    TST: skip failure to remove file in HDFStore tests. close #2645

diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 1469620ea..c129e4970 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -109,7 +109,11 @@ def _tables():
 
     return _table_mod
 
-
+def h5_open(path, mode):
+    tables = _tables()
+    return tables.openFile(path, mode)
+    
+    
 @contextmanager
 def get_store(path, mode='a', complevel=None, complib=None,
               fletcher32=False):
@@ -288,11 +292,11 @@ class HDFStore(object):
                                              fletcher32=self.fletcher32)
 
         try:
-            self.handle = _tables().openFile(self.path, self.mode)
+            self.handle = h5_open(self.path, self.mode)
         except IOError, e:  # pragma: no cover
             if 'can not be written' in str(e):
                 print 'Opening %s in read-only mode' % self.path
-                self.handle = _tables().openFile(self.path, 'r')
+                self.handle = h5_open(self.path, 'r')
             else:
                 raise
 
diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index f2490505b..b5ad219b4 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -37,7 +37,10 @@ class TestHDFStore(unittest.TestCase):
 
     def tearDown(self):
         self.store.close()
-        os.remove(self.path)
+        try:
+            os.remove(self.path)
+        except os.error:
+            pass
 
     def test_factory_fun(self):
         try:
