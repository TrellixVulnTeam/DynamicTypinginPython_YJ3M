commit f5c8d54d9dcf174bc434b3e24454b27bd17beca4
Author: Jon M. Mease <jon.mease@jhuapl.edu>
Date:   Sat Dec 17 18:01:52 2016 -0500

    Catch warning introduced by GH14432 in test case
    
    Follow on to #14432 to catch the newly introduced `FutureWarning` in
    the `test_groupby_multi_categorical_as_index` test case.
    
    Author: Jon M. Mease <jon.mease@jhuapl.edu>
    
    Closes #14902 from jmmease/GH14432_follow_on and squashes the following commits:
    
    c30fa2b [Jon M. Mease] Trap warning introduced by GH14432 in test_groupby_multi_categorical_as_index

diff --git a/pandas/tests/groupby/test_categorical.py b/pandas/tests/groupby/test_categorical.py
index d3c7bc2ad..99bea3a10 100644
--- a/pandas/tests/groupby/test_categorical.py
+++ b/pandas/tests/groupby/test_categorical.py
@@ -349,9 +349,19 @@ class TestGroupByCategorical(tm.TestCase):
                               'B': [101.0, nan, nan, 205.0, nan, nan]},
                              columns=['cat', 'A', 'B'])
 
+        group_columns = ['cat', 'A']
+
         for name in [None, 'X', 'B', 'cat']:
             df.index = Index(list("abc"), name=name)
-            result = df.groupby(['cat', 'A'], as_index=False).sum()
+
+            if name in group_columns and name in df.index.names:
+                with tm.assert_produces_warning(FutureWarning,
+                                                check_stacklevel=False):
+                    result = df.groupby(group_columns, as_index=False).sum()
+
+            else:
+                result = df.groupby(group_columns, as_index=False).sum()
+
             tm.assert_frame_equal(result, expected, check_index_type=True)
 
     def test_groupby_preserve_categorical_dtype(self):
