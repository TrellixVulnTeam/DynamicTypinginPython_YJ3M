commit 6478c87b5973179c0057f10e352ca5de534e5953
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon May 28 18:58:44 2012 -0400

    BUG: raise exception for unintellible frequency strings, close #1328

diff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py
index a58169e20..66ad991a0 100644
--- a/pandas/tseries/frequencies.py
+++ b/pandas/tseries/frequencies.py
@@ -374,6 +374,9 @@ def to_offset(freqstr):
         except Exception:
             raise ValueError("Could not evaluate %s" % freqstr)
 
+    if delta is None:
+        raise ValueError('Unable to understand %s as a frequency' % freqstr)
+
     return delta
 
 
diff --git a/pandas/tseries/index.py b/pandas/tseries/index.py
index a401c4f39..e7319078e 100644
--- a/pandas/tseries/index.py
+++ b/pandas/tseries/index.py
@@ -871,7 +871,7 @@ class DatetimeIndex(Int64Index):
                 raise KeyError(stamp)
 
     def get_loc(self, key):
-        """y
+        """
         Get integer location for requested label
 
         Returns
diff --git a/pandas/tseries/tests/test_frequencies.py b/pandas/tseries/tests/test_frequencies.py
index ef2981de7..5d12fe169 100644
--- a/pandas/tseries/tests/test_frequencies.py
+++ b/pandas/tseries/tests/test_frequencies.py
@@ -44,6 +44,14 @@ def test_to_offset_multiple():
     expected = offsets.Milli(10075)
     assert(result == expected)
 
+    # malformed
+    try:
+        to_offset('2h20m')
+    except ValueError:
+        pass
+    else:
+        assert(False)
+
 def test_to_offset_negative():
     freqstr = '-1S'
     result = to_offset(freqstr)
