commit 3105a92227db3b2453e4b2065f4eaabe8429a19f
Author: Chang She <chang@lambdafoundry.com>
Date:   Tue Jun 12 12:07:06 2012 -0400

    BUG: bytes_to_str for read_csv

diff --git a/pandas/io/data.py b/pandas/io/data.py
index 8467c6a2f..1a0d1c6bc 100644
--- a/pandas/io/data.py
+++ b/pandas/io/data.py
@@ -11,7 +11,7 @@ import urllib2
 import time
 
 from zipfile import ZipFile
-from pandas.util.py3compat import StringIO, BytesIO
+from pandas.util.py3compat import StringIO, BytesIO, bytes_to_str
 
 from pandas import DataFrame, read_csv
 
@@ -137,7 +137,8 @@ def get_data_yahoo(name=None, start=None, end=None, retry_count=3, pause=0):
         resp =  urllib2.urlopen(url)
         if resp.code == 200:
             lines = resp.read()
-            rs = read_csv(BytesIO(lines), index_col=0, parse_dates=True)
+            rs = read_csv(StringIO(bytes_to_str(lines)), index_col=0,
+                          parse_dates=True)
             return rs[::-1]
         time.sleep(pause)
     raise Exception(
diff --git a/pandas/util/py3compat.py b/pandas/util/py3compat.py
index 53490cb50..9a602155e 100644
--- a/pandas/util/py3compat.py
+++ b/pandas/util/py3compat.py
@@ -9,6 +9,9 @@ if PY3:
     def str_to_bytes(s, encoding='ascii'):
         return s.encode(encoding)
 
+    def bytes_to_str(b, encoding='utf-8'):
+        return b.decode(encoding)
+
 else:
     # Python 2
     import re
@@ -19,6 +22,9 @@ else:
     def str_to_bytes(s, encoding='ascii'):
         return s
 
+    def bytes_to_str(b, encoding='ascii'):
+        return b
+
 try:
     from cStringIO import StringIO
 except:
