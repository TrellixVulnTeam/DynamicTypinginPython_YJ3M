commit a2d0eed5cd8840b7073d7ed1893b76e52b06ef3f
Author: Ryszard T. Kaleta <ryszardkaleta@gmail.com>
Date:   Tue Nov 7 18:09:48 2017 +0000

    Fix df.to_csv() for string arrays when encoded in utf-8 (#18013)

diff --git a/pandas/tests/io/formats/test_to_csv.py b/pandas/tests/io/formats/test_to_csv.py
index b82d9895d..e12a7196d 100644
--- a/pandas/tests/io/formats/test_to_csv.py
+++ b/pandas/tests/io/formats/test_to_csv.py
@@ -1,8 +1,9 @@
 # -*- coding: utf-8 -*-
 
-from pandas import DataFrame
 import numpy as np
 import pandas as pd
+import pytest
+from pandas import DataFrame
 from pandas.util import testing as tm
 
 
@@ -197,7 +198,7 @@ $1$,$2$
                 expected_ymd_sec)
 
     def test_to_csv_multi_index(self):
-        # see gh-6618
+        # GH 6618
         df = DataFrame([1], columns=pd.MultiIndex.from_arrays([[1], [2]]))
 
         exp = ",1\n,2\n0,1\n"
@@ -223,3 +224,32 @@ $1$,$2$
 
         exp = "foo\nbar\n1\n"
         assert df.to_csv(index=False) == exp
+
+    def test_to_csv_string_array_ascii(self):
+        # GH 10813
+        str_array = [{'names': ['foo', 'bar']}, {'names': ['baz', 'qux']}]
+        df = pd.DataFrame(str_array)
+        expected_ascii = '''\
+,names
+0,"['foo', 'bar']"
+1,"['baz', 'qux']"
+'''
+        with tm.ensure_clean('str_test.csv') as path:
+            df.to_csv(path, encoding='ascii')
+            with open(path, 'r') as f:
+                assert f.read() == expected_ascii
+
+    @pytest.mark.xfail
+    def test_to_csv_string_array_utf8(self):
+        # GH 10813
+        str_array = [{'names': ['foo', 'bar']}, {'names': ['baz', 'qux']}]
+        df = pd.DataFrame(str_array)
+        expected_utf8 = '''\
+,names
+0,"[u'foo', u'bar']"
+1,"[u'baz', u'qux']"
+'''
+        with tm.ensure_clean('unicode_test.csv') as path:
+            df.to_csv(path, encoding='utf-8')
+            with open(path, 'r') as f:
+                assert f.read() == expected_utf8
