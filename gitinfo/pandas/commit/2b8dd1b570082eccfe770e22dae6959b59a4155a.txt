commit 2b8dd1b570082eccfe770e22dae6959b59a4155a
Author: Kieran O'Mahony <kieranom@gmail.com>
Date:   Sun Sep 15 19:32:17 2013 +1000

    BLD: json mingw doesnt have sprintf_s

diff --git a/pandas/src/ujson/lib/ultrajsonenc.c b/pandas/src/ujson/lib/ultrajsonenc.c
index 4106ed6b7..15d92d42f 100644
--- a/pandas/src/ujson/lib/ultrajsonenc.c
+++ b/pandas/src/ujson/lib/ultrajsonenc.c
@@ -549,7 +549,7 @@ int Buffer_AppendDoubleUnchecked(JSOBJ obj, JSONObjectEncoder *enc, double value
   {
     precision_str[0] = '%';
     precision_str[1] = '.';
-#ifdef _WIN32
+#if defined(_WIN32) && defined(_MSC_VER)
     sprintf_s(precision_str+2, sizeof(precision_str)-2, "%ug", enc->doublePrecision);
     enc->offset += sprintf_s(str, enc->end - enc->offset, precision_str, neg ? -value : value);
 #else
