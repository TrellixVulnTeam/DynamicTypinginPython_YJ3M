commit d24fb34938889efbbe7b008b9c74de578ec604d5
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Feb 12 11:28:12 2016 -0500

    COMPAT: silence mpl_style warnings
    
    closes #12311
    closes #12315
    
    WARN: remove warnings from categorical tests with .str.extract

diff --git a/pandas/core/config.py b/pandas/core/config.py
index b6f000344..7b1e5b29f 100644
--- a/pandas/core/config.py
+++ b/pandas/core/config.py
@@ -127,7 +127,11 @@ def _set_option(*args, **kwargs):
         root[k] = v
 
         if o.cb:
-            o.cb(key)
+            if silent:
+                with warnings.catch_warnings(record=True):
+                    o.cb(key)
+            else:
+                o.cb(key)
 
 
 def _describe_option(pat='', _print_desc=True):
diff --git a/pandas/core/config_init.py b/pandas/core/config_init.py
index cf8a06465..f9b91db60 100644
--- a/pandas/core/config_init.py
+++ b/pandas/core/config_init.py
@@ -253,7 +253,7 @@ style_backup = dict()
 
 def mpl_style_cb(key):
     warnings.warn(pc_mpl_style_deprecation_warning, FutureWarning,
-                  stacklevel=4)
+                  stacklevel=5)
 
     import sys
     from pandas.tools.plotting import mpl_stylesheet
diff --git a/pandas/tests/test_categorical.py b/pandas/tests/test_categorical.py
index 071e280bd..9305cabe6 100755
--- a/pandas/tests/test_categorical.py
+++ b/pandas/tests/test_categorical.py
@@ -4109,7 +4109,8 @@ Categories (10, timedelta64[ns]): [0 days 01:00:00 < 1 days 01:00:00 < 2 days 01
             ('decode', ("UTF-8",), {}),
             ('encode', ("UTF-8",), {}),
             ('endswith', ("a",), {}),
-            ('extract', ("([a-z]*) ",), {}),
+            ('extract', ("([a-z]*) ",), {"expand":False}),
+            ('extract', ("([a-z]*) ",), {"expand":True}),
             ('extractall', ("([a-z]*) ",), {}),
             ('find', ("a",), {}),
             ('findall', ("a",), {}),
