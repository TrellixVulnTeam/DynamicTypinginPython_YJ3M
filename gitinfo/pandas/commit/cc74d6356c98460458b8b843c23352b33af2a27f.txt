commit cc74d6356c98460458b8b843c23352b33af2a27f
Author: y-p <yoval@gmx.com>
Date:   Thu Jan 9 15:52:24 2014 +0200

    BLD: Send Travi-CI results to ScatterCI

diff --git a/.travis.yml b/.travis.yml
index 477e81a95..6dd459ac2 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -6,16 +6,37 @@ python:
 matrix:
   include:
     - python: 2.6
-      env: NOSE_ARGS="not slow" CLIPBOARD=xclip LOCALE_OVERRIDE="it_IT.UTF-8"
+      env:
+      - NOSE_ARGS="not slow and not network"
+      - CLIPBOARD=xclip
+      - LOCALE_OVERRIDE="it_IT.UTF-8"
+      - secure: "Bx5umgo6WjuGY+5XFa004xjCiX/vq0CyMZ/ETzcs7EIBI1BE/0fIDXOoWhoxbY9HPfdPGlDnDgB9nGqr5wArO2s+BavyKBWg6osZ3dmkfuJPMOWeyCa92EeP+sfKw8e5HSU5MizW9e319wHWOF/xkzdHR7T67Qd5erhv91x4DnQ="
     - python: 2.7
-      env: NOSE_ARGS="slow and not network" LOCALE_OVERRIDE="zh_CN.GB18030" FULL_DEPS=true JOB_TAG=_LOCALE
+      env:
+      - NOSE_ARGS="slow and not network"
+      - LOCALE_OVERRIDE="zh_CN.GB18030"
+      - FULL_DEPS=true
+      - JOB_TAG=_LOCALE
+      - secure: "Bx5umgo6WjuGY+5XFa004xjCiX/vq0CyMZ/ETzcs7EIBI1BE/0fIDXOoWhoxbY9HPfdPGlDnDgB9nGqr5wArO2s+BavyKBWg6osZ3dmkfuJPMOWeyCa92EeP+sfKw8e5HSU5MizW9e319wHWOF/xkzdHR7T67Qd5erhv91x4DnQ="
     - python: 2.7
-      env: NOSE_ARGS="not slow" FULL_DEPS=true CLIPBOARD_GUI=gtk2
+      env:
+      - NOSE_ARGS="not slow"
+      - FULL_DEPS=true
+      - CLIPBOARD_GUI=gtk2
+      - secure: "Bx5umgo6WjuGY+5XFa004xjCiX/vq0CyMZ/ETzcs7EIBI1BE/0fIDXOoWhoxbY9HPfdPGlDnDgB9nGqr5wArO2s+BavyKBWg6osZ3dmkfuJPMOWeyCa92EeP+sfKw8e5HSU5MizW9e319wHWOF/xkzdHR7T67Qd5erhv91x4DnQ="
     - python: 3.2
-      env: NOSE_ARGS="not slow" FULL_DEPS=true CLIPBOARD_GUI=qt4
+      env:
+      - NOSE_ARGS="not slow"
+      - FULL_DEPS=true
+      - CLIPBOARD_GUI=qt4
+      - secure: "Bx5umgo6WjuGY+5XFa004xjCiX/vq0CyMZ/ETzcs7EIBI1BE/0fIDXOoWhoxbY9HPfdPGlDnDgB9nGqr5wArO2s+BavyKBWg6osZ3dmkfuJPMOWeyCa92EeP+sfKw8e5HSU5MizW9e319wHWOF/xkzdHR7T67Qd5erhv91x4DnQ="
     - python: 3.3
-      env: NOSE_ARGS="not slow" FULL_DEPS=true CLIPBOARD=xsel
-  exclude:
+      env:
+      - NOSE_ARGS="not slow"
+      - FULL_DEPS=true
+      - CLIPBOARD=xsel
+      - secure: "Bx5umgo6WjuGY+5XFa004xjCiX/vq0CyMZ/ETzcs7EIBI1BE/0fIDXOoWhoxbY9HPfdPGlDnDgB9nGqr5wArO2s+BavyKBWg6osZ3dmkfuJPMOWeyCa92EeP+sfKw8e5HSU5MizW9e319wHWOF/xkzdHR7T67Qd5erhv91x4DnQ="
+    exclude:
     - python: 2.6
 
 # allow importing from site-packages,
@@ -49,3 +70,5 @@ script:
 after_script:
   - ci/print_versions.py
   - ci/print_skipped.py /tmp/nosetests.xml
+  - ci/print_versions.py -j /tmp/env.json
+  - ci/after_script.sh
\ No newline at end of file
diff --git a/ci/after_script.sh b/ci/after_script.sh
new file mode 100755
index 000000000..672b43d63
--- /dev/null
+++ b/ci/after_script.sh
@@ -0,0 +1,14 @@
+#!/bin/bash
+
+wget https://raw.github.com/y-p/ScatterCI-CLI/master/scatter_cli.py
+chmod u+x scatter_cli.py
+echo '' > /tmp/build.log
+pip install -I requests==2.1.0
+echo "${TRAVIS_PYTHON_VERSION:0:4}"
+if [ x"${TRAVIS_PYTHON_VERSION:0:4}" == x"2.6" ]; then
+    pip install simplejson;
+fi
+
+python scatter_cli.py --xunit-file /tmp/nosetests.xml  --log-file /tmp/build.log  --env-file /tmp/env.json --succeed
+
+true # never fail because bad things happened here
