commit cf91f466c83674a9077ad80d9e0ab49bc0dbba36
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Dec 7 18:35:02 2012 -0500

    ENH: make expand_frame_repr true by default, change max cols/rows default options per #2436

diff --git a/RELEASE.rst b/RELEASE.rst
index bf8b5cc5c..cbe6cdece 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -42,6 +42,9 @@ pandas 0.10.0
   - New option configuration system and functions `set_option`, `get_option`,
     `describe_option`, and `reset_option`. Deprecate `set_printoptions` and
     `reset_printoptions` (#2393)
+  - Wide DataFrames can be viewed more easily in the console with new
+    `expand_frame_repr` and `line_width` configuration options. This is on by
+    default now (#2436)
 
 **Experimental Features**
 
diff --git a/pandas/core/config_init.py b/pandas/core/config_init.py
index 6fa564b49..a854c0122 100644
--- a/pandas/core/config_init.py
+++ b/pandas/core/config_init.py
@@ -119,9 +119,9 @@ with cf.config_prefix('print'):
     cf.register_option('precision', 7, pc_precision_doc, validator=is_int)
     cf.register_option('float_format', None, float_format_doc)
     cf.register_option('column_space', 12, validator=is_int)
-    cf.register_option('max_rows', 200, pc_max_rows_doc, validator=is_int)
+    cf.register_option('max_rows', 100, pc_max_rows_doc, validator=is_int)
     cf.register_option('max_colwidth', 50, max_colwidth_doc, validator=is_int)
-    cf.register_option('max_columns', 0, pc_max_cols_doc, validator=is_int)
+    cf.register_option('max_columns', 20, pc_max_cols_doc, validator=is_int)
     cf.register_option('colheader_justify', 'right', colheader_justify_doc,
                        validator=is_text)
     cf.register_option('notebook_repr_html', True, pc_nb_repr_h_doc,
@@ -136,7 +136,7 @@ with cf.config_prefix('print'):
                        validator=is_bool)
     cf.register_option('encoding', detect_console_encoding(), pc_encoding_doc,
                     validator=is_text)
-    cf.register_option('expand_frame_repr', False, pc_expand_repr_doc)
+    cf.register_option('expand_frame_repr', True, pc_expand_repr_doc)
     cf.register_option('line_width', 80, pc_line_width_doc)
 
 tc_interactive_doc="""
diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 8f24c7836..f74448386 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -595,8 +595,8 @@ class DataFrame(NDFrame):
         expand_repr = get_option("print.expand_frame_repr")
 
         if max_columns > 0:
-            if len(self.index) <= max_rows and \
-                    (len(self.columns) <= max_columns or expand_repr):
+            if (len(self.index) <= max_rows and
+                (len(self.columns) <= max_columns and expand_repr)):
                 return False
             else:
                 return True
@@ -661,32 +661,8 @@ class DataFrame(NDFrame):
         return value
 
     def _need_wide_repr(self):
-        if com.in_qtconsole():
-            terminal_width, terminal_height = 100, 100
-        else:
-            terminal_width, terminal_height = get_terminal_size()
-        max_columns = get_option("print.max_columns")
-        expand_repr = get_option("print.expand_frame_repr")
-
-        if max_columns > 0:
-            if len(self.columns) > max_columns and expand_repr:
-                return True
-        else:
-            # save us
-            if (com.in_interactive_session() and
-                len(self.columns) > terminal_width // 2 and
-                expand_repr):
-                return True
-            else:
-                buf = StringIO()
-                self.to_string(buf=buf)
-                value = buf.getvalue()
-                if (max([len(l) for l in value.split('\n')]) > terminal_width
-                    and com.in_interactive_session()
-                    and expand_repr):
-                    return True
-
-        return False
+        return (get_option("print.expand_frame_repr")
+                and com.in_interactive_session())
 
     def __repr__(self):
         """
diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index e85eaefc7..c792a8188 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -20,7 +20,8 @@ import pandas.core.format as fmt
 import pandas.util.testing as tm
 import pandas
 import pandas as pd
-from pandas.core.config import set_option,get_option
+from pandas.core.config import (set_option, get_option,
+                                reset_option)
 
 _frame = DataFrame(tm.getSeriesData())
 
@@ -404,6 +405,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         set_option('test.interactive', True)
         col = lambda l, k: [tm.rands(k) for _ in xrange(l)]
         df = DataFrame([col(20, 25) for _ in range(10)])
+        set_option('print.expand_frame_repr', False)
         rep_str = repr(df)
         set_option('print.expand_frame_repr', True)
         wide_repr = repr(df)
@@ -413,7 +415,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         wider_repr = repr(df)
         self.assert_(len(wider_repr) < len(wide_repr))
 
-        set_option('print.expand_frame_repr', False)
+        reset_option('print.expand_frame_repr')
         set_option('test.interactive', False)
         set_option('print.line_width', 80)
 
@@ -422,6 +424,8 @@ class TestDataFrameFormatting(unittest.TestCase):
         col = lambda l, k: [tm.rands(k) for _ in xrange(l)]
         df = DataFrame([col(20, 25) for _ in range(10)])
         df.index.name = 'DataFrame Index'
+        set_option('print.expand_frame_repr', False)
+
         rep_str = repr(df)
         set_option('print.expand_frame_repr', True)
         wide_repr = repr(df)
@@ -434,7 +438,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         for line in wide_repr.splitlines()[1::13]:
             self.assert_('DataFrame Index' in line)
 
-        set_option('print.expand_frame_repr', False)
+        reset_option('print.expand_frame_repr')
         set_option('test.interactive', False)
         set_option('print.line_width', 80)
 
@@ -446,6 +450,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         df = DataFrame([col(20, 25) for _ in range(10)],
                        index=midx)
         df.index.names = ['Level 0', 'Level 1']
+        set_option('print.expand_frame_repr', False)
         rep_str = repr(df)
         set_option('print.expand_frame_repr', True)
         wide_repr = repr(df)
@@ -458,7 +463,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         for line in wide_repr.splitlines()[1::13]:
             self.assert_('Level 0 Level 1' in line)
 
-        set_option('print.expand_frame_repr', False)
+        reset_option('print.expand_frame_repr')
         set_option('test.interactive', False)
         set_option('print.line_width', 80)
 
@@ -472,6 +477,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         df = DataFrame([col(20, 25) for _ in range(10)],
                        index=midx, columns=mcols)
         df.index.names = ['Level 0', 'Level 1']
+        set_option('print.expand_frame_repr', False)
         rep_str = repr(df)
         set_option('print.expand_frame_repr', True)
         wide_repr = repr(df)
@@ -483,7 +489,7 @@ class TestDataFrameFormatting(unittest.TestCase):
 
         self.assert_(len(wide_repr.splitlines()) == 14 * 10 - 1)
 
-        set_option('print.expand_frame_repr', False)
+        reset_option('print.expand_frame_repr')
         set_option('test.interactive', False)
         set_option('print.line_width', 80)
 
@@ -491,6 +497,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         set_option('test.interactive', True)
         col = lambda l, k: [tm.randu(k) for _ in xrange(l)]
         df = DataFrame([col(20, 25) for _ in range(10)])
+        set_option('print.expand_frame_repr', False)
         rep_str = repr(df)
         set_option('print.expand_frame_repr', True)
         wide_repr = repr(df)
@@ -500,7 +507,7 @@ class TestDataFrameFormatting(unittest.TestCase):
         wider_repr = repr(df)
         self.assert_(len(wider_repr) < len(wide_repr))
 
-        set_option('print.expand_frame_repr', False)
+        reset_option('print.expand_frame_repr')
         set_option('test.interactive', False)
         set_option('print.line_width', 80)
 
