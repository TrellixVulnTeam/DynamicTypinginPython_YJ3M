commit 8fc42e25aee9867b484644b2338242d15d30f3ec
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Aug 24 16:09:17 2011 -0400

    TST: fixed index unit test

diff --git a/pandas/core/index.py b/pandas/core/index.py
index 85a7811ac..3476ce1d5 100644
--- a/pandas/core/index.py
+++ b/pandas/core/index.py
@@ -157,9 +157,8 @@ class Index(np.ndarray):
     def asof(self, label):
         """
         For a sorted index, return the most recent label up to and including
-        the passed label.
+        the passed label. Return NaN if not found
         """
-
         if label not in self.indexMap:
             loc = self.searchsorted(label, side='left')
             if loc > 0:
diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index 9d9f6eafd..3026d4fdb 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -77,7 +77,7 @@ class TestIndex(unittest.TestCase):
     def test_asof(self):
         d = self.dateIndex[0]
         self.assert_(self.dateIndex.asof(d) is d)
-        self.assert_(self.dateIndex.asof(d - timedelta(1)) is None)
+        self.assert_(np.isnan(self.dateIndex.asof(d - timedelta(1))))
 
         d = self.dateIndex[-1]
         self.assert_(self.dateIndex.asof(d + timedelta(1)) is d)
