commit 9ad8aa7c826d2cc834825c9e2be7fc5c36453779
Author: gfyoung <gfyoung17@gmail.com>
Date:   Sat Jul 7 07:22:58 2018 -0700

    TST: Add more information for unexpected warnings (#21779)

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 7574c1730..54ae8cfb3 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -2523,7 +2523,10 @@ def assert_produces_warning(expected_warning=Warning, filter_level="always",
                                     message=actual_warning.message)
                     assert actual_warning.filename == caller.filename, msg
             else:
-                extra_warnings.append(actual_warning.category.__name__)
+                extra_warnings.append((actual_warning.category.__name__,
+                                       actual_warning.message,
+                                       actual_warning.filename,
+                                       actual_warning.lineno))
         if expected_warning:
             msg = "Did not see expected warning of class {name!r}.".format(
                 name=expected_warning.__name__)
