commit e8c6c56069292078aaa8809ed82d52f3bc09a0be
Author: y-p <yoval@gmx.com>
Date:   Sat Dec 8 13:06:37 2012 +0200

    TST: DataFrame ctor should respect col order when given OrderedDict

diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 439f15b99..931d559b5 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -1798,6 +1798,16 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         self.assert_(not self.frame._is_mixed_type)
         self.assert_(self.mixed_frame._is_mixed_type)
 
+    def test_constructor_ordereddict(self):
+        from pandas.util.compat import OrderedDict
+        import random
+        nitems = 100
+        nums = range(nitems)
+        random.shuffle(nums)
+        expected=['A%d' %i for i in nums]
+        df=DataFrame(OrderedDict(zip(expected,[[0]]*nitems)))
+        self.assertEqual(expected,list(df.columns))
+
     def test_constructor_dict(self):
         frame = DataFrame({'col1' : self.ts1,
                             'col2' : self.ts2})
