commit f59b6a1297c7d8c0b34e20d7a62df006148837a2
Author: y-p <yoval@gmx.com>
Date:   Wed Jan 29 02:08:36 2014 +0200

    BLD/TEST: @network, SkipTest on known errnos

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 19c1f0fbd..3421f38ef 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -1099,9 +1099,13 @@ def network(t, url="http://www.google.com",
         except Exception as e:
             errno = getattr(e,'errno',None)
 
-            if not isinstance(e, error_classes) and not errno in skip_errnos:
+            if not isinstance(e, error_classes):
                 raise
 
+            if errno in skip_errnos:
+                raise SkipTest("Skipping test due to known errno"
+                               " and error %s" % e)
+
             if raise_on_error or can_connect(url, error_classes):
                 raise
             else:
