commit f187a3a912b6ba2b9e3b3ce4e292e1aeca3a4624
Author: y-p <yoval@gmx.com>
Date:   Thu Nov 22 19:05:27 2012 +0200

    TST: df.to_html() should respect col_space argument

diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index 41e6d7a50..8d0dacf2e 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -189,6 +189,23 @@ class TestDataFrameFormatting(unittest.TestCase):
         c30=len(df.to_string(col_space=30).split("\n")[1])
         self.assertTrue( c10 < c20 < c30 )
 
+    def test_to_html_with_col_space(self):
+        def check_with_width(df,col_space):
+            import re
+            # check that col_space affects HTML generation
+            # and be very brittle about it.
+            html = df.to_html(col_space=col_space)
+            hdrs = [x for x in html.split("\n") if re.search("<th[>\s]",x)]
+            self.assertTrue(len(hdrs) > 0 )
+            for h in hdrs:
+                self.assertTrue("min-width" in h )
+                self.assertTrue(str(col_space) in h )
+
+        df = DataFrame(np.random.random(size=(1,3)))
+
+        check_with_width(df,30)
+        check_with_width(df,50)
+
     def test_to_html_unicode(self):
         # it works!
         df = DataFrame({u'\u03c3' : np.arange(10.)})
