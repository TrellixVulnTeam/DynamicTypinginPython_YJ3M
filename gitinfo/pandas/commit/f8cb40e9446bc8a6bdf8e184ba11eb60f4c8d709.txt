commit f8cb40e9446bc8a6bdf8e184ba11eb60f4c8d709
Author: y-p <yoval@gmx.com>
Date:   Mon Mar 18 07:08:33 2013 +0200

    TST: SparseSeries.density shouldn't die

diff --git a/pandas/sparse/tests/test_sparse.py b/pandas/sparse/tests/test_sparse.py
index af9112b82..8cc6e01ae 100644
--- a/pandas/sparse/tests/test_sparse.py
+++ b/pandas/sparse/tests/test_sparse.py
@@ -156,6 +156,14 @@ class TestSparseSeries(TestCase,
         # it works!
         df = DataFrame({'col': self.bseries})
 
+    def test_series_density(self):
+        # GH2803
+        ts = Series(np.random.randn(10))
+        ts[2:-2] = nan
+        sts = ts.to_sparse()
+        density =  sts.density # don't die
+        self.assertEqual(density,4/10.0)
+
     def test_sparse_to_dense(self):
         arr, index = _test_data1()
         series = self.bseries.to_dense()
