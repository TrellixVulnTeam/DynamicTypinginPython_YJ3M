commit 9114b4bc15ea417e7313450e3d2e773a16295657
Author: avinashpancham <44933366+avinashpancham@users.noreply.github.com>
Date:   Sun Jun 21 00:17:51 2020 +0200

    TST: Verify whether Datetime subclasses are also of dtype datetime (#34911)

diff --git a/pandas/tests/frame/test_constructors.py b/pandas/tests/frame/test_constructors.py
index baac87755..756f3fec8 100644
--- a/pandas/tests/frame/test_constructors.py
+++ b/pandas/tests/frame/test_constructors.py
@@ -2539,6 +2539,14 @@ class TestDataFrameConstructors:
         assert isinstance(s[0], Timestamp)
         assert s[0] == dates[0][0]
 
+    def test_from_datetime_subclass(self):
+        # GH21142 Verify whether Datetime subclasses are also of dtype datetime
+        class DatetimeSubclass(datetime):
+            pass
+
+        data = pd.DataFrame({"datetime": [DatetimeSubclass(2020, 1, 1, 1, 1)]})
+        assert data.datetime.dtype == "datetime64[ns]"
+
 
 class TestDataFrameConstructorWithDatetimeTZ:
     def test_from_dict(self):
