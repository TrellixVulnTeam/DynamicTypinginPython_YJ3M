commit c0fc2eebc7ce7277c0ac1b3da49a82158fafc26c
Author: Chang She <chang@lambdafoundry.com>
Date:   Fri Apr 6 10:03:57 2012 -0400

    TST: added a couple more tests for get_store function

diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index 9082c4d54..81beeadd8 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -33,13 +33,19 @@ class TesttHDFStore(unittest.TestCase):
 
     def test_factory_fun(self):
         try:
-            with get_store(self.path) as tbl:
+            with get_store(self.scratchpath) as tbl:
                 raise ValueError('blah')
         except ValueError:
             pass
 
-        with get_store(self.path) as tbl:
-            pass
+        with get_store(self.scratchpath) as tbl:
+            tbl['a'] = tm.makeDataFrame()
+
+        with get_store(self.scratchpath) as tbl:
+            self.assertEquals(len(tbl), 1)
+            self.assertEquals(type(tbl['a']), DataFrame)
+
+        os.remove(self.scratchpath)
 
     def test_len_keys(self):
         self.store['a'] = tm.makeTimeSeries()
@@ -483,6 +489,8 @@ class TesttHDFStore(unittest.TestCase):
         self.store['a'] = series
         self.assertEquals(self.store['a'].index[0], dt)
 
+
+
 def curpath():
     pth, _ = os.path.split(os.path.abspath(__file__))
     return pth
