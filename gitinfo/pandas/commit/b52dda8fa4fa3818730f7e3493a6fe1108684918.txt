commit b52dda8fa4fa3818730f7e3493a6fe1108684918
Author: Jeff Reback <jeff@reback.net>
Date:   Thu Nov 17 12:40:26 2016 -0500

    ERR: fix exception propogation for datetime parsing functions, noted in python 3.6
    
    closes #14561
    
    Author: Jeff Reback <jeff@reback.net>
    
    Closes #14678 from jreback/py3.6_fix and squashes the following commits:
    
    c8eed83 [Jeff Reback] ERR: fix exception propogation for datetime parsing functions, noted in python 3.6

diff --git a/doc/source/whatsnew/v0.19.2.txt b/doc/source/whatsnew/v0.19.2.txt
index f193de7fb..f4a45a693 100644
--- a/doc/source/whatsnew/v0.19.2.txt
+++ b/doc/source/whatsnew/v0.19.2.txt
@@ -38,7 +38,7 @@ Bug Fixes
 
 
 
-
+- Bug in not propogating exceptions in parsing invalid datetimes, noted in python 3.6 (:issue:`14561`)
 
 
 
diff --git a/pandas/src/datetime.pxd b/pandas/src/datetime.pxd
index 5f7de8244..d3d471a33 100644
--- a/pandas/src/datetime.pxd
+++ b/pandas/src/datetime.pxd
@@ -126,8 +126,8 @@ cdef extern from "datetime/np_datetime_strings.h":
 
 
 
-cdef inline _string_to_dts(object val, pandas_datetimestruct* dts,
-                           int* out_local, int* out_tzoffset):
+cdef inline int _string_to_dts(object val, pandas_datetimestruct* dts,
+                           int* out_local, int* out_tzoffset) except? -1:
     cdef int result
     cdef char *tmp
 
@@ -139,10 +139,11 @@ cdef inline _string_to_dts(object val, pandas_datetimestruct* dts,
 
     if result == -1:
         raise ValueError('Unable to parse %s' % str(val))
+    return result
 
 cdef inline int _cstring_to_dts(char *val, int length,
                                 pandas_datetimestruct* dts,
-                                int* out_local, int* out_tzoffset):
+                                int* out_local, int* out_tzoffset) except? -1:
     cdef:
         npy_bool special
         PANDAS_DATETIMEUNIT out_bestunit
@@ -195,4 +196,3 @@ cdef inline int64_t _date_to_datetime64(object val,
     dts.hour = dts.min = dts.sec = dts.us = 0
     dts.ps = dts.as = 0
     return pandas_datetimestruct_to_datetime(PANDAS_FR_ns, dts)
-
diff --git a/setup.py b/setup.py
index a17dd502d..351d2b39c 100755
--- a/setup.py
+++ b/setup.py
@@ -454,7 +454,8 @@ lib_depends = lib_depends + ['pandas/src/numpy_helper.h',
 
 tseries_depends = ['pandas/src/datetime/np_datetime.h',
                    'pandas/src/datetime/np_datetime_strings.h',
-                   'pandas/src/period_helper.h']
+                   'pandas/src/period_helper.h',
+                   'pandas/src/datetime.pxd']
 
 
 # some linux distros require it
