commit eec8a83f448432e42d9ef4672abe2a3b36b2c816
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Jul 29 20:48:17 2012 -0400

    BUG: fix groupby.apply index name bug, close #1701

diff --git a/RELEASE.rst b/RELEASE.rst
index 3173d9d58..ae242af65 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -34,6 +34,8 @@ pandas 0.8.2
 **Bug fixes**
 
   - Fix MM-YYYY time series indexing case (#1672)
+  - Fix case where Categorical group key was not being passed into index in
+    GroupBy result (#1701)
 
 pandas 0.8.1
 ============
diff --git a/pandas/core/groupby.py b/pandas/core/groupby.py
index 673e3b5d7..6ed4e9aa8 100644
--- a/pandas/core/groupby.py
+++ b/pandas/core/groupby.py
@@ -1289,7 +1289,8 @@ class SeriesGroupBy(GroupBy):
 
         if isinstance(values[0], dict):
             # # GH #823
-            return DataFrame(values, index=keys).stack()
+            index = _get_index()
+            return DataFrame(values, index=index).stack()
 
         if isinstance(values[0], (Series, dict)):
             return self._concat_objects(keys, values,
diff --git a/pandas/tests/test_groupby.py b/pandas/tests/test_groupby.py
index 2786f28b6..ad0b76c45 100644
--- a/pandas/tests/test_groupby.py
+++ b/pandas/tests/test_groupby.py
@@ -1426,6 +1426,17 @@ class TestGroupBy(unittest.TestCase):
         expected = self.tsframe * 2
         assert_frame_equal(result, expected)
 
+    def test_apply_use_categorical_name(self):
+        from pandas import qcut
+        cats = qcut(self.df.C, 4)
+
+        def get_stats(group):
+            return {'min': group.min(), 'max': group.max(),
+                    'count': group.count(), 'mean': group.mean()}
+
+        result = self.df.groupby(cats).D.apply(get_stats)
+        self.assertEquals(result.index.names[0], 'C')
+
     def test_transform_mixed_type(self):
         index = MultiIndex.from_arrays([[0, 0, 0, 1, 1, 1],
                                         [1, 2, 3, 1, 2, 3]])
