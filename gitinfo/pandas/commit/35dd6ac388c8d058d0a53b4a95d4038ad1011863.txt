commit 35dd6ac388c8d058d0a53b4a95d4038ad1011863
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Nov 19 00:13:54 2012 -0500

    TST: validate #2257 fixed by 19dc284

diff --git a/RELEASE.rst b/RELEASE.rst
index acf3a3fe5..042ede155 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -49,6 +49,7 @@ pandas 0.10.0
   - Escape tabs in console output to avoid alignment issues (#2038)
   - Properly box datetime64 values when retrieving cross-section from
     mixed-dtype DataFrame (#2272)
+  - Fix concatenation bug leading to #2057, #2257
 
 pandas 0.9.1
 ============
diff --git a/pandas/tools/tests/test_merge.py b/pandas/tools/tests/test_merge.py
index 0b5051bee..10a5a1a8e 100644
--- a/pandas/tools/tests/test_merge.py
+++ b/pandas/tools/tests/test_merge.py
@@ -1392,6 +1392,30 @@ class TestConcatenate(unittest.TestCase):
         expected.ix['ItemC', :, :2] = 'baz'
         tm.assert_panel_equal(result, expected)
 
+    def test_panel_concat_buglet(self):
+        # #2257
+        def make_panel():
+            index = 5
+            cols  = 3
+            def df():
+                return DataFrame(np.random.randn(index,cols),
+                                 index = [ "I%s" % i for i in range(index) ],
+                                 columns = [ "C%s" % i for i in range(cols) ])
+            return Panel(dict([("Item%s" % x, df()) for x in ['A','B','C']]))
+
+        panel1 = make_panel()
+        panel2 = make_panel()
+
+        panel2 = panel2.rename_axis(dict([ (x,"%s_1" % x)
+                                           for x in panel2.major_axis ]),
+                                    axis=1)
+
+        panel3 = panel2.rename_axis(lambda x: '%s_1' % x, axis=1)
+        panel3 = panel3.rename_axis(lambda x: '%s_1' % x, axis=2)
+
+        # it works!
+        concat([ panel1, panel3 ], axis = 1, verify_integrity = True)
+
     def test_concat_series(self):
         ts = tm.makeTimeSeries()
         ts.name = 'foo'
