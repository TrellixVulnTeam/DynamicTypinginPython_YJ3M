commit 47778004fbe2594d0f877fbf49b685ad55469557
Author: K.-Michael Aye <kmichael.aye@gmail.com>
Date:   Mon Oct 12 20:01:44 2015 -0600

    PERF: Checking for length of categories before doing string conversion. fixes #11305

diff --git a/asv_bench/benchmarks/categoricals.py b/asv_bench/benchmarks/categoricals.py
index a0f938333..d32c19d6d 100644
--- a/asv_bench/benchmarks/categoricals.py
+++ b/asv_bench/benchmarks/categoricals.py
@@ -1,6 +1,7 @@
 from .pandas_vb_common import *
 import string
 
+
 class concat_categorical(object):
     goal_time = 0.2
 
@@ -26,6 +27,7 @@ class categorical_value_counts(object):
     def time_value_counts_dropna(self):
         self.ts.value_counts(dropna=True)
 
+
 class categorical_constructor(object):
     goal_time = 0.2
 
@@ -43,3 +45,16 @@ class categorical_constructor(object):
     def time_fastpath(self):
         Categorical(self.codes, self.cat_idx, fastpath=True)
 
+
+class categorical_rendering(object):
+    goal_time = 3e-3
+
+    def setup(self):
+        n = 1000
+        items = [str(i) for i in range(n)]
+        s = pd.Series(items, dtype='category')
+        df = pd.DataFrame({'C': s, 'data': np.random.randn(n)})
+        self.data = df[df.C == '20']
+
+    def time_rendering(self):
+        str(self.data.C)
diff --git a/doc/source/whatsnew/v0.17.1.txt b/doc/source/whatsnew/v0.17.1.txt
index cb342acc4..bda04d1dc 100755
--- a/doc/source/whatsnew/v0.17.1.txt
+++ b/doc/source/whatsnew/v0.17.1.txt
@@ -3,7 +3,7 @@
 v0.17.1 (November ??, 2015)
 ---------------------------
 
-This is a minor bug-fix release from 0.17.0 and includes a a large number of
+This is a minor bug-fix release from 0.17.0 and includes a large number of
 bug fixes along several new features, enhancements, and performance improvements.
 We recommend that all users upgrade to this version.
 
@@ -64,9 +64,11 @@ Performance Improvements
 - Improved performance of ``rolling_median`` (:issue:`11450`)
 
 - Improved performance to ``to_excel`` (:issue:`11352`)
+- Performance bug in repr of ``Categorical`` categories, which was rendering the strings before chopping them for display (:issue:`11305`)
 
 .. _whatsnew_0171.bug_fixes:
 
+
 Bug Fixes
 ~~~~~~~~~
 
diff --git a/pandas/core/categorical.py b/pandas/core/categorical.py
index e30468403..514f907d9 100644
--- a/pandas/core/categorical.py
+++ b/pandas/core/categorical.py
@@ -1390,12 +1390,13 @@ class Categorical(PandasObject):
         max_categories = (10 if get_option("display.max_categories") == 0
                     else get_option("display.max_categories"))
         from pandas.core import format as fmt
-        category_strs = fmt.format_array(self.categories, None)
-        if len(category_strs) > max_categories:
+        if len(self.categories) > max_categories:
             num = max_categories // 2
-            head = category_strs[:num]
-            tail = category_strs[-(max_categories - num):]
+            head = fmt.format_array(self.categories[:num], None)
+            tail = fmt.format_array(self.categories[-num:], None)
             category_strs = head + ["..."] + tail
+        else:
+            category_strs = fmt.format_array(self.categories, None)
 
         # Strip all leading spaces, which format_array adds for columns...
         category_strs = [x.strip() for x in category_strs]
