commit fe1654faa86836a0007bb513504e57c5c9935b8b
Author: Simon Hawkins <simonjayhawkins@gmail.com>
Date:   Wed Feb 27 14:40:32 2019 +0000

    TST: numpy RuntimeWarning with Series.round() (#25432)

diff --git a/pandas/tests/frame/test_analytics.py b/pandas/tests/frame/test_analytics.py
index 2e690ebbf..43a45bb91 100644
--- a/pandas/tests/frame/test_analytics.py
+++ b/pandas/tests/frame/test_analytics.py
@@ -8,7 +8,7 @@ import warnings
 import numpy as np
 import pytest
 
-from pandas.compat import PY35, lrange
+from pandas.compat import PY2, PY35, is_platform_windows, lrange
 import pandas.util._test_decorators as td
 
 import pandas as pd
@@ -1842,6 +1842,17 @@ class TestDataFrameAnalytics(object):
         with pytest.raises(ValueError, match=msg):
             np.round(df, decimals=0, out=df)
 
+    @pytest.mark.xfail(
+        PY2 and is_platform_windows(), reason="numpy/numpy#7882",
+        raises=AssertionError, strict=True)
+    def test_numpy_round_nan(self):
+        # See gh-14197
+        df = Series([1.53, np.nan, 0.06]).to_frame()
+        with tm.assert_produces_warning(None):
+            result = df.round()
+        expected = Series([2., np.nan, 0.]).to_frame()
+        tm.assert_frame_equal(result, expected)
+
     def test_round_mixed_type(self):
         # GH 11885
         df = DataFrame({'col1': [1.1, 2.2, 3.3, 4.4],
diff --git a/pandas/tests/series/test_analytics.py b/pandas/tests/series/test_analytics.py
index 6811e3707..1f265d574 100644
--- a/pandas/tests/series/test_analytics.py
+++ b/pandas/tests/series/test_analytics.py
@@ -9,7 +9,7 @@ import numpy as np
 from numpy import nan
 import pytest
 
-from pandas.compat import PY35, lrange, range
+from pandas.compat import PY2, PY35, is_platform_windows, lrange, range
 import pandas.util._test_decorators as td
 
 import pandas as pd
@@ -285,6 +285,17 @@ class TestSeriesAnalytics(object):
         with pytest.raises(ValueError, match=msg):
             np.round(s, decimals=0, out=s)
 
+    @pytest.mark.xfail(
+        PY2 and is_platform_windows(), reason="numpy/numpy#7882",
+        raises=AssertionError, strict=True)
+    def test_numpy_round_nan(self):
+        # See gh-14197
+        s = Series([1.53, np.nan, 0.06])
+        with tm.assert_produces_warning(None):
+            result = s.round()
+        expected = Series([2., np.nan, 0.])
+        assert_series_equal(result, expected)
+
     def test_built_in_round(self):
         if not compat.PY3:
             pytest.skip(
