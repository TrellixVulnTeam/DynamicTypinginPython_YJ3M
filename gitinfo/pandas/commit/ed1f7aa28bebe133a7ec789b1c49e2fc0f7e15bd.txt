commit ed1f7aa28bebe133a7ec789b1c49e2fc0f7e15bd
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Mon Jun 15 09:38:53 2020 -0500

    PERF: Fixed perf regression in TimedeltaIndex.get_loc (#34734)

diff --git a/pandas/core/arrays/datetimelike.py b/pandas/core/arrays/datetimelike.py
index 8af23815b..1fea6ca1b 100644
--- a/pandas/core/arrays/datetimelike.py
+++ b/pandas/core/arrays/datetimelike.py
@@ -776,15 +776,19 @@ class DatetimeLikeArrayMixin(
 
         return self._unbox(fill_value)
 
-    def _validate_scalar(self, value, msg: str, cast_str: bool = False):
+    def _validate_scalar(
+        self, value, msg: Optional[str] = None, cast_str: bool = False
+    ):
         """
         Validate that the input value can be cast to our scalar_type.
 
         Parameters
         ----------
         value : object
-        msg : str
+        msg : str, optional.
             Message to raise in TypeError on invalid input.
+            If not provided, `value` is cast to a str and used
+            as the message.
         cast_str : bool, default False
             Whether to try to parse string input to scalar_type.
 
@@ -807,6 +811,8 @@ class DatetimeLikeArrayMixin(
             value = self._scalar_type(value)  # type: ignore
 
         else:
+            if msg is None:
+                msg = str(value)
             raise TypeError(msg)
 
         return value
diff --git a/pandas/core/indexes/timedeltas.py b/pandas/core/indexes/timedeltas.py
index a14994866..f6661c6b5 100644
--- a/pandas/core/indexes/timedeltas.py
+++ b/pandas/core/indexes/timedeltas.py
@@ -213,9 +213,8 @@ class TimedeltaIndex(DatetimeTimedeltaMixin):
         if not is_scalar(key):
             raise InvalidIndexError(key)
 
-        msg = str(key)
         try:
-            key = self._data._validate_scalar(key, msg, cast_str=True)
+            key = self._data._validate_scalar(key, cast_str=True)
         except TypeError as err:
             raise KeyError(key) from err
 
