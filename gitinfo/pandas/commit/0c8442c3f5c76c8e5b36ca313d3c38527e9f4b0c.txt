commit 0c8442c3f5c76c8e5b36ca313d3c38527e9f4b0c
Author: Jeff Reback <jeff@reback.net>
Date:   Wed Jan 25 21:31:03 2017 -0500

    TST: incorrect locale specification for datetime format (#15233)
    
    closes #15215

diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 4d286fc62..b5daf1ac0 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -1,4 +1,5 @@
 # pylint: disable-msg=E1101,W0612
+import locale
 import calendar
 import operator
 import sys
@@ -5369,7 +5370,12 @@ class TimeConversionFormats(tm.TestCase):
         assert_series_equal(result, expected)
 
     def test_to_datetime_format_microsecond(self):
-        val = '01-Apr-2011 00:00:01.978'
+
+        # these are locale dependent
+        lang, _ = locale.getlocale()
+        month_abbr = calendar.month_abbr[4]
+        val = '01-{}-2011 00:00:01.978'.format(month_abbr)
+
         format = '%d-%b-%Y %H:%M:%S.%f'
         result = to_datetime(val, format=format)
         exp = datetime.strptime(val, format)
