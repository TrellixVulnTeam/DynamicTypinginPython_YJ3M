commit 3b570e33e2047e8261b3002955dcddd578f4c251
Author: gfyoung <gfyoung17+GitHub@gmail.com>
Date:   Thu Feb 28 07:42:54 2019 -0500

    BUG: Keep column level name in resample nunique (#25469)
    
    Closes gh-23222
    
    xref gh-23645

diff --git a/doc/source/reference/groupby.rst b/doc/source/reference/groupby.rst
index 6ed85ff2f..c7f9113b5 100644
--- a/doc/source/reference/groupby.rst
+++ b/doc/source/reference/groupby.rst
@@ -99,6 +99,7 @@ application to columns of a specific data type.
    DataFrameGroupBy.idxmax
    DataFrameGroupBy.idxmin
    DataFrameGroupBy.mad
+   DataFrameGroupBy.nunique
    DataFrameGroupBy.pct_change
    DataFrameGroupBy.plot
    DataFrameGroupBy.quantile
diff --git a/doc/source/whatsnew/v0.25.0.rst b/doc/source/whatsnew/v0.25.0.rst
index 170e7f14d..ee16246a1 100644
--- a/doc/source/whatsnew/v0.25.0.rst
+++ b/doc/source/whatsnew/v0.25.0.rst
@@ -210,6 +210,7 @@ Groupby/Resample/Rolling
 ^^^^^^^^^^^^^^^^^^^^^^^^
 
 - Bug in :meth:`pandas.core.resample.Resampler.agg` with a timezone aware index where ``OverflowError`` would raise when passing a list of functions (:issue:`22660`)
+- Bug in :meth:`pandas.core.groupby.DataFrameGroupBy.nunique` in which the names of column levels were lost (:issue:`23222`)
 -
 -
 
diff --git a/pandas/core/groupby/generic.py b/pandas/core/groupby/generic.py
index 52056a684..683c21f7b 100644
--- a/pandas/core/groupby/generic.py
+++ b/pandas/core/groupby/generic.py
@@ -1579,6 +1579,7 @@ class DataFrameGroupBy(NDFrameGroupBy):
             from pandas.core.reshape.concat import concat
             results = [groupby_series(obj[col], col) for col in obj.columns]
             results = concat(results, axis=1)
+            results.columns.names = obj.columns.names
 
         if not self.as_index:
             results.index = ibase.default_index(len(results))
diff --git a/pandas/tests/groupby/test_function.py b/pandas/tests/groupby/test_function.py
index a884a3784..1788b29a1 100644
--- a/pandas/tests/groupby/test_function.py
+++ b/pandas/tests/groupby/test_function.py
@@ -897,6 +897,15 @@ def test_nunique_with_timegrouper():
     tm.assert_series_equal(result, expected)
 
 
+def test_nunique_preserves_column_level_names():
+    # GH 23222
+    test = pd.DataFrame([1, 2, 2],
+                        columns=pd.Index(['A'], name="level_0"))
+    result = test.groupby([0, 0, 0]).nunique()
+    expected = pd.DataFrame([2], columns=test.columns)
+    tm.assert_frame_equal(result, expected)
+
+
 # count
 # --------------------------------
 
diff --git a/pandas/tests/resample/test_datetime_index.py b/pandas/tests/resample/test_datetime_index.py
index 71b100401..ce675893d 100644
--- a/pandas/tests/resample/test_datetime_index.py
+++ b/pandas/tests/resample/test_datetime_index.py
@@ -1135,6 +1135,15 @@ def test_resample_nunique():
     assert_series_equal(result, expected)
 
 
+def test_resample_nunique_preserves_column_level_names():
+    # see gh-23222
+    df = tm.makeTimeDataFrame(freq="1D").abs()
+    df.columns = pd.MultiIndex.from_arrays([df.columns.tolist()] * 2,
+                                           names=["lev0", "lev1"])
+    result = df.resample("1h").nunique()
+    tm.assert_index_equal(df.columns, result.columns)
+
+
 def test_resample_nunique_with_date_gap():
     # GH 13453
     index = pd.date_range('1-1-2000', '2-15-2000', freq='h')
