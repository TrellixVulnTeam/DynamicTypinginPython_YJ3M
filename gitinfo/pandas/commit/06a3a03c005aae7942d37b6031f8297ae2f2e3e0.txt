commit 06a3a03c005aae7942d37b6031f8297ae2f2e3e0
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Thu Jun 20 20:11:55 2019 -0500

    Surface NumPy FutureWarning about comparisons (#26966)

diff --git a/pandas/core/indexes/base.py b/pandas/core/indexes/base.py
index 68faa3eb3..73abd7084 100644
--- a/pandas/core/indexes/base.py
+++ b/pandas/core/indexes/base.py
@@ -76,13 +76,8 @@ def _make_comparison_op(op, cls):
                 result = ops._comp_method_OBJECT_ARRAY(op, self.values, other)
 
         else:
-
-            # numpy will show a DeprecationWarning on invalid elementwise
-            # comparisons, this will raise in the future
-            with warnings.catch_warnings(record=True):
-                warnings.filterwarnings("ignore", "elementwise", FutureWarning)
-                with np.errstate(all='ignore'):
-                    result = op(self.values, np.asarray(other))
+            with np.errstate(all='ignore'):
+                result = op(self.values, np.asarray(other))
 
         # technically we could support bool dtyped Index
         # for now just return the indexing array directly
diff --git a/pandas/tests/indexes/test_numpy_compat.py b/pandas/tests/indexes/test_numpy_compat.py
index 460faaaf0..349d10f50 100644
--- a/pandas/tests/indexes/test_numpy_compat.py
+++ b/pandas/tests/indexes/test_numpy_compat.py
@@ -80,3 +80,16 @@ def test_numpy_ufuncs_other(indices, func):
         else:
             with pytest.raises(Exception):
                 func(idx)
+
+
+def test_elementwise_comparison_warning():
+    # https://github.com/pandas-dev/pandas/issues/22698#issuecomment-458968300
+    # np.array([1, 2]) == 'a' returns False, and produces a
+    # FutureWarning that it'll be [False, False] in the future.
+    # We just want to ensure that comes through.
+    # When NumPy dev actually enforces this change, we'll need to skip
+    # this test.
+    idx = Index([1, 2])
+    with tm.assert_produces_warning(FutureWarning,
+                                    check_stacklevel=False):
+        idx == 'a'
