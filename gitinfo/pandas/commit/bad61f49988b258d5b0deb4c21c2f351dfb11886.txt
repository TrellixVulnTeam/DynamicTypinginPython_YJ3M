commit bad61f49988b258d5b0deb4c21c2f351dfb11886
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Jul 25 10:57:23 2011 -0400

    TST: do roundtrip in try: finally:

diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index adb5c2bbd..30b447120 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -285,20 +285,24 @@ class TesttHDFStore(unittest.TestCase):
 
     def _check_roundtrip(self, obj, comparator):
         store = HDFStore(self.scratchpath, 'w')
-        store['obj'] = obj
-        retrieved = store['obj']
-        comparator(retrieved, obj)
-        store.close()
-        os.remove(self.scratchpath)
+        try:
+            store['obj'] = obj
+            retrieved = store['obj']
+            comparator(retrieved, obj)
+        finally:
+            store.close()
+            os.remove(self.scratchpath)
 
     def _check_roundtrip_table(self, obj, comparator):
         store = HDFStore(self.scratchpath, 'w')
-        store.put('obj', obj, table=True)
-        retrieved = store['obj']
-        sorted_obj = _test_sort(obj)
-        comparator(retrieved, sorted_obj)
-        store.close()
-        os.remove(self.scratchpath)
+        try:
+            store.put('obj', obj, table=True)
+            retrieved = store['obj']
+            sorted_obj = _test_sort(obj)
+            comparator(retrieved, sorted_obj)
+        finally:
+            store.close()
+            os.remove(self.scratchpath)
 
     def test_legacy_read(self):
         pth = curpath()
