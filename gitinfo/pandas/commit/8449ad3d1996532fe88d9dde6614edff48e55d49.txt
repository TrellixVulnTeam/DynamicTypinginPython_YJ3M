commit 8449ad3d1996532fe88d9dde6614edff48e55d49
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Jul 20 16:19:40 2011 -0400

    BUG: reindexing length-0 DataFrame contributed fix

diff --git a/pandas/core/internals.py b/pandas/core/internals.py
index b76105cd1..489dac408 100644
--- a/pandas/core/internals.py
+++ b/pandas/core/internals.py
@@ -101,7 +101,14 @@ class Block(object):
         """
         Reindex using pre-computed indexer information
         """
-        new_values = self.values.take(indexer, axis=axis)
+        if self.values.size > 0:
+            new_values = self.values.take(indexer, axis=axis)
+        else:
+            shape = list(self.shape)
+            shape[axis] = len(indexer)
+            new_values = np.empty(shape)
+            new_values.fill(np.nan)
+
         if needs_masking:
             new_values = _cast_if_bool_int(new_values)
             common.null_out_axis(new_values, notmask, axis)
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 442b13a94..370a1761e 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -1590,6 +1590,12 @@ class TestDataFrame(unittest.TestCase, CheckIndexing):
         self.assert_(not newFrame)
         self.assertEqual(len(newFrame.columns), len(self.frame.columns))
 
+        # length zero with columns reindexed with non-empty index
+        newFrame = self.frame.reindex([])
+        newFrame = newFrame.reindex(self.frame.index)
+        self.assertEqual(len(newFrame.index), len(self.frame.index))
+        self.assertEqual(len(newFrame.columns), len(self.frame.columns))
+
         # pass non-Index
         newFrame = self.frame.reindex(list(self.ts1.index))
         self.assert_(newFrame.index.equals(self.ts1.index))
