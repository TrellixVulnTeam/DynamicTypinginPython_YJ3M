commit b335459e8b43afcc7b3db093105b90302618ac16
Author: y-p <yoval@gmx.com>
Date:   Thu Jul 11 23:15:38 2013 +0300

    BLD: Use git describe to generate the version string for dev versions

diff --git a/setup.py b/setup.py
index ec7f1628a..57d648e15 100755
--- a/setup.py
+++ b/setup.py
@@ -199,19 +199,20 @@ if not ISRELEASED:
     try:
         import subprocess
         try:
-            pipe = subprocess.Popen(["git", "rev-parse", "--short", "HEAD"],
+            pipe = subprocess.Popen(["git", "describe", "HEAD"],
                                     stdout=subprocess.PIPE).stdout
         except OSError:
             # msysgit compatibility
             pipe = subprocess.Popen(
-                ["git.cmd", "rev-parse", "--short", "HEAD"],
+                ["git.cmd", "describe", "HEAD"],
                 stdout=subprocess.PIPE).stdout
         rev = pipe.read().strip()
         # makes distutils blow up on Python 2.7
         if sys.version_info[0] >= 3:
             rev = rev.decode('ascii')
 
-        FULLVERSION += "-%s" % rev
+        FULLVERSION = rev
+
     except:
         warnings.warn("WARNING: Couldn't get git revision")
 else:
