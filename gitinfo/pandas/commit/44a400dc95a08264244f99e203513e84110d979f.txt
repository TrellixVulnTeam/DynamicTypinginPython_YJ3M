commit 44a400dc95a08264244f99e203513e84110d979f
Author: y-p <yoval@gmx.com>
Date:   Sun Apr 21 10:20:54 2013 +0300

    ENH: save initial sys.getdefaultencoding() value aside for debugging

diff --git a/pandas/core/format.py b/pandas/core/format.py
index 83d7a0361..fbab7472b 100644
--- a/pandas/core/format.py
+++ b/pandas/core/format.py
@@ -1641,13 +1641,14 @@ def reset_printoptions():
                   FutureWarning)
     reset_option("^display\.")
 
-
+_initial_defencoding = None
 def detect_console_encoding():
     """
     Try to find the most capable encoding supported by the console.
     slighly modified from the way IPython handles the same issue.
     """
     import locale
+    global _initial_defencoding
 
     encoding = None
     try:
@@ -1664,6 +1665,11 @@ def detect_console_encoding():
     if not encoding or 'ascii' in encoding.lower():  # when all else fails. this will usually be "ascii"
             encoding = sys.getdefaultencoding()
 
+    # GH3360, save the reported defencoding at import time
+    # MPL backends may change it. Make available for debugging.
+    if not _initial_defencoding:
+        _initial_defencoding = sys.getdefaultencoding()
+
     return encoding
 
 
