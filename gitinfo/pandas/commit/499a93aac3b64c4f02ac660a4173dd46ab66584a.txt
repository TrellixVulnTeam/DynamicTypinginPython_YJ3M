commit 499a93aac3b64c4f02ac660a4173dd46ab66584a
Author: sinhrks <sinhrks@gmail.com>
Date:   Sun Jul 20 23:21:02 2014 +0900

    TST: add tests for GH 6572

diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 161426154..b6761426e 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -2181,6 +2181,29 @@ class TestDatetimeIndex(tm.TestCase):
                           end='2011-01-01', freq='B')
         self.assertRaises(ValueError, DatetimeIndex, periods=10, freq='D')
 
+    def test_constructor_datetime64_tzformat(self):
+        # GH 6572
+        tm._skip_if_no_pytz()
+        tm._skip_if_no_dateutil()
+        from dateutil.tz import tzoffset
+        for freq in ['AS', 'W-SUN']:
+            idx = date_range('2013-01-01T00:00:00-05:00', '2016-01-01T23:59:59-05:00', freq=freq)
+            expected = date_range('2013-01-01T00:00:00', '2016-01-01T23:59:59',
+                                  freq=freq, tz=tzoffset(None, -18000))
+            tm.assert_index_equal(idx, expected)
+            # Unable to use `US/Eastern` because of DST
+            expected_i8 = date_range('2013-01-01T00:00:00', '2016-01-01T23:59:59',
+                                     freq=freq, tz='America/Lima')
+            self.assert_numpy_array_equal(idx.asi8, expected_i8.asi8)
+
+            idx = date_range('2013-01-01T00:00:00+09:00', '2016-01-01T23:59:59+09:00', freq=freq)
+            expected = date_range('2013-01-01T00:00:00', '2016-01-01T23:59:59',
+                                  freq=freq, tz=tzoffset(None, 32400))
+            tm.assert_index_equal(idx, expected)
+            expected_i8 = date_range('2013-01-01T00:00:00', '2016-01-01T23:59:59',
+                                     freq=freq, tz='Asia/Tokyo')
+            self.assert_numpy_array_equal(idx.asi8, expected_i8.asi8)
+
     def test_constructor_name(self):
         idx = DatetimeIndex(start='2000-01-01', periods=1, freq='A',
                             name='TEST')
