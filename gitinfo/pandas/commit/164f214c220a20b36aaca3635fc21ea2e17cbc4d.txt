commit 164f214c220a20b36aaca3635fc21ea2e17cbc4d
Author: Artemy Kolchinsky <akolchin@indiana.edu>
Date:   Thu Sep 18 17:11:24 2014 -0700

    Added test and fix for insertion of empty table bug

diff --git a/pandas/io/sql.py b/pandas/io/sql.py
index 6ead268b3..184c1a010 100644
--- a/pandas/io/sql.py
+++ b/pandas/io/sql.py
@@ -654,8 +654,15 @@ class PandasSQLTable(PandasObject):
         keys, data_list = self.insert_data()
 
         nrows = len(self.frame)
+
+        if nrows == 0:
+            return
+
         if chunksize is None: 
             chunksize = nrows
+        elif chunksize == 0:
+            raise ValueError('chunksize argument should be non-zero')
+            
         chunks = int(nrows / chunksize) + 1
 
         with self.pd_sql.run_transaction() as conn:
diff --git a/pandas/io/tests/test_sql.py b/pandas/io/tests/test_sql.py
index f02c701d9..217114a00 100644
--- a/pandas/io/tests/test_sql.py
+++ b/pandas/io/tests/test_sql.py
@@ -253,6 +253,10 @@ class PandasSQLTest(unittest.TestCase):
         # Nuke table
         self.drop_table('test_frame1')
 
+    def _to_sql_empty(self):
+        self.drop_table('test_frame1')
+        self.pandasSQL.to_sql(self.test_frame1.iloc[:0], 'test_frame1')
+
     def _to_sql_fail(self):
         self.drop_table('test_frame1')
 
@@ -850,6 +854,9 @@ class _TestSQLAlchemy(PandasSQLTest):
     def test_to_sql(self):
         self._to_sql()
 
+    def test_to_sql_empty(self):
+        self._to_sql_empty()
+
     def test_to_sql_fail(self):
         self._to_sql_fail()
 
@@ -1346,6 +1353,9 @@ class TestSQLiteLegacy(PandasSQLTest):
     def test_to_sql(self):
         self._to_sql()
 
+    def test_to_sql_empty(self):
+        self._to_sql_empty()
+
     def test_to_sql_fail(self):
         self._to_sql_fail()
 
