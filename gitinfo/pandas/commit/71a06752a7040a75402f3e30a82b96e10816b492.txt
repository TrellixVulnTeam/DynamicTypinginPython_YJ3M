commit 71a06752a7040a75402f3e30a82b96e10816b492
Author: Pietro Battiston <me@pietrobattiston.it>
Date:   Thu Jul 14 20:12:33 2016 -0400

    CLN: Initialization coincides with mapping, hence with uniqueness check
    
     - [x] tests added / passed   - [x] passes ``git diff upstream/master
    | flake8 --diff``    Rebased version of
    https://github.com/pydata/pandas/pull/10229 which was [actually not](h
    ttps://github.com/pydata/pandas/pull/10229#issuecomment-131470116)
    fixed by https://github.com/pydata/pandas/pull/10199.    Nothing
    particular relevant, just wanted to delete this branch locally and
    noticed it still applies: you'll judge what to do of it.
    
    Author: Pietro Battiston <me@pietrobattiston.it>
    
    Closes #13594 from toobaz/fix_checkunique and squashes the following commits:
    
    a63bd12 [Pietro Battiston] CLN: Initialization coincides with mapping, hence with uniqueness check

diff --git a/pandas/index.pyx b/pandas/index.pyx
index 71717dd2d..bc9851006 100644
--- a/pandas/index.pyx
+++ b/pandas/index.pyx
@@ -80,7 +80,7 @@ cdef class IndexEngine:
 
     cdef:
         bint unique, monotonic_inc, monotonic_dec
-        bint initialized, monotonic_check, unique_check
+        bint initialized, monotonic_check
 
     def __init__(self, vgetter, n):
         self.vgetter = vgetter
@@ -91,7 +91,6 @@ cdef class IndexEngine:
         self.monotonic_check = 0
 
         self.unique = 0
-        self.unique_check = 0
         self.monotonic_inc = 0
         self.monotonic_dec = 0
 
@@ -211,8 +210,8 @@ cdef class IndexEngine:
     property is_unique:
 
         def __get__(self):
-            if not self.unique_check:
-                self._do_unique_check()
+            if not self.initialized:
+                self.initialize()
 
             return self.unique == 1
 
@@ -246,9 +245,6 @@ cdef class IndexEngine:
     cdef _get_index_values(self):
         return self.vgetter()
 
-    cdef inline _do_unique_check(self):
-        self._ensure_mapping_populated()
-
     def _call_monotonic(self, values):
         raise NotImplementedError
 
@@ -270,7 +266,6 @@ cdef class IndexEngine:
 
         if len(self.mapping) == len(values):
             self.unique = 1
-            self.unique_check = 1
 
         self.initialized = 1
 
