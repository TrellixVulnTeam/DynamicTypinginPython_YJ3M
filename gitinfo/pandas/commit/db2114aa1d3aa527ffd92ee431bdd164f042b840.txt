commit db2114aa1d3aa527ffd92ee431bdd164f042b840
Author: Adam Klein <adamklein@gmail.com>
Date:   Tue Jan 31 10:30:24 2012 -0500

    TST: renamed io b/c module conflict, made suite check for config

diff --git a/pandas/io/parsers.py b/pandas/io/parsers.py
index 1bc8bb26d..1ecbeebd0 100644
--- a/pandas/io/parsers.py
+++ b/pandas/io/parsers.py
@@ -270,10 +270,10 @@ class TextParser(object):
                 if self.encoding is not None:
                     self.buf.extend(list(
                         com.UnicodeReader(StringIO(line),
-                                          dialect=dia, 
+                                          dialect=dia,
                                           encoding=self.encoding)))
                 else:
-                    self.buf.extend(list(csv.reader(StringIO(line), 
+                    self.buf.extend(list(csv.reader(StringIO(line),
                                                     dialect=dia)))
 
             if self.encoding is not None:
diff --git a/vb_suite/io.py b/vb_suite/io_bench.py
similarity index 87%
rename from vb_suite/io.py
rename to vb_suite/io_bench.py
index b92632aa1..ea2af9608 100644
--- a/vb_suite/io.py
+++ b/vb_suite/io_bench.py
@@ -1,4 +1,4 @@
-from vbench.benchmark import Benchmark
+from vbench.api import Benchmark
 from datetime import datetime
 
 common_setup = """from pandas_vb_common import *
@@ -7,7 +7,7 @@ common_setup = """from pandas_vb_common import *
 #----------------------------------------------------------------------
 # read_csv
 
-setup = common_setup + """
+setup1 = common_setup + """
 index = [rands(10) for _ in xrange(10000)]
 df = DataFrame({'float1' : randn(10000),
                 'float2' : randn(10000),
@@ -18,14 +18,14 @@ df = DataFrame({'float1' : randn(10000),
 df.to_csv('__test__.csv')
 """
 
-read_csv_standard = Benchmark("read_csv('__test__.csv')", setup,
+read_csv_standard = Benchmark("read_csv('__test__.csv')", setup1,
                               start_date=datetime(2011, 9, 15))
 
 
 #----------------------------------------------------------------------
 # write_csv
 
-setup = common_setup + """
+setup2 = common_setup + """
 index = [rands(10) for _ in xrange(10000)]
 df = DataFrame({'float1' : randn(10000),
                 'float2' : randn(10000),
@@ -35,6 +35,6 @@ df = DataFrame({'float1' : randn(10000),
                index=index)
 """
 
-write_csv_standard = Benchmark("df.to_csv('__test__.csv')", setup,
+write_csv_standard = Benchmark("df.to_csv('__test__.csv')", setup2,
                                start_date=datetime(2011, 9, 15))
 
diff --git a/vb_suite/suite.py b/vb_suite/suite.py
index d3b9b663c..9c0e1d2f7 100644
--- a/vb_suite/suite.py
+++ b/vb_suite/suite.py
@@ -6,7 +6,7 @@ import os
 modules = ['groupby', 'indexing', 'reindex',
            'sparse', 'index_object', 'miscellaneous',
            'stat_ops', 'join_merge', 'panel_ctor', 'frame_ctor',
-           'frame_methods', 'io']
+           'frame_methods', 'io_bench']
 
 by_module = {}
 benchmarks = []
@@ -20,10 +20,22 @@ for modname in modules:
 for bm in benchmarks:
     assert(bm.name is not None)
 
-REPO_PATH = '/home/adam/code/pandas'
-REPO_URL = 'git@github.com:adamklein/pandas.git'
-DB_PATH = '/home/adam/code/pandas/vb_suite/benchmarks.db'
-TMP_DIR = '/home/adam/tmp/vb_pandas'
+try:
+    import ConfigParser
+
+    config = ConfigParser.ConfigParser()
+    config.readfp(open(os.path.expanduser('~/.vbenchcfg')))
+
+    REPO_PATH = config.get('setup', 'repo_path')
+    REPO_URL = config.get('setup', 'repo_url')
+    DB_PATH = config.get('setup', 'db_path')
+    TMP_DIR = config.get('setup', 'tmp_dir')
+except:
+    REPO_PATH = '/home/wesm/code/pandas'
+    REPO_URL = 'git@github.com:wesm/pandas.git'
+    DB_PATH = '/home/wesm/code/pandas/vb_suite/benchmarks.db'
+    TMP_DIR = '/home/wesm/tmp/vb_pandas'
+
 PREPARE = """
 python setup.py clean
 """
@@ -40,7 +52,7 @@ RST_BASE = '../doc/source'
 
 # HACK!
 
-timespan = [datetime(2011, 1, 1), datetime(2012, 1, 1)]
+#timespan = [datetime(2011, 1, 1), datetime(2012, 1, 1)]
 
 def generate_rst_files(benchmarks):
     import matplotlib as mpl
