commit d0586a18238044a1e671e9dae80428e3d7f59b4c
Author: y-p <yoval@gmx.com>
Date:   Wed Mar 20 22:23:41 2013 +0200

    BLD: improve test_perf messages

diff --git a/test_perf.sh b/test_perf.sh
index c71f37b23..fdd962358 100755
--- a/test_perf.sh
+++ b/test_perf.sh
@@ -3,8 +3,11 @@
 CURDIR=$(pwd)
 BASEDIR=$(readlink -f $(dirname $0  ))
 
-echo "Use vbench to compare the performance of one commit against another."
-echo "Make sure the python 'vbench' library is installed..\n"
+echo "This script compares the performance of two commits."
+echo "Make sure the python 'vbench' library is installed.\n"
+echo "Setting the BUILD_CACHE_DIR env var to a temp directory will"
+echo "potentially speed up subsequent runs.\n"
+
 
 cd "$BASEDIR/vb_suite/"
 python test_perf.py $@
diff --git a/vb_suite/test_perf.py b/vb_suite/test_perf.py
index 544f06099..c7676bd56 100755
--- a/vb_suite/test_perf.py
+++ b/vb_suite/test_perf.py
@@ -155,14 +155,15 @@ def main():
         ).sort("ratio").set_index('name')  # sort in ascending order
 
         s = "\n\nResults:\n"
+        s += "Test name                 | target[ms] | base[ms] | ratio\n\n"
         s += totals.to_string(
-            float_format=lambda x: "{:4.4f}".format(x).rjust(10))
+            float_format=lambda x: "{:5.4f}".format(x).rjust(10),index_names=False,header=False)
         s += "\n\n"
-        s += "Columns: test_name | target_duration [ms] | baseline_duration [ms] | ratio\n\n"
-        s += "- a Ratio of 1.30 means the target commit is 30% slower then the baseline.\n\n"
+        s += "Test name                 | target[ms] | base[ms] | ratio\n\n"
+        s += "Ratio < 1.0 means the target commit is faster then the baseline.\n\n"
 
         s += 'Target [%s] : %s\n' % (h_head, repo.messages.get(h_head, ""))
-        s += 'Baseline [%s] : %s\n\n' % (
+        s += 'Bas e  [%s] : %s\n\n' % (
             h_baseline, repo.messages.get(h_baseline, ""))
 
         logfile.write(s)
