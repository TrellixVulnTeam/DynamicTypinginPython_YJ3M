commit ee6c5aef88a1aea18644e2040fcabde6e53cd256
Author: y-p <yoval@gmx.com>
Date:   Thu Sep 27 17:04:27 2012 +0200

    modify _check_method_works to test index with unicode

diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index 4d10a22aa..3a2005fff 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -27,6 +27,7 @@ from pandas.lib import Timestamp
 class TestIndex(unittest.TestCase):
 
     def setUp(self):
+        self.unicodeIndex = tm.makeUnicodeIndex(100)
         self.strIndex = tm.makeStringIndex(100)
         self.dateIndex = tm.makeDateIndex(100)
         self.intIndex = tm.makeIntIndex(100)
@@ -374,6 +375,7 @@ class TestIndex(unittest.TestCase):
     def _check_method_works(self, method):
         method(self.empty)
         method(self.dateIndex)
+        method(self.unicodeIndex)
         method(self.strIndex)
         method(self.intIndex)
         method(self.tuples)
diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 01117f3e9..ec67a7b09 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -36,6 +36,10 @@ def rands(n):
     choices = string.ascii_letters + string.digits
     return ''.join([random.choice(choices) for _ in xrange(n)])
 
+def randu(n):
+    choices = u"".join(map(unichr,range(1488,1488+26))) + string.digits
+    return ''.join([random.choice(choices) for _ in xrange(n)])
+
 #-------------------------------------------------------------------------------
 # Console debugging tools
 
@@ -183,6 +187,9 @@ def getCols(k):
 def makeStringIndex(k):
     return Index([rands(10) for _ in xrange(k)])
 
+def makeUnicodeIndex(k):
+    return Index([randu(10) for _ in xrange(k)])
+
 def makeIntIndex(k):
     return Index(range(k))
 
