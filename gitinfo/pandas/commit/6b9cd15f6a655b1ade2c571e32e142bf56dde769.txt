commit 6b9cd15f6a655b1ade2c571e32e142bf56dde769
Author: Sinhrks <sinhrks@gmail.com>
Date:   Tue Jul 19 07:08:26 2016 +0900

    TST: assert message shows unnecessary diff (#13676)

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 4442eed89..402613d3f 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -1010,14 +1010,15 @@ def raise_assert_detail(obj, message, left, right, diff=None):
     if isinstance(right, np.ndarray):
         right = pprint_thing(right)
 
-    if diff is not None:
-        diff = "\n[diff]: {diff}".format(diff=diff)
-
     msg = """{0} are different
 
 {1}
 [left]:  {2}
-[right]: {3}{4}""".format(obj, message, left, right, diff)
+[right]: {3}""".format(obj, message, left, right)
+
+    if diff is not None:
+        msg = msg + "\n[diff]: {diff}".format(diff=diff)
+
     raise AssertionError(msg)
 
 
