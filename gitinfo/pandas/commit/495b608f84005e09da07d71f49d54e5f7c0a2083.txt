commit 495b608f84005e09da07d71f49d54e5f7c0a2083
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Jul 20 16:50:50 2012 -0400

    TST: skip another @network test if no internet connection

diff --git a/pandas/io/tests/test_parsers.py b/pandas/io/tests/test_parsers.py
index c6f50f0ce..ec56dceed 100644
--- a/pandas/io/tests/test_parsers.py
+++ b/pandas/io/tests/test_parsers.py
@@ -1356,14 +1356,25 @@ a,b,c,d
     @slow
     @network
     def test_url(self):
-        # HTTP(S)
-        url = 'https://raw.github.com/pydata/pandas/master/pandas/io/tests/salary.table'
-        url_table = read_table(url)
-        dirpath = curpath()
-        localtable = os.path.join(dirpath, 'salary.table')
-        local_table = read_table(localtable)
-        assert_frame_equal(url_table, local_table)
-        #TODO: ftp testing
+        import urllib2
+        try:
+            # HTTP(S)
+            url = ('https://raw.github.com/pydata/pandas/master/'
+                   'pandas/io/tests/salary.table')
+            url_table = read_table(url)
+            dirpath = curpath()
+            localtable = os.path.join(dirpath, 'salary.table')
+            local_table = read_table(localtable)
+            assert_frame_equal(url_table, local_table)
+            #TODO: ftp testing
+
+        except urllib2.URLError:
+            try:
+                urllib2.urlopen('http://www.google.com')
+            except urllib2.URLError:
+                raise nose.SkipTest
+            else:
+                raise
 
     @slow
     def test_file(self):
