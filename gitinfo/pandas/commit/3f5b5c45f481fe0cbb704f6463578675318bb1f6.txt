commit 3f5b5c45f481fe0cbb704f6463578675318bb1f6
Author: jbrockmendel <jbrockmendel@gmail.com>
Date:   Mon Sep 9 04:57:20 2019 -0700

    CLN: raise ValueError instead of Exception (#28352)

diff --git a/pandas/core/groupby/generic.py b/pandas/core/groupby/generic.py
index e514162f8..e731cffea 100644
--- a/pandas/core/groupby/generic.py
+++ b/pandas/core/groupby/generic.py
@@ -324,7 +324,11 @@ class NDFrameGroupBy(GroupBy):
                 if cast:
                     result[item] = self._try_cast(result[item], data)
 
-            except ValueError:
+            except ValueError as err:
+                if "Must produce aggregated value" in str(err):
+                    # raised in _aggregate_named, handle at higher level
+                    #  see test_apply_with_mutated_index
+                    raise
                 cannot_agg.append(item)
                 continue
             except TypeError as e:
@@ -1009,7 +1013,7 @@ class SeriesGroupBy(GroupBy):
             group.name = name
             output = func(group, *args, **kwargs)
             if isinstance(output, (Series, Index, np.ndarray)):
-                raise Exception("Must produce aggregated value")
+                raise ValueError("Must produce aggregated value")
             result[name] = self._try_cast(output, group)
 
         return result
