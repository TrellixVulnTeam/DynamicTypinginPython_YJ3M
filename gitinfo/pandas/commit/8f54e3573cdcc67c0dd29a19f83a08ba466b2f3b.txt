commit 8f54e3573cdcc67c0dd29a19f83a08ba466b2f3b
Author: gfyoung <gfyoung17@gmail.com>
Date:   Mon Oct 24 18:09:38 2016 -0400

    MAINT: Use check_output when merging.
    
    Since we don't support Python 2.6 anymore, the `check_output` method
    from `subprocess` is  at our disposal.    Follow-up to #14447.    xref
    <a href="https://github.com/pandas-
    dev/pandas/issues/14439#issuecomment-254522055"> #14439 (comment)</a>
    
    Author: gfyoung <gfyoung17@gmail.com>
    
    Closes #14465 from gfyoung/merge-pr-refactor and squashes the following commits:
    
    e267d2b [gfyoung] MAINT: Use check_output when merging.

diff --git a/scripts/merge-py.py b/scripts/merge-py.py
index 5d90a006c..b9350f8fe 100755
--- a/scripts/merge-py.py
+++ b/scripts/merge-py.py
@@ -25,12 +25,12 @@
 
 from __future__ import print_function
 
+from subprocess import check_output
 from requests.auth import HTTPBasicAuth
 import requests
 
 import os
 import six
-import subprocess
 import sys
 import textwrap
 
@@ -83,21 +83,10 @@ def fail(msg):
 
 
 def run_cmd(cmd):
-    # py2.6 does not have subprocess.check_output
     if isinstance(cmd, six.string_types):
         cmd = cmd.split(' ')
 
-    popenargs = [cmd]
-    kwargs = {}
-
-    process = subprocess.Popen(stdout=subprocess.PIPE, *popenargs)
-    output, unused_err = process.communicate()
-    retcode = process.poll()
-    if retcode:
-        cmd = kwargs.get("args")
-        if cmd is None:
-            cmd = popenargs[0]
-        raise subprocess.CalledProcessError(retcode, cmd, output=output)
+    output = check_output(cmd)
 
     if isinstance(output, six.binary_type):
         output = output.decode('utf-8')
