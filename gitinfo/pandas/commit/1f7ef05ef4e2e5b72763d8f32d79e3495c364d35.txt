commit 1f7ef05ef4e2e5b72763d8f32d79e3495c364d35
Author: Vasily Litvinov <45396231+vnlitvin@users.noreply.github.com>
Date:   Fri Mar 22 19:18:37 2019 +0300

    Safe version of ascii macros, add missing tolower_ascii (#25836)
    
    * Safer version of ascii macros in portable.h
    
    * Add missing tolower_ascii macro needed by lowercase() in parse_helper.h

diff --git a/pandas/_libs/src/headers/portable.h b/pandas/_libs/src/headers/portable.h
index 9ac4ebc30..1976addac 100644
--- a/pandas/_libs/src/headers/portable.h
+++ b/pandas/_libs/src/headers/portable.h
@@ -7,8 +7,9 @@
 
 // GH-23516 - works around locale perf issues
 // from MUSL libc, MIT Licensed - see LICENSES
-#define isdigit_ascii(c) ((unsigned)c - '0' < 10)
-#define isspace_ascii(c) (c == ' ' || (unsigned)c-'\t' < 5)
-#define toupper_ascii(c) (((unsigned)c-'a' < 26) ? (c & 0x5f) : c)
+#define isdigit_ascii(c) (((unsigned)(c) - '0') < 10u)
+#define isspace_ascii(c) (((c) == ' ') || (((unsigned)(c) - '\t') < 5))
+#define toupper_ascii(c) ((((unsigned)(c) - 'a') < 26) ? ((c) & 0x5f) : (c))
+#define tolower_ascii(c) ((((unsigned)(c) - 'A') < 26) ? ((c) | 0x20) : (c))
 
 #endif
