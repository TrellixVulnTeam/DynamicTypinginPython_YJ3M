commit 5de26bcb08338f1246b46fcb582009f0e24c8a59
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Thu Jun 7 10:53:29 2012 -0400

    BUG: fix Series .ix bug and test failure described in #1396

diff --git a/pandas/core/indexing.py b/pandas/core/indexing.py
index 62148b105..280c0a41e 100644
--- a/pandas/core/indexing.py
+++ b/pandas/core/indexing.py
@@ -496,6 +496,9 @@ class _SeriesIndexer(_NDFrameIndexer):
     def _get_label(self, key, axis=0):
         return self.obj[key]
 
+    def _get_loc(self, key, axis=0):
+        return self.obj.values[key]
+
     def _slice(self, indexer, axis=0):
         return self.obj._get_values(indexer)
 
diff --git a/pandas/tests/test_series.py b/pandas/tests/test_series.py
index 28a9a2ed3..4f556e5be 100644
--- a/pandas/tests/test_series.py
+++ b/pandas/tests/test_series.py
@@ -568,6 +568,14 @@ class TestSeries(unittest.TestCase, CheckNameIntegration):
         s = Series([])
         self.assertRaises(IndexError, s.__getitem__, -1)
 
+    def test_getitem_setitem_integers(self):
+        # caused bug without test
+        s = Series([1,2,3], ['a','b','c'])
+
+        self.assertEqual(s.ix[0], s['a'])
+        s.ix[0] = 5
+        self.assertAlmostEqual(s['a'], 5)
+
     def test_getitem_box_float64(self):
         value = self.ts[5]
         self.assert_(isinstance(value, np.float64))
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index bfc64c3c4..f120feca4 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -408,6 +408,9 @@ class TestTimeSeries(unittest.TestCase):
     def test_index_astype_datetime64(self):
         idx = Index([datetime(2012, 1, 1)], dtype=object)
 
+        if np.__version__ >= '1.7':
+            raise nose.SkipTest
+
         casted = idx.astype(np.dtype('M8[D]'))
         expected = DatetimeIndex(idx.values)
         self.assert_(isinstance(casted, DatetimeIndex))
