commit e682902327bd883a207b291b0326f277b3dcdd12
Author: T N <tnir@users.noreply.github.com>
Date:   Tue Sep 12 19:35:55 2017 +0900

    DEPR: Add warning for True for dropna of SeriesGroupBy.nth (#17493)

diff --git a/doc/source/whatsnew/v0.21.0.txt b/doc/source/whatsnew/v0.21.0.txt
index eccd71f45..33232d2b0 100644
--- a/doc/source/whatsnew/v0.21.0.txt
+++ b/doc/source/whatsnew/v0.21.0.txt
@@ -341,6 +341,8 @@ Deprecations
 
 - ``pd.options.html.border`` has been deprecated in favor of ``pd.options.display.html.border`` (:issue:`15793`).
 
+- :func:`SeriesGroupBy.nth` has deprecated ``True`` in favor of ``'all'`` for its kwarg ``dropna`` (:issue:`11038`).
+
 .. _whatsnew_0210.prior_deprecations:
 
 Removal of prior version deprecations/changes
diff --git a/pandas/core/groupby.py b/pandas/core/groupby.py
index 248f3b209..f14ed08a2 100644
--- a/pandas/core/groupby.py
+++ b/pandas/core/groupby.py
@@ -1393,12 +1393,21 @@ class GroupBy(_GroupBy):
 
             return out.sort_index() if self.sort else out
 
-        if isinstance(self._selected_obj, DataFrame) and \
-           dropna not in ['any', 'all']:
-            # Note: when agg-ing picker doesn't raise this, just returns NaN
-            raise ValueError("For a DataFrame groupby, dropna must be "
-                             "either None, 'any' or 'all', "
-                             "(was passed %s)." % (dropna),)
+        if dropna not in ['any', 'all']:
+            if isinstance(self._selected_obj, Series) and dropna is True:
+                warnings.warn("the dropna='%s' keyword is deprecated,"
+                              "use dropna='all' instead. "
+                              "For a Series groupby, dropna must be "
+                              "either None, 'any' or 'all'." % (dropna),
+                              FutureWarning,
+                              stacklevel=2)
+                dropna = 'all'
+            else:
+                # Note: when agg-ing picker doesn't raise this,
+                # just returns NaN
+                raise ValueError("For a DataFrame groupby, dropna must be "
+                                 "either None, 'any' or 'all', "
+                                 "(was passed %s)." % (dropna),)
 
         # old behaviour, but with all and any support for DataFrames.
         # modified in GH 7559 to have better perf
diff --git a/pandas/tests/groupby/test_nth.py b/pandas/tests/groupby/test_nth.py
index 28392537b..ffbede0eb 100644
--- a/pandas/tests/groupby/test_nth.py
+++ b/pandas/tests/groupby/test_nth.py
@@ -2,7 +2,10 @@ import numpy as np
 import pandas as pd
 from pandas import DataFrame, MultiIndex, Index, Series, isna
 from pandas.compat import lrange
-from pandas.util.testing import assert_frame_equal, assert_series_equal
+from pandas.util.testing import (
+    assert_frame_equal,
+    assert_produces_warning,
+    assert_series_equal)
 
 from .common import MixIn
 
@@ -171,7 +174,10 @@ class TestNth(MixIn):
         # doc example
         df = DataFrame([[1, np.nan], [1, 4], [5, 6]], columns=['A', 'B'])
         g = df.groupby('A')
-        result = g.B.nth(0, dropna=True)
+        # PR 17493, related to issue 11038
+        # test Series.nth with True for dropna produces DeprecationWarning
+        with assert_produces_warning(FutureWarning):
+            result = g.B.nth(0, dropna=True)
         expected = g.B.first()
         assert_series_equal(result, expected)
 
