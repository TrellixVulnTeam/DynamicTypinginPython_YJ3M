commit a0186ea67f7dc1ffce9698b504c9c8bf4be15dfa
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Tue Feb 14 11:30:46 2012 -0500

    TST: fancy_inc Cython function

diff --git a/pandas/src/sandbox.pyx b/pandas/src/sandbox.pyx
index 76251e15a..b8d9bcea2 100644
--- a/pandas/src/sandbox.pyx
+++ b/pandas/src/sandbox.pyx
@@ -146,6 +146,18 @@ def get_indexer(ndarray values, dict mapping):
     return fill_vec
 
 
+@cython.wraparound(False)
+@cython.boundscheck(False)
+def fancy_inc(ndarray[int64_t, ndim=2] values,
+              ndarray[int64_t] iarr, ndarray[int64_t] jarr, int64_t inc):
+    cdef:
+        Py_ssize_t i, n = len(iarr)
+
+    for i in range(n):
+        values[iarr[i], jarr[i]] += inc
+
+
+
 # def foo2(o):
 #     return util.is_integer_object(o)
 
