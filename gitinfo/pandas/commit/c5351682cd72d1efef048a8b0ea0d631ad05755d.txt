commit c5351682cd72d1efef048a8b0ea0d631ad05755d
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Sat Jun 8 09:01:10 2013 -0400

    DOC: turn off the ipython cache
    
    Also clean up some unused import there
    
    DOC: disable ipython cache

diff --git a/doc/sphinxext/ipython_directive.py b/doc/sphinxext/ipython_directive.py
index 3b19b443a..bc3c46dd5 100644
--- a/doc/sphinxext/ipython_directive.py
+++ b/doc/sphinxext/ipython_directive.py
@@ -64,15 +64,8 @@ import re
 import sys
 import tempfile
 
-# To keep compatibility with various python versions
-try:
-    from hashlib import md5
-except ImportError:
-    from md5 import md5
-
 # Third-party
 import matplotlib
-import sphinx
 from docutils.parsers.rst import directives
 from docutils import nodes
 from sphinx.util.compat import Directive
@@ -84,7 +77,6 @@ from IPython import Config, InteractiveShell
 from IPython.core.profiledir import ProfileDir
 from IPython.utils import io
 
-from pdb import set_trace
 
 #-----------------------------------------------------------------------------
 # Globals
@@ -205,6 +197,7 @@ class EmbeddedSphinxShell(object):
         config.InteractiveShell.autocall = False
         config.InteractiveShell.autoindent = False
         config.InteractiveShell.colors = 'NoColor'
+        config.InteractiveShell.cache_size = 0
 
         # create a profile so instance history isn't saved
         tmp_profile_dir = tempfile.mkdtemp(prefix='profile_')
