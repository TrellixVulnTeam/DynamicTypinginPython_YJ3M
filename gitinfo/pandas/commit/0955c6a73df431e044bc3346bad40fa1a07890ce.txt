commit 0955c6a73df431e044bc3346bad40fa1a07890ce
Author: Adam Klein <adamklein@gmail.com>
Date:   Tue Mar 6 21:45:23 2012 -0500

    BUG: incorporate Wes comments on #869

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 459ec3280..b9ed748c8 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -3440,10 +3440,7 @@ class DataFrame(NDFrame):
         mask = notnull(frame.values).view(np.uint8)
 
         if isinstance(level, basestring):
-            if self.index.names is None:
-                raise ValueError("Could not access level by name")
-
-            level = self.index.names.index(level)
+            level = self.index._get_level_number(level)
 
         level_index = frame.index.levels[level]
         counts = lib.count_level_2d(mask, frame.index.labels[level],
diff --git a/pandas/core/series.py b/pandas/core/series.py
index f8a254951..26ebf029b 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -898,10 +898,7 @@ copy : boolean, default False
             mask = notnull(self.values)
 
             if isinstance(level, basestring):
-                if self.index.names is None:
-                    raise ValueError("Could not access level by name")
-
-                level = self.index.names.index(level)
+                level = self.index._get_level_number(level)
 
             level_index = self.index.levels[level]
 
diff --git a/pandas/tests/test_multilevel.py b/pandas/tests/test_multilevel.py
index e0a371ce8..07eec5c24 100644
--- a/pandas/tests/test_multilevel.py
+++ b/pandas/tests/test_multilevel.py
@@ -885,8 +885,8 @@ x   q   30      3    -0.6662 -0.5243 -0.3580  0.89145  2.5838"""
         expect = self.series.count(level=0)
         assert_series_equal(result, expect)
 
-        self.assertRaises(ValueError, series.count, 'x')
-        self.assertRaises(ValueError, frame.count, level='x')
+        self.assertRaises(Exception, series.count, 'x')
+        self.assertRaises(Exception, frame.count, level='x')
 
     AGG_FUNCTIONS = ['sum', 'prod', 'min', 'max', 'median', 'mean', 'skew',
                      'mad', 'std', 'var']
