commit e430ac47d0dfef6bfa719a5be025b159019337e4
Author: Chang She <chang@lambdafoundry.com>
Date:   Mon Jan 21 12:28:37 2013 -0500

    BUG: plotting bug when base is nonzero #2571

diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index e5fc82049..165ad73ee 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -13,7 +13,7 @@ import pandas.core.common as com
 from pandas.core.index import MultiIndex
 from pandas.core.series import Series, remove_na
 from pandas.tseries.index import DatetimeIndex
-from pandas.tseries.period import PeriodIndex
+from pandas.tseries.period import PeriodIndex, Period
 from pandas.tseries.frequencies import get_period_alias, get_base_alias
 from pandas.tseries.offsets import DateOffset
 
@@ -1027,7 +1027,21 @@ class LinePlot(MPLPlot):
         else:
             freq = get_base_alias(freq)
         freq = get_period_alias(freq)
-        return freq is not None
+        return freq is not None and self._no_base(freq)
+
+    def _no_base(self, freq):
+        # hack this for 0.10.1, creating more technical debt...sigh
+        from pandas.core.frame import DataFrame
+        if (isinstance(self.data, (Series, DataFrame))
+            and isinstance(self.data.index, DatetimeIndex)):
+            import pandas.tseries.frequencies as freqmod
+            base = freqmod.get_freq(freq)
+            x = self.data.index
+            if (base <= freqmod.FreqGroup.FR_DAY):
+                return x[:1].is_normalized
+
+            return Period(x[0], freq).to_timestamp() == x[0]
+        return True
 
     def _use_dynamic_x(self):
         freq = self._index_freq()
diff --git a/pandas/tseries/tests/test_plotting.py b/pandas/tseries/tests/test_plotting.py
index 27fa00f14..04a5ddd89 100644
--- a/pandas/tseries/tests/test_plotting.py
+++ b/pandas/tseries/tests/test_plotting.py
@@ -272,6 +272,18 @@ class TestTSPlot(unittest.TestCase):
         idx = ax.get_lines()[0].get_xdata()
         self.assert_(PeriodIndex(data=idx).freqstr == 'M')
 
+    @slow
+    def test_nonzero_base(self):
+        import matplotlib.pyplot as plt
+        plt.close('all')
+        #GH2571
+        idx = (date_range('2012-12-20', periods=24, freq='H') +
+               timedelta(minutes=30))
+        df = DataFrame(np.arange(24), index=idx)
+        ax = df.plot()
+        rs = ax.get_lines()[0].get_xdata()
+        self.assert_(not Index(rs).is_normalized)
+
     @slow
     def test_dataframe(self):
         bts = DataFrame({'a': tm.makeTimeSeries()})
