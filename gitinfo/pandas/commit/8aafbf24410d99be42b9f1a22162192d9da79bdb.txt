commit 8aafbf24410d99be42b9f1a22162192d9da79bdb
Author: jreback <jeff@reback.net>
Date:   Tue Feb 18 11:01:49 2014 -0500

    TST: dtype issues on windows with test_getitem_dups

diff --git a/pandas/core/series.py b/pandas/core/series.py
index 8a500409d..06a6e5998 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -484,7 +484,9 @@ class Series(base.IndexOpsMixin, generic.NDFrame):
                     # we need to box if we have a non-unique index here
                     # otherwise have inline ndarray/lists
                     if not self.index.is_unique:
-                        result = self._constructor(result,index=[key]*len(result)).__finalize__(self)
+                        result = self._constructor(result,
+                                                   index=[key]*len(result)
+                                                   ,dtype=self.dtype).__finalize__(self)
 
             return result
         except InvalidIndexError:
diff --git a/pandas/tests/test_series.py b/pandas/tests/test_series.py
index 18f8a4b25..fde998c1b 100644
--- a/pandas/tests/test_series.py
+++ b/pandas/tests/test_series.py
@@ -950,8 +950,8 @@ class TestSeries(tm.TestCase, CheckNameIntegration):
         assert_series_equal(result, expected)
 
     def test_getitem_dups(self):
-        s = Series(range(5),index=['A','A','B','C','C'])
-        expected = Series([3,4],index=['C','C'])
+        s = Series(range(5),index=['A','A','B','C','C'],dtype=np.int64)
+        expected = Series([3,4],index=['C','C'],dtype=np.int64)
         result = s['C']
         assert_series_equal(result, expected)
 
