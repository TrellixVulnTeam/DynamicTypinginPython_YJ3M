commit de8f14d518c5f9d8999584976fe04edb47246646
Author: Chang She <chang@lambdafoundry.com>
Date:   Wed Jun 20 16:24:14 2012 -0400

    BUG: out of bounds on buffer access if time doesn't exist in TimeSeries.at_time

diff --git a/pandas/src/tseries.pyx b/pandas/src/tseries.pyx
index a769fcef5..a66b21930 100644
--- a/pandas/src/tseries.pyx
+++ b/pandas/src/tseries.pyx
@@ -476,12 +476,13 @@ def convert_timestamps(ndarray values):
 
     return out
 
-
-
 def maybe_indices_to_slice(ndarray[int64_t] indices):
     cdef:
         Py_ssize_t i, n = len(indices)
 
+    if n == 0:
+        return indices
+
     for i in range(1, n):
         if indices[i] - indices[i - 1] != 1:
             return indices
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 5dc617150..59e3b2d0a 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -789,6 +789,12 @@ class TestTimeSeries(unittest.TestCase):
         result = ts.at_time(time(0, 0))
         assert_series_equal(result, ts)
 
+        # time doesn't exist
+        rng = date_range('1/1/2012', freq='23Min', periods=384)
+        ts = Series(np.random.randn(len(rng)), rng)
+        rs = ts.at_time('16:00')
+        self.assert_(len(rs) == 0)
+
     def test_between_time(self):
         rng = date_range('1/1/2000', '1/5/2000', freq='5min')
         ts = Series(np.random.randn(len(rng)), index=rng)
