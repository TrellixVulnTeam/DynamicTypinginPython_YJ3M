commit d432f654efa3c9160309bbe17cb44ce863ebc328
Author: Marc Garcia <garcia.marc@gmail.com>
Date:   Tue Jun 18 14:42:21 2019 +0100

    DOC: Remove travis doc build (#26856)

diff --git a/.travis.yml b/.travis.yml
index 4d1281819..8335a6ee9 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -48,17 +48,10 @@ matrix:
       env:
         - JOB="3.6, slow" ENV_FILE="ci/deps/travis-36-slow.yaml" PATTERN="slow"
 
-    # In allow_failures
-    - dist: trusty
-      env:
-        - JOB="3.6, doc" ENV_FILE="environment.yml" DOC=true
     allow_failures:
       - dist: trusty
         env:
           - JOB="3.6, slow" ENV_FILE="ci/deps/travis-36-slow.yaml" PATTERN="slow"
-      - dist: trusty
-        env:
-          - JOB="3.6, doc" ENV_FILE="environment.yml" DOC=true
 
 before_install:
   - echo "before_install"
@@ -97,7 +90,6 @@ before_script:
 script:
   - echo "script start"
   - source activate pandas-dev
-  - ci/build_docs.sh
   - ci/run_tests.sh
 
 after_script:
diff --git a/azure-pipelines.yml b/azure-pipelines.yml
index 597b5f927..11284254c 100644
--- a/azure-pipelines.yml
+++ b/azure-pipelines.yml
@@ -176,7 +176,6 @@ jobs:
       cd doc/build/html
       git remote add origin git@github.com:pandas-dev/pandas-dev.github.io.git
       git push -f origin master
-      exit 0  # FIXME this will leave the build green even if the step fails. To be removed when we are confident with this.
     displayName: 'Publish docs to GitHub pages'
     condition : |
       and(not(eq(variables['Build.Reason'], 'PullRequest')),
diff --git a/ci/build_docs.sh b/ci/build_docs.sh
deleted file mode 100755
index bf22f0764..000000000
--- a/ci/build_docs.sh
+++ /dev/null
@@ -1,56 +0,0 @@
-#!/bin/bash
-
-set -e
-
-if [ "${TRAVIS_OS_NAME}" != "linux" ]; then
-   echo "not doing build_docs on non-linux"
-   exit 0
-fi
-
-cd "$TRAVIS_BUILD_DIR"/doc
-echo "inside $0"
-
-if [ "$DOC" ]; then
-
-    echo "Will build docs"
-
-    echo ###############################
-    echo # Log file for the doc build  #
-    echo ###############################
-
-    echo ./make.py
-    ./make.py
-
-    echo ########################
-    echo # Create and send docs #
-    echo ########################
-
-    echo "Only uploading docs when TRAVIS_PULL_REQUEST is 'false'"
-    echo "TRAVIS_PULL_REQUEST: ${TRAVIS_PULL_REQUEST}"
-
-    if [ "${TRAVIS_PULL_REQUEST}" == "false" ]; then
-        cd build/html
-        git config --global user.email "pandas-docs-bot@localhost.foo"
-        git config --global user.name "pandas-docs-bot"
-
-        # create the repo
-        git init
-
-        touch README
-        git add README
-        git commit -m "Initial commit" --allow-empty
-        git branch gh-pages
-        git checkout gh-pages
-        touch .nojekyll
-        git add --all .
-        git commit -m "Version" --allow-empty
-
-        git remote add origin "https://${PANDAS_GH_TOKEN}@github.com/pandas-dev/pandas-docs-travis.git"
-        git fetch origin
-        git remote -v
-
-        git push origin gh-pages -f
-    fi
-fi
-
-exit 0
