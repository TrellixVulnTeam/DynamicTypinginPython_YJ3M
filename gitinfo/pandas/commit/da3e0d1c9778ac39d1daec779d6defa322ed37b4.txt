commit da3e0d1c9778ac39d1daec779d6defa322ed37b4
Author: jreback <jeff@reback.net>
Date:   Wed Jun 10 18:32:21 2015 -0400

    TST: dtype fixes on windows for #10322, #10308

diff --git a/pandas/io/tests/test_json/test_pandas.py b/pandas/io/tests/test_json/test_pandas.py
index bb0ad58a4..c145c717d 100644
--- a/pandas/io/tests/test_json/test_pandas.py
+++ b/pandas/io/tests/test_json/test_pandas.py
@@ -27,7 +27,7 @@ _cat_frame = _frame.copy()
 cat = ['bah']*5 + ['bar']*5 + ['baz']*5 + ['foo']*(len(_cat_frame)-15)
 _cat_frame.index = pd.CategoricalIndex(cat,name='E')
 _cat_frame['E'] = list(reversed(cat))
-_cat_frame['sort'] = np.arange(len(_cat_frame))
+_cat_frame['sort'] = np.arange(len(_cat_frame),dtype='int64')
 
 _mixed_frame = _frame.copy()
 
diff --git a/pandas/src/ujson/python/objToJSON.c b/pandas/src/ujson/python/objToJSON.c
index ac415f4d5..e31d8ab74 100644
--- a/pandas/src/ujson/python/objToJSON.c
+++ b/pandas/src/ujson/python/objToJSON.c
@@ -2082,7 +2082,7 @@ ISITERABLE:
       return;
     }
 
-    PyObject* getValuesFunc = PyObject_GetAttrString(obj, "get_values");
+    getValuesFunc = PyObject_GetAttrString(obj, "get_values");
     if (getValuesFunc)
     {
       PRINTMARK();
diff --git a/pandas/tests/test_indexing.py b/pandas/tests/test_indexing.py
index 3980fb693..710367bf0 100644
--- a/pandas/tests/test_indexing.py
+++ b/pandas/tests/test_indexing.py
@@ -2331,25 +2331,29 @@ class TestIndexing(tm.TestCase):
         assert_frame_equal(df,expected)
 
         # GH10280
-        df = DataFrame(np.arange(6).reshape(2, 3), index=list('ab'),
-                columns=['foo', 'bar', 'baz'])
+        df = DataFrame(np.arange(6,dtype='int64').reshape(2, 3), 
+                       index=list('ab'),
+                       columns=['foo', 'bar', 'baz'])
 
         for val in [3.14, 'wxyz']:
             left = df.copy()
             left.loc['a', 'bar'] = val
-            right = DataFrame([[0, val, 2], [3, 4, 5]], index=list('ab'),
-                    columns=['foo', 'bar', 'baz'])
+            right = DataFrame([[0, val, 2], [3, 4, 5]], 
+                              index=list('ab'),
+                              columns=['foo', 'bar', 'baz'])
 
             assert_frame_equal(left, right)
             self.assertTrue(com.is_integer_dtype(left['foo']))
             self.assertTrue(com.is_integer_dtype(left['baz']))
 
-        left = DataFrame(np.arange(6).reshape(2, 3) / 10.0, index=list('ab'),
-                columns=['foo', 'bar', 'baz'])
+        left = DataFrame(np.arange(6,dtype='int64').reshape(2, 3) / 10.0, 
+                         index=list('ab'),
+                         columns=['foo', 'bar', 'baz'])
         left.loc['a', 'bar'] = 'wxyz'
 
-        right = DataFrame([[0, 'wxyz', .2], [.3, .4, .5]], index=list('ab'),
-                columns=['foo', 'bar', 'baz'])
+        right = DataFrame([[0, 'wxyz', .2], [.3, .4, .5]], 
+                          index=list('ab'),
+                          columns=['foo', 'bar', 'baz'])
 
         assert_frame_equal(left, right)
         self.assertTrue(com.is_float_dtype(left['foo']))
