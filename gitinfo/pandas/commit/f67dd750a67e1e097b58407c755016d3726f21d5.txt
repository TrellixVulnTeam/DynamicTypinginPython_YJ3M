commit f67dd750a67e1e097b58407c755016d3726f21d5
Author: Jeff Reback <jeff@reback.net>
Date:   Wed Dec 23 16:14:50 2015 -0500

    remove warning for statsmodels.tools.rank

diff --git a/pandas/stats/tests/test_ols.py b/pandas/stats/tests/test_ols.py
index 60e976f09..6b87e9388 100644
--- a/pandas/stats/tests/test_ols.py
+++ b/pandas/stats/tests/test_ols.py
@@ -175,7 +175,7 @@ class TestOLS(BaseTest):
         _check_non_raw_results(result)
 
     def checkMovingOLS(self, window_type, x, y, weights=None, **kwds):
-        window = sm.tools.tools.rank(x.values) * 2
+        window = np.linalg.matrix_rank(x.values) * 2
 
         moving = ols(y=y, x=x, weights=weights, window_type=window_type,
                      window=window, **kwds)
