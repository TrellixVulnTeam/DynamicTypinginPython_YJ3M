commit 4cd2f483783b07c6442c1aa98bf11aa3f0befec2
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Fri Jun 14 19:27:48 2013 -0400

    TST: add tests for new com functions

diff --git a/pandas/core/common.py b/pandas/core/common.py
index bc5bf9a88..a31c92caf 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -1591,7 +1591,12 @@ def is_re(obj):
 
 
 def is_re_compilable(obj):
-    return is_re(obj) or isinstance(obj, basestring)
+    try:
+        re.compile(obj)
+    except TypeError:
+        return False
+    else:
+        return True
 
 
 def is_list_like(arg):
diff --git a/pandas/tests/test_common.py b/pandas/tests/test_common.py
index d42d950bd..db01545fb 100644
--- a/pandas/tests/test_common.py
+++ b/pandas/tests/test_common.py
@@ -1,5 +1,6 @@
 from datetime import datetime
 import sys
+import re
 
 import nose
 import unittest
@@ -244,6 +245,18 @@ def test_groupby():
         assert v == expected[k]
 
 
+def test_is_list_like():
+    passes = ([], [1], (1,), (1, 2), {'a': 1}, set([1, 'a']), Series([1]),
+              Series([]), Series(['a']).str)
+    fails = (1, '2', object())
+
+    for p in passes:
+        assert com.is_list_like(p)
+
+    for f in fails:
+        assert not com.is_list_like(f)
+
+
 def test_ensure_int32():
     values = np.arange(10, dtype=np.int32)
     result = com._ensure_int32(values)
@@ -288,6 +301,30 @@ def test_ensure_platform_int():
 #         expected = u"\u05d0".encode('utf-8')
 #         assert (result == expected)
 
+
+def test_is_re():
+    passes = re.compile('ad'),
+    fails = 'x', 2, 3, object()
+
+    for p in passes:
+        assert com.is_re(p)
+
+    for f in fails:
+        assert not com.is_re(f)
+
+
+def test_is_recompilable():
+    passes = (r'a', u'x', r'asdf', re.compile('adsf'), ur'\u2233\s*',
+              re.compile(r''))
+    fails = 1, [], object()
+
+    for p in passes:
+        assert com.is_re_compilable(p)
+
+    for f in fails:
+        assert not com.is_re_compilable(f)
+
+
 class TestTake(unittest.TestCase):
 
     _multiprocess_can_split_ = True
