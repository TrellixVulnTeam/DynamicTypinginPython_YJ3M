commit e7201ca1a9f5b3359a0e179ab1faf6a39cc9e2c7
Author: Jeff Reback <jeff@reback.net>
Date:   Sat Apr 1 11:37:16 2017 -0400

    BLD: bug in building json compiled code on windows (#15857)

diff --git a/pandas/_libs/src/ujson/python/objToJSON.c b/pandas/_libs/src/ujson/python/objToJSON.c
index 26a68b8a9..f2c0b18d3 100644
--- a/pandas/_libs/src/ujson/python/objToJSON.c
+++ b/pandas/_libs/src/ujson/python/objToJSON.c
@@ -401,7 +401,8 @@ static void *PyStringToUTF8(JSOBJ _obj, JSONTypeContext *tc, void *outValue,
 
 static void *PyUnicodeToUTF8(JSOBJ _obj, JSONTypeContext *tc, void *outValue,
                              size_t *_outLen) {
-    PyObject *obj = (PyObject *)_obj;
+    PyObject *obj, *newObj;
+    obj = (PyObject *)_obj;
 
 #if (PY_VERSION_HEX >= 0x03030000)
     if (PyUnicode_IS_COMPACT_ASCII(obj)) {
@@ -412,8 +413,8 @@ static void *PyUnicodeToUTF8(JSOBJ _obj, JSONTypeContext *tc, void *outValue,
     }
 #endif
 
-    PyObject *newObj = PyUnicode_EncodeUTF8(PyUnicode_AS_UNICODE(obj),
-                                            PyUnicode_GET_SIZE(obj), NULL);
+    newObj = PyUnicode_EncodeUTF8(PyUnicode_AS_UNICODE(obj),
+                                  PyUnicode_GET_SIZE(obj), NULL);
 
     GET_TC(tc)->newObj = newObj;
 
