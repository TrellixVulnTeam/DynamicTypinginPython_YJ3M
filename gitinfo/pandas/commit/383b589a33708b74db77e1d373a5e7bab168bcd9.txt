commit 383b589a33708b74db77e1d373a5e7bab168bcd9
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon May 28 13:59:36 2012 -0400

    BUG: alias W to W-SUN, add test for buglet close #1327

diff --git a/pandas/tests/test_ujson.py b/pandas/tests/test_ujson.py
index 6be78ad2e..806125797 100644
--- a/pandas/tests/test_ujson.py
+++ b/pandas/tests/test_ujson.py
@@ -1,5 +1,4 @@
-﻿
-import unittest
+﻿import unittest
 from unittest import TestCase
 
 import pandas._ujson as ujson
diff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py
index 6577c7f20..94dac0864 100644
--- a/pandas/tseries/frequencies.py
+++ b/pandas/tseries/frequencies.py
@@ -233,7 +233,6 @@ _offset_map = {
     'W-SAT' : Week(weekday=5),
     'W-SUN' : Week(weekday=6),
 
-    'W': Week()
 }
 
 _offset_to_period_map = {
@@ -276,10 +275,12 @@ _rule_aliases = {
     'W@FRI': 'W-FRI',
     'W@SAT': 'W-SAT',
     'W@SUN': 'W-SUN',
+    'W': 'W-SUN',
 
     'Q@JAN': 'BQ-JAN',
     'Q@FEB': 'BQ-FEB',
     'Q@MAR': 'BQ-MAR',
+    'Q' : 'Q-DEC',
 
     'A@JAN' : 'BA-JAN',
     'A@FEB' : 'BA-FEB',
diff --git a/pandas/tseries/tests/test_frequencies.py b/pandas/tseries/tests/test_frequencies.py
index c4853efb5..ef2981de7 100644
--- a/pandas/tseries/tests/test_frequencies.py
+++ b/pandas/tseries/tests/test_frequencies.py
@@ -54,6 +54,16 @@ def test_to_offset_negative():
     assert(result.n == -310)
 
 
+def test_anchored_shortcuts():
+    result = to_offset('W')
+    expected = to_offset('W-SUN')
+    assert(result == expected)
+
+    result = to_offset('Q')
+    expected = to_offset('Q-DEC')
+    assert(result == expected)
+
+
 _dti = DatetimeIndex
 
 class TestFrequencyInference(unittest.TestCase):
diff --git a/pandas/tseries/tests/test_resample.py b/pandas/tseries/tests/test_resample.py
index 1ebee820b..2b1d96553 100644
--- a/pandas/tseries/tests/test_resample.py
+++ b/pandas/tseries/tests/test_resample.py
@@ -404,6 +404,14 @@ class TestResample(unittest.TestCase):
         self.assert_(len(result) == 0)
         self.assert_(result.index.freqstr == 'A-DEC')
 
+    def test_weekly_resample_buglet(self):
+        # #1327
+        rng = date_range('1/1/2000', freq='B', periods=20)
+        ts = Series(np.random.randn(len(rng)), index=rng)
+
+        resampled = ts.resample('W')
+        expected = ts.resample('W-SUN')
+        assert_series_equal(resampled, expected)
 
 def _simple_ts(start, end, freq='D'):
     rng = date_range(start, end, freq=freq)
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 6fa2bf8b3..1c4ada8b7 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -580,8 +580,8 @@ class TestTimeSeries(unittest.TestCase):
         expected = ts[:'3/31/2000']
         assert_series_equal(result, expected)
 
-        result = ts.first('3W')
-        expected = ts.first('21D')
+        result = ts.first('21D')
+        expected = ts[:21]
         assert_series_equal(result, expected)
 
         result = ts[:0].first('3M')
@@ -596,12 +596,12 @@ class TestTimeSeries(unittest.TestCase):
         result = ts.last('10d')
         self.assert_(len(result) == 10)
 
-        result = ts.last('3M')
-        expected = ts['11/1/2009':]
+        result = ts.last('21D')
+        expected = ts['12/12/2009':]
         assert_series_equal(result, expected)
 
-        result = ts.last('3W')
-        expected = ts.last('21D')
+        result = ts.last('21D')
+        expected = ts[-21:]
         assert_series_equal(result, expected)
 
         result = ts[:0].last('3M')
