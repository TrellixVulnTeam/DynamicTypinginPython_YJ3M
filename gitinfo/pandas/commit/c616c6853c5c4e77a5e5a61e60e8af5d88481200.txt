commit c616c6853c5c4e77a5e5a61e60e8af5d88481200
Author: Graham Wetzler <graham@wetzler.dev>
Date:   Wed Jul 1 11:53:34 2020 -0500

    TST: Add test for df.apply(lambda x: x.dtype) (#35072)

diff --git a/pandas/tests/frame/test_apply.py b/pandas/tests/frame/test_apply.py
index 8f0d3d9fb..114b3c0d0 100644
--- a/pandas/tests/frame/test_apply.py
+++ b/pandas/tests/frame/test_apply.py
@@ -1501,3 +1501,12 @@ class TestDataFrameAggregate:
         tm.assert_series_equal(
             none_in_first_column_result, none_in_second_column_result
         )
+
+    @pytest.mark.parametrize("col", [1, 1.0, True, "a", np.nan])
+    def test_apply_dtype(self, col):
+        # GH 31466
+        df = pd.DataFrame([[1.0, col]], columns=["a", "b"])
+        result = df.apply(lambda x: x.dtype)
+        expected = df.dtypes
+
+        tm.assert_series_equal(result, expected)
