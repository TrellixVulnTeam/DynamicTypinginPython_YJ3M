commit c69e3aa3e0164b6e1710e57f521d0dad99c0ded9
Author: ejnens <erikjan.vos@nelen-schuurmans.nl>
Date:   Fri Jun 7 14:56:34 2013 +0200

    BLD: add setup_requires in setup.py so numpy can be used with buildout
    
    Numpy is a setup-time dependency due to some .h files, but is not declared as such. This causes tools like buildout to fail.

diff --git a/setup.py b/setup.py
index 030584ba5..3f6c945f7 100755
--- a/setup.py
+++ b/setup.py
@@ -34,9 +34,9 @@ except ImportError:
     _have_setuptools = False
 
 setuptools_kwargs = {}
+min_numpy_ver = '1.6'
 if sys.version_info[0] >= 3:
 
-    min_numpy_ver = 1.6
     if sys.version_info[1] >= 3:  # 3.3 needs numpy 1.7+
         min_numpy_ver = "1.7.0b2"
 
@@ -45,6 +45,7 @@ if sys.version_info[0] >= 3:
                          'install_requires': ['python-dateutil >= 2',
                                               'pytz',
                                               'numpy >= %s' % min_numpy_ver],
+                         'setup_requires': ['numpy >= %s' % min_numpy_ver],
                          'use_2to3_exclude_fixers': ['lib2to3.fixes.fix_next',
                                                      ],
                          }
@@ -53,10 +54,12 @@ if sys.version_info[0] >= 3:
                  "\n$ pip install distribute")
 
 else:
+    min_numpy_ver = '1.6.1'
     setuptools_kwargs = {
         'install_requires': ['python-dateutil',
                              'pytz',
-                             'numpy >= 1.6.1'],
+                             'numpy >= %s' % min_numpy_ver],
+        'setup_requires': ['numpy >= %s' % min_numpy_ver],
         'zip_safe': False,
     }
 
