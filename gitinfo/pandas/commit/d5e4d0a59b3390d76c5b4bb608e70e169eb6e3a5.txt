commit d5e4d0a59b3390d76c5b4bb608e70e169eb6e3a5
Author: Brenda Moon <brenda@moon.net.au>
Date:   Mon Oct 8 18:05:25 2012 +1100

    remove call to self._get_colors() from inside _maybe_add_color() - not efficient

diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 6aa0955db..aa6c23e10 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -876,8 +876,7 @@ class LinePlot(MPLPlot):
         colors = self.kwds.pop('colors', cycle)
         return has_colors, colors
 
-    def _maybe_add_color(self, kwds, style, i):
-        has_colors, colors = self._get_colors()
+    def _maybe_add_color(self, has_colors, colors, kwds, style, i):
         if (not has_colors and
            (style is None or re.match('[a-z]+', style) is None)
             and 'color' not in kwds):
@@ -894,12 +893,13 @@ class LinePlot(MPLPlot):
             x = self._get_xticks(convert_period=True)
 
             plotf = self._get_plot_function()
+            has_colors, colors = self._get_colors()
 
             for i, (label, y) in enumerate(self._iter_data()):
                 ax = self._get_ax(i)
                 style = self._get_style(i, label)
                 kwds = self.kwds.copy()
-                self._maybe_add_color(kwds, style, i)
+                self._maybe_add_color(has_colors, colors, kwds, style, i)
 
                 label = _stringify(label)
 
@@ -943,7 +943,7 @@ class LinePlot(MPLPlot):
             style = self.style or ''
             label = com._stringify(self.label)
             kwds = kwargs.copy()
-            self._maybe_add_color(kwds, style, 0)
+            self._maybe_add_color(has_colors, colors, kwds, style, 0)
 
             newlines = tsplot(data, plotf, ax=ax, label=label, style=self.style,
                              **kwds)
@@ -958,7 +958,7 @@ class LinePlot(MPLPlot):
                 style = self._get_style(i, col)
                 kwds = kwargs.copy()
 
-                self._maybe_add_color(kwds, style, i)
+                self._maybe_add_color(has_colors, colors, kwds, style, i)
 
                 newlines = tsplot(data[col], plotf, ax=ax, label=label,
                                   style=style, **kwds)
