commit 4d916eff3ba30bcbf9f16b8f53469088a02ff19b
Author: jbrockmendel <jbrockmendel@gmail.com>
Date:   Fri Jun 7 14:44:59 2019 -0500

    TST: avoid matplotlib warnings in tests (#26678)
    
    * TST: avoid matplotlib warnings in tests

diff --git a/pandas/tests/plotting/test_frame.py b/pandas/tests/plotting/test_frame.py
index f42f86540..9a2b87558 100644
--- a/pandas/tests/plotting/test_frame.py
+++ b/pandas/tests/plotting/test_frame.py
@@ -800,7 +800,10 @@ class TestDataFramePlots(TestPlotBase):
                 with pytest.raises(ValueError):
                     mixed_df.plot(stacked=True)
 
-                _check_plot_works(df.plot, kind=kind, logx=True, stacked=True)
+                # Use an index with strictly positive values, preventing
+                #  matplotlib from warning about ignoring xlim
+                df2 = df.set_index(df.index + 1)
+                _check_plot_works(df2.plot, kind=kind, logx=True, stacked=True)
 
     def test_line_area_nan_df(self):
         values1 = [1, 2, np.nan, 3]
