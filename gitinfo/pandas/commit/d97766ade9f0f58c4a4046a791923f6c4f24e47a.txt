commit d97766ade9f0f58c4a4046a791923f6c4f24e47a
Author: y-p <yoval@gmx.com>
Date:   Tue Dec 4 06:08:57 2012 +0200

    TST: fix bytes/text issue in py3 failing test

diff --git a/pandas/io/tests/test_parsers.py b/pandas/io/tests/test_parsers.py
index 597983c3a..f2e92f629 100644
--- a/pandas/io/tests/test_parsers.py
+++ b/pandas/io/tests/test_parsers.py
@@ -1604,10 +1604,14 @@ A,B,C
                 with open(path, 'wb') as f:
                     f.write(bytes)
 
+                if py3compat.PY3:
+                    s = BytesIO(dat.encode('utf-8'))
+                else:
+                    s = StringIO(dat.encode('utf-8'))
+
                 result = self.read_csv(path, encoding=enc, skiprows=2,
                                        sep=sep)
-                expected = self.read_csv(BytesIO(dat.encode('utf-8')),
-                                         encoding='utf-8', skiprows=2,
+                expected = self.read_csv(s,encoding='utf-8', skiprows=2,
                                          sep=sep)
 
                 tm.assert_frame_equal(result, expected)
