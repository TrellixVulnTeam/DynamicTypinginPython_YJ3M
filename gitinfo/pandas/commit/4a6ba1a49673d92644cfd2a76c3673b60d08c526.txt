commit 4a6ba1a49673d92644cfd2a76c3673b60d08c526
Author: KD-dev-lab <64783881+KD-dev-lab@users.noreply.github.com>
Date:   Thu Jun 4 21:09:55 2020 +0200

    TST: Added test to check that the freqstr attribute of the index is pâ€¦ (#34572)

diff --git a/pandas/tests/series/methods/test_shift.py b/pandas/tests/series/methods/test_shift.py
index 686e66162..f981e9810 100644
--- a/pandas/tests/series/methods/test_shift.py
+++ b/pandas/tests/series/methods/test_shift.py
@@ -276,3 +276,19 @@ class TestShift:
 
         expected = pd.Series([pd.Timestamp(0), ser[0]])
         tm.assert_series_equal(result, expected)
+
+    @pytest.mark.parametrize("periods", [1, 2, 3, 4])
+    def test_shift_preserve_freqstr(self, periods):
+        # GH#21275
+        ser = pd.Series(
+            range(periods),
+            index=pd.date_range("2016-1-1 00:00:00", periods=periods, freq="H"),
+        )
+
+        result = ser.shift(1, "2H")
+
+        expected = pd.Series(
+            range(periods),
+            index=pd.date_range("2016-1-1 02:00:00", periods=periods, freq="H"),
+        )
+        tm.assert_series_equal(result, expected)
