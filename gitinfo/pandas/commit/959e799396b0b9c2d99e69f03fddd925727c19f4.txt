commit 959e799396b0b9c2d99e69f03fddd925727c19f4
Author: Chuanzhu Xu <chuanzhu.xu@gmail.com>
Date:   Mon Jun 10 11:48:03 2019 -0400

    CI: Add print skipped tests into azure step (#26698)

diff --git a/.travis.yml b/.travis.yml
index ce8817133..fd59544d9 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -103,10 +103,5 @@ script:
 after_script:
   - echo "after_script start"
   - source activate pandas-dev && pushd /tmp && python -c "import pandas; pandas.show_versions();" && popd
-  - if [ -e test-data-single.xml ]; then
-        ci/print_skipped.py test-data-single.xml;
-    fi
-  - if [ -e test-data-multiple.xml ]; then
-        ci/print_skipped.py test-data-multiple.xml;
-    fi
+  - ci/print_skipped.py 
   - echo "after_script done"
diff --git a/ci/azure/posix.yml b/ci/azure/posix.yml
index f53e284c2..c5676e0a2 100644
--- a/ci/azure/posix.yml
+++ b/ci/azure/posix.yml
@@ -89,4 +89,9 @@ jobs:
           # note that this will produce $LASTEXITCODE=1
           Write-Error "$($matches[1]) tests failed"
         }
-      displayName: Check for test failures
+      displayName: 'Check for test failures'
+    - script: |
+        export PATH=$HOME/miniconda3/bin:$PATH
+        source activate pandas-dev
+        python ci/print_skipped.py
+      displayName: 'Print skipped tests'
diff --git a/ci/azure/windows.yml b/ci/azure/windows.yml
index eeb03a0b2..6d4afccb5 100644
--- a/ci/azure/windows.yml
+++ b/ci/azure/windows.yml
@@ -18,11 +18,11 @@ jobs:
 
   steps:
     - powershell: Write-Host "##vso[task.prependpath]$env:CONDA\Scripts"
-      displayName: Add conda to PATH
+      displayName: 'Add conda to PATH'
     - script: conda update -q -n base conda
       displayName: Update conda
     - script: conda env create -q --file ci\\deps\\azure-windows-$(CONDA_PY).yaml
-      displayName: Create anaconda environment
+      displayName: 'Create anaconda environment'
     - script: |
         call activate pandas-dev
         call conda list
@@ -48,4 +48,9 @@ jobs:
           # note that this will produce $LASTEXITCODE=1
           Write-Error "$($matches[1]) tests failed"
         }
-      displayName: Check for test failures
+      displayName: 'Check for test failures'
+    - script: |
+        export PATH=$HOME/miniconda3/bin:$PATH
+        source activate pandas-dev
+        python ci/print_skipped.py
+      displayName: 'Print skipped tests'
diff --git a/ci/print_skipped.py b/ci/print_skipped.py
index 67bc7b556..859481c5d 100755
--- a/ci/print_skipped.py
+++ b/ci/print_skipped.py
@@ -1,5 +1,6 @@
 #!/usr/bin/env python
 
+import os
 import sys
 import math
 import xml.etree.ElementTree as et
@@ -36,19 +37,19 @@ def parse_results(filename):
     return '\n'.join(skipped)
 
 
-def main(args):
+def main():
+    test_files = [
+        'test-data-single.xml',
+        'test-data-multiple.xml',
+        'test-data.xml',
+    ]
+
     print('SKIPPED TESTS:')
-    for fn in args.filename:
-        print(parse_results(fn))
+    for fn in test_files:
+        if os.path.isfile(fn):
+            print(parse_results(fn))
     return 0
 
 
-def parse_args():
-    import argparse
-    parser = argparse.ArgumentParser()
-    parser.add_argument('filename', nargs='+', help='XUnit file to parse')
-    return parser.parse_args()
-
-
 if __name__ == '__main__':
-    sys.exit(main(parse_args()))
+    sys.exit(main())
