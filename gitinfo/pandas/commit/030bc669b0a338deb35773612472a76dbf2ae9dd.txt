commit 030bc669b0a338deb35773612472a76dbf2ae9dd
Author: Jeff Reback <jeff@reback.net>
Date:   Sun Nov 11 17:31:33 2012 -0500

    fixed file modes for core/frame.py, test/test_frame.py

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index b83961309..5e41bc6ec 100755
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -1878,8 +1878,7 @@ class DataFrame(NDFrame):
             self._set_item(key, value)
 
     def _boolean_set(self, key, value):
-        mask = key.values
-        if mask.dtype != np.bool_:
+        if key.values.dtype != np.bool_:
             raise ValueError('Must pass DataFrame with boolean values only')
 
         if self._is_mixed_type:
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 824b668be..ef4e557b8 100755
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -142,6 +142,7 @@ class CheckIndexing(object):
         self.assertRaises(ValueError, self.tsframe.__getitem__, self.tsframe)
 
         # test df[df >0] works
+
         bif = self.tsframe[self.tsframe > 0]
         bifw = DataFrame(np.where(self.tsframe>0,self.tsframe,np.nan),index=self.tsframe.index,columns=self.tsframe.columns)
         self.assert_(isinstance(bif,DataFrame))
