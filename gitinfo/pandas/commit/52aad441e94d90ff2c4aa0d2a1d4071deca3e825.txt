commit 52aad441e94d90ff2c4aa0d2a1d4071deca3e825
Author: Chang She <changshe@gmail.com>
Date:   Mon Dec 10 03:12:48 2012 -0500

    More informative error message if no scipy

diff --git a/pandas/stats/moments.py b/pandas/stats/moments.py
index 5d136cfc6..91ca3be79 100644
--- a/pandas/stats/moments.py
+++ b/pandas/stats/moments.py
@@ -628,7 +628,10 @@ def rolling_window(arg, window=None, win_type=None, min_periods=None,
     elif com.is_integer(window): #window size
         if win_type is None:
             raise ValueError('Must specify window type')
-        import scipy.signal as sig
+        try:
+            import scipy.signal as sig
+        except ImportError:
+            raise ImportError('Please install scipy to generate window weight')
         win_type = _validate_win_type(win_type, kwargs) # may pop from kwargs
         window = sig.get_window(win_type, window).astype(float)
     else:
diff --git a/pandas/stats/tests/test_moments.py b/pandas/stats/tests/test_moments.py
index 26b14d354..788219be8 100644
--- a/pandas/stats/tests/test_moments.py
+++ b/pandas/stats/tests/test_moments.py
@@ -118,6 +118,11 @@ class TestMoments(unittest.TestCase):
         assert_frame_equal(DataFrame(xp), rs)
 
     def test_cmov_window_na_min_periods(self):
+        try:
+            from scikits.timeseries.lib import cmov_window
+        except ImportError:
+            raise nose.SkipTest
+
         # min_periods
         vals = Series(np.random.randn(10))
         vals[4] = np.nan
