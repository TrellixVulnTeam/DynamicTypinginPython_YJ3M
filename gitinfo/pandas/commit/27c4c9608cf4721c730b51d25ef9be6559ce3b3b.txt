commit 27c4c9608cf4721c730b51d25ef9be6559ce3b3b
Author: Chang She <changshe@gmail.com>
Date:   Sun Aug 19 11:12:47 2012 -0400

    BUG: add H,T,S as subperiods of H #1732

diff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py
index ee4d44963..bae0a4126 100644
--- a/pandas/tseries/frequencies.py
+++ b/pandas/tseries/frequencies.py
@@ -944,6 +944,12 @@ def is_subperiod(source, target):
         return source in ['B', 'H', 'T', 'S']
     elif target == 'D':
         return source in ['D', 'H', 'T', 'S']
+    elif target == 'H':
+        return source in ['H', 'T', 'S']
+    elif target == 'T':
+        return source in ['T', 'S']
+    elif target == 'S':
+        return source in ['S']
 
 def is_superperiod(source, target):
     """
@@ -988,6 +994,12 @@ def is_superperiod(source, target):
         return target in ['D', 'B', 'H', 'T', 'S']
     elif source == 'D':
         return target in ['D', 'B', 'H', 'T', 'S']
+    elif source == 'H':
+        return target in ['H', 'T', 'S']
+    elif source == 'T':
+        return target in ['T', 'S']
+    elif source == 'S':
+        return target in ['S']
 
 def _get_rule_month(source, default='DEC'):
     source = source.upper()
diff --git a/pandas/tseries/tests/test_frequencies.py b/pandas/tseries/tests/test_frequencies.py
index 622bc5857..c1cf2b043 100644
--- a/pandas/tseries/tests/test_frequencies.py
+++ b/pandas/tseries/tests/test_frequencies.py
@@ -202,8 +202,10 @@ def test_is_superperiod_subperiod():
     assert(fmod.is_superperiod(offsets.YearEnd(), offsets.MonthEnd()))
     assert(fmod.is_subperiod(offsets.MonthEnd(), offsets.YearEnd()))
 
+    assert(fmod.is_superperiod(offsets.Hour(), offsets.Minute()))
+    assert(fmod.is_subperiod(offsets.Minute(), offsets.Hour()))
+
 if __name__ == '__main__':
     import nose
     nose.runmodule(argv=[__file__,'-vvs','-x','--pdb', '--pdb-failure'],
                    exit=False)
-
diff --git a/pandas/tseries/tests/test_plotting.py b/pandas/tseries/tests/test_plotting.py
index a38722a22..63a4d31b2 100644
--- a/pandas/tseries/tests/test_plotting.py
+++ b/pandas/tseries/tests/test_plotting.py
@@ -616,6 +616,16 @@ class TestTSPlot(unittest.TestCase):
         for l in ax.get_lines():
             self.assert_(l.get_xdata().freq == 'D')
 
+        plt.close('all')
+        idxh = date_range('1/1/1999', periods=240, freq='T')
+        idxl = date_range('1/1/1999', periods=4, freq='H')
+        high = Series(np.random.randn(len(idxh)), idxh)
+        low = Series(np.random.randn(len(idxl)), idxl)
+        low.plot()
+        ax = high.plot()
+        for l in ax.get_lines():
+            self.assert_(l.get_xdata().freq == 'T')
+
     @slow
     def test_mixed_freq_irreg_period(self):
         ts = tm.makeTimeSeries()
