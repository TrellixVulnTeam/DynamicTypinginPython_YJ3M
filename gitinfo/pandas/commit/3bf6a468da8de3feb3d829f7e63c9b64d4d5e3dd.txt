commit 3bf6a468da8de3feb3d829f7e63c9b64d4d5e3dd
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Nov 25 20:40:23 2012 -0500

    BUG: fix #2299?

diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 810bf077e..41120376c 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -509,8 +509,9 @@ class HDFStore(object):
         group._v_attrs.nblocks = nblocks
         for i in range(nblocks):
             blk = data.blocks[i]
-            self._write_index(group, 'block%d_items' % i, blk.items)
+            # I have no idea why, but writing values before items fixed #2299
             self._write_array(group, 'block%d_values' % i, blk.values)
+            self._write_index(group, 'block%d_items' % i, blk.items)
 
     def _read_block_manager(self, group):
         ndim = group._v_attrs.ndim
@@ -697,6 +698,7 @@ class HDFStore(object):
         # Transform needed to interface with pytables row/col notation
         empty_array = any(x == 0 for x in value.shape)
         transposed = False
+
         if not empty_array:
             value = value.T
             transposed = True
