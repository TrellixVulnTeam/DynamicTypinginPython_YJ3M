commit 91bd30836f6f3c2c7430016aa9e01f053dc471c9
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Mon Nov 17 13:51:08 2014 +0100

    TST: add tests for index.groupby (GH5620)

diff --git a/pandas/core/index.py b/pandas/core/index.py
index 2de9b2fac..6702a2116 100644
--- a/pandas/core/index.py
+++ b/pandas/core/index.py
@@ -1555,6 +1555,20 @@ class Index(IndexOpsMixin, PandasObject):
         return self, other
 
     def groupby(self, to_groupby):
+        """
+        Group the index labels by a given array of values.
+
+        Parameters
+        ----------
+        to_groupby : array
+            Values used to determine the groups.
+
+        Returns
+        -------
+        groups : dict
+            {group name -> group labels}
+
+        """
         return self._groupby(self.values, _values_from_object(to_groupby))
 
     def map(self, mapper):
diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index adb5e7d07..cca8324b4 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -1137,6 +1137,11 @@ class TestIndex(Base, tm.TestCase):
         self.assertEqual(reindexed.levels[0].dtype.type, np.int64)
         self.assertEqual(reindexed.levels[1].dtype.type, np.float64)
 
+    def test_groupby(self):
+        idx = Index(range(5))
+        groups = idx.groupby(np.array([1,1,2,2,2]))
+        exp = {1: [0, 1], 2: [2, 3, 4]}
+        tm.assert_dict_equal(groups, exp)
 
 
 class Numeric(Base):
@@ -3524,6 +3529,17 @@ class TestMultiIndex(Base, tm.TestCase):
         self.assertEqual(idx.reindex([], level=1)[0].levels[1].dtype.type,
                          np.object_)
 
+    def test_groupby(self):
+        groups = self.index.groupby(np.array([1, 1, 1, 2, 2, 2]))
+        labels = self.index.get_values().tolist()
+        exp = {1: labels[:3], 2: labels[3:]}
+        tm.assert_dict_equal(groups, exp)
+
+        # GH5620
+        groups = self.index.groupby(self.index)
+        exp = dict((key, [key]) for key in self.index)
+        tm.assert_dict_equal(groups, exp)
+
 
 def test_get_combined_index():
     from pandas.core.index import _get_combined_index
