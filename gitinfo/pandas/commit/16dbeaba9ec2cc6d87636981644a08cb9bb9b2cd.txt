commit 16dbeaba9ec2cc6d87636981644a08cb9bb9b2cd
Author: Thomas Kluyver <takowl@gmail.com>
Date:   Wed Oct 5 20:44:02 2011 +0100

    Fixes so more tests pass on Python 3.

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index eaf731040..2b458c05f 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -278,6 +278,9 @@ class DataFrame(NDFrame):
         """Iterator over (column, series) pairs"""
         series = self._series
         return ((k, series[k]) for k in self.columns)
+    
+    if py3compat.PY3:
+        items = iteritems
 
     def __len__(self):
         """Returns length of index"""
diff --git a/pandas/core/series.py b/pandas/core/series.py
index ea9750624..54079f11b 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -419,6 +419,9 @@ copy : boolean, default False
         Lazily iterate over (index, value) tuples
         """
         return itertools.izip(iter(self.index), iter(self))
+    
+    if py3compat.PY3:
+        items = iteritems
 
     #----------------------------------------------------------------------
     #   Arithmetic operators
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 60feace3e..06795d5ca 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -2414,23 +2414,23 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         assert_frame_equal(comb, self.frame)
 
     def test_combine_first_mixed_bug(self):
-	idx = Index(['a','b','c','e'])
-	ser1 = Series([5.0,-9.0,4.0,100.],index=idx)
-	ser2 = Series(['a', 'b', 'c', 'e'], index=idx)
-	ser3 = Series([12,4,5,97], index=idx)
-
-	frame1 = DataFrame({"col0" : ser1,
-                            "col2" : ser2,
-                            "col3" : ser3})
-
-	idx = Index(['a','b','c','f'])
-	ser1 = Series([5.0,-9.0,4.0,100.], index=idx)
-	ser2 = Series(['a','b','c','f'], index=idx)
-	ser3 = Series([12,4,5,97],index=idx)
-
-	frame2 = DataFrame({"col1" : ser1,
-                             "col2" : ser2,
-                             "col5" : ser3})
+        idx = Index(['a','b','c','e'])
+        ser1 = Series([5.0,-9.0,4.0,100.],index=idx)
+        ser2 = Series(['a', 'b', 'c', 'e'], index=idx)
+        ser3 = Series([12,4,5,97], index=idx)
+
+        frame1 = DataFrame({"col0" : ser1,
+                                "col2" : ser2,
+                                "col3" : ser3})
+
+        idx = Index(['a','b','c','f'])
+        ser1 = Series([5.0,-9.0,4.0,100.], index=idx)
+        ser2 = Series(['a','b','c','f'], index=idx)
+        ser3 = Series([12,4,5,97],index=idx)
+
+        frame2 = DataFrame({"col1" : ser1,
+                                 "col2" : ser2,
+                                 "col5" : ser3})
 
 
         combined = frame1.combine_first(frame2)
diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index eb5bf40f1..6d43682aa 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -31,7 +31,7 @@ N = 30
 K = 4
 
 def rands(n):
-    choices = string.letters + string.digits
+    choices = string.ascii_letters + string.digits
     return ''.join([random.choice(choices) for _ in xrange(n)])
 
 #-------------------------------------------------------------------------------
diff --git a/setup.py b/setup.py
index 93832bada..cbcf93871 100755
--- a/setup.py
+++ b/setup.py
@@ -295,13 +295,15 @@ setup(name=DISTNAME,
                 'pandas.io',
                 'pandas.sandbox',
                 'pandas.stats',
-                'pandas.util'],
-      package_data={'pandas' : ['tests/*.py'],
-                    'pandas.io' : ['tests/*.py',
-                                   'tests/*.h5',
+                'pandas.util',
+                'pandas.tests',
+                'pandas.io.tests',
+                'pandas.stats.tests',
+                ],
+      package_data={'pandas.io' : ['tests/*.h5',
                                    'tests/*.csv',
                                    'tests/*.xls'],
-                    'pandas.stats' : ['tests/*.py']},
+                    },
       ext_modules=extensions,
       maintainer_email=MAINTAINER_EMAIL,
       description=DESCRIPTION,
