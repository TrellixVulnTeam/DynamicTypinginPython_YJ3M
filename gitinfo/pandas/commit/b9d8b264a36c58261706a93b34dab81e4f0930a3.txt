commit b9d8b264a36c58261706a93b34dab81e4f0930a3
Author: Licht Takeuchi <licht-t@outlook.jp>
Date:   Mon Feb 12 06:11:10 2018 +0900

    TST: Add to_csv test when writing the single column CSV (#19091)
    
    Closes gh-18676

diff --git a/pandas/tests/io/formats/test_to_csv.py b/pandas/tests/io/formats/test_to_csv.py
index e12a7196d..dfa3751bf 100644
--- a/pandas/tests/io/formats/test_to_csv.py
+++ b/pandas/tests/io/formats/test_to_csv.py
@@ -1,5 +1,6 @@
 # -*- coding: utf-8 -*-
 
+import sys
 import numpy as np
 import pandas as pd
 import pytest
@@ -9,6 +10,37 @@ from pandas.util import testing as tm
 
 class TestToCSV(object):
 
+    @pytest.mark.xfail((3, 6, 5) > sys.version_info >= (3, 5),
+                       reason=("Python csv library bug "
+                               "(see https://bugs.python.org/issue32255)"))
+    def test_to_csv_with_single_column(self):
+        # see gh-18676, https://bugs.python.org/issue32255
+        #
+        # Python's CSV library adds an extraneous '""'
+        # before the newline when the NaN-value is in
+        # the first row. Otherwise, only the newline
+        # character is added. This behavior is inconsistent
+        # and was patched in https://bugs.python.org/pull_request4672.
+        df1 = DataFrame([None, 1])
+        expected1 = """\
+""
+1.0
+"""
+        with tm.ensure_clean('test.csv') as path:
+            df1.to_csv(path, header=None, index=None)
+            with open(path, 'r') as f:
+                assert f.read() == expected1
+
+        df2 = DataFrame([1, None])
+        expected2 = """\
+1.0
+""
+"""
+        with tm.ensure_clean('test.csv') as path:
+            df2.to_csv(path, header=None, index=None)
+            with open(path, 'r') as f:
+                assert f.read() == expected2
+
     def test_to_csv_defualt_encoding(self):
         # GH17097
         df = DataFrame({'col': [u"AAAAA", u"ÄÄÄÄÄ", u"ßßßßß", u"聞聞聞聞聞"]})
