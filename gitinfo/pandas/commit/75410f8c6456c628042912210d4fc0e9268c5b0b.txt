commit 75410f8c6456c628042912210d4fc0e9268c5b0b
Author: Martin Winkel <martin.winkel.pps@gmail.com>
Date:   Fri Nov 1 15:50:58 2019 +0100

    CLN: Consistent imports - linting rules (#29318)

diff --git a/ci/code_checks.sh b/ci/code_checks.sh
index f704a1018..07c99b39e 100755
--- a/ci/code_checks.sh
+++ b/ci/code_checks.sh
@@ -120,9 +120,15 @@ if [[ -z "$CHECK" || "$CHECK" == "patterns" ]]; then
     # Check for imports from pandas.core.common instead of `import pandas.core.common as com`
     # Check for imports from collections.abc instead of `from collections import abc`
     MSG='Check for non-standard imports' ; echo $MSG
-    invgrep -R --include="*.py*" -E "from pandas.core.common import " pandas
-    invgrep -R --include="*.py*" -E "from collections.abc import " pandas
-    invgrep -R --include="*.py*" -E "from numpy import nan " pandas
+    invgrep -R --include="*.py*" -E "from pandas.core.common import" pandas
+    invgrep -R --include="*.py*" -E "from pandas.core import common" pandas
+    invgrep -R --include="*.py*" -E "from collections.abc import" pandas
+    invgrep -R --include="*.py*" -E "from numpy import nan" pandas
+
+    # Checks for test suite
+    # Check for imports from pandas.util.testing instead of `import pandas.util.testing as tm`
+    invgrep -R --include="*.py*" -E "from pandas.util.testing import" pandas/tests
+    invgrep -R --include="*.py*" -E "from pandas.util import testing as tm" pandas/tests
     RET=$(($RET + $?)) ; echo $MSG "DONE"
 
     MSG='Check for use of exec' ; echo $MSG
diff --git a/pandas/core/algorithms.py b/pandas/core/algorithms.py
index 98a090ef2..c70e62377 100644
--- a/pandas/core/algorithms.py
+++ b/pandas/core/algorithms.py
@@ -46,7 +46,7 @@ from pandas.core.dtypes.common import (
 from pandas.core.dtypes.generic import ABCIndex, ABCIndexClass, ABCSeries
 from pandas.core.dtypes.missing import isna, na_value_for_dtype
 
-from pandas.core import common as com
+import pandas.core.common as com
 from pandas.core.construction import array, extract_array
 from pandas.core.indexers import validate_indices
 
diff --git a/pandas/core/computation/expr.py b/pandas/core/computation/expr.py
index 45319a4d6..72367c8fb 100644
--- a/pandas/core/computation/expr.py
+++ b/pandas/core/computation/expr.py
@@ -12,7 +12,7 @@ from typing import Type
 import numpy as np
 
 import pandas as pd
-from pandas.core import common as com
+import pandas.core.common as com
 from pandas.core.computation.common import (
     _BACKTICK_QUOTED_STRING,
     _remove_spaces_column_name,
diff --git a/pandas/core/indexes/period.py b/pandas/core/indexes/period.py
index a20290e77..a0f167896 100644
--- a/pandas/core/indexes/period.py
+++ b/pandas/core/indexes/period.py
@@ -20,11 +20,11 @@ from pandas.core.dtypes.common import (
     pandas_dtype,
 )
 
-from pandas.core import common as com
 from pandas.core.accessor import delegate_names
 from pandas.core.algorithms import unique1d
 from pandas.core.arrays.period import PeriodArray, period_array, validate_dtype_freq
 from pandas.core.base import _shared_docs
+import pandas.core.common as com
 import pandas.core.indexes.base as ibase
 from pandas.core.indexes.base import _index_shared_docs, ensure_index
 from pandas.core.indexes.datetimelike import (
diff --git a/pandas/core/reshape/concat.py b/pandas/core/reshape/concat.py
index 60bab8177..bbf41fc28 100644
--- a/pandas/core/reshape/concat.py
+++ b/pandas/core/reshape/concat.py
@@ -7,11 +7,11 @@ import warnings
 import numpy as np
 
 from pandas import DataFrame, Index, MultiIndex, Series
-from pandas.core import common as com
 from pandas.core.arrays.categorical import (
     _factorize_from_iterable,
     _factorize_from_iterables,
 )
+import pandas.core.common as com
 from pandas.core.generic import NDFrame
 from pandas.core.index import (
     _all_indexes_same,
diff --git a/pandas/core/reshape/util.py b/pandas/core/reshape/util.py
index 044e05890..d8652c9b4 100644
--- a/pandas/core/reshape/util.py
+++ b/pandas/core/reshape/util.py
@@ -2,7 +2,7 @@ import numpy as np
 
 from pandas.core.dtypes.common import is_list_like
 
-from pandas.core import common as com
+import pandas.core.common as com
 
 
 def cartesian_product(X):
diff --git a/pandas/tests/indexing/multiindex/test_chaining_and_caching.py b/pandas/tests/indexing/multiindex/test_chaining_and_caching.py
index 3183721ee..e0206c8e7 100644
--- a/pandas/tests/indexing/multiindex/test_chaining_and_caching.py
+++ b/pandas/tests/indexing/multiindex/test_chaining_and_caching.py
@@ -2,7 +2,7 @@ import numpy as np
 import pytest
 
 from pandas import DataFrame, MultiIndex, Series
-from pandas.core import common as com
+import pandas.core.common as com
 import pandas.util.testing as tm
 
 
diff --git a/pandas/tests/indexing/test_chaining_and_caching.py b/pandas/tests/indexing/test_chaining_and_caching.py
index bd106ba9c..274b72b05 100644
--- a/pandas/tests/indexing/test_chaining_and_caching.py
+++ b/pandas/tests/indexing/test_chaining_and_caching.py
@@ -3,7 +3,7 @@ import pytest
 
 import pandas as pd
 from pandas import DataFrame, Series, Timestamp, date_range, option_context
-from pandas.core import common as com
+import pandas.core.common as com
 import pandas.util.testing as tm
 
 
diff --git a/pandas/tests/test_common.py b/pandas/tests/test_common.py
index 65b2dab1b..a8a0fcea7 100644
--- a/pandas/tests/test_common.py
+++ b/pandas/tests/test_common.py
@@ -8,7 +8,8 @@ import pytest
 
 import pandas as pd
 from pandas import Series, Timestamp
-from pandas.core import common as com, ops
+from pandas.core import ops
+import pandas.core.common as com
 
 
 def test_get_callable_name():
diff --git a/pandas/tests/test_sorting.py b/pandas/tests/test_sorting.py
index 32aeb7b18..b86aaa0ed 100644
--- a/pandas/tests/test_sorting.py
+++ b/pandas/tests/test_sorting.py
@@ -6,7 +6,7 @@ import numpy as np
 import pytest
 
 from pandas import DataFrame, MultiIndex, Series, array, concat, merge
-from pandas.core import common as com
+import pandas.core.common as com
 from pandas.core.sorting import (
     decons_group_index,
     get_group_index,
