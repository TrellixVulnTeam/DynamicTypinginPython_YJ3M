commit 0b7e917489eb9e18675a2c5eb054325bd9fca570
Author: Alex Rothberg <agrothberg@gmail.com>
Date:   Fri Oct 25 20:58:12 2013 -0400

    ERROR: better expection for passing a MS frequency (GH5332)

diff --git a/doc/source/release.rst b/doc/source/release.rst
index 8df3faab7..13aef1a5d 100644
--- a/doc/source/release.rst
+++ b/doc/source/release.rst
@@ -362,6 +362,7 @@ Bug Fixes
 - Bug in adding np.timedelta64 to DatetimeIndex with tz outputs incorrect result (:issue:`6818`)
 - Bug in ``DataFrame.replace()`` where changing a dtype through replacement
   would only replace the first occurrence of a value (:issue:`6689`)
+- Better error message when passing a frequency of 'MS' in ``Period`` construction (GH5332)
 
 pandas 0.13.1
 -------------
diff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py
index a75d30c33..e3c933e11 100644
--- a/pandas/tseries/frequencies.py
+++ b/pandas/tseries/frequencies.py
@@ -321,7 +321,7 @@ def get_base_alias(freqstr):
     """
     return _base_and_stride(freqstr)[0]
 
-_dont_uppercase = ['MS', 'ms']
+_dont_uppercase = set(('MS', 'ms'))
 
 
 def get_offset(name):
@@ -481,7 +481,7 @@ def _period_alias_dictionary():
     H_aliases = ["H", "HR", "HOUR", "HRLY", "HOURLY"]
     T_aliases = ["T", "MIN", "MINUTE", "MINUTELY"]
     S_aliases = ["S", "SEC", "SECOND", "SECONDLY"]
-    L_aliases = ["L", "MS", "MILLISECOND", "MILLISECONDLY"]
+    L_aliases = ["L", "ms", "MILLISECOND", "MILLISECONDLY"]
     U_aliases = ["U", "US", "MICROSECOND", "MICROSECONDLY"]
     N_aliases = ["N", "NS", "NANOSECOND", "NANOSECONDLY"]
 
@@ -599,10 +599,13 @@ _period_alias_dict = _period_alias_dictionary()
 def _period_str_to_code(freqstr):
     # hack
     freqstr = _rule_aliases.get(freqstr, freqstr)
-    freqstr = _rule_aliases.get(freqstr.lower(), freqstr)
+    
+    if freqstr not in _dont_uppercase:
+        freqstr = _rule_aliases.get(freqstr.lower(), freqstr)
 
     try:
-        freqstr = freqstr.upper()
+        if freqstr not in _dont_uppercase:
+            freqstr = freqstr.upper()
         return _period_code_map[freqstr]
     except KeyError:
         try:
diff --git a/pandas/tseries/tests/test_period.py b/pandas/tseries/tests/test_period.py
index 9dc26f2b0..a6326794c 100644
--- a/pandas/tseries/tests/test_period.py
+++ b/pandas/tseries/tests/test_period.py
@@ -11,7 +11,7 @@ from datetime import datetime, date, timedelta
 from numpy.ma.testutils import assert_equal
 
 from pandas import Timestamp
-from pandas.tseries.frequencies import MONTHS, DAYS
+from pandas.tseries.frequencies import MONTHS, DAYS, _period_code_map
 from pandas.tseries.period import Period, PeriodIndex, period_range
 from pandas.tseries.index import DatetimeIndex, date_range, Index
 from pandas.tseries.tools import to_datetime
@@ -485,6 +485,13 @@ class TestPeriodProperties(tm.TestCase):
         p = Period('2007-01-01 07:10:15.123400')
         self.assertEqual(p.freq, 'U')
 
+    def test_asfreq_MS(self):
+        initial = Period("2013")
+
+        self.assertEqual(initial.asfreq(freq="M", how="S"), Period('2013-01', 'M'))
+        self.assertRaises(ValueError, initial.asfreq, freq="MS", how="S")
+        tm.assertRaisesRegexp(ValueError, "Unknown freqstr: MS", pd.Period, '2013-01', 'MS')
+        self.assertTrue(_period_code_map.get("MS") is None)
 
 def noWrap(item):
     return item
