commit 794e06032a34c62a2f8757e7d92820192301fa1e
Author: Forbidden Donut <forbdonut@gmail.com>
Date:   Fri Jun 30 13:05:54 2017 -0700

    BUG: Fix read of py3 PeriodIndex DataFrame HDF made in py2 (#16781) (#16790)
    
    In Python3, reading a DataFrame with a PeriodIndex from an HDF file
    created in Python2 would incorrectly return a DataFrame with an
    Int64Index.

diff --git a/doc/source/whatsnew/v0.20.3.txt b/doc/source/whatsnew/v0.20.3.txt
index 0fac6367f..ebbdecb7d 100644
--- a/doc/source/whatsnew/v0.20.3.txt
+++ b/doc/source/whatsnew/v0.20.3.txt
@@ -38,6 +38,7 @@ Bug Fixes
 ~~~~~~~~~
 - Fixed issue with dataframe scatter plot for categorical data that reports incorrect column key not found when categorical data is used for plotting (:issue:`16199`)
 - Fixed a pytest marker failing downstream packages' tests suites (:issue:`16680`)
+- Fixed compat with loading a ``DataFrame`` with a ``PeriodIndex``, from a ``format='fixed'`` HDFStore, in Python 3, that was written in Python 2 (:issue:`16781`)
 
 
 
diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 02b6a772e..4e343556c 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -2591,8 +2591,8 @@ class GenericFixed(Fixed):
         if 'name' in node._v_attrs:
             name = _ensure_str(node._v_attrs.name)
 
-        index_class = self._alias_to_class(getattr(node._v_attrs,
-                                                   'index_class', ''))
+        index_class = self._alias_to_class(_ensure_decoded(
+            getattr(node._v_attrs, 'index_class', '')))
         factory = self._get_index_factory(index_class)
 
         kwargs = {}
diff --git a/pandas/tests/io/data/periodindex_0.20.1_x86_64_darwin_2.7.13.h5 b/pandas/tests/io/data/periodindex_0.20.1_x86_64_darwin_2.7.13.h5
new file mode 100644
index 000000000..6fb92d3c5
Binary files /dev/null and b/pandas/tests/io/data/periodindex_0.20.1_x86_64_darwin_2.7.13.h5 differ
diff --git a/pandas/tests/io/test_pytables.py b/pandas/tests/io/test_pytables.py
index 676c5a21c..69c92dd77 100644
--- a/pandas/tests/io/test_pytables.py
+++ b/pandas/tests/io/test_pytables.py
@@ -5264,6 +5264,26 @@ class TestHDFStore(Base):
             with pd.HDFStore(path) as store:
                 assert os.fspath(store) == str(path)
 
+    def test_read_py2_hdf_file_in_py3(self):
+        # GH 16781
+
+        # tests reading a PeriodIndex DataFrame written in Python2 in Python3
+
+        # the file was generated in Python 2.7 like so:
+        #
+        # df = pd.DataFrame([1.,2,3], index=pd.PeriodIndex(
+        #              ['2015-01-01', '2015-01-02', '2015-01-05'], freq='B'))
+        # df.to_hdf('periodindex_0.20.1_x86_64_darwin_2.7.13.h5', 'p')
+
+        expected = pd.DataFrame([1., 2, 3], index=pd.PeriodIndex(
+            ['2015-01-01', '2015-01-02', '2015-01-05'], freq='B'))
+
+        with ensure_clean_store(
+                tm.get_data_path('periodindex_0.20.1_x86_64_darwin_2.7.13.h5'),
+                mode='r') as store:
+            result = store['p']
+            assert_frame_equal(result, expected)
+
 
 class TestHDFComplexValues(Base):
     # GH10447
