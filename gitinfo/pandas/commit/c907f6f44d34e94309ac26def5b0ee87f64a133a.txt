commit c907f6f44d34e94309ac26def5b0ee87f64a133a
Author: y-p <yoval@gmx.com>
Date:   Mon Oct 8 22:05:57 2012 +0200

    TST: add test for UnicodeWriter with csv.QUOTE_NONNUMERIC

diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 1cc62e394..45ec1fa42 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -3530,6 +3530,23 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
 
         self.assertEqual(result, expected)
 
+    def test_to_csv_unicodewriter_quoting(self):
+        import csv
+
+        df = DataFrame({'A': [1, 2, 3], 'B': ['foo', 'bar', 'baz']})
+
+        buf = StringIO()
+        df.to_csv(buf, index=False, quoting=csv.QUOTE_NONNUMERIC,
+                  encoding = 'utf-8')
+
+        result = buf.getvalue()
+        expected = ('"A","B"\n'
+                    '1,"foo"\n'
+                    '2,"bar"\n'
+                    '3,"baz"\n')
+
+        self.assertEqual(result, expected)
+
     def test_to_csv_index_no_leading_comma(self):
         df = DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]},
                        index=['one', 'two', 'three'])
