commit a6ab739c42ca6b7eb3188e4c69f7ce78700f571e
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Thu Dec 1 20:14:45 2011 -0500

    TST: mark graphics tests as slow, asserts to class methods

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 768c5669c..55aee355b 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -2666,7 +2666,7 @@ class DataFrame(NDFrame):
         destat = []
 
         for column in numeric_columns:
-            series = self._getitem_single(column)
+            series = self[column]
             destat.append([series.count(), series.mean(), series.std(),
                            series.min(), series.quantile(.25), series.median(),
                            series.quantile(.75), series.max()])
diff --git a/pandas/core/series.py b/pandas/core/series.py
index 68136f9b7..3ec84aa96 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -829,7 +829,10 @@ copy : boolean, default False
         quantile : float
         """
         from scipy.stats import scoreatpercentile
-        return scoreatpercentile(self.dropna().values, q * 100)
+        valid_values = self.dropna().values
+        if len(valid_values) == 0:
+            return np.nan
+        return scoreatpercentile(valid_values, q * 100)
 
     def describe(self):
         """
diff --git a/pandas/tests/test_graphics.py b/pandas/tests/test_graphics.py
index 3f329c04d..50798ba0b 100644
--- a/pandas/tests/test_graphics.py
+++ b/pandas/tests/test_graphics.py
@@ -8,6 +8,8 @@ import pandas.util.testing as tm
 
 import numpy as np
 
+from numpy.testing.decorators import slow
+
 class TestSeriesPlots(unittest.TestCase):
 
     @classmethod
@@ -29,6 +31,7 @@ class TestSeriesPlots(unittest.TestCase):
         self.series = tm.makeStringSeries()
         self.series.name = 'series'
 
+    @slow
     def test_plot(self):
         _check_plot_works(self.ts.plot, label='foo')
         _check_plot_works(self.ts.plot, use_index=False)
@@ -37,6 +40,7 @@ class TestSeriesPlots(unittest.TestCase):
         _check_plot_works(self.ts[:10].plot, kind='bar')
         _check_plot_works(self.series[:5].plot, kind='bar')
 
+    @slow
     def test_hist(self):
         _check_plot_works(self.ts.hist)
         _check_plot_works(self.ts.hist, grid=False)
@@ -56,12 +60,14 @@ class TestDataFramePlots(unittest.TestCase):
         except ImportError:
             raise nose.SkipTest
 
+    @slow
     def test_plot(self):
         df = tm.makeTimeDataFrame()
         _check_plot_works(df.plot, grid=False)
         _check_plot_works(df.plot, subplots=True)
         _check_plot_works(df.plot, subplots=True, use_index=False)
 
+    @slow
     def test_plot_bar(self):
         df = DataFrame(np.random.randn(6, 4),
                        index=list(string.ascii_letters[:6]),
@@ -76,6 +82,7 @@ class TestDataFramePlots(unittest.TestCase):
                        columns=range(15))
         _check_plot_works(df.plot, kind='bar')
 
+    @slow
     def test_boxplot(self):
         df = DataFrame(np.random.randn(6, 4),
                        index=list(string.ascii_letters[:6]),
@@ -89,11 +96,13 @@ class TestDataFramePlots(unittest.TestCase):
         _check_plot_works(df.boxplot, by='indic')
         _check_plot_works(df.boxplot, by=['indic', 'indic2'])
 
+    @slow
     def test_hist(self):
         df = DataFrame(np.random.randn(100, 4))
         _check_plot_works(df.hist)
         _check_plot_works(df.hist, grid=False)
 
+    @slow
     def test_plot_int_columns(self):
         df = DataFrame(np.random.randn(100, 4)).cumsum()
         _check_plot_works(df.plot, legend=True)
diff --git a/pandas/tests/test_panel.py b/pandas/tests/test_panel.py
index a8d65e4f3..841c5a040 100644
--- a/pandas/tests/test_panel.py
+++ b/pandas/tests/test_panel.py
@@ -134,8 +134,8 @@ class SafeForLongAndSparse(object):
 
 class SafeForSparse(object):
 
-    @staticmethod
-    def assert_panel_equal(x, y):
+    @classmethod
+    def assert_panel_equal(cls, x, y):
         assert_panel_equal(x, y)
 
     def test_get_axis(self):
@@ -523,8 +523,8 @@ class TestPanel(unittest.TestCase, PanelTests, CheckIndexing,
                 SafeForLongAndSparse,
                 SafeForSparse):
 
-    @staticmethod
-    def assert_panel_equal(x, y):
+    @classmethod
+    def assert_panel_equal(cls,x, y):
         assert_panel_equal(x, y)
 
     def setUp(self):
diff --git a/pandas/tests/test_sparse.py b/pandas/tests/test_sparse.py
index 6c0836943..c42102f21 100644
--- a/pandas/tests/test_sparse.py
+++ b/pandas/tests/test_sparse.py
@@ -1177,8 +1177,8 @@ class TestSparsePanel(TestCase,
                       test_panel.SafeForLongAndSparse,
                       test_panel.SafeForSparse):
 
-    @staticmethod
-    def assert_panel_equal(x, y):
+    @classmethod
+    def assert_panel_equal(cls, x, y):
         assert_sp_panel_equal(x, y)
 
     def setUp(self):
diff --git a/test_fast.sh b/test_fast.sh
new file mode 100755
index 000000000..ccc0d82cf
--- /dev/null
+++ b/test_fast.sh
@@ -0,0 +1 @@
+nosetests -A "not slow" pandas
\ No newline at end of file
