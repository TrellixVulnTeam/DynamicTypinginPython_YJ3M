commit 6148e5853460dc5325468fe3ec8f6e5c2b52b8b6
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Tue Nov 28 06:16:23 2017 -0500

    BUG: Fix marker for high memory (#18526)

diff --git a/ci/run_circle.sh b/ci/run_circle.sh
index 0e46d28ab..435985bd4 100755
--- a/ci/run_circle.sh
+++ b/ci/run_circle.sh
@@ -5,5 +5,5 @@ export PATH="$MINICONDA_DIR/bin:$PATH"
 
 source activate pandas
 
-echo "pytest --junitxml=$CIRCLE_TEST_REPORTS/reports/junit.xml $@ pandas"
-pytest --junitxml=$CIRCLE_TEST_REPORTS/reports/junit.xml $@ pandas
+echo "pytest --strict --junitxml=$CIRCLE_TEST_REPORTS/reports/junit.xml $@ pandas"
+pytest --strict --junitxml=$CIRCLE_TEST_REPORTS/reports/junit.xml $@ pandas
diff --git a/ci/script_multi.sh b/ci/script_multi.sh
index e03d60360..587425526 100755
--- a/ci/script_multi.sh
+++ b/ci/script_multi.sh
@@ -38,17 +38,17 @@ elif [ "$DOC" ]; then
     echo "We are not running pytest as this is a doc-build"
 
 elif [ "$COVERAGE" ]; then
-    echo pytest -s -n 2 -m "not single" --cov=pandas --cov-report xml:/tmp/cov-multiple.xml --junitxml=/tmp/multiple.xml $TEST_ARGS pandas
-    pytest -s -n 2 -m "not single" --cov=pandas --cov-report xml:/tmp/cov-multiple.xml --junitxml=/tmp/multiple.xml $TEST_ARGS pandas
+    echo pytest -s -n 2 -m "not single" --cov=pandas --cov-report xml:/tmp/cov-multiple.xml --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas
+    pytest -s -n 2 -m "not single" --cov=pandas --cov-report xml:/tmp/cov-multiple.xml --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas
 
 elif [ "$SLOW" ]; then
     TEST_ARGS="--only-slow --skip-network"
-    echo pytest -r xX -m "not single and slow" -v --junitxml=/tmp/multiple.xml $TEST_ARGS pandas
-    pytest -r xX -m "not single and slow" -v --junitxml=/tmp/multiple.xml $TEST_ARGS pandas
+    echo pytest -r xX -m "not single and slow" -v --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas
+    pytest -r xX -m "not single and slow" -v --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas
 
 else
-    echo pytest -n 2 -r xX -m "not single" --junitxml=/tmp/multiple.xml $TEST_ARGS pandas
-    pytest -n 2 -r xX -m "not single" --junitxml=/tmp/multiple.xml $TEST_ARGS pandas # TODO: doctest
+    echo pytest -n 2 -r xX -m "not single" --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas
+    pytest -n 2 -r xX -m "not single" --junitxml=/tmp/multiple.xml --strict $TEST_ARGS pandas # TODO: doctest
 
 fi
 
diff --git a/ci/script_single.sh b/ci/script_single.sh
index 375e9879e..963ce00b4 100755
--- a/ci/script_single.sh
+++ b/ci/script_single.sh
@@ -23,12 +23,12 @@ elif [ "$DOC" ]; then
     echo "We are not running pytest as this is a doc-build"
 
 elif [ "$COVERAGE" ]; then
-    echo pytest -s -m "single" --cov=pandas --cov-report xml:/tmp/cov-single.xml --junitxml=/tmp/single.xml $TEST_ARGS pandas
-    pytest -s -m "single" --cov=pandas --cov-report xml:/tmp/cov-single.xml --junitxml=/tmp/single.xml $TEST_ARGS pandas
+    echo pytest -s -m "single" --strict --cov=pandas --cov-report xml:/tmp/cov-single.xml --junitxml=/tmp/single.xml $TEST_ARGS pandas
+    pytest -s -m "single" --strict --cov=pandas --cov-report xml:/tmp/cov-single.xml --junitxml=/tmp/single.xml $TEST_ARGS pandas
 
 else
-    echo pytest -m "single" -r xX --junitxml=/tmp/single.xml $TEST_ARGS pandas
-    pytest -m "single" -r xX  --junitxml=/tmp/single.xml $TEST_ARGS pandas # TODO: doctest
+    echo pytest -m "single" -r xX --junitxml=/tmp/single.xml --strict $TEST_ARGS pandas
+    pytest -m "single" -r xX  --junitxml=/tmp/single.xml --strict $TEST_ARGS pandas # TODO: doctest
 
 fi
 
diff --git a/pandas/tests/io/test_pytables.py b/pandas/tests/io/test_pytables.py
index 5e5fc6e7e..3fcbf90d1 100644
--- a/pandas/tests/io/test_pytables.py
+++ b/pandas/tests/io/test_pytables.py
@@ -4269,9 +4269,10 @@ class TestHDFStore(Base):
                           ['df1', 'df3'], where=['A>0', 'B>0'],
                           selector='df1')
 
-    @pytest.mark.skipf(
+    @pytest.mark.skipif(
         LooseVersion(tables.__version__) < '3.1.0',
-        "tables version does not support fix for nan selection bug: GH 4858")
+        reason=("tables version does not support fix for nan selection "
+                "bug: GH 4858"))
     def test_nan_selection_bug_4858(self):
 
         with ensure_clean_store(self.path) as store:
diff --git a/setup.cfg b/setup.cfg
index 7a88ee855..828ef8097 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -27,4 +27,4 @@ markers =
     single: mark a test as single cpu only
     slow: mark a test as slow
     network: mark a test as network
-    highmemory: mark a test as a high-memory only
+    high_memory: mark a test as a high-memory only
diff --git a/test.bat b/test.bat
index 6c69f8386..2424f62b8 100644
--- a/test.bat
+++ b/test.bat
@@ -1,3 +1,3 @@
 :: test on windows
 
-pytest --skip-slow --skip-network pandas -n 2 %*
+pytest --strict --skip-slow --skip-network pandas -n 2 %*
