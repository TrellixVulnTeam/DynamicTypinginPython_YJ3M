commit 940bbb599bcaebb191e8ed726aae88f1cb22757e
Author: gabrielvf1 <vf_gabriel@yahoo.com.br>
Date:   Thu Mar 12 01:52:29 2020 -0300

    TST/VIZ: add test for legend colors for DataFrame with duplicate column labels #11136 (#32451)

diff --git a/pandas/tests/plotting/test_frame.py b/pandas/tests/plotting/test_frame.py
index ffbd13546..32673b9a0 100644
--- a/pandas/tests/plotting/test_frame.py
+++ b/pandas/tests/plotting/test_frame.py
@@ -3316,6 +3316,16 @@ class TestDataFramePlots(TestPlotBase):
         self._check_legend_labels(ax, labels=["A", "B", "C"])
         self._check_legend_marker(ax, expected_markers=[".", ".", "."])
 
+    def test_colors_of_columns_with_same_name(self):
+        # ISSUE 11136 -> https://github.com/pandas-dev/pandas/issues/11136
+        # Creating a DataFrame with duplicate column labels and testing colors of them.
+        df = pd.DataFrame({"b": [0, 1, 0], "a": [1, 2, 3]})
+        df1 = pd.DataFrame({"a": [2, 4, 6]})
+        df_concat = pd.concat([df, df1], axis=1)
+        result = df_concat.plot()
+        for legend, line in zip(result.get_legend().legendHandles, result.lines):
+            assert legend.get_color() == line.get_color()
+
 
 def _generate_4_axes_via_gridspec():
     import matplotlib.pyplot as plt
