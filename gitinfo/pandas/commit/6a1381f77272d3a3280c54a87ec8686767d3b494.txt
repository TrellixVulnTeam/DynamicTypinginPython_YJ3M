commit 6a1381f77272d3a3280c54a87ec8686767d3b494
Author: Chang She <chang@chang-XPS-8300.(none)>
Date:   Wed Feb 22 07:42:48 2012 -0500

    fixed bug in new test case in test_align

diff --git a/pandas/tests/test_series.py b/pandas/tests/test_series.py
index e6e5c655b..c36b8c9b2 100644
--- a/pandas/tests/test_series.py
+++ b/pandas/tests/test_series.py
@@ -1788,10 +1788,12 @@ class TestSeries(unittest.TestCase, CheckNameIntegration):
                         
             join_index = a.index.join(b.index, how=how)
             if fill is not None:
-                diff_a = a.index.diff(join_index)
-                self.asset_((aa.reindex(diff_a) == fill).all())
-                diff_b = b.index.diff(join_index)
-                self.assert_((ab.reindex(diff_b) == fill).all())
+                diff_a = aa.index.diff(join_index)                
+                diff_b = ab.index.diff(join_index)
+                if len(diff_a) > 0:
+                    self.assert_((aa.reindex(diff_a) == fill).all())
+                if len(diff_b) > 0:
+                    self.assert_((ab.reindex(diff_b) == fill).all())
 
             ea = a.reindex(join_index)
             eb = b.reindex(join_index)
@@ -1800,17 +1802,17 @@ class TestSeries(unittest.TestCase, CheckNameIntegration):
             assert_series_equal(ab, eb)
 
         for kind in JOIN_TYPES:
-            _check_align(self.ts[2:], self.ts[:-5], kind)
-            _check_align(self.ts[2:], self.ts[:-5], kind, -1)
+            _check_align(self.ts[2:], self.ts[:-5])
+            _check_align(self.ts[2:], self.ts[:-5], -1)
 
             # empty left
-            _check_align(self.ts[:0], self.ts[:-5], kind)
+            _check_align(self.ts[:0], self.ts[:-5])
 
             # empty right
-            _check_align(self.ts[:-5], self.ts[:0], kind)
+            _check_align(self.ts[:-5], self.ts[:0])
 
             # both empty
-            _check_align(self.ts[:0], self.ts[:0], kind)
+            _check_align(self.ts[:0], self.ts[:0])
 
     def test_align_nocopy(self):
         b = self.ts[:5].copy()
