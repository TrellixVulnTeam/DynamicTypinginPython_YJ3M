commit dfa2a8a07fe55342e8ef132f3dc2e94414f2e8a2
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Jan 2 14:39:16 2012 -0500

    TST: vbenchmark for Panel.from_dict

diff --git a/vb_suite/pandas_vb_common.py b/vb_suite/pandas_vb_common.py
index c7c826d0a..da74bfaa5 100644
--- a/vb_suite/pandas_vb_common.py
+++ b/vb_suite/pandas_vb_common.py
@@ -1,9 +1,15 @@
 from pandas import *
 from pandas.util.testing import rands
+from datetime import timedelta
 import pandas.util.testing as tm
 import random
 import numpy as np
 
+try:
+    Panel = WidePanel
+except Exception:
+    pass
+
 # didn't add to namespace until later
 try:
     from pandas.core.index import MultiIndex
diff --git a/vb_suite/panel_ctor.py b/vb_suite/panel_ctor.py
new file mode 100644
index 000000000..a0809b756
--- /dev/null
+++ b/vb_suite/panel_ctor.py
@@ -0,0 +1,70 @@
+from vbench.benchmark import Benchmark
+from datetime import datetime
+
+common_setup = """from pandas_vb_common import *
+"""
+
+#----------------------------------------------------------------------
+# Panel.from_dict homogenization time
+
+START_DATE = datetime(2011, 6, 1)
+
+setup_same_index = common_setup + """
+# create 1000 dataframes with the same index
+dr = DateRange(datetime(1990,1,1), datetime(2012,1,1))
+data_frames = {}
+for x in xrange(1000):
+   df = DataFrame({"a": 0, "b": 1, "c": 2}, index=dr)
+   data_frames[x] = df
+"""
+
+panel_from_dict_same_index = \
+    Benchmark("Panel.from_dict(data_frames)",
+              setup_same_index, name='panel_from_dict_same_index',
+              start_date=START_DATE)
+
+setup_equiv_indexes = common_setup + """
+data_frames = {}
+for x in xrange(1000):
+   dr = DateRange(datetime(1990,1,1), datetime(2012,1,1))
+   df = DataFrame({"a": 0, "b": 1, "c": 2}, index=dr)
+   data_frames[x] = df
+"""
+
+panel_from_dict_equiv_indexes = \
+    Benchmark("Panel.from_dict(data_frames)",
+              setup_equiv_indexes, name='panel_from_dict_equiv_indexes',
+              start_date=START_DATE)
+
+setup_all_different_indexes = common_setup + """
+data_frames = {}
+start = datetime(1990,1,1)
+end = datetime(2012,1,1)
+for x in xrange(1000):
+   end += timedelta(days=1)
+   dr = DateRange(start, end)
+   df = DataFrame({"a": 0, "b": 1, "c": 2}, index=dr)
+   data_frames[x] = df
+"""
+panel_from_dict_all_different_indexes = \
+    Benchmark("Panel.from_dict(data_frames)",
+              setup_all_different_indexes,
+              name='panel_from_dict_all_different_indexes',
+              start_date=START_DATE)
+
+setup_two_different_indexes = common_setup + """
+data_frames = {}
+start = datetime(1990,1,1)
+end = datetime(2012,1,1)
+for x in xrange(1000):
+   if x == 500:
+       end += timedelta(days=1)
+   dr = DateRange(start, end)
+   df = DataFrame({"a": 0, "b": 1, "c": 2}, index=dr)
+   data_frames[x] = df
+"""
+panel_from_dict_two_different_indexes = \
+    Benchmark("Panel.from_dict(data_frames)",
+              setup_two_different_indexes,
+              name='panel_from_dict_two_different_indexes',
+              start_date=START_DATE)
diff --git a/vb_suite/suite.py b/vb_suite/suite.py
index 20ff798b0..8edfc93a4 100644
--- a/vb_suite/suite.py
+++ b/vb_suite/suite.py
@@ -5,7 +5,7 @@ import os
 
 modules = ['groupby', 'indexing', 'reindex', 'binary_ops',
            'sparse', 'index_object', 'miscellaneous',
-           'stat_ops', 'join_merge']
+           'stat_ops', 'join_merge', 'panel_ctor']
 
 by_module = {}
 benchmarks = []
