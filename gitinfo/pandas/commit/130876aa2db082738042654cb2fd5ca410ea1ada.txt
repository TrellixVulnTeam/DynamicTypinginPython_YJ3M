commit 130876aa2db082738042654cb2fd5ca410ea1ada
Author: Kieran O'Mahony <kieranom@gmail.com>
Date:   Sun Jun 10 17:57:38 2012 +0100

    BLD: ujson fix compiler warnings

diff --git a/pandas/src/ujson/python/objToJSON.c b/pandas/src/ujson/python/objToJSON.c
index 9c1569bd3..ce8bdf372 100644
--- a/pandas/src/ujson/python/objToJSON.c
+++ b/pandas/src/ujson/python/objToJSON.c
@@ -1022,7 +1022,6 @@ void Object_beginTypeContext (JSOBJ _obj, JSONTypeContext *tc)
     PyObject *obj, *exc, *toDictFunc;
     TypeContext *pc;
     PyObjectEncoder *enc;
-	int i;
 	double val;
     PRINTMARK();
     if (!_obj) {
@@ -1033,7 +1032,8 @@ void Object_beginTypeContext (JSOBJ _obj, JSONTypeContext *tc)
     obj = (PyObject*) _obj;
     enc = (PyObjectEncoder*) tc->encoder;
 
-    pc = (TypeContext *) tc->prv = PyObject_Malloc(sizeof(TypeContext));
+    tc->prv = PyObject_Malloc(sizeof(TypeContext));
+    pc = (TypeContext *) tc->prv;
     if (!pc)
     {
         tc->type = JT_INVALID;
