commit 8b0654dc2707809731856c8966edf3c50b93499c
Author: Jeff Reback <jeff@reback.net>
Date:   Tue Oct 13 15:04:46 2015 -0400

    TST: validation tests for #11314, set_index with a tz

diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index ed174bc28..a80bdf970 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -3376,6 +3376,14 @@ class TestDatetime64(tm.TestCase):
         df = df.reindex(idx2)
         self.assertTrue(df.index.equals(idx2))
 
+        # 11314
+        # with tz
+        index = date_range(datetime(2015, 10, 1), datetime(2015,10,1,23), freq='H', tz='US/Eastern')
+        df = DataFrame(np.random.randn(24, 1), columns=['a'], index=index)
+        new_index = date_range(datetime(2015, 10, 2), datetime(2015,10,2,23), freq='H', tz='US/Eastern')
+        result = df.set_index(new_index)
+        self.assertEqual(new_index.freq,index.freq)
+
     def test_datetimeindex_union_join_empty(self):
         dti = DatetimeIndex(start='1/1/2001', end='2/1/2001', freq='D')
         empty = Index([])
