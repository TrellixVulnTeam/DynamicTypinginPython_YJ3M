commit ccd593fea7ca0252e90c9825b6a7e67fe044c23f
Author: jreback <jeff@reback.net>
Date:   Thu May 22 08:07:12 2014 -0400

    BUG: check edge case with GH7190

diff --git a/pandas/core/indexing.py b/pandas/core/indexing.py
index 4ecb5983a..df4e5cb73 100644
--- a/pandas/core/indexing.py
+++ b/pandas/core/indexing.py
@@ -825,6 +825,10 @@ class _NDFrameIndexer(object):
             obj = getattr(obj, self.name)._getitem_axis(key, axis=axis, validate_iterable=True)
             axis += 1
 
+            # if we have a scalar, we are done
+            if np.isscalar(obj):
+                break
+
             # has the dim of the obj changed?
             # GH 7199
             if obj.ndim < current_ndim:
diff --git a/pandas/tests/test_indexing.py b/pandas/tests/test_indexing.py
index d05f7fc71..f5bae7b2d 100644
--- a/pandas/tests/test_indexing.py
+++ b/pandas/tests/test_indexing.py
@@ -611,9 +611,19 @@ class TestIndexing(tm.TestCase):
 
         # GH7190
         index = pd.MultiIndex.from_product([np.arange(0,100), np.arange(0, 80)], names=['time', 'firm'])
-        df = DataFrame(np.nan,columns=['A', 'w', 'l', 'a', 'x', 'X', 'd', 'profit'], index=index)
         t, n = 0, 2
 
+        df = DataFrame(np.nan,columns=['A', 'w', 'l', 'a', 'x', 'X', 'd', 'profit'], index=index)
+        df.loc[(t,n),'X'] = 0
+        result = df.loc[(t,n),'X']
+        self.assertEqual(result, 0)
+
+        df = DataFrame(-999,columns=['A', 'w', 'l', 'a', 'x', 'X', 'd', 'profit'], index=index)
+        df.loc[(t,n),'X'] = 0
+        result = df.loc[(t,n),'X']
+        self.assertEqual(result, 0)
+
+        df = DataFrame(columns=['A', 'w', 'l', 'a', 'x', 'X', 'd', 'profit'], index=index)
         df.loc[(t,n),'X'] = 0
         result = df.loc[(t,n),'X']
         self.assertEqual(result, 0)
