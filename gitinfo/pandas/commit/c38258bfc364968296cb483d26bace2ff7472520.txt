commit c38258bfc364968296cb483d26bace2ff7472520
Author: John W. O'Brien <john@saltant.com>
Date:   Sun Nov 17 07:49:16 2013 -0500

    TST: correctly predict locale setability
    
    Don't join the lang and encoding when performing the trial set, because
    
        locale.setlocale(locale.LC_ALL, ('it_CH', 'utf-8'))
    
    succeeds, but
    
        locale.setlocale(locale.LC_ALL, 'it_CH.utf-8')
    
    throws locale.Error.

diff --git a/pandas/tools/tests/test_util.py b/pandas/tools/tests/test_util.py
index 614f5ecc3..66ae52983 100644
--- a/pandas/tools/tests/test_util.py
+++ b/pandas/tools/tests/test_util.py
@@ -65,7 +65,7 @@ class TestLocaleUtils(unittest.TestCase):
         enc = codecs.lookup(enc).name
         new_locale = lang, enc
 
-        if not tm._can_set_locale('.'.join(new_locale)):
+        if not tm._can_set_locale(new_locale):
             with tm.assertRaises(locale.Error):
                 with tm.set_locale(new_locale):
                     pass
