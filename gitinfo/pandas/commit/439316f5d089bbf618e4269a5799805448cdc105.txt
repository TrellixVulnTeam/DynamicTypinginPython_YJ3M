commit 439316f5d089bbf618e4269a5799805448cdc105
Author: y-p <yoval@gmx.com>
Date:   Sun Apr 21 10:01:55 2013 +0300

    BUG: don't rely on sys.getdefaultencoding if we don't need to GH3360

diff --git a/pandas/core/format.py b/pandas/core/format.py
index 1b362fb5c..83d7a0361 100644
--- a/pandas/core/format.py
+++ b/pandas/core/format.py
@@ -165,7 +165,9 @@ def _encode_diff_func():
         encoding = get_option("display.encoding")
 
         def _encode_diff(x):
-            return len(x) - len(x.decode(encoding))
+            if not isinstance(x,unicode):
+                return len(x) - len(x.decode(encoding))
+            return 0
 
     return _encode_diff
 
