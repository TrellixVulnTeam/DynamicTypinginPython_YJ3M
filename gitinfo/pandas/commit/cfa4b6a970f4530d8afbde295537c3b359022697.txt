commit cfa4b6a970f4530d8afbde295537c3b359022697
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Tue Feb 28 14:33:15 2012 -0500

    TST: unit test for #838

diff --git a/pandas/tests/test_daterange.py b/pandas/tests/test_daterange.py
index ea7ff9da5..c270a19f5 100644
--- a/pandas/tests/test_daterange.py
+++ b/pandas/tests/test_daterange.py
@@ -370,6 +370,13 @@ class TestDateRange(unittest.TestCase):
         exp_values = [start + i * offset for i in range(5)]
         self.assert_(np.array_equal(result, exp_values))
 
+    def test_catch_infinite_loop(self):
+        offset = datetools.DateOffset(minute=5)
+        # blow up, don't loop forever
+        DateRange(datetime(2011,11,11), datetime(2011,11,12), offset=offset)
+        self.assertRaises(Exception, DateRange, datetime(2011,11,11),
+                          datetime(2011,11,12), offset=offset)
+
 def _skip_if_no_pytz():
     try:
         import pytz
