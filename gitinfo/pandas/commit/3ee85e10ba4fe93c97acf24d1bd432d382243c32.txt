commit 3ee85e10ba4fe93c97acf24d1bd432d382243c32
Author: William Ayd <william.ayd@gmail.com>
Date:   Wed May 15 05:20:44 2019 -0700

    Remove Deprecated Azure CI Step (#26384)

diff --git a/ci/azure/windows.yml b/ci/azure/windows.yml
index 1e3390a7f..86d445e34 100644
--- a/ci/azure/windows.yml
+++ b/ci/azure/windows.yml
@@ -17,14 +17,10 @@ jobs:
         CONDA_PY: "37"
 
   steps:
-    - task: CondaEnvironment@1
-      inputs:
-        updateConda: no
-        packageSpecs: ''
-
-    - script: |
-        ci\\incremental\\setup_conda_environment.cmd
-      displayName: 'Before Install'
+    - powershell: Write-Host "##vso[task.prependpath]$env:CONDA\Scripts"
+      displayName: Add conda to PATH
+    - script: conda env create --file ci\\deps\\azure-windows-$(CONDA_PY).yaml
+      displayName: Create anaconda environment
     - script: |
         call activate pandas-dev
         ci\\incremental\\build.cmd
diff --git a/ci/incremental/setup_conda_environment.cmd b/ci/incremental/setup_conda_environment.cmd
deleted file mode 100644
index db7de503e..000000000
--- a/ci/incremental/setup_conda_environment.cmd
+++ /dev/null
@@ -1,23 +0,0 @@
-@rem https://github.com/numba/numba/blob/master/buildscripts/incremental/setup_conda_environment.cmd
-@rem The cmd /C hack circumvents a regression where conda installs a conda.bat
-@rem script in non-root environments.
-set CONDA_INSTALL=cmd /C conda install -q -y
-set PIP_INSTALL=pip install -q
-
-@echo on
-
-@rem Deactivate any environment
-call deactivate
-@rem Display root environment (for debugging)
-conda list
-@rem Clean up any left-over from a previous build
-conda remove --all -q -y -n pandas-dev
-@rem Scipy, CFFI, jinja2 and IPython are optional dependencies, but exercised in the test suite
-conda env create --file=ci\deps\azure-windows-%CONDA_PY%.yaml
-
-call activate pandas-dev
-@rem gh-26345: we need to separate this out so that Azure doesn't complain
-conda install -c conda-forge gcsfs
-conda list
-
-if %errorlevel% neq 0 exit /b %errorlevel%
