commit a615dbe817fa5c4f9597f5d5748be46d14b3ee1d
Author: sinhrks <sinhrks@gmail.com>
Date:   Fri Apr 29 12:08:47 2016 -0400

    BUG:plot.bar misalignment when width=1
    
    closes #12979
    
    Author: sinhrks <sinhrks@gmail.com>
    
    Closes #13025 from sinhrks/plot_bar_width and squashes the following commits:
    
    354e172 [sinhrks] BUG:plot.bar misalignment when width=1

diff --git a/doc/source/whatsnew/v0.18.1.txt b/doc/source/whatsnew/v0.18.1.txt
index dfe5eaa66..8c9c641a4 100644
--- a/doc/source/whatsnew/v0.18.1.txt
+++ b/doc/source/whatsnew/v0.18.1.txt
@@ -501,6 +501,7 @@ Bug Fixes
 - Bug in ``concat`` raises ``AttributeError`` when input data contains tz-aware datetime and timedelta (:issue:`12620`)
 - Bug in ``concat`` doesn't handle empty ``Series`` properly (:issue:`11082`)
 
+- Bug in ``.plot.bar`` alginment when ``width`` is specified with ``int`` (:issue:`12979`)
 
 
 - Bug in ``fill_value`` is ignored if the argument to a binary operator is a constant (:issue:`12723`)
diff --git a/pandas/tests/test_graphics.py b/pandas/tests/test_graphics.py
index 16b83c202..6af789e80 100644
--- a/pandas/tests/test_graphics.py
+++ b/pandas/tests/test_graphics.py
@@ -2033,6 +2033,26 @@ class TestDataFramePlots(TestPlotBase):
         self._check_bar_alignment(df, kind='barh', subplots=True, width=0.9,
                                   position=0.2)
 
+    @slow
+    def test_bar_barwidth_position_int(self):
+        # GH 12979
+        df = DataFrame(randn(5, 5))
+
+        for w in [1, 1.]:
+            ax = df.plot.bar(stacked=True, width=w)
+            ticks = ax.xaxis.get_ticklocs()
+            tm.assert_numpy_array_equal(ticks, np.array([0, 1, 2, 3, 4]))
+            self.assertEqual(ax.get_xlim(), (-0.75, 4.75))
+            # check left-edge of bars
+            self.assertEqual(ax.patches[0].get_x(), -0.5)
+            self.assertEqual(ax.patches[-1].get_x(), 3.5)
+
+        self._check_bar_alignment(df, kind='bar', stacked=True, width=1)
+        self._check_bar_alignment(df, kind='barh', stacked=False, width=1)
+        self._check_bar_alignment(df, kind='barh', stacked=True, width=1)
+        self._check_bar_alignment(df, kind='bar', subplots=True, width=1)
+        self._check_bar_alignment(df, kind='barh', subplots=True, width=1)
+
     @slow
     def test_bar_bottom_left(self):
         df = DataFrame(rand(5, 5))
diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 334d5e3b2..808c9d22c 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -1,5 +1,7 @@
 # being a bit too dynamic
 # pylint: disable=E1101
+from __future__ import division
+
 import warnings
 import re
 from math import ceil
