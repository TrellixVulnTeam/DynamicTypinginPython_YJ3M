commit 699d5e5f69298311fec92da0da854d1bff9a58fc
Author: Jeff Reback <jeff@reback.net>
Date:   Tue Jan 24 14:51:32 2017 -0500

    BLD: add locale to 34_nslow build
    
    Author: Jeff Reback <jeff@reback.net>
    
    Closes #15211 from jreback/nslow and squashes the following commits:
    
    7dd0fac [Jeff Reback] TST: skip some non-us locale tests with guessing datetimes
    a7c90e1 [Jeff Reback] BLD: add locale to 34_nslow build

diff --git a/.travis.yml b/.travis.yml
index b2a1a8a63..be2058950 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -132,6 +132,7 @@ matrix:
       env:
         - PYTHON_VERSION=3.4
         - JOB_NAME: "34_nslow"
+        - LOCALE_OVERRIDE="zh_CN.UTF-8"
         - NOSE_ARGS="not slow and not disabled"
         - FULL_DEPS=true
         - CLIPBOARD=xsel
@@ -141,6 +142,7 @@ matrix:
         apt:
           packages:
           - xsel
+          - language-pack-zh-hans
 #    In allow_failures
     - python: 3.4
       env:
@@ -229,6 +231,7 @@ matrix:
         env:
           - PYTHON_VERSION=3.4
           - JOB_NAME: "34_nslow"
+          - LOCALE_OVERRIDE="zh_CN.UTF-8"
           - NOSE_ARGS="not slow and not disabled"
           - FULL_DEPS=true
           - CLIPBOARD=xsel
@@ -238,6 +241,7 @@ matrix:
           apt:
             packages:
             - xsel
+            - language-pack-zh-hans
       - python: 3.5
         env:
           - PYTHON_VERSION=3.5
diff --git a/pandas/tseries/tests/test_timeseries.py b/pandas/tseries/tests/test_timeseries.py
index 704aebd81..4d286fc62 100644
--- a/pandas/tseries/tests/test_timeseries.py
+++ b/pandas/tseries/tests/test_timeseries.py
@@ -5492,7 +5492,9 @@ class TestToDatetimeInferFormat(tm.TestCase):
 
 
 class TestGuessDatetimeFormat(tm.TestCase):
+
     def test_guess_datetime_format_with_parseable_formats(self):
+        tm._skip_if_not_us_locale()
         dt_string_to_format = (('20111230', '%Y%m%d'),
                                ('2011-12-30', '%Y-%m-%d'),
                                ('30-12-2011', '%d-%m-%Y'),
@@ -5567,6 +5569,7 @@ class TestGuessDatetimeFormat(tm.TestCase):
             )
 
     def test_guess_datetime_format_for_array(self):
+        tm._skip_if_not_us_locale()
         expected_format = '%Y-%m-%d %H:%M:%S.%f'
         dt_string = datetime(2011, 12, 30, 0, 0, 0).strftime(expected_format)
 
diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index d39ce7acf..6ea915436 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -404,6 +404,14 @@ def _skip_if_has_locale():
         import nose
         raise nose.SkipTest("Specific locale is set {0}".format(lang))
 
+
+def _skip_if_not_us_locale():
+    import locale
+    lang, _ = locale.getlocale()
+    if lang != 'en_US':
+        import nose
+        raise nose.SkipTest("Specific locale is set {0}".format(lang))
+
 # -----------------------------------------------------------------------------
 # locale utilities
 
