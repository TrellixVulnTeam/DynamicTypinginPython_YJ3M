commit 07ae6e8e35fe08e0f77e141127e40d5398231c10
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Jun 11 22:21:22 2012 -0400

    TST: eliminate copies in datetime64 serialization; don't copy data in DatetimeIndex, close #1320

diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 7237c791d..25edd4a9d 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -910,11 +910,11 @@ class HDFStore(object):
 
 def _convert_index(index):
     if isinstance(index, DatetimeIndex):
-        converted = np.asarray(index, dtype='i8')
+        converted = index.asi8
         return converted, 'datetime64', _tables().Int64Col()
     elif isinstance(index, (Int64Index, PeriodIndex)):
         atom = _tables().Int64Col()
-        return np.asarray(index, dtype=np.int64), 'integer', atom
+        return index.values, 'integer', atom
 
     inferred_type = lib.infer_dtype(index)
 
@@ -965,7 +965,7 @@ def _read_array(group, key):
 
 def _unconvert_index(data, kind):
     if kind == 'datetime64':
-        index = np.asarray(data, dtype='M8[ns]')
+        index = DatetimeIndex(data)
     elif kind == 'datetime':
         index = np.array([datetime.fromtimestamp(v) for v in data],
                          dtype=object)
diff --git a/pandas/tseries/index.py b/pandas/tseries/index.py
index f1293aa67..94ae6fbf3 100644
--- a/pandas/tseries/index.py
+++ b/pandas/tseries/index.py
@@ -121,6 +121,7 @@ class TimeSeriesError(Exception):
 
 _midnight = time(0, 0)
 _NS_DTYPE = np.dtype('M8[ns]')
+_INT64_DTYPE = np.dtype(np.int64)
 
 class DatetimeIndex(Int64Index):
     """
@@ -250,6 +251,8 @@ class DatetimeIndex(Int64Index):
                     subarr = lib.cast_to_nanoseconds(data)
                 else:
                     subarr = data
+        elif data.dtype == _INT64_DTYPE:
+            subarr = data.view(_NS_DTYPE)
         elif issubclass(data.dtype.type, np.integer):
             subarr = np.array(data, dtype=_NS_DTYPE, copy=copy)
         else:
