commit 8b3246f9f5770d60afb310883212e2788adc33a4
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Wed Aug 21 13:32:28 2019 -0500

    CI: Set SHA for codecov upload (#28067)

diff --git a/ci/run_tests.sh b/ci/run_tests.sh
index ee46da9f5..74c1cde32 100755
--- a/ci/run_tests.sh
+++ b/ci/run_tests.sh
@@ -51,8 +51,9 @@ do
     sh -c "$PYTEST_CMD; ret=\$?; [ \$ret = 5 ] && exit 0 || exit \$ret"
 
     if [[ "$COVERAGE" && $? == 0 ]]; then
+        SHA=`git rev-parse HEAD`
         echo "uploading coverage for $TYPE tests"
-        echo "bash <(curl -s https://codecov.io/bash) -Z -c -F $TYPE -f $COVERAGE_FNAME"
-              bash <(curl -s https://codecov.io/bash) -Z -c -F $TYPE -f $COVERAGE_FNAME
+        echo "bash <(curl -s https://codecov.io/bash) -Z -c -F $TYPE -f $COVERAGE_FNAME -C $SHA"
+              bash <(curl -s https://codecov.io/bash) -Z -c -F $TYPE -f $COVERAGE_FNAME -C `git rev-parse HEAD`
     fi
 done
