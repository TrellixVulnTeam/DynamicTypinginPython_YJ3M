commit fb27aa4bc076d00131367e53b0d823db5b7c30e1
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Apr 13 19:43:35 2012 -0400

    BUG: fix buglets surfacing from merge

diff --git a/pandas/core/index.py b/pandas/core/index.py
index 9e668fc3f..19702fca9 100644
--- a/pandas/core/index.py
+++ b/pandas/core/index.py
@@ -103,6 +103,9 @@ class Index(np.ndarray):
     def __array_finalize__(self, obj):
         self.name = getattr(obj, 'name', None)
 
+    def _shallow_copy(self):
+        return self.view(type(self))
+
     def __repr__(self):
         try:
             result = np.ndarray.__repr__(self)
diff --git a/pandas/core/series.py b/pandas/core/series.py
index a900e15aa..af87394d0 100644
--- a/pandas/core/series.py
+++ b/pandas/core/series.py
@@ -264,8 +264,10 @@ class Series(np.ndarray, generic.PandasObject):
             try:
                 if isinstance(index, DatetimeIndex):
                     # coerce back to datetime objects for lookup
-                    index = index.astype('O')
-                data = lib.fast_multiget(data, index, default=np.nan)
+                    data = lib.fast_multiget(data, index.astype('O'),
+                                             default=np.nan)
+                else:
+                    data = lib.fast_multiget(data, index, default=np.nan)
             except TypeError:
                 data = [data.get(i, nan) for i in index]
 
diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index 6abe1de94..2b26522d0 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -9,7 +9,7 @@ from datetime import datetime
 import numpy as np
 
 from pandas import Series, DataFrame, Panel, MultiIndex, bdate_range
-from pandas.io.pytables import HDFStore
+from pandas.io.pytables import HDFStore, get_store
 import pandas.util.testing as tm
 
 try:
diff --git a/pandas/sparse/panel.py b/pandas/sparse/panel.py
index 02d79f052..b843b653a 100644
--- a/pandas/sparse/panel.py
+++ b/pandas/sparse/panel.py
@@ -218,9 +218,9 @@ class SparsePanel(Panel):
 
         self.default_fill_value = fv
         self.default_kind = kind
-        self._items = _ensure_index(_unpickle_array(items))
-        self._major_axis = _ensure_index(_unpickle_array(major))
-        self._minor_axis = _ensure_index(_unpickle_array(minor))
+        self._items = _ensure_index(com._unpickle_array(items))
+        self._major_axis = _ensure_index(com._unpickle_array(major))
+        self._minor_axis = _ensure_index(com._unpickle_array(minor))
         self._frames = frames
 
     def copy(self):
diff --git a/pandas/sparse/tests/test_sparse.py b/pandas/sparse/tests/test_sparse.py
index e8e963d63..6ffa82f66 100644
--- a/pandas/sparse/tests/test_sparse.py
+++ b/pandas/sparse/tests/test_sparse.py
@@ -16,7 +16,7 @@ from numpy.testing import assert_equal
 
 from pandas import Series, DataFrame, bdate_range, Panel
 from pandas.core.datetools import BDay
-from pandas.core.index import DatetimeIndex
+from pandas.core.index import DatetimeIndex, Index
 import pandas.core.datetools as datetools
 import pandas.util.testing as tm
 
diff --git a/pandas/tests/test_timeseries.py b/pandas/tests/test_timeseries.py
index 02490d0e2..214c508ab 100644
--- a/pandas/tests/test_timeseries.py
+++ b/pandas/tests/test_timeseries.py
@@ -151,6 +151,13 @@ class TestTimeSeries(unittest.TestCase):
         expected = s[indexer[0]]
         assert_series_equal(result, expected)
 
+    def test_series_ctor_plus_datetimeindex(self):
+        rng = date_range('20090415', '20090519', freq='B')
+        data = dict((k, 1) for k in rng)
+
+        result = Series(data, index=rng)
+        self.assert_(result.index is rng)
+
     def test_series_pad_backfill_limit(self):
         index = np.arange(10)
         s = Series(np.random.randn(10), index=index)
