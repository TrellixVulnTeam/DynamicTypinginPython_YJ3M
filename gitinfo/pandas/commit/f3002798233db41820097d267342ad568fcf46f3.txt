commit f3002798233db41820097d267342ad568fcf46f3
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Fri Apr 11 00:09:11 2014 +0200

    TST: test new read_sql api

diff --git a/pandas/io/tests/test_sql.py b/pandas/io/tests/test_sql.py
index 292661f4f..83978a0e0 100644
--- a/pandas/io/tests/test_sql.py
+++ b/pandas/io/tests/test_sql.py
@@ -566,6 +566,19 @@ class TestSQLApi(_TestSQLApi):
         self.assertEqual(result.columns.tolist(), ["C", "D"],
                          "columns not set correctly whith index_col")
 
+    def test_read_sql_delegate(self):
+        iris_frame1 = sql.read_sql_query(
+            "SELECT * FROM iris", self.conn)
+        iris_frame2 = sql.read_sql(
+            "SELECT * FROM iris", self.conn)
+        tm.assert_frame_equal(iris_frame1, iris_frame2,
+                              "read_sql and read_sql_query have not the same"
+                              " result with a query")
+        
+        iris_frame1 = sql.read_sql_table('iris', self.conn)
+        iris_frame2 = sql.read_sql('iris', self.conn)
+        tm.assert_frame_equal(iris_frame1, iris_frame2)
+
 
 class TestSQLLegacyApi(_TestSQLApi):
 
@@ -620,6 +633,18 @@ class TestSQLLegacyApi(_TestSQLApi):
 
         tm.assert_frame_equal(self.test_frame2, result)
 
+    def test_read_sql_delegate(self):
+        iris_frame1 = sql.read_sql_query(
+            "SELECT * FROM iris", self.conn, flavor=self.flavor)
+        iris_frame2 = sql.read_sql(
+            "SELECT * FROM iris", self.conn, flavor=self.flavor)
+        tm.assert_frame_equal(iris_frame1, iris_frame2,
+                              "read_sql and read_sql_query have not the same"
+                              " result with a query")
+        
+        self.assertRaises(ValueError, sql.read_sql, 'iris', self.conn,
+                          flavor=self.flavor)
+
 
 class _TestSQLAlchemy(PandasSQLTest):
     """
