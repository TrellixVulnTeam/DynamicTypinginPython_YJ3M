commit ed45e6eeab43c1abf7b541fd659dada12172b52c
Author: clham <chris@christopher-ham.com>
Date:   Sat Jan 17 00:18:17 2015 -0500

    ENH: Corrects to_html print spacing GH4987

diff --git a/doc/source/whatsnew/v0.16.0.txt b/doc/source/whatsnew/v0.16.0.txt
index 38cf65809..3173ded91 100644
--- a/doc/source/whatsnew/v0.16.0.txt
+++ b/doc/source/whatsnew/v0.16.0.txt
@@ -413,6 +413,7 @@ Bug Fixes
 
 .. _whatsnew_0160.bug_fixes:
 
+- Changed ``.to_html`` to remove leading/trailing spaces in table body (:issue:`4987`)
 - Fixed issue using ``read_csv`` on s3 with Python 3.
 - Fixed compatibility issue in ``DatetimeIndex`` affecting architectures where ``numpy.int_`` defaults to ``numpy.int32`` (:issue:`8943`)
 - Bug in Panel indexing with an object-like (:issue:`9140`)
diff --git a/pandas/core/format.py b/pandas/core/format.py
index a17c45b70..d18332032 100644
--- a/pandas/core/format.py
+++ b/pandas/core/format.py
@@ -819,7 +819,7 @@ class HTMLFormatter(TableFormatter):
             )
         else:
             esc = {}
-        rs = com.pprint_thing(s, escape_chars=esc)
+        rs = com.pprint_thing(s, escape_chars=esc).strip()
         self.write(
             '%s%s</%s>' % (start_tag, rs, kind), indent)
 
diff --git a/pandas/tests/test_format.py b/pandas/tests/test_format.py
index fef4778d4..332e1f283 100644
--- a/pandas/tests/test_format.py
+++ b/pandas/tests/test_format.py
@@ -523,13 +523,13 @@ class TestDataFrameFormatting(tm.TestCase):
   <tbody>
     <tr>
       <th>str&lt;ing1 &amp;amp;</th>
-      <td> &lt;type 'str'&gt;</td>
-      <td> &lt;type 'str'&gt;</td>
+      <td>&lt;type 'str'&gt;</td>
+      <td>&lt;type 'str'&gt;</td>
     </tr>
     <tr>
       <th>stri&gt;ng2 &amp;amp;</th>
-      <td> &lt;type 'str'&gt;</td>
-      <td> &lt;type 'str'&gt;</td>
+      <td>&lt;type 'str'&gt;</td>
+      <td>&lt;type 'str'&gt;</td>
     </tr>
   </tbody>
 </table>"""
@@ -555,13 +555,13 @@ class TestDataFrameFormatting(tm.TestCase):
   <tbody>
     <tr>
       <th>str<ing1 &amp;</th>
-      <td> <b>bold</b></td>
-      <td> <b>bold</b></td>
+      <td><b>bold</b></td>
+      <td><b>bold</b></td>
     </tr>
     <tr>
       <th>stri>ng2 &amp;</th>
-      <td> <b>bold</b></td>
-      <td> <b>bold</b></td>
+      <td><b>bold</b></td>
+      <td><b>bold</b></td>
     </tr>
   </tbody>
 </table>"""
@@ -593,16 +593,16 @@ class TestDataFrameFormatting(tm.TestCase):
   </thead>
   <tbody>
     <tr>
-      <td> 0</td>
-      <td> 3</td>
-      <td> 5</td>
-      <td> 3</td>
+      <td>0</td>
+      <td>3</td>
+      <td>5</td>
+      <td>3</td>
     </tr>
     <tr>
-      <td> 1</td>
-      <td> 4</td>
-      <td> 6</td>
-      <td> 4</td>
+      <td>1</td>
+      <td>4</td>
+      <td>6</td>
+      <td>4</td>
     </tr>
   </tbody>
 </table>"""
@@ -636,26 +636,26 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th>0</th>
       <th>0</th>
-      <td> 0</td>
-      <td> 1</td>
+      <td>0</td>
+      <td>1</td>
     </tr>
     <tr>
       <th>0</th>
       <th>1</th>
-      <td> 2</td>
-      <td> 3</td>
+      <td>2</td>
+      <td>3</td>
     </tr>
     <tr>
       <th>1</th>
       <th>0</th>
-      <td> 4</td>
-      <td> 5</td>
+      <td>4</td>
+      <td>5</td>
     </tr>
     <tr>
       <th>1</th>
       <th>1</th>
-      <td> 6</td>
-      <td> 7</td>
+      <td>6</td>
+      <td>7</td>
     </tr>
   </tbody>
 </table>"""
@@ -691,26 +691,26 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th>0</th>
       <th>0</th>
-      <td> 0</td>
-      <td> 1</td>
+      <td>0</td>
+      <td>1</td>
     </tr>
     <tr>
       <th>0</th>
       <th>1</th>
-      <td> 2</td>
-      <td> 3</td>
+      <td>2</td>
+      <td>3</td>
     </tr>
     <tr>
       <th>1</th>
       <th>0</th>
-      <td> 4</td>
-      <td> 5</td>
+      <td>4</td>
+      <td>5</td>
     </tr>
     <tr>
       <th>1</th>
       <th>1</th>
-      <td> 6</td>
-      <td> 7</td>
+      <td>6</td>
+      <td>7</td>
     </tr>
   </tbody>
 </table>"""
@@ -742,24 +742,24 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th rowspan="2" valign="top">0</th>
       <th>0</th>
-      <td> 0</td>
-      <td> 1</td>
+      <td>0</td>
+      <td>1</td>
     </tr>
     <tr>
       <th>1</th>
-      <td> 2</td>
-      <td> 3</td>
+      <td>2</td>
+      <td>3</td>
     </tr>
     <tr>
       <th rowspan="2" valign="top">1</th>
       <th>0</th>
-      <td> 4</td>
-      <td> 5</td>
+      <td>4</td>
+      <td>5</td>
     </tr>
     <tr>
       <th>1</th>
-      <td> 6</td>
-      <td> 7</td>
+      <td>6</td>
+      <td>7</td>
     </tr>
   </tbody>
 </table>"""
@@ -795,24 +795,24 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th rowspan="2" valign="top">0</th>
       <th>0</th>
-      <td> 0</td>
-      <td> 1</td>
+      <td>0</td>
+      <td>1</td>
     </tr>
     <tr>
       <th>1</th>
-      <td> 2</td>
-      <td> 3</td>
+      <td>2</td>
+      <td>3</td>
     </tr>
     <tr>
       <th rowspan="2" valign="top">1</th>
       <th>0</th>
-      <td> 4</td>
-      <td> 5</td>
+      <td>4</td>
+      <td>5</td>
     </tr>
     <tr>
       <th>1</th>
-      <td> 6</td>
-      <td> 7</td>
+      <td>6</td>
+      <td>7</td>
     </tr>
   </tbody>
 </table>"""
@@ -836,23 +836,23 @@ class TestDataFrameFormatting(tm.TestCase):
   <tbody>
     <tr>
       <th>a</th>
-      <td> 0</td>
-      <td> 1</td>
+      <td>0</td>
+      <td>1</td>
     </tr>
     <tr>
       <th>b</th>
-      <td> 2</td>
-      <td> 3</td>
+      <td>2</td>
+      <td>3</td>
     </tr>
     <tr>
       <th>c</th>
-      <td> 4</td>
-      <td> 5</td>
+      <td>4</td>
+      <td>5</td>
     </tr>
     <tr>
       <th>d</th>
-      <td> 6</td>
-      <td> 7</td>
+      <td>6</td>
+      <td>7</td>
     </tr>
   </tbody>
 </table>"""
@@ -892,35 +892,35 @@ class TestDataFrameFormatting(tm.TestCase):
   <tbody>
     <tr>
       <th>2001-01-01</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-02</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-03</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-04</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>...</th>
@@ -932,35 +932,35 @@ class TestDataFrameFormatting(tm.TestCase):
     </tr>
     <tr>
       <th>2001-01-17</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-18</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-19</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>2001-01-20</th>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
   </tbody>
 </table>
@@ -1006,34 +1006,34 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th rowspan="2" valign="top">bar</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>baz</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>...</th>
@@ -1049,34 +1049,34 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th>foo</th>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th rowspan="2" valign="top">qux</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
   </tbody>
 </table>
@@ -1125,68 +1125,68 @@ class TestDataFrameFormatting(tm.TestCase):
     <tr>
       <th>bar</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>bar</th>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>baz</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>foo</th>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>qux</th>
       <th>one</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
     <tr>
       <th>qux</th>
       <th>two</th>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
       <td>...</td>
-      <td> NaN</td>
-      <td> NaN</td>
-      <td> NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
+      <td>NaN</td>
     </tr>
   </tbody>
 </table>
@@ -1761,17 +1761,17 @@ c  10  11  12  13  14\
                     '  <tbody>\n'
                     '    <tr>\n'
                     '      <th>0</th>\n'
-                    '      <td> a</td>\n'
-                    '      <td> b</td>\n'
-                    '      <td> c</td>\n'
-                    '      <td> d</td>\n'
+                    '      <td>a</td>\n'
+                    '      <td>b</td>\n'
+                    '      <td>c</td>\n'
+                    '      <td>d</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>1</th>\n'
-                    '      <td> e</td>\n'
-                    '      <td> f</td>\n'
-                    '      <td> g</td>\n'
-                    '      <td> h</td>\n'
+                    '      <td>e</td>\n'
+                    '      <td>f</td>\n'
+                    '      <td>g</td>\n'
+                    '      <td>h</td>\n'
                     '    </tr>\n'
                     '  </tbody>\n'
                     '</table>')
@@ -1803,17 +1803,17 @@ c  10  11  12  13  14\
                     '  <tbody>\n'
                     '    <tr>\n'
                     '      <th>0</th>\n'
-                    '      <td> a</td>\n'
-                    '      <td> b</td>\n'
-                    '      <td> c</td>\n'
-                    '      <td> d</td>\n'
+                    '      <td>a</td>\n'
+                    '      <td>b</td>\n'
+                    '      <td>c</td>\n'
+                    '      <td>d</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>1</th>\n'
-                    '      <td> e</td>\n'
-                    '      <td> f</td>\n'
-                    '      <td> g</td>\n'
-                    '      <td> h</td>\n'
+                    '      <td>e</td>\n'
+                    '      <td>f</td>\n'
+                    '      <td>g</td>\n'
+                    '      <td>h</td>\n'
                     '    </tr>\n'
                     '  </tbody>\n'
                     '</table>')
@@ -1838,25 +1838,24 @@ c  10  11  12  13  14\
                     '  <tbody>\n'
                     '    <tr>\n'
                     '      <th>0</th>\n'
-                    '      <td>     6</td>\n'
-                    '      <td>     1</td>\n'
-                    '      <td> 223442</td>\n'
+                    '      <td>6</td>\n'
+                    '      <td>1</td>\n'
+                    '      <td>223442</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>1</th>\n'
-                    '      <td> 30000</td>\n'
-                    '      <td>     2</td>\n'
-                    '      <td>      0</td>\n'
+                    '      <td>30000</td>\n'
+                    '      <td>2</td>\n'
+                    '      <td>0</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>2</th>\n'
-                    '      <td>     2</td>\n'
-                    '      <td> 70000</td>\n'
-                    '      <td>      1</td>\n'
+                    '      <td>2</td>\n'
+                    '      <td>70000</td>\n'
+                    '      <td>1</td>\n'
                     '    </tr>\n'
                     '  </tbody>\n'
                     '</table>')
-
         self.assertEqual(result, expected)
 
         result = df.to_html(justify='right')
@@ -1872,21 +1871,21 @@ c  10  11  12  13  14\
                     '  <tbody>\n'
                     '    <tr>\n'
                     '      <th>0</th>\n'
-                    '      <td>     6</td>\n'
-                    '      <td>     1</td>\n'
-                    '      <td> 223442</td>\n'
+                    '      <td>6</td>\n'
+                    '      <td>1</td>\n'
+                    '      <td>223442</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>1</th>\n'
-                    '      <td> 30000</td>\n'
-                    '      <td>     2</td>\n'
-                    '      <td>      0</td>\n'
+                    '      <td>30000</td>\n'
+                    '      <td>2</td>\n'
+                    '      <td>0</td>\n'
                     '    </tr>\n'
                     '    <tr>\n'
                     '      <th>2</th>\n'
-                    '      <td>     2</td>\n'
-                    '      <td> 70000</td>\n'
-                    '      <td>      1</td>\n'
+                    '      <td>2</td>\n'
+                    '      <td>70000</td>\n'
+                    '      <td>1</td>\n'
                     '    </tr>\n'
                     '  </tbody>\n'
                     '</table>')
