commit 5b74d1e284b907348f6314dd628a92159f6d8cf1
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Dec 7 04:40:50 2009 +0000

    moving toward release
    
    git-svn-id: http://pandas.googlecode.com/svn/trunk@77 d5231056-7de3-11de-ac95-d976489f1ece

diff --git a/pandas/core/tests/test_frame.py b/pandas/core/tests/test_frame.py
index 2aed8a818..5ddeabdb7 100644
--- a/pandas/core/tests/test_frame.py
+++ b/pandas/core/tests/test_frame.py
@@ -189,7 +189,6 @@ class TestDataFrame(unittest.TestCase):
         self.assertRaises(Exception, self.frame.__setitem__,
                           common.randn(len(self.frame) + 1))
 
-
     def test_delitem(self):
         del self.frame['A']
         self.assert_('A' not in self.frame)
@@ -203,13 +202,10 @@ class TestDataFrame(unittest.TestCase):
         self.assert_('foo' not in self.frame)
 
     def test_iter(self):
-        pass
+        self.assert_(common.equalContents(list(self.frame), self.frame.cols()))
 
     def test_len(self):
-        pass
-
-    def test_contains(self):
-        pass
+        self.assertEqual(len(self.frame), len(self.frame.index))
 
     def test_operators(self):
         garbage = random.random(4)
diff --git a/setup.py b/setup.py
index 8d815d01b..2a5394a7b 100644
--- a/setup.py
+++ b/setup.py
@@ -1,15 +1,42 @@
 #/usr/bin/env python
 
 from distutils.core import Extension
+
 from numpy.distutils.misc_util import Configuration
+import setuptools
 from numpy.distutils.core import setup
 import numpy
 
-config = Configuration('pandas', parent_package=None, top_path=None)
+DESCRIPTION = "Cross-section and time series data analysis toolkit"
+LONG_DESCRIPTION = """
+Pandas provides data structures and statistical tools for common
+time-series and cross-sectional data sets.
+"""
+
+DISTNAME = 'pandas'
+LICENSE = 'BSD'
+MAINTAINER = "AQR Capital Management, LLC"
+MAINTAINER_EMAIL = "wesmckinn@gmail.com"
+URL = "pandas.googlecode.com"
+DOWNLOAD_URL = ''
+CLASSIFIERS = [
+    'Development Status :: 3 - Alpha',
+    'Environment :: Console',
+    'Operating System :: OS Independent',
+    'Intended Audience :: Science/Research',
+    'Programming Language :: Python',
+    'Programming Language :: Cython',
+    'Topic :: Scientific/Engineering',
+]
+
+MAJOR = 0
+MINOR = 1
+
+def get_version():
+    return '%d.%d' % (MAJOR, MINOR)
 
 def get_cython_ext():
     from Cython.Distutils import build_ext
-    from distutils.extension import Extension
 
     pyx_ext = Extension('tseries', ['pandas/lib/src/tseries.pyx',
                                     'pandas/lib/src/wirth.c'],
@@ -23,47 +50,40 @@ def get_cython_ext():
               'build_ext' : build_ext
           })
 
-# get_cython_ext()
-# sys.exit()
+def configuration(parent_package='', top_path=None, package_name=DISTNAME):
+    config = Configuration(None, parent_package, top_path,
+                           name=DISTNAME,
+                           version=get_version(),
+                           maintainer =MAINTAINER,
+                           maintainer_email=MAINTAINER_EMAIL,
+                           description=DESCRIPTION,
+                           license=LICENSE,
+                           url=URL,
+                           download_url=DOWNLOAD_URL,
+                           long_description=LONG_DESCRIPTION)
 
-cython_ext = Extension('pandas.lib.tseries', ['pandas/lib/src/tseries.c',
-                                              'pandas/lib/src/wirth.c'],
-                       include_dirs=[numpy.get_include(),
-                                     'pandas/lib/include/'])
+    config.add_extension('lib.tseries',
+                         sources=['pandas/lib/src/tseries.c',
+                                  'pandas/lib/src/wirth.c'],
+                         include_dirs=[numpy.get_include(),
+                                       'pandas/lib/include/'])
+    config.add_extension('lib.tdates',
+                         sources=['pandas/lib/src/tdates.c'])
 
-dates_ext = Extension('pandas.lib.tdates', ['pandas/lib/src/tdates.c'])
+    config.set_options(
+            ignore_setup_xxx_py=True,
+            assume_default_configuration=True,
+            delegate_options_to_subpackages=True,
+            quiet=False,
+            )
 
-config_dict = config.todict()
-try:
-    config_dict.pop('packages')
-except:
-    pass
+    return config
 
 if __name__ == '__main__':
-    setup(version="0.1",
-          description="Cross-section and time series data analysis toolkit",
-          author="AQR Capital Management, LLC",
-          author_email='wesmckinn@gmail.com',
-          url="pandas.googlecode.com",
-          license="BSD License",
-          classifiers=[
-            'Development Status :: 2 - Pre-Alpha',
-            'Environment :: Console',
-            'Operating System :: OS Independent',
-            'Intended Audience :: Science/Research',
-            'Programming Language :: Python',
-            'Programming Language :: Cython',
-            'Topic :: Scientific/Engineering',
-            ],
-          requires=['NumPy (>=1.2)',],
+    setup(configuration=configuration,
+          packages=setuptools.find_packages(),
+          classifiers=CLASSIFIERS,
+          requires=['numpy', 'scikits.statsmodels', 'dateutil'],
           platforms='any',
-          long_description="""
-          """,
-          packages=["pandas",
-                    "pandas.core",
-                    "pandas.core.tests",
-                    "pandas.io",
-                    "pandas.lib",
-                    "pandas.stats"],
-          ext_modules=[cython_ext, dates_ext],
-          **(config_dict))
+          test_suite='nose.collector',
+          zip_safe=False)
