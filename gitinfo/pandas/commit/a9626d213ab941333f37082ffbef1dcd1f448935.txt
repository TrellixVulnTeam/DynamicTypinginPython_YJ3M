commit a9626d213ab941333f37082ffbef1dcd1f448935
Author: jreback <jeff@reback.net>
Date:   Sun Sep 29 15:52:10 2013 -0400

    TST: fix failing unicode comparison test on sparc (with non-standard encoding)

diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index bb46d563b..852d02764 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -2221,9 +2221,10 @@ class TestMultiIndex(unittest.TestCase):
         self.assertEqual(result, exp)
 
     def test_repr_with_unicode_data(self):
-        d = {"a": [u("\u05d0"), 2, 3], "b": [4, 5, 6], "c": [7, 8, 9]}
-        index = pd.DataFrame(d).set_index(["a", "b"]).index
-        self.assertFalse("\\u" in repr(index))  # we don't want unicode-escaped
+        with pd.core.config.option_context("display.encoding",'UTF-8'):
+            d = {"a": [u("\u05d0"), 2, 3], "b": [4, 5, 6], "c": [7, 8, 9]}
+            index = pd.DataFrame(d).set_index(["a", "b"]).index
+            self.assertFalse("\\u" in repr(index))  # we don't want unicode-escaped
 
     def test_unicode_string_with_unicode(self):
         d = {"a": [u("\u05d0"), 2, 3], "b": [4, 5, 6], "c": [7, 8, 9]}
