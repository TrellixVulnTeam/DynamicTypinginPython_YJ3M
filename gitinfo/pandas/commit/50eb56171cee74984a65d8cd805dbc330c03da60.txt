commit 50eb56171cee74984a65d8cd805dbc330c03da60
Author: jreback <jeff@reback.net>
Date:   Mon Jan 14 16:25:24 2013 -0500

    BUG: fix for GH #2694 (natural naming issue on __contains__)

diff --git a/RELEASE.rst b/RELEASE.rst
index 59a86221d..a6ffd088e 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -66,6 +66,7 @@ pandas 0.10.1
     - handle correctly ``Term`` passed types (e.g. ``index<1000``, when index
       is ``Int64``), (closes GH512_)
     - handle Timestamp correctly in data_columns (closes GH2637_)
+    - contains correctly matches on non-natural names
   - Fix DataFrame.info bug with UTF8-encoded columns. (GH2576_)
   - Fix DatetimeIndex handling of FixedOffset tz (GH2604_)
   - More robust detection of being in IPython session for wide DataFrame
@@ -98,6 +99,7 @@ pandas 0.10.1
 .. _GH2625: https://github.com/pydata/pandas/issues/2625
 .. _GH2643: https://github.com/pydata/pandas/issues/2643
 .. _GH2637: https://github.com/pydata/pandas/issues/2637
+.. _GH2694: https://github.com/pydata/pandas/issues/2694
 
 pandas 0.10.0
 =============
diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 6b45bb9eb..22b207d9c 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -220,7 +220,7 @@ class HDFStore(object):
         node = self.get_node(key)
         if node is not None:
             name = node._v_pathname
-            return re.search(key, name) is not None
+            if name == key or name[1:] == key: return True
         return False
 
     def __len__(self):
diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index cb2d9dd2a..d5978ea15 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -111,6 +111,12 @@ class TestHDFStore(unittest.TestCase):
         self.assert_('/foo/b' not in self.store)
         self.assert_('bar' not in self.store)
 
+        # GH 2694
+        warnings.filterwarnings('ignore', category=tables.NaturalNameWarning)
+        self.store['node())'] = tm.makeDataFrame()
+        self.assert_('node())' in self.store)
+        warnings.filterwarnings('always', category=tables.NaturalNameWarning)
+
     def test_versioning(self):
         self.store['a'] = tm.makeTimeSeries()
         self.store['b'] = tm.makeDataFrame()
