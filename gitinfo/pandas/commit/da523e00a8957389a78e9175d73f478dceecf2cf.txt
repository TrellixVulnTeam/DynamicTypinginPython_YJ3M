commit da523e00a8957389a78e9175d73f478dceecf2cf
Author: Jeff Reback <jeff@reback.net>
Date:   Thu Feb 11 23:18:27 2016 -0500

    CI: clone depth on appveyor & add recipe

diff --git a/appveyor.yml b/appveyor.yml
index ead00f9c6..f6bf94789 100644
--- a/appveyor.yml
+++ b/appveyor.yml
@@ -8,6 +8,9 @@
 matrix:
   fast_finish: true     # immediately finish build once one of the jobs fails.
 
+# set clone depth
+clone_depth: 200
+
 environment:
   global:
     # SDK v7.0 MSVC Express 2008's SetEnv.cmd script will fail if the
@@ -65,14 +68,14 @@ install:
 
   # build em using the local source checkout in the correct windows env
   - conda install conda-build
-  - cmd: '%CMD_IN_ENV% conda build conda.recipe -q --no-test'
+  - cmd: '%CMD_IN_ENV% conda build ci\appveyor.recipe -q --no-test'
 
   # create our env
   - SET REQ=ci\requirements-%PYTHON_VERSION%-%PYTHON_ARCH%.run
   - cmd: conda create -q -n pandas python=%PYTHON_VERSION% nose
   - cmd: activate pandas
   - cmd: conda install -q --file=%REQ%
-  - ps: conda install -q (conda build conda.recipe -q --output --no-test)
+  - ps: conda install -q (conda build ci\appveyor.recipe -q --output --no-test)
 
 test_script:
   # tests
diff --git a/ci/appveyor.recipe/bld.bat b/ci/appveyor.recipe/bld.bat
new file mode 100644
index 000000000..284926fae
--- /dev/null
+++ b/ci/appveyor.recipe/bld.bat
@@ -0,0 +1,2 @@
+@echo off
+%PYTHON% setup.py install
diff --git a/ci/appveyor.recipe/build.sh b/ci/appveyor.recipe/build.sh
new file mode 100644
index 000000000..f341bce6f
--- /dev/null
+++ b/ci/appveyor.recipe/build.sh
@@ -0,0 +1,2 @@
+#!/bin/sh
+$PYTHON setup.py install
diff --git a/ci/appveyor.recipe/meta.yaml b/ci/appveyor.recipe/meta.yaml
new file mode 100644
index 000000000..c497acf33
--- /dev/null
+++ b/ci/appveyor.recipe/meta.yaml
@@ -0,0 +1,37 @@
+package:
+    name: pandas
+    version: {{ environ.get('GIT_DESCRIBE_TAG','') }}
+
+build:
+    number: {{ environ.get('GIT_DESCRIBE_NUMBER',0) }}
+    string: np{{ environ.get('CONDA_NPY') }}py{{ environ.get('CONDA_PY') }}_{{ environ.get('GIT_BUILD_STR','') }}
+
+source:
+
+    # conda-build needs a full clone
+    # rather than a shallow git_url type clone
+    # https://github.com/conda/conda-build/issues/780
+    path: ../../
+
+requirements:
+  build:
+    - python
+    - cython
+    - numpy x.x
+    - setuptools
+    - pytz
+    - python-dateutil
+
+  run:
+    - python
+    - numpy x.x
+    - python-dateutil
+    - pytz
+
+test:
+  imports:
+    - pandas
+
+about:
+  home: http://pandas.pydata.org
+  license: BSD
