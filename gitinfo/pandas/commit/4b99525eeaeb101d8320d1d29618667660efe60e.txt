commit 4b99525eeaeb101d8320d1d29618667660efe60e
Author: jbrockmendel <jbrockmendel@gmail.com>
Date:   Tue Mar 10 19:33:13 2020 -0700

    CLN: values_from_object in computation.pytables (#32557)

diff --git a/pandas/core/computation/pytables.py b/pandas/core/computation/pytables.py
index 653d01477..15d998731 100644
--- a/pandas/core/computation/pytables.py
+++ b/pandas/core/computation/pytables.py
@@ -17,6 +17,7 @@ from pandas.core.computation import expr, ops, scope as _scope
 from pandas.core.computation.common import _ensure_decoded
 from pandas.core.computation.expr import BaseExprVisitor
 from pandas.core.computation.ops import UndefinedVariableError, is_term
+from pandas.core.construction import extract_array
 
 from pandas.io.formats.printing import pprint_thing, pprint_thing_encoded
 
@@ -202,7 +203,7 @@ class BinOp(ops.BinOp):
             v = Timedelta(v, unit="s").value
             return TermValue(int(v), v, kind)
         elif meta == "category":
-            metadata = com.values_from_object(self.metadata)
+            metadata = extract_array(self.metadata, extract_numpy=True)
             result = metadata.searchsorted(v, side="left")
 
             # result returns 0 if v is first element or if v is not in metadata
