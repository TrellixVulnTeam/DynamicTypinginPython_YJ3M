commit 5bb5e33ffe01eb7c82e8eed327f8745cfacdaada
Author: ZhuBaohe <ehoabuhz@gmail.com>
Date:   Mon Feb 19 01:46:53 2018 +0800

    DOC: correct merge_asof example (#19737)

diff --git a/pandas/core/reshape/merge.py b/pandas/core/reshape/merge.py
index 4b99b0407..7b1a0875b 100644
--- a/pandas/core/reshape/merge.py
+++ b/pandas/core/reshape/merge.py
@@ -457,8 +457,8 @@ def merge_asof(left, right, on=None,
                          time ticker   price  quantity     bid     ask
     0 2016-05-25 13:30:00.023   MSFT   51.95        75     NaN     NaN
     1 2016-05-25 13:30:00.038   MSFT   51.95       155   51.97   51.98
-    2 2016-05-25 13:30:00.048   GOOG  720.77       100  720.50  720.93
-    3 2016-05-25 13:30:00.048   GOOG  720.92       100  720.50  720.93
+    2 2016-05-25 13:30:00.048   GOOG  720.77       100     NaN     NaN
+    3 2016-05-25 13:30:00.048   GOOG  720.92       100     NaN     NaN
     4 2016-05-25 13:30:00.048   AAPL   98.00       100     NaN     NaN
 
     See also
diff --git a/pandas/tests/reshape/merge/test_merge_asof.py b/pandas/tests/reshape/merge/test_merge_asof.py
index 2f48aef18..cebbcc41c 100644
--- a/pandas/tests/reshape/merge/test_merge_asof.py
+++ b/pandas/tests/reshape/merge/test_merge_asof.py
@@ -92,11 +92,30 @@ class TestAsOfMerge(object):
                       by='ticker',
                       tolerance=pd.Timedelta('2ms'))
 
-        pd.merge_asof(trades, quotes,
-                      on='time',
-                      by='ticker',
-                      tolerance=pd.Timedelta('10ms'),
-                      allow_exact_matches=False)
+        expected = pd.DataFrame({
+            'time': pd.to_datetime(['20160525 13:30:00.023',
+                                    '20160525 13:30:00.038',
+                                    '20160525 13:30:00.048',
+                                    '20160525 13:30:00.048',
+                                    '20160525 13:30:00.048']),
+            'ticker': ['MSFT', 'MSFT', 'GOOG', 'GOOG', 'AAPL'],
+            'price': [51.95, 51.95,
+                      720.77, 720.92, 98.00],
+            'quantity': [75, 155,
+                         100, 100, 100],
+            'bid': [np.nan, 51.97, np.nan,
+                    np.nan, np.nan],
+            'ask': [np.nan, 51.98, np.nan,
+                    np.nan, np.nan]},
+            columns=['time', 'ticker', 'price', 'quantity',
+                     'bid', 'ask'])
+
+        result = pd.merge_asof(trades, quotes,
+                               on='time',
+                               by='ticker',
+                               tolerance=pd.Timedelta('10ms'),
+                               allow_exact_matches=False)
+        assert_frame_equal(result, expected)
 
     def test_examples3(self):
         """ doc-string examples """
