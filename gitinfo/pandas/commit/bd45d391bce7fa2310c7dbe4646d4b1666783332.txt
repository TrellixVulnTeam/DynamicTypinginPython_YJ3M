commit bd45d391bce7fa2310c7dbe4646d4b1666783332
Author: y-p <yoval@gmx.com>
Date:   Sun Nov 11 02:43:59 2012 +0200

    ENH: warn user when invoking to_dict() on df with non-unique columns

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index e4e9705e5..05d371337 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -837,6 +837,10 @@ class DataFrame(NDFrame):
         -------
         result : dict like {column -> {index -> value}}
         """
+        import warnings
+        if not self.columns.is_unique:
+            warnings.warn("DataFrame columns are not unique, some "
+                          "columns will be omitted.",UserWarning)
         if outtype.lower().startswith('d'):
             return dict((k, v.to_dict()) for k, v in self.iteritems())
         elif outtype.lower().startswith('l'):
