commit 3443de7801188dd07da65eafcc2792acd241f99f
Author: Matt Roeschke <emailformattr@gmail.com>
Date:   Tue Nov 22 06:38:00 2016 -0500

    TST: Test aggregation over arrays (#3788)
    
    closes #3788
    
    Author: Matt Roeschke <emailformattr@gmail.com>
    
    Closes #14675 from mroeschke/fix_3788 and squashes the following commits:
    
    01dce9d [Matt Roeschke] TST: Test aggregation over arrays (#3788)

diff --git a/pandas/tests/test_groupby.py b/pandas/tests/test_groupby.py
index dc326aeaa..52d1c5c36 100644
--- a/pandas/tests/test_groupby.py
+++ b/pandas/tests/test_groupby.py
@@ -6813,6 +6813,23 @@ class TestGroupBy(tm.TestCase):
 
         assert_frame_equal(result, expected)
 
+    def test_agg_over_numpy_arrays(self):
+        # GH 3788
+        df = pd.DataFrame([[1, np.array([10, 20, 30])],
+                           [1, np.array([40, 50, 60])],
+                           [2, np.array([20, 30, 40])]],
+                          columns=['category', 'arraydata'])
+        result = df.groupby('category').agg(sum)
+
+        expected_data = [[np.array([50, 70, 90])], [np.array([20, 30, 40])]]
+        expected_index = pd.Index([1, 2], name='category')
+        expected_column = ['arraydata']
+        expected = pd.DataFrame(expected_data,
+                                index=expected_index,
+                                columns=expected_column)
+
+        assert_frame_equal(result, expected)
+
 
 def assert_fp_equal(a, b):
     assert (np.abs(a - b) < 1e-12).all()
