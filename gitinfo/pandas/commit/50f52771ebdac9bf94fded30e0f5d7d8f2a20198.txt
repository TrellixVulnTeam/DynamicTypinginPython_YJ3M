commit 50f52771ebdac9bf94fded30e0f5d7d8f2a20198
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Dec 9 17:29:45 2012 -0500

    TST: skip compression tests if either gzip/bz2 not built with user's python. close #2424

diff --git a/pandas/io/tests/test_parsers.py b/pandas/io/tests/test_parsers.py
index b51f22be9..ccf5d8582 100644
--- a/pandas/io/tests/test_parsers.py
+++ b/pandas/io/tests/test_parsers.py
@@ -1799,12 +1799,14 @@ a,b,c
         tm.assert_frame_equal(result, expected)
 
     def test_decompression(self):
-        data = open(self.csv1, 'rb').read()
+        try:
+            import gzip, bz2
+        except ImportError:
+            raise nose.SkipTest
 
+        data = open(self.csv1, 'rb').read()
         expected = self.read_csv(self.csv1)
 
-        import gzip, bz2
-
         try:
             tmp = gzip.GzipFile('__tmp__', mode='wb')
             tmp.write(data)
