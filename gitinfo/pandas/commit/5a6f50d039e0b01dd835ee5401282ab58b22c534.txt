commit 5a6f50d039e0b01dd835ee5401282ab58b22c534
Author: gfyoung <gfyoung17@gmail.com>
Date:   Sun Jun 11 16:08:56 2017 -0700

    TST: Add test for groupby mean of ints (#16670)
    
    Closes gh-11199.

diff --git a/pandas/tests/groupby/test_aggregate.py b/pandas/tests/groupby/test_aggregate.py
index d7b46e674..0de263589 100644
--- a/pandas/tests/groupby/test_aggregate.py
+++ b/pandas/tests/groupby/test_aggregate.py
@@ -234,6 +234,27 @@ class TestGroupByAggregate(object):
         expected = grouped.mean()
         tm.assert_frame_equal(result, expected)
 
+    def test_aggregate_float64_no_int64(self):
+        # see gh-11199
+        df = DataFrame({"a": [1, 2, 3, 4, 5],
+                        "b": [1, 2, 2, 4, 5],
+                        "c": [1, 2, 3, 4, 5]})
+
+        expected = DataFrame({"a": [1, 2.5, 4, 5]},
+                             index=[1, 2, 4, 5])
+        expected.index.name = "b"
+
+        result = df.groupby("b")[["a"]].mean()
+        tm.assert_frame_equal(result, expected)
+
+        expected = DataFrame({"a": [1, 2.5, 4, 5],
+                              "c": [1, 2.5, 4, 5]},
+                             index=[1, 2, 4, 5])
+        expected.index.name = "b"
+
+        result = df.groupby("b")[["a", "c"]].mean()
+        tm.assert_frame_equal(result, expected)
+
     def test_aggregate_api_consistency(self):
         # GH 9052
         # make sure that the aggregates via dict
