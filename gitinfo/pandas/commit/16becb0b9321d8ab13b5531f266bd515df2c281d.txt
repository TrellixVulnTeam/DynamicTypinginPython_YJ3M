commit 16becb0b9321d8ab13b5531f266bd515df2c281d
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Dec 2 18:28:32 2012 -0500

    BUG: skip scipy-depending test if not installed

diff --git a/pandas/tests/test_panel4d.py b/pandas/tests/test_panel4d.py
index 660264f8e..18022cf59 100644
--- a/pandas/tests/test_panel4d.py
+++ b/pandas/tests/test_panel4d.py
@@ -29,6 +29,13 @@ def add_nans(panel4d):
         panel = panel4d[label]
         tm.add_nans(panel)
 
+def _skip_if_no_scipy():
+    try:
+        import scipy.stats
+    except ImportError:
+        raise nose.SkipTest
+
+
 class SafeForLongAndSparse(object):
 
     _multiprocess_can_split_ = True
@@ -67,6 +74,7 @@ class SafeForLongAndSparse(object):
         self._check_stat_op('max', np.max)
 
     def test_skew(self):
+        _skip_if_no_scipy()
         from scipy.stats import skew
         def this_skew(x):
             if len(x) < 3:
diff --git a/vb_suite/join_merge.py b/vb_suite/join_merge.py
index 73480ef58..0830c7b30 100644
--- a/vb_suite/join_merge.py
+++ b/vb_suite/join_merge.py
@@ -107,7 +107,7 @@ right = DataFrame({'key': indices[2000:], 'key2':indices2[2000:],
 merge_2intkey_nosort = Benchmark('merge(left, right, sort=False)', setup,
                                  start_date=datetime(2011, 10, 20))
 
-merge_2intkey_sort = Benchmark('merge(left, right)', setup,
+merge_2intkey_sort = Benchmark('merge(left, right, sort=True)', setup,
                                start_date=datetime(2011, 10, 20))
 
 #----------------------------------------------------------------------
