commit 69283277ecf220cb9715d2460b3e630e31e0e686
Author: jbrockmendel <jbrockmendel@gmail.com>
Date:   Mon Jan 13 12:25:58 2020 -0800

    CLN: misc cleanups (#30877)

diff --git a/pandas/_libs/index.pyx b/pandas/_libs/index.pyx
index 28d269a9a..ce6d12d61 100644
--- a/pandas/_libs/index.pyx
+++ b/pandas/_libs/index.pyx
@@ -85,7 +85,6 @@ cdef class IndexEngine:
         """
         cdef:
             object loc
-            void* data_ptr
 
         loc = self.get_loc(key)
         if isinstance(loc, slice) or util.is_array(loc):
@@ -101,7 +100,6 @@ cdef class IndexEngine:
         """
         cdef:
             object loc
-            void* data_ptr
 
         loc = self.get_loc(key)
         value = convert_scalar(arr, value)
diff --git a/pandas/core/indexes/datetimelike.py b/pandas/core/indexes/datetimelike.py
index 9eb5ed7cb..bf1272b22 100644
--- a/pandas/core/indexes/datetimelike.py
+++ b/pandas/core/indexes/datetimelike.py
@@ -156,13 +156,11 @@ class DatetimeIndexOpsMixin(ExtensionIndex):
     def __contains__(self, key):
         try:
             res = self.get_loc(key)
-            return (
-                is_scalar(res)
-                or isinstance(res, slice)
-                or (is_list_like(res) and len(res))
-            )
         except (KeyError, TypeError, ValueError):
             return False
+        return bool(
+            is_scalar(res) or isinstance(res, slice) or (is_list_like(res) and len(res))
+        )
 
     # Try to run function on index first, and then on elements of index
     # Especially important for group-by functionality
@@ -875,11 +873,7 @@ class DatetimeTimedeltaMixin(DatetimeIndexOpsMixin, Int64Index):
 
     def _wrap_joined_index(self, joined, other):
         name = get_op_result_name(self, other)
-        if (
-            isinstance(other, type(self))
-            and self.freq == other.freq
-            and self._can_fast_union(other)
-        ):
+        if self._can_fast_union(other):
             joined = self._shallow_copy(joined)
             joined.name = name
             return joined
