commit 4dd340e5fb61fe60a461e29036e4272b6d821978
Author: Brian Wignall <brianwignall@gmail.com>
Date:   Mon Jun 30 22:27:01 2014 -0400

    CLN/DEPR: Fix instances of 'U'/'rU' in open(...)
    
    #7131

diff --git a/pandas/io/tests/test_sql.py b/pandas/io/tests/test_sql.py
index a34f278fc..68de03164 100644
--- a/pandas/io/tests/test_sql.py
+++ b/pandas/io/tests/test_sql.py
@@ -157,12 +157,13 @@ class PandasSQLTest(unittest.TestCase):
             return self.conn.cursor()
 
     def _load_iris_data(self):
+        import io
         iris_csv_file = os.path.join(tm.get_data_path(), 'iris.csv')
 
         self.drop_table('iris')
         self._get_exec().execute(SQL_STRINGS['create_iris'][self.flavor])
 
-        with open(iris_csv_file, 'rU') as iris_csv:
+        with io.open(iris_csv_file, mode='r', newline=None) as iris_csv:
             r = csv.reader(iris_csv)
             next(r)  # skip header row
             ins = SQL_STRINGS['insert_iris'][self.flavor]
diff --git a/pandas/tests/test_series.py b/pandas/tests/test_series.py
index 093954f1d..08aed6643 100644
--- a/pandas/tests/test_series.py
+++ b/pandas/tests/test_series.py
@@ -4235,11 +4235,12 @@ class TestSeries(tm.TestCase, CheckNameIntegration):
             assert_series_equal(checkseries, series)
 
     def test_to_csv(self):
+        import io
 
         with ensure_clean() as path:
             self.ts.to_csv(path)
 
-            lines = open(path, 'U').readlines()
+            lines = io.open(path, newline=None).readlines()
             assert(lines[1] != '\n')
 
             self.ts.to_csv(path, index=False)
