commit b5da1aec8ac17e04057dcc2798f217cf34db0ebc
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Tue Jan 7 12:59:56 2020 +0100

    BLD: more informative error message when trying to cythonize with old cython version (#30774)

diff --git a/setup.py b/setup.py
index 076b77bf5..c33ce063c 100755
--- a/setup.py
+++ b/setup.py
@@ -49,11 +49,12 @@ setuptools_kwargs = {
 try:
     import Cython
 
-    ver = Cython.__version__
+    _CYTHON_VERSION = Cython.__version__
     from Cython.Build import cythonize
 
-    _CYTHON_INSTALLED = ver >= LooseVersion(min_cython_ver)
+    _CYTHON_INSTALLED = _CYTHON_VERSION >= LooseVersion(min_cython_ver)
 except ImportError:
+    _CYTHON_VERSION = None
     _CYTHON_INSTALLED = False
     cythonize = lambda x, *args, **kwargs: x  # dummy func
 
@@ -506,6 +507,11 @@ def maybe_cythonize(extensions, *args, **kwargs):
 
     elif not cython:
         # GH#28836 raise a helfpul error message
+        if _CYTHON_VERSION:
+            raise RuntimeError(
+                f"Cannot cythonize with old Cython version ({_CYTHON_VERSION} "
+                f"installed, needs {min_cython_ver})"
+            )
         raise RuntimeError("Cannot cythonize without Cython installed.")
 
     numpy_incl = pkg_resources.resource_filename("numpy", "core/include")
