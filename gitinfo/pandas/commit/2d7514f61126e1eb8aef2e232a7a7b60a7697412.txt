commit 2d7514f61126e1eb8aef2e232a7a7b60a7697412
Author: Roy Hyunjin Han <rhh@crosscompute.com>
Date:   Fri Nov 15 01:52:06 2013 -0800

    Ensure that we can get a commit number from git
    
    Currently, git describe fails with "fatal: No names found, cannot describe anything."

diff --git a/setup.py b/setup.py
index 6ab478bfc..44229fa64 100755
--- a/setup.py
+++ b/setup.py
@@ -201,12 +201,12 @@ if not ISRELEASED:
     try:
         import subprocess
         try:
-            pipe = subprocess.Popen(["git", "describe", "HEAD"],
+            pipe = subprocess.Popen(["git", "describe", "--always"],
                                     stdout=subprocess.PIPE).stdout
         except OSError:
             # msysgit compatibility
             pipe = subprocess.Popen(
-                ["git.cmd", "describe", "HEAD"],
+                ["git.cmd", "describe", "--always"],
                 stdout=subprocess.PIPE).stdout
         rev = pipe.read().strip()
         # makes distutils blow up on Python 2.7
