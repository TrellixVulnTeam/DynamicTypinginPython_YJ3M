commit f71cd9ad53d9760a51837979a517880e746272bd
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Sat Mar 31 11:02:59 2018 -0500

    BUG: Allow overwriting object columns with EAs (#20556)
    
    Closes https://github.com/pandas-dev/pandas/issues/20555

diff --git a/pandas/core/internals.py b/pandas/core/internals.py
index a0e122d39..f5956aacf 100644
--- a/pandas/core/internals.py
+++ b/pandas/core/internals.py
@@ -2379,7 +2379,10 @@ class ObjectBlock(Block):
         return not (issubclass(value.dtype.type,
                                (np.integer, np.floating, np.complexfloating,
                                 np.datetime64, np.bool_)) or
-                    is_extension_type(value))
+                    # TODO(ExtensionArray): remove is_extension_type
+                    # when all extension arrays have been ported.
+                    is_extension_type(value) or
+                    is_extension_array_dtype(value))
 
     def replace(self, to_replace, value, inplace=False, filter=None,
                 regex=False, convert=True, mgr=None):
diff --git a/pandas/tests/extension/base/reshaping.py b/pandas/tests/extension/base/reshaping.py
index 9b9a61488..6f4d5b405 100644
--- a/pandas/tests/extension/base/reshaping.py
+++ b/pandas/tests/extension/base/reshaping.py
@@ -75,3 +75,9 @@ class BaseReshapingTests(BaseExtensionTests):
         df['B'] = [1] * len(data)
         expected = pd.DataFrame({"A": data, "B": [1] * len(data)})
         self.assert_frame_equal(df, expected)
+
+    def test_set_frame_overwrite_object(self, data):
+        # https://github.com/pandas-dev/pandas/issues/20555
+        df = pd.DataFrame({"A": [1] * len(data)}, dtype=object)
+        df['A'] = data
+        assert df.dtypes['A'] == data.dtype
