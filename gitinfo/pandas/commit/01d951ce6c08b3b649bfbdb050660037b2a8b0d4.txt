commit 01d951ce6c08b3b649bfbdb050660037b2a8b0d4
Author: Adam Klein <adamklein@gmail.com>
Date:   Tue Feb 7 16:32:09 2012 -0500

    ENH: make sha lookup compatible with msysgit

diff --git a/setup.py b/setup.py
index 65cf6528d..9a011b78c 100755
--- a/setup.py
+++ b/setup.py
@@ -176,10 +176,14 @@ if not ISRELEASED:
     FULLVERSION += '.dev'
     try:
         import subprocess
-        pipe = subprocess.Popen(["git", "rev-parse", "--short", "HEAD"],
-                                stdout=subprocess.PIPE).stdout
+        try:
+            pipe = subprocess.Popen(["git", "rev-parse", "--short", "HEAD"],
+                                    stdout=subprocess.PIPE).stdout
+        except OSError:
+            # msysgit compatibility
+            pipe = subprocess.Popen(["git.cmd", "rev-parse", "--short", "HEAD"],
+                                    stdout=subprocess.PIPE).stdout
         rev = pipe.read().strip()
-
         # makes distutils blow up on Python 2.7
         if sys.version_info[0] >= 3:
             rev = rev.decode('ascii')
