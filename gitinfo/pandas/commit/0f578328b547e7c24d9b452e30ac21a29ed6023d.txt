commit 0f578328b547e7c24d9b452e30ac21a29ed6023d
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Mon Jun 27 20:38:03 2011 -0400

    added set_printoptions function to common module, similar to NumPy print options

diff --git a/pandas/core/common.py b/pandas/core/common.py
index 89258b60e..e13fc03fb 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -122,6 +122,24 @@ def _try_sort(iterable):
     except Exception:
         return listed
 
+_float_format = lambda x: '%.4g' % x
+_column_space = 12
+
+def set_printoptions(float_format=None, column_space=None):
+    """
+    float_format : string or function
+        Strings must be of the form '%s', '%.4f', '%.4g', etc.
+    column_space : int
+        Default space for DataFrame columns, defaults to 12
+    """
+    global _float_format, _column_space
+    if float_format is not None:
+        if isinstance(float_format, basestring):
+            _float_format = lambda x: float_format % x
+        else:
+            _float_format = float_format
+    if column_space is not None:
+        _column_space = column_space
 
 def _pfixed(s, space, nanRep=None, float_format=None):
     if isinstance(s, float):
@@ -134,7 +152,7 @@ def _pfixed(s, space, nanRep=None, float_format=None):
             formatted = float_format(s)
         else:
             is_neg = s < 0
-            formatted = '%.4g' % np.abs(s)
+            formatted = _float_format(np.abs(s))
 
             if is_neg:
                 formatted = '-' + formatted
diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 77e8ec3b5..490eaf951 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -503,10 +503,10 @@ class DataFrame(PandasGeneric):
 
             for c in columns:
                 if np.issctype(series[c].dtype):
-                    colSpace[c] = max(len(str(c)) + 4, 12)
+                    colSpace[c] = max(len(str(c)) + 4, common._column_space)
                 else:
                     # HACK
-                    colSpace[c] = 15
+                    colSpace[c] = common._column_space
         else:
             colSpace = dict((k, colSpace) for k in columns)
 
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 37ff39c6e..96b2252ac 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -910,6 +910,12 @@ class TestDataFrame(unittest.TestCase, CheckIndexing):
         # columns are not sortable
         foo = repr(self.unsortable)
 
+        import pandas.core.common as common
+        common.set_printoptions(float_format='%.4f', column_space=10)
+        repr(self.frame)
+        common.set_printoptions(float_format=lambda x: '%.4f' % x)
+        repr(self.frame)
+
     def test_head_tail(self):
         assert_frame_equal(self.frame.head(), self.frame[:5])
         assert_frame_equal(self.frame.tail(), self.frame[-5:])
