commit 12413a8bf40ef904fd7bc98f52ff1023404668c7
Author: ischwabacher <ischwabacher@wisc.edu>
Date:   Wed Sep 17 10:53:06 2014 -0500

    Fix DataFrame.from_records error message
    
    Make `create_block_manager_from_arrays` error message use the correct dimensions.  This is different from the situation in `create_block_manager_from_blocks` because in that method the blocks are concatenated along their first dimension, whereas in this method the arrays are concatenated along a new dimension.
    
    Also fix `test_from_records_to_records`, which specified a misleading error message when the shape of the input data did not match the shape implied by the indices.  In particular, the error message omitted the offending dimension entirely!

diff --git a/pandas/core/internals.py b/pandas/core/internals.py
index 9db029304..2877c2b10 100644
--- a/pandas/core/internals.py
+++ b/pandas/core/internals.py
@@ -3507,7 +3507,7 @@ def create_block_manager_from_arrays(arrays, names, axes):
         mgr._consolidate_inplace()
         return mgr
     except (ValueError) as e:
-        construction_error(len(arrays), arrays[0].shape[1:], axes, e)
+        construction_error(len(arrays), arrays[0].shape, axes, e)
 
 
 def form_blocks(arrays, names, axes):
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index b68fd62f4..dd6cf773d 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -4032,7 +4032,7 @@ class TestDataFrame(tm.TestCase, CheckIndexing,
         tm.assert_frame_equal(DataFrame.from_records(arr2), DataFrame(arr2))
 
         # wrong length
-        msg = r'Shape of passed values is \(3,\), indices imply \(3, 1\)'
+        msg = r'Shape of passed values is \(3, 2\), indices imply \(3, 1\)'
         with assertRaisesRegexp(ValueError, msg):
             DataFrame.from_records(arr, index=index[:-1])
 
