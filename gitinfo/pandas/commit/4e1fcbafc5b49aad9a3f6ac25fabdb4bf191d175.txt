commit 4e1fcbafc5b49aad9a3f6ac25fabdb4bf191d175
Author: Jeff Reback <jeff@reback.net>
Date:   Wed Feb 7 07:30:16 2018 -0500

    ERR: raise KeyError on invalid column name in aggregate (#19566)
    
    xref #19552

diff --git a/doc/source/whatsnew/v0.23.0.txt b/doc/source/whatsnew/v0.23.0.txt
index c48f6d19e..eaa8841b7 100644
--- a/doc/source/whatsnew/v0.23.0.txt
+++ b/doc/source/whatsnew/v0.23.0.txt
@@ -647,7 +647,7 @@ Groupby/Resample/Rolling
 - Bug in :func:`DataFrame.groupby` where aggregation by ``first``/``last``/``min``/``max`` was causing timestamps to lose precision (:issue:`19526`)
 - Bug in :func:`DataFrame.transform` where particular aggregation functions were being incorrectly cast to match the dtype(s) of the grouped data (:issue:`19200`)
 - Bug in :func:`DataFrame.groupby` passing the `on=` kwarg, and subsequently using ``.apply()`` (:issue:`17813`)
-- Bug in :func:`DataFrame.resample().aggregate` not raising a `ValueError` when aggregating a non-existent column (:issue:`16766`)
+- Bug in :func:`DataFrame.resample().aggregate` not raising a ``KeyError`` when aggregating a non-existent column (:issue:`16766`, :issue:`19566`)
 
 Sparse
 ^^^^^^
diff --git a/pandas/core/base.py b/pandas/core/base.py
index 0969717d8..3d8f5f265 100644
--- a/pandas/core/base.py
+++ b/pandas/core/base.py
@@ -394,7 +394,7 @@ class SelectionMixin(object):
                         nested_renaming_depr()
                     elif isinstance(obj, ABCDataFrame) and \
                             k not in obj.columns:
-                        raise ValueError(
+                        raise KeyError(
                             "Column '{col}' does not exist!".format(col=k))
 
                 arg = new_arg
diff --git a/pandas/tests/test_resample.py b/pandas/tests/test_resample.py
index 9feba3fd0..23cc18de3 100644
--- a/pandas/tests/test_resample.py
+++ b/pandas/tests/test_resample.py
@@ -613,7 +613,7 @@ class TestResampleAPI(object):
                     t[['A']].agg({'A': ['sum', 'std'],
                                   'B': ['mean', 'std']})
 
-            pytest.raises(ValueError, f)
+            pytest.raises(KeyError, f)
 
     def test_agg_nested_dicts(self):
 
@@ -668,7 +668,7 @@ class TestResampleAPI(object):
         df = DataFrame(data).set_index('dt')
 
         # Error as we don't have 'z' column
-        with pytest.raises(ValueError):
+        with pytest.raises(KeyError):
             df.resample('30T').agg({'x': ['mean'],
                                     'y': ['median'],
                                     'z': ['sum']})
