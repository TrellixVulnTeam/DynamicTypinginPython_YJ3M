commit d96826024aad3f08c365bd74a43a684677982a89
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Mar 17 10:58:34 2017 -0400

    TST: only catch deprecation warnings for top-level module imports (#15718)

diff --git a/pandas/tests/api/test_api.py b/pandas/tests/api/test_api.py
index db9221047..73222c246 100644
--- a/pandas/tests/api/test_api.py
+++ b/pandas/tests/api/test_api.py
@@ -249,31 +249,26 @@ class TestTopLevelDeprecations(tm.TestCase):
 class TestJson(tm.TestCase):
 
     def test_deprecation_access_func(self):
-        with tm.assert_produces_warning(FutureWarning,
-                                        check_stacklevel=False):
+        with catch_warnings(record=True):
             pd.json.dumps([])
 
 
 class TestParser(tm.TestCase):
 
     def test_deprecation_access_func(self):
-        with tm.assert_produces_warning(FutureWarning,
-                                        check_stacklevel=False):
+        with catch_warnings(record=True):
             pd.parser.na_values
 
 
 class TestLib(tm.TestCase):
 
     def test_deprecation_access_func(self):
-        with tm.assert_produces_warning(FutureWarning,
-                                        check_stacklevel=False):
+        with catch_warnings(record=True):
             pd.lib.infer_dtype
 
 
 class TestTSLib(tm.TestCase):
 
     def test_deprecation_access_func(self):
-        # some libraries may be imported before we
-        # test and could show the warning
         with catch_warnings(record=True):
             pd.tslib.Timestamp
