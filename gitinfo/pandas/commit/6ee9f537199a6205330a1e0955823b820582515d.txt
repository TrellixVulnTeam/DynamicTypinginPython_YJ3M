commit 6ee9f537199a6205330a1e0955823b820582515d
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Thu Aug 20 22:55:20 2015 +0200

    DOC: update ipython sphinxext for IPython 4.0

diff --git a/doc/sphinxext/ipython_sphinxext/ipython_directive.py b/doc/sphinxext/ipython_sphinxext/ipython_directive.py
index 3f9be9560..ad7ada8e4 100644
--- a/doc/sphinxext/ipython_sphinxext/ipython_directive.py
+++ b/doc/sphinxext/ipython_sphinxext/ipython_directive.py
@@ -127,7 +127,11 @@ from docutils import nodes
 from sphinx.util.compat import Directive
 
 # Our own
-from IPython import Config, InteractiveShell
+try:
+    from traitlets.config import Config
+except ImportError:
+    from IPython import Config
+from IPython import InteractiveShell
 from IPython.core.profiledir import ProfileDir
 from IPython.utils import io
 from IPython.utils.py3compat import PY3
