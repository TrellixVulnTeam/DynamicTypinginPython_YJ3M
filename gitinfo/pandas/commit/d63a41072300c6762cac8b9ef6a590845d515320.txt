commit d63a41072300c6762cac8b9ef6a590845d515320
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Nov 13 11:19:01 2015 -0500

    DOC: move create_table_index example to io.rst

diff --git a/doc/source/cookbook.rst b/doc/source/cookbook.rst
index 493dc164e..779ebf87f 100644
--- a/doc/source/cookbook.rst
+++ b/doc/source/cookbook.rst
@@ -999,13 +999,13 @@ Skip row between header and data
     01.01.1990 04:00;17;9;10;11
     01.01.1990 05:00;21;11;12;13
     """
-    
+
 Option 1: pass rows explicitly to skiprows
 """"""""""""""""""""""""""""""""""""""""""
 
 .. ipython:: python
 
-    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';', skiprows=[11,12], 
+    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';', skiprows=[11,12],
             index_col=0, parse_dates=True, header=10)
 
 Option 2: read column names and then data
@@ -1013,15 +1013,15 @@ Option 2: read column names and then data
 
 .. ipython:: python
 
-    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';', 
+    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';',
             header=10, parse_dates=True, nrows=10).columns
-    columns = pd.read_csv(StringIO(data.decode('UTF-8')), sep=';', 
+    columns = pd.read_csv(StringIO(data.decode('UTF-8')), sep=';',
                       header=10, parse_dates=True, nrows=10).columns
-    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';', 
+    pd.read_csv(StringIO(data.decode('UTF-8')), sep=';',
                 header=12, parse_dates=True, names=columns)
 
 
-    
+
 .. _cookbook.sql:
 
 SQL
@@ -1128,17 +1128,6 @@ Storing Attributes to a group node
    store.close()
    os.remove('test.h5')
 
-How to construct an index of a Pandas dataframe stored in HDF5 file. This operation is useful after you append multiple data to the dataframe without index creation. The index creation is purposely turned off during appending to save costly computation time
-.. ipython:: python
-
-   df = DataFrame(randn(10,2),columns=list('AB')).to_hdf('test.h5','df',data_columns=['B'],mode='w',table=True)
-   store = pd.HDFStore('test.h5')
-
-   # create index
-   store.create_table_index('df',columns=['B'],optlevel=9,kind='full')
-   store.close()
-
-
 .. _cookbook.binary:
 
 Binary Files
diff --git a/doc/source/io.rst b/doc/source/io.rst
index a003f2e7d..a9ec5c24b 100644
--- a/doc/source/io.rst
+++ b/doc/source/io.rst
@@ -3071,6 +3071,33 @@ indexed dimension as the ``where``.
    i = store.root.df.table.cols.index.index
    i.optlevel, i.kind
 
+Ofentimes when appending large amounts of data to a store, it is useful to turn off index creation for each append, then recreate at the end.
+
+.. ipython:: python
+
+   df_1 = DataFrame(randn(10,2),columns=list('AB'))
+   df_2 = DataFrame(randn(10,2),columns=list('AB'))
+
+   st = pd.HDFStore('appends.h5',mode='w')
+   st.append('df', df_1, data_columns=['B'], index=False)
+   st.append('df', df_2, data_columns=['B'], index=False)
+   st.get_storer('df').table
+
+Then create the index when finished appending.
+
+.. ipython:: python
+
+   st.create_table_index('df', columns=['B'], optlevel=9, kind='full')
+   st.get_storer('df').table
+
+   st.close()
+
+.. ipython:: python
+   :suppress:
+   :okexcept:
+
+   os.remove('appends.h5')
+
 See `here <http://stackoverflow.com/questions/17893370/ptrepack-sortby-needs-full-index>`__ for how to create a completely-sorted-index (CSI) on an existing store.
 
 Query via Data Columns
