commit 8b0233e95a9edf6879b704075cf9925c5a3777e2
Author: Chang She <chang@lambdafoundry.com>
Date:   Tue May 1 12:54:36 2012 -0400

    BUG: negative numbers in freq str. GH #1162

diff --git a/pandas/tseries/frequencies.py b/pandas/tseries/frequencies.py
index a5b22e2b9..98b22f612 100644
--- a/pandas/tseries/frequencies.py
+++ b/pandas/tseries/frequencies.py
@@ -335,12 +335,16 @@ def to_offset(freqstr):
         delta = get_offset(name) * stride
     else:
         delta = None
+        stride_sign = None
         try:
             for stride, name, _ in opattern.findall(freqstr):
                 offset = get_offset(name)
                 if not stride:
                     stride = 1
-                offset = offset * int(stride)
+                stride = int(stride)
+                if stride_sign is None:
+                    stride_sign = np.sign(stride)
+                offset = offset * int(np.fabs(stride) * stride_sign)
                 if delta is None:
                     delta = offset
                 else:
@@ -352,7 +356,7 @@ def to_offset(freqstr):
 
 
 # hack to handle WOM-1MON
-opattern = re.compile(r'(\d*)\s*([A-Za-z]+([\-@]\d*[A-Za-z]+)?)')
+opattern = re.compile(r'([\-]?\d*)\s*([A-Za-z]+([\-@]\d*[A-Za-z]+)?)')
 
 def _base_and_stride(freqstr):
     """
diff --git a/pandas/tseries/tests/test_frequencies.py b/pandas/tseries/tests/test_frequencies.py
index cc43efd5f..7b87b4efe 100644
--- a/pandas/tseries/tests/test_frequencies.py
+++ b/pandas/tseries/tests/test_frequencies.py
@@ -43,6 +43,16 @@ def test_to_offset_multiple():
     expected = offsets.Milli(10075)
     assert(result == expected)
 
+def test_to_offset_negative():
+    freqstr = '-1S'
+    result = to_offset(freqstr)
+    assert(result.n == -1)
+
+    freqstr='-5min10s'
+    result = to_offset(freqstr)
+    assert(result.n == -310)
+
+
 _dti = DatetimeIndex
 
 class TestFrequencyInference(unittest.TestCase):
