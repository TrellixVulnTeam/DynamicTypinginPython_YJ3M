commit 9fcebee889cda05c90a61ff306b8ede01aa3d1af
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Mon Jul 6 18:28:05 2020 -0500

    Move mark registration (#35146)

diff --git a/pandas/conftest.py b/pandas/conftest.py
index 5fe4cc45b..e0adb37e7 100644
--- a/pandas/conftest.py
+++ b/pandas/conftest.py
@@ -44,6 +44,19 @@ from pandas.core.indexes.api import Index, MultiIndex
 # Configuration / Settings
 # ----------------------------------------------------------------
 # pytest
+def pytest_configure(config):
+    # Register marks to avoid warnings in pandas.test()
+    # sync with setup.cfg
+    config.addinivalue_line("markers", "single: mark a test as single cpu only")
+    config.addinivalue_line("markers", "slow: mark a test as slow")
+    config.addinivalue_line("markers", "network: mark a test as network")
+    config.addinivalue_line(
+        "markers", "db: tests requiring a database (mysql or postgres)"
+    )
+    config.addinivalue_line("markers", "high_memory: mark a test as a high-memory only")
+    config.addinivalue_line("markers", "clipboard: mark a pd.read_clipboard test")
+
+
 def pytest_addoption(parser):
     parser.addoption("--skip-slow", action="store_true", help="skip slow tests")
     parser.addoption("--skip-network", action="store_true", help="skip network tests")
diff --git a/setup.cfg b/setup.cfg
index 49a57b7a5..074b0b6bd 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -54,13 +54,6 @@ exclude =
 # sync minversion with setup.cfg & install.rst
 minversion = 4.0.2
 testpaths = pandas
-markers =
-    single: mark a test as single cpu only
-    slow: mark a test as slow
-    network: mark a test as network
-    db: tests requiring a database (mysql or postgres)
-    high_memory: mark a test as a high-memory only
-    clipboard: mark a pd.read_clipboard test
 doctest_optionflags = NORMALIZE_WHITESPACE IGNORE_EXCEPTION_DETAIL ELLIPSIS
 addopts = --strict-data-files
 xfail_strict = True
