commit 89b7026aaa620cc1f7485d782777e623a45f75a6
Author: jreback <jeff@reback.net>
Date:   Mon Oct 21 18:48:09 2013 -0400

    BLD: add 0.13.0 pickles support

diff --git a/pandas/io/tests/generate_legacy_pickles.py b/pandas/io/tests/generate_legacy_pickles.py
index 05e5d6837..08f63b017 100644
--- a/pandas/io/tests/generate_legacy_pickles.py
+++ b/pandas/io/tests/generate_legacy_pickles.py
@@ -1,12 +1,6 @@
 """ self-contained to write legacy pickle files """
 from __future__ import print_function
 
-# make sure we are < 0.13 compat (in py3)
-try:
-    from pandas.compat import zip, cPickle as pickle
-except:
-    import pickle
-
 def _create_sp_series():
 
     import numpy as np
@@ -114,21 +108,35 @@ def write_legacy_pickles():
     import sys
     sys.path.insert(0,'.')
 
-    import os
+    import os, os.path
     import numpy as np
     import pandas
     import pandas.util.testing as tm
     import platform as pl
 
-    print("This script generates a pickle file for the current arch, system, and python version")
+    # make sure we are < 0.13 compat (in py3)
+    try:
+        from pandas.compat import zip, cPickle as pickle
+    except:
+        import pickle
+
+    sys_version = version = pandas.__version__
+    if len(sys.argv) < 2:
+        exit("{0} <version> <output_dir>".format(sys.argv[0]))
 
-    version = pandas.__version__
+    version = str(sys.argv[1])
+    output_dir = str(sys.argv[2])
+
+    print("This script generates a pickle file for the current arch, system, and python version")
+    print("  system version: {0}".format(sys_version))
+    print("  output version: {0}".format(version))
+    print("  output dir    : {0}".format(output_dir))
 
     # construct a reasonable platform name
     f = '_'.join([ str(version), str(pl.machine()), str(pl.system().lower()), str(pl.python_version()) ])
     pth = '{0}.pickle'.format(f)
 
-    fh = open(pth,'wb')
+    fh = open(os.path.join(output_dir,pth),'wb')
     pickle.dump(create_data(),fh,pickle.HIGHEST_PROTOCOL)
     fh.close()
 
diff --git a/pandas/io/tests/test_pickle.py b/pandas/io/tests/test_pickle.py
index 167eed95f..ea769a051 100644
--- a/pandas/io/tests/test_pickle.py
+++ b/pandas/io/tests/test_pickle.py
@@ -80,6 +80,9 @@ class TestPickle(unittest.TestCase):
     def test_read_pickles_0_12_0(self):
         self.read_pickles('0.12.0')
 
+    def test_read_pickles_0_13_0(self):
+        self.read_pickles('0.13.0')
+
     def test_round_trip_current(self):
 
         for typ, dv in self.data.items():
diff --git a/setup.py b/setup.py
index 635da56d7..6ab478bfc 100755
--- a/setup.py
+++ b/setup.py
@@ -555,6 +555,7 @@ setup(name=DISTNAME,
                                   'tests/data/legacy_pickle/0.10.1/*.pickle',
                                   'tests/data/legacy_pickle/0.11.0/*.pickle',
                                   'tests/data/legacy_pickle/0.12.0/*.pickle',
+                                  'tests/data/legacy_pickle/0.13.0/*.pickle',
                                   'tests/data/*.csv',
                                   'tests/data/*.dta',
                                   'tests/data/*.txt',
