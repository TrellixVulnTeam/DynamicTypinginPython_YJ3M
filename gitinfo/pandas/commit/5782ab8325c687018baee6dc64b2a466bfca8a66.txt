commit 5782ab8325c687018baee6dc64b2a466bfca8a66
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Wed Mar 7 14:57:17 2018 +0100

    DOC: enable matplotlib plot_directive to include figures in docstrings (#20015)

diff --git a/doc/source/conf.py b/doc/source/conf.py
index c81d38db0..46249af8a 100644
--- a/doc/source/conf.py
+++ b/doc/source/conf.py
@@ -63,6 +63,7 @@ extensions = ['sphinx.ext.autodoc',
               'ipython_sphinxext.ipython_console_highlighting',
               # lowercase didn't work
               'IPython.sphinxext.ipython_console_highlighting',
+              'matplotlib.sphinxext.plot_directive',
               'sphinx.ext.intersphinx',
               'sphinx.ext.coverage',
               'sphinx.ext.mathjax',
@@ -85,6 +86,14 @@ autosummary_generate = False
 if any(re.match("\s*api\s*", l) for l in index_rst_lines):
     autosummary_generate = True
 
+# matplotlib plot directive
+plot_include_source = True
+plot_formats = [("png", 90)]
+plot_html_show_formats = False
+plot_html_show_source_link = False
+plot_pre_code = """import numpy as np
+import pandas as pd"""
+
 # Add any paths that contain templates here, relative to this directory.
 templates_path = ['../_templates']
 
diff --git a/pandas/plotting/_core.py b/pandas/plotting/_core.py
index b15c5271a..98fdcf8f9 100644
--- a/pandas/plotting/_core.py
+++ b/pandas/plotting/_core.py
@@ -2537,6 +2537,15 @@ class SeriesPlotMethods(BasePlotMethods):
         Returns
         -------
         axes : matplotlib.AxesSubplot or np.array of them
+
+        Examples
+        --------
+
+        .. plot::
+            :context: close-figs
+
+            >>> s = pd.Series([1, 3, 2])
+            >>> s.plot.line()
         """
         return self(kind='line', **kwds)
 
