commit 06705c88a290c329ec1fe098041d2979d59854eb
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Tue Aug 9 13:14:02 2011 -0400

    BUG: fix NumPy type upcasting to string, regression from 0.3.0

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 59e7940cf..bc7187947 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -2694,10 +2694,11 @@ def _check_data_types(data):
 
 def _prep_ndarray(values, copy=True):
     if not isinstance(values, np.ndarray):
-        values = np.asarray(values)
+        arr = np.asarray(values)
         # NumPy strings are a pain, convert to object
-        if issubclass(values.dtype.type, basestring):
-            values = np.array(values, dtype=object, copy=True)
+        if issubclass(arr.dtype.type, basestring):
+            arr = np.array(values, dtype=object, copy=True)
+        values = arr
     else:
         if copy:
             values = values.copy()
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 18988c2b4..2cde6221c 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -745,6 +745,10 @@ class TestDataFrame(unittest.TestCase, CheckIndexing):
         df = DataFrame(d)
         self.assert_(isinstance(df['Col1']['Row2'], float))
 
+        dm = DataFrame([[1,2],['a','b']],
+                       index=[1,2], columns=[1,2])
+        self.assert_(isinstance(dm[1][1], int))
+
     def test_constructor_ndarray(self):
         mat = np.zeros((2, 3), dtype=float)
 
