commit 5eab52c0854caeb1d514ac523d224b0a8cb45458
Author: Kelsey Jordahl <kjordahl@enthought.com>
Date:   Tue May 8 17:22:02 2012 -0400

    ENH: Allow different number of rows & columns in a histogram plot

diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 8168e1367..bc43e5454 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -832,13 +832,16 @@ def hist_frame(data, grid=True, xlabelsize=None, xrot=None,
     """
     import matplotlib.pyplot as plt
     n = len(data.columns)
-    k = 1
-    while k ** 2 < n:
-        k += 1
-    _, axes = _subplots(nrows=k, ncols=k, ax=ax, squeeze=False)
+    rows, cols = 1, 1
+    while rows * cols < n:
+        if cols > rows:
+            rows += 1
+        else:
+            cols += 1
+    _, axes = _subplots(nrows=rows, ncols=cols, ax=ax, squeeze=False)
 
     for i, col in enumerate(com._try_sort(data.columns)):
-        ax = axes[i / k][i % k]
+        ax = axes[i / cols][i % cols]
         ax.xaxis.set_visible(True)
         ax.yaxis.set_visible(True)
         ax.hist(data[col].dropna().values, **kwds)
@@ -854,8 +857,8 @@ def hist_frame(data, grid=True, xlabelsize=None, xrot=None,
         if yrot is not None:
             plt.setp(ax.get_yticklabels(), rotation=yrot)
 
-    for j in range(i + 1, k**2):
-        ax = axes[j / k, j % k]
+    for j in range(i + 1, rows * cols):
+        ax = axes[j / cols, j % cols]
         ax.set_visible(False)
 
     ax.get_figure().subplots_adjust(wspace=0.3, hspace=0.3)
