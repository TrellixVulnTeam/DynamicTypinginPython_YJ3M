commit 20529df58c2d17faa4834aea611eeb0c882fa637
Author: y-p <yoval@gmx.com>
Date:   Wed Nov 14 02:14:18 2012 +0200

    ENH: disable repr dependence on terminal width when running non-interactively. #1610
    
    WARNING: nose runs non-interactively, so this is potential heisenbug material.
    but no changes to the test suite were needed, so I hope we're okay.

diff --git a/pandas/core/common.py b/pandas/core/common.py
index f9af37872..936f1d635 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -1073,6 +1073,14 @@ def _concat_compat(to_concat, axis=0):
     else:
         return np.concatenate(to_concat, axis=axis)
 
+def in_interactive_session():
+    """ check if we're running in an interactive shell
+
+    returns True if running under python/ipython interactive shell
+    """
+    import __main__ as main
+    return not hasattr(main, '__file__')
+
 # Unicode consolidation
 # ---------------------
 #
diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 5f1de83c4..22ddebd05 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -582,13 +582,15 @@ class DataFrame(NDFrame):
         else:
             # save us
             if (len(self.index) > max_rows or
-                len(self.columns) > terminal_width // 2):
+                (com.in_interactive_session() and
+                len(self.columns) > terminal_width // 2)):
                 return True
             else:
                 buf = StringIO()
                 self.to_string(buf=buf)
                 value = buf.getvalue()
-                if max([len(l) for l in value.split('\n')]) > terminal_width:
+                if (max([len(l) for l in value.split('\n')]) > terminal_width and
+                    com.in_interactive_session()):
                     return True
                 else:
                     return False
