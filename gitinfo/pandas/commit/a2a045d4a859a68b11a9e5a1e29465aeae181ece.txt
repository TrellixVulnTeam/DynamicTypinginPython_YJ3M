commit a2a045d4a859a68b11a9e5a1e29465aeae181ece
Author: y-p <yoval@gmx.com>
Date:   Sat Nov 24 01:38:44 2012 +0200

    ENH: add com.split_ranges util function

diff --git a/pandas/core/common.py b/pandas/core/common.py
index aa7ed9cd6..c6e58e478 100644
--- a/pandas/core/common.py
+++ b/pandas/core/common.py
@@ -699,6 +699,23 @@ def iterpairs(seq):
 
     return itertools.izip(seq_it, seq_it_next)
 
+def split_ranges(mask):
+    """ Generates tuples of ranges which cover all True value in mask
+
+    >>> list(split_ranges([1,0,0,1,0]))
+    [(0, 1), (3, 4)]
+    """
+    ranges = [(0,len(mask))]
+
+    for pos,val in enumerate(mask):
+        if not val: # this pos should be ommited, split off the prefix range
+            r = ranges.pop()
+            if pos > r[0]: # yield non-zero range
+                yield (r[0],pos)
+            if pos+1 < len(mask): # save the rest for processing
+                ranges.append((pos+1,len(mask)))
+    if ranges:
+        yield ranges[-1]
 
 def indent(string, spaces=4):
     dent = ' ' * spaces
