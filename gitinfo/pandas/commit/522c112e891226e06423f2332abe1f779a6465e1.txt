commit 522c112e891226e06423f2332abe1f779a6465e1
Author: y-p <yoval@gmx.com>
Date:   Wed Mar 27 15:29:32 2013 +0200

    BLD: test_perf, add -n, number of vb runs to average results over

diff --git a/vb_suite/test_perf.py b/vb_suite/test_perf.py
index 192a11148..e543320a1 100755
--- a/vb_suite/test_perf.py
+++ b/vb_suite/test_perf.py
@@ -80,6 +80,12 @@ parser.add_argument('-s', '--seed',
                     default=1234,
                     type=int,
                     help='integer value to seed PRNG with')
+parser.add_argument('-n', '--repeats',
+                    metavar="N",
+                    dest='repeats',
+                    default=3,
+                    type=int,
+                    help='number of times to run each vbench, result value is the average')
 
 
 def get_results_df(db, rev):
@@ -255,6 +261,9 @@ def main():
 
     benchmarks = [x for x in benchmarks if re.search(args.regex,x.name)]
 
+    for b in benchmarks:
+        b.repeat = args.repeats
+
     if args.head:
         profile_head(benchmarks)
     else:
