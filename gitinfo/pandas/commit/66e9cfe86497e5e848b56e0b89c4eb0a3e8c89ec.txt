commit 66e9cfe86497e5e848b56e0b89c4eb0a3e8c89ec
Author: Marc Garcia <garcia.marc@gmail.com>
Date:   Sun Dec 16 01:16:58 2018 +0000

    DOC: Making the build fail if the doc build fails (#24292)

diff --git a/.travis.yml b/.travis.yml
index e0ab770ac..c30a7f3f5 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -112,7 +112,7 @@ before_script:
 script:
   - echo "script start"
   - source activate pandas-dev
-  - ci/run_build_docs.sh
+  - ci/build_docs.sh
   - ci/run_tests.sh
 
 after_script:
diff --git a/ci/build_docs.sh b/ci/build_docs.sh
index f89c4369d..0b1ea2329 100755
--- a/ci/build_docs.sh
+++ b/ci/build_docs.sh
@@ -1,5 +1,7 @@
 #!/bin/bash
 
+set -e
+
 if [ "${TRAVIS_OS_NAME}" != "linux" ]; then
    echo "not doing build_docs on non-linux"
    exit 0
diff --git a/ci/run_build_docs.sh b/ci/run_build_docs.sh
deleted file mode 100755
index 2909b9619..000000000
--- a/ci/run_build_docs.sh
+++ /dev/null
@@ -1,10 +0,0 @@
-#!/bin/bash
-
-echo "inside $0"
-
-"$TRAVIS_BUILD_DIR"/ci/build_docs.sh 2>&1
-
-# wait until subprocesses finish (build_docs.sh)
-wait
-
-exit 0
diff --git a/doc/make.py b/doc/make.py
index 0a3a7483f..9c6c6caa2 100755
--- a/doc/make.py
+++ b/doc/make.py
@@ -214,7 +214,10 @@ class DocBuilder:
         # TODO check_call should be more safe, but it fails with
         # exclude patterns, needs investigation
         # subprocess.check_call(args, stderr=subprocess.STDOUT)
-        os.system(' '.join(args))
+        exit_status = os.system(' '.join(args))
+        if exit_status:
+            msg = 'Command "{}" finished with exit code {}'
+            raise RuntimeError(msg.format(' '.join(args), exit_status))
 
     def _sphinx_build(self, kind):
         """Call sphinx to build documentation.
