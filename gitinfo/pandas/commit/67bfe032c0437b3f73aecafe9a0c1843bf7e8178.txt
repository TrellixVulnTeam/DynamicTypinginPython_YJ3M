commit 67bfe032c0437b3f73aecafe9a0c1843bf7e8178
Author: Vytautas Jancauskas <unaudio@gmail.com>
Date:   Sat Aug 11 00:42:50 2012 +0300

    Added test_merge_aes method

diff --git a/pandas/tests/test_rplot.py b/pandas/tests/test_rplot.py
index 335e8cdcc..67e04eb82 100644
--- a/pandas/tests/test_rplot.py
+++ b/pandas/tests/test_rplot.py
@@ -63,6 +63,17 @@ class TestUtilityFunctions(unittest.TestCase):
 		self.assertTrue(rplot.dictionary_union({}, dict1) == dict1)
 		self.assertTrue(rplot.dictionary_union({}, {}) == {})
 
+	def test_merge_aes(self):
+		layer1 = rplot.Layer(size=rplot.ScaleSize('test'))
+		layer2 = rplot.Layer(shape=rplot.ScaleShape('test'))
+		rplot.merge_aes(layer1, layer2)
+		self.assertTrue(isinstance(layer2.aes['size'], rplot.ScaleSize))
+		self.assertTrue(isinstance(layer2.aes['shape'], rplot.ScaleShape))
+		self.assertTrue(layer2.aes['size'] == layer1.aes['size'])
+		for key in layer2.aes.keys():
+			if key != 'size' and key != 'shape':
+				self.assertTrue(layer2.aes[key] is None)
+
 class TestScaleGradient(unittest.TestCase):
 	def setUp(self):
 		path = os.path.join(curpath(), 'data/iris.csv')
