commit 12859382a4a5325e6fd19a209b128bab44a3a37a
Author: Matthew Roeschke <emailformattr@gmail.com>
Date:   Sun Sep 22 17:06:18 2019 -0700

    BENCH: Add rolling apply benchmarks (#28566)
    
    * BENCH: Add rolling apply benchmarks
    
    * black

diff --git a/asv_bench/benchmarks/rolling.py b/asv_bench/benchmarks/rolling.py
index b42fa553b..493f96d46 100644
--- a/asv_bench/benchmarks/rolling.py
+++ b/asv_bench/benchmarks/rolling.py
@@ -25,6 +25,25 @@ class Methods:
         getattr(self.roll, method)()
 
 
+class Apply:
+    params = (
+        ["DataFrame", "Series"],
+        [10, 1000],
+        ["int", "float"],
+        [sum, np.sum, lambda x: np.sum(x) + 5],
+        [True, False],
+    )
+    param_names = ["contructor", "window", "dtype", "function", "raw"]
+
+    def setup(self, constructor, window, dtype, function, raw):
+        N = 10 ** 5
+        arr = (100 * np.random.random(N)).astype(dtype)
+        self.roll = getattr(pd, constructor)(arr).rolling(window)
+
+    def time_rolling(self, constructor, window, dtype, function, raw):
+        self.roll.apply(function, raw=raw)
+
+
 class ExpandingMethods:
 
     params = (
