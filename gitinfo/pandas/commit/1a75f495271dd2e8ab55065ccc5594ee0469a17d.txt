commit 1a75f495271dd2e8ab55065ccc5594ee0469a17d
Author: Joris Van den Bossche <jorisvandenbossche@gmail.com>
Date:   Thu Mar 9 08:51:09 2017 +0100

    DOC: make it possible to run doctests (#15626)

diff --git a/pandas/conftest.py b/pandas/conftest.py
index 623feb99e..e0a15f740 100644
--- a/pandas/conftest.py
+++ b/pandas/conftest.py
@@ -1,5 +1,8 @@
 import pytest
 
+import numpy
+import pandas
+
 
 def pytest_addoption(parser):
     parser.addoption("--skip-slow", action="store_true",
@@ -19,3 +22,11 @@ def pytest_runtest_setup(item):
 
     if 'network' in item.keywords and item.config.getoption("--skip-network"):
         pytest.skip("skipping due to --skip-network")
+
+
+# For running doctests: make np and pd names available
+
+@pytest.fixture(autouse=True)
+def add_imports(doctest_namespace):
+    doctest_namespace['np'] = numpy
+    doctest_namespace['pd'] = pandas
