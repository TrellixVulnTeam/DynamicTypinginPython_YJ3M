commit 2d9451ddc36c194f1d65dab7568901c9ea998002
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Apr 14 19:55:19 2017 +0000

    DEPR: more deprecation warnings (#16001)

diff --git a/pandas/tests/io/test_pytables.py b/pandas/tests/io/test_pytables.py
index 9908a320a..2df8872e2 100644
--- a/pandas/tests/io/test_pytables.py
+++ b/pandas/tests/io/test_pytables.py
@@ -150,20 +150,23 @@ class TestHDFStore(Base, tm.TestCase):
     def test_factory_fun(self):
         path = create_tempfile(self.path)
         try:
-            with get_store(path) as tbl:
-                raise ValueError('blah')
+            with catch_warnings(record=True):
+                with get_store(path) as tbl:
+                    raise ValueError('blah')
         except ValueError:
             pass
         finally:
             safe_remove(path)
 
         try:
-            with get_store(path) as tbl:
-                tbl['a'] = tm.makeDataFrame()
+            with catch_warnings(record=True):
+                with get_store(path) as tbl:
+                    tbl['a'] = tm.makeDataFrame()
 
-            with get_store(path) as tbl:
-                self.assertEqual(len(tbl), 1)
-                self.assertEqual(type(tbl['a']), DataFrame)
+            with catch_warnings(record=True):
+                with get_store(path) as tbl:
+                    self.assertEqual(len(tbl), 1)
+                    self.assertEqual(type(tbl['a']), DataFrame)
         finally:
             safe_remove(self.path)
 
@@ -348,7 +351,7 @@ class TestHDFStore(Base, tm.TestCase):
 
             pandas.set_option('io.hdf.default_format', 'fixed')
             df.to_hdf(path, 'df')
-            with get_store(path) as store:
+            with HDFStore(path) as store:
                 self.assertFalse(store.get_storer('df').is_table)
             self.assertRaises(ValueError, df.to_hdf, path, 'df2', append=True)
 
diff --git a/pandas/tests/io/test_sql.py b/pandas/tests/io/test_sql.py
index 5318e8532..b4e8d6a3b 100644
--- a/pandas/tests/io/test_sql.py
+++ b/pandas/tests/io/test_sql.py
@@ -18,6 +18,7 @@ The SQL tests are broken down in different classes:
 """
 
 from __future__ import print_function
+from warnings import catch_warnings
 import pytest
 import unittest
 import sqlite3
@@ -586,9 +587,10 @@ class _TestSQLApi(PandasSQLTest):
         tm.assert_frame_equal(s.to_frame(), s2)
 
     def test_to_sql_panel(self):
-        panel = tm.makePanel()
-        self.assertRaises(NotImplementedError, sql.to_sql, panel,
-                          'test_panel', self.conn)
+        with catch_warnings(record=True):
+            panel = tm.makePanel()
+            self.assertRaises(NotImplementedError, sql.to_sql, panel,
+                              'test_panel', self.conn)
 
     def test_roundtrip(self):
         sql.to_sql(self.test_frame1, 'test_frame_roundtrip',
