commit 9ec54ca7596513d6141b12e26d181f36c3764b41
Author: y-p <yoval@gmx.com>
Date:   Sun Mar 31 22:58:05 2013 +0300

    TST: check and raise on df.applymap with df having dupe columns

diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 586b6030e..bf81daf94 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -7338,6 +7338,14 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         result = df.applymap(lambda x: x)
         self.assert_(result.dtypes[0] == object)
 
+        # GH2786
+        df = DataFrame(np.random.random((3,4)))
+        df.columns = ['a','a','a','a']
+        try:
+            df.applymap(str)
+        except ValueError as e:
+            self.assertTrue("support" in str(e))
+
     def test_filter(self):
         # items
 
