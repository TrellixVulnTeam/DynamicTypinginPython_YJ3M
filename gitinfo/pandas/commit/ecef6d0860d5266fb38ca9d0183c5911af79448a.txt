commit ecef6d0860d5266fb38ca9d0183c5911af79448a
Author: jayfoad <jay.foad@gmail.com>
Date:   Sat Feb 24 15:08:16 2018 +0000

    Raise OptionError instead of KeyError in __getattr__. Fixes  #19789. (#19790)

diff --git a/doc/source/whatsnew/v0.23.0.txt b/doc/source/whatsnew/v0.23.0.txt
index a188ddd61..6bcc6d158 100644
--- a/doc/source/whatsnew/v0.23.0.txt
+++ b/doc/source/whatsnew/v0.23.0.txt
@@ -909,3 +909,4 @@ Other
 ^^^^^
 
 - Improved error message when attempting to use a Python keyword as an identifier in a ``numexpr`` backed query (:issue:`18221`)
+- Bug in accessing a :func:`pandas.get_option`, which raised ``KeyError`` rather than ``OptionError`` when looking up a non-existant option key in some cases (:issue:`19789`)
diff --git a/pandas/core/config.py b/pandas/core/config.py
index 692aed178..369e05683 100644
--- a/pandas/core/config.py
+++ b/pandas/core/config.py
@@ -196,7 +196,10 @@ class DictWrapper(object):
         if prefix:
             prefix += "."
         prefix += key
-        v = object.__getattribute__(self, "d")[key]
+        try:
+            v = object.__getattribute__(self, "d")[key]
+        except KeyError:
+            raise OptionError("No such option")
         if isinstance(v, dict):
             return DictWrapper(v, prefix)
         else:
diff --git a/pandas/tests/test_config.py b/pandas/tests/test_config.py
index 8d6f36ac6..91ce65dcc 100644
--- a/pandas/tests/test_config.py
+++ b/pandas/tests/test_config.py
@@ -428,3 +428,9 @@ class TestConfig(object):
 
         # Ensure the current context is reset
         assert self.cf.get_option(option_name) == original_value
+
+    def test_dictwrapper_getattr(self):
+        options = self.cf.options
+        # GH 19789
+        pytest.raises(self.cf.OptionError, getattr, options, 'bananas')
+        assert not hasattr(options, 'bananas')
