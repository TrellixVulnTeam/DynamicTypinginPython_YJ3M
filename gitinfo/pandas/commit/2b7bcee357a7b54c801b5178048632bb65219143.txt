commit 2b7bcee357a7b54c801b5178048632bb65219143
Author: Loïc Estève <loic.esteve@ymail.com>
Date:   Sun Feb 10 23:27:33 2013 +0000

    BUG: automatic color cycling when plotting Series without style or color argument

diff --git a/pandas/tests/test_graphics.py b/pandas/tests/test_graphics.py
index b264e8696..2a8a772c1 100644
--- a/pandas/tests/test_graphics.py
+++ b/pandas/tests/test_graphics.py
@@ -678,6 +678,18 @@ class TestDataFrameGroupByPlots(unittest.TestCase):
         line = ax.get_lines()[0]
         self.assert_(line.get_color() == 'green')
 
+    @slow
+    def test_time_series_plot_color_with_empty_kwargs(self):
+        import matplotlib.pyplot as plt
+
+        plt.close('all')
+        for i in range(3):
+            ax = Series(np.arange(12) + 1, index=date_range(
+            '1/1/2000', periods=12)).plot()
+
+        line_colors = [ l.get_color() for l in ax.get_lines() ]
+        self.assert_(line_colors == ['b', 'g', 'r'])
+
     @slow
     def test_grouped_hist(self):
         import matplotlib.pyplot as plt
diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 137eab656..f931c4fad 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -1122,13 +1122,12 @@ class LinePlot(MPLPlot):
         cycle = plt.rcParams.get('axes.color_cycle', list('bgrcmyk'))
         if isinstance(cycle, basestring):
             cycle = list(cycle)
-        has_colors = 'color' in self.kwds
         colors = self.kwds.get('color', cycle)
         return colors
 
     def _maybe_add_color(self, colors, kwds, style, i):
-        kwds.pop('color', None)
-        if style is None or re.match('[a-z]+', style) is None:
+        has_color = 'color' in kwds
+        if has_color and (style is None or re.match('[a-z]+', style) is None):
             kwds['color'] = colors[i % len(colors)]
 
     def _make_plot(self):
