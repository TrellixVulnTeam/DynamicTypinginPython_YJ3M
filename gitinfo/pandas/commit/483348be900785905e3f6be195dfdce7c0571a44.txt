commit 483348be900785905e3f6be195dfdce7c0571a44
Author: Chang She <chang@lambdafoundry.com>
Date:   Mon Jun 25 14:49:19 2012 -0400

    BUG: plotting DataFrame with freq with offset

diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 985d58895..37b3f6e64 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -659,7 +659,7 @@ class LinePlot(MPLPlot):
         from pandas.core.frame import DataFrame
         if (isinstance(data.index, DatetimeIndex) and
             isinstance(data, DataFrame)):
-            freq = getattr(data.index, 'freqstr', None)
+            freq = getattr(data.index, 'freq', None)
 
             if freq is None:
                 freq = getattr(data.index, 'inferred_freq', None)
diff --git a/pandas/tseries/tests/test_plotting.py b/pandas/tseries/tests/test_plotting.py
index c88102a31..6e246fb8e 100644
--- a/pandas/tseries/tests/test_plotting.py
+++ b/pandas/tseries/tests/test_plotting.py
@@ -42,7 +42,7 @@ class TestTSPlot(unittest.TestCase):
                                     columns=['A', 'B', 'C'])
                                     for x in idx]
 
-        freq = ['S', 'T', 'H', 'D', 'W', 'M', 'Q-DEC', 'A']
+        freq = ['S', 'T', 'H', 'D', 'W', 'M', 'Q-DEC', 'A', '1B30Min']
         idx = [date_range('12/31/1999', freq=x, periods=100) for x in freq]
         self.datetime_ser = [Series(np.random.randn(len(x)), x) for x in idx]
         self.datetime_df = [DataFrame(np.random.randn(len(x), 3), index=x,
