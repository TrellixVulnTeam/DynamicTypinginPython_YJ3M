commit 18a428da81f7fe0f41f8ec78f03a385b731bb6a3
Author: gfyoung <gfyoung17@gmail.com>
Date:   Sun Jun 11 10:49:08 2017 -0500

    MAINT: Give nice error message if xarray import fails (#16664)

diff --git a/pandas/core/generic.py b/pandas/core/generic.py
index 98977bf8a..8b186bab2 100644
--- a/pandas/core/generic.py
+++ b/pandas/core/generic.py
@@ -1501,7 +1501,17 @@ class NDFrame(PandasObject, SelectionMixin):
         -----
         See the `xarray docs <http://xarray.pydata.org/en/stable/>`__
         """
-        import xarray
+
+        try:
+            import xarray
+        except ImportError:
+            # Give a nice error message
+            raise ImportError("the xarray library is not installed\n"
+                              "you can install via conda\n"
+                              "conda install xarray\n"
+                              "or via pip\n"
+                              "pip install xarray\n")
+
         if self.ndim == 1:
             return xarray.DataArray.from_series(self)
         elif self.ndim == 2:
