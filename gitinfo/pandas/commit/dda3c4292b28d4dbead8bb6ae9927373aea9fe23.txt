commit dda3c4292b28d4dbead8bb6ae9927373aea9fe23
Author: Jeff Reback <jeff@reback.net>
Date:   Sun Feb 12 12:51:11 2017 -0500

    TST: make test_gbq single cpu

diff --git a/pandas/tests/io/test_gbq.py b/pandas/tests/io/test_gbq.py
index 0868edd21..0317ebc49 100644
--- a/pandas/tests/io/test_gbq.py
+++ b/pandas/tests/io/test_gbq.py
@@ -253,6 +253,7 @@ def test_generate_bq_schema_deprecated():
         gbq.generate_bq_schema(df)
 
 
+@pytest.mark.single
 class TestGBQConnectorIntegrationWithLocalUserAccountAuth(tm.TestCase):
 
     def setUp(self):
@@ -298,6 +299,7 @@ class TestGBQConnectorIntegrationWithLocalUserAccountAuth(tm.TestCase):
         self.assertTrue(isinstance(credentials, GoogleCredentials))
 
 
+@pytest.mark.single
 class TestGBQConnectorIntegrationWithServiceAccountKeyPath(tm.TestCase):
     def setUp(self):
         _setup_common()
@@ -329,6 +331,7 @@ class TestGBQConnectorIntegrationWithServiceAccountKeyPath(tm.TestCase):
         self.assertTrue(pages is not None)
 
 
+@pytest.mark.single
 class TestGBQConnectorIntegrationWithServiceAccountKeyContents(tm.TestCase):
     def setUp(self):
         _setup_common()
@@ -360,6 +363,7 @@ class TestGBQConnectorIntegrationWithServiceAccountKeyContents(tm.TestCase):
         self.assertTrue(pages is not None)
 
 
+@pytest.mark.single
 class GBQUnitTests(tm.TestCase):
 
     def setUp(self):
@@ -446,6 +450,7 @@ class GBQUnitTests(tm.TestCase):
                 private_key=re.sub('[a-z]', '9', _get_private_key_contents()))
 
 
+@pytest.mark.single
 class TestReadGBQIntegration(tm.TestCase):
 
     @classmethod
@@ -499,6 +504,7 @@ class TestReadGBQIntegration(tm.TestCase):
         tm.assert_frame_equal(df, DataFrame({'valid_string': ['PI']}))
 
 
+@pytest.mark.single
 class TestReadGBQIntegrationWithServiceAccountKeyPath(tm.TestCase):
 
     @classmethod
@@ -901,6 +907,7 @@ class TestReadGBQIntegrationWithServiceAccountKeyPath(tm.TestCase):
                          configuration=config)
 
 
+@pytest.mark.single
 class TestToGBQIntegrationWithServiceAccountKeyPath(tm.TestCase):
     # Changes to BigQuery table schema may take up to 2 minutes as of May 2015
     # As a workaround to this issue, each test should use a unique table name.
@@ -1215,6 +1222,7 @@ class TestToGBQIntegrationWithServiceAccountKeyPath(tm.TestCase):
             DATASET_ID + "_not_found"), 'Expected dataset not to exist')
 
 
+@pytest.mark.single
 class TestToGBQIntegrationWithLocalUserAccountAuth(tm.TestCase):
     # Changes to BigQuery table schema may take up to 2 minutes as of May 2015
     # As a workaround to this issue, each test should use a unique table name.
@@ -1272,6 +1280,7 @@ class TestToGBQIntegrationWithLocalUserAccountAuth(tm.TestCase):
         self.assertEqual(result['num_rows'][0], test_size)
 
 
+@pytest.mark.single
 class TestToGBQIntegrationWithServiceAccountKeyContents(tm.TestCase):
     # Changes to BigQuery table schema may take up to 2 minutes as of May 2015
     # As a workaround to this issue, each test should use a unique table name.
