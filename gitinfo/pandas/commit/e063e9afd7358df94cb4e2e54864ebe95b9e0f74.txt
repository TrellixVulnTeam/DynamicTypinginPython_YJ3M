commit e063e9afd7358df94cb4e2e54864ebe95b9e0f74
Author: Vytautas Jancauskas <unaudio@gmail.com>
Date:   Sun Jul 22 22:58:19 2012 +0300

    Work on layer class

diff --git a/pandas/tools/rplot.py b/pandas/tools/rplot.py
index fc2f91a8a..96ac257a2 100644
--- a/pandas/tools/rplot.py
+++ b/pandas/tools/rplot.py
@@ -55,6 +55,36 @@ def parse_facets(facet):
 	lhs, rhs = [col.strip() for col in facet.split('~')]
 	return (lhs, rhs)
 
+def scale_size(column, categorical, min_size=1.0, max_size=50.0):
+	def scaler(data, index):
+		if categorical:
+			pass
+		else:
+			x = data[column].iget(index)
+			a = min(data[column])
+			b = max(data[column])
+			return min_size + ((x - a) / (b - a)) * (max_size - min_size)
+	return scaler
+
+class Layer:
+	"""
+	Layer object representing a single plot layer.
+	"""
+	def __init__(self, geom, geom_params, data, aesthetics):
+		self.geom = geom
+		self.geom_params = geom_params
+		self.data = data
+		self.aesthetics = aesthetics
+
+	def render(self, ax):
+		if self.geom == 'point':
+			for index in range(len(self.data)):
+				row = self.data.irow(index)
+				x = row[self.aesthetics['x']]
+				y = row[self.aesthetics['y']]
+				size_scaler = self.aesthetics['size'](self.data, index)
+				ax.scatter(x, y, size_scaler(self.data, index))
+
 class RPlot:
 	def __init__(self, data, x=None, y=None):
 		seomlf.data = data
@@ -129,11 +159,4 @@ class GeomDensity2d:
 		kernel = stats.gaussian_kde(values)
 		Z = np.reshape(kernel(positions).T, X.shape)
 		rplot.ax.contour(Z, alpha=self.alpha, extent=[x_min, x_max, y_min, y_max])
-		return rplot
-
-class FacetGrid:
-	def __init__(self, facets):
-		self.facets = facets
-
-	def plot(self, rplot):
-		pass
+		return rplot
\ No newline at end of file
