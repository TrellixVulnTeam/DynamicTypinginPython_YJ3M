commit 44d270119ed2f71ffb5db890a420b8db5c14d4ec
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Thu Oct 6 10:48:02 2011 -0400

    TST: test coverage in pandas.core

diff --git a/pandas/tests/test_common.py b/pandas/tests/test_common.py
index 3af043b56..9765edf51 100644
--- a/pandas/tests/test_common.py
+++ b/pandas/tests/test_common.py
@@ -233,6 +233,30 @@ class TestTake(unittest.TestCase):
         result = common.take_2d(arr, [0, 2, -1])
         self.assert_(result.dtype == np.object_)
 
+    def test_2d_float32(self):
+        arr = np.random.randn(4, 3).astype(np.float32)
+        indexer = [0, 2, -1, 1, -1]
+
+        # axis=0
+        result = common.take_2d(arr, indexer)
+        result2 = np.empty_like(result)
+        common.take_2d(arr, indexer, out=result2)
+        tm.assert_almost_equal(result, result)
+
+        expected = arr.take(indexer, axis=0)
+        expected[[2, 4]] = np.nan
+        tm.assert_almost_equal(result, expected)
+
+        # axis=1
+        result = common.take_2d(arr, indexer, axis=1)
+        result2 = np.empty_like(result)
+        common.take_2d(arr, indexer, axis=1, out=result2)
+        tm.assert_almost_equal(result, result)
+
+        expected = arr.take(indexer, axis=1)
+        expected[:, [2, 4]] = np.nan
+        tm.assert_almost_equal(result, expected)
+
 if __name__ == '__main__':
     import nose
     nose.runmodule(argv=[__file__,'-vvs','-x','--pdb', '--pdb-failure'],
diff --git a/pandas/tests/test_index.py b/pandas/tests/test_index.py
index 8f713e220..5ec8f82e5 100644
--- a/pandas/tests/test_index.py
+++ b/pandas/tests/test_index.py
@@ -440,6 +440,10 @@ class TestInt64Index(unittest.TestCase):
         # monotonic
         res, lidx, ridx = self.index.join(other_mono, how='inner',
                                           return_indexers=True)
+
+        res2 = self.index.intersection(other_mono)
+        self.assert_(res.equals(res2))
+
         eridx = np.array([1, 4])
         self.assert_(isinstance(res, Int64Index))
         self.assert_(res.equals(eres))
