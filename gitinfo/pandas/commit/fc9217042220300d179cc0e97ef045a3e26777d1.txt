commit fc9217042220300d179cc0e97ef045a3e26777d1
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Sun Aug 12 21:08:24 2012 -0400

    BUG: resampling logic error with daily -> higher when closed='left', close #1726

diff --git a/RELEASE.rst b/RELEASE.rst
index 9ea69d24b..bc06bdadb 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -47,6 +47,7 @@ pandas 0.8.2
 
   - Fix matplotlib auto-color assignment when no custom spectrum passed. Also
     respect passed color keyword argument (#1711)
+  - Fix resampling logical error with closed='left' (#1726)
   - Fix critical DatetimeIndex.union bugs (#1730, #1719, #1745, #1702)
   - Fix critical DatetimeIndex.intersection bug with unanchored offsets (#1708)
   - Fix MM-YYYY time series indexing case (#1672)
diff --git a/pandas/tseries/resample.py b/pandas/tseries/resample.py
index 356ea7a76..c53c03d10 100644
--- a/pandas/tseries/resample.py
+++ b/pandas/tseries/resample.py
@@ -145,8 +145,6 @@ class TimeGrouper(CustomGrouper):
             day_nanos = _delta_to_nanoseconds(timedelta(1))
             if self.closed == 'right':
                 bin_edges = bin_edges + day_nanos - 1
-            else:
-                bin_edges = bin_edges + day_nanos
 
             # intraday values on last day
             if bin_edges[-2] > ax_values[-1]:
diff --git a/pandas/tseries/tests/test_resample.py b/pandas/tseries/tests/test_resample.py
index 60df7d475..7c86f0069 100644
--- a/pandas/tseries/tests/test_resample.py
+++ b/pandas/tseries/tests/test_resample.py
@@ -455,8 +455,8 @@ class TestResample(unittest.TestCase):
         tm.assert_frame_equal(result, expected)
 
         result = df.resample('M', closed='left')
-        expected = df.resample('M', kind='period', closed='left').to_timestamp()
-        tm.assert_frame_equal(result, expected)
+        exp = df.tshift(1, freq='D').resample('M', kind='period').to_timestamp()
+        tm.assert_frame_equal(result, exp)
 
         rng = date_range('1/1/2012', '4/1/2013', freq='10min')
         df = DataFrame(rng.month, index=rng)
@@ -466,7 +466,9 @@ class TestResample(unittest.TestCase):
         tm.assert_frame_equal(result, expected)
 
         result = df.resample('Q', closed='left')
-        expected = df.resample('Q', kind='period', closed='left').to_timestamp()
+        expected = df.tshift(1, freq='D').resample('Q', kind='period',
+                                                   closed='left')
+        expected = expected.to_timestamp()
         tm.assert_frame_equal(result, expected)
 
         ts = _simple_ts('2012-04-29 23:00', '2012-04-30 5:00', freq='h')
@@ -799,6 +801,17 @@ class TestResamplePeriodIndex(unittest.TestCase):
         exp = ts.to_timestamp().resample('A').to_period()
         assert_series_equal(result, exp)
 
+    def test_resample_weekly_bug_1726(self):
+        # 8/6/12 is a Monday
+        ind = DatetimeIndex(start="8/6/2012", end="8/26/2012", freq="D")
+        n = len(ind)
+        data = [[x] * 5 for x in range(n)]
+        df = DataFrame(data, columns=['open', 'high', 'low', 'close', 'vol'],
+                       index=ind)
+
+        # it works!
+        df.resample('W-MON', how='first', closed='left', label='left')
+
     # def test_monthly_convention_span(self):
     #     rng = period_range('2000-01', periods=3, freq='M')
     #     ts = Series(np.arange(3), index=rng)
