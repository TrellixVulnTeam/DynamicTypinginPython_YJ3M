commit ca1a36ab3a793d9a87900537de066fa676cbf237
Author: kpapdac <kpapdac@gmail.com>
Date:   Tue May 7 02:26:50 2019 +0100

    DOC: Fix encoding of docstring validation for Windows (#25466)

diff --git a/scripts/tests/test_validate_docstrings.py b/scripts/tests/test_validate_docstrings.py
index 14172a790..34395435b 100644
--- a/scripts/tests/test_validate_docstrings.py
+++ b/scripts/tests/test_validate_docstrings.py
@@ -1052,6 +1052,14 @@ class TestDocstringClass:
         with pytest.raises(AttributeError, match=msg):
             validate_docstrings.Docstring(invalid_name)
 
+    @pytest.mark.parametrize('name', ['pandas.Series.str.isdecimal',
+                                      'pandas.Series.str.islower'])
+    def test_encode_content_write_to_file(self, name):
+        # GH25466
+        docstr = validate_docstrings.Docstring(name).validate_pep8()
+        # the list of pep8 errors should be empty
+        assert not list(docstr)
+
 
 class TestMainFunction:
     def test_exit_status_for_validate_one(self, monkeypatch):
diff --git a/scripts/validate_docstrings.py b/scripts/validate_docstrings.py
index ebb09e8f3..63db50db4 100755
--- a/scripts/validate_docstrings.py
+++ b/scripts/validate_docstrings.py
@@ -583,7 +583,7 @@ class Docstring:
         application = flake8.main.application.Application()
         application.initialize(["--quiet"])
 
-        with tempfile.NamedTemporaryFile(mode='w') as file:
+        with tempfile.NamedTemporaryFile(mode='w', encoding='utf-8') as file:
             file.write(content)
             file.flush()
             application.run_checks([file.name])
