commit 48abf99d2034e01be41b8c75b58ec8a821acb9b9
Author: Simon Hawkins <simonjayhawkins@gmail.com>
Date:   Sat Feb 29 00:56:20 2020 +0000

    TST/CLN: Follow-up to #31867 (#32324)

diff --git a/pandas/tests/indexing/test_floats.py b/pandas/tests/indexing/test_floats.py
index c966962a7..fff5ca03e 100644
--- a/pandas/tests/indexing/test_floats.py
+++ b/pandas/tests/indexing/test_floats.py
@@ -95,43 +95,14 @@ class TestFloatIndexers:
         s = gen_obj(klass, i)
 
         # getting
-        for idxr, getitem in [(lambda x: x.iloc, False), (lambda x: x, True)]:
+        with pytest.raises(KeyError, match="^3.0$"):
+            s[3.0]
 
-            if getitem:
-                error = KeyError
-                msg = r"^3\.0?$"
-            else:
-                error = TypeError
-                msg = (
-                    r"cannot do (label|positional) indexing "
-                    fr"on {type(i).__name__} with these indexers \[3\.0\] of "
-                    r"type float|"
-                    "Cannot index by location index with a "
-                    "non-integer key"
-                )
-            with pytest.raises(error, match=msg):
-                idxr(s)[3.0]
-
-        # label based can be a TypeError or KeyError
-        if s.index.inferred_type in {
-            "categorical",
-            "string",
-            "unicode",
-            "mixed",
-            "period",
-            "timedelta64",
-            "datetime64",
-        }:
-            error = KeyError
-            msg = r"^3\.0$"
-        else:
-            error = TypeError
-            msg = (
-                r"cannot do (label|positional) indexing "
-                fr"on {type(i).__name__} with these indexers \[3\.0\] of "
-                "type float"
-            )
-        with pytest.raises(error, match=msg):
+        msg = "Cannot index by location index with a non-integer key"
+        with pytest.raises(TypeError, match=msg):
+            s.iloc[3.0]
+
+        with pytest.raises(KeyError, match="^3.0$"):
             s.loc[3.0]
 
         # contains
@@ -190,16 +161,12 @@ class TestFloatIndexers:
         s2 = Series([1, 2, 3], index=["a", "b", "c"])
         s3 = Series([1, 2, 3], index=["a", "b", 1.5])
 
-        # lookup in a pure stringstr
-        # with an invalid indexer
-        msg = (
-            r"cannot do label indexing "
-            r"on Index with these indexers \[1\.0\] of "
-            r"type float|"
-            "Cannot index by location index with a non-integer key"
-        )
+        # lookup in a pure string index with an invalid indexer
+
         with pytest.raises(KeyError, match="^1.0$"):
             s2[1.0]
+
+        msg = "Cannot index by location index with a non-integer key"
         with pytest.raises(TypeError, match=msg):
             s2.iloc[1.0]
 
