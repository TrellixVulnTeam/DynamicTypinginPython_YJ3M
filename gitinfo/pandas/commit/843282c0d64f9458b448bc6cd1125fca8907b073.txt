commit 843282c0d64f9458b448bc6cd1125fca8907b073
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Jul 15 19:44:00 2011 -0400

    ENH: rkern patch to debug

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 262c1a851..0cae721ca 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -36,8 +36,15 @@ def rands(n):
 # Console debugging tools
 
 def debug(f, *args, **kwargs):
-    set_trace()
-    return f(*args, **kwargs)
+    from pdb import Pdb as OldPdb
+    try:
+        from IPython.core.debugger import Pdb
+        kw = dict(color_scheme='Linux')
+    except ImportError:
+        Pdb = OldPdb
+        kw = {}
+    pdb = Pdb(**kw)
+    return pdb.runcall(f, *args, **kwargs)
 
 def set_trace():
     from IPython.core.debugger import Pdb
