commit 0c72d8be2f92008beadf10afc920b2df9c12a044
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Fri Aug 10 13:26:16 2012 -0400

    BUG: fix DataFrame.info with non-unique columns close #1700

diff --git a/RELEASE.rst b/RELEASE.rst
index 407af8cd1..917228925 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -50,6 +50,7 @@ pandas 0.8.2
   - Fixed GroupBy bugs interacting with DatetimeIndex asof / map methods (#1677)
   - Handle factors with NAs in pandas.rpy (#1615)
   - Fix statsmodels import in pandas.stats.var (#1734)
+  - Fix DataFrame repr/info summary with non-unique columns (#1700)
 
 pandas 0.8.1
 ============
diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index abd75fa9a..b8c5002c9 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -1340,7 +1340,8 @@ class DataFrame(NDFrame):
 
     def get_dtype_counts(self):
         counts = {}
-        for _, series in self.iterkv():
+        for i in range(len(self.columns)):
+            series = self.icol(i)
             # endianness can cause dtypes to look different
             dtype_str = str(series.dtype)
             if dtype_str in counts:
diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index aab353a7e..9bfbc21d6 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -3491,6 +3491,14 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
         frame.info(verbose=False)
         sys.stdout = sys.__stdout__
 
+    def test_info_duplicate_columns(self):
+        io = StringIO()
+
+        # it works!
+        frame = DataFrame(np.random.randn(1500, 4),
+                          columns=['a', 'a', 'b', 'b'])
+        frame.info(buf=io)
+
     def test_dtypes(self):
         self.mixed_frame['bool'] = self.mixed_frame['A'] > 0
         result = self.mixed_frame.dtypes
