commit 8af5625bbd69e0fd1d3e9ca7b23267aababdee94
Author: Kaiqi Dong <kaiqi@kth.se>
Date:   Wed Apr 15 20:09:31 2020 +0200

    CI: Fix jedi deprecation warning for 0.17.0 on IPython (#33566)
    
    * remove \n from docstring
    
    * fix issue 17038
    
    * revert change
    
    * revert change
    
    * fix jedi ci
    
    * linting and add gh

diff --git a/pandas/tests/frame/test_api.py b/pandas/tests/frame/test_api.py
index 4149485be..ec8613faa 100644
--- a/pandas/tests/frame/test_api.py
+++ b/pandas/tests/frame/test_api.py
@@ -529,7 +529,18 @@ class TestDataFrameMisc:
 
         code = "import pandas as pd; df = pd.DataFrame()"
         await ip.run_code(code)
-        with tm.assert_produces_warning(None):
+
+        # TODO: remove it when Ipython updates
+        # GH 33567, jedi version raises Deprecation warning in Ipython
+        import jedi
+
+        if jedi.__version__ < "0.17.0":
+            warning = tm.assert_produces_warning(None)
+        else:
+            warning = tm.assert_produces_warning(
+                DeprecationWarning, check_stacklevel=False
+            )
+        with warning:
             with provisionalcompleter("ignore"):
                 list(ip.Completer.completions("df.", 1))
 
diff --git a/pandas/tests/resample/test_resampler_grouper.py b/pandas/tests/resample/test_resampler_grouper.py
index 03c1445e0..035698687 100644
--- a/pandas/tests/resample/test_resampler_grouper.py
+++ b/pandas/tests/resample/test_resampler_grouper.py
@@ -28,7 +28,15 @@ async def test_tab_complete_ipython6_warning(ip):
     )
     await ip.run_code(code)
 
-    with tm.assert_produces_warning(None):
+    # TODO: remove it when Ipython updates
+    # GH 33567, jedi version raises Deprecation warning in Ipython
+    import jedi
+
+    if jedi.__version__ < "0.17.0":
+        warning = tm.assert_produces_warning(None)
+    else:
+        warning = tm.assert_produces_warning(DeprecationWarning, check_stacklevel=False)
+    with warning:
         with provisionalcompleter("ignore"):
             list(ip.Completer.completions("rs.", 1))
 
diff --git a/pandas/tests/series/test_api.py b/pandas/tests/series/test_api.py
index 302ca8d1a..a6430b452 100644
--- a/pandas/tests/series/test_api.py
+++ b/pandas/tests/series/test_api.py
@@ -491,7 +491,18 @@ class TestSeriesMisc:
 
         code = "import pandas as pd; s = pd.Series()"
         await ip.run_code(code)
-        with tm.assert_produces_warning(None):
+
+        # TODO: remove it when Ipython updates
+        # GH 33567, jedi version raises Deprecation warning in Ipython
+        import jedi
+
+        if jedi.__version__ < "0.17.0":
+            warning = tm.assert_produces_warning(None)
+        else:
+            warning = tm.assert_produces_warning(
+                DeprecationWarning, check_stacklevel=False
+            )
+        with warning:
             with provisionalcompleter("ignore"):
                 list(ip.Completer.completions("s.", 1))
 
