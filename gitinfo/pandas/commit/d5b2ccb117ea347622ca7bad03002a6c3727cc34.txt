commit d5b2ccb117ea347622ca7bad03002a6c3727cc34
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Sat Jul 13 11:58:29 2013 -0400

    BUG: raise on invalid colormap for older mpl

diff --git a/pandas/tests/test_graphics.py b/pandas/tests/test_graphics.py
index f1e4ef110..41297e3e1 100644
--- a/pandas/tests/test_graphics.py
+++ b/pandas/tests/test_graphics.py
@@ -990,8 +990,7 @@ class TestDataFrameGroupByPlots(unittest.TestCase):
             pass
 
     def test_invalid_colormap(self):
-        df = DataFrame(np.random.randn(500, 2), columns=['A', 'B'])
-
+        df = DataFrame(np.random.randn(3, 2), columns=['A', 'B'])
         self.assertRaises(ValueError, df.plot, colormap='invalid_colormap')
 
 
diff --git a/pandas/tools/plotting.py b/pandas/tools/plotting.py
index 0052ed1ce..eda3fd067 100644
--- a/pandas/tools/plotting.py
+++ b/pandas/tools/plotting.py
@@ -91,14 +91,16 @@ mpl_stylesheet = {
 def _get_standard_kind(kind):
     return {'density': 'kde'}.get(kind, kind)
 
-def _get_standard_colors(num_colors=None, colormap=None,
-                        color_type='default', color=None):
+def _get_standard_colors(num_colors=None, colormap=None, color_type='default',
+                         color=None):
     import matplotlib.pyplot as plt
 
     if color is None and colormap is not None:
         if isinstance(colormap, basestring):
             import matplotlib.cm as cm
             colormap = cm.get_cmap(colormap)
+            if colormap is None:
+                raise ValueError("Colormap {0} is not recognized")
         colors = map(colormap, np.linspace(0, 1, num=num_colors))
     elif color is not None:
         if colormap is not None:
