commit 27ebb3e1e40513ad5f8919a5bbc7298e2e070a39
Author: fl4p <41345894+fl4p@users.noreply.github.com>
Date:   Thu Jul 19 03:41:34 2018 +0200

    Fix memory leak in roll_quantile (#21966)

diff --git a/doc/source/whatsnew/v0.23.4.txt b/doc/source/whatsnew/v0.23.4.txt
index f1cedf139..69525aaea 100644
--- a/doc/source/whatsnew/v0.23.4.txt
+++ b/doc/source/whatsnew/v0.23.4.txt
@@ -31,6 +31,7 @@ Bug Fixes
 **Groupby/Resample/Rolling**
 
 - Bug where calling :func:`DataFrameGroupBy.agg` with a list of functions including ``ohlc`` as the non-initial element would raise a ``ValueError`` (:issue:`21716`)
+- Bug in ``roll_quantile`` caused a memory leak when calling ``.rolling(...).quantile(q)`` with ``q`` in (0,1) (:issue:`21965`)
 -
 
 **Conversion**
diff --git a/pandas/_libs/window.pyx b/pandas/_libs/window.pyx
index 9e704a9bd..cea77e2c8 100644
--- a/pandas/_libs/window.pyx
+++ b/pandas/_libs/window.pyx
@@ -1481,6 +1481,8 @@ def roll_quantile(ndarray[float64_t, cast=True] input, int64_t win,
             else:
                 output[i] = NaN
 
+    skiplist_destroy(skiplist)
+
     return output
 
 
