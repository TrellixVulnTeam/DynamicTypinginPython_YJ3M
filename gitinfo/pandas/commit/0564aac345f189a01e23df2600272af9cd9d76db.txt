commit 0564aac345f189a01e23df2600272af9cd9d76db
Author: jreback <jeff@reback.net>
Date:   Thu Jan 16 12:46:20 2014 -0500

    PERF: perf improvments in indexing with object dtypes (GH5968)

diff --git a/doc/source/release.rst b/doc/source/release.rst
index f1d13645f..15d543236 100644
--- a/doc/source/release.rst
+++ b/doc/source/release.rst
@@ -83,6 +83,7 @@ Improvements to existing features
   - pd.show_versions() is now available for convenience when reporting issues.
   - perf improvements to Series.str.extract (:issue:`5944`)
   - perf improvments in ``dtypes/ftypes`` methods (:issue:`5968`)
+  - perf improvments in indexing with object dtypes (:issue:`5968`)
 
 .. _release.bug_fixes-0.13.1:
 
diff --git a/pandas/core/internals.py b/pandas/core/internals.py
index 354eadc7c..ca16be1b5 100644
--- a/pandas/core/internals.py
+++ b/pandas/core/internals.py
@@ -1889,7 +1889,10 @@ def make_block(values, items, ref_items, klass=None, ndim=None, dtype=None,
 
             if np.prod(values.shape):
                 flat = values.ravel()
-                inferred_type = lib.infer_dtype(flat)
+
+                # try with just the first element; we just need to see if
+                # this is a datetime or not
+                inferred_type = lib.infer_dtype(flat[0:1])
                 if inferred_type in ['datetime', 'datetime64']:
 
                     # we have an object array that has been inferred as
diff --git a/vb_suite/indexing.py b/vb_suite/indexing.py
index beefec256..dcfda997f 100644
--- a/vb_suite/indexing.py
+++ b/vb_suite/indexing.py
@@ -167,3 +167,10 @@ frame_iloc_dups = Benchmark('df2.iloc[idx]', setup,
 
 frame_loc_dups = Benchmark('df2.loc[idx]', setup,
                             start_date=datetime(2013, 1, 1))
+
+setup = common_setup + """
+df = DataFrame(dict( A = [ 'foo'] * 1000000))
+"""
+
+frame_iloc_big = Benchmark('df.iloc[:100,0]', setup,
+                            start_date=datetime(2013, 1, 1))
