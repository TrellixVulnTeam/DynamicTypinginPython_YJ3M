commit a61218d9ed92eeb31c83fa6517a740c54d907f5d
Author: Jeff Reback <jeff@reback.net>
Date:   Fri Jul 5 09:32:03 2019 -0400

    STYLE: add black makefile & skip some dirs (#27231)

diff --git a/Makefile b/Makefile
index 956ff5233..a02fe145c 100644
--- a/Makefile
+++ b/Makefile
@@ -1,7 +1,4 @@
-tseries: pandas/_libs/lib.pyx pandas/_libs/tslib.pyx pandas/_libs/hashtable.pyx
-	python setup.py build_ext --inplace
-
-.PHONY : develop build clean clean_pyc tseries doc
+.PHONY : develop build clean clean_pyc doc lint-diff black
 
 clean:
 	-python setup.py clean
@@ -15,8 +12,11 @@ build: clean_pyc
 lint-diff:
 	git diff upstream/master --name-only -- "*.py" | xargs flake8
 
+black:
+	black . --exclude '(asv_bench/env|\.egg|\.git|\.hg|\.mypy_cache|\.nox|\.tox|\.venv|_build|buck-out|build|dist)'
+
 develop: build
-	-python setup.py develop
+	python setup.py develop
 
 doc:
 	-rm -rf doc/build doc/source/generated
diff --git a/ci/code_checks.sh b/ci/code_checks.sh
index 1494452ca..fec2a8829 100755
--- a/ci/code_checks.sh
+++ b/ci/code_checks.sh
@@ -56,7 +56,7 @@ if [[ -z "$CHECK" || "$CHECK" == "lint" ]]; then
     black --version
 
     MSG='Checking black formatting' ; echo $MSG
-    black . --check
+	black . --check --exclude '(asv_bench/env|\.egg|\.git|\.hg|\.mypy_cache|\.nox|\.tox|\.venv|_build|buck-out|build|dist)'
     RET=$(($RET + $?)) ; echo $MSG "DONE"
 
     # `setup.cfg` contains the list of error codes that are being ignored in flake8
