commit 04b0f0763e7ed249f45fd207aff485487ff9a6fc
Author: jreback <jeff@reback.net>
Date:   Wed Jul 30 12:34:40 2014 -0400

    PERF: groupby / frame apply optimization

diff --git a/pandas/core/groupby.py b/pandas/core/groupby.py
index 9659d4c3b..eabe1b430 100644
--- a/pandas/core/groupby.py
+++ b/pandas/core/groupby.py
@@ -635,11 +635,11 @@ class GroupBy(PandasObject):
 
         @wraps(func)
         def f(g):
-            # ignore SettingWithCopy here in case the user mutates
-            with option_context('mode.chained_assignment',None):
-                return func(g, *args, **kwargs)
+            return func(g, *args, **kwargs)
 
-        return self._python_apply_general(f)
+        # ignore SettingWithCopy here in case the user mutates
+        with option_context('mode.chained_assignment',None):
+            return self._python_apply_general(f)
 
     def _python_apply_general(self, f):
         keys, values, mutated = self.grouper.apply(f, self._selected_obj,
