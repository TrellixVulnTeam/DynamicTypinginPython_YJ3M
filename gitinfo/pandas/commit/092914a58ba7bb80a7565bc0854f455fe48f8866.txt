commit 092914a58ba7bb80a7565bc0854f455fe48f8866
Author: y-p <yoval@gmx.com>
Date:   Tue Feb 4 12:49:02 2014 +0200

    BLD: travis, cache, fix test for cython files changed

diff --git a/ci/prep_ccache.sh b/ci/prep_ccache.sh
index 843e94d47..dfbef7c9f 100755
--- a/ci/prep_ccache.sh
+++ b/ci/prep_ccache.sh
@@ -22,7 +22,7 @@ if [ "$IRON_TOKEN" ]; then
     fi
 
     # did the last commit change cython files?
-    git show --pretty="format:" --name-only HEAD~5.. --first-parent | grep -P "pyx|pxd"
+    git diff HEAD~5 | grep diff | grep -P "pyx|pxd"
 
     if [ "$?" != "0" ]; then
         # nope, reuse cython files
