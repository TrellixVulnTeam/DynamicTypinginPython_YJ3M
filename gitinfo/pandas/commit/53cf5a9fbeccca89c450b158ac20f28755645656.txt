commit 53cf5a9fbeccca89c450b158ac20f28755645656
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Wed Oct 31 19:10:14 2012 -0400

    ENH: also catch UnboundLocalError. close #2068

diff --git a/pandas/core/frame.py b/pandas/core/frame.py
index 7dff897fa..1b4662e92 100644
--- a/pandas/core/frame.py
+++ b/pandas/core/frame.py
@@ -3854,7 +3854,7 @@ class DataFrame(NDFrame):
                     if hasattr(e, 'args'):
                         k = res_index[i]
                         e.args = e.args + ('occurred at index %s' % str(k),)
-                except NameError:  # pragma: no cover
+                except (NameError, UnboundLocalError):  # pragma: no cover
                     # no k defined yet
                     pass
                 raise
