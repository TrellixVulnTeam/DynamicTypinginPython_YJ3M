commit a39d9c8a5901be8bf151bb65f7f1dd6896a51acb
Author: Tom Augspurger <TomAugspurger@users.noreply.github.com>
Date:   Tue Nov 19 07:19:15 2019 -0600

    CI: Use conda for 3.8 build (#29696)

diff --git a/.travis.yml b/.travis.yml
index 048736e4b..0acd386ee 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -30,11 +30,9 @@ matrix:
       - python: 3.5
 
     include:
-    - dist: bionic
-      # 18.04
-      python: 3.8.0
+    - dist: trusty
       env:
-        - JOB="3.8-dev" PATTERN="(not slow and not network)"
+        - JOB="3.8" ENV_FILE="ci/deps/travis-38.yaml" PATTERN="(not slow and not network)"
 
     - dist: trusty
       env:
@@ -88,7 +86,7 @@ install:
 script:
   - echo "script start"
   - echo "$JOB"
-  - if [ "$JOB" != "3.8-dev" ]; then source activate pandas-dev; fi
+  - source activate pandas-dev
   - ci/run_tests.sh
 
 after_script:
diff --git a/ci/build38.sh b/ci/build38.sh
deleted file mode 100644
index 66eb5cad3..000000000
--- a/ci/build38.sh
+++ /dev/null
@@ -1,19 +0,0 @@
-#!/bin/bash -e
-# Special build for python3.8 until numpy puts its own wheels up
-
-sudo apt-get install build-essential gcc xvfb
-pip install --no-deps -U pip wheel setuptools
-pip install python-dateutil pytz cython pytest pytest-xdist hypothesis
-
-# Possible alternative for getting numpy:
-pip install --pre -f https://7933911d6844c6c53a7d-47bd50c35cd79bd838daf386af554a83.ssl.cf2.rackcdn.com/ numpy
-
-python setup.py build_ext -inplace
-python -m pip install -v --no-build-isolation -e .
-
-python -c "import sys; print(sys.version_info)"
-python -c "import pandas as pd"
-python -c "import hypothesis"
-
-# TODO: Is there anything else in setup_env that we really want to do?
-# ci/setup_env.sh
diff --git a/ci/deps/travis-38.yaml b/ci/deps/travis-38.yaml
new file mode 100644
index 000000000..bd62ffa92
--- /dev/null
+++ b/ci/deps/travis-38.yaml
@@ -0,0 +1,16 @@
+name: pandas-dev
+channels:
+  - defaults
+  - conda-forge
+dependencies:
+  - python=3.8.*
+  - cython>=0.29.13
+  - numpy
+  - python-dateutil
+  - nomkl
+  - pytz
+  # universal
+  - pytest>=5.0.0
+  - pytest-xdist>=1.29.0
+  - hypothesis>=3.58.0
+  - pip
diff --git a/ci/setup_env.sh b/ci/setup_env.sh
index 0e8d6fb7c..3d79c0cfd 100755
--- a/ci/setup_env.sh
+++ b/ci/setup_env.sh
@@ -1,10 +1,5 @@
 #!/bin/bash -e
 
-if [ "$JOB" == "3.8-dev" ]; then
-    /bin/bash ci/build38.sh
-    exit 0
-fi
-
 # edit the locale file if needed
 if [ -n "$LOCALE_OVERRIDE" ]; then
     echo "Adding locale to the first line of pandas/__init__.py"
