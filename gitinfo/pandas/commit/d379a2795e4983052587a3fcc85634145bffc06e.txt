commit d379a2795e4983052587a3fcc85634145bffc06e
Author: Phillip Cloud <cpcloud@gmail.com>
Date:   Sun Apr 6 12:51:08 2014 -0400

    BENCH: add vbench for issue 6697

diff --git a/vb_suite/replace.py b/vb_suite/replace.py
index 517e2da59..46da3e069 100644
--- a/vb_suite/replace.py
+++ b/vb_suite/replace.py
@@ -13,17 +13,24 @@ except NameError:
     date_range = DateRange
 
 ts = Series(np.random.randn(N), index=rng)
+"""
 
-def replace_slow(ser, old, new):
-    lib.slow_replace(ser.values, old, new)
-    return ser
+large_dict_setup = """from pandas_vb_common import *
+from pandas.compat import range
+n = 10 ** 6
+start_value = 10 ** 5
+to_rep = dict((i, start_value + i) for i in range(n))
+s = Series(np.random.randint(n, size=10 ** 3))
 """
 
 replace_fillna = Benchmark('ts.fillna(0., inplace=True)', common_setup,
+                           name='replace_fillna',
                            start_date=datetime(2012, 4, 4))
 replace_replacena = Benchmark('ts.replace(np.nan, 0., inplace=True)',
                               common_setup,
+                              name='replace_replacena',
                               start_date=datetime(2012, 5, 15))
-
-# replace_putmask = Benchmark('replace_slow(ts, np.nan, 0.)', common_setup,
-#                             start_date=datetime(2012, 5, 15))
+replace_large_dict = Benchmark('s.replace(to_rep, inplace=True)',
+                               large_dict_setup,
+                               name='replace_large_dict',
+                               start_date=datetime(2014, 4, 6))
