commit 77e24552a617abccba732861ae13b1a87ef5fe7f
Author: Chang She <chang@lambdafoundry.com>
Date:   Wed Mar 27 14:45:19 2013 -0700

    TST: fix broken test case on py3 and add assertRaises #3179

diff --git a/pandas/tseries/tests/test_period.py b/pandas/tseries/tests/test_period.py
index 90b66dcd9..a3bfccb09 100644
--- a/pandas/tseries/tests/test_period.py
+++ b/pandas/tseries/tests/test_period.py
@@ -1929,10 +1929,12 @@ class TestPeriodIndex(TestCase):
     def test_get_loc_msg(self):
         idx = period_range('2000-1-1', freq='A', periods=10)
         bad_period = Period('2012', 'A')
+        self.assertRaises(KeyError, idx.get_loc, bad_period)
+
         try:
             idx.get_loc(bad_period)
         except KeyError as inst:
-            self.assert_(inst.message == bad_period)
+            self.assert_(inst.args[0] == bad_period)
 
     def test_append_concat(self):
         # #1815
