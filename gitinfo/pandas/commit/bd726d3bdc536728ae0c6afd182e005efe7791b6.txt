commit bd726d3bdc536728ae0c6afd182e005efe7791b6
Author: Jeff Reback <jeff@reback.net>
Date:   Tue Nov 27 20:48:23 2012 -0500

    update v0.10.0 whatsnew docs for PyTables Table features
    added additional test cases for Terms in test_pytables.py
    subtle change to parsing order in Terms (e.g. '<=' would only cause '<' to be picked up)

diff --git a/doc/source/v0.10.0.txt b/doc/source/v0.10.0.txt
index ff4a4d53f..8579976b5 100644
--- a/doc/source/v0.10.0.txt
+++ b/doc/source/v0.10.0.txt
@@ -9,6 +9,68 @@ enhancements along with a large number of bug fixes.
 New features
 ~~~~~~~~~~~~
 
+  - Docs for PyTables ``Table`` format & several enhancements to the api. Here is a taste of what to expect. The 
+
+    `full docs for tables
+    <https://github.com/pydata/pandas/blob/master/io.html#hdf5-pytables>`__
+
+
+    .. ipython:: python
+       :suppress:
+       :okexcept:
+
+       os.remove('store.h5')
+
+    .. ipython:: python
+
+       store = HDFStore('store.h5')
+       df = DataFrame(randn(8, 3), index=date_range('1/1/2000', periods=8),
+                  columns=['A', 'B', 'C'])
+       df 
+
+       # appending data frames
+       df1 = df[0:4]
+       df2 = df[4:]
+       store.append('df', df1)
+       store.append('df', df2)
+       store
+
+       # selecting the entire store
+       store.select('df')
+
+    .. ipython:: python
+       :suppress:
+
+       store.close()
+       import os
+       os.remove('store.h5')
+
+    .. ipython:: python
+
+       from pandas.io.pytables import Term
+       store = HDFStore('store.h5')
+       wp = Panel(randn(2, 5, 4), items=['Item1', 'Item2'],
+              major_axis=date_range('1/1/2000', periods=5),
+              minor_axis=['A', 'B', 'C', 'D'])
+       wp
+
+       # storing a panel
+       store.append('wp',wp)
+
+       # selecting via A QUERY
+       store.select('wp',
+         [ Term('major_axis>20000102'), Term('minor_axis', '=', ['A','B']) ])
+
+       # removing data from tables
+       store.remove('wp', [ 'major_axis', '>', wp.major_axis[3] ])
+       store.select('wp')
+
+    .. ipython:: python
+       :suppress:
+
+       store.close()
+       import os
+       os.remove('store.h5')
 
 API changes
 ~~~~~~~~~~~
diff --git a/pandas/io/pytables.py b/pandas/io/pytables.py
index 686afbf73..1261ebbc9 100644
--- a/pandas/io/pytables.py
+++ b/pandas/io/pytables.py
@@ -1751,7 +1751,7 @@ class Term(object):
         
     """
 
-    _ops     = ['<','<=','>','>=','=','!=']
+    _ops     = ['<=','<','>=','>','!=','=']
     _search  = re.compile("^(?P<field>\w+)(?P<op>%s)(?P<value>.+)$" % '|'.join(_ops))
     _index   = ['index','major_axis','major']
     _column  = ['column','minor_axis','minor']
@@ -1765,7 +1765,7 @@ class Term(object):
         self.condition  = None
 
         # unpack lists/tuples in field
-        if isinstance(field,(tuple,list)):
+        while(isinstance(field,(tuple,list))):
             f = field
             field = f[0]
             if len(f) > 1:
@@ -1923,8 +1923,8 @@ class Selection(object):
         if not isinstance(where, (list,tuple)):
             where = [ where ]
         else:
-            # do we have a single list/tuple
-            if not isinstance(where[0], (list,tuple)):
+            # do we have all list/tuple
+            if not any([ isinstance(w, (list,tuple,Term)) for w in where ]):
                 where = [ where ]
 
         return [ Term(c, kinds = self.table.kinds_map()) for c in where ]
diff --git a/pandas/io/tests/test_pytables.py b/pandas/io/tests/test_pytables.py
index bd0cf7f52..0f7da8e82 100644
--- a/pandas/io/tests/test_pytables.py
+++ b/pandas/io/tests/test_pytables.py
@@ -350,29 +350,44 @@ class TestHDFStore(unittest.TestCase):
 
     def test_terms(self):
 
+        wp = tm.makePanel()
+        self.store.put('wp', wp, table=True)
+
+        # some invalid terms
+        terms = [
+            [ 'minor', ['A','B'] ],
+            [ 'index', ['20121114'] ],
+            [ 'index', ['20121114', '20121114'] ],
+            ]
+        for t in terms:
+            self.assertRaises(Exception, self.store.select, 'wp', t)
+ 
+        self.assertRaises(Exception, Term.__init__)
+        self.assertRaises(Exception, Term.__init__, 'blah')
+        self.assertRaises(Exception, Term.__init__, 'index')
+        self.assertRaises(Exception, Term.__init__, 'index', '==')
+        self.assertRaises(Exception, Term.__init__, 'index', '>', 5)
+
+        result = self.store.select('wp',[ Term('major_axis<20000108'), Term('minor_axis', '=', ['A','B']) ])
+        expected = wp.truncate(after='20000108').reindex(minor=['A', 'B'])
+        tm.assert_panel_equal(result, expected)
+
+        # valid terms
         terms = [
             dict(field = 'index', op = '>', value = '20121114'),
             ('index', '20121114'),
             ('index', '>', '20121114'),
-            ('index', ['20121114','20121114']),
+            (('index', ['20121114','20121114']),),
             ('index', datetime(2012,11,14)),
             'index>20121114',
             'major>20121114',
             'major_axis>20121114',
-            ('minor', ['A','B']),
-            ('minor_axis', ['A','B']),
-            ('column', ['A','B']),
+            (('minor', ['A','B']),),
+            (('minor_axis', ['A','B']),),
+            ((('minor_axis', ['A','B']),),),
+            (('column', ['A','B']),),
             ]
 
-        self.assertRaises(Exception, Term.__init__)
-        self.assertRaises(Exception, Term.__init__, 'blah')
-        self.assertRaises(Exception, Term.__init__, 'index')
-        self.assertRaises(Exception, Term.__init__, 'index', '==')
-        self.assertRaises(Exception, Term.__init__, 'index', '>', 5)
-
-        # test em
-        wp = tm.makePanel()
-        self.store.put('wp', wp, table=True)
         for t in terms:
            self.store.select('wp', t)
  
@@ -712,12 +727,16 @@ class TestHDFStore(unittest.TestCase):
         date = wp.major_axis[len(wp.major_axis) // 2]
 
         crit1 = ('index','>=',date)
-        crit2 = ('column', ['A', 'D'])
+        crit2 = ('column', '=', ['A', 'D'])
 
         result = self.store.select('wp', [crit1, crit2])
         expected = wp.truncate(before=date).reindex(minor=['A', 'D'])
         tm.assert_panel_equal(result, expected)
 
+        result = self.store.select('wp', [ 'major_axis>=20000124', ('minor_axis', '=', ['A','B']) ])
+        expected = wp.truncate(before='20000124').reindex(minor=['A', 'B'])
+        tm.assert_panel_equal(result, expected)
+
     def test_frame_select(self):
         df = tm.makeTimeDataFrame()
         self.store.put('frame', df, table=True)
