commit 8e144c7fab675dc646f9d0d3a5d7191da01698e5
Author: y-p <yoval@gmx.com>
Date:   Sat Apr 6 20:27:59 2013 +0300

    TST: refurbished to_csv ignores file mode GH3263

diff --git a/pandas/tests/test_frame.py b/pandas/tests/test_frame.py
index 39df7ed31..213547c41 100644
--- a/pandas/tests/test_frame.py
+++ b/pandas/tests/test_frame.py
@@ -4600,6 +4600,20 @@ class TestDataFrame(unittest.TestCase, CheckIndexing,
              self.assertRaises(ValueError, self.frame2.to_csv, path,
                                header=['AA', 'X'])
 
+        with ensure_clean(pname) as path:
+            import pandas as pd
+            df1 = DataFrame(np.random.randn(3, 1))
+            df2 = DataFrame(np.random.randn(3, 1))
+
+            df1.to_csv(path)
+            df2.to_csv(path,mode='a',header=False)
+            xp = pd.concat([df1,df2])
+            rs = pd.read_csv(path,index_col=0)
+            rs.columns = map(int,rs.columns)
+            xp.columns = map(int,xp.columns)
+            assert_frame_equal(xp,rs)
+
+
     @slow
     def test_to_csv_moar(self):
         from pandas.util.testing import makeCustomDataframe as mkdf
