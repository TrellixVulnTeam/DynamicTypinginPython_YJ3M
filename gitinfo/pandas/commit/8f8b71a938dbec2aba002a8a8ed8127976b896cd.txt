commit 8f8b71a938dbec2aba002a8a8ed8127976b896cd
Author: Yaroslav Halchenko <debian@onerussian.com>
Date:   Thu Apr 12 15:17:25 2012 -0400

    ENH: @network decorator for tests

diff --git a/pandas/util/testing.py b/pandas/util/testing.py
index 9552ed230..7a41b32ba 100644
--- a/pandas/util/testing.py
+++ b/pandas/util/testing.py
@@ -294,3 +294,40 @@ def skip_if_no_package(*args, **kwargs):
     package_check(exc_failed_import=SkipTest,
                   exc_failed_check=SkipTest,
                   *args, **kwargs)
+
+#
+# Additional tags decorators for nose
+#
+def network(t):
+    """
+    Label a test as requiring network connection.
+
+    In some cases it is not possible to assume network presence (e.g. Debian
+    build hosts).
+
+    Parameters
+    ----------
+    t : callable
+        The test requiring network connectivity.
+
+    Returns
+    -------
+    t : callable
+        The decorated test `t`.
+
+    Examples
+    --------
+    A test can be decorated as requiring network like this::
+
+      from pandas.util.testing import *
+
+      @network
+      def test_network(self):
+          print 'Fetch the stars from http://'
+
+    And use ``nosetests -a '!network'`` to exclude running tests requiring
+    network connectivity.
+    """
+
+    t.network = True
+    return t
