commit 1f481e65b167ef331db105bb564e9dc1e513a713
Author: Wes McKinney <wesmckinn@gmail.com>
Date:   Tue May 8 19:33:04 2012 -0400

    BUG: fix multiindex formatting problem close #1217

diff --git a/RELEASE.rst b/RELEASE.rst
index a9d6976b0..bcd41813f 100644
--- a/RELEASE.rst
+++ b/RELEASE.rst
@@ -48,6 +48,8 @@ pandas 0.8.0
   - Can create MultiIndex by passing list of lists or list of arrays to Series,
     DataFrame constructor, etc. (#831)
   - Can pass arrays in addition to column names to DataFrame.set_index (#402)
+  - Improve the speed of "square" reindexing of homogeneous DataFrame objects
+    by significant margin (#836)
 
 **API Changes**
 
@@ -72,6 +74,8 @@ pandas 0.8.0
   - Fix imprecise logic causing weird Series results from .apply (#1183)
   - Unstack multiple levels in one shot, avoiding empty columns in some
     cases. Fix pivot table bug (#1181)
+  - Fix formatting of MultiIndex on Series/DataFrame when index name coincides
+    with label (#1217)
 
 pandas 0.7.3
 ============
diff --git a/pandas/core/index.py b/pandas/core/index.py
index 139d915e9..ca9e299c2 100644
--- a/pandas/core/index.py
+++ b/pandas/core/index.py
@@ -1349,7 +1349,9 @@ class MultiIndex(Index):
             result_levels.append(level)
 
         if sparsify:
-            result_levels = _sparsify(result_levels)
+            # little bit of a kludge job for #1217
+            result_levels = _sparsify(result_levels,
+                                      start=int(names))
 
         if adjoin:
             return com.adjoin(space, *result_levels).split('\n')
@@ -2213,14 +2215,14 @@ class MultiIndex(Index):
 # For utility purposes
 
 
-def _sparsify(label_list):
+def _sparsify(label_list, start=0):
     pivoted = zip(*label_list)
     k = len(label_list)
 
-    result = [pivoted[0]]
-    prev = pivoted[0]
+    result = pivoted[:start + 1]
+    prev = pivoted[start]
 
-    for cur in pivoted[1:]:
+    for cur in pivoted[start + 1:]:
         sparse_cur = []
 
         for i, (p, t) in enumerate(zip(prev, cur)):
diff --git a/pandas/tests/test_multilevel.py b/pandas/tests/test_multilevel.py
index 257d55b43..ed4184c69 100644
--- a/pandas/tests/test_multilevel.py
+++ b/pandas/tests/test_multilevel.py
@@ -173,6 +173,15 @@ class TestMultiLevel(unittest.TestCase):
         self.frame.T.to_string(buf=buf)
         self.ymd.T.to_string(buf=buf)
 
+    def test_repr_name_coincide(self):
+        index = MultiIndex.from_tuples([('a', 0, 'foo'), ('b', 1, 'bar')],
+                                       names=['a', 'b', 'c'])
+
+        df = DataFrame({'value': [0, 1]}, index=index)
+
+        lines = repr(df).split('\n')
+        self.assert_(lines[2].startswith('a 0 foo'))
+
     def test_getitem_simple(self):
         df = self.frame.T
 
