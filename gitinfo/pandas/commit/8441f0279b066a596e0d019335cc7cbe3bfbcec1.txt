commit 8441f0279b066a596e0d019335cc7cbe3bfbcec1
Author: Jeff Reback <jeff@reback.net>
Date:   Tue Nov 7 10:08:30 2017 -0500

    COMPAT: 32-bit indexer (#18149)
    
    xref #17755

diff --git a/pandas/tests/indexes/period/test_indexing.py b/pandas/tests/indexes/period/test_indexing.py
index 1d44a4bd9..d20ed66c0 100644
--- a/pandas/tests/indexes/period/test_indexing.py
+++ b/pandas/tests/indexes/period/test_indexing.py
@@ -501,7 +501,7 @@ class TestIndexing(object):
 
         result = idx1.get_indexer_non_unique(idx2)
         expected_indexer = np.array([1, 0, 2, -1, -1], dtype=np.intp)
-        expected_missing = np.array([2, 3], dtype=np.intp)
+        expected_missing = np.array([2, 3], dtype=np.int64)
 
         tm.assert_numpy_array_equal(result[0], expected_indexer)
         tm.assert_numpy_array_equal(result[1], expected_missing)
