commit f49ed8112807cf953d75c15ffc91fa8a54811f27
Author: Simon Hawkins <simonjayhawkins@gmail.com>
Date:   Mon Dec 31 23:19:18 2018 +0000

    REF/TST: use monkeypatch in mock clipboard fixture (#24522)

diff --git a/pandas/tests/io/test_clipboard.py b/pandas/tests/io/test_clipboard.py
index bb73c6bc6..99bece0ef 100644
--- a/pandas/tests/io/test_clipboard.py
+++ b/pandas/tests/io/test_clipboard.py
@@ -76,7 +76,7 @@ def df(request):
 
 
 @pytest.fixture
-def mock_clipboard(mock, request):
+def mock_clipboard(monkeypatch, request):
     """Fixture mocking clipboard IO.
 
     This mocks pandas.io.clipboard.clipboard_get and
@@ -98,12 +98,10 @@ def mock_clipboard(mock, request):
     def _mock_get():
         return _mock_data[request.node.name]
 
-    mock_set = mock.patch("pandas.io.clipboard.clipboard_set",
-                          side_effect=_mock_set)
-    mock_get = mock.patch("pandas.io.clipboard.clipboard_get",
-                          side_effect=_mock_get)
-    with mock_get, mock_set:
-        yield _mock_data
+    monkeypatch.setattr("pandas.io.clipboard.clipboard_set", _mock_set)
+    monkeypatch.setattr("pandas.io.clipboard.clipboard_get", _mock_get)
+
+    yield _mock_data
 
 
 @pytest.mark.clipboard
