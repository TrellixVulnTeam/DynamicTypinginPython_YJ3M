commit 49b51b81f8e1eec2ae6740919ba14fc143f8ac69
Author: Marc Garcia <garcia.marc@gmail.com>
Date:   Mon Dec 17 12:42:55 2018 +0000

    DOC: Not pushing the docs to github pages in PRs (#24316)

diff --git a/ci/build_docs.sh b/ci/build_docs.sh
index 0b1ea2329..fbb27286e 100755
--- a/ci/build_docs.sh
+++ b/ci/build_docs.sh
@@ -25,28 +25,33 @@ if [ "$DOC" ]; then
     echo # Create and send docs #
     echo ########################
 
-    cd build/html
-    git config --global user.email "pandas-docs-bot@localhost.foo"
-    git config --global user.name "pandas-docs-bot"
-
-    # create the repo
-    git init
-
-    touch README
-    git add README
-    git commit -m "Initial commit" --allow-empty
-    git branch gh-pages
-    git checkout gh-pages
-    touch .nojekyll
-    git add --all .
-    git commit -m "Version" --allow-empty
-
-    git remote remove origin
-    git remote add origin "https://${PANDAS_GH_TOKEN}@github.com/pandas-dev/pandas-docs-travis.git"
-    git fetch origin
-    git remote -v
-
-    git push origin gh-pages -f
+    echo "Only uploading docs when TRAVIS_PULL_REQUEST is 'false'"
+    echo "TRAVIS_PULL_REQUEST: ${TRAVIS_PULL_REQUEST}"
+
+    if [ "${TRAVIS_PULL_REQUEST}" == "false" ]; then
+        cd build/html
+        git config --global user.email "pandas-docs-bot@localhost.foo"
+        git config --global user.name "pandas-docs-bot"
+
+        # create the repo
+        git init
+
+        touch README
+        git add README
+        git commit -m "Initial commit" --allow-empty
+        git branch gh-pages
+        git checkout gh-pages
+        touch .nojekyll
+        git add --all .
+        git commit -m "Version" --allow-empty
+
+        git remote remove origin
+        git remote add origin "https://${PANDAS_GH_TOKEN}@github.com/pandas-dev/pandas-docs-travis.git"
+        git fetch origin
+        git remote -v
+
+        git push origin gh-pages -f
+    fi
 fi
 
 exit 0
