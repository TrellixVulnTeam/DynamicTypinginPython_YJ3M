commit cf76ddaf7590717273c4fbc59a9814fa2f8f4c9a
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Sat Nov 23 15:50:30 2019 +0000

    bugfix: lib.gui - Remove non-existant files from recent files list

diff --git a/lib/gui/menu.py b/lib/gui/menu.py
index 48c4daf..a76710c 100644
--- a/lib/gui/menu.py
+++ b/lib/gui/menu.py
@@ -179,8 +179,13 @@ class FileMenu(tk.Menu):  # pylint:disable=too-many-ancestors
             self.clear_recent_files(serializer, menu_file)
         recent_files = serializer.load(menu_file)
         logger.debug("Loaded recent files: %s", recent_files)
+        removed_files = []
         for recent_item in recent_files:
             filename, command = recent_item
+            if not os.path.isfile(filename):
+                logger.debug("File does not exist. Flagging for removal: '%s'", filename)
+                removed_files.append(recent_item)
+                continue
             # Legacy project files didn't have a command stored
             command = command if command else "project"
             logger.debug("processing: ('%s', %s)", filename, command)
@@ -195,6 +200,11 @@ class FileMenu(tk.Menu):  # pylint:disable=too-many-ancestors
             self.recent_menu.add_command(
                 label="{} ({})".format(filename, lbl.title()),
                 command=lambda kw=kwargs, fn=load_func: fn(**kw))
+        if removed_files:
+            for recent_item in removed_files:
+                logger.debug("Removing from recent files: `%s`", recent_item[0])
+                recent_files.remove(recent_item)
+            serializer.save(menu_file, recent_files)
         self.recent_menu.add_separator()
         self.recent_menu.add_command(
             label="Clear recent files",
