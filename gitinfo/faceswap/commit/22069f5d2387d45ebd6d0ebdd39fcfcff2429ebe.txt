commit 22069f5d2387d45ebd6d0ebdd39fcfcff2429ebe
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Wed Jul 3 09:11:58 2019 +0000

    LongRunningTask bugfix

diff --git a/lib/gui/wrapper.py b/lib/gui/wrapper.py
index 7983b97..75a34c2 100644
--- a/lib/gui/wrapper.py
+++ b/lib/gui/wrapper.py
@@ -157,6 +157,7 @@ class FaceswapControl():
     def execute_script(self, command, args):
         """ Execute the requested Faceswap Script """
         logger.debug("Executing Faceswap: (command: '%s', args: %s)", command, args)
+        self.thread = None
         self.command = command
         kwargs = {"stdout": PIPE,
                   "stderr": PIPE,
@@ -190,7 +191,6 @@ class FaceswapControl():
                     logger.debug("Trigger update preview")
                     self.wrapper.tk_vars["updatepreview"].set(True)
                 print(output.strip())
-        self.thread = None
         returncode = self.process.poll()
         message = self.set_final_status(returncode)
         self.wrapper.terminate(message)
@@ -354,6 +354,7 @@ class FaceswapControl():
         else:
             logger.debug("Termination Complete. Cleaning up")
             _ = self.thread.get_result()  # Terminate the LongRunningTask object
+            self.thread = None
 
     def terminate_in_thread(self, command, process):
         """ Terminate the subprocess """
