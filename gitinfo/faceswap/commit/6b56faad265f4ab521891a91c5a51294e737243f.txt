commit 6b56faad265f4ab521891a91c5a51294e737243f
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Fri Oct 11 00:39:21 2019 +0000

    Move utf-8 decoding to subclasses

diff --git a/lib/serializer.py b/lib/serializer.py
index 9370db2..dad5fc6 100644
--- a/lib/serializer.py
+++ b/lib/serializer.py
@@ -100,8 +100,6 @@ class Serializer():
             with open(filename, self._read_option) as s_file:
                 data = s_file.read()
                 logger.debug("stored data type: %s", type(data))
-                if isinstance(data, bytes):
-                    data = data.decode("utf-8")
                 retval = self.unmarshal(data)
         except IOError as err:
             msg = "Error reading from '{}': {}".format(filename, err.strerror)
@@ -189,7 +187,7 @@ class _YAMLSerializer(Serializer):
 
     @classmethod
     def _unmarshal(cls, data):
-        return yaml.load(data)
+        return yaml.load(data.decode("utf-8"))
 
 
 class _JSONSerializer(Serializer):
@@ -204,7 +202,7 @@ class _JSONSerializer(Serializer):
 
     @classmethod
     def _unmarshal(cls, data):
-        return json.loads(data)
+        return json.loads(data.decode("utf-8"))
 
 
 class _PickleSerializer(Serializer):
