commit 0d4f5cf485bf5985afb3916247940bca4cdad9ae
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Thu Jul 25 22:15:12 2019 +0000

    Bugfixes: PingPong Training
    
    Print loss correctly for PingPong Training
    Don't load Analysis stats for PingPong Training

diff --git a/lib/gui/display_analysis.py b/lib/gui/display_analysis.py
index d573ac2..c920327 100644
--- a/lib/gui/display_analysis.py
+++ b/lib/gui/display_analysis.py
@@ -119,6 +119,9 @@ class Analysis(DisplayPage):  # pylint: disable=too-many-ancestors
             logger.debug("Training not running")
             print("Training not running")
             return
+        if session.logging_disabled:
+            logger.trace("Logging disabled. Not triggering analysis update")
+            return
         msg = "Currently running training session"
         self.session = session
         # Reload the state file to get approx currently training iterations
@@ -153,10 +156,14 @@ class Analysis(DisplayPage):  # pylint: disable=too-many-ancestors
     def clear_session(self):
         """ Clear sessions stats """
         logger.debug("Clearing session")
+        if self.session is None:
+            logger.trace("No session loaded. Returning")
+            return
         self.summary = None
         self.stats.session = None
         self.stats.tree_clear()
         self.reset_session_info()
+        self.session = None
 
     def save_session(self):
         """ Save sessions stats to csv """
diff --git a/plugins/train/trainer/_base.py b/plugins/train/trainer/_base.py
index bcaf3f1..aa4b5a7 100644
--- a/plugins/train/trainer/_base.py
+++ b/plugins/train/trainer/_base.py
@@ -155,7 +155,7 @@ class TrainerBase():
         """ Override for specific model loss formatting """
         logger.trace(loss)
         output = ["Loss {}: {:.5f}".format(side.capitalize(), loss[side][0])
-                  for side in sorted(list(loss.keys()))]
+                  for side in sorted(loss.keys())]
         output = ", ".join(output)
         print("[{}] [#{:05d}] {}".format(self.timestamp, self.model.iterations, output), end='\r')
 
@@ -652,7 +652,7 @@ class PingPong():
         self.model = model
         self.sides = sides
         self.side = sorted(sides)[0]
-        self.loss = {side: dict() for side in sides}
+        self.loss = {side: [0] for side in sides}
         logger.debug("Initialized %s", self.__class__.__name__)
 
     def switch(self):
