commit 542c6524cc6cedd21281eae3f9f83c0511afb36e
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Sat Nov 24 23:06:22 2018 +0000

    fix vs2015 detection in setup.py

diff --git a/setup.py b/setup.py
index 04f919b..8804a7a 100755
--- a/setup.py
+++ b/setup.py
@@ -275,27 +275,20 @@ def check_cmake_windows():
 
 
 def check_visual_studio():
-    """ Check Visual Studio 2015 is installed for Windows """
+    """ Check Visual Studio 2015 is installed for Windows
+
+        Somewhat hacky solution which checks for the existence
+        of the VS2015 Performance Report
+    """
     chk = Popen("reg query HKLM\\SOFTWARE\\Microsoft\\VisualStudio\\14.0\\VSPerf",
                 shell=True, stdout=PIPE, stderr=PIPE)
-    stdout, stderr = chk.communicate()
+    _, stderr = chk.communicate()
     if stderr:
         out_error("Visual Studio 2015 could not be found. See "
                   "https://github.com/deepfakes/faceswap/blob/master/"
                   "INSTALL.md#microsoft-visual-studio-2015 for instructions")
         return
-    vspath = [re.sub(" +", " ", line.strip())
-              for line in stdout.decode().splitlines()
-              if line.lower().strip().startswith("vsperfreportpath")][0]
-    vspath = vspath[vspath.find("REG_SZ") + 7:]  # Hacky!
-    vspath = vspath.replace("\\Team Tools\\Performance Tools\\VSPerfReport.exe", "")  # Hacky!
-    version = vspath[vspath.rfind(" ") + 1:]
-    if not version.startswith("14"):
-        out_error("Visual Studio 2015 could not be found. See "
-                  "https://github.com/deepfakes/faceswap/blob/master/"
-                  "INSTALL.md#microsoft-visual-studio-2015 for instructions")
-        return
-    out_info("Visual Studio 2015 version: {}".format(version))
+    out_info("Visual Studio 2015 version: 14.0")
 
 
 def check_cplus_plus():
