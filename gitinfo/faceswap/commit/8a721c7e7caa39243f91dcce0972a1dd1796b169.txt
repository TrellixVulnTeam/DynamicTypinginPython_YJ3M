commit 8a721c7e7caa39243f91dcce0972a1dd1796b169
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Tue Oct 29 11:38:29 2019 +0000

    masks: Ensure blur kernel is odd

diff --git a/lib/faces_detect.py b/lib/faces_detect.py
index 8244189..6512482 100644
--- a/lib/faces_detect.py
+++ b/lib/faces_detect.py
@@ -595,13 +595,17 @@ class Mask():
         ----------
         blur_kernel: int, optional
             The kernel size, in pixels to apply gaussian blurring to the mask. Set to 0 for no
-            blurring. Default: 0
+            blurring. Should be odd, if an even number is passed in (outside of 0) then it is
+            rounded up to the next odd number. Default: 0
         threshold: int, optional
             The threshold amount to minimize/maximize mask values to 0 and 100. Percentage value.
             Default: 0
         """
         logger.trace("blur_kernel: %s, threshold: %s", blur_kernel, threshold)
-        self._blur_kernel = blur_kernel
+        if blur_kernel == 0 or blur_kernel % 2 == 1:
+            self._blur_kernel = blur_kernel
+        else:
+            self._blur_kernel = blur_kernel + 1
         self._threshold = (threshold / 100.0) * 255.0
 
     def _adjust_affine_matrix(self, mask_size, affine_matrix):
diff --git a/tools/cli.py b/tools/cli.py
index eb80c59..e8fdf10 100644
--- a/tools/cli.py
+++ b/tools/cli.py
@@ -521,12 +521,14 @@ class MaskArgs(FaceSwapArgs):
             "action": Slider,
             "type": int,
             "group": "output",
-            "min_max": (0, 8),
+            "min_max": (0, 9),
             "default": 3,
             "rounding": 1,
             "help": "Apply gaussian blur to the mask output. Has the effect of smoothing the "
-                    "edges of the mask giving less of a hard edge. the size is in pixels. NB: "
-                    "Only effects the output preview. Set to 0 for off"})
+                    "edges of the mask giving less of a hard edge. the size is in pixels. This "
+                    "value should be odd, if an even number is passed in then it will be rounded "
+                    "to the next odd number. NB: Only effects the output preview. Set to 0 for "
+                    "off"})
         argument_list.append({
             "opts": ("-t", "--threshold"),
             "action": Slider,
