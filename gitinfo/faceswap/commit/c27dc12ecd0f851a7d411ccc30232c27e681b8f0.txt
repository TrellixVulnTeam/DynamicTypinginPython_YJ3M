commit c27dc12ecd0f851a7d411ccc30232c27e681b8f0
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Sun Jul 28 00:58:40 2019 +0100

    Temporarily add Git to path for Windows Installer

diff --git a/.install/windows/install.nsi b/.install/windows/install.nsi
index 5070f5b..897eaee 100644
--- a/.install/windows/install.nsi
+++ b/.install/windows/install.nsi
@@ -426,7 +426,16 @@ Function SetupFaceSwap
     ${EndIf}
 
     SetDetailsPrint listonly
-    ExecDos::exec /NOUNLOAD /ASYNC /DETAILED "$\"$dirConda\scripts\activate.bat$\" && conda activate $\"$envName$\" && python $\"$INSTDIR\setup.py$\" $0 && conda deactivate"
+    ; Create a temporary .bat file for setting up faceswap so the path can be set for Git
+    ; Required for installing pynvml from github
+    FileOpen $9 "$dirTemp\_install_faceswap.bat" w
+    ${If} $InstallGit == 1
+        FileWrite $9 "SET PATH=%PATH%;$PROGRAMFILES64\git\cmd$\r$\n"
+    ${EndIf}
+    FileWrite $9 "$\"$dirConda\scripts\activate.bat$\" && conda activate $\"$envName$\" && python $\"$INSTDIR\setup.py$\" $0 && conda deactivate$\r$\n"
+    FileClose $9
+
+    ExecDos::exec /NOUNLOAD /ASYNC /DETAILED "$\"$dirTemp\_install_faceswap.bat$\""
     pop $0
     ExecDos::wait $0
     pop $0
