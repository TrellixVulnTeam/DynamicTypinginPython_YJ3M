commit abfcb21310fff07e37b4fd31428c1c9e3e4edfed
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Tue Sep 17 09:41:31 2019 +0100

    Change total rate calculation in analysis

diff --git a/lib/gui/stats.py b/lib/gui/stats.py
index a7860f7..f8b422e 100644
--- a/lib/gui/stats.py
+++ b/lib/gui/stats.py
@@ -307,9 +307,9 @@ class SessionsSummary():
         """ Return total stats """
         logger.debug("Compiling Totals")
         elapsed = 0
-        rate = 0
-        batchset = set()
+        examples = 0
         iterations = 0
+        batchset = set()
         total_summaries = len(sessions_stats)
         for idx, summary in enumerate(sessions_stats):
             if idx == 0:
@@ -317,7 +317,7 @@ class SessionsSummary():
             if idx == total_summaries - 1:
                 endtime = summary["end"]
             elapsed += summary["elapsed"]
-            rate += summary["rate"]
+            examples += (summary["batch"] * summary["iterations"])
             batchset.add(summary["batch"])
             iterations += summary["iterations"]
         batch = ",".join(str(bs) for bs in batchset)
@@ -325,7 +325,7 @@ class SessionsSummary():
                   "start": starttime,
                   "end": endtime,
                   "elapsed": elapsed,
-                  "rate": rate / total_summaries,
+                  "rate": examples / elapsed,
                   "batch": batch,
                   "iterations": iterations}
         logger.debug(totals)
