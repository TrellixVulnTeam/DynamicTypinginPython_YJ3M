commit 67009d0315fd6aaa2386f4a21fb9ee6b89cc05f3
Author: DKing <DKingCN@users.noreply.github.com>
Date:   Sun Apr 22 06:42:55 2018 +0800

    Add gpu support for docker (#365)

diff --git a/Dockerfile b/Dockerfile.cpu
similarity index 100%
rename from Dockerfile
rename to Dockerfile.cpu
diff --git a/Dockerfile.gpu b/Dockerfile.gpu
new file mode 100644
index 0000000..893a8e1
--- /dev/null
+++ b/Dockerfile.gpu
@@ -0,0 +1,12 @@
+FROM tensorflow/tensorflow:latest-gpu-py3
+
+RUN apt-get update -qq -y \
+ && apt-get install -y cmake libsm6 libxrender1 libxext-dev python3-tk\
+ && apt-get clean \
+ && rm -rf /var/lib/apt/lists/*
+
+COPY requirements-docker-gpu.txt /opt/
+RUN pip3 --no-cache-dir install -r /opt/requirements-docker-gpu.txt && rm /opt/requirements-docker-gpu.txt
+
+WORKDIR "/notebooks"
+CMD ["/run_jupyter.sh", "--allow-root"]
diff --git a/README.md b/README.md
index 4ccc55a..3d269bc 100644
--- a/README.md
+++ b/README.md
@@ -46,10 +46,17 @@ If there is not enough training data, start with someone who looks similar, then
 
 #### Docker
 If you prefer using Docker, You can start the project with:
- - Build: `docker build -t deepfakes .`
- - Run: `docker run --rm --name deepfakes -v [src_folder]:/srv -it deepfakes bash` . `bash` can be replaced by your command line 
-Note that the Dockerfile does not have all good requirments, so it will fail on some python 3 commands.
-Also note that it does not have a GUI output, so the train.py will fail on showing image. You can comment this, or save it as a file.
+ - GPU:
+   - Prerequiste: Install [nvidia-docker](https://github.com/NVIDIA/nvidia-docker) and a CUDA driver on the host machine.
+   - Build: `docker build -t deepfakes-gpu -f Dockerfile.gpu .`
+   - Run: `nvidia-docker run --name deepfakes-gpu -p 8888:8888 -v [src_folder]:/src -it deepfakes-gpu`
+   - Execute: `docker exec -it deepfakes bash`
+     - Tested working on training.
+ - CPU: 
+   - Build: `docker build -t deepfakes -f Dockerfile.cpu .`                                                                     
+   - Run: `docker run --rm --name deepfakes -v [src_folder]:/srv -it deepfakes bash` . `bash` can be replaced by your command line
+     - Note that Dockerfile.cpu does not have all good requirments, so it will fail on some python 3 commands.
+     - Also note that it does not have a GUI output, so the train.py will fail on showing image. You can comment this, or save it as a file.
 
 ## How to contribute
 
diff --git a/requirements-docker-gpu.txt b/requirements-docker-gpu.txt
new file mode 100644
index 0000000..b3bdd8d
--- /dev/null
+++ b/requirements-docker-gpu.txt
@@ -0,0 +1,10 @@
+pathlib==1.0.1
+scandir==1.6
+h5py==2.7.1
+Keras==2.1.2
+opencv-python==3.3.0.10
+scikit-image
+dlib
+face_recognition
+tqdm
+matplotlib
