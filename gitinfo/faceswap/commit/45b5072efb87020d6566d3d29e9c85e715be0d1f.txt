commit 45b5072efb87020d6566d3d29e9c85e715be0d1f
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Sat Dec 15 00:28:52 2018 +0000

    Correctly Error out on FAN CPU

diff --git a/plugins/extract/align/_base.py b/plugins/extract/align/_base.py
index a5c0aae..9c8ed43 100644
--- a/plugins/extract/align/_base.py
+++ b/plugins/extract/align/_base.py
@@ -76,12 +76,8 @@ class Aligner():
         """ Process landmarks
             Override for specific detector
             Must return a list of dlib rects"""
-        try:
-            if not self.init:
-                self.initialize(*args, **kwargs)
-        except ValueError as err:
-            logger.error(err)
-            exit(1)
+        if not self.init:
+            self.initialize(*args, **kwargs)
         logger.debug("Launching Align: (args: %s kwargs: %s)", args, kwargs)
 
     # <<< DETECTION WRAPPER >>> #
diff --git a/plugins/extract/align/fan.py b/plugins/extract/align/fan.py
index 70b8a03..310c562 100644
--- a/plugins/extract/align/fan.py
+++ b/plugins/extract/align/fan.py
@@ -36,10 +36,9 @@ class Align(Aligner):
 
         card_id, _, vram_total = self.get_vram_free()
         if card_id == -1:
-            self.queues["out"].put("No Graphics Card Detected! FAN is not "
-                                   "supported on CPU. Use another aligner.")
             self.init.set()
-            exit(0)
+            raise ValueError("No Graphics Card Detected! FAN is not currently supported on CPU. "
+                             "Use another aligner.")
 
         if vram_total <= self.vram:
             tf_ratio = 1.0
@@ -217,7 +216,7 @@ class FAN():
         # Must import tensorflow inside the spawned process
         # for Windows machines
         import tensorflow as tf
-        self.tf = tf
+        self.tf = tf  # pylint: disable=invalid-name
 
         self.model_path = model_path
         self.graph = self.load_graph()
