commit 23bb80a9adc1b3e69e2224bbbf294f946079ae0f
Author: Artem Ivanov <37909402+andenixa@users.noreply.github.com>
Date:   Sat Sep 14 13:58:53 2019 +0300

    Nnblocks added scale factor to Upscaler (#869)
    
    * Update nn_blocks.py

diff --git a/lib/model/nn_blocks.py b/lib/model/nn_blocks.py
index e7783ee..57db4dd 100644
--- a/lib/model/nn_blocks.py
+++ b/lib/model/nn_blocks.py
@@ -110,7 +110,7 @@ class NNBlocks():
         return var_x
 
     def upscale(self, inp, filters, kernel_size=3, padding="same",
-                use_instance_norm=False, res_block_follows=False, **kwargs):
+                use_instance_norm=False, res_block_follows=False, scale_factor=2, **kwargs):
         """ Upscale Layer """
         logger.debug("inp: %s, filters: %s, kernel_size: %s, use_instance_norm: %s, kwargs: %s)",
                      inp, filters, kernel_size, use_instance_norm, kwargs)
@@ -137,9 +137,10 @@ class NNBlocks():
         if not res_block_follows:
             var_x = LeakyReLU(0.1, name="{}_leakyrelu".format(name))(var_x)
         if self.use_subpixel:
-            var_x = SubPixelUpscaling(name="{}_subpixel".format(name))(var_x)
+            var_x = SubPixelUpscaling(name="{}_subpixel".format(name),
+                                      scale_factor=scale_factor)(var_x)
         else:
-            var_x = PixelShuffler(name="{}_pixelshuffler".format(name))(var_x)
+            var_x = PixelShuffler(name="{}_pixelshuffler".format(name), size=scale_factor)(var_x)
         return var_x
 
     # <<< DFaker Model Blocks >>> #
diff --git a/requirements.txt b/requirements.txt
index 8efc45d..8ab14be 100755
--- a/requirements.txt
+++ b/requirements.txt
@@ -2,7 +2,7 @@ tqdm
 psutil
 pathlib
 numpy==1.16.2
-opencv-python
+opencv-python>=4.0
 scikit-image
 Pillow==6.1.0
 scikit-learn
