commit 23de50214c31abd3d556fe936873ff957b0b6337
Author: czfhhh <33478015+czfhhh@users.noreply.github.com>
Date:   Wed Feb 7 19:09:30 2018 +0800

    Add demosaic (#131)
    
    Copy from https://github.com/dfaker/df/blob/master/merge_faces_larger.py#L127-L133

diff --git a/plugins/Convert_Masked.py b/plugins/Convert_Masked.py
index 8e0c1d9..e01bc08 100644
--- a/plugins/Convert_Masked.py
+++ b/plugins/Convert_Masked.py
@@ -33,7 +33,7 @@ class Convert():
         base_image = numpy.copy( image )
         new_image = numpy.copy( image )
 
-        cv2.warpAffine( new_face, mat, image_size, new_image, cv2.WARP_INVERSE_MAP, cv2.BORDER_TRANSPARENT )
+        cv2.warpAffine( new_face, mat, image_size, new_image, cv2.WARP_INVERSE_MAP | cv2.INTER_CUBIC, cv2.BORDER_TRANSPARENT )
 
         outImage = None
         if self.seamless_clone:
@@ -58,7 +58,7 @@ class Convert():
         face_mask = numpy.zeros(image.shape,dtype=float)
         if 'rect' in self.mask_type:
             face_src = numpy.ones(new_face.shape,dtype=float)
-            cv2.warpAffine( face_src, mat, image_size, face_mask, cv2.WARP_INVERSE_MAP, cv2.BORDER_TRANSPARENT )
+            cv2.warpAffine( face_src, mat, image_size, face_mask, cv2.WARP_INVERSE_MAP | cv2.INTER_CUBIC, cv2.BORDER_TRANSPARENT )
 
         hull_mask = numpy.zeros(image.shape,dtype=float)
         if 'hull' in self.mask_type:
