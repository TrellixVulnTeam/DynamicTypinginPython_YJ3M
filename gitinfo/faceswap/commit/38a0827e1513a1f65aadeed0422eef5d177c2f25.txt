commit 38a0827e1513a1f65aadeed0422eef5d177c2f25
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Thu Dec 27 11:34:44 2018 +0000

    Bugfix: Return empty list when no GPU found

diff --git a/lib/gpu_stats.py b/lib/gpu_stats.py
index c70e980..dd4f3b2 100644
--- a/lib/gpu_stats.py
+++ b/lib/gpu_stats.py
@@ -31,13 +31,13 @@ class GPUStats():
 
         self.initialize()
 
+        self.driver = self.get_driver()
+        self.devices = self.get_devices()
         if self.device_count == 0:
             if self.logger:
                 self.logger.warning("No GPU detected. Switching to CPU mode")
             return
 
-        self.driver = self.get_driver()
-        self.devices = self.get_devices()
         self.vram = self.get_vram()
 
         self.shutdown()
@@ -113,7 +113,9 @@ class GPUStats():
     def get_devices(self):
         """ Return name of devices """
         self.initialize()
-        if IS_MACOS:
+        if self.device_count == 0:
+            names = list()
+        elif IS_MACOS:
             names = [pynvx.cudaGetName(handle, ignore=True)
                      for handle in self.handles]
         else:
