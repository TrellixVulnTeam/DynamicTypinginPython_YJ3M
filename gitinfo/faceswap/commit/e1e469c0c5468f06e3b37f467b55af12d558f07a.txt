commit e1e469c0c5468f06e3b37f467b55af12d558f07a
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Thu Sep 20 01:59:26 2018 +0100

    opencv2 window closing bug

diff --git a/tools/lib_alignments/jobs_manual.py b/tools/lib_alignments/jobs_manual.py
index 8e7e5d4..6f57805 100644
--- a/tools/lib_alignments/jobs_manual.py
+++ b/tools/lib_alignments/jobs_manual.py
@@ -1,6 +1,8 @@
 #!/usr/bin/env python3
 """ Manual processing of alignments """
 
+import platform
+
 import cv2
 import numpy as np
 
@@ -404,7 +406,10 @@ class Manual():
             cv2.imshow("Faces", faces)
             key = cv2.waitKey(1)
 
-            if key == -1:
+            if platform.system() == "Windows" and key == -1:
+                break
+            elif (platform.system() != "Windows" and
+                  cv2.getWindowProperty('Frame', cv2.WND_PROP_VISIBLE) < 1):
                 break
 
             if key in press.keys():
