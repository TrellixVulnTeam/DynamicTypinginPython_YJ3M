commit e6653dd0276894093e485f34de05e6b8944db281
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Tue Jun 25 09:58:02 2019 +0000

    Disable parallel processing when non-amd user uses a Keras extractor + non Keras extractor

diff --git a/plugins/extract/pipeline.py b/plugins/extract/pipeline.py
index 1a68865..fbfeaa5 100644
--- a/plugins/extract/pipeline.py
+++ b/plugins/extract/pipeline.py
@@ -113,6 +113,13 @@ class Extractor():
                          "Enabling parallel processing.")
             return True
 
+        if not gpu_stats.is_plaidml and (
+                (self.detector.supports_plaidml and aligner_vram != 0) or
+                (self.aligner.supports_plaidml and detector_vram != 0)):
+            logger.warning("Keras + non-Keras aligner/detector combination does not support "
+                           "parallel processing. Switching to serial.")
+            return False
+
         if self.detector.supports_plaidml and self.aligner.supports_plaidml:
             logger.debug("Both aligner and detector support plaidML. Disabling parallel "
                          "processing.")
