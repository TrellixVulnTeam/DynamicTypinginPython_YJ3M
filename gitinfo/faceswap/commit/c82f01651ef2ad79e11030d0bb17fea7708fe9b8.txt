commit c82f01651ef2ad79e11030d0bb17fea7708fe9b8
Author: torzdf <36920800+torzdf@users.noreply.github.com>
Date:   Thu Jan 17 23:53:01 2019 +0000

    Fix GUI sharing the same log queue as it's subprocesses

diff --git a/lib/queue_manager.py b/lib/queue_manager.py
index 7971af1..2063736 100644
--- a/lib/queue_manager.py
+++ b/lib/queue_manager.py
@@ -6,6 +6,7 @@
 
 import logging
 import multiprocessing as mp
+import sys
 import threading
 
 from queue import Empty as QueueEmpty  # pylint: disable=unused-import; # noqa
@@ -31,7 +32,9 @@ class QueueManager():
             self.manager = mp
         self.shutdown = self.manager.Event()
         self.queues = dict()
-        self._log_queue = self.manager.Queue()
+        # Despite launching a subprocess, the scripts still want to access the same logging
+        # queue as the GUI, so make sure the GUI gets it's own queue
+        self._log_queue = self.manager.Queue() if "gui" not in sys.argv else mp.Queue()
         logger.debug("Initialized %s", self.__class__.__name__)
 
     def add_queue(self, name, maxsize=0):
