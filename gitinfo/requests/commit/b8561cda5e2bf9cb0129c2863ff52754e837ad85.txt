commit b8561cda5e2bf9cb0129c2863ff52754e837ad85
Author: Mher Movsisyan <mher.movsisyan@gmail.com>
Date:   Sun May 27 22:21:26 2012 +0500

    no_proxy support

diff --git a/requests/models.py b/requests/models.py
index 79a3bc36..94e6e036 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -9,6 +9,7 @@ This module contains the primary objects that power Requests.
 
 import json
 import os
+import string
 from datetime import datetime
 
 from .hooks import dispatch_hook, HOOKS
@@ -521,9 +522,10 @@ class Request(object):
             self.headers['Content-Type'] = content_type
 
         _p = urlparse(url)
+        no_proxy = filter(string.strip, self.proxies.get('no', '').split(','))
         proxy = self.proxies.get(_p.scheme)
 
-        if proxy:
+        if proxy and not any(map(_p.netloc.endswith, no_proxy)):
             conn = poolmanager.proxy_from_url(proxy)
             _proxy = urlparse(proxy)
             if '@' in _proxy.netloc:
