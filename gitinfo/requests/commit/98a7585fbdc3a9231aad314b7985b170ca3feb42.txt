commit 98a7585fbdc3a9231aad314b7985b170ca3feb42
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Mon Dec 17 03:29:45 2012 -0500

    cleanup to url logic

diff --git a/requests/models.py b/requests/models.py
index f964a671..e7c6a164 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -240,6 +240,7 @@ class PreparedRequest(RequestMixin):
         except UnicodeError:
             raise InvalidURL('URL has an invalid label.')
 
+        # Bare domains aren't valid URLs.
         if not path:
             path = '/'
 
@@ -264,13 +265,7 @@ class PreparedRequest(RequestMixin):
             else:
                 query = enc_params
 
-        url = (urlunparse([scheme, netloc, path, params, query, fragment]))
-
-        # if self.config.get('encode_uri', True):
-            # url = requote_uri(url)
-        # TODO: re-evaluate quote param (perhaps not, people can create this themselves now)
-        url = requote_uri(url)
-
+        url = requote_uri(urlunparse([scheme, netloc, path, params, query, fragment]))
         self.url = url
 
     def prepare_headers(self, headers):
