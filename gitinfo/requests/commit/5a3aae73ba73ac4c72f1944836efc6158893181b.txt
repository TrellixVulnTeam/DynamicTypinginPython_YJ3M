commit 5a3aae73ba73ac4c72f1944836efc6158893181b
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Wed Dec 14 10:34:31 2011 -0500

    test iter_lines

diff --git a/test_requests.py b/test_requests.py
index 8a9ea711..829d2a94 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -592,5 +592,16 @@ class RequestsTestSuite(unittest.TestCase):
         assert r2._content
         assert r2.content
 
+    def test_iter_lines(self):
+
+        lines = (0, 2, 10, 100)
+
+        for i in lines:
+
+            r = requests.get(httpbin('stream', str(i)), prefetch=False)
+            len_lines = len([l for l in r.iter_lines()])
+
+            self.assertEqual(i, len_lines)
+
 if __name__ == '__main__':
     unittest.main()
