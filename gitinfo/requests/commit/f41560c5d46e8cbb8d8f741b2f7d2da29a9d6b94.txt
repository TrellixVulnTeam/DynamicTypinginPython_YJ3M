commit f41560c5d46e8cbb8d8f741b2f7d2da29a9d6b94
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Fri May 26 21:15:58 2017 -0400

    fix the tests

diff --git a/requests/sessions.py b/requests/sessions.py
index 893ed039..2b0b7e1a 100755
--- a/requests/sessions.py
+++ b/requests/sessions.py
@@ -674,7 +674,10 @@ class Session(SessionRedirectMixin):
 
         # If redirects aren't being followed, store the response on the Request for Response.next().
         if not allow_redirects:
-            r._next = self.resolve_redirects(r, request, yield_responses=False, **kwargs).next()
+            try:
+                r._next = self.resolve_redirects(r, request, yield_responses=False, **kwargs).next()
+            except StopIteration:
+                pass
 
         if not stream:
             r.content
