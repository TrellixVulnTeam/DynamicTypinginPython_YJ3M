commit e788ca7ee629f7ed8700d31bbdf7a2930c1a7398
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Mon Feb 21 14:36:41 2011 -0500

    Safer error response handling.

diff --git a/requests/core.py b/requests/core.py
index 9292a9a6..3f599b18 100644
--- a/requests/core.py
+++ b/requests/core.py
@@ -134,10 +134,10 @@ class Request(object):
     def _build_response(self, resp):
         """Build internal Response object from given response."""
         
-        self.response.status_code = resp.code
-        self.response.headers = resp.info().dict
+        self.response.status_code = getattr(resp, 'code', None)
+        self.response.headers = getattr(resp.info(), 'dict', None)
+        self.response.url = getattr(resp, 'url', None)
         self.response.content = resp.read()
-        self.response.url = resp.url
 
     
     def send(self, anyway=False):
