commit 8031ec76b88b8039b46a6c5782677746442a9121
Author: Martin Durant <martin.durant@utoronto.ca>
Date:   Tue Jun 12 17:52:50 2018 -0400

    Do not alter status_codes docstring if it is None
    
    With PYTHONOPTIMIZE=2, the current code breaks with TypeError.

diff --git a/requests/status_codes.py b/requests/status_codes.py
index 96b86ddb..ff462c6c 100644
--- a/requests/status_codes.py
+++ b/requests/status_codes.py
@@ -114,6 +114,7 @@ def _init():
 
     global __doc__
     __doc__ = (__doc__ + '\n' +
-               '\n'.join(doc(code) for code in sorted(_codes)))
+               '\n'.join(doc(code) for code in sorted(_codes))
+               if __doc__ is not None else None)
 
 _init()
