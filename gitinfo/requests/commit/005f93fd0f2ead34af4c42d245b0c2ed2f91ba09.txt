commit 005f93fd0f2ead34af4c42d245b0c2ed2f91ba09
Author: Dmitry Klimenko <github.com@klimenko.net>
Date:   Mon Nov 21 21:42:44 2016 +0300

    added new test, original test restored

diff --git a/tests/test_requests.py b/tests/test_requests.py
index 64cc773f..f45d3527 100755
--- a/tests/test_requests.py
+++ b/tests/test_requests.py
@@ -460,12 +460,27 @@ class TestRequests:
         r = requests.put(httpbin('put'))
         assert r.status_code == 200
 
+    def test_BASICAUTH_TUPLE_HTTP_200_OK_GET(self, httpbin):
+        auth = ('user', 'pass')
+        url = httpbin('basic-auth', 'user', 'pass')
+
+        r = requests.get(url, auth=auth)
+        assert r.status_code == 200
+
+        r = requests.get(url)
+        assert r.status_code == 401
+
+        s = requests.session()
+        s.auth = auth
+        r = s.get(url)
+        assert r.status_code == 200
+
     @pytest.mark.parametrize(
         'username, password', (
             ('user', 'pass'),
             (u'имя'.encode('utf-8'), u'пароль'.encode('utf-8')),
         ))
-    def test_BASICAUTH_TUPLE_HTTP_200_OK_GET(self, httpbin, username, password):
+    def test_set_basicauth(self, httpbin, username, password):
         auth = (username, password)
         url = httpbin('get')
 
