commit b676bf3214fa917f20542b9d3d31577b47a73cc1
Author: Stephen Huenneke <stephen.huenneke@gmail.com>
Date:   Thu Aug 8 08:48:42 2013 -0700

    Fixing tests to verify thrown ValueError's.

diff --git a/test_requests.py b/test_requests.py
index 01e17803..40daaf9b 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -10,6 +10,7 @@ import unittest
 import pickle
 
 import requests
+import pytest
 from requests.auth import HTTPDigestAuth
 from requests.adapters import HTTPAdapter
 from requests.compat import str, cookielib, getproxies, urljoin
@@ -357,11 +358,11 @@ class RequestsTestCase(unittest.TestCase):
         except ValueError:
             pass
 
+    def test_conflicting_post_params(self):
+        url = httpbin('post')
         with open('requirements.txt') as f:
-            try:
-                requests.post(url, data='[{"some": "data"}]', files={'some': f})
-            except ValueError:
-                pass
+            pytest.raises(ValueError, "requests.post(url, data='[{\"some\": \"data\"}]', files={'some': f})")
+            pytest.raises(ValueError, "requests.post(url, data=u'[{\"some\": \"data\"}]', files={'some': f})")
 
     def test_request_ok_set(self):
         r = requests.get(httpbin('status', '404'))
