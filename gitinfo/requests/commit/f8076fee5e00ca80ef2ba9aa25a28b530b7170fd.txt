commit f8076fee5e00ca80ef2ba9aa25a28b530b7170fd
Author: Cory Benfield <lukasaoz@gmail.com>
Date:   Tue Jun 19 18:09:22 2012 +0100

    Temporary fix for unicode literal breaking test.

diff --git a/tests/test_requests.py b/tests/test_requests.py
index a06a7831..d9a820d2 100755
--- a/tests/test_requests.py
+++ b/tests/test_requests.py
@@ -351,7 +351,14 @@ class RequestsTestSuite(TestSetup, TestBaseMixin, unittest.TestCase):
             post5 = post(url, files={'file': ('file.txt', 'more fdata')})
             self.assertEqual(post5.status_code, 200)
 
-            post6 = post(url, files={'fname.txt': '\xe9'})
+            # Dirty hack to tide us over until 3.3.
+            # TODO: Remove this hack when Python 3.3 is released.
+            if (sys.version_info[0] == 2):
+                fdata = '\xc3\xa9'.decode('utf-8')
+            else:
+                fdata = '\xe9'
+
+            post6 = post(url, files={'fname.txt': fdata})
             self.assertEqual(post6.status_code, 200)
 
             post7 = post(url, files={'fname.txt': 'fdata to verify'})
