commit c3c90bb09c9f4cd635ea28cbc784ee5f724bdab8
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Sat Jul 23 22:35:46 2011 -0400

    default headers and content encoding settings
    Closes #78

diff --git a/requests/config.py b/requests/config.py
index c34a2b94..1d335f42 100644
--- a/requests/config.py
+++ b/requests/config.py
@@ -54,4 +54,5 @@ class Settings(object):
         return object.__getattribute__(self, key)
 
 settings = Settings()
-settings.base_headers = {'User-Agent': 'python-requests.org'}
\ No newline at end of file
+settings.base_headers = {'User-Agent': 'python-requests.org'}
+settings.accept_gzip = True
\ No newline at end of file
diff --git a/requests/models.py b/requests/models.py
index a03fff63..7fb07fb3 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -80,9 +80,21 @@ class Request(object):
         #: True if Request has been sent.
         self.sent = False
 
-        headers = settings.base_headers
-        if self.headers:
-            headers.update(self.headers)
+
+        # Header manipulation and defaults.
+
+        if settings.accept_gzip:
+            settings.base_headers.update({'Accept-Encoding': 'gzip'})
+
+        if headers:
+            headers = CaseInsensitiveDict(self.headers)
+        else:
+            headers = CaseInsensitiveDict()
+
+        for (k, v) in settings.base_headers.items():
+            if k not in headers:
+                headers[k] = v
+
         self.headers = headers
 
 
