commit 5fff2c757b7e95b22610a171e6eb07c2d12acdda
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Sat Jul 23 21:37:08 2011 -0400

    forced_basic default handler.

diff --git a/requests/models.py b/requests/models.py
index 575ec8b5..289546c2 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -16,7 +16,7 @@ from urlparse import urlparse, urlunparse
 from datetime import datetime
 
 from .config import settings
-from .monkeys import Request as _Request, HTTPBasicAuthHandler, HTTPDigestAuthHandler, HTTPRedirectHandler
+from .monkeys import Request as _Request, HTTPBasicAuthHandler, HTTPForcedBasicAuthHandler, HTTPDigestAuthHandler, HTTPRedirectHandler
 from .structures import CaseInsensitiveDict
 from .packages.poster.encode import multipart_encode
 from .packages.poster.streaminghttp import register_openers, get_handlers
@@ -80,6 +80,11 @@ class Request(object):
         #: True if Request has been sent.
         self.sent = False
 
+        headers = settings.base_headers
+        if self.headers:
+            headers.update(self.headers)
+        self.headers = headers
+
 
     def __repr__(self):
         return '<Request [%s]>' % (self.method)
@@ -534,17 +539,18 @@ class AuthObject(object):
 
     _handlers = {
         'basic': HTTPBasicAuthHandler,
+        'forced_basic': HTTPForcedBasicAuthHandler,
         'digest': HTTPDigestAuthHandler,
         'proxy_basic': urllib2.ProxyBasicAuthHandler,
         'proxy_digest': urllib2.ProxyDigestAuthHandler
     }
 
-    def __init__(self, username, password, handler='basic', realm=None):
+    def __init__(self, username, password, handler='forced_basic', realm=None):
         self.username = username
         self.password = password
         self.realm = realm
 
         if isinstance(handler, basestring):
-            self.handler = self._handlers.get(handler.lower(), HTTPBasicAuthHandler)
+            self.handler = self._handlers.get(handler.lower(), HTTPForcedBasicAuthHandler)
         else:
             self.handler = handler
