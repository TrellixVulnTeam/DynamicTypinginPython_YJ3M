commit 0eccb547a29eda9c04d5e1cef586557846b19e92
Author: Robert Estelle <robert@btbapp.com>
Date:   Tue Jul 30 23:02:13 2013 -0700

    Add Session.prepare_request test case.

diff --git a/test_requests.py b/test_requests.py
index ee088349..482881da 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -489,6 +489,23 @@ class RequestsTestCase(unittest.TestCase):
         a.params['_'] = '?'
         self.assertNotEqual(a.params, b.params)
 
+    def test_prepared_from_session(self):
+        class DummyAuth(requests.auth.AuthBase):
+            def __call__(self, r):
+                r.headers['Dummy-Auth-Test'] = 'dummy-auth-test-ok'
+                return r
+
+        req = requests.Request('GET', httpbin('headers'))
+        self.assertEqual(req.auth, None)
+
+        s = requests.Session()
+        s.auth = DummyAuth()
+
+        prep = s.prepare_request(req)
+        resp = s.send(prep)
+
+        self.assertTrue(resp.json()['headers']['Dummy-Auth-Test'], 'dummy-auth-test-ok')
+
     def test_links(self):
         r = requests.Response()
         r.headers = {
