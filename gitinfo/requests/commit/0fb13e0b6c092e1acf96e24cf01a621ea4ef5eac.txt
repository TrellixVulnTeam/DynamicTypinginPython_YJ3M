commit 0fb13e0b6c092e1acf96e24cf01a621ea4ef5eac
Author: Ian Cordasco <graffatcolmingov@gmail.com>
Date:   Sun Feb 10 17:49:49 2013 -0500

    And tests

diff --git a/test_requests.py b/test_requests.py
index 0355a4ad..e1317f53 100644
--- a/test_requests.py
+++ b/test_requests.py
@@ -111,6 +111,11 @@ class RequestsTestCase(unittest.TestCase):
         r = requests.get(httpbin('get') + '?test=true', params={'q': 'test'}, headers=heads)
         self.assertEqual(r.status_code, 200)
 
+    def test_set_cookie_on_301(self):
+        url = httpbin('cookies/set/foo/bar')
+        r = s.get(url)
+        self.assertTrue(s.cookies['foo'] == 'bar')
+
     def test_user_agent_transfers(self):
 
         heads = {
