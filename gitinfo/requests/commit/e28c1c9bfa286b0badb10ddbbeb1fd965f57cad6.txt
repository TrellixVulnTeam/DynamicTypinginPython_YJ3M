commit e28c1c9bfa286b0badb10ddbbeb1fd965f57cad6
Author: Jonty Wareing <jonty@jonty.co.uk>
Date:   Wed Apr 4 09:17:53 2012 +0000

    Add failing tests for invalid %encodings

diff --git a/tests/test_requests.py b/tests/test_requests.py
index c63eabcb..7ca30ba6 100755
--- a/tests/test_requests.py
+++ b/tests/test_requests.py
@@ -183,6 +183,13 @@ class RequestsTestSuite(TestSetup, unittest.TestCase):
         response = get(url)
         self.assertEqual(response.url, httpbin('get/?' + query_unreserved))
 
+        # We should ignore invalid %encodings
+        request = requests.Request("http://0.0.0.0/get/%TEST")
+        self.assertEqual(request.path_url, "/get/%TEST")
+
+        request = requests.Request("http://0.0.0.0/get/%%TEST%%")
+        self.assertEqual(request.path_url, "/get/%%TEST%%")
+
     def test_user_agent_transfers(self):
         """Issue XX"""
 
