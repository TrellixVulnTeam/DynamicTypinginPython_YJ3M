commit 96fbe9e8c9ffad8c15358d1e53831c1a2922cb13
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Tue Jan 17 17:34:33 2017 -0500

    get codecov to work

diff --git a/.travis.yml b/.travis.yml
index 7abe7e4d..a4576f96 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -12,6 +12,7 @@ python:
 # command to install dependencies
 install: "pip install -r requirements.txt"
 # command to run tests
-script: make test
+script:
+  - make coverage
 after_success:
-  - bash <(curl -s https://codecov.io/bash)
+  - codecov
diff --git a/Makefile b/Makefile
index f759fdf1..331b957f 100644
--- a/Makefile
+++ b/Makefile
@@ -9,7 +9,7 @@ test:
 	py.test tests
 
 coverage:
-	py.test --verbose --cov-report term --cov=requests tests
+	py.test --verbose --cov-report term --conv-report xml --cov=requests tests
 
 ci: init
 	py.test --junitxml=junit.xml
diff --git a/requirements-to-freeze.txt b/requirements-to-freeze.txt
index e8b9e354..00b7e523 100644
--- a/requirements-to-freeze.txt
+++ b/requirements-to-freeze.txt
@@ -1,4 +1,5 @@
 pytest
 pytest-cov
 pytest-httpbin
-sphinx
\ No newline at end of file
+sphinx
+codecov
\ No newline at end of file
diff --git a/requirements.txt b/requirements.txt
index 7f12747c..dbe1da6c 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -1,24 +1,24 @@
-alabaster==0.7.7
-Babel==2.2.0
-coverage==4.0.3
-decorator==4.0.9
-docutils==0.12
-Flask==0.10.1
+alabaster==0.7.9
+Babel==2.3.4
+click==6.7
+codecov==2.0.5
+coverage==4.3.4
+decorator==4.0.11
+docutils==0.13.1
+Flask==0.12
 httpbin==0.5.0
+imagesize==0.7.1
 itsdangerous==0.24
-Jinja2==2.8
+Jinja2==2.9.4
 MarkupSafe==0.23
-py==1.4.31
-Pygments==2.1.1
-PySocks==1.5.6
-pytest==2.8.7
-pytest-cov==2.2.1
-pytest-httpbin==0.2.0
-pytest-mock==0.11.0
-pytz==2015.7
+py==1.4.32
+Pygments==2.1.3
+pytest==3.0.5
+pytest-cov==2.4.0
+pytest-httpbin==0.2.3
+pytz==2016.10
+requests==2.12.4
 six==1.10.0
 snowballstemmer==1.2.1
-Sphinx==1.3.5
-sphinx-rtd-theme==0.1.9
-Werkzeug==0.11.4
-wheel==0.29.0
+Sphinx==1.5.1
+Werkzeug==0.11.15
