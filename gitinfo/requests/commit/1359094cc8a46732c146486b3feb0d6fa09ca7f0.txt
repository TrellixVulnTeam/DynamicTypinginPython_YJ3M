commit 1359094cc8a46732c146486b3feb0d6fa09ca7f0
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Thu Apr 14 19:46:35 2011 -0400

    test for gzip decompress

diff --git a/test_requests.py b/test_requests.py
index c3759f31..edcb384b 100644
--- a/test_requests.py
+++ b/test_requests.py
@@ -30,7 +30,7 @@ class RequestsTestSuite(unittest.TestCase):
 
     def test_HTTP_200_OK_GET_WITH_PARAMS(self):
         heads = {'User-agent': 'Mozilla/5.0'}
-        
+
         r = requests.get('http://www.google.com/search', params={'q': 'test'}, headers=heads)
         self.assertEqual(r.status_code, 200)
 
@@ -47,7 +47,7 @@ class RequestsTestSuite(unittest.TestCase):
 
         r = requests.get('http://whatsmyua.com', headers=heads);
         self.assertTrue(heads['User-agent'] in r.content)
-        
+
     def test_HTTP_200_OK_HEAD(self):
         r = requests.head('http://google.com')
         self.assertEqual(r.status_code, 200)
@@ -73,7 +73,7 @@ class RequestsTestSuite(unittest.TestCase):
         bin = requests.post('http://www.postbin.org/')
         print bin.url
         self.assertEqual(bin.status_code, 200)
-        
+
         post = requests.post(bin.url, data={'some': 'data'})
         self.assertEqual(post.status_code, 201)
 
@@ -82,7 +82,7 @@ class RequestsTestSuite(unittest.TestCase):
 
     def test_POSTBIN_GET_POST_FILES_WITH_PARAMS(self):
         bin = requests.post('http://www.postbin.org/')
-        
+
         self.assertEqual(bin.status_code, 200)
 
         post2 = requests.post(bin.url, files={'some': open('test_requests.py')}, data={'some': 'data'})
@@ -97,26 +97,26 @@ class RequestsTestSuite(unittest.TestCase):
         headers={'User-Agent': 'requests-tests'})
 
         self.assertEqual(post2.status_code, 201)
-  
+
     def test_nonzero_evaluation(self):
         r = requests.get('http://google.com/some-404-url')
         self.assertEqual(bool(r), False)
-    
+
         r = requests.get('http://google.com/')
         self.assertEqual(bool(r), True)
-    
+
     def test_request_ok_set(self):
         r = requests.get('http://google.com/some-404-url')
         self.assertEqual(r.ok, False)
-    
+
     def test_status_raising(self):
         r = requests.get('http://google.com/some-404-url')
         self.assertRaises(requests.HTTPError, r.raise_for_status)
-    
+
         r = requests.get('http://google.com/')
         self.assertFalse(r.error)
         r.raise_for_status()
-        
+
     def test_cookie_jar(self):
         """
         .. todo:: This really doesn't test to make sure the cookie is working
@@ -127,7 +127,10 @@ class RequestsTestSuite(unittest.TestCase):
         requests.get('http://google.com', cookies=jar)
         self.assertTrue(jar)
 
+    def test_decompress_gzip(self):
 
+        r = requests.get('http://api.stackoverflow.com/1.1/users/495995/top-answer-tags')
+        r.content.decode('ascii')
 
 if __name__ == '__main__':
     unittest.main()
