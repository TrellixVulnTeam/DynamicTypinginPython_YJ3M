commit 2a5364cf72fb8156773d6304c0e3e21472de8002
Author: Matt Robenolt <matt@ydekproductions.com>
Date:   Sun Nov 23 17:54:44 2014 -0800

    url was already parsed, don't urlparse twice

diff --git a/requests/sessions.py b/requests/sessions.py
index c2f42b14..4eb374fd 100644
--- a/requests/sessions.py
+++ b/requests/sessions.py
@@ -129,7 +129,7 @@ class SessionRedirectMixin(object):
             # Facilitate relative 'location' headers, as allowed by RFC 7231.
             # (e.g. '/path/to/resource' instead of 'http://domain.tld/path/to/resource')
             # Compliant with RFC3986, we percent encode the url.
-            if not urlparse(url).netloc:
+            if not parsed.netloc:
                 url = urljoin(resp.url, requote_uri(url))
             else:
                 url = requote_uri(url)
