commit 3b2a489e13a2dc3c9d1ef919ad35e14cc5189f10
Author: Braulio Valdivielso Mart√≠nez <brlvldvlsmrtnz@gmail.com>
Date:   Tue Dec 8 16:12:40 2015 +0100

    Added text_response_server classmethod to TestServer and updated basic_response_server to use it

diff --git a/testserver/server.py b/testserver/server.py
index fd6bca40..8361b58f 100644
--- a/testserver/server.py
+++ b/testserver/server.py
@@ -23,17 +23,22 @@ class Server(threading.Thread):
         self.stop_event = threading.Event()
 
     @classmethod
-    def basic_response_server(cls, **kwargs):
-        def basic_response_handler(sock):
-            sock.send(
-                b'HTTP/1.1 200 OK\r\n'
-                b'Content-Length: 0\r\n'
-                b'\r\n'
-            )
+    def text_response_server(cls, text, **kwargs):
+        def text_response_handler(sock):
+            sock.send(text.encode())
+
+        server = Server(text_response_handler, **kwargs)
 
-        server = Server(basic_response_handler, **kwargs)
         return server
 
+    @classmethod
+    def basic_response_server(cls, **kwargs):
+        server = cls.text_response_server(
+            "HTTP/1.1 200 OK\r\n" +
+            "Content-Length: 0\r\n\r\n", **kwargs
+        )
+
+        return server
 
     def run(self):
         try:
