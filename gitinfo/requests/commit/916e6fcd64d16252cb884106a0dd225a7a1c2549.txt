commit 916e6fcd64d16252cb884106a0dd225a7a1c2549
Author: Eric Scrivner <eric@grapheffect.com>
Date:   Mon Dec 17 12:28:08 2012 -0800

    Add unit-test to reproduce encoding error.

diff --git a/test_requests.py b/test_requests.py
index 61634cd1..e55a4cf6 100644
--- a/test_requests.py
+++ b/test_requests.py
@@ -3,6 +3,7 @@
 
 """Tests for Requests."""
 
+import json
 import os
 import unittest
 
@@ -243,7 +244,14 @@ class RequestsTestCase(unittest.TestCase):
         self.assertEqual(r.status_code, 200)
         self.assertEqual(r.url, httpbin('get?test=foo&test=baz'))
 
+    def test_different_encodings_dont_break_post(self):
+        r = requests.post(httpbin('post'),
+                          data={'stuff': json.dumps({'a': 123})},
+                          params={'blah': 'asdf1234'},
+                          files={'file': ('test_requests.py', open(__file__, 'rb'))})
+        self.assertEqual(r.status_code, 200)
+
 
 
 if __name__ == '__main__':
-    unittest.main()
\ No newline at end of file
+    unittest.main()
