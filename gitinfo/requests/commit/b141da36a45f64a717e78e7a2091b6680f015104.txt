commit b141da36a45f64a717e78e7a2091b6680f015104
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Sat Aug 13 09:37:14 2011 -0400

    test relative redirects

diff --git a/test_requests.py b/test_requests.py
index dabf03c8..ff98c412 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -446,6 +446,14 @@ class RequestsTestSuite(unittest.TestCase):
             self.assertEquals(len(r.history), 3)
 
 
+    def test_relative_redirect_history(self):
+
+        for service in SERVICES:
+
+            r = requests.get(service('relative-redirect', '3'))
+            self.assertEquals(r.status_code, 200)
+            self.assertEquals(len(r.history), 3)
+
 
 if __name__ == '__main__':
     unittest.main()
