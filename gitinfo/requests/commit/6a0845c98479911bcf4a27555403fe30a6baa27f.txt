commit 6a0845c98479911bcf4a27555403fe30a6baa27f
Author: Andrew Jesaitis <andrew@andrewjesaitis.com>
Date:   Thu Feb 28 12:07:00 2013 -0700

    Checks __attrs__ on session instance prior to iterating.

diff --git a/requests/sessions.py b/requests/sessions.py
index 615075a3..e5132de1 100644
--- a/requests/sessions.py
+++ b/requests/sessions.py
@@ -455,7 +455,10 @@ class Session(SessionRedirectMixin):
         self.adapters[prefix] = adapter
 
     def __getstate__(self):
-        return dict((attr, getattr(self, attr, None)) for attr in self.__attrs__)
+        if hasattr(self, '__attrs__'):
+            return dict((attr, getattr(self, attr, None)) for attr in self.__attrs__)
+        else:
+            return {}
 
     def __setstate__(self, state):
         for attr, value in state.items():
