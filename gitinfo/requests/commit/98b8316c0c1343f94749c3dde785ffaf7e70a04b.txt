commit 98b8316c0c1343f94749c3dde785ffaf7e70a04b
Author: ig0774 <ig0774@yahoo.com>
Date:   Fri Jun 8 09:35:54 2012 -0300

    Send the original response url to `urlparse` rather than the `Response` object. `urlparse` cannot handle `Response` objects.

diff --git a/requests/cookies.py b/requests/cookies.py
index 85726b06..04158561 100644
--- a/requests/cookies.py
+++ b/requests/cookies.py
@@ -39,7 +39,7 @@ class MockRequest(object):
     def get_origin_req_host(self):
         if self._r.response.history:
             r = self._r.response.history[0]
-            return urlparse(r).netloc
+            return urlparse(r.url).netloc
         else:
             return self.get_host()
 
