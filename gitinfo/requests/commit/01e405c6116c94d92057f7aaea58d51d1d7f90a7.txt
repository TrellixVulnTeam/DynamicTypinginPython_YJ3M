commit 01e405c6116c94d92057f7aaea58d51d1d7f90a7
Author: Brian Bamsch <bbamsch32@gmail.com>
Date:   Sun Sep 25 22:18:45 2016 -0700

    Add patch to avoid bytestring/str hodgepodge
    
    When patching Host header into URL, verify that host type matches
    urlparse return type before putting it all back together

diff --git a/requests/cookies.py b/requests/cookies.py
index 41a2fde1..a64ea38e 100644
--- a/requests/cookies.py
+++ b/requests/cookies.py
@@ -57,6 +57,12 @@ class MockRequest(object):
         # If they did set it, retrieve it and reconstruct the expected domain
         host = self._r.headers['Host']
         parsed = urlparse(self._r.url)
+
+        # If parsed url is str type, ensure that host is also str type
+        if isinstance(parsed.scheme, str) and not isinstance(host, str)\
+                and isinstance(host, bytes):
+            host = host.decode('ascii')
+
         # Reconstruct the URL as we expect it
         return urlunparse([
             parsed.scheme, host, parsed.path, parsed.params, parsed.query,
