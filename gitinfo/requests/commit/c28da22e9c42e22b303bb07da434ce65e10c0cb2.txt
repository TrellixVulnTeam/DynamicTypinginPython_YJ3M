commit c28da22e9c42e22b303bb07da434ce65e10c0cb2
Author: Yossi Gottlieb <yossigo@gmail.com>
Date:   Sat Sep 27 20:42:58 2014 +0300

    A fix for #1979 repeat HTTP digest authentication after redirect.

diff --git a/requests/auth.py b/requests/auth.py
index 9b6426dc..41be9829 100644
--- a/requests/auth.py
+++ b/requests/auth.py
@@ -150,6 +150,14 @@ class HTTPDigestAuth(AuthBase):
 
         return 'Digest %s' % (base)
 
+    def handle_302(self, r, **kwargs):
+        """Reset num_401_calls counter on redirects."""
+        try:
+            delattr(self, 'num_401_calls')
+        except AttributeError:
+            pass
+        return r
+
     def handle_401(self, r, **kwargs):
         """Takes the given response and tries digest-auth, if needed."""
 
@@ -194,4 +202,5 @@ class HTTPDigestAuth(AuthBase):
         except AttributeError:
             pass
         r.register_hook('response', self.handle_401)
+        r.register_hook('response', self.handle_302)
         return r
