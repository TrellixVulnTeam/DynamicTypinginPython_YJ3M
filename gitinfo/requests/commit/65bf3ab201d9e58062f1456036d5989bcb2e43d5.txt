commit 65bf3ab201d9e58062f1456036d5989bcb2e43d5
Author: Idan Gazit <idan@gazit.me>
Date:   Tue May 1 13:03:10 2012 +0300

    Backing out stupidly incorrect str vs unicode check
    
    It's simply wrong. Since compat.py sets str = unicode for py2, the
    original logic is sound.

diff --git a/requests/models.py b/requests/models.py
index 6d32189a..1ba1c3ea 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -8,7 +8,6 @@ This module contains the primary objects that power Requests.
 """
 
 import os
-import types
 from datetime import datetime
 
 from .hooks import dispatch_hook, HOOKS
@@ -337,8 +336,8 @@ class Request(object):
             for k, vs in params:
                 for v in isinstance(vs, list) and vs or [vs]:
                     result.append(
-                        (k.encode('utf-8') if isinstance(k, types.StringType) else k,
-                         v.encode('utf-8') if isinstance(v, types.StringType) else v))
+                        (k.encode('utf-8') if isinstance(k, str) else k,
+                         v.encode('utf-8') if isinstance(v, str) else v))
             return result, urlencode(result, doseq=True)
         else:
             return data, data
