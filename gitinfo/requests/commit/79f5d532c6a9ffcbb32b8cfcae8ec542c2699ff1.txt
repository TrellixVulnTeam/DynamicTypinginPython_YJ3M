commit 79f5d532c6a9ffcbb32b8cfcae8ec542c2699ff1
Author: Tom Moertel <tom@smashcode.com>
Date:   Tue Jan 10 18:09:49 2012 -0500

    Fix bug in HTTP-digest auth w/ URI having query string

diff --git a/requests/auth.py b/requests/auth.py
index 4af3d6d3..8ae2ec69 100644
--- a/requests/auth.py
+++ b/requests/auth.py
@@ -86,7 +86,9 @@ class HTTPDigestAuth(AuthBase):
             # XXX not implemented yet
             entdig = None
             p_parsed = urlparse(r.request.url)
-            path = p_parsed.path + p_parsed.query
+            path = p_parsed.path
+            if p_parsed.query:
+                path += '?' + p_parsed.query
 
             A1 = '%s:%s:%s' % (self.username, realm, self.password)
             A2 = '%s:%s' % (r.request.method, path)
