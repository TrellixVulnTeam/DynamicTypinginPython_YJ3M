commit 4dfd6f3fc1f73c013163b1dec8f24accf99df69d
Author: Ian Cordasco <graffatcolmingov@gmail.com>
Date:   Tue Feb 12 23:00:06 2013 -0500

    Dispatch hooks before following redirects
    
    Fixes #1183

diff --git a/requests/sessions.py b/requests/sessions.py
index 8efcc84b..c53ccfc4 100644
--- a/requests/sessions.py
+++ b/requests/sessions.py
@@ -414,6 +414,9 @@ class Session(SessionRedirectMixin):
         # Total elapsed time of the request (approximately)
         r.elapsed = datetime.utcnow() - start
 
+        # Response manipulation hooks
+        r = dispatch_hook('response', hooks, r)
+
         # Redirect resolving generator.
         gen = self.resolve_redirects(r, request, stream=stream,
                                      timeout=timeout, verify=verify, cert=cert,
@@ -430,9 +433,6 @@ class Session(SessionRedirectMixin):
             r = history.pop()
             r.history = tuple(history)
 
-        # Response manipulation hooks
-        r = dispatch_hook('response', hooks, r)
-
         return r
 
     def get_adapter(self, url):
