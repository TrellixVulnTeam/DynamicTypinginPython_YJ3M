commit ce234d53a5b8d829eca4f27857e6ea2625575fe8
Author: deronnax <deronnax@gmail.com>
Date:   Wed Mar 25 18:21:34 2015 +0100

    shorter and faster version extraction from __init__.py

diff --git a/setup.py b/setup.py
index 4637291f..67ca2eed 100755
--- a/setup.py
+++ b/setup.py
@@ -30,12 +30,8 @@ requires = []
 
 version = ''
 with open('requests/__init__.py', 'r') as fd:
-    reg = re.compile(r'__version__\s*=\s*[\'"]([^\'"]*)[\'"]')
-    for line in fd:
-        m = reg.match(line)
-        if m:
-            version = m.group(1)
-            break
+    version = re.search(r'__version__\s*=\s*[\'"]([^\'"]*)[\'"]',
+                         fd.read()).group(1)
 
 if not version:
     raise RuntimeError('Cannot find version information')
