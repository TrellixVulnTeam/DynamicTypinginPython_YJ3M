commit e6e3589c36181ae952493ae3ff37f21a450110aa
Author: Kenneth Reitz <me@kennethreitz.org>
Date:   Sun May 28 12:14:27 2017 -0400

    number of cores for travis

diff --git a/setup.py b/setup.py
index a316402e..193c8877 100755
--- a/setup.py
+++ b/setup.py
@@ -8,6 +8,7 @@ from codecs import open
 
 from setuptools import setup
 from setuptools.command.test import test as TestCommand
+from multiprocessing import cpu_count
 
 here = os.path.abspath(os.path.dirname(__file__))
 
@@ -16,7 +17,7 @@ class PyTest(TestCommand):
 
     def initialize_options(self):
         TestCommand.initialize_options(self)
-        self.pytest_args = ['-n', '8', '--boxed']
+        self.pytest_args = ['-n', str(cpu_count()), '--boxed']
 
     def finalize_options(self):
         TestCommand.finalize_options(self)
