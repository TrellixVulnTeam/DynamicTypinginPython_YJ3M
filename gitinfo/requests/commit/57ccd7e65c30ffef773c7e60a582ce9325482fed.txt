commit 57ccd7e65c30ffef773c7e60a582ce9325482fed
Author: Shivaram Lingamneni <slingamn@cs.stanford.edu>
Date:   Tue May 1 23:42:24 2012 -0700

    Have Travis run all tests except the external and async ones
    
    (async is currently unsupported under Python 3)

diff --git a/.travis.yml b/.travis.yml
index 5bac46eb..10521989 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -4,7 +4,7 @@ python:
   - 2.7
   - 3.2
 env: HTTPBIN_URL=http://httpbin.org/
-script: make simpleci
+script: make ci
 install:
   - pip install nose
   - pip install . --use-mirrors
diff --git a/Makefile b/Makefile
index 25d02369..db387710 100644
--- a/Makefile
+++ b/Makefile
@@ -13,15 +13,12 @@ lazy:
 simple:
 	nosetests tests/test_requests.py
 
+ci:
+	find tests/ -name "*.py" ! -name "test_requests_ext.py" ! -name "test_requests_async.py" | xargs nosetests --with-xunit --xunit-file=junit-report.xml
+
 server:
 	gunicorn httpbin:app --bind=0.0.0.0:7077 &
 
-ci: init
-	nosetests tests/test_requests.py --with-xunit --xunit-file=junit-report.xml
-
-simpleci:
-	nosetests tests/test_requests.py --with-xunit --xunit-file=junit-report.xml
-
 stats:
 	pyflakes requests | awk -F\: '{printf "%s:%s: [E]%s\n", $1, $2, $3}' > violations.pyflakes.txt
 
