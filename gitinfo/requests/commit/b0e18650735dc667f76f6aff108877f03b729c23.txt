commit b0e18650735dc667f76f6aff108877f03b729c23
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Mon Feb 20 15:43:45 2012 -0500

    netrc fix

diff --git a/requests/utils.py b/requests/utils.py
index c9f5ad74..dd93b056 100644
--- a/requests/utils.py
+++ b/requests/utils.py
@@ -46,8 +46,10 @@ def get_netrc_auth(url):
 
     try:
         _netrc = netrc(netrc_path).authenticators(host)
-        # Return with login / password
-        return (_netrc[0 if _netrc[0] else 1], _netrc[2])
+        if _netrc:
+            # Return with login / password
+            login_i = (0 if _netrc[0] else 1)
+            return (_netrc[login_i], _netrc[2])
     except NetrcParseError:
         pass
 
