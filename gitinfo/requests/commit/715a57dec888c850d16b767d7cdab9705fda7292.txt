commit 715a57dec888c850d16b767d7cdab9705fda7292
Author: papaeye <papaeye@gmail.com>
Date:   Wed May 22 02:20:51 2013 +0900

    Fix typo, %t -> %r

diff --git a/requests/models.py b/requests/models.py
index db898bca..6cf2aaa1 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -291,7 +291,7 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):
             raise MissingSchema("Invalid URL %r: No schema supplied" % url)
 
         if not host:
-            raise InvalidURL("Invalid URL %t: No host supplied" % url)
+            raise InvalidURL("Invalid URL %r: No host supplied" % url)
 
         # Only want to apply IDNA to the hostname
         try:
diff --git a/test_requests.py b/test_requests.py
index 2b5f231c..09619fff 100644
--- a/test_requests.py
+++ b/test_requests.py
@@ -14,6 +14,7 @@ from requests.auth import HTTPDigestAuth
 from requests.adapters import HTTPAdapter
 from requests.compat import str, cookielib
 from requests.cookies import cookiejar_from_dict
+from requests.exceptions import InvalidURL, MissingSchema
 from requests.structures import CaseInsensitiveDict
 
 try:
@@ -53,7 +54,8 @@ class RequestsTestCase(unittest.TestCase):
         requests.post
 
     def test_invalid_url(self):
-        self.assertRaises(ValueError, requests.get, 'hiwpefhipowhefopw')
+        self.assertRaises(MissingSchema, requests.get, 'hiwpefhipowhefopw')
+        self.assertRaises(InvalidURL, requests.get, 'http://')
 
     def test_basic_building(self):
         req = requests.Request()
