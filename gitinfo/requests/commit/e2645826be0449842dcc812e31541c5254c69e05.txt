commit e2645826be0449842dcc812e31541c5254c69e05
Author: Chris Dary <umbrae@gmail.com>
Date:   Tue Feb 28 12:08:37 2012 -0500

    Decode URL to utf-8 before joining.
    
    To avoid UnicodeDecodeError's like on http://blip.fm/~1abvfu

diff --git a/requests/models.py b/requests/models.py
index 8368c9fb..aea77237 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -227,6 +227,8 @@ class Request(object):
                 # Facilitate non-RFC2616-compliant 'location' headers
                 # (e.g. '/path/to/resource' instead of 'http://domain.tld/path/to/resource')
                 if not urlparse(url).netloc:
+                    if not isinstance(url, unicode):
+                        url = url.decode('utf-8', 'ignore')
                     url = urljoin(r.url, url)
 
                 # http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.4
