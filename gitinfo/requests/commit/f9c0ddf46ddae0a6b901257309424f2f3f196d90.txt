commit f9c0ddf46ddae0a6b901257309424f2f3f196d90
Author: Victoria Mo <vm2355@columbia.edu>
Date:   Sat Jul 14 18:26:38 2012 -0400

    Added needed cast for when POSTing data and files (Issue #661)
    
    Co-Authored By: Timnit Gebru <tgebru@gmail.com>
    Co-Authored By: Sarah Gonzalez <smar.gonz@gmail.com>
    Co-Authored By: Leila Muhtasib <muhtasib@gmail.com>

diff --git a/requests/models.py b/requests/models.py
index 727654c8..dc0aef8d 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -355,6 +355,13 @@ class Request(object):
                 fp = StringIO(fp)
             fields.update({k: (fn, fp.read())})
 
+        for field in fields:
+            if isinstance(fields[field], float):
+                fields[field] = str(fields[field])
+            if isinstance(fields[field], list):
+                newvalue = ', '.join(fields[field])
+                fields[field] = newvalue
+                
         (body, content_type) = encode_multipart_formdata(fields)
 
         return (body, content_type)
