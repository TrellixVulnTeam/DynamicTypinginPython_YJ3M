commit cc7bee19f0f1490d3bfd321bf94f6367c4ed3c7a
Author: sprt <hellosprt@gmail.com>
Date:   Wed Jan 23 15:45:44 2013 +0100

    Refactor prepare_hooks()

diff --git a/requests/models.py b/requests/models.py
index bea38649..4197eaf0 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -424,18 +424,8 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):
 
     def prepare_hooks(self, hooks):
         """Prepares the given hooks."""
-        for event in HOOKS:
-            if event not in self.hooks:
-                self.hooks[event] = []
-            if event not in hooks:
-                hooks[event] = []
-
-            if not hasattr(self.hooks[event], '__iter__'):
-                self.hooks[event] = [self.hooks[event]]
-            if not hasattr(hooks[event], '__iter__'):
-                hooks[event] = [hooks[event]]
-
-            self.hooks[event].extend(hooks[event])
+        for event in hooks:
+            self.register_hook(event, hooks[event])
 
 
 class Response(object):
