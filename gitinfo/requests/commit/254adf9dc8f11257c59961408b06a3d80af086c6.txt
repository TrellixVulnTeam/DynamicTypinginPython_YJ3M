commit 254adf9dc8f11257c59961408b06a3d80af086c6
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Thu Jun 28 17:33:57 2012 -0700

    version-dependent package includes

diff --git a/setup.py b/setup.py
index 48aa1468..10b8c67e 100755
--- a/setup.py
+++ b/setup.py
@@ -4,6 +4,7 @@ import os
 import sys
 
 import requests
+import requests.compat import is_py2
 
 try:
     from setuptools import setup
@@ -17,18 +18,23 @@ if sys.argv[-1] == 'publish':
 packages = [
     'requests',
     'requests.packages',
-    'requests.packages.oauthlib',
-    'requests.packages.oauthlib.oauth1',
-    'requests.packages.oauthlib.oauth1.rfc5849',
-    'requests.packages.oauthlib.oauth2',
-    'requests.packages.oauthlib.oauth2.draft25',
-    'requests.packages.chardet',
-    'requests.packages.chardet2',
     'requests.packages.urllib3',
     'requests.packages.urllib3.packages',
     'requests.packages.urllib3.packages.ssl_match_hostname'
 ]
 
+if is_py2:
+    packages.extend([
+        'requests.packages.oauthlib',
+        'requests.packages.oauthlib.oauth1',
+        'requests.packages.oauthlib.oauth1.rfc5849',
+        'requests.packages.oauthlib.oauth2',
+        'requests.packages.oauthlib.oauth2.draft25',
+        'requests.packages.chardet',
+    ])
+else:
+    packages.append('requests.packages.chardet2')
+
 requires = []
 
 setup(
