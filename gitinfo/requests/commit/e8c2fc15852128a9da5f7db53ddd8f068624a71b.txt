commit e8c2fc15852128a9da5f7db53ddd8f068624a71b
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Fri Sep 30 07:08:33 2011 -0400

    ch ch ch changes

diff --git a/requests/models.py b/requests/models.py
index 3f23ee3c..5235f36e 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -33,7 +33,12 @@ class Request(object):
     def __init__(self,
         url=None, headers=dict(), files=None, method=None, data=dict(),
         params=dict(), auth=None, cookies=None, timeout=None, redirect=False,
-        allow_redirects=False, proxies=None, config=None, _pools=None):
+        allow_redirects=False, proxies=None, config=None, hooks=None,
+        _pools=None):
+
+        if cookies is None:
+            cookies = {}
+
 
         #: Float describ the timeout of the request.
         #  (Use socket.setdefaulttimeout() as fallback)
@@ -105,6 +110,7 @@ class Request(object):
 
         self.headers = headers
 
+        self.hooks = hooks
         self._pools = _pools
 
     def __repr__(self):
@@ -237,7 +243,8 @@ class Request(object):
                 # Send her away!
                 request.send()
                 r = request.response
-                self.cookies.update(r.cookies)
+
+                self.cookies.update(r.cookies or {})
 
             # Insert collected history.
             r.history = history
@@ -280,8 +287,6 @@ class Request(object):
                 content_type = 'application/x-www-form-urlencoded'
 
         # Setup cookies.
-        elif self.cookies:
-            pass
 
         # Add content-type if it wasn't explicitly provided.
         if (content_type) and (not 'content-type' in self.headers):
@@ -343,7 +348,7 @@ class Request(object):
                 )
 
                 # Set the pools manager for redirections, if allowed.
-                if self.config.get('keepalive') and pools:
+                if self.config.get('keep_alive') and pools:
                     self._pools = pools
 
 
