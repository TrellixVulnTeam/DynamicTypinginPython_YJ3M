commit 53c7b777355a42eaef1df0c88916d413d3e996ec
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Sun Oct 23 14:46:44 2011 -0400

    Digest Authentication test.

diff --git a/test_requests.py b/test_requests.py
index 984dc05f..82f95954 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -139,7 +139,7 @@ class RequestsTestSuite(unittest.TestCase):
         self.assertEqual(r.status_code, 200)
 
 
-    def test_AUTH_HTTP_200_OK_GET(self):
+    def test_BASICAUTH_HTTP_200_OK_GET(self):
 
         for service in SERVICES:
 
@@ -158,6 +158,24 @@ class RequestsTestSuite(unittest.TestCase):
             self.assertEqual(r.status_code, 200)
 
 
+    def test_DIGESTAUTH_HTTP_200_OK_GET(self):
+
+        for service in SERVICES:
+
+            auth = ('digest', 'user', 'pass')
+            url = service('digest-auth', 'auth', 'user', 'pass')
+
+            r = requests.get(url, auth=auth)
+            self.assertEqual(r.status_code, 200)
+
+            r = requests.get(url)
+            self.assertEqual(r.status_code, 401)
+
+
+            s = requests.session(auth=auth)
+            r = s.get(url)
+            self.assertEqual(r.status_code, 200)
+
     def test_POSTBIN_GET_POST_FILES(self):
 
         for service in SERVICES:
