commit a453a78c7c94aa220aa099dd62a36ec5b5232571
Author: Shivaram Lingamneni <slingamn@cs.stanford.edu>
Date:   Tue May 1 22:52:34 2012 -0700

    Update Makefile and travis configuration to run all (non-external) tests

diff --git a/.travis.yml b/.travis.yml
index 5bac46eb..b32441c7 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -4,7 +4,8 @@ python:
   - 2.7
   - 3.2
 env: HTTPBIN_URL=http://httpbin.org/
-script: make simpleci
+script: make ci
 install:
   - pip install nose
+  - pip install gevent
   - pip install . --use-mirrors
diff --git a/Makefile b/Makefile
index 25d02369..604976c3 100644
--- a/Makefile
+++ b/Makefile
@@ -13,15 +13,12 @@ lazy:
 simple:
 	nosetests tests/test_requests.py
 
+ci:
+	find tests/ -name "*.py" ! -path "test_requests_ext.py" | xargs nosetests --with-xunit --xunit-file=junit-report.xml
+
 server:
 	gunicorn httpbin:app --bind=0.0.0.0:7077 &
 
-ci: init
-	nosetests tests/test_requests.py --with-xunit --xunit-file=junit-report.xml
-
-simpleci:
-	nosetests tests/test_requests.py --with-xunit --xunit-file=junit-report.xml
-
 stats:
 	pyflakes requests | awk -F\: '{printf "%s:%s: [E]%s\n", $1, $2, $3}' > violations.pyflakes.txt
 
