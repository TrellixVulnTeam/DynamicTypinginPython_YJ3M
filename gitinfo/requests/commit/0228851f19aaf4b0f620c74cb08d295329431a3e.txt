commit 0228851f19aaf4b0f620c74cb08d295329431a3e
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Wed Oct 30 15:32:19 2013 -0400

    Revert "Merge pull request #1710 from jvantuyl/master"
    
    This reverts commit a8300c0ae6dd7e6b1655cf80b349e0bf645ff694, reversing
    changes made to 2e196be143035fa6d03743d6ca95a2904572f12a.

diff --git a/requests/models.py b/requests/models.py
index a9ccaf7b..a67868e4 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -327,11 +327,6 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):
             raise MissingSchema("Invalid URL {0!r}: No schema supplied. "
                                 "Perhaps you meant http://{0}?".format(url))
 
-        # Don't do any URL preparation for oddball schemes
-        if scheme.lower() not in ('http', 'https'):
-            self.url = url
-            return
-
         if not host:
             raise InvalidURL("Invalid URL %r: No host supplied" % url)
 
diff --git a/requests/packages/urllib3/util.py b/requests/packages/urllib3/util.py
index 19b7c7e8..cf934d42 100644
--- a/requests/packages/urllib3/util.py
+++ b/requests/packages/urllib3/util.py
@@ -365,8 +365,6 @@ def parse_url(url):
     # Scheme
     if '://' in url:
         scheme, url = url.split('://', 1)
-    elif ':' in url:
-        scheme, url = url.split(':', 1)
 
     # Find the earliest Authority Terminator
     # (http://tools.ietf.org/html/rfc3986#section-3.2)
diff --git a/test_requests.py b/test_requests.py
index a67be624..a593db30 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -678,14 +678,6 @@ class RequestsTestCase(unittest.TestCase):
 
         assert p.headers['Content-Length'] == length
 
-    def test_oddball_schemes_dont_check_URLs(self):
-        r1 = requests.Request('GET', 'data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==')
-        r1.prepare()
-        r2 = requests.Request('GET', 'file:///etc/passwd')
-        r2.prepare()
-        r3 = requests.Request('GET', 'magnet:?xt=urn:btih:be08f00302bc2d1d3cfa3af02024fa647a271431')
-        r3.prepare()
-
 class TestContentEncodingDetection(unittest.TestCase):
 
     def test_none(self):
