commit 99364b6b0b8d1ce5ac69121040e641db99d562d1
Author: Nate Prewitt <Nate.Prewitt@gmail.com>
Date:   Wed Aug 24 10:25:37 2016 -0600

    removing use of seek to set total_length

diff --git a/requests/utils.py b/requests/utils.py
index c847e601..a225d09a 100644
--- a/requests/utils.py
+++ b/requests/utils.py
@@ -86,18 +86,16 @@ def super_len(o):
             if total_length is not None:
                 current_position = total_length
 
-    if hasattr(o, 'seek') and total_length is None:
-        # StringIO has a notimplemented fileno
-        # BytesIO has seek and not fileno
-        total_length = o.seek(0, 2)
-        # StringIO objects in py2 returns None
-        if total_length is None and hasattr(o, 'tell'):
+        if hasattr(o, 'seek') and total_length is None:
+            # StringIO and BytesIO have seek but no useable fileno
+
+            # seek to end of file
+            o.seek(0, 2)
             total_length = o.tell()
-        elif total_length is None:
-            total_length = 0
 
-        # seek back to current position to support partially read file-like
-        o.seek(current_position or 0)
+            # seek back to current position to support
+            # partially read file-like objects
+            o.seek(current_position or 0)
 
     if total_length is None:
         total_length = 0
