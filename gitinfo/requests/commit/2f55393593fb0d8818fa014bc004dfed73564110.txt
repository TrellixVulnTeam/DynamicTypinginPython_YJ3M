commit 2f55393593fb0d8818fa014bc004dfed73564110
Author: Den Shabalin <den.shabalin@gmail.com>
Date:   Fri Aug 19 19:18:26 2011 +0300

    Fixes an issue #128: ``Response not working with lxml''. This error happend due to lxml's attempt to do .geturl() call on the response object. __getattr__ didn't raise AttributeError so ``response.geturl'' returned None and ``response.geturl()'' resulted into ``TypeError: 'NoneType' object is not callable'' seen in the issue.

diff --git a/requests/models.py b/requests/models.py
index 0b22f711..5e0a4d3b 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -416,7 +416,8 @@ class Response(object):
                 except zlib.error:
                     pass
             return self._content
-
+        else:
+            raise AttributeError
 
     def raise_for_status(self):
         """Raises stored :class:`HTTPError` or :class:`URLError`, if one occured."""
