commit 3216bda17432dcb0e7480ba0068b927f7ff746b5
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Mon Feb 14 09:45:12 2011 -0500

    Added multipart_files support for PUT

diff --git a/requests/core.py b/requests/core.py
index e63dc224..5d9e5b74 100644
--- a/requests/core.py
+++ b/requests/core.py
@@ -148,12 +148,22 @@ class Request(object):
 		elif self.method == 'PUT':
 			if (not self.sent) or anyway:
 
-				req = _Request(self.url, method='PUT')
+				if self.multipart_files:
+					register_openers()
+					datagen, headers = multipart_encode(self.multipart_files)
+					req = _Request(self.url, data=datagen, headers=headers, method='PUT')
 
-				if self.headers:
-					req.headers = self.headers
+					if self.headers:
+						req.headers.update(self.headers)
 
-				req.data = self.data
+				else:
+
+					req = _Request(self.url, method='PUT')
+
+					if self.headers:
+						req.headers = self.headers
+
+					req.data = self.data
 
 				try:
 					opener = self._get_opener()
@@ -184,13 +194,11 @@ class Request(object):
 					req = _Request(self.url, method='POST')
 					req.headers = self.headers
 
+					# url encode form data if it's a dict
 					if isinstance(self.data, dict):
 						req.data = urllib.urlencode(self.data)
 					else:
 						req.data = self.data
-					
-				# url encode form data if it's a dict
-
 
 				try:
 
