commit 35b0c5e16ea01a077357057fdd1b60fcfd64a73f
Author: ben <ben@yyer.org>
Date:   Tue Nov 15 10:59:39 2011 +0800

    fixed proxy

diff --git a/requests/models.py b/requests/models.py
index bff73cbe..da9abd3d 100644
--- a/requests/models.py
+++ b/requests/models.py
@@ -377,7 +377,7 @@ class Request(object):
         proxy = self.proxies.get(_p.scheme)
 
         if proxy:
-            conn = poolmanager.proxy_from_url(url)
+            conn = poolmanager.proxy_from_url(proxy)
         else:
             # Check to see if keep_alive is allowed.
             if self.config.get('keep_alive'):
