commit 5861254d8f5df33820b333be8d7ee28b40da99a5
Author: Ralph Bean <rbean@redhat.com>
Date:   Thu Jan 24 12:47:55 2013 -0500

    Test for cookie parameters.

diff --git a/test_requests.py b/test_requests.py
index 32a9d01b..01f0a36b 100644
--- a/test_requests.py
+++ b/test_requests.py
@@ -266,6 +266,23 @@ class RequestsTestCase(unittest.TestCase):
         r = requests.head(url=url)
         self.assertEqual(r.links['next']['rel'], 'next')
 
+    def test_cookie_parameters(self):
+        key = 'some_cookie'
+        value = 'some_value'
+        secure = True
+        domain = 'test.com'
+        rest = {'HttpOnly': True}
+
+        jar = requests.cookies.RequestsCookieJar()
+        jar.set(key, value, secure=secure, domain=domain, rest=rest)
+
+        self.assertEqual(len(jar), 1)
+        self.assertIn('some_cookie', jar)
+
+        cookie = list(jar)[0]
+        self.assertEqual(cookie.secure, secure)
+        self.assertEqual(cookie.domain, domain)
+        self.assertEqual(cookie._rest['HttpOnly'], rest['HttpOnly'])
 
 if __name__ == '__main__':
     unittest.main()
