commit 87560d65ca09d2065334f940f04b40ac28b0509a
Author: Kenneth Reitz <me@kennethreitz.com>
Date:   Sat Jul 23 22:16:21 2011 -0400

    redirect history length test

diff --git a/test_requests.py b/test_requests.py
index 0c334577..54219350 100755
--- a/test_requests.py
+++ b/test_requests.py
@@ -353,5 +353,14 @@ class RequestsTestSuite(unittest.TestCase):
         self.assertEquals(rbody.get('data'), '')
 
 
+    def test_redirect_history(self):
+        r = requests.get(httpbin('redirect', '3'))
+        self.assertEquals(r.status_code, 200)
+        self.assertEquals(len(r.history), 3)
+
+        r = requests.get(httpsbin('redirect', '3'))
+        self.assertEquals(r.status_code, 200)
+        self.assertEquals(len(r.history), 3)
+
 if __name__ == '__main__':
     unittest.main()
