commit e7e09408d491287512fe521a9484cd77fae61323
Author: Andrey Shpak <insspb@users.noreply.github.com>
Date:   Tue Apr 14 00:27:59 2020 +0300

    Add more test to improve branch coverage (#1348)
    
    * add more test to improve branch coverage
    
    * Add new test to improve tests coverage #1023
    
    Co-authored-by: Amey Joshi <amey.joshi@simplivity.com>

diff --git a/AUTHORS.md b/AUTHORS.md
index 32fb0e7..3db2a87 100644
--- a/AUTHORS.md
+++ b/AUTHORS.md
@@ -144,3 +144,4 @@
 * Pablo Panero ([@ppanero](https://github.com/ppanero))
 * Chuan-Heng Hsiao ([@chhsiao1981](https://github.com/chhsiao1981))
 * Mohammad Hossein Sekhavat ([@mhsekhavat](https://github.com/mhsekhavat))
+* Amey Joshi ([@amey589](https://github.com/amey589))
diff --git a/HISTORY.md b/HISTORY.md
index d605067..5f044c5 100644
--- a/HISTORY.md
+++ b/HISTORY.md
@@ -18,6 +18,7 @@ Internal CI/CD changes:
 * Fixed Python 3.8 travis tests and setup.py message [@insspb](https://github.com/insspb) (#1295, #1297)
 * Travis builds extended with Windows setup for all supported python versions [@insspb](https://github.com/insspb) (#1300, #1301)
 * Update .travis.yml to be compatible with latest travis cfg specs [@luzfcb](https://github.com/luzfcb) (#1346)
+* Add new test to improve tests coverage [@amey589](https://github.com/amey589) (#1023)
 
 Code style and docs changes:
 
diff --git a/tests/test_utils.py b/tests/test_utils.py
index 5743968..efbdb02 100644
--- a/tests/test_utils.py
+++ b/tests/test_utils.py
@@ -80,6 +80,27 @@ def test_prompt_should_ask_and_rm_repo_dir(mocker, tmpdir):
     assert deleted
 
 
+def test_prompt_should_ask_and_exit_on_user_no_answer(mocker, tmpdir):
+    """In `prompt_and_delete()`, if the user decline to delete/reclone the \
+    repo, cookiecutter should exit."""
+    mock_read_user = mocker.patch(
+        'cookiecutter.utils.read_user_yes_no',
+        return_value=False,
+    )
+    mock_sys_exit = mocker.patch(
+        'sys.exit',
+        return_value=True,
+    )
+    repo_dir = tmpdir.mkdir('repo')
+
+    deleted = utils.prompt_and_delete(str(repo_dir))
+
+    assert mock_read_user.called
+    assert repo_dir.exists()
+    assert not deleted
+    assert mock_sys_exit.called
+
+
 def test_prompt_should_ask_and_rm_repo_file(mocker, tmpdir):
     """In `prompt_and_delete()`, if the user agrees to delete/reclone a \
     repo file, the repo should be deleted."""
