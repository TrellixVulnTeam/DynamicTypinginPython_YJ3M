commit 486d292044e3e25e4170ee08230df69d17615f51
Author: Trey Hunner <trey@treyhunner.com>
Date:   Sun Jun 8 14:18:23 2014 -0700

    Add test for files with trailing newline

diff --git a/tests/test-generate-files/input{{cookiecutter.food}}/simple-with-newline.txt b/tests/test-generate-files/input{{cookiecutter.food}}/simple-with-newline.txt
new file mode 100644
index 0000000..8658884
--- /dev/null
+++ b/tests/test-generate-files/input{{cookiecutter.food}}/simple-with-newline.txt
@@ -0,0 +1 @@
+I eat {{ cookiecutter.food }}
diff --git a/tests/test_generate.py b/tests/test_generate.py
index a9e1683..c7a9830 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -110,6 +110,20 @@ class TestGenerateFiles(CookiecutterCleanSystemTestCase):
         simple_text = io.open('inputpizzä/simple.txt', 'rt', encoding='utf-8').read()
         self.assertEqual(simple_text, u'I eat pizzä')
 
+    def test_generate_files_with_trailing_newline(self):
+        generate.generate_files(
+            context={
+                'cookiecutter': {'food': 'pizzä'}
+            },
+            repo_dir='tests/test-generate-files'
+        )
+        self.assertTrue(os.path.isfile('inputpizzä/simple-with-newline.txt'))
+        simple_text = open('inputpizzä/simple-with-newline.txt', 'rt').read()
+        if PY3:
+            self.assertEqual(simple_text, 'I eat pizzä\n')
+        else:
+            self.assertEqual(simple_text, u'I eat pizzä\n')
+
     def test_generate_files_binaries(self):
         generate.generate_files(
             context={
