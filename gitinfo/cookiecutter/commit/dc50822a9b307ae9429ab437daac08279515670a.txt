commit dc50822a9b307ae9429ab437daac08279515670a
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Nov 22 03:44:23 2015 +0100

    Exit with code 1 in cli in case of an UndefinedVariableInTemplate error

diff --git a/cookiecutter/cli.py b/cookiecutter/cli.py
index 8825a8f..d69918d 100755
--- a/cookiecutter/cli.py
+++ b/cookiecutter/cli.py
@@ -18,7 +18,10 @@ from cookiecutter import __version__
 from cookiecutter.config import USER_CONFIG_PATH
 from cookiecutter.main import cookiecutter
 from cookiecutter.exceptions import (
-    OutputDirExistsException, InvalidModeException, FailedHookException
+    OutputDirExistsException,
+    InvalidModeException,
+    FailedHookException,
+    UndefinedVariableInTemplate
 )
 
 logger = logging.getLogger(__name__)
@@ -100,7 +103,9 @@ def main(template, no_input, checkout, verbose, replay, overwrite_if_exists,
             config_file=user_config
         )
     except (OutputDirExistsException,
-            InvalidModeException, FailedHookException) as e:
+            InvalidModeException,
+            FailedHookException,
+            UndefinedVariableInTemplate) as e:
         click.echo(e)
         sys.exit(1)
 
