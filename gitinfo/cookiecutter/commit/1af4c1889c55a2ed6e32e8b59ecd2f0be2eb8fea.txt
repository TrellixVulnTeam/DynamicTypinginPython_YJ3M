commit 1af4c1889c55a2ed6e32e8b59ecd2f0be2eb8fea
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Aug 4 00:43:08 2015 +0200

    Implement test to ensure the replay dir existence is verified

diff --git a/tests/test_replay.py b/tests/test_replay.py
index 035d43b..a341c0f 100644
--- a/tests/test_replay.py
+++ b/tests/test_replay.py
@@ -44,3 +44,13 @@ def test_dump_value_error_if_no_template_name(context):
 def test_dump_type_error_if_not_dict_context(template_name):
     with pytest.raises(TypeError):
         replay.dump(template_name, 'not_a_dict')
+
+
+def test_dump_make_sure_dir_exists(mocker, template_name, context):
+    mock_ensure = mocker.patch(
+        'cookiecutter.replay.make_sure_path_exists',
+        return_value=True
+    )
+    replay.dump(template_name, context)
+
+    mock_ensure.assert_called_once_with(template_name)
