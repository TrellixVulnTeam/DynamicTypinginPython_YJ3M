commit 36c5270c44684abe5210641c7241841f8ff5fc9d
Author: Audrey Roy <audreyr@gmail.com>
Date:   Mon Aug 19 01:03:04 2013 +0200

    Don't do .encode('utf-8') on already unicode string in py3 test.

diff --git a/tests/test_generate.py b/tests/test_generate.py
index e6d889a..f293be3 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -11,6 +11,7 @@ from __future__ import unicode_literals
 import logging
 import os
 import shutil
+import sys
 import unittest
 
 from jinja2 import FileSystemLoader
@@ -19,6 +20,9 @@ from jinja2.environment import Environment
 from cookiecutter import generate
 from cookiecutter import exceptions
 
+
+PY3 = sys.version > '3'
+
 logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
 class TestGenerate(unittest.TestCase):
@@ -38,7 +42,10 @@ class TestGenerate(unittest.TestCase):
         )
         self.assertTrue(os.path.isfile('tests/inputpizzä/simple.txt'))
         simple_text = open('tests/inputpizzä/simple.txt', 'rt').read()
-        self.assertEqual(simple_text, 'I eat pizzä'.encode('utf-8'))
+        if PY3:
+            self.assertEqual(simple_text, 'I eat pizzä')
+        else:
+            self.assertEqual(simple_text, 'I eat pizzä'.encode('utf-8'))
 
     def test_generate_files_binaries(self):
         generate.generate_files(
