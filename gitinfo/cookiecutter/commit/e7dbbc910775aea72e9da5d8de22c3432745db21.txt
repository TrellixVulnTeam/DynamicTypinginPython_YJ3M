commit e7dbbc910775aea72e9da5d8de22c3432745db21
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Nov 11 23:34:31 2014 +0100

    Replace original output dir test with pytest implementation

diff --git a/tests/test_generate.py b/tests/test_generate.py
index 24057bd..2fb7e63 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -87,17 +87,6 @@ class TestGenerateFiles(CookiecutterCleanSystemTestCase):
             utils.rmtree('inputpermissions')
         super(TestGenerateFiles, self).tearDown()
 
-    def test_generate_files_output_dir(self):
-        os.mkdir('tests/custom_output_dir')
-        generate.generate_files(
-            context={
-                'cookiecutter': {'food': 'pizzä'}
-            },
-            repo_dir=os.path.abspath('tests/test-generate-files'),
-            output_dir='tests/custom_output_dir'
-        )
-        self.assertTrue(os.path.isfile('tests/custom_output_dir/inputpizzä/simple.txt'))
-
     def test_generate_files_permissions(self):
         """
         simple.txt and script.sh should retain their respective 0o644 and
diff --git a/tests/test_generate_files.py b/tests/test_generate_files.py
index eb639a9..f2aba93 100644
--- a/tests/test_generate_files.py
+++ b/tests/test_generate_files.py
@@ -5,12 +5,13 @@
 test_generate_files
 -------------------
 
-Test formerly known from a unittest residing in test_generate.py named
+Tests formerly known from a unittest residing in test_generate.py named
 TestGenerateFiles.test_generate_files_nontemplated_exception
 TestGenerateFiles.test_generate_files
 TestGenerateFiles.test_generate_files_with_trailing_newline
 TestGenerateFiles.test_generate_files_binaries
 TestGenerateFiles.test_generate_files_absolute_path
+TestGenerateFiles.test_generate_files_output_dir
 """
 
 from __future__ import unicode_literals
@@ -124,3 +125,16 @@ def test_generate_files_absolute_path():
         repo_dir=os.path.abspath('tests/test-generate-files')
     )
     assert os.path.isfile('inputpizzä/simple.txt')
+
+
+@pytest.mark.usefixtures("clean_system_remove_additional_folders")
+def test_generate_files_output_dir():
+    os.mkdir('tests/custom_output_dir')
+    generate.generate_files(
+        context={
+            'cookiecutter': {'food': 'pizzä'}
+        },
+        repo_dir=os.path.abspath('tests/test-generate-files'),
+        output_dir='tests/custom_output_dir'
+    )
+    assert os.path.isfile('tests/custom_output_dir/inputpizzä/simple.txt')
