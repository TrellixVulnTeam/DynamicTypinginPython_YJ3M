commit a63fab9f16ab2313da7f6b5f5e73cd1cb228f3cf
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Mar 15 13:51:17 2015 +0100

    Convert test_hg_clone_cancel and remove TestVCSPrompt class

diff --git a/tests/test_vcs.py b/tests/test_vcs.py
index 946f447..c7cf2e9 100755
--- a/tests/test_vcs.py
+++ b/tests/test_vcs.py
@@ -95,31 +95,5 @@ class TestVCS(unittest.TestCase):
         )
 
 
-@unittest.skipIf(condition=no_network, reason='Needs a network connection to GitHub/Bitbucket.')
-class TestVCSPrompt(unittest.TestCase):
-
-    def setUp(self):
-        if os.path.isdir('cookiecutter-pypackage'):
-            utils.rmtree('cookiecutter-pypackage')
-        os.mkdir('cookiecutter-pypackage/')
-        if os.path.isdir('cookiecutter-trytonmodule'):
-            utils.rmtree('cookiecutter-trytonmodule')
-        os.mkdir('cookiecutter-trytonmodule/')
-
-    @patch('cookiecutter.prompt.read_response', lambda x=u'': u'n')
-    def test_hg_clone_cancel(self):
-        self.assertRaises(
-            SystemExit,
-            vcs.clone,
-            'https://bitbucket.org/pokoli/cookiecutter-trytonmodule'
-        )
-
-    def tearDown(self):
-        if os.path.isdir('cookiecutter-pypackage'):
-            utils.rmtree('cookiecutter-pypackage')
-        if os.path.isdir('cookiecutter-trytonmodule'):
-            utils.rmtree('cookiecutter-trytonmodule')
-
-
 if __name__ == '__main__':
     unittest.main()
diff --git a/tests/test_vcs_prompt.py b/tests/test_vcs_prompt.py
index 10d0499..67ff942 100755
--- a/tests/test_vcs_prompt.py
+++ b/tests/test_vcs_prompt.py
@@ -75,3 +75,14 @@ def test_hg_clone_overwrite(monkeypatch):
     )
     assert repo_dir == 'cookiecutter-trytonmodule'
     assert os.path.isfile('cookiecutter-trytonmodule/README.rst')
+
+
+@skipif_no_network
+def test_hg_clone_cancel(monkeypatch):
+    monkeypatch.setattr(
+        'cookiecutter.prompt.read_response',
+        lambda x=u'': u'n'
+    )
+
+    with pytest.raises(SystemExit):
+        vcs.clone('https://bitbucket.org/pokoli/cookiecutter-trytonmodule')
