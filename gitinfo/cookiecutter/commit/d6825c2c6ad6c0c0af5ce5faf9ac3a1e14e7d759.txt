commit d6825c2c6ad6c0c0af5ce5faf9ac3a1e14e7d759
Author: Nicholas Bollweg (Nick) <nick.bollweg@gmail.com>
Date:   Wed Oct 22 23:21:18 2014 -0400

    adding test for templated config

diff --git a/tests/test_prompt.py b/tests/test_prompt.py
index 2bf714a..b4f6d47 100755
--- a/tests/test_prompt.py
+++ b/tests/test_prompt.py
@@ -54,6 +54,15 @@ class TestPrompt(unittest.TestCase):
         cookiecutter_dict = prompt.prompt_for_config(context)
         self.assertEqual(cookiecutter_dict, {"full_name": u"Řekni či napiš své jméno"})
 
+    @patch('cookiecutter.prompt.read_response', lambda x=u'': u'\n')
+    def test_unicode_prompt_for_templated_config(self):
+        context = {"cookiecutter": {"project_name": u"A New Project",
+            "pkg_name": "{{ project_name|replace(' ', '')|lower }}"}}
+
+        cookiecutter_dict = prompt.prompt_for_config(context)
+        self.assertEqual(cookiecutter_dict, {"project_name": u"A New Project",
+             "pkg_name": u"anewproject"})
+
 
 class TestQueryAnswers(unittest.TestCase):
 
