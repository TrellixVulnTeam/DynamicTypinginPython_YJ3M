commit 063a68369180dc58c72be4d6fe2249785c2b02f3
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Nov 7 14:44:43 2015 +0100

    Implement a test for --default-config in conjunction with --config-file

diff --git a/tests/test_cli.py b/tests/test_cli.py
index f571257..9d60f16 100644
--- a/tests/test_cli.py
+++ b/tests/test_cli.py
@@ -247,3 +247,28 @@ def test_user_config(mocker, user_config_path):
         output_dir='.',
         config_file=user_config_path
     )
+
+
+def test_default_user_config_overwrite(mocker, user_config_path):
+    mock_cookiecutter = mocker.patch(
+        'cookiecutter.cli.cookiecutter'
+    )
+
+    template_path = 'tests/fake-repo-pre/'
+    result = runner.invoke(main, [
+        template_path,
+        '--config-file',
+        user_config_path,
+        '--default-config'
+    ])
+
+    assert result.exit_code == 0
+    mock_cookiecutter.assert_called_once_with(
+        template_path,
+        None,
+        False,
+        replay=False,
+        overwrite_if_exists=False,
+        output_dir='.',
+        config_file=None
+    )
