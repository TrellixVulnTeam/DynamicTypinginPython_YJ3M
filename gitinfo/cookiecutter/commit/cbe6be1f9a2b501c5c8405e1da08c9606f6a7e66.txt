commit cbe6be1f9a2b501c5c8405e1da08c9606f6a7e66
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Nov 16 18:44:28 2014 +0100

    Convert test_cookiecutter_no_slash with parametrized fixture

diff --git a/tests/test_cookiecutter_local_no_input.py b/tests/test_cookiecutter_local_no_input.py
index d89f9bd..c0d2f8a 100644
--- a/tests/test_cookiecutter_local_no_input.py
+++ b/tests/test_cookiecutter_local_no_input.py
@@ -7,6 +7,7 @@ test_cookiecutter_local_no_input
 
 Tests formerly known from a unittest residing in test_main.py named
 TestCookiecutterLocalNoInput.test_cookiecutter
+TestCookiecutterLocalNoInput.test_cookiecutter_no_slash
 """
 
 import os
@@ -30,9 +31,16 @@ def remove_additional_dirs(request):
     request.addfinalizer(fin_remove_additional_dirs)
 
 
-@pytest.mark.usefixtures('clean_system', 'remove_additional_dirs')
+@pytest.fixture(params=['tests/fake-repo-pre/', 'tests/fake-repo-pre'])
+def bake(request):
+    """
+    Run cookiecutter with the given input_dir path.
+    """
+    main.cookiecutter(request.param, no_input=True)
+
+
+@pytest.mark.usefixtures('clean_system', 'remove_additional_dirs', 'bake')
 def test_cookiecutter():
-    main.cookiecutter('tests/fake-repo-pre/', no_input=True)
     assert os.path.isdir('tests/fake-repo-pre/{{cookiecutter.repo_name}}')
     assert not os.path.isdir('tests/fake-repo-pre/fake-project')
     assert os.path.isdir('fake-project')
diff --git a/tests/test_main.py b/tests/test_main.py
index 0568795..1564d88 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -26,14 +26,6 @@ logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
 class TestCookiecutterLocalNoInput(CookiecutterCleanSystemTestCase):
 
-    def test_cookiecutter_no_slash(self):
-        main.cookiecutter('tests/fake-repo-pre', no_input=True)
-        self.assertTrue(os.path.isdir('tests/fake-repo-pre/{{cookiecutter.repo_name}}'))
-        self.assertFalse(os.path.isdir('tests/fake-repo-pre/fake-project'))
-        self.assertTrue(os.path.isdir('fake-project'))
-        self.assertTrue(os.path.isfile('fake-project/README.rst'))
-        self.assertFalse(os.path.exists('fake-project/json/'))
-
     def test_cookiecutter_no_input_extra_context(self):
         """ `Call cookiecutter()` with `no_input=True` and `extra_context` """
         main.cookiecutter(
