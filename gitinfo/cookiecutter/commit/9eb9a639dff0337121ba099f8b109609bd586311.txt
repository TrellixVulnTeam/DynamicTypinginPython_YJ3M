commit 9eb9a639dff0337121ba099f8b109609bd586311
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Mar 15 13:45:19 2015 +0100

    Convert test_git_clone_cancel

diff --git a/tests/test_vcs.py b/tests/test_vcs.py
index e00485f..6b8feff 100755
--- a/tests/test_vcs.py
+++ b/tests/test_vcs.py
@@ -106,14 +106,6 @@ class TestVCSPrompt(unittest.TestCase):
             utils.rmtree('cookiecutter-trytonmodule')
         os.mkdir('cookiecutter-trytonmodule/')
 
-    @patch('cookiecutter.prompt.read_response', lambda x=u'': u'n')
-    def test_git_clone_cancel(self):
-        self.assertRaises(
-            SystemExit,
-            vcs.clone,
-            'https://github.com/audreyr/cookiecutter-pypackage.git'
-        )
-
     @patch('cookiecutter.prompt.read_response', lambda x=u'': u'y')
     def test_hg_clone_overwrite(self):
         repo_dir = vcs.clone(
diff --git a/tests/test_vcs_prompt.py b/tests/test_vcs_prompt.py
index 09d3d24..26bf0be 100755
--- a/tests/test_vcs_prompt.py
+++ b/tests/test_vcs_prompt.py
@@ -51,3 +51,14 @@ def test_git_clone_overwrite_with_no_prompt():
     )
     assert repo_dir == 'cookiecutter-pypackage'
     assert os.path.isfile('cookiecutter-pypackage/README.rst')
+
+
+@skipif_no_network
+def test_git_clone_cancel(monkeypatch):
+    monkeypatch.setattr(
+        'cookiecutter.prompt.read_response',
+        lambda x=u'': u'n'
+    )
+
+    with pytest.raises(SystemExit):
+        vcs.clone('https://github.com/audreyr/cookiecutter-pypackage.git')
