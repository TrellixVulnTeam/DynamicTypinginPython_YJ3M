commit d5b231fbc5dd32ded78e4499a49872487533cda4
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Sep 26 19:24:02 2015 +0200

    Implement a test specifically for abbreviations

diff --git a/tests/test_main.py b/tests/test_main.py
index e45235f..613e0e9 100644
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -1,4 +1,4 @@
-from cookiecutter.main import is_repo_url
+from cookiecutter.main import is_repo_url, expand_abbreviations
 
 
 def test_is_repo_url():
@@ -6,7 +6,6 @@ def test_is_repo_url():
     assert is_repo_url('gitolite@server:team/repo') is True
     assert is_repo_url('git@github.com:audreyr/cookiecutter.git') is True
     assert is_repo_url('https://github.com/audreyr/cookiecutter.git') is True
-    assert is_repo_url('gh:audreyr/cookiecutter-pypackage') is True
     assert is_repo_url('https://bitbucket.org/pokoli/cookiecutter.hg') is True
 
     assert is_repo_url('/audreyr/cookiecutter.git') is False
@@ -17,3 +16,14 @@ def test_is_repo_url():
         'test_default_output_dir0\\template'
     )
     assert is_repo_url(appveyor_temp_dir) is False
+
+
+def test_expand_abbreviations():
+    template = 'gh:audreyr/cookiecutter-pypackage'
+
+    # This is not a valid repo url just yet!
+    # First `main.expand_abbreviations` needs to translate it
+    assert is_repo_url(template) is False
+
+    expanded_template = expand_abbreviations(template, {})
+    assert is_repo_url(expanded_template) is True
