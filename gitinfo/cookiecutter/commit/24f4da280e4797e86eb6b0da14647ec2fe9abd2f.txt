commit 24f4da280e4797e86eb6b0da14647ec2fe9abd2f
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Jun 25 14:14:30 2017 +0200

    Implement merge_config function

diff --git a/cookiecutter/config.py b/cookiecutter/config.py
index f2e7d24..2503939 100644
--- a/cookiecutter/config.py
+++ b/cookiecutter/config.py
@@ -39,6 +39,21 @@ def _expand_path(path):
     return path
 
 
+def merge_config(default, overwrite):
+    """Recursively update a dict with the key/value pair of another.
+
+    Dict values that are dictionaries themselves will be updated, whilst
+    preserving existing keys.
+    """
+    for k, v in overwrite.items():
+        if isinstance(v, dict):
+            default[k] = merge_config(default[k], v)
+            continue
+        default[k] = v
+
+    return default
+
+
 def get_config(config_path):
     """Retrieve the config from the specified path, returning a config dict."""
     if not os.path.exists(config_path):
diff --git a/tests/test_get_config.py b/tests/test_get_config.py
index 441c173..d1af2fe 100644
--- a/tests/test_get_config.py
+++ b/tests/test_get_config.py
@@ -8,6 +8,47 @@ from cookiecutter.exceptions import (
 )
 
 
+def test_merge_config():
+    default = {
+        'cookiecutters_dir': '/home/example/some-path-to-templates',
+        'replay_dir': '/home/example/some-path-to-replay-files',
+        'default_context': {},
+        'abbreviations': {
+            'gh': 'https://github.com/{0}.git',
+            'gl': 'https://gitlab.com/{0}.git',
+            'bb': 'https://bitbucket.org/{0}',
+        }
+    }
+
+    user_config = {
+        'default_context': {
+            'full_name': 'Raphael Pierzina',
+            'github_username': 'hackebrot',
+        },
+        'abbreviations': {
+            'gl': 'https://gitlab.com/hackebrot/{0}.git',
+            'pytest-plugin': 'https://github.com/pytest-dev/pytest-plugin.git',
+        }
+    }
+
+    expected_config = {
+        'cookiecutters_dir': '/home/example/some-path-to-templates',
+        'replay_dir': '/home/example/some-path-to-replay-files',
+        'default_context': {
+            'full_name': 'Raphael Pierzina',
+            'github_username': 'hackebrot',
+        },
+        'abbreviations': {
+            'gh': 'https://github.com/{0}.git',
+            'gl': 'https://gitlab.com/hackebrot/{0}.git',
+            'bb': 'https://bitbucket.org/{0}',
+            'pytest-plugin': 'https://github.com/pytest-dev/pytest-plugin.git',
+        }
+    }
+
+    assert config.merge_config(default, user_config) == expected_config
+
+
 def test_get_config():
     """
     Opening and reading config file
