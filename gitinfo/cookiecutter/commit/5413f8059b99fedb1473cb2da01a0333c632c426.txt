commit 5413f8059b99fedb1473cb2da01a0333c632c426
Author: Paul Moore <p.f.moore@gmail.com>
Date:   Sun Jul 27 13:34:16 2014 +0100

    Remove non-portable assumptions about directory structure

diff --git a/tests/test_utils.py b/tests/test_utils.py
index 9fe0f7b..0057637 100755
--- a/tests/test_utils.py
+++ b/tests/test_utils.py
@@ -30,14 +30,17 @@ class TestUtils(unittest.TestCase):
         self.assertFalse(os.path.exists('foo'))
 
     def test_make_sure_path_exists(self):
-        self.assertTrue(utils.make_sure_path_exists('/usr/'))
+        if sys.platform.startswith('win'):
+            existing_directory = os.path.abspath(os.curdir)
+            uncreatable_directory = 'a*b'
+        else:
+            existing_directory = '/usr/'
+            uncreatable_directory = '/this-dir-does-not-exist-and-cant-be-created/'
+
+        self.assertTrue(utils.make_sure_path_exists(existing_directory))
         self.assertTrue(utils.make_sure_path_exists('tests/blah'))
         self.assertTrue(utils.make_sure_path_exists('tests/trailingslash/'))
-        self.assertFalse(
-            utils.make_sure_path_exists(
-                '/this-dir-does-not-exist-and-cant-be-created/'.replace("/", os.sep)
-            )
-        )
+        self.assertFalse(utils.make_sure_path_exists(uncreatable_directory))
         utils.rmtree('tests/blah/')
         utils.rmtree('tests/trailingslash/')
 
