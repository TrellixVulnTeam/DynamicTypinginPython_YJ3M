commit 92e1e98c576af34dcf411cfc422e7e22809645bc
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Wed Nov 12 22:07:23 2014 +0100

    Convert test_generate_context_with_default_and_extra

diff --git a/tests/test_generate.py b/tests/test_generate.py
index 3d4aba2..1e415a3 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -72,19 +72,6 @@ class TestGenerateFile(unittest.TestCase):
             os.remove('tests/files/cheese.txt')
 
 
-class TestGenerateContext(CookiecutterCleanSystemTestCase):
-
-    def test_generate_context_with_default_and_extra(self):
-        """ Call `generate_context()` with `default_context` and 
-            `extra_context`. """
-        context = generate.generate_context(
-            context_file='tests/test-generate-context/test.json',
-            default_context={'1': 3},
-            extra_context={'1': 5},
-        )
-        self.assertEqual(context, {'test': {'1': 5, 'some_key': 'some_val'}})
-
-
 class TestOutputFolder(CookiecutterCleanSystemTestCase):
 
     def tearDown(self):
diff --git a/tests/test_generate_context.py b/tests/test_generate_context.py
index 5d6df26..a492c6a 100644
--- a/tests/test_generate_context.py
+++ b/tests/test_generate_context.py
@@ -9,6 +9,7 @@ Tests formerly known from a unittest residing in test_generate.py named
 TestGenerateContext.test_generate_context
 TestGenerateContext.test_generate_context_with_default
 TestGenerateContext.test_generate_context_with_extra
+TestGenerateContext.test_generate_context_with_default_and_extra
 """
 
 from __future__ import unicode_literals
@@ -42,3 +43,15 @@ def test_generate_context_with_extra():
         extra_context={'1': 4},
     )
     assert context == {'test': {'1': 4, 'some_key': 'some_val'}}
+
+
+@pytest.mark.usefixtures("clean_system")
+def test_generate_context_with_default_and_extra():
+    """ Call `generate_context()` with `default_context` and
+        `extra_context`. """
+    context = generate.generate_context(
+        context_file='tests/test-generate-context/test.json',
+        default_context={'1': 3},
+        extra_context={'1': 5},
+    )
+    assert context == {'test': {'1': 5, 'some_key': 'some_val'}}
