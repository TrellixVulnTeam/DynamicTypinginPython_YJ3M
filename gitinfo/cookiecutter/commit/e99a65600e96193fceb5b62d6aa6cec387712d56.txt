commit e99a65600e96193fceb5b62d6aa6cec387712d56
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun Mar 15 13:47:44 2015 +0100

    Convert test_hg_clone_overwrite

diff --git a/tests/test_vcs.py b/tests/test_vcs.py
index 6b8feff..946f447 100755
--- a/tests/test_vcs.py
+++ b/tests/test_vcs.py
@@ -106,14 +106,6 @@ class TestVCSPrompt(unittest.TestCase):
             utils.rmtree('cookiecutter-trytonmodule')
         os.mkdir('cookiecutter-trytonmodule/')
 
-    @patch('cookiecutter.prompt.read_response', lambda x=u'': u'y')
-    def test_hg_clone_overwrite(self):
-        repo_dir = vcs.clone(
-            'https://bitbucket.org/pokoli/cookiecutter-trytonmodule'
-        )
-        self.assertEqual(repo_dir, 'cookiecutter-trytonmodule')
-        self.assertTrue(os.path.isfile('cookiecutter-trytonmodule/README.rst'))
-
     @patch('cookiecutter.prompt.read_response', lambda x=u'': u'n')
     def test_hg_clone_cancel(self):
         self.assertRaises(
diff --git a/tests/test_vcs_prompt.py b/tests/test_vcs_prompt.py
index 26bf0be..10d0499 100755
--- a/tests/test_vcs_prompt.py
+++ b/tests/test_vcs_prompt.py
@@ -62,3 +62,16 @@ def test_git_clone_cancel(monkeypatch):
 
     with pytest.raises(SystemExit):
         vcs.clone('https://github.com/audreyr/cookiecutter-pypackage.git')
+
+
+@skipif_no_network
+def test_hg_clone_overwrite(monkeypatch):
+    monkeypatch.setattr(
+        'cookiecutter.prompt.read_response',
+        lambda x=u'': u'y'
+    )
+    repo_dir = vcs.clone(
+        'https://bitbucket.org/pokoli/cookiecutter-trytonmodule'
+    )
+    assert repo_dir == 'cookiecutter-trytonmodule'
+    assert os.path.isfile('cookiecutter-trytonmodule/README.rst')
