commit 36f355762fa96496d132639999e9c76f3884e4c9
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Nov 15 00:04:19 2014 +0100

    Convert test_run_python_hooks_cwd to pytest

diff --git a/tests/test_generate.py b/tests/test_generate.py
index 4cfa14b..941d97d 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -127,16 +127,6 @@ class TestHooks(CookiecutterCleanSystemTestCase):
             utils.rmtree('tests/test-shellhooks')
         super(TestHooks, self).tearDown()
 
-    def test_run_python_hooks_cwd(self):
-        generate.generate_files(
-            context={
-                'cookiecutter': {'pyhooks': 'pyhooks'}
-            },
-            repo_dir='tests/test-pyhooks/'
-        )
-        self.assertTrue(os.path.exists('inputpyhooks/python_pre.txt'))
-        self.assertTrue(os.path.exists('inputpyhooks/python_post.txt'))
-
     def test_run_shell_hooks(self):
         make_test_repo('tests/test-shellhooks')
         generate.generate_files(
diff --git a/tests/test_generate_hooks.py b/tests/test_generate_hooks.py
index 1a792a4..c54160d 100644
--- a/tests/test_generate_hooks.py
+++ b/tests/test_generate_hooks.py
@@ -8,6 +8,7 @@ test_generate_hooks
 Tests formerly known from a unittest residing in test_generate.py named
 TestHooks.test_ignore_hooks_dirs
 TestHooks.test_run_python_hooks
+TestHooks.test_run_python_hooks_cwd
 """
 
 from __future__ import unicode_literals
@@ -56,3 +57,15 @@ def test_run_python_hooks():
     )
     assert os.path.exists('tests/test-pyhooks/inputpyhooks/python_pre.txt')
     assert os.path.exists('tests/test-pyhooks/inputpyhooks/python_post.txt')
+
+
+@pytest.mark.usefixtures('clean_system', 'remove_additional_folders')
+def test_run_python_hooks_cwd():
+    generate.generate_files(
+        context={
+            'cookiecutter': {'pyhooks': 'pyhooks'}
+        },
+        repo_dir='tests/test-pyhooks/'
+    )
+    assert os.path.exists('inputpyhooks/python_pre.txt')
+    assert os.path.exists('inputpyhooks/python_post.txt')
