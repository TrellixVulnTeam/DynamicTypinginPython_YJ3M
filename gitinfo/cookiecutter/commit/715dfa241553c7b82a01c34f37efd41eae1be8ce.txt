commit 715dfa241553c7b82a01c34f37efd41eae1be8ce
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Nov 15 15:07:03 2014 +0100

    Convert test_cookiecutter_jquery along with teardown

diff --git a/tests/test_examples.py b/tests/test_examples.py
index 76e93a2..f786a34 100755
--- a/tests/test_examples.py
+++ b/tests/test_examples.py
@@ -30,40 +30,6 @@ except KeyError:
 logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
 
-@unittest.skipIf(condition=travis, reason='Works locally with tox but fails on Travis.')
-@unittest.skipIf(condition=no_network, reason='Needs a network connection to GitHub.')
-class TestJQuery(CookiecutterCleanSystemTestCase):
-
-    def tearDown(self):
-        if os.path.isdir('cookiecutter-jquery'):
-            utils.rmtree('cookiecutter-jquery')
-        if os.path.isdir('boilerplate'):
-            utils.rmtree('boilerplate')
-        super(TestJQuery, self).tearDown()
-
-    def test_cookiecutter_jquery(self):
-        """
-        Tests that https://github.com/audreyr/cookiecutter-jquery.git works.
-        """
-
-        proc = subprocess.Popen(
-            'git clone https://github.com/audreyr/cookiecutter-jquery.git',
-            stdin=subprocess.PIPE,
-            shell=True
-        )
-        proc.wait()
-
-        proc = subprocess.Popen(
-            'cookiecutter --no-input cookiecutter-jquery/',
-            stdin=subprocess.PIPE,
-            shell=True
-        )
-        proc.wait()
-
-        self.assertTrue(os.path.isdir('cookiecutter-jquery'))
-        self.assertTrue(os.path.isfile('boilerplate/README.md'))
-
-
 @unittest.skipIf(condition=travis, reason='Works locally with tox but fails on Travis.')
 @unittest.skipIf(condition=no_network, reason='Needs a network connection to GitHub.')
 class TestExamplesRepoArg(CookiecutterCleanSystemTestCase):
diff --git a/tests/test_jquery.py b/tests/test_jquery.py
new file mode 100644
index 0000000..d9d53cb
--- /dev/null
+++ b/tests/test_jquery.py
@@ -0,0 +1,57 @@
+#!/usr/bin/env python
+# -*- coding: utf-8 -*-
+
+"""
+test_jquery
+-----------
+
+Tests formerly known from a unittest residing in test_generate.py named
+TestJQuery.test_cookiecutter_jquery
+"""
+
+from __future__ import unicode_literals
+import os
+import subprocess
+import pytest
+
+from cookiecutter import utils
+from tests.skipif_markers import skipif_travis, skipif_no_network
+
+
+@pytest.fixture(scope='function')
+def remove_additional_dirs(request):
+    """
+    Remove special directories which are creating during the tests.
+    """
+    def fin_remove_additional_dirs():
+        if os.path.isdir('cookiecutter-jquery'):
+            utils.rmtree('cookiecutter-jquery')
+        if os.path.isdir('boilerplate'):
+            utils.rmtree('boilerplate')
+    request.addfinalizer(fin_remove_additional_dirs)
+
+
+@skipif_travis
+@skipif_no_network
+@pytest.mark.usefixtures('clean_system', 'remove_additional_dirs')
+def test_cookiecutter_jquery():
+    """
+    Tests that https://github.com/audreyr/cookiecutter-jquery.git works.
+    """
+
+    proc = subprocess.Popen(
+        'git clone https://github.com/audreyr/cookiecutter-jquery.git',
+        stdin=subprocess.PIPE,
+        shell=True
+    )
+    proc.wait()
+
+    proc = subprocess.Popen(
+        'cookiecutter --no-input cookiecutter-jquery/',
+        stdin=subprocess.PIPE,
+        shell=True
+    )
+    proc.wait()
+
+    assert os.path.isdir('cookiecutter-jquery')
+    assert os.path.isfile('boilerplate/README.md')
