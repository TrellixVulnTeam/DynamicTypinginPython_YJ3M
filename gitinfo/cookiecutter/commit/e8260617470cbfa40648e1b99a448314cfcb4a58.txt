commit e8260617470cbfa40648e1b99a448314cfcb4a58
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Thu Aug 6 18:07:39 2015 +0200

    Test the number of calls json.dump is being called

diff --git a/tests/test_replay.py b/tests/test_replay.py
index 09b4f45..b857eda 100644
--- a/tests/test_replay.py
+++ b/tests/test_replay.py
@@ -69,10 +69,12 @@ def test_run_json_dump(
     spy_ensure = mocker.spy(
         'cookiecutter.replay.make_sure_path_exists',
     )
+    spy_json_dump = mocker.spy('json.dump')
 
     replay.dump(template_name, context)
 
     spy_ensure.assert_called_once_with(replay_dir)
+    assert spy_json_dump.called == 1
 
     replay_dir = os.path.expanduser('~/.cookiecutter_replay/')
     replay_file = os.path.join(replay_dir, template_name)
