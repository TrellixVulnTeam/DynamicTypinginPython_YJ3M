commit cd09fce8f89c2508ada0ef47461be7d4f9788f16
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Sep 26 16:21:17 2015 +0200

    Implement a test for the new cli option for the output_dir

diff --git a/tests/test_cli.py b/tests/test_cli.py
index f10a232..e51e9ba 100644
--- a/tests/test_cli.py
+++ b/tests/test_cli.py
@@ -167,3 +167,36 @@ def test_cli_overwrite_if_exists_when_output_dir_exists(overwrite_cli_flag):
 
     assert result.exit_code == 0
     assert os.path.isdir('fake-project')
+
+
+@pytest.fixture(params=['-o', '--output-dir'])
+def output_dir_flag(request):
+    return request.param
+
+
+@pytest.fixture
+def output_dir(tmpdir):
+    return str(tmpdir.mkdir('output'))
+
+
+def test_cli_output_dir(mocker, output_dir_flag, output_dir):
+    mock_cookiecutter = mocker.patch(
+        'cookiecutter.cli.cookiecutter'
+    )
+
+    template_path = 'tests/fake-repo-pre/'
+    result = runner.invoke(main, [
+        template_path,
+        output_dir_flag,
+        output_dir
+    ])
+
+    assert result.exit_code == 0
+    mock_cookiecutter.assert_called_once_with(
+        template_path,
+        None,
+        False,
+        replay=False,
+        overwrite_if_exists=False,
+        output_dir=output_dir
+    )
