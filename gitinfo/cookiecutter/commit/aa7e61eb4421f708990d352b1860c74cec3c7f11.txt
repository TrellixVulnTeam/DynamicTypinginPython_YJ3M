commit aa7e61eb4421f708990d352b1860c74cec3c7f11
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Thu Sep 24 15:34:49 2015 +0200

    Extend config test to ensure exception holds yaml error message

diff --git a/tests/test_get_config.py b/tests/test_get_config.py
index f45d13e..ac3e6a3 100644
--- a/tests/test_get_config.py
+++ b/tests/test_get_config.py
@@ -51,9 +51,15 @@ def test_invalid_config():
     """
     An invalid config file should raise an `InvalidConfiguration` exception.
     """
-    with pytest.raises(InvalidConfiguration):
+    with pytest.raises(InvalidConfiguration) as excinfo:
         config.get_config('tests/test-config/invalid-config.yaml')
 
+    expected_error_msg = (
+        'tests/test-config/invalid-config.yaml is not a valid YAML file: '
+        'line 1: mapping values are not allowed here'
+    )
+    assert str(excinfo.value) == expected_error_msg
+
 
 def test_get_config_with_defaults():
     """
