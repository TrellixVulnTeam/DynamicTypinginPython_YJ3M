commit 47312bacd3e814997671c7883c78a985ab513ac2
Author: Xie Yanbo <xieyanbo@gmail.com>
Date:   Tue May 26 07:22:06 2020 +0800

    Documentation of conditional files / directories (#1397)
    
    fix https://github.com/cookiecutter/cookiecutter/issues/127#issuecomment-223635938

diff --git a/docs/advanced/hooks.rst b/docs/advanced/hooks.rst
index 4f4401b..25729dd 100644
--- a/docs/advanced/hooks.rst
+++ b/docs/advanced/hooks.rst
@@ -85,3 +85,30 @@ before generating the project, to be used as ``hooks/pre_gen_project.py``:
 
         # exits with status 1 to indicate failure
         sys.exit(1)
+
+Example: Conditional files / directories
+----------------------------------------
+This is another example of ``hooks/pre_gen_project.py`` to demonstrate
+how to use post-processing hooks to achieve conditional control of files,
+directories.
+
+The script ensures that the directory structure is as expected by
+removing unwanted files and directories:
+
+.. code-block:: python
+
+   import os
+   import sys
+
+   REMOVE_PATHS = [
+       '{% if cookiecutter.packaging != "pip" %} requirements.txt {% endif %}',
+       '{% if cookiecutter.packaging != "poetry" %} poetry.lock {% endif %}',
+   ]
+
+   for path in REMOVE_PATHS:
+       path = path.strip()
+       if path and os.path.exists(path):
+           if os.path.isdir(path):
+               os.rmdir(path)
+           else:
+               os.unlink(path)
