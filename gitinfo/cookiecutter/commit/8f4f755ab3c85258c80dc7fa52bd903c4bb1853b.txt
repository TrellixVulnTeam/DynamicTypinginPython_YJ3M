commit 8f4f755ab3c85258c80dc7fa52bd903c4bb1853b
Author: Paul Moore <p.f.moore@gmail.com>
Date:   Fri Aug 8 21:25:58 2014 +0100

    Allow user-defined aliases for cookiecutters

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 87402cf..f561593 100755
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -25,6 +25,25 @@ from .vcs import clone
 
 logger = logging.getLogger(__name__)
 
+builtin_prefixes = {
+    'gh': 'https://github.com/{0}.git',
+    'bb': 'https://bitbucket.org/{0}',
+}
+
+def expand_aliases(input_dir, config_dict):
+    aliases = config_dict.get('aliases', {})
+    prefixes = builtin_prefixes.copy()
+    prefixes.update(config_dict.get('prefixes', {}))
+
+    if input_dir in aliases:
+        return aliases[input_dir]
+
+    prefix, sep, rest = input_dir.partition(':')
+    if sep and prefix in prefixes:
+        return prefixes[prefix].replace('{0}', rest)
+
+    return input_dir
+
 
 def cookiecutter(input_dir, checkout=None, no_input=False):
     """
@@ -39,6 +58,8 @@ def cookiecutter(input_dir, checkout=None, no_input=False):
     # If no config file, sensible defaults from config.DEFAULT_CONFIG are used
     config_dict = get_user_config()
 
+    input_dir = expand_aliases(input_dir, config_dict)
+
     # TODO: find a better way to tell if it's a repo URL
     if "git@" in input_dir or "https://" in input_dir:
         repo_dir = clone(
diff --git a/docs/advanced_usage.rst b/docs/advanced_usage.rst
index 0c5ebee..f30a5c2 100644
--- a/docs/advanced_usage.rst
+++ b/docs/advanced_usage.rst
@@ -47,6 +47,11 @@ If you use Cookiecutter a lot, you'll find it useful to have a
         email: "audreyr@gmail.com"
         github_username: "audreyr"
     cookiecutters_dir: "/home/audreyr/my-custom-cookiecutters-dir/"
+    aliases:
+        pp: https://github.com/audreyr/cookiecutter-pypackage.git
+    prefixes:
+        gh: https://github.com/{0}.git
+        bb: https://bitbucket.org/{0}
 
 Possible settings are:
 
@@ -55,6 +60,15 @@ Possible settings are:
   like the defaults in `cookiecutter.json`, upon generation of any project.
 * cookiecutters_dir: Directory where your cookiecutters are cloned to when you
   use Cookiecutter with a repo argument.
+* aliases: A list of short names for cookiecutters. With the above aliases, you
+  could use the `cookiecutter-pypackage` template simply by saying `cookiecutter pp`.
+* prefixes: A list of URL-like prefixes that can be used to abbreviate common
+  locations for cookiecutters. The `{0}` will be replaced with the part of the
+  argument after the prefix. So, for example,
+  `gh:audreyr/cookiecutter-pypackage` is a short form for
+  `https://github.com/audreyr/cookiecutter-pypackage.git`.
+  The `gh` (github) and `bb` (bitbucket) abbreviations shown above are actually
+  built in, and can be used without defining them yourself.
 
 Calling Cookiecutter Functions From Python
 ------------------------------------------
diff --git a/tests/test_main.py b/tests/test_main.py
index ff815a7..2cee8b8 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -95,6 +95,37 @@ class TestArgParsing(unittest.TestCase):
         self.assertEqual(args.checkout, 'develop')
 
 
+class TestArgParsing(unittest.TestCase):
+
+    def test_alias_expansion(self):
+        input_dir = main.expand_aliases('foo', {'aliases': {'foo': 'bar'}})
+        self.assertEqual(input_dir, 'bar')
+
+    def test_alias_expansion_not_an_alias(self):
+        input_dir = main.expand_aliases('baz', {'aliases': {'foo': 'bar'}})
+        self.assertEqual(input_dir, 'baz')
+
+    def test_alias_expansion_prefix(self):
+        input_dir = main.expand_aliases('xx:a', {'prefixes': {'xx': '<{0}>'}})
+        self.assertEqual(input_dir, '<a>')
+
+    def test_alias_expansion_builtin(self):
+        input_dir = main.expand_aliases('gh:a', {})
+        self.assertEqual(input_dir, 'https://github.com/a.git')
+
+    def test_alias_expansion_override_builtin(self):
+        input_dir = main.expand_aliases('gh:a', {'prefixes': {'gh': '<{0}>'}})
+        self.assertEqual(input_dir, '<a>')
+
+    def test_alias_expansion_prefix_ignores_suffix(self):
+        input_dir = main.expand_aliases('xx:a', {'prefixes': {'xx': '<>'}})
+        self.assertEqual(input_dir, '<>')
+
+    def test_alias_expansion_prefix_not_0_in_braces(self):
+        input_dir = main.expand_aliases('xx:a', {'prefixes': {'xx': '{1}'}})
+        self.assertEqual(input_dir, '{1}')
+
+
 @unittest.skipIf(condition=no_network, reason='Needs a network connection to GitHub/Bitbucket.')
 class TestCookiecutterRepoArg(CookiecutterCleanSystemTestCase):
 
