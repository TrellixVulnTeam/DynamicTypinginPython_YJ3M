commit a8e5a10fa41f067e9279422fda294517f7cce4d4
Author: RÃ©my HUBSCHER <rhubscher@mozilla.com>
Date:   Thu Oct 23 14:16:48 2014 +0200

    Update travis to use tox instead.

diff --git a/.travis.yml b/.travis.yml
index 7dc62fa..de9b747 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,27 +1,21 @@
 # Config file for automatic testing at travis-ci.org
 
 language: python
+python: 2.7
+env:
+    - TOX_ENV=py26
+    - TOX_ENV=py27
+    - TOX_ENV=py33
+    - TOX_ENV=py34
+    - TOX_ENV=pypy
+    - TOX_ENV=flake8
 
-python:
-  - "3.3"
-  - "2.7"
-  - "2.6"
-  - "pypy"
+script: tox -e $TOX_ENV
 
-# command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
-# Note: we only use coveralls with Travis, not tox. pip install coveralls doesn't work on Windows.
-# This setup makes it possible for:
-# 1. the tests to be run with tox on Windows
-# 2. Windows users to use the requirements files without running into installation problems.
 install:
- - pip install coveralls
- - if [[ $TRAVIS_PYTHON_VERSION == '2.6' ]]; then pip install -r requirements/test_26.txt; fi
- - if [[ $TRAVIS_PYTHON_VERSION == '2.7' ]]; then pip install -r requirements/test_27.txt; fi
- - if [[ $TRAVIS_PYTHON_VERSION == 'pypy' ]]; then pip install -r requirements/test_27.txt; fi
- - if [[ $TRAVIS_PYTHON_VERSION == '3.3' ]]; then pip install -r requirements/test_33.txt; fi
-
-# command to run tests, e.g. python setup.py test
-script: coverage run --source cookiecutter setup.py test
+    - pip install tox
 
 after_success:
-    coveralls
+    # Report coverage results to coveralls.io
+    - pip install coveralls
+    - coveralls
diff --git a/cookiecutter/vcs.py b/cookiecutter/vcs.py
index 9e26663..202eb44 100755
--- a/cookiecutter/vcs.py
+++ b/cookiecutter/vcs.py
@@ -66,7 +66,7 @@ def clone(repo_url, checkout=None, clone_to_dir=".", no_input=False):
 
     :param repo_url: Repo URL of unknown type.
     :param checkout: The branch, tag or commit ID to checkout after clone.
-    :param clone_to_dir: The directory to clone to. 
+    :param clone_to_dir: The directory to clone to.
                          Defaults to the current directory.
     :param no_input: Suppress all user prompts when calling via API.
     """
diff --git a/requirements/base_test.txt b/requirements/base_test.txt
index e69de29..4ebc8ae 100644
--- a/requirements/base_test.txt
+++ b/requirements/base_test.txt
@@ -0,0 +1 @@
+coverage
diff --git a/tox.ini b/tox.ini
index fb7cf18..3874c99 100644
--- a/tox.ini
+++ b/tox.ini
@@ -3,19 +3,19 @@ envlist = py26, py27, py33, py34, pypy, flake8
 
 [testenv:py26]
 deps = -r{toxinidir}/requirements/test_26.txt
-commands = python setup.py test
+commands = coverage run --source cookiecutter setup.py test
 
 [testenv:py27, pypy]
 deps = -r{toxinidir}/requirements/test_27.txt
-commands = python setup.py test
+commands = coverage run --source cookiecutter setup.py test
 
 [testenv:py33]
 deps = -r{toxinidir}/requirements/test_33.txt
-commands = python setup.py test
+commands = coverage run --source cookiecutter setup.py test
 
 [testenv:py34]
 deps = -r{toxinidir}/requirements/test_34.txt
-commands = python setup.py test
+commands = coverage run --source cookiecutter setup.py test
 
 [testenv:flake8]
 deps =
