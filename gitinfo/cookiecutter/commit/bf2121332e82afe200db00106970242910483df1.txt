commit bf2121332e82afe200db00106970242910483df1
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sat Sep 7 13:26:15 2013 +0200

    More prevention of user's global config overwriting test context.

diff --git a/tests/test_generate.py b/tests/test_generate.py
index d57b6e2..c37bc85 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -72,6 +72,23 @@ class TestGenerateFile(unittest.TestCase):
 
 class TestGenerateFiles(unittest.TestCase):
 
+    def setUp(self):
+        self.user_config_path = os.path.expanduser('~/.cookiecutterrc')
+        self.user_config_path_backup = os.path.expanduser(
+            '~/.cookiecutterrc.backup'
+        )
+
+        # If ~/.cookiecutterrc is pre-existing, move it to a temp location
+        if os.path.exists(self.user_config_path):
+            shutil.copy(self.user_config_path, self.user_config_path_backup)
+            os.remove(self.user_config_path)
+
+    def tearDown(self):
+        # If it existed, restore ~/.cookiecutterrc
+        if os.path.exists(self.user_config_path_backup):
+            shutil.copy(self.user_config_path_backup, self.user_config_path)
+            os.remove(self.user_config_path_backup)
+
     def test_generate_files_nontemplated_exception(self):
         self.assertRaises(
             exceptions.NonTemplatedInputDirException,
