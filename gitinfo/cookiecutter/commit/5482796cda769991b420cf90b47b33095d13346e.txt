commit 5482796cda769991b420cf90b47b33095d13346e
Author: raphigaziano <r.gaziano@gmail.com>
Date:   Sat Aug 24 14:52:05 2013 +0200

    single script execution

diff --git a/cookiecutter/hooks.py b/cookiecutter/hooks.py
index 5cc647d..3bd8cff 100644
--- a/cookiecutter/hooks.py
+++ b/cookiecutter/hooks.py
@@ -9,6 +9,7 @@ Functions for discovering and executing various cookiecutter hooks.
 """
 
 import os
+import subprocess
 
 _HOOKS = {
     'pre_gen_project': None,
@@ -29,6 +30,10 @@ def find_hooks(template_root):
     return r
 
 
-def run_hook(hook):
-    pass
+def _run_hook(script_path, cwd='.'):
+    ''' '''
+    subprocess.call(script_path, cwd=cwd)
 
+def run_hook(hook_name, input_dir output_dir):
+    ''' '''
+    pass
diff --git a/tests/fake-repo-hooks/hooks/post_gen_project.sh b/tests/fake-repo-hooks/hooks/post_gen_project.sh
old mode 100644
new mode 100755
index 7683837..5e54763
--- a/tests/fake-repo-hooks/hooks/post_gen_project.sh
+++ b/tests/fake-repo-hooks/hooks/post_gen_project.sh
@@ -1,3 +1,4 @@
-#!/usr/bin/bash
+#!/bin/bash
 
 echo 'post generation hook';
+touch 'foo.txt'
diff --git a/tests/fake-repo-hooks/hooks/pre_gen_project.py b/tests/fake-repo-hooks/hooks/pre_gen_project.py
old mode 100644
new mode 100755
index d0844ce..f8502c2
--- a/tests/fake-repo-hooks/hooks/pre_gen_project.py
+++ b/tests/fake-repo-hooks/hooks/pre_gen_project.py
@@ -2,3 +2,6 @@
 # -*- coding: utf-8 -*-
 
 print 'pre generation hook'
+f = open('bar.txt', 'w')
+f.close()
+
diff --git a/tests/test_hooks.py b/tests/test_hooks.py
index c993068..2c7fe7d 100644
--- a/tests/test_hooks.py
+++ b/tests/test_hooks.py
@@ -8,8 +8,8 @@ test_hooks
 Tests for `cookiecutter.hooks` module.
 """
 
+import sys
 import os
-import shutil
 import unittest
 
 from cookiecutter import hooks
@@ -32,6 +32,27 @@ class TestFindHooks(unittest.TestCase):
         self.assertEqual({}, hooks.find_hooks('tests/fake-repo'))
 
 
-class TestHooks(unittest.TestCase):
+class TestExternalHooks(unittest.TestCase):
 
-    repo_path = 'tests/fake-repo-hooks'
+    repo_path  = os.path.abspath('tests/fake-repo-hooks')
+    hooks_path = os.path.join(repo_path, 'hooks')
+
+    def tearDown(self):
+        if os.path.exists('foo.txt'):
+            os.remove('foo.txt')
+        if os.path.exists('tests/foo.txt'):
+            os.remove('tests/foo.txt')
+
+    def test_run_hook(self):
+        '''execute a hook script, independently of project generation'''
+        hooks._run_hook(os.path.join(self.hooks_path, 'post_gen_project.sh'))
+        self.assertTrue(os.path.isfile('foo.txt'))
+
+    def test_run_hook_cwd(self):
+        '''Change directory before running hook'''
+        hooks._run_hook(os.path.join(self.hooks_path, 'post_gen_project.sh'), 
+                        'tests')
+        self.assertTrue(os.path.isfile('tests/foo.txt'))
+        self.assertFalse('tests' in os.getcwd())
+        
+    #
