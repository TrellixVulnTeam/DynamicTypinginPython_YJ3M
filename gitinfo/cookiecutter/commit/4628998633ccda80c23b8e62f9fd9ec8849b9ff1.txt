commit 4628998633ccda80c23b8e62f9fd9ec8849b9ff1
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sat Sep 7 14:06:40 2013 +0200

    Test for new default_context param of generate_context().

diff --git a/tests/json/test.json b/tests/json/test.json
deleted file mode 100644
index 3c31e3f..0000000
--- a/tests/json/test.json
+++ /dev/null
@@ -1 +0,0 @@
-{"1": 2}
\ No newline at end of file
diff --git a/tests/test-generate-context/test.json b/tests/test-generate-context/test.json
new file mode 100644
index 0000000..fbc7186
--- /dev/null
+++ b/tests/test-generate-context/test.json
@@ -0,0 +1 @@
+{"1": 2, "some_key": "some_val"}
\ No newline at end of file
diff --git a/tests/test_generate.py b/tests/test_generate.py
index c37bc85..c7ebd6a 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -190,9 +190,17 @@ class TestGenerateContext(unittest.TestCase):
             os.remove(self.user_config_path_backup)
 
     def test_generate_context(self):
-        context = generate.generate_context(context_file='tests/json/test.json')
-        self.assertEqual(context, {"test": {"1": 2}})
+        context = generate.generate_context(
+            context_file='tests/test-generate-context/test.json'
+        )
+        self.assertEqual(context, {"test": {"1": 2, "some_key": "some_val"}})
 
+    def test_generate_context_with_default(self):
+        context = generate.generate_context(
+            context_file='tests/test-generate-context/test.json',
+            default_context={"1": 3}
+        )
+        self.assertEqual(context, {"test": {"1": 3, "some_key": "some_val"}})
 
 class TestOutputFolder(unittest.TestCase):
 
