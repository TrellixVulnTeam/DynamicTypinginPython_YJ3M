commit 5ee9f4c92d770ed210102ece97360c2a8b5c5b45
Author: Michael Joseph <michaeljoseph+github@gmail.com>
Date:   Tue Aug 5 22:05:17 2014 +0200

    Compat the tests

diff --git a/tests/__init__.py b/tests/__init__.py
index 151e6c3..64dd4d8 100755
--- a/tests/__init__.py
+++ b/tests/__init__.py
@@ -12,13 +12,9 @@ import os
 import shutil
 import stat
 import sys
+from cookiecutter.compat import unittest
 from cookiecutter import utils
 
-if sys.version_info[:2] < (2, 7):
-    import unittest2 as unittest
-else:
-    import unittest
-
 
 class CookiecutterCleanSystemTestCase(unittest.TestCase):
     """
diff --git a/tests/test_config.py b/tests/test_config.py
index a618850..585f5a0 100755
--- a/tests/test_config.py
+++ b/tests/test_config.py
@@ -15,14 +15,10 @@ import unittest
 
 import yaml
 
+from cookiecutter.compat import unittest
 from cookiecutter import config
 from cookiecutter.exceptions import ConfigDoesNotExistException, InvalidConfiguration
 
-if sys.version_info[:2] < (2, 7):
-    import unittest2 as unittest
-else:
-    import unittest
-
 
 class TestGetConfig(unittest.TestCase):
 
diff --git a/tests/test_examples.py b/tests/test_examples.py
index 5f5c5c5..f4df087 100755
--- a/tests/test_examples.py
+++ b/tests/test_examples.py
@@ -16,21 +16,9 @@ import shutil
 import subprocess
 import sys
 
-PY3 = sys.version > '3'
-if PY3:
-    from unittest.mock import patch
-    input_str = 'builtins.input'
-    from io import StringIO
-else:
-    import __builtin__
-    from mock import patch
-    input_str = '__builtin__.raw_input'
-    from cStringIO import StringIO
-
-if sys.version_info[:3] < (2, 7):
-    import unittest2 as unittest
-else:
-    import unittest
+from cookiecutter.compat import PY3, StringIO, input_str, patch, unittest
+from cookiecutter import config, utils
+from tests import CookiecutterCleanSystemTestCase
 
 try:
     travis = os.environ[u'TRAVIS']
@@ -42,10 +30,6 @@ try:
 except KeyError:
     no_network = False
 
-from cookiecutter import config, utils
-from tests import CookiecutterCleanSystemTestCase
-
-
 logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
 
diff --git a/tests/test_generate.py b/tests/test_generate.py
index 681b819..ee05524 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -25,8 +25,6 @@ from cookiecutter import utils
 from tests import CookiecutterCleanSystemTestCase
 
 
-PY3 = sys.version > '3'
-
 logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
 class TestGenerateFile(unittest.TestCase):
diff --git a/tests/test_main.py b/tests/test_main.py
index ff815a7..0aede44 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -12,24 +12,10 @@ import logging
 import os
 import sys
 
+from cookiecutter.compat import PY3, StringIO, input_str, patch, unittest
 from cookiecutter import config, main, utils
 from tests import CookiecutterCleanSystemTestCase
 
-if sys.version_info[:2] < (2, 7):
-    import unittest2 as unittest
-else:
-    import unittest
-
-PY3 = sys.version > '3'
-if PY3:
-    from unittest.mock import patch
-    input_str = 'builtins.input'
-else:
-    import __builtin__
-    from mock import patch
-    input_str = '__builtin__.raw_input'
-    from cStringIO import StringIO
-
 try:
     no_network = os.environ[u'DISABLE_NETWORK_TESTS']
 except KeyError:
diff --git a/tests/test_vcs.py b/tests/test_vcs.py
index 780905e..128fb24 100755
--- a/tests/test_vcs.py
+++ b/tests/test_vcs.py
@@ -13,23 +13,8 @@ import logging
 import os
 import subprocess
 import sys
-import unittest
-
-PY3 = sys.version > '3'
-if PY3:
-    from unittest.mock import patch
-    input_str = 'builtins.input'
-else:
-    import __builtin__
-    from mock import patch
-    input_str = '__builtin__.raw_input'
-    from cStringIO import StringIO
-
-if sys.version_info[:3] < (2, 7):
-    import unittest2 as unittest
-else:
-    import unittest
 
+from cookiecutter.compat import PY3, StringIO, input_str, patch, unittest
 from cookiecutter import utils, vcs
 
 try:
