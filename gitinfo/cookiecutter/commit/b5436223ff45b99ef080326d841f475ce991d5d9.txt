commit b5436223ff45b99ef080326d841f475ce991d5d9
Author: Aaron Gallagher <aaron@flowroute.com>
Date:   Mon Nov 16 11:33:36 2015 -0800

    Fix the repo regex to handle + in URLs.
    
    The documentation said that you could do git+https:// or git+ssh:// but
    that was not, in fact, true.

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 56dbc5e..d8ff7b6 100755
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -30,19 +30,18 @@ builtin_abbreviations = {
     'bb': 'https://bitbucket.org/{0}',
 }
 
-REPO_REGEX = """
-(
-((git|ssh|https|http):(//)?)    # something like git:// ssh:// etc.
- |                              # or
- (\w+@[\w\.]+)                  # something like user@...
+REPO_REGEX = re.compile(r"""
+(?x)
+((((git|hg)\+)?(git|ssh|https?):(//)?)  # something like git:// ssh:// etc.
+ |                                      # or
+ (\w+@[\w\.]+)                          # something like user@...
 )
-.*
-"""
+""")
 
 
 def is_repo_url(value):
     """Return True if value is a repository URL."""
-    return bool(re.match(REPO_REGEX, value, re.VERBOSE))
+    return bool(REPO_REGEX.match(value))
 
 
 def expand_abbreviations(template, config_dict):
