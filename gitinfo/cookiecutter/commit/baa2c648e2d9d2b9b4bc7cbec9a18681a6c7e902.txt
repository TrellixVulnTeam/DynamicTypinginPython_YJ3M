commit baa2c648e2d9d2b9b4bc7cbec9a18681a6c7e902
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sat Aug 24 19:08:43 2013 +0200

    Partial checkin of integration test for --checkout arg.

diff --git a/cookiecutter/vcs.py b/cookiecutter/vcs.py
index be6623e..2069132 100755
--- a/cookiecutter/vcs.py
+++ b/cookiecutter/vcs.py
@@ -31,7 +31,10 @@ def git_clone(repo, checkout=None):
     logging.debug('repo_dir is {0}'.format(repo_dir))
 
     if os.path.isdir(repo_dir):
-        ok_to_delete = query_yes_no("You've cloned {0} before. Is it okay to delete and re-clone it?".format(repo_dir))
+        ok_to_delete = query_yes_no(
+            "You've cloned {0} before. Is it okay to delete and re-clone it?".format(repo_dir),
+            default="yes"
+        )
         if ok_to_delete:
             shutil.rmtree(repo_dir)
         else:
diff --git a/tests/test_examples.py b/tests/test_examples.py
index 56e6603..86f708c 100755
--- a/tests/test_examples.py
+++ b/tests/test_examples.py
@@ -8,10 +8,22 @@ test_examples
 Tests for the Cookiecutter example repos.
 """
 
+import errno
 import os
 import shutil
+import subprocess
 import sys
-import unittest
+
+PY3 = sys.version > '3'
+if PY3:
+    from unittest.mock import patch
+    input_str = 'builtins.input'
+    from io import StringIO
+else:
+    import __builtin__
+    from mock import patch
+    input_str = '__builtin__.raw_input'
+    from cStringIO import StringIO
 
 if sys.version_info[:2] < (2, 7):
     import unittest2 as unittest
@@ -62,6 +74,37 @@ class TestExamplesRepoArg(unittest.TestCase):
         if os.path.isdir('alotofeffort'):
             shutil.rmtree('alotofeffort')
 
-        
+class TestGitBranch(unittest.TestCase):
+
+    def setUp(self):
+        if os.path.isdir('cookiecutter-pypackage'):
+            shutil.rmtree('cookiecutter-pypackage')
+
+    # @patch(input_str, lambda x: '\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n')
+    def test_branch(self):
+        # sim_input = StringIO('\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n')
+        # sys.stdin = StringIO('\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n')
+        p = subprocess.Popen(
+            ['cookiecutter https://github.com/audreyr/cookiecutter-pypackage.git'],
+            # ['cookiecutter', '-c', 'console-script', 'https://github.com/audreyr/cookiecutter-pypackage.git'],
+            shell=True
+        )
+    
+
+
+        p.communicate(input='\n\n\n\n\n\n\n\n\n\n\n\n')
+
+        # if not PY3:
+        #     sys.stdin = StringIO('\n\n\n\n\n\n\n\n\n\n\n\n')
+        self.assertTrue(os.path.isfile('boilerplate/README.rst'))
+        self.assertTrue(os.path.isfile('boilerplate/boilerplate/main.py'))
+
+    def tearDown(self):
+        if os.path.isdir('cookiecutter-pypackage'):
+            shutil.rmtree('cookiecutter-pypackage')
+        if os.path.isdir('boilerplate'):
+            shutil.rmtree('boilerplate')
+
+
 if __name__ == '__main__':
     unittest.main()
