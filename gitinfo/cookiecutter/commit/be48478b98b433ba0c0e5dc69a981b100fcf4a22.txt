commit be48478b98b433ba0c0e5dc69a981b100fcf4a22
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sun Sep 1 15:44:08 2013 +0200

    Fix test_hooks again.

diff --git a/tests/input{{hooks}}/README.rst b/tests/input{{hooks}}/README.rst
new file mode 100644
index 0000000..a71dc41
--- /dev/null
+++ b/tests/input{{hooks}}/README.rst
@@ -0,0 +1,4 @@
+foo
+===
+
+bar
diff --git a/tests/input{{hooks}}/hooks/post_gen_project.sh b/tests/input{{hooks}}/hooks/post_gen_project.sh
new file mode 100755
index 0000000..d244dce
--- /dev/null
+++ b/tests/input{{hooks}}/hooks/post_gen_project.sh
@@ -0,0 +1,4 @@
+#!/bin/bash
+
+echo 'post generation hook';
+touch 'shell_post.txt'
diff --git a/tests/input{{hooks}}/hooks/pre_gen_project.py b/tests/input{{hooks}}/hooks/pre_gen_project.py
new file mode 100755
index 0000000..3cb7018
--- /dev/null
+++ b/tests/input{{hooks}}/hooks/pre_gen_project.py
@@ -0,0 +1,8 @@
+#!/usr/bin/env python
+# -*- coding: utf-8 -*-
+from __future__ import print_function
+
+print('pre generation hook')
+f = open('python_pre.txt', 'w')
+f.close()
+
diff --git a/tests/test_hooks.py b/tests/test_hooks.py
old mode 100644
new mode 100755
index 5b7035f..c146afb
--- a/tests/test_hooks.py
+++ b/tests/test_hooks.py
@@ -38,32 +38,34 @@ class TestExternalHooks(unittest.TestCase):
     hooks_path = os.path.join(repo_path, 'hooks')
 
     def tearDown(self):
-        if os.path.exists('foo.txt'):
-            os.remove('foo.txt')
-        if os.path.exists('tests/foo.txt'):
-            os.remove('tests/foo.txt')
-        if os.path.exists('tests/bar.txt'):
-            os.remove('tests/bar.txt')
+        if os.path.exists('python_pre.txt'):
+            os.remove('python_pre.txt')
+        if os.path.exists('shell_post.txt'):
+            os.remove('shell_post.txt')
+        if os.path.exists('tests/python_pre.txt'):
+            os.remove('tests/python_pre.txt')
+        if os.path.exists('tests/shell_post.txt'):
+            os.remove('tests/shell_post.txt')
 
     def test_run_hook(self):
         '''execute a hook script, independently of project generation'''
         hooks._run_hook(os.path.join(self.hooks_path, 'post_gen_project.sh'))
-        self.assertTrue(os.path.isfile('foo.txt'))
+        self.assertTrue(os.path.isfile('shell_post.txt'))
 
     def test_run_hook_cwd(self):
         '''Change directory before running hook'''
         hooks._run_hook(os.path.join(self.hooks_path, 'post_gen_project.sh'), 
                         'tests')
-        self.assertTrue(os.path.isfile('tests/foo.txt'))
+        self.assertTrue(os.path.isfile('tests/shell_post.txt'))
         self.assertFalse('tests' in os.getcwd())
         
     def test_public_run_hook(self):
         '''Execute hook from specified template in specified output directory'''
         hooks.run_hook('pre_gen_project', self.repo_path, 'tests')
-        self.assertTrue(os.path.isfile('tests/bar.txt'))
+        self.assertTrue(os.path.isfile('tests/python_pre.txt'))
 
         hooks.run_hook('post_gen_project', self.repo_path, 'tests')
-        self.assertTrue(os.path.isfile('tests/foo.txt'))
+        self.assertTrue(os.path.isfile('tests/shell_post.txt'))
 
 
 if __name__ == '__main__':
