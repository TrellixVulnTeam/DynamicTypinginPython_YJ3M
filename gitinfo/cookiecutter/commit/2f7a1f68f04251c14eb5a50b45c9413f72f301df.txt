commit 2f7a1f68f04251c14eb5a50b45c9413f72f301df
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun May 24 14:05:26 2015 +0200

    Implement a basic test for read_user_choice

diff --git a/tests/test_read_user_choice.py b/tests/test_read_user_choice.py
new file mode 100644
index 0000000..72559ea
--- /dev/null
+++ b/tests/test_read_user_choice.py
@@ -0,0 +1,33 @@
+# -*- coding: utf-8 -*-
+
+import click
+import pytest
+
+from cookiecutter.compat import read_user_choice
+
+OPTIONS = ['hello', 'world', 'foo', 'bar']
+
+
+EXPECTED_PROMPT = """Select varname:
+1 - hello
+2 - world
+3 - foo
+4 - bar
+Choose from 1, 2, 3, 4!"""
+
+
+@pytest.mark.parametrize('user_choice, expected_value', enumerate(OPTIONS, 1))
+def test_click_invocation(mocker, user_choice, expected_value):
+    choice = mocker.patch('click.Choice')
+    choice.return_value = click.Choice(OPTIONS)
+
+    prompt = mocker.patch('click.prompt')
+    prompt.return_value = str(user_choice)
+
+    assert read_user_choice('varname', OPTIONS) == expected_value
+
+    prompt.assert_called_once_with(
+        EXPECTED_PROMPT,
+        type=click.Choice(OPTIONS),
+        default='1'
+    )
