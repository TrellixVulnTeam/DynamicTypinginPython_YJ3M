commit a1a41c46efc7c384caf653e868831958c3f82241
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sun Sep 22 20:38:20 2013 +0200

    Fix hooks on Windows

diff --git a/cookiecutter/hooks.py b/cookiecutter/hooks.py
index fdbd427..1b8a60b 100755
--- a/cookiecutter/hooks.py
+++ b/cookiecutter/hooks.py
@@ -48,15 +48,19 @@ def _run_hook(script_path, cwd='.'):
     absolute).
     If `cwd` is provided, the script will be run from that directory.
     '''
-    subprocess.call(script_path, cwd=cwd)
-
+    run_thru_shell = sys.platform.startswith('win')
+    proc = subprocess.Popen(
+        script_path,
+        shell=run_thru_shell,
+        cwd=cwd
+    )
+    proc.wait()
 
 def run_hook(hook_name, project_dir):
     '''
     Try and find a script mapped to `hook_name` in the current working directory,
     and execute it from `project_dir`.
     '''
-    # with work_in(os.path.dirname(project_dir)):
     script = find_hooks().get(hook_name)
     if script is None:
         logging.debug("No hooks found")
diff --git a/tests/test_generate.py b/tests/test_generate.py
index 6c2864c..4b9109c 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -262,8 +262,8 @@ class TestHooks(CookiecutterCleanSystemTestCase):
             context={
                 'cookiecutter' : {'pyhooks': 'pyhooks'}
             },
-            repo_dir='tests/test-pyhooks/',
-            output_dir='tests/test-pyhooks/'
+            repo_dir='tests/test-pyhooks/'.replace("/", os.sep),
+            output_dir='tests/test-pyhooks/'.replace("/", os.sep)
         )
         self.assertTrue(os.path.exists('tests/test-pyhooks/inputpyhooks/python_pre.txt'))
         self.assertTrue(os.path.exists('tests/test-pyhooks/inputpyhooks/python_post.txt'))
