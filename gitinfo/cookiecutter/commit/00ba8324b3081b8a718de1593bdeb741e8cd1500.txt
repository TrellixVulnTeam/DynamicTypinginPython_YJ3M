commit 00ba8324b3081b8a718de1593bdeb741e8cd1500
Author: Paul Moore <p.f.moore@gmail.com>
Date:   Mon Jul 28 19:01:58 2014 +0100

    Fix a test that assumed the OS default encoding was UTF8

diff --git a/tests/test_generate.py b/tests/test_generate.py
index 2366b28..681b819 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -10,6 +10,7 @@ Tests for `cookiecutter.generate` module.
 from __future__ import unicode_literals
 import logging
 import os
+import io
 import sys
 import stat
 import unittest
@@ -106,11 +107,8 @@ class TestGenerateFiles(CookiecutterCleanSystemTestCase):
             repo_dir='tests/test-generate-files'
         )
         self.assertTrue(os.path.isfile('inputpizzä/simple.txt'))
-        simple_text = open('inputpizzä/simple.txt', 'rt').read()
-        if PY3:
-            self.assertEqual(simple_text, 'I eat pizzä')
-        else:
-            self.assertEqual(simple_text, 'I eat pizzä'.encode('utf-8'))
+        simple_text = io.open('inputpizzä/simple.txt', 'rt', encoding='utf-8').read()
+        self.assertEqual(simple_text, u'I eat pizzä')
 
     def test_generate_files_binaries(self):
         generate.generate_files(
