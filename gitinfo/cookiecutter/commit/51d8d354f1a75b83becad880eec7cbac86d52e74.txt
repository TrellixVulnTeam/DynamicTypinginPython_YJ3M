commit 51d8d354f1a75b83becad880eec7cbac86d52e74
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Nov 11 22:15:59 2014 +0100

    Convert test to pytest syntax

diff --git a/tests/test_generate_files.py b/tests/test_generate_files.py
index 1c6667a..09f2d01 100644
--- a/tests/test_generate_files.py
+++ b/tests/test_generate_files.py
@@ -50,18 +50,24 @@ def clean_system_remove_additional_folders(request, clean_system):
 def test_generate_files_nontemplated_exception():
     with pytest.raises(exceptions.NonTemplatedInputDirException):
         generate.generate_files(
-            context={'cookiecutter': {'food': 'pizza'}},
+            context={
+                'cookiecutter': {'food': 'pizza'}
+            },
             repo_dir='tests/test-generate-files-nontemplated'
         )
 
 
-def test_generate_files(self):
+@pytest.mark.usefixtures("clean_system_remove_additional_folders")
+def test_generate_files():
     generate.generate_files(
         context={
             'cookiecutter': {'food': 'pizzä'}
         },
         repo_dir='tests/test-generate-files'
     )
-    self.assertTrue(os.path.isfile('inputpizzä/simple.txt'))
-    simple_text = io.open('inputpizzä/simple.txt', 'rt', encoding='utf-8').read()
-    self.assertEqual(simple_text, u'I eat pizzä')
+
+    simple_file = 'inputpizzä/simple.txt'
+    assert os.path.isfile(simple_file)
+
+    simple_text = io.open(simple_file, 'rt', encoding='utf-8').read()
+    assert simple_text == u'I eat pizzä'
