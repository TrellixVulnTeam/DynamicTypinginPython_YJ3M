commit 0f4e345660975592d3f63315fe0c2b80dd8937ee
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Wed Nov 12 22:05:54 2014 +0100

    Convert test_generate_context_with_extra

diff --git a/tests/test_generate.py b/tests/test_generate.py
index f29f3de..3d4aba2 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -74,14 +74,6 @@ class TestGenerateFile(unittest.TestCase):
 
 class TestGenerateContext(CookiecutterCleanSystemTestCase):
 
-    def test_generate_context_with_extra(self):
-        """ Call `generate_context()` with extra_context. """
-        context = generate.generate_context(
-            context_file='tests/test-generate-context/test.json',
-            extra_context={'1': 4},
-        )
-        self.assertEqual(context, {'test': {'1': 4, 'some_key': 'some_val'}})
-
     def test_generate_context_with_default_and_extra(self):
         """ Call `generate_context()` with `default_context` and 
             `extra_context`. """
diff --git a/tests/test_generate_context.py b/tests/test_generate_context.py
index bba7788..5d6df26 100644
--- a/tests/test_generate_context.py
+++ b/tests/test_generate_context.py
@@ -8,6 +8,7 @@ test_generate_context
 Tests formerly known from a unittest residing in test_generate.py named
 TestGenerateContext.test_generate_context
 TestGenerateContext.test_generate_context_with_default
+TestGenerateContext.test_generate_context_with_extra
 """
 
 from __future__ import unicode_literals
@@ -31,3 +32,13 @@ def test_generate_context_with_default():
         default_context={"1": 3}
     )
     assert context == {"test": {"1": 3, "some_key": "some_val"}}
+
+
+@pytest.mark.usefixtures("clean_system")
+def test_generate_context_with_extra():
+    """ Call `generate_context()` with extra_context. """
+    context = generate.generate_context(
+        context_file='tests/test-generate-context/test.json',
+        extra_context={'1': 4},
+    )
+    assert context == {'test': {'1': 4, 'some_key': 'some_val'}}
