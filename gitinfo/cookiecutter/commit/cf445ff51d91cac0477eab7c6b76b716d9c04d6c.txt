commit cf445ff51d91cac0477eab7c6b76b716d9c04d6c
Author: Michael Joseph <michaeljoseph+github@gmail.com>
Date:   Fri Apr 15 13:03:54 2016 +0200

    Move extra_context arg conversion to callback

diff --git a/cookiecutter/cli.py b/cookiecutter/cli.py
index 6bf64c6..31e5b40 100644
--- a/cookiecutter/cli.py
+++ b/cookiecutter/cli.py
@@ -46,7 +46,9 @@ def validate_extra_context(ctx, param, value):
                 "'%s' doesn't match that form"
                 % (s,))
 
-    return value
+    # Convert tuple -- e.g.: (u'program_name=foobar', u'startsecs=66')
+    # to dict -- e.g.: {'program_name': 'foobar', 'startsecs': '66'}
+    return dict(s.split('=', 1) for s in value) or None
 
 
 @click.command(context_settings=dict(help_option_names=[u'-h', u'--help']))
@@ -102,13 +104,6 @@ def main(template, extra_context, no_input, checkout, verbose, replay,
             level=logging.INFO
         )
 
-    if extra_context:
-        # Convert tuple -- e.g.: (u'program_name=foobar', u'startsecs=66')
-        # to dict -- e.g.: {'program_name': 'foobar', 'startsecs': '66'}
-        extra_context = dict(s.split('=', 1) for s in extra_context)
-    else:
-        extra_context = None
-
     try:
         # If you _need_ to support a local template in a directory
         # called 'help', use a qualified path to the directory.
