commit 51adfe2d755595ab15c09e65db43f8c767ebaef8
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Mon Nov 17 08:21:08 2014 +0100

    Convert test_cookiecutter_input_extra_context

diff --git a/tests/test_cookiecutter_local_with_input.py b/tests/test_cookiecutter_local_with_input.py
index 66d5783..dd5ef71 100644
--- a/tests/test_cookiecutter_local_with_input.py
+++ b/tests/test_cookiecutter_local_with_input.py
@@ -7,6 +7,7 @@ test_cookiecutter_local_no_input
 
 Tests formerly known from a unittest residing in test_main.py named
 TestCookiecutterLocalWithInput.test_cookiecutter_local_with_input
+TestCookiecutterLocalWithInput.test_cookiecutter_input_extra_context
 """
 
 import os
@@ -40,3 +41,20 @@ def test_cookiecutter_local_with_input(monkeypatch):
     assert os.path.isdir('fake-project')
     assert os.path.isfile('fake-project/README.rst')
     assert not os.path.exists('fake-project/json/')
+
+
+@pytest.mark.usefixtures('clean_system', 'remove_additional_dirs')
+def test_cookiecutter_input_extra_context(monkeypatch):
+    """
+    `Call cookiecutter()` with `no_input=False` and `extra_context`
+    """
+    monkeypatch.setattr(
+        'cookiecutter.prompt.read_response',
+        lambda x=u'': u'\n'
+    )
+    main.cookiecutter(
+        'tests/fake-repo-pre',
+        no_input=True,
+        extra_context={'repo_name': 'fake-project-input-extra'}
+    )
+    assert os.path.isdir('fake-project-input-extra')
diff --git a/tests/test_main.py b/tests/test_main.py
index 85d7fdb..b92a100 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -71,25 +71,6 @@ class TestCookiecutterLocalNoInput(CookiecutterCleanSystemTestCase):
             utils.rmtree('fake-project-templated')
 
 
-class TestCookiecutterLocalWithInput(CookiecutterCleanSystemTestCase):
-
-    @patch('cookiecutter.prompt.read_response', lambda x=u'': u'\n')
-    def test_cookiecutter_input_extra_context(self):
-        """ `Call cookiecutter()` with `no_input=False` and `extra_context` """
-        main.cookiecutter(
-            'tests/fake-repo-pre',
-            no_input=True,
-            extra_context={'repo_name': 'fake-project-input-extra'}
-        )
-        self.assertTrue(os.path.isdir('fake-project-input-extra'))
-
-    def tearDown(self):
-        if os.path.isdir('fake-project'):
-            utils.rmtree('fake-project')
-        if os.path.isdir('fake-project-input-extra'):
-            utils.rmtree('fake-project-input-extra')
-
-
 class TestArgParsing(unittest.TestCase):
 
     def test_parse_cookiecutter_args(self):
