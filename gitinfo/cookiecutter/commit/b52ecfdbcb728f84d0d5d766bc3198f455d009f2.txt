commit b52ecfdbcb728f84d0d5d766bc3198f455d009f2
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Nov 18 22:55:12 2014 +0100

    Convert to parametrized test based on first test

diff --git a/tests/test_abbreviation_expansion.py b/tests/test_abbreviation_expansion.py
new file mode 100644
index 0000000..58c4f33
--- /dev/null
+++ b/tests/test_abbreviation_expansion.py
@@ -0,0 +1,36 @@
+#!/usr/bin/env python
+# -*- coding: utf-8 -*-
+
+"""
+test_abbreviation_expansion
+---------------------------
+
+Tests formerly known from a unittest residing in test_main.py named
+TestAbbreviationExpansion.test_abbreviation_expansion
+"""
+
+from __future__ import unicode_literals
+import pytest
+
+from cookiecutter import main
+
+
+def expansion_data():
+    """
+    Fixture for test_abbreviation_expansion providing several parameters for
+    main.expand_abbreviations (input_dir, config_dict) as well as a
+    corresponding return value (exp_dir).
+    """
+    regular = (
+        'foo',
+        {'abbreviations': {'foo': 'bar'}},
+        'bar'
+    )
+
+    yield regular
+
+
+@pytest.mark.parametrize('input_dir, config_dict, exp_dir', expansion_data())
+def test_abbreviation_expansion(input_dir, config_dict, exp_dir):
+    expanded_input_dir = main.expand_abbreviations(input_dir, config_dict)
+    assert expanded_input_dir == exp_dir
diff --git a/tests/test_main.py b/tests/test_main.py
index cc683ea..7c7dc10 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -114,10 +114,6 @@ class TestArgParsing(unittest.TestCase):
 
 class TestAbbreviationExpansion(unittest.TestCase):
 
-    def test_abbreviation_expansion(self):
-        input_dir = main.expand_abbreviations('foo', {'abbreviations': {'foo': 'bar'}})
-        self.assertEqual(input_dir, 'bar')
-
     def test_abbreviation_expansion_not_an_abbreviation(self):
         input_dir = main.expand_abbreviations('baz', {'abbreviations': {'foo': 'bar'}})
         self.assertEqual(input_dir, 'baz')
