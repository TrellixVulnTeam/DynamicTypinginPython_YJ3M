commit be2544a5b32cc393004f73cfe4909f9ce0c18034
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Fri Nov 14 23:50:47 2014 +0100

    Convert test_run_python_hooks to pytest

diff --git a/tests/test_generate.py b/tests/test_generate.py
index f260c8b..4cfa14b 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -127,17 +127,6 @@ class TestHooks(CookiecutterCleanSystemTestCase):
             utils.rmtree('tests/test-shellhooks')
         super(TestHooks, self).tearDown()
 
-    def test_run_python_hooks(self):
-        generate.generate_files(
-            context={
-                'cookiecutter': {'pyhooks': 'pyhooks'}
-            },
-            repo_dir='tests/test-pyhooks/'.replace("/", os.sep),
-            output_dir='tests/test-pyhooks/'.replace("/", os.sep)
-        )
-        self.assertTrue(os.path.exists('tests/test-pyhooks/inputpyhooks/python_pre.txt'))
-        self.assertTrue(os.path.exists('tests/test-pyhooks/inputpyhooks/python_post.txt'))
-
     def test_run_python_hooks_cwd(self):
         generate.generate_files(
             context={
diff --git a/tests/test_generate_hooks.py b/tests/test_generate_hooks.py
index 2f7376f..1a792a4 100644
--- a/tests/test_generate_hooks.py
+++ b/tests/test_generate_hooks.py
@@ -7,6 +7,7 @@ test_generate_hooks
 
 Tests formerly known from a unittest residing in test_generate.py named
 TestHooks.test_ignore_hooks_dirs
+TestHooks.test_run_python_hooks
 """
 
 from __future__ import unicode_literals
@@ -42,3 +43,16 @@ def test_ignore_hooks_dirs():
         output_dir='tests/test-pyhooks/'
     )
     assert not os.path.exists('tests/test-pyhooks/inputpyhooks/hooks')
+
+
+@pytest.mark.usefixtures('clean_system', 'remove_additional_folders')
+def test_run_python_hooks():
+    generate.generate_files(
+        context={
+            'cookiecutter': {'pyhooks': 'pyhooks'}
+        },
+        repo_dir='tests/test-pyhooks/'.replace("/", os.sep),
+        output_dir='tests/test-pyhooks/'.replace("/", os.sep)
+    )
+    assert os.path.exists('tests/test-pyhooks/inputpyhooks/python_pre.txt')
+    assert os.path.exists('tests/test-pyhooks/inputpyhooks/python_post.txt')
