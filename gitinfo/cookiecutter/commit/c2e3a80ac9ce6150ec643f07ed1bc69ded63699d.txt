commit c2e3a80ac9ce6150ec643f07ed1bc69ded63699d
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Mar 1 20:16:53 2016 +0000

    Expand env variables and user home for replay and cookiecutters dir

diff --git a/cookiecutter/config.py b/cookiecutter/config.py
index 1b85ac4..fb69b47 100755
--- a/cookiecutter/config.py
+++ b/cookiecutter/config.py
@@ -31,6 +31,13 @@ DEFAULT_CONFIG = {
 }
 
 
+def _expand_path(path):
+    """Expand both environment variables and user home in the given path."""
+    path = os.path.expandvars(path)
+    path = os.path.expanduser(path)
+    return path
+
+
 def get_config(config_path):
     """
     Retrieve the config from the specified path, returning it as a config dict.
@@ -52,6 +59,12 @@ def get_config(config_path):
     config_dict = copy.copy(DEFAULT_CONFIG)
     config_dict.update(yaml_dict)
 
+    raw_replay_dir = config_dict['replay_dir']
+    config_dict['replay_dir'] = _expand_path(raw_replay_dir)
+
+    raw_cookies_dir = config_dict['cookiecutters_dir']
+    config_dict['cookiecutters_dir'] = _expand_path(raw_cookies_dir)
+
     return config_dict
 
 
