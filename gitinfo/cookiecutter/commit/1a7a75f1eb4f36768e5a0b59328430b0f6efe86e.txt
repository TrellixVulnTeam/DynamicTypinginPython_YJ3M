commit 1a7a75f1eb4f36768e5a0b59328430b0f6efe86e
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Tue Mar 1 19:55:58 2016 +0000

    Implement a test for expanding environment variables

diff --git a/tests/test-config/config-expand-vars.yaml b/tests/test-config/config-expand-vars.yaml
new file mode 100644
index 0000000..ba56b0d
--- /dev/null
+++ b/tests/test-config/config-expand-vars.yaml
@@ -0,0 +1,2 @@
+cookiecutters_dir: "$COOKIES/templates"
+replay_dir: "$COOKIES/replay-files"
diff --git a/tests/test_get_user_config.py b/tests/test_get_user_config.py
index 1e45137..e60b09f 100644
--- a/tests/test_get_user_config.py
+++ b/tests/test_get_user_config.py
@@ -153,3 +153,13 @@ def test_expand_user_for_directories_in_config(monkeypatch):
     user_config = config.get_user_config(config_file)
     assert user_config['replay_dir'] == 'Users/bob/replay-files'
     assert user_config['cookiecutters_dir'] == 'Users/bob/templates'
+
+
+def test_expand_vars_for_directories_in_config(monkeypatch):
+    monkeypatch.setenv('COOKIES', 'Users/bob/cookies')
+
+    config_file = 'tests/test-config/config-expand-vars.yaml'
+
+    user_config = config.get_user_config(config_file)
+    assert user_config['replay_dir'] == 'Users/bob/cookies/replay-files'
+    assert user_config['cookiecutters_dir'] == 'Users/bob/cookies/templates'
