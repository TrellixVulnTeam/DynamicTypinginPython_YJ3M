commit 0406076b004b819d2c5d6cf47d4ddd2faf57aaa1
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sun Jul 28 16:06:25 2013 +0200

    Take in parent of template_dir as input arg instead of template_dir.

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index b48bd6b..cc5e8e8 100755
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -27,7 +27,8 @@ def cookiecutter(input_dir):
     """
     API equivalent to using Cookiecutter at the command line.
     
-    :param input_dir: A project template directory or URL to git repo.
+    :param input_dir: A directory containing a project template dir, 
+        or a URL to git repo.
     """
 
     # If it's a git repo, clone and prompt
@@ -37,7 +38,7 @@ def cookiecutter(input_dir):
         project_template = find_template(repo_dir)
     else:
         got_repo_arg = False
-        project_template = input_dir
+        project_template = find_template(input_dir)
 
     json_dir = os.path.join(os.path.dirname(project_template), 'json/')
     logging.info('json_dir is {0}'.format(json_dir))
diff --git a/tests/test_examples.py b/tests/test_examples.py
index 4a84ae4..16d6a53 100755
--- a/tests/test_examples.py
+++ b/tests/test_examples.py
@@ -28,7 +28,7 @@ class TestExamples(unittest.TestCase):
         """
 
         os.system('git clone https://github.com/audreyr/cookiecutter-pypackage.git')
-        os.system('cookiecutter cookiecutter-pypackage/{{project.repo_name}}')
+        os.system('cookiecutter cookiecutter-pypackage/')
         self.assertTrue(os.path.isfile('cookiecutter-pypackage/alotofeffort/README.rst'))
 
     def tearDown(self):
diff --git a/tests/test_main.py b/tests/test_main.py
index 42f0bb5..66372bf 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -23,11 +23,19 @@ logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 class TestCookiecutter(unittest.TestCase):
 
     def test_cookiecutter(self):
-        main.cookiecutter('tests/fake-repo-pre/{{project.repo_name}}')
+        main.cookiecutter('tests/fake-repo-pre/')
+        self.assertTrue(os.path.isdir('tests/fake-repo-pre/{{project.repo_name}}'))
         self.assertTrue(os.path.isdir('tests/fake-repo-pre/fake-project'))
         self.assertTrue(os.path.isfile('tests/fake-repo-pre/fake-project/README.rst'))
         self.assertFalse(os.path.exists('tests/fake-repo-pre/fake-project/json/'))
 
+    def test_cookiecutter_no_slash(self):
+        main.cookiecutter('tests/fake-repo-pre')
+        self.assertTrue(os.path.isdir('tests/fake-repo-pre/{{project.repo_name}}'))
+        self.assertTrue(os.path.isdir('tests/fake-repo-pre/fake-project'))
+        self.assertTrue(os.path.isfile('tests/fake-repo-pre/fake-project/README.rst'))
+        self.assertFalse(os.path.exists('tests/fake-repo-pre/fake-project/json/'))
+        
     def tearDown(self):
         if os.path.isdir('tests/fake-repo-pre/fake-project'):
             shutil.rmtree('tests/fake-repo-pre/fake-project')
