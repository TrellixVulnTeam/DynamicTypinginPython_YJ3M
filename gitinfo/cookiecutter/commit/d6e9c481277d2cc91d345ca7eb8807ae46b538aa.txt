commit d6e9c481277d2cc91d345ca7eb8807ae46b538aa
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Wed Nov 25 14:19:37 2015 +0100

    Implement user friendly cli error output for UndefinedVariableInTemplate

diff --git a/cookiecutter/cli.py b/cookiecutter/cli.py
index d69918d..92e4d12 100755
--- a/cookiecutter/cli.py
+++ b/cookiecutter/cli.py
@@ -11,6 +11,7 @@ Main `cookiecutter` CLI.
 import os
 import sys
 import logging
+import json
 
 import click
 
@@ -104,10 +105,20 @@ def main(template, no_input, checkout, verbose, replay, overwrite_if_exists,
         )
     except (OutputDirExistsException,
             InvalidModeException,
-            FailedHookException,
-            UndefinedVariableInTemplate) as e:
+            FailedHookException) as e:
         click.echo(e)
         sys.exit(1)
+    except UndefinedVariableInTemplate as undefined_err:
+        click.echo('{}'.format(undefined_err.message))
+        click.echo('Error message: {}'.format(undefined_err.error.message))
+
+        context_str = json.dumps(
+            undefined_err.context,
+            indent=4,
+            sort_keys=True
+        )
+        click.echo('Context: {}'.format(context_str))
+        sys.exit(1)
 
 
 if __name__ == "__main__":
