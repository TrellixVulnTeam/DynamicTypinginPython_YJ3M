commit c2764c40d3b9aad0af6e7238333d269fd0116e04
Author: Trey Hunner <trey@treyhunner.com>
Date:   Sat Oct 4 13:05:59 2014 -0700

    Refactor test per advice of @audreyr and @pfmoore

diff --git a/tests/test_generate.py b/tests/test_generate.py
index c7a9830..77c45c3 100755
--- a/tests/test_generate.py
+++ b/tests/test_generate.py
@@ -118,11 +118,9 @@ class TestGenerateFiles(CookiecutterCleanSystemTestCase):
             repo_dir='tests/test-generate-files'
         )
         self.assertTrue(os.path.isfile('inputpizzä/simple-with-newline.txt'))
-        simple_text = open('inputpizzä/simple-with-newline.txt', 'rt').read()
-        if PY3:
-            self.assertEqual(simple_text, 'I eat pizzä\n')
-        else:
-            self.assertEqual(simple_text, u'I eat pizzä\n')
+        with io.open('inputpizzä/simple-with-newline.txt', 'r', encoding='utf-8') as f:
+            simple_text = f.read()
+        self.assertEqual(simple_text, u'I eat pizzä\n')
 
     def test_generate_files_binaries(self):
         generate.generate_files(
