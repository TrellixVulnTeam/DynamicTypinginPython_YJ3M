commit 5ca937006eb995c18e271d49918c6eb62206c058
Author: Joshua Carp <jm.carp@gmail.com>
Date:   Sun Jun 4 12:22:00 2017 -0400

    Explicitly specify string encodings.

diff --git a/cookiecutter/vcs.py b/cookiecutter/vcs.py
index 7c0d461..3fb44a6 100644
--- a/cookiecutter/vcs.py
+++ b/cookiecutter/vcs.py
@@ -129,7 +129,7 @@ def clone(repo_url, checkout=None, clone_to_dir='.', no_input=False):
                 stderr=subprocess.STDOUT,
             )
     except subprocess.CalledProcessError as clone_error:
-        output = clone_error.output.decode()
+        output = clone_error.output.decode('utf-8')
         if 'not found' in output.lower():
             raise RepositoryNotFound(
                 'The repository {} could not be found, '
diff --git a/tests/vcs/test_clone.py b/tests/vcs/test_clone.py
index 0e41d8c..efdfa71 100644
--- a/tests/vcs/test_clone.py
+++ b/tests/vcs/test_clone.py
@@ -139,8 +139,11 @@ def test_clone_should_invoke_vcs_command(
 
 
 @pytest.mark.parametrize('error_message', [
-    b"fatal: repository 'https://github.com/hackebro/cookiedozer' not found",
-    b'hg: abort: HTTP Error 404: Not Found',
+    (
+        "fatal: repository 'https://github.com/hackebro/cookiedozer' "
+        "not found"
+    ).encode('utf-8'),
+    'hg: abort: HTTP Error 404: Not Found'.encode('utf-8'),
 ])
 def test_clone_handles_repo_typo(mocker, clone_dir, error_message):
     """In `clone()`, repository not found errors should raise an
@@ -171,8 +174,11 @@ def test_clone_handles_repo_typo(mocker, clone_dir, error_message):
 
 
 @pytest.mark.parametrize('error_message', [
-    b"error: pathspec 'unknown_branch' did not match any file(s) known to git",
-    b"hg: abort: unknown revision 'unknown_branch'!",
+    (
+        "error: pathspec 'unknown_branch' did not match any file(s) known "
+        "to git"
+    ).encode('utf-8'),
+    "hg: abort: unknown revision 'unknown_branch'!".encode('utf-8'),
 ])
 def test_clone_handles_branch_typo(mocker, clone_dir, error_message):
     """In `clone()`, branch not found errors should raise an
@@ -207,7 +213,7 @@ def test_clone_unknown_subprocess_error(mocker, clone_dir):
         'cookiecutter.vcs.subprocess.check_output',
         autospec=True,
         side_effect=[subprocess.CalledProcessError(
-            -1, 'cmd', output=b'Something went wrong'
+            -1, 'cmd', output='Something went wrong'.encode('utf-8')
         )]
     )
 
