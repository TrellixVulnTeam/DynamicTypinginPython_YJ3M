commit e9ef42289e7725ade6e57b66b18842be1787c72d
Author: michaeljoseph <michaeljoseph+github@gmail.com>
Date:   Tue Sep 20 00:07:34 2016 +0200

    Explicitly set repository_candidates for filesystem and repo url cases

diff --git a/cookiecutter/repository.py b/cookiecutter/repository.py
index 9b21aac..e8d11f3 100644
--- a/cookiecutter/repository.py
+++ b/cookiecutter/repository.py
@@ -76,8 +76,6 @@ def determine_repo_dir(template, abbreviations, clone_to_dir, checkout,
     """
     template = expand_abbreviations(template, abbreviations)
 
-    repository_candidates = []
-
     if is_repo_url(template):
         cloned_repo = clone(
             repo_url=template,
@@ -85,12 +83,12 @@ def determine_repo_dir(template, abbreviations, clone_to_dir, checkout,
             clone_to_dir=clone_to_dir,
             no_input=no_input,
         )
-        repository_candidates.append(cloned_repo)
-
-    repository_candidates.extend([
-        template,
-        os.path.join(clone_to_dir, template)
-    ])
+        repository_candidates = [cloned_repo]
+    else:
+        repository_candidates = [
+            template,
+            os.path.join(clone_to_dir, template)
+        ]
 
     for repo_candidate in repository_candidates:
         if repository_has_cookiecutter_json(repo_candidate):
diff --git a/tests/repository/test_determine_repo_dir_clones_repo.py b/tests/repository/test_determine_repo_dir_clones_repo.py
index b29dad3..0de86e7 100644
--- a/tests/repository/test_determine_repo_dir_clones_repo.py
+++ b/tests/repository/test_determine_repo_dir_clones_repo.py
@@ -58,7 +58,7 @@ def test_repository_url_with_no_context_file(
         repository.determine_repo_dir(
             template_url,
             abbreviations={},
-            clone_to_dir=user_config_data['cookiecutters_dir'],
+            clone_to_dir=None,
             checkout=None,
             no_input=True
         )
