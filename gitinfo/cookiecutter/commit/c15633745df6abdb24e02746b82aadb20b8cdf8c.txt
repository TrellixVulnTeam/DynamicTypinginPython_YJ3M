commit c15633745df6abdb24e02746b82aadb20b8cdf8c
Author: Philipp Kats <casyfill@gmail.com>
Date:   Fri May 29 17:02:23 2020 -0400

    Added: _output_dir to cookiecutter context (#1034)
    
    * adding output_dir to context, related to #1033
    
    * Restore files permissions
    
    * Fix tests
    
    * Renaming
    
    Co-authored-by: Andrey Shpak <insspb@users.noreply.github.com>
    Co-authored-by: Andrey Shpak <ashpak@ashpak.ru>

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 8df690a..bfe5ccf 100644
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -93,6 +93,9 @@ def cookiecutter(
         # include template dir or url in the context dict
         context['cookiecutter']['_template'] = template
 
+        # include output+dir in the context dict
+        context['cookiecutter']['_output_dir'] = os.path.abspath(output_dir)
+
         dump(config_dict['replay_dir'], template_name, context)
 
     # Create project from local context and project template.
diff --git a/tests/test_cli.py b/tests/test_cli.py
index c5e90e3..0bd9ac0 100644
--- a/tests/test_cli.py
+++ b/tests/test_cli.py
@@ -367,6 +367,7 @@ def test_echo_undefined_variable_error(tmpdir, cli_runner):
             'github_username': 'hackebrot',
             'project_slug': 'testproject',
             '_template': template_path,
+            '_output_dir': output_dir,
         }
     }
     context_str = json.dumps(context, indent=4, sort_keys=True)
