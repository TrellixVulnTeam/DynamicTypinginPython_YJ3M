commit 8ad67c7374cfce36cd9c8922d8aae3e7a72dd2c2
Author: Hamish Downer <hamish@aptivate.org>
Date:   Fri Aug 23 14:49:55 2013 +0100

    Add --checkout to valid arguments
    
    And add test for it

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 7168932..f3b418b 100755
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -77,8 +77,12 @@ def parse_cookiecutter_args(args):
         'input_dir',
         help='Cookiecutter project dir, e.g. cookiecutter-pypackage/'
     )
+    parser.add_argument(
+        '-c', '--checkout',
+        help='branch, tag or commit to checkout after git clone'
+    )
     return parser.parse_args(args)
-    
+
 def main():
     """ Entry point for the package, as defined in setup.py. """
 
@@ -86,8 +90,8 @@ def main():
     logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.INFO)
 
     args = parse_cookiecutter_args(sys.argv[1:])
-    
-    cookiecutter(args.input_dir)
+
+    cookiecutter(args.input_dir, args.checkout)
 
 if __name__ == '__main__':
     main()
diff --git a/tests/test_main.py b/tests/test_main.py
index 7f5376a..f4619d8 100755
--- a/tests/test_main.py
+++ b/tests/test_main.py
@@ -31,7 +31,7 @@ else:
     input_str = '__builtin__.raw_input'
     from cStringIO import StringIO
 
-    
+
 # Log debug and above to console
 logging.basicConfig(format='%(levelname)s: %(message)s', level=logging.DEBUG)
 
@@ -51,17 +51,23 @@ class TestCookiecutter(unittest.TestCase):
         self.assertTrue(os.path.isdir('tests/fake-repo-pre/fake-project'))
         self.assertTrue(os.path.isfile('tests/fake-repo-pre/fake-project/README.rst'))
         self.assertFalse(os.path.exists('tests/fake-repo-pre/fake-project/json/'))
-        
+
     def tearDown(self):
         if os.path.isdir('tests/fake-repo-pre/fake-project'):
             shutil.rmtree('tests/fake-repo-pre/fake-project')
 
 
 class TestArgParsing(unittest.TestCase):
-    
+
     def test_parse_cookiecutter_args(self):
         args = main.parse_cookiecutter_args(['project/'])
         self.assertEqual(args.input_dir, 'project/')
+        self.assertEqual(args.checkout, None)
+
+    def test_parse_cookiecutter_args_with_branch(self):
+        args = main.parse_cookiecutter_args(['project/', '--checkout', 'develop'])
+        self.assertEqual(args.input_dir, 'project/')
+        self.assertEqual(args.checkout, 'develop')
 
 
 class TestCookiecutterRepoArg(unittest.TestCase):
@@ -76,7 +82,7 @@ class TestCookiecutterRepoArg(unittest.TestCase):
         self.assertTrue(os.path.isdir('boilerplate'))
         self.assertTrue(os.path.isfile('boilerplate/README.rst'))
         self.assertTrue(os.path.exists('boilerplate/setup.py'))
-    
+
     def tearDown(self):
         if os.path.isdir('cookiecutter-pypackage'):
             shutil.rmtree('cookiecutter-pypackage')
