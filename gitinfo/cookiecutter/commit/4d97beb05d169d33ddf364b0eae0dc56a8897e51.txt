commit 4d97beb05d169d33ddf364b0eae0dc56a8897e51
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Mon Nov 24 22:55:20 2014 +0100

    Convert test_get_user_config_valid with fixture

diff --git a/tests/test_config.py b/tests/test_config.py
index 7d7a48b..16d236f 100755
--- a/tests/test_config.py
+++ b/tests/test_config.py
@@ -35,20 +35,6 @@ class TestGetUserConfig(unittest.TestCase):
             shutil.copy(self.user_config_path_backup, self.user_config_path)
             os.remove(self.user_config_path_backup)
 
-    def test_get_user_config_valid(self):
-        """ Get config from a valid ~/.cookiecutterrc file """
-        shutil.copy('tests/test-config/valid-config.yaml', self.user_config_path)
-        conf = config.get_user_config()
-        expected_conf = {
-        	'cookiecutters_dir': '/home/example/some-path-to-templates',
-        	'default_context': {
-        		"full_name": "Firstname Lastname",
-        		"email": "firstname.lastname@gmail.com",
-        		"github_username": "example"
-        	}
-        }
-        self.assertEqual(conf, expected_conf)
-
     def test_get_user_config_invalid(self):
         """ Get config from an invalid ~/.cookiecutterrc file """
         shutil.copy('tests/test-config/invalid-config.yaml', self.user_config_path)
diff --git a/tests/test_get_user_config.py b/tests/test_get_user_config.py
index 322e34a..96754e0 100644
--- a/tests/test_get_user_config.py
+++ b/tests/test_get_user_config.py
@@ -12,14 +12,20 @@ import os
 import shutil
 import pytest
 
+from cookiecutter import config
+
+
+@pytest.fixture(scope='module')
+def user_config_path():
+    return os.path.expanduser('~/.cookiecutterrc')
+
 
 @pytest.fixture(scope='function')
-def back_up_rc(request):
+def back_up_rc(request, user_config_path):
     """
     Back up an existing cookiecutter rc and restore it after the test.
     If ~/.cookiecutterrc is pre-existing, move it to a temp location
     """
-    user_config_path = os.path.expanduser('~/.cookiecutterrc')
     user_config_path_backup = os.path.expanduser(
         '~/.cookiecutterrc.backup'
     )
@@ -36,3 +42,18 @@ def back_up_rc(request):
             shutil.copy(user_config_path_backup, user_config_path)
             os.remove(user_config_path_backup)
     request.addfinalizer(restore_rc)
+
+
+def test_get_user_config_valid(user_config_path):
+    """ Get config from a valid ~/.cookiecutterrc file """
+    shutil.copy('tests/test-config/valid-config.yaml', user_config_path)
+    conf = config.get_user_config()
+    expected_conf = {
+        'cookiecutters_dir': '/home/example/some-path-to-templates',
+        'default_context': {
+            "full_name": "Firstname Lastname",
+            "email": "firstname.lastname@gmail.com",
+            "github_username": "example"
+        }
+    }
+    assert conf == expected_conf
