commit dcc4106d91e037df3a73c6e30e38a8ed9c85db51
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sat Nov 15 14:32:15 2014 +0100

    Extract skipif markets to a separate module

diff --git a/tests/skipif_markers.py b/tests/skipif_markers.py
new file mode 100644
index 0000000..e7d95fd
--- /dev/null
+++ b/tests/skipif_markers.py
@@ -0,0 +1,32 @@
+#!/usr/bin/env python
+# -*- coding: utf-8 -*-
+
+"""
+skipif_markers
+--------------
+
+Contains pytest skipif markers to be used in the suite.
+"""
+
+import pytest
+import os
+
+
+try:
+    travis = os.environ[u'TRAVIS']
+except KeyError:
+    travis = False
+
+try:
+    no_network = os.environ[u'DISABLE_NETWORK_TESTS']
+except KeyError:
+    no_network = False
+
+# For some reason pytest incorrectly uses the first reason text regardless of
+# which condition matches. Using a unified message for now
+# travis_reason = 'Works locally with tox but fails on Travis.'
+# no_network_reason = 'Needs a network connection to GitHub.'
+reason = 'Fails on Travis or else there is no network connection to GitHub'
+
+skipif_travis = pytest.mark.skipif(travis, reason=reason)
+skipif_no_network = pytest.mark.skipif(no_network, reason=reason)
diff --git a/tests/test_pypackage.py b/tests/test_pypackage.py
index 50729cb..a165920 100644
--- a/tests/test_pypackage.py
+++ b/tests/test_pypackage.py
@@ -15,17 +15,7 @@ import subprocess
 import pytest
 
 from cookiecutter import utils
-
-
-try:
-    travis = os.environ[u'TRAVIS']
-except KeyError:
-    travis = False
-
-try:
-    no_network = os.environ[u'DISABLE_NETWORK_TESTS']
-except KeyError:
-    no_network = False
+from tests.skipif_markers import skipif_travis, skipif_no_network
 
 
 @pytest.fixture(scope='function')
@@ -41,15 +31,8 @@ def remove_additional_dirs(request):
     request.addfinalizer(fin_remove_additional_dirs)
 
 
-# For some reason pytest incorrectly uses the first reason text regardless of
-# which condition matches. Using a unified message for now
-# travis_reason = 'Works locally with tox but fails on Travis.'
-# no_network_reason = 'Needs a network connection to GitHub.'
-reason = 'Fails on Travis or else there is no network connection to GitHub'
-
-
-@pytest.mark.skipif(travis, reason=reason)
-@pytest.mark.skipif(no_network, reason=reason)
+@skipif_travis
+@skipif_no_network
 @pytest.mark.usefixtures('remove_additional_dirs')
 def test_cookiecutter_pypackage():
     """
