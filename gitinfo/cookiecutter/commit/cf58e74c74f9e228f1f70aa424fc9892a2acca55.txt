commit cf58e74c74f9e228f1f70aa424fc9892a2acca55
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Mon Aug 15 20:58:07 2016 +0100

    Fix hooks directory fixture in test_hooks.py

diff --git a/tests/test_hooks.py b/tests/test_hooks.py
index 3c4022d..56e1feb 100644
--- a/tests/test_hooks.py
+++ b/tests/test_hooks.py
@@ -183,10 +183,10 @@ class TestExternalHooks(object):
 
 
 @pytest.yield_fixture
-def hook_backup_dir(tmpdir):
+def dir_with_hooks(tmpdir):
     """Yield a directory that contains hook backup files."""
 
-    hooks_dir = tmpdir.mkdir('hook-files')
+    hooks_dir = tmpdir.mkdir('hooks')
 
     pre_hook_content = textwrap.dedent(
         u"""
@@ -209,12 +209,15 @@ def hook_backup_dir(tmpdir):
     post_gen_hook_file = hooks_dir / 'post_gen_project.py~'
     post_gen_hook_file.write_text(post_hook_content, encoding='utf8')
 
-    yield str(hooks_dir)
+    # Make sure to yield the parent directory as `find_hooks()`
+    # looks into `hooks/` in the current working directory
+    yield str(tmpdir)
 
     pre_gen_hook_file.remove()
     post_gen_hook_file.remove()
 
 
-def test_ignore_hook_backup_files(monkeypatch, hook_backup_dir):
-    monkeypatch.chdir(hook_backup_dir)
+def test_ignore_hook_backup_files(monkeypatch, dir_with_hooks):
+    # Change the current working directory that contains `hooks/`
+    monkeypatch.chdir(dir_with_hooks)
     assert hooks.find_hooks() == {}
