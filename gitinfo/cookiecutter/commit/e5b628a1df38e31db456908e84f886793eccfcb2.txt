commit e5b628a1df38e31db456908e84f886793eccfcb2
Author: michaeljoseph <michaeljoseph+github@gmail.com>
Date:   Wed Jul 13 18:27:49 2016 +0200

    Test local repository validation

diff --git a/tests/fake-repo/cookiecutter.json b/tests/fake-repo/cookiecutter.json
new file mode 100644
index 0000000..e69de29
diff --git a/tests/repository/test_determine_repository_should_use_local_repo.py b/tests/repository/test_determine_repository_should_use_local_repo.py
index 8396660..696cbee 100644
--- a/tests/repository/test_determine_repository_should_use_local_repo.py
+++ b/tests/repository/test_determine_repository_should_use_local_repo.py
@@ -1,9 +1,11 @@
 # -*- coding: utf-8 -*-
-from cookiecutter.repository import determine_repo_dir
+from cookiecutter import repository, exceptions
 
+import pytest
 
-def test_determine_repository_should_use_local_repo():
-    project_dir = determine_repo_dir(
+
+def test_finds_local_repo():
+    project_dir = repository.determine_repo_dir(
         'tests/fake-repo',
         abbreviations={},
         clone_to_dir=None,
@@ -12,3 +14,17 @@ def test_determine_repository_should_use_local_repo():
     )
 
     assert 'tests/fake-repo' == project_dir
+
+
+def test_local_repo_with_no_context_raises(user_config_data):
+    """A repository without a cookiecutter.json should raise a
+    `RepositoryNotFound` exception.
+    """
+    with pytest.raises(exceptions.RepositoryNotFound):
+        repository.determine_repo_dir(
+            'tests/fake-repo-bad',
+            abbreviations={},
+            clone_to_dir=user_config_data['cookiecutters_dir'],
+            checkout=None,
+            no_input=True
+        )
