commit 8c3a81a73aeac7744a8b501d1016abd6a6ee67fd
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sat Aug 10 12:23:44 2013 +0200

    Test for exception during cleanup.

diff --git a/tests/fake-repo-bad/no-project-in-here.txt b/tests/fake-repo-bad/no-project-in-here.txt
new file mode 100644
index 0000000..f6f679e
--- /dev/null
+++ b/tests/fake-repo-bad/no-project-in-here.txt
@@ -0,0 +1 @@
+Ha ha ha!
\ No newline at end of file
diff --git a/tests/test_cleanup.py b/tests/test_cleanup.py
index c105393..e16ae78 100755
--- a/tests/test_cleanup.py
+++ b/tests/test_cleanup.py
@@ -12,7 +12,7 @@ import os
 import shutil
 import unittest
 
-from cookiecutter import cleanup
+from cookiecutter import cleanup, exceptions
 
 
 class TestCleanup(unittest.TestCase):
@@ -27,6 +27,14 @@ class TestCleanup(unittest.TestCase):
         self.assertTrue(os.path.isfile('tests/fake-project/README.rst'))
         self.assertFalse(os.path.exists('tests/fake-repo'))
 
+    def test_remove_repo_bad(self):
+        self.assertRaises(
+            exceptions.MissingProjectDir,
+            cleanup.remove_repo,
+            repo_dir='tests/fake-repo-bad',
+            generated_project='fake-project'
+        )
+
     def tearDown(self):
         if not os.path.exists('tests/fake-repo'):
             os.mkdir('tests/fake-repo')
