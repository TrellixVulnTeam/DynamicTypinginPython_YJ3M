commit f7980253a56351c4bd7be93a37cdc6f0c6e7b743
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Sun May 24 22:28:44 2015 +0200

    Implement test_should_invoke_read_user_choice

diff --git a/tests/test_prompt.py b/tests/test_prompt.py
index 4d43a93..ce649de 100644
--- a/tests/test_prompt.py
+++ b/tests/test_prompt.py
@@ -109,3 +109,24 @@ class TestPrompt(object):
         context = {'cookiecutter': {'_copy_without_render': ['*.html']}}
         cookiecutter_dict = prompt.prompt_for_config(context)
         assert cookiecutter_dict == {'_copy_without_render': ['*.html']}
+
+
+class TestQueryChoice(object):
+    def test_should_invoke_read_user_choice(self, mocker):
+        read_choice = mocker.patch('cookiecutter.prompt.read_user_choice')
+        read_choice.return_value = 'all'
+
+        read_variable = mocker.patch('cookiecutter.prompt.read_user_variable')
+
+        CHOICES = ['landscape', 'portrait', 'all']
+        CONTEXT = {
+            'cookiecutter': {
+                'orientation': CHOICES
+            }
+        }
+
+        cookiecutter_dict = prompt.prompt_for_config(CONTEXT)
+        assert cookiecutter_dict == {'orientation': 'all'}
+        assert not read_variable.called
+
+        read_choice.assert_called_once_with('orientation', CHOICES)
