commit f7d27184db4df6fbdc653aa9f8ceb545cf83e551
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Wed Mar 16 23:10:38 2016 +0000

    Implement a test for default extensions, jinja2_time at this point

diff --git a/tests/test_default_extensions.py b/tests/test_default_extensions.py
new file mode 100644
index 0000000..a1d15a1
--- /dev/null
+++ b/tests/test_default_extensions.py
@@ -0,0 +1,41 @@
+# -*- coding: utf-8 -*-
+
+import os
+import io
+
+import pytest
+import freezegun
+
+from cookiecutter.main import cookiecutter
+
+
+@pytest.yield_fixture(autouse=True)
+def freeze():
+    freezer = freezegun.freeze_time("2015-12-09 23:33:01")
+    freezer.start()
+    yield
+    freezer.stop()
+
+
+def test_jinja2_time_extension(tmpdir):
+    project_dir = cookiecutter(
+        'tests/test-extensions/default/',
+        no_input=True,
+        output_dir=str(tmpdir)
+    )
+    changelog_file = os.path.join(project_dir, 'HISTORY.rst')
+    assert os.path.isfile(changelog_file)
+
+    with io.open(changelog_file, 'r', encoding='utf-8') as f:
+        changelog_lines = f.readlines()
+
+    expected_lines = [
+        'History\n',
+        '-------\n',
+        '\n',
+        '0.1.0 (2015-12-09)\n',
+        '---------------------\n',
+        '\n',
+        'First release on PyPI.\n'
+    ]
+    assert expected_lines == changelog_lines
diff --git a/tox.ini b/tox.ini
index 35e0599..c02c519 100644
--- a/tox.ini
+++ b/tox.ini
@@ -7,6 +7,7 @@ commands = py.test --cov=cookiecutter {posargs:tests}
 deps = pytest
        pytest-cov
        pytest-mock
+       freezegun
 
 [testenv:flake8]
 deps =
