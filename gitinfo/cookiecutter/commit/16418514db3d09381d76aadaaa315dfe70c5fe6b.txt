commit 16418514db3d09381d76aadaaa315dfe70c5fe6b
Author: Jeremy Carbaugh <jeremy@jcarbaugh.com>
Date:   Fri Jun 3 17:27:00 2016 -0700

    Don't test errno=8 on windows
    
    Also added comment with justification

diff --git a/tests/test_generate_hooks.py b/tests/test_generate_hooks.py
index 43d54b0..4d966ab 100644
--- a/tests/test_generate_hooks.py
+++ b/tests/test_generate_hooks.py
@@ -78,15 +78,20 @@ def test_run_python_hooks_cwd():
 
 @pytest.mark.usefixtures('clean_system', 'remove_additional_folders')
 def test_empty_hooks():
-    with pytest.raises(FailedHookException) as excinfo:
-        generate.generate_files(
-            context={
-                'cookiecutter': {'shellhooks': 'shellhooks'}
-            },
-            repo_dir='tests/test-shellhooks-empty/',
-            overwrite_if_exists=True
-        )
-    assert 'shebang' in str(excinfo.value)
+
+    # OSError.errno=8 is not thrown on Windows when the script is emtpy
+    # because it always runs through shell instead of needing a shebang.
+
+    if not sys.platform.startswith('win'):
+        with pytest.raises(FailedHookException) as excinfo:
+            generate.generate_files(
+                context={
+                    'cookiecutter': {'shellhooks': 'shellhooks'}
+                },
+                repo_dir='tests/test-shellhooks-empty/',
+                overwrite_if_exists=True
+            )
+        assert 'shebang' in str(excinfo.value)
 
 
 @pytest.mark.usefixtures('clean_system', 'remove_additional_folders')
