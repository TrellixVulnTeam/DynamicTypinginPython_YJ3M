commit cd9b8f2332d124a868ca0c62f52ff71bfc4bf826
Author: Audrey Roy <audreyr@gmail.com>
Date:   Sun Jul 28 10:17:05 2013 +0200

    Test passing a git repo arg; fixes.

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 9f61d72..a354daf 100755
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -12,6 +12,7 @@ library rather than a script.
 """
 
 import argparse
+import os
 
 from .find import find_template
 from .generate import generate_context, generate_files
@@ -35,6 +36,7 @@ def main():
     if args.input_dir.endswith('.git'):
         repo_dir = git_clone(args.input_dir)
         project_template = find_template(repo_dir)
+        os.chdir(repo_dir)
     else:
         project_template = args.input_dir
 
diff --git a/tests/test_examples.py b/tests/test_examples.py
index 845da05..737c55d 100755
--- a/tests/test_examples.py
+++ b/tests/test_examples.py
@@ -25,8 +25,13 @@ class TestExamples(unittest.TestCase):
         os.system('cookiecutter {{project.repo_name}}')
         self.assertTrue(os.path.isfile('alotofeffort/README.rst'))
         os.chdir(os.pardir)
-        shutil.rmtree('cookiecutter-pypackage')
 
+    def test_cookiecutter_pypackage_git(self):
+        os.system('cookiecutter https://github.com/audreyr/cookiecutter-pypackage.git')
+        self.assertTrue(os.path.isfile('cookiecutter-pypackage/alotofeffort/README.rst'))
 
+    def tearDown(self):
+        shutil.rmtree('cookiecutter-pypackage')
+        
 if __name__ == '__main__':
     unittest.main()
