commit 5de084bcad2d264edd3b22ec169bf2e6dbe3240a
Author: Raphael Pierzina <raphael@hackebrot.de>
Date:   Fri Aug 19 18:52:52 2016 +0100

    Use repo_dir rather than template to get name

diff --git a/cookiecutter/main.py b/cookiecutter/main.py
index 9f38757..983dff2 100644
--- a/cookiecutter/main.py
+++ b/cookiecutter/main.py
@@ -61,7 +61,7 @@ def cookiecutter(
         no_input=no_input,
     )
 
-    template_name = os.path.basename(os.path.abspath(template))
+    template_name = os.path.basename(os.path.abspath(repo_dir))
 
     if replay:
         context = load(config_dict['replay_dir'], template_name)
