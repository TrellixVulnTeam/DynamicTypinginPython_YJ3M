commit 9863b9dfb81526133a696c1c1fe2cb1115ecb53c
Author: Philippe Duval <philippe@plot.ly>
Date:   Tue Nov 6 17:15:28 2018 -0500

    Combine extract-meta & component generation, wrap as cli.

diff --git a/dash/development/component_generator.py b/dash/development/component_generator.py
new file mode 100644
index 00000000..76280ae9
--- /dev/null
+++ b/dash/development/component_generator.py
@@ -0,0 +1,62 @@
+from __future__ import print_function
+
+import json
+import sys
+import subprocess
+import shlex
+import os
+
+from .base_component import generate_class_file
+
+
+def generate_components(component_src, output_dir):
+    is_windows = sys.platform == 'win32'
+
+    extract_path = os.path.abspath(os.path.join(
+        os.path.dirname(__file__),
+        '..',
+        'extract-meta.js'
+    ))
+
+    os.environ['NODE_PATH'] = 'node_modules'
+    cmd = shlex.split('node {} {}'.format(extract_path, component_src),
+                      posix=not is_windows)
+
+    namespace = os.path.basename(output_dir)
+
+    proc = subprocess.Popen(cmd,
+                            stdout=subprocess.PIPE,
+                            stderr=subprocess.PIPE,
+                            shell=not is_windows)
+    out, err = proc.communicate()
+    status = proc.poll()
+
+    if err:
+        print(err.decode())
+
+    if not out:
+        print(
+            'Error generating {} metadata in {} (status={})'.format(
+                namespace, output_dir, status),
+            file=sys.stderr)
+        sys.exit(-1)
+    metadata = json.loads(out.decode())
+    for component_path, component_data in metadata.items():
+        name = component_path.split('/').pop().split('.')[0]
+        generate_class_file(
+            name,
+            component_data['props'],
+            component_data['description'],
+            namespace
+        )
+        print('Generated {}/{}.py'.format(namespace, name))
+
+
+def cli():
+    # pylint: disable=unbalanced-tuple-unpacking
+    src, out = sys.argv[1:]
+    generate_components(src, out)
+
+
+if __name__ == '__main__':
+    cli()
diff --git a/setup.py b/setup.py
index bee83d7e..9f22c8a4 100644
--- a/setup.py
+++ b/setup.py
@@ -22,6 +22,11 @@ setup(
         'plotly',
         'dash_renderer',
     ],
+    entry_points={
+        'console_scripts': [
+            'dash-generate-components = dash.development.component_generator:cli'
+        ]
+    },
     url='https://plot.ly/dash',
     classifiers=[
         'Development Status :: 5 - Production/Stable',
