commit 32cce97eca64b3963720af7a77d699c6c60a5380
Author: chriddyp <chris@plot.ly>
Date:   Tue May 9 11:39:44 2017 -0700

    include an optional message in `wait_for`

diff --git a/tests/utils.py b/tests/utils.py
index 7070d503..ff97afe3 100644
--- a/tests/utils.py
+++ b/tests/utils.py
@@ -20,7 +20,7 @@ class WaitForTimeout(Exception):
     pass
 
 
-def wait_for(condition_function, *args, **kwargs):
+def wait_for(condition_function, get_message=lambda: '', *args, **kwargs):
     """
     Waits for condition_function to return True or raises WaitForTimeout.
     :param (function) condition_function: Should return True on success.
@@ -60,7 +60,7 @@ def wait_for(condition_function, *args, **kwargs):
             return True
         time.sleep(0.5)
 
-    raise WaitForTimeout
+    raise WaitForTimeout(get_message())
 
 
 def assert_clean_console(TestClass):
