commit 152ce2835b91fbe158c4d102aacca1f1b4014879
Author: Marc-Andr√© Rivet <Marc-Andre-Rivet@users.noreply.github.com>
Date:   Mon May 4 12:41:08 2020 -0400

    Include transpiled source files in published package

diff --git a/dash-renderer/package-lock.json b/dash-renderer/package-lock.json
index c240d7da..e66d3860 100644
--- a/dash-renderer/package-lock.json
+++ b/dash-renderer/package-lock.json
@@ -4,6 +4,37 @@
   "lockfileVersion": 1,
   "requires": true,
   "dependencies": {
+    "@babel/cli": {
+      "version": "7.8.4",
+      "resolved": "https://registry.npmjs.org/@babel/cli/-/cli-7.8.4.tgz",
+      "integrity": "sha512-XXLgAm6LBbaNxaGhMAznXXaxtCWfuv6PIDJ9Alsy9JYTOh+j2jJz+L/162kkfU1j/pTSxK1xGmlwI4pdIMkoag==",
+      "dev": true,
+      "requires": {
+        "chokidar": "^2.1.8",
+        "commander": "^4.0.1",
+        "convert-source-map": "^1.1.0",
+        "fs-readdir-recursive": "^1.1.0",
+        "glob": "^7.0.0",
+        "lodash": "^4.17.13",
+        "make-dir": "^2.1.0",
+        "slash": "^2.0.0",
+        "source-map": "^0.5.0"
+      },
+      "dependencies": {
+        "commander": {
+          "version": "4.1.1",
+          "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
+          "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
+          "dev": true
+        },
+        "slash": {
+          "version": "2.0.0",
+          "resolved": "https://registry.npmjs.org/slash/-/slash-2.0.0.tgz",
+          "integrity": "sha512-ZYKh3Wh2z1PpEXWr0MpSBZ0V6mZHAQfYevttO11c51CaWjGTaadiKZ+wVt1PbMlDV5qhMFslpZCemhwOK7C89A==",
+          "dev": true
+        }
+      }
+    },
     "@babel/code-frame": {
       "version": "7.5.5",
       "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.5.5.tgz",
@@ -7769,6 +7800,12 @@
         "readable-stream": "^2.0.0"
       }
     },
+    "fs-readdir-recursive": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/fs-readdir-recursive/-/fs-readdir-recursive-1.1.0.tgz",
+      "integrity": "sha512-GNanXlVr2pf02+sPN40XN8HG+ePaNcvM0q5mZBd668Obwb0yD5GiUbZOFgwn8kGMY6I3mdyDJzieUy3PTYyTRA==",
+      "dev": true
+    },
     "fs-write-stream-atomic": {
       "version": "1.0.10",
       "resolved": "https://registry.npmjs.org/fs-write-stream-atomic/-/fs-write-stream-atomic-1.0.10.tgz",
diff --git a/dash-renderer/package.json b/dash-renderer/package.json
index e282bca4..ebeca163 100644
--- a/dash-renderer/package.json
+++ b/dash-renderer/package.json
@@ -4,6 +4,7 @@
   "description": "render dash components in react",
   "main": "dash_renderer/dash_renderer.min.js",
   "scripts": {
+    "prepublishOnly": "rm -rf lib && babel src --out-dir lib --copy-files",
     "private::format.js-eslint": "eslint --quiet --fix .",
     "private::format.js-prettier": "prettier --config .prettierrc --write \"src/**/*.js\"",
     "private::lint.js-eslint": "eslint .",
@@ -11,7 +12,7 @@
     "build:js": "webpack --build release",
     "build:dev": "webpack --build local",
     "build:local": "renderer build local",
-    "build": "renderer build",
+    "build": "npm run prepublishOnly && renderer build",
     "postbuild": "es-check es5 dash_renderer/*.js",
     "start": "webpack-serve ./webpack.serve.config.js",
     "test": "jest",
@@ -22,6 +23,7 @@
   "license": "MIT",
   "dependencies": {
     "@babel/polyfill": "7.8.7",
+    "@plotly/dash-component-plugins": "^1.2.0",
     "cookie": "^0.4.0",
     "dependency-graph": "^0.9.0",
     "fast-isnumeric": "^1.1.3",
@@ -37,11 +39,11 @@
     "viz.js": "2.1.2"
   },
   "devDependencies": {
+    "@babel/cli": "^7.8.4",
     "@babel/core": "^7.8.7",
     "@babel/plugin-transform-modules-commonjs": "^7.8.3",
     "@babel/preset-env": "^7.8.7",
     "@babel/preset-react": "^7.8.3",
-    "@plotly/dash-component-plugins": "^1.2.0",
     "@svgr/webpack": "^5.2.0",
     "babel-eslint": "^10.1.0",
     "babel-loader": "^8.0.6",
@@ -66,5 +68,9 @@
     "webpack-dev-server": "^3.10.3",
     "webpack-serve": "^3.2.0",
     "whatwg-fetch": "^3.0.0"
-  }
+  },
+  "files": [
+    "/dash_renderer/*{.js,.map}",
+    "/lib/**"
+  ]
 }
