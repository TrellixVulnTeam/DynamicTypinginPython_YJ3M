commit cf46e6beeb3535c8e0018d34e7282656b1951dbf
Author: alexcjohnson <alex@plot.ly>
Date:   Wed May 15 21:16:18 2019 -0400

    more robust test_aborted_callback

diff --git a/tests/test_integration.py b/tests/test_integration.py
index a8a7c919..b49c53c7 100644
--- a/tests/test_integration.py
+++ b/tests/test_integration.py
@@ -190,7 +190,7 @@ class Tests(IntegrationTests):
         output2 = self.wait_for_element_by_id('output2')
 
         # callback1 runs 4x (initial page load and 3x through send_keys)
-        self.assertEqual(callback1_count.value, 4)
+        wait_for(lambda: callback1_count.value == 4)
 
         # callback2 is never triggered, even on initial load
         self.assertEqual(callback2_count.value, 0)
