commit 6388cb5ce3b307672e295ed5b59932b2f0d1e8e5
Author: byron <byron@plot.ly>
Date:   Mon Aug 19 16:22:35 2019 -0400

    :bug: make the version read consistent

diff --git a/dash-renderer/MANIFEST.in b/dash-renderer/MANIFEST.in
index d8fb03d7..eb775818 100644
--- a/dash-renderer/MANIFEST.in
+++ b/dash-renderer/MANIFEST.in
@@ -1,3 +1,3 @@
-include VERSION.txt
+include package.json
 include digest.json
 include dash_renderer/*
\ No newline at end of file
diff --git a/dash-renderer/setup.py b/dash-renderer/setup.py
index f8016edd..6c967448 100644
--- a/dash-renderer/setup.py
+++ b/dash-renderer/setup.py
@@ -2,7 +2,7 @@ import json
 from setuptools import setup
 
 with open("package.json") as fp:
-    package = json.load(fp.read())
+    package = json.load(fp)
 
 setup(
     name="dash_renderer",
diff --git a/dash/development/build_renderer.py b/dash/development/build_renderer.py
index 8217f736..0c933816 100644
--- a/dash/development/build_renderer.py
+++ b/dash/development/build_renderer.py
@@ -48,8 +48,8 @@ package_lock = _concat((renderer, "package-lock.json"))
 npm_modules = _concat((renderer, "node_modules"))
 versions = {}
 
-with open(_concat((renderer, "VERSION.txt")), "r") as fpv:
-    versions["version"] = fpv.read().strip()
+with open("package.json") as fpp:
+    versions["version"] = json.load(fpp)["version"]
 
 
 @job("run `npm i --ignore-scripts`")
@@ -113,7 +113,8 @@ def bundles():
     with open(_concat((renderer, "digest.json")), "w") as fp:
         json.dump(digest, fp, sort_keys=True, indent=4, separators=(",", ":"))
     logger.info(
-        "bundle digest in digest.json:\n%s", json.dumps(digest, indent=4)
+        "bundle digest in digest.json:\n%s",
+        json.dumps(digest, sort_keys=True, indent=4),
     )
 
     # generate the __init__.py from template
