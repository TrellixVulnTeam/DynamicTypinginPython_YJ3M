commit 967743260d7bae2c1643ba8a31ce8d59b21b0508
Author: Philippe Duval <philippe@plot.ly>
Date:   Fri Sep 7 15:43:20 2018 -0400

    Use `assets_url_path` in `get_asset_url`.

diff --git a/dash/_utils.py b/dash/_utils.py
index 9b1a48fa..17dc247e 100644
--- a/dash/_utils.py
+++ b/dash/_utils.py
@@ -20,14 +20,19 @@ def format_tag(tag_name, attributes, inner='', closed=False, opened=False):
             '{}="{}"'.format(k, v) for k, v in attributes.items()]))
 
 
-def get_asset_path(requests_pathname, routes_pathname, asset_path):
+def get_asset_path(
+        requests_pathname,
+        routes_pathname,
+        asset_path,
+        asset_url_path):
+
     i = requests_pathname.rfind(routes_pathname)
     req = requests_pathname[:i]
 
     return '/'.join([
         # Only take the first part of the pathname
         req,
-        'assets',
+        asset_url_path,
         asset_path
     ])
 
diff --git a/dash/dash.py b/dash/dash.py
index a8414203..28e2dfb9 100644
--- a/dash/dash.py
+++ b/dash/dash.py
@@ -101,6 +101,7 @@ class Dash(object):
         self._assets_folder = assets_folder or os.path.join(
             flask.helpers.get_root_path(name), 'assets'
         )
+        self._assets_url_path = assets_url_path
 
         # allow users to supply their own flask server
         self.server = server or Flask(name, static_folder=static_folder)
@@ -944,10 +945,14 @@ class Dash(object):
                     self._favicon = path
 
     def get_asset_url(self, path):
-        return _get_asset_path(
+        asset = _get_asset_path(
             self.config.requests_pathname_prefix,
             self.config.routes_pathname_prefix,
-            path)
+            path,
+            self._assets_url_path.lstrip('/')
+        )
+
+        return asset
 
     def run_server(self,
                    port=8050,
diff --git a/tests/test_configs.py b/tests/test_configs.py
index 6b65613a..71dac668 100644
--- a/tests/test_configs.py
+++ b/tests/test_configs.py
@@ -92,16 +92,16 @@ class MyTestCase(unittest.TestCase):
     def test_pathname_prefix_assets(self):
         req = '/'
         routes = '/'
-        path = get_asset_path(req, routes, 'reset.css')
+        path = get_asset_path(req, routes, 'reset.css', 'assets')
         self.assertEqual('/assets/reset.css', path)
 
         req = '/requests/'
-        path = get_asset_path(req, routes, 'reset.css')
+        path = get_asset_path(req, routes, 'reset.css', 'assets')
         self.assertEqual('/requests/assets/reset.css', path)
 
         req = '/requests/routes/'
         routes = '/routes/'
-        path = get_asset_path(req, routes, 'reset.css')
+        path = get_asset_path(req, routes, 'reset.css', 'assets')
         self.assertEqual('/requests/assets/reset.css', path)
 
 
diff --git a/tests/test_integration.py b/tests/test_integration.py
index 1c42bce4..3fcce93c 100644
--- a/tests/test_integration.py
+++ b/tests/test_integration.py
@@ -363,7 +363,9 @@ class Tests(IntegrationTests):
         self.percy_snapshot('custom-index')
 
     def test_assets(self):
-        app = dash.Dash(assets_folder='tests/assets',
+        app = dash.Dash(__name__,
+                        assets_folder='tests/assets',
+                        assets_url_path='/test-assets',
                         assets_ignore='.*ignored.*')
         app.index_string = '''
         <!DOCTYPE html>
