commit be0bbc9f64d963ab2d6cde61df2c267c94f4da10
Author: alexcjohnson <alex@plot.ly>
Date:   Sun Jan 20 08:25:04 2019 -0500

    fix test_removing_component_while_its_getting_updated

diff --git a/tests/test_render.py b/tests/test_render.py
index 6c2c8c18..e2c9de9c 100644
--- a/tests/test_render.py
+++ b/tests/test_render.py
@@ -1352,6 +1352,10 @@ class Tests(IntegrationTests):
             Output('button-output', 'children'),
             [Input('button', 'n_clicks')])
         def this_callback_takes_forever(n_clicks):
+            if not n_clicks:
+                # initial value is quick, only new value is slow
+                # also don't let the initial value increment call_counts
+                return 'Initial Value'
             time.sleep(5)
             call_counts['button-output'].value += 1
             return 'New value!'
@@ -1414,6 +1418,7 @@ class Tests(IntegrationTests):
             'input[type="radio"]'
         )[1]).click()
         chapter2_assertions()
+        self.assertEqual(call_counts['button-output'].value, 0)
         time.sleep(5)
         wait_for(lambda: call_counts['button-output'].value == 1)
         time.sleep(2)  # liberally wait for the front-end to process request
