commit 3f4508b93d16b4e2f53afc32871c3ed4eae2da47
Author: chriddyp <chris@plot.ly>
Date:   Thu Apr 20 20:45:26 2017 -0400

    :bug: fix events behaviour

diff --git a/src/actions/index.js b/src/actions/index.js
index 18b72828..bec3adac 100644
--- a/src/actions/index.js
+++ b/src/actions/index.js
@@ -302,7 +302,11 @@ export const notifyObservers = function(payload) {
             const changedProps = keys(props);
             outputObservers = [];
             changedProps.forEach(propName => {
-                InputGraph.dependenciesOf(`${id}.${propName}`).forEach(outputId => {
+                const node = `${id}.${propName}`
+                if (!InputGraph.hasNode(node)) {
+                    return;
+                }
+                InputGraph.dependenciesOf(node).forEach(outputId => {
                     if (dontUpdateInputObservers) {
                         // Only update output elements
                         if (InputGraph.dependenciesOf(outputId).length === 0) {
diff --git a/src/reducers/reducer.js b/src/reducers/reducer.js
index afd08cb9..d15cecdf 100644
--- a/src/reducers/reducer.js
+++ b/src/reducers/reducer.js
@@ -38,7 +38,8 @@ function getInputHistoryState(itempath, props, state) {
         historyEntry = {id, props: {}};
         R.keys(props).forEach(propKey => {
             const inputKey = `${id}.${propKey}`;
-            if (InputGraph.dependenciesOf(inputKey).length > 0) {
+            if (InputGraph.hasNode(inputKey) &&
+                InputGraph.dependenciesOf(inputKey).length > 0) {
                 historyEntry.props[propKey] = view(
                     lensPath(concat(paths[id], ['props', propKey])),
                     layout
