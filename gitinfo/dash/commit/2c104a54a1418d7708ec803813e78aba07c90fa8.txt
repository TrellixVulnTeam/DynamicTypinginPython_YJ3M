commit 2c104a54a1418d7708ec803813e78aba07c90fa8
Author: Philippe Duval <philippe@plot.ly>
Date:   Wed Jul 25 11:02:33 2018 -0400

    Ensure assets files are ordered, add more test files.

diff --git a/dash/dash.py b/dash/dash.py
index 8aeb569a..edc3ccc2 100644
--- a/dash/dash.py
+++ b/dash/dash.py
@@ -435,16 +435,16 @@ class Dash(object):
                         </head>
                         <body>
                             <div id="custom-header">My custom header</div>
-                            {}
-                            {}
-                            {}
+                            {app_entry}
+                            {config}
+                            {scripts}
                             <div id="custom-footer">My custom footer</div>
                         </body>
                     </html>
                     '''.format(
-                        kwargs.get('app_entry'),
-                        kwargs.get('config'),
-                        kwargs.get('scripts'))
+                        app_entry=kwargs.get('app_entry'),
+                        config=kwargs.get('config'),
+                        scripts=kwargs.get('scripts'))
 
         :param metas: Collected & formatted meta tags.
         :param title: The title of the app.
@@ -733,7 +733,7 @@ class Dash(object):
                 else:
                     base = splitted[0]
 
-            for f in files:
+            for f in sorted(files):
                 if base:
                     path = '/'.join([base, f])
                 else:
diff --git a/tests/assets/nested_js/load_after1.js b/tests/assets/nested_js/load_after1.js
index ee2f5b55..1629d393 100644
--- a/tests/assets/nested_js/load_after1.js
+++ b/tests/assets/nested_js/load_after1.js
@@ -1,2 +1 @@
 window.tested.push('load_after1');
-document.getElementById('tested').innerHTML = JSON.stringify(window.tested);
diff --git a/tests/assets/nested_js/load_after10.js b/tests/assets/nested_js/load_after10.js
new file mode 100644
index 00000000..fcfdb59a
--- /dev/null
+++ b/tests/assets/nested_js/load_after10.js
@@ -0,0 +1 @@
+window.tested.push('load_after10');
\ No newline at end of file
diff --git a/tests/assets/nested_js/load_after11.js b/tests/assets/nested_js/load_after11.js
new file mode 100644
index 00000000..bd11cd28
--- /dev/null
+++ b/tests/assets/nested_js/load_after11.js
@@ -0,0 +1 @@
+window.tested.push('load_after11');
\ No newline at end of file
diff --git a/tests/assets/nested_js/load_after2.js b/tests/assets/nested_js/load_after2.js
new file mode 100644
index 00000000..0b76a55f
--- /dev/null
+++ b/tests/assets/nested_js/load_after2.js
@@ -0,0 +1 @@
+window.tested.push('load_after2');
\ No newline at end of file
diff --git a/tests/assets/nested_js/load_after3.js b/tests/assets/nested_js/load_after3.js
new file mode 100644
index 00000000..d913af94
--- /dev/null
+++ b/tests/assets/nested_js/load_after3.js
@@ -0,0 +1 @@
+window.tested.push('load_after3');
\ No newline at end of file
diff --git a/tests/assets/nested_js/load_after4.js b/tests/assets/nested_js/load_after4.js
new file mode 100644
index 00000000..2507e38b
--- /dev/null
+++ b/tests/assets/nested_js/load_after4.js
@@ -0,0 +1 @@
+window.tested.push('load_after4');
\ No newline at end of file
diff --git a/tests/assets/nested_js/load_last.js b/tests/assets/nested_js/load_last.js
new file mode 100644
index 00000000..285aa605
--- /dev/null
+++ b/tests/assets/nested_js/load_last.js
@@ -0,0 +1 @@
+document.getElementById('tested').innerHTML = JSON.stringify(window.tested);
diff --git a/tests/test_integration.py b/tests/test_integration.py
index d333a9e4..770b9152 100644
--- a/tests/test_integration.py
+++ b/tests/test_integration.py
@@ -389,11 +389,14 @@ class Tests(IntegrationTests):
 
         tested = self.wait_for_element_by_id('tested')
         tested = json.loads(tested.text)
-        self.assertEqual(3, len(tested))
 
-        order = ('load_first', 'load_after', 'load_after1')
+        order = ('load_first', 'load_after', 'load_after1',
+                 'load_after10', 'load_after11', 'load_after2',
+                 'load_after3', 'load_after4', )
 
-        for i in range(3):
+        self.assertEqual(len(order), len(tested))
+
+        for i in range(len(tested)):
             self.assertEqual(order[i], tested[i])
 
         self.percy_snapshot('test assets includes')
