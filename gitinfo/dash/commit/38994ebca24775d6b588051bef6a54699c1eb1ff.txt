commit 38994ebca24775d6b588051bef6a54699c1eb1ff
Author: Marc-Andr√© Rivet <Marc-Andre-Rivet@users.noreply.github.com>
Date:   Fri Feb 28 11:57:18 2020 -0500

    Disable Percy run on test mixin (#1124)

diff --git a/.pylintrc b/.pylintrc
index 49bae604..fc4bba06 100644
--- a/.pylintrc
+++ b/.pylintrc
@@ -398,7 +398,7 @@ valid-metaclass-classmethod-first-arg=mcs
 [DESIGN]
 
 # Maximum number of arguments for function / method
-max-args=10
+max-args=11
 
 # Maximum number of attributes for a class (see R0902).
 max-attributes=20
diff --git a/.pylintrc37 b/.pylintrc37
index 8f0bed19..359f3df1 100644
--- a/.pylintrc37
+++ b/.pylintrc37
@@ -497,7 +497,7 @@ valid-metaclass-classmethod-first-arg=mcs
 [DESIGN]
 
 # Maximum number of arguments for function / method.
-max-args=10
+max-args=11
 
 # Maximum number of attributes for a class (see R0902).
 max-attributes=20
diff --git a/dash/testing/browser.py b/dash/testing/browser.py
index e89b8948..ef0b3cc1 100644
--- a/dash/testing/browser.py
+++ b/dash/testing/browser.py
@@ -47,6 +47,7 @@ class Browser(DashPageMixin):
         headless=False,
         options=None,
         download_path="",
+        percy_run=True,
         percy_finalize=True,
         percy_assets_root="",
         wait_timeout=10,
@@ -63,6 +64,7 @@ class Browser(DashPageMixin):
         self._download_path = download_path
         self._wait_timeout = wait_timeout
         self._percy_finalize = percy_finalize
+        self._percy_run = percy_run
 
         self._driver = until(self.get_webdriver, timeout=1)
         self._driver.implicitly_wait(2)
@@ -73,14 +75,15 @@ class Browser(DashPageMixin):
 
         self._window_idx = 0  # switch browser tabs
 
-        self.percy_runner = percy.Runner(
-            loader=percy.ResourceLoader(
-                webdriver=self.driver,
-                base_url="/assets",
-                root_dir=percy_assets_root,
+        if self._percy_run:
+            self.percy_runner = percy.Runner(
+                loader=percy.ResourceLoader(
+                    webdriver=self.driver,
+                    base_url="/assets",
+                    root_dir=percy_assets_root,
+                )
             )
-        )
-        self.percy_runner.initialize_build()
+            self.percy_runner.initialize_build()
 
         logger.info("initialize browser with arguments")
         logger.info("  headless => %s", self._headless)
@@ -95,7 +98,7 @@ class Browser(DashPageMixin):
     def __exit__(self, exc_type, exc_val, traceback):
         try:
             self.driver.quit()
-            if self._percy_finalize:
+            if self._percy_run and self._percy_finalize:
                 logger.info("percy runner finalize build now")
                 self.percy_runner.finalize_build()
             else:
@@ -111,7 +114,7 @@ class Browser(DashPageMixin):
         hook_id,
         wait_for_callbacks=True,
         assert_check=True,
-        stay_on_page=False
+        stay_on_page=False,
     ):
         try:
             path = resource_path.lstrip("/")
@@ -153,7 +156,9 @@ class Browser(DashPageMixin):
             logger.error(
                 "wait_for_callbacks failed => status of invalid rqs %s",
                 list(
-                    _ for _ in self.redux_state_rqs if not _.get("responseTime")
+                    _
+                    for _ in self.redux_state_rqs
+                    if not _.get("responseTime")
                 ),
             )
             logger.debug("full content of the rqs => %s", self.redux_state_rqs)
