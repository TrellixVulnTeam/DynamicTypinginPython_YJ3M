commit 6f772a9339d8f2b9e143f338fe51d581db68b094
Author: alexcjohnson <alex@plot.ly>
Date:   Fri Apr 3 08:17:36 2020 -0400

    fix for derived props (eg dcc.Store.modified_timestamp)

diff --git a/dash-renderer/src/actions/index.js b/dash-renderer/src/actions/index.js
index 5554b3ef..ee9eb408 100644
--- a/dash-renderer/src/actions/index.js
+++ b/dash-renderer/src/actions/index.js
@@ -292,6 +292,10 @@ async function fireReadyCallbacks(dispatch, getState, callbacks) {
                     props
                 );
                 if (appliedProps) {
+                    // doUpdateProps can cause new callbacks to be added
+                    // via derived props - update pendingCallbacks
+                    pendingCallbacks = getState().pendingCallbacks;
+
                     Object.keys(appliedProps).forEach(property => {
                         updated.push(combineIdAndProp({id, property}));
                     });
diff --git a/tests/integration/callbacks/test_multiple_callbacks.py b/tests/integration/callbacks/test_multiple_callbacks.py
index a86a3117..7b46e95c 100644
--- a/tests/integration/callbacks/test_multiple_callbacks.py
+++ b/tests/integration/callbacks/test_multiple_callbacks.py
@@ -7,7 +7,7 @@ import dash_html_components as html
 import dash_core_components as dcc
 import dash_table
 import dash
-from dash.dependencies import Input, Output
+from dash.dependencies import Input, Output, State
 from dash.exceptions import PreventUpdate
 
 
@@ -236,3 +236,33 @@ def test_cbmt005_multi_converging_chain(dash_duo):
 
     dash_duo.find_element("#b2").click()
     dash_duo.wait_for_text_to_equal("#out", "x=1, y=1")
+
+
+def test_cbmt006_derived_props(dash_duo):
+    app = dash.Dash(__name__)
+    app.layout = html.Div(
+        [
+            html.Div(id="output"),
+            html.Button("click", id="btn"),
+            dcc.Store(id="store"),
+        ]
+    )
+
+    @app.callback(
+        Output("output", "children"),
+        [Input("store", "modified_timestamp")],
+        [State("store", "data")],
+    )
+    def on_data(ts, data):
+        return data
+
+    @app.callback(Output("store", "data"), [Input("btn", "n_clicks")])
+    def on_click(n_clicks):
+        return n_clicks or 0
+
+    dash_duo.start_server(app)
+    dash_duo.wait_for_text_to_equal("#output", "0")
+    dash_duo.find_element("#btn").click()
+    dash_duo.wait_for_text_to_equal("#output", "1")
+    dash_duo.find_element("#btn").click()
+    dash_duo.wait_for_text_to_equal("#output", "2")
