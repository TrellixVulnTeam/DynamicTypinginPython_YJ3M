commit 9ec6a296c1fff68b24acd41467d39668f03d5478
Author: byron <byron@plot.ly>
Date:   Sat Jun 15 01:35:34 2019 -0400

    :wrench: use reqs and unified the version

diff --git a/.circleci/config.yml b/.circleci/config.yml
index 1bb25c41..f2190c9a 100644
--- a/.circleci/config.yml
+++ b/.circleci/config.yml
@@ -7,7 +7,8 @@ jobs:
     docker:
       - image: circleci/python:2.7-stretch-node-browsers
         environment:
-          REQUIREMENTS_FILE: dev-requirements.txt
+          REQUIRES_INTG: requires-intg.txt
+          REQUIRES_INSTALL: requires-install.txt
           PYLINTRC: .pylintrc
 
     steps:
@@ -23,20 +24,20 @@ jobs:
             echo "RUNNING JOB: ${CIRCLE_JOB}"
             echo "JOB PARALLELISM: ${CIRCLE_NODE_TOTAL}"
             echo "CIRCLE_REPOSITORY_URL: ${CIRCLE_REPOSITORY_URL}"
-            cat "$REQUIREMENTS_FILE" > reqs.txt
-            echo $CIRCLE_JOB > circlejob.txt
+            # cat "$REQUIRES_INTG" > reqs.txt
+            # echo $CIRCLE_JOB > circlejob.txt
 
       - restore_cache:
-          key: py-{{ .Branch }}-{{ checksum "circlejob.txt" }}-{{ checksum "reqs.txt" }}-{{ checksum ".circleci/config.yml" }}
+          key: py-{{ checksum $REQUIRES_INTG }}-{{ checksum $REQUIRES_INSTALL }}
       - run:
           name: ðŸš§ pip dev requirements
           command: |
             sudo pip install --upgrade virtualenv
             python -m venv venv || virtualenv venv
             . venv/bin/activate
-            pip install -r $REQUIREMENTS_FILE --quiet
+            pip install -r $REQUIRES_INTG -r $REQUIRES_INSTALL --quiet
       - save_cache:
-          key: py-{{ .Branch }}-{{ checksum "circlejob.txt" }}-{{ checksum "reqs.txt" }}-{{ checksum ".circleci/config.yml" }}
+          key: py-{{ checksum $REQUIRES_INTG }}-{{ checksum $REQUIRES_INSTALL }}
           paths:
               - "venv"
 
@@ -44,7 +45,7 @@ jobs:
           name: ðŸŒ¸ linting
           command: |
             . venv/bin/activate
-            pip install -e . --quiet
+            pip install -e .[intg] --quiet
             pip list | grep dash
             flake8 dash setup.py
             flake8 --ignore=E123,E126,E501,E722,E731,F401,F841,W503,W504 --exclude=metadata_test.py tests
@@ -102,7 +103,6 @@ jobs:
     docker:
       - image: circleci/python:3.6-stretch-node-browsers
         environment:
-          REQUIREMENTS_FILE: dev-requirements.txt
           PYLINTRC: .pylintrc
           PERCY_ENABLE: 0
 
@@ -111,7 +111,6 @@ jobs:
     docker:
       - image: circleci/python:3.7-stretch-node-browsers
         environment:
-          REQUIREMENTS_FILE: dev-requirements-py37.txt
           PYLINTRC: .pylintrc37
           PERCY_ENABLE: 0
 
diff --git a/requires-install.txt b/requires-install.txt
new file mode 100644
index 00000000..e9578e74
--- /dev/null
+++ b/requires-install.txt
@@ -0,0 +1,18 @@
+Flask>=0.12
+flask-compress
+plotly
+dash_renderer==0.24.0
+dash-core-components==0.48.0
+dash-html-components==0.16.0
+dash-table==3.7.0
+
+# dash.testing
+pytest
+pytest-sugar
+pytest-mock
+lxml
+selenium
+percy
+requests[security]
+beautifulsoup4
+waitress
\ No newline at end of file
diff --git a/dev-requirements.txt b/requires-intg.txt
similarity index 57%
rename from dev-requirements.txt
rename to requires-intg.txt
index 4e35086e..5c9e87e0 100644
--- a/dev-requirements.txt
+++ b/requires-intg.txt
@@ -1,6 +1,6 @@
 dash_flow_example==0.0.5
 dash-dangerously-set-inner-html
 six
-plotly==3.7.1
 flake8
-pylint==1.9.4
\ No newline at end of file
+pylint==1.9.4
+astroid==2.2.5;python_version>"3.7"
diff --git a/setup.py b/setup.py
index 23c8c5f6..28770d2f 100644
--- a/setup.py
+++ b/setup.py
@@ -4,6 +4,11 @@ from setuptools import setup, find_packages
 main_ns = {}
 exec(open('dash/version.py').read(), main_ns)  # pylint: disable=exec-used
 
+def read_req_file(req_type):
+    with open('requires-{}.txt'.format(req_type)) as fp:
+        requires = (line.strip() for line in fp)
+        return [req for req in requires if req and not req.startswith('#')]
+
 setup(
     name='dash',
     version=main_ns['__version__'],
@@ -18,24 +23,8 @@ setup(
     ),
     long_description=io.open('README.md', encoding='utf-8').read(),
     long_description_content_type='text/markdown',
-    install_requires=[
-        'Flask>=0.12',
-        'flask-compress',
-        'plotly',
-        'dash_renderer==0.24.0',
-        'dash-core-components==0.48.0',
-        'dash-html-components==0.16.0',
-        'dash-table==3.7.0',
-        'pytest',
-        'pytest-sugar',
-        'pytest-mock',
-        'lxml',
-        'requests[security]',
-        'beautifulsoup4',
-        'waitress',
-        'percy',
-        'selenium',
-    ],
+    install_requires=read_req_file('install'),
+    extra_require={'intg': read_req_file('intg')},
     entry_points={
         'console_scripts': [
             'dash-generate-components ='
