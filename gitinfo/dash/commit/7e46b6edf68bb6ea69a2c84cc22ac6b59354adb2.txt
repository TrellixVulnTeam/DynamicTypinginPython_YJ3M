commit 7e46b6edf68bb6ea69a2c84cc22ac6b59354adb2
Author: byron <byron@plot.ly>
Date:   Fri Nov 1 13:59:51 2019 -0400

    add condition to avoid ghost request

diff --git a/dash/testing/browser.py b/dash/testing/browser.py
index cea29fac..e27ccf46 100644
--- a/dash/testing/browser.py
+++ b/dash/testing/browser.py
@@ -109,7 +109,7 @@ class Browser(DashPageMixin):
         )
         logger.info("taking snapshot name => %s", snapshot_name)
         if wait_for_callbacks:
-            until(self._wait_for_callbacks, timeout=60)
+            until(self._wait_for_callbacks, timeout=30)
         self.percy_runner.snapshot(name=snapshot_name)
 
     def take_snapshot(self, name):
diff --git a/dash/testing/dash_page.py b/dash/testing/dash_page.py
index f40194ab..13a73f59 100644
--- a/dash/testing/dash_page.py
+++ b/dash/testing/dash_page.py
@@ -45,9 +45,13 @@ class DashPageMixin(object):
 
     def _wait_for_callbacks(self):
         if self.window_store:
-            logger.warning("status of state rq %s", self.redux_state_rqs)
+            logger.debug("status of state rq %s", self.redux_state_rqs)
             return self.redux_state_rqs and all(
-                (_.get("responseTime") for _ in self.redux_state_rqs)
+                (
+                    _.get("responseTime")
+                    for _ in self.redux_state_rqs
+                    if _.get("controllerId")
+                )
             )
         return True
 
