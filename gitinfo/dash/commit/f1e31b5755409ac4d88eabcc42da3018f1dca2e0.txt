commit f1e31b5755409ac4d88eabcc42da3018f1dca2e0
Author: chriddyp <chris@plot.ly>
Date:   Fri Sep 8 15:52:30 2017 -0400

    Filter out bad characters in env
    
    reapplying
    https://github.com/plotly/dash/commit/5bf683c18b1dc4dd90fa0ee34c8db2378b
    7827d0

diff --git a/dash/dash.py b/dash/dash.py
index bebb7efb..513cb957 100644
--- a/dash/dash.py
+++ b/dash/dash.py
@@ -8,6 +8,7 @@ import os
 import importlib
 import pkgutil
 import collections
+import re
 
 import dash_renderer
 
@@ -38,8 +39,8 @@ class Dash(object):
             # If user supplied their own server, they might've supplied a
             # secret_key with it
             secret_key_name = 'dash_{}_secret_key'.format(
-                # TODO - check for other illegal characters
-                name.replace('.', '_')
+                # replace any invalid characters
+                re.sub('[\W_]+', '_', name)
             )
             secret_key = os.environ.get(
                 secret_key_name, SeaSurf()._generate_token()
