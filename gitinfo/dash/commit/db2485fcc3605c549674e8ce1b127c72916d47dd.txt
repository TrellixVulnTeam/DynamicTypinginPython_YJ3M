commit db2485fcc3605c549674e8ce1b127c72916d47dd
Author: Philippe Duval <philippe@plot.ly>
Date:   Thu Nov 1 11:16:37 2018 -0400

    Add dist cache for the registry.

diff --git a/dash/development/base_component.py b/dash/development/base_component.py
index 7e2d7578..3b7b4fa4 100644
--- a/dash/development/base_component.py
+++ b/dash/development/base_component.py
@@ -5,6 +5,7 @@ import inspect
 from ._all_keywords import kwlist
 import keyword
 import abc
+import sys
 import six
 
 
@@ -12,6 +13,7 @@ class ComponentRegistry(abc.ABCMeta):
     """Just importing a component lib will make it be loaded on the index"""
 
     component_registry = set()
+    __dist_cache = collections.defaultdict(dict)
 
     # pylint: disable=arguments-differ
     def __new__(mcs, name, bases, attributes):
@@ -27,6 +29,23 @@ class ComponentRegistry(abc.ABCMeta):
 
         return component
 
+    @classmethod
+    def get_resources(mcs, resource_name):
+        cached = mcs.__dist_cache.get(resource_name)
+        current_len = len(mcs.component_registry)
+
+        if cached and current_len == cached.get('len'):
+            return cached.get('resources')
+
+        mcs.__dist_cache[resource_name]['resources'] = resources = []
+        mcs.__dist_cache[resource_name]['len'] = current_len
+
+        for module_name in mcs.component_registry:
+            module = sys.modules[module_name]
+            resources.extend(getattr(module, resource_name, []))
+
+        return resources
+
 
 def is_number(s):
     try:
diff --git a/dash/resources.py b/dash/resources.py
index f12c4a99..9dcb78d5 100644
--- a/dash/resources.py
+++ b/dash/resources.py
@@ -1,7 +1,6 @@
 import json
 import warnings
 import os
-import sys
 
 from .development.base_component import ComponentRegistry
 
@@ -59,15 +58,8 @@ class Resources:
         return filtered_resources
 
     def get_all_resources(self, dev_bundles=False):
-        all_resources = []
-
-        for mod in ComponentRegistry.component_registry:
-            # take the component lib module and take the _resource_dist.
-            m = sys.modules[mod]
-            all_resources.extend(getattr(m, self.resource_name, []))
-
+        all_resources = ComponentRegistry.get_resources(self.resource_name)
         all_resources.extend(self._resources)
-
         return self._filter_resources(all_resources, dev_bundles)
 
 
