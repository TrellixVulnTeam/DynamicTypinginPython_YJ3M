commit e8c017ec8dddd170c0d5025fb83d7b5a736e7ba5
Author: byron <byron@plot.ly>
Date:   Sat Aug 17 01:24:09 2019 -0400

    :alembic: dbg with ci

diff --git a/dash/_utils.py b/dash/_utils.py
index f0ffeb92..3bfa781d 100644
--- a/dash/_utils.py
+++ b/dash/_utils.py
@@ -145,7 +145,12 @@ def run_command_with_process(cmd):
 
 def compute_md5(path):
     with open(path) as fp:
-        return hashlib.md5(fp.read().encode("utf-8")).hexdigest()
+        content = fp.read()
+        try:
+            buf = content.encode("utf-8")
+        except UnicodeDecodeError:
+            buf = content.decode('utf-8')
+        return hashlib.md5(buf).hexdigest()
 
 
 def job(msg=""):
diff --git a/tests/integration/test_race_conditions.py b/tests/integration/test_race_conditions.py
index b597068e..28ad06f3 100644
--- a/tests/integration/test_race_conditions.py
+++ b/tests/integration/test_race_conditions.py
@@ -16,7 +16,7 @@ class Tests(IntegrationTests):
         pass
 
 
-DELAY_TIME = 0.2
+DELAY_TIME = 0.5
 
 
 def create_race_conditions_test(endpoints):
