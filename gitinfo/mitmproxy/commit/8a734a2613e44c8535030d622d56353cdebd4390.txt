commit 8a734a2613e44c8535030d622d56353cdebd4390
Author: Matthew Shao <me@matshao.com>
Date:   Mon Mar 13 19:34:25 2017 +0800

    [web] Fixes the flaw in #2133

diff --git a/web/src/js/ducks/ui/flow.js b/web/src/js/ducks/ui/flow.js
index 8cb6e170..ba604ea2 100644
--- a/web/src/js/ducks/ui/flow.js
+++ b/web/src/js/ducks/ui/flow.js
@@ -60,7 +60,7 @@ export default function reducer(state = defaultState, action) {
             // There is no explicit "stop edit" event.
             // We stop editing when we receive an update for
             // the currently edited flow from the server
-            if (action.flow.id === state.modifiedFlow.id) {
+            if (action.data.id === state.modifiedFlow.id) {
                 return {
                     ...state,
                     modifiedFlow: false,
@@ -148,7 +148,7 @@ export function setContent(content){
     return { type: SET_CONTENT, content }
 }
 
-export function stopEdit(flow, modifiedFlow) {
-    let diff = getDiff(flow, modifiedFlow)
-    return {type: flowsActions.UPDATE, flow, diff }
+export function stopEdit(data, modifiedFlow) {
+    let diff = getDiff(data, modifiedFlow)
+    return {type: flowsActions.UPDATE, data, diff }
 }
