commit f42af9061220ec0373e94e96b69434575f60281d
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Feb 18 11:25:29 2016 +0100

    move bin into release, update rtool

diff --git a/mitmproxy/setup.py b/mitmproxy/setup.py
index 9d796ebb..600702d9 100644
--- a/mitmproxy/setup.py
+++ b/mitmproxy/setup.py
@@ -79,7 +79,7 @@ setup(
         # Do not use a range operator here: https://bitbucket.org/pypa/setuptools/issues/380
         # Ubuntu Trusty and other still ship with setuptools < 17.1
         ':python_version == "2.7"': [
-            "enum34>=1.0.4, <1.1",
+            "enum34>=1.0.4, <2",
         ],
         'dev': [
             "mock>=1.3.0, <1.4",
diff --git a/release/.env b/release/.env
deleted file mode 100644
index 69ac3f05..00000000
--- a/release/.env
+++ /dev/null
@@ -1,6 +0,0 @@
-DIR="$( dirname "${BASH_SOURCE[0]}" )"
-ACTIVATE_DIR="$(if [ -f "$DIR/../venv.mitmproxy/bin/activate" ]; then echo 'bin'; else echo 'Scripts'; fi;)"
-if [ -z "$VIRTUAL_ENV" ] && [ -f "$DIR/../venv.mitmproxy/$ACTIVATE_DIR/activate" ]; then
-    echo "Activating mitmproxy virtualenv..."
-    source "$DIR/../venv.mitmproxy/$ACTIVATE_DIR/activate"
-fi
diff --git a/release/.gitignore b/release/.gitignore
deleted file mode 100644
index c062fb3b..00000000
--- a/release/.gitignore
+++ /dev/null
@@ -1,9 +0,0 @@
-.DS_Store
-MANIFEST
-*.py[cdo]
-*.swp
-*.swo
-
-/build
-/dist
-/mitmproxy_rtool.egg-info
\ No newline at end of file
diff --git a/release/rtool.py b/release/rtool.py
index 936e64c8..2ebb3a1c 100644
--- a/release/rtool.py
+++ b/release/rtool.py
@@ -242,7 +242,7 @@ def bdist(ctx, use_existing_wheels, pyinstaller_version):
         if conf["tools"]:
             with Archive(join(DIST_DIR, archive_name(p))) as archive:
                 for tool in conf["tools"]:
-                    spec = join(RELEASE_DIR, "%s.spec" % tool)
+                    spec = join(RELEASE_DIR, "specs/%s.spec" % tool)
                     print("Building %s binary..." % tool)
                     subprocess.check_call(
                         [
diff --git a/mitmproxy/bin/mitmdump b/release/specs/mitmdump
similarity index 100%
rename from mitmproxy/bin/mitmdump
rename to release/specs/mitmdump
diff --git a/release/mitmdump.spec b/release/specs/mitmdump.spec
similarity index 93%
rename from release/mitmdump.spec
rename to release/specs/mitmdump.spec
index 967f5e58..149678df 100644
--- a/release/mitmdump.spec
+++ b/release/specs/mitmdump.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmdump'],
+a = Analysis(['mitmdump'],
              binaries=None,
              datas=collect_data_files("mitmproxy.onboarding"),
              hiddenimports=[],
diff --git a/mitmproxy/bin/mitmproxy b/release/specs/mitmproxy
old mode 100755
new mode 100644
similarity index 100%
rename from mitmproxy/bin/mitmproxy
rename to release/specs/mitmproxy
diff --git a/release/mitmproxy.spec b/release/specs/mitmproxy.spec
similarity index 92%
rename from release/mitmproxy.spec
rename to release/specs/mitmproxy.spec
index 6356b0a6..1c481446 100644
--- a/release/mitmproxy.spec
+++ b/release/specs/mitmproxy.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmproxy'],
+a = Analysis(['mitmproxy'],
              binaries=None,
              datas=collect_data_files("mitmproxy.onboarding"),
              hiddenimports=[],
diff --git a/mitmproxy/bin/mitmweb b/release/specs/mitmweb
old mode 100755
new mode 100644
similarity index 100%
rename from mitmproxy/bin/mitmweb
rename to release/specs/mitmweb
diff --git a/release/mitmweb.spec b/release/specs/mitmweb.spec
similarity index 93%
rename from release/mitmweb.spec
rename to release/specs/mitmweb.spec
index e3e634fa..79ccf71d 100644
--- a/release/mitmweb.spec
+++ b/release/specs/mitmweb.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmweb'],
+a = Analysis(['mitmweb'],
              binaries=None,
              datas=collect_data_files("mitmproxy"),
              hiddenimports=[],
diff --git a/pathod/bin/pathoc b/release/specs/pathoc
old mode 100755
new mode 100644
similarity index 100%
rename from pathod/bin/pathoc
rename to release/specs/pathoc
diff --git a/release/pathoc.spec b/release/specs/pathoc.spec
similarity index 93%
rename from release/pathoc.spec
rename to release/specs/pathoc.spec
index 707d21de..4f1f44be 100644
--- a/release/pathoc.spec
+++ b/release/specs/pathoc.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../pathod/pathoc'],
+a = Analysis(['pathoc'],
              binaries=None,
              datas=None,
              hiddenimports=['_cffi_backend'],
diff --git a/pathod/bin/pathod b/release/specs/pathod
old mode 100755
new mode 100644
similarity index 100%
rename from pathod/bin/pathod
rename to release/specs/pathod
diff --git a/release/pathod.spec b/release/specs/pathod.spec
similarity index 84%
rename from release/pathod.spec
rename to release/specs/pathod.spec
index 4e515ac9..3d2a8be2 100644
--- a/release/pathod.spec
+++ b/release/specs/pathod.spec
@@ -2,9 +2,9 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../pathod/pathod'],
+a = Analysis(['pathod'],
              binaries=None,
-             datas=collect_data_files("libpathod"),
+             datas=collect_data_files("pathod"),
              hiddenimports=['_cffi_backend'],
              hookspath=None,
              runtime_hooks=None,
