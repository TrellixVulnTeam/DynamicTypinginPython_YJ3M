commit 50e8fc28041726774adbacce2cf3db6751c70cc3
Author: Rohan Fletcher <rohfle@gmail.com>
Date:   Thu Feb 6 17:31:06 2020 +1300

    http2: send all stream reset types to other connection

diff --git a/mitmproxy/proxy/protocol/http2.py b/mitmproxy/proxy/protocol/http2.py
index a5870e6c..a6fcc52b 100644
--- a/mitmproxy/proxy/protocol/http2.py
+++ b/mitmproxy/proxy/protocol/http2.py
@@ -209,13 +209,12 @@ class Http2Layer(base.Layer):
     def _handle_stream_reset(self, eid, event, is_server, other_conn):
         if eid in self.streams:
             self.streams[eid].kill()
-            if event.error_code == h2.errors.ErrorCodes.CANCEL:
-                if is_server:
-                    other_stream_id = self.streams[eid].client_stream_id
-                else:
-                    other_stream_id = self.streams[eid].server_stream_id
-                if other_stream_id is not None:
-                    self.connections[other_conn].safe_reset_stream(other_stream_id, event.error_code)
+            if is_server:
+                other_stream_id = self.streams[eid].client_stream_id
+            else:
+                other_stream_id = self.streams[eid].server_stream_id
+            if other_stream_id is not None:
+                self.connections[other_conn].safe_reset_stream(other_stream_id, event.error_code)
         return True
 
     def _handle_remote_settings_changed(self, event, other_conn):
