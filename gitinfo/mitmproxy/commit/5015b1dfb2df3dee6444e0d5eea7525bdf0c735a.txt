commit 5015b1dfb2df3dee6444e0d5eea7525bdf0c735a
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sat Mar 19 19:47:19 2011 +1300

    Docs - refinement and styling.

diff --git a/README.mkd b/README.mkd
index 5c6e3e2f..1b143066 100644
--- a/README.mkd
+++ b/README.mkd
@@ -10,7 +10,7 @@ keyboard shortcut.
 
 
 Capabilities
-============
+------------
 
 - Intercept HTTP requests and responses and modify them on the fly.
 - Save complete HTTP conversations for later replay and analysis.
@@ -21,24 +21,26 @@ Capabilities
 
 
 Download
-========
+--------
 
-Releases can be found here: http://corte.si/projects.html
+Releases and rendered documentation can be found on the mitmproxy website:
 
-Source is hosted here: http://github.com/cortesi/mitmproxy
+[mitmproxy.org](http://mitmproxy.org)
+
+Source is hosted on github: 
+
+[github.com/cortesi/mitmproxy](http://github.com/cortesi/mitmproxy)
 
 
 Requirements
-============
+------------
 
-* A recent [Python](http://www.python.org) interpreter.
-* SSL certificates are generated using [openssl](http://www.openssl.org/)
-* The curses interface relies on version 0.9.8 or newer of the
-  [urwid](http://excess.org/urwid/) library.
+* A recent [Python](http://www.python.org) interpreter
+* [openssl](http://www.openssl.org/)
+* [urwid](http://excess.org/urwid/) version 0.9.8 or newer 
 * The test suite uses the [pry](http://github.com/cortesi/pry) unit testing
   library.
-* mitmproxy is tested and developed on OSX, Linux and OpenBSD. You may be able
-  to get it running using Cygwin on Windows, but don't count on it.
+* mitmproxy is tested and developed on OSX, Linux and OpenBSD. 
 
 You should also make sure that your console environment is set up with the
 following: 
diff --git a/doc-src/02-docstyle.css b/doc-src/02-docstyle.css
index 5e45e0e7..df6338b2 100644
--- a/doc-src/02-docstyle.css
+++ b/doc-src/02-docstyle.css
@@ -1,6 +1,7 @@
 
 a {
     color: #3F8ED8;
+    text-decoration: none;
 }
 
 
@@ -9,7 +10,6 @@ a {
     font-family: Helvetica,Arial,Tahoma,Verdana,Sans-Serif;
     color: #555555;
     margin: 0;
-    border-bottom: 1px solid #999;
     margin-bottom: 1em;
 }
 #hd.doc h1 {
@@ -20,8 +20,8 @@ a {
     font-weight: normal;
 }
 
-#hd.doc #nav {
-    font-size: 1.5em;
+#nav {
+    float: right;
 }
 
 
@@ -33,24 +33,28 @@ a {
 }
 
 #bd h1 {
-    font-size: 1.6em;
+    font-size: 1.4em;
+    border-bottom: 5px solid #ff7033;
     margin-top: 5px;
     margin-bottom: 5px;
+    color: #000000;
 }
 
 #bd h2 {
-    font-size: 1.2em;
+    font-size: 1.1em;
+    border-bottom: 1px solid #cccccc;
     margin-top: 5px;
     margin-bottom: 5px;
+    color: #000000;
 }
 
 #ft.doc {
     color: #aaa;
-        border-top: 1px solid #aaa;
-        clear: both;
-        margin: 0 0 2em 0;
-        font-size: 0.8em;
-        letter-spacing: 0.5px;
+    border-top: 1px solid #aaa;
+    clear: both;
+    margin-top: 2em;
+    font-size: 0.8em;
+    letter-spacing: 0.5px;
 }
 
 .faq .question {
@@ -60,12 +64,21 @@ a {
 
 pre {
     padding: 10px;
-    margin: 10px;
+    background-color: #dddddd;
 }
 
 .docindex, .docindex ul {
     margin-top: 0.1em;
     margin-bottom: 0;
+    margin-left: 0px;
+}
+
+.docindex li {
+    list-style-position: inside;
+    margin-left: 0;
+}
+
+.docindex ul {
     margin-left: 2em;
 }
 
diff --git a/doc-src/_layout.html b/doc-src/_layout.html
index b0e68abd..287bca87 100644
--- a/doc-src/_layout.html
+++ b/doc-src/_layout.html
@@ -1,22 +1,27 @@
 <div id="doc">
     <div style="" id="hd" class="doc">
+        <!--(block nav)-->
         <div id="nav">
-        <!--(block pb)-->
-        <a href="@!urlTo(previous)!@">prev</a>
-        <!--(end)-->
-        <!--(block nb)-->
-        <a href="@!urlTo(next)!@">next</a>
-        <!--(end)-->
-        $!pb if previous else "prev"!$ |
-        <a href="@!urlTo('index.html')!@">index</a> |
-        $!nb if next else "next"!$
+            <!--(block pb)-->
+            <a href="@!urlTo(previous)!@">prev</a>
+            <!--(end)-->
+            <!--(block nb)-->
+            <a href="@!urlTo(next)!@">next</a>
+            <!--(end)-->
+            $!pb if previous else "prev"!$ |
+            <a href="@!urlTo('/index.html')!@">index</a> |
+            $!nb if next else "next"!$
         </div>
-
-        $!title!$
+        <!--(end)-->
+        $!nav if this.title!="docs" else ""!$
+        <h1><a href="@!urlTo("/index.html")!@">mitmproxy docs</a></h1>
     </div>
     <div id="bd">
         <div id="yui-main">
-            <div style="" class="yui-b">$!body!$</div>
+            <div style="" class="yui-b">
+                $!title if this.title!="docs" else ""!$
+                $!body!$
+            </div>
         </div>
     </div>
     <div style="" id="ft" class="doc">
diff --git a/doc-src/_websitelayout.html b/doc-src/_websitelayout.html
index 309c3de8..ad8eb317 100644
--- a/doc-src/_websitelayout.html
+++ b/doc-src/_websitelayout.html
@@ -5,7 +5,7 @@
         <div class="HorizontalNavBar">
             <ul>
                 <li class="inactive"><a href="../index.html">home</a></li>
-                <li class="active"><a href="index.html">docs</a></li>
+                <li class="active"><a href="@!urlTo("doc/index.html")!@">docs</a></li>
                 <li class="inactive"><a href="../development.html">development</a></li>
             </ul>
         </div>
@@ -15,19 +15,21 @@
     <div id="bd">
         <div id="yui-main">
             <div style="" class="yui-b">
-
+                <!--(block nav)-->
                 <div id="nav">
-                <!--(block pb)-->
-                <a href="@!urlTo(previous)!@">prev</a>
-                <!--(end)-->
-                <!--(block nb)-->
-                <a href="@!urlTo(next)!@">next</a>
-                <!--(end)-->
-                $!pb if previous and not previous.parent.root else "prev"!$ |
-                <a href="@!urlTo('doc/index.html')!@">index</a> |
-                $!nb if next and not next.parent.root else "next"!$
+                    <!--(block pb)-->
+                    <a href="@!urlTo(previous)!@">prev</a>
+                    <!--(end)-->
+                    <!--(block nb)-->
+                    <a href="@!urlTo(next)!@">next</a>
+                    <!--(end)-->
+                    $!pb if previous and not previous.parent.root else "prev"!$ |
+                    <a href="@!urlTo('doc/index.html')!@">index</a> |
+                    $!nb if next and not next.parent.root else "next"!$
                 </div>
-                $!title!$
+                <!--(end)-->
+                $!nav if this.title!="docs" else ""!$
+                $!title if this.title!="docs" else "<h1>mitmproxy docs</h1>"!$
                 $!body!$
             </div>
         </div>
diff --git a/doc-src/admin.html b/doc-src/admin.html
index 6954010c..b89cd8bc 100644
--- a/doc-src/admin.html
+++ b/doc-src/admin.html
@@ -1,14 +1,7 @@
 
-<h2>Contact</h2>
+Please send any comments, suggestions and bug reports to <a href="mailto:$!docMaintainerEmail!$">$!docMaintainerEmail!$</a>.
 
-<p> Please send any comments, suggestions and bug reports to
-	<a href="mailto:$!docMaintainerEmail!$">$!docMaintainerEmail!$</a>.
-</p>
-
-
-<h2>License</h2>
-
-<pre>
-@!license!@
-</pre>
+__mitmproxy__ is licensed under Version 3 of the Gnu General Public License,
+the full text of which can be found in the LICENSE file in the source
+distribution.
 
diff --git a/doc-src/certinstall/firefox.html b/doc-src/certinstall/firefox.html
index 06a38e21..a107aebc 100644
--- a/doc-src/certinstall/firefox.html
+++ b/doc-src/certinstall/firefox.html
@@ -1,4 +1,6 @@
 
+How to install the __mitmproxy__ certificate authority in Firefox:
+
 ### 1. If needed, copy the ~/.mitmproxy/mitmproxy-ca-cert.pem file to the target.
 
 ### 2: Open preferences, click on "Advanced", then select"Encryption":
diff --git a/doc-src/certinstall/ios.html b/doc-src/certinstall/ios.html
index b3315e56..d306dfc6 100644
--- a/doc-src/certinstall/ios.html
+++ b/doc-src/certinstall/ios.html
@@ -1,4 +1,6 @@
 
+How to install the __mitmproxy__ certificate authority on IOS devices:
+
 ### 1: Set up the Mail app on the device to receive email.
 
 ### 2: Mail the mitmproxy-ca-cert.pem file to the device, and tap on the attachment.
diff --git a/doc-src/certinstall/osx.html b/doc-src/certinstall/osx.html
index 0fc5afb2..465ada43 100644
--- a/doc-src/certinstall/osx.html
+++ b/doc-src/certinstall/osx.html
@@ -1,4 +1,6 @@
 
+How to install the __mitmproxy__ certificate authority in OSX:
+
 ### 1: Open Finder, and double-click on the mitmproxy-ca-cert.pem file.
 
 
diff --git a/doc-src/certinstall/windows7.html b/doc-src/certinstall/windows7.html
index 2da2c0e3..7c2bb3ef 100644
--- a/doc-src/certinstall/windows7.html
+++ b/doc-src/certinstall/windows7.html
@@ -1,4 +1,6 @@
 
+How to install the __mitmproxy__ certificate authority in Windows 7:
+
 ### 1: Copy the ~/.mitmproxy/mitmproxy-ca-cert.p12 file to the target system.
 
 ### 2: Double-click the certificate file. You should see a certificate import wizard:
diff --git a/doc-src/faq.html b/doc-src/faq.html
index 16b75d12..a2e6810f 100644
--- a/doc-src/faq.html
+++ b/doc-src/faq.html
@@ -1,7 +1,5 @@
 
-<div class="faq">
-
-<p class="question">Any tips for running mitmproxy on OSX?</p>
+### Any tips for running mitmproxy on OSX?
 
 You can use the OSX <b>open</b> program to create a simple and effective
 <b>~/.mailcap</b> file to view HTTP bodies:
@@ -14,4 +12,8 @@ video/*; /usr/bin/open -Wn %s
 </pre>
 
 
-</div>
+### I'd like to hack on mitmproxy. What should I work on?
+
+There's a __todo__ file at the top of the source tree that outlines a variety
+of tasks, from simple to complex. If you don't have your own itch, feel free to
+scratch one of those!
diff --git a/doc-src/index.py b/doc-src/index.py
index 0241e2f5..626aaaa1 100644
--- a/doc-src/index.py
+++ b/doc-src/index.py
@@ -8,10 +8,10 @@ from libmproxy import filt
 MITMPROXY_SRC = "~/git/public/mitmproxy"
 
 if ns.options.website:
-    ns.title = countershape.template.Template(None, "<h1>@!this.title!@ </h1>")
+    ns.title = countershape.template.Template(None, "<h1>@!this.title!@</h1>")
     this.layout = countershape.Layout("_websitelayout.html")
 else:
-    ns.title = countershape.template.Template(None, "<h1> @!docTitle!@ - @!this.title!@ </h1>")
+    ns.title = countershape.template.Template(None, "<h1>@!this.title!@</h1>")
     this.layout = countershape.Layout("_layout.html")
 ns.docTitle = "mitmproxy"
 this.markup = markup.Markdown()
diff --git a/doc-src/intro.html b/doc-src/intro.html
index c48206c8..79687ec6 100644
--- a/doc-src/intro.html
+++ b/doc-src/intro.html
@@ -1,2 +1,4 @@
 
 @!index_contents!@
+
+
diff --git a/doc-src/screenshots/intercept-filt.png b/doc-src/screenshots/intercept-filt.png
index 26884511..f5d20947 100644
Binary files a/doc-src/screenshots/intercept-filt.png and b/doc-src/screenshots/intercept-filt.png differ
diff --git a/doc-src/screenshots/intercept-mid.png b/doc-src/screenshots/intercept-mid.png
index 7c8049b0..2933f1cf 100644
Binary files a/doc-src/screenshots/intercept-mid.png and b/doc-src/screenshots/intercept-mid.png differ
diff --git a/doc-src/screenshots/intercept-options.png b/doc-src/screenshots/intercept-options.png
index 2d9d6ece..ef987b04 100644
Binary files a/doc-src/screenshots/intercept-options.png and b/doc-src/screenshots/intercept-options.png differ
diff --git a/doc-src/screenshots/intercept-result.png b/doc-src/screenshots/intercept-result.png
index f02aea7e..3d58104d 100644
Binary files a/doc-src/screenshots/intercept-result.png and b/doc-src/screenshots/intercept-result.png differ
diff --git a/doc-src/ssl.html b/doc-src/ssl.html
index 16dd9d8f..a8004082 100644
--- a/doc-src/ssl.html
+++ b/doc-src/ssl.html
@@ -37,7 +37,7 @@ exceptions.
 
 
 Installing the mitmproxy CA
-===========================
+---------------------------
 
 * [Firefox](@!urlTo("certinstall/firefox.html")!@)
 * [OSX](@!urlTo("certinstall/osx.html")!@)
