commit f47608c85ec0dcba456a759d1b862c3db8bcaddb
Author: Tom Saleeba <tom.saleeba@gmail.com>
Date:   Thu Aug 1 22:04:58 2019 +0930

    docs: correct command to install mitmproxy

diff --git a/docs/src/content/howto-transparent.md b/docs/src/content/howto-transparent.md
index 5b4b5dd8..803f8f10 100644
--- a/docs/src/content/howto-transparent.md
+++ b/docs/src/content/howto-transparent.md
@@ -91,12 +91,14 @@ Set the test device up to use the host on which mitmproxy is running as the defa
 Follow steps **1, 2** as above, but *instead* of the commands in step **3**, run the following
 
 Create a user to run the mitmproxy
+
 {{< highlight bash  >}}
 sudo useradd --create-home mitmproxyuser
-sudo -u mitmproxyuser 'cd ~ && pip install --user mitmproxy'
+sudo -u mitmproxyuser bash -c 'cd ~ && pip install --user mitmproxy'
 {{< / highlight >}}
 
 Then, configure the iptables rules to redirect all traffic from our local machine to mitmproxy. **Note**, as soon as you run these, you won't be able to perform successful network calls *until* you start mitmproxy. If you run into issues, `iptables -t nat -F` is a heavy handed way to flush (clear) *all* the rules from the iptables `nat` table (which includes any other rules you had configured).
+
 {{< highlight bash  >}}
 iptables -t nat -A OUTPUT -p tcp -m owner ! --uid-owner mitmproxyuser --dport 80 -j REDIRECT --to-port 8080
 iptables -t nat -A OUTPUT -p tcp -m owner ! --uid-owner mitmproxyuser --dport 443 -j REDIRECT --to-port 8080
