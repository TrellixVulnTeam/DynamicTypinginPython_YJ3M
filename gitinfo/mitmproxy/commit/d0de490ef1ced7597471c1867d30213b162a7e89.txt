commit d0de490ef1ced7597471c1867d30213b162a7e89
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Nov 2 18:04:57 2014 +1300

    Release prep: binaries build script, release checklist, fuzzing

diff --git a/release/osx-binaries b/release/osx-binaries
index 4be85800..9945e471 100755
--- a/release/osx-binaries
+++ b/release/osx-binaries
@@ -10,7 +10,8 @@
 # answer is to touch the __init__.py file in the zope directory. On my system:
 #   touch /Library/Python/2.7/site-packages/zope/__init__.py
 
-# To run, change into the pyinstaller directory, and then run this script.
+# To run, first install netlib and mitmproxy, then change into the pyinstaller
+# directory, and then run this script.
 
 DST=/tmp/osx-mitmproxy
 MITMPROXY=~/mitmproxy/mitmproxy
diff --git a/release/release-checklist b/release/release-checklist
index d0bf8aad..683e9b89 100644
--- a/release/release-checklist
+++ b/release/release-checklist
@@ -26,3 +26,7 @@
     - tar -xzvf pkgfile.tgz
     - virtualenv venv
 
+- Build the OSX binaries
+    - Follow instructions in osxbinaries
+
+
diff --git a/test/fuzzing/.env b/test/fuzzing/.env
index e2cf7829..82ae6a8d 100644
--- a/test/fuzzing/.env
+++ b/test/fuzzing/.env
@@ -2,5 +2,5 @@
 MITMDUMP=../../mitmdump
 PATHOD=../../../pathod/pathod
 PATHOC=../../../pathod/pathoc
-FUZZ_SETTINGS=-remTt 1 -n 0 -I 200,400,405,502 
+FUZZ_SETTINGS=-remTt 1 -n 0 
 
diff --git a/test/fuzzing/straight_stream b/test/fuzzing/straight_stream
index 99af212f..41e2a6e1 100644
--- a/test/fuzzing/straight_stream
+++ b/test/fuzzing/straight_stream
@@ -1,6 +1,6 @@
 
-mitmdump: $MITMDUMP -q --stream 1 
-pathod: $PATHOD -q
+mitmdump: $MITMDUMP 
+pathod: $PATHOD
 pathoc: sleep 2 && $PATHOC $FUZZ_SETTINGS  localhost:8080  ./straight_stream_patterns
-#pathoc: sleep 2 && $PATHOC $FUZZ_SETTINGS  localhost:8080  /tmp/err
+#pathoc: sleep 2 && $PATHOC localhost:8080  /tmp/err
 
diff --git a/test/fuzzing/straight_stream_patterns b/test/fuzzing/straight_stream_patterns
index 591bf20d..93a066e6 100644
--- a/test/fuzzing/straight_stream_patterns
+++ b/test/fuzzing/straight_stream_patterns
@@ -4,4 +4,14 @@ get:'http://localhost:9999/p/':s'200:b"foo"':ir,'9'
 get:'http://localhost:9999/p/':s'200:b"foo"':ir,':'
 get:'http://localhost:9999/p/':s'200:b"foo"':ir,'"'
 get:'http://localhost:9999/p/':s'200:b"foo"':ir,'-'
-get:'http://localhost:9999/p/':s'200:b"foo"':dr
+
+get:'http://localhost:9999/p/':s'200:b"foo":ir,"\n"'
+get:'http://localhost:9999/p/':s'200:b"foo":ir,"a"'
+get:'http://localhost:9999/p/':s'200:b"foo":ir,"9"'
+get:'http://localhost:9999/p/':s'200:b"foo":ir,":"'
+get:'http://localhost:9999/p/':s"200:b'foo':ir,'\"'"
+get:'http://localhost:9999/p/':s'200:b"foo":ir,"-"'
+get:'http://localhost:9999/p/':s'200:b"foo":dr'
+
+get:'http://localhost:9999/p/':s'200:b"foo"':ir,@2
+get:'http://localhost:9999/p/':s'200:b"foo":ir,@2'
diff --git a/test/fuzzing/straight_stream_ssl b/test/fuzzing/straight_stream_ssl
new file mode 100644
index 00000000..708ff0b3
--- /dev/null
+++ b/test/fuzzing/straight_stream_ssl
@@ -0,0 +1,6 @@
+
+mitmdump: $MITMDUMP -q --stream 1 
+pathod: $PATHOD
+pathoc: sleep 2 && $PATHOC $FUZZ_SETTINGS  localhost:8080  ./straight_stream_patterns
+#pathoc: sleep 2 && $PATHOC localhost:8080  /tmp/err
+
