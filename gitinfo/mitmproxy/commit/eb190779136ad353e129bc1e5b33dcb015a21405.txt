commit eb190779136ad353e129bc1e5b33dcb015a21405
Author: Jason <jason.daurus@gmail.com>
Date:   Wed Mar 2 15:53:33 2016 +0800

    [web] fix StoreView.index

diff --git a/mitmproxy/web/static/app.js b/mitmproxy/web/static/app.js
index 68a43e3b..4299f749 100644
--- a/mitmproxy/web/static/app.js
+++ b/mitmproxy/web/static/app.js
@@ -6318,7 +6318,7 @@ _lodash2.default.extend(StoreView.prototype, _events.EventEmitter.prototype, {
         this.emit("recalculate");
     },
     index: function index(elem) {
-        return _lodash2.default.sortedIndex(this.list, elem, this.sortfun);
+        return _lodash2.default.sortedIndexBy(this.list, elem, this.sortfun);
     },
     add: function add(elem) {
         if (this.filt(elem)) {
diff --git a/web/src/js/store/view.js b/web/src/js/store/view.js
index 71b159bf..3ec337a1 100644
--- a/web/src/js/store/view.js
+++ b/web/src/js/store/view.js
@@ -60,7 +60,7 @@ _.extend(StoreView.prototype, EventEmitter.prototype, {
         this.emit("recalculate");
     },
     index: function (elem) {
-        return _.sortedIndex(this.list, elem, this.sortfun);
+        return _.sortedIndexBy(this.list, elem, this.sortfun);
     },
     add: function (elem) {
         if (this.filt(elem)) {
