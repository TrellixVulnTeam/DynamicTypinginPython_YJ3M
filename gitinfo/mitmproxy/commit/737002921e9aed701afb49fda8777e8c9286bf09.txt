commit 737002921e9aed701afb49fda8777e8c9286bf09
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Mar 30 00:46:33 2015 +0200

    s/filter/search/
    
    no matter what we agree on in #542,
    this needs to be done anyway.

diff --git a/libmproxy/web/static/app.js b/libmproxy/web/static/app.js
index f9c8ef8d..d5c495f3 100644
--- a/libmproxy/web/static/app.js
+++ b/libmproxy/web/static/app.js
@@ -425,7 +425,7 @@ var FlowActions = {
 };
 
 var Query = {
-    FILTER: "f",
+    SEARCH: "s",
     HIGHLIGHT: "h",
     SHOW_EVENTLOG: "e"
 };
@@ -2364,7 +2364,7 @@ var MainMenu = React.createClass({displayName: "MainMenu",
     },
     onFilterChange: function (val) {
         var d = {};
-        d[Query.FILTER] = val;
+        d[Query.SEARCH] = val;
         this.setQuery(d);
     },
     onHighlightChange: function (val) {
@@ -2376,7 +2376,7 @@ var MainMenu = React.createClass({displayName: "MainMenu",
         actions.SettingsActions.update({intercept: val});
     },
     render: function () {
-        var filter = this.getQuery()[Query.FILTER] || "";
+        var search = this.getQuery()[Query.SEARCH] || "";
         var highlight = this.getQuery()[Query.HIGHLIGHT] || "";
         var intercept = this.state.settings.intercept || "";
 
@@ -2384,11 +2384,11 @@ var MainMenu = React.createClass({displayName: "MainMenu",
             React.createElement("div", null, 
                 React.createElement("div", {className: "menu-row"}, 
                     React.createElement(FilterInput, {
-                        ref: "filter", 
-                        placeholder: "Filter", 
-                        type: "filter", 
+                        ref: "search", 
+                        placeholder: "Search", 
+                        type: "search", 
                         color: "black", 
-                        value: filter, 
+                        value: search, 
                         onChange: this.onFilterChange}), 
                     React.createElement(FilterInput, {
                         ref: "highlight", 
@@ -2639,7 +2639,7 @@ var MainView = React.createClass({displayName: "MainView",
     },
     getViewFilt: function () {
         try {
-            var filt = Filt.parse(this.getQuery()[Query.FILTER] || "");
+            var filt = Filt.parse(this.getQuery()[Query.SEARCH] || "");
             var highlightStr = this.getQuery()[Query.HIGHLIGHT];
             var highlight = highlightStr ? Filt.parse(highlightStr) : false;
         } catch (e) {
@@ -2655,7 +2655,7 @@ var MainView = React.createClass({displayName: "MainView",
         };
     },
     componentWillReceiveProps: function (nextProps) {
-        var filterChanged = (this.props.query[Query.FILTER] !== nextProps.query[Query.FILTER]);
+        var filterChanged = (this.props.query[Query.SEARCH] !== nextProps.query[Query.SEARCH]);
         var highlightChanged = (this.props.query[Query.HIGHLIGHT] !== nextProps.query[Query.HIGHLIGHT]);
         if (filterChanged || highlightChanged) {
             this.state.view.recalculate(this.getViewFilt(), this.state.sortKeyFun);
diff --git a/web/src/js/actions.js b/web/src/js/actions.js
index 87c99dd2..32c3c7c0 100644
--- a/web/src/js/actions.js
+++ b/web/src/js/actions.js
@@ -121,7 +121,7 @@ var FlowActions = {
 };
 
 var Query = {
-    FILTER: "f",
+    SEARCH: "s",
     HIGHLIGHT: "h",
     SHOW_EVENTLOG: "e"
 };
diff --git a/web/src/js/components/header.js b/web/src/js/components/header.js
index 0452af3f..6cd1006d 100644
--- a/web/src/js/components/header.js
+++ b/web/src/js/components/header.js
@@ -167,7 +167,7 @@ var MainMenu = React.createClass({
     },
     onFilterChange: function (val) {
         var d = {};
-        d[Query.FILTER] = val;
+        d[Query.SEARCH] = val;
         this.setQuery(d);
     },
     onHighlightChange: function (val) {
@@ -179,7 +179,7 @@ var MainMenu = React.createClass({
         actions.SettingsActions.update({intercept: val});
     },
     render: function () {
-        var filter = this.getQuery()[Query.FILTER] || "";
+        var search = this.getQuery()[Query.SEARCH] || "";
         var highlight = this.getQuery()[Query.HIGHLIGHT] || "";
         var intercept = this.state.settings.intercept || "";
 
@@ -187,11 +187,11 @@ var MainMenu = React.createClass({
             <div>
                 <div className="menu-row">
                     <FilterInput
-                        ref="filter"
-                        placeholder="Filter"
-                        type="filter"
+                        ref="search"
+                        placeholder="Search"
+                        type="search"
                         color="black"
-                        value={filter}
+                        value={search}
                         onChange={this.onFilterChange} />
                     <FilterInput
                         ref="highlight"
diff --git a/web/src/js/components/mainview.js b/web/src/js/components/mainview.js
index 8f6989ae..2b7819c5 100644
--- a/web/src/js/components/mainview.js
+++ b/web/src/js/components/mainview.js
@@ -41,7 +41,7 @@ var MainView = React.createClass({
     },
     getViewFilt: function () {
         try {
-            var filt = Filt.parse(this.getQuery()[Query.FILTER] || "");
+            var filt = Filt.parse(this.getQuery()[Query.SEARCH] || "");
             var highlightStr = this.getQuery()[Query.HIGHLIGHT];
             var highlight = highlightStr ? Filt.parse(highlightStr) : false;
         } catch (e) {
@@ -57,7 +57,7 @@ var MainView = React.createClass({
         };
     },
     componentWillReceiveProps: function (nextProps) {
-        var filterChanged = (this.props.query[Query.FILTER] !== nextProps.query[Query.FILTER]);
+        var filterChanged = (this.props.query[Query.SEARCH] !== nextProps.query[Query.SEARCH]);
         var highlightChanged = (this.props.query[Query.HIGHLIGHT] !== nextProps.query[Query.HIGHLIGHT]);
         if (filterChanged || highlightChanged) {
             this.state.view.recalculate(this.getViewFilt(), this.state.sortKeyFun);
