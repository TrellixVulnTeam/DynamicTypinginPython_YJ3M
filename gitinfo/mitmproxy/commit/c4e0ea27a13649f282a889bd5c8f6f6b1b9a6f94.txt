commit c4e0ea27a13649f282a889bd5c8f6f6b1b9a6f94
Author: Matthew Shao <me@matshao.com>
Date:   Sat Mar 11 17:43:55 2017 +0800

    [web] Fixes stopEdit action in ducks/ui/flow.js

diff --git a/web/src/js/ducks/ui/flow.js b/web/src/js/ducks/ui/flow.js
index fa7474d2..8cb6e170 100644
--- a/web/src/js/ducks/ui/flow.js
+++ b/web/src/js/ducks/ui/flow.js
@@ -60,7 +60,7 @@ export default function reducer(state = defaultState, action) {
             // There is no explicit "stop edit" event.
             // We stop editing when we receive an update for
             // the currently edited flow from the server
-            if (action.data.id === state.modifiedFlow.id) {
+            if (action.flow.id === state.modifiedFlow.id) {
                 return {
                     ...state,
                     modifiedFlow: false,
@@ -145,9 +145,10 @@ export function setShowFullContent() {
 }
 
 export function setContent(content){
-    return { type: SET_CONTENT, content}
+    return { type: SET_CONTENT, content }
 }
 
 export function stopEdit(flow, modifiedFlow) {
-    return flowsActions.update(flow, getDiff(flow, modifiedFlow))
+    let diff = getDiff(flow, modifiedFlow)
+    return {type: flowsActions.UPDATE, flow, diff }
 }
