commit cb2f11a68e444d45e10e1b8045802bb94cfd70d6
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sat Jun 23 14:06:54 2012 +1200

    Bump version, adapt for API canges in netlib.

diff --git a/README.mkd b/README.mkd
index 562c1b16..86c82a5f 100644
--- a/README.mkd
+++ b/README.mkd
@@ -1,9 +1,15 @@
 
-__pathod__ is a pathological HTTP/S daemon, useful for testing and torturing
-HTTP clients. At __pathod__'s heart is a tiny, terse language for crafting HTTP
-responses. The simplest way to use __pathod__ is to fire up the daemon, and
-specify the response behaviour you want using this language in the request URL.
-Here's a minimal example:
+__pathod__ is a collection of pathological tools for testing and torturing HTTP
+clients and servers. The project has three components:
+
+- __pathod__, an pathological HTTP daemon.
+- __pathoc__, a fiendishly perverse HTTP client. 
+- __libpathod.test__, an API for easily using __pathod__ and __pathoc__ in unit tests.
+
+At __pathod__'s heart is a tiny, terse language for crafting HTTP responses.
+The simplest way to use __pathod__ is to fire up the daemon, and specify the
+response behaviour you want using this language in the request URL.  Here's a
+minimal example:
 
     http://localhost:9999/p/200
 
@@ -237,9 +243,7 @@ Supported data types are:
 # API
 
 __pathod__ exposes a simple API, intended to make it possible to drive and
-inspect the daemon remotely for use in unit testing and the like. The next
-release will include a client-side library that makes this transparent.
-
+inspect the daemon remotely for use in unit testing and the like. 
 
 ### /api/log
 
@@ -302,6 +306,6 @@ dependencies is dead simple:
     
     pip install pathod
 
-The project uses the __pry__ unit testing framework, which you can get here:
+The project uses the __nose__ unit testing framework, which you can get here:
+    
 
-    http://github.com/cortesi/pry
diff --git a/README.txt b/README.txt
index cb369548..c1c544de 100644
--- a/README.txt
+++ b/README.txt
@@ -22,4 +22,3 @@ the language by previewing responses, exposes activity logs, online help and
 various other goodies. Try it by visiting the server root:
 
     http://localhost:9999
-
diff --git a/libpathod/pathod.py b/libpathod/pathod.py
index 4f5fba22..aed95675 100644
--- a/libpathod/pathod.py
+++ b/libpathod/pathod.py
@@ -1,5 +1,5 @@
 import urllib, threading
-from netlib import tcp, protocol, odict, wsgi
+from netlib import tcp, http, odict, wsgi
 import version, app, rparse
 
 
@@ -17,9 +17,9 @@ class PathodHandler(tcp.BaseHandler):
         if line == "":
             return None
 
-        method, path, httpversion = protocol.parse_init_http(line)
-        headers = odict.ODictCaseless(protocol.read_headers(self.rfile))
-        content = protocol.read_http_body_request(
+        method, path, httpversion = http.parse_init_http(line)
+        headers = odict.ODictCaseless(http.read_headers(self.rfile))
+        content = http.read_http_body_request(
                     self.rfile, self.wfile, headers, httpversion, None
                 )
 
diff --git a/libpathod/version.py b/libpathod/version.py
index 7015ac67..0fc88438 100644
--- a/libpathod/version.py
+++ b/libpathod/version.py
@@ -1,4 +1,4 @@
-IVERSION = (0, 1)
+IVERSION = (0, 2)
 VERSION = ".".join(str(i) for i in IVERSION)
 NAME = "pathod"
 NAMEVERSION = NAME + " " + VERSION
