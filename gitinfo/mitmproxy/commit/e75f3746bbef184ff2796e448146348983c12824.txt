commit e75f3746bbef184ff2796e448146348983c12824
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sat Aug 30 18:07:13 2014 +0200

    try harder to fix travis

diff --git a/.travis.yml b/.travis.yml
index bf33db2b..7c4dca92 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -3,8 +3,7 @@ python:
   - "2.7"
 # command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
 install: 
-  - "pip install -r requirements.txt"
-  - "pip install -r test/requirements.txt"
+  - "pip install --src .. -r requirements.txt"
 # command to run tests, e.g. python setup.py test
 script: 
   - "nosetests --with-cov --cov-report term-missing"
diff --git a/requirements.txt b/requirements.txt
index 94ee067f..32d67bf9 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -1,2 +1,2 @@
---src .. -e git+https://github.com/mitmproxy/netlib.git#egg=netlib
--e .
\ No newline at end of file
+-e git+https://github.com/mitmproxy/netlib.git#egg=netlib
+-e . [dev]
\ No newline at end of file
diff --git a/setup.py b/setup.py
index a72cfe00..5e3a6266 100644
--- a/setup.py
+++ b/setup.py
@@ -2,6 +2,7 @@ from distutils.core import setup
 import fnmatch, os.path
 from libpathod import version
 
+
 def _fnmatch(name, patternList):
     for i in patternList:
         if fnmatch.fnmatch(name, i):
@@ -65,30 +66,42 @@ def findPackages(path, dataExclude=[]):
     return packages, package_data
 
 
-long_description = file("README.txt","rb").read()
+long_description = file("README.txt", "rb").read()
 packages, package_data = findPackages("libpathod")
 setup(
-        name = "pathod",
-        version = version.VERSION,
-        description = "A pathological HTTP/S daemon for testing and stressing clients.",
-        long_description = long_description,
-        author = "Aldo Cortesi",
-        author_email = "aldo@corte.si",
-        url = "http://pathod.net",
-        packages = packages,
-        package_data = package_data,
-        scripts = ["pathod", "pathoc"],
-        classifiers = [
-            "License :: OSI Approved :: MIT License",
-            "Development Status :: 5 - Production/Stable",
-            "Operating System :: POSIX",
-            "Programming Language :: Python",
-            "Programming Language :: Python :: 2",
-            "Topic :: Internet",
-            "Topic :: Internet :: WWW/HTTP :: HTTP Servers",
-            "Topic :: Software Development :: Testing",
-            "Topic :: Software Development :: Testing :: Traffic Generation",
-            "Topic :: Internet :: WWW/HTTP",
-        ],
-        install_requires=['netlib>=%s'%version.MINORVERSION, "requests>=1.1.0", "Flask>=0.10.1"]
+    name="pathod",
+    version=version.VERSION,
+    description="A pathological HTTP/S daemon for testing and stressing clients.",
+    long_description=long_description,
+    author="Aldo Cortesi",
+    author_email="aldo@corte.si",
+    url="http://pathod.net",
+    packages=packages,
+    package_data=package_data,
+    scripts=["pathod", "pathoc"],
+    classifiers=[
+        "License :: OSI Approved :: MIT License",
+        "Development Status :: 5 - Production/Stable",
+        "Operating System :: POSIX",
+        "Programming Language :: Python",
+        "Programming Language :: Python :: 2",
+        "Topic :: Internet",
+        "Topic :: Internet :: WWW/HTTP :: HTTP Servers",
+        "Topic :: Software Development :: Testing",
+        "Topic :: Software Development :: Testing :: Traffic Generation",
+        "Topic :: Internet :: WWW/HTTP",
+    ],
+    install_requires=[
+        'netlib>=%s' % version.MINORVERSION,
+        "requests>=1.1.0",
+        "Flask>=0.10.1"
+    ],
+    extra_require={
+        'dev': [
+            "mock>=1.0.1",
+            "nose>=1.3.0",
+            "nose-cov>=1.6",
+            "coveralls>=0.4.1"
+        ]
+    }
 )
diff --git a/test/requirements.txt b/test/requirements.txt
deleted file mode 100644
index 1bfe2b7b..00000000
--- a/test/requirements.txt
+++ /dev/null
@@ -1,4 +0,0 @@
-mock>=1.0.1
-nose>=1.3.0
-nose-cov>=1.6
-coveralls>=0.4.1
\ No newline at end of file
