commit 6d53d08b6c6e55e1ce787ca8f0110351723fc21d
Author: lymanZerga11 <lymanZerga11@users.noreply.github.com>
Date:   Thu Mar 9 09:01:04 2017 +0800

    Add tests

diff --git a/test/mitmproxy/addons/test_proxyauth.py b/test/mitmproxy/addons/test_proxyauth.py
index dd5829ab..8b64a21b 100644
--- a/test/mitmproxy/addons/test_proxyauth.py
+++ b/test/mitmproxy/addons/test_proxyauth.py
@@ -171,3 +171,4 @@ def test_handlers():
         f2 = tflow.tflow(client_conn=f.client_conn)
         up.requestheaders(f2)
         assert not f2.response
+        assert f2.metadata["proxyauth"] == ('test','test')
