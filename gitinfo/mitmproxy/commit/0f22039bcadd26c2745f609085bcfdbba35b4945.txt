commit 0f22039bcadd26c2745f609085bcfdbba35b4945
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sat Jan 18 22:55:40 2014 +0100

    add CONNECT request to list of request types that don't have a response body

diff --git a/netlib/http.py b/netlib/http.py
index 454edb3a..51f85627 100644
--- a/netlib/http.py
+++ b/netlib/http.py
@@ -313,7 +313,7 @@ def read_response(rfile, method, body_size_limit):
         raise HttpError(502, "Invalid headers.")
 
     # Parse response body according to http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-16#section-3.3
-    if method == "HEAD" or (code in [204, 304]) or 100 <= code <= 199:
+    if method in ["HEAD", "CONNECT"] or (code in [204, 304]) or 100 <= code <= 199:
         content = ""
     else:
         content = read_http_body(rfile, headers, body_size_limit, False)
