commit 42aede6181c643bb5bbd35ca81b6c1b1c69ec4b5
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Aug 19 19:21:47 2013 +0200

    ensure binary read on windows

diff --git a/libpathod/pathod.py b/libpathod/pathod.py
index 621ef867..5fc1fd55 100644
--- a/libpathod/pathod.py
+++ b/libpathod/pathod.py
@@ -12,7 +12,7 @@ class SSLOptions:
     def __init__(self, certfile=None, keyfile=None, not_after_connect=None, request_client_cert=False):
         self.keyfile = keyfile or utils.data.path("resources/server.key")
         self.certfile = certfile or utils.data.path("resources/server.crt")
-        self.cert = certutils.SSLCert.from_pem(file(self.certfile, "r").read())
+        self.cert = certutils.SSLCert.from_pem(file(self.certfile, "rb").read())
         self.not_after_connect = not_after_connect
         self.request_client_cert = request_client_cert
 
diff --git a/pathod b/pathod
index 60ade46e..10e9ba55 100755
--- a/pathod
+++ b/pathod
@@ -22,9 +22,9 @@ def daemonize (stdin='/dev/null', stdout='/dev/null', stderr='/dev/null'):
     except OSError, e:
         sys.stderr.write ("fork #2 failed: (%d) %s\n" % (e.errno, e.strerror) )
         sys.exit(1)
-    si = open(stdin, 'r')
-    so = open(stdout, 'a+')
-    se = open(stderr, 'a+', 0)
+    si = open(stdin, 'rb')
+    so = open(stdout, 'a+b')
+    se = open(stderr, 'a+b', 0)
     os.dup2(si.fileno(), sys.stdin.fileno())
     os.dup2(so.fileno(), sys.stdout.fileno())
     os.dup2(se.fileno(), sys.stderr.fileno())
diff --git a/setup.py b/setup.py
index a71499ca..bac20903 100644
--- a/setup.py
+++ b/setup.py
@@ -65,7 +65,7 @@ def findPackages(path, dataExclude=[]):
     return packages, package_data
 
 
-long_description = file("README.txt").read()
+long_description = file("README.txt","rb").read()
 packages, package_data = findPackages("libpathod")
 setup(
         name = "pathod",
