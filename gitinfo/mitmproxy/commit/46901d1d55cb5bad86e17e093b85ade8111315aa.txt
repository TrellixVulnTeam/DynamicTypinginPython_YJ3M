commit 46901d1d55cb5bad86e17e093b85ade8111315aa
Author: Matthew Shao <me@matshao.com>
Date:   Wed Nov 22 14:26:20 2017 +1100

    Fix #2635, mitmdump does not apply filter to saved data. (#2636)

diff --git a/mitmproxy/addons/save.py b/mitmproxy/addons/save.py
index 3dbef14e..5e739039 100644
--- a/mitmproxy/addons/save.py
+++ b/mitmproxy/addons/save.py
@@ -42,7 +42,7 @@ class Save:
                     )
             else:
                 self.filt = None
-        if "save_stream_file" in updated:
+        if "save_stream_file" in updated or "save_stream_filter" in updated:
             if self.stream:
                 self.done()
             if ctx.options.save_stream_file:
