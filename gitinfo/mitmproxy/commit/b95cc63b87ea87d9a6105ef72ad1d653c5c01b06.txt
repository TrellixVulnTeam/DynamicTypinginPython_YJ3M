commit b95cc63b87ea87d9a6105ef72ad1d653c5c01b06
Author: Shadab Zafar <dufferzafar0@gmail.com>
Date:   Mon Mar 7 12:13:15 2016 +0530

    Add tests for redirect_requests example

diff --git a/test/mitmproxy/test_examples.py b/test/mitmproxy/test_examples.py
index c134ec30..a76d56a8 100644
--- a/test/mitmproxy/test_examples.py
+++ b/test/mitmproxy/test_examples.py
@@ -13,6 +13,7 @@ from examples import (
     modify_form,
     modify_querystring,
     modify_response_body,
+    redirect_requests,
 )
 
 
@@ -96,3 +97,9 @@ def test_iframe_injector():
 
     content = flow.response.content
     assert 'iframe' in content and ctx.iframe_url in content
+
+
+def test_redirect_requests():
+    flow = tutils.tflow(req=netutils.treq(host="example.org"))
+    redirect_requests.request({}, flow)
+    assert flow.request.host == "mitmproxy.org"
