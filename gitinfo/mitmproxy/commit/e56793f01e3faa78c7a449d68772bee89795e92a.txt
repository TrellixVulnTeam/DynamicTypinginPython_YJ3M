commit e56793f01e3faa78c7a449d68772bee89795e92a
Author: Yuangxuan Wang <zellux@gmail.com>
Date:   Mon Jun 20 16:17:59 2011 +0800

    Fix urwid version parsing error when it's something like 0.9.10-pre

diff --git a/libmproxy/console.py b/libmproxy/console.py
index aa763930..4c4c9b5e 100644
--- a/libmproxy/console.py
+++ b/libmproxy/console.py
@@ -114,7 +114,7 @@ def format_flow(f, focus, extended=False, padding=2):
 
 def int_version(v):
     SIG = 3
-    v = urwid.__version__.split(".")
+    v = urwid.__version__.split("-")[0].split(".")
     x = 0
     for i in range(min(SIG, len(v))):
         x += int(v[i]) * 10**(SIG-i)
