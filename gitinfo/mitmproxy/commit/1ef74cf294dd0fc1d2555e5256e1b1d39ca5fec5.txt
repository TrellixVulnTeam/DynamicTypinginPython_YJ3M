commit 1ef74cf294dd0fc1d2555e5256e1b1d39ca5fec5
Author: Wade 524 <u524@intrafile.com>
Date:   Fri Oct 24 15:54:51 2014 -0700

    Fixing issue #368.

diff --git a/libmproxy/flow.py b/libmproxy/flow.py
index e5fdf424..13895a05 100644
--- a/libmproxy/flow.py
+++ b/libmproxy/flow.py
@@ -219,9 +219,10 @@ class ServerPlaybackState:
         queriesArray = urlparse.parse_qsl(query)
 
         filtered = []
+        ignore_params = self.ignore_params or []
         for p in queriesArray:
-          if p[0] not in self.ignore_params:
-            filtered.append(p)
+            if p[0] not in ignore_params:
+                filtered.append(p)
 
         key = [
             str(r.host),
