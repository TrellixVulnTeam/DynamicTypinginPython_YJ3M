commit 16401d5be8fba35599caedb4c78901d4b66ac082
Author: Manish Kumar <mkagenius@gmail.com>
Date:   Fri Aug 26 12:52:51 2016 +0530

    fixed : Divide by zero error came when string was empty, also a test

diff --git a/netlib/strutils.py b/netlib/strutils.py
index 4a46b6b1..4cb3b805 100644
--- a/netlib/strutils.py
+++ b/netlib/strutils.py
@@ -121,6 +121,9 @@ def escaped_str_to_bytes(data):
 
 def is_mostly_bin(s):
     # type: (bytes) -> bool
+    if not s or len(s) == 0:
+        return False
+
     return sum(
         i < 9 or 13 < i < 32 or 126 < i
         for i in six.iterbytes(s[:100])
diff --git a/test/netlib/test_strutils.py b/test/netlib/test_strutils.py
index 52299e59..f8dc3ada 100644
--- a/test/netlib/test_strutils.py
+++ b/test/netlib/test_strutils.py
@@ -85,7 +85,7 @@ def test_escaped_str_to_bytes():
 def test_is_mostly_bin():
     assert not strutils.is_mostly_bin(b"foo\xFF")
     assert strutils.is_mostly_bin(b"foo" + b"\xFF" * 10)
-
+    assert not strutils.is_mostly_bin("")
 
 def test_is_xml():
     assert not strutils.is_xml(b"foo")
