commit 17b727321f659ce66d57269285c0a021db144e71
Author: Shadab Zafar <dufferzafar0@gmail.com>
Date:   Tue Jun 28 17:40:13 2016 +0530

    Replace map + lambda with list comprehensions

diff --git a/mitmproxy/flow/export.py b/mitmproxy/flow/export.py
index f0ac02ab..bffe5291 100644
--- a/mitmproxy/flow/export.py
+++ b/mitmproxy/flow/export.py
@@ -4,7 +4,7 @@ import json
 import re
 from textwrap import dedent
 
-from six.moves.urllib.parse import quote, quote_plus
+from six.moves import urllib
 
 import netlib.http
 
@@ -48,7 +48,7 @@ def python_code(flow):
         print(response.text)
     """).strip()
 
-    components = map(lambda x: quote(x, safe=""), flow.request.path_components)
+    components = [urllib.parse.quote(c, safe="") for c in flow.request.path_components]
     url = flow.request.scheme + "://" + flow.request.host + "/" + "/".join(components)
 
     args = ""
@@ -126,7 +126,7 @@ def locust_code(flow):
             max_wait = 3000
 """).strip()
 
-    components = map(lambda x: quote(x, safe=""), flow.request.path_components)
+    components = [urllib.parse.quote(c, safe="") for c in flow.request.path_components]
     file_name = "_".join(components)
     name = re.sub('\W|^(?=\d)', '_', file_name)
     url = flow.request.scheme + "://" + flow.request.host + "/" + "/".join(components)
