commit 14f6bcd86e78365a72bd18dcf619d9eefcb914f0
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Thu Feb 18 09:48:37 2016 +1300

    Adjust release for new repo structure

diff --git a/release/.env b/release/.env
deleted file mode 100644
index 69ac3f05..00000000
--- a/release/.env
+++ /dev/null
@@ -1,6 +0,0 @@
-DIR="$( dirname "${BASH_SOURCE[0]}" )"
-ACTIVATE_DIR="$(if [ -f "$DIR/../venv.mitmproxy/bin/activate" ]; then echo 'bin'; else echo 'Scripts'; fi;)"
-if [ -z "$VIRTUAL_ENV" ] && [ -f "$DIR/../venv.mitmproxy/$ACTIVATE_DIR/activate" ]; then
-    echo "Activating mitmproxy virtualenv..."
-    source "$DIR/../venv.mitmproxy/$ACTIVATE_DIR/activate"
-fi
diff --git a/release/.gitignore b/release/.gitignore
index c062fb3b..2247d5f9 100644
--- a/release/.gitignore
+++ b/release/.gitignore
@@ -1,9 +1,2 @@
-.DS_Store
-MANIFEST
-*.py[cdo]
-*.swp
-*.swo
-
 /build
 /dist
-/mitmproxy_rtool.egg-info
\ No newline at end of file
diff --git a/release/mitmdump.spec b/release/mitmdump.spec
index 967f5e58..2e164083 100644
--- a/release/mitmdump.spec
+++ b/release/mitmdump.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmdump'],
+a = Analysis(['../mitmproxy/bin/mitmdump'],
              binaries=None,
              datas=collect_data_files("mitmproxy.onboarding"),
              hiddenimports=[],
diff --git a/release/mitmproxy.spec b/release/mitmproxy.spec
index 6356b0a6..ff42b1f3 100644
--- a/release/mitmproxy.spec
+++ b/release/mitmproxy.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmproxy'],
+a = Analysis(['../mitmproxy/bin/mitmproxy'],
              binaries=None,
              datas=collect_data_files("mitmproxy.onboarding"),
              hiddenimports=[],
diff --git a/release/mitmweb.spec b/release/mitmweb.spec
index e3e634fa..e64940c4 100644
--- a/release/mitmweb.spec
+++ b/release/mitmweb.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../mitmproxy/mitmweb'],
+a = Analysis(['../mitmproxy/bin/mitmweb'],
              binaries=None,
              datas=collect_data_files("mitmproxy"),
              hiddenimports=[],
diff --git a/release/pathoc.spec b/release/pathoc.spec
index 707d21de..e694794e 100644
--- a/release/pathoc.spec
+++ b/release/pathoc.spec
@@ -2,7 +2,7 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../pathod/pathoc'],
+a = Analysis(['../pathod/bin/pathoc'],
              binaries=None,
              datas=None,
              hiddenimports=['_cffi_backend'],
diff --git a/release/pathod.spec b/release/pathod.spec
index 4e515ac9..a0ccbaf0 100644
--- a/release/pathod.spec
+++ b/release/pathod.spec
@@ -2,9 +2,9 @@
 
 from PyInstaller.utils.hooks import collect_data_files
 
-a = Analysis(['../pathod/pathod'],
+a = Analysis(['../pathod/bin/pathod'],
              binaries=None,
-             datas=collect_data_files("libpathod"),
+             datas=collect_data_files("pathod"),
              hiddenimports=['_cffi_backend'],
              hookspath=None,
              runtime_hooks=None,
diff --git a/release/rtool.py b/release/rtool.py
old mode 100644
new mode 100755
index 936e64c8..5d411b35
--- a/release/rtool.py
+++ b/release/rtool.py
@@ -250,7 +250,7 @@ def bdist(ctx, use_existing_wheels, pyinstaller_version):
                             "--clean",
                             "--workpath", PYINSTALLER_TEMP,
                             "--distpath", PYINSTALLER_DIST,
-                            # This is PyInstaller, so setting a 
+                            # This is PyInstaller, so setting a
                             # different log level obviously breaks it :-)
                             # "--log-level", "WARN",
                             spec
