commit 6b92497d4f1d9fc0a98c42f66ab2bf81e8fa2fc7
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Nov 27 01:11:06 2015 +0100

    remove unnecessary race conditions in tests

diff --git a/test/test_server.py b/test/test_server.py
index 3a4a1a7b..e48e46fe 100644
--- a/test/test_server.py
+++ b/test/test_server.py
@@ -668,26 +668,20 @@ class TestStreamRequest(tservers.HTTPProxTest):
         p = self.pathoc()
 
         # a request with 100k of data but without content-length
-        self.server.clear_log()
         r1 = p.request("get:'%s/p/200:r:b@100k:d102400'" % self.server.urlbase)
         assert r1.status_code == 200
         assert len(r1.content) > 100000
-        assert self.server.last_log()
 
     def test_stream_multiple(self):
         p = self.pathoc()
 
         # simple request with streaming turned on
-        self.server.clear_log()
         r1 = p.request("get:'%s/p/200'" % self.server.urlbase)
         assert r1.status_code == 200
-        assert self.server.last_log()
 
         # now send back 100k of data, streamed but not chunked
-        self.server.clear_log()
-        r1 = p.request("get:'%s/p/200:b@100k'" % self.server.urlbase)
-        assert r1.status_code == 200
-        assert self.server.last_log()
+        r1 = p.request("get:'%s/p/201:b@100k'" % self.server.urlbase)
+        assert r1.status_code == 201
 
     def test_stream_chunked(self):
         connection = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
