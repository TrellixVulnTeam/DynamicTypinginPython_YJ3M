commit cdff79fd4c03f644c25373bf0d15ef30e3644180
Author: Doug Lethin <dlethin@gmail.com>
Date:   Fri May 15 22:20:09 2015 -0400

    Make sure proxy returns the httpversion specified in the request rather
    than hardcoding to 1.1.

diff --git a/libmproxy/protocol/http.py b/libmproxy/protocol/http.py
index 8d703786..2bfc313c 100644
--- a/libmproxy/protocol/http.py
+++ b/libmproxy/protocol/http.py
@@ -1248,7 +1248,8 @@ class HTTPHandler(ProtocolHandler):
                 flow.server_conn = self.c.server_conn
                 self.c.establish_server_connection()
                 self.c.client_conn.send(
-                    'HTTP/1.1 200 Connection established\r\n' +
+                    ('HTTP/%s.%s 200 ' % (request.httpversion[0],request.httpversion[1])) +
+		    'Connection established\r\n' +
                     'Content-Length: 0\r\n' +
                     ('Proxy-agent: %s\r\n' % self.c.config.server_version) +
                     '\r\n'
