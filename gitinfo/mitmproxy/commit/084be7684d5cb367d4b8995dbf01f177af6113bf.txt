commit 084be7684d5cb367d4b8995dbf01f177af6113bf
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Wed Jun 20 10:51:02 2012 +1200

    Close socket on shutdown.

diff --git a/netlib/tcp.py b/netlib/tcp.py
index 08ccba09..92a7e92f 100644
--- a/netlib/tcp.py
+++ b/netlib/tcp.py
@@ -158,6 +158,7 @@ class TCPServer:
     def shutdown(self):
         self.__shutdown_request = True
         self.__is_shut_down.wait()
+        self.socket.close()
         self.handle_shutdown()
 
     def handle_error(self, request, client_address, fp=sys.stderr):
