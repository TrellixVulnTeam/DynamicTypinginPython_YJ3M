commit 1a5c27aa7db69f6175a8bb493fde85a8e92dcff7
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Jun 9 11:26:44 2013 +1200

    Massage content-type before sending it to mime detection
    
    Fixes #67

diff --git a/libmproxy/console/__init__.py b/libmproxy/console/__init__.py
index fe75a047..ba699d33 100644
--- a/libmproxy/console/__init__.py
+++ b/libmproxy/console/__init__.py
@@ -526,6 +526,7 @@ class ConsoleMaster(flow.FlowMaster):
 
     def spawn_external_viewer(self, data, contenttype):
         if contenttype:
+            contenttype = contenttype.split(";")[0]
             ext = mimetypes.guess_extension(contenttype) or ""
         else:
             ext = ""
