commit c33df9dd1c360cfc8d675caa7627d3de1f3179a9
Author: isra17 <isra017@gmail.com>
Date:   Mon Jul 13 18:08:36 2015 -0400

    Use `ensure_ascii` in wep.app#broadcast
    
    Otherwise, a non-unicode character in a flow cause mitmweb to crash.

diff --git a/libmproxy/web/app.py b/libmproxy/web/app.py
index 29ae9e7a..d6082ee2 100644
--- a/libmproxy/web/app.py
+++ b/libmproxy/web/app.py
@@ -81,7 +81,8 @@ class WebSocketEventBroadcaster(tornado.websocket.WebSocketHandler):
 
     @classmethod
     def broadcast(cls, **kwargs):
-        message = json.dumps(kwargs)
+        message = json.dumps(kwargs, ensure_ascii=False)
+
         for conn in cls.connections:
             try:
                 conn.write_message(message)
