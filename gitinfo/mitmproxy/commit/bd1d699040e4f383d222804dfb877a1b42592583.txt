commit bd1d699040e4f383d222804dfb877a1b42592583
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Feb 26 23:23:54 2012 +1300

    Fix mitmproxy crash when passed -n flag.

diff --git a/libmproxy/console/__init__.py b/libmproxy/console/__init__.py
index 5b2ec0cd..7d936892 100644
--- a/libmproxy/console/__init__.py
+++ b/libmproxy/console/__init__.py
@@ -143,7 +143,7 @@ class StatusBar(common.WWrap):
             r.append("[")
             r.append(("heading_key", "u"))
             r.append(":%s]"%self.master.stickyauth_txt)
-        if self.master.server.config.reverse_proxy:
+        if self.master.server and self.master.server.config.reverse_proxy:
             r.append("[")
             r.append(("heading_key", "R"))
             r.append(":%s]"%utils.unparse_url(*self.master.server.config.reverse_proxy))
