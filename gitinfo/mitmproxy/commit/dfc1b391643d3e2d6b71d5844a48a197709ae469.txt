commit dfc1b391643d3e2d6b71d5844a48a197709ae469
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Thu Mar 12 13:26:21 2015 +1100

    Update for latest master of PyInstaller

diff --git a/release/mitmdump.spec b/release/mitmdump.spec
index a84908f5..1707122c 100644
--- a/release/mitmdump.spec
+++ b/release/mitmdump.spec
@@ -1,14 +1,12 @@
 # -*- mode: python -*-
 
 from glob import glob
-block_cipher = None
 
 a = Analysis(['./mitmdump'],
              hiddenimports=[],
              hookspath=None,
              runtime_hooks=None,
              excludes=None,
-             cipher=block_cipher,
           )
 a.datas = Tree(
   "./libmproxy/onboarding/templates",
@@ -18,8 +16,7 @@ a.datas += Tree(
   "./libmproxy/onboarding/static",
   prefix="libmproxy/onboarding/static"
 )
-pyz = PYZ(a.pure,
-             cipher=block_cipher)
+pyz = PYZ(a.pure)
 exe = EXE(pyz,
           a.scripts,
           a.binaries,
diff --git a/release/mitmproxy.spec b/release/mitmproxy.spec
index 546c2899..cc324aa7 100644
--- a/release/mitmproxy.spec
+++ b/release/mitmproxy.spec
@@ -1,14 +1,12 @@
 # -*- mode: python -*-
 
 from glob import glob
-block_cipher = None
 
 a = Analysis(['./mitmproxy'],
              hiddenimports=[],
              hookspath=None,
              runtime_hooks=None,
              excludes=None,
-             cipher=block_cipher,
           )
 a.datas = Tree(
   "./libmproxy/onboarding/templates",
@@ -18,8 +16,7 @@ a.datas += Tree(
   "./libmproxy/onboarding/static",
   prefix="libmproxy/onboarding/static"
 )
-pyz = PYZ(a.pure,
-             cipher=block_cipher)
+pyz = PYZ(a.pure)
 exe = EXE(pyz,
           a.scripts,
           a.binaries,
diff --git a/release/mitmweb.spec b/release/mitmweb.spec
index 4e99da38..b247ce51 100644
--- a/release/mitmweb.spec
+++ b/release/mitmweb.spec
@@ -1,14 +1,12 @@
 # -*- mode: python -*-
 
 from glob import glob
-block_cipher = None
 
 a = Analysis(['./mitmweb'],
              hiddenimports=[],
              hookspath=None,
              runtime_hooks=None,
              excludes=None,
-             cipher=block_cipher,
           )
 a.datas = Tree(
   "./libmproxy/onboarding/templates",
@@ -26,8 +24,7 @@ a.datas += Tree(
   "./libmproxy/web/static",
   prefix="libmproxy/web/static"
 )
-pyz = PYZ(a.pure,
-             cipher=block_cipher)
+pyz = PYZ(a.pure)
 exe = EXE(pyz,
           a.scripts,
           a.binaries,
diff --git a/release/osx-binaries b/release/osx-binaries
index 862ddd59..d2af5e18 100755
--- a/release/osx-binaries
+++ b/release/osx-binaries
@@ -4,12 +4,12 @@
 
 # A few quirks to note, which should be re-checked every release:
 # - We require the latest development version of PyInstaller.
- 
-# To run, first install netlib and mitmproxy, then run 
+
+# To run, first install netlib and mitmproxy, then run
 #
 #	./release/osx-binaries
 #
-# From the top-level mitmproxy directory. 
+# From the top-level mitmproxy directory.
 
 usage ()
 {
@@ -26,17 +26,22 @@ fi
 
 TMPDIR=./tmp
 PYINST_CMD=$1" -F --clean"
+CACHE="~/Library/Application Support/pyinstaller"
 
 rm -f dist/*
 rm -rf $TMPDIR
+rm -rf $CACHE
 
 $PYINST_CMD ./release/mitmdump.spec
+echo "Running mitmdump..."
 ./dist/mitmdump --version || exit 1
 
 $PYINST_CMD ./release/mitmproxy.spec
+echo "Running mitmproxy..."
 ./dist/mitmproxy --version || exit 1
 
 $PYINST_CMD ./release/mitmweb.spec
+echo "Running mitmweb..."
 ./dist/mitmweb --version || exit 1
 
 DST=osx-mitmproxy-`./dist/mitmdump --shortversion 2>&1`
