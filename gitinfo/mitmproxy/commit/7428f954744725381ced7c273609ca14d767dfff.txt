commit 7428f954744725381ced7c273609ca14d767dfff
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Aug 25 10:22:09 2013 +1200

    Handle interrupted system call errors.

diff --git a/netlib/tcp.py b/netlib/tcp.py
index 31e9a398..bee1f75b 100644
--- a/netlib/tcp.py
+++ b/netlib/tcp.py
@@ -376,7 +376,13 @@ class TCPServer:
         self.__is_shut_down.clear()
         try:
             while not self.__shutdown_request:
-                r, w, e = select.select([self.socket], [], [], poll_interval)
+                try:
+                    r, w, e = select.select([self.socket], [], [], poll_interval)
+                except select.error, ex:
+                        if ex[0] == 4:
+                            continue
+                        else:
+                            raise  
                 if self.socket in r:
                     request, client_address = self.socket.accept()
                     t = threading.Thread(
