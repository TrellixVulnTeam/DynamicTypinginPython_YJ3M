commit ebba79b6558b23cec13faa3562ff05ada5912ca4
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Sep 10 11:33:03 2015 +0200

    raw tcp mode: use ssl_read_select

diff --git a/libmproxy/protocol/rawtcp.py b/libmproxy/protocol/rawtcp.py
index 86468773..6ab0196a 100644
--- a/libmproxy/protocol/rawtcp.py
+++ b/libmproxy/protocol/rawtcp.py
@@ -4,7 +4,7 @@ import select
 
 from OpenSSL import SSL
 
-from netlib.tcp import NetLibError
+from netlib.tcp import NetLibError, ssl_read_select
 from netlib.utils import cleanBin
 from ..exceptions import ProtocolException
 from .base import Layer
@@ -28,7 +28,7 @@ class RawTCPLayer(Layer):
 
         try:
             while True:
-                r, _, _ = select.select(conns, [], [], 10)
+                r = ssl_read_select(conns, 10)
                 for conn in r:
                     dst = server if conn == client else client
 
