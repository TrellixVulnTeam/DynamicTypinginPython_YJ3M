commit cf63396d84345325c0f7b7683390e18aa695fe8b
Author: Nikita Stupin <18281368+nikitastupin@users.noreply.github.com>
Date:   Wed Jul 15 22:38:00 2020 +0300

    Fix bug: TCP interception do not adhere ctx.options.intercept_active

diff --git a/mitmproxy/addons/intercept.py b/mitmproxy/addons/intercept.py
index 46ed90a7..4c2c2214 100644
--- a/mitmproxy/addons/intercept.py
+++ b/mitmproxy/addons/intercept.py
@@ -51,5 +51,5 @@ class Intercept:
         self.process_flow(f)
 
     def tcp_message(self, f):
-        if self.filt:
+        if self.filt and ctx.options.intercept_active:
             f.intercept()
