commit 7ef68b5a13ac41c0a180b891c5331c8526c1e7f4
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Jun 9 11:14:34 2013 +1200

    Fix creation of new response when none existed before.
    
    Fixes #133

diff --git a/libmproxy/console/flowview.py b/libmproxy/console/flowview.py
index 8932b912..da5a6c65 100644
--- a/libmproxy/console/flowview.py
+++ b/libmproxy/console/flowview.py
@@ -16,7 +16,7 @@
 import os, sys
 import urwid
 import common, grideditor, contentview
-from .. import utils, flow
+from .. import utils, flow, controller
 
 def _mkhelp():
     text = []
@@ -341,7 +341,12 @@ class FlowView(common.WWrap):
             conn = self.flow.request
         else:
             if not self.flow.response:
-                self.flow.response = flow.Response(self.flow.request, 200, "OK", flow.ODictCaseless(), "", None)
+                self.flow.response = flow.Response(
+                    self.flow.request, 
+                    self.flow.request.httpversion,
+                    200, "OK", flow.ODictCaseless(), "", None
+                )
+                self.flow.response.reply = controller.DummyReply()
             conn = self.flow.response
 
         self.flow.backup()
