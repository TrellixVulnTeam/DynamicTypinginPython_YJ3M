commit 7cb14925fe6fee43143f2ee1a771973e0972b08a
Author: Matthew Shao <me@matshao.com>
Date:   Fri Jul 28 20:34:18 2017 +0800

    Update tests for the improved verbosity options.

diff --git a/test/mitmproxy/addons/test_dumper.py b/test/mitmproxy/addons/test_dumper.py
index d8aa593b..fb80f3ce 100644
--- a/test/mitmproxy/addons/test_dumper.py
+++ b/test/mitmproxy/addons/test_dumper.py
@@ -148,7 +148,7 @@ class TestContentView:
         sio = io.StringIO()
         d = dumper.Dumper(sio)
         with taddons.context(options=options.Options()) as ctx:
-            ctx.configure(d, flow_detail=4, verbosity=3)
+            ctx.configure(d, flow_detail=4, verbosity='debug')
             d.response(tflow.tflow())
             assert ctx.master.has_log("content viewer failed")
 
diff --git a/test/mitmproxy/addons/test_termlog.py b/test/mitmproxy/addons/test_termlog.py
index 2133b74d..027bdfeb 100644
--- a/test/mitmproxy/addons/test_termlog.py
+++ b/test/mitmproxy/addons/test_termlog.py
@@ -16,7 +16,7 @@ class TestTermLog:
     ])
     def test_output(self, outfile, expected_out, expected_err, capfd):
         t = termlog.TermLog(outfile=outfile)
-        with taddons.context(options=Options(verbosity=2)) as tctx:
+        with taddons.context(options=Options(verbosity='info')) as tctx:
             tctx.configure(t)
             t.log(log.LogEntry("one", "info"))
             t.log(log.LogEntry("two", "debug"))
diff --git a/test/mitmproxy/tools/console/test_master.py b/test/mitmproxy/tools/console/test_master.py
index a3478bdc..ef357c76 100644
--- a/test/mitmproxy/tools/console/test_master.py
+++ b/test/mitmproxy/tools/console/test_master.py
@@ -28,7 +28,7 @@ def test_options():
 class TestMaster(tservers.MasterTest):
     def mkmaster(self, **opts):
         if "verbosity" not in opts:
-            opts["verbosity"] = 1
+            opts["verbosity"] = 'warn'
         o = options.Options(**opts)
         m = console.master.ConsoleMaster(o, proxy.DummyServer())
         m.addons.trigger("configure", o.keys())
diff --git a/test/mitmproxy/tools/test_dump.py b/test/mitmproxy/tools/test_dump.py
index 69a76d2e..597333af 100644
--- a/test/mitmproxy/tools/test_dump.py
+++ b/test/mitmproxy/tools/test_dump.py
@@ -12,7 +12,7 @@ from .. import tservers
 
 class TestDumpMaster(tservers.MasterTest):
     def mkmaster(self, flt, **opts):
-        o = options.Options(view_filter=flt, verbosity=-1, flow_detail=0, **opts)
+        o = options.Options(view_filter=flt, verbosity='error', flow_detail=0, **opts)
         m = dump.DumpMaster(o, proxy.DummyServer(), with_termlog=False, with_dumper=False)
         return m
 
