commit 3b0964f36555949d35659f306054876a49dbcfa1
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Oct 30 17:38:23 2014 +0100

    fix #391

diff --git a/libmproxy/proxy/config.py b/libmproxy/proxy/config.py
index fe2b45f4..a228192a 100644
--- a/libmproxy/proxy/config.py
+++ b/libmproxy/proxy/config.py
@@ -43,9 +43,9 @@ class ProxyConfig:
         self.body_size_limit = body_size_limit
 
         if mode == "transparent":
-            self.mode = TransparentProxyMode(platform.resolver(), TRANSPARENT_SSL_PORTS)
+            self.mode = TransparentProxyMode(platform.resolver(), ssl_ports)
         elif mode == "socks5":
-            self.mode = Socks5ProxyMode(TRANSPARENT_SSL_PORTS)
+            self.mode = Socks5ProxyMode(ssl_ports)
         elif mode == "reverse":
             self.mode = ReverseProxyMode(upstream_server)
         elif mode == "upstream":
