commit 7b2a986ceab45788c42424d2bc9f4b2380ccc832
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Wed Feb 1 17:52:01 2017 +0100

    tests++ (#1976)

diff --git a/test/mitmproxy/addons/test_script.py b/test/mitmproxy/addons/test_script.py
index 6e04d49d..f578867d 100644
--- a/test/mitmproxy/addons/test_script.py
+++ b/test/mitmproxy/addons/test_script.py
@@ -231,7 +231,15 @@ class TestScriptLoader:
         o = options.Options(scripts=["one", "one"])
         m = master.Master(o, proxy.DummyServer())
         sc = script.ScriptLoader()
-        tutils.raises(exceptions.OptionsError, m.addons.add, o, sc)
+        with tutils.raises(exceptions.OptionsError):
+            m.addons.add(o, sc)
+
+    def test_nonexistent(self):
+        o = options.Options(scripts=["nonexistent"])
+        m = master.Master(o, proxy.DummyServer())
+        sc = script.ScriptLoader()
+        with tutils.raises(exceptions.OptionsError):
+            m.addons.add(o, sc)
 
     def test_order(self):
         rec = tutils.test_data.path("mitmproxy/data/addonscripts/recorder.py")
