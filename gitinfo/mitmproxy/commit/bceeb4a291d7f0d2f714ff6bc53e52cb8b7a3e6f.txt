commit bceeb4a291d7f0d2f714ff6bc53e52cb8b7a3e6f
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Feb 2 12:27:01 2016 +0100

    raise an ScriptException when running unloaded scripts

diff --git a/libmproxy/script/script.py b/libmproxy/script/script.py
index a4ed3aba..55778851 100644
--- a/libmproxy/script/script.py
+++ b/libmproxy/script/script.py
@@ -88,6 +88,8 @@ class Script(object):
             Raises:
                 ScriptException if there was an exception.
         """
+        if self.ns is None:
+            raise ScriptException("Script not loaded.")
         f = self.ns.get(name)
         if f:
             try:
