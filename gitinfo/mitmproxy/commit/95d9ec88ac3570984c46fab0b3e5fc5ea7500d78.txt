commit 95d9ec88ac3570984c46fab0b3e5fc5ea7500d78
Author: Aldo Cortesi <aldo@corte.si>
Date:   Mon Mar 20 13:13:40 2017 +1300

    tox:  mypy checking for entire codebase
    
    Also fix a few linting errors.

diff --git a/mitmproxy/io/__init__.py b/mitmproxy/io/__init__.py
index a82f729f..540e6871 100644
--- a/mitmproxy/io/__init__.py
+++ b/mitmproxy/io/__init__.py
@@ -4,4 +4,4 @@ from .io import FlowWriter, FlowReader, FilteredFlowWriter, read_flows_from_path
 
 __all__ = [
     "FlowWriter", "FlowReader", "FilteredFlowWriter", "read_flows_from_paths"
-]
\ No newline at end of file
+]
diff --git a/mitmproxy/tools/console/flowlist.py b/mitmproxy/tools/console/flowlist.py
index 45377b2c..31d48ee3 100644
--- a/mitmproxy/tools/console/flowlist.py
+++ b/mitmproxy/tools/console/flowlist.py
@@ -308,7 +308,7 @@ class FlowListBox(urwid.ListBox):
 
     def __init__(
         self, master: "mitmproxy.tools.console.master.ConsoleMaster"
-   ) -> None:
+    ) -> None:
         self.master = master  # type: "mitmproxy.tools.console.master.ConsoleMaster"
         super().__init__(FlowListWalker(master))
 
diff --git a/mitmproxy/tools/console/palettes.py b/mitmproxy/tools/console/palettes.py
index e349f702..7fbdcfd8 100644
--- a/mitmproxy/tools/console/palettes.py
+++ b/mitmproxy/tools/console/palettes.py
@@ -1,4 +1,4 @@
-import typing
+import typing  # noqa
 # Low-color themes should ONLY use the standard foreground and background
 # colours listed here:
 #
diff --git a/setup.cfg b/setup.cfg
index 7fbb7f73..8e231f28 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -37,7 +37,7 @@ exclude =
     mitmproxy/controller.py
     mitmproxy/export.py
     mitmproxy/flow.py
-    mitmproxy/io_compat.py
+    mitmproxy/io/compat.py
     mitmproxy/master.py
     pathod/pathoc.py
     pathod/pathod.py
@@ -57,8 +57,9 @@ exclude =
     mitmproxy/exceptions.py
     mitmproxy/export.py
     mitmproxy/flow.py
-    mitmproxy/io.py
-    mitmproxy/io_compat.py
+    mitmproxy/io/io.py
+    mitmproxy/io/compat.py
+    mitmproxy/io/tnetstring.py
     mitmproxy/log.py
     mitmproxy/master.py
     mitmproxy/net/check.py
diff --git a/tox.ini b/tox.ini
index a1ed53f7..fafb455e 100644
--- a/tox.ini
+++ b/tox.ini
@@ -27,17 +27,7 @@ commands =
   flake8 --jobs 8 mitmproxy pathod examples test release
   python3 test/filename_matching.py
   rstcheck README.rst
-  mypy --ignore-missing-imports --follow-imports=skip \
-    mitmproxy/addons/ \
-    mitmproxy/addonmanager.py \
-    mitmproxy/optmanager.py \
-    mitmproxy/proxy/protocol/ \
-    mitmproxy/log.py \
-    mitmproxy/tools/dump.py \
-    mitmproxy/tools/web/ \
-    mitmproxy/contentviews/
-  mypy --ignore-missing-imports \
-    mitmproxy/master.py
+  mypy --ignore-missing-imports ./mitmproxy
 
 [testenv:individual_coverage]
 deps =
