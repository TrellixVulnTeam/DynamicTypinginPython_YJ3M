commit 9b9d72594c9d7c6c2a10a943adb1934384adda59
Author: Matthew Shao <me@matshao.com>
Date:   Tue Feb 14 21:21:39 2017 +0800

    fix websocket message display crash in console.

diff --git a/mitmproxy/tools/console/master.py b/mitmproxy/tools/console/master.py
index a33a9823..4ab9e1f4 100644
--- a/mitmproxy/tools/console/master.py
+++ b/mitmproxy/tools/console/master.py
@@ -412,7 +412,7 @@ class ConsoleMaster(master.Master):
     def websocket_message(self, f):
         super().websocket_message(f)
         message = f.messages[-1]
-        signals.add_log(message.info, "info")
+        signals.add_log(f.message_info(message), "info")
         signals.add_log(strutils.bytes_to_escaped_str(message.content), "debug")
 
     @controller.handler
