commit ede124a5874a9accb66b09aa3048365f5943f957
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Jan 6 01:01:26 2017 +0100

    fix #1910

diff --git a/mitmproxy/tools/web/app.py b/mitmproxy/tools/web/app.py
index b7cf2c9d..f873b351 100644
--- a/mitmproxy/tools/web/app.py
+++ b/mitmproxy/tools/web/app.py
@@ -194,7 +194,7 @@ class WebSocketEventBroadcaster(tornado.websocket.WebSocketHandler):
 
     @classmethod
     def broadcast(cls, **kwargs):
-        message = json.dumps(kwargs, ensure_ascii=False)
+        message = json.dumps(kwargs, ensure_ascii=False).encode("utf8", "surrogateescape")
 
         for conn in cls.connections:
             try:
