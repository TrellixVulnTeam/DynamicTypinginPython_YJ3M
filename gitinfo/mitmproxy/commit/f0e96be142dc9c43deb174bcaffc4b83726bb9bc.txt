commit f0e96be142dc9c43deb174bcaffc4b83726bb9bc
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Dec 10 03:13:37 2013 +0100

    ensure binary read on windows

diff --git a/libmproxy/proxy.py b/libmproxy/proxy.py
index a62803fb..7b2f9bfe 100644
--- a/libmproxy/proxy.py
+++ b/libmproxy/proxy.py
@@ -302,7 +302,8 @@ class ProxyHandler(tcp.BaseHandler):
 
     def find_cert(self, cc, host, port, sni):
         if self.config.certfile:
-            return certutils.SSLCert.from_pem(file(self.config.certfile, "r").read())
+            with open(self.config.certfile, "rb") as f:
+                return certutils.SSLCert.from_pem(f.read())
         else:
             sans = []
             if not self.config.no_upstream_cert:
