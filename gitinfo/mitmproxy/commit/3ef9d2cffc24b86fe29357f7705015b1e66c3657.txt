commit 3ef9d2cffc24b86fe29357f7705015b1e66c3657
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Mar 13 14:51:25 2011 +1300

    flow.py 100% test coverage

diff --git a/test/test_flow.py b/test/test_flow.py
index f29e1e80..947d0d59 100644
--- a/test/test_flow.py
+++ b/test/test_flow.py
@@ -265,7 +265,7 @@ class uState(libpry.AutoTree):
         e = proxy.Error(tutils.tflow().request, "message")
         assert not c.add_error(e)
 
-    def test_view(self):
+    def test_set_limit(self):
         c = flow.State()
 
         req = tutils.treq()
@@ -292,6 +292,16 @@ class uState(libpry.AutoTree):
         c.set_limit("~s")
         assert len(c.view) == 1
 
+        assert "Invalid" in c.set_limit("~")
+
+    def test_set_intercept(self):
+        c = flow.State()
+        assert not c.set_intercept("~q")
+        assert c.intercept_txt == "~q"
+        assert "Invalid" in c.set_intercept("~")
+        assert not c.set_intercept(None)
+        assert c.intercept_txt == None
+
     def _add_request(self, state):
         req = tutils.treq()
         f = state.add_request(req)
