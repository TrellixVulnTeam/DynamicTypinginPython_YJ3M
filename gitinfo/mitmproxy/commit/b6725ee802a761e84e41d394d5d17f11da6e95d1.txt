commit b6725ee802a761e84e41d394d5d17f11da6e95d1
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Mar 25 11:31:36 2012 +1300

    Add Javascript to manual pretty type over-rides.

diff --git a/libmproxy/console/flowview.py b/libmproxy/console/flowview.py
index 080017df..5b5210ec 100644
--- a/libmproxy/console/flowview.py
+++ b/libmproxy/console/flowview.py
@@ -365,6 +365,8 @@ class FlowView(common.WWrap):
         if t == "a":
             self.view_body_pretty_type = contentview.VIEW_CONTENT_PRETTY_TYPE_AUTO
         elif t == "j":
+            self.view_body_pretty_type = contentview.VIEW_CONTENT_PRETTY_TYPE_JAVASCRIPT
+        elif t == "s":
             self.view_body_pretty_type = contentview.VIEW_CONTENT_PRETTY_TYPE_JSON
         elif t == "u":
             self.view_body_pretty_type = contentview.VIEW_CONTENT_PRETTY_TYPE_URLENCODED
@@ -464,7 +466,8 @@ class FlowView(common.WWrap):
                 "Pretty-Print format",
                 (
                     ("auto detect", "a"),
-                    ("json", "j"),
+                    ("javascript", "j"),
+                    ("json", "s"),
                     ("urlencoded", "u"),
                     ("xmlish", "x"),
                 ),
