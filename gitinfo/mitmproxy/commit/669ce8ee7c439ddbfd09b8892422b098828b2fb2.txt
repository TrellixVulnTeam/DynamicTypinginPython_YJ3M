commit 669ce8ee7c439ddbfd09b8892422b098828b2fb2
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Jul 17 15:31:58 2011 +1200

    Correctly detect urlencoded data
    
    This broke when we introduced case preservation for headers.

diff --git a/libmproxy/console.py b/libmproxy/console.py
index 9dec87c3..845e65b7 100644
--- a/libmproxy/console.py
+++ b/libmproxy/console.py
@@ -967,7 +967,7 @@ class ConsoleMaster(flow.FlowMaster):
     def _find_pretty_view(self, content, hdrItems, txt):
         ctype = None
         for i in hdrItems:
-            if i[0] == "content-type":
+            if i[0].lower() == "content-type":
                 ctype = i[1]
                 break
         if ctype and "x-www-form-urlencoded" in ctype:
