commit 07110bbbf192339b52d1067b531d0cea20b245d2
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun May 15 12:23:34 2011 +1200

    Anticache and refresh_server_playback options are applied before flows are loaded.
    
    You can now use mitmdump to preview how these options work, by running mitmdump
    against a set of saved flows, and viewing the output.

diff --git a/libmproxy/dump.py b/libmproxy/dump.py
index ce9c2b50..b4621716 100644
--- a/libmproxy/dump.py
+++ b/libmproxy/dump.py
@@ -53,6 +53,8 @@ class DumpMaster(flow.FlowMaster):
         flow.FlowMaster.__init__(self, server, flow.State())
         self.outfile = outfile
         self.o = options
+        self.anticache = options.anticache
+        self.refresh_server_playback = options.refresh_server_playback
 
         if filtstr:
             self.filt = filt.parse(filtstr)
@@ -100,8 +102,6 @@ class DumpMaster(flow.FlowMaster):
                 not options.keepserving
             )
 
-        self.anticache = options.anticache
-        self.refresh_server_playback = options.refresh_server_playback
 
     def _readflow(self, path):
         path = os.path.expanduser(path)
