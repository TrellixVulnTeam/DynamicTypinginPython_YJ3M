commit 8385e586c01dc3527c3d641e17a6ae4841f4c035
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Thu Apr 5 10:21:56 2012 +1200

    Work around an Urwid crashing bug.
    
    https://github.com/Nic0/tyrs/issues/115

diff --git a/libmproxy/console/__init__.py b/libmproxy/console/__init__.py
index 6b480d57..f1622c0a 100644
--- a/libmproxy/console/__init__.py
+++ b/libmproxy/console/__init__.py
@@ -102,6 +102,11 @@ class ActionBar(common.WWrap):
         self.w = PathEdit(prompt, text)
 
     def prompt(self, prompt, text = ""):
+        # A (partial) workaround for this Urwid issue:
+        # https://github.com/Nic0/tyrs/issues/115
+        # We can remove it once veryone is beyond 1.0.1
+        if isinstance(prompt, basestring):
+            prompt = unicode(prompt)
         self.w = urwid.Edit(prompt, text or "")
 
     def message(self, message):
