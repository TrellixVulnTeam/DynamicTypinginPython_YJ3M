commit 97abb0a6567cb762755ed00433e586871b96ce95
Author: Ujjwal Verma <ujjwalverma1111@gmail.com>
Date:   Wed Aug 2 21:02:51 2017 +0530

    update for pyasn1 0.3

diff --git a/mitmproxy/certs.py b/mitmproxy/certs.py
index 0e441efe..c5f930e1 100644
--- a/mitmproxy/certs.py
+++ b/mitmproxy/certs.py
@@ -480,10 +480,8 @@ class SSLCert(serializable.Serializable):
                 except PyAsn1Error:
                     continue
                 for i in dec[0]:
-                    if i[0] is None and isinstance(i[1], univ.OctetString) and not isinstance(i[1], char.IA5String):
-                        # This would give back the IP address: b'.'.join([str(e).encode() for e in i[1].asNumbers()])
-                        continue
-                    else:
+                    if i[0].hasValue():
                         e = i[0].asOctets()
-                    altnames.append(e)
+                        altnames.append(e)
+
         return altnames
