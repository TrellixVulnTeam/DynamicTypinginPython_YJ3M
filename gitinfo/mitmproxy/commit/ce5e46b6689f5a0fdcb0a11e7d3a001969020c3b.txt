commit ce5e46b6689f5a0fdcb0a11e7d3a001969020c3b
Author: Miroslav <ttahabatt@gmail.com>
Date:   Sun Jan 7 16:18:58 2018 +0200

    Fix #2688

diff --git a/mitmproxy/addons/termlog.py b/mitmproxy/addons/termlog.py
index 3a9f2c19..2a7e2d09 100644
--- a/mitmproxy/addons/termlog.py
+++ b/mitmproxy/addons/termlog.py
@@ -24,7 +24,8 @@ class TermLog:
             click.secho(
                 e.msg,
                 file=outfile,
-                fg=dict(error="red", warn="yellow").get(e.level),
+                fg=dict(error="red", warn="yellow",
+                        alert="magenta").get(e.level),
                 dim=(e.level == "debug"),
                 err=(e.level == "error")
             )
diff --git a/mitmproxy/master.py b/mitmproxy/master.py
index de3b24e1..a5e948f6 100644
--- a/mitmproxy/master.py
+++ b/mitmproxy/master.py
@@ -77,7 +77,7 @@ class Master:
 
     def add_log(self, e, level):
         """
-            level: debug, info, warn, error
+            level: debug, alert, info, warn, error
         """
         self.addons.trigger("log", log.LogEntry(e, level))
 
diff --git a/mitmproxy/tools/console/eventlog.py b/mitmproxy/tools/console/eventlog.py
index 911aeb91..8083180d 100644
--- a/mitmproxy/tools/console/eventlog.py
+++ b/mitmproxy/tools/console/eventlog.py
@@ -47,7 +47,7 @@ class EventLog(urwid.ListBox, layoutwidget.LayoutWidget):
         if log.log_tier(self.master.options.verbosity) < log.log_tier(entry.level):
             return
         txt = "%s: %s" % (entry.level, str(entry.msg))
-        if entry.level in ("error", "warn"):
+        if entry.level in ("error", "warn", "alert"):
             e = urwid.Text((entry.level, txt))
         else:
             e = urwid.Text(txt)
diff --git a/mitmproxy/tools/console/master.py b/mitmproxy/tools/console/master.py
index 04c7cc0c..da35047e 100644
--- a/mitmproxy/tools/console/master.py
+++ b/mitmproxy/tools/console/master.py
@@ -88,7 +88,7 @@ class ConsoleMaster(master.Master):
     def sig_add_log(self, event_store, entry: log.LogEntry):
         if log.log_tier(self.options.verbosity) < log.log_tier(entry.level):
             return
-        if entry.level in ("error", "warn"):
+        if entry.level in ("error", "warn", "alert"):
             if self.first_tick:
                 self.start_err = entry
             else:
diff --git a/mitmproxy/tools/console/palettes.py b/mitmproxy/tools/console/palettes.py
index 465fd574..df69ff2f 100644
--- a/mitmproxy/tools/console/palettes.py
+++ b/mitmproxy/tools/console/palettes.py
@@ -24,7 +24,7 @@ class Palette:
         # List and Connections
         'method', 'focus',
         'code_200', 'code_300', 'code_400', 'code_500', 'code_other',
-        'error', "warn",
+        'error', "warn", "alert",
         'header', 'highlight', 'intercept', 'replay', 'mark',
 
         # Hex view
@@ -103,6 +103,7 @@ class LowDark(Palette):
         code_500 = ('light red', 'default'),
         code_other = ('dark red', 'default'),
 
+        alert = ('light magenta', 'default'),
         warn = ('brown', 'default'),
         error = ('light red', 'default'),
 
@@ -176,6 +177,7 @@ class LowLight(Palette):
 
         error = ('light red', 'default'),
         warn = ('brown', 'default'),
+        alert = ('light magenta', 'default'),
 
         header = ('dark blue', 'default'),
         highlight = ('black,bold', 'default'),
@@ -265,6 +267,7 @@ class SolarizedLight(LowLight):
 
         error = (sol_red, 'default'),
         warn = (sol_orange, 'default'),
+        alert = (sol_magenta, 'default'),
 
         header = (sol_blue, 'default'),
         highlight = (sol_base01, 'default'),
@@ -319,6 +322,7 @@ class SolarizedDark(LowDark):
 
         error = (sol_red, 'default'),
         warn = (sol_orange, 'default'),
+        alert = (sol_magenta, 'default'),
 
         header = (sol_blue, 'default'),
         highlight = (sol_base01, 'default'),
