commit 2e7e9f9759bab5253a008cdabe0df42551bae922
Author: Henrik Nordstr√∂m <henrik@hlaptop.localdomain>
Date:   Sun Sep 5 21:04:22 2010 +0800

    Wrap read request, concatenating partial reads until whole request have been read

diff --git a/libmproxy/proxy.py b/libmproxy/proxy.py
index 6196dc0e..e7a10d60 100644
--- a/libmproxy/proxy.py
+++ b/libmproxy/proxy.py
@@ -192,6 +192,15 @@ class FileLike:
     def flush(self):
         pass
 
+    def read(self, length):
+	result = ''
+	while len(result) < length:
+	    data = self.o.read(length)
+	    if not data:
+		break
+	    result += data
+	return result
+	    
     def readline(self):
         result = ''
         while True:
