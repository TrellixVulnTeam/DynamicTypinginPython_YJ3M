commit 8aad2d63cfaf30204464fcfee4ecf6f159a8f731
Author: kira0204 <rshtmudgal@gmail.com>
Date:   Mon Mar 12 09:13:29 2018 +0530

    adding command

diff --git a/test/mitmproxy/test_command.py b/test/mitmproxy/test_command.py
index 32498578..3d0a43f8 100644
--- a/test/mitmproxy/test_command.py
+++ b/test/mitmproxy/test_command.py
@@ -318,6 +318,10 @@ class TCmds(TAttr):
     def __init__(self):
         self.TAttr = TAttr()
 
+    @command.command("empty")
+    def empty(self) -> None:
+        pass
+
 
 def test_collect_commands():
     """
@@ -327,9 +331,7 @@ def test_collect_commands():
         c = command.CommandManager(tctx.master)
         a = TCmds()
         c.collect_commands(a)
-        assert "cmd1" not in c.commands
-        assert "cmd2" not in c.commands
-        assert "empty" not in c.commands
+        assert "empty" in c.commands
 
 
 def test_decorator():
