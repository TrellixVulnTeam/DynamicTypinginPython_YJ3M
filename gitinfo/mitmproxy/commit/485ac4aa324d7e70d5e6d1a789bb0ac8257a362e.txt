commit 485ac4aa324d7e70d5e6d1a789bb0ac8257a362e
Author: Thomas Kriechbaumer <thomas@kriechbaumer.name>
Date:   Wed May 24 11:11:45 2017 +0200

    fix array.{fromstring,tostring} deprecation warning

diff --git a/mitmproxy/net/socks.py b/mitmproxy/net/socks.py
index 570a4afb..fdfcfb80 100644
--- a/mitmproxy/net/socks.py
+++ b/mitmproxy/net/socks.py
@@ -82,12 +82,12 @@ class ClientGreeting:
         client_greeting = cls(ver, [])
         if fail_early:
             client_greeting.assert_socks5()
-        client_greeting.methods.fromstring(f.safe_read(nmethods))
+        client_greeting.methods.frombytes(f.safe_read(nmethods))
         return client_greeting
 
     def to_file(self, f):
         f.write(struct.pack("!BB", self.ver, len(self.methods)))
-        f.write(self.methods.tostring())
+        f.write(self.methods.tobytes())
 
 
 class ServerGreeting:
