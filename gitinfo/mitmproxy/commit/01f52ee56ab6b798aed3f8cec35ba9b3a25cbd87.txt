commit 01f52ee56ab6b798aed3f8cec35ba9b3a25cbd87
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sun May 8 16:54:30 2016 -0600

    fix mitmdump shutdown

diff --git a/mitmproxy/dump.py b/mitmproxy/dump.py
index a077438b..d224f1aa 100644
--- a/mitmproxy/dump.py
+++ b/mitmproxy/dump.py
@@ -346,6 +346,6 @@ class DumpMaster(flow.FlowMaster):
 
     def run(self):  # pragma: no cover
         if self.o.rfile and not self.o.keepserving:
-            self.shutdown()  # We need to manually call .shutdown() here, e.g. to trigger script unload events.
+            self.unload_scripts()  # make sure to trigger script unload events.
             return
         super(DumpMaster, self).run()
\ No newline at end of file
