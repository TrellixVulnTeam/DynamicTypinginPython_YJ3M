commit 1e93e42883ba43642b4e2bfb231ee74a323706c7
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Jul 22 12:40:27 2012 +1200

    Escape special characters in first line error log.

diff --git a/libpathod/pathod.py b/libpathod/pathod.py
index e4a14193..9d155301 100644
--- a/libpathod/pathod.py
+++ b/libpathod/pathod.py
@@ -30,7 +30,7 @@ class PathodHandler(tcp.BaseHandler):
 
         parts = http.parse_init_http(line)
         if not parts:
-            s = "Invalid first line: %s"%line.rstrip()
+            s = "Invalid first line: %s"%repr(line)
             self.info(s)
             self.server.add_log(
                 dict(
diff --git a/test/test_pathod.py b/test/test_pathod.py
index 86f37f01..4a8d90d5 100644
--- a/test/test_pathod.py
+++ b/test/test_pathod.py
@@ -122,7 +122,6 @@ class _DaemonTests:
         assert "Invalid" in l["msg"]
 
 
-
 class TestDaemon(_DaemonTests):
     SSL = False
 
