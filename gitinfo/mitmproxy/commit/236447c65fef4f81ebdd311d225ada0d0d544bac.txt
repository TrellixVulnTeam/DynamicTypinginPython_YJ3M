commit 236447c65fef4f81ebdd311d225ada0d0d544bac
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Jun 10 13:29:09 2012 +1200

    Pass server HTTP version back to clients.

diff --git a/libmproxy/flow.py b/libmproxy/flow.py
index ff5c3cf1..10e2c335 100644
--- a/libmproxy/flow.py
+++ b/libmproxy/flow.py
@@ -748,7 +748,7 @@ class Response(HTTPMsg):
             content = ""
         if self.request.client_conn.close:
             headers["connection"] = ["close"]
-        proto = "HTTP/1.1 %s %s"%(self.code, str(self.msg))
+        proto = "HTTP/%s.%s %s %s"%(self.httpversion[0], self.httpversion[1], self.code, str(self.msg))
         data = (proto, str(headers), content)
         return FMT%data
 
