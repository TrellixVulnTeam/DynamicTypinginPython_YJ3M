commit ae61025d5d52b639c4315696ff03162b50b75a8d
Author: Jason <jason.daurus@gmail.com>
Date:   Sat Mar 12 23:04:31 2016 +0800

    [web] fix virtual scroll range

diff --git a/mitmproxy/web/static/app.js b/mitmproxy/web/static/app.js
index e318d1ac..527fe225 100644
--- a/mitmproxy/web/static/app.js
+++ b/mitmproxy/web/static/app.js
@@ -2873,6 +2873,8 @@ var _react = require("react");
 
 var _react2 = _interopRequireDefault(_react);
 
+var _common = require("./common.js");
+
 function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 Footer.propTypes = {
@@ -2902,7 +2904,7 @@ function Footer(_ref) {
     );
 }
 
-},{"react":"react"}],15:[function(require,module,exports){
+},{"./common.js":4,"react":"react"}],15:[function(require,module,exports){
 "use strict";
 
 Object.defineProperty(exports, "__esModule", {
@@ -3505,7 +3507,7 @@ function calcVScroll(opts) {
 
         // Make sure that we start at an even row so that CSS `:nth-child(even)` is preserved
         start = Math.max(0, Math.floor(viewportTop / rowHeight) - 1) & ~1;
-        end = Math.min(itemCount, start + Math.ceil(viewportHeight / rowHeight) + 1);
+        end = Math.min(itemCount, start + Math.ceil(viewportHeight / rowHeight) + 2);
 
         // When a large trunk of elements is removed from the button, start may be far off the viewport.
         // To make this issue less severe, limit the top placeholder to the total number of rows.
diff --git a/web/src/js/components/helpers/VirtualScroll.js b/web/src/js/components/helpers/VirtualScroll.js
index 5d4cf796..d9b31003 100644
--- a/web/src/js/components/helpers/VirtualScroll.js
+++ b/web/src/js/components/helpers/VirtualScroll.js
@@ -57,7 +57,7 @@ export function calcVScroll(opts) {
         start = Math.max(0, Math.floor(viewportTop / rowHeight) - 1) & ~1;
         end = Math.min(
             itemCount,
-            start + Math.ceil(viewportHeight / rowHeight) + 1
+            start + Math.ceil(viewportHeight / rowHeight) + 2
         );
 
         // When a large trunk of elements is removed from the button, start may be far off the viewport.
