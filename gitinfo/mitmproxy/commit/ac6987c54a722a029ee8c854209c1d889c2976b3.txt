commit ac6987c54a722a029ee8c854209c1d889c2976b3
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sat Mar 17 17:29:25 2012 +1300

    Fix unit tests.

diff --git a/libmproxy/dump.py b/libmproxy/dump.py
index 436da4a5..59eafd4c 100644
--- a/libmproxy/dump.py
+++ b/libmproxy/dump.py
@@ -95,8 +95,9 @@ class DumpMaster(flow.FlowMaster):
             except IOError, v:
                 raise DumpError(v.strerror)
 
-        for i in options.replacements:
-            self.replacehooks.add(*i)
+        if options.replacements:
+            for i in options.replacements:
+                self.replacehooks.add(*i)
 
         if options.server_replay:
             self.start_server_playback(
