commit 58642d57f6281dde1d224365c6c0b2b05085413b
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Aug 21 23:35:04 2017 +0200

    [web] make it possible to run static viewer in subdirectories

diff --git a/web/src/js/__tests__/ducks/optionsSpec.js b/web/src/js/__tests__/ducks/optionsSpec.js
index 9178c14e..d3f9b8e5 100644
--- a/web/src/js/__tests__/ducks/optionsSpec.js
+++ b/web/src/js/__tests__/ducks/optionsSpec.js
@@ -56,7 +56,7 @@ describe('save', () => {
         global.fetch = jest.fn()
         store.dispatch(OptionsActions.save())
         expect(fetch).toBeCalledWith(
-            '/options/save?_xsrf=undefined',
+            './options/save?_xsrf=undefined',
             {
                 credentials: "same-origin",
                 method: "POST"
diff --git a/web/src/js/utils.js b/web/src/js/utils.js
index 3aeba1b1..7c1719ae 100644
--- a/web/src/js/utils.js
+++ b/web/src/js/utils.js
@@ -91,6 +91,9 @@ export function fetchApi(url, options={}) {
     } else {
         url += '.json'
     }
+    if (url.startsWith("/")) {
+        url = "." + url;
+    }
 
     return fetch(url, {
         credentials: 'same-origin',
