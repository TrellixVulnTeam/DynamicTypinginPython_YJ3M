commit e10c36fe1175219aa146fc326f0697dfd9872532
Author: Ujjwal Verma <ujjwalverma1111@gmail.com>
Date:   Fri Feb 3 02:58:02 2017 +0530

    Added test

diff --git a/test/mitmproxy/addons/test_view.py b/test/mitmproxy/addons/test_view.py
index 99b12cb4..7145bfc8 100644
--- a/test/mitmproxy/addons/test_view.py
+++ b/test/mitmproxy/addons/test_view.py
@@ -108,6 +108,13 @@ def test_simple():
     assert list(v) == [f, f3, f2]
     assert len(v._store) == 3
 
+    f.marked = not f.marked
+    f2.marked = not f2.marked
+    v.clear_not_marked()
+    assert list(v) == [f, f2]
+    assert len(v) == 2
+    assert len(v._store) == 2
+
     v.clear()
     assert len(v) == 0
     assert len(v._store) == 0
