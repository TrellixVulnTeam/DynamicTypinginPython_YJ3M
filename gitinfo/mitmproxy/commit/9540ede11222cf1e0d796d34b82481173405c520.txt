commit 9540ede11222cf1e0d796d34b82481173405c520
Author: Shadab Zafar <dufferzafar0@gmail.com>
Date:   Fri Mar 4 01:05:35 2016 +0530

    Use separators param in json.dumps() to avoid trailing whitespace

diff --git a/mitmproxy/flow_export.py b/mitmproxy/flow_export.py
index 49e2d704..6333de57 100644
--- a/mitmproxy/flow_export.py
+++ b/mitmproxy/flow_export.py
@@ -58,7 +58,9 @@ def python_code(flow):
     if flow.request.body:
         json_obj = is_json(flow.request.headers, flow.request.body)
         if json_obj:
-            data = json.dumps(json_obj, indent=4)
+            # Without the separators field json.dumps() produces
+            # trailing white spaces: https://bugs.python.org/issue16333
+            data = json.dumps(json_obj, indent=4, separators=(',', ': '))
             data = "\njson = %s\n" % data
             args += "\n    json=json,"
         else:
