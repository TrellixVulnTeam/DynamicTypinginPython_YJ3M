commit 28551e96552bc3077d772f8459ddb74e9c0f5253
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Oct 23 15:24:59 2018 +0200

    use skip_windows decorator consistently

diff --git a/test/mitmproxy/test_certs.py b/test/mitmproxy/test_certs.py
index 884927cb..8421ec58 100644
--- a/test/mitmproxy/test_certs.py
+++ b/test/mitmproxy/test_certs.py
@@ -1,7 +1,6 @@
 import os
-import sys
-import pytest
 from mitmproxy import certs
+from ..conftest import skip_windows
 
 # class TestDNTree:
 #     def test_simple(self):
@@ -113,8 +112,7 @@ class TestCertStore:
         certs.CertStore.load_dhparam(filename)
         assert os.path.exists(filename)
 
-    @pytest.mark.skipif(sys.platform in ["win32", "cygwin"],
-                        reason="Unix file permissions are not applicable on Windows")
+    @skip_windows
     def test_umask_secret(self, tmpdir):
         filename = str(tmpdir.join("secret"))
         with certs.CertStore.umask_secret(), open(filename, "wb"):
