commit 17305643bc482c0b185eec5c64d506790cd26587
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sat Jul 16 11:48:16 2016 +1200

    console: don't let messages overwrite prompts
    
    This renders mitmproxy unresponsive and is bad UX as well.

diff --git a/mitmproxy/console/statusbar.py b/mitmproxy/console/statusbar.py
index 040ea26d..47cc99f8 100644
--- a/mitmproxy/console/statusbar.py
+++ b/mitmproxy/console/statusbar.py
@@ -28,9 +28,10 @@ class ActionBar(urwid.WidgetWrap):
         self.pathprompt = False
 
     def sig_message(self, sender, message, expire=None):
+        if self.prompting:
+            return
         w = urwid.Text(message)
         self._w = w
-        self.prompting = False
         if expire:
             def cb(*args):
                 if w == self._w:
