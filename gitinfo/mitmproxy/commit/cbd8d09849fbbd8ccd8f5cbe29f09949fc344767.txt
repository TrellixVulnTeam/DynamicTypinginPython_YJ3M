commit cbd8d09849fbbd8ccd8f5cbe29f09949fc344767
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Wed Aug 3 20:28:52 2011 +1200

    Miscelaneous doc updates.
    
        - Make typography less hideous.
        - Stub out the docs I'm about to write.

diff --git a/doc-src/02-docstyle.css b/doc-src/02-docstyle.css
index a971799f..7a7f49a4 100644
--- a/doc-src/02-docstyle.css
+++ b/doc-src/02-docstyle.css
@@ -8,7 +8,7 @@ a {
 #hd.doc {
     -x-system-font:none;
     font-family: Helvetica,Arial,Tahoma,Verdana,Sans-Serif;
-    color: #555555;
+    color: #444444;
     margin: 0;
     margin-bottom: 1em;
 }
@@ -16,7 +16,6 @@ a {
 #hd.doc h1 {
     letter-spacing: 3px;
     font-size: 2.5em;
-    line-height: 100%;
     margin: 0.3em 0;
     font-weight: normal;
 }
@@ -27,32 +26,34 @@ a {
 
 
 #bd {
-    -x-system-font:none;
-    font-family: Helvetica,Arial,Tahoma,Verdana,Sans-Serif;
-    font-size: 1.6em;
-    color: #555555;
+    font: 16px/21px "HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;
+    line-height: 1.5;
+    color: #444444;
+}
+
+#bd h1, #bd h2 {
+    font-family: "Georgia","Times New Roman",Helvetica,Arial,sans-serif;
+    font-weight: normal;
 }
 
 #bd h1 {
-    font-size: 1.4em;
-    border-bottom: 5px solid #ff7033;
+    font-size: 1.8em;
+    border-bottom: 2px solid #ff7033;
     margin-top: 5px;
     margin-bottom: 5px;
-    color: #000000;
+    color: #181818;
 }
 
 #bd h2 {
-    font-size: 1.1em;
+    font-size: 1.3em;
     border-bottom: 1px solid #cccccc;
     margin-top: 5px;
     margin-bottom: 5px;
-    color: #000000;
+    color: #181818;
 }
 
 #bd p {
     margin: 1em 0;
-
-
 }
 
 #ft.doc {
@@ -70,6 +71,8 @@ a {
 }
 
 pre {
+    font-size: 0.9em;
+    line-height: 1.4;
     padding: 10px;
     background-color: #dddddd;
     margin: 1em 0;
@@ -82,7 +85,9 @@ pre {
 
 }
 
-.docindex, .docindex ul {
+.docindex {
+    font-size: 1.3em;
+    line-height: 1.3;
     margin-top: 0.1em;
     margin-bottom: 0;
     margin-left: 0px;
@@ -95,6 +100,8 @@ pre {
 
 .docindex ul {
     margin-left: 2em;
+    margin-top: 0.1em;
+    margin-bottom: 0.1em;
 }
 
 li a {
diff --git a/doc-src/index.html b/doc-src/index.html
index 7f9df3d6..27bcc896 100644
--- a/doc-src/index.html
+++ b/doc-src/index.html
@@ -1,14 +1,27 @@
 
 <ul class="docindex">
     <li><a href="@!urlTo("intro.html")!@">Introduction</a></li>
-    <li><a href="@!urlTo("interception.html")!@">Interception</a></li>
-    <li><a href="@!urlTo("clientreplay.html")!@">Client-side replay</a></li>
-    <li><a href="@!urlTo("serverreplay.html")!@">Server-side replay</a></li>
-    <li><a href="@!urlTo("sticky.html")!@">Sticky cookies and auth</a></li>
-    <li><a href="@!urlTo("anticache.html")!@">Anticache</a></li>
-    <li><a href="@!urlTo("filters.html")!@">Filter expressions</a></li>
+    <li><a href="@!urlTo("mitmproxy.html")!@">mitmproxy</a></li>
+        <ul>
+            <li><a href="@!urlTo("mitmproxy/interception.html")!@">Interception</a></li>
+            <li><a href="@!urlTo("mitmproxy/encodings.html")!@">Encodings</a></li>
+            <li><a href="@!urlTo("mitmproxy/eventlog.html")!@">Event log</a></li>
+        </ul>
+    <li><a href="@!urlTo("mitmdump.html")!@">mitmdump</a></li>
+    <li>Features</li>
+    <ul>
+        <li><a href="@!urlTo("clientreplay.html")!@">Client-side replay</a></li>
+        <li><a href="@!urlTo("serverreplay.html")!@">Server-side replay</a></li>
+        <li><a href="@!urlTo("sticky.html")!@">Sticky cookies and auth</a></li>
+        <li><a href="@!urlTo("anticache.html")!@">Anticache</a></li>
+        <li><a href="@!urlTo("filters.html")!@">Filter expressions</a></li>
+    </ul>
     <li><a href="@!urlTo("scripts.html")!@">Scripting API</a></li>
-    <li><a href="@!urlTo("ssl.html")!@">SSL</a></li>
+        <ul>
+            <li><a href="@!urlTo("scripts/flows.html")!@">Introduction to flows</a></li>
+            <li><a href="@!urlTo("scripts/api.html")!@">API</a></li>
+        </ul>
+    <li><a href="@!urlTo("ssl.html")!@">SSL interception</a></li>
         <ul>
             <li><a href="@!urlTo("certinstall/firefox.html")!@">Firefox</a></li>
             <li><a href="@!urlTo("certinstall/osx.html")!@">OSX</a></li>
diff --git a/doc-src/index.py b/doc-src/index.py
index 07924e63..f98c2dcd 100644
--- a/doc-src/index.py
+++ b/doc-src/index.py
@@ -68,14 +68,17 @@ ns.filt_help = filt_help
 pages = [
     Page("index.html", "docs"),
     Page("intro.html", "Introduction"),
-    Page("interception.html", "Interception"),
+    Page("mitmproxy.html", "mitmproxy"),
+    Directory("mitmproxy"),
+    Page("mitmdump.html", "mitmdump"),
     Page("clientreplay.html", "Client-side replay"),
     Page("serverreplay.html", "Server-side replay"),
     Page("sticky.html", "Sticky cookies and auth"),
     Page("anticache.html", "Anticache"),
     Page("filters.html", "Filter expressions"),
     Page("scripts.html", "External scripts"),
-    Page("ssl.html", "SSL"),
+    Directory("scripts"),
+    Page("ssl.html", "SSL interception"),
     Directory("certinstall"),
     Page("library.html", "libmproxy: mitmproxy as a library"),
     Directory("tutorials"),
diff --git a/doc-src/mitmdump.html b/doc-src/mitmdump.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/mitmproxy.html b/doc-src/mitmproxy.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/mitmproxy/encodings.html b/doc-src/mitmproxy/encodings.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/mitmproxy/eventlog.html b/doc-src/mitmproxy/eventlog.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/mitmproxy/index.py b/doc-src/mitmproxy/index.py
new file mode 100644
index 00000000..d7e9717c
--- /dev/null
+++ b/doc-src/mitmproxy/index.py
@@ -0,0 +1,7 @@
+from countershape import Page
+
+pages = [
+    Page("interception.html", "Interception"),
+    Page("encodings.html", "Encodings"),
+    Page("eventlog.html", "Event log"),
+]
diff --git a/doc-src/interception.html b/doc-src/mitmproxy/interception.html
similarity index 100%
rename from doc-src/interception.html
rename to doc-src/mitmproxy/interception.html
diff --git a/doc-src/scripts/api.html b/doc-src/scripts/api.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/scripts/flows.html b/doc-src/scripts/flows.html
new file mode 100644
index 00000000..e69de29b
diff --git a/doc-src/scripts/index.py b/doc-src/scripts/index.py
new file mode 100644
index 00000000..805a17d9
--- /dev/null
+++ b/doc-src/scripts/index.py
@@ -0,0 +1,6 @@
+from countershape import Page
+
+pages = [
+    Page("flows.html", "Introduction to flows"),
+    Page("api.html", "API"),
+]
