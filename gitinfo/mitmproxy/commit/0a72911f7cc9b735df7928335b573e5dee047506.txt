commit 0a72911f7cc9b735df7928335b573e5dee047506
Author: Matthew Shao <me@matshao.com>
Date:   Thu Jan 11 09:01:51 2018 +0800

    Fix #2766.

diff --git a/mitmproxy/addons/clientplayback.py b/mitmproxy/addons/clientplayback.py
index 3fd96669..2dd488b9 100644
--- a/mitmproxy/addons/clientplayback.py
+++ b/mitmproxy/addons/clientplayback.py
@@ -35,6 +35,9 @@ class ClientPlayback:
         """
             Replay requests from flows.
         """
+        for f in flows:
+            if f.live:
+                raise exceptions.CommandError("Can't replay live flow.")
         self.flows = list(flows)
         ctx.log.alert("Replaying %s flows." % len(self.flows))
         ctx.master.addons.trigger("update", [])
