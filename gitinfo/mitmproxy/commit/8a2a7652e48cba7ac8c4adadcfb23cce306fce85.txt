commit 8a2a7652e48cba7ac8c4adadcfb23cce306fce85
Author: Jesson Soto Ventura <jessonsotoventura@gmail.com>
Date:   Mon Jul 22 23:14:56 2019 -0400

    Edit URL now opens the external editor

diff --git a/mitmproxy/tools/console/consoleaddons.py b/mitmproxy/tools/console/consoleaddons.py
index a40cdeaa..6ec419fc 100644
--- a/mitmproxy/tools/console/consoleaddons.py
+++ b/mitmproxy/tools/console/consoleaddons.py
@@ -428,7 +428,12 @@ class ConsoleAddon:
             message.content = c.rstrip(b"\n")
         elif part == "set-cookies":
             self.master.switch_view("edit_focus_setcookies")
-        elif part in ["url", "method", "status_code", "reason"]:
+        elif part == "url":
+            url = flow.request.url.encode()
+            edited_url = self.master.spawn_editor(url)
+            url = edited_url.rstrip(b"\n")
+            flow.request.url = url.decode()
+        elif part in ["method", "status_code", "reason"]:
             self.master.commands.execute(
                 "console.command flow.set @focus %s " % part
             )
