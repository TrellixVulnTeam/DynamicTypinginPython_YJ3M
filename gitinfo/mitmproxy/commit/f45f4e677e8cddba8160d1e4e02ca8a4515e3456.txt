commit f45f4e677e8cddba8160d1e4e02ca8a4515e3456
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Thu Oct 20 10:11:58 2016 +1300

    netlib.strutils -> mitmproxy.utils.strutils

diff --git a/examples/custom_contentviews.py b/examples/custom_contentviews.py
index 5a63e2a0..3558eaca 100644
--- a/examples/custom_contentviews.py
+++ b/examples/custom_contentviews.py
@@ -2,7 +2,7 @@ import string
 import lxml.html
 import lxml.etree
 from mitmproxy import contentviews
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 
 class ViewPigLatin(contentviews.View):
diff --git a/examples/har_dump.py b/examples/har_dump.py
index deed2e70..d01e6cdd 100644
--- a/examples/har_dump.py
+++ b/examples/har_dump.py
@@ -15,7 +15,7 @@ import pytz
 import mitmproxy
 
 from mitmproxy import version
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib.http import cookies
 
 HAR = {}
diff --git a/examples/tcp_message.py b/examples/tcp_message.py
index b431c23f..d7c9c42e 100644
--- a/examples/tcp_message.py
+++ b/examples/tcp_message.py
@@ -8,7 +8,7 @@ tcp_message Inline Script Hook API Demonstration
 example cmdline invocation:
 mitmdump -T --host --tcp ".*" -q -s examples/tcp_message.py
 """
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 
 def tcp_message(tcp_msg):
diff --git a/mitmproxy/addons/dumper.py b/mitmproxy/addons/dumper.py
index 013fa337..d690c000 100644
--- a/mitmproxy/addons/dumper.py
+++ b/mitmproxy/addons/dumper.py
@@ -9,7 +9,7 @@ from mitmproxy import ctx
 from mitmproxy import exceptions
 from mitmproxy import flowfilter
 from mitmproxy.utils import human
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 
 def indent(n, text):
diff --git a/mitmproxy/addons/serverplayback.py b/mitmproxy/addons/serverplayback.py
index 1161ce23..0b52918c 100644
--- a/mitmproxy/addons/serverplayback.py
+++ b/mitmproxy/addons/serverplayback.py
@@ -1,7 +1,7 @@
 import urllib
 import hashlib
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 from mitmproxy import exceptions
 from mitmproxy import ctx
 from mitmproxy import io
diff --git a/mitmproxy/contentviews.py b/mitmproxy/contentviews.py
index 9a70b104..07bf09f5 100644
--- a/mitmproxy/contentviews.py
+++ b/mitmproxy/contentviews.py
@@ -35,7 +35,7 @@ from mitmproxy import exceptions
 from mitmproxy.contrib.wbxml import ASCommandResponse
 from netlib import http
 from netlib import multidict
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib.http import url
 
 try:
diff --git a/mitmproxy/flowfilter.py b/mitmproxy/flowfilter.py
index f1454fd1..ee5224c6 100644
--- a/mitmproxy/flowfilter.py
+++ b/mitmproxy/flowfilter.py
@@ -40,7 +40,7 @@ from mitmproxy import http
 from mitmproxy import tcp
 from mitmproxy import flow
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 import pyparsing as pp
 from typing import Callable
diff --git a/mitmproxy/io_compat.py b/mitmproxy/io_compat.py
index 7f8f41b3..68c747ea 100644
--- a/mitmproxy/io_compat.py
+++ b/mitmproxy/io_compat.py
@@ -5,7 +5,7 @@ This module handles the import of mitmproxy flows generated by old versions.
 from typing import Any
 
 from mitmproxy import version
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 
 def convert_011_012(data):
diff --git a/mitmproxy/proxy/config.py b/mitmproxy/proxy/config.py
index 201dfdf7..a6fc739b 100644
--- a/mitmproxy/proxy/config.py
+++ b/mitmproxy/proxy/config.py
@@ -4,7 +4,7 @@ import os
 import re
 from typing import Any
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 from OpenSSL import SSL, crypto
 
diff --git a/mitmproxy/proxy/protocol/websockets.py b/mitmproxy/proxy/protocol/websockets.py
index 816ec92d..636748a1 100644
--- a/mitmproxy/proxy/protocol/websockets.py
+++ b/mitmproxy/proxy/protocol/websockets.py
@@ -4,7 +4,7 @@ import struct
 from OpenSSL import SSL
 from mitmproxy import exceptions
 from mitmproxy.proxy.protocol import base
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib import tcp
 from netlib import websockets
 
diff --git a/mitmproxy/tools/console/grideditor/col_bytes.py b/mitmproxy/tools/console/grideditor/col_bytes.py
index c951ce44..f580e947 100644
--- a/mitmproxy/tools/console/grideditor/col_bytes.py
+++ b/mitmproxy/tools/console/grideditor/col_bytes.py
@@ -4,7 +4,7 @@ from typing import Callable, Optional
 import urwid
 from mitmproxy.tools.console import signals
 from mitmproxy.tools.console.grideditor import base
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 
 def read_file(filename: str, callback: Callable[..., None], escaped: bool) -> Optional[str]:
diff --git a/mitmproxy/tools/console/master.py b/mitmproxy/tools/console/master.py
index 3cc721b2..7ff0026e 100644
--- a/mitmproxy/tools/console/master.py
+++ b/mitmproxy/tools/console/master.py
@@ -35,7 +35,9 @@ from mitmproxy.tools.console import signals
 from mitmproxy.tools.console import statusbar
 from mitmproxy.tools.console import window
 from mitmproxy.flowfilter import FMarked
-from netlib import tcp, strutils
+from mitmproxy.utils import strutils
+
+from netlib import tcp
 
 EVENTLOG_SIZE = 500
 
diff --git a/netlib/strutils.py b/mitmproxy/utils/strutils.py
similarity index 100%
rename from netlib/strutils.py
rename to mitmproxy/utils/strutils.py
diff --git a/netlib/http/headers.py b/netlib/http/headers.py
index 39673f1a..6c30d278 100644
--- a/netlib/http/headers.py
+++ b/netlib/http/headers.py
@@ -2,7 +2,7 @@ import re
 
 import collections
 from netlib import multidict
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 # See also: http://lucumr.pocoo.org/2013/7/2/the-updated-guide-to-unicode/
 
diff --git a/netlib/http/message.py b/netlib/http/message.py
index 1980b0ab..133a53ce 100644
--- a/netlib/http/message.py
+++ b/netlib/http/message.py
@@ -2,7 +2,9 @@ import re
 import warnings
 from typing import Optional
 
-from netlib import encoding, strutils, basetypes
+from mitmproxy.utils import strutils
+from netlib import encoding
+from netlib import basetypes
 from netlib.http import headers
 
 
diff --git a/netlib/http/request.py b/netlib/http/request.py
index dd6f4164..3479fa4c 100644
--- a/netlib/http/request.py
+++ b/netlib/http/request.py
@@ -2,7 +2,7 @@ import re
 import urllib
 
 from netlib import multidict
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib.http import multipart
 from netlib.http import cookies
 from netlib.http import headers as nheaders
diff --git a/netlib/tcp.py b/netlib/tcp.py
index aeb1d447..aed79388 100644
--- a/netlib/tcp.py
+++ b/netlib/tcp.py
@@ -10,7 +10,7 @@ import binascii
 
 from typing import Optional  # noqa
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 import certifi
 from backports import ssl_match_hostname
diff --git a/netlib/websockets/frame.py b/netlib/websockets/frame.py
index 02d74112..e022a95c 100644
--- a/netlib/websockets/frame.py
+++ b/netlib/websockets/frame.py
@@ -3,7 +3,7 @@ import struct
 import io
 
 from netlib import tcp
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib import utils
 from mitmproxy.utils import human
 from .masker import Masker
diff --git a/netlib/websockets/utils.py b/netlib/websockets/utils.py
index fdec074e..98043662 100644
--- a/netlib/websockets/utils.py
+++ b/netlib/websockets/utils.py
@@ -8,7 +8,8 @@ import base64
 import hashlib
 import os
 
-from netlib import http, strutils
+from netlib import http
+from mitmproxy.utils import strutils
 
 MAGIC = b'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'
 VERSION = "13"
diff --git a/netlib/wsgi.py b/netlib/wsgi.py
index 11e4aba9..5a54cd70 100644
--- a/netlib/wsgi.py
+++ b/netlib/wsgi.py
@@ -3,7 +3,9 @@ import traceback
 import urllib
 import io
 
-from netlib import http, tcp, strutils
+from netlib import http
+from netlib import tcp
+from mitmproxy.utils import strutils
 
 
 class ClientConn:
diff --git a/pathod/language/base.py b/pathod/language/base.py
index 7410bbd4..44a888c0 100644
--- a/pathod/language/base.py
+++ b/pathod/language/base.py
@@ -4,7 +4,7 @@ import abc
 import functools
 import pyparsing as pp
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 from mitmproxy.utils import human
 
 from . import generators, exceptions
diff --git a/pathod/language/message.py b/pathod/language/message.py
index 03b4a2cf..6cdaaa0b 100644
--- a/pathod/language/message.py
+++ b/pathod/language/message.py
@@ -1,6 +1,6 @@
 import abc
 from . import actions, exceptions
-from netlib import strutils
+from mitmproxy.utils import strutils
 
 LOG_TRUNCATE = 1024
 
diff --git a/pathod/language/websockets.py b/pathod/language/websockets.py
index 417944af..d2291f82 100644
--- a/pathod/language/websockets.py
+++ b/pathod/language/websockets.py
@@ -1,7 +1,7 @@
 import random
 import string
 import netlib.websockets
-from netlib import strutils
+from mitmproxy.utils import strutils
 import pyparsing as pp
 from . import base, generators, actions, message
 
diff --git a/pathod/log.py b/pathod/log.py
index 0d1bca41..4e5f355f 100644
--- a/pathod/log.py
+++ b/pathod/log.py
@@ -1,6 +1,6 @@
 import time
 
-from netlib import strutils
+from mitmproxy.utils import strutils
 from mitmproxy.utils import human
 
 
diff --git a/pathod/pathoc.py b/pathod/pathoc.py
index e9fa5c43..0cf08a60 100644
--- a/pathod/pathoc.py
+++ b/pathod/pathoc.py
@@ -12,7 +12,7 @@ import OpenSSL.crypto
 import logging
 
 from netlib.tutils import treq
-from netlib import strutils
+from mitmproxy.utils import strutils
 from netlib import tcp, certutils, websockets, socks
 from netlib import exceptions
 from netlib.http import http1
diff --git a/test/netlib/test_strutils.py b/test/mitmproxy/test_utils_strutils.py
similarity index 98%
rename from test/netlib/test_strutils.py
rename to test/mitmproxy/test_utils_strutils.py
index 36f709da..2843688f 100644
--- a/test/netlib/test_strutils.py
+++ b/test/mitmproxy/test_utils_strutils.py
@@ -1,4 +1,5 @@
-from netlib import strutils, tutils
+from mitmproxy.utils import strutils
+from netlib import tutils
 
 
 def test_always_bytes():
