commit 41e6e538dfa758b7d9f867f85f62e881ae408684
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Aug 31 13:49:47 2015 +0200

    fix layer initialization

diff --git a/libmproxy/protocol/base.py b/libmproxy/protocol/base.py
index d1af547f..4eb843e4 100644
--- a/libmproxy/protocol/base.py
+++ b/libmproxy/protocol/base.py
@@ -61,8 +61,8 @@ class Layer(_LayerCodeCompletion):
         Args:
             ctx: The (read-only) higher layer.
         """
-        super(Layer, self).__init__(*args, **kwargs)
         self.ctx = ctx
+        super(Layer, self).__init__(*args, **kwargs)
 
     def __call__(self):
         """
