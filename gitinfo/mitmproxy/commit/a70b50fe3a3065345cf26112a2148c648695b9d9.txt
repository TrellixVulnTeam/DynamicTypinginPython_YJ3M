commit a70b50fe3a3065345cf26112a2148c648695b9d9
Author: Aldo Cortesi <aldo@corte.si>
Date:   Sat May 12 11:05:01 2018 +1200

    console: implement positions for flow list walker
    
    This papers over an urwid bug until they fix it.
    
    fixes #2973

diff --git a/mitmproxy/tools/console/flowlist.py b/mitmproxy/tools/console/flowlist.py
index e6bd1693..a9e48af4 100644
--- a/mitmproxy/tools/console/flowlist.py
+++ b/mitmproxy/tools/console/flowlist.py
@@ -39,6 +39,14 @@ class FlowListWalker(urwid.ListWalker):
     def __init__(self, master):
         self.master = master
 
+    def positions(self, reverse=False):
+        # The stub implementation of positions can go once this issue is resolved:
+        # https://github.com/urwid/urwid/issues/294
+        ret = range(len(self.master.view))
+        if reverse:
+            return reversed(ret)
+        return ret
+
     def view_changed(self):
         self._modified()
 
