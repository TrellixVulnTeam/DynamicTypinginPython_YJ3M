commit e9c2c0ac3a845078ee908ecc6997e24b9f8fe291
Author: Tomaz Muraus <tomaz@tomaz.me>
Date:   Fri Jan 3 21:03:58 2014 +0100

    Migrate from Pil to the latest version of Pillow.

diff --git a/libmproxy/console/contentview.py b/libmproxy/console/contentview.py
index 8dd8ad1d..962b49de 100644
--- a/libmproxy/console/contentview.py
+++ b/libmproxy/console/contentview.py
@@ -1,11 +1,8 @@
 import re, cStringIO, traceback, json
 import urwid
 
-try: from PIL import Image
-except ImportError: import Image
-
-try: from PIL.ExifTags import TAGS
-except ImportError: from ExifTags import TAGS
+from PIL import Image
+from PIL.ExifTags import TAGS
 
 import lxml.html, lxml.etree
 import netlib.utils
diff --git a/requirements.txt b/requirements.txt
index ff149240..52add126 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -1,7 +1,7 @@
 Flask>=0.9
 Jinja2>=2.7
 MarkupSafe>=0.18
-PIL>=1.1.7
+Pillow>=2.3.0,<2.4
 Werkzeug>=0.8.3
 lxml>=3.2.1
 netlib>=0.9.2
@@ -13,4 +13,4 @@ pyasn1>=0.1.7
 requests>=1.2.2
 urwid>=1.1.1
 wsgiref>=0.1.2
-jsbeautifier>=1.4.0
\ No newline at end of file
+jsbeautifier>=1.4.0
diff --git a/setup.py b/setup.py
index 8dbc6135..3c126a0e 100644
--- a/setup.py
+++ b/setup.py
@@ -97,7 +97,7 @@ setup(
             "urwid>=1.1",
             "pyasn1>0.1.2",
             "pyopenssl>=0.13",
-            "PIL",
+            "Pillow>=2.3.0,<2.4",
             "lxml",
             "flask"
         ],
