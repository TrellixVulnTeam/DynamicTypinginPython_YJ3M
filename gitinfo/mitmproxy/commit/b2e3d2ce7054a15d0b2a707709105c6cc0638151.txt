commit b2e3d2ce7054a15d0b2a707709105c6cc0638151
Author: Marcelo Glezer <marcelo.glezer@gmail.com>
Date:   Sun Oct 11 00:42:46 2015 -0300

    headers enumartion was failing in copy as curl and protocol was None when copy to clipboard was called. first wip fix

diff --git a/libmproxy/console/common.py b/libmproxy/console/common.py
index 540a96a3..ff820987 100644
--- a/libmproxy/console/common.py
+++ b/libmproxy/console/common.py
@@ -242,7 +242,7 @@ def ask_save_path(prompt, data):
     signals.status_prompt_path.send(
         prompt = prompt,
         callback = ask_save_overwrite,
-        args =  (data, ) 
+        args =  (data, )
     )
 
 
@@ -282,7 +282,7 @@ def copy_as_curl_command(flow):
         return None, "Request content is missing"
 
     headerString = ""
-    for k,v in flow.request.headers:
+    for k,v in flow.request.headers.fields:
       headerString += " -H '" + k + ":" + v + "' "
 
     data = "curl"
