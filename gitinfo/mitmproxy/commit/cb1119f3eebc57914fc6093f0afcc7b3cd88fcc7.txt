commit cb1119f3eebc57914fc6093f0afcc7b3cd88fcc7
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Apr 29 20:58:51 2016 -0700

    fix bugs introduced in 317b4be

diff --git a/mitmproxy/flow.py b/mitmproxy/flow.py
index 555c6895..d05aabbb 100644
--- a/mitmproxy/flow.py
+++ b/mitmproxy/flow.py
@@ -845,7 +845,9 @@ class FlowMaster(controller.ServerMaster):
         return super(FlowMaster, self).tick(timeout)
 
     def duplicate_flow(self, f):
-        return self.load_flow(f.copy())
+        f2 = f.copy()
+        self.load_flow(f2)
+        return f2
 
     def create_request(self, method, scheme, host, port, path):
         """
@@ -869,7 +871,8 @@ class FlowMaster(controller.ServerMaster):
             b""
         )
         f.request = req
-        return self.load_flow(f)
+        self.load_flow(f)
+        return f
 
     def load_flow(self, f):
         """
