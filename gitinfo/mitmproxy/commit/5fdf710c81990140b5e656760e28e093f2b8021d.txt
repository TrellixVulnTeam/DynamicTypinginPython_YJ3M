commit 5fdf710c81990140b5e656760e28e093f2b8021d
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Wed Apr 4 19:46:39 2012 +1200

    Always use ODictCaseless for headers.

diff --git a/libmproxy/console/flowview.py b/libmproxy/console/flowview.py
index 024a7ee1..f84b6b84 100644
--- a/libmproxy/console/flowview.py
+++ b/libmproxy/console/flowview.py
@@ -295,7 +295,7 @@ class FlowView(common.WWrap):
         self.master.refresh_flow(self.flow)
 
     def set_headers(self, lst, conn):
-        conn.headers = flow.ODict(lst)
+        conn.headers = flow.ODictCaseless(lst)
 
     def set_query(self, lst, conn):
         conn.set_query(flow.ODict(lst))
@@ -317,7 +317,7 @@ class FlowView(common.WWrap):
             conn = self.flow.request
         else:
             if not self.flow.response:
-                self.flow.response = flow.Response(self.flow.request, 200, "OK", flow.ODict(), "")
+                self.flow.response = flow.Response(self.flow.request, 200, "OK", flow.ODictCaseless(), "")
             conn = self.flow.response
 
         self.flow.backup()
