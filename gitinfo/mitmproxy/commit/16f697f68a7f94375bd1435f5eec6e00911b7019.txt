commit 16f697f68a7f94375bd1435f5eec6e00911b7019
Author: Thomas Kriechbaumer <thomas@kriechbaumer.name>
Date:   Thu Aug 20 10:26:43 2015 +0200

    http2: disable features we do not support yet

diff --git a/netlib/http/http2/protocol.py b/netlib/http/http2/protocol.py
index bf0b364f..cf46a130 100644
--- a/netlib/http/http2/protocol.py
+++ b/netlib/http/http2/protocol.py
@@ -225,7 +225,11 @@ class HTTP2Protocol(semantics.ProtocolMixin):
             magic = self.tcp_handler.rfile.safe_read(magic_length)
             assert magic == self.CLIENT_CONNECTION_PREFACE
 
-            self.send_frame(frame.SettingsFrame(state=self), hide=True)
+            frm = frame.SettingsFrame(state=self, settings={
+                frame.SettingsFrame.SETTINGS.SETTINGS_ENABLE_PUSH: 0,
+                frame.SettingsFrame.SETTINGS.SETTINGS_MAX_CONCURRENT_STREAMS: 1,
+            })
+            self.send_frame(frm, hide=True)
             self._receive_settings(hide=True)
 
     def perform_client_connection_preface(self, force=False):
