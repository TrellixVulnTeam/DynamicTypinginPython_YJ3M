commit 552146d015d433226ae50e4a00c4f8b89b8d16aa
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Mar 18 09:22:43 2012 +1300

    Move mitmproxy reverse proxy shortcut to "P".
    
    Also don't expose help from the help screen.

diff --git a/libmproxy/console/__init__.py b/libmproxy/console/__init__.py
index b600cf93..ff059d96 100644
--- a/libmproxy/console/__init__.py
+++ b/libmproxy/console/__init__.py
@@ -148,7 +148,7 @@ class StatusBar(common.WWrap):
             r.append(":%s]"%self.master.stickyauth_txt)
         if self.master.server and self.master.server.config.reverse_proxy:
             r.append("[")
-            r.append(("heading_key", "R"))
+            r.append(("heading_key", "P"))
             r.append(":%s]"%utils.unparse_url(*self.master.server.config.reverse_proxy))
 
         opts = []
@@ -771,7 +771,7 @@ class ConsoleMaster(flow.FlowMaster):
                                     ),
                                     self.quit,
                                 )
-                            elif k == "R":
+                            elif k == "P":
                                 if self.server.config.reverse_proxy:
                                     p = utils.unparse_url(*self.server.config.reverse_proxy)
                                 else:
diff --git a/libmproxy/console/help.py b/libmproxy/console/help.py
index 9509386b..8db3efd0 100644
--- a/libmproxy/console/help.py
+++ b/libmproxy/console/help.py
@@ -34,6 +34,8 @@ class HelpView(urwid.ListBox):
             self.master.header = self.state[2]
             self.master.make_view()
             return None
+        elif key == "?":
+            key = None
         return urwid.ListBox.keypress(self, size, key)
 
     def helptext(self):
@@ -76,7 +78,7 @@ class HelpView(urwid.ListBox):
 
             ("q", "quit / return to flow list"),
             ("Q", "quit without confirm prompt"),
-            ("R", "set reverse proxy mode"),
+            ("P", "set reverse proxy mode"),
             ("s", "set/unset script"),
             ("S", "server replay"),
             ("t", "set sticky cookie expression"),
diff --git a/libmproxy/dump.py b/libmproxy/dump.py
index 59eafd4c..253a22d7 100644
--- a/libmproxy/dump.py
+++ b/libmproxy/dump.py
@@ -146,7 +146,6 @@ class DumpMaster(flow.FlowMaster):
 
     def handle_request(self, r):
         f = flow.FlowMaster.handle_request(self, r)
-        self.add_event("Request: %s"%str_request(r))
         if f:
             r._ack()
         return f
