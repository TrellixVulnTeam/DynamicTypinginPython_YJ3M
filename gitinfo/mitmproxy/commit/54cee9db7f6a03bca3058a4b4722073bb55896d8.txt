commit 54cee9db7f6a03bca3058a4b4722073bb55896d8
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Fri Sep 14 09:40:13 2012 +1200

    Catch a potential exception on connection finalization.

diff --git a/libmproxy/proxy.py b/libmproxy/proxy.py
index a258b941..4c216d11 100644
--- a/libmproxy/proxy.py
+++ b/libmproxy/proxy.py
@@ -418,7 +418,10 @@ class ProxyServer(tcp.TCPServer):
     def handle_connection(self, request, client_address):
         h = ProxyHandler(self.config, request, client_address, self, self.masterq, self.server_version)
         h.handle()
-        h.finish()
+        try:
+            h.finish()
+        except tcp.NetLibDisconnect, e:
+            pass
 
     def handle_shutdown(self):
         try:
