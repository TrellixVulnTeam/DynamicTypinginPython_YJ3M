commit 73692b909b6723a2fb25b4ef38e343c0cf0b57f3
Author: Ujjwal Verma <ujjwalverma1111@gmail.com>
Date:   Sat Apr 22 11:24:22 2017 +0530

    Fixed formatting in mitmdump

diff --git a/mitmproxy/addons/dumper.py b/mitmproxy/addons/dumper.py
index ca0d32d3..5fd8408f 100644
--- a/mitmproxy/addons/dumper.py
+++ b/mitmproxy/addons/dumper.py
@@ -102,7 +102,7 @@ class Dumper:
         if flow.client_conn:
             client = click.style(
                 strutils.escape_control_characters(
-                    repr(flow.client_conn.address)
+                    human.format_address(flow.client_conn.address)
                 )
             )
         elif flow.request.is_replay:
diff --git a/mitmproxy/tools/console/flowdetailview.py b/mitmproxy/tools/console/flowdetailview.py
index 30eaea90..9ed063bc 100644
--- a/mitmproxy/tools/console/flowdetailview.py
+++ b/mitmproxy/tools/console/flowdetailview.py
@@ -30,9 +30,10 @@ def flowdetails(state, flow: http.HTTPFlow):
     if sc is not None:
         text.append(urwid.Text([("head", "Server Connection:")]))
         parts = [
-            ["Address", "{}".format(human.format_address(sc.address))],
-            ["Resolved Address", "{}".format(human.format_address(sc.ip_address))],
+            ["Address", human.format_address(sc.address)],
         ]
+        if sc.ip_address:
+            parts.append(["Resolved Address", human.format_address(sc.ip_address)])
         if resp:
             parts.append(["HTTP Version", resp.http_version])
         if sc.alpn_proto_negotiated:
