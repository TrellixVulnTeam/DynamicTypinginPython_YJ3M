commit c2828de4a14c2b4a13279eda878ba3d7a1f43cbb
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Feb 17 17:25:45 2014 +0100

    fix bug: ensure that server connection is present for tcp connections

diff --git a/libmproxy/protocol/tcp.py b/libmproxy/protocol/tcp.py
index 406a6f7b..df7e6692 100644
--- a/libmproxy/protocol/tcp.py
+++ b/libmproxy/protocol/tcp.py
@@ -9,6 +9,7 @@ class TCPHandler(ProtocolHandler):
     Data will be .log()ed, but not stored any further.
     """
     def handle_messages(self):
+        self.c.establish_server_connection()
         conns = [self.c.client_conn.rfile, self.c.server_conn.rfile]
         while not self.c.close:
             r, _, _ = select.select(conns, [], [], 10)
