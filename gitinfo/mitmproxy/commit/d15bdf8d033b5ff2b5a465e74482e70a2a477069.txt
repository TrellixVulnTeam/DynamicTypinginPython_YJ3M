commit d15bdf8d033b5ff2b5a465e74482e70a2a477069
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Dec 29 21:55:05 2017 +0100

    fix appveyor build script
    
    we now have a module named "types",
    which of course confuses Python 3.5. O:-)

diff --git a/.appveyor.yml b/.appveyor.yml
index 7ef9d8b8..a05f33d6 100644
--- a/.appveyor.yml
+++ b/.appveyor.yml
@@ -34,7 +34,7 @@ install:
 test_script:
   - ps: "tox -- --verbose --cov-report=term"
   - ps: |
-      $Env:VERSION = $(python mitmproxy/version.py)
+      $Env:VERSION = $(python -m mitmproxy.version)
       $Env:SKIP_MITMPROXY = "python -c `"print('skip mitmproxy')`""
       tox -e rtool -- wheel
       tox -e rtool -- bdist
diff --git a/mitmproxy/__init__.py b/mitmproxy/__init__.py
index 9697de87..e69de29b 100644
--- a/mitmproxy/__init__.py
+++ b/mitmproxy/__init__.py
@@ -1,3 +0,0 @@
-# https://github.com/mitmproxy/mitmproxy/issues/1809
-# import script here so that pyinstaller registers it.
-from . import script  # noqa
diff --git a/release/hooks/hook-mitmproxy.py b/release/hooks/hook-mitmproxy.py
new file mode 100644
index 00000000..21932507
--- /dev/null
+++ b/release/hooks/hook-mitmproxy.py
@@ -0,0 +1 @@
+hiddenimports = ["mitmproxy.script"]
