commit 26af9b29fc3fed60a003d097b3470e85115b2161
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sat Oct 15 18:25:18 2016 -0700

    fix #1611

diff --git a/mitmproxy/protocol/http_replay.py b/mitmproxy/protocol/http_replay.py
index 5e527f1d..0f027431 100644
--- a/mitmproxy/protocol/http_replay.py
+++ b/mitmproxy/protocol/http_replay.py
@@ -98,11 +98,9 @@ class RequestReplayThread(basethread.BaseThread):
         except exceptions.Kill:
             # Kill should only be raised if there's a channel in the
             # first place.
-            from ..proxy.root_context import Log
-            self.channel.tell("log", Log("Connection killed", "info"))
+            self.channel.tell("log", controller.LogEntry("Connection killed", "info"))
         except Exception:
-            from ..proxy.root_context import Log
-            self.channel.tell("log", Log(traceback.format_exc(), "error"))
+            self.channel.tell("log", controller.LogEntry(traceback.format_exc(), "error"))
         finally:
             r.first_line_format = first_line_format_backup
             self.flow.live = False
