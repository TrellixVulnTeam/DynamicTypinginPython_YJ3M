commit 2f813fa74818bcaaca8b0182eda004ea91a0d504
Author: Henrik Nordstrom <henrik@henriknordstrom.net>
Date:   Thu Feb 3 23:28:24 2011 +0100

    Messages may need to stay in the controller for considerable
    amount of time. Don't use a timeout waiting for the controller response.
    Example where this happens is intercepted flows.

diff --git a/libmproxy/controller.py b/libmproxy/controller.py
index ddfbe7f1..ec1342de 100644
--- a/libmproxy/controller.py
+++ b/libmproxy/controller.py
@@ -31,7 +31,7 @@ class Msg:
         self.acked = False
         try:
             masterq.put(self, timeout=3)
-            return self.q.get(timeout=3)
+            return self.q.get()
         except (Queue.Empty, Queue.Full):
             return None
 
