commit 62176142043efb814608c61edf1e18f91eb7a13f
Author: strohu <stevenroberthunter@gmail.com>
Date:   Tue Jul 12 13:18:58 2016 +0100

    Fix is_ascii check when determining next layer

diff --git a/mitmproxy/proxy/root_context.py b/mitmproxy/proxy/root_context.py
index 57183c7e..4d6509d4 100644
--- a/mitmproxy/proxy/root_context.py
+++ b/mitmproxy/proxy/root_context.py
@@ -100,7 +100,7 @@ class RootContext(object):
         is_ascii = (
             len(d) == 3 and
             # expect A-Za-z
-            all(65 <= x <= 90 and 97 <= x <= 122 for x in six.iterbytes(d))
+            all(65 <= x <= 90 or 97 <= x <= 122 for x in six.iterbytes(d))
         )
         if self.config.rawtcp and not is_ascii:
             return protocol.RawTCPLayer(top_layer)
