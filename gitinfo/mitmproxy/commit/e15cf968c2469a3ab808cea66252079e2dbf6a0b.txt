commit e15cf968c2469a3ab808cea66252079e2dbf6a0b
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Thu Jul 21 15:51:12 2016 +1200

    console: nopop, rheaders into Options

diff --git a/mitmproxy/console/flowlist.py b/mitmproxy/console/flowlist.py
index 1af7d00f..53e934f1 100644
--- a/mitmproxy/console/flowlist.py
+++ b/mitmproxy/console/flowlist.py
@@ -152,8 +152,8 @@ class ConnectionItem(urwid.WidgetWrap):
         if k == "a":
             self.master.start_server_playback(
                 [i.copy() for i in self.master.state.view],
-                self.master.options.kill, self.master.rheaders,
-                False, self.master.nopop,
+                self.master.options.kill, self.master.options.rheaders,
+                False, self.master.options.nopop,
                 self.master.options.replay_ignore_params,
                 self.master.options.replay_ignore_content,
                 self.master.options.replay_ignore_payload_params,
@@ -162,8 +162,8 @@ class ConnectionItem(urwid.WidgetWrap):
         elif k == "t":
             self.master.start_server_playback(
                 [self.flow.copy()],
-                self.master.options.kill, self.master.rheaders,
-                False, self.master.nopop,
+                self.master.options.kill, self.master.options.rheaders,
+                False, self.master.options.nopop,
                 self.master.options.replay_ignore_params,
                 self.master.options.replay_ignore_content,
                 self.master.options.replay_ignore_payload_params,
diff --git a/mitmproxy/console/master.py b/mitmproxy/console/master.py
index 9b68f732..4fd6cb78 100644
--- a/mitmproxy/console/master.py
+++ b/mitmproxy/console/master.py
@@ -221,8 +221,6 @@ class ConsoleMaster(flow.FlowMaster):
 
         self.set_stream_large_bodies(options.stream_large_bodies)
 
-        self.rheaders = options.rheaders
-        self.nopop = options.nopop
         self.palette = options.palette
         self.palette_transparent = options.palette_transparent
 
@@ -370,8 +368,8 @@ class ConsoleMaster(flow.FlowMaster):
         if flows:
             self.start_server_playback(
                 flows,
-                self.options.kill, self.rheaders,
-                False, self.nopop,
+                self.options.kill, self.options.rheaders,
+                False, self.options.nopop,
                 self.options.replay_ignore_params,
                 self.options.replay_ignore_content,
                 self.options.replay_ignore_payload_params,
diff --git a/mitmproxy/console/statusbar.py b/mitmproxy/console/statusbar.py
index ee9adcfa..3120fa71 100644
--- a/mitmproxy/console/statusbar.py
+++ b/mitmproxy/console/statusbar.py
@@ -151,7 +151,7 @@ class StatusBar(urwid.WidgetWrap):
         if self.master.server_playback:
             r.append("[")
             r.append(("heading_key", "splayback"))
-            if self.master.nopop:
+            if self.master.options.nopop:
                 r.append(":%s in file]" % self.master.server_playback.count())
             else:
                 r.append(":%s to go]" % self.master.server_playback.count())
