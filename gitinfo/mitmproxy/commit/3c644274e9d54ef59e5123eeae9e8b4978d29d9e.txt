commit 3c644274e9d54ef59e5123eeae9e8b4978d29d9e
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sun May 8 16:49:36 2016 -0600

    mitmdump: make sure to always call done() in inline scripts

diff --git a/mitmproxy/dump.py b/mitmproxy/dump.py
index c308adf0..a077438b 100644
--- a/mitmproxy/dump.py
+++ b/mitmproxy/dump.py
@@ -346,5 +346,6 @@ class DumpMaster(flow.FlowMaster):
 
     def run(self):  # pragma: no cover
         if self.o.rfile and not self.o.keepserving:
+            self.shutdown()  # We need to manually call .shutdown() here, e.g. to trigger script unload events.
             return
         super(DumpMaster, self).run()
\ No newline at end of file
