commit ff53e7a6ebc878b0a8557112d070d8ca6e91562d
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue May 3 19:54:16 2016 -0700

    scripts: allow package imports

diff --git a/mitmproxy/script/script.py b/mitmproxy/script/script.py
index 5a8334c4..4d0f73fa 100644
--- a/mitmproxy/script/script.py
+++ b/mitmproxy/script/script.py
@@ -74,6 +74,7 @@ class Script(object):
         script_dir = os.path.dirname(os.path.abspath(self.args[0]))
         self.ns = {'__file__': os.path.abspath(self.args[0])}
         sys.path.append(script_dir)
+        sys.path.append(os.path.join(script_dir, ".."))
         try:
             with open(self.filename) as f:
                 code = compile(f.read(), self.filename, 'exec')
@@ -86,6 +87,7 @@ class Script(object):
             )
         finally:
             sys.path.pop()
+            sys.path.pop()
         return self.run("start", self.args)
 
     def unload(self):
