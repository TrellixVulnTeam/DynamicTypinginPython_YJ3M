commit bb2ce689a91de64d4e6b2191760399255f9eba6a
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sun Aug 17 23:06:25 2014 +0200

    adjust to netlib changes

diff --git a/libmproxy/cmdline.py b/libmproxy/cmdline.py
index 500337a7..b9e62b71 100644
--- a/libmproxy/cmdline.py
+++ b/libmproxy/cmdline.py
@@ -440,7 +440,7 @@ def common_options(parser):
     )
     user_specification_group.add_argument(
         "--htpasswd",
-        action="store", dest="auth_htpasswd", type=argparse.FileType('r'),
+        action="store", dest="auth_htpasswd", type=str,
         metavar="PATH",
         help="Allow access to users specified in an Apache htpasswd file."
     )
diff --git a/libmproxy/contrib/README b/libmproxy/contrib/README
index 7dc7c87d..656df3dd 100644
--- a/libmproxy/contrib/README
+++ b/libmproxy/contrib/README
@@ -11,6 +11,4 @@ jsbeautifier, git checkout 25/03/12, MIT license
 
 html2text, git checkout 18/08/12, GPLv3
 
-md5crypt, PSF license, http://code.activestate.com/recipes/325204/
-
 WinDivert 1.1.4, LGPL license, http://reqrypt.org/windivert.html
\ No newline at end of file
diff --git a/test/test_proxy.py b/test/test_proxy.py
index 31a6aa19..2ff01acc 100644
--- a/test/test_proxy.py
+++ b/test/test_proxy.py
@@ -92,7 +92,7 @@ class TestProcessProxyOptions:
 
         p = self.assert_noerr("--htpasswd", tutils.test_data.path("data/htpasswd"))
         assert p.authenticator
-        self.assert_err("invalid htpasswd file", "--htpasswd", tutils.test_data.path("data/htpasswd.invalid"))
+        self.assert_err("malformed htpasswd file", "--htpasswd", tutils.test_data.path("data/htpasswd.invalid"))
 
         p = self.assert_noerr("--singleuser", "test:test")
         assert p.authenticator
