commit 9b6198a1fea6a400a83a6ea3d040b42a9d0e38d4
Author: JustAnotherArchivist <JustAnotherArchivist@users.noreply.github.com>
Date:   Sun Jun 21 22:12:20 2020 +0000

    Replace git cat-file -t with -e and explain the magic ID

diff --git a/mitmproxy/version.py b/mitmproxy/version.py
index f14eb697..c55ccdf7 100644
--- a/mitmproxy/version.py
+++ b/mitmproxy/version.py
@@ -21,8 +21,9 @@ def get_dev_version() -> str:
     here = os.path.abspath(os.path.join(os.path.dirname(__file__), ".."))
     try:
         # Check that we're in the mitmproxy repository: https://github.com/mitmproxy/mitmproxy/issues/3987
+        # cb0e3287090786fad566feb67ac07b8ef361b2c3 is the first mitmproxy commit.
         subprocess.run(
-            ['git', 'cat-file', '-t', 'cb0e3287090786fad566feb67ac07b8ef361b2c3'],
+            ['git', 'cat-file', '-e', 'cb0e3287090786fad566feb67ac07b8ef361b2c3'],
             stdout=subprocess.DEVNULL,
             stderr=subprocess.DEVNULL,
             cwd=here,
