commit 76a7883c8b7651e7078ba351ea4675bb0bd0f3db
Author: Aldo Cortesi <aldo@corte.si>
Date:   Tue May 8 11:09:10 2018 +1200

    events: document behaviour of done() more fully

diff --git a/examples/addons/events.py b/examples/addons/events.py
index cd714ba0..f83c8f11 100644
--- a/examples/addons/events.py
+++ b/examples/addons/events.py
@@ -142,8 +142,12 @@ class Events:
 
     def done(self):
         """
-            Called when the addon shuts down, either by being removed from the
-            mitmproxy instance, or when mitmproxy itself shuts down.
+            Called when the addon shuts down, either by being removed from
+            the mitmproxy instance, or when mitmproxy itself shuts down. On
+            shutdown, this event is called after the event loop is
+            terminated, guaranteeing that it will be the final event an addon
+            sees. Note that log handlers are shut down at this point, so
+            calls to log functions will produce no output.
         """
 
     def load(self, entry: mitmproxy.addonmanager.Loader):
