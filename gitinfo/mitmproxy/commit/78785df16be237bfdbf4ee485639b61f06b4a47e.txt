commit 78785df16be237bfdbf4ee485639b61f06b4a47e
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Jun 16 17:09:52 2016 -0700

    pathoc: use idna encoding for hostnames

diff --git a/pathod/pathoc.py b/pathod/pathoc.py
index b539fec4..ea21b747 100644
--- a/pathod/pathoc.py
+++ b/pathod/pathoc.py
@@ -241,7 +241,7 @@ class Pathoc(tcp.TCPClient):
 
     def http_connect(self, connect_to):
         self.wfile.write(
-            b'CONNECT %s:%d HTTP/1.1\r\n' % (connect_to[0].encode(), connect_to[1]) +
+            b'CONNECT %s:%d HTTP/1.1\r\n' % (connect_to[0].encode("idna"), connect_to[1]) +
             b'\r\n'
         )
         self.wfile.flush()
