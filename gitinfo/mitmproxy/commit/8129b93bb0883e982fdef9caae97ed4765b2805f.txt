commit 8129b93bb0883e982fdef9caae97ed4765b2805f
Author: Aldo Cortesi <aldo@corte.si>
Date:   Tue Feb 20 09:30:29 2018 +1300

    option refresh_server_playback -> server_replay_refresh
    
    All other server playback options have this form.

diff --git a/mitmproxy/addons/serverplayback.py b/mitmproxy/addons/serverplayback.py
index 927f6e15..bb9d739d 100644
--- a/mitmproxy/addons/serverplayback.py
+++ b/mitmproxy/addons/serverplayback.py
@@ -131,7 +131,7 @@ class ServerPlayback:
             if rflow:
                 response = rflow.response.copy()
                 response.is_replay = True
-                if ctx.options.refresh_server_playback:
+                if ctx.options.server_replay_refresh:
                     response.refresh()
                 f.response = response
                 if not self.flowmap:
diff --git a/mitmproxy/options.py b/mitmproxy/options.py
index ff7edf39..a897596d 100644
--- a/mitmproxy/options.py
+++ b/mitmproxy/options.py
@@ -65,7 +65,7 @@ class Options(optmanager.OptManager):
         onboarding_port = None  # type: int
         proxyauth = None  # type: Optional[str]
         rawtcp = None  # type: bool
-        refresh_server_playback = None  # type: bool
+        server_replay_refresh = None  # type: bool
         replacements = None  # type: Sequence[str]
         replay_kill_extra = None  # type: bool
         rfile = None  # type: Optional[str]
@@ -160,7 +160,7 @@ class Options(optmanager.OptManager):
             """
         )
         self.add_option(
-            "refresh_server_playback", bool, True,
+            "server_replay_refresh", bool, True,
             """
             Refresh server replay responses by adjusting date, expires and
             last-modified headers, as well as adjusting cookie expiration.
diff --git a/mitmproxy/tools/console/statusbar.py b/mitmproxy/tools/console/statusbar.py
index 795b3d8a..83c2a934 100644
--- a/mitmproxy/tools/console/statusbar.py
+++ b/mitmproxy/tools/console/statusbar.py
@@ -211,7 +211,7 @@ class StatusBar(urwid.WidgetWrap):
             opts.append("anticomp")
         if self.master.options.showhost:
             opts.append("showhost")
-        if not self.master.options.refresh_server_playback:
+        if not self.master.options.server_replay_refresh:
             opts.append("norefresh")
         if self.master.options.replay_kill_extra:
             opts.append("killextra")
diff --git a/test/mitmproxy/addons/test_serverplayback.py b/test/mitmproxy/addons/test_serverplayback.py
index 7605a5d9..56aa9cc7 100644
--- a/test/mitmproxy/addons/test_serverplayback.py
+++ b/test/mitmproxy/addons/test_serverplayback.py
@@ -331,7 +331,7 @@ def test_server_playback_full():
     with taddons.context() as tctx:
         tctx.configure(
             s,
-            refresh_server_playback = True,
+            server_replay_refresh = True,
         )
 
         f = tflow.tflow()
@@ -363,7 +363,7 @@ def test_server_playback_kill():
     with taddons.context() as tctx:
         tctx.configure(
             s,
-            refresh_server_playback = True,
+            server_replay_refresh = True,
             replay_kill_extra=True
         )
 
diff --git a/test/mitmproxy/tools/console/test_statusbar.py b/test/mitmproxy/tools/console/test_statusbar.py
index b131a5d3..c2176769 100644
--- a/test/mitmproxy/tools/console/test_statusbar.py
+++ b/test/mitmproxy/tools/console/test_statusbar.py
@@ -16,7 +16,7 @@ def test_statusbar(monkeypatch):
         anticache=True,
         anticomp=True,
         showhost=True,
-        refresh_server_playback=False,
+        server_replay_refresh=False,
         replay_kill_extra=True,
         upstream_cert=False,
         stream_large_bodies="3m",
