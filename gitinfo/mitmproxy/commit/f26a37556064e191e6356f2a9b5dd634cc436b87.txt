commit f26a37556064e191e6356f2a9b5dd634cc436b87
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Oct 27 12:55:24 2016 -0700

    fix #1678

diff --git a/examples/nonblocking.py b/examples/nonblocking.py
index b81478df..264a1fdb 100644
--- a/examples/nonblocking.py
+++ b/examples/nonblocking.py
@@ -1,10 +1,11 @@
 import time
-import mitmproxy
+
 from mitmproxy.script import concurrent
 
 
 @concurrent  # Remove this and see what happens
 def request(flow):
-    mitmproxy.ctx.log("handle request: %s%s" % (flow.request.host, flow.request.path))
+    # You don't want to use mitmproxy.ctx from a different thread
+    print("handle request: %s%s" % (flow.request.host, flow.request.path))
     time.sleep(5)
-    mitmproxy.ctx.log("start  request: %s%s" % (flow.request.host, flow.request.path))
+    print("start  request: %s%s" % (flow.request.host, flow.request.path))
