commit bf3570b3b987c27701df65753666a83b52ba8752
Author: Fred Miller <fghzxm@outlook.com>
Date:   Tue Oct 23 08:28:09 2018 +0800

    Skip file permission test on Windows

diff --git a/test/mitmproxy/test_certs.py b/test/mitmproxy/test_certs.py
index 82b9cdbb..884927cb 100644
--- a/test/mitmproxy/test_certs.py
+++ b/test/mitmproxy/test_certs.py
@@ -1,4 +1,6 @@
 import os
+import sys
+import pytest
 from mitmproxy import certs
 
 # class TestDNTree:
@@ -111,6 +113,8 @@ class TestCertStore:
         certs.CertStore.load_dhparam(filename)
         assert os.path.exists(filename)
 
+    @pytest.mark.skipif(sys.platform in ["win32", "cygwin"],
+                        reason="Unix file permissions are not applicable on Windows")
     def test_umask_secret(self, tmpdir):
         filename = str(tmpdir.join("secret"))
         with certs.CertStore.umask_secret(), open(filename, "wb"):
