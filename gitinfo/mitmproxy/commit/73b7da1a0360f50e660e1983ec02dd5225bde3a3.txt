commit 73b7da1a0360f50e660e1983ec02dd5225bde3a3
Author: Vincent Haupert <vincent.haupert@gmail.com>
Date:   Sat Jul 30 12:42:33 2016 +0200

    Fix platform import on Linux using python3
    
    Using python3, sys.platform returns "linux" instead of "linux2" using
    python2. This patch accepts "linux" as well as "linux2".

diff --git a/mitmproxy/platform/__init__.py b/mitmproxy/platform/__init__.py
index e1ff7c47..2e350131 100644
--- a/mitmproxy/platform/__init__.py
+++ b/mitmproxy/platform/__init__.py
@@ -1,8 +1,9 @@
 import sys
+import re
 
 resolver = None
 
-if sys.platform == "linux2":
+if re.match(r"linux(?:2)?", sys.platform):
     from . import linux
     resolver = linux.Resolver
 elif sys.platform == "darwin":
