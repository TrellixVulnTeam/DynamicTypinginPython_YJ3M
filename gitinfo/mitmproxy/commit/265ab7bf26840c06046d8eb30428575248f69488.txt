commit 265ab7bf26840c06046d8eb30428575248f69488
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sun Dec 11 13:11:02 2016 +0100

    fix #1830

diff --git a/mitmproxy/addons/view.py b/mitmproxy/addons/view.py
index b8b6093f..dd5b745d 100644
--- a/mitmproxy/addons/view.py
+++ b/mitmproxy/addons/view.py
@@ -145,9 +145,9 @@ class View(collections.Sequence):
 
     def inbounds(self, index: int) -> bool:
         """
-            Is this index >= 0 and < len(self)
+            Is this 0 <= index < len(self)
         """
-        return index >= 0 and index < len(self)
+        return 0 <= index < len(self)
 
     def _rev(self, idx: int) -> int:
         """
@@ -359,7 +359,7 @@ class Focus:
             return self.view.index(self.flow)
 
     @index.setter
-    def index(self, idx) -> typing.Optional[int]:
+    def index(self, idx):
         if idx < 0 or idx > len(self.view) - 1:
             raise ValueError("Index out of view bounds")
         self.flow = self.view[idx]
diff --git a/mitmproxy/tools/console/flowlist.py b/mitmproxy/tools/console/flowlist.py
index d7c312e5..fee215c6 100644
--- a/mitmproxy/tools/console/flowlist.py
+++ b/mitmproxy/tools/console/flowlist.py
@@ -355,9 +355,11 @@ class FlowListBox(urwid.ListBox):
         elif key == "e":
             self.master.toggle_eventlog()
         elif key == "g":
-            self.master.view.focus.index = 0
+            if len(self.master.view):
+                self.master.view.focus.index = 0
         elif key == "G":
-            self.master.view.focus.index = len(self.master.view) - 1
+            if len(self.master.view):
+                self.master.view.focus.index = len(self.master.view) - 1
         elif key == "f":
             signals.status_prompt.send(
                 prompt = "Filter View",
