commit bcbf76a6281411b430639c58ca694bdc856fee72
Author: Pierre Gordon <pierregordon@protonmail.com>
Date:   Fri Apr 19 13:43:12 2019 -0500

    Only handle types "allow", "ignore" & "tcp"

diff --git a/mitmproxy/proxy/config.py b/mitmproxy/proxy/config.py
index 55969d5e..75e372ae 100644
--- a/mitmproxy/proxy/config.py
+++ b/mitmproxy/proxy/config.py
@@ -25,10 +25,8 @@ class HostMatcher:
         host = "%s:%s" % address
         if self.handle in ["ignore", "tcp"]:
             return any(rex.search(host) for rex in self.regexes)
-        elif self.handle == "allow":
+        else:  # self.handle == "allow"
             return any(not rex.search(host) for rex in self.regexes)
-        else:
-            return False
 
     def __bool__(self):
         return bool(self.patterns)
