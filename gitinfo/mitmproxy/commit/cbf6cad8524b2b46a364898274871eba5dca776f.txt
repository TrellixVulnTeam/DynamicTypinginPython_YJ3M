commit cbf6cad8524b2b46a364898274871eba5dca776f
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Mon Apr 13 17:17:18 2015 +0200

    make dev script more robust, fix #556

diff --git a/dev b/dev
index 9f66cbaf..0e5cb441 100755
--- a/dev
+++ b/dev
@@ -1,7 +1,8 @@
-#!/bin/sh
+#!/bin/bash
+set -e
 VENV=../venv.mitmproxy
 
-virtualenv $VENV
+python2 -m virtualenv $VENV
 source $VENV/bin/activate
 pip install --src .. -r requirements.txt
 
diff --git a/dev.bat b/dev.bat
index 303c804e..59e654d4 100644
--- a/dev.bat
+++ b/dev.bat
@@ -2,8 +2,11 @@
 set VENV=..\venv.mitmproxy
 
 virtualenv %VENV%
+if %errorlevel% neq 0 exit /b %errorlevel%
 call %VENV%\Scripts\activate.bat
+if %errorlevel% neq 0 exit /b %errorlevel%
 pip install --src .. -r requirements.txt
+if %errorlevel% neq 0 exit /b %errorlevel%
 
 echo.
 echo * Created virtualenv environment in %VENV%.
