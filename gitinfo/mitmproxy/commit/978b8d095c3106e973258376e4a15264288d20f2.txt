commit 978b8d095c3106e973258376e4a15264288d20f2
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Sun Dec 17 13:31:36 2017 +1300

    mitmproxy.types -> mitmproxy.coretypes
    
    The types name is valuable, and we have a better use for it in collecting and
    exposing types for options and commands.
    
    The coretypes module should probably be split up anyway - it contains a
    threading base class, a few container objects, and the defintion of our
    serialization protocol. I was tempted to rename it to "uncagegorized" for the
    sake of honesty.

diff --git a/mitmproxy/certs.py b/mitmproxy/certs.py
index 572a12d0..c29d67f3 100644
--- a/mitmproxy/certs.py
+++ b/mitmproxy/certs.py
@@ -11,7 +11,7 @@ from pyasn1.codec.der.decoder import decode
 from pyasn1.error import PyAsn1Error
 import OpenSSL
 
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 
 # Default expiry must not be too long: https://github.com/mitmproxy/mitmproxy/issues/815
 DEFAULT_EXP = 94608000  # = 24 * 60 * 60 * 365 * 3
diff --git a/mitmproxy/contentviews/image/view.py b/mitmproxy/contentviews/image/view.py
index 6f75473b..fde9b39d 100644
--- a/mitmproxy/contentviews/image/view.py
+++ b/mitmproxy/contentviews/image/view.py
@@ -1,7 +1,7 @@
 import imghdr
 
 from mitmproxy.contentviews import base
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from . import image_parser
 
 
diff --git a/mitmproxy/contentviews/multipart.py b/mitmproxy/contentviews/multipart.py
index 0b0e51e2..be3dc135 100644
--- a/mitmproxy/contentviews/multipart.py
+++ b/mitmproxy/contentviews/multipart.py
@@ -1,5 +1,5 @@
 from mitmproxy.net import http
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from . import base
 
 
diff --git a/mitmproxy/contentviews/urlencoded.py b/mitmproxy/contentviews/urlencoded.py
index 79fe9c1c..a24f342a 100644
--- a/mitmproxy/contentviews/urlencoded.py
+++ b/mitmproxy/contentviews/urlencoded.py
@@ -1,5 +1,5 @@
 from mitmproxy.net.http import url
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from . import base
 
 
diff --git a/mitmproxy/types/__init__.py b/mitmproxy/coretypes/__init__.py
similarity index 100%
rename from mitmproxy/types/__init__.py
rename to mitmproxy/coretypes/__init__.py
diff --git a/mitmproxy/types/basethread.py b/mitmproxy/coretypes/basethread.py
similarity index 100%
rename from mitmproxy/types/basethread.py
rename to mitmproxy/coretypes/basethread.py
diff --git a/mitmproxy/types/bidi.py b/mitmproxy/coretypes/bidi.py
similarity index 100%
rename from mitmproxy/types/bidi.py
rename to mitmproxy/coretypes/bidi.py
diff --git a/mitmproxy/types/multidict.py b/mitmproxy/coretypes/multidict.py
similarity index 99%
rename from mitmproxy/types/multidict.py
rename to mitmproxy/coretypes/multidict.py
index bd9766a3..90f3013e 100644
--- a/mitmproxy/types/multidict.py
+++ b/mitmproxy/coretypes/multidict.py
@@ -1,7 +1,7 @@
 from abc import ABCMeta, abstractmethod
 
 from collections.abc import MutableMapping
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 
 
 class _MultiDict(MutableMapping, metaclass=ABCMeta):
diff --git a/mitmproxy/types/serializable.py b/mitmproxy/coretypes/serializable.py
similarity index 100%
rename from mitmproxy/types/serializable.py
rename to mitmproxy/coretypes/serializable.py
diff --git a/mitmproxy/master.py b/mitmproxy/master.py
index b41e2a8d..5997ff6d 100644
--- a/mitmproxy/master.py
+++ b/mitmproxy/master.py
@@ -12,7 +12,7 @@ from mitmproxy import http
 from mitmproxy import log
 from mitmproxy.net import server_spec
 from mitmproxy.proxy.protocol import http_replay
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 
 from . import ctx as mitmproxy_ctx
 
diff --git a/mitmproxy/net/http/cookies.py b/mitmproxy/net/http/cookies.py
index 5b410acc..4824bf56 100644
--- a/mitmproxy/net/http/cookies.py
+++ b/mitmproxy/net/http/cookies.py
@@ -3,7 +3,7 @@ import re
 import time
 from typing import Tuple, List, Iterable
 
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 
 """
 A flexible module for cookie parsing and manipulation.
diff --git a/mitmproxy/net/http/headers.py b/mitmproxy/net/http/headers.py
index 8fc0cd43..8a58cbbc 100644
--- a/mitmproxy/net/http/headers.py
+++ b/mitmproxy/net/http/headers.py
@@ -1,7 +1,7 @@
 import re
 
 import collections
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from mitmproxy.utils import strutils
 
 # See also: http://lucumr.pocoo.org/2013/7/2/the-updated-guide-to-unicode/
diff --git a/mitmproxy/net/http/message.py b/mitmproxy/net/http/message.py
index cb32aee4..65820f67 100644
--- a/mitmproxy/net/http/message.py
+++ b/mitmproxy/net/http/message.py
@@ -3,7 +3,7 @@ from typing import Optional, Union  # noqa
 
 from mitmproxy.utils import strutils
 from mitmproxy.net.http import encoding
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 from mitmproxy.net.http import headers
 
 
diff --git a/mitmproxy/net/http/request.py b/mitmproxy/net/http/request.py
index 6f366a4f..6b4041f6 100644
--- a/mitmproxy/net/http/request.py
+++ b/mitmproxy/net/http/request.py
@@ -2,7 +2,7 @@ import re
 import urllib
 from typing import Optional, AnyStr, Dict, Iterable, Tuple, Union
 
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from mitmproxy.utils import strutils
 from mitmproxy.net.http import multipart
 from mitmproxy.net.http import cookies
diff --git a/mitmproxy/net/http/response.py b/mitmproxy/net/http/response.py
index 18950fc7..48527d63 100644
--- a/mitmproxy/net/http/response.py
+++ b/mitmproxy/net/http/response.py
@@ -1,7 +1,7 @@
 import time
 from email.utils import parsedate_tz, formatdate, mktime_tz
 from mitmproxy.utils import human
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from mitmproxy.net.http import cookies
 from mitmproxy.net.http import headers as nheaders
 from mitmproxy.net.http import message
diff --git a/mitmproxy/net/socks.py b/mitmproxy/net/socks.py
index fdfcfb80..0b2790df 100644
--- a/mitmproxy/net/socks.py
+++ b/mitmproxy/net/socks.py
@@ -3,7 +3,7 @@ import array
 import ipaddress
 
 from mitmproxy.net import check
-from mitmproxy.types import bidi
+from mitmproxy.coretypes import bidi
 
 
 class SocksError(Exception):
diff --git a/mitmproxy/net/tcp.py b/mitmproxy/net/tcp.py
index 47c80e80..d08938c9 100644
--- a/mitmproxy/net/tcp.py
+++ b/mitmproxy/net/tcp.py
@@ -14,7 +14,7 @@ from OpenSSL import SSL
 
 from mitmproxy import certs
 from mitmproxy import exceptions
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 
 socket_fileobject = socket.SocketIO
 
diff --git a/mitmproxy/net/websockets/frame.py b/mitmproxy/net/websockets/frame.py
index 28881f64..ac6a0812 100644
--- a/mitmproxy/net/websockets/frame.py
+++ b/mitmproxy/net/websockets/frame.py
@@ -6,7 +6,7 @@ from mitmproxy.net import tcp
 from mitmproxy.utils import strutils
 from mitmproxy.utils import bits
 from mitmproxy.utils import human
-from mitmproxy.types import bidi
+from mitmproxy.coretypes import bidi
 from .masker import Masker
 
 
diff --git a/mitmproxy/proxy/protocol/http2.py b/mitmproxy/proxy/protocol/http2.py
index cf021291..cc99a715 100644
--- a/mitmproxy/proxy/protocol/http2.py
+++ b/mitmproxy/proxy/protocol/http2.py
@@ -15,7 +15,7 @@ from mitmproxy.proxy.protocol import base
 from mitmproxy.proxy.protocol import http as httpbase
 import mitmproxy.net.http
 from mitmproxy.net import tcp
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 from mitmproxy.net.http import http2, headers
 from mitmproxy.utils import human
 
diff --git a/mitmproxy/proxy/protocol/http_replay.py b/mitmproxy/proxy/protocol/http_replay.py
index 00bb31c9..cc22c0b7 100644
--- a/mitmproxy/proxy/protocol/http_replay.py
+++ b/mitmproxy/proxy/protocol/http_replay.py
@@ -11,7 +11,7 @@ from mitmproxy import options
 from mitmproxy import connections
 from mitmproxy.net import server_spec
 from mitmproxy.net.http import http1
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 from mitmproxy.utils import human
 
 
diff --git a/mitmproxy/script/concurrent.py b/mitmproxy/script/concurrent.py
index cbb3beb0..1d935585 100644
--- a/mitmproxy/script/concurrent.py
+++ b/mitmproxy/script/concurrent.py
@@ -4,7 +4,7 @@ offload computations from mitmproxy's main master thread.
 """
 
 from mitmproxy import eventsequence
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 
 
 class ScriptThread(basethread.BaseThread):
diff --git a/mitmproxy/stateobject.py b/mitmproxy/stateobject.py
index a0deaec9..007339e8 100644
--- a/mitmproxy/stateobject.py
+++ b/mitmproxy/stateobject.py
@@ -2,7 +2,7 @@ from typing import Any
 from typing import List
 from typing import MutableMapping  # noqa
 
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 
 
 def _is_list(cls):
diff --git a/mitmproxy/tcp.py b/mitmproxy/tcp.py
index fe9f217b..11de80e9 100644
--- a/mitmproxy/tcp.py
+++ b/mitmproxy/tcp.py
@@ -3,7 +3,7 @@ import time
 from typing import List
 
 from mitmproxy import flow
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 
 
 class TCPMessage(serializable.Serializable):
diff --git a/mitmproxy/websocket.py b/mitmproxy/websocket.py
index ded09f65..6c1e7000 100644
--- a/mitmproxy/websocket.py
+++ b/mitmproxy/websocket.py
@@ -3,7 +3,7 @@ from typing import List, Optional
 
 from mitmproxy import flow
 from mitmproxy.net import websockets
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 from mitmproxy.utils import strutils, human
 
 
diff --git a/pathod/pathoc.py b/pathod/pathoc.py
index 20a915c0..e5fe4c2d 100644
--- a/pathod/pathoc.py
+++ b/pathod/pathoc.py
@@ -17,7 +17,7 @@ from mitmproxy.net import tcp, tls
 from mitmproxy.net import websockets
 from mitmproxy.net import socks
 from mitmproxy.net import http as net_http
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 from mitmproxy.utils import strutils
 
 from pathod import log
diff --git a/pathod/protocols/http2.py b/pathod/protocols/http2.py
index cfc71650..c56d304d 100644
--- a/pathod/protocols/http2.py
+++ b/pathod/protocols/http2.py
@@ -8,7 +8,7 @@ from mitmproxy.net.http import http2
 import mitmproxy.net.http.headers
 import mitmproxy.net.http.response
 import mitmproxy.net.http.request
-from mitmproxy.types import bidi
+from mitmproxy.coretypes import bidi
 
 from .. import language
 
diff --git a/pathod/test.py b/pathod/test.py
index 52f3ba02..819c7a94 100644
--- a/pathod/test.py
+++ b/pathod/test.py
@@ -2,7 +2,7 @@ import io
 import time
 import queue
 from . import pathod
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 import typing  # noqa
 
 
diff --git a/test/mitmproxy/contentviews/test_auto.py b/test/mitmproxy/contentviews/test_auto.py
index 2ff43139..cd888a2d 100644
--- a/test/mitmproxy/contentviews/test_auto.py
+++ b/test/mitmproxy/contentviews/test_auto.py
@@ -1,6 +1,6 @@
 from mitmproxy.contentviews import auto
 from mitmproxy.net import http
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from . import full_eval
 
 
diff --git a/test/mitmproxy/contentviews/test_query.py b/test/mitmproxy/contentviews/test_query.py
index d2bddd05..741b23f1 100644
--- a/test/mitmproxy/contentviews/test_query.py
+++ b/test/mitmproxy/contentviews/test_query.py
@@ -1,5 +1,5 @@
 from mitmproxy.contentviews import query
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 from . import full_eval
 
 
diff --git a/test/mitmproxy/types/__init__.py b/test/mitmproxy/coretypes/__init__.py
similarity index 100%
rename from test/mitmproxy/types/__init__.py
rename to test/mitmproxy/coretypes/__init__.py
diff --git a/test/mitmproxy/types/test_basethread.py b/test/mitmproxy/coretypes/test_basethread.py
similarity index 75%
rename from test/mitmproxy/types/test_basethread.py
rename to test/mitmproxy/coretypes/test_basethread.py
index a91588eb..4a383fea 100644
--- a/test/mitmproxy/types/test_basethread.py
+++ b/test/mitmproxy/coretypes/test_basethread.py
@@ -1,5 +1,5 @@
 import re
-from mitmproxy.types import basethread
+from mitmproxy.coretypes import basethread
 
 
 def test_basethread():
diff --git a/test/mitmproxy/types/test_bidi.py b/test/mitmproxy/coretypes/test_bidi.py
similarity index 88%
rename from test/mitmproxy/types/test_bidi.py
rename to test/mitmproxy/coretypes/test_bidi.py
index e3a259fd..3bdad3c2 100644
--- a/test/mitmproxy/types/test_bidi.py
+++ b/test/mitmproxy/coretypes/test_bidi.py
@@ -1,5 +1,5 @@
 import pytest
-from mitmproxy.types import bidi
+from mitmproxy.coretypes import bidi
 
 
 def test_bidi():
diff --git a/test/mitmproxy/types/test_multidict.py b/test/mitmproxy/coretypes/test_multidict.py
similarity index 99%
rename from test/mitmproxy/types/test_multidict.py
rename to test/mitmproxy/coretypes/test_multidict.py
index c76cd753..273d8ca2 100644
--- a/test/mitmproxy/types/test_multidict.py
+++ b/test/mitmproxy/coretypes/test_multidict.py
@@ -1,6 +1,6 @@
 import pytest
 
-from mitmproxy.types import multidict
+from mitmproxy.coretypes import multidict
 
 
 class _TMulti:
diff --git a/test/mitmproxy/types/test_serializable.py b/test/mitmproxy/coretypes/test_serializable.py
similarity index 94%
rename from test/mitmproxy/types/test_serializable.py
rename to test/mitmproxy/coretypes/test_serializable.py
index 390d17e1..a316f876 100644
--- a/test/mitmproxy/types/test_serializable.py
+++ b/test/mitmproxy/coretypes/test_serializable.py
@@ -1,6 +1,6 @@
 import copy
 
-from mitmproxy.types import serializable
+from mitmproxy.coretypes import serializable
 
 
 class SerializableDummy(serializable.Serializable):
