commit ebc7833d041b20d0cfb681e4fdf05e12ef261119
Author: Thomas Kriechbaumer <thomas@kriechbaumer.name>
Date:   Sun Apr 12 22:47:54 2020 +0200

    drop Docker images for ARMv7

diff --git a/release/README.md b/release/README.md
index 1de0824f..5e18ceae 100644
--- a/release/README.md
+++ b/release/README.md
@@ -32,7 +32,7 @@ These steps assume you are on the correct branch and have a git remote called `o
 ### Docker
 - The docker image is built by our CI workers and pushed to Docker Hub automatically.
 - Please verify that https://hub.docker.com/r/mitmproxy/mitmproxy/tags/ has the latest version.
-- The latest and latest-ARMv7 tags should auto-update. @mhils introduced this after the 5.0.0 release.
+- The latest tag should auto-update. @mhils introduced this after the 5.0.0 release.
   Please verify that this is the case and remove this notice. For reference, this is how to do it manually:
   `export VERSION=4.0.3 && docker pull mitmproxy/mitmproxy:$VERSION && docker tag mitmproxy/mitmproxy:$VERSION mitmproxy/mitmproxy:latest && docker push mitmproxy/mitmproxy:latest`.
 
diff --git a/release/cibuild.py b/release/cibuild.py
index d070a4b9..2873a052 100755
--- a/release/cibuild.py
+++ b/release/cibuild.py
@@ -356,15 +356,6 @@ def build_docker_image(be: BuildEnviron):  # pragma: no cover
         "--file", "release/docker/Dockerfile",
         "."
     ])
-    subprocess.check_call([
-        "docker",
-        "build",
-        "--tag", be.docker_tag + "-ARMv7",
-        "--build-arg", "WHEEL_MITMPROXY={}".format(whl),
-        "--build-arg", "WHEEL_BASENAME_MITMPROXY={}".format(os.path.basename(whl)),
-        "--file", "release/docker/DockerfileARMv7",
-        "."
-    ])
 
 
 def build_pyinstaller(be: BuildEnviron):  # pragma: no cover
@@ -569,11 +560,10 @@ def upload():  # pragma: no cover
             "-u", be.docker_username,
             "-p", be.docker_password,
         ])
-        for variant in ["", "-ARMv7"]:
-            subprocess.check_call(["docker", "push", be.docker_tag + variant])
-            if be.is_prod_release:
-                subprocess.check_call(["docker", "tag", be.docker_tag + variant, "mitmproxy/mitmproxy:latest" + variant])
-                subprocess.check_call(["docker", "push", "mitmproxy/mitmproxy:latest" + variant])
+        subprocess.check_call(["docker", "push", be.docker_tag])
+        if be.is_prod_release:
+            subprocess.check_call(["docker", "tag", be.docker_tag, "mitmproxy/mitmproxy:latest"])
+            subprocess.check_call(["docker", "push", "mitmproxy/mitmproxy:latest"])
 
 
 if __name__ == "__main__":  # pragma: no cover
diff --git a/release/docker/Dockerfile b/release/docker/Dockerfile
index 258bccf5..5f496e9f 100644
--- a/release/docker/Dockerfile
+++ b/release/docker/Dockerfile
@@ -1,4 +1,4 @@
-FROM alpine:3.8
+FROM alpine:3.11
 
 ENV LANG=en_US.UTF-8
 
diff --git a/release/docker/DockerfileARMv7 b/release/docker/DockerfileARMv7
deleted file mode 100644
index 40f10ede..00000000
--- a/release/docker/DockerfileARMv7
+++ /dev/null
@@ -1,46 +0,0 @@
-FROM resin/raspberrypi3-alpine:3.7
-
-ENV LANG=en_US.UTF-8
-
-ARG WHEEL_MITMPROXY
-ARG WHEEL_BASENAME_MITMPROXY
-
-COPY $WHEEL_MITMPROXY /home/mitmproxy/
-
-RUN [ "cross-build-start" ]
-
-# Add our user first to make sure the ID get assigned consistently,
-# regardless of whatever dependencies get added.
-RUN addgroup -S mitmproxy && adduser -S -G mitmproxy mitmproxy \
-    && apk add --no-cache \
-        su-exec \
-        git \
-        g++ \
-        libffi \
-        libffi-dev \
-        libstdc++ \
-        openssl \
-        openssl-dev \
-        python3 \
-        python3-dev \
-    && python3 -m ensurepip --upgrade \
-    && pip3 install -U pip \
-    && LDFLAGS=-L/lib pip3 install -U /home/mitmproxy/${WHEEL_BASENAME_MITMPROXY} \
-    && apk del --purge \
-        git \
-        g++ \
-        libffi-dev \
-        openssl-dev \
-        python3-dev \
-    && rm -rf ~/.cache/pip /home/mitmproxy/${WHEEL_BASENAME_MITMPROXY}
-
-RUN [ "cross-build-end" ]
-
-VOLUME /home/mitmproxy/.mitmproxy
-
-COPY release/docker/docker-entrypoint.sh /usr/local/bin/
-ENTRYPOINT ["docker-entrypoint.sh"]
-
-EXPOSE 8080 8081
-
-CMD ["mitmproxy"]
diff --git a/release/docker/README.md b/release/docker/README.md
index 2fa93949..df9834b8 100644
--- a/release/docker/README.md
+++ b/release/docker/README.md
@@ -40,8 +40,7 @@ The available release tags can be seen
 
 * `master` always tracks the git-master branch and represents the unstable development tree.
 * `latest` always points to the same image as the most recent stable release, including bugfix releases (e.g., `4.0.0` and `4.0.1`).
-* `X.Y.Z` tags contain the mitmproxy release with this version number.  
-* `*-ARMv7` are images built for Raspbian / Raspberry Pi systems.
+* `X.Y.Z` tags contain the mitmproxy release with this version number.
 
 # Security Notice
 
