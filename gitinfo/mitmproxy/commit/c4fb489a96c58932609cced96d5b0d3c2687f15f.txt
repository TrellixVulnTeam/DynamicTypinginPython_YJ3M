commit c4fb489a96c58932609cced96d5b0d3c2687f15f
Author: Aldo Cortesi <aldo@nullcube.com>
Date:   Fri Jul 15 22:35:03 2016 +1200

    Zap unused test scripts

diff --git a/test/mitmproxy/builtins/test_script.py b/test/mitmproxy/builtins/test_script.py
index da60b64c..c9616249 100644
--- a/test/mitmproxy/builtins/test_script.py
+++ b/test/mitmproxy/builtins/test_script.py
@@ -27,15 +27,19 @@ class TestParseCommand:
 
     def test_parse_args(self):
         with tutils.chdir(tutils.test_data.dirname):
-            assert script.parse_command("data/scripts/a.py") == ("data/scripts/a.py", [])
-            assert script.parse_command("data/scripts/a.py foo bar") == ("data/scripts/a.py", ["foo", "bar"])
-            assert script.parse_command("data/scripts/a.py 'foo bar'") == ("data/scripts/a.py", ["foo bar"])
+            assert script.parse_command("data/addonscripts/recorder.py") == ("data/addonscripts/recorder.py", [])
+            assert script.parse_command("data/addonscripts/recorder.py foo bar") == ("data/addonscripts/recorder.py", ["foo", "bar"])
+            assert script.parse_command("data/addonscripts/recorder.py 'foo bar'") == ("data/addonscripts/recorder.py", ["foo bar"])
 
     @tutils.skip_not_windows
     def test_parse_windows(self):
         with tutils.chdir(tutils.test_data.dirname):
-            assert script.parse_command("data\\scripts\\a.py") == ("data\\scripts\\a.py", [])
-            assert script.parse_command("data\\scripts\\a.py 'foo \\ bar'") == ("data\\scripts\\a.py", ['foo \\ bar'])
+            assert script.parse_command(
+                "data\\addonscripts\\recorder.py"
+            ) == ("data\\addonscripts\\recorder.py", [])
+            assert script.parse_command(
+                "data\\addonscripts\\recorder.py 'foo \\ bar'"
+            ) == ("data\\addonscripts\\recorder.py", ['foo \\ bar'])
 
 
 def test_load_script():
diff --git a/test/mitmproxy/data/scripts/a.py b/test/mitmproxy/data/scripts/a.py
deleted file mode 100644
index ab0dbf96..00000000
--- a/test/mitmproxy/data/scripts/a.py
+++ /dev/null
@@ -1,20 +0,0 @@
-import sys
-
-from a_helper import parser
-
-var = 0
-
-
-def start():
-    global var
-    var = parser.parse_args(sys.argv[1:]).var
-
-
-def here():
-    global var
-    var += 1
-    return var
-
-
-def errargs():
-    pass
diff --git a/test/mitmproxy/data/scripts/a_helper.py b/test/mitmproxy/data/scripts/a_helper.py
deleted file mode 100644
index e1f1c649..00000000
--- a/test/mitmproxy/data/scripts/a_helper.py
+++ /dev/null
@@ -1,4 +0,0 @@
-import argparse
-
-parser = argparse.ArgumentParser()
-parser.add_argument('--var', type=int)
diff --git a/test/mitmproxy/data/scripts/duplicate_flow.py b/test/mitmproxy/data/scripts/duplicate_flow.py
deleted file mode 100644
index 565b1845..00000000
--- a/test/mitmproxy/data/scripts/duplicate_flow.py
+++ /dev/null
@@ -1,6 +0,0 @@
-import mitmproxy
-
-
-def request(f):
-    f = mitmproxy.ctx.master.duplicate_flow(f)
-    mitmproxy.ctx.master.replay_request(f, block=True, run_scripthooks=False)
diff --git a/test/mitmproxy/data/scripts/loaderr.py b/test/mitmproxy/data/scripts/loaderr.py
deleted file mode 100644
index 8dc4d56d..00000000
--- a/test/mitmproxy/data/scripts/loaderr.py
+++ /dev/null
@@ -1,3 +0,0 @@
-
-
-a = x
diff --git a/test/mitmproxy/data/scripts/reqerr.py b/test/mitmproxy/data/scripts/reqerr.py
deleted file mode 100644
index 7b419361..00000000
--- a/test/mitmproxy/data/scripts/reqerr.py
+++ /dev/null
@@ -1,2 +0,0 @@
-def request(r):
-    raise ValueError()
diff --git a/test/mitmproxy/data/scripts/starterr.py b/test/mitmproxy/data/scripts/starterr.py
deleted file mode 100644
index 28ba2ff1..00000000
--- a/test/mitmproxy/data/scripts/starterr.py
+++ /dev/null
@@ -1,3 +0,0 @@
-
-def start():
-    raise ValueError()
diff --git a/test/mitmproxy/data/scripts/stream_modify.py b/test/mitmproxy/data/scripts/stream_modify.py
deleted file mode 100644
index 4fbf45c2..00000000
--- a/test/mitmproxy/data/scripts/stream_modify.py
+++ /dev/null
@@ -1,7 +0,0 @@
-def modify(chunks):
-    for chunk in chunks:
-        yield chunk.replace(b"foo", b"bar")
-
-
-def responseheaders(flow):
-    flow.response.stream = modify
diff --git a/test/mitmproxy/data/scripts/syntaxerr.py b/test/mitmproxy/data/scripts/syntaxerr.py
deleted file mode 100644
index 219d6b84..00000000
--- a/test/mitmproxy/data/scripts/syntaxerr.py
+++ /dev/null
@@ -1,3 +0,0 @@
-
-
-a +
diff --git a/test/mitmproxy/data/scripts/tcp_stream_modify.py b/test/mitmproxy/data/scripts/tcp_stream_modify.py
deleted file mode 100644
index 2281e6e6..00000000
--- a/test/mitmproxy/data/scripts/tcp_stream_modify.py
+++ /dev/null
@@ -1,4 +0,0 @@
-def tcp_message(flow):
-    message = flow.messages[-1]
-    if not message.from_client:
-        message.content = message.content.replace(b"foo", b"bar")
diff --git a/test/mitmproxy/data/scripts/unloaderr.py b/test/mitmproxy/data/scripts/unloaderr.py
deleted file mode 100644
index 6a48ab43..00000000
--- a/test/mitmproxy/data/scripts/unloaderr.py
+++ /dev/null
@@ -1,2 +0,0 @@
-def done():
-    raise RuntimeError()
