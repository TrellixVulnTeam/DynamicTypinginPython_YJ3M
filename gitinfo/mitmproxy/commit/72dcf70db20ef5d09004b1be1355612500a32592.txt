commit 72dcf70db20ef5d09004b1be1355612500a32592
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Wed Nov 23 00:12:45 2016 +0100

    mitmweb: fix event display

diff --git a/mitmproxy/tools/web/app.py b/mitmproxy/tools/web/app.py
index 8f71d8da..fa0b702f 100644
--- a/mitmproxy/tools/web/app.py
+++ b/mitmproxy/tools/web/app.py
@@ -72,8 +72,9 @@ def flow_to_json(flow: mitmproxy.flow.Flow) -> dict:
     return f
 
 
-def logentry_to_json(e: log.LogEntry):
+def logentry_to_json(e: log.LogEntry) -> dict:
     return {
+        "id": id(e),  # we just need some kind of id.
         "message": e.msg,
         "level": e.level
     }
diff --git a/web/src/js/components/EventLog.jsx b/web/src/js/components/EventLog.jsx
index 636e3e9a..1a449511 100644
--- a/web/src/js/components/EventLog.jsx
+++ b/web/src/js/components/EventLog.jsx
@@ -70,7 +70,7 @@ class EventLog extends Component {
 export default connect(
     state => ({
         filters: state.eventLog.filters,
-        events: state.eventLog.view.data,
+        events: state.eventLog.view,
     }),
     {
         close: toggleVisibility,
diff --git a/web/src/js/ducks/eventLog.js b/web/src/js/ducks/eventLog.js
index 776e4b08..73eaf2e8 100644
--- a/web/src/js/ducks/eventLog.js
+++ b/web/src/js/ducks/eventLog.js
@@ -49,14 +49,12 @@ export function toggleVisibility() {
     return { type: TOGGLE_VISIBILITY }
 }
 
-let logId = 1  // client-side log ids are odd
 export function add(message, level = 'web') {
     let data = {
-        id: logId,
+        id: Math.random().toString(),
         message,
         level,
     }
-    logId += 2
     return {
         type: ADD,
         cmd: "add",
