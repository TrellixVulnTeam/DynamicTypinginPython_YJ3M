commit 355f9fc40799c88f413ca260dd93691074fd758e
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Feb 27 14:43:23 2015 +0100

    use entry_points for Windows support

diff --git a/setup.py b/setup.py
index 9e22a039..cb0c3f66 100644
--- a/setup.py
+++ b/setup.py
@@ -36,6 +36,10 @@ for script in scripts:
 if os.name == "nt":
     deps.add("pydivert>=0.0.7")  # Transparent proxying on Windows
 
+console_scripts = [
+    "%s = libmproxy.main:%s" % (s, s) for s in scripts
+]
+
 setup(
     name="mitmproxy",
     version=version.VERSION,
@@ -65,7 +69,9 @@ setup(
     ],
     packages=find_packages(),
     include_package_data=True,
-    scripts=scripts,
+    entry_points={
+        'console_scripts': console_scripts
+    },
     install_requires=list(deps),
     extras_require={
         'dev': [
