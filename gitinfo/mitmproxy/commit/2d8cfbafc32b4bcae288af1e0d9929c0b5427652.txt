commit 2d8cfbafc32b4bcae288af1e0d9929c0b5427652
Author: Henrik Nordstrom <henrik@henriknordstrom.ne>
Date:   Fri Nov 12 15:49:25 2010 +0100

    Automatically update response message when editing response code

diff --git a/libmproxy/console.py b/libmproxy/console.py
index 17c14580..7e95d260 100644
--- a/libmproxy/console.py
+++ b/libmproxy/console.py
@@ -412,6 +412,9 @@ class ConnectionView(WWrap):
     def set_resp_code(self, code):
         response = self.flow.response
         response.code = code
+        import BaseHTTPServer
+        if BaseHTTPServer.BaseHTTPRequestHandler.responses.has_key(int(code)):
+            response.msg = BaseHTTPServer.BaseHTTPRequestHandler.responses[int(code)][0]
         self.master.refresh_connection(self.flow)
 
     def set_resp_msg(self, msg):
@@ -1309,8 +1312,7 @@ class ConsoleMaster(controller.Master):
         if not f:
             r.ack()
         else:
-            self.sync_list_view()
-            self.refresh_connection(f)
+            self.process_flow(f, r)
 
     def handle_request(self, r):
         f = self.state.add_request(r)
