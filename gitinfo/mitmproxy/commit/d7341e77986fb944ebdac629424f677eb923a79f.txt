commit d7341e77986fb944ebdac629424f677eb923a79f
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Oct 17 17:08:41 2014 +0200

    add test case for #375

diff --git a/test/tools/passive_close.py b/test/tools/passive_close.py
new file mode 100644
index 00000000..d0b36e7f
--- /dev/null
+++ b/test/tools/passive_close.py
@@ -0,0 +1,21 @@
+import SocketServer
+from threading import Thread
+from time import sleep
+
+class service(SocketServer.BaseRequestHandler):
+    def handle(self):
+        data = 'dummy'
+        print "Client connected with ", self.client_address
+        while True:
+            self.request.send("HTTP/1.1 200 OK\r\nConnection: close\r\nContent-Length: 7\r\n\r\ncontent")
+            data = self.request.recv(1024)
+            if not len(data):
+                print "Connection closed by remote: ", self.client_address
+                sleep(3600)
+
+
+class ThreadedTCPServer(SocketServer.ThreadingMixIn, SocketServer.TCPServer):
+    pass
+
+server = ThreadedTCPServer(('',1520), service)
+server.serve_forever()
