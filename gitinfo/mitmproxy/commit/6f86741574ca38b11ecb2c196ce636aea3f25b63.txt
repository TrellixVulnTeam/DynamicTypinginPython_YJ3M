commit 6f86741574ca38b11ecb2c196ce636aea3f25b63
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sat Sep 24 18:21:58 2016 -0700

    minor fixes

diff --git a/mitmproxy/dump.py b/mitmproxy/dump.py
index e894dd36..9c40ff2d 100644
--- a/mitmproxy/dump.py
+++ b/mitmproxy/dump.py
@@ -48,9 +48,8 @@ class DumpMaster(flow.FlowMaster):
         self.options = self.options  # type: Options
         self.set_stream_large_bodies(options.stream_large_bodies)
 
-        print("Proxy server listening at http://%s:%d" % (
-            (options.listen_host or "0.0.0.0"),
-            options.listen_port))
+        if not self.options.no_server:
+            print("Proxy server listening at http://{}".format(server.address))
 
         if self.server and self.options.http2 and not tcp.HAS_ALPN:  # pragma: no cover
             print("ALPN support missing (OpenSSL 1.0.2+ required)!\n"
diff --git a/mitmproxy/options.py b/mitmproxy/options.py
index ccf06f75..3991231f 100644
--- a/mitmproxy/options.py
+++ b/mitmproxy/options.py
@@ -41,7 +41,7 @@ class Options(optmanager.OptManager):
             replacements=(),  # type: Sequence[Tuple[str, str, str]]
             server_replay_use_headers=(),  # type: Sequence[str]
             setheaders=(),  # type: Sequence[Tuple[str, str, str]]
-            server_replay=None,  # type: Optional[str]
+            server_replay=None,  # type: Sequence[str]
             stickycookie=None,  # type: Optional[str]
             stickyauth=None,  # type: Optional[str]
             stream_large_bodies=None,  # type: Optional[str]
