commit f265cff3a93f13ce2b16493bd03b336757513a56
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Wed Dec 24 01:39:38 2014 +0100

    fix tests, experimental travis speedup

diff --git a/.travis.yml b/.travis.yml
index 4319e5a3..ec6a30e9 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,4 +1,5 @@
 language: python
+sudo: false
 python:
   - "2.7"
 # command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
diff --git a/test/test_examples.py b/test/test_examples.py
index deb97b49..6fd126b8 100644
--- a/test/test_examples.py
+++ b/test/test_examples.py
@@ -11,7 +11,7 @@ def test_load_scripts():
 
     for f in scripts:
         if "har_extractor" in f:
-            f += " foo"
+            f += " -"
         if "iframe_injector" in f:
             f += " foo"  # one argument required
         if "modify_response_body" in f:
diff --git a/test/test_flow.py b/test/test_flow.py
index 764b9f24..6230ad73 100644
--- a/test/test_flow.py
+++ b/test/test_flow.py
@@ -274,7 +274,9 @@ class TestFlow:
         f2 = f.copy()
         a = f.get_state()
         b = f2.get_state()
-        assert f.get_state() == f2.get_state()
+        del a["id"]
+        del b["id"]
+        assert a == b
         assert not f == f2
         assert not f is f2
         assert f.request.get_state() == f2.request.get_state()
@@ -333,6 +335,7 @@ class TestFlow:
         assert f.get_state() == protocol.http.HTTPFlow.from_state(state).get_state()
 
         f2 = f.copy()
+        f2.id = f.id  # copy creates a different uuid
         assert f.get_state() == f2.get_state()
         assert not f == f2
         f2.error = Error("e2")
