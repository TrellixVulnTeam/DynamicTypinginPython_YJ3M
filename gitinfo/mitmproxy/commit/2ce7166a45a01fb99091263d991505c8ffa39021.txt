commit 2ce7166a45a01fb99091263d991505c8ffa39021
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Thu Jul 21 18:32:25 2016 -0700

    improve console ux for duplication/creation

diff --git a/mitmproxy/console/flowlist.py b/mitmproxy/console/flowlist.py
index 53e934f1..6beac203 100644
--- a/mitmproxy/console/flowlist.py
+++ b/mitmproxy/console/flowlist.py
@@ -193,7 +193,8 @@ class ConnectionItem(urwid.WidgetWrap):
             signals.flowlist_change.send(self)
         elif key == "D":
             f = self.master.duplicate_flow(self.flow)
-            self.master.view_flow(f)
+            self.master.state.set_focus_flow(f)
+            signals.flowlist_change.send(self)
         elif key == "m":
             if self.state.flow_marked(self.flow):
                 self.state.set_flow_marked(self.flow, False)
@@ -356,7 +357,8 @@ class FlowListBox(urwid.ListBox):
             return
         scheme, host, port, path = parts
         f = self.master.create_request(method, scheme, host, port, path)
-        self.master.view_flow(f)
+        self.master.state.set_focus_flow(f)
+        signals.flowlist_change.send(self)
 
     def keypress(self, size, key):
         key = common.shortcuts(key)
diff --git a/mitmproxy/console/flowview.py b/mitmproxy/console/flowview.py
index d85856cc..ac9570ff 100644
--- a/mitmproxy/console/flowview.py
+++ b/mitmproxy/console/flowview.py
@@ -567,6 +567,7 @@ class FlowView(tabs.Tabs):
             self.state.delete_flow(f)
         elif key == "D":
             f = self.master.duplicate_flow(self.flow)
+            signals.pop_view_state.send(self)
             self.master.view_flow(f)
             signals.status_message.send(message="Duplicated.")
         elif key == "p":
