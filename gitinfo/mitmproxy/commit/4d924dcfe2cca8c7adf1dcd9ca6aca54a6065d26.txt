commit 4d924dcfe2cca8c7adf1dcd9ca6aca54a6065d26
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Dec 12 13:14:25 2017 +0100

    fix #2651

diff --git a/mitmproxy/tools/console/consoleaddons.py b/mitmproxy/tools/console/consoleaddons.py
index 49934e4d..1bda219f 100644
--- a/mitmproxy/tools/console/consoleaddons.py
+++ b/mitmproxy/tools/console/consoleaddons.py
@@ -329,9 +329,9 @@ class ConsoleAddon:
             correct viewier, and fall back to the programs in $PAGER or $EDITOR
             if necessary.
         """
-        fpart = getattr(f, part)
+        fpart = getattr(f, part, None)
         if not fpart:
-            raise exceptions.CommandError("Could not view part %s." % part)
+            raise exceptions.CommandError("Part must be either request or response, not %s." % part)
         t = fpart.headers.get("content-type")
         content = fpart.get_content(strict=False)
         if not content:
