commit 2baa2c4049ab6b2801b3836b28b3e9df815a0075
Author: Matthew Shao <me@matshao.com>
Date:   Mon Aug 21 09:27:49 2017 +0800

    [web] Move static viewer from default addon to WebMaster.

diff --git a/mitmproxy/addons/__init__.py b/mitmproxy/addons/__init__.py
index e46c215b..62135765 100644
--- a/mitmproxy/addons/__init__.py
+++ b/mitmproxy/addons/__init__.py
@@ -14,7 +14,6 @@ from mitmproxy.addons import replace
 from mitmproxy.addons import script
 from mitmproxy.addons import serverplayback
 from mitmproxy.addons import setheaders
-from mitmproxy.addons import static_viewer
 from mitmproxy.addons import stickyauth
 from mitmproxy.addons import stickycookie
 from mitmproxy.addons import streambodies
@@ -40,7 +39,6 @@ def default_addons():
         script.ScriptLoader(),
         serverplayback.ServerPlayback(),
         setheaders.SetHeaders(),
-        static_viewer.StaticViewer(),
         stickyauth.StickyAuth(),
         stickycookie.StickyCookie(),
         streambodies.StreamBodies(),
diff --git a/mitmproxy/tools/web/master.py b/mitmproxy/tools/web/master.py
index b13aeff9..c391a1cd 100644
--- a/mitmproxy/tools/web/master.py
+++ b/mitmproxy/tools/web/master.py
@@ -12,6 +12,7 @@ from mitmproxy.addons import readfile
 from mitmproxy.addons import termlog
 from mitmproxy.addons import view
 from mitmproxy.addons import termstatus
+from mitmproxy.addons import static_viewer
 from mitmproxy.options import Options  # noqa
 from mitmproxy.tools.web import app, webaddons
 
@@ -37,6 +38,7 @@ class WebMaster(master.Master):
             webaddons.WebAddon(),
             intercept.Intercept(),
             readfile.ReadFile(),
+            static_viewer.StaticViewer(),
             self.view,
             self.events,
         )
