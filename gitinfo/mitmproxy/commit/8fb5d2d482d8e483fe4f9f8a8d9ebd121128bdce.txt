commit 8fb5d2d482d8e483fe4f9f8a8d9ebd121128bdce
Author: Grant Murphy <grant.murphy@elastic.co>
Date:   Mon Jul 2 16:10:03 2018 +1000

    Pass option, not option name to parse_setval
    
    Fixes #3230

diff --git a/mitmproxy/tools/console/options.py b/mitmproxy/tools/console/options.py
index 6e1399ce..5e5ef2a6 100644
--- a/mitmproxy/tools/console/options.py
+++ b/mitmproxy/tools/console/options.py
@@ -174,7 +174,7 @@ class OptionsList(urwid.ListBox):
                 foc, idx = self.get_focus()
                 v = self.walker.get_edit_text()
                 try:
-                    d = self.master.options.parse_setval(foc.opt.name, v)
+                    d = self.master.options.parse_setval(foc.opt, v)
                     self.master.options.update(**{foc.opt.name: d})
                 except exceptions.OptionsError as v:
                     signals.status_message.send(message=str(v))
