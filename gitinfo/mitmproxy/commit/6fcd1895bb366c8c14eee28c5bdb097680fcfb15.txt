commit 6fcd1895bb366c8c14eee28c5bdb097680fcfb15
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Wed Jul 26 12:56:26 2017 +0200

    add comment explaining upstream connect logic

diff --git a/mitmproxy/proxy/protocol/http.py b/mitmproxy/proxy/protocol/http.py
index 728c2ba1..a366861d 100644
--- a/mitmproxy/proxy/protocol/http.py
+++ b/mitmproxy/proxy/protocol/http.py
@@ -217,6 +217,8 @@ class HttpLayer(base.Layer):
         return False
 
     def handle_upstream_connect(self, f):
+        # if the user specifies a response in the http_connect hook, we do not connect upstream here.
+        # https://github.com/mitmproxy/mitmproxy/pull/2473
         if not f.response:
             self.establish_server_connection(
                 f.request.host,
