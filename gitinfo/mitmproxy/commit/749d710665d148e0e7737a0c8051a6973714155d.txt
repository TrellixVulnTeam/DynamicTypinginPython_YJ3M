commit 749d710665d148e0e7737a0c8051a6973714155d
Author: Jason <jason.daurus@gmail.com>
Date:   Thu Jun 23 01:30:28 2016 +0800

    [web] fix data connection

diff --git a/web/src/js/components/EventLog.jsx b/web/src/js/components/EventLog.jsx
index 1072b124..c40717b8 100644
--- a/web/src/js/components/EventLog.jsx
+++ b/web/src/js/components/EventLog.jsx
@@ -69,8 +69,8 @@ class EventLog extends Component {
 
 export default connect(
     state => ({
-        filters: state.eventLog.filter,
-        events: state.eventLog.filteredEvents,
+        filters: state.eventLog.filters,
+        events: state.eventLog.list.data,
     }),
     {
         onClose: toggleVisibility,
diff --git a/web/src/js/components/FlowTable/FlowTableHead.jsx b/web/src/js/components/FlowTable/FlowTableHead.jsx
index afbd7906..49aa0073 100644
--- a/web/src/js/components/FlowTable/FlowTableHead.jsx
+++ b/web/src/js/components/FlowTable/FlowTableHead.jsx
@@ -29,8 +29,8 @@ function FlowTableHead({ sortColumn, sortDesc, onSort }) {
 
 export default connect(
     state => ({
-        sortDesc: state.flows.sort.sortDesc,
-        sortColumn: state.flows.sort.sortColumn,
+        sortDesc: state.flows.sorter.desc,
+        sortColumn: state.flows.sorter.column,
     }),
     {
         onSort: updateSorter,
diff --git a/web/src/js/components/Header.jsx b/web/src/js/components/Header.jsx
index 5ebe8c7e..dff65b32 100644
--- a/web/src/js/components/Header.jsx
+++ b/web/src/js/components/Header.jsx
@@ -51,7 +51,7 @@ class Header extends Component {
     }
 }
 export default connect(
-    (state) => ({
+    state => ({
         selectedFlow: state.flows.selected[0],
         activeMenu: state.ui.activeMenu
     }),
diff --git a/web/src/js/components/Header/FlowMenu.jsx b/web/src/js/components/Header/FlowMenu.jsx
index abecf0dc..45a84541 100644
--- a/web/src/js/components/Header/FlowMenu.jsx
+++ b/web/src/js/components/Header/FlowMenu.jsx
@@ -29,6 +29,6 @@ function FlowMenu({ flow }) {
 
 export default connect(
     state => ({
-        flow: state.flows.all.byId[state.flows.selected[0]]
+        flow: state.flows.list.byId[state.flows.selected[0]]
     })
 )(FlowMenu)
diff --git a/web/src/js/components/MainView.jsx b/web/src/js/components/MainView.jsx
index a271a7f0..1f1cb90c 100644
--- a/web/src/js/components/MainView.jsx
+++ b/web/src/js/components/MainView.jsx
@@ -154,7 +154,7 @@ class MainView extends Component {
     }
 
     render() {
-        const { flows, selectedFlow, highlight, sort } = this.props
+        const { flows, selectedFlow, highlight } = this.props
         return (
             <div className="main-view">
                 <FlowTable
@@ -182,11 +182,10 @@ class MainView extends Component {
 
 export default connect(
     state => ({
-        flows: state.flows.view,
+        flows: state.flows.list.data,
         filter: state.flows.filter,
-        sort: state.flows.sort,
         highlight: state.flows.highlight,
-        selectedFlow: state.flows.all.byId[state.flows.selected[0]]
+        selectedFlow: state.flows.list.byId[state.flows.selected[0]]
     }),
     {
         selectFlow,
diff --git a/web/src/js/ducks/flows.js b/web/src/js/ducks/flows.js
index 4b4b2a88..5825efa1 100644
--- a/web/src/js/ducks/flows.js
+++ b/web/src/js/ducks/flows.js
@@ -116,7 +116,7 @@ export  function updateSorter(column, desc, sortKeyFun) {
 /**
  * @public
  */
-export function selectFlow(id) {
+export function select(id) {
     return (dispatch, getState) => {
         dispatch({ type: SELECT_FLOW, currentSelection: getState().flows.selected[0], id })
     }
@@ -141,7 +141,7 @@ export function acceptAll() {
 /**
  * @public
  */
-export function delete(flow) {
+export function remove(flow) {
     fetch(`/flows/${flow.id}`, { method: 'DELETE' })
     return { type: REQUEST_ACTION }
 }
diff --git a/web/src/js/ducks/utils/list.js b/web/src/js/ducks/utils/list.js
index c23adfbd..fd8ac106 100644
--- a/web/src/js/ducks/utils/list.js
+++ b/web/src/js/ducks/utils/list.js
@@ -1,4 +1,4 @@
-import * as websocketActions from './websocket'
+import * as websocketActions from '../websocket'
 
 export const UPDATE_FILTER = 'LIST_UPDATE_FILTER'
 export const UPDATE_SORTER = 'LIST_UPDATE_SORTER'
