commit e9bdada1f59a28e3cb956b25f2445e6c1dc5d939
Author: Aldo Cortesi <aldo@corte.si>
Date:   Tue Feb 20 09:46:47 2018 +1300

    option replay_kill_extra -> server_replay_kill_extra
    
    Continuing effort to collect all sever replay options under a commmon prefix.

diff --git a/mitmproxy/addons/serverplayback.py b/mitmproxy/addons/serverplayback.py
index bb9d739d..4a382754 100644
--- a/mitmproxy/addons/serverplayback.py
+++ b/mitmproxy/addons/serverplayback.py
@@ -137,7 +137,7 @@ class ServerPlayback:
                 if not self.flowmap:
                     self.final_flow = f
                     self.stop = True
-            elif ctx.options.replay_kill_extra:
+            elif ctx.options.server_replay_kill_extra:
                 ctx.log.warn(
                     "server_playback: killed non-replay request {}".format(
                         f.request.url
diff --git a/mitmproxy/options.py b/mitmproxy/options.py
index a897596d..8ffa1cad 100644
--- a/mitmproxy/options.py
+++ b/mitmproxy/options.py
@@ -67,7 +67,7 @@ class Options(optmanager.OptManager):
         rawtcp = None  # type: bool
         server_replay_refresh = None  # type: bool
         replacements = None  # type: Sequence[str]
-        replay_kill_extra = None  # type: bool
+        server_replay_kill_extra = None  # type: bool
         rfile = None  # type: Optional[str]
         save_stream_file = None  # type: Optional[str]
         save_stream_filter = None  # type: Optional[str]
@@ -137,7 +137,7 @@ class Options(optmanager.OptManager):
             "Replay client requests from a saved file."
         )
         self.add_option(
-            "replay_kill_extra", bool, False,
+            "server_replay_kill_extra", bool, False,
             "Kill extra requests during replay."
         )
         self.add_option(
diff --git a/mitmproxy/tools/cmdline.py b/mitmproxy/tools/cmdline.py
index d611a8d2..d413ff28 100644
--- a/mitmproxy/tools/cmdline.py
+++ b/mitmproxy/tools/cmdline.py
@@ -87,7 +87,7 @@ def common_options(parser, opts):
     # Server replay
     group = parser.add_argument_group("Server Replay")
     opts.make_parser(group, "server_replay", metavar="PATH", short="S")
-    opts.make_parser(group, "replay_kill_extra")
+    opts.make_parser(group, "server_replay_kill_extra")
     opts.make_parser(group, "server_replay_nopop")
 
     # Replacements
diff --git a/mitmproxy/tools/console/statusbar.py b/mitmproxy/tools/console/statusbar.py
index 83c2a934..e85b1bc9 100644
--- a/mitmproxy/tools/console/statusbar.py
+++ b/mitmproxy/tools/console/statusbar.py
@@ -213,7 +213,7 @@ class StatusBar(urwid.WidgetWrap):
             opts.append("showhost")
         if not self.master.options.server_replay_refresh:
             opts.append("norefresh")
-        if self.master.options.replay_kill_extra:
+        if self.master.options.server_replay_kill_extra:
             opts.append("killextra")
         if not self.master.options.upstream_cert:
             opts.append("no-upstream-cert")
diff --git a/test/mitmproxy/addons/test_serverplayback.py b/test/mitmproxy/addons/test_serverplayback.py
index 56aa9cc7..32249a88 100644
--- a/test/mitmproxy/addons/test_serverplayback.py
+++ b/test/mitmproxy/addons/test_serverplayback.py
@@ -364,7 +364,7 @@ def test_server_playback_kill():
         tctx.configure(
             s,
             server_replay_refresh = True,
-            replay_kill_extra=True
+            server_replay_kill_extra=True
         )
 
         f = tflow.tflow()
diff --git a/test/mitmproxy/tools/console/test_master.py b/test/mitmproxy/tools/console/test_master.py
index 3aa0dc54..fd9b301e 100644
--- a/test/mitmproxy/tools/console/test_master.py
+++ b/test/mitmproxy/tools/console/test_master.py
@@ -21,7 +21,7 @@ def test_format_keyvals():
 
 
 def test_options():
-    assert options.Options(replay_kill_extra=True)
+    assert options.Options(server_replay_kill_extra=True)
 
 
 class TestMaster(tservers.MasterTest):
diff --git a/test/mitmproxy/tools/console/test_statusbar.py b/test/mitmproxy/tools/console/test_statusbar.py
index c2176769..8522eb96 100644
--- a/test/mitmproxy/tools/console/test_statusbar.py
+++ b/test/mitmproxy/tools/console/test_statusbar.py
@@ -17,7 +17,7 @@ def test_statusbar(monkeypatch):
         anticomp=True,
         showhost=True,
         server_replay_refresh=False,
-        replay_kill_extra=True,
+        server_replay_kill_extra=True,
         upstream_cert=False,
         stream_large_bodies="3m",
         mode="transparent",
