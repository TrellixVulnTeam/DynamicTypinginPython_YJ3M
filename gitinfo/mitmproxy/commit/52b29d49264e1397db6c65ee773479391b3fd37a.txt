commit 52b29d49264e1397db6c65ee773479391b3fd37a
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sat Oct 18 15:26:10 2014 +0200

    remove default_ca

diff --git a/examples/flowbasic b/examples/flowbasic
index b99266c8..41402b0c 100755
--- a/examples/flowbasic
+++ b/examples/flowbasic
@@ -36,7 +36,7 @@ class MyMaster(flow.FlowMaster):
 
 config = proxy.ProxyConfig(
     port=8080,
-    default_ca=os.path.expanduser("~/.mitmproxy/mitmproxy-ca.pem")
+    confdir="~/.mitmproxy/"  # use ~/.mitmproxy/mitmproxy-ca.pem as default CA file.
 )
 state = flow.State()
 server = ProxyServer(config)
diff --git a/examples/stickycookies b/examples/stickycookies
index 94adfcf8..67b31da1 100755
--- a/examples/stickycookies
+++ b/examples/stickycookies
@@ -36,10 +36,7 @@ class StickyMaster(controller.Master):
         flow.reply()
 
 
-config = proxy.ProxyConfig(
-    port=8080,
-    default_ca=os.path.expanduser("~/.mitmproxy/mitmproxy-ca.pem")
-)
+config = proxy.ProxyConfig(port=8080)
 server = ProxyServer(config)
 m = StickyMaster(server)
 m.run()
diff --git a/libmproxy/cmdline.py b/libmproxy/cmdline.py
index fe68e95e..c0eb57c9 100644
--- a/libmproxy/cmdline.py
+++ b/libmproxy/cmdline.py
@@ -189,7 +189,7 @@ def common_options(parser):
     parser.add_argument(
         "--confdir",
         action="store", type=str, dest="confdir", default='~/.mitmproxy',
-        help="Configuration directory. (~/.mitmproxy)"
+        help="Configuration directory, contains default CA file. (~/.mitmproxy)"
     )
     parser.add_argument(
         "--host",
diff --git a/libmproxy/proxy/config.py b/libmproxy/proxy/config.py
index e641546f..abdb7c41 100644
--- a/libmproxy/proxy/config.py
+++ b/libmproxy/proxy/config.py
@@ -16,7 +16,7 @@ def parse_host_pattern(patterns):
 
 class ProxyConfig:
     def __init__(self, host='', port=8080, server_version=version.NAMEVERSION,
-                 confdir=CONF_DIR, default_ca=None, clientcerts=None,
+                 confdir=CONF_DIR, clientcerts=None,
                  no_upstream_cert=False, body_size_limit=None,
                  mode=None, upstream_server=None, http_form_in=None, http_form_out=None,
                  authenticator=None, ignore=[],
@@ -47,7 +47,6 @@ class ProxyConfig:
         self.ignore = parse_host_pattern(ignore)
         self.authenticator = authenticator
         self.confdir = os.path.expanduser(confdir)
-        self.default_ca = default_ca or os.path.join(self.confdir, CONF_BASENAME + "-ca.pem")
         self.certstore = certutils.CertStore.from_store(self.confdir, CONF_BASENAME)
         for spec, cert in certs:
             self.certstore.add_cert_file(spec, cert)
