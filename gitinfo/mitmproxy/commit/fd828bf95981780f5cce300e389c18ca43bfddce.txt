commit fd828bf95981780f5cce300e389c18ca43bfddce
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Feb 4 18:40:12 2014 +0100

    shutdown properly if we dont keep serving

diff --git a/libmproxy/dump.py b/libmproxy/dump.py
index 39da8eb3..8bd29ae5 100644
--- a/libmproxy/dump.py
+++ b/libmproxy/dump.py
@@ -223,7 +223,7 @@ class DumpMaster(flow.FlowMaster):
 
     def run(self):  # pragma: no cover
         if self.o.rfile and not self.o.keepserving:
-            self.unload_scripts()
+            self.shutdown()
             return
         try:
             return flow.FlowMaster.run(self)
