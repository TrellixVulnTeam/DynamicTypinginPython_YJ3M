commit 65b8b65ebc47ed9b610e0df765e273df6a27ce6a
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Tue Feb 27 19:05:52 2018 +0100

    add missing client_certs directory expansion

diff --git a/mitmproxy/connections.py b/mitmproxy/connections.py
index e8fc4fbf..29ab6ab5 100644
--- a/mitmproxy/connections.py
+++ b/mitmproxy/connections.py
@@ -281,6 +281,7 @@ class ServerConnection(tcp.TCPClient, stateobject.StateObject):
             raise ValueError("sni must be str, not " + type(sni).__name__)
         client_cert = None
         if client_certs:
+            client_certs = os.path.expanduser(client_certs)
             if os.path.isfile(client_certs):
                 client_cert = client_certs
             else:
