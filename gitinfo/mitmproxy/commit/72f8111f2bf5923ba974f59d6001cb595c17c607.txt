commit 72f8111f2bf5923ba974f59d6001cb595c17c607
Author: Thomas Roth <code@leveldown.de>
Date:   Fri Feb 26 17:48:55 2010 +0100

    Show error if compiling of an expression fails.

diff --git a/libmproxy/filt.py b/libmproxy/filt.py
index 482ba74b..87746f94 100644
--- a/libmproxy/filt.py
+++ b/libmproxy/filt.py
@@ -76,7 +76,7 @@ class _Rex(_Action):
         try:
             self.re = re.compile(self.expr)
         except:
-            self = None
+            raise ValueError, "Cannot compile expression."
 
 def _check_content_type(expr, o):
     val = o.headers.get("content-type")
@@ -315,4 +315,6 @@ def parse(s):
         return bnf.parseString(s, parseAll=True)[0]
     except pp.ParseException:
         return None
+    except ValueError:
+        return None
 
