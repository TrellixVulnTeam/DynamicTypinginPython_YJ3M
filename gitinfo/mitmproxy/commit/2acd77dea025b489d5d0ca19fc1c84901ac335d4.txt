commit 2acd77dea025b489d5d0ca19fc1c84901ac335d4
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Sun Mar 22 15:29:55 2015 +0100

    web: add content download

diff --git a/libmproxy/web/static/app.css b/libmproxy/web/static/app.css
index ccaefe92..d767ac76 100644
--- a/libmproxy/web/static/app.css
+++ b/libmproxy/web/static/app.css
@@ -294,7 +294,7 @@ header .menu {
 .flow-detail hr {
   margin: 0 0 5px;
 }
-.view-selector {
+.view-options {
   margin-top: 10px;
 }
 .flow-detail table {
diff --git a/libmproxy/web/static/app.js b/libmproxy/web/static/app.js
index 84681403..83bb99ab 100644
--- a/libmproxy/web/static/app.js
+++ b/libmproxy/web/static/app.js
@@ -1416,10 +1416,14 @@ var ContentView = React.createClass({displayName: "ContentView",
             return React.createElement(TooLarge, React.__spread({},  this.props, {onClick: this.displayLarge}));
         }
 
+        var downloadUrl = MessageUtils.getContentURL(this.props.flow, message);
+
         return React.createElement("div", null, 
             React.createElement(this.state.View, React.__spread({},  this.props)), 
-            React.createElement("div", {className: "text-center"}, 
-                React.createElement(ViewSelector, {selectView: this.selectView, active: this.state.View, message: message})
+            React.createElement("div", {className: "view-options text-center"}, 
+                React.createElement(ViewSelector, {selectView: this.selectView, active: this.state.View, message: message}), 
+                "Â ", 
+                React.createElement("a", {className: "btn btn-default btn-xs", href: downloadUrl}, React.createElement("i", {className: "fa fa-download"}))
             )
         );
     }
diff --git a/web/src/css/flowdetail.less b/web/src/css/flowdetail.less
index 9feb7245..cc67eeb2 100644
--- a/web/src/css/flowdetail.less
+++ b/web/src/css/flowdetail.less
@@ -34,7 +34,7 @@
 
 }
 
-.view-selector {
+.view-options {
     margin-top: 10px;
 }
 
diff --git a/web/src/js/components/flowview/contentview.js b/web/src/js/components/flowview/contentview.js
index e4d11997..828c6d08 100644
--- a/web/src/js/components/flowview/contentview.js
+++ b/web/src/js/components/flowview/contentview.js
@@ -219,10 +219,14 @@ var ContentView = React.createClass({
             return <TooLarge {...this.props} onClick={this.displayLarge}/>;
         }
 
+        var downloadUrl = MessageUtils.getContentURL(this.props.flow, message);
+
         return <div>
             <this.state.View {...this.props} />
-            <div className="text-center">
+            <div className="view-options text-center">
                 <ViewSelector selectView={this.selectView} active={this.state.View} message={message}/>
+                &nbsp;
+                <a className="btn btn-default btn-xs" href={downloadUrl}><i className="fa fa-download"/></a>
             </div>
         </div>;
     }
