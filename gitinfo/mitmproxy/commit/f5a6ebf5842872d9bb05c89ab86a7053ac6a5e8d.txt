commit f5a6ebf5842872d9bb05c89ab86a7053ac6a5e8d
Author: Maximilian Hils <git@maximilianhils.com>
Date:   Fri Mar 18 14:54:42 2016 +0100

    remove code duplication

diff --git a/mitmproxy/console/__init__.py b/mitmproxy/console/__init__.py
index 16615cbc..5669be48 100644
--- a/mitmproxy/console/__init__.py
+++ b/mitmproxy/console/__init__.py
@@ -47,19 +47,13 @@ class ConsoleState(flow.State):
 
     def add_flow(self, f):
         super(ConsoleState, self).add_flow(f)
-        if self.focus is None:
-            self.set_focus(0)
-        elif self.follow_focus:
-            self.update_focus()
+        self.update_focus()
         self.set_flow_marked(f, False)
         return f
 
     def update_flow(self, f):
         super(ConsoleState, self).update_flow(f)
-        if self.focus is None:
-            self.set_focus(0)
-        elif self.follow_focus:
-            self.update_focus()
+        self.update_focus()
         return f
 
     def set_limit(self, limit):
@@ -83,7 +77,10 @@ class ConsoleState(flow.State):
             self.focus = None
 
     def update_focus(self):
-        self.set_focus(len(self.view) - 1)
+        if self.focus is None:
+            self.set_focus(0)
+        elif self.follow_focus:
+            self.set_focus(len(self.view) - 1)
 
     def set_focus_flow(self, f):
         self.set_focus(self.view.index(f))
