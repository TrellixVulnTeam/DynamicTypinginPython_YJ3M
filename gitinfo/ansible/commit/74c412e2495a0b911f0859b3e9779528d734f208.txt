commit 74c412e2495a0b911f0859b3e9779528d734f208
Author: Matt Warren <mwarren@wanderu.com>
Date:   Mon Oct 7 10:47:12 2013 -0400

    addresses https://github.com/ansible/ansible/issues/4371 - adding -m to home directory modification

diff --git a/library/system/user b/library/system/user
index 49dfcac9ec..46a2a35c14 100644
--- a/library/system/user
+++ b/library/system/user
@@ -362,6 +362,7 @@ class User(object):
             cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
@@ -651,6 +652,7 @@ class FreeBsdUser(User):
             cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
@@ -837,6 +839,7 @@ class OpenBSDUser(User):
             cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
@@ -990,6 +993,7 @@ class NetBSDUser(User):
             cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
@@ -1149,6 +1153,7 @@ class SunOS(User):
                 cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
@@ -1301,6 +1306,7 @@ class AIX(User):
                 cmd.append(self.comment)
 
         if self.home is not None and info[5] != self.home:
+            cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
 
