commit 58942eba2e2068702b3610ec648c16385be52764
Author: Monty Taylor <mordred@inaugust.com>
Date:   Wed Apr 1 10:43:29 2015 -0400

    Use the delete method from shade
    
    Sigh. Turns out glance v1 and glance v2 delete images differently too.

diff --git a/lib/ansible/modules/cloud/openstack/os_image.py b/lib/ansible/modules/cloud/openstack/os_image.py
index 7842137f7d..7e97b3800a 100644
--- a/lib/ansible/modules/cloud/openstack/os_image.py
+++ b/lib/ansible/modules/cloud/openstack/os_image.py
@@ -116,16 +116,6 @@ EXAMPLES = '''
 import time
 
 
-def _glance_delete_image(module, params, client):
-    try:
-        for image in client.images.list():
-            if image.name == params['name']:
-                client.images.delete(image)
-    except Exception, e:
-        module.fail_json(msg="Error in deleting image: %s" % e.message)
-    module.exit_json(changed=True, result="Deleted")
-
-
 def main():
 
     argument_spec = openstack_full_argument_spec(
@@ -179,7 +169,10 @@ def main():
             if not image:
                 module.exit_json(changed=False, result="success")
             else:
-                _glance_delete_image(module, module.params, cloud.glance_client)
+                cloud.delete_image(
+                    name_or_id=module.params['name'],
+                    wait=module.params['wait'],
+                    timeout=module.params['timeout'])
                 changed = True
 
         module.exit_json(changed=changed, id=image.id, result="success")
