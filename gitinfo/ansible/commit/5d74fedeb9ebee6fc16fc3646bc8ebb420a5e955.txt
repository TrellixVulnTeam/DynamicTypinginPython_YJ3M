commit 5d74fedeb9ebee6fc16fc3646bc8ebb420a5e955
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Tue Apr 10 16:17:39 2012 -0700

    Update Runner to default to C.DEFAULT_TRANSPORT
    
    This also uses self.transport when instantiating Connection object.

diff --git a/lib/ansible/runner.py b/lib/ansible/runner.py
index b2cf3518b9..2093cac655 100755
--- a/lib/ansible/runner.py
+++ b/lib/ansible/runner.py
@@ -73,7 +73,7 @@ class Runner(object):
         forks=C.DEFAULT_FORKS, timeout=C.DEFAULT_TIMEOUT, pattern=C.DEFAULT_PATTERN,
         remote_user=C.DEFAULT_REMOTE_USER, remote_pass=C.DEFAULT_REMOTE_PASS,
         remote_port=C.DEFAULT_REMOTE_PORT, background=0, basedir=None, setup_cache=None,
-        transport='paramiko', conditional='True', groups={}, callbacks=None, verbose=False,
+        transport=C.DEFAULT_TRANSPORT, conditional='True', groups={}, callbacks=None, verbose=False,
         debug=False, sudo=False, extra_vars=None, module_vars=None):
    
         if setup_cache is None:
@@ -86,7 +86,9 @@ class Runner(object):
         self.callbacks = callbacks
 
         self.generated_jid = str(random.randint(0, 999999999999))
-        self.connector = ansible.connection.Connection(self, transport)
+
+        self.transport = transport
+        self.connector = ansible.connection.Connection(self, self.transport)
 
         if type(host_list) == str:
             self.host_list, self.groups = self.parse_hosts(host_list)
