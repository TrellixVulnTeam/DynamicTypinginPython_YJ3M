commit 3c65c2bfafcaef5cba98b0b4cf45a25b65aa45ea
Author: Reid Wahl <30487349+nrwahl2@users.noreply.github.com>
Date:   Mon Aug 28 11:38:32 2017 -0500

    Fixes #20752: Prevent AIX get_vgs_facts from failing on offline lvols (#28701)

diff --git a/lib/ansible/module_utils/facts/hardware/aix.py b/lib/ansible/module_utils/facts/hardware/aix.py
index 3a54b095c4..27b1f206e3 100644
--- a/lib/ansible/module_utils/facts/hardware/aix.py
+++ b/lib/ansible/module_utils/facts/hardware/aix.py
@@ -146,7 +146,7 @@ class AIXHardware(Hardware):
         vgs_facts = {}
         lsvg_path = self.module.get_bin_path("lsvg")
         xargs_path = self.module.get_bin_path("xargs")
-        cmd = "%s | %s %s -p" % (lsvg_path, xargs_path, lsvg_path)
+        cmd = "%s -o | %s %s -p" % (lsvg_path, xargs_path, lsvg_path)
         if lsvg_path and xargs_path:
             rc, out, err = self.module.run_command(cmd, use_unsafe_shell=True)
             if rc == 0 and out:
