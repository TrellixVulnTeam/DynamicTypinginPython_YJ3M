commit 7b98ff6a318cfa857dbcff17169f59f9b91046c9
Author: Adam Miller <admiller@redhat.com>
Date:   Fri Mar 8 22:53:46 2019 -0600

    fix pkg name nevra parsing regex in dnf (#53572)

diff --git a/changelogs/fragments/dnf-packagename-parse.yaml b/changelogs/fragments/dnf-packagename-parse.yaml
new file mode 100644
index 0000000000..a50182a914
--- /dev/null
+++ b/changelogs/fragments/dnf-packagename-parse.yaml
@@ -0,0 +1,4 @@
+---
+bugfixes:
+  - 'dnf - fix package parsing to handle git snapshot nevra'
+  - 'dnf - enable package name specification for absent'
diff --git a/lib/ansible/modules/packaging/os/dnf.py b/lib/ansible/modules/packaging/os/dnf.py
index 9ef66cd0e6..9e79121817 100644
--- a/lib/ansible/modules/packaging/os/dnf.py
+++ b/lib/ansible/modules/packaging/os/dnf.py
@@ -383,7 +383,7 @@ class DnfModule(YumDnf):
         ]
 
         rpm_arch_re = re.compile(r'(.*)\.(.*)')
-        rpm_nevr_re = re.compile(r'(\S+)-(?:(\d*):)?(.*)-(~?\w+[\w.]*)')
+        rpm_nevr_re = re.compile(r'(\S+)-(?:(\d*):)?(.*)-(~?\w+[\w.+]*)')
         try:
             arch = None
             rpm_arch_match = rpm_arch_re.match(packagename)
