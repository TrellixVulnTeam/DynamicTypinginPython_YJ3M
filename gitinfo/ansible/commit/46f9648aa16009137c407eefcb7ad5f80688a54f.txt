commit 46f9648aa16009137c407eefcb7ad5f80688a54f
Author: Matt Clay <matt@mystile.com>
Date:   Wed Feb 8 11:55:47 2017 -0800

    Fix type() usage check in validate-modules.
    
    This avoids false positives when 'if' or 'or' are in a string
    preceding the use of type() on the same line.

diff --git a/test/sanity/validate-modules/validate-modules b/test/sanity/validate-modules/validate-modules
index 6b626f55e4..e60c36a0f6 100755
--- a/test/sanity/validate-modules/validate-modules
+++ b/test/sanity/validate-modules/validate-modules
@@ -44,7 +44,7 @@ from voluptuous.humanize import humanize_error
 
 BLACKLIST_DIRS = frozenset(('.git', 'test', '.github', '.idea'))
 INDENT_REGEX = re.compile(r'([\t]*)')
-TYPE_REGEX = re.compile(r'.*(if|or)(\s+.*|\s+)(?<!_)(?<!str\()type\(.*')
+TYPE_REGEX = re.compile(r'.*(if|or)(\s+[^"\']*|\s+)(?<!_)(?<!str\()type\(.*')
 BLACKLIST_IMPORTS = {
     'requests': {
         'new_only': True,
