commit f086279a239a4f823d1f5df1bc8d4a668b1e37d9
Author: David Shrewsbury <shrewsbury.dave@gmail.com>
Date:   Thu Oct 22 11:52:28 2015 -0400

    Fix for routers without external interfaces

diff --git a/lib/ansible/modules/cloud/openstack/os_router.py b/lib/ansible/modules/cloud/openstack/os_router.py
index e5eb9bdc98..d8d547f5f1 100644
--- a/lib/ansible/modules/cloud/openstack/os_router.py
+++ b/lib/ansible/modules/cloud/openstack/os_router.py
@@ -164,10 +164,13 @@ def _needs_update(cloud, module, router, network, internal_subnet_ids):
     """
     if router['admin_state_up'] != module.params['admin_state_up']:
         return True
-    if router['external_gateway_info'].get('enable_snat', True) != module.params['enable_snat']:
-        return True
+    if router['external_gateway_info']:
+        if router['external_gateway_info'].get('enable_snat', True) != module.params['enable_snat']:
+            return True
     if network:
-        if router['external_gateway_info']['network_id'] != network['id']:
+        if not router['external_gateway_info']:
+            return True
+        elif router['external_gateway_info']['network_id'] != network['id']:
             return True
 
     # check external interfaces
