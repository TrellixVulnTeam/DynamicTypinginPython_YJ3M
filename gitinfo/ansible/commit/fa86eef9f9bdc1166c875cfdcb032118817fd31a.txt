commit fa86eef9f9bdc1166c875cfdcb032118817fd31a
Author: James Cammarata <jimi@sngx.net>
Date:   Tue May 27 14:30:12 2014 -0500

    Make sure value in regex_replace is a string
    
    Fixes #7551

diff --git a/lib/ansible/runner/filter_plugins/core.py b/lib/ansible/runner/filter_plugins/core.py
index 293ebc4ae3..f792272bc2 100644
--- a/lib/ansible/runner/filter_plugins/core.py
+++ b/lib/ansible/runner/filter_plugins/core.py
@@ -132,6 +132,10 @@ def search(value, pattern='', ignorecase=False):
 
 def regex_replace(value='', pattern='', replacement='', ignorecase=False):
     ''' Perform a `re.sub` returning a string '''
+
+    if not isinstance(value, basestring):
+        value = str(value)
+
     if ignorecase:
         flags = re.I
     else:
