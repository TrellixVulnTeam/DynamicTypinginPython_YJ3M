commit 99796dfa87731b5dc210e7649bfe09664c99ffcd
Author: Shachaf92 <shachaf.gold@gmail.com>
Date:   Mon Sep 16 03:02:05 2019 +0300

    win_find - Fix deduped files mistaken for directories (#58680)
    
    * win_find - Fix deduped files mistaken for directories
    
    * Update win_find.ps1
    
    * Update win_find.py
    
    * Update win_find.ps1

diff --git a/changelogs/fragments/win_find-fix-ignore-of-deduped-files.yml b/changelogs/fragments/win_find-fix-ignore-of-deduped-files.yml
new file mode 100644
index 0000000000..1f97621433
--- /dev/null
+++ b/changelogs/fragments/win_find-fix-ignore-of-deduped-files.yml
@@ -0,0 +1,2 @@
+bugfixes:
+  - "win_find - Fix deduped files mistaken for directories (https://github.com/ansible/ansible/issues/58511)"
\ No newline at end of file
diff --git a/lib/ansible/modules/windows/win_find.ps1 b/lib/ansible/modules/windows/win_find.ps1
index d7f6652e1c..2dca0a26dd 100644
--- a/lib/ansible/modules/windows/win_find.ps1
+++ b/lib/ansible/modules/windows/win_find.ps1
@@ -238,13 +238,12 @@ Function Get-FileStat($file) {
     }
 
     $islnk = $false
-    $isdir = $false
+    $isdir = $attributes -contains 'Directory'
     $isshared = $false
 
     if ($attributes -contains 'ReparsePoint') {
         # TODO: Find a way to differenciate between soft and junction links
         $islnk = $true
-        $isdir = $true
 
         # Try and get the symlink source, can result in failure if link is broken
         try {
diff --git a/lib/ansible/modules/windows/win_find.py b/lib/ansible/modules/windows/win_find.py
index 387969e217..10875d9421 100644
--- a/lib/ansible/modules/windows/win_find.py
+++ b/lib/ansible/modules/windows/win_find.py
@@ -262,7 +262,7 @@ files:
             sample: true
         islnk:
             description: If the path is a symbolic link or junction or not.
-            returned: success, path exists
+            returned: success, path exists or deduped files
             type: bool
             sample: true
         isreadonly:
