commit bb630f52ff6006800a5d2066706901004e2b84d9
Author: Peter Sprygada <psprygada@ansible.com>
Date:   Fri Aug 26 15:58:06 2016 -0400

    fixes iosxr configure method to commit the changes
    
    The iosxr configure method did not send the commit command to active the
    changes after pushed to the remote device.  This change address that problem

diff --git a/lib/ansible/module_utils/iosxr.py b/lib/ansible/module_utils/iosxr.py
index c15edc9748..b4910208f2 100644
--- a/lib/ansible/module_utils/iosxr.py
+++ b/lib/ansible/module_utils/iosxr.py
@@ -69,7 +69,10 @@ class Cli(CliBase):
 
     def configure(self, commands, **kwargs):
         cmds = ['configure terminal']
+        if commands[-1] == 'end':
+            commands.pop()
         cmds.extend(to_list(commands))
+        cmds.extend(['commit', 'end'])
         responses = self.execute(cmds)
         return responses[1:]
 
