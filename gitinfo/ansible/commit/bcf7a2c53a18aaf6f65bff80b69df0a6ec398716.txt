commit bcf7a2c53a18aaf6f65bff80b69df0a6ec398716
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Wed Feb 27 10:08:45 2013 +0100

    Catch all exceptions coming from lookup plugins
    
    Fixes using $TEMPLATE() and hostvars in a task without a name, among
    other things.

diff --git a/lib/ansible/utils/template.py b/lib/ansible/utils/template.py
index 6401c33a36..2fefe9bd7a 100644
--- a/lib/ansible/utils/template.py
+++ b/lib/ansible/utils/template.py
@@ -175,7 +175,7 @@ def _varFind(basedir, text, vars, lookup_fatal, depth, expand_lists):
                 replacement = instance.run(args, inject=vars)
                 if expand_lists:
                     replacement = u",".join([unicode(x) for x in replacement])
-            except errors.AnsibleError:
+            except:
                 if not lookup_fatal:
                     replacement = None
                 else:
