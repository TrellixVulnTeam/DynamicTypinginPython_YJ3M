commit b54086ef020c20d5e8853013b940e8581ec134da
Author: Matt Martz <matt@sivel.net>
Date:   Tue Feb 19 09:02:12 2019 -0600

    Merge doc fragments in earlier (#52193)
    
    * Merge doc fragments in earlier
    
    * Move it even higher
    
    * Remove errant docs key
    
    * Fix type

diff --git a/lib/ansible/plugins/doc_fragments/asa.py b/lib/ansible/plugins/doc_fragments/asa.py
index 7bbe00f74e..fa2f7fd507 100644
--- a/lib/ansible/plugins/doc_fragments/asa.py
+++ b/lib/ansible/plugins/doc_fragments/asa.py
@@ -41,7 +41,7 @@ options:
           - Specifies the DNS host name or address for connecting to the remote
             device over the specified transport.  The value of host is used as
             the destination address for the transport.
-        type: host
+        type: str
       port:
         description:
           - Specifies the port to use when building the connection to the remote
diff --git a/lib/ansible/plugins/doc_fragments/netapp.py b/lib/ansible/plugins/doc_fragments/netapp.py
index 69976cf69e..624e698dbb 100644
--- a/lib/ansible/plugins/doc_fragments/netapp.py
+++ b/lib/ansible/plugins/doc_fragments/netapp.py
@@ -140,8 +140,7 @@ options:
     required: true
     description:
     - The url to the SANtricity Web Services Proxy or Embedded Web Services API.
-    example:
-    - https://prod-1.wahoo.acme.com/devmgr/v2
+      Example https://prod-1.wahoo.acme.com/devmgr/v2
   validate_certs:
     required: false
     default: true
diff --git a/test/sanity/validate-modules/main.py b/test/sanity/validate-modules/main.py
index 5786961e9e..143a93c39d 100755
--- a/test/sanity/validate-modules/main.py
+++ b/test/sanity/validate-modules/main.py
@@ -985,6 +985,8 @@ class ModuleValidator(Validator):
                                 msg='Unknown DOCUMENTATION error, see TRACE: %s' % e
                             )
 
+                    add_fragments(doc, self.object_path, fragment_loader=fragment_loader)
+
                     if 'options' in doc and doc['options'] is None:
                         self.reporter.error(
                             path=self.object_path,
@@ -1005,8 +1007,6 @@ class ModuleValidator(Validator):
                         # This is the normal case
                         self._validate_docs_schema(doc, doc_schema(self.object_name.split('.')[0]), 'DOCUMENTATION', 305)
 
-                    add_fragments(doc, self.object_path, fragment_loader=fragment_loader)
-
                     existing_doc = self._check_for_new_args(doc, metadata)
                     self._check_version_added(doc, existing_doc)
 
