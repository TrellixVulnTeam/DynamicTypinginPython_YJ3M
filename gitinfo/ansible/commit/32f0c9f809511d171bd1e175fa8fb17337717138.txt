commit 32f0c9f809511d171bd1e175fa8fb17337717138
Author: Anil Kumar Muraleedharan <amuraleedhar@lenovo.com>
Date:   Tue Sep 12 20:44:52 2017 +0530

    Bug Fixes for Vlan Name not assigned and Switch Error (#29953)

diff --git a/lib/ansible/module_utils/cnos.py b/lib/ansible/module_utils/cnos.py
index d3088f27db..446fd8b50f 100644
--- a/lib/ansible/module_utils/cnos.py
+++ b/lib/ansible/module_utils/cnos.py
@@ -2178,7 +2178,8 @@ def checkVlanNameNotAssigned(
     retVal = waitForDeviceResponse(command, prompt, timeout, obj)
     if(retVal.find(vlanName) != -1):
         return "Nok"
-    return retVal
+    else:
+        return "ok"
 # EOM
 
 
@@ -3175,7 +3176,7 @@ def checkOutputForError(output):
         index = output.lower().find("invalid")
         startIndex = index + 8
         if(index == -1):
-            index = output.lower().find("Cannot be enabled in L2 Interface")
+            index = output.lower().find("cannot be enabled in l2 interface")
             startIndex = index + 34
             if(index == -1):
                 index = output.lower().find("incorrect")
