commit 05830658bc9593a4083fd4b3ffc42fab0318c5d4
Author: James Tanner <tanner.jc@gmail.com>
Date:   Thu Apr 26 14:17:16 2018 -0400

    task_executor send the task as a kwarg to connections (#39341)
    
    * make taskexecutor send the task as a kwarg to connections
    
    * Fix line length error
    
    * Send just the task uuid

diff --git a/lib/ansible/executor/task_executor.py b/lib/ansible/executor/task_executor.py
index ab6915dee6..13b7d24bc9 100644
--- a/lib/ansible/executor/task_executor.py
+++ b/lib/ansible/executor/task_executor.py
@@ -794,7 +794,14 @@ class TaskExecutor:
 
         conn_type = self._play_context.connection
 
-        connection = self._shared_loader_obj.connection_loader.get(conn_type, self._play_context, self._new_stdin, ansible_playbook_pid=to_text(os.getppid()))
+        connection = self._shared_loader_obj.connection_loader.get(
+            conn_type,
+            self._play_context,
+            self._new_stdin,
+            task_uuid=self._task._uuid,
+            ansible_playbook_pid=to_text(os.getppid())
+        )
+
         if not connection:
             raise AnsibleError("the connection plugin '%s' was not found" % conn_type)
 
