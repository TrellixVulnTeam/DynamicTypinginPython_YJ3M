commit 88a840e52f3795ff9fe7d5f4dc5f9c256fbccf77
Author: Patrik Lundin <patrik.lundin.swe@gmail.com>
Date:   Tue Mar 12 20:25:25 2013 +0100

    Dont exit in FreeBSD/NetBSD subclass in check mode
    
    * As the FIXMEs note: only exit if enable state is going to change.
    * This is already handled in service_enable_rcconf() being called by both subclasses.

diff --git a/library/service b/library/service
index 9e4475ec7d..fb1da54df7 100644
--- a/library/service
+++ b/library/service
@@ -595,10 +595,6 @@ class FreeBsdService(Service):
 
         self.rcconf_key = "%s_enable" % self.name
 
-        # FIXME: detect the enablement state rather than just running the command
-        if self.module.check_mode:
-            self.module.exit_json(changed=True, msg="editing service enablement")
-
         return self.service_enable_rcconf()
 
     def service_control(self):
@@ -678,10 +674,6 @@ class NetBsdService(Service):
         else:
             self.rcconf_value = "NO"
 
-        # FIXME: need to decide whether to run enablement command or not
-        if self.module.check_mode:
-            self.module.exit_json(changed=True, msg="editing service enablement")
-
         rcfiles = [ '/etc/rc.conf' ]		# Overkill?
         for rcfile in rcfiles:
             if os.path.isfile(rcfile):
