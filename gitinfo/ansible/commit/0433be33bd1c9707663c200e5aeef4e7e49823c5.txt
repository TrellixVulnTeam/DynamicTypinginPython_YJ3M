commit 0433be33bd1c9707663c200e5aeef4e7e49823c5
Author: Ondra Machacek <machacek.ondra@gmail.com>
Date:   Fri Mar 10 14:48:29 2017 +0100

    ovirt: dyn_inventory fix Python2 and Python3 compat (#22453)

diff --git a/contrib/inventory/ovirt4.py b/contrib/inventory/ovirt4.py
index 47e3ba1a40..5ee5986266 100755
--- a/contrib/inventory/ovirt4.py
+++ b/contrib/inventory/ovirt4.py
@@ -60,12 +60,16 @@ Author: Ondra Machacek (@machacekondra)
 """
 
 import argparse
-import ConfigParser
 import os
 import sys
 
 from collections import defaultdict
 
+try:
+    import ConfigParser as configparser
+except ImportError:
+    import configparser
+
 try:
     import json
 except ImportError:
@@ -118,7 +122,7 @@ def create_connection():
     config_path = os.environ.get('OVIRT_INI_PATH', default_path)
 
     # Create parser and add ovirt section if it doesn't exist:
-    config = ConfigParser.SafeConfigParser(
+    config = configparser.SafeConfigParser(
         defaults={
             'ovirt_url': None,
             'ovirt_username': None,
@@ -135,8 +139,8 @@ def create_connection():
         url=config.get('ovirt', 'ovirt_url'),
         username=config.get('ovirt', 'ovirt_username'),
         password=config.get('ovirt', 'ovirt_password'),
-        ca_file=config.get('ovirt', 'ovirt_ca_file', None),
-        insecure=config.get('ovirt', 'ovirt_ca_file', None) is None,
+        ca_file=config.get('ovirt', 'ovirt_ca_file'),
+        insecure=config.get('ovirt', 'ovirt_ca_file') is None,
     )
 
 
