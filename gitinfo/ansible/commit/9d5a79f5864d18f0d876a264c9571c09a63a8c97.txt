commit 9d5a79f5864d18f0d876a264c9571c09a63a8c97
Author: Timothy Appnel <tim@appnel.com>
Date:   Fri Sep 7 18:07:52 2012 -0400

    Made groups.groupname and group_names variables accessible in playbooks.
    Also modified code that feeds the groups data structure to templates so
    that it resolves groups inside of groups to hostnames.

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 4073791876..8f983b87aa 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -319,11 +319,7 @@ class Runner(object):
         # 'hostvars' variable contains variables for each host name
         #  ... and is set elsewhere
         # 'inventory_hostname' is also set elsewhere
-        group_hosts = {}
-        for g in self.inventory.groups:
-            group_hosts[g.name] = [ h.name for h in g.hosts ]
-        inject['groups'] = group_hosts
-
+        inject['groups'] = self.inventory.groups_list()
         # allow module args to work as a dictionary
         # though it is usually a string
         new_args = ""
