commit 80b73712a9130eabe441f9acef2f4f4453dfbe84
Author: Jack Parsons <jack.parsons1995@hotmail.com>
Date:   Tue Aug 27 18:02:26 2019 +0100

    Template value of debugger and then check for validity (#53587)
    
    * Template value of debugger and then check for validity
    
    * Removed if/else and forcing failure on undefined as per comments
    
    * Added changelog
    
    * changed colon to brackets so it appears as a string

diff --git a/changelogs/fragments/53587-allow_templated_debugger_value.yaml b/changelogs/fragments/53587-allow_templated_debugger_value.yaml
new file mode 100644
index 0000000000..c7b80033d9
--- /dev/null
+++ b/changelogs/fragments/53587-allow_templated_debugger_value.yaml
@@ -0,0 +1,2 @@
+minor_changes:
+    - Allow debugger to take a templated value (https://github.com/ansible/ansible/pull/53587)
diff --git a/lib/ansible/playbook/base.py b/lib/ansible/playbook/base.py
index 3b0e2ac23d..78dbb74a2c 100644
--- a/lib/ansible/playbook/base.py
+++ b/lib/ansible/playbook/base.py
@@ -254,7 +254,8 @@ class FieldAttributeBase(with_metaclass(BaseMeta, object)):
     def get_variable_manager(self):
         return self._variable_manager
 
-    def _validate_debugger(self, attr, name, value):
+    def _post_validate_debugger(self, attr, value, templar):
+        value = templar.template(value)
         valid_values = frozenset(('always', 'on_failed', 'on_unreachable', 'on_skipped', 'never'))
         if value and isinstance(value, string_types) and value not in valid_values:
             raise AnsibleParserError("'%s' is not a valid value for debugger. Must be one of %s" % (value, ', '.join(valid_values)), obj=self.get_ds())
