commit d55e3ad0b81f641ea891fa283f365a92b6e93143
Author: Gon√©ri Le Bouder <goneri@lebouder.net>
Date:   Thu Apr 11 10:24:55 2019 -0400

    vmware_host_vmnic_facts: ensure nm_config is define (#55156)
    
    Fix a regression introduced by f96c569f9d1568f634645e7d3d04b566812039ee.

diff --git a/lib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py b/lib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py
index a867d5b423..32bf5584e5 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_host_vmnic_facts.py
@@ -192,8 +192,8 @@ class HostVmnicMgr(PyVmomi):
             host_vmnic_facts = dict(all=[], available=[], used=[], vswitch=dict(), dvswitch=dict())
             host_nw_system = host.configManager.networkSystem
             if host_nw_system:
-                vmnics = [pnic.device for pnic in nw_config.pnic if pnic.startswith('vmnic')]
                 nw_config = host_nw_system.networkConfig
+                vmnics = [pnic.device for pnic in nw_config.pnic if pnic.device.startswith('vmnic')]
                 host_vmnic_facts['all'] = [pnic.device for pnic in nw_config.pnic]
                 host_vmnic_facts['num_vmnics'] = len(vmnics)
                 host_vmnic_facts['vmnic_details'] = []
