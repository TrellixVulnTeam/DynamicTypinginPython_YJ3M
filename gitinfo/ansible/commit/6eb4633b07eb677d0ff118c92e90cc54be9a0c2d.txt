commit 6eb4633b07eb677d0ff118c92e90cc54be9a0c2d
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Feb 23 15:06:37 2016 -0500

    always return a checksum key, even if empty

diff --git a/lib/ansible/plugins/action/__init__.py b/lib/ansible/plugins/action/__init__.py
index f1be406f6b..28eb6ffe6e 100644
--- a/lib/ansible/plugins/action/__init__.py
+++ b/lib/ansible/plugins/action/__init__.py
@@ -311,6 +311,10 @@ class ActionBase(with_metaclass(ABCMeta, object)):
             # empty might be matched, 1 should never match, also backwards compatible
             mystat['stat']['checksum'] = '1'
 
+        # happens sometimes when it is a dir and not on bsd
+        if not 'checksum' in mystat['stat']:
+            mystat['stat']['checksum'] = ''
+
         return mystat['stat']
 
     def _remote_checksum(self, path, all_vars):
