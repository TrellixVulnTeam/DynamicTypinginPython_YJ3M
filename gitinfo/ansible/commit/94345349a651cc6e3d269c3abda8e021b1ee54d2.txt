commit 94345349a651cc6e3d269c3abda8e021b1ee54d2
Author: Constantin07 <constantin.bugneac@endava.com>
Date:   Wed Feb 17 22:09:02 2016 +0000

    Fixing issue #3057 - AttributeError: 'str' object has no attribute 'items'

diff --git a/lib/ansible/modules/cloud/amazon/ec2_tag.py b/lib/ansible/modules/cloud/amazon/ec2_tag.py
index db6aab3d4a..5fa6f484f8 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_tag.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_tag.py
@@ -109,7 +109,6 @@ tasks:
     - volumes
 '''
 
-import sys
 
 try:
     import boto.ec2
@@ -122,7 +121,7 @@ def main():
     argument_spec = ec2_argument_spec()
     argument_spec.update(dict(
             resource = dict(required=True),
-            tags = dict(),
+            tags = dict(type='dict'),
             state = dict(default='present', choices=['present', 'absent', 'list']),
         )
     )
@@ -184,4 +183,5 @@ def main():
 from ansible.module_utils.basic import *
 from ansible.module_utils.ec2 import *
 
-main()
+if __name__ == '__main__':
+    main()
