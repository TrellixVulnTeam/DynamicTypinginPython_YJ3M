commit 950701ba3ec671956e32502e2340a6f8b796d0fc
Author: Micheal Waltz <mwaltz@qualcomm.com>
Date:   Thu Jul 23 12:17:26 2015 -0700

    Use a if/else instead to avoid loading possibly invalid values for Memory

diff --git a/lib/ansible/modules/cloud/docker/docker.py b/lib/ansible/modules/cloud/docker/docker.py
index ddc6ff38bc..d6d1ad5e62 100644
--- a/lib/ansible/modules/cloud/docker/docker.py
+++ b/lib/ansible/modules/cloud/docker/docker.py
@@ -1039,10 +1039,10 @@ class DockerManager(object):
             except ValueError as e:
                 self.module.fail_json(msg=str(e))
 
-            actual_mem = container['HostConfig']['Memory']
-
-            #Use v1.18 API and earlier Memory element location
-            if docker_api_version <= 1.18:
+            #For v1.19 API and above use HostConfig, otherwise use Config
+            if docker_api_version >= 1.19:
+                actual_mem = container['HostConfig']['Memory']
+            else:
                 actual_mem = container['Config']['Memory']
 
             if expected_mem and actual_mem != expected_mem:
