commit 9b6df6d9a8fdc71ee7a9c8d186ac856b62d28bdc
Author: rghe <rghe@users.noreply.github.com>
Date:   Thu Aug 14 18:10:58 2014 +0200

    fixes #8626 by reverting 0d8b81cd

diff --git a/library/packaging/urpmi b/library/packaging/urpmi
index be49dfd264..a42ee7b87f 100644
--- a/library/packaging/urpmi
+++ b/library/packaging/urpmi
@@ -76,19 +76,11 @@ import json
 import shlex
 import os
 import sys
-try:
-    import rpm
-    USE_PYTHON = True
-except ImportError:
-    USE_PYTHON = False
 
 URPMI_PATH = '/usr/sbin/urpmi'
 URPME_PATH = '/usr/sbin/urpme'
 
 def query_package(module, name):
-    if USE_PYTHON:
-        return rpm.TransactionSet().dbMatch(rpm.RPMTAG_NAME, name).count() != 0
-
     # rpm -q returns 0 if the package is installed,
     # 1 if it is not installed
     cmd = "rpm -q %s" % (name)
@@ -99,9 +91,6 @@ def query_package(module, name):
         return False
 
 def query_package_provides(module, name):
-    if USE_PYTHON:
-        return rpm.TransactionSet().dbMatch(rpm.RPMTAG_PROVIDES, name).count() != 0
-
     # rpm -q returns 0 if the package is installed,
     # 1 if it is not installed
     cmd = "rpm -q --provides %s" % (name)
