commit 5cd7a08418ffdfe6978e8f48019eea218e636982
Author: Adrian Likins <alikins@redhat.com>
Date:   Fri Dec 16 11:45:51 2016 -0500

    Check solaris 'smbios' is exists before running it
    
    smbios could potentially be None here, possibly causing
    the solaris 8/9 failures seen at #19282
    
    Fixes #19282

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index a99b4eaedb..ed01637b2f 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -3591,6 +3591,8 @@ class SunOSVirtual(Virtual):
 
         else:
             smbios = self.module.get_bin_path('smbios')
+            if not smbios:
+                return
             rc, out, err = self.module.run_command(smbios)
             if rc == 0:
                 for line in out.splitlines():
