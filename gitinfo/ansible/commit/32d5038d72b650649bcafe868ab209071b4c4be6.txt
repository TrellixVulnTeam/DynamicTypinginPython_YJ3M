commit 32d5038d72b650649bcafe868ab209071b4c4be6
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sat Jul 20 11:24:16 2013 -0400

    Don't add --version HEAD parameter is already HEAD, some versions of git don't like this.

diff --git a/library/source_control/git b/library/source_control/git
index b2101fe950..a7417bf693 100644
--- a/library/source_control/git
+++ b/library/source_control/git
@@ -108,7 +108,7 @@ def clone(git_path, module, repo, dest, remote, depth, version):
         pass
     os.chdir(dest_dirname)
     cmd = [ git_path, 'clone', '-o', remote, '--recursive' ]
-    if version:
+    if version and version != 'HEAD':
         cmd.extend([ '--branch', str(version) ])
     if depth:
         cmd.extend([ '--depth', str(depth) ])
