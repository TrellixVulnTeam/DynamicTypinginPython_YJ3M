commit 3dc5ba618622add48fc341eed6a9b8c46c823809
Author: Martin Krizek <martin.krizek@gmail.com>
Date:   Thu Jan 17 08:29:26 2019 +0100

    Remove unnecessary calls to cache_block_tasks noop (#50715)

diff --git a/lib/ansible/executor/play_iterator.py b/lib/ansible/executor/play_iterator.py
index 665e3fe181..92ab0bed76 100644
--- a/lib/ansible/executor/play_iterator.py
+++ b/lib/ansible/executor/play_iterator.py
@@ -192,17 +192,12 @@ class PlayIterator:
 
         setup_block = setup_block.filter_tagged_tasks(play_context, all_vars)
         self._blocks.append(setup_block)
-        self.cache_block_tasks(setup_block)
 
         for block in self._play.compile():
             new_block = block.filter_tagged_tasks(play_context, all_vars)
             if new_block.has_tasks():
-                self.cache_block_tasks(new_block)
                 self._blocks.append(new_block)
 
-        for handler_block in self._play.handlers:
-            self.cache_block_tasks(handler_block)
-
         self._host_states = {}
         start_at_matched = False
         batch = inventory.get_hosts(self._play.hosts)
diff --git a/lib/ansible/plugins/strategy/__init__.py b/lib/ansible/plugins/strategy/__init__.py
index 4c98ab023e..40dfc8f091 100644
--- a/lib/ansible/plugins/strategy/__init__.py
+++ b/lib/ansible/plugins/strategy/__init__.py
@@ -909,7 +909,6 @@ class StrategyBase:
                     # of hosts which included the file to the notified_handlers dict
                     for block in new_blocks:
                         iterator._play.handlers.append(block)
-                        iterator.cache_block_tasks(block)
                         for task in block.block:
                             task_name = task.get_name()
                             display.debug("adding task '%s' included in handler '%s'" % (task_name, handler_name))
