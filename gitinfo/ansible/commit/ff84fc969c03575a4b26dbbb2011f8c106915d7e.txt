commit ff84fc969c03575a4b26dbbb2011f8c106915d7e
Author: Kedar K <4506537+kedarX@users.noreply.github.com>
Date:   Fri Sep 15 23:51:34 2017 +0530

    Fixes nxos_pim_rp_address module idempotence (#29620)
    
    * Fixes nxos_pim_rp_address module idempotence
    
    *  * Adds a note in header comment to indicate no support for absent state

diff --git a/lib/ansible/modules/network/nxos/nxos_pim_rp_address.py b/lib/ansible/modules/network/nxos/nxos_pim_rp_address.py
index d688f1753f..dba519c02d 100644
--- a/lib/ansible/modules/network/nxos/nxos_pim_rp_address.py
+++ b/lib/ansible/modules/network/nxos/nxos_pim_rp_address.py
@@ -33,7 +33,7 @@ description:
 author: Gabriele Gerbino (@GGabriele)
 notes:
   - Tested against NXOSv 7.3.(0)D1(1) on VIRL
-  - C(state=absent) remove the whole rp-address configuration, if existing.
+  - C(state=absent) is currently not supported on all platforms.
 options:
   rp_address:
     description:
@@ -102,12 +102,12 @@ def get_existing(module, args):
 
         existing['bidir'] = existing.get('bidir') or 'bidir' in line
         if len(values) > 2:
-            value = values[1]
-            if values[2] == 'route-map':
+            value = values[2]
+            if values[1] == 'route-map':
                 existing['route_map'] = value
-            elif values[2] == 'prefix-list':
+            elif values[1] == 'prefix-list':
                 existing['prefix_list'] = value
-            elif values[2] == 'group-list':
+            elif values[1] == 'group-list':
                 existing['group_list'] = value
 
     return existing
