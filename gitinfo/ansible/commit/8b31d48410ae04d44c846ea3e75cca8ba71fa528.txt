commit 8b31d48410ae04d44c846ea3e75cca8ba71fa528
Author: Fabio Alessandro Locati <me@fale.io>
Date:   Sun Dec 4 10:58:06 2016 +0000

    Native YAML - monitoring/sensu_check (#3635)

diff --git a/lib/ansible/modules/extras/monitoring/sensu_check.py b/lib/ansible/modules/extras/monitoring/sensu_check.py
index dff8d19652..6ded2aae8c 100644
--- a/lib/ansible/modules/extras/monitoring/sensu_check.py
+++ b/lib/ansible/modules/extras/monitoring/sensu_check.py
@@ -170,21 +170,30 @@ EXAMPLES = '''
 # Fetch metrics about the CPU load every 60 seconds,
 # the sensu server has a handler called 'relay' which forwards stats to graphite
 - name: get cpu metrics
-  sensu_check: name=cpu_load
-               command=/etc/sensu/plugins/system/cpu-mpstat-metrics.rb
-               metric=yes handlers=relay subscribers=common interval=60
+  sensu_check:
+    name: cpu_load
+    command: /etc/sensu/plugins/system/cpu-mpstat-metrics.rb
+    metric: yes
+    handlers: relay
+    subscribers: common
+    interval: 60
 
 # Check whether nginx is running
 - name: check nginx process
-  sensu_check: name=nginx_running
-               command='/etc/sensu/plugins/processes/check-procs.rb -f /var/run/nginx.pid'
-               handlers=default subscribers=nginx interval=60
+  sensu_check:
+    name: nginx_running
+    command: /etc/sensu/plugins/processes/check-procs.rb -f /var/run/nginx.pid
+    handlers: default
+    subscribers: nginx
+    interval: 60
 
 # Stop monitoring the disk capacity.
 # Note that the check will still show up in the sensu dashboard,
 # to remove it completely you need to issue a DELETE request to the sensu api.
 - name: check disk
-  sensu_check: name=check_disk_capacity state=absent
+  sensu_check:
+    name: check_disk_capacity
+    state: absent
 '''
 
 try:
