commit bf79833c9d4c878352c671aa0a6d29cb3f4d9840
Author: Gianluca Borello <gianluca@draios.com>
Date:   Thu Feb 20 22:17:55 2014 -0800

    Make sure droplet deletion works even when idempotency is achieved using 'name' and 'unique_name' rather than 'id'

diff --git a/library/cloud/digital_ocean b/library/cloud/digital_ocean
index a6721a55da..67a2dadb4d 100644
--- a/library/cloud/digital_ocean
+++ b/library/cloud/digital_ocean
@@ -348,7 +348,7 @@ def core(module):
 
         elif state in ('absent', 'deleted'):
             # First, try to find a droplet by id.
-            droplet = Droplet.find(id=getkeyordie('id'))
+            droplet = Droplet.find(module.params['id'])
 
             # If we couldn't find the droplet and the user is allowing unique
             # hostnames, then check to see if a droplet with the specified
