commit 35c8750bbb432865588404cd2056fdf199aaabd5
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Mon Mar 26 21:18:48 2012 -0400

    Fix tree view to work with callbacks

diff --git a/lib/ansible/callbacks.py b/lib/ansible/callbacks.py
index 184768bc7a..dfa724473a 100755
--- a/lib/ansible/callbacks.py
+++ b/lib/ansible/callbacks.py
@@ -98,7 +98,7 @@ class CliRunnerCallbacks(DefaultRunnerCallbacks):
     def on_unreachable(self, host, res):
         print "%s | FAILED => %s" % (host, res)
         if self.options.tree:
-            utils.write_tree_file(self.options.tree, host, dict(failed=True, msg=res))
+            utils.write_tree_file(self.options.tree, host, utils.bigjson(dict(failed=True, msg=res)))
  
     def on_skipped(self, host):
         pass
