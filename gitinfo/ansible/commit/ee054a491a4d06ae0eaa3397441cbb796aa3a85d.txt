commit ee054a491a4d06ae0eaa3397441cbb796aa3a85d
Author: Andy Kluger <AndydeCleyre@gmail.com>
Date:   Wed Oct 2 17:55:30 2013 -0400

    Fix for Issue #2470 - gem version string processing
    
    This fix assumes that no sane gem version has spaces in it, so when one like that is encountered, it will get truncated at the first space.

diff --git a/library/packaging/gem b/library/packaging/gem
index 762bf576d5..2741dd9040 100644
--- a/library/packaging/gem
+++ b/library/packaging/gem
@@ -104,7 +104,7 @@ def get_installed_versions(module, remote=False):
         if match:
             versions = match.group(1)
             for version in versions.split(', '):
-                installed_versions.append(version)
+                installed_versions.append(version.split()[0])
     return installed_versions
 
 def exists(module):
