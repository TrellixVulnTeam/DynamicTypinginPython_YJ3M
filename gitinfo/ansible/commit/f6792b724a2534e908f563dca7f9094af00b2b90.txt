commit f6792b724a2534e908f563dca7f9094af00b2b90
Author: Abhijit Menon-Sen <ams@toroid.org>
Date:   Fri May 23 21:03:50 2014 +0530

    Don't double (or triple) up common error messages
    
    process_common_errors() was called thrice, each time appending to the
    existing error message, and leading to confusing repetition in the
    message that was finally displayed.
    
    Fixes #7498

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index b1916371fc..3283b0bae2 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -501,7 +501,6 @@ Note: The error may actually appear before this position: line %s, column %s
                 if '"{{' not in probline or "'{{" not in probline:
                     unquoted_var = True
 
-            msg = process_common_errors(msg, probline, mark.column)
             if not unquoted_var:
                 msg = process_common_errors(msg, probline, mark.column)
             else:
@@ -519,7 +518,6 @@ Should be written as:
       - "{{ foo }}"      
 
 """
-                msg = process_common_errors(msg, probline, mark.column)
         else:
             # most likely displaying a file with sensitive content,
             # so don't show any of the actual lines of yaml just the
