commit d7f38d07b3f3deed374214c1748f2a7caca8ac32
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Nov 19 09:54:19 2012 -0500

    fixed bug for string size mismatch, now substring depends on size of match string Signed-off-by: Brian Coca <briancoca+ansible@gmail.com>
    
    Signed-off-by: Brian Coca <briancoca+dev@gmail.com>

diff --git a/lib/ansible/utils/template.py b/lib/ansible/utils/template.py
index 311be63f5d..53ff0275fb 100644
--- a/lib/ansible/utils/template.py
+++ b/lib/ansible/utils/template.py
@@ -279,7 +279,7 @@ def template_from_file(basedir, path, vars):
     # Get jinja env overrides from template
     if data.startswith(JINJA2_OVERRIDE):
         eol = data.find('\n')
-        line = data[5:eol]
+        line = data[len(JINJA2_OVERRIDE):eol]
         data = data[eol+1:]
         for pair in line.split(','):
             (key,val) = pair.split(':')
