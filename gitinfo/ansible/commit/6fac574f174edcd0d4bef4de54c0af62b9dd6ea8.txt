commit 6fac574f174edcd0d4bef4de54c0af62b9dd6ea8
Author: saichint <saichint@cisco.com>
Date:   Sun May 13 22:59:18 2018 -0700

    fix nxos_ping issues (#40028)

diff --git a/lib/ansible/modules/network/nxos/nxos_ping.py b/lib/ansible/modules/network/nxos/nxos_ping.py
index ce63103b30..9593aeb169 100644
--- a/lib/ansible/modules/network/nxos/nxos_ping.py
+++ b/lib/ansible/modules/network/nxos/nxos_ping.py
@@ -43,10 +43,10 @@ options:
     count:
         description:
             - Number of packets to send.
-        default: 2
+        default: 5
     source:
         description:
-            - Source IP Address.
+            - Source IP Address or hostname (resolvable by switch)
     vrf:
         description:
             - Outgoing VRF.
@@ -178,7 +178,7 @@ def get_ping_results(command, module):
 def main():
     argument_spec = dict(
         dest=dict(required=True),
-        count=dict(required=False, default=2),
+        count=dict(required=False, default=5),
         vrf=dict(required=False),
         source=dict(required=False),
         state=dict(required=False, choices=['present', 'absent'], default='present'),
@@ -195,9 +195,6 @@ def main():
     count = module.params['count']
     state = module.params['state']
 
-    if count and not 1 <= int(count) <= 655350:
-        module.fail_json(msg="'count' must be an integer between 1 and 655350.", count=count)
-
     ping_command = 'ping {0}'.format(destination)
     for command in ['count', 'source', 'vrf']:
         arg = module.params[command]
