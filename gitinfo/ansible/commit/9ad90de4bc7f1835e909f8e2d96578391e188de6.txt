commit 9ad90de4bc7f1835e909f8e2d96578391e188de6
Author: Marek Hulan <mhulan@redhat.com>
Date:   Mon Aug 7 08:58:20 2017 +0200

    Fix sending facts to Foreman

diff --git a/lib/ansible/plugins/callback/foreman.py b/lib/ansible/plugins/callback/foreman.py
index c686d3c9ce..796925861c 100644
--- a/lib/ansible/plugins/callback/foreman.py
+++ b/lib/ansible/plugins/callback/foreman.py
@@ -224,7 +224,7 @@ class CallbackModule(CallbackBase):
         res = result._result
         module = result._task.action
 
-        if module == 'setup':
+        if module == 'setup' or 'ansible_facts' in res:
             host = result._host.get_name()
             self.send_facts(host, res)
         else:
