commit 40c794e185f7b419825b6d1f5b578b70f9b78ae9
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Jun 29 13:09:11 2015 -0700

    Add testing documentation to travis

diff --git a/lib/ansible/modules/extras/.travis.yml b/lib/ansible/modules/extras/.travis.yml
index 84ec3a0983..d43c6b3b3f 100644
--- a/lib/ansible/modules/extras/.travis.yml
+++ b/lib/ansible/modules/extras/.travis.yml
@@ -13,3 +13,4 @@ script:
   - python2.4 -m compileall -fq -x 'cloud/|monitoring/zabbix.*\.py|/layman\.py|/maven_artifact\.py|clustering/consul.*\.py|notification/pushbullet\.py' .
   - python2.6 -m compileall -fq .
   - python2.7 -m compileall -fq .
+  - ./test-docs.sh extras
diff --git a/lib/ansible/modules/extras/test-docs.sh b/lib/ansible/modules/extras/test-docs.sh
new file mode 100755
index 0000000000..76297fbada
--- /dev/null
+++ b/lib/ansible/modules/extras/test-docs.sh
@@ -0,0 +1,21 @@
+#!/bin/sh
+set -x
+
+CHECKOUT_DIR=".ansible-checkout"
+MOD_REPO="$1"
+
+# Hidden file to avoid the module_formatter recursing into the checkout
+git clone https://github.com/ansible/ansible "$CHECKOUT_DIR"
+cd "$CHECKOUT_DIR"
+git submodule update --init
+rm -rf "lib/ansible/modules/$MOD_REPO"
+ln -s "$TRAVIS_BUILD_DIR/" "lib/ansible/modules/$MOD_REPO"
+
+pip install -U Jinja2 PyYAML setuptools six pycrypto sphinx
+
+. ./hacking/env-setup
+PAGER=/bin/cat bin/ansible-doc -l
+if [ $? -ne 0 ] ; then
+  exit $?
+fi
+make -C docsite
