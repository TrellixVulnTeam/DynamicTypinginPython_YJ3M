commit cffd5601b64140a55dccf13fef6fc722450e6b3d
Author: Marius Gedminas <marius@gedmin.as>
Date:   Thu Nov 17 20:24:37 2016 +0200

    letsencrypt: Locale-independent date parsing (#3314)
    
    Should fix #3155.

diff --git a/lib/ansible/modules/extras/web_infrastructure/letsencrypt.py b/lib/ansible/modules/extras/web_infrastructure/letsencrypt.py
index 8827012662..03c9932f1a 100644
--- a/lib/ansible/modules/extras/web_infrastructure/letsencrypt.py
+++ b/lib/ansible/modules/extras/web_infrastructure/letsencrypt.py
@@ -20,6 +20,7 @@
 
 import binascii
 import copy
+import locale
 import textwrap
 from datetime import datetime
 
@@ -769,6 +770,9 @@ def main():
         ),
         supports_check_mode = True,
     )
+ 
+    # AnsibleModule() changes the locale, so change it back to C because we rely on time.strptime() when parsing certificate dates.
+    locale.setlocale(locale.LC_ALL, "C")
 
     cert_days = get_cert_days(module,module.params['dest'])
     if cert_days < module.params['remaining_days']:
