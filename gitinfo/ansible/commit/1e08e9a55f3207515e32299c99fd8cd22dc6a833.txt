commit 1e08e9a55f3207515e32299c99fd8cd22dc6a833
Author: Adrian Likins <alikins@redhat.com>
Date:   Wed Nov 16 16:49:11 2016 -0500

    Remove platforms api request from galaxy 'init'
    
    Instead of populating the platform comment in the default
    meta/main.yml with a dict of platforms fetch from the
    galaxy REST API, this removes the API call and adds a
    commented out example platforms list to the default meta/main.yml
    
    Fixes #18103

diff --git a/lib/ansible/cli/galaxy.py b/lib/ansible/cli/galaxy.py
index 7f2dc6f212..f860e0f977 100644
--- a/lib/ansible/cli/galaxy.py
+++ b/lib/ansible/cli/galaxy.py
@@ -192,18 +192,6 @@ class GalaxyCLI(CLI):
                             "however it will reset any main.yml files that may have\n"
                             "been modified there already." % role_path)
 
-        platforms = []
-        if not offline:
-            platforms = self.api.get_list("platforms") or []
-
-        # group the list of platforms from the api based
-        # on their names, with the release field being
-        # appended to a list of versions
-        platform_groups = defaultdict(list)
-        for platform in platforms:
-            platform_groups[platform['name']].append(platform['release'])
-            platform_groups[platform['name']].sort()
-
         inject_data = dict(
             role_name=role_name,
             author='your name',
@@ -212,7 +200,6 @@ class GalaxyCLI(CLI):
             license='license (GPLv2, CC-BY, etc)',
             issue_tracker_url='http://example.com/issue/tracker',
             min_ansible_version='1.2',
-            platforms=platform_groups,
             container_enabled=self.options.container_enabled
         )
 
diff --git a/lib/ansible/galaxy/data/default/meta/main.yml.j2 b/lib/ansible/galaxy/data/default/meta/main.yml.j2
index 78bccdc50d..a4896f6c5d 100644
--- a/lib/ansible/galaxy/data/default/meta/main.yml.j2
+++ b/lib/ansible/galaxy/data/default/meta/main.yml.j2
@@ -30,19 +30,19 @@ galaxy_info:
   #github_branch:
 
   #
-  # Below are all platforms currently available. Just uncomment the ones that apply
-  # to your role. If you don't see your platform on this list, let us know,
-  # and we'll get it added!
+  # platforms is a list of platforms, and each platform has a name and a list of versions.
   #
-  #platforms:
-  {%- for platform,versions in platforms.items() %}
-  #- name: {{ platform }}
-  #  versions:
-  #  - all
-    {%- for version in versions %}
-  #  - {{ version }}
-    {%- endfor -%}
-  {%- endfor %}
+  # platforms:
+  # - name: Fedora
+  #   versions:
+  #   - all
+  #   - 25
+  # - name: SomePlatform
+  #   versions:
+  #   - all
+  #   - 1.0
+  #   - 7
+  #   - 99.99
 
   galaxy_tags: []
     # List tags for your role here, one per line. A tag is a keyword that describes
