commit e3d18048d4de03fb58db212580739aaa689ee903
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Fri Oct 19 16:18:38 2012 +0200

    None is unfortunately not an integer

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index e02aaad8e6..a6d03d1281 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -402,7 +402,9 @@ class Runner(object):
             transport = None # use Runner setting
             if delegate_to and actual_host in [ '127.0.0.1', 'localhost' ]:
                 transport = 'local'
-            conn = self.connector.connect(actual_host, int(actual_port), transport=transport)
+            if actual_port is not None:
+                actual_port = int(actual_port)
+            conn = self.connector.connect(actual_host, actual_port, transport=transport)
             if delegate_to:
                 conn.delegate = host
 
