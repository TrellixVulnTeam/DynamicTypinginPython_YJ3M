commit 372f21e3b59600ab79f1cc23e4673d15b89aff89
Author: Sam Doran <sdoran@redhat.com>
Date:   Fri Aug 2 00:55:32 2019 -0400

    Handle new output for podman image build (#59807)

diff --git a/changelogs/fragments/podman_image-build-output-format.yaml b/changelogs/fragments/podman_image-build-output-format.yaml
new file mode 100644
index 0000000000..410e4c4f98
--- /dev/null
+++ b/changelogs/fragments/podman_image-build-output-format.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - podman_image - handle new output format for image build
diff --git a/lib/ansible/modules/cloud/podman/podman_image.py b/lib/ansible/modules/cloud/podman/podman_image.py
index d1f752728e..ad9eb406ee 100644
--- a/lib/ansible/modules/cloud/podman/podman_image.py
+++ b/lib/ansible/modules/cloud/podman/podman_image.py
@@ -416,6 +416,10 @@ class PodmanImageManager(object):
                 splitline = line.rsplit(split_on, maxsplit)
                 layer_ids.append(splitline[1])
 
+        # Podman 1.4 changed the output to only include the layer id when run in quiet mode
+        if not layer_ids:
+            layer_ids = lines.splitlines()
+
         return(layer_ids[-1])
 
     def present(self):
