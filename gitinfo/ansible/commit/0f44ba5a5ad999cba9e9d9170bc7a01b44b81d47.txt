commit 0f44ba5a5ad999cba9e9d9170bc7a01b44b81d47
Author: Piffey Parlance <piffey@piffey.net>
Date:   Sat Feb 2 18:17:18 2013 -0600

     * Minor removal of some dumb I did.

diff --git a/library/authorized_key b/library/authorized_key
index 51515444fa..f936e20c81 100644
--- a/library/authorized_key
+++ b/library/authorized_key
@@ -143,16 +143,14 @@ def enforce_state(module, params):
     key   = params["key"]
     state = params.get("state", "present")
 
-    # If multiple keys split on the newline
-    if '\n' in key:
-        new_keys = key.split('\n')
+    key = key.split('\n')
 
     # check current state -- just get the filename, don't create file
     params["keyfile"] = keyfile(module, user, write=False)
     keys = readkeys(params["keyfile"])
 
     # Check our new keys, if any of them exist we'll continue.
-    for new_key in new_keys:
+    for new_key in key:
         present = new_key in keys
         # handle idempotent state=present
         if state=="present":
