commit 95044d69c7db8898d263922802cc2ca769fcbdfb
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Tue Dec 5 12:04:48 2017 +0530

    Fix unit test failure for netconf connection plugin (#33547)

diff --git a/test/runner/requirements/units.txt b/test/runner/requirements/units.txt
index a79acacb0f..8eefcd00cd 100644
--- a/test/runner/requirements/units.txt
+++ b/test/runner/requirements/units.txt
@@ -23,8 +23,5 @@ f5-sdk ; python_version >= '2.7'
 f5-icontrol-rest ; python_version >= '2.7'
 deepdiff
 
-# requirement for modules using Netconf protocol
-ncclient
-
 # requirement for aci_rest module
 xmljson
diff --git a/test/units/plugins/connection/test_netconf.py b/test/units/plugins/connection/test_netconf.py
index af767ecf36..ffd43b55ed 100644
--- a/test/units/plugins/connection/test_netconf.py
+++ b/test/units/plugins/connection/test_netconf.py
@@ -63,7 +63,8 @@ class TestNetconfConnectionClass(unittest.TestCase):
         self.assertIsNone(conn._manager)
         self.assertFalse(conn._connected)
 
-    def test_netconf__connect(self):
+    @patch("ansible.plugins.connection.netconf.netconf_loader")
+    def test_netconf__connect(self, mock_netconf_loader):
         pc = PlayContext()
         new_stdin = StringIO()
 
