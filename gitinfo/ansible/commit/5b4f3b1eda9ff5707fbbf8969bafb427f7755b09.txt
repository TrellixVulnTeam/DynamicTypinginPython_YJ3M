commit 5b4f3b1eda9ff5707fbbf8969bafb427f7755b09
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Fri Sep 30 16:25:40 2016 -0400

    adds better error handling when conditional fails (#17839)
    
    When the conditional cannot extract a value from the result string,
    an unhandled exception would be raised.  This fix now gracefully handles
    the exception

diff --git a/lib/ansible/module_utils/netcli.py b/lib/ansible/module_utils/netcli.py
index 1e9ef00779..33b6d2d92b 100644
--- a/lib/ansible/module_utils/netcli.py
+++ b/lib/ansible/module_utils/netcli.py
@@ -228,7 +228,7 @@ class Conditional(object):
         if self.encoding in ['json', 'text']:
             try:
                 return self.get_json(result)
-            except (IndexError, TypeError):
+            except (IndexError, TypeError, AttributeError):
                 msg = 'unable to apply conditional to result'
                 raise FailedConditionalError(msg, self.raw)
 
