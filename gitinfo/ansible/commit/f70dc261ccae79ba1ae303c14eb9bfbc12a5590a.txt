commit f70dc261ccae79ba1ae303c14eb9bfbc12a5590a
Author: Alexis Camilleri <7473485+acamilleri@users.noreply.github.com>
Date:   Fri Feb 21 17:14:22 2020 +0100

    fix(scaleway): use jsonify for application/json content-type only (#66957)
    
    * fix(scaleway): use jsonify for application/json content-type
    
    * add changelog

diff --git a/changelogs/fragments/66957-scaleway-jsonify-only-for-json-requests.yml b/changelogs/fragments/66957-scaleway-jsonify-only-for-json-requests.yml
new file mode 100644
index 0000000000..99d0306e0b
--- /dev/null
+++ b/changelogs/fragments/66957-scaleway-jsonify-only-for-json-requests.yml
@@ -0,0 +1,2 @@
+bugfixes:
+- 'scaleway: use jsonify unmarshaller only for application/json requests to avoid breaking the multiline configuration with requests in text/plain (https://github.com/ansible/ansible/issues/65036)'
diff --git a/lib/ansible/module_utils/scaleway.py b/lib/ansible/module_utils/scaleway.py
index d8202976f2..50041eff52 100644
--- a/lib/ansible/module_utils/scaleway.py
+++ b/lib/ansible/module_utils/scaleway.py
@@ -118,11 +118,13 @@ class Scaleway(object):
     def send(self, method, path, data=None, headers=None, params=None):
         url = self._url_builder(path=path, params=params)
         self.warn(url)
-        data = self.module.jsonify(data)
 
         if headers is not None:
             self.headers.update(headers)
 
+        if self.headers['Content-Type'] == "application/json":
+            data = self.module.jsonify(data)
+
         resp, info = fetch_url(
             self.module, url, data=data, headers=self.headers, method=method,
             timeout=self.module.params.get('api_timeout')
