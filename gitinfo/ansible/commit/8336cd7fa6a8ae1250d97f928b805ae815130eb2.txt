commit 8336cd7fa6a8ae1250d97f928b805ae815130eb2
Author: James Tanner <tanner.jc@gmail.com>
Date:   Thu Feb 20 15:07:54 2014 -0500

    Check for no change in test_yum

diff --git a/tests_new/integration/roles/test_yum/tasks/yum.yml b/tests_new/integration/roles/test_yum/tasks/yum.yml
index 80021cf2f6..7c0b089ace 100644
--- a/tests_new/integration/roles/test_yum/tasks/yum.yml
+++ b/tests_new/integration/roles/test_yum/tasks/yum.yml
@@ -17,6 +17,16 @@
         - "yum_result.rc == 0"
         - "rpm_result.rc == 1"
 
+# UNINSTALL AGAIN
+- name: uninstall sos again
+  yum: name=sos state=removed
+  register: yum_result
+
+- name: verify no change on re-uninstall
+  assert:
+    that: 
+        - "not yum_result.changed"
+
 # INSTALL
 - name: install sos
   yum: name=sos state=present
@@ -46,4 +56,15 @@
         - "'msg' in yum_result"
         - "'rc' in yum_result"
         - "'results' in yum_result"
-        
+
+# INSTALL AGAIN        
+- name: install sos again
+  yum: name=sos state=present
+  register: yum_result
+
+- name: verify no change on second install
+  assert:
+    that: 
+        - "not yum_result.changed"
+ 
+
