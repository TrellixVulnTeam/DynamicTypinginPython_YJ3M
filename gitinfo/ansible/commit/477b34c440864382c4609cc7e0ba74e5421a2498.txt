commit 477b34c440864382c4609cc7e0ba74e5421a2498
Author: Mauricio Accetturi Carvalho <accetturi@users.noreply.github.com>
Date:   Fri Aug 16 12:51:20 2019 -0300

    Add network and vpc to args (#60657)
    
    * Add network and vpc to args
    
    network and vpc are needed when create a loadbalancer in a vpc in a recent adquired public ip
    
    * version_added in new args

diff --git a/lib/ansible/modules/cloud/cloudstack/cs_loadbalancer_rule.py b/lib/ansible/modules/cloud/cloudstack/cs_loadbalancer_rule.py
index 3b52ff283e..817fa6c042 100644
--- a/lib/ansible/modules/cloud/cloudstack/cs_loadbalancer_rule.py
+++ b/lib/ansible/modules/cloud/cloudstack/cs_loadbalancer_rule.py
@@ -104,6 +104,16 @@ options:
       - "To delete all tags, set a empty list e.g. I(tags: [])."
     type: list
     aliases: [ tag ]
+  network:
+    description:
+      - Name of the network.
+    type: str
+    version_added: '2.9'
+  vpc:
+    description:
+      - Name of the VPC.
+    type: str
+    version_added: '2.9'
 extends_documentation_fragment: cloudstack
 '''
 
@@ -282,6 +292,7 @@ class AnsibleCloudStackLBRule(AnsibleCloudStack):
                 'cidrlist': self.module.params.get('cidr'),
                 'description': self.module.params.get('description'),
                 'protocol': self.module.params.get('protocol'),
+                'networkid': self.get_network(key='id'),
             })
             res = self.query_api('createLoadBalancerRule', **args)
 
@@ -338,6 +349,8 @@ def main():
         zone=dict(),
         domain=dict(),
         account=dict(),
+        vpc=dict(),
+        network=dict(),
         poll_async=dict(type='bool', default=True),
     ))
 
