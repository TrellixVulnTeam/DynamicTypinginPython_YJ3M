commit 7194fe1064fcee99a863f0b47b1dac129683f883
Author: Michael Peters <mpeters@stanleygibbons.com>
Date:   Tue Aug 12 15:40:15 2014 -0400

    need to handle the case where include_pattern and exclude_pattern exist in the config file but contain empty strings

diff --git a/plugins/inventory/ec2.py b/plugins/inventory/ec2.py
index c8e6d6e7f3..a1dec1c37b 100755
--- a/plugins/inventory/ec2.py
+++ b/plugins/inventory/ec2.py
@@ -257,6 +257,8 @@ class Ec2Inventory(object):
             pattern_include = config.get('ec2', 'pattern_include')
             if pattern_include and len(pattern_include) > 0:
                 self.pattern_include = re.compile(pattern_include)
+            else
+                self.pattern_include = None
         except ConfigParser.NoOptionError, e:
             self.pattern_include = None
 
@@ -265,8 +267,10 @@ class Ec2Inventory(object):
             pattern_exclude = config.get('ec2', 'pattern_exclude');
             if pattern_exclude and len(pattern_exclude) > 0:
                 self.pattern_exclude = re.compile(pattern_exclude)
+            else
+                self.pattern_exclude = None
         except ConfigParser.NoOptionError, e:
-            self.pattern_exclude = ''
+            self.pattern_exclude = None
 
     def parse_cli_args(self):
         ''' Command line argument processing '''
