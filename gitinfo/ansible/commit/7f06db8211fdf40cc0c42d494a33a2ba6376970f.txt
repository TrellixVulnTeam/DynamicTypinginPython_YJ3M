commit 7f06db8211fdf40cc0c42d494a33a2ba6376970f
Author: digi <42470490+digifuchsi@users.noreply.github.com>
Date:   Mon Aug 26 16:13:09 2019 +0200

    module_utils/redfish_utils.py: add ForceRestart option (#61104)
    
    The library does not allow you to force a restart via redfish, (unless GracefulRestart
    triggered by PowerReboot-command is not supported).
    Therefore, I added the option `PowerForceRestart` to be able to force a reboot of an
    unresponsive host.

diff --git a/lib/ansible/module_utils/redfish_utils.py b/lib/ansible/module_utils/redfish_utils.py
index 9a1c85cbd0..c199bac9ec 100644
--- a/lib/ansible/module_utils/redfish_utils.py
+++ b/lib/ansible/module_utils/redfish_utils.py
@@ -647,6 +647,8 @@ class RedfishUtils(object):
             payload = {'ResetType': 'On'}
         elif command == "PowerForceOff":
             payload = {'ResetType': 'ForceOff'}
+        elif command == "PowerForceRestart":
+            payload = {'ResetType': "ForceRestart"}
         elif command == "PowerGracefulRestart":
             payload = {'ResetType': 'GracefulRestart'}
         elif command == "PowerGracefulShutdown":
diff --git a/lib/ansible/modules/remote_management/redfish/redfish_command.py b/lib/ansible/modules/remote_management/redfish/redfish_command.py
index f909009d11..bc06f621e6 100644
--- a/lib/ansible/modules/remote_management/redfish/redfish_command.py
+++ b/lib/ansible/modules/remote_management/redfish/redfish_command.py
@@ -202,7 +202,7 @@ from ansible.module_utils._text import to_native
 
 # More will be added as module features are expanded
 CATEGORY_COMMANDS_ALL = {
-    "Systems": ["PowerOn", "PowerForceOff", "PowerGracefulRestart",
+    "Systems": ["PowerOn", "PowerForceOff", "PowerForceRestart", "PowerGracefulRestart",
                 "PowerGracefulShutdown", "PowerReboot", "SetOneTimeBoot"],
     "Chassis": ["IndicatorLedOn", "IndicatorLedOff", "IndicatorLedBlink"],
     "Accounts": ["AddUser", "EnableUser", "DeleteUser", "DisableUser",
