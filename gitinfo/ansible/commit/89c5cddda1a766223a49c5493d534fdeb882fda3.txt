commit 89c5cddda1a766223a49c5493d534fdeb882fda3
Author: Patrik Lundin <patrik@sigterm.se>
Date:   Thu Jun 30 18:13:40 2016 +0200

    No support for build=true with 'branch' syntax.

diff --git a/lib/ansible/modules/extras/packaging/os/openbsd_pkg.py b/lib/ansible/modules/extras/packaging/os/openbsd_pkg.py
index eae57a695c..de37a769b0 100644
--- a/lib/ansible/modules/extras/packaging/os/openbsd_pkg.py
+++ b/lib/ansible/modules/extras/packaging/os/openbsd_pkg.py
@@ -491,6 +491,11 @@ def main():
         pkg_spec = {}
         parse_package_name(name, pkg_spec, module)
 
+        # Not sure how the branch syntax is supposed to play together
+        # with build mode. Disable it for now.
+        if pkg_spec['style'] == 'branch' and module.params['build'] is True:
+            module.fail_json(msg="the combination of 'branch' syntax and build=%s is not supported: %s" % (module.params['build'], name))
+
         # Get package state.
         installed_state = get_package_state(name, pkg_spec, module)
 
