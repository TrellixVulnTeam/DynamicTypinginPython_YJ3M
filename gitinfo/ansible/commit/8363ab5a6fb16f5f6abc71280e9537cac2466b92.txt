commit 8363ab5a6fb16f5f6abc71280e9537cac2466b92
Author: Matt Bray <mattjbray@gmail.com>
Date:   Thu May 15 15:04:30 2014 +0100

    docker: fix targetting images by name

diff --git a/library/cloud/docker b/library/cloud/docker
index 6dbcb9daf4..509e5eb955 100644
--- a/library/cloud/docker
+++ b/library/cloud/docker
@@ -516,7 +516,7 @@ class DockerManager:
             # '{} {}'.format(entrypoint, command)
             command_matches = (not command or running_command.endswith(command))
 
-            if name_matches or (image_matches and tag_matches and command_matches):
+            if name_matches or (name is None and image_matches and tag_matches and command_matches):
                 details = self.client.inspect_container(i['Id'])
                 details = _docker_id_quirk(details)
                 deployed.append(details)
