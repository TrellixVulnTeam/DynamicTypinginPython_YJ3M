commit 69deb738036fc8968be81794800c27c4c7b6565d
Author: Eric L <ericzolf@users.noreply.github.com>
Date:   Wed Jan 2 18:09:42 2019 +0100

    Fix firewalld module failing on missing protocol. (#50242)
    
    Under Python 3.7 at least, the split of the port field fails
    ungracefully if there is no slash. The fix also addresses the
    case of an empty protocol after the slash.

diff --git a/lib/ansible/modules/system/firewalld.py b/lib/ansible/modules/system/firewalld.py
index b7942a38db..94e1e75b74 100644
--- a/lib/ansible/modules/system/firewalld.py
+++ b/lib/ansible/modules/system/firewalld.py
@@ -679,8 +679,11 @@ def main():
     zone = module.params['zone']
 
     if module.params['port'] is not None:
-        port, protocol = module.params['port'].strip().split('/')
-        if protocol is None:
+        if '/' in module.params['port']:
+            port, protocol = module.params['port'].strip().split('/')
+        else:
+            protocol = None
+        if not protocol:
             module.fail_json(msg='improper port format (missing protocol?)')
     else:
         port = None
