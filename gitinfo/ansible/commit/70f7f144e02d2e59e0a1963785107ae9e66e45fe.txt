commit 70f7f144e02d2e59e0a1963785107ae9e66e45fe
Author: Matt Calhoun <matt.calhoun@datavail.com>
Date:   Tue Sep 29 16:37:26 2015 -0400

    The variable $https_listener cannot be retrieved because it has not been set.

diff --git a/lib/ansible/modules/windows/setup.ps1 b/lib/ansible/modules/windows/setup.ps1
index 91100912e4..61b36b27fa 100644
--- a/lib/ansible/modules/windows/setup.ps1
+++ b/lib/ansible/modules/windows/setup.ps1
@@ -78,6 +78,8 @@ Set-Attr $result.ansible_facts "ansible_powershell_version" $psversion
 
 $winrm_https_listener_parent_path = Get-ChildItem -Path WSMan:\localhost\Listener -Recurse | Where-Object {$_.PSChildName -eq "Transport" -and $_.Value -eq "HTTPS"} | select PSParentPath
 $winrm_https_listener_path = $null
+$https_listener = $null
+
 
 if ($winrm_https_listener_parent_path ) {
     $winrm_https_listener_path = $winrm_https_listener_parent_path.PSParentPath.Substring($winrm_https_listener_parent_path.PSParentPath.LastIndexOf("\"))
