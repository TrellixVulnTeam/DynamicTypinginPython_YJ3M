commit 9c3fb9c2b7ffde1e831bab53810001d90448018e
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Oct 9 12:10:33 2013 -0400

    4006: return s3 url even if file exists

diff --git a/library/cloud/s3 b/library/cloud/s3
index 8b8af40405..5f1e4461e6 100644
--- a/library/cloud/s3
+++ b/library/cloud/s3
@@ -231,12 +231,12 @@ def download_s3str(module, s3, bucket, obj):
     except s3.provider.storage_copy_error, e:
         module.fail_json(msg= str(e))
 
-def get_download_url(module, s3, bucket, obj, expiry):
+def get_download_url(module, s3, bucket, obj, expiry, changed=True):
     try:
         bucket = s3.lookup(bucket)
         key = bucket.lookup(obj)
         url = key.generate_url(expiry)
-        module.exit_json(msg="Download url:", url=url, expiry=expiry, changed=True)
+        module.exit_json(msg="Download url:", url=url, expiry=expiry, changed=changed)
         sys.exit(0)
     except s3.provider.storage_response_error, e:
         module.fail_json(msg= str(e))
@@ -378,7 +378,7 @@ def main():
                     if overwrite is True:
                         upload_s3file(module, s3, bucket, obj, src, expiry)
                     else:
-                        module.exit_json(msg="Local and remote object are identical, ignoring. Use overwrite parameter to force.", changed=False)
+                        get_download_url(module, s3, bucket, obj, expiry, changed=False) ## PATCH
                 else:
                     sum_matches = False
                     if overwrite is True:
