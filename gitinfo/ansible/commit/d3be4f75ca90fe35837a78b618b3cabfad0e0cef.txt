commit d3be4f75ca90fe35837a78b618b3cabfad0e0cef
Author: Jonathan Davila <jonathan@davila.io>
Date:   Thu Oct 18 02:09:07 2018 -0400

    pamd: use module.tmpdir for NamedTemporaryFile() (#47133)

diff --git a/lib/ansible/modules/system/pamd.py b/lib/ansible/modules/system/pamd.py
index e2e04e0863..ef83108d8f 100644
--- a/lib/ansible/modules/system/pamd.py
+++ b/lib/ansible/modules/system/pamd.py
@@ -778,7 +778,7 @@ def main():
             backupdest = module.backup_local(fname)
             print("BACKUP DEST", backupdest)
         try:
-            temp_file = NamedTemporaryFile(mode='w')
+            temp_file = NamedTemporaryFile(mode='w', dir=module.tmpdir)
             with open(temp_file.name, 'w') as fd:
                 fd.write(str(service))
 
