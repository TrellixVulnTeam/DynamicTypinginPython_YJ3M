commit f25637e07aad30459670731a53fd6dc47e517f52
Author: champtar <champetier.etienne@gmail.com>
Date:   Thu Jul 6 13:30:06 2017 -0700

    openwrt_init / opkg: clearly state that python is required (#26471)
    
    * openwrt_init: clearly state that python is required
    
    As python isn't installed by default on OpenWrt/LEDE,
    clearly state that python is required
    
    Signed-off-by: Etienne CHAMPETIER <echampetier@anevia.com>
    
    * opkg: clearly state that python is required
    
    As python isn't installed by default on OpenWrt/LEDE,
    clearly state that python is required
    
    Signed-off-by: Etienne CHAMPETIER <echampetier@anevia.com>

diff --git a/lib/ansible/modules/packaging/os/opkg.py b/lib/ansible/modules/packaging/os/opkg.py
index 5e62b3fcdc..70fc85e6ef 100644
--- a/lib/ansible/modules/packaging/os/opkg.py
+++ b/lib/ansible/modules/packaging/os/opkg.py
@@ -66,6 +66,9 @@ options:
         default: "no"
         choices: [ "yes", "no" ]
 notes:  []
+requirements:
+    - opkg
+    - python
 '''
 EXAMPLES = '''
 - opkg:
diff --git a/lib/ansible/modules/system/openwrt_init.py b/lib/ansible/modules/system/openwrt_init.py
index 8acbe85f2d..858a7f10dc 100644
--- a/lib/ansible/modules/system/openwrt_init.py
+++ b/lib/ansible/modules/system/openwrt_init.py
@@ -59,7 +59,7 @@ options:
 notes:
     - One option other than name is required.
 requirements:
-    - An OpenWrt system
+    - An OpenWrt system (with python)
 '''
 
 EXAMPLES = '''
