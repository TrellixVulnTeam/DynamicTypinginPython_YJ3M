commit 1d55e193c1041c907793aca91395eddc8a10a74c
Author: Matt Martz <matt@sivel.net>
Date:   Mon Jun 15 13:04:46 2015 -0500

    Expose the TaskQueueManager to self

diff --git a/lib/ansible/cli/adhoc.py b/lib/ansible/cli/adhoc.py
index 9bc234507c..e940a0224f 100644
--- a/lib/ansible/cli/adhoc.py
+++ b/lib/ansible/cli/adhoc.py
@@ -128,9 +128,9 @@ class AdHocCLI(CLI):
         play = Play().load(play_ds, variable_manager=variable_manager, loader=loader)
 
         # now create a task queue manager to execute the play
-        tqm = None
+        self._tqm = None
         try:
-            tqm = TaskQueueManager(
+            self._tqm = TaskQueueManager(
                     inventory=inventory,
                     variable_manager=variable_manager,
                     loader=loader,
@@ -139,10 +139,10 @@ class AdHocCLI(CLI):
                     passwords=passwords,
                     stdout_callback='minimal',
                 )
-            result = tqm.run(play)
+            result = self._tqm.run(play)
         finally:
-            if tqm:
-                tqm.cleanup()
+            if self._tqm:
+                self._tqm.cleanup()
 
         return result
 
