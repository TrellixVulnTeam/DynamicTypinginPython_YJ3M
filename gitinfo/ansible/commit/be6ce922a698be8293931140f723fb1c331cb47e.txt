commit be6ce922a698be8293931140f723fb1c331cb47e
Author: mansunkuo <coccolegacy@gmail.com>
Date:   Mon Jun 6 15:51:25 2016 -0500

    Add an example to delete Route53 alias record set (#3834)

diff --git a/lib/ansible/modules/cloud/amazon/route53.py b/lib/ansible/modules/cloud/amazon/route53.py
index a8396d7e96..4068a3a7dd 100644
--- a/lib/ansible/modules/cloud/amazon/route53.py
+++ b/lib/ansible/modules/cloud/amazon/route53.py
@@ -106,7 +106,7 @@ options:
     description:
       - Have to be specified for Weighted, latency-based and failover resource record sets only. An identifier
         that differentiates among multiple resource record sets that have the
-        same combination of DNS name and type. 
+        same combination of DNS name and type.
     required: false
     default: null
     version_added: "2.0"
@@ -205,7 +205,7 @@ EXAMPLES = '''
       type: "AAAA"
       ttl: "7200"
       value: "::1"
-      
+
 # Add a SRV record with multiple fields for a service on port 22222
 # For more information on SRV records see:
 # https://en.wikipedia.org/wiki/SRV_record
@@ -236,6 +236,25 @@ EXAMPLES = '''
       alias=True
       alias_hosted_zone_id="{{ elb_zone_id }}"
 
+# Retrieve the details for elb.foo.com
+- route53:
+      command: get
+      zone: foo.com
+      record: elb.foo.com
+      type: A
+  register: rec
+
+# Delete an alias record using the results from the get command
+- route53:
+      command: delete
+      zone: foo.com
+      record: "{{ rec.set.record }}"
+      ttl: "{{ rec.set.ttl }}"
+      type: "{{ rec.set.type }}"
+      value: "{{ rec.set.value }}"
+      alias: True
+      alias_hosted_zone_id: "{{ rec.set.alias_hosted_zone_id }}"
+
 # Add an alias record that points to an Amazon ELB and evaluates it health:
 - route53:
       command=create
@@ -579,7 +598,7 @@ def main():
         txt = txt.split("</Message>")[0]
         if "but it already exists" in txt:
                 module.exit_json(changed=False)
-        else:   
+        else:
                 module.fail_json(msg = txt)
     except TimeoutError:
         module.fail_json(msg='Timeout waiting for changes to replicate')
