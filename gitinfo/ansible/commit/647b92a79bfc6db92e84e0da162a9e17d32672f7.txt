commit 647b92a79bfc6db92e84e0da162a9e17d32672f7
Author: Joern Heissler <github@joern.heissler.de>
Date:   Sun Nov 8 13:08:44 2015 +0100

    Use ansible_host in synchronize module
    
    Fixes #13073

diff --git a/lib/ansible/plugins/action/synchronize.py b/lib/ansible/plugins/action/synchronize.py
index 2670cc9290..9bf12132ed 100644
--- a/lib/ansible/plugins/action/synchronize.py
+++ b/lib/ansible/plugins/action/synchronize.py
@@ -131,7 +131,13 @@ class ActionModule(ActionBase):
         src_host = '127.0.0.1'
         inventory_hostname = task_vars.get('inventory_hostname')
         dest_host_inventory_vars = task_vars['hostvars'].get(inventory_hostname)
-        dest_host = dest_host_inventory_vars.get('ansible_ssh_host', inventory_hostname)
+        try:
+            dest_host = dest_host_inventory_vars['ansible_host']
+        except KeyError:
+            try:
+                dest_host = dest_host_inventory_vars['ansible_ssh_host']
+            except KeyError:
+                dest_host = inventory_hostname
 
         dest_is_local = dest_host in C.LOCALHOST
 
