commit 9d9e3d8c5667bd42f8430709a2d4001bc2ff5d20
Author: Matthew Williams <matthew@flowroute.com>
Date:   Tue Mar 27 09:10:51 2012 -0700

    resetting template.. previous commit not needed

diff --git a/library/template b/library/template
index 68e967ffe9..110d397aa1 100755
--- a/library/template
+++ b/library/template
@@ -19,7 +19,6 @@
 
 import sys
 import os
-import collections
 import jinja2
 import shlex
 try:
@@ -27,21 +26,6 @@ try:
 except ImportError:
     import simplejson as json
 
-environment = jinja2.Environment()
-
-def format_advanced(fmt, data):
-    # jinja2 filter to use advanced python string formatting
-    # e.g, {{ "{0} {1} {2}"|format_advanced(['a', 'b', 'c']) }}
-    # see http://docs.python.org/library/string.html#formatstrings
-    if isinstance(data, collections.Mapping):
-        return fmt.format(**data)
-    elif isinstance(data, collections.Sequence):
-        return fmt.format(*data)
-    else:
-        return data
-
-environment.filters['format_advanced'] = format_advanced
-
 # ===========================================
 # convert arguments of form a=b c=d
 # to a dictionary
@@ -107,7 +91,7 @@ if os.path.exists(dest):
     md5sum = os.popen("md5sum %s" % dest).read().split()[0]
 
 # call Jinja2 here and save the new template file
-template = environment.from_string(source)
+template = jinja2.Template(source)
 data_out = template.render(data)
 f = open(dest, "w+")
 f.write(data_out)
