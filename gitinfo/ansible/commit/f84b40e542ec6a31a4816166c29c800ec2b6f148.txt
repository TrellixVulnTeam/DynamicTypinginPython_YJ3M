commit f84b40e542ec6a31a4816166c29c800ec2b6f148
Author: Rene Moser <mail@renemoser.net>
Date:   Fri Sep 11 19:03:35 2015 +0200

    cloudstack: cs_account: create account for states locked/disabled/enabled if not present

diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
index fe2884f721..b8c2f0f54e 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
@@ -221,7 +221,7 @@ class AnsibleCloudStackAccount(AnsibleCloudStack):
     def enable_account(self):
         account = self.get_account()
         if not account:
-            self.module.fail_json(msg="Failed: account not present")
+            account = self.present_account()
 
         if account['state'].lower() != 'enabled':
             self.result['changed'] = True
@@ -248,7 +248,7 @@ class AnsibleCloudStackAccount(AnsibleCloudStack):
     def lock_or_disable_account(self, lock=False):
         account = self.get_account()
         if not account:
-            self.module.fail_json(msg="Failed: account not present")
+            account = self.present_account()
 
         # we need to enable the account to lock it.
         if lock and account['state'].lower() == 'disabled':
