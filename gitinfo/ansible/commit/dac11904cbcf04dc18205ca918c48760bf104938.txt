commit dac11904cbcf04dc18205ca918c48760bf104938
Author: Chris Church <chris@ninemoreminutes.com>
Date:   Sun Aug 31 11:52:20 2014 -0400

    Add tests for new windows facts.

diff --git a/test/integration/roles/test_win_setup/tasks/main.yml b/test/integration/roles/test_win_setup/tasks/main.yml
index e2685ec868..c2f4728b21 100644
--- a/test/integration/roles/test_win_setup/tasks/main.yml
+++ b/test/integration/roles/test_win_setup/tasks/main.yml
@@ -34,3 +34,14 @@
       - "setup_result.ansible_facts.ansible_ip_addresses"
       - "setup_result.ansible_facts.ansible_system"
       - "setup_result.ansible_facts.ansible_totalmem"
+      - "setup_result.ansible_facts.ansible_interfaces"
+      - "setup_result.ansible_facts.ansible_interfaces[0]"
+      - "setup_result.ansible_facts.ansible_interfaces[0].interface_name"
+      - "setup_result.ansible_facts.ansible_interfaces[0].interface_index"
+      - "setup_result.ansible_facts.ansible_powershell_version"
+
+- name: check setup result only when using https
+  assert: 
+    that:
+      - "setup_result.ansible_facts.ansible_winrm_certificate_expires"
+  when: ansible_ssh_port|default(5986) != 5985
