commit 37f237ecfcebb341bb9ecf430fb0ae9f557266a4
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Fri Dec 12 11:22:20 2014 -0800

    Fixup the directory name at a higher level so it can be used by both conditional branches
    
    Fixes #500

diff --git a/lib/ansible/modules/cloud/google/gc_storage.py b/lib/ansible/modules/cloud/google/gc_storage.py
index 1963a148da..28beea0578 100644
--- a/lib/ansible/modules/cloud/google/gc_storage.py
+++ b/lib/ansible/modules/cloud/google/gc_storage.py
@@ -319,11 +319,12 @@ def handle_create(module, gs, bucket, obj):
         else:
             module.exit_json(msg="Bucket created successfully", changed=create_bucket(module, gs, bucket))
     if bucket and obj:
+        if obj.endswith('/'):
+            dirobj = obj
+        else:
+            dirobj = obj + "/"
+
         if bucket_check(module, gs, bucket):
-            if obj.endswith('/'):
-                dirobj = obj
-            else:
-                dirobj = obj + "/"
             if key_check(module, gs, bucket, dirobj):
                 module.exit_json(msg="Bucket %s and key %s already exists."% (bucket, obj), changed=False)
             else:      
