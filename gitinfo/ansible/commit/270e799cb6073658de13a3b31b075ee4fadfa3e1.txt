commit 270e799cb6073658de13a3b31b075ee4fadfa3e1
Author: David Passante <david.passante@orange.com>
Date:   Fri Mar 23 14:13:41 2018 +0100

    cs_vpc_offering: listVPCOffering API returns any matching names (#37783)
    
    * fix listVPCOffering API method returns any matching names
    
    * fix build_ci no-underscore-variable
    
    * clearer variable name
    
    * making it simpler

diff --git a/lib/ansible/modules/cloud/cloudstack/cs_vpc_offering.py b/lib/ansible/modules/cloud/cloudstack/cs_vpc_offering.py
index c2e159b637..67ce8bdc2b 100644
--- a/lib/ansible/modules/cloud/cloudstack/cs_vpc_offering.py
+++ b/lib/ansible/modules/cloud/cloudstack/cs_vpc_offering.py
@@ -149,7 +149,9 @@ class AnsibleCloudStackVPCOffering(AnsibleCloudStack):
         vo = self.query_api('listVPCOfferings', **args)
 
         if vo:
-            self.vpc_offering = vo['vpcoffering'][0]
+            for vpc_offer in vo['vpcoffering']:
+                if args['name'] == vpc_offer['name']:
+                    self.vpc_offering = vpc_offer
 
         return self.vpc_offering
 
