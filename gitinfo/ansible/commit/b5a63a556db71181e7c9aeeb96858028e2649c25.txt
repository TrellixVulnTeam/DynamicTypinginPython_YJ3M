commit b5a63a556db71181e7c9aeeb96858028e2649c25
Author: Adrian Likins <alikins@redhat.com>
Date:   Tue Dec 6 14:27:14 2016 -0500

    fix docs on related to remove of core/extras

diff --git a/hacking/module_formatter.py b/hacking/module_formatter.py
index 6e84cada28..fd5fe3fac1 100755
--- a/hacking/module_formatter.py
+++ b/hacking/module_formatter.py
@@ -143,8 +143,11 @@ def list_modules(module_dir, depth=0):
         if module_path.endswith('__init__.py'):
             continue
         category = categories
-        mod_path_only = os.path.dirname(module_path[len(module_dir) + 1:])
+        mod_path_only = module_path
         # Start at the second directory because we don't want the "vendor"
+
+        mod_path_only = os.path.dirname(module_path[len(module_dir):])
+
         # directories (core, extras)
         for new_cat in mod_path_only.split('/')[1:]:
             if new_cat not in category:
@@ -373,7 +376,6 @@ def process_category(category, categories, options, env, template, outputname):
     deprecated = []
     core = []
     for module in module_map.keys():
-
         if isinstance(module_map[module], dict):
             for mod in (m for m in module_map[module].keys() if m in module_info):
                 if mod.startswith("_"):
