commit ccbac661289dd3020c9d4a6490c1d26fb031ec7c
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Jul 11 07:24:45 2018 -0700

    Revert "Make ansible doesn't parse template-like password in user's input (#42275)"
    
    This reverts commit de40ac02a5cd4ac3bb758d4e284955763c013938.
    
    Passwords from the cli need to remain bytes on input otherwise we have
    encoding problems when users input non-utf8

diff --git a/lib/ansible/cli/__init__.py b/lib/ansible/cli/__init__.py
index dcffbe2499..380ddc4e2a 100644
--- a/lib/ansible/cli/__init__.py
+++ b/lib/ansible/cli/__init__.py
@@ -38,7 +38,6 @@ from ansible.errors import AnsibleOptionsError, AnsibleError
 from ansible.inventory.manager import InventoryManager
 from ansible.module_utils.six import with_metaclass, string_types
 from ansible.module_utils._text import to_bytes, to_text
-from ansible.utils.unsafe_proxy import AnsibleUnsafeText
 from ansible.parsing.dataloader import DataLoader
 from ansible.release import __version__
 from ansible.utils.path import unfrackpath
@@ -330,7 +329,7 @@ class CLI(with_metaclass(ABCMeta, object)):
                 sshpass = getpass.getpass(prompt="SSH password: ")
                 become_prompt = "%s password[defaults to SSH password]: " % become_prompt_method
                 if sshpass:
-                    sshpass = AnsibleUnsafeText(to_bytes(sshpass, errors='strict', nonstring='simplerepr'))
+                    sshpass = to_bytes(sshpass, errors='strict', nonstring='simplerepr')
             else:
                 become_prompt = "%s password: " % become_prompt_method
 
@@ -339,7 +338,7 @@ class CLI(with_metaclass(ABCMeta, object)):
                 if op.ask_pass and becomepass == '':
                     becomepass = sshpass
                 if becomepass:
-                    becomepass = AnsibleUnsafeText(to_bytes(becomepass))
+                    becomepass = to_bytes(becomepass)
         except EOFError:
             pass
 
