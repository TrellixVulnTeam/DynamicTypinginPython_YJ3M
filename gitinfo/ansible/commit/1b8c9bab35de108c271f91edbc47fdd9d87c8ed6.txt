commit 1b8c9bab35de108c271f91edbc47fdd9d87c8ed6
Author: Stoned Elipot <stoned.elipot@gmail.com>
Date:   Tue Feb 26 16:45:56 2013 +0100

    Fix diff when template destination is absent

diff --git a/lib/ansible/runner/action_plugins/template.py b/lib/ansible/runner/action_plugins/template.py
index 0f93947a56..0edef20b97 100644
--- a/lib/ansible/runner/action_plugins/template.py
+++ b/lib/ansible/runner/action_plugins/template.py
@@ -82,7 +82,7 @@ class ActionModule(object):
             # template is different from the remote value
 
             # if showing diffs, we need to get the remote value
-            dest_contents = None
+            dest_contents = ''
 
             if self.runner.diff:
                 # using persist_files to keep the temp directory around to avoid needing to grab another
@@ -93,8 +93,6 @@ class ActionModule(object):
                         dest_contents = base64.b64decode(dest_contents)
                     else:
                         raise Exception("unknown encoding, failed: %s" % dest_result.result)
-                else:
-                    dest_result = ''
  
             xfered = self.runner._transfer_str(conn, tmp, 'source', resultant)
 
