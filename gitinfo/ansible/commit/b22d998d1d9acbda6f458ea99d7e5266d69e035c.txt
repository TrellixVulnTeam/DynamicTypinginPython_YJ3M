commit b22d998d1d9acbda6f458ea99d7e5266d69e035c
Author: Yannig Perr√© <yannig.perre@gmail.com>
Date:   Tue Dec 22 16:30:29 2015 +0100

    Fix make tests-py3 on devel. Fix for https://github.com/ansible/ansible/issues/13638.

diff --git a/test/units/plugins/action/test_action.py b/test/units/plugins/action/test_action.py
index 0e47b6a538..dcd0437595 100644
--- a/test/units/plugins/action/test_action.py
+++ b/test/units/plugins/action/test_action.py
@@ -42,14 +42,14 @@ class TestActionBase(unittest.TestCase):
 
         play_context.become = True
         play_context.become_user = play_context.remote_user = 'root'
-        play_context.make_become_cmd = Mock(return_value='CMD')
+        play_context.make_become_cmd = Mock(return_value=b'CMD')
 
-        action_base._low_level_execute_command('ECHO', sudoable=True)
+        action_base._low_level_execute_command(b'ECHO', sudoable=True)
         play_context.make_become_cmd.assert_not_called()
 
         play_context.remote_user = 'apo'
-        action_base._low_level_execute_command('ECHO', sudoable=True)
-        play_context.make_become_cmd.assert_called_once_with('ECHO', executable=None)
+        action_base._low_level_execute_command(b'ECHO', sudoable=True)
+        play_context.make_become_cmd.assert_called_once_with(b'ECHO', executable=None)
 
         play_context.make_become_cmd.reset_mock()
 
@@ -57,7 +57,7 @@ class TestActionBase(unittest.TestCase):
         C.BECOME_ALLOW_SAME_USER = True
         try:
             play_context.remote_user = 'root'
-            action_base._low_level_execute_command('ECHO SAME', sudoable=True)
-            play_context.make_become_cmd.assert_called_once_with('ECHO SAME', executable=None)
+            action_base._low_level_execute_command(b'ECHO SAME', sudoable=True)
+            play_context.make_become_cmd.assert_called_once_with(b'ECHO SAME', executable=None)
         finally:
             C.BECOME_ALLOW_SAME_USER = become_allow_same_user
