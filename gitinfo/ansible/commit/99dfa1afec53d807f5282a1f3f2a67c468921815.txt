commit 99dfa1afec53d807f5282a1f3f2a67c468921815
Author: James Tanner <tanner.jc@gmail.com>
Date:   Mon Nov 18 00:15:33 2013 -0500

    Revert "Merge pull request #4912 from zehome/openbsd_pkg_flavourfix"
    
    This reverts commit de2f4cf04d13b24dc56114da1ab63245c5868c34, reversing
    changes made to 2c33737bfa3b2e7286ada2f2f7bba57317f2b885.

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 04aa82a02c..2f9bf87099 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -63,7 +63,6 @@ Misc changes:
 * Fixes for IPv6 addresses in inventory text files
 * name of executable can be passed to pip/gem etc, for installing under *different* interpreters
 * copy of ./hacking/env-setup added for fish users, ./hacking/env-setup.fish
-* openbsd_pkg can handle "flavoured" packages like vim--no_x11
 
 1.3.4 "Top of the World" (reprise) - October 29, 2013
 
diff --git a/library/packaging/openbsd_pkg b/library/packaging/openbsd_pkg
index 079c62e191..16f969ff0f 100644
--- a/library/packaging/openbsd_pkg
+++ b/library/packaging/openbsd_pkg
@@ -52,9 +52,6 @@ EXAMPLES = '''
 
 # Make sure nmap is not installed
 - openbsd_pkg: name=nmap state=absent
-
-# Make sure vim is installed using no_x11 flavour
-- openbsd_pkg name=vim--no_x11 state=present
 '''
 
 # Function used for executing commands.
@@ -84,23 +81,13 @@ def get_current_name(name, specific_version, module):
     return current_name
 
 # Function used to find out if a package is currently installed.
-# OpenBSD packages can contain "flavours"
-# For example vim is distributed as a "gtk2":
-#   - vim--gtk2
-# and "no_x11" flavour:
-#   - vim--no_x11
 def get_package_state(name, specific_version, module):
     info_cmd = 'pkg_info -e'
 
     if specific_version:
         syntax = "%s %s"
     else:
-        if "--" in name:
-            (name, flavour) = name.split("--", 1)
         syntax = "%s %s-*"
-        if flavour:
-            syntax += "-%s" % (flavour, )
-        syntax = "%s-"
 
     rc, stdout, stderr = execute_command(syntax % (info_cmd, name), module)
 
