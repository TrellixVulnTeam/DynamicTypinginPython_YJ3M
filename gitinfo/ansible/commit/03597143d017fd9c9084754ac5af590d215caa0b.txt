commit 03597143d017fd9c9084754ac5af590d215caa0b
Author: Matt Clay <matt@mystile.com>
Date:   Mon Jun 6 13:36:21 2016 -0700

    Detect use of Travis tests on Shippable.
    
    This can occur when building pre-Shippable branches or PRs.

diff --git a/test/utils/run_tests.sh b/test/utils/run_tests.sh
index f7d5a878fc..63105c2931 100755
--- a/test/utils/run_tests.sh
+++ b/test/utils/run_tests.sh
@@ -1,5 +1,15 @@
 #!/bin/sh
 
+if [ "${SHIPPABLE}" = "true" ]; then
+    echo "It appears this job is running on Shippable instead of Travis."
+    if [ "${IS_PULL_REQUEST}" = "true" ]; then
+        echo "Please rebase the branch used for this pull request."
+    else
+        echo "This branch needs to be updated to work with Shippable."
+    fi
+    exit 1
+fi
+
 set -e
 set -u
 set -x
