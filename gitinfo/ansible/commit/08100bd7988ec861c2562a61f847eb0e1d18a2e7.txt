commit 08100bd7988ec861c2562a61f847eb0e1d18a2e7
Author: David Hughes <d@vidhughes.com>
Date:   Wed Mar 13 20:58:04 2013 -0700

    Expand any user home variable in pip module's virtualenv parameter

diff --git a/library/pip b/library/pip
index bb295b539b..76210c2618 100644
--- a/library/pip
+++ b/library/pip
@@ -188,6 +188,7 @@ def main():
     virtualenv_command = module.params['virtualenv_command']
 
     if env:
+        env = os.path.expanduser(env)
         virtualenv = module.get_bin_path(virtualenv_command, True)
         if not os.path.exists(os.path.join(env, 'bin', 'activate')):
             if module.check_mode:
