commit 4391cbfd918be8a269d11167a7f48b074ec06ee2
Author: James Tanner <tanner.jc@gmail.com>
Date:   Thu Nov 14 14:42:07 2013 -0500

    Fix git bare test in el6 by adding origin to remote

diff --git a/test/TestRunner.py b/test/TestRunner.py
index 3ae95a071f..2d141f9e8d 100644
--- a/test/TestRunner.py
+++ b/test/TestRunner.py
@@ -192,7 +192,8 @@ class TestRunner(unittest.TestCase):
         # test the bare option
         result = self._run('git', ["repo=\"file:///tmp/gitdemo\"", "dest=/tmp/gdbare", "bare=yes", "remote=test"])
         assert result['changed']
-        # test a no-op fetch
+        # test a no-op fetch, add origin for el6 versions of git
+        self._run('command', ['git remote add origin file:///tmp/gitdemo', 'chdir=/tmp/gdbare'])
         result = self._run('git', ["repo=\"file:///tmp/gitdemo\"", "dest=/tmp/gdbare", "bare=yes"])
         assert not result['changed']
         # test whether fetch is working for bare repos
