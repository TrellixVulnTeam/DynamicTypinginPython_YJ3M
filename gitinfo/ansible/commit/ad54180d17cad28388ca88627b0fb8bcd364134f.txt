commit ad54180d17cad28388ca88627b0fb8bcd364134f
Author: Michael Scherer <misc@zarb.org>
Date:   Thu Apr 14 23:44:28 2016 +0200

    Do not use a default value for -n parameter, fix #1400 (#1417)

diff --git a/lib/ansible/modules/extras/messaging/rabbitmq_user.py b/lib/ansible/modules/extras/messaging/rabbitmq_user.py
index ba77e47c99..85921ce45c 100644
--- a/lib/ansible/modules/extras/messaging/rabbitmq_user.py
+++ b/lib/ansible/modules/extras/messaging/rabbitmq_user.py
@@ -144,7 +144,9 @@ class RabbitMqUser(object):
 
     def _exec(self, args, run_in_check_mode=False):
         if not self.module.check_mode or (self.module.check_mode and run_in_check_mode):
-            cmd = [self._rabbitmqctl, '-q', '-n', self.node]
+            cmd = [self._rabbitmqctl, '-q']
+            if self.node is not None:
+                cmd.append(['-n', self.node])
             rc, out, err = self.module.run_command(cmd + args, check_rc=True)
             return out.splitlines()
         return list()
@@ -235,7 +237,7 @@ def main():
         read_priv=dict(default='^$'),
         force=dict(default='no', type='bool'),
         state=dict(default='present', choices=['present', 'absent']),
-        node=dict(default='rabbit')
+        node=dict(default=None)
     )
     module = AnsibleModule(
         argument_spec=arg_spec,
