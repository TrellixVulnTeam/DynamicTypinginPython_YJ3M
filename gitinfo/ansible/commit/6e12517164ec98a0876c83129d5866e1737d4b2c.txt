commit 6e12517164ec98a0876c83129d5866e1737d4b2c
Author: Matt Clay <matt@mystile.com>
Date:   Wed Mar 27 13:56:28 2019 -0700

    Make pip test work with versioned virtualenv. (#54483)

diff --git a/test/integration/targets/pip/tasks/main.yml b/test/integration/targets/pip/tasks/main.yml
index fec7c2af51..d81d103559 100644
--- a/test/integration/targets/pip/tasks/main.yml
+++ b/test/integration/targets/pip/tasks/main.yml
@@ -1,5 +1,17 @@
 # Current pip unconditionally uses md5.
 # We can re-enable if pip switches to a different hash or allows us to not check md5.
 
+- name: find virtualenv command
+  command: "which virtualenv virtualenv-{{ ansible_python.version.major }}.{{ ansible_python.version.minor }}"
+  register: command
+  failed_when: not command.stdout_lines
+
+- name: remember selected virtualenv command
+  set_fact:
+    virtualenv: "{{ command.stdout_lines[0] }}"
+
 - include: 'pip.yml'
   when: ansible_fips|bool != True
+  module_defaults:
+    pip:
+      virtualenv_command: "{{ virtualenv }}"
