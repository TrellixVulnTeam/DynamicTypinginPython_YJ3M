commit 9509224768de3d92a2abaddd75fa55e24eaaee78
Author: Marius Gedminas <marius@gedmin.as>
Date:   Wed Sep 21 20:14:03 2016 +0300

    postgresql_db: fix inverted 'changed' logic when state=absent (#4934)
    
    Fixes #4933.

diff --git a/lib/ansible/modules/database/postgresql/postgresql_db.py b/lib/ansible/modules/database/postgresql/postgresql_db.py
old mode 100644
new mode 100755
index 33e812bc56..64871ed173
--- a/lib/ansible/modules/database/postgresql/postgresql_db.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_db.py
@@ -288,11 +288,11 @@ def main():
     try:
         if module.check_mode:
             if state == "absent":
-                changed = not db_exists(cursor, db)
+                changed = db_exists(cursor, db)
             elif state == "present":
                 changed = not db_matches(cursor, db, owner, template, encoding,
                                          lc_collate, lc_ctype)
-            module.exit_json(changed=changed,db=db)
+            module.exit_json(changed=changed, db=db)
 
         if state == "absent":
             try:
