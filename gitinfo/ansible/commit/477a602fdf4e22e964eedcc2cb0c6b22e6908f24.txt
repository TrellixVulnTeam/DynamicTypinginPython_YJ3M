commit 477a602fdf4e22e964eedcc2cb0c6b22e6908f24
Author: Ondra Machacek <machacek.ondra@gmail.com>
Date:   Fri Mar 30 13:55:17 2018 +0200

    ovirt_hosts: Fix failed_state after PM fence (#38102)

diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_hosts.py b/lib/ansible/modules/cloud/ovirt/ovirt_hosts.py
index c66c6cf7d7..7ade8a5b2d 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_hosts.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_hosts.py
@@ -539,7 +539,7 @@ def main():
                 action='fence',
                 action_condition=lambda h: h.status == hoststate.DOWN,
                 wait_condition=lambda h: h.status in [hoststate.UP, hoststate.MAINTENANCE],
-                fail_condition=failed_state,
+                fail_condition=hosts_module.failed_state_after_reinstall,
                 fence_type='start',
             )
         elif state == 'stopped':
@@ -560,7 +560,7 @@ def main():
             ret = hosts_module.action(
                 action='fence',
                 wait_condition=lambda h: h.status == hoststate.UP,
-                fail_condition=failed_state,
+                fail_condition=hosts_module.failed_state_after_reinstall,
                 fence_type='restart',
             )
         elif state == 'reinstalled':
