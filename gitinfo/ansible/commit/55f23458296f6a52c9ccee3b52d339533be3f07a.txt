commit 55f23458296f6a52c9ccee3b52d339533be3f07a
Author: Michael Scherer <misc@redhat.com>
Date:   Thu Dec 10 00:00:19 2015 +0100

    Remove a unneeded use of use_unsafe_shell
    
    Since use_unsafe_shell is suspicious from a security point
    of view (or it wouldn't be unsafe), the less we have, the less
    code we have to toroughly inspect for a security audit.

diff --git a/lib/ansible/modules/system/hostname.py b/lib/ansible/modules/system/hostname.py
index 2bd0058b3c..711aebd9a9 100644
--- a/lib/ansible/modules/system/hostname.py
+++ b/lib/ansible/modules/system/hostname.py
@@ -260,8 +260,8 @@ class SystemdStrategy(GenericStrategy):
                 (rc, out, err))
 
     def get_permanent_hostname(self):
-        cmd = 'hostnamectl --static status'
-        rc, out, err = self.module.run_command(cmd, use_unsafe_shell=True)
+        cmd = ['hostnamectl', '--static', 'status']
+        rc, out, err = self.module.run_command(cmd)
         if rc != 0:
             self.module.fail_json(msg="Command failed rc=%d, out=%s, err=%s" %
                 (rc, out, err))
