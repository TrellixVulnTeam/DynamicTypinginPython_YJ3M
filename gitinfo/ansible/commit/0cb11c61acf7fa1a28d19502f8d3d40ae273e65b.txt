commit 0cb11c61acf7fa1a28d19502f8d3d40ae273e65b
Author: Tim Rupp <caphrim007@gmail.com>
Date:   Mon Apr 30 09:48:41 2018 -0700

    Various f5 module fixes (#39510)
    
    Mainly fixing coding conventions. Also, added ipv6 suppor to pool members

diff --git a/lib/ansible/modules/network/f5/bigip_irule.py b/lib/ansible/modules/network/f5/bigip_irule.py
index d2f542603d..82db3c50de 100644
--- a/lib/ansible/modules/network/f5/bigip_irule.py
+++ b/lib/ansible/modules/network/f5/bigip_irule.py
@@ -18,7 +18,7 @@ module: bigip_irule
 short_description: Manage iRules across different modules on a BIG-IP
 description:
   - Manage iRules across different modules on a BIG-IP.
-version_added: "2.2"
+version_added: 2.2
 options:
   content:
     description:
@@ -106,30 +106,23 @@ import os
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_http.py b/lib/ansible/modules/network/f5/bigip_monitor_http.py
index bc0b2f423e..7e9e50196e 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_http.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_http.py
@@ -17,7 +17,7 @@ DOCUMENTATION = r'''
 module: bigip_monitor_http
 short_description: Manages F5 BIG-IP LTM http monitors
 description: Manages F5 BIG-IP LTM http monitors.
-version_added: "2.5"
+version_added: 2.5
 options:
   name:
     description:
@@ -165,30 +165,25 @@ time_until_up:
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
+    from library.module_utils.network.f5.common import fq_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
+    from ansible.module_utils.network.f5.common import fq_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -224,11 +219,6 @@ class Parameters(AnsibleF5Parameters):
         'target_username', 'target_password'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
@@ -303,7 +293,7 @@ class Parameters(AnsibleF5Parameters):
     def parent(self):
         if self._values['parent'] is None:
             return None
-        result = self._fqdn_name(self._values['parent'])
+        result = fq_name(self.partition, self._values['parent'])
         return result
 
     @property
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_https.py b/lib/ansible/modules/network/f5/bigip_monitor_https.py
index 5c8de6968b..4a53aa6ac6 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_https.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_https.py
@@ -17,7 +17,7 @@ DOCUMENTATION = r'''
 module: bigip_monitor_https
 short_description: Manages F5 BIG-IP LTM https monitors
 description: Manages F5 BIG-IP LTM https monitors.
-version_added: "2.5"
+version_added: 2.5
 options:
   name:
     description:
@@ -153,30 +153,25 @@ time_until_up:
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
+    from library.module_utils.network.f5.common import fq_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
+    from ansible.module_utils.network.f5.common import fq_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -212,11 +207,6 @@ class Parameters(AnsibleF5Parameters):
         'target_username', 'target_password'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
@@ -299,7 +289,7 @@ class Parameters(AnsibleF5Parameters):
     def parent(self):
         if self._values['parent'] is None:
             return None
-        result = self._fqdn_name(self._values['parent'])
+        result = fq_name(self.partition, self._values['parent'])
         return result
 
     @property
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_snmp_dca.py b/lib/ansible/modules/network/f5/bigip_monitor_snmp_dca.py
index 0c3ff6035b..db6fb98b30 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_snmp_dca.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_snmp_dca.py
@@ -20,7 +20,7 @@ description:
   - The BIG-IP has an SNMP data collecting agent (DCA) that can query remote
     SNMP agents of various types, including the UC Davis agent (UCD) and the
     Windows 2000 Server agent (WIN2000).
-version_added: "2.5"
+version_added: 2.5
 options:
   name:
     description:
@@ -222,30 +222,25 @@ disk_threshold:
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
+    from library.module_utils.network.f5.common import fq_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
+    from ansible.module_utils.network.f5.common import fq_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -284,11 +279,6 @@ class Parameters(AnsibleF5Parameters):
         'memory_threshold', 'disk_coefficient', 'disk_threshold'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
@@ -325,7 +315,7 @@ class Parameters(AnsibleF5Parameters):
     def parent(self):
         if self._values['parent'] is None:
             return None
-        result = self._fqdn_name(self._values['parent'])
+        result = fq_name(self.partition, self._values['parent'])
         return result
 
     @property
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_tcp.py b/lib/ansible/modules/network/f5/bigip_monitor_tcp.py
index 0dc8b3945f..d305b580a1 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_tcp.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_tcp.py
@@ -17,7 +17,7 @@ DOCUMENTATION = r'''
 module: bigip_monitor_tcp
 short_description: Manages F5 BIG-IP LTM tcp monitors
 description: Manages F5 BIG-IP LTM tcp monitors via iControl SOAP API.
-version_added: "1.4"
+version_added: 1.4
 options:
   name:
     description:
@@ -161,30 +161,25 @@ time_until_up:
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
+    from library.module_utils.network.f5.common import fq_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
+    from ansible.module_utils.network.f5.common import fq_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -219,11 +214,6 @@ class Parameters(AnsibleF5Parameters):
         'destination', 'send', 'receive', 'interval', 'timeout', 'time_until_up'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
@@ -284,7 +274,7 @@ class Parameters(AnsibleF5Parameters):
     def parent(self):
         if self._values['parent'] is None:
             return None
-        result = self._fqdn_name(self._values['parent'])
+        result = fq_name(self.partition, self._values['parent'])
         return result
 
     @property
@@ -565,9 +555,6 @@ class ArgumentSpec(object):
         self.argument_spec = {}
         self.argument_spec.update(f5_argument_spec)
         self.argument_spec.update(argument_spec)
-        self.mutually_exclusive = [
-            ['parent', 'parent_partition']
-        ]
 
 
 def main():
@@ -575,8 +562,7 @@ def main():
 
     module = AnsibleModule(
         argument_spec=spec.argument_spec,
-        supports_check_mode=spec.supports_check_mode,
-        mutually_exclusive=spec.mutually_exclusive
+        supports_check_mode=spec.supports_check_mode
     )
     if not HAS_F5SDK:
         module.fail_json(msg="The python f5-sdk module is required")
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_tcp_echo.py b/lib/ansible/modules/network/f5/bigip_monitor_tcp_echo.py
index 2b71941384..9d20ef26e0 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_tcp_echo.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_tcp_echo.py
@@ -17,7 +17,7 @@ DOCUMENTATION = r'''
 module: bigip_monitor_tcp_echo
 short_description: Manages F5 BIG-IP LTM tcp echo monitors
 description: Manages F5 BIG-IP LTM tcp echo monitors.
-version_added: "2.4"
+version_added: 2.4
 options:
   name:
     description:
@@ -133,30 +133,23 @@ import os
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -188,11 +181,6 @@ class Parameters(AnsibleF5Parameters):
         'ip', 'interval', 'timeout', 'time_until_up'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
diff --git a/lib/ansible/modules/network/f5/bigip_monitor_tcp_half_open.py b/lib/ansible/modules/network/f5/bigip_monitor_tcp_half_open.py
index e132df3b05..8e3fc17296 100644
--- a/lib/ansible/modules/network/f5/bigip_monitor_tcp_half_open.py
+++ b/lib/ansible/modules/network/f5/bigip_monitor_tcp_half_open.py
@@ -17,7 +17,7 @@ DOCUMENTATION = r'''
 module: bigip_monitor_tcp_half_open
 short_description: Manages F5 BIG-IP LTM tcp half-open monitors
 description: Manages F5 BIG-IP LTM tcp half-open monitors.
-version_added: "2.4"
+version_added: 2.4
 options:
   name:
     description:
@@ -87,7 +87,7 @@ author:
 '''
 
 EXAMPLES = r'''
-- name: Create TCP Monitor
+- name: Create TCP half-open Monitor
   bigip_monitor_tcp_half_open:
     state: present
     ip: 10.10.10.10
@@ -97,7 +97,7 @@ EXAMPLES = r'''
     name: my_tcp_monitor
   delegate_to: localhost
 
-- name: Remove TCP Monitor
+- name: Remove TCP half-open Monitor
   bigip_monitor_tcp_half_open:
     state: absent
     server: lb.mydomain.com
@@ -149,30 +149,23 @@ import os
 from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.basic import env_fallback
 
-HAS_DEVEL_IMPORTS = False
-
 try:
-    # Sideband repository used for dev
     from library.module_utils.network.f5.bigip import HAS_F5SDK
     from library.module_utils.network.f5.bigip import F5Client
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import AnsibleF5Parameters
     from library.module_utils.network.f5.common import cleanup_tokens
-    from library.module_utils.network.f5.common import fqdn_name
     from library.module_utils.network.f5.common import f5_argument_spec
     try:
         from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     except ImportError:
         HAS_F5SDK = False
-    HAS_DEVEL_IMPORTS = True
 except ImportError:
-    # Upstream Ansible
     from ansible.module_utils.network.f5.bigip import HAS_F5SDK
     from ansible.module_utils.network.f5.bigip import F5Client
     from ansible.module_utils.network.f5.common import F5ModuleError
     from ansible.module_utils.network.f5.common import AnsibleF5Parameters
     from ansible.module_utils.network.f5.common import cleanup_tokens
-    from ansible.module_utils.network.f5.common import fqdn_name
     from ansible.module_utils.network.f5.common import f5_argument_spec
     try:
         from ansible.module_utils.network.f5.common import iControlUnexpectedHTTPError
@@ -194,24 +187,17 @@ class Parameters(AnsibleF5Parameters):
     }
 
     api_attributes = [
-        'timeUntilUp', 'defaultsFrom', 'interval', 'timeout', 'recv', 'send',
-        'destination'
+        'timeUntilUp', 'defaultsFrom', 'interval', 'timeout', 'destination'
     ]
 
     returnables = [
-        'parent', 'send', 'receive', 'ip', 'port', 'interval', 'timeout',
-        'time_until_up'
+        'parent', 'ip', 'port', 'interval', 'timeout', 'time_until_up'
     ]
 
     updatables = [
-        'destination', 'send', 'receive', 'interval', 'timeout', 'time_until_up'
+        'destination', 'interval', 'timeout', 'time_until_up'
     ]
 
-    def _fqdn_name(self, value):
-        if value is not None and not value.startswith('/'):
-            return '/{0}/{1}'.format(self.partition, value)
-        return value
-
     def to_return(self):
         result = {}
         try:
@@ -241,7 +227,7 @@ class Parameters(AnsibleF5Parameters):
             return None
 
         # Per BZ617284, the BIG-IP UI does not raise a warning about this.
-        # So i
+        # So I raise the error instead.
         if 1 > int(self._values['interval']) > 86400:
             raise F5ModuleError(
                 "Interval value must be between 1 and 86400"
diff --git a/lib/ansible/modules/network/f5/bigip_pool_member.py b/lib/ansible/modules/network/f5/bigip_pool_member.py
index 58456bae11..15bf7b862a 100644
--- a/lib/ansible/modules/network/f5/bigip_pool_member.py
+++ b/lib/ansible/modules/network/f5/bigip_pool_member.py
@@ -340,15 +340,29 @@ class Parameters(AnsibleF5Parameters):
 class ModuleParameters(Parameters):
     @property
     def full_name(self):
+        delimiter = ':'
+        try:
+            addr = netaddr.IPAddress(self.full_name_dict['name'])
+            if addr.version == 6:
+                delimiter = '.'
+        except netaddr.AddrFormatError:
+            pass
+        return '{0}{1}{2}'.format(self.full_name_dict['name'], delimiter, self.port)
+
+    @property
+    def full_name_dict(self):
         if self._values['name'] is None:
             name = self._values['address'] if self._values['address'] else self._values['fqdn']
         else:
             name = self._values['name']
-        return '{0}:{1}'.format(name, self.port)
+        return dict(
+            name=name,
+            port=self.port
+        )
 
     @property
     def node_name(self):
-        return self.full_name.split(':')[0]
+        return self.full_name_dict['name']
 
     @property
     def fqdn_name(self):
@@ -848,8 +862,14 @@ class ArgumentSpec(object):
 
             # Deprecated params
             # TODO(Remove in 2.7)
-            session_state=dict(choices=['enabled', 'disabled']),
-            monitor_state=dict(choices=['enabled', 'disabled']),
+            session_state=dict(
+                choices=['enabled', 'disabled'],
+                removed_in_version=2.7,
+            ),
+            monitor_state=dict(
+                choices=['enabled', 'disabled'],
+                removed_in_version=2.7,
+            ),
         )
         self.argument_spec = {}
         self.argument_spec.update(f5_argument_spec)
diff --git a/test/units/modules/network/f5/test_bigip_irule.py b/test/units/modules/network/f5/test_bigip_irule.py
index c8c570e68c..ffe148e1ed 100644
--- a/test/units/modules/network/f5/test_bigip_irule.py
+++ b/test/units/modules/network/f5/test_bigip_irule.py
@@ -22,11 +22,11 @@ from ansible.module_utils.basic import AnsibleModule
 from ansible.module_utils.six import PY3
 
 try:
-    from library.bigip_irule import Parameters
-    from library.bigip_irule import ModuleManager
-    from library.bigip_irule import ArgumentSpec
-    from library.bigip_irule import GtmManager
-    from library.bigip_irule import LtmManager
+    from library.modules.bigip_irule import Parameters
+    from library.modules.bigip_irule import ModuleManager
+    from library.modules.bigip_irule import ArgumentSpec
+    from library.modules.bigip_irule import GtmManager
+    from library.modules.bigip_irule import LtmManager
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_http.py b/test/units/modules/network/f5/test_bigip_monitor_http.py
index 412e6f38fe..2d1c436f8a 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_http.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_http.py
@@ -21,9 +21,9 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_http import Parameters
-    from library.bigip_monitor_http import ModuleManager
-    from library.bigip_monitor_http import ArgumentSpec
+    from library.modules.bigip_monitor_http import Parameters
+    from library.modules.bigip_monitor_http import ModuleManager
+    from library.modules.bigip_monitor_http import ArgumentSpec
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_https.py b/test/units/modules/network/f5/test_bigip_monitor_https.py
index 0f6959815d..0b68298f97 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_https.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_https.py
@@ -21,9 +21,9 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_https import Parameters
-    from library.bigip_monitor_https import ModuleManager
-    from library.bigip_monitor_https import ArgumentSpec
+    from library.modules.bigip_monitor_https import Parameters
+    from library.modules.bigip_monitor_https import ModuleManager
+    from library.modules.bigip_monitor_https import ArgumentSpec
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_snmp_dca.py b/test/units/modules/network/f5/test_bigip_monitor_snmp_dca.py
index 8a5d4f6d5d..bd7fbdcfd5 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_snmp_dca.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_snmp_dca.py
@@ -21,9 +21,9 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_snmp_dca import Parameters
-    from library.bigip_monitor_snmp_dca import ModuleManager
-    from library.bigip_monitor_snmp_dca import ArgumentSpec
+    from library.modules.bigip_monitor_snmp_dca import Parameters
+    from library.modules.bigip_monitor_snmp_dca import ModuleManager
+    from library.modules.bigip_monitor_snmp_dca import ArgumentSpec
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_tcp.py b/test/units/modules/network/f5/test_bigip_monitor_tcp.py
index 32ae481afb..c60ac66ad4 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_tcp.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_tcp.py
@@ -21,9 +21,9 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_tcp import Parameters
-    from library.bigip_monitor_tcp import ModuleManager
-    from library.bigip_monitor_tcp import ArgumentSpec
+    from library.modules.bigip_monitor_tcp import Parameters
+    from library.modules.bigip_monitor_tcp import ModuleManager
+    from library.modules.bigip_monitor_tcp import ArgumentSpec
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_tcp_echo.py b/test/units/modules/network/f5/test_bigip_monitor_tcp_echo.py
index dff876fbc9..2ae5397742 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_tcp_echo.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_tcp_echo.py
@@ -21,10 +21,10 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_tcp_echo import Parameters
-    from library.bigip_monitor_tcp_echo import ModuleManager
-    from library.bigip_monitor_tcp_echo import ArgumentSpec
-    from library.bigip_monitor_tcp_echo import HAS_F5SDK
+    from library.modules.bigip_monitor_tcp_echo import Parameters
+    from library.modules.bigip_monitor_tcp_echo import ModuleManager
+    from library.modules.bigip_monitor_tcp_echo import ArgumentSpec
+    from library.modules.bigip_monitor_tcp_echo import HAS_F5SDK
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
diff --git a/test/units/modules/network/f5/test_bigip_monitor_tcp_half_open.py b/test/units/modules/network/f5/test_bigip_monitor_tcp_half_open.py
index d75396fbdd..1c33d40565 100644
--- a/test/units/modules/network/f5/test_bigip_monitor_tcp_half_open.py
+++ b/test/units/modules/network/f5/test_bigip_monitor_tcp_half_open.py
@@ -21,10 +21,10 @@ from ansible.compat.tests.mock import patch
 from ansible.module_utils.basic import AnsibleModule
 
 try:
-    from library.bigip_monitor_tcp_half_open import Parameters
-    from library.bigip_monitor_tcp_half_open import ModuleManager
-    from library.bigip_monitor_tcp_half_open import ArgumentSpec
-    from library.bigip_monitor_tcp_half_open import HAS_F5SDK
+    from library.modules.bigip_monitor_tcp_half_open import Parameters
+    from library.modules.bigip_monitor_tcp_half_open import ModuleManager
+    from library.modules.bigip_monitor_tcp_half_open import ArgumentSpec
+    from library.modules.bigip_monitor_tcp_half_open import HAS_F5SDK
     from library.module_utils.network.f5.common import F5ModuleError
     from library.module_utils.network.f5.common import iControlUnexpectedHTTPError
     from test.unit.modules.utils import set_module_args
