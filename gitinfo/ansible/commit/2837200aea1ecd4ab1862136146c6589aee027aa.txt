commit 2837200aea1ecd4ab1862136146c6589aee027aa
Author: James Mighion <james.mighion@gmail.com>
Date:   Wed Sep 27 21:35:14 2017 -0700

    Adding new stdout regex to allow local password changes. Adding stderr regex to catch more errors. (#30994)

diff --git a/lib/ansible/plugins/terminal/aruba.py b/lib/ansible/plugins/terminal/aruba.py
index 6807641c97..a27f9c5799 100644
--- a/lib/ansible/plugins/terminal/aruba.py
+++ b/lib/ansible/plugins/terminal/aruba.py
@@ -30,11 +30,14 @@ from ansible.plugins.terminal import TerminalBase
 class TerminalModule(TerminalBase):
 
     terminal_stdout_re = [
-        re.compile(br"[\r\n]?[\w]*\(.+\) ?#(?:\s*)$")
+        re.compile(br"[\r\n]?[\w]*\(.+\) ?#(?:\s*)$"),
+        re.compile(br"[pP]assword:$")
     ]
 
     terminal_stderr_re = [
         re.compile(br"% ?Error"),
+        re.compile(br"Error:", re.M),
+        re.compile(br"^% \w+", re.M),
         re.compile(br"% ?Bad secret"),
         re.compile(br"invalid input", re.I),
         re.compile(br"(?:incomplete|ambiguous) command", re.I),
