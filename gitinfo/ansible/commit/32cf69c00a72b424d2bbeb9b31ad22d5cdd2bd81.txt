commit 32cf69c00a72b424d2bbeb9b31ad22d5cdd2bd81
Author: James Tanner <tanner.jc@gmail.com>
Date:   Thu Sep 28 20:36:54 2017 -0400

    Use the group-d1 moId instead of i8ln based names to identify the root folder. (#31077)
    
    Addresses #29043

diff --git a/lib/ansible/module_utils/vmware.py b/lib/ansible/module_utils/vmware.py
index bb6bfd5775..102f1e6b60 100644
--- a/lib/ansible/module_utils/vmware.py
+++ b/lib/ansible/module_utils/vmware.py
@@ -235,7 +235,7 @@ def compile_folder_path_for_object(vobj):
     thisobj = vobj
     while hasattr(thisobj, 'parent'):
         thisobj = thisobj.parent
-        if thisobj.name == 'Datacenters':
+        if thisobj._moId == 'group-d1':
             break
         if isinstance(thisobj, vim.Folder):
             paths.append(thisobj.name)
