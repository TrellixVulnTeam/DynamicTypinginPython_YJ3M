commit c90a82fd5241d0e1535a897739527d35d6134f48
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sun Oct 13 09:19:41 2013 -0400

    Handle possible scenario where conditional might be an integer (whoa!) down the error path.  Super rare but fixes #4483.

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index bef8dbe140..28c4b4be71 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -175,7 +175,7 @@ def check_conditional(conditional, basedir, inject, fail_on_undefined=False, jin
         if conditional in inject and str(inject[conditional]).find('-') == -1:
             conditional = inject[conditional]
         conditional = template.template(basedir, conditional, inject, fail_on_undefined=fail_on_undefined)
-        original = conditional.replace("jinja2_compare ","")
+        original = str(conditional).replace("jinja2_compare ","")
         # a Jinja2 evaluation that results in something Python can eval!
         presented = "{%% if %s %%} True {%% else %%} False {%% endif %%}" % conditional
         conditional = template.template(basedir, presented, inject)
