commit 471fa6859ef00a95780522af5173149482a1ba38
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Tue Apr 23 09:13:46 2013 -0700

    Fix how interfaces is updated with interface fact
    
    Was broken when handling a bridge or bonded (possibly others) interface

diff --git a/library/setup b/library/setup
index 87c8f4b7bf..44adf8231b 100644
--- a/library/setup
+++ b/library/setup
@@ -1057,7 +1057,7 @@ class LinuxNetwork(Network):
                     iface = words[-1]
                     if iface != device:
                         interfaces[iface] = {}
-                        interfaces[iface].update(facts[device])
+                        interfaces[iface].update(interfaces[device])
                     interfaces[iface]['ipv4'] = {'address': address,
                                                  'netmask': netmask,
                                                  'network': network}
