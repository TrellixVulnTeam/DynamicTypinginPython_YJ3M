commit 300db3af848b1e5865496ced48a74b7736d68e23
Author: Ross Williams <ross@ross-williams.net>
Date:   Thu Oct 25 20:49:31 2018 -0400

    Module portinstall: use_packages is a bool (#47370)
    
    The module has been checking if use_packages is
    a string equal to "yes", but AnsibleModule actually
    converts the use_packages argument to a bool.

diff --git a/lib/ansible/modules/packaging/os/portinstall.py b/lib/ansible/modules/packaging/os/portinstall.py
index 20114bcd0a..e9c818aac6 100644
--- a/lib/ansible/modules/packaging/os/portinstall.py
+++ b/lib/ansible/modules/packaging/os/portinstall.py
@@ -163,7 +163,7 @@ def install_packages(module, packages, use_packages):
             module.run_command("pkg install -y portupgrade")
         portinstall_path = module.get_bin_path('portinstall', True)
 
-    if use_packages == "yes":
+    if use_packages:
         portinstall_params = "--use-packages"
     else:
         portinstall_params = ""
