commit cc477ba8cc1bf006cf19a11f24f7d0d99b734e22
Author: Seuf <seuf76@gmail.com>
Date:   Thu May 3 17:10:18 2018 +0200

    Don't split line when no version available for plugin (#37907)
    
    * Don't split line when no version available for plugin
    
    * Fixed author github account

diff --git a/lib/ansible/modules/monitoring/grafana_plugin.py b/lib/ansible/modules/monitoring/grafana_plugin.py
index 1c2a7f65b3..5cf043917f 100644
--- a/lib/ansible/modules/monitoring/grafana_plugin.py
+++ b/lib/ansible/modules/monitoring/grafana_plugin.py
@@ -1,7 +1,7 @@
 #!/usr/bin/python
 # -*- coding: utf-8 -*-
 
-# Copyright: (c) 2017, Thierry Sallé (@tsalle)
+# Copyright: (c) 2017, Thierry Sallé (@seuf)
 # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
 
 from __future__ import absolute_import, division, print_function
@@ -178,7 +178,11 @@ def grafana_plugin(module, params):
         stdout_lines = stdout.split("\n")
         for line in stdout_lines:
             if line.find(params['name']):
-                plugin_name, plugin_version = line.split(' @ ')
+                if line.find(' @ ') != -1:
+                    line = line.rstrip()
+                    plugin_name, plugin_version = line.split(' @ ')
+                else:
+                    plugin_version = None
                 return {'msg': 'Grafana plugin {} installed : {}'.format(params['name'], cmd),
                         'changed': True,
                         'version': plugin_version}
