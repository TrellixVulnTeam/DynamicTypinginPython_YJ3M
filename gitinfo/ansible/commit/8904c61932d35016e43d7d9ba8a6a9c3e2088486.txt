commit 8904c61932d35016e43d7d9ba8a6a9c3e2088486
Author: Ruggero Marchei <ruggero.marchei@daemonzone.net>
Date:   Tue Jul 15 19:59:14 2014 +0200

    fix LooseVersion exception with empty distribution_version

diff --git a/library/system/hostname b/library/system/hostname
index 1c906d0374..e2b7572eef 100755
--- a/library/system/hostname
+++ b/library/system/hostname
@@ -299,7 +299,8 @@ class RedHat5Hostname(Hostname):
 class RedHatServerHostname(Hostname):
     platform = 'Linux'
     distribution = 'Red hat enterprise linux server'
-    if LooseVersion(get_distribution_version()) >= LooseVersion("7"):
+    distribution_version = get_distribution_version()
+    if distribution_version and LooseVersion(distribution_version) >= LooseVersion("7"):
         strategy_class = FedoraStrategy
     else:
         strategy_class = RedHatStrategy
@@ -307,7 +308,8 @@ class RedHatServerHostname(Hostname):
 class RedHatWorkstationHostname(Hostname):
     platform = 'Linux'
     distribution = 'Red hat enterprise linux workstation'
-    if LooseVersion(get_distribution_version()) >= LooseVersion("7"):
+    distribution_version = get_distribution_version()
+    if distribution_version and LooseVersion(distribution_version) >= LooseVersion("7"):
         strategy_class = FedoraStrategy
     else:
         strategy_class = RedHatStrategy
