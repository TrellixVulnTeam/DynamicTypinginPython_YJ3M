commit 4d4d0b90c5892ad82c1ac67ca6cd2f1424b633a6
Author: Will Thames <will@musc.org.uk>
Date:   Mon Jul 30 21:09:53 2012 +1000

    readlink -f does not work on OS X. Replaced with a python solution

diff --git a/hacking/env-setup b/hacking/env-setup
index e6d7a27b33..45c77c6fb7 100755
--- a/hacking/env-setup
+++ b/hacking/env-setup
@@ -8,7 +8,9 @@ if [ -n "$BASH_SOURCE" ] ; then
 else
     HACKING_DIR="$PWD/hacking"
 fi
-FULL_PATH=`readlink -fn $HACKING_DIR`
+# The below is an alternative to readlink -fn which doesn't exist on OS X
+# Source: http://stackoverflow.com/a/1678636
+FULL_PATH=`python -c "import os, sys; print os.path.realpath('$HACKING_DIR')"`
 ANSIBLE_HOME=`dirname $FULL_PATH`
 
 PREFIX_PYTHONPATH="$ANSIBLE_HOME/lib"
