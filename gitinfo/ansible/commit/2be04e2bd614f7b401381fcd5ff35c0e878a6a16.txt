commit 2be04e2bd614f7b401381fcd5ff35c0e878a6a16
Author: nkshrishail <42039941+nkshrishail@users.noreply.github.com>
Date:   Sat Nov 9 23:17:34 2019 -0500

    nxos_overlay_global: Removing provider and correcting relative references (#64454)

diff --git a/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/cleanup.yaml b/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/cleanup.yaml
index d5baa44d6b..5f0fe44949 100644
--- a/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/cleanup.yaml
+++ b/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/cleanup.yaml
@@ -4,7 +4,6 @@
     commands:
       - 'terminal dont-ask ; vdc {{ vdcid }} ;  no limit-resource module-type f3'
     match: none
-    provider: "{{ connection }}"
   ignore_errors: yes
 
 - name: Previous command is asynchronous and can take a while.  Allow time for it to complete
@@ -16,7 +15,6 @@
     commands:
       - 'terminal dont-ask ; vdc {{ vdcid }} ; allocate interface unallocated-interfaces'
     match: none
-    provider: "{{ connection }}"
   ignore_errors: yes
 
 - name: Previous command is asynchronous can take a while.  Allow time for it to complete
diff --git a/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/setup.yaml b/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/setup.yaml
index b6d3f51cae..886ab7b396 100644
--- a/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/setup.yaml
+++ b/test/integration/targets/nxos_overlay_global/tasks/platform/n7k/setup.yaml
@@ -2,7 +2,6 @@
 - name: "Get default vdc id"
   nxos_command:
     commands: ['show vdc current-vdc | json']
-    provider: "{{ connection }}"
   register: vdcout
 
 - set_fact: vdcid="{{ vdcout.stdout_lines[0].name }}"
@@ -12,7 +11,6 @@
     commands:
       - "terminal dont-ask ; vdc {{ vdcid }} ;  limit-resource module-type f3"
     match: none
-    provider: "{{ connection }}"
   ignore_errors: yes
 
 - name: Previous command is asynchronous and can take a while.  Allow time for it to complete
@@ -24,7 +22,6 @@
     commands:
       - "terminal dont-ask ; vdc {{ vdcid }} ; allocate interface unallocated-interfaces"
     match: none
-    provider: "{{ connection }}"
   ignore_errors: yes
 
 - name: Previous command is asynchronous and can take a while.  Allow time for it to complete
@@ -37,4 +34,3 @@
       - feature-set fabric
       - feature fabric forwarding
     match: none
-    provider: "{{ connection }}"
diff --git a/test/integration/targets/nxos_overlay_global/tests/common/sanity.yaml b/test/integration/targets/nxos_overlay_global/tests/common/sanity.yaml
index 1d44a6eee9..7231c8b87d 100644
--- a/test/integration/targets/nxos_overlay_global/tests/common/sanity.yaml
+++ b/test/integration/targets/nxos_overlay_global/tests/common/sanity.yaml
@@ -1,6 +1,5 @@
 ---
 - debug: msg="START connection={{ ansible_connection }} nxos_overlay_global sanity test"
-- debug: msg="Using provider={{ connection.transport }}"
   when: ansible_connection == "local"
 
 - set_fact: overlay_global_supported="false"
@@ -16,10 +15,9 @@
   - name: "Enable nv overlay evpn"
     nxos_evpn_global: &enable_evpn
       nv_overlay_evpn: true
-      provider: "{{ connection }}"
 
   - name: "Apply N7K specific setup config"
-    include: targets/nxos_overlay_global/tasks/platform/n7k/setup.yaml
+    include: tasks/platform/n7k/setup.yaml
     when: platform is match('N7K')
 
   - name: "Configure Additional N7K requiste features"
@@ -28,13 +26,11 @@
         - feature-set fabric
         - feature fabric forwarding
       match: none
-      provider: "{{ connection }}"
     when: platform is match('N7K')
 
   - name: "Remove possibly existing mac"
     nxos_overlay_global:
       anycast_gateway_mac: "default"
-      provider: "{{ connection }}"
     ignore_errors: yes
 
   when: overlay_global_supported
@@ -45,7 +41,6 @@
   - name: Configure overlay global
     nxos_overlay_global: &configure
       anycast_gateway_mac: "b.b.b"
-      provider: "{{ connection }}"
     register: result
 
   - assert: &true
@@ -63,7 +58,6 @@
   - name: Update anycast gateway mac
     nxos_overlay_global: &update
       anycast_gateway_mac: "a.a.a"
-      provider: "{{ connection }}"
     register: result
 
   - assert: *true
@@ -78,7 +72,6 @@
   - name: Remove anycast gateway mac
     nxos_overlay_global: &remove
       anycast_gateway_mac: "default"
-      provider: "{{ connection }}"
     register: result
 
   - assert: *true
@@ -93,13 +86,12 @@
 
   always:
   - name: "Apply N7K specific cleanup config"
-    include: targets/nxos_overlay_global/tasks/platform/n7k/cleanup.yaml
+    include: tasks/platform/n7k/cleanup.yaml
     when: platform is match('N7K')
 
   - name: "Disable nv overlay evpn"
     nxos_evpn_global: &disable_evpn
       nv_overlay_evpn: false
-      provider: "{{ connection }}"
     ignore_errors: yes
     when: overlay_global_supported
 
