commit f11986c82a83f8ee844aa961f096ff334465af48
Author: Matt Clay <matt@mystile.com>
Date:   Tue Mar 20 08:54:16 2018 -0700

    Update default ansible-test docker container. (#37644)
    
    * Limit cryptography version for Python 2.6 tests.
    * Specify pip list format to eliminate warning.

diff --git a/test/runner/docker/requirements.sh b/test/runner/docker/requirements.sh
index a467415e13..8dca51d60b 100755
--- a/test/runner/docker/requirements.sh
+++ b/test/runner/docker/requirements.sh
@@ -48,7 +48,7 @@ for python_version in "${python_versions[@]}"; do
 
     echo "==> Checking for requirements conflicts for ${python_version} ..."
 
-    after=$("pip${python_version}" list)
+    after=$("pip${python_version}" list --format=legacy)
 
     for requirement in "${version_requirements[@]}"; do
         before="${after}"
@@ -57,7 +57,7 @@ for python_version in "${python_versions[@]}"; do
         "pip${python_version}" install --disable-pip-version-check -c constraints.txt -r "${requirement}"
         set +x
 
-        after=$("pip${python_version}" list)
+        after=$("pip${python_version}" list --format=legacy)
 
         if [ "${before}" != "${after}" ]; then
             echo "==> Conflicts detected in requirements for python ${python_version}: ${requirement}"
diff --git a/test/runner/requirements/constraints.txt b/test/runner/requirements/constraints.txt
index 16c1272a5e..de0fbcbb99 100644
--- a/test/runner/requirements/constraints.txt
+++ b/test/runner/requirements/constraints.txt
@@ -1,4 +1,5 @@
 coverage >= 4.2, != 4.3.2 # features in 4.2+ required, avoid known bug in 4.3.2 on python 2.6
+cryptography < 2.2 ; python_version < '2.7' # cryptography 2.2 drops support for python 2.6
 pywinrm >= 0.3.0 # message encryption support
 astroid == 1.5.3 ; python_version >= '3.5' # newer versions of astroid require newer versions of pylint to avoid bugs
 pylint == 1.7.4 ; python_version >= '3.5' # versions before 1.7.1 hang or fail to install on python 3.x
