commit 58238375b4b2ae2b0fd6e1d5c5730023aa85e830
Author: Rene Moser <mail@renemoser.net>
Date:   Mon Oct 29 19:56:15 2018 +0100

    apt: warn users on auto-install dep (#47704)
    
    * apt: warn users on auto-install dep
    
    * add changelog

diff --git a/changelogs/fragments/47704-apt-warn-auto-intall.yml b/changelogs/fragments/47704-apt-warn-auto-intall.yml
new file mode 100644
index 0000000000..65b5877d2c
--- /dev/null
+++ b/changelogs/fragments/47704-apt-warn-auto-intall.yml
@@ -0,0 +1,3 @@
+---
+bugfixes:
+- apt - Show a warning hint in case apt auto-installs its dependecies.
diff --git a/lib/ansible/modules/packaging/os/apt.py b/lib/ansible/modules/packaging/os/apt.py
index e5457a5aa1..8f05ba2a3e 100644
--- a/lib/ansible/modules/packaging/os/apt.py
+++ b/lib/ansible/modules/packaging/os/apt.py
@@ -933,6 +933,7 @@ def main():
             module.fail_json(msg="%s must be installed to use check mode. "
                                  "If run normally this module can auto-install it." % PYTHON_APT)
         try:
+            module.warn("Updating cache and auto-installing missing dependency: %s" % PYTHON_APT)
             module.run_command(['apt-get', 'update'], check_rc=True)
             module.run_command(['apt-get', 'install', '--no-install-recommends', PYTHON_APT, '-y', '-q'], check_rc=True)
             global apt, apt_pkg
