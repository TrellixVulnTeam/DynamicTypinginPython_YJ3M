commit 45c40524efa5880fc2d65e6b763fec8b8780e308
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sat Mar 3 12:45:55 2012 -0500

    Time limit needs to be passed to async_wrapper.

diff --git a/lib/ansible/runner.py b/lib/ansible/runner.py
index e00470c188..88aa0739e0 100755
--- a/lib/ansible/runner.py
+++ b/lib/ansible/runner.py
@@ -221,7 +221,7 @@ class Runner(object):
         async  = self._transfer_module(conn, tmp, 'async_wrapper')
         module = self._transfer_module(conn, tmp, self.module_name)
         new_args = [] 
-        new_args = [ self.generated_jid, module ]
+        new_args = [ self.generated_jid, module, self.background ]
         new_args.extend(self.module_args)
         result = self._execute_module(conn, tmp, async, new_args)
         return self._return_from_module(conn, host, result)
diff --git a/library/async_wrapper b/library/async_wrapper
index 523011698b..2b663e9891 100755
--- a/library/async_wrapper
+++ b/library/async_wrapper
@@ -32,13 +32,14 @@ import traceback
 if len(sys.argv) < 3:
     print json.dumps({
         "failed" : True,
-        "msg"    : "usage: async_wrapper <jid> <module_script> <args>.  Humans, do not call directly!"
+        "msg"    : "usage: async_wrapper <jid> <module_script> <time_limit> <args>.  Humans, do not call directly!"
     })
     sys.exit(1)
 
 jid = sys.argv[1]
 wrapped_module = sys.argv[2]
-args = sys.argv[3:]
+time_limit = sys.argv[3]
+args = sys.argv[4:]
 
 cmd = "%s %s" % (wrapped_module, " ".join(args))
 
