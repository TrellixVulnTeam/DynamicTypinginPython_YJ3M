commit 09f7bd1a9b18f1d1e0951933f3c81f97a698509e
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Thu Aug 30 04:13:12 2012 +0200

    Add lineinfile module

diff --git a/rst/modules.rst b/rst/modules.rst
index 59b336df5a..5153311fe6 100644
--- a/rst/modules.rst
+++ b/rst/modules.rst
@@ -55,6 +55,7 @@ Let's see what's available in the Ansible module library, out of the box:
 .. include:: modules/get_url.rst
 .. include:: modules/git.rst
 .. include:: modules/group.rst
+.. include:: modules/lineinfile.rst
 .. include:: modules/mount.rst
 .. include:: modules/mysql_db.rst
 .. include:: modules/mysql_user.rst
diff --git a/rst/modules/lineinfile.rst b/rst/modules/lineinfile.rst
new file mode 100644
index 0000000000..57cc962800
--- /dev/null
+++ b/rst/modules/lineinfile.rst
@@ -0,0 +1,37 @@
+.. _lineinfile:
+
+lineinfile
+``````````
+
+This module will search a file for a line, and ensure that it is present or
+absent.
+
+This is primarily useful when you only want to change a single line in a file.
+For other cases, see the copy or template modules.
+
++--------------------+----------+---------+----------------------------------------------------------------------------+
+| parameter          | required | default | comments                                                                   |
++====================+==========+=========+============================================================================+
+| state              | no       | present | 'absent' or 'present'                                                      |
++--------------------+----------+---------+----------------------------------------------------------------------------+
+| name               | yes      |         | The file to modify.                                                        |
++--------------------+----------+---------+----------------------------------------------------------------------------+
+| regexp             | yes      |         | The regular expression to look for in the file. For state=present, the     |
+|                    |          |         | pattern to replace. For state=absent, the pattern of the line to           |
+|                    |          |         | remove.                                                                    |
++--------------------+----------+---------+----------------------------------------------------------------------------+
+| line               | maybe    |         | Required for state=present. The line to insert/replace into the file. Must |
+|                    |          |         | match regexp=.
++--------------------+----------+---------+----------------------------------------------------------------------------+
+| insertafter        | no       | EOF     | Used with state=present. If specified, the line will be inserted after the |
+|                    |          |         | specified regular expression. Two special values are available: BOF for    |
+|                    |          |         | inserting the line at the beginning of the file, and EOF for inserting the |
+|                    |          |         | line at the end of the file.                                               |
++--------------------+----------+---------+----------------------------------------------------------------------------+
+
+Example::
+
+    lineinfile name=/etc/selinux/config regexp=^SELINUX= line=SELINUX=disabled
+    lineinfile name=/etc/sudoers regexp="^#includedir" line="#includedir /etc/sudoers.d"
+    lineinfile name=/etc/httpd/conf/httpd.conf regexp="^ServerName " insertafter="^#ServerName " line="ServerName ansible.example.com"
+    lineinfile name=/etc/sudoers state=absent regexp="^%wheel" 
