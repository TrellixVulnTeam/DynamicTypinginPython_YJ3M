commit b0d9deeae3fbcd79ba1dfb3635ba88dba79712d6
Author: Alan Rominger <arominge@redhat.com>
Date:   Wed Jul 8 16:17:12 2020 -0400

    Fix ansible-test error in community.aws (#70507)
    
    * Fix ansible-test error in community.aws
    
    * Add changelog entry for fix
    
    * Change check from None to string_types
    
    * Update changelogs/fragments/70507-validate-null-author.yaml
    
    clarify wording "or a list of strings"
    
    Co-authored-by: Felix Fontein <felix@fontein.de>
    
    * Update test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py
    
    clarify wording - single string or not specified valid
    
    Co-authored-by: Felix Fontein <felix@fontein.de>
    
    * Do not fail but return None when given outside list
    
    Co-authored-by: Felix Fontein <felix@fontein.de>

diff --git a/changelogs/fragments/70507-validate-null-author.yaml b/changelogs/fragments/70507-validate-null-author.yaml
new file mode 100644
index 0000000000..b93d0f397a
--- /dev/null
+++ b/changelogs/fragments/70507-validate-null-author.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - Fixes ansible-test traceback when plugin author is not a string or a list of strings (https://github.com/ansible/ansible/pull/70507)
diff --git a/test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py b/test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py
index 22b1a53d11..5ca248124c 100644
--- a/test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py
+++ b/test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py
@@ -412,15 +412,21 @@ def deprecation_schema(for_collection):
 
 
 def author(value):
+    if value is None:
+        return value  # let schema checks handle
 
     if not is_iterable(value):
         value = [value]
 
     for line in value:
+        if not isinstance(line, string_types):
+            continue  # let schema checks handle
         m = author_line.search(line)
         if not m:
             raise Invalid("Invalid author")
 
+    return value
+
 
 def doc_schema(module_name, for_collection=False, deprecated_module=False):
 
