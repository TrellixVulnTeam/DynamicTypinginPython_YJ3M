commit 51a50dee3ed169dacfbc8821e931c068b2e5f62e
Author: Matt Martz <matt@sivel.net>
Date:   Wed Jun 18 10:57:27 2014 -0500

    Clean up how we initialize the result psobject

diff --git a/library/windows/slurp.ps1 b/library/windows/slurp.ps1
index 8fedcdc2f9..d224539ee6 100644
--- a/library/windows/slurp.ps1
+++ b/library/windows/slurp.ps1
@@ -39,7 +39,9 @@ If (-not $src)
 $bytes = [System.IO.File]::ReadAllBytes($src);
 $content = [System.Convert]::ToBase64String($bytes);
 
-$result = New-Object psobject;
+$result = New-Object psobject @{
+    changed = $false
+    encoding = "base64"
+};
 Set-Attr $result "content" $content;
-Set-Attr $result "encoding" "base64";
 echo $result | ConvertTo-Json;
diff --git a/library/windows/win_ping.ps1 b/library/windows/win_ping.ps1
index 6d1af14e9e..0771ea3125 100644
--- a/library/windows/win_ping.ps1
+++ b/library/windows/win_ping.ps1
@@ -25,6 +25,8 @@ If ($params.data.GetType)
    $data = $params.data;
 }
 
-$result = New-Object psobject;
-Set-Attr $result "ping" $data;
+$result = New-Object psobject @{
+    changed = $false
+    ping = $data
+};
 echo $result | ConvertTo-Json;
diff --git a/library/windows/win_stat.ps1 b/library/windows/win_stat.ps1
index 50a46064d2..d7b754a283 100644
--- a/library/windows/win_stat.ps1
+++ b/library/windows/win_stat.ps1
@@ -28,36 +28,37 @@ If ($params.path.GetType)
 $get_md5 = $TRUE;
 If ($params.get_md5.GetType)
 {
-   $get_md5 = $params.get_md5;
+    $get_md5 = $params.get_md5;
 }
 
-$stat = New-Object psobject;
+$result = New-Object psobject @{
+    stat = New-Object psobject
+    changed = $false
+};
+
 If (Test-Path $path)
 {
-   Set-Attr $stat "exists" $TRUE;
+   Set-Attr $result.stat "exists" $TRUE;
    $info = Get-Item $path;
    If ($info.Directory) # Only files have the .Directory attribute.
    {
-      Set-Attr $stat "isdir" $FALSE;
-      Set-Attr $stat "size" $info.Length;
+      Set-Attr $result.stat "isdir" $FALSE;
+      Set-Attr $result.stat "size" $info.Length;
    }
    Else
    {
-      Set-Attr $stat "isdir" $TRUE;
+      Set-Attr $result.stat "isdir" $TRUE;
    }
 }
 Else
 {
-   Set-Attr $stat "exists" $FALSE;
+   Set-Attr $result.stat "exists" $FALSE;
 }
 
-If ($get_md5 -and $stat.exists -and -not $stat.isdir)
+If ($get_md5 -and $result.stat.exists -and -not $result.stat.isdir)
 {
    $path_md5 = (Get-FileHash -Path $path -Algorithm MD5).Hash.ToLower();
-   Set-Attr $stat "md5" $path_md5;
+   Set-Attr $result.stat "md5" $path_md5;
 }
 
-$result = New-Object psobject;
-Set-Attr $result "stat" $stat;
-Set-Attr $result "changed" $FALSE;
 echo $result | ConvertTo-Json;
