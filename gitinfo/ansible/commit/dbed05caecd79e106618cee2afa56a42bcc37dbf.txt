commit dbed05caecd79e106618cee2afa56a42bcc37dbf
Author: Matt Martz <matt@sivel.net>
Date:   Fri Feb 7 13:09:47 2014 -0600

    Support for -a to accept a file with test-module
    
    If the CLI value for -a starts with an @, treat it like a file, and dump the contents into complex_args
    
    This supports yaml or json.

diff --git a/hacking/test-module b/hacking/test-module
index cf4b475390..3f7a8a2d64 100755
--- a/hacking/test-module
+++ b/hacking/test-module
@@ -89,6 +89,11 @@ def boilerplate_module(modfile, args, interpreter):
     #included_boilerplate = module_data.find(module_common.REPLACER) != -1 or module_data.find("import ansible.module_utils") != -1
 
     complex_args = {}
+    if args.startswith("@"):
+        # Argument is a YAML file (JSON is a subset of YAML)
+        complex_args = utils.combine_vars(complex_args, utils.parse_yaml_from_file(args[1:]))
+        args=''
+
     inject = {}
     if interpreter:
         if '=' not in interpreter:
