commit c5c0d9086e65585c92bb3985cd5f9f73fae4a2bc
Author: Marc Mercer <daemoen@ct-unlimited.com>
Date:   Tue Mar 14 08:12:28 2017 -0700

    [cloud][docs] update ec2_tag documentation example (#22586)
    
    Currently the documentation utilizes with_subelements, but it does not parse the results correctly.  By changing to with_items: and specifying the proper list, we are able to tag the instances as expected.

diff --git a/lib/ansible/modules/cloud/amazon/ec2_tag.py b/lib/ansible/modules/cloud/amazon/ec2_tag.py
index 64252ea277..82e8ec3be2 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_tag.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_tag.py
@@ -100,9 +100,8 @@ EXAMPLES = '''
     tags:
       Name: dbserver
       Env: production
-  with_subelements:
-    - ec2_vol.results
-    - volumes
+  with_items:
+    - ec2_vol.volumes
 
 - name: Get EC2 facts
   action: ec2_facts
