commit 8b27085c347cc74b4f3545cf3bbe5843c03bcf3c
Author: Maykel Moya <mmoya@mmoya.org>
Date:   Wed Feb 13 02:01:58 2013 +0100

    Prevent traceback when /etc/mtab is not available
    
    * get_file_contents returns None when file is not available.
      When /etc/mtab is pointing to /proc/mounts and /proc is not
      mounted, mtab.split will traceback.

diff --git a/library/setup b/library/setup
index fab87244c2..2080631ab3 100644
--- a/library/setup
+++ b/library/setup
@@ -388,7 +388,7 @@ class LinuxHardware(Hardware):
 
     def get_mount_facts(self):
         self.facts['mounts'] = []
-        mtab = get_file_content('/etc/mtab')
+        mtab = get_file_content('/etc/mtab', '')
         for line in mtab.split('\n'):
             if line.startswith('/'):
                 fields = line.rstrip('\n').split()
