commit ae1080d922bdd6e9376f816e3b7c6e316fcec16a
Author: Andrea Mandolo <andrea.mandolo@newvision.it>
Date:   Mon Jun 22 17:13:42 2015 +0200

    Added some block_device_mapping (disks) informations to EC2 instance module ouput

diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index a9faff2532..003a6a8b52 100755
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -624,6 +624,19 @@ def get_instance_info(inst):
     except AttributeError:
         instance_info['ebs_optimized'] = False
 
+    try:
+        bdm_dict = {}
+        bdm = getattr(inst, 'block_device_mapping')
+        for device_name in bdm.keys():
+            bdm_dict[device_name] = {
+                'status': bdm[device_name].status,
+                'volume_id': bdm[device_name].volume_id,
+                'delete_on_termination': bdm[device_name].delete_on_termination
+            }
+        instance_info['block_device_mapping'] = bdm_dict
+    except AttributeError:
+        instance_info['block_device_mapping'] = False
+
     try:
         instance_info['tenancy'] = getattr(inst, 'placement_tenancy')
     except AttributeError:
