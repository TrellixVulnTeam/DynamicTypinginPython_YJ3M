commit b8e7211661a9ab877dab169e3dc48aa954ab7322
Author: Matt Martz <matt@sivel.net>
Date:   Thu Jan 15 19:39:57 2015 -0600

    Update rax_clb tests for fixes in the module

diff --git a/test/integration/roles/test_rax_clb/tasks/main.yml b/test/integration/roles/test_rax_clb/tasks/main.yml
index 9cc282e5eb..b52094035e 100644
--- a/test/integration/roles/test_rax_clb/tasks/main.yml
+++ b/test/integration/roles/test_rax_clb/tasks/main.yml
@@ -14,6 +14,22 @@
   register: rax_clb
 
 - name: Validate results of rax_clb with no args
+  assert:
+    that:
+      - rax_clb|failed
+      - rax_clb.msg == 'missing required arguments: name'
+# ============================================================
+
+
+
+# ============================================================
+- name: Test rax_clb with name
+  rax_clb:
+    name: fail
+  ignore_errors: true
+  register: rax_clb
+
+- name: Validate results of rax_clb with only creds
   assert:
     that:
       - rax_clb|failed
@@ -23,10 +39,11 @@
 
 
 # ============================================================
-- name: Test rax_clb with credentials
+- name: Test rax_clb with name and credentials
   rax_clb:
     username: "{{ rackspace_username }}"
     api_key: "{{ rackspace_api_key }}"
+    name: fail
   ignore_errors: true
   register: rax_clb
 
@@ -48,13 +65,11 @@
   ignore_errors: true
   register: rax_clb
 
-## This assertion is currently failing, due to the module not providing the correct name of the missing argument
 - name: Validate rax_clb creds and region
   assert:
     that:
       - rax_clb|failed
-      - rax_clb.msg == 'name is required for rax_clb'
-  ignore_errors: true
+      - rax_clb.msg == 'missing required arguments: name'
 # ============================================================
 
 
