commit fd6a26239cc2eeba8ada3f80e49e3cdf1d999f0c
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Wed Oct 17 22:34:59 2012 -0400

    Env var vs config priority fixing

diff --git a/lib/ansible/constants.py b/lib/ansible/constants.py
index 22aa3a807b..b04e20cb88 100644
--- a/lib/ansible/constants.py
+++ b/lib/ansible/constants.py
@@ -22,7 +22,9 @@ import traceback
 
 def get_config(p, section, key, env_var, default):
     if env_var is not None:
-        return os.environ.get(env_var, default)
+        value = os.environ.get(env_var, None)
+        if value is not None:
+            return value
     if p is not None:
         try:
             return p.get(section, key)
