commit 40ffd8269d6ae2e71817c14b735a84da2e7dcd02
Author: Matt Clay <matt@mystile.com>
Date:   Thu Sep 22 16:12:10 2016 -0700

    Add shellcheck to code-smell checks. (#17715)

diff --git a/test/utils/shippable/code-smell.sh b/test/utils/shippable/code-smell.sh
index 3dcaafc174..bcf3bf1ace 100755
--- a/test/utils/shippable/code-smell.sh
+++ b/test/utils/shippable/code-smell.sh
@@ -7,6 +7,10 @@ install_deps="${INSTALL_DEPS:-}"
 cd "${source_root}"
 
 if [ "${install_deps}" != "" ]; then
+    apt-add-repository 'deb http://archive.ubuntu.com/ubuntu trusty-backports universe'
+    apt-get update -qq
+    apt-get install shellcheck
+
     pip install -r "${source_root}/test/utils/shippable/code-smell-requirements.txt" --upgrade
     pip list
 fi
@@ -16,3 +20,6 @@ test/code-smell/replace-urlopen.sh .
 test/code-smell/use-compat-six.sh lib
 test/code-smell/boilerplate.sh
 test/code-smell/required-and-default-attributes.sh
+
+shellcheck \
+    test/utils/shippable/*.sh
