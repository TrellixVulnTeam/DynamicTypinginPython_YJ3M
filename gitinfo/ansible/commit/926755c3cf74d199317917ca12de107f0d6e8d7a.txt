commit 926755c3cf74d199317917ca12de107f0d6e8d7a
Author: Anton Lindstr√∂m <carlantonlindstrom@gmail.com>
Date:   Wed May 21 21:06:47 2014 +0200

    Added integration tests for encrypted vars

diff --git a/test/integration/test_var_in_vault.yml b/test/integration/test_var_in_vault.yml
new file mode 100644
index 0000000000..3313f32d07
--- /dev/null
+++ b/test/integration/test_var_in_vault.yml
@@ -0,0 +1,11 @@
+- hosts: testhost
+  vars_files:
+    - vars/test_var_encrypted.yml
+  
+  gather_facts: False
+
+  tasks:
+    - assert:
+        that:
+          - 'secret_var == "secret"'
+
diff --git a/test/integration/vars/test_var_encrypted.yml b/test/integration/vars/test_var_encrypted.yml
new file mode 100644
index 0000000000..263c8f09b4
--- /dev/null
+++ b/test/integration/vars/test_var_encrypted.yml
@@ -0,0 +1,6 @@
+$ANSIBLE_VAULT;1.1;AES256
+66316432306130656439343231643731643637663362643633316161663034353135333661393064
+3533653862643531613737323332393862396430396633610a363330646130373966393830623738
+33616137323034333830663164326666613839366533326531396636323030636435393866613437
+3634386461363430310a333330326166626363393039363739363730366234393634333431346436
+33323132373035663965306166313761343432303962623962323531653934616130
diff --git a/test/integration/vault-password b/test/integration/vault-password
new file mode 100644
index 0000000000..969739294d
--- /dev/null
+++ b/test/integration/vault-password
@@ -0,0 +1 @@
+test-vault-password
