commit 61baf41edcf4c88f1442ecef3d476a49368847b9
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Sun Apr 24 07:43:21 2016 -0400

    Merge pull request #5 from dgarros/pyez
    
    Add options to get_config to accept format (text, set or xml)

diff --git a/lib/ansible/module_utils/junos.py b/lib/ansible/module_utils/junos.py
index 72e323b721..66b8d742ac 100644
--- a/lib/ansible/module_utils/junos.py
+++ b/lib/ansible/module_utils/junos.py
@@ -249,9 +249,13 @@ class Netconf(object):
             self.device.facts_refresh()
         return self.device.facts
 
-    def get_config(self):
-        ele = self.rpc('get_configuration', format='text')
-        return str(ele.text).strip()
+    def get_config(self, config_format="text"):
+        ele = self.rpc('get_configuration', format=config_format)
+
+        if config_format == "text" or config_format == "set":
+           return str(ele.text).strip()
+        elif config_format == "xml":
+            return ele
 
     def rpc(self, name, format='xml', **kwargs):
         meth = getattr(self.device.rpc, name)
@@ -337,4 +341,3 @@ def get_module(**kwargs):
 
     module.connect()
     return module
-
