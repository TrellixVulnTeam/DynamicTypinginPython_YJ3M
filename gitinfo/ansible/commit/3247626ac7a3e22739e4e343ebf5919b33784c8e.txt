commit 3247626ac7a3e22739e4e343ebf5919b33784c8e
Author: Sloane Hertel <shertel@redhat.com>
Date:   Tue Aug 20 11:32:02 2019 -0400

    Warn when transforming constructed groups (#60912)
    
    * Warn when transforming constructed groups
    
    The `keyed_groups` field has used sanitization since 2.6, but `groups` only started doing so in 2.8.
    This adds a warning for the change in behavior.
    
    * changelog

diff --git a/changelogs/fragments/60912-constructed-groups-option-sanitization.yaml b/changelogs/fragments/60912-constructed-groups-option-sanitization.yaml
new file mode 100644
index 0000000000..0cc2c7e9d2
--- /dev/null
+++ b/changelogs/fragments/60912-constructed-groups-option-sanitization.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - constructed - Add a warning for the change in behavior in the sanitization of the groups option.
diff --git a/lib/ansible/plugins/inventory/__init__.py b/lib/ansible/plugins/inventory/__init__.py
index 9791dbbeb0..fc6046c628 100644
--- a/lib/ansible/plugins/inventory/__init__.py
+++ b/lib/ansible/plugins/inventory/__init__.py
@@ -372,7 +372,7 @@ class Constructable(object):
             self.templar.available_variables = variables
             for group_name in groups:
                 conditional = "{%% if %s %%} True {%% else %%} False {%% endif %%}" % groups[group_name]
-                group_name = self._sanitize_group_name(group_name)
+                group_name = original_safe(group_name, force=True)
                 try:
                     result = boolean(self.templar.template(conditional))
                 except Exception as e:
