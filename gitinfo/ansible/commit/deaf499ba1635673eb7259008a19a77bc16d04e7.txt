commit deaf499ba1635673eb7259008a19a77bc16d04e7
Author: Rike-Benjamin Schuppner <rikebs@debilski.de>
Date:   Mon Jun 10 15:51:35 2013 +0200

    Remove duplicate host file reads by removing a legacy check.
    
    This allows using a form such as
    
        ansible -i <( arbitrary command ) all -m ping

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 17e501f143..d5df2f89d9 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -90,12 +90,8 @@ class Inventory(object):
                 self.parser = InventoryScript(filename=host_list)
                 self.groups = self.parser.groups.values()
             else:
-                data = file(host_list).read()
-                if not data.startswith("---"):
-                    self.parser = InventoryParser(filename=host_list)
-                    self.groups = self.parser.groups.values()
-                else:
-                    raise errors.AnsibleError("YAML inventory support is deprecated in 0.6 and removed in 0.7, see the migration script in examples/scripts in the git checkout")
+                self.parser = InventoryParser(filename=host_list)
+                self.groups = self.parser.groups.values()
 
             utils.plugins.vars_loader.add_directory(self.basedir(), with_subdir=True)
         else:
