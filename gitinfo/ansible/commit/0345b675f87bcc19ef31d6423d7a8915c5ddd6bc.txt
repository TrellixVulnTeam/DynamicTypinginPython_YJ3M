commit 0345b675f87bcc19ef31d6423d7a8915c5ddd6bc
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Apr 14 12:03:50 2015 -0500

    Rather than moving connection option setting, fix defaults
    
    This reverts the previous commit (d71834d) and instead fixes the problem
    by making sure that options used by ConnectionInformation do not have
    defaults set in the playbook objects so they're properly inherited from
    the CLI options object if not otherwise specified in the play

diff --git a/v2/ansible/executor/connection_info.py b/v2/ansible/executor/connection_info.py
index ace2252e3a..19c8b130c7 100644
--- a/v2/ansible/executor/connection_info.py
+++ b/v2/ansible/executor/connection_info.py
@@ -64,14 +64,14 @@ class ConnectionInformation:
         self.no_log      = False
         self.check_mode  = False
 
-        if play:
-            self.set_play(play)
-
         #TODO: just pull options setup to above?
         # set options before play to allow play to override them
         if options:
             self.set_options(options)
 
+        if play:
+            self.set_play(play)
+
 
     def __repr__(self):
         value = "CONNECTION INFO:\n"
diff --git a/v2/ansible/playbook/play.py b/v2/ansible/playbook/play.py
index c7f89888b8..fef40568ab 100644
--- a/v2/ansible/playbook/play.py
+++ b/v2/ansible/playbook/play.py
@@ -56,11 +56,11 @@ class Play(Base, Taggable, Become):
     _accelerate_port     = FieldAttribute(isa='int', default=5099) # should be alias of port
 
     # Connection
-    _connection          = FieldAttribute(isa='string', default='smart')
+    _connection          = FieldAttribute(isa='string')
     _gather_facts        = FieldAttribute(isa='string', default='smart')
     _hosts               = FieldAttribute(isa='list', default=[], required=True)
     _name                = FieldAttribute(isa='string', default='<no name specified>')
-    _port                = FieldAttribute(isa='int', default=22)
+    _port                = FieldAttribute(isa='int')
     _remote_user         = FieldAttribute(isa='string')
 
     # Variable Attributes
