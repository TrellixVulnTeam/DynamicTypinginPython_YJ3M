commit 8ca836ad146418582fa98810a8ba0306a4594bc2
Author: Joseph Callen <jcallen@redhat.com>
Date:   Tue May 23 21:12:06 2017 -0400

    Fix script inventory plugin

diff --git a/lib/ansible/plugins/inventory/script.py b/lib/ansible/plugins/inventory/script.py
index 54fca8f991..92fc440338 100644
--- a/lib/ansible/plugins/inventory/script.py
+++ b/lib/ansible/plugins/inventory/script.py
@@ -113,12 +113,12 @@ class InventoryModule(BaseInventoryPlugin):
 
             group = None
             data_from_meta = None
-            for (group, gdata) in data.items():
+            for (group, gdata) in processed.items():
                 if group == '_meta':
                     if 'hostvars' in data:
                         data_from_meta = data['hostvars']
                 else:
-                    self.parse_group(group, gdata)
+                    self._parse_group(group, gdata)
 
             # in Ansible 1.3 and later, a "_meta" subelement may contain
             # a variable "hostvars" which contains a hash for each host
