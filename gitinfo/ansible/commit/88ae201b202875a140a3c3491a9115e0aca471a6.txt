commit 88ae201b202875a140a3c3491a9115e0aca471a6
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Tue Jun 16 06:28:46 2015 -0700

    Fix bugs found by @kustodian

diff --git a/lib/ansible/modules/packaging/os/yum.py b/lib/ansible/modules/packaging/os/yum.py
index 4b271b35d9..f0e30b40c9 100644
--- a/lib/ansible/modules/packaging/os/yum.py
+++ b/lib/ansible/modules/packaging/os/yum.py
@@ -881,6 +881,8 @@ def main():
         supports_check_mode = True
     )
 
+    params = module.params
+
     if params['list']:
         repoquerybin = ensure_yum_utils(module)
         if not repoquerybin:
@@ -892,7 +894,7 @@ def main():
         # the system then users will see an error message using the yum API.
         # Use repoquery in those cases.
 
-        my = yum_base(conf_file)
+        my = yum_base(params['conf_file'])
         # A sideeffect of accessing conf is that the configuration is
         # loaded and plugins are discovered
         my.conf
