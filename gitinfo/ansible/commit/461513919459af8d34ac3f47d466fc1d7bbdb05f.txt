commit 461513919459af8d34ac3f47d466fc1d7bbdb05f
Author: Paul Belanger <pabelanger@redhat.com>
Date:   Wed Aug 21 13:30:49 2019 -0400

    vos_config collection fix using FQCN (#60446)
    
    This deals with hardcoded vos_config in our vyos action plugin. Needed
    for when we move to collections.
    
    Signed-off-by: Paul Belanger <pabelanger@redhat.com>

diff --git a/lib/ansible/plugins/action/vyos.py b/lib/ansible/plugins/action/vyos.py
index 58cd665000..f4cf142533 100644
--- a/lib/ansible/plugins/action/vyos.py
+++ b/lib/ansible/plugins/action/vyos.py
@@ -38,7 +38,8 @@ class ActionModule(ActionNetworkModule):
     def run(self, tmp=None, task_vars=None):
         del tmp  # tmp no longer has any effect
 
-        self._config_module = True if self._task.action == 'vyos_config' else False
+        module_name = self._task.action.split('.')[-1]
+        self._config_module = True if module_name == 'vyos_config' else False
         socket_path = None
 
         if self._play_context.connection == 'network_cli':
