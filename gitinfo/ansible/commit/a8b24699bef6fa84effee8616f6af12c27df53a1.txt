commit a8b24699bef6fa84effee8616f6af12c27df53a1
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Aug 10 09:34:55 2015 -0400

    added gpg2 as fallback fixes #1796

diff --git a/lib/ansible/modules/packaging/os/rpm_key.py b/lib/ansible/modules/packaging/os/rpm_key.py
index d2d5e68401..b3cb6c99ed 100644
--- a/lib/ansible/modules/packaging/os/rpm_key.py
+++ b/lib/ansible/modules/packaging/os/rpm_key.py
@@ -141,7 +141,14 @@ class RpmKey:
             return ret
 
     def getkeyid(self, keyfile):
-        gpg = self.module.get_bin_path('gpg', True)
+
+        gpg = self.module.get_bin_path('gpg')
+        if not gpg:
+            gpg = self.module.get_bin_path('gpg2')
+
+        if not gpg:
+            self.json_fail(msg="rpm_key requires a command lne gpg or gpg2, none found")
+
         stdout, stderr = self.execute_command([gpg, '--no-tty', '--batch', '--with-colons', '--fixed-list-mode', '--list-packets', keyfile])
         for line in stdout.splitlines():
             line = line.strip()
