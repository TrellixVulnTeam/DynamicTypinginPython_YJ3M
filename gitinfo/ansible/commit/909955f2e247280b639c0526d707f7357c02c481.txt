commit 909955f2e247280b639c0526d707f7357c02c481
Author: Ruggero Marchei <ruggero.marchei@daemonzone.net>
Date:   Tue Jul 15 18:04:46 2014 +0200

    fix get_distribution_version() on amazon linux

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 252be82c28..e08c817fe7 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -185,6 +185,8 @@ def get_distribution_version():
     if platform.system() == 'Linux':
         try:
             distribution_version = platform.linux_distribution()[1]
+            if not distribution_version and os.path.isfile('/etc/system-release'):
+                distribution_version = platform.linux_distribution(supported_dists=['system'])[1]
         except:
             # FIXME: MethodMissing, I assume?
             distribution_version = platform.dist()[1]
