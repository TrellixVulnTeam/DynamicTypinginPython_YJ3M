commit 1e6926b9ab671f4f0685e62dbe003cc4ec2b20b7
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Tue Jan 7 06:01:47 2014 -0800

    Merge pull request #5528 from dverhelst/devel
    
    Adding support for detecting RHEV Hypervisor in ansible_virtualization_type

diff --git a/library/system/setup b/library/system/setup
index 542280624e..c8f825b9ac 100755
--- a/library/system/setup
+++ b/library/system/setup
@@ -2080,6 +2080,11 @@ class LinuxVirtual(Virtual):
             self.facts['virtualization_role'] = 'guest'
             return
 
+        if product_name == 'RHEV Hypervisor':
+            self.facts['virtualization_type'] = 'RHEV'
+            self.facts['virtualization_role'] = 'guest'
+            return
+
         if product_name == 'VMware Virtual Platform':
             self.facts['virtualization_type'] = 'VMware'
             self.facts['virtualization_role'] = 'guest'
