commit c271c0eb04f540bce8a4d6544cbcbc36dd2835a3
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Oct 26 16:09:35 2015 -0400

    added setting of ansible_ssh_user to current user as backwards compatibilty issue

diff --git a/lib/ansible/playbook/play_context.py b/lib/ansible/playbook/play_context.py
index b1a0e18e7f..465cb137e2 100644
--- a/lib/ansible/playbook/play_context.py
+++ b/lib/ansible/playbook/play_context.py
@@ -26,6 +26,9 @@ import random
 import re
 import string
 
+from pwd import getpwuid
+from os import geteuid
+
 from ansible.compat.six import iteritems, string_types
 from ansible import constants as C
 from ansible.errors import AnsibleError
@@ -479,3 +482,7 @@ class PlayContext(Base):
                 for prop, varnames in MAGIC_VARIABLE_MAPPING.items():
                     if special_var in varnames:
                         variables[special_var] = getattr(self, prop)
+
+        # for backwards compat
+        if variables['ansible_ssh_user'] is None:
+            variables['ansible_ssh_user'] = getpwuid(geteuid())[0]
