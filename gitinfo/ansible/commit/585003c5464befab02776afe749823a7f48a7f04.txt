commit 585003c5464befab02776afe749823a7f48a7f04
Author: Michael Pappas <mpappas86@gmail.com>
Date:   Wed Mar 30 14:48:20 2016 -0400

    Prevent ec2group from deleting sgs during check_mode runs

diff --git a/lib/ansible/modules/cloud/amazon/ec2_group.py b/lib/ansible/modules/cloud/amazon/ec2_group.py
index 5b069c19a9..2cdc033e9c 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_group.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_group.py
@@ -289,7 +289,8 @@ def main():
         if group:
             '''found a match, delete it'''
             try:
-                group.delete()
+                if not module.check_mode:
+                    group.delete()
             except Exception as e:
                 module.fail_json(msg="Unable to delete security group '%s' - %s" % (group, e))
             else:
