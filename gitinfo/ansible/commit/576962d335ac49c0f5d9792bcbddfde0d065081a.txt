commit 576962d335ac49c0f5d9792bcbddfde0d065081a
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Jul 23 20:43:14 2013 -0400

    now if you set fork to 0 or a number higher than the number of hosts, it
    will be readjusted to the number of hosts runner is going to deal with.
    Signed-off-by: Brian Coca <briancoca+dev@gmail.com>

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index d90763734f..46e0e3e236 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -886,6 +886,9 @@ class Runner(object):
         # host.
         p = utils.plugins.action_loader.get(self.module_name, self)
 
+        if self.forks == 0 or self.forks > len(hosts):
+            self.forks = len(hosts)
+
         if p and getattr(p, 'BYPASS_HOST_LOOP', None):
 
             # Expose the current hostgroup to the bypassing plugins
