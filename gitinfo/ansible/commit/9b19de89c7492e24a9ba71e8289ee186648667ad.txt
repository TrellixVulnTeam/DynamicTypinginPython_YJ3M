commit 9b19de89c7492e24a9ba71e8289ee186648667ad
Author: Michael Schuett <michaeljs1990@gmail.com>
Date:   Sat Jul 25 18:42:11 2015 -0400

    Remove unneeded nesting
    
    The double nesting causes an issue with setting a default empty list if you need to loop over this using with_items. This fixes the issue since it looks like ansible silently fails at setting the default if you use with_items: registered_var['one']['two'] where one is not set.

diff --git a/lib/ansible/modules/extras/cloud/amazon/ec2_search.py b/lib/ansible/modules/extras/cloud/amazon/ec2_search.py
index 0114bec14b..5bc1698501 100644
--- a/lib/ansible/modules/extras/cloud/amazon/ec2_search.py
+++ b/lib/ansible/modules/extras/cloud/amazon/ec2_search.py
@@ -146,8 +146,7 @@ def main():
         except:
             print module.jsonify('error getting instances from: ' + region.name)
 
-    ansible_facts = {'info': server_info}
-    ec2_facts_result = dict(changed=True, ec2=ansible_facts)
+    ec2_facts_result = dict(changed=True, ec2=server_info)
 
     module.exit_json(**ec2_facts_result)
 
