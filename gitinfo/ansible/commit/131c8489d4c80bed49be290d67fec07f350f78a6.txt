commit 131c8489d4c80bed49be290d67fec07f350f78a6
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Fri Jul 19 09:40:00 2013 -0400

    Legacy variable usage removed

diff --git a/library/utilities/debug b/library/utilities/debug
index 12e930c7e3..e2acb08d07 100644
--- a/library/utilities/debug
+++ b/library/utilities/debug
@@ -37,22 +37,13 @@ options:
         message.
     required: false
     default: "Hello world!"
-  fail:
-    description:
-      - A boolean that indicates whether the debug module should fail or not.
-    required: false
-    default: "no"
-    choices: [ "yes", "no" ]
 author: Dag Wieers
 '''
 
 EXAMPLES = '''
 # Example that prints the loopback address and gateway for each host
-- debug: msg="System $inventory_hostname has uuid $ansible_product_uuid"
-
-- debug: msg="System $inventory_hostname lacks a gateway" fail=yes
-  only_if: "is_unset('${ansible_default_ipv4.gateway}')"
+- debug: msg="System {{ inventory_hostname }} has uuid {{ ansible_product_uuid }}"
 
-- debug: msg="System $inventory_hostname has gateway ${ansible_default_ipv4.gateway}"
-  only_if: "is_set('${ansible_default_ipv4.gateway}')"
+- debug: msg="System {{ inventory_hostname }} has gateway {{ ansible_default_ipv4.gateway }}"
+  when: ansible_default_ipv4.gateway is defined
 '''
