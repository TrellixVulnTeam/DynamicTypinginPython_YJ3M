commit 8b2327fe3afbd76c53ec226761889a9c2476e843
Author: Robert Estelle <robert@getpreo.com>
Date:   Sun Jun 14 15:53:56 2015 -0400

    Fix missing instance_id param in ec2_eip.

diff --git a/lib/ansible/modules/cloud/amazon/ec2_eip.py b/lib/ansible/modules/cloud/amazon/ec2_eip.py
index 2f358d1362..b24032b8d4 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_eip.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_eip.py
@@ -228,7 +228,7 @@ def ensure_present(ec2, domain, address, instance_id,
     return {'changed': changed, 'public_ip': address.public_ip}
 
 
-def ensure_absent(ec2, domain, address, check_mode):
+def ensure_absent(ec2, domain, address, instance_id, check_mode):
     if not address:
         return {'changed': False}
 
@@ -279,7 +279,7 @@ def main():
                                     reuse_existing_ip_allowed,
                                     module.check_mode)
         else:
-            result = ensure_absent(ec2, domain, address, module.check_mode)
+            result = ensure_absent(ec2, domain, address, instance_id, module.check_mode)
     except (boto.exception.EC2ResponseError, EIPException) as e:
         module.fail_json(msg=str(e))
 
