commit 148d72d6e2c79d7df50c64800fd04a6cbd318280
Author: Joseph Andreatta <joseph@vmware.com>
Date:   Fri Jan 17 05:55:14 2020 -0800

    vmware_vcenter_settings: Specify defaults inside parameter dict (#59546)
    
    * vmware_vcenter_settings: Specify defaults inside dictionaries
    * Add default to documentation and fix bug in example

diff --git a/lib/ansible/modules/cloud/vmware/vmware_vcenter_settings.py b/lib/ansible/modules/cloud/vmware/vmware_vcenter_settings.py
index 21c810a817..ff08e75adb 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_vcenter_settings.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_vcenter_settings.py
@@ -80,6 +80,10 @@ options:
             - '- C(server) (str): Mail server'
             - '- C(sender) (str): Mail sender address'
         type: dict
+        default: {
+            server: '',
+            sender: '',
+        }
     snmp_receivers:
         description:
             - SNMP trap destinations for vCenter server alerts.
@@ -153,7 +157,7 @@ EXAMPLES = r'''
       event_retention: 30
     runtime_settings:
       unique_id: 1
-      managed_address: "{{ ansible_default_ipv4.address }}"
+      managed_address: "{{ lookup('dig', inventory_hostname) }}"
       vcenter_server_name: "{{ inventory_hostname }}"
     user_directory:
       timeout: 60
@@ -576,11 +580,11 @@ def main():
         database=dict(
             type='dict',
             options=dict(
-                max_connections=dict(type='int'),
-                task_cleanup=dict(type='bool'),
-                task_retention=dict(type='int'),
-                event_cleanup=dict(type='bool'),
-                event_retention=dict(type='int'),
+                max_connections=dict(type='int', default=50),
+                task_cleanup=dict(type='bool', default=True),
+                task_retention=dict(type='int', default=30),
+                event_cleanup=dict(type='bool', default=True),
+                event_retention=dict(type='int', default=30),
             ),
             default=dict(
                 max_connections=50,
@@ -601,11 +605,11 @@ def main():
         user_directory=dict(
             type='dict',
             options=dict(
-                timeout=dict(type='int'),
-                query_limit=dict(type='bool'),
-                query_limit_size=dict(type='int'),
-                validation=dict(type='bool'),
-                validation_period=dict(type='int'),
+                timeout=dict(type='int', default=60),
+                query_limit=dict(type='bool', default=True),
+                query_limit_size=dict(type='int', default=5000),
+                validation=dict(type='bool', default=True),
+                validation_period=dict(type='int', default=1440),
             ),
             default=dict(
                 timeout=60,
@@ -621,6 +625,10 @@ def main():
                 server=dict(type='str'),
                 sender=dict(type='str'),
             ),
+            default=dict(
+                server='',
+                sender='',
+            ),
         ),
         snmp_receivers=dict(
             type='dict',
@@ -664,8 +672,8 @@ def main():
         timeout_settings=dict(
             type='dict',
             options=dict(
-                normal_operations=dict(type='int'),
-                long_operations=dict(type='int'),
+                normal_operations=dict(type='int', default=30),
+                long_operations=dict(type='int', default=120),
             ),
             default=dict(
                 normal_operations=30,
