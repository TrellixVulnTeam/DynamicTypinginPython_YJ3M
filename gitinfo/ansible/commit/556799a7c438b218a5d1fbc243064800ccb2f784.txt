commit 556799a7c438b218a5d1fbc243064800ccb2f784
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Wed Oct 17 22:53:22 2012 -0400

    add error message if keyczar is not installed and the user tries to use fireball mode

diff --git a/lib/ansible/utils.py b/lib/ansible/utils.py
index b317e6a153..59c0dd44b8 100644
--- a/lib/ansible/utils.py
+++ b/lib/ansible/utils.py
@@ -72,6 +72,9 @@ def key_for_hostname(hostname):
     # fireball mode is an implementation of ansible firing up zeromq via SSH
     # to use no persistent daemons or key management
 
+    if not KEYCZAR_AVAILABLE:
+        raise errors.AnsibleError("python-keyczar must be installed to use fireball mode")
+
     key_path = os.path.expanduser("~/.fireball.keys")
     if not os.path.exists(key_path):
         os.makedirs(key_path)
