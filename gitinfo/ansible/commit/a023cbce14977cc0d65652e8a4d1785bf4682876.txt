commit a023cbce14977cc0d65652e8a4d1785bf4682876
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Feb 11 14:19:00 2014 -0600

    When using jsonify in modules, try several unicode encoding for dumps()
    
    Fixes #4821

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 86d8566ff7..75e50831a7 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -840,7 +840,12 @@ class AnsibleModule(object):
             self.fail_json(msg='Boolean %s not in either boolean list' % arg)
 
     def jsonify(self, data):
-        return json.dumps(data)
+        for encoding in ("utf-8", "latin-1", "unicode_escape"):
+            try:
+                return json.dumps(data, encoding=encoding)
+            except UnicodeDecodeError, e:
+                continue
+        self.fail_json(msg='Invalid unicode encoding encountered')
 
     def from_json(self, data):
         return json.loads(data)
