commit dbff3a6bbc3732cb7f2f4e7ed1e3f4e91661cd5d
Author: nitzmahone <mdavis@ansible.com>
Date:   Wed Mar 9 17:48:59 2016 -0800

    Fix blind override in failed_when
    
    caused all task failures to be success

diff --git a/lib/ansible/executor/task_executor.py b/lib/ansible/executor/task_executor.py
index 2571b32588..beceef1848 100644
--- a/lib/ansible/executor/task_executor.py
+++ b/lib/ansible/executor/task_executor.py
@@ -465,7 +465,7 @@ class TaskExecutor:
                     result['failed_when_result'] = result['failed'] = failed_when_result
                 else:
                     failed_when_result = False
-                    result['failed'] = False
+                    result['failed'] = result.get('failed', False)
                 return failed_when_result
 
             if 'ansible_facts' in result:
