commit 2100a35663ae7450d09e7fc30d7e868270e639ef
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Wed Jan 2 21:53:00 2013 -0800

    Update path_dwim() to return absolute path
    
    If path_dwim() is provided a relative path to a file, it will now return an
    absolute path of the playbook directory + the relative file path.

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index e547c1ac83..e71351b727 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -168,14 +168,17 @@ def prepare_writeable_dir(tree):
         exit("Cannot write to path %s" % tree)
 
 def path_dwim(basedir, given):
-    ''' make relative paths work like folks expect '''
+    '''
+    make relative paths work like folks expect.
+    if a relative path is provided, convert it to an absolute path.
+    '''
 
     if given.startswith("/"):
         return given
     elif given.startswith("~/"):
         return os.path.expanduser(given)
     else:
-        return os.path.join(basedir, given)
+        return os.path.abspath(os.path.join(basedir, given))
 
 def json_loads(data):
     ''' parse a JSON string and return a data structure '''
