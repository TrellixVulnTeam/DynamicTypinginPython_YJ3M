commit db0fe4b1884e6bb9c25e970c7585abb7edd9d664
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Wed Jun 26 21:23:07 2019 +0530

    Fix netconf connection command timeout issue (#58322)
    
    *  ncclient uses same timeout value at the time
       of connection initialisation and waiting response
    *  Ansible has connect_timeout to control the waiting
       time during initial connection and `command_timeout`
       to control the wait time for resposne. Hence set the
       ncclient timeout seperately to Ansible command_timeout
       after the connection object is created sucessfully.

diff --git a/lib/ansible/plugins/connection/netconf.py b/lib/ansible/plugins/connection/netconf.py
index 3b5ec2531e..22987f6a34 100644
--- a/lib/ansible/plugins/connection/netconf.py
+++ b/lib/ansible/plugins/connection/netconf.py
@@ -321,6 +321,8 @@ class Connection(NetworkConnectionBase):
                 timeout=self.get_option('persistent_connect_timeout'),
                 ssh_config=self._ssh_config
             )
+
+            self._manager._timeout = self.get_option('persistent_command_timeout')
         except SSHUnknownHostError as exc:
             raise AnsibleConnectionFailure(to_native(exc))
         except ImportError as exc:
