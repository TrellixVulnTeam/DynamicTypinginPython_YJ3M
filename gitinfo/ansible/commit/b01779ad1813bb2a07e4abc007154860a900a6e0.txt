commit b01779ad1813bb2a07e4abc007154860a900a6e0
Author: nitzmahone <mdavis@ansible.com>
Date:   Fri Jun 15 10:23:15 2018 -0700

    skip winrm unit tests if winrm is not installed (#41596)

diff --git a/test/units/plugins/connection/test_winrm.py b/test/units/plugins/connection/test_winrm.py
index 24f7983124..92f0ceadee 100644
--- a/test/units/plugins/connection/test_winrm.py
+++ b/test/units/plugins/connection/test_winrm.py
@@ -17,6 +17,8 @@ from ansible.playbook.play_context import PlayContext
 from ansible.plugins.loader import connection_loader
 from ansible.plugins.connection import winrm
 
+pytest.importorskip("winrm")
+
 
 class TestConnectionWinRM(object):
 
