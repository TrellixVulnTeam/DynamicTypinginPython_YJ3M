commit 1fe744d2af30d329693d0dc765ef2c8b99c7edd1
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Wed Feb 27 20:02:34 2013 +0100

    Fix apt module's boolean check to expect converted value
    
    Fixes #2218.

diff --git a/library/apt b/library/apt
index 46c730f4e9..45e39c2505 100644
--- a/library/apt
+++ b/library/apt
@@ -201,7 +201,7 @@ def main():
         module.fail_json(msg="Cannot find apt-get")
 
     p = module.params
-    if p['package'] is None and p['update_cache'] != 'yes':
+    if p['package'] is None and not p['update_cache']:
         module.fail_json(msg='pkg=name and/or update_cache=yes is required')
 
     install_recommends = p['install_recommends']
