commit 0bc2ccdebf2d929bbb68074a7c1d60bb54f6e094
Author: Antony PERIGAULT <antony.perigault@polyconseil.fr>
Date:   Wed Jan 25 22:52:49 2017 +0100

    vmware_guest: Fix a bug when deploy a VM is not always considered as a change

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest.py b/lib/ansible/modules/cloud/vmware/vmware_guest.py
index 7f67d11d01..d61f807093 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest.py
@@ -1207,6 +1207,7 @@ class PyVmomiHelper(object):
 
                 clonespec.config = self.configspec
                 task = vm_obj.Clone(folder=destfolder, name=self.params['name'], spec=clonespec)
+                self.change_detected = True
             else:
                 # ConfigSpec require name for VM creation
                 self.configspec.name = self.params['name']
@@ -1216,6 +1217,7 @@ class PyVmomiHelper(object):
                                                         vmPathName="[" + datastore_name + "] " + self.params["name"])
 
                 task = destfolder.CreateVM_Task(config=self.configspec, pool=resource_pool)
+                self.change_detected = True
             self.wait_for_task(task)
         except TypeError:
             self.module.fail_json(msg="TypeError was returned, please ensure to give correct inputs.")
