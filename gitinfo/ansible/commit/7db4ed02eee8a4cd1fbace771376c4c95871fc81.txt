commit 7db4ed02eee8a4cd1fbace771376c4c95871fc81
Author: Beno√Æt Allard <benoit.allard@gmx.de>
Date:   Wed Nov 30 11:44:12 2016 +0100

    with_sequence: Fix indentation
    
    This doesn't need to run for every parameters. Once is enough.

diff --git a/lib/ansible/plugins/lookup/sequence.py b/lib/ansible/plugins/lookup/sequence.py
index 1040bb4ebd..677d15319a 100644
--- a/lib/ansible/plugins/lookup/sequence.py
+++ b/lib/ansible/plugins/lookup/sequence.py
@@ -100,8 +100,8 @@ class LookupModule(LookupBase):
                     "can't parse arg %s=%r as integer"
                         % (arg, arg_raw)
                 )
-            if 'format' in args:
-                self.format = args.pop("format")
+        if 'format' in args:
+            self.format = args.pop("format")
         if args:
             raise AnsibleError(
                 "unrecognized arguments to with_sequence: %r"
