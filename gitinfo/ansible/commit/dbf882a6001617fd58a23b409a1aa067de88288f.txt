commit dbf882a6001617fd58a23b409a1aa067de88288f
Author: Tom Bamford <tom@atplanet.co.za>
Date:   Thu Sep 24 12:37:03 2015 +0000

    Clarify available options for device_mapping parameter of ec2_ami module

diff --git a/lib/ansible/modules/cloud/amazon/ec2_ami.py b/lib/ansible/modules/cloud/amazon/ec2_ami.py
index 86d2d57684..aced499216 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_ami.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_ami.py
@@ -72,7 +72,8 @@ options:
   device_mapping:
     version_added: "1.9"
     description:
-      - An optional list of devices with custom configurations (same block-device-mapping parameters)
+      - An optional list of device hashes/dictionaries with custom configurations (same block-device-mapping parameters)
+      - Valid properties include: device_name, volume_type, size (in GB), delete_on_termination (boolean), no_device (boolean), snapshot_id, iops (for io1 volume_type)
     required: false
     default: null
   delete_snapshot:
@@ -139,6 +140,21 @@ EXAMPLES = '''
           volume_type: gp2
   register: instance
 
+# AMI Creation, excluding a volume attached at /dev/sdb
+- ec2_ami
+    aws_access_key: xxxxxxxxxxxxxxxxxxxxxxx
+    aws_secret_key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
+    instance_id: i-xxxxxx
+    name: newtest
+    device_mapping:
+        - device_name: /dev/sda1
+          size: XXX
+          delete_on_termination: true
+          volume_type: gp2
+        - device_name: /dev/sdb
+          no_device: yes
+  register: instance
+
 # Deregister/Delete AMI
 - ec2_ami:
     aws_access_key: xxxxxxxxxxxxxxxxxxxxxxx
