commit f2ce2d21999ba77349179012c910a8fae72ded15
Author: Dag Wieers <dag@wieers.com>
Date:   Wed Jul 5 17:12:21 2017 +0200

    imc_xml: Use the correct response in error message (#26435)

diff --git a/lib/ansible/modules/remote_management/imc/imc_xml.py b/lib/ansible/modules/remote_management/imc/imc_xml.py
index 7ba8133faf..a6b7581bd7 100644
--- a/lib/ansible/modules/remote_management/imc/imc_xml.py
+++ b/lib/ansible/modules/remote_management/imc/imc_xml.py
@@ -364,8 +364,8 @@ def main():
 
         # Perform actual request
         resp, info = fetch_url(module, url, data=data, method='POST', timeout=timeout)
-        if resp is None or auth['status'] != 200:
-            module.fail_json(msg='Task failed with error %(status)s: %(msg)s' % auth, **result)
+        if resp is None or info['status'] != 200:
+            module.fail_json(msg='Task failed with error %(status)s: %(msg)s' % info, **result)
 
         # Merge results with previous results
         rawoutput = resp.read()
