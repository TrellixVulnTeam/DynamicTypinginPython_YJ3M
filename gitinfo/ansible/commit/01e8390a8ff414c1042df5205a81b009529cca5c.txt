commit 01e8390a8ff414c1042df5205a81b009529cca5c
Author: evan82 <eduffield82@gmail.com>
Date:   Thu Dec 12 15:49:24 2013 -0700

    Fix ec2_ami no_reboot setting (currently it will not reboot instances to create the AMI)
    
    Line 276: no_reboot = dict(default=True, type="bool"),
    
    This should really default to False (When AMIs are created the machine will reboot before copying the disk).
    
    "When enabled, Amazon EC2 does not shut down the instance before creating the image. When this option is used, file system integrity on the created image cannot be guaranteed."

diff --git a/library/cloud/ec2_ami b/library/cloud/ec2_ami
index 3086144e45..bc6be9a582 100644
--- a/library/cloud/ec2_ami
+++ b/library/cloud/ec2_ami
@@ -273,7 +273,7 @@ def main():
             wait = dict(type="bool", default=False),
             wait_timeout = dict(default=900),
             description = dict(default=""),
-            no_reboot = dict(default=True, type="bool"),
+            no_reboot = dict(default=False, type="bool"),
             state = dict(default='present'),
             region = dict(aliases=['aws_region', 'ec2_region'], choices=AWS_REGIONS)
         )
