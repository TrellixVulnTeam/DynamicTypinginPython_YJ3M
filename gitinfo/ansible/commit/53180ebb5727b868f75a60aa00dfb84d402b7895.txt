commit 53180ebb5727b868f75a60aa00dfb84d402b7895
Author: Matt Clay <matt@mystile.com>
Date:   Fri May 19 01:51:24 2017 +0800

    Fix Shippable BASE_BRANCH lookup on merges.

diff --git a/test/runner/lib/executor.py b/test/runner/lib/executor.py
index 7b2582c866..19c2a4d54d 100644
--- a/test/runner/lib/executor.py
+++ b/test/runner/lib/executor.py
@@ -40,7 +40,6 @@ from lib.util import (
     ApplicationWarning,
     ApplicationError,
     SubprocessError,
-    MissingEnvironmentVariable,
     display,
     run_command,
     common_environment,
@@ -1289,10 +1288,7 @@ class SanityConfig(TestConfig):
         if args.base_branch:
             self.base_branch = args.base_branch  # str
         elif is_shippable():
-            try:
-                self.base_branch = os.environ['BASE_BRANCH']  # str
-            except KeyError as ex:
-                raise MissingEnvironmentVariable(name=ex.args[0])
+            self.base_branch = os.environ.get('BASE_BRANCH', '')  # str
 
             if self.base_branch:
                 self.base_branch = 'origin/%s' % self.base_branch
