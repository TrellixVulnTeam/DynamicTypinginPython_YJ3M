commit 6dd94347072f8e2bf916bc0c5413b729e0bee4a6
Author: Paul Durivage <pauldurivage@gmail.com>
Date:   Thu Jun 19 16:24:57 2014 -0500

    Fix so it only deletes users that exist

diff --git a/library/windows/win_user.ps1 b/library/windows/win_user.ps1
index 003579104d..1b7bec26f0 100644
--- a/library/windows/win_user.ps1
+++ b/library/windows/win_user.ps1
@@ -86,17 +86,22 @@ if ($state -eq 'present') {
             Create-User $username $password
         }
         $result.changed = $true
+        $user_obj = Get-User $username
     }
     catch {
         Fail-Json $result $_.Exception.Message
     }
-    
 }
 else {
     # Remove user
     try {
-        Delete-User $bob
-        $result.changed = $true
+        if ($user_obj.GetType) {
+            Delete-User $user_obj
+            $result.changed = $true
+        }
+        else {
+            Set-Attr $result "msg" "User '$username' was not found"
+        }
     }
     catch {
         Fail-Json $result $_.Exception.Message
