commit 935ae2801f974b37a10d3d9ec395606c795e9023
Author: Peter Sprygada <psprygada@ansible.com>
Date:   Mon Jan 11 22:40:42 2016 -0500

    bugfix in eos shared module for including defaults

diff --git a/lib/ansible/module_utils/eos.py b/lib/ansible/module_utils/eos.py
index e3782a9d09..d4656b1191 100644
--- a/lib/ansible/module_utils/eos.py
+++ b/lib/ansible/module_utils/eos.py
@@ -179,13 +179,13 @@ class EosModule(AnsibleModule):
 
     def get_config(self):
         cmd = 'show running-config'
-        if self.params['include_defaults']:
+        if self.params.get('include_defaults'):
             cmd += ' all'
         if self.params['transport'] == 'cli':
             return self.execute(cmd)[0]
         else:
             resp = self.execute(cmd, encoding='text')
-            return resp[0]['output']
+            return resp[0]
 
 
 def get_module(**kwargs):
