commit 3e80f9caf46e0e314ee60a0bef0701ba23ed952c
Author: Brian Coca <bcoca@users.noreply.github.com>
Date:   Tue Oct 31 17:25:29 2017 -0400

    luseradd defaults to creating w/o need for -m (#32411)
    
    and -M is incorrect in this case

diff --git a/lib/ansible/modules/system/user.py b/lib/ansible/modules/system/user.py
index 0fc11ea1de..7f13e478d8 100644
--- a/lib/ansible/modules/system/user.py
+++ b/lib/ansible/modules/system/user.py
@@ -396,9 +396,7 @@ class User(object):
             cmd.append(self.password)
 
         if self.create_home:
-            if self.local:
-                cmd.append('-M')
-            else:
+            if not self.local:
                 cmd.append('-m')
 
             if self.skeleton is not None:
