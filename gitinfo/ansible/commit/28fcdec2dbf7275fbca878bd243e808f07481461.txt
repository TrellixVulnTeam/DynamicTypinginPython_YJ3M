commit 28fcdec2dbf7275fbca878bd243e808f07481461
Author: Matt Martz <matt@sivel.net>
Date:   Fri Jun 20 10:23:45 2014 -0500

    Use new shared rax_to_dict and normalize the services key into something that makes sense

diff --git a/library/cloud/rax_identity b/library/cloud/rax_identity
index 9de4db9661..ea40ea2ef4 100644
--- a/library/cloud/rax_identity
+++ b/library/cloud/rax_identity
@@ -65,10 +65,8 @@ def cloud_identity(module, state, identity):
     )
     changed = False
 
-    for key, value in vars(identity).iteritems():
-        if (isinstance(value, NON_CALLABLES) and
-                not key.startswith('_')):
-            instance[key] = value
+    instance.update(rax_to_dict(identity))
+    instance['services'] = instance.get('services', {}).keys()
 
     if state == 'present':
         if not identity.authenticated:
