commit 40a806d15658492fd1edcb57858f4e65a762d75e
Author: Sumit Jaiswal <sjaiswal@redhat.com>
Date:   Thu Jan 10 09:50:48 2019 +0530

    PR to fix the issue of keyerror in Nios api (#49183)
    
    * ipv4addr keyerror fix
    
    Signed-off-by: Sumit Jaiswal <sjaiswal@redhat.com>
    
    * fix review comment
    
    Signed-off-by: Sumit Jaiswal <sjaiswal@redhat.com>

diff --git a/lib/ansible/module_utils/net_tools/nios/api.py b/lib/ansible/module_utils/net_tools/nios/api.py
index 7e452edba3..1e9037e722 100644
--- a/lib/ansible/module_utils/net_tools/nios/api.py
+++ b/lib/ansible/module_utils/net_tools/nios/api.py
@@ -230,7 +230,8 @@ class WapiModule(WapiBase):
         if ib_obj_ref:
             if len(ib_obj_ref) > 1:
                 for each in ib_obj_ref:
-                    if each['ipv4addr'] == proposed_object['ipv4addr']:
+                    if ('ipv4addr' in each) and ('ipv4addr' in proposed_object)\
+                            and each['ipv4addr'] == proposed_object['ipv4addr']:
                         current_object = each
             else:
                 current_object = ib_obj_ref[0]
