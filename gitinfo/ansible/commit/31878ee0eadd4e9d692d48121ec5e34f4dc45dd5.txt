commit 31878ee0eadd4e9d692d48121ec5e34f4dc45dd5
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Mar 12 13:55:48 2018 -0700

    Fix ansible_lo being used inside of ansible_facts
    
    The logic was keeping ansible_facts['ansible_lo'] instead of fixing it
    to be ansible_facts['lo']

diff --git a/lib/ansible/vars/clean.py b/lib/ansible/vars/clean.py
index a2f47fc318..c83709df4d 100644
--- a/lib/ansible/vars/clean.py
+++ b/lib/ansible/vars/clean.py
@@ -106,7 +106,7 @@ def namespace_facts(facts):
     ''' return all facts inside 'ansible_facts' w/o an ansible_ prefix '''
     deprefixed = {}
     for k in facts:
-        if k in ('ansible_local'):
+        if k in ('ansible_local',):
             # exceptions to 'deprefixing'
             deprefixed[k] = deepcopy(facts[k])
         else:
