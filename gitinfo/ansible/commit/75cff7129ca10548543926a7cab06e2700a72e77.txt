commit 75cff7129ca10548543926a7cab06e2700a72e77
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Thu Oct 22 09:03:35 2015 -0700

    Fix for invocation not being added to output.
    
    We want invocation to be omitted when we are running async, not when we
    aren't running async.

diff --git a/lib/ansible/plugins/action/__init__.py b/lib/ansible/plugins/action/__init__.py
index 6e3cb6f3f8..6d83e5afd8 100644
--- a/lib/ansible/plugins/action/__init__.py
+++ b/lib/ansible/plugins/action/__init__.py
@@ -442,7 +442,7 @@ class ActionBase:
             data['stdout_lines'] = data.get('stdout', u'').splitlines()
 
         # store the module invocation details back into the result
-        if self._task.async != 0:
+        if self._task.async == 0:
             data['invocation'] = dict(
                 module_args = module_args,
                 module_name = module_name,
