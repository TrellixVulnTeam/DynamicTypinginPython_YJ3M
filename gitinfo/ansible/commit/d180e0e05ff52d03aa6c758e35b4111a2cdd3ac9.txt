commit d180e0e05ff52d03aa6c758e35b4111a2cdd3ac9
Author: Andre Keedy <andre.keedy@emc.com>
Date:   Mon Mar 14 16:26:52 2016 -0400

    Bug Fix
    
    -Corrected the format in case of  multiple hosts
    
    Remove empty spaces

diff --git a/contrib/inventory/rackhd.py b/contrib/inventory/rackhd.py
index e7db24d320..92abc4d6a6 100755
--- a/contrib/inventory/rackhd.py
+++ b/contrib/inventory/rackhd.py
@@ -13,8 +13,10 @@ class RackhdInventory(object):
         self._inventory = {}
         for nodeid in nodeids:
             self._load_inventory_data(nodeid)
+        inventory = {}
         for nodeid,info in self._inventory.iteritems():
-            print(json.dumps(self._format_output(nodeid, info)))
+            inventory[nodeid]= (self._format_output(nodeid, info))
+        print(json.dumps(inventory))
 
     def _load_inventory_data(self, nodeid):
         info = {}
@@ -33,10 +35,10 @@ class RackhdInventory(object):
             ipaddress = ''
             if len(node_info) > 0:
                 ipaddress = node_info[0]['ipAddress']
-            output = {nodeid:{ 'hosts':[ipaddress],'vars':{}}}
+            output = { 'hosts':[ipaddress],'vars':{}}
             for key,result in info.iteritems():
-                output[nodeid]['vars'][key] = json.loads(result)
-            output[nodeid]['vars']['ansible_ssh_user'] = 'monorail'
+                output['vars'][key] = json.loads(result)
+            output['vars']['ansible_ssh_user'] = 'monorail'
         except KeyError:
             pass
         return output
