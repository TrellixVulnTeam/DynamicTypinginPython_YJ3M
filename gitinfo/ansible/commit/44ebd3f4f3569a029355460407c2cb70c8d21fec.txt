commit 44ebd3f4f3569a029355460407c2cb70c8d21fec
Author: Charles Duffy <charles@threatgrid.com>
Date:   Fri Mar 7 18:52:47 2014 -0600

    systemd template services must not discard template part

diff --git a/library/system/service b/library/system/service
index 2e26a47b63..fd3bc8d243 100644
--- a/library/system/service
+++ b/library/system/service
@@ -410,11 +410,13 @@ class LinuxService(Service):
             # adjust the service name to account for template service unit files
             index = name.find('@')
             if index != -1:
-                name = name[:index+1]
+                template_name = name[:index+1]
+            else:
+                template_name = name
 
             self.__systemd_unit = None
             for line in out.splitlines():
-                if line.startswith(name):
+                if line.startswith(template_name):
                     self.__systemd_unit = name
                     return True
             return False
