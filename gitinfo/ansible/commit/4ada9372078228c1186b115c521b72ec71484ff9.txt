commit 4ada9372078228c1186b115c521b72ec71484ff9
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Mar 18 20:23:05 2015 -0700

    Make our regex match the homebrew tap upstream regex.
    
    Fixes #312
    Fixes #297

diff --git a/lib/ansible/modules/extras/packaging/os/homebrew_tap.py b/lib/ansible/modules/extras/packaging/os/homebrew_tap.py
index a79ba076a8..d329227b98 100644
--- a/lib/ansible/modules/extras/packaging/os/homebrew_tap.py
+++ b/lib/ansible/modules/extras/packaging/os/homebrew_tap.py
@@ -52,7 +52,7 @@ homebrew_tap: tap=homebrew/dupes,homebrew/science state=present
 
 def a_valid_tap(tap):
     '''Returns True if the tap is valid.'''
-    regex = re.compile(r'^(\S+)/(homebrew-)?(\w+)$')
+    regex = re.compile(r'^([\w-]+)/(homebrew-)?([\w-]+)$')
     return regex.match(tap)
 
 
