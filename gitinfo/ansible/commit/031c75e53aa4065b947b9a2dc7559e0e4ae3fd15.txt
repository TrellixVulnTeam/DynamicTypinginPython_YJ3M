commit 031c75e53aa4065b947b9a2dc7559e0e4ae3fd15
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Mon Jun 18 00:12:42 2012 +0200

    Update tests to reflect new API

diff --git a/test/TestUtils.py b/test/TestUtils.py
index b83dcb0312..84601c6f05 100644
--- a/test/TestUtils.py
+++ b/test/TestUtils.py
@@ -203,50 +203,47 @@ class TestUtils(unittest.TestCase):
 
         assert res == 'hello world'
 
+    def test_template_varReplace_iterated(self):
+        template = 'hello $who'
+        vars = {
+            'who': 'oh great $person',
+            'person': 'one',
+        }
+
+        res = ansible.utils.template(template, vars)
+
+        assert res == u'hello oh great one'
+
     #####################################
     ### Template function tests
 
     def test_template_basic(self):
-        template = 'hello {{ who }}'
         vars = {
             'who': 'world',
         }
 
-        res = ansible.utils.template(template, vars, {}, no_engine=False)
+        res = ansible.utils.template_from_file("test", "template-basic", vars, {})
 
         assert res == 'hello world'
 
     def test_template_whitespace(self):
-        template = 'hello {{ who }}\n'
         vars = {
             'who': 'world',
         }
 
-        res = ansible.utils.template(template, vars, {}, no_engine=False)
+        res = ansible.utils.template_from_file("test", "template-whitespace", vars, {})
 
         assert res == 'hello world\n'
 
     def test_template_unicode(self):
-        template = 'hello {{ who }}'
         vars = {
             'who': u'wórld',
         }
 
-        res = ansible.utils.template(template, vars, {}, no_engine=False)
+        res = ansible.utils.template_from_file("test", "template-basic", vars, {})
 
         assert res == u'hello wórld'
 
-    def test_template_varReplace_iterated(self):
-        template = 'hello $who'
-        vars = {
-            'who': 'oh great $person',
-            'person': 'one',
-        }
-
-        res = ansible.utils.template(template, vars)
-
-        assert res == u'hello oh great one'
-
     #####################################
     ### key-value parsing
 
diff --git a/test/template-basic b/test/template-basic
new file mode 100644
index 0000000000..9aa58b909c
--- /dev/null
+++ b/test/template-basic
@@ -0,0 +1 @@
+hello {{ who }}
\ No newline at end of file
diff --git a/test/template-whitespace b/test/template-whitespace
new file mode 100644
index 0000000000..795953837b
--- /dev/null
+++ b/test/template-whitespace
@@ -0,0 +1 @@
+hello {{ who }}
