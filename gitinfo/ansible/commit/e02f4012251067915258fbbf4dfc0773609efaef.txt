commit e02f4012251067915258fbbf4dfc0773609efaef
Author: Michael Scherer <misc@zarb.org>
Date:   Tue May 17 19:20:36 2016 +0200

    Port sysctl to a py3 and py24 compatible syntax (#3675)

diff --git a/lib/ansible/modules/system/sysctl.py b/lib/ansible/modules/system/sysctl.py
index ae110b0653..d5826f1f26 100644
--- a/lib/ansible/modules/system/sysctl.py
+++ b/lib/ansible/modules/system/sysctl.py
@@ -275,7 +275,8 @@ class SysctlModule(object):
                 f = open(self.sysctl_file, "r")
                 lines = f.readlines()
                 f.close()
-            except IOError, e:
+            except IOError:
+                e = get_exception()
                 self.module.fail_json(msg="Failed to open %s: %s" % (self.sysctl_file, str(e)))
 
         for line in lines:
@@ -325,7 +326,8 @@ class SysctlModule(object):
         try:
             for l in self.fixed_lines:
                 f.write(l.strip() + "\n")
-        except IOError, e:
+        except IOError:
+            e = get_exception()
             self.module.fail_json(msg="Failed to write to file %s: %s" % (tmp_path, str(e)))
         f.flush()
         f.close()
