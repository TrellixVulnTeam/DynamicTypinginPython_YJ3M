commit 4f1746ee1d4bd15af390e8bc7bf3f9c67163455a
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Tue Jul 24 16:27:17 2018 +0530

    vault: check dir value before passing (#43184)
    
    This fix checks if dirname is not equal to '' before proceeding
    to create actual directory with name.
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/parsing/vault/__init__.py b/lib/ansible/parsing/vault/__init__.py
index 3ac539df9a..6e71724050 100644
--- a/lib/ansible/parsing/vault/__init__.py
+++ b/lib/ansible/parsing/vault/__init__.py
@@ -927,7 +927,7 @@ class VaultEditor:
         """ create a new encrypted file """
 
         dirname = os.path.dirname(filename)
-        if not os.path.exists(dirname):
+        if dirname and not os.path.exists(dirname):
             display.warning("%s does not exist, creating..." % dirname)
             makedirs_safe(dirname)
 
