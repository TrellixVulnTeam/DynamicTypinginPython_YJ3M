commit 1689001036392dd5499224a4183d765fd578823f
Author: Jesse Keating <jesse.keating@rackspace.com>
Date:   Mon Jul 8 14:22:05 2013 -0700

    Update fail docs for new syntax
    
    Use when instead of only_if
    Use new variable style

diff --git a/library/utilities/fail b/library/utilities/fail
index e9c072f2c7..7023f357ca 100644
--- a/library/utilities/fail
+++ b/library/utilities/fail
@@ -24,7 +24,7 @@ module: fail
 short_description: Fail with custom message
 description:
      - This module fails the progress with a custom message. It can be
-       useful for bailing out when a certain condition is met using C(only_if).
+       useful for bailing out when a certain condition is met using C(when).
 version_added: "0.8"
 options:
   msg:
@@ -38,7 +38,7 @@ author: Dag Wieers
 '''
 
 EXAMPLES = '''
-# Example playbook using fail and only_if together
+# Example playbook using fail and when together
 - fail: msg="The system may not be provisioned according to the CMDB status."
-  only_if: "'$cmdb_status' != 'to-be-staged'"
+  when: "{{ cmdb_status }} != 'to-be-staged'"
 '''
