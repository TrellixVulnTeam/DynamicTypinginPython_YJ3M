commit feb163e0de503b83be4b0faf27cc378f2350ce70
Author: Matt Clay <mclay@redhat.com>
Date:   Wed Jun 17 17:03:41 2020 -0700

    Improve consistency of ansible-test pylint results. (#70132)
    
    * Disable too-many-ancestors pylint check.
    
    This check was only enabled for ansible-test code.
    
    In some cases this check counts 1 more ancestor in python 3.7+ than under python 3.6, making the check inconsistent and unsuitable for use in ansible-test.
    
    * Disable additional pylint checks:
    
    - import-error
    - no-name-in-module
    
    These checks were only enabled for ansible-test code.
    
    These checks provide inconsistent results since they are dependent on available imports, which vary between environments.
    
    It may be practical to enable these checks in the future if changes are made to ensure a consistent test environment for pylint.

diff --git a/test/lib/ansible_test/_data/sanity/pylint/config/ansible-test.cfg b/test/lib/ansible_test/_data/sanity/pylint/config/ansible-test.cfg
index ab07dde0f1..4b97ad46f7 100644
--- a/test/lib/ansible_test/_data/sanity/pylint/config/ansible-test.cfg
+++ b/test/lib/ansible_test/_data/sanity/pylint/config/ansible-test.cfg
@@ -5,8 +5,11 @@ disable=
     consider-using-set-comprehension,  # requires Python 2.7+, but we still require Python 2.6 support
     cyclic-import,  # consistent results require running with --jobs 1 and testing all files
     duplicate-code,  # consistent results require running with --jobs 1 and testing all files
+    import-error,  # inconsistent results which depend on the availability of imports
+    no-name-in-module,  # inconsistent results which depend on the availability of imports
     no-self-use,
     too-few-public-methods,
+    too-many-ancestors,  # inconsistent results between python 3.6 and 3.7+
     too-many-arguments,
     too-many-branches,
     too-many-instance-attributes,
diff --git a/test/lib/ansible_test/_data/sanity/pylint/config/collection.cfg b/test/lib/ansible_test/_data/sanity/pylint/config/collection.cfg
index 7405a540dd..2561730a51 100644
--- a/test/lib/ansible_test/_data/sanity/pylint/config/collection.cfg
+++ b/test/lib/ansible_test/_data/sanity/pylint/config/collection.cfg
@@ -35,7 +35,7 @@ disable=
     function-redefined,
     global-statement,
     global-variable-undefined,
-    import-error,
+    import-error,  # inconsistent results which depend on the availability of imports
     import-self,
     inconsistent-return-statements,
     invalid-envvar-default,
@@ -53,7 +53,7 @@ disable=
     no-else-return,
     no-init,
     no-member,
-    no-name-in-module,
+    no-name-in-module,  # inconsistent results which depend on the availability of imports
     no-self-use,
     no-value-for-parameter,
     non-iterator-returned,
@@ -78,7 +78,7 @@ disable=
     super-init-not-called,
     superfluous-parens,
     too-few-public-methods,
-    too-many-ancestors,
+    too-many-ancestors,  # inconsistent results between python 3.6 and 3.7+
     too-many-arguments,
     too-many-boolean-expressions,
     too-many-branches,
diff --git a/test/lib/ansible_test/_data/sanity/pylint/config/default.cfg b/test/lib/ansible_test/_data/sanity/pylint/config/default.cfg
index 41ffc11db7..b4062d4379 100644
--- a/test/lib/ansible_test/_data/sanity/pylint/config/default.cfg
+++ b/test/lib/ansible_test/_data/sanity/pylint/config/default.cfg
@@ -35,7 +35,7 @@ disable=
     function-redefined,
     global-statement,
     global-variable-undefined,
-    import-error,
+    import-error,  # inconsistent results which depend on the availability of imports
     import-self,
     inconsistent-return-statements,
     invalid-envvar-default,
@@ -53,7 +53,7 @@ disable=
     no-else-return,
     no-init,
     no-member,
-    no-name-in-module,
+    no-name-in-module,  # inconsistent results which depend on the availability of imports
     no-self-use,
     no-value-for-parameter,
     non-iterator-returned,
@@ -78,7 +78,7 @@ disable=
     super-init-not-called,
     superfluous-parens,
     too-few-public-methods,
-    too-many-ancestors,
+    too-many-ancestors,  # inconsistent results between python 3.6 and 3.7+
     too-many-arguments,
     too-many-boolean-expressions,
     too-many-branches,
diff --git a/test/lib/ansible_test/_data/sanity/pylint/config/sanity.cfg b/test/lib/ansible_test/_data/sanity/pylint/config/sanity.cfg
index 42c5551b3c..1d7a4e696e 100644
--- a/test/lib/ansible_test/_data/sanity/pylint/config/sanity.cfg
+++ b/test/lib/ansible_test/_data/sanity/pylint/config/sanity.cfg
@@ -5,8 +5,11 @@ disable=
     consider-using-set-comprehension,  # requires Python 2.7+, but we still require Python 2.6 support
     cyclic-import,  # consistent results require running with --jobs 1 and testing all files
     duplicate-code,  # consistent results require running with --jobs 1 and testing all files
+    import-error,  # inconsistent results which depend on the availability of imports
     missing-docstring,
+    no-name-in-module,  # inconsistent results which depend on the availability of imports
     too-few-public-methods,
+    too-many-ancestors,  # inconsistent results between python 3.6 and 3.7+
     too-many-arguments,
     too-many-branches,
     too-many-instance-attributes,
