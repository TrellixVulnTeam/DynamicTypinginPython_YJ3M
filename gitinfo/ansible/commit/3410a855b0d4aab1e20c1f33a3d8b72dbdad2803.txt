commit 3410a855b0d4aab1e20c1f33a3d8b72dbdad2803
Author: Rene Moser <mail@renemoser.net>
Date:   Sun Nov 8 20:23:06 2015 +0100

    cloudstack:  use jop polling in tag handling, fixes outdated tags returned.
    
    In some cases the async job did not finish fast enough, causing returning an unexpeded result.

diff --git a/lib/ansible/module_utils/cloudstack.py b/lib/ansible/module_utils/cloudstack.py
index e5eb73e9bd..dc25de678d 100644
--- a/lib/ansible/module_utils/cloudstack.py
+++ b/lib/ansible/module_utils/cloudstack.py
@@ -348,9 +348,10 @@ class AnsibleCloudStack(object):
                 args['resourcetype'] = resource_type
                 args['tags']         = tags
                 if operation == "create":
-                    self.cs.createTags(**args)
+                    response = self.cs.createTags(**args)
                 else:
-                    self.cs.deleteTags(**args)
+                    response = self.cs.deleteTags(**args)
+                self.poll_job(response)
 
 
     def _tags_that_should_exist_or_be_updated(self, resource, tags):
