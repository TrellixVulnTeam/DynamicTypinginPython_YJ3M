commit 943946ec9c9fd5b6447f6a26183053ba4bd11296
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Wed Mar 20 08:05:43 2019 +0530

    plugin_formatter: Check if docs are present for given plugin (#53743)
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/docs/bin/plugin_formatter.py b/docs/bin/plugin_formatter.py
index 408c946f65..c685b7eb17 100755
--- a/docs/bin/plugin_formatter.py
+++ b/docs/bin/plugin_formatter.py
@@ -321,6 +321,10 @@ def get_plugin_info(module_dir, limit_to=None, verbose=False):
         if module_categories:
             primary_category = module_categories[0]
 
+        if not doc:
+            display.error("*** ERROR: DOCUMENTATION section missing for %s. ***" % module_path)
+            continue
+
         if 'options' in doc and doc['options'] is None:
             display.error("*** ERROR: DOCUMENTATION.options must be a dictionary/hash when used. ***")
             pos = getattr(doc, "ansible_pos", None)
