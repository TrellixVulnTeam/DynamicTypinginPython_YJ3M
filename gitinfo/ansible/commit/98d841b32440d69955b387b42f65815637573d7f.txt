commit 98d841b32440d69955b387b42f65815637573d7f
Author: aperigault <aperigault@users.noreply.github.com>
Date:   Sun Feb 12 04:46:58 2017 +0100

    vmware_guest: Fix undefine variable in rename feature (#20855)
    
    * vmware_guest: Fix undefine variable in rename feature
    
    * vmare_guest: We can't wait_for_task because MarkAsTemplate return None

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest.py b/lib/ansible/modules/cloud/vmware/vmware_guest.py
index 223d6e4ddb..6055e8a1bf 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest.py
@@ -1170,8 +1170,7 @@ class PyVmomiHelper(object):
 
         # Mark VM as Template
         if self.params['is_template']:
-            task = self.current_vm_obj.MarkAsTemplate()
-            self.wait_for_task(task)
+            self.current_vm_obj.MarkAsTemplate()
             change_applied = True
 
         vm_facts = self.gather_facts(self.current_vm_obj)
