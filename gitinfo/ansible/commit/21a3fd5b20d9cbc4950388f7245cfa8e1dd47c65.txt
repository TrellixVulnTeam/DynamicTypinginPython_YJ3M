commit 21a3fd5b20d9cbc4950388f7245cfa8e1dd47c65
Author: Peter Oliver <git@mavit.org.uk>
Date:   Sun Jan 25 15:44:32 2015 +0000

    Fix idempotency when removing packages.
    
    If the package is already not present, then we have nothing to do.

diff --git a/lib/ansible/modules/extras/packaging/os/pkg5_publisher.py b/lib/ansible/modules/extras/packaging/os/pkg5_publisher.py
index 20b0c0a659..2993c1107c 100644
--- a/lib/ansible/modules/extras/packaging/os/pkg5_publisher.py
+++ b/lib/ansible/modules/extras/packaging/os/pkg5_publisher.py
@@ -140,6 +140,9 @@ def set_publisher(module, params):
 
 
 def unset_publisher(module, publisher):
+    if not publisher in get_publishers(module):
+        module.exit_json()
+
     rc, out, err = module.run_command(
         ["pkg", "unset-publisher", publisher],
         check_rc=True
