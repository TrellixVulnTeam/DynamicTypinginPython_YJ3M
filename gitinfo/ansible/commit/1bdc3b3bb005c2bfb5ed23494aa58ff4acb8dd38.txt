commit 1bdc3b3bb005c2bfb5ed23494aa58ff4acb8dd38
Author: David Shrewsbury <shrewsbury.dave@gmail.com>
Date:   Tue Mar 29 13:42:41 2016 -0400

    Pass wait/timeout parameters to floating IP APIs in os_server
    
    If a server already exists when os_server is run, but a floating
    IP was not assigned to the server when one was requested, the
    module will attempt to add an IP to the existing server. But it
    would not pass the wait/timeout params to the floating IP APIs.
    If wait was True, you could get back a server dict that did not
    show the floating IP because it did not wait.

diff --git a/lib/ansible/modules/cloud/openstack/os_server.py b/lib/ansible/modules/cloud/openstack/os_server.py
index 930a2d4975..87391a55c4 100644
--- a/lib/ansible/modules/cloud/openstack/os_server.py
+++ b/lib/ansible/modules/cloud/openstack/os_server.py
@@ -498,6 +498,8 @@ def _check_floating_ips(module, cloud, server):
                 auto_ip=auto_ip,
                 ips=floating_ips,
                 ip_pool=floating_ip_pools,
+                wait=module.params['wait'],
+                timeout=module.params['timeout'],
             )
             changed = True
         elif floating_ips:
@@ -508,7 +510,9 @@ def _check_floating_ips(module, cloud, server):
                 if ip not in ips:
                     missing_ips.append(ip)
             if missing_ips:
-                server = cloud.add_ip_list(server, missing_ips)
+                server = cloud.add_ip_list(server, missing_ips,
+                                           wait=module.params['wait'],
+                                           timeout=module.params['timeout'])
                 changed = True
             extra_ips = []
             for ip in ips:
