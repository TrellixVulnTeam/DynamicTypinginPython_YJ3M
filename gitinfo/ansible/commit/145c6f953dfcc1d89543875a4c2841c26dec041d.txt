commit 145c6f953dfcc1d89543875a4c2841c26dec041d
Author: Christopher Brown <snecklifter@users.noreply.github.com>
Date:   Mon Dec 11 09:52:33 2017 +0000

    add oVirt provider to ManageIQ module (#33751)
    
    This commit adds oVirt/RHEV capability to the ManageIQ remote
    management module.

diff --git a/lib/ansible/modules/remote_management/manageiq/manageiq_provider.py b/lib/ansible/modules/remote_management/manageiq/manageiq_provider.py
index 7d3dc77d8b..3e006c5041 100644
--- a/lib/ansible/modules/remote_management/manageiq/manageiq_provider.py
+++ b/lib/ansible/modules/remote_management/manageiq/manageiq_provider.py
@@ -37,7 +37,7 @@ options:
   type:
     description: The provider's type.
     required: true
-    choices: ['Openshift', 'Amazon']
+    choices: ['Openshift', 'Amazon', 'oVirt']
   zone:
     description: The ManageIQ zone name that will manage the provider.
     required: false
@@ -310,6 +310,22 @@ EXAMPLES = '''
       url: 'https://127.0.0.1'
       token: 'VeryLongToken'
       verify_ssl: true
+
+
+- name: Create a new oVirt provider in ManageIQ
+  manageiq_provider:
+    name: 'RHEV'
+    type: 'oVirt'
+    state: 'present'
+    provider:
+      hostname: 'rhev01.example.com'
+      userid: 'admin@internal'
+      password: 'password'
+    manageiq_connection:
+      url: 'https://127.0.0.1'
+      username: 'admin'
+      password: 'password'
+      verify_ssl: true
 '''
 
 RETURN = '''
@@ -331,6 +347,9 @@ def supported_providers():
         Amazon=dict(
             class_name='ManageIQ::Providers::Amazon::CloudManager',
         ),
+        oVirt=dict(
+            class_name='ManageIQ::Providers::Redhat::InfraManager',
+        ),
     )
 
 
