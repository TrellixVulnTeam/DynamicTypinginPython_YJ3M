commit 6936e7b698d374076ccd5154a80dd23a00ab7d92
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Sat Feb 22 21:46:18 2020 +0530

    Handle NoneType error in vmware_host_service_info (#67641)
    
    Handle NoneType error occured due to accessing host system service info
    in vmware_host_service_info module.
    
    Fixes: #67615
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/changelogs/fragments/67615-vmware_host_service_info_fix.yml b/changelogs/fragments/67615-vmware_host_service_info_fix.yml
new file mode 100644
index 0000000000..5436a776f1
--- /dev/null
+++ b/changelogs/fragments/67615-vmware_host_service_info_fix.yml
@@ -0,0 +1,2 @@
+bugfixes:
+- Handle NoneType error when accessing service system info in vmware_host_service_info module (https://github.com/ansible/ansible/issues/67615).
diff --git a/lib/ansible/modules/cloud/vmware/vmware_host_service_info.py b/lib/ansible/modules/cloud/vmware/vmware_host_service_info.py
index 986a087019..aca8140ef8 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_host_service_info.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_host_service_info.py
@@ -112,7 +112,7 @@ class VmwareServiceManager(PyVmomi):
         for host in self.hosts:
             host_service_info = []
             host_service_system = host.configManager.serviceSystem
-            if host_service_system:
+            if host_service_system and host_service_system.serviceInfo:
                 services = host_service_system.serviceInfo.service
                 for service in services:
                     host_service_info.append(
