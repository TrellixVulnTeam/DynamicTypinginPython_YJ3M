commit f83fa2ac936fef7b108daf97603e598f33c5fc5a
Author: FragmentedPacket <mikhail.yohman@gmail.com>
Date:   Wed Oct 24 09:52:20 2018 -0600

    Netbox inventory: Fix NoneType issue if query_filters is not in netbox_inventory.yml (#46793)
    
    * Added if state to refresh_url to avoid failure at NoneType when guesry_filters is undefined in netbox_inventory.yml

diff --git a/lib/ansible/plugins/inventory/netbox.py b/lib/ansible/plugins/inventory/netbox.py
index ab6447756d..d8ad3dda9e 100644
--- a/lib/ansible/plugins/inventory/netbox.py
+++ b/lib/ansible/plugins/inventory/netbox.py
@@ -352,8 +352,9 @@ class InventoryModule(BaseInventoryPlugin, Constructable):
 
     def refresh_url(self):
         query_parameters = [("limit", 0)]
-        query_parameters.extend(filter(lambda x: x,
-                                       map(self.validate_query_parameters, self.query_filters)))
+        if self.query_filters:
+            query_parameters.extend(filter(lambda x: x,
+                                           map(self.validate_query_parameters, self.query_filters)))
         self.device_url = self.api_endpoint + "/api/dcim/devices/" + "?" + urlencode(query_parameters)
         self.virtual_machines_url = "".join([self.api_endpoint,
                                              "/api/virtualization/virtual-machines/",
