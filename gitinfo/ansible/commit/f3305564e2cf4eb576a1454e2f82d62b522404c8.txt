commit f3305564e2cf4eb576a1454e2f82d62b522404c8
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Thu Feb 7 23:43:33 2013 +0100

    Add stderr contents to parse errors

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 19dc5c997f..c67b12b687 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -236,7 +236,10 @@ class Runner(object):
         if tmp.find("tmp") != -1 and C.DEFAULT_KEEP_REMOTE_FILES != '1':
             cmd = cmd + "; rm -rf %s >/dev/null 2>&1" % tmp
         res = self._low_level_exec_command(conn, cmd, tmp, sudoable=True)
-        return ReturnData(conn=conn, result=res['stdout'])
+        data = utils.parse_json(res['stdout'])
+        if 'parsed' in data and data['parsed'] == False:
+            data['msg'] += res['stderr']
+        return ReturnData(conn=conn, result=data)
 
     # *****************************************************
 
