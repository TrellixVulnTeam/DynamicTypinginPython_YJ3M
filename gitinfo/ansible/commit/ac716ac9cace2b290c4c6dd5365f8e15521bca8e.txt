commit ac716ac9cace2b290c4c6dd5365f8e15521bca8e
Author: Joel Roller <roller@snth.net>
Date:   Mon Feb 4 17:19:59 2013 -0600

    Specify repo option with hg pull
    
    Fixes #1989

diff --git a/library/hg b/library/hg
index 9878134910..0fdfb08c0f 100644
--- a/library/hg
+++ b/library/hg
@@ -184,8 +184,8 @@ def hg_cleanup(module, dest, force, purge):
     else:
         return False
 
-def hg_pull(module, dest, revision):
-    return _hg_command(module, ['pull', '-r', revision, '-R', dest])
+def hg_pull(module, dest, revision, repo):
+    return _hg_command(module, ['pull', '-r', revision, '-R', dest, repo])
 
 def hg_update(module, dest, revision):
     return _hg_command(module, ['update', '-R', dest])
@@ -233,7 +233,7 @@ def main():
         # can perform force and purge
         cleaned = hg_cleanup(module, dest, force, purge)
 
-        (rc, out, err) = hg_pull(module, dest, revision)
+        (rc, out, err) = hg_pull(module, dest, revision, repo)
         if rc != 0:
             module.fail_json(msg=err)
 
