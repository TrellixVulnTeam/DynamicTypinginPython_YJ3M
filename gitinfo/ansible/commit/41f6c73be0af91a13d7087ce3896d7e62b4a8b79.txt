commit 41f6c73be0af91a13d7087ce3896d7e62b4a8b79
Author: Matt Clay <mclay@redhat.com>
Date:   Fri Mar 13 13:24:03 2020 -0700

    Update ansible-test network test provisioning. (#68220)
    
    * Update network provisioning defaults.
    
    * Update network test requirements.

diff --git a/changelogs/fragments/ansible-test-network-testing.yml b/changelogs/fragments/ansible-test-network-testing.yml
new file mode 100644
index 0000000000..4b17f55f30
--- /dev/null
+++ b/changelogs/fragments/ansible-test-network-testing.yml
@@ -0,0 +1,2 @@
+minor_changes:
+    - ansible-test provisioning of network devices for ``network-integration`` has been updated to use collections.
diff --git a/test/integration/network-integration.requirements.txt b/test/integration/network-integration.requirements.txt
index e8c81df12a..9c4d78d6f4 100644
--- a/test/integration/network-integration.requirements.txt
+++ b/test/integration/network-integration.requirements.txt
@@ -1,6 +1 @@
-pexpect # for _user test
-scp # for Cisco ios
-selectors2 # for ncclient
-ncclient # for Junos
-jxmlease # for Junos
-xmltodict # for Junos
+scp # needed by incidental_ios_file
diff --git a/test/lib/ansible_test/_data/completion/network.txt b/test/lib/ansible_test/_data/completion/network.txt
index 4e8486feb5..dca911f89b 100644
--- a/test/lib/ansible_test/_data/completion/network.txt
+++ b/test/lib/ansible_test/_data/completion/network.txt
@@ -1,2 +1,2 @@
-ios/csr1000v connection=network_cli
-vyos/1.1.8 connection=local
+ios/csr1000v collection=cisco.ios connection=ansible.netcommon.network_cli
+vyos/1.1.8 collection=vyos.vyos connection=ansible.netcommon.network_cli
diff --git a/test/utils/shippable/incidental/network.sh b/test/utils/shippable/incidental/network.sh
index 0ef1f6733b..8ca8026233 100755
--- a/test/utils/shippable/incidental/network.sh
+++ b/test/utils/shippable/incidental/network.sh
@@ -37,9 +37,6 @@ for python_version in "${python_versions[@]}"; do
     # shellcheck disable=SC2086
     ansible-test network-integration --color -v --retry-on-error "${target}" ${COVERAGE:+"$COVERAGE"} ${CHANGED:+"$CHANGED"} ${UNSTABLE:+"$UNSTABLE"} \
         --platform "${platform}/${version}" \
-        --platform-connection "${platform}=ansible.netcommon.network_cli" \
-        --platform-collection "vyos=vyos.vyos" \
-        --platform-collection "ios=cisco.ios" \
         --docker default --python "${python_version}" \
         --remote-terminate "${terminate}" --remote-stage "${stage}" --remote-provider "${provider}"
 done
