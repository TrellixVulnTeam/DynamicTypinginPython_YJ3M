commit 2f2f80ad4c1ef7fe4e5ac5365692a5d0fc8d9443
Author: Alvaro Aleman <alv2412@googlemail.com>
Date:   Wed May 25 08:52:51 2016 +0200

    Fix can_update test in os_subnet (#3664)

diff --git a/lib/ansible/modules/cloud/openstack/os_subnet.py b/lib/ansible/modules/cloud/openstack/os_subnet.py
index 613ec1873f..d4efe8727f 100644
--- a/lib/ansible/modules/cloud/openstack/os_subnet.py
+++ b/lib/ansible/modules/cloud/openstack/os_subnet.py
@@ -176,7 +176,7 @@ def _can_update(subnet, module, cloud):
                                       subnet')
     if ip_version and subnet['ip_version'] != ip_version:
         module.fail_json(msg='Cannot update ip_version in existing subnet')
-    if ipv6_ra_mode and subnet.get('ipv6_ra_mode', None) != ip_version:
+    if ipv6_ra_mode and subnet.get('ipv6_ra_mode', None) != ipv6_ra_mode:
         module.fail_json(msg='Cannot update ipv6_ra_mode in existing subnet')
     if ipv6_a_mode and subnet.get('ipv6_address_mode', None) != ipv6_a_mode:
         module.fail_json(msg='Cannot update ipv6_address_mode in existing \
