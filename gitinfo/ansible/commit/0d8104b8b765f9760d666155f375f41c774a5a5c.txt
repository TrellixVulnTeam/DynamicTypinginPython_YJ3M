commit 0d8104b8b765f9760d666155f375f41c774a5a5c
Author: telsacolton <colton@telsasoft.com>
Date:   Wed May 14 16:31:20 2014 -0500

    Give reasonable error when symlink fails
    
    When a symlink fails because the path already exists and force=no, we should output path in the error message instead of source.

diff --git a/library/files/file b/library/files/file
index c861d14a1a..ddce2e558f 100644
--- a/library/files/file
+++ b/library/files/file
@@ -201,7 +201,7 @@ def main():
                 module.fail_json(msg="absolute paths are required")
         elif prev_state == 'directory':
             if not force:
-                module.fail_json(path=path, msg='refusing to convert between %s and %s for %s' % (prev_state, state, src))
+                module.fail_json(path=path, msg='refusing to convert between %s and %s for %s' % (prev_state, state, path))
             elif len(os.listdir(path)) > 0:
                 # refuse to replace a directory that has files in it
                 module.fail_json(path=path, msg='the directory %s is not empty, refusing to convert it' % path)
