commit 7515b2d563d72139afc644171e488505d392302b
Author: Chris Houseknecht <chousekn@redhat.com>
Date:   Wed Jul 6 17:14:19 2016 -0400

    Fix 'all' option for published_ports parameter.

diff --git a/lib/ansible/modules/cloud/docker/docker_container.py b/lib/ansible/modules/cloud/docker/docker_container.py
index 0d0d22f1be..a3e68b04c8 100644
--- a/lib/ansible/modules/cloud/docker/docker_container.py
+++ b/lib/ansible/modules/cloud/docker/docker_container.py
@@ -202,7 +202,7 @@ options:
       - fluentd
       - awslogs
       - splunk
-    defult: json-file
+    default: json-file
     required: false
   log_options:
     description:
@@ -727,14 +727,17 @@ class TaskParameters(DockerBaseClass):
                 except ValueError as exc:
                     self.fail("Failed to convert %s to bytes: %s" % (param_name, exc))
 
-        self.published_ports = self._parse_publish_ports()
-        self.ports = self._parse_exposed_ports(self.published_ports)
-        self.log("expose ports:")
-        self.log(self.ports, pretty_print=True)
-        self.publish_all_ports = None
-        if self.published_ports == 'all':
+        if 'all' in (port.lower() if isinstance(port, basestring) else port for port in self.published_ports):
             self.publish_all_ports = True
             self.published_ports = None
+            self.ports = None
+        else:
+            self.publish_all_ports = False
+            self.published_ports = self._parse_publish_ports()
+            self.ports = self._parse_exposed_ports(self.published_ports)
+
+        self.log("expose ports:")
+        self.log(self.ports, pretty_print=True)
 
         self.links = self._parse_links(self.links)
 
