commit aaf762573e120ee72df0c0f76300087dbf5cf544
Author: Matt Martz <matt@sivel.net>
Date:   Tue Feb 16 15:58:44 2016 -0600

    Various simple linting type cleanups on modules

diff --git a/lib/ansible/modules/cloud/amazon/ec2_ami.py b/lib/ansible/modules/cloud/amazon/ec2_ami.py
index aced499216..f662477360 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_ami.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_ami.py
@@ -235,7 +235,6 @@ def create_image(module, ec2):
             for img in images:
                 if img.name == name:
                     module.exit_json(msg="AMI name already present", image_id=img.id, state=img.state, changed=False)
-                    sys.exit(0)
             else:
                 module.fail_json(msg="Error in retrieving duplicate AMI details")
         else:
@@ -313,7 +312,6 @@ def deregister_image(module, ec2):
         module.fail_json(msg = "timed out waiting for image to be reregistered/deleted")
 
     module.exit_json(msg="AMI deregister/delete operation complete", changed=True)
-    sys.exit(0)
 
 
 def update_image(module, ec2):
diff --git a/lib/ansible/modules/cloud/amazon/ec2_tag.py b/lib/ansible/modules/cloud/amazon/ec2_tag.py
index 071e65626f..db6aab3d4a 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_tag.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_tag.py
@@ -179,7 +179,6 @@ def main():
 
     if state == 'list':
         module.exit_json(changed=False, tags=tagdict)
-    sys.exit(0)
 
 # import module snippets
 from ansible.module_utils.basic import *
diff --git a/lib/ansible/modules/cloud/amazon/ec2_vol.py b/lib/ansible/modules/cloud/amazon/ec2_vol.py
index 04ab9a7211..86801ddf68 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_vol.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_vol.py
@@ -404,7 +404,7 @@ def modify_dot_attribute(module, ec2, instance, device_name):
         dot = instance.block_device_mapping[device_name].delete_on_termination
     except boto.exception.BotoServerError, e:
         module.fail_json(msg = "%s: %s" % (e.error_code, e.error_message))
-  
+
     if delete_on_termination != dot:
         try:
             bdt = BlockDeviceType(delete_on_termination=delete_on_termination)
@@ -413,7 +413,7 @@ def modify_dot_attribute(module, ec2, instance, device_name):
 
             ec2.modify_instance_attribute(instance_id=instance.id, attribute='blockDeviceMapping', value=bdm)
 
-	    while instance.block_device_mapping[device_name].delete_on_termination != delete_on_termination:
+            while instance.block_device_mapping[device_name].delete_on_termination != delete_on_termination:
                 time.sleep(3)
                 instance.update()
             changed = True
diff --git a/lib/ansible/modules/cloud/amazon/s3.py b/lib/ansible/modules/cloud/amazon/s3.py
index ab8f05b30a..42c2cf6426 100644
--- a/lib/ansible/modules/cloud/amazon/s3.py
+++ b/lib/ansible/modules/cloud/amazon/s3.py
@@ -520,7 +520,6 @@ def main():
 
         # Use this snippet to debug through conditionals:
 #       module.exit_json(msg="Bucket return %s"%bucketrtn)
-#       sys.exit(0)
 
         # Lets check the src path.
         pathrtn = path_check(src)
diff --git a/lib/ansible/modules/cloud/vmware/vsphere_guest.py b/lib/ansible/modules/cloud/vmware/vsphere_guest.py
index 4e82cb4d93..2b839d202d 100644
--- a/lib/ansible/modules/cloud/vmware/vsphere_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vsphere_guest.py
@@ -1,4 +1,4 @@
-#!/usr/bin/env python2
+#!/usr/bin/python
 
 # -*- coding: utf-8 -*-
 # This file is part of Ansible
diff --git a/lib/ansible/modules/database/mysql/mysql_variables.py b/lib/ansible/modules/database/mysql/mysql_variables.py
index 5e551cd0eb..ff10b4fd1b 100644
--- a/lib/ansible/modules/database/mysql/mysql_variables.py
+++ b/lib/ansible/modules/database/mysql/mysql_variables.py
@@ -146,7 +146,7 @@ def main():
     if mysqlvar is None:
         module.fail_json(msg="Cannot run without variable to operate with")
     if match('^[0-9a-z_]+$', mysqlvar) is None:
-	    module.fail_json(msg="invalid variable name \"%s\"" % mysqlvar)
+        module.fail_json(msg="invalid variable name \"%s\"" % mysqlvar)
     if not mysqldb_found:
         module.fail_json(msg="the python mysqldb module is required")
     else:
diff --git a/lib/ansible/modules/network/eos/eos_eapi.py b/lib/ansible/modules/network/eos/eos_eapi.py
index 5a7e96f2f1..d81a26f974 100644
--- a/lib/ansible/modules/network/eos/eos_eapi.py
+++ b/lib/ansible/modules/network/eos/eos_eapi.py
@@ -274,7 +274,6 @@ def main():
 from ansible.module_utils.basic import *
 from ansible.module_utils.shell import *
 from ansible.module_utils.eos import *
+
 if __name__ == '__main__':
     main()
-
-
diff --git a/lib/ansible/modules/system/mount.py b/lib/ansible/modules/system/mount.py
index ff7094dad3..d0a6e1c8ee 100644
--- a/lib/ansible/modules/system/mount.py
+++ b/lib/ansible/modules/system/mount.py
@@ -380,7 +380,6 @@ def main():
         module.exit_json(changed=changed, **args)
 
     module.fail_json(msg='Unexpected position reached')
-    sys.exit(0)
 
 # import module snippets
 from ansible.module_utils.basic import *
diff --git a/lib/ansible/modules/system/service.py b/lib/ansible/modules/system/service.py
index 0364766448..fd46cae9a9 100644
--- a/lib/ansible/modules/system/service.py
+++ b/lib/ansible/modules/system/service.py
@@ -1172,7 +1172,7 @@ class NetBsdService(Service):
     distribution = None
 
     def get_service_tools(self):
-        initpaths = [ '/etc/rc.d' ]		# better: $rc_directories - how to get in here? Run: sh -c '. /etc/rc.conf ; echo $rc_directories'
+        initpaths = [ '/etc/rc.d' ]  # better: $rc_directories - how to get in here? Run: sh -c '. /etc/rc.conf ; echo $rc_directories'
 
         for initdir in initpaths:
             initscript = "%s/%s" % (initdir,self.name)
@@ -1188,7 +1188,7 @@ class NetBsdService(Service):
         else:
             self.rcconf_value = "NO"
 
-        rcfiles = [ '/etc/rc.conf' ]		# Overkill?
+        rcfiles = [ '/etc/rc.conf' ]  # Overkill?
         for rcfile in rcfiles:
             if os.path.isfile(rcfile):
                 self.rcconf_file = rcfile
diff --git a/lib/ansible/modules/system/sysctl.py b/lib/ansible/modules/system/sysctl.py
index db1652955f..5f0e12f5aa 100644
--- a/lib/ansible/modules/system/sysctl.py
+++ b/lib/ansible/modules/system/sysctl.py
@@ -356,7 +356,6 @@ def main():
     result = SysctlModule(module)    
 
     module.exit_json(changed=result.changed)
-    sys.exit(0)
 
 # import module snippets
 from ansible.module_utils.basic import *
diff --git a/lib/ansible/modules/windows/win_user.ps1 b/lib/ansible/modules/windows/win_user.ps1
index ac40ced2cb..cf3a178c6b 100644
--- a/lib/ansible/modules/windows/win_user.ps1
+++ b/lib/ansible/modules/windows/win_user.ps1
@@ -16,6 +16,7 @@
 # You should have received a copy of the GNU General Public License
 # along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
 
+# WANT_JSON
 # POWERSHELL_COMMON
 
 ########
