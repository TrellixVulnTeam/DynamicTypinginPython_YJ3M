commit da047eec59e8e8f0555053d850ae2b7bfb2ef8ab
Author: Denis Afonso <denisra@users.noreply.github.com>
Date:   Fri Jul 19 06:21:54 2019 +0100

    cloudformation_facts: Fixes PhysicalResourceId KeyError(#55990)
    
    Fixes: #38033

diff --git a/lib/ansible/modules/cloud/amazon/cloudformation_facts.py b/lib/ansible/modules/cloud/amazon/cloudformation_facts.py
index a75fa9e639..8d96d21959 100644
--- a/lib/ansible/modules/cloud/amazon/cloudformation_facts.py
+++ b/lib/ansible/modules/cloud/amazon/cloudformation_facts.py
@@ -256,7 +256,7 @@ class CloudFormationServiceManager:
 def to_dict(items, key, value):
     ''' Transforms a list of items to a Key/Value dictionary '''
     if items:
-        return dict(zip([i[key] for i in items], [i[value] for i in items]))
+        return dict(zip([i.get(key) for i in items], [i.get(value) for i in items]))
     else:
         return dict()
 
