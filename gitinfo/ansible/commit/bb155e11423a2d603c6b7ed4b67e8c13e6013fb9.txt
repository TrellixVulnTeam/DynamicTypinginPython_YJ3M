commit bb155e11423a2d603c6b7ed4b67e8c13e6013fb9
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Feb 11 10:46:44 2016 -0500

    added test for cartesian lookup

diff --git a/test/integration/roles/test_lookups/tasks/main.yml b/test/integration/roles/test_lookups/tasks/main.yml
index 3c5e066ee3..5b179690f1 100644
--- a/test/integration/roles/test_lookups/tasks/main.yml
+++ b/test/integration/roles/test_lookups/tasks/main.yml
@@ -194,3 +194,23 @@
 - assert:
     that:
       - "'www.kennethreitz.org' in web_data"
+
+- name: Test cartesian lookup
+  debug: var={{item}}
+  with_cartesian:
+    - ["A", "B", "C"]
+    - ["1", "2", "3"]
+  register: product
+
+- name: Verify cartesian lookup
+  assert:
+    that:
+        - product.results[0]['item'] == ["A", "1"]
+        - product.results[1]['item'] == ["A", "2"]
+        - product.results[2]['item'] == ["A", "3"]
+        - product.results[3]['item'] == ["B", "1"]
+        - product.results[4]['item'] == ["B", "2"]
+        - product.results[5]['item'] == ["B", "3"]
+        - product.results[6]['item'] == ["C", "1"]
+        - product.results[7]['item'] == ["C", "2"]
+        - product.results[8]['item'] == ["C", "3"]
