commit fd321355d69cf2450549f44bfe1572d6f75a0dac
Author: James Cammarata <jimi@sngx.net>
Date:   Mon May 11 14:04:17 2015 -0500

    Adding 'role_path' to VariableManager "magic" variables (v2)

diff --git a/lib/ansible/vars/__init__.py b/lib/ansible/vars/__init__.py
index 4cf10709b9..736b9529ef 100644
--- a/lib/ansible/vars/__init__.py
+++ b/lib/ansible/vars/__init__.py
@@ -212,7 +212,6 @@ class VariableManager:
         # FIXME: make sure all special vars are here
         # Finally, we create special vars
 
-
         if host:
             all_vars['groups'] = [group.name for group in host.get_groups()]
 
@@ -220,6 +219,10 @@ class VariableManager:
                 hostvars = HostVars(vars_manager=self, inventory=self._inventory, loader=loader)
                 all_vars['hostvars'] = hostvars
 
+        if task:
+            if task._role:
+                all_vars['role_path'] = task._role._role_path
+
         if self._inventory is not None:
             all_vars['inventory_dir'] = self._inventory.basedir()
 
