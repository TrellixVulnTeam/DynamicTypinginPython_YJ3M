commit d91bc1692eb73150646335a5bcedcfa59b628d81
Author: Scott Sturdivant <scott.sturdivant@absio.com>
Date:   Thu May 23 09:43:38 2013 -0600

    Make pkgng and with_items result in a single module call.

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 0f9906bb31..2b41a5b904 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -398,8 +398,8 @@ class Runner(object):
             if type(items) != list:
                 raise errors.AnsibleError("lookup plugins have to return a list: %r" % items)
 
-            if len(items) and utils.is_list_of_strings(items) and self.module_name in [ 'apt', 'yum' ]:
-                # hack for apt and soon yum, with_items maps back into a single module call
+            if len(items) and utils.is_list_of_strings(items) and self.module_name in [ 'apt', 'yum', 'pkgng' ]:
+                # hack for apt, yum, and pkgng so that with_items maps back into a single module call
                 inject['item'] = ",".join(items)
                 items = None
 
