commit d4dbc7f2e0d963e37e371f3b505152c2e11f1ca6
Author: Matt Clay <matt@mystile.com>
Date:   Fri Jan 18 16:07:17 2019 -0800

    Fix subversion integration test on Fedora 29. (#51089)
    
    * Fix subversion integration test on Fedora 29.
    
    This upgrades the sqlite-libs and subversion packages to make sure
    that the version of sqlite expected by subversion is installed.
    
    * Fix compatibility with RHEL and CentOS.

diff --git a/test/integration/targets/subversion/tasks/setup.yml b/test/integration/targets/subversion/tasks/setup.yml
index 5d64519572..1ec5b5fc24 100644
--- a/test/integration/targets/subversion/tasks/setup.yml
+++ b/test/integration/targets/subversion/tasks/setup.yml
@@ -12,6 +12,13 @@
     name: '{{ subversion_packages }}'
     state: present
 
+- name: upgrade SVN pre-reqs
+  package:
+    name: '{{ upgrade_packages }}'
+    state: latest
+  when:
+    - upgrade_packages | default([])
+
 - name: create SVN home folder
   file:
     path: '{{ subversion_server_dir }}'
diff --git a/test/integration/targets/subversion/vars/RedHat.yml b/test/integration/targets/subversion/vars/RedHat.yml
index 666d229cd9..3e3f910938 100644
--- a/test/integration/targets/subversion/vars/RedHat.yml
+++ b/test/integration/targets/subversion/vars/RedHat.yml
@@ -2,5 +2,9 @@
 subversion_packages:
 - mod_dav_svn
 - subversion
+upgrade_packages:
+# prevent sqlite from being out-of-sync with the version subversion was compiled with
+- subversion
+- sqlite
 apache_user: apache
 apache_group: apache
