commit cd4412016aea873669ec08d024b5a54581376c8d
Author: James Cammarata <jimi@sngx.net>
Date:   Thu Jul 7 13:40:58 2016 -0500

    Updating integration tests for async testing

diff --git a/test/integration/roles/test_async/tasks/main.yml b/test/integration/roles/test_async/tasks/main.yml
index 386f310944..8aa8f60ece 100644
--- a/test/integration/roles/test_async/tasks/main.yml
+++ b/test/integration/roles/test_async/tasks/main.yml
@@ -33,7 +33,7 @@
         - "'cmd' in async_result"
         - "'delta' in async_result"
         - "'end' in async_result"
-        - "'finished' in async_result"
+        - "'finished' in async_result or async_result.finished == 1"
         - "'rc' in async_result"
         - "'start' in async_result"
         - "'stderr' in async_result"
@@ -54,7 +54,7 @@
     that:
         - "'ansible_job_id' in async_result"
         - "'started' in async_result"
-        - "'finished' not in async_result"
+        - "'finished' not in async_result or async_result.finished == 0"
 
 - name: test skipped task handling
   command: /bin/true 
