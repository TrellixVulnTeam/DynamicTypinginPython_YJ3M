commit 3aba0d527266f37a9dce037d22748e67c897b9fb
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Feb 16 15:34:22 2015 -0800

    Fix for recursion traceback in copy with relative paths
    
    This is a further fix for: https://github.com/ansible/ansible/issues/9092
    
    when the relative path contains a subdirectory.  Like:
    
    ansible localhost -m copy -a 'src=/etc/group dest=foo/bar/'

diff --git a/lib/ansible/modules/files/copy.py b/lib/ansible/modules/files/copy.py
index c5aaa01b5b..364996f529 100644
--- a/lib/ansible/modules/files/copy.py
+++ b/lib/ansible/modules/files/copy.py
@@ -181,7 +181,7 @@ def main():
     if original_basename and dest.endswith("/"):
         dest = os.path.join(dest, original_basename)
         dirname = os.path.dirname(dest)
-        if not os.path.exists(dirname) and '/' in dirname:
+        if not os.path.exists(dirname) and os.path.isabs(dirname):
             (pre_existing_dir, new_directory_list) = split_pre_existing_dir(dirname)
             os.makedirs(dirname)
             directory_args = module.load_file_common_arguments(module.params)
