commit 0d2d25b5152396e561c8cb527ac7f1a289a8cd9a
Author: Maxime Deravet <maximede@users.noreply.github.com>
Date:   Wed Feb 1 12:29:18 2017 -0800

    Fix for #20473 - If there is no instance in the ASG, we initialize an empty array for `properties['instances']` (#20475)

diff --git a/lib/ansible/modules/cloud/amazon/ec2_asg.py b/lib/ansible/modules/cloud/amazon/ec2_asg.py
index fe1101167d..77f0a6d48d 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_asg.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_asg.py
@@ -306,6 +306,8 @@ def get_properties(autoscaling_group):
                 properties['terminating_instances'] += 1
             if i.lifecycle_state == 'Pending':
                 properties['pending_instances'] += 1
+    else:
+        properties['instances'] = []
     properties['instance_facts'] = instance_facts
     properties['load_balancers'] = autoscaling_group.load_balancers
 
