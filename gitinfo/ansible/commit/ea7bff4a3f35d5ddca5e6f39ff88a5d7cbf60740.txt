commit ea7bff4a3f35d5ddca5e6f39ff88a5d7cbf60740
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Mar 28 15:55:09 2017 -0400

    changed spec to options as per irc meeting

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 2e2d676523..af26d81ee4 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1743,10 +1743,10 @@ class AnsibleModule(object):
                 e = get_exception()
                 self.fail_json(msg="argument %s is of type %s and we were unable to convert to %s: %s" % (k, type(value), wanted, e))
 
-            # deal with subspecs
+            # deal with sub options to create sub spec
             spec = None
             if wanted == 'dict' or (wanted == 'list' and v.get('elements', '') == 'dict'):
-                spec = v.get('spec', None)
+                spec = v.get('options', None)
                 if spec:
                     self._check_required_arguments(spec, param[k])
                     self._check_argument_types(spec, param[k])
