commit 770032648abc35da3183c6c8ec8f8b8e41ab990b
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Oct 9 10:53:38 2015 -0400

    Show -> localhost for local_action tasks

diff --git a/lib/ansible/plugins/callback/default.py b/lib/ansible/plugins/callback/default.py
index 42bd64436f..2969d00526 100644
--- a/lib/ansible/plugins/callback/default.py
+++ b/lib/ansible/plugins/callback/default.py
@@ -64,14 +64,22 @@ class CallbackModule(CallbackBase):
             msg = 'included: %s for %s' % (result._task.args.get('_raw_params'), result._host.name)
             color = 'cyan'
         elif result._result.get('changed', False):
-            if result._task.delegate_to is not None:
-                msg = "changed: [%s -> %s]" % (result._host.get_name(), result._task.delegate_to)
+            if result._task.delegate_to is not None or result._task._local_action:
+                if result._task._local_action:
+                    target = 'localhost'
+                else:
+                    target = result._task.delegate_to
+                msg = "changed: [%s -> %s]" % (result._host.get_name(), target)
             else:
                 msg = "changed: [%s]" % result._host.get_name()
             color = 'yellow'
         else:
-            if result._task.delegate_to is not None:
-                msg = "ok: [%s -> %s]" % (result._host.get_name(), result._task.delegate_to)
+            if result._task.delegate_to is not None or result._task._local_action:
+                if result._task._local_action:
+                    target = 'localhost'
+                else:
+                    target = result._task.delegate_to
+                msg = "ok: [%s -> %s]" % (result._host.get_name(), target)
             else:
                 msg = "ok: [%s]" % result._host.get_name()
             color = 'green'
@@ -97,8 +105,12 @@ class CallbackModule(CallbackBase):
                 self._display.display(msg, color='cyan')
 
     def v2_runner_on_unreachable(self, result):
-        if result._task.delegate_to:
-            self._display.display("fatal: [%s -> %s]: UNREACHABLE! => %s" % (result._host.get_name(), result._task.delegate_to, self._dump_results(result._result)), color='red')
+        if result._task.delegate_to or result._task._local_action:
+            if result._task._local_action:
+                target = 'localhost'
+            else:
+                target = result._task.delegate_to
+            self._display.display("fatal: [%s -> %s]: UNREACHABLE! => %s" % (result._host.get_name(), target, self._dump_results(result._result)), color='red')
         else:
             self._display.display("fatal: [%s]: UNREACHABLE! => %s" % (result._host.get_name(), self._dump_results(result._result)), color='red')
 
