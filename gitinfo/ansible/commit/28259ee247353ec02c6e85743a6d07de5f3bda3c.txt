commit 28259ee247353ec02c6e85743a6d07de5f3bda3c
Author: James Cassell <code@james.cassell.me>
Date:   Wed Jul 17 20:42:00 2019 -0400

    dzdo: fix password prompt (#59208)

diff --git a/changelogs/fragments/dzdo_password_prompt.yml b/changelogs/fragments/dzdo_password_prompt.yml
new file mode 100644
index 0000000000..2c5e0e125a
--- /dev/null
+++ b/changelogs/fragments/dzdo_password_prompt.yml
@@ -0,0 +1,2 @@
+bugfixes:
+- dzdo did not work with password authentication
diff --git a/lib/ansible/plugins/become/dzdo.py b/lib/ansible/plugins/become/dzdo.py
index 8305a58a05..74fbf0efbb 100644
--- a/lib/ansible/plugins/become/dzdo.py
+++ b/lib/ansible/plugins/become/dzdo.py
@@ -25,7 +25,7 @@ DOCUMENTATION = """
               - name: ANSIBLE_BECOME_USER
               - name: ANSIBLE_DZDO_USER
         become_exe:
-            description: Sudo executable
+            description: Dzdo executable
             default: dzdo
             ini:
               - section: privilege_escalation
@@ -87,8 +87,8 @@ class BecomeModule(BecomeBase):
 
         flags = self.get_option('become_flags') or ''
         if self.get_option('become_pass'):
-            self._prompt = '[dzdo via ansible, key=%s] password:' % self._id
-            flags = '%s -p "%s"' % (flags.replace('-n', ''), self._prompt)
+            self.prompt = '[dzdo via ansible, key=%s] password:' % self._id
+            flags = '%s -p "%s"' % (flags.replace('-n', ''), self.prompt)
 
         user = self.get_option('become_user') or ''
         if user:
