commit 144108296f0d461176227df7b7983eaac521067c
Author: Andrey Klychkov <aaklychkov@mail.ru>
Date:   Thu Aug 29 13:41:31 2019 +0300

    postgresql modules: add seealso section (#61526)
    
    * postgresql modules: add seealso section
    
    * postgresql modules: add seealso section

diff --git a/lib/ansible/modules/database/postgresql/postgresql_schema.py b/lib/ansible/modules/database/postgresql/postgresql_schema.py
index f47be1b824..3fc4d06030 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_schema.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_schema.py
@@ -74,6 +74,19 @@ options:
     type: str
     aliases: [ ssl_rootcert ]
     version_added: '2.8'
+seealso:
+- name: PostgreSQL schemas
+  description: General information about PostgreSQL schemas.
+  link: https://www.postgresql.org/docs/current/ddl-schemas.html
+- name: CREATE SCHEMA reference
+  description: Complete reference of the CREATE SCHEMA command documentation.
+  link: https://www.postgresql.org/docs/current/sql-createschema.html
+- name: ALTER SCHEMA reference
+  description: Complete reference of the ALTER SCHEMA command documentation.
+  link: https://www.postgresql.org/docs/current/sql-alterschema.html
+- name: DROP SCHEMA reference
+  description: Complete reference of the DROP SCHEMA command documentation.
+  link: https://www.postgresql.org/docs/current/sql-dropschema.html
 author:
 - Flavien Chantelot (@Dorn-) <contact@flavien.io>
 - Thomas O'Donnell (@andytom)
diff --git a/lib/ansible/modules/database/postgresql/postgresql_sequence.py b/lib/ansible/modules/database/postgresql/postgresql_sequence.py
index ec8806dc3d..21f489f3e8 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_sequence.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_sequence.py
@@ -18,8 +18,7 @@ DOCUMENTATION = r'''
 module: postgresql_sequence
 short_description: Create, drop, or alter a PostgreSQL sequence
 description:
-- Allows to create, drop or change the definition of a sequence generator
-  U(https://www.postgresql.org/docs/current/sql-createsequence.html).
+- Allows to create, drop or change the definition of a sequence generator.
 version_added: '2.9'
 options:
   sequence:
@@ -138,6 +137,20 @@ options:
 notes:
 - If you do not pass db parameter, sequence will be created in the database
   named postgres.
+seealso:
+- module: postgresql_table
+- module: postgresql_owner
+- module: postgresql_privs
+- module: postgresql_tablespace
+- name: CREATE SEQUENCE reference
+  description: Complete reference of the CREATE SEQUENCE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-createsequence.html
+- name: ALTER SEQUENCE reference
+  description: Complete reference of the ALTER SEQUENCE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-altersequence.html
+- name: DROP SEQUENCE reference
+  description: Complete reference of the DROP SEQUENCE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-dropsequence.html
 author:
 - Tobias Birkefeld (@tcraxs)
 extends_documentation_fragment: postgres
diff --git a/lib/ansible/modules/database/postgresql/postgresql_set.py b/lib/ansible/modules/database/postgresql/postgresql_set.py
index 30eb4548ec..7359a3957a 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_set.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_set.py
@@ -19,12 +19,11 @@ module: postgresql_set
 short_description: Change a PostgreSQL server configuration parameter
 description:
    - Allows to change a PostgreSQL server configuration parameter.
-   - The module uses ALTER SYSTEM command U(https://www.postgresql.org/docs/current/sql-altersystem.html)
-     and applies changes by reload server configuration.
+   - The module uses ALTER SYSTEM command and applies changes by reload server configuration.
    - ALTER SYSTEM is used for changing server configuration parameters across the entire database cluster.
    - It can be more convenient and safe than the traditional method of manually editing the postgresql.conf file.
    - ALTER SYSTEM writes the given parameter setting to the $PGDATA/postgresql.auto.conf file,
-     which is read in addition to postgresql.conf U(https://www.postgresql.org/docs/current/sql-altersystem.html).
+     which is read in addition to postgresql.conf.
    - The module allows to reset parameter to boot_val (cluster initial value) by I(reset=yes) or remove parameter
      string from postgresql.auto.conf and reload I(value=default) (for settings with postmaster context restart is required).
    - After change you can see in the ansible output the previous and
@@ -72,6 +71,17 @@ notes:
   not restarted and the value in pg_settings is not updated yet.
 - For some parameters restart of PostgreSQL server is required.
   See official documentation U(https://www.postgresql.org/docs/current/view-pg-settings.html).
+seealso:
+- module: postgresql_info
+- name: PostgreSQL server configuration
+  description: General information about PostgreSQL server configuration.
+  link: https://www.postgresql.org/docs/current/runtime-config.html
+- name: PostgreSQL view pg_settings reference
+  description: Complete reference of the pg_settings view documentation.
+  link: https://www.postgresql.org/docs/current/view-pg-settings.html
+- name: PostgreSQL ALTER SYSTEM command reference
+  description: Complete reference of the ALTER SYSTEM command documentation.
+  link: https://www.postgresql.org/docs/current/sql-altersystem.html
 author:
 - Andrew Klychkov (@Andersson007)
 extends_documentation_fragment: postgres
diff --git a/lib/ansible/modules/database/postgresql/postgresql_slot.py b/lib/ansible/modules/database/postgresql/postgresql_slot.py
index d640df89f1..d5b983a1a8 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_slot.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_slot.py
@@ -30,9 +30,6 @@ options:
   slot_type:
     description:
     - Slot type.
-    - For more information see
-      U(https://www.postgresql.org/docs/current/protocol-replication.html) and
-      U(https://www.postgresql.org/docs/current/logicaldecoding-explanation.html).
     type: str
     default: physical
     choices: [ logical, physical ]
@@ -79,6 +76,17 @@ notes:
 - Physical replication slots were introduced to PostgreSQL with version 9.4,
   while logical replication slots were added beginning with version 10.0.
 
+seealso:
+- name: PostgreSQL pg_replication_slots view reference
+  description: Complete reference of the PostgreSQL pg_replication_slots view.
+  link: https://www.postgresql.org/docs/current/view-pg-replication-slots.html
+- name: PostgreSQL streaming replication protocol reference
+  description: Complete reference of the PostgreSQL streaming replication protocol documentation.
+  link: https://www.postgresql.org/docs/current/protocol-replication.html
+- name: PostgreSQL logical replication protocol reference
+  description: Complete reference of the PostgreSQL logical replication protocol documentation.
+  link: https://www.postgresql.org/docs/current/protocol-logical-replication.html
+
 author:
 - John Scalia (@jscalia)
 - Andrew Klychkov (@Andersson007)
diff --git a/lib/ansible/modules/database/postgresql/postgresql_table.py b/lib/ansible/modules/database/postgresql/postgresql_table.py
index 93365aa9b2..fe7ff62bea 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_table.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_table.py
@@ -18,8 +18,7 @@ DOCUMENTATION = r'''
 module: postgresql_table
 short_description: Create, drop, or modify a PostgreSQL table
 description:
-- Allows to create, drop, rename, truncate a table, or change some table attributes
-  U(https://www.postgresql.org/docs/current/sql-createtable.html).
+- Allows to create, drop, rename, truncate a table, or change some table attributes.
 version_added: '2.8'
 options:
   table:
@@ -95,8 +94,7 @@ options:
     type: str
   cascade:
     description:
-    - Automatically drop objects that depend on the table (such as views)
-      U(https://www.postgresql.org/docs/current/sql-droptable.html).
+    - Automatically drop objects that depend on the table (such as views).
       Used with I(state=absent) only.
     type: bool
     default: no
@@ -105,10 +103,28 @@ notes:
 - If you do not pass db parameter, tables will be created in the database
   named postgres.
 - PostgreSQL allows to create columnless table, so columns param is optional.
-- Unlogged tables are available from PostgreSQL server version 9.1
-  U(https://www.postgresql.org/docs/9.1/sql-createtable.html).
+- Unlogged tables are available from PostgreSQL server version 9.1.
+seealso:
+- module: postgresql_sequence
+- module: postgresql_index
+- module: postgresql_tablespace
+- module: postgresql_owner
+- module: postgresql_privs
+- module: postgresql_copy
+- name: CREATE TABLE reference
+  description: Complete reference of the CREATE TABLE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-createtable.html
+- name: ALTER TABLE reference
+  description: Complete reference of the ALTER TABLE  command documentation.
+  link: https://www.postgresql.org/docs/current/sql-altertable.html
+- name: DROP TABLE reference
+  description: Complete reference of the DROP TABLE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-droptable.html
+- name: PostgreSQL data types
+  description: Complete reference of the PostgreSQL data types documentation.
+  link: postgresql.org/docs/current/datatype.html
 author:
-- Andrew Klychkov (@Andersson007)
+- Andrei Klychkov (@Andersson007)
 extends_documentation_fragment: postgres
 '''
 
diff --git a/lib/ansible/modules/database/postgresql/postgresql_tablespace.py b/lib/ansible/modules/database/postgresql/postgresql_tablespace.py
index e0309654c6..b1baf2d534 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_tablespace.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_tablespace.py
@@ -20,9 +20,7 @@ DOCUMENTATION = r'''
 module: postgresql_tablespace
 short_description: Add or remove PostgreSQL tablespaces from remote hosts
 description:
-- Adds or removes PostgreSQL tablespaces from remote hosts
-  U(https://www.postgresql.org/docs/current/sql-createtablespace.html),
-  U(https://www.postgresql.org/docs/current/manage-ag-tablespaces.html).
+- Adds or removes PostgreSQL tablespaces from remote hosts.
 version_added: '2.8'
 options:
   tablespace:
@@ -58,8 +56,7 @@ options:
     description:
     - Dict of tablespace options to set. Supported from PostgreSQL 9.0.
     - For more information see U(https://www.postgresql.org/docs/current/sql-createtablespace.html).
-    - When reset is passed as an option's value, if the option was set previously, it will be removed
-      U(https://www.postgresql.org/docs/current/sql-altertablespace.html).
+    - When reset is passed as an option's value, if the option was set previously, it will be removed.
     type: dict
   rename_to:
     description:
@@ -84,6 +81,20 @@ notes:
   support check mode because the corresponding PostgreSQL DROP and CREATE TABLESPACE commands
   can not be run inside the transaction block.
 
+seealso:
+- name: PostgreSQL tablespaces
+  description: General information about PostgreSQL tablespaces.
+  link: https://www.postgresql.org/docs/current/manage-ag-tablespaces.html
+- name: CREATE TABLESPACE reference
+  description: Complete reference of the CREATE TABLESPACE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-createtablespace.html
+- name: ALTER TABLESPACE reference
+  description: Complete reference of the ALTER TABLESPACE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-altertablespace.html
+- name: DROP TABLESPACE reference
+  description: Complete reference of the DROP TABLESPACE command documentation.
+  link: https://www.postgresql.org/docs/current/sql-droptablespace.html
+
 author:
 - Flavien Chantelot (@Dorn-)
 - Antoine Levy-Lambert (@antoinell)
diff --git a/lib/ansible/modules/database/postgresql/postgresql_user.py b/lib/ansible/modules/database/postgresql/postgresql_user.py
index b1b4483f81..66ff64a111 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_user.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_user.py
@@ -21,8 +21,7 @@ description:
 - Adds or removes a user (role) from a PostgreSQL server instance
   ("cluster" in PostgreSQL terminology) and, optionally,
   grants the user access to an existing database or tables.
-  A user is a role with login privilege
-  (see U(https://www.postgresql.org/docs/11/role-attributes.html) for more information).
+- A user is a role with login privilege.
 - The fundamental function of the module is to create, or delete, users from
   a PostgreSQL instances. Privilege assignment, or removal, is an optional
   step, which works on one database at a time. This allows for the module to
@@ -157,6 +156,13 @@ notes:
   Use NOLOGIN role_attr_flags to change this behaviour.
 - If you specify PUBLIC as the user (role), then the privilege changes will apply to all users (roles).
   You may not specify password or role_attr_flags when the PUBLIC user is specified.
+seealso:
+- module: postgresql_privs
+- module: postgresql_membership
+- module: postgresql_owner
+- name: PostgreSQL database roles
+  description: Complete reference of the PostgreSQL database roles documentation.
+  link: https://www.postgresql.org/docs/current/user-manag.html
 author:
 - Ansible Core Team
 extends_documentation_fragment: postgres
