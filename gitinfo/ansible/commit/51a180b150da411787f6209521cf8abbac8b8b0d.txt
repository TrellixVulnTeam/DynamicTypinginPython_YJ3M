commit 51a180b150da411787f6209521cf8abbac8b8b0d
Author: ftao <Filia.Tao@gmail.com>
Date:   Sun Aug 11 10:50:47 2013 +0800

    fix inventory.basedir is not absolute path when hostfile is startswith "./"

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 1661fbef22..334beb6dc8 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -392,7 +392,7 @@ class Inventory(object):
         if not self.is_file():
             return None
         dname = os.path.dirname(self.host_list)
-        if dname is None or dname == '':
+        if dname is None or dname == '' or dname == '.':
             cwd = os.getcwd()
             return cwd 
         return dname
