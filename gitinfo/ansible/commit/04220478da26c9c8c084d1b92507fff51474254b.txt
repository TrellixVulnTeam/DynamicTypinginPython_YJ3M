commit 04220478da26c9c8c084d1b92507fff51474254b
Author: Keith Maxwell <keith.maxwell@gmail.com>
Date:   Thu Apr 11 22:28:14 2019 +0100

    Fewer examples use connection: local in docs (#55133)
    
    * Fewer connection: local lines in module examples and scenario guides
    
    The line 'connection: local' is not required. See
    ./docs/docsite/rst/inventory/implicit_localhost.rst

diff --git a/docs/docsite/rst/scenario_guides/guide_aws.rst b/docs/docsite/rst/scenario_guides/guide_aws.rst
index d9fceee0d4..8485f4eb0d 100644
--- a/docs/docsite/rst/scenario_guides/guide_aws.rst
+++ b/docs/docsite/rst/scenario_guides/guide_aws.rst
@@ -18,7 +18,6 @@ Whereas classically ansible will execute tasks in its host loop against multiple
 In your playbook steps we'll typically be using the following pattern for provisioning steps::
 
     - hosts: localhost
-      connection: local
       gather_facts: False
       tasks:
         - ...
@@ -68,7 +67,6 @@ instance.::
     # demo_setup.yml
 
     - hosts: localhost
-      connection: local
       gather_facts: False
 
       tasks:
@@ -94,7 +92,6 @@ From this, we'll use the add_host module to dynamically create a host group cons
     # demo_setup.yml
 
     - hosts: localhost
-      connection: local
       gather_facts: False
 
       tasks:
diff --git a/docs/docsite/rst/scenario_guides/guide_gce.rst b/docs/docsite/rst/scenario_guides/guide_gce.rst
index e49b85e02f..7a5256422c 100644
--- a/docs/docsite/rst/scenario_guides/guide_gce.rst
+++ b/docs/docsite/rst/scenario_guides/guide_gce.rst
@@ -88,7 +88,6 @@ you can use the following configuration:
 
    - name: Create IP address
      hosts: localhost
-     connection: local
      gather_facts: no
 
      vars:
@@ -169,7 +168,6 @@ rest.
    - name: Create an instance
      hosts: localhost
      gather_facts: no
-     connection: local
      vars:
          project: my-project
          auth_kind: serviceaccount
diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index fffe24780e..c3b5a77fc3 100644
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -431,7 +431,6 @@ EXAMPLES = '''
 
 - name: Terminate instances
   hosts: localhost
-  connection: local
   tasks:
     - name: Terminate instances that were previously launched
       ec2:
@@ -444,7 +443,6 @@ EXAMPLES = '''
 - name: Start sandbox instances
   hosts: localhost
   gather_facts: false
-  connection: local
   vars:
     instance_ids:
       - 'i-xxxxxx'
@@ -467,7 +465,6 @@ EXAMPLES = '''
 - name: Stop sandbox instances
   hosts: localhost
   gather_facts: false
-  connection: local
   vars:
     instance_ids:
       - 'i-xxxxxx'
diff --git a/lib/ansible/modules/cloud/docker/docker_compose.py b/lib/ansible/modules/cloud/docker/docker_compose.py
index 101a69cc4b..e63e627748 100644
--- a/lib/ansible/modules/cloud/docker/docker_compose.py
+++ b/lib/ansible/modules/cloud/docker/docker_compose.py
@@ -165,7 +165,6 @@ EXAMPLES = '''
 
 - name: Run using a project directory
   hosts: localhost
-  connection: local
   gather_facts: no
   tasks:
     - docker_compose:
@@ -220,7 +219,6 @@ EXAMPLES = '''
 
 - name: Scale the web service to 2
   hosts: localhost
-  connection: local
   gather_facts: no
   tasks:
     - docker_compose:
@@ -234,7 +232,6 @@ EXAMPLES = '''
 
 - name: Run with inline v2 compose
   hosts: localhost
-  connection: local
   gather_facts: no
   tasks:
     - docker_compose:
@@ -269,7 +266,6 @@ EXAMPLES = '''
 
 - name: Run with inline v1 compose
   hosts: localhost
-  connection: local
   gather_facts: no
   tasks:
     - docker_compose:
