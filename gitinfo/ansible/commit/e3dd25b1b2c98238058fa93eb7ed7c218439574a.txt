commit e3dd25b1b2c98238058fa93eb7ed7c218439574a
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Wed Jul 18 16:41:14 2012 -0700

    Add back erroneously deleted get_file_content()

diff --git a/library/setup b/library/setup
index 5068f77f2e..543886e82f 100755
--- a/library/setup
+++ b/library/setup
@@ -562,6 +562,14 @@ class LinuxVirtual(Virtual):
                 self.facts['virtualization_type'] = 'VirtualPC'
                 self.facts['virtualization_role'] = 'guest'
 
+def get_file_content(path):
+    data = None
+    if os.path.exists(path) and os.access(path, os.R_OK):
+        data = open(path).read().strip()
+        if len(data) == 0:
+            data = None
+    return data
+
 def ansible_facts():
     facts = {}
     facts.update(Facts().populate())
