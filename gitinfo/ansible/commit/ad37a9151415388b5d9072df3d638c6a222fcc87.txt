commit ad37a9151415388b5d9072df3d638c6a222fcc87
Author: Brian Coca <bcoca@ansible.com>
Date:   Fri Feb 5 14:32:32 2016 -0500

    really only want to prevent None typep here
    
    false is sometimes needed

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index cfa0e9b02b..ea0e429b6b 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1825,7 +1825,7 @@ class AnsibleModule(object):
 
         # expand things like $HOME and ~
         if not shell:
-            args = [ os.path.expandvars(os.path.expanduser(x)) for x in args if x ]
+            args = [ os.path.expandvars(os.path.expanduser(x)) for x in args if x is not None ]
 
         rc = 0
         msg = None
