commit 6056b89675439eacc30d8faa885e684ade7e8995
Author: Zim Kalinowski <zikalino@microsoft.com>
Date:   Wed Sep 26 00:48:22 2018 +0800

    fix for managed disk facts (#46021)

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_managed_disk.py b/lib/ansible/modules/cloud/azure/azure_rm_managed_disk.py
index 5ea8904d9b..36f9cf36d2 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_managed_disk.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_managed_disk.py
@@ -157,7 +157,7 @@ def managed_disk_to_dict(managed_disk):
         source_resource_uri=create_data.source_resource_id,
         disk_size_gb=managed_disk.disk_size_gb,
         os_type=managed_disk.os_type.value if managed_disk.os_type else None,
-        storage_account_type=managed_disk.sku.name.value,
+        storage_account_type=managed_disk.sku.name.value if managed_disk.sku else None,
         managed_by=managed_disk.managed_by
     )
 
