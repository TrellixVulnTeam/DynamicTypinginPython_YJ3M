commit bc65956798d717bd1e464cb181a086bf531b1ff7
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Thu Feb 20 15:23:44 2014 -0500

    Add tests that leverage most of our custom filters.  A few more to add.

diff --git a/lib/ansible/runner/filter_plugins/core.py b/lib/ansible/runner/filter_plugins/core.py
index a99b17f67a..9b9a9b5cf2 100644
--- a/lib/ansible/runner/filter_plugins/core.py
+++ b/lib/ansible/runner/filter_plugins/core.py
@@ -42,6 +42,8 @@ def failed(*a, **kw):
     ''' Test if task result yields failed '''
     item = a[0]
     if type(item) != dict:
+        print "DEBUG: GOT A"
+        print item
         raise errors.AnsibleFilterError("|failed expects a dictionary")
     rc = item.get('rc',0)
     failed = item.get('failed',False)
diff --git a/tests_new/integration/non_destructive.yml b/tests_new/integration/non_destructive.yml
index b30a7f13eb..2560a2e599 100644
--- a/tests_new/integration/non_destructive.yml
+++ b/tests_new/integration/non_destructive.yml
@@ -24,3 +24,5 @@
     - { role: test_lineinfile, tags: test_lineinfile }
     - { role: test_ignore_errors, tags: test_ignore_errors }
     - { role: test_unarchive, tags: test_unarchive }
+    - { role: test_filters, tags: test_filters }
+
