commit 3e09de7aefc17308d3f0dacae1c7038e585770ff
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Nov 19 12:30:24 2014 -0800

    Fix git module checking out correct version after initial clone
    
    Fixes #313

diff --git a/lib/ansible/modules/source_control/git.py b/lib/ansible/modules/source_control/git.py
index 998e684afb..17378fc97b 100644
--- a/lib/ansible/modules/source_control/git.py
+++ b/lib/ansible/modules/source_control/git.py
@@ -646,6 +646,7 @@ def main():
             module.exit_json(changed=True, before=before, after=remote_head)
         # there's no git config, so clone
         clone(git_path, module, repo, dest, remote, depth, version, bare, reference, recursive)
+        repo_updated = True
     elif not update:
         # Just return having found a repo already in the dest path
         # this does no checking that the repo is the actual repo
