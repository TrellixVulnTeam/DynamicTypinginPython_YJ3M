commit b8cb382a40233b6dc818d7c9c6a56352e0dd56d5
Author: saichint <saichint@cisco.com>
Date:   Tue Apr 3 23:07:37 2018 -0700

    nxos_acl_interface tests addition (#38230)

diff --git a/test/integration/targets/nxos_acl_interface/tests/common/sanity.yaml b/test/integration/targets/nxos_acl_interface/tests/common/sanity.yaml
index 8d463d3695..f397c2c273 100644
--- a/test/integration/targets/nxos_acl_interface/tests/common/sanity.yaml
+++ b/test/integration/targets/nxos_acl_interface/tests/common/sanity.yaml
@@ -16,11 +16,21 @@
     provider: "{{ connection }}"
   ignore_errors: yes
 
+- name: "Setup: Put interface into no switch port mode"
+  nxos_config:
+    commands:
+      - "no switchport"
+    parents:
+      - "interface {{ intname }}"
+    match: none
+    provider: "{{ connection }}"
+  ignore_errors: yes
+
 - name: "Setup: Cleanup possibly existing acl"
   nxos_acl: &remove
     name: ANSIBLE_ACL
     seq: 10
-    state: absent
+    state: delete_acl
     provider: "{{ connection }}"
   ignore_errors: yes
 
@@ -112,9 +122,9 @@
     nxos_config: *default
     ignore_errors: yes
 
+  always:
   - name: Remove possible configured ACL
     nxos_acl: *remove
     ignore_errors: yes
 
-  always:
   - debug: msg="END connection={{ ansible_connection }} nxos_acl_interface sanity test"
