commit 54b98effdfe45d8b492b5c507fb5f52457ef8467
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Tue Mar 20 19:55:24 2012 -0400

    Add demonstration of only_if capability

diff --git a/examples/playbooks/playbook4.yml b/examples/playbooks/playbook4.yml
new file mode 100644
index 0000000000..7fb6673cb0
--- /dev/null
+++ b/examples/playbooks/playbook4.yml
@@ -0,0 +1,25 @@
+---
+# this is a demo of conditional executions using 'only_if', which can skip
+# certain tasks on machines/platforms/etc where they do not apply.
+
+- hosts: all
+  user: root
+
+  vars:
+     favcolor: "red"
+     ssn: 8675309
+
+# facter and ohai variables can be used in only_if statements too
+# ex:  "$facter_operatingsystem == 'CentOS'", which bubble up automatically
+# from the managed machines
+
+  tasks:
+
+     - name: "do this if my favcolor is blue"
+       action: shell /bin/false
+       only_if: "'$favcolor' == 'blue'"
+     
+     - name: "do this if my favcolor is red"
+       action: shell /bin/false
+       only_if: "'$favcolor' == 'red'"
+
