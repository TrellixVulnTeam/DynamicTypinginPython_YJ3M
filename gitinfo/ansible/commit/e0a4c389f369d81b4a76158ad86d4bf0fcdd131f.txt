commit e0a4c389f369d81b4a76158ad86d4bf0fcdd131f
Author: Kevin Bell <kevin.a.bell@gmail.com>
Date:   Tue May 27 21:52:45 2014 -0700

    Fixed asg instance count polling

diff --git a/library/cloud/ec2_asg b/library/cloud/ec2_asg
index a72b3ad524..4e7fd1ff7a 100644
--- a/library/cloud/ec2_asg
+++ b/library/cloud/ec2_asg
@@ -181,7 +181,7 @@ def delete_autoscaling_group(connection, module):
 
         instances = True
         while instances:
-            connection.get_all_groups()
+            groups = connection.get_all_groups()
             for group in groups:
                 if group.name == group_name:
                     if not group.instances:
