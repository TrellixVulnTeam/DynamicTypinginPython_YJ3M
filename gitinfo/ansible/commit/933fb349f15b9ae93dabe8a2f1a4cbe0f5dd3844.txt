commit 933fb349f15b9ae93dabe8a2f1a4cbe0f5dd3844
Author: Oleg A. Mamontov <oleg@mamontov.net>
Date:   Wed Apr 2 13:21:26 2014 +0400

    Fixed cwd for submodules update

diff --git a/library/source_control/git b/library/source_control/git
index 63539f624f..8fffdbfaf8 100644
--- a/library/source_control/git
+++ b/library/source_control/git
@@ -389,7 +389,7 @@ def submodule_update(git_path, module, dest):
     cmd = [ git_path, 'submodule', 'sync' ]
     (rc, out, err) = module.run_command(cmd, check_rc=True, cwd=dest)
     cmd = [ git_path, 'submodule', 'update', '--init', '--recursive' ,'--remote' ]
-    (rc, out, err) = module.run_command(cmd)
+    (rc, out, err) = module.run_command(cmd, cwd=dest)
     if rc != 0:
         module.fail_json(msg="Failed to init/update submodules")
     return (rc, out, err)
