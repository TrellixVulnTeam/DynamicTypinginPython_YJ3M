commit 1ac9c20b6eb67f5871541cf70cf6cd969be7283b
Author: Alex Feinberg <alex@strlen.net>
Date:   Mon May 4 17:14:42 2015 -0700

    Fix a typo in create_instances
    
    Fix a typo in create_instances: use 'placement_group' instead of placement_group
    when calling boto_siupports_param_in_spot_request().

diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index a2dcdada0a..09a4082428 100755
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -939,7 +939,7 @@ def create_instances(module, ec2, vpc, override_count=None):
                 if private_ip:
                     module.fail_json(
                         msg='private_ip only available with on-demand (non-spot) instances')
-                if boto_supports_param_in_spot_request(ec2, placement_group):
+                if boto_supports_param_in_spot_request(ec2, 'placement_group'):
                     params['placement_group'] = placement_group
                 elif placement_group :
                         module.fail_json(
