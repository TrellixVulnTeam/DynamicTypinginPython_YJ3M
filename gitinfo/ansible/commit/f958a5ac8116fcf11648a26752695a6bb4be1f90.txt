commit f958a5ac8116fcf11648a26752695a6bb4be1f90
Author: Jocelyn Jaubert <jocelyn.jaubert@gmail.com>
Date:   Sat Aug 24 22:48:58 2013 +0200

    Correctly handle option user_install in gem module

diff --git a/library/packaging/gem b/library/packaging/gem
index 889f510168..762bf576d5 100644
--- a/library/packaging/gem
+++ b/library/packaging/gem
@@ -157,7 +157,9 @@ def install(module):
     else:
         if major and major < 2:
             cmd.append('--include-dependencies')
-    if not module.params['user_install']:
+    if module.params['user_install']:
+        cmd.append('--user-install')
+    else:
         cmd.append('--no-user-install')            
     cmd.append('--no-rdoc')
     cmd.append('--no-ri')
