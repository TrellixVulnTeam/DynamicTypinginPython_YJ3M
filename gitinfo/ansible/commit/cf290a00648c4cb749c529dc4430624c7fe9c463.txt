commit cf290a00648c4cb749c529dc4430624c7fe9c463
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Tue Nov 6 15:10:34 2012 +0100

    Keep fireball from spreading its socket around

diff --git a/library/fireball b/library/fireball
index ecc1df4bbe..e3a627915e 100755
--- a/library/fireball
+++ b/library/fireball
@@ -151,7 +151,7 @@ def command(data):
         return dict(failed=True, msg='internal error: tmp_path is required')
 
     log("executing: %s" % data['cmd'])
-    p = subprocess.Popen(data['cmd'], shell=True, stdout=subprocess.PIPE)
+    p = subprocess.Popen(data['cmd'], shell=True, stdout=subprocess.PIPE, close_fds=True)
     (stdout, stderr) = p.communicate()
     if stdout is None:
         stdout = ''
