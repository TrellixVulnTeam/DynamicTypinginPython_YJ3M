commit d295b819203cd9a7876253da96741b526d581357
Author: Matt Clay <matt@mystile.com>
Date:   Tue Jun 16 16:05:13 2020 -0700

    Improve stability of postgresql tests.

diff --git a/test/integration/targets/incidental_setup_postgresql_db/tasks/main.yml b/test/integration/targets/incidental_setup_postgresql_db/tasks/main.yml
index 651f6b3946..2e969c31f6 100644
--- a/test/integration/targets/incidental_setup_postgresql_db/tasks/main.yml
+++ b/test/integration/targets/incidental_setup_postgresql_db/tasks/main.yml
@@ -158,12 +158,19 @@
     line: 'postgresql_enable="YES"'
   when: ansible_os_family == "FreeBSD"
 
-- name: start postgresql service
-  # work-around for issue on FreeBSD where service won't restart if currently stopped
-  service: name={{ postgresql_service }} state=started
+- name: stop postgresql service
+  service:
+    name: "{{ postgresql_service }}"
+    state: stopped
+
+- name: pause between stop and start of postgresql service
+  pause:
+    seconds: 3
 
-- name: restart postgresql service
-  service: name={{ postgresql_service }} state=restarted
+- name: start postgresql service
+  service:
+    name: "{{ postgresql_service }}"
+    state: started
 
 ########################
 # Setup dummy extension:
