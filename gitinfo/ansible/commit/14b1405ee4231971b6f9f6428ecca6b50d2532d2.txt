commit 14b1405ee4231971b6f9f6428ecca6b50d2532d2
Author: Ricardo Carrillo Cruz <ricardo.carrillo.cruz@gmail.com>
Date:   Tue May 16 23:14:17 2017 +0200

    Fix conn_type assignment (#24697)
    
    This should be a single equal, not a double-one

diff --git a/lib/ansible/executor/task_executor.py b/lib/ansible/executor/task_executor.py
index 0ff1345998..389fa5542d 100644
--- a/lib/ansible/executor/task_executor.py
+++ b/lib/ansible/executor/task_executor.py
@@ -724,7 +724,7 @@ class TaskExecutor:
         # if using persistent paramiko connections (or the action has set the FORCE_PERSISTENT_CONNECTION attribute to True),
         # then we use the persistent connection plugion. Otherwise load the requested connection plugin
         if C.USE_PERSISTENT_CONNECTIONS or getattr(self, 'FORCE_PERSISTENT_CONNECTION', False):
-            conn_type == 'persistent'
+            conn_type = 'persistent'
         else:
             conn_type = self._play_context.connection
 
