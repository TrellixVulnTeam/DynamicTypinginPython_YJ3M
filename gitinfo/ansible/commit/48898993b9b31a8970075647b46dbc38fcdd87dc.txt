commit 48898993b9b31a8970075647b46dbc38fcdd87dc
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Tue Nov 20 16:51:19 2012 +0100

    Fix removing of temporary files

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index f6c71b3150..45a6d3e9c4 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -222,7 +222,7 @@ class Runner(object):
             raise errors.AnsibleError("module is missing interpreter line")
 
         cmd = shebang.replace("#!","") + " " + cmd
-        if tmp.find("tmp") != -1 and C.DEFAULT_KEEP_REMOTE_FILES == '1':
+        if tmp.find("tmp") != -1 and C.DEFAULT_KEEP_REMOTE_FILES != '1':
             cmd = cmd + "; rm -rf %s >/dev/null 2>&1" % tmp
         res = self._low_level_exec_command(conn, cmd, tmp, sudoable=True)
         return ReturnData(conn=conn, result=res)
