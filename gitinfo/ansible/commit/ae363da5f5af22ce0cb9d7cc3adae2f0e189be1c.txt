commit ae363da5f5af22ce0cb9d7cc3adae2f0e189be1c
Author: tstoner <33665760+tstoner@users.noreply.github.com>
Date:   Thu Oct 4 10:48:18 2018 -0400

    Purging logging configuration before running playbook (#46302)

diff --git a/test/integration/targets/nxos_logging/tests/common/basic.yaml b/test/integration/targets/nxos_logging/tests/common/basic.yaml
index 4c0640fddd..13f157a6ce 100644
--- a/test/integration/targets/nxos_logging/tests/common/basic.yaml
+++ b/test/integration/targets/nxos_logging/tests/common/basic.yaml
@@ -3,6 +3,11 @@
 - debug: msg="Using provider={{ connection.transport }}"
   when: ansible_connection == "local"
 
+- name: Purge logging configuration first
+  nxos_logging:
+    purge: true
+    provider: "{{ connection }}"
+
 - name: Set up console logging
   nxos_logging: &clog
     dest: console
diff --git a/test/integration/targets/nxos_logging/tests/common/purge.yaml b/test/integration/targets/nxos_logging/tests/common/purge.yaml
index bae8cecd2d..5c7d09df1f 100644
--- a/test/integration/targets/nxos_logging/tests/common/purge.yaml
+++ b/test/integration/targets/nxos_logging/tests/common/purge.yaml
@@ -1,6 +1,11 @@
 ---
 - debug: msg="START connection={{ ansible_connection }} nxos_logging purge test"
 
+- name: Purge logging configuration first
+  nxos_logging:
+    purge: true
+    provider: "{{ connection }}"
+
 - block:
 
     - name: Set up console logging
