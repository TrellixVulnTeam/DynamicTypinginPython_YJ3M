commit b244397a31c7e2b0a010f063933d04d5d15175a4
Author: Evan Kaufman <evan.kaufman@gmail.com>
Date:   Thu Jun 1 17:04:12 2017 -0500

    Cron - Explicitly fail on Solaris when given a special_time (#24898)
    
    * Added explicit failure on Solaris given a special_time
    
    Fixes ansible/ansible#22145
    
    * Using get_platform from module utils

diff --git a/lib/ansible/modules/system/cron.py b/lib/ansible/modules/system/cron.py
index 692d56c833..bdd4605acb 100644
--- a/lib/ansible/modules/system/cron.py
+++ b/lib/ansible/modules/system/cron.py
@@ -656,6 +656,10 @@ def main():
        (True in [(x != '*') for x in [minute, hour, day, month, weekday]]):
         module.fail_json(msg="You must specify time and date fields or special time.")
 
+    # cannot support special_time on solaris
+    if (special_time or reboot) and get_platform() == 'SunOS':
+        module.fail_json(msg="Solaris does not support special_time=... or @reboot")
+
     if cron_file and do_install:
         if not user:
             module.fail_json(msg="To use cron_file=... parameter you must specify user=... as well")
