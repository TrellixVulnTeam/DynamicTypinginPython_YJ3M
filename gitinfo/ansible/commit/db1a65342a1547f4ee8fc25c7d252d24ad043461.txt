commit db1a65342a1547f4ee8fc25c7d252d24ad043461
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Fri Nov 23 13:36:09 2012 +0100

    Set -c local cwd to . if basedir is empty

diff --git a/lib/ansible/runner/connection_plugins/local.py b/lib/ansible/runner/connection_plugins/local.py
index 52d0a158f1..3c8e1b9512 100644
--- a/lib/ansible/runner/connection_plugins/local.py
+++ b/lib/ansible/runner/connection_plugins/local.py
@@ -48,7 +48,10 @@ class Connection(object):
             cmd = "sudo -u {0} -s {1}".format(sudo_user, cmd)
 
         vvv("EXEC %s" % cmd, host=self.host)
-        p = subprocess.Popen(cmd, cwd=self.runner.basedir, shell=True, stdin=None,
+        basedir = self.runner.basedir
+        if basedir == '':
+            basedir = '.'
+        p = subprocess.Popen(cmd, cwd=basedir, shell=True, stdin=None,
                              stdout=subprocess.PIPE, stderr=subprocess.PIPE)
         stdout, stderr = p.communicate()
         return ("", stdout, stderr)
