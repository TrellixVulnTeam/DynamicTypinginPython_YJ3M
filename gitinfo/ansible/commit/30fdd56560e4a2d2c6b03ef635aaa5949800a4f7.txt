commit 30fdd56560e4a2d2c6b03ef635aaa5949800a4f7
Author: Ingo Gottwald <i.gottwald@tomorrow-focus.de>
Date:   Tue Aug 28 11:28:50 2012 +0200

    Added cwd to tempdir in git clone method. Fixes usage with sudo.

diff --git a/library/git b/library/git
index 1bb5c94b0d..974a2e42f3 100755
--- a/library/git
+++ b/library/git
@@ -24,6 +24,7 @@
 # that. Contribs welcome! -- MPD
 
 import re
+import tempfile
 
 def get_version(dest):
     ''' samples the version of the git repo '''
@@ -40,7 +41,7 @@ def clone(repo, dest):
     except:
         pass
     cmd = "git clone %s %s" % (repo, dest)
-    cmd = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
+    cmd = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, cwd=tempfile.gettempdir())
     (out, err) = cmd.communicate()
     rc = cmd.returncode
     return (rc, out, err)
