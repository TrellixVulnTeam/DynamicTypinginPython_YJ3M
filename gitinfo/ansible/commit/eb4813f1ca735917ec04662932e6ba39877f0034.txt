commit eb4813f1ca735917ec04662932e6ba39877f0034
Author: Mike Mars <codemeup@outlook.com>
Date:   Sat Jun 4 17:35:48 2016 -0700

    a) fail_json uses kwargs, b) outside the fork, log instead of returning json on stdout.

diff --git a/lib/ansible/modules/utilities/helper/accelerate.py b/lib/ansible/modules/utilities/helper/accelerate.py
index 27f714ad23..074f1d173b 100644
--- a/lib/ansible/modules/utilities/helper/accelerate.py
+++ b/lib/ansible/modules/utilities/helper/accelerate.py
@@ -171,7 +171,7 @@ def daemonize_self(module, password, port, minutes, pid_file):
     except OSError:
         e       = get_exception()
         message = "fork #1 failed: %d (%s)" % (e.errno, e.strerror)
-        module.fail_json(message)
+        module.fail_json(msg=message)
 
     # decouple from parent environment
     os.chdir("/")
@@ -190,8 +190,8 @@ def daemonize_self(module, password, port, minutes, pid_file):
             sys.exit(0)
     except OSError:
         e       = get_exception()
-        message = 'fork #2 failed: %d (%s)' % (e.errno, e.strerror)
-        module.fail_json(message)
+        log('fork #2 failed: %d (%s)' % (e.errno, e.strerror))
+        sys.exit(1)
 
     dev_null = file('/dev/null','rw')
     os.dup2(dev_null.fileno(), sys.stdin.fileno())
