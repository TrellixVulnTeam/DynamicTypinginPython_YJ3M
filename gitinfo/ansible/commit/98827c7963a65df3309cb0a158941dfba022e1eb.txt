commit 98827c7963a65df3309cb0a158941dfba022e1eb
Author: Alan Rominger <arominge@redhat.com>
Date:   Wed Aug 21 11:42:54 2019 -0400

    fix openstack bug with transforming group names (#53778)

diff --git a/lib/ansible/plugins/inventory/openstack.py b/lib/ansible/plugins/inventory/openstack.py
index 5de701c4ba..c7fb82327e 100644
--- a/lib/ansible/plugins/inventory/openstack.py
+++ b/lib/ansible/plugins/inventory/openstack.py
@@ -265,9 +265,9 @@ class InventoryModule(BaseInventoryPlugin, Constructable, Cacheable):
                 self._config_data.get('keyed_groups'), hostvars[host], host)
 
         for group_name, group_hosts in groups.items():
-            self.inventory.add_group(group_name)
+            gname = self.inventory.add_group(group_name)
             for host in group_hosts:
-                self.inventory.add_child(group_name, host)
+                self.inventory.add_child(gname, host)
 
     def _get_groups_from_server(self, server_vars, namegroup=True):
         groups = []
