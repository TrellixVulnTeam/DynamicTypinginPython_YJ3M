commit 422604fb3e19b6dc3dce8b943d1f5a3b937a3ac7
Author: Nilashish Chakraborty <nilashishchakraborty8@gmail.com>
Date:   Thu Jan 17 13:05:49 2019 +0530

    Fix malformed string error for hashed_password (#51007)
    
    * Fix malformed string error using ast
    
    Signed-off-by: NilashishC <nilashishchakraborty8@gmail.com>
    
    * Update doc for this option
    
    Signed-off-by: NilashishC <nilashishchakraborty8@gmail.com>
    
    * Revert "Update doc for this option"
    
    This reverts commit 3579d1912129ab14d5009785ba896de820063d46.
    
    * Revert type value
    
    Signed-off-by: NilashishC <nilashishchakraborty8@gmail.com>

diff --git a/lib/ansible/modules/network/ios/ios_user.py b/lib/ansible/modules/network/ios/ios_user.py
index 8d675ac8d5..9969dc5652 100644
--- a/lib/ansible/modules/network/ios/ios_user.py
+++ b/lib/ansible/modules/network/ios/ios_user.py
@@ -213,7 +213,6 @@ commands:
 from copy import deepcopy
 
 import re
-import ast
 import base64
 import hashlib
 
@@ -269,8 +268,8 @@ def map_obj_to_commands(updates, module):
         command.append('username %s %s' % (want['name'], x))
 
     def add_hashed_password(command, want, x):
-        command.append('username %s secret %s %s' % (want['name'], ast.literal_eval(x)['type'],
-                                                     ast.literal_eval(x)['value']))
+        command.append('username %s secret %s %s' % (want['name'], x.get('type'),
+                                                     x.get('value')))
 
     def add_ssh(command, want, x=None):
         command.append('ip ssh pubkey-chain')
