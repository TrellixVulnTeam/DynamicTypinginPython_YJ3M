commit a003de239dc520213da8699c313c14abe9bfd7aa
Author: rajaspachipulusu17 <rajas.pachipulusu@calsoftinc.com>
Date:   Tue Feb 12 13:43:22 2019 +0530

    Pluribus Networks old modules to be deprecated (#51686)
    
    * Pluribus Networks old modules to be deprecated
    
    * Dox fixes

diff --git a/lib/ansible/modules/network/netvisor/pn_cluster.py b/lib/ansible/modules/network/netvisor/_pn_cluster.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_cluster.py
rename to lib/ansible/modules/network/netvisor/_pn_cluster.py
index 8ffd1b2dd1..98edab1c62 100644
--- a/lib/ansible/modules/network/netvisor/pn_cluster.py
+++ b/lib/ansible/modules/network/netvisor/_pn_cluster.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_cluster
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to create/delete a cluster.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute cluster-create or cluster-delete command.
   - A cluster allows two switches to cooperate in high-availability (HA)
@@ -50,6 +54,7 @@ options:
     description:
       - Target switch to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - Specify action to perform. Use 'present' to create cluster and 'absent'
@@ -81,7 +86,7 @@ EXAMPLES = """
     pn_name: 'spine-cluster'
     pn_cluster_node1: 'spine01'
     pn_cluster_node2: 'spine02'
-    pn_validate: validate
+    pn_validate: True
     pn_quiet: True
 
 - name: delete spine cluster
diff --git a/lib/ansible/modules/network/netvisor/pn_ospf.py b/lib/ansible/modules/network/netvisor/_pn_ospf.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_ospf.py
rename to lib/ansible/modules/network/netvisor/_pn_ospf.py
index d06badf16f..df54982541 100644
--- a/lib/ansible/modules/network/netvisor/pn_ospf.py
+++ b/lib/ansible/modules/network/netvisor/_pn_ospf.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_ospf
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to add/remove ospf protocol to a vRouter.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-ospf-add, vrouter-ospf-remove command.
   - This command adds/removes Open Shortest Path First(OSPF) routing
@@ -46,6 +50,7 @@ options:
     description:
       - Target switch to run the CLI on.
     required: False
+    default: 'local'
   state:
     description:
       - Assert the state of the ospf. Use 'present' to add ospf
diff --git a/lib/ansible/modules/network/netvisor/pn_ospfarea.py b/lib/ansible/modules/network/netvisor/_pn_ospfarea.py
similarity index 96%
rename from lib/ansible/modules/network/netvisor/pn_ospfarea.py
rename to lib/ansible/modules/network/netvisor/_pn_ospfarea.py
index 8dd4ac8b13..85e4691cac 100644
--- a/lib/ansible/modules/network/netvisor/pn_ospfarea.py
+++ b/lib/ansible/modules/network/netvisor/_pn_ospfarea.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_ospfarea
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to add/remove ospf area to/from a vrouter.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-ospf-add, vrouter-ospf-remove command.
   - This command adds/removes Open Shortest Path First(OSPF) area to/from
@@ -74,8 +78,8 @@ options:
     description:
       - Enable/disable system information.
     required: false
-    default: true
     type: bool
+    default: true
 """
 
 EXAMPLES = """
diff --git a/lib/ansible/modules/network/netvisor/pn_show.py b/lib/ansible/modules/network/netvisor/_pn_show.py
similarity index 94%
rename from lib/ansible/modules/network/netvisor/pn_show.py
rename to lib/ansible/modules/network/netvisor/_pn_show.py
index db14c5ae36..b30839bb8f 100644
--- a/lib/ansible/modules/network/netvisor/pn_show.py
+++ b/lib/ansible/modules/network/netvisor/_pn_show.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_show
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: Run show commands on nvOS device.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute show command in the nodes and returns the results
     read from the device.
@@ -51,8 +55,9 @@ options:
     required: true
   pn_parameters:
     description:
-      - Display output using a specific parameter. Use 'all' to display possible
-        output. List of comma separated parameters.
+      - Display output using a specific parameter. Use 'all' to display
+        possible output. List of comma separated parameters.
+    default: 'all'
   pn_options:
     description:
       - Specify formatting options.
diff --git a/lib/ansible/modules/network/netvisor/pn_trunk.py b/lib/ansible/modules/network/netvisor/_pn_trunk.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_trunk.py
rename to lib/ansible/modules/network/netvisor/_pn_trunk.py
index 98e005a844..59c97c0867 100644
--- a/lib/ansible/modules/network/netvisor/pn_trunk.py
+++ b/lib/ansible/modules/network/netvisor/_pn_trunk.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_trunk
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to create/delete/modify a trunk.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute trunk-create or trunk-delete command.
   - Trunks can be used to aggregate network links at Layer 2 on the local
@@ -46,6 +50,7 @@ options:
     description:
       - Target switch(es) to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to create trunk,
@@ -70,6 +75,7 @@ options:
   pn_jumbo:
     description:
       - Specify if the port can receive jumbo frames.
+    type: bool
   pn_lacp_mode:
     description:
       - Specify the LACP mode for the configuration.
@@ -94,18 +100,22 @@ options:
   pn_edge_switch:
     description:
       - Specify if the switch is an edge switch.
+    type: bool
   pn_pause:
     description:
       - Specify if pause frames are sent.
+    type: bool
   pn_description:
     description:
       - Specify a description for the trunk configuration.
   pn_loopback:
     description:
       - Specify loopback if you want to use loopback.
+    type: bool
   pn_mirror_receive:
     description:
       - Specify if the configuration receives mirrored traffic.
+    type: bool
   pn_unknown_ucast_level:
     description:
       - Specify an unknown unicast level in percent. The default value is 100%.
@@ -124,9 +134,11 @@ options:
   pn_routing:
     description:
       - Specify if the port participates in routing on the network.
+    type: bool
   pn_host:
     description:
       - Host facing port control setting.
+    type: bool
 """
 
 EXAMPLES = """
@@ -294,7 +306,7 @@ def main():
             pn_lacp_mode=dict(type='str', choices=[
                               'off', 'passive', 'active']),
             pn_lacp_priority=dict(type='int'),
-            pn_lacp_timeout=dict(type='str'),
+            pn_lacp_timeout=dict(type='str', choices=['slow', 'fast']),
             pn_lacp_fallback=dict(type='str', choices=[
                                   'bundle', 'individual']),
             pn_lacp_fallback_timeout=dict(type='str'),
diff --git a/lib/ansible/modules/network/netvisor/pn_vlag.py b/lib/ansible/modules/network/netvisor/_pn_vlag.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_vlag.py
rename to lib/ansible/modules/network/netvisor/_pn_vlag.py
index 67b3ba24e0..3d25bc3bbd 100644
--- a/lib/ansible/modules/network/netvisor/pn_vlag.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vlag.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vlag
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to create/delete/modify vlag.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vlag-create/vlag-delete/vlag-modify command.
   - A virtual link aggregation group (VLAG) allows links that are physically
@@ -49,6 +53,7 @@ options:
   pn_cliswitch:
     description:
       - Target switch(es) to run this command on.
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to create vlag,
@@ -267,7 +272,7 @@ def main():
                               'off', 'passive', 'active']),
             pn_lacp_timeout=dict(type='str', choices=['slow', 'fast']),
             pn_lacp_fallback=dict(type='str', choices=[
-                                  'individual', 'bundled']),
+                                  'bundle', 'individual']),
             pn_lacp_fallback_timeout=dict(type='str')
         ),
         required_if=(
diff --git a/lib/ansible/modules/network/netvisor/pn_vlan.py b/lib/ansible/modules/network/netvisor/_pn_vlan.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_vlan.py
rename to lib/ansible/modules/network/netvisor/_pn_vlan.py
index 656015514a..e3073f07f7 100644
--- a/lib/ansible/modules/network/netvisor/pn_vlan.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vlan.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vlan
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to create/delete a VLAN.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vlan-create or vlan-delete command.
   - VLANs are used to isolate network traffic at Layer 2.The VLAN identifiers
@@ -47,6 +51,7 @@ options:
     description:
       - Target switch(es) to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to create vlan and
diff --git a/lib/ansible/modules/network/netvisor/pn_vrouter.py b/lib/ansible/modules/network/netvisor/_pn_vrouter.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_vrouter.py
rename to lib/ansible/modules/network/netvisor/_pn_vrouter.py
index 343e41d711..f2a4899e5c 100644
--- a/lib/ansible/modules/network/netvisor/pn_vrouter.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vrouter.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vrouter
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to create/delete/modify a vrouter.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-create, vrouter-delete, vrouter-modify command.
   - Each fabric, cluster, standalone switch, or virtual network (VNET) can
@@ -50,6 +54,7 @@ options:
     description:
       - Target switch(es) to run the CLI on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to create vrouter,
@@ -112,6 +117,9 @@ options:
     description:
       - Specify other OSPF options as a whitespaces separated string within
         single quotes ''.
+  pn_vrrp_track_port:
+    description:
+      - Specify list of ports and port ranges.
 """
 
 EXAMPLES = """
diff --git a/lib/ansible/modules/network/netvisor/pn_vrouterbgp.py b/lib/ansible/modules/network/netvisor/_pn_vrouterbgp.py
similarity index 98%
rename from lib/ansible/modules/network/netvisor/pn_vrouterbgp.py
rename to lib/ansible/modules/network/netvisor/_pn_vrouterbgp.py
index 9a3ff7942f..0716a0e439 100644
--- a/lib/ansible/modules/network/netvisor/pn_vrouterbgp.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vrouterbgp.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vrouterbgp
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to add/remove/modify vrouter-bgp.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-bgp-add, vrouter-bgp-remove, vrouter-bgp-modify command.
   - Each fabric, cluster, standalone switch, or virtual network (VNET) can
@@ -47,6 +51,7 @@ options:
     description:
       - Target switch(es) to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to add bgp,
diff --git a/lib/ansible/modules/network/netvisor/pn_vrouterif.py b/lib/ansible/modules/network/netvisor/_pn_vrouterif.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_vrouterif.py
rename to lib/ansible/modules/network/netvisor/_pn_vrouterif.py
index 7433f6f8ff..6735689f5a 100644
--- a/lib/ansible/modules/network/netvisor/pn_vrouterif.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vrouterif.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vrouterif
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to add/remove/modify vrouter-interface.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-interface-add, vrouter-interface-remove,
     vrouter-interface-modify command.
@@ -47,6 +51,7 @@ options:
     description:
       - Target switch to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to add vrouter interface,
@@ -85,6 +90,7 @@ options:
         specified when you configure the interface as span interface and allows
         higher throughput through the interface.
     type: bool
+    required: False
   pn_nic_enable:
     description:
       - Specify if the NIC is enabled or not
@@ -353,7 +359,7 @@ def main():
             pn_clipassword=dict(required=False, type='str', no_log=True),
             pn_cliswitch=dict(required=False, type='str', default='local'),
             state=dict(required=True, type='str',
-                       choices=['present', 'absent']),
+                       choices=['present', 'absent', 'update']),
             pn_vrouter_name=dict(required=True, type='str'),
             pn_vlan=dict(type='int'),
             pn_interface_ip=dict(required=True, type='str'),
diff --git a/lib/ansible/modules/network/netvisor/pn_vrouterlbif.py b/lib/ansible/modules/network/netvisor/_pn_vrouterlbif.py
similarity index 97%
rename from lib/ansible/modules/network/netvisor/pn_vrouterlbif.py
rename to lib/ansible/modules/network/netvisor/_pn_vrouterlbif.py
index d11c5981ad..7958a5fa5e 100644
--- a/lib/ansible/modules/network/netvisor/pn_vrouterlbif.py
+++ b/lib/ansible/modules/network/netvisor/_pn_vrouterlbif.py
@@ -19,7 +19,7 @@
 #
 
 ANSIBLE_METADATA = {'metadata_version': '1.1',
-                    'status': ['preview'],
+                    'status': ['deprecated'],
                     'supported_by': 'community'}
 
 
@@ -29,6 +29,10 @@ module: pn_vrouterlbif
 author: "Pluribus Networks (@amitsi)"
 version_added: "2.2"
 short_description: CLI command to add/remove vrouter-loopback-interface.
+deprecated:
+  removed_in: '2.12'
+  why: Doesn't support latest Pluribus Networks netvisor
+  alternative: Latest modules will be pushed in Ansible future versions.
 description:
   - Execute vrouter-loopback-interface-add, vrouter-loopback-interface-remove
     commands.
@@ -48,6 +52,7 @@ options:
     description:
       - Target switch(es) to run the cli on.
     required: False
+    default: 'local'
   state:
     description:
       - State the action to perform. Use 'present' to add vrouter loopback
