commit 2198f48f549a236e0b869e44d0335de849d89773
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Aug 18 03:46:20 2015 -0400

    changed check to avoid OS X broken sem_getvalue()
    fixes #11988

diff --git a/lib/ansible/executor/process/result.py b/lib/ansible/executor/process/result.py
index 75d6da376a..c7027412ff 100644
--- a/lib/ansible/executor/process/result.py
+++ b/lib/ansible/executor/process/result.py
@@ -72,7 +72,7 @@ class ResultProcess(multiprocessing.Process):
                 self._cur_worker = 0
 
             try:
-                if rslt_q.qsize() > 0:
+                if not rslt_q.empty():
                     debug("worker %d has data to read" % self._cur_worker)
                     result = rslt_q.get()
                     debug("got a result from worker %d: %s" % (self._cur_worker, result))
