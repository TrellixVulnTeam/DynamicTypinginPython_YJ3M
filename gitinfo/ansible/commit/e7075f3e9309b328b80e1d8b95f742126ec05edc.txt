commit e7075f3e9309b328b80e1d8b95f742126ec05edc
Author: nitzmahone <mdavis@ansible.com>
Date:   Tue Jun 14 11:32:52 2016 -0700

    rename ansible_winrm_certificate_expires fact to avoid collision with connection vars

diff --git a/lib/ansible/modules/windows/setup.ps1 b/lib/ansible/modules/windows/setup.ps1
index 1f1c4a3b07..0d6dcf0812 100644
--- a/lib/ansible/modules/windows/setup.ps1
+++ b/lib/ansible/modules/windows/setup.ps1
@@ -150,7 +150,8 @@ $winrm_cert_expiry = Get-ChildItem -Path Cert:\LocalMachine\My | where Thumbprin
 
 if ($winrm_cert_expiry)
 {
-    Set-Attr $result.ansible_facts "ansible_winrm_certificate_expires" $winrm_cert_expiry.NotAfter.ToString("yyyy-MM-dd HH:mm:ss")
+    # this fact was renamed from ansible_winrm_certificate_expires due to collision with ansible_winrm_X connection var pattern
+    Set-Attr $result.ansible_facts "ansible_win_rm_certificate_expires" $winrm_cert_expiry.NotAfter.ToString("yyyy-MM-dd HH:mm:ss")
 }
 
 $PendingReboot = Get-PendingRebootStatus
