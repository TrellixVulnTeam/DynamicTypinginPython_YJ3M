commit 1db563e06458c9caf730a0997264b90daf2228c0
Author: Serge van Ginderachter <serge@vanginderachter.be>
Date:   Sun Oct 28 12:02:35 2012 +0100

    Add domainname to ansible facts

diff --git a/library/setup b/library/setup
index 8120667bb7..decc13cc43 100755
--- a/library/setup
+++ b/library/setup
@@ -107,6 +107,7 @@ class Facts(object):
         self.facts['python_version'] = platform.python_version()
         self.facts['fqdn'] = socket.getfqdn()
         self.facts['hostname'] = self.facts['fqdn'].split('.')[0]
+        self.facts['domainname'] = '.'.join(self.facts['fqdn'].split('.')[1:])
         if self.facts['machine'] == 'x86_64':
             self.facts['architecture'] = self.facts['machine']
         elif Facts._I386RE.search(self.facts['machine']):
