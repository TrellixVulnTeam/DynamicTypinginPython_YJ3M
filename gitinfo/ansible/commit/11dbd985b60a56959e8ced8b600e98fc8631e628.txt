commit 11dbd985b60a56959e8ced8b600e98fc8631e628
Author: fperks <fperks@solinkcorp.com>
Date:   Tue Oct 6 09:57:47 2015 -0400

    Fix error on ec2 status change
    
    Both `source_dest_check` and `termination_protection` variables are not
    available within the scope of the startstopec2 instance method. This just
    pulls them from module.params.

diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index ed9e76f0cb..2d1c1fc61b 100755
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -1225,6 +1225,8 @@ def startstop_instances(module, ec2, instance_ids, state, instance_tags):
     wait_timeout = int(module.params.get('wait_timeout'))
     changed = False
     instance_dict_array = []
+    source_dest_check = module.params.get('source_dest_check')
+    termination_protection = module.params.get('termination_protection')
 
     if not isinstance(instance_ids, list) or len(instance_ids) < 1:
         # Fail unless the user defined instance tags
