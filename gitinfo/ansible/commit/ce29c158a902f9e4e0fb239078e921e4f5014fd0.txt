commit ce29c158a902f9e4e0fb239078e921e4f5014fd0
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Nov 6 18:11:22 2013 -0500

    Address #4573 Check interface keys and return gracefully on solaris zones

diff --git a/library/system/setup b/library/system/setup
index 1813c60ee9..c546a9ff4b 100755
--- a/library/system/setup
+++ b/library/system/setup
@@ -1732,6 +1732,8 @@ class GenericBsdIfconfigNetwork(Network):
     def merge_default_interface(self, defaults, interfaces, ip_type):
         if not 'interface' in defaults.keys():
             return
+        if not defaults['interface'] in interfaces:
+            return
         ifinfo = interfaces[defaults['interface']]
         # copy all the interface values across except addresses
         for item in ifinfo.keys():
