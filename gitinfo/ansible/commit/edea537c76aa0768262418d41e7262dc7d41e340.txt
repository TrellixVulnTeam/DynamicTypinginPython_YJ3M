commit edea537c76aa0768262418d41e7262dc7d41e340
Author: Nico Cesar <ncesar@dataxu.com>
Date:   Tue Aug 5 10:56:20 2014 -0400

    if python >=2.7  use the option allow_no_value=True for ini_file.

diff --git a/library/files/ini_file b/library/files/ini_file
index 29abe51065..83a980f5ba 100644
--- a/library/files/ini_file
+++ b/library/files/ini_file
@@ -87,6 +87,7 @@ EXAMPLES = '''
 '''
 
 import ConfigParser
+import sys
 
 # ==============================================================
 # do_ini
@@ -94,7 +95,10 @@ import ConfigParser
 def do_ini(module, filename, section=None, option=None, value=None, state='present', backup=False):
 
     changed = False
-    cp = ConfigParser.ConfigParser()
+    if (sys.version_info[0] == 2 and sys.version_info[1] >= 7) or sys.version_info[0] >= 3: 
+    	cp = ConfigParser.ConfigParser(allow_no_value=True)
+    else:
+    	cp = ConfigParser.ConfigParser()
     cp.optionxform = identity
 
     try:
