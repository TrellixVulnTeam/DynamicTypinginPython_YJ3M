commit af5fba759f497997184de45c2f609f775c45305d
Author: Nathaniel Case <ncase@redhat.com>
Date:   Thu Jul 7 16:06:31 2016 -0400

    EOS new ModuleStub
    
    As per #16575

diff --git a/lib/ansible/module_utils/eos.py b/lib/ansible/module_utils/eos.py
index 39771d0f9c..74e43acf23 100644
--- a/lib/ansible/module_utils/eos.py
+++ b/lib/ansible/module_utils/eos.py
@@ -19,9 +19,9 @@
 
 import re
 
-from ansible.module_utils.basic import json, get_exception, AnsibleModule
-from ansible.module_utils.network import Command, NetCli, NetworkError, get_module
-from ansible.module_utils.network import add_argument, register_transport, to_list
+from ansible.module_utils.basic import json, get_exception
+from ansible.module_utils.network import Command, ModuleStub, NetCli, NetworkError
+from ansible.module_utils.network import add_argument, get_module, register_transport, to_list
 from ansible.module_utils.netcfg import NetworkConfig
 from ansible.module_utils.urls import fetch_url, url_argument_spec
 
@@ -200,8 +200,7 @@ class Eapi(EosConfigMixin):
 
     def __init__(self):
         self.url = None
-        self.url_args = AnsibleModule(url_argument_spec())
-        self.url_args.fail_json = self._error
+        self.url_args = ModuleStub(url_argument_spec(), self._error)
         self.enable = None
         self.default_output = 'json'
         self._connected = False
