commit aeccbeeed2c3328ea991dca8405840f4fc706ed0
Author: James Tanner <tanner.jc@gmail.com>
Date:   Thu Feb 27 13:42:05 2014 -0500

    add failsafe comment for install_repoquery

diff --git a/library/packaging/yum b/library/packaging/yum
index 211ae7cf8a..61bb836b43 100644
--- a/library/packaging/yum
+++ b/library/packaging/yum
@@ -801,6 +801,7 @@ def main():
             list=dict(),
             conf_file=dict(default=None),
             disable_gpg_check=dict(required=False, default="no", type='bool'),
+            # this should not be needed, but exists as a failsafe
             install_repoquery=dict(required=False, default="yes", type='bool'),
         ),
         required_one_of = [['name','list']],
@@ -808,9 +809,9 @@ def main():
         supports_check_mode = True
     )
 
+    # this should not be needed, but exists as a failsafe
     params = module.params
-
-    if params.install_repoquery and not repoquery and not module.check_mode:
+    if params['install_repoquery'] and not repoquery and not module.check_mode:
         install_yum_utils(module)
 
     if params['list']:
