commit e2b2ba6bc71cba32929a910076c17c05ec0b0b7c
Author: flowerysong <junk+github@flowerysong.com>
Date:   Wed Aug 9 10:53:30 2017 -0400

    hashi_vault: fix token logic again (#27863)
    
    The token is not mandatory, and there are more ways of setting it than
    passing it in as a module arg.

diff --git a/lib/ansible/plugins/lookup/hashi_vault.py b/lib/ansible/plugins/lookup/hashi_vault.py
index 1ff3f1f1c8..ad2c3198e8 100644
--- a/lib/ansible/plugins/lookup/hashi_vault.py
+++ b/lib/ansible/plugins/lookup/hashi_vault.py
@@ -68,10 +68,6 @@ class HashiVault:
 
         self.url = kwargs.get('url', ANSIBLE_HASHI_VAULT_ADDR)
 
-        self.token = kwargs.get('token')
-        if self.token is None:
-            raise AnsibleError("No Hashicorp Vault Token specified for hash_vault lookup")
-
         # split secret arg, which has format 'secret/hello:value' into secret='secret/hello' and secret_field='value'
         s = kwargs.get('secret')
         if s is None:
