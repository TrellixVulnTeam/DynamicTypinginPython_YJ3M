commit 10b6038e21b6d78dda736db644643520d5398b77
Author: Lénaïc Huard <L3n41c@users.noreply.github.com>
Date:   Mon Dec 23 09:53:46 2019 +0100

    Fix pacman stdout parsing in the Ansible module (#65238)
    
    pacman output is localized and the Ansible module is parsing its output.
    So, we need to force the locale.
    Add changelog fragment
    
    Fixes #65237

diff --git a/changelogs/fragments/65238-fix_pacman_stdout_parsing.yml b/changelogs/fragments/65238-fix_pacman_stdout_parsing.yml
new file mode 100644
index 0000000000..8c4efa0828
--- /dev/null
+++ b/changelogs/fragments/65238-fix_pacman_stdout_parsing.yml
@@ -0,0 +1,2 @@
+bugfixes:
+  - pacman - Fix pacman output parsing on localized environment. (https://github.com/ansible/ansible/issues/65237)
diff --git a/lib/ansible/modules/packaging/os/pacman.py b/lib/ansible/modules/packaging/os/pacman.py
index 1672598bd0..dded7bd514 100644
--- a/lib/ansible/modules/packaging/os/pacman.py
+++ b/lib/ansible/modules/packaging/os/pacman.py
@@ -433,6 +433,7 @@ def main():
     )
 
     pacman_path = module.get_bin_path('pacman', True)
+    module.run_command_environ_update = dict(LC_ALL='C')
 
     p = module.params
 
