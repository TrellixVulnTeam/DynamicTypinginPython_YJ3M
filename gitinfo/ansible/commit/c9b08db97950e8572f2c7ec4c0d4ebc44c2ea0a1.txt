commit c9b08db97950e8572f2c7ec4c0d4ebc44c2ea0a1
Author: Felix Fontein <felix@fontein.de>
Date:   Wed Feb 6 06:45:35 2019 +0100

    acme_challenge_cert_helper: fix bad module.fail_json() call (#51795)
    
    * Fix bad module.fail_json() call.
    
    * Add changelog.

diff --git a/changelogs/fragments/51795-acme_challenge_cert_helper-module-fail.yaml b/changelogs/fragments/51795-acme_challenge_cert_helper-module-fail.yaml
new file mode 100644
index 0000000000..e09ff0f3e7
--- /dev/null
+++ b/changelogs/fragments/51795-acme_challenge_cert_helper-module-fail.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+- "acme_challenge_cert_helper - the module no longer crashes when the required ``cryptography`` library cannot be found."
diff --git a/lib/ansible/modules/crypto/acme/acme_challenge_cert_helper.py b/lib/ansible/modules/crypto/acme/acme_challenge_cert_helper.py
index d843a40855..e249f6fc2e 100644
--- a/lib/ansible/modules/crypto/acme/acme_challenge_cert_helper.py
+++ b/lib/ansible/modules/crypto/acme/acme_challenge_cert_helper.py
@@ -179,7 +179,7 @@ def main():
         ),
     )
     if not HAS_CRYPTOGRAPHY:
-        module.fail(msg='cryptography >= 1.3 is required for this module.')
+        module.fail_json(msg='cryptography >= 1.3 is required for this module.')
 
     try:
         # Get parameters
