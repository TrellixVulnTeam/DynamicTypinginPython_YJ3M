commit 7fb1a71a2c04394e4f8ed425af918f4d24a98c2d
Author: Dag Wieers <dag@wieers.com>
Date:   Tue Dec 18 20:33:18 2018 +0100

    no-smart-quotes: Skip files by path in code-smell (#45881)
    
    * no-smart-quotes: Skip files by path in code-smell
    
    This is to ensure the generated docs do not trigger code-smell issues on
    contributor systems.
    
    * Implement feedback from review

diff --git a/test/sanity/code-smell/no-smart-quotes.py b/test/sanity/code-smell/no-smart-quotes.py
index 672fb35f96..7a78d49f00 100755
--- a/test/sanity/code-smell/no-smart-quotes.py
+++ b/test/sanity/code-smell/no-smart-quotes.py
@@ -8,19 +8,26 @@ import sys
 
 def main():
     skip = set([
-        'test/sanity/code-smell/%s' % os.path.basename(__file__),
         'docs/docsite/rst/dev_guide/testing/sanity/no-smart-quotes.rst',
-        'test/integration/targets/unicode/unicode.yml',
         'test/integration/targets/lookup_properties/lookup-8859-15.ini',
         'test/integration/targets/template/files/encoding_1252_utf-8.expected',
         'test/integration/targets/template/files/encoding_1252_windows-1252.expected',
         'test/integration/targets/template/templates/encoding_1252.j2',
+        'test/integration/targets/unicode/unicode.yml',
+        'test/sanity/code-smell/%s' % os.path.basename(__file__),
+    ])
+
+    prune = set([
+        'docs/docsite/_build/',
     ])
 
     for path in sys.argv[1:] or sys.stdin.read().splitlines():
         if path in skip:
             continue
 
+        if any(path.startswith(p) for p in prune):
+            continue
+
         with open(path, 'rb') as path_fd:
             for line, text in enumerate(path_fd.readlines()):
                 try:
