commit 29202454c61a10dadae505c729d674b25e553945
Author: Marius Gedminas <marius@gedmin.as>
Date:   Mon Oct 12 09:21:24 2015 +0300

    Run Travis integration tests with the right Python version

diff --git a/.travis.yml b/.travis.yml
index d030e014f8..0c3e686b3f 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,18 +1,22 @@
 sudo: false
 language: python
-env:
-  - TOKENV=py24
-  - TOXENV=py26
-  - TOXENV=py27
-  - TOXENV=py34
-  - TOXENV=py35
+matrix:
+  include:
+    - env: TOKENV=py24 INTEGRATION=no
+    - env: TOXENV=py26 INTEGRATION=yes
+      python: 2.6
+    - env: TOXENV=py27 INTEGRATION=yes
+      python: 2.7
+    - env: TOXENV=py34 INTEGRATION=no
+      python: 3.4
+    - env: TOXENV=py35 INTEGRATION=no
+      python: 3.5
 addons:
   apt:
     sources:
       - deadsnakes
     packages:
       - python2.4
-      - python3.5-dev
 install:
   - pip install tox PyYAML Jinja2 sphinx
 script:
@@ -21,6 +25,6 @@ script:
 - if test x"$TOKENV" != x'py24' ; then  tox ; fi
 - if test x"$TOKENV" = x'py24' ; then python2.4 -V && python2.4 -m compileall -fq -x 'module_utils/(a10|rax|openstack|ec2|gce).py' lib/ansible/module_utils ; fi
   #- make -C docsite all
-- source ./hacking/env-setup && cd test/integration/ && make test_var_precedence
+- if test x"$INTEGRATION" = x'yes' ; then source ./hacking/env-setup && cd test/integration/ && make test_var_precedence ; fi
 after_success:
   - coveralls
