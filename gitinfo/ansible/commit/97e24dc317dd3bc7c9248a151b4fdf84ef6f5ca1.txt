commit 97e24dc317dd3bc7c9248a151b4fdf84ef6f5ca1
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Sat Jun 17 15:48:30 2017 -0400

    fixes issue with SIGALARM call in network_cli (#25832)
    
    The alarm_handler method was calling a method close_shell() that doesn't
    exist.  This updates the alarm handler to call the current method
    close()

diff --git a/lib/ansible/plugins/connection/network_cli.py b/lib/ansible/plugins/connection/network_cli.py
index 6814272fc2..0945a31e91 100644
--- a/lib/ansible/plugins/connection/network_cli.py
+++ b/lib/ansible/plugins/connection/network_cli.py
@@ -242,7 +242,7 @@ class Connection(Rpc, _Connection):
     def alarm_handler(self, signum, frame):
         """Alarm handler raised in case of command timeout """
         display.display('closing shell due to sigalarm', log_only=True)
-        self.close_shell()
+        self.close()
 
     def exec_command(self, cmd):
         """Executes the cmd on in the shell and returns the output
