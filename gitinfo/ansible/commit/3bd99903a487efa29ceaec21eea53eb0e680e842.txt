commit 3bd99903a487efa29ceaec21eea53eb0e680e842
Author: James Tanner <tanner.jc@gmail.com>
Date:   Fri Jan 17 11:30:07 2014 -0500

    Fixes #5661 Handle null values for sysctl parameters

diff --git a/library/system/sysctl b/library/system/sysctl
index 407d36286d..59b92eb6f4 100644
--- a/library/system/sysctl
+++ b/library/system/sysctl
@@ -120,7 +120,10 @@ class SysctlModule(object):
 
         # Whitespace is bad
         self.args['name'] = self.args['name'].strip()
-        self.args['value'] = self.args['value'].strip()
+        if self.args['value'] is not None:
+            self.args['value'] = self.args['value'].strip()
+        else:
+            self.args['value'] = ""
 
         thisname = self.args['name']
 
@@ -169,7 +172,7 @@ class SysctlModule(object):
         if rc != 0:
             return None
         else:
-            return shlex.split(out)[-1]
+            return out
 
     # Use the sysctl command to set the current value
     def set_token_value(self, token, value):
