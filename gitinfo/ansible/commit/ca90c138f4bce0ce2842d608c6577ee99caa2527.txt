commit ca90c138f4bce0ce2842d608c6577ee99caa2527
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Dec 19 07:19:31 2018 -0800

    Reap still running threads after timeout
    
    This is an improvement to #49921 which reaps threads after the timeout
    expires instead of letting them continue to take up resources.

diff --git a/lib/ansible/module_utils/facts/timeout.py b/lib/ansible/module_utils/facts/timeout.py
index 934e7aff68..ebb71cc698 100644
--- a/lib/ansible/module_utils/facts/timeout.py
+++ b/lib/ansible/module_utils/facts/timeout.py
@@ -50,6 +50,8 @@ def timeout(seconds=None, error_message="Timer expired"):
             except multiprocessing.TimeoutError:
                 # This is an ansible.module_utils.common.facts.timeout.TimeoutError
                 raise TimeoutError('Timer expired after %s seconds' % timeout_value)
+            finally:
+                pool.terminate()
 
         return wrapper
 
