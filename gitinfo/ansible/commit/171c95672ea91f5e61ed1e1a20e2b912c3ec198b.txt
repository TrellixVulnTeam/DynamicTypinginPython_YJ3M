commit 171c95672ea91f5e61ed1e1a20e2b912c3ec198b
Author: Brian Coca <bcoca@ansible.com>
Date:   Sun Jul 19 23:16:54 2015 -0400

    fixed gathering expression as it was triggering when gather_facts was no

diff --git a/lib/ansible/executor/play_iterator.py b/lib/ansible/executor/play_iterator.py
index 8deeac8b4d..c886b46f2a 100644
--- a/lib/ansible/executor/play_iterator.py
+++ b/lib/ansible/executor/play_iterator.py
@@ -139,10 +139,11 @@ class PlayIterator:
             # NOT explicitly set gather_facts to False.
 
             gathering = C.DEFAULT_GATHERING
-            if ((gathering == 'smart' and not host._gathered_facts) or
-                (gathering == 'explicit' and boolean(self._play.gather_facts)) or
-                (gathering == 'implicit' and
-                    (self._play.gather_facts is None or boolean(self._play.gather_facts)))):
+            implied = self._play.gather_facts is None or boolean(self._play.gather_facts)
+
+            if (gathering == 'implicit' and implied) or \
+               (gathering == 'explicit' and boolean(self._play.gather_facts)) or \
+               (gathering == 'smart' and implied and not host._gathered_facts):
                 if not peek:
                     # mark the host as having gathered facts
                     host.set_gathered_facts(True)
