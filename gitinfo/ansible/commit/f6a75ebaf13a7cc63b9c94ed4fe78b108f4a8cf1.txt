commit f6a75ebaf13a7cc63b9c94ed4fe78b108f4a8cf1
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Mar 18 22:29:22 2014 -0400

    fixed issue with directory permissions on copy #6552

diff --git a/library/files/file b/library/files/file
index 176bd41698..b1c57ff4d9 100644
--- a/library/files/file
+++ b/library/files/file
@@ -203,7 +203,7 @@ def main():
         src = os.path.expanduser(src)
 
         # original_basename is used by other modules that depend on file.
-        if os.path.isdir(path) and state not in ["link", "absent", "directory"]:
+        if os.path.isdir(path) and state not in ["link", "absent"]:
             if params['original_basename']:
                 basename = params['original_basename']
             else:
