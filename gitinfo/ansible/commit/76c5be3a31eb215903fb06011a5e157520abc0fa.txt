commit 76c5be3a31eb215903fb06011a5e157520abc0fa
Author: James Cammarata <jimi@sngx.net>
Date:   Sat Jul 4 21:28:11 2015 -0400

    Add 'vars' to magic variables

diff --git a/lib/ansible/vars/__init__.py b/lib/ansible/vars/__init__.py
index 6531b6a320..7b0b51b35d 100644
--- a/lib/ansible/vars/__init__.py
+++ b/lib/ansible/vars/__init__.py
@@ -243,6 +243,7 @@ class VariableManager:
 
         # the 'omit' value alows params to be left out if the variable they are based on is undefined
         all_vars['omit'] = self._omit_token
+        all_vars['vars'] = all_vars
 
         #CACHED_VARS[cache_entry] = all_vars
 
