commit 0d143ed7f63f28fafaf6f2d6f46fa20bbb7e4fb7
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Thu Sep 20 15:04:30 2018 -0400

    Clean up after ansible-connection if failure occurred in start() (#45929)

diff --git a/bin/ansible-connection b/bin/ansible-connection
index 09656a5541..ac378a4d87 100755
--- a/bin/ansible-connection
+++ b/bin/ansible-connection
@@ -271,6 +271,8 @@ def main():
 
                     if rc == 0:
                         process.run()
+                    else:
+                        process.shutdown()
 
                     sys.exit(rc)
 
