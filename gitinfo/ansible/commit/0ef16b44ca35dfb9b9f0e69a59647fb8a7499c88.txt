commit 0ef16b44ca35dfb9b9f0e69a59647fb8a7499c88
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Mon Sep 26 22:43:05 2016 -0400

    fixes exception being raised when show configuration command issued (#5047)
    
    The junos_command expects commands to be returned as xml by default but
    `show configuration [options]` will return text not xml.  This fix
    will set the output format for any command that starts with `show
    configuration` to text
    
    fixes #4628

diff --git a/lib/ansible/modules/network/junos/junos_command.py b/lib/ansible/modules/network/junos/junos_command.py
index fd81285824..faf6a4772e 100644
--- a/lib/ansible/modules/network/junos/junos_command.py
+++ b/lib/ansible/modules/network/junos/junos_command.py
@@ -205,6 +205,10 @@ def parse(module, command_type):
 
         item['command_type'] = command_type
 
+        # show configuration [options] will return as text
+        if item['command'].startswith('show configuration'):
+            item['output'] = 'text'
+
         parsed.append(item)
 
     return parsed
