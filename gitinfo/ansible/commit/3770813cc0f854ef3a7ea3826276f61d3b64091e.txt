commit 3770813cc0f854ef3a7ea3826276f61d3b64091e
Author: Norman J. Harman Jr <njharman@gmail.com>
Date:   Thu Jun 19 17:38:34 2014 -0500

    lineinfile supports symlinks.

diff --git a/library/files/lineinfile b/library/files/lineinfile
index 3f81d04895..457435bc98 100644
--- a/library/files/lineinfile
+++ b/library/files/lineinfile
@@ -163,7 +163,7 @@ def write_changes(module,lines,dest):
             module.fail_json(msg='failed to validate: '
                                  'rc:%s error:%s' % (rc,err))
     if valid:
-        module.atomic_move(tmpfile, dest)
+        module.atomic_move(tmpfile, os.path.realpath(dest))
 
 def check_file_attrs(module, changed, message):
 
