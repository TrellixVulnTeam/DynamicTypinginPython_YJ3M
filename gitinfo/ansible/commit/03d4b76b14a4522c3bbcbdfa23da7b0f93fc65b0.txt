commit 03d4b76b14a4522c3bbcbdfa23da7b0f93fc65b0
Author: Patrik Lundin <patrik.lundin.swe@gmail.com>
Date:   Thu Aug 28 16:33:39 2014 +0200

    Check rc and print error message if any.
    
    It is probably good to use stdout before printing a generic error
    message as well.

diff --git a/lib/ansible/modules/system/service.py b/lib/ansible/modules/system/service.py
index 7739fc8b00..90363222ba 100644
--- a/lib/ansible/modules/system/service.py
+++ b/lib/ansible/modules/system/service.py
@@ -1035,8 +1035,16 @@ class OpenBsdService(Service):
         if self.module.check_mode:
             self.module.exit_json(changed=True, msg="changing service enablement")
 
-        # XXX check rc ?
         rc, stdout, stderr = self.execute_command("%s %s" % (self.enable_cmd, action))
+
+        if rc != 0:
+            if stderr:
+                self.module.fail_json(msg=stderr)
+            elif stdout:
+                self.module.fail_json(msg=stdout)
+            else:
+                self.module.fail_json(msg="rcctl failed to modify service enablement")
+
         self.changed = True
 
 # ===========================================
