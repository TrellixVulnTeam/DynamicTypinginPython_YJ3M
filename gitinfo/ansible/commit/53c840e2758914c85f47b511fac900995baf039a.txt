commit 53c840e2758914c85f47b511fac900995baf039a
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Jun 29 12:42:50 2015 -0700

    Add testing of docs to the core repo

diff --git a/lib/ansible/modules/test-docs.sh b/lib/ansible/modules/test-docs.sh
new file mode 100755
index 0000000000..76297fbada
--- /dev/null
+++ b/lib/ansible/modules/test-docs.sh
@@ -0,0 +1,21 @@
+#!/bin/sh
+set -x
+
+CHECKOUT_DIR=".ansible-checkout"
+MOD_REPO="$1"
+
+# Hidden file to avoid the module_formatter recursing into the checkout
+git clone https://github.com/ansible/ansible "$CHECKOUT_DIR"
+cd "$CHECKOUT_DIR"
+git submodule update --init
+rm -rf "lib/ansible/modules/$MOD_REPO"
+ln -s "$TRAVIS_BUILD_DIR/" "lib/ansible/modules/$MOD_REPO"
+
+pip install -U Jinja2 PyYAML setuptools six pycrypto sphinx
+
+. ./hacking/env-setup
+PAGER=/bin/cat bin/ansible-doc -l
+if [ $? -ne 0 ] ; then
+  exit $?
+fi
+make -C docsite
