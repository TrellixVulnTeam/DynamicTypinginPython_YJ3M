commit 78d1e2483ad70207cab6e4eb040af6835af1bd9b
Author: milan <mkovacik@redhat.com>
Date:   Wed Mar 6 09:34:29 2013 +0100

    avoid the instance start--state-fetch race

diff --git a/library/ec2 b/library/ec2
index 2a239cc2ba..54f131a3b9 100644
--- a/library/ec2
+++ b/library/ec2
@@ -231,6 +231,9 @@ def main():
     res_list = res.connection.get_all_instances(instids)
     this_res = res_list[0]
     if wait:
+        # there's a race between start and get an instance state
+        import time
+        time.sleep(5)
         # wait here until the instances are up
         num_running = 0
         while num_running != len(instids):
