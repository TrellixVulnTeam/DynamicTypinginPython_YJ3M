commit 3874e653c104f5e8bdbf28bc8e80c48470e8038e
Author: Matt Clay <matt@mystile.com>
Date:   Wed Sep 21 15:12:26 2016 -0700

    Remove tests for deprecated su and sudo. (#17697)

diff --git a/test/integration/destructive.yml b/test/integration/destructive.yml
index efc91b7d11..9097df203d 100644
--- a/test/integration/destructive.yml
+++ b/test/integration/destructive.yml
@@ -2,8 +2,6 @@
   gather_facts: True
   roles:
     # In destructive because it creates and removes a user
-    - { role: test_sudo, tags: test_sudo}
-    #- { role: test_su, tags: test_su} # wait till su support is added to local connection, needs tty
     - { role: test_become, tags: test_become}
     - { role: test_service, tags: test_service }
     # Current pip unconditionally uses md5.  We can re-enable if pip switches
diff --git a/test/integration/roles/test_su/files/baz.txt b/test/integration/roles/test_su/files/baz.txt
deleted file mode 100644
index 7e677748a2..0000000000
--- a/test/integration/roles/test_su/files/baz.txt
+++ /dev/null
@@ -1 +0,0 @@
-testing tilde expansion with su
diff --git a/test/integration/roles/test_su/tasks/main.yml b/test/integration/roles/test_su/tasks/main.yml
deleted file mode 100644
index 65e9b2306f..0000000000
--- a/test/integration/roles/test_su/tasks/main.yml
+++ /dev/null
@@ -1,75 +0,0 @@
-- include_vars: default.yml
-
-- name: Create test user
-  su: True
-  user:
-    name: "{{ su_test_user }}"
-
-- name: test becoming user
-  shell: whoami
-  su: True
-  su_user: "{{ su_test_user }}"
-  register: results
-
-- assert:
-    that:
-      - "results.stdout == '{{ su_test_user }}'"
-
-- name: tilde expansion honors su in file
-  su: True
-  su_user: "{{ su_test_user }}"
-  file:
-    path: "~/foo.txt"
-    state: touch
-
-- name: check that the path in the user's home dir was created
-  stat:
-    path: "~{{ su_test_user }}/foo.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ su_test_user }}'"
-
-- name: tilde expansion honors su in template
-  su: True
-  su_user: "{{ su_test_user }}"
-  template:
-    src: "bar.j2"
-    dest: "~/bar.txt"
-
-- name: check that the path in the user's home dir was created
-  stat:
-    path: "~{{ su_test_user }}/bar.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ su_test_user }}'"
-
-- name: tilde expansion honors su in copy
-  su: True
-  su_user: "{{ su_test_user }}"
-  copy:
-    src: baz.txt
-    dest: "~/baz.txt"
-
-- name: check that the path in the user's home dir was created
-  stat:
-    path: "~{{ su_test_user }}/baz.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ su_test_user }}'"
-
-- name: Remove test user and their home dir
-  su: True
-  user:
-    name: "{{ su_test_user }}"
-    state: "absent"
-    remove: "yes"
-
diff --git a/test/integration/roles/test_su/templates/bar.j2 b/test/integration/roles/test_su/templates/bar.j2
deleted file mode 100644
index 0f420227e0..0000000000
--- a/test/integration/roles/test_su/templates/bar.j2
+++ /dev/null
@@ -1 +0,0 @@
-{{ su_test_user }}
diff --git a/test/integration/roles/test_su/vars/default.yml b/test/integration/roles/test_su/vars/default.yml
deleted file mode 100644
index bb0da6b25d..0000000000
--- a/test/integration/roles/test_su/vars/default.yml
+++ /dev/null
@@ -1 +0,0 @@
-su_test_user: ansibletest1
diff --git a/test/integration/roles/test_sudo/files/baz.txt b/test/integration/roles/test_sudo/files/baz.txt
deleted file mode 100644
index a69dd57604..0000000000
--- a/test/integration/roles/test_sudo/files/baz.txt
+++ /dev/null
@@ -1 +0,0 @@
-testing tilde expansion with sudo
diff --git a/test/integration/roles/test_sudo/tasks/main.yml b/test/integration/roles/test_sudo/tasks/main.yml
deleted file mode 100644
index f77c218d5e..0000000000
--- a/test/integration/roles/test_sudo/tasks/main.yml
+++ /dev/null
@@ -1,81 +0,0 @@
-- include_vars: default.yml
-
-- name: Create test user
-  sudo: true
-  user:
-    name: "{{ sudo_test_user }}"
-
-- name: test becoming user
-  shell: whoami
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  register: results
-
-- assert:
-    that:
-      - "results.stdout == '{{ sudo_test_user }}'"
-
-- name: tilde expansion honors sudo in file
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  file:
-    path: "~/foo.txt"
-    state: touch
-
-- name: check that the path in the user's home dir was created
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  stat:
-    path: "~{{ sudo_test_user }}/foo.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ sudo_test_user }}'"
-
-- name: tilde expansion honors sudo in template
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  template:
-    src: "bar.j2"
-    dest: "~/bar.txt"
-
-- name: check that the path in the user's home dir was created
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  stat:
-    path: "~{{ sudo_test_user }}/bar.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ sudo_test_user }}'"
-
-- name: tilde expansion honors sudo in copy
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  copy:
-    src: baz.txt
-    dest: "~/baz.txt"
-
-- name: check that the path in the user's home dir was created
-  sudo: True
-  sudo_user: "{{ sudo_test_user }}"
-  stat:
-    path: "~{{ sudo_test_user }}/baz.txt"
-  register: results
-
-- assert:
-    that:
-      - "results.stat.exists == True"
-      - "results.stat.path|dirname|basename == '{{ sudo_test_user }}'"
-
-- name: Remove test user and their home dir
-  sudo: true
-  user:
-    name: "{{ sudo_test_user }}"
-    state: "absent"
-    remove: "yes"
-
diff --git a/test/integration/roles/test_sudo/templates/bar.j2 b/test/integration/roles/test_sudo/templates/bar.j2
deleted file mode 100644
index 6f184d1814..0000000000
--- a/test/integration/roles/test_sudo/templates/bar.j2
+++ /dev/null
@@ -1 +0,0 @@
-{{ sudo_test_user }}
diff --git a/test/integration/roles/test_sudo/vars/default.yml b/test/integration/roles/test_sudo/vars/default.yml
deleted file mode 100644
index f2f7b728b2..0000000000
--- a/test/integration/roles/test_sudo/vars/default.yml
+++ /dev/null
@@ -1 +0,0 @@
-sudo_test_user: ansibletest1
