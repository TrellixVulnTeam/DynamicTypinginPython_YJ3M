commit 34e20192516a65836781985578aba28ffbc48b11
Author: Sloane Hertel <shertel@redhat.com>
Date:   Fri Oct 13 13:57:40 2017 -0400

    [cloud] Require src parameter when aws_s3 is used with mode 'put' (#31657)

diff --git a/lib/ansible/modules/cloud/amazon/aws_s3.py b/lib/ansible/modules/cloud/amazon/aws_s3.py
index db2c7450a8..2ed2002ee9 100644
--- a/lib/ansible/modules/cloud/amazon/aws_s3.py
+++ b/lib/ansible/modules/cloud/amazon/aws_s3.py
@@ -599,6 +599,7 @@ def main():
     module = AnsibleModule(
         argument_spec=argument_spec,
         supports_check_mode=True,
+        required_if=[('mode', 'put', ('src',))],
     )
 
     if module._name == 's3':
