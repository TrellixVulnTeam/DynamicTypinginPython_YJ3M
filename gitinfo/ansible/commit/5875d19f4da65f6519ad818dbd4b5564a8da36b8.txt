commit 5875d19f4da65f6519ad818dbd4b5564a8da36b8
Author: Matthew Riedel <mriedel@umaryland.edu>
Date:   Mon Mar 10 11:58:04 2014 -0400

    Returning 'NA' when no virtualization found

diff --git a/library/system/setup b/library/system/setup
index f140991dc2..46fa934a4b 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -2185,6 +2185,13 @@ class LinuxVirtual(Virtual):
                 self.facts['virtualization_role'] = 'host'
                 return
 
+        # If none of the above matches, return 'NA' for virtualization_type
+        # and virtualization_role. This allows for proper grouping.
+        self.facts['virtualization_type'] = 'NA'
+        self.facts['virtualization_role'] = 'NA'
+        return
+
+
 class HPUXVirtual(Virtual):
     """
     This is a HP-UX specific subclass of Virtual. It defines
