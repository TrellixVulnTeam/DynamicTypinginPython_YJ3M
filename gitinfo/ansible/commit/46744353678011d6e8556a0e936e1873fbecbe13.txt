commit 46744353678011d6e8556a0e936e1873fbecbe13
Author: Nilashish Chakraborty <nilashishchakraborty8@gmail.com>
Date:   Tue Jan 7 12:15:43 2020 +0530

    Fix nxos_snmp_community command ordering (#66094)
    
    Signed-off-by: NilashishC <nilashishchakraborty8@gmail.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_snmp_community.py b/lib/ansible/modules/network/nxos/nxos_snmp_community.py
index c39efdfdb6..37ea59ce91 100644
--- a/lib/ansible/modules/network/nxos/nxos_snmp_community.py
+++ b/lib/ansible/modules/network/nxos/nxos_snmp_community.py
@@ -153,10 +153,13 @@ def config_snmp_community(delta, community):
         'no_acl': 'no snmp-server community {0} use-acl {no_acl}'
     }
     commands = []
-    for k, v in delta.items():
+    for k in delta.keys():
         cmd = CMDS.get(k).format(community, **delta)
         if cmd:
-            commands.append(cmd)
+            if 'group' in cmd:
+                commands.insert(0, cmd)
+            else:
+                commands.append(cmd)
             cmd = None
     return commands
 
@@ -219,6 +222,7 @@ def main():
             commands.append(command)
 
     cmds = flatten_list(commands)
+
     if cmds:
         results['changed'] = True
         if not module.check_mode:
