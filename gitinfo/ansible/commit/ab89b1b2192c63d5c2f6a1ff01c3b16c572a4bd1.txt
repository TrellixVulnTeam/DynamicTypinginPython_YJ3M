commit ab89b1b2192c63d5c2f6a1ff01c3b16c572a4bd1
Author: Matt Clay <matt@mystile.com>
Date:   Fri Sep 22 00:19:21 2017 -0700

    Add region to ansible-test AWS cloud config. (#30733)
    
    * Add region to ansible-test AWS cloud config.
    * Fix .gitignore for ansible-test cloud config.

diff --git a/.gitignore b/.gitignore
index 78f9525283..b4319de00b 100644
--- a/.gitignore
+++ b/.gitignore
@@ -72,7 +72,8 @@ Vagrantfile
 .vagrant
 ansible.egg-info/
 /shippable/
-/test/integration/cloud-config-azure.yml
+/test/integration/cloud-config-*.*
+!/test/integration/cloud-config-*.*.template
 # Release directory
 packaging/release/ansible_release
 /.cache/
diff --git a/test/integration/cloud-config-aws.yml.template b/test/integration/cloud-config-aws.yml.template
index ec8a2859c8..de66b34722 100644
--- a/test/integration/cloud-config-aws.yml.template
+++ b/test/integration/cloud-config-aws.yml.template
@@ -14,6 +14,8 @@
 aws_access_key: @ACCESS_KEY
 aws_secret_key: @SECRET_KEY
 security_token: @SECURITY_TOKEN
+aws_region: @REGION
 # aliases for backwards compatibility with older integration test playbooks
 ec2_access_key: '{{ aws_access_key }}'
 ec2_secret_key: '{{ aws_secret_key }}'
+ec2_region: '{{ aws_region }}'
diff --git a/test/runner/lib/cloud/aws.py b/test/runner/lib/cloud/aws.py
index 5b4baeb8c1..73cec7ed28 100644
--- a/test/runner/lib/cloud/aws.py
+++ b/test/runner/lib/cloud/aws.py
@@ -68,6 +68,7 @@ class AwsCloudProvider(CloudProvider):
                 ACCESS_KEY=credentials['access_key'],
                 SECRET_KEY=credentials['secret_key'],
                 SECURITY_TOKEN=credentials['session_token'],
+                REGION='us-east-1',
             )
 
             config = self._populate_config_template(config, values)
