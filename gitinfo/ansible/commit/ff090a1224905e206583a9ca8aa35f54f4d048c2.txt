commit ff090a1224905e206583a9ca8aa35f54f4d048c2
Author: Lars Kellogg-Stedman <lars@redhat.com>
Date:   Thu Oct 22 13:59:45 2015 -0400

    make os_keypair return a top level 'id' key
    
    make os_keypair return a top-level 'id' key, much like other os_*
    resources.

diff --git a/lib/ansible/modules/cloud/openstack/os_keypair.py b/lib/ansible/modules/cloud/openstack/os_keypair.py
index f62cc51bf6..64ebd8c67b 100644
--- a/lib/ansible/modules/cloud/openstack/os_keypair.py
+++ b/lib/ansible/modules/cloud/openstack/os_keypair.py
@@ -146,10 +146,14 @@ def main():
                             " as offered. Delete key first." % name
                     )
                 else:
-                    module.exit_json(changed=False, key=keypair)
-
-            new_key = cloud.create_keypair(name, public_key)
-            module.exit_json(changed=True, key=new_key)
+                    changed = False
+            else:
+                keypair = cloud.create_keypair(name, public_key)
+                changed = True
+
+            module.exit_json(changed=changed,
+                             key=keypair,
+                             id=keypair['id'])
 
         elif state == 'absent':
             if keypair:
