commit d52f1d969b1c45d090af5f780af1b106cbf4b7e9
Author: Matt Wright <matt@nobien.net>
Date:   Fri Aug 31 15:03:26 2012 -0400

    Use `get_bin_path` properly

diff --git a/library/supervisorctl b/library/supervisorctl
index 7cf55fb1fd..880388abd5 100755
--- a/library/supervisorctl
+++ b/library/supervisorctl
@@ -19,17 +19,8 @@
 # along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
 #
 
-def _find_supervisorctl():
-    paths = ['/usr/local/bin', '/usr/bin']
-
-    for p in paths:
-        e = p + '/supervisorctl'
-        if os.path.exists(e):
-            return e
-
-
-def _is_present(name):
-    rc, out, err = _run('%s status' % _find_supervisorctl())
+def _is_present(name, supervisorctl):
+    rc, out, err = _run('%s status' % supervisorctl)
     return name in out
 
 
@@ -59,10 +50,7 @@ def main():
 
     SUPERVISORCTL = module.get_bin_path('supervisorctl', True)
 
-    if SUPERVISORCTL is None:
-        module.fail_json(msg='supervisorctl is not installed')
-
-    present = _is_present(name)
+    present = _is_present(name, SUPERVISORCTL)
 
     if state == 'present':
         if not present:
