commit d1977dad23fb3d9ae4095066c03ede44ed11d656
Author: Brian Coca <bcoca@ansible.com>
Date:   Fri May 8 19:19:03 2015 -0400

    started implementing syntax check

diff --git a/lib/ansible/cli/playbook.py b/lib/ansible/cli/playbook.py
index eb60bacbd2..69e411dc87 100644
--- a/lib/ansible/cli/playbook.py
+++ b/lib/ansible/cli/playbook.py
@@ -87,7 +87,7 @@ class PlaybookCLI(CLI):
         passwords = {}
 
         # don't deal with privilege escalation or passwords when we don't need to
-        if not self.options.listhosts and not self.options.listtasks and not self.options.listtags:
+        if not self.options.listhosts and not self.options.listtasks and not self.options.listtags and not self.options.syntax:
             self.normalize_become_options()
             (sshpass, becomepass) = self.ask_passwords()
             passwords = { 'conn_pass': sshpass, 'become_pass': becomepass }
diff --git a/lib/ansible/executor/playbook_executor.py b/lib/ansible/executor/playbook_executor.py
index 5d72ef15bd..5e339e4031 100644
--- a/lib/ansible/executor/playbook_executor.py
+++ b/lib/ansible/executor/playbook_executor.py
@@ -46,7 +46,7 @@ class PlaybookExecutor:
         self._options          = options
         self.passwords         = passwords
 
-        if options.listhosts or options.listtasks or options.listtags:
+        if options.listhosts or options.listtasks or options.listtags or options.syntax:
             self._tqm = None
         else:
             self._tqm = TaskQueueManager(inventory=inventory, variable_manager=variable_manager, loader=loader, display=display, options=options, passwords=self.passwords)
@@ -85,6 +85,9 @@ class PlaybookExecutor:
                     new_play = play.copy()
                     new_play.post_validate(templar)
 
+                    if self._options.syntax:
+                        continue
+
                     if self._tqm is None:
                         # we are just doing a listing
 
@@ -147,6 +150,10 @@ class PlaybookExecutor:
             if self._tqm is not None:
                 self._cleanup()
 
+        if self._options.syntax:
+            self.display.display("No issues encountered")
+            return result
+
         # FIXME: this stat summary stuff should be cleaned up and moved
         #        to a new method, if it even belongs here...
         self._display.banner("PLAY RECAP")
