commit d21281ff43913684c99c0257b0a11e3187deaae8
Author: Paul Durivage <pauldurivage@gmail.com>
Date:   Mon Jan 6 10:23:23 2014 -0600

    Resolve rebase conflicts

diff --git a/lib/ansible/playbook/__init__.py b/lib/ansible/playbook/__init__.py
index e826d09caf..c33b290b81 100644
--- a/lib/ansible/playbook/__init__.py
+++ b/lib/ansible/playbook/__init__.py
@@ -325,7 +325,7 @@ class PlayBook(object):
             private_key_file=self.private_key_file,
             setup_cache=self.SETUP_CACHE,
             basedir=task.play.basedir,
-            conditional=task.only_if,
+            conditional=task.when,
             callbacks=self.runner_callbacks,
             sudo=task.sudo,
             sudo_user=task.sudo_user,
diff --git a/lib/ansible/runner/connection_plugins/ssh.py b/lib/ansible/runner/connection_plugins/ssh.py
index 18bd3bfacf..3df297adc4 100644
--- a/lib/ansible/runner/connection_plugins/ssh.py
+++ b/lib/ansible/runner/connection_plugins/ssh.py
@@ -229,7 +229,7 @@ class Connection(object):
                 if p.stderr in rfd:
                     chunk = p.stderr.read()
                     if not chunk:
-                        raise errors.AnsibleError('ssh connection closed waiting for sudo password prompt')
+                        raise errors.AnsibleError('ssh connection closed waiting for sudo or su password prompt')
                     sudo_errput += chunk
                     incorrect_password = gettext.dgettext(
                         "sudo", "Sorry, try again.")
