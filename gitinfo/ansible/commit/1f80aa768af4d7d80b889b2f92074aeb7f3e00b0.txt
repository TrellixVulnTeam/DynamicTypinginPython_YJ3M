commit 1f80aa768af4d7d80b889b2f92074aeb7f3e00b0
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Nov 27 11:57:15 2013 -0600

    Fix bug in error detection code, where a zero-length string was causing a traceback
    
    Fixes #5064

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index 2ec60d3116..126e86869a 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -403,7 +403,7 @@ Or:
                 match = True
             elif middle.startswith('"') and not middle.endswith('"'):
                 match = True
-            if middle[0] in [ '"', "'" ] and middle[-1] in [ '"', "'" ] and probline.count("'") > 2 or probline.count("'") > 2:
+            if len(middle) > 0 and middle[0] in [ '"', "'" ] and middle[-1] in [ '"', "'" ] and probline.count("'") > 2 or probline.count("'") > 2:
                 unbalanced = True
             if match:
                 msg = msg + """
