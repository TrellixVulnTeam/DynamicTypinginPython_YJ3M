commit 2493020d9ff6421666d090d7bb082e92b3613d3e
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jun 18 13:10:39 2014 -0500

    Fix get_distribution() for platforms that may have spaces
    
    The new CentOS 7 beta lists the distribution as "CentOS Linux", which
    breaks the distribution detection and class loading. This patch fixes
    that by taking just the first entry in the string when a space is
    detected.

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index ed3a1d7478..8d1b62af75 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -129,6 +129,8 @@ def get_distribution():
     if platform.system() == 'Linux':
         try:
             distribution = platform.linux_distribution()[0].capitalize()
+            if " " in distribution:
+                distribution = distribution.split()[0]
             if not distribution and os.path.isfile('/etc/system-release'):
                 distribution = platform.linux_distribution(supported_dists=['system'])[0].capitalize()
                 if 'Amazon' in distribution:
