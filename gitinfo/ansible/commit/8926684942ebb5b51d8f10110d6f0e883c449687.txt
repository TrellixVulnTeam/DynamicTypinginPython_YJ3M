commit 8926684942ebb5b51d8f10110d6f0e883c449687
Author: Ton Kersten <github@tonkersten.com>
Date:   Wed May 15 08:45:56 2013 +0200

    Fix issue 2906

diff --git a/library/system/setup b/library/system/setup
index 85607ef1ab..628127db83 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -626,14 +626,15 @@ class LinuxHardware(Hardware):
                 d['host'] = m.group(1)
 
             d['holders'] = []
-            for folder in os.listdir(sysdir + "/holders"):
-                if not folder.startswith("dm-"):
-                    continue
-                name = get_file_content(sysdir + "/holders/" + folder + "/dm/name")
-                if name:
-                    d['holders'].append(name)
-                else:
-                    d['holders'].append(folder)
+            if os.path.isdir(sysdir + "/holders"):
+                for folder in os.listdir(sysdir + "/holders"):
+                    if not folder.startswith("dm-"):
+                        continue
+                    name = get_file_content(sysdir + "/holders/" + folder + "/dm/name")
+                    if name:
+                        d['holders'].append(name)
+                    else:
+                        d['holders'].append(folder)
 
             self.facts['devices'][diskname] = d
 
