commit f0dc0b28d453e8c8b0a1ccb3bad874a99a518ea3
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Tue Mar 6 13:55:36 2018 -0500

    Fix side-effect of flags being passed to ios get_config again (#37084)

diff --git a/lib/ansible/plugins/cliconf/ios.py b/lib/ansible/plugins/cliconf/ios.py
index d0009924c6..e1d1a28436 100644
--- a/lib/ansible/plugins/cliconf/ios.py
+++ b/lib/ansible/plugins/cliconf/ios.py
@@ -57,7 +57,9 @@ class Cliconf(CliconfBase):
         if source not in ('running', 'startup'):
             return self.invalid_params("fetching configuration from %s is not supported" % source)
         if source == 'running':
-            cmd = 'show running-config all'
+            cmd = 'show running-config '
+            if not flags:
+                flags = ['all']
         else:
             cmd = 'show startup-config'
 
