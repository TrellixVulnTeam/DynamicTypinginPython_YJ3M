commit 2e386deeae8cad0ab70f144b4f5aee73f814571d
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jul 1 11:55:00 2015 -0400

    Make undefined variables in debug var=foo more obvious
    
    Fixes #9935

diff --git a/lib/ansible/plugins/action/debug.py b/lib/ansible/plugins/action/debug.py
index 94056e496c..957e56e499 100644
--- a/lib/ansible/plugins/action/debug.py
+++ b/lib/ansible/plugins/action/debug.py
@@ -35,6 +35,8 @@ class ActionModule(ActionBase):
         # FIXME: move the LOOKUP_REGEX somewhere else
         elif 'var' in self._task.args: # and not utils.LOOKUP_REGEX.search(self._task.args['var']):
             results = self._templar.template(self._task.args['var'], convert_bare=True)
+            if results == self._task.args['var']:
+                results = "VARIABLE IS NOT DEFINED!"
             result = dict()
             result[self._task.args['var']] = results
         else:
