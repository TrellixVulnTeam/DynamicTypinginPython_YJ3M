commit d39ae36ab14750207e5afeadd387fc0cc1d86f0f
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Tue Nov 22 21:28:14 2016 +0530

    Fix 5646 junos_config issue if config format is text (#5658)
    
    If 'src_format' is not mentioned in playbook
    and config is in text format a list object is
    passed to 'guess_format' function instead
    of string, hence TypeError execption is seen.
    Fix is to pass string object instead of list.

diff --git a/lib/ansible/modules/network/junos/junos_config.py b/lib/ansible/modules/network/junos/junos_config.py
index f4d125831b..0ae2d3fd21 100644
--- a/lib/ansible/modules/network/junos/junos_config.py
+++ b/lib/ansible/modules/network/junos/junos_config.py
@@ -245,7 +245,7 @@ def load_config(module, result):
     kwargs['commit'] = not module.check_mode
 
     if module.params['src']:
-        config_format = module.params['src_format'] or guess_format(candidate)
+        config_format = module.params['src_format'] or guess_format(str(candidate))
     elif module.params['lines']:
         config_format = 'set'
     kwargs['config_format'] = config_format
