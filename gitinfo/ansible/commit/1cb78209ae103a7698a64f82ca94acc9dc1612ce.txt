commit 1cb78209ae103a7698a64f82ca94acc9dc1612ce
Author: Zim Kalinowski <zikalino@microsoft.com>
Date:   Thu Oct 25 10:08:56 2018 +0800

    upgrading sql package to newest (#47544)
    
    * upgrading sql package to newest
    
    * LROPOller

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_sqldatabase.py b/lib/ansible/modules/cloud/azure/azure_rm_sqldatabase.py
index 4cd8a47a1f..a5da624725 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_sqldatabase.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_sqldatabase.py
@@ -198,7 +198,7 @@ from ansible.module_utils.azure_rm_common import AzureRMModuleBase
 
 try:
     from msrestazure.azure_exceptions import CloudError
-    from msrestazure.azure_operation import AzureOperationPoller
+    from msrest.polling import LROPoller
     from azure.mgmt.sql import SqlManagementClient
     from msrest.serialization import Model
 except ImportError:
@@ -432,7 +432,7 @@ class AzureRMDatabases(AzureRMModuleBase):
                                                                   server_name=self.server_name,
                                                                   database_name=self.name,
                                                                   parameters=self.parameters)
-            if isinstance(response, AzureOperationPoller):
+            if isinstance(response, LROPoller):
                 response = self.get_poller_result(response)
 
         except CloudError as exc:
diff --git a/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule.py b/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule.py
index 742ab83051..8c0bd1a1ee 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule.py
@@ -82,7 +82,7 @@ from ansible.module_utils.azure_rm_common import AzureRMModuleBase
 
 try:
     from msrestazure.azure_exceptions import CloudError
-    from msrestazure.azure_operation import AzureOperationPoller
+    from msrest.polling import LROPoller
     from azure.mgmt.sql import SqlManagementClient
     from msrest.serialization import Model
 except ImportError:
@@ -215,7 +215,7 @@ class AzureRMFirewallRules(AzureRMModuleBase):
                                                                        firewall_rule_name=self.name,
                                                                        start_ip_address=self.start_ip_address,
                                                                        end_ip_address=self.end_ip_address)
-            if isinstance(response, AzureOperationPoller):
+            if isinstance(response, LROPoller):
                 response = self.get_poller_result(response)
 
         except CloudError as exc:
diff --git a/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule_facts.py b/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule_facts.py
index 198ed10567..b67fdf1312 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule_facts.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_sqlfirewallrule_facts.py
@@ -104,7 +104,7 @@ from ansible.module_utils.azure_rm_common import AzureRMModuleBase
 
 try:
     from msrestazure.azure_exceptions import CloudError
-    from msrestazure.azure_operation import AzureOperationPoller
+    from msrest.polling import LROPoller
     from azure.mgmt.sql import SqlManagementClient
     from msrest.serialization import Model
 except ImportError:
diff --git a/lib/ansible/modules/cloud/azure/azure_rm_sqlserver.py b/lib/ansible/modules/cloud/azure/azure_rm_sqlserver.py
index b6dcca3c42..b6cc06ddf7 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_sqlserver.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_sqlserver.py
@@ -106,7 +106,7 @@ from ansible.module_utils.azure_rm_common import AzureRMModuleBase
 
 try:
     from msrestazure.azure_exceptions import CloudError
-    from msrestazure.azure_operation import AzureOperationPoller
+    from msrest.polling import LROPoller
     from azure.mgmt.sql import SqlManagementClient
     from msrest.serialization import Model
 except ImportError:
@@ -272,7 +272,7 @@ class AzureRMServers(AzureRMModuleBase):
             response = self.sql_client.servers.create_or_update(self.resource_group,
                                                                 self.name,
                                                                 self.parameters)
-            if isinstance(response, AzureOperationPoller):
+            if isinstance(response, LROPoller):
                 response = self.get_poller_result(response)
 
         except CloudError as exc:
diff --git a/lib/ansible/modules/cloud/azure/azure_rm_sqlserver_facts.py b/lib/ansible/modules/cloud/azure/azure_rm_sqlserver_facts.py
index 139fec0a6f..962fe94564 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_sqlserver_facts.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_sqlserver_facts.py
@@ -114,7 +114,6 @@ from ansible.module_utils.azure_rm_common import AzureRMModuleBase
 
 try:
     from msrestazure.azure_exceptions import CloudError
-    from msrestazure.azure_operation import AzureOperationPoller
     from azure.mgmt.sql import SqlManagementClient
     from msrest.serialization import Model
 except ImportError:
diff --git a/packaging/requirements/requirements-azure.txt b/packaging/requirements/requirements-azure.txt
index 506130a066..b4f857c67f 100644
--- a/packaging/requirements/requirements-azure.txt
+++ b/packaging/requirements/requirements-azure.txt
@@ -17,7 +17,7 @@ azure-mgmt-network==1.7.1
 azure-mgmt-nspkg==2.0.0
 azure-mgmt-rdbms==1.4.1
 azure-mgmt-resource==1.2.2
-azure-mgmt-sql==0.7.1
+azure-mgmt-sql==0.10.0
 azure-mgmt-storage==1.5.0
 azure-mgmt-trafficmanager==0.50.0
 azure-mgmt-web==0.32.0
diff --git a/test/runner/requirements/integration.cloud.azure.txt b/test/runner/requirements/integration.cloud.azure.txt
index 506130a066..b4f857c67f 100644
--- a/test/runner/requirements/integration.cloud.azure.txt
+++ b/test/runner/requirements/integration.cloud.azure.txt
@@ -17,7 +17,7 @@ azure-mgmt-network==1.7.1
 azure-mgmt-nspkg==2.0.0
 azure-mgmt-rdbms==1.4.1
 azure-mgmt-resource==1.2.2
-azure-mgmt-sql==0.7.1
+azure-mgmt-sql==0.10.0
 azure-mgmt-storage==1.5.0
 azure-mgmt-trafficmanager==0.50.0
 azure-mgmt-web==0.32.0
