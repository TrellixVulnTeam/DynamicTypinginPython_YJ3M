commit 9721c4045b15462bceb365c2b0a5b02c1b652145
Author: The Magician <magic-modules@google.com>
Date:   Tue Jul 9 11:35:26 2019 -0700

    Bug fixes for GCP modules (#58849)

diff --git a/lib/ansible/modules/cloud/google/gcp_compute_target_http_proxy.py b/lib/ansible/modules/cloud/google/gcp_compute_target_http_proxy.py
index 77ac93c525..c7e73c14ea 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_target_http_proxy.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_target_http_proxy.py
@@ -105,7 +105,7 @@ EXAMPLES = '''
   gcp_compute_backend_service:
     name: backendservice-targethttpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
diff --git a/lib/ansible/modules/cloud/google/gcp_compute_target_https_proxy.py b/lib/ansible/modules/cloud/google/gcp_compute_target_https_proxy.py
index ea6088f6cd..d9634e81cc 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_target_https_proxy.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_target_https_proxy.py
@@ -133,7 +133,7 @@ EXAMPLES = '''
   gcp_compute_backend_service:
     name: backendservice-targethttpsproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
diff --git a/lib/ansible/modules/cloud/google/gcp_compute_target_ssl_proxy.py b/lib/ansible/modules/cloud/google/gcp_compute_target_ssl_proxy.py
index 342caa82e3..2128a76466 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_target_ssl_proxy.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_target_ssl_proxy.py
@@ -132,7 +132,7 @@ EXAMPLES = '''
   gcp_compute_backend_service:
     name: backendservice-targetsslproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: SSL
diff --git a/lib/ansible/modules/cloud/google/gcp_compute_target_tcp_proxy.py b/lib/ansible/modules/cloud/google/gcp_compute_target_tcp_proxy.py
index b6fbd4af86..0632dffe77 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_target_tcp_proxy.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_target_tcp_proxy.py
@@ -114,7 +114,7 @@ EXAMPLES = '''
   gcp_compute_backend_service:
     name: backendservice-targettcpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: TCP
diff --git a/lib/ansible/modules/cloud/google/gcp_compute_url_map.py b/lib/ansible/modules/cloud/google/gcp_compute_url_map.py
index 74ed45aa0b..74a68f29dd 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_url_map.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_url_map.py
@@ -195,7 +195,7 @@ EXAMPLES = '''
   gcp_compute_backend_service:
     name: backendservice-urlmap
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
diff --git a/test/integration/targets/gcp_compute_target_http_proxy/tasks/main.yml b/test/integration/targets/gcp_compute_target_http_proxy/tasks/main.yml
index b4e3327d69..14610738bd 100644
--- a/test/integration/targets/gcp_compute_target_http_proxy/tasks/main.yml
+++ b/test/integration/targets/gcp_compute_target_http_proxy/tasks/main.yml
@@ -38,7 +38,7 @@
   gcp_compute_backend_service:
     name: backendservice-targethttpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
@@ -169,7 +169,7 @@
   gcp_compute_backend_service:
     name: backendservice-targethttpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
diff --git a/test/integration/targets/gcp_compute_target_https_proxy/tasks/main.yml b/test/integration/targets/gcp_compute_target_https_proxy/tasks/main.yml
index d62cacb69c..41e6f58452 100644
--- a/test/integration/targets/gcp_compute_target_https_proxy/tasks/main.yml
+++ b/test/integration/targets/gcp_compute_target_https_proxy/tasks/main.yml
@@ -38,7 +38,7 @@
   gcp_compute_backend_service:
     name: backendservice-targethttpsproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
@@ -222,7 +222,7 @@
   gcp_compute_backend_service:
     name: backendservice-targethttpsproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
diff --git a/test/integration/targets/gcp_compute_target_ssl_proxy/tasks/main.yml b/test/integration/targets/gcp_compute_target_ssl_proxy/tasks/main.yml
index 00215f70f3..dacc8b744e 100644
--- a/test/integration/targets/gcp_compute_target_ssl_proxy/tasks/main.yml
+++ b/test/integration/targets/gcp_compute_target_ssl_proxy/tasks/main.yml
@@ -42,7 +42,7 @@
   gcp_compute_backend_service:
     name: backendservice-targetsslproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: SSL
@@ -207,7 +207,7 @@
   gcp_compute_backend_service:
     name: backendservice-targetsslproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: SSL
diff --git a/test/integration/targets/gcp_compute_target_tcp_proxy/tasks/main.yml b/test/integration/targets/gcp_compute_target_tcp_proxy/tasks/main.yml
index 5ad77de1cb..9c0713c115 100644
--- a/test/integration/targets/gcp_compute_target_tcp_proxy/tasks/main.yml
+++ b/test/integration/targets/gcp_compute_target_tcp_proxy/tasks/main.yml
@@ -42,7 +42,7 @@
   gcp_compute_backend_service:
     name: backendservice-targettcpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: TCP
@@ -159,7 +159,7 @@
   gcp_compute_backend_service:
     name: backendservice-targettcpproxy
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     protocol: TCP
diff --git a/test/integration/targets/gcp_compute_url_map/tasks/main.yml b/test/integration/targets/gcp_compute_url_map/tasks/main.yml
index 2361a63031..e359dd7047 100644
--- a/test/integration/targets/gcp_compute_url_map/tasks/main.yml
+++ b/test/integration/targets/gcp_compute_url_map/tasks/main.yml
@@ -38,7 +38,7 @@
   gcp_compute_backend_service:
     name: backendservice-urlmap
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
@@ -150,7 +150,7 @@
   gcp_compute_backend_service:
     name: backendservice-urlmap
     backends:
-    - group: "{{ instancegroup }}"
+    - group: "{{ instancegroup.selfLink }}"
     health_checks:
     - "{{ healthcheck.selfLink }}"
     enable_cdn: 'true'
