commit 0cfaabf9cbb5690e7e96979f78fc0becc3ec884a
Author: James Cammarata <jimi@sngx.net>
Date:   Mon Feb 17 13:37:48 2014 -0600

    Make sure unicode params don't break logging in modules

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 82bca0c3b0..1135b4a4a3 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -780,7 +780,10 @@ class AnsibleModule(object):
             else:
                 found = False
                 for filter in filter_re:
-                    m = filter.match(str(self.params[param]))
+                    if isinstance(self.params[param], unicode):
+                        m = filter.match(self.params[param])
+                    else:
+                        m = filter.match(str(self.params[param]))
                     if m:
                         d = m.groupdict()
                         log_args[param] = d['before'] + "********" + d['after']
