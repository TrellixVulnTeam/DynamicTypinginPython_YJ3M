commit 11afd84d32b58a4f4a03a1e16a79c1b1a2805aa6
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Sun Nov 18 00:25:38 2012 +0100

    Drop dwim prefix from returned items in fileglob
    
    Fixes #1618.

diff --git a/lib/ansible/runner/lookup_plugins/fileglob.py b/lib/ansible/runner/lookup_plugins/fileglob.py
index 456ca4ed1f..6711ccc84d 100644
--- a/lib/ansible/runner/lookup_plugins/fileglob.py
+++ b/lib/ansible/runner/lookup_plugins/fileglob.py
@@ -25,7 +25,10 @@ class LookupModule(object):
         self.basedir = basedir
 
     def run(self, terms, **kwargs):
-        return [ f for f in glob.glob(utils.path_dwim(self.basedir, terms)) if os.path.isfile(f) ]
+        dwimterms = utils.path_dwim(self.basedir, terms)
+        # This skips whatever prefix the dwim added, leaving just the filename for the item
+        dwim_prefix_len = len(dwimterms) - len(terms)
+        return [ f[dwim_prefix_len:] for f in glob.glob(dwimterms) if os.path.isfile(f) ]
 
 
 
