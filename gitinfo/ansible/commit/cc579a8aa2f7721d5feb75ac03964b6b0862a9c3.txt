commit cc579a8aa2f7721d5feb75ac03964b6b0862a9c3
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Tue Apr 24 17:01:48 2012 +0200

    Fix tests for facter and the ansible_facts API.

diff --git a/test/TestRunner.py b/test/TestRunner.py
index 96c88ee4b3..74e7952e86 100644
--- a/test/TestRunner.py
+++ b/test/TestRunner.py
@@ -85,7 +85,7 @@ class TestRunner(unittest.TestCase):
        if not get_binary("facter"):
            raise SkipTest
        result = self._run('facter',[])
-       assert "hostname" in result['ansible_facts']
+       assert "hostname" in result
 
    # temporarily disbabled since it occasionally hangs
    # ohai's fault, setup module doesn't actually run this
@@ -95,7 +95,7 @@ class TestRunner(unittest.TestCase):
    #    if not get_binary("facter"):
    #            raise SkipTest
    #    result = self._run('ohai',[])
-   #    assert "hostname" in result['ansible_facts']
+   #    assert "hostname" in result
 
    def test_copy(self):
        # test copy module, change trigger, etc
