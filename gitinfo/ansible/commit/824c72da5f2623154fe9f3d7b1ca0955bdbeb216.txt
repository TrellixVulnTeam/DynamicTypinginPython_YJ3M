commit 824c72da5f2623154fe9f3d7b1ca0955bdbeb216
Author: Monty Taylor <mordred@redhat.com>
Date:   Thu Nov 29 22:15:56 2018 -0600

    Set play context on stdout callback plugin (#35910)
    
    The loop on self._callback_plugins does not include the stdout callback,
    so the stdout_callback never has set_play_context called.

diff --git a/lib/ansible/executor/task_queue_manager.py b/lib/ansible/executor/task_queue_manager.py
index 67a741b989..2474f58f67 100644
--- a/lib/ansible/executor/task_queue_manager.py
+++ b/lib/ansible/executor/task_queue_manager.py
@@ -241,6 +241,10 @@ class TaskQueueManager:
         )
 
         play_context = PlayContext(new_play, self._options, self.passwords, self._connection_lockfile.fileno())
+        if (self._stdout_callback and
+                hasattr(self._stdout_callback, 'set_play_context')):
+            self._stdout_callback.set_play_context(play_context)
+
         for callback_plugin in self._callback_plugins:
             if hasattr(callback_plugin, 'set_play_context'):
                 callback_plugin.set_play_context(play_context)
