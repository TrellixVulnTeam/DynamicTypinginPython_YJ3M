commit b81a3bbb20d68cc95125fb5b846872c3ab273a22
Author: Brian Coca <bcoca@ansible.com>
Date:   Sat Mar 15 01:10:15 2014 -0400

    fixed bad detection of change on default and premature break

diff --git a/library/files/acl b/library/files/acl
index b8d2b85cb6..63400b3d61 100644
--- a/library/files/acl
+++ b/library/files/acl
@@ -115,6 +115,9 @@ def split_entry(entry):
         print "wtf?? %s => %s" % (entry,a)
         raise e
 
+    if d:
+        d = True
+
     if t.startswith("u"):
         t = "user"
     elif t.startswith("g"):
@@ -248,7 +251,6 @@ def main():
                         if not old_permissions == permissions:
                             changed = True
                         break
-                break
         if not matched:
             changed=True
 
