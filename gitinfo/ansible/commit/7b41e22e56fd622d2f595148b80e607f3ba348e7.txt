commit 7b41e22e56fd622d2f595148b80e607f3ba348e7
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Thu Apr 26 08:39:21 2012 -0700

    Change to socket.getfqdn() for fqdn fact

diff --git a/library/setup b/library/setup
index 291d5f000c..6345a9fe09 100755
--- a/library/setup
+++ b/library/setup
@@ -224,7 +224,7 @@ def get_iface_hwaddr(iface):
     return ''.join(['%02x:' % ord(char) for char in info[18:24]])[:-1]
 
 def get_network_facts(facts):
-    facts['fqdn'] = socket.gethostname()
+    facts['fqdn'] = socket.getfqdn()
     facts['hostname'] = facts['fqdn'].split('.')[0]
     facts['interfaces'] = get_interfaces()
     for iface in facts['interfaces']:
