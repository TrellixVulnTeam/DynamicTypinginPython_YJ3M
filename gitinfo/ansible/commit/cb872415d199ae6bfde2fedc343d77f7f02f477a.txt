commit cb872415d199ae6bfde2fedc343d77f7f02f477a
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Nov 2 10:25:09 2016 -0400

    set galaxy unit test server to None (#18298)
    
    Prevents connections to the internet in isolated environments such as koji+mock
    
    Fixes #18297

diff --git a/test/units/cli/test_galaxy.py b/test/units/cli/test_galaxy.py
index cf68f9bcb5..686010a1f1 100644
--- a/test/units/cli/test_galaxy.py
+++ b/test/units/cli/test_galaxy.py
@@ -135,7 +135,7 @@ class TestGalaxy(unittest.TestCase):
 
     def test_exit_without_ignore(self):
         ''' tests that GalaxyCLI exits with the error specified unless the --ignore-errors flag is used '''
-        gc = GalaxyCLI(args=["install", "-c", "fake_role_name"])
+        gc = GalaxyCLI(args=["install", "--server=None", "-c", "fake_role_name"])
 
         # testing without --ignore-errors flag
         galaxy_parser = gc.parse()
@@ -145,7 +145,7 @@ class TestGalaxy(unittest.TestCase):
             self.assertTrue(mocked_display.called_once_with("- downloading role 'fake_role_name', owned by "))
 
         # testing with --ignore-errors flag
-        gc = GalaxyCLI(args=["install", "-c", "fake_role_name", "--ignore-errors"])
+        gc = GalaxyCLI(args=["install", "--server=None", "-c", "fake_role_name", "--ignore-errors"])
         galalxy_parser = gc.parse()
         with patch.object(ansible.utils.display.Display, "display", return_value=None) as mocked_display:
             # testing that error expected is not raised with --ignore-errors flag in use
