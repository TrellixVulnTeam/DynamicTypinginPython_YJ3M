commit 30ce430363dee202347eeb2d8d0ee1d18823a88b
Author: jkleint <jkleint@gmail.com>
Date:   Thu Apr 26 10:48:50 2012 -0300

    Service module crashes if args has no "=".

diff --git a/library/service b/library/service
index 1bbbefb471..c1aaf13272 100755
--- a/library/service
+++ b/library/service
@@ -37,9 +37,12 @@ if not len(items):
     sys.exit(1)
 
 params = {}
-for x in items:
-    (k, v) = x.split("=")
-    params[k] = v
+for arg in items:
+    if "=" not in arg:
+        print json.dumps(dict(failed=True, msg='expected arguments of the form name=value'))
+        sys.exit(1)
+    (name, value) = arg.split("=")
+    params[name] = value
 
 name = params['name']
 state = params.get('state','unknown')
