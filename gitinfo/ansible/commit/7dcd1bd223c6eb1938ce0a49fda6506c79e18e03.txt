commit 7dcd1bd223c6eb1938ce0a49fda6506c79e18e03
Author: Pepe Barbe <barbe@telsasoft.com>
Date:   Tue Aug 14 15:55:47 2012 -0500

    Autocommit support for psycopg2 < 2.4.2

diff --git a/library/postgresql_db b/library/postgresql_db
index e57ef720f4..8bfdc9fd20 100755
--- a/library/postgresql_db
+++ b/library/postgresql_db
@@ -89,7 +89,12 @@ def main():
     try:
         db_connection = psycopg2.connect(database="template1", **kw)
         # Enable autocommit so we can create databases
-        db_connection.autocommit = True
+        if psycopg2.__version__ >= '2.4.2':
+            db_connection.autocommit = True
+        else:
+            db_connection.set_isolation_level(psycopg2
+                                              .extensions
+                                              .ISOLATION_LEVEL_AUTOCOMMIT)
         cursor = db_connection.cursor()
     except Exception, e:
         module.fail_json(msg="unable to connect to database: %s" % e)
