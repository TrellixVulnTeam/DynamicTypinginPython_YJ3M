commit a6777f7e7cdd4f0bdb9b0b350f795e04f72c9e85
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Thu Apr 11 12:42:41 2013 -0400

    Fix template call in group_by module.

diff --git a/lib/ansible/runner/action_plugins/group_by.py b/lib/ansible/runner/action_plugins/group_by.py
index 5c2b7ece2b..bd510c0f1c 100644
--- a/lib/ansible/runner/action_plugins/group_by.py
+++ b/lib/ansible/runner/action_plugins/group_by.py
@@ -20,7 +20,8 @@ import ansible
 from ansible.callbacks import vv
 from ansible.errors import AnsibleError as ae
 from ansible.runner.return_data import ReturnData
-from ansible.utils import parse_kv, template, check_conditional
+from ansible.utils import parse_kv, check_conditional
+import ansible.utils.template as template
 
 class ActionModule(object):
     ''' Create inventory groups based on variables '''
@@ -54,9 +55,9 @@ class ActionModule(object):
         groups = {}
         for host in self.runner.host_set:
             data = inject['hostvars'][host]
-            if not check_conditional(template(self.runner.basedir, self.runner.conditional, data)):
+            if not check_conditional(template.template(self.runner.basedir, self.runner.conditional, data)):
                 continue
-            group_name = template(self.runner.basedir, args['key'], data)
+            group_name = template.template(self.runner.basedir, args['key'], data)
             group_name = group_name.replace(' ','-')
             if group_name not in groups:
                 groups[group_name] = []
