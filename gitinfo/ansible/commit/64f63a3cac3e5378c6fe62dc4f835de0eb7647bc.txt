commit 64f63a3cac3e5378c6fe62dc4f835de0eb7647bc
Author: Konrad Klimaszewski <konrad.klimaszewski@ncbj.gov.pl>
Date:   Mon Apr 3 21:41:45 2017 +0200

    Properly handle Docker image comparison for published_ports defined as IP::PORT
    
    - Published port defined as IP::PORT where parsed in expected.parameters
      as 0.0.0.0::PORT leading to changed==True on every playbook run.

diff --git a/lib/ansible/modules/cloud/docker/docker_container.py b/lib/ansible/modules/cloud/docker/docker_container.py
index 0df69e0d15..b858910a88 100644
--- a/lib/ansible/modules/cloud/docker/docker_container.py
+++ b/lib/ansible/modules/cloud/docker/docker_container.py
@@ -1537,7 +1537,10 @@ class Container(DockerBaseClass):
             if isinstance(container_port, int):
                 container_port = "%s/tcp" % container_port
             if len(config) == 1:
-                expected_bound_ports[container_port] = [{'HostIp': "0.0.0.0", 'HostPort': ""}]
+                if isinstance(config[0], int):
+                    expected_bound_ports[container_port] = [{'HostIp': "0.0.0.0", 'HostPort': config[0]}]
+                else:
+                    expected_bound_ports[container_port] = [{'HostIp': config[0], 'HostPort': ""}]
             elif isinstance(config[0], tuple):
                 expected_bound_ports[container_port] = []
                 for host_ip, host_port in config:
