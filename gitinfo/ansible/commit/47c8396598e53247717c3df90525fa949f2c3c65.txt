commit 47c8396598e53247717c3df90525fa949f2c3c65
Author: gw0 [http://gw.tnode.com/] <gw.2013@tnode.com>
Date:   Mon Jun 10 22:43:50 2013 +0200

    Fix `mongodb_user` compatibility with MongoDB 2.2 (used in Debian 7).

diff --git a/library/database/mongodb_user b/library/database/mongodb_user
index bba1c192d0..91506da4cb 100644
--- a/library/database/mongodb_user
+++ b/library/database/mongodb_user
@@ -81,11 +81,16 @@ author: Elliott Foster
 
 import ConfigParser
 try:
-    from pymongo import MongoClient
     from pymongo.errors import ConnectionFailure
     from pymongo.errors import OperationFailure
+    from pymongo import MongoClient
 except ImportError:
-    pymongo_found = False
+    try:  # for older PyMongo 2.2
+        from pymongo import Connection as MongoClient
+    except ImportError:
+        pymongo_found = False
+    else:
+        pymongo_found = True
 else:
     pymongo_found = True
 
