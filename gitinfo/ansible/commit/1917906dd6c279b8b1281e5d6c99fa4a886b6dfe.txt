commit 1917906dd6c279b8b1281e5d6c99fa4a886b6dfe
Author: Marcin Praczko <marcin.praczko@gmail.com>
Date:   Mon Oct 13 22:57:03 2014 +0200

    Fix detecting distribution release on OpenSuSE
    
    Ansible raised exception during parsering /etc/SuSE-release file.
    Regular expresion should use string instead of list.
    Fix tested on OpenSuse 13.1

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 04a25ab9d6..8ec1b4f7c7 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -328,10 +328,11 @@ class Facts(object):
                                     break
                             elif path == '/etc/SuSE-release':
                                 data = data.splitlines()
-                                release = re.search('CODENAME *= *([^\n]+)\n', data)
-                                if release:
-                                    self.facts['distribution_release'] = release.groups()[0].strip()
-                                    break
+                                for line in data:
+                                    release = re.search('CODENAME *= *([^\n]+)', line)
+                                    if release:
+                                        self.facts['distribution_release'] = release.groups()[0].strip()
+                                        break
                     elif name == 'Debian':
                         data = get_file_content(path)
                         if 'Debian' in data:
