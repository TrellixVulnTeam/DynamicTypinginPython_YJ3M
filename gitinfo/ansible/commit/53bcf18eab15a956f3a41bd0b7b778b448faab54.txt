commit 53bcf18eab15a956f3a41bd0b7b778b448faab54
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Fri Sep 9 12:25:21 2016 -0400

    minor updates to junos_package module for 2.2 (#4761)
    
    * replaces get_module() with NetworkModule()
    * removes old call to package_version()

diff --git a/lib/ansible/modules/network/junos/junos_package.py b/lib/ansible/modules/network/junos/junos_package.py
index f11e121b24..fbf575b4df 100644
--- a/lib/ansible/modules/network/junos/junos_package.py
+++ b/lib/ansible/modules/network/junos/junos_package.py
@@ -92,6 +92,7 @@ EXAMPLES = """
     src: junos-vsrx-12.1X46-D10.2-domestic.tgz
     reboot: no
 """
+from ansible.module_utils.junos import NetworkModule
 
 try:
     from jnpr.junos.utils.sw import SW
@@ -127,8 +128,8 @@ def main():
         transport=dict(default='netconf', choices=['netconf'])
     )
 
-    module = get_module(argument_spec=spec,
-                        supports_check_mode=True)
+    module = NetworkModule(argument_spec=spec,
+                           supports_check_mode=True)
 
     if not HAS_SW:
         module.fail_json(msg='Missing jnpr.junos.utils.sw module')
@@ -137,8 +138,8 @@ def main():
 
     do_upgrade = module.params['force'] or False
     if not module.params['force']:
-        has_ver = module.get_facts().get('version')
-        wants_ver = module.params['version'] or package_version(module)
+        has_ver = module.connection.get_facts().get('version')
+        wants_ver = module.params['version']
         do_upgrade = has_ver != wants_ver
 
     if do_upgrade:
@@ -148,8 +149,6 @@ def main():
 
     module.exit_json(**result)
 
-from ansible.module_utils.basic import *
-from ansible.module_utils.junos import *
 
 if __name__ == '__main__':
     main()
