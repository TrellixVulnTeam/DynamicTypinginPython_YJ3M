commit bda2f42f9772ab7176eb23c38935de5df3f38422
Author: Kriss Andsten <kriss@raljant.se>
Date:   Mon Feb 5 18:13:52 2018 +0100

    Detect OpenStack guests on RDO based installs, Newton and newer. (#35452)
    
    The product string (used as the DMI product name) changed from
    "OpenStack Nova" to "OpenStack Compute" between Mitaka and Newton
    in the OpenStack RDO packaging.

diff --git a/lib/ansible/module_utils/facts/virtual/linux.py b/lib/ansible/module_utils/facts/virtual/linux.py
index 4b33f8daf6..0320c560fa 100644
--- a/lib/ansible/module_utils/facts/virtual/linux.py
+++ b/lib/ansible/module_utils/facts/virtual/linux.py
@@ -97,7 +97,7 @@ class LinuxVirtual(Virtual):
             virtual_facts['virtualization_role'] = 'guest'
             return virtual_facts
 
-        if product_name == 'OpenStack Nova':
+        if product_name in ['OpenStack Compute', 'OpenStack Nova']:
             virtual_facts['virtualization_type'] = 'openstack'
             virtual_facts['virtualization_role'] = 'guest'
             return virtual_facts
