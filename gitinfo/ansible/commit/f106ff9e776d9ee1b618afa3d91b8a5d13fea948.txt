commit f106ff9e776d9ee1b618afa3d91b8a5d13fea948
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Wed Oct 12 21:37:08 2016 -0400

    ios_config will now explicitly disconnect from remote host (#5247)
    
    The ios_config module will now explicitly send a disconnect to the
    remote host at the conclusion of the module run
    
    ref #5181

diff --git a/lib/ansible/modules/network/ios/ios_config.py b/lib/ansible/modules/network/ios/ios_config.py
index cff8ebd440..1022419a8a 100644
--- a/lib/ansible/modules/network/ios/ios_config.py
+++ b/lib/ansible/modules/network/ios/ios_config.py
@@ -322,8 +322,10 @@ def main():
         run(module, result)
     except NetworkError:
         exc = get_exception()
+        module.disconnect()
         module.fail_json(msg=str(exc))
 
+    module.disconnect()
     module.exit_json(**result)
 
 
