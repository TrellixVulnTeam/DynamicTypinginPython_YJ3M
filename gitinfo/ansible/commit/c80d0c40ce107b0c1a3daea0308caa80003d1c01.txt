commit c80d0c40ce107b0c1a3daea0308caa80003d1c01
Author: Dusan Matejka <D3DeFi@users.noreply.github.com>
Date:   Mon Feb 10 08:09:00 2020 +0100

    fixed zabbix no longer returning macros as part of the template (#66996)

diff --git a/lib/ansible/modules/monitoring/zabbix/zabbix_template.py b/lib/ansible/modules/monitoring/zabbix/zabbix_template.py
index 35f466df6a..7d743f06e1 100644
--- a/lib/ansible/modules/monitoring/zabbix/zabbix_template.py
+++ b/lib/ansible/modules/monitoring/zabbix/zabbix_template.py
@@ -425,6 +425,9 @@ class Template(object):
                     changed = True
                     break
 
+        if 'macros' not in existing_template['zabbix_export']['templates'][0]:
+            existing_template['zabbix_export']['templates'][0]['macros'] = []
+
         if template_macros is not None:
             existing_macros = existing_template['zabbix_export']['templates'][0]['macros']
             if template_macros != existing_macros:
