commit 9e0b7ee6292afaf0568a7795bed46b99e9a7e7e4
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Tue Apr 17 11:14:58 2012 +0200

    template: expand path if metadata is in user home.

diff --git a/library/template b/library/template
index 0b13422d5a..31a2095e50 100755
--- a/library/template
+++ b/library/template
@@ -47,7 +47,8 @@ for x in items:
 
 source  = params['src']
 dest    = params['dest']
-metadata = params.get('metadata', '/etc/ansible/setup') 
+metadata = params.get('metadata', '/etc/ansible/setup')
+metadata = os.path.expanduser(metadata)
 module_vars = params.get('vars')
  
 # raise an error if there is no template metadata
