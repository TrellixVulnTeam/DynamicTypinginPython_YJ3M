commit e215f842bab59b15bfbe64dd5409cc1d4a27dbd5
Author: Ryan Reed <6673689+rreed42@users.noreply.github.com>
Date:   Fri Jul 27 01:12:34 2018 -0400

    Correcting conditionals looping (#43331)
    
    Empty conditionals would not break out of the loop, causing every command to be run for the same number of times as retries is defined (10 by default)

diff --git a/lib/ansible/modules/network/vyos/vyos_command.py b/lib/ansible/modules/network/vyos/vyos_command.py
index 207b9eda67..119efa924c 100644
--- a/lib/ansible/modules/network/vyos/vyos_command.py
+++ b/lib/ansible/modules/network/vyos/vyos_command.py
@@ -212,10 +212,10 @@ def main():
                     break
                 conditionals.remove(item)
 
-            if not conditionals:
-                break
+        if not conditionals:
+            break
 
-            time.sleep(interval)
+        time.sleep(interval)
 
     if conditionals:
         failed_conditions = [item.raw for item in conditionals]
