commit f576d29b6b8071f56498facc48c32f8b12bbcb73
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Jun 15 11:02:51 2015 -0400

    allow for any non string iterable in listify

diff --git a/lib/ansible/utils/listify.py b/lib/ansible/utils/listify.py
index d8ef025e0b..7bcf9ce802 100644
--- a/lib/ansible/utils/listify.py
+++ b/lib/ansible/utils/listify.py
@@ -19,7 +19,7 @@
 from __future__ import (absolute_import, division, print_function)
 __metaclass__ = type
 
-
+from collections import Iterable
 from ansible.template import Templar
 from ansible.template.safe_eval import safe_eval
 
@@ -38,7 +38,7 @@ def listify_lookup_plugin_terms(terms, variables, loader):
         #TODO: check if this is needed as template should also return correct type already
         terms = safe_eval(terms)
 
-        if isinstance(terms, basestring) or not isinstance(terms, list) and not isinstance(terms, set):
+        if isinstance(terms, basestring) or not isinstance(terms, Iterable):
             terms = [ terms ]
 
     return terms
