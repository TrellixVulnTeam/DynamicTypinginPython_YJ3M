commit 05fe9ef816cb7f2c55ff79381efc9ddd512e3730
Author: James Cassell <code@james.cassell.me>
Date:   Thu Apr 11 15:09:29 2019 -0400

    vmware_tools: ignore absence of urllib3

diff --git a/lib/ansible/plugins/connection/vmware_tools.py b/lib/ansible/plugins/connection/vmware_tools.py
index 010636afa7..4114f8c6eb 100644
--- a/lib/ansible/plugins/connection/vmware_tools.py
+++ b/lib/ansible/plugins/connection/vmware_tools.py
@@ -10,9 +10,16 @@ from os.path import exists, getsize
 from socket import gaierror
 from ssl import SSLError
 from time import sleep
-import urllib3
 import traceback
 
+URLLIB3_IMP_ERR = None
+try:
+    import urllib3
+    HAS_URLLIB3 = True
+except ImportError:
+    URLLIB3_IMP_ER = traceback.format_exc()
+    HAS_URLLIB3 = False
+
 REQUESTS_IMP_ERR = None
 try:
     import requests
@@ -290,7 +297,7 @@ class Connection(ConnectionBase):
         if self.validate_certs:
             connect = SmartConnect
         else:
-            if self.get_option("silence_tls_warnings"):
+            if HAS_URLLIB3 and self.get_option("silence_tls_warnings"):
                 urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
             connect = SmartConnectNoSSL
 
