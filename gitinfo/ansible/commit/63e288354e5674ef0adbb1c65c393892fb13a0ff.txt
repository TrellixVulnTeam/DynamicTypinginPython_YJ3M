commit 63e288354e5674ef0adbb1c65c393892fb13a0ff
Author: James Cammarata <jimi@sngx.net>
Date:   Mon Oct 12 09:00:27 2015 -0400

    Fix bug in way omitted values were set

diff --git a/lib/ansible/playbook/base.py b/lib/ansible/playbook/base.py
index 6e0e3b5738..6b6fdf3fae 100644
--- a/lib/ansible/playbook/base.py
+++ b/lib/ansible/playbook/base.py
@@ -300,7 +300,7 @@ class Base:
                 # if this evaluated to the omit value, set the value back to
                 # the default specified in the FieldAttribute and move on
                 if omit_value is not None and value == omit_value:
-                    value = attribute.default
+                    setattr(self, name, attribute.default)
                     continue
 
                 # and make sure the attribute is of the type it should be
