commit e326da28ff10730fc0f3c056fb0f43024deb8642
Author: John R Barker <john@johnrbarker.com>
Date:   Tue Sep 13 17:17:35 2016 +0100

    eos: cmd should be item (#17540)
    
    Was changed during
    https://github.com/ansible/ansible/commit/7fe64ef9b89428d82b5851b5d33b5bba4beb2082
    however not all look variables were updated.

diff --git a/lib/ansible/module_utils/eos.py b/lib/ansible/module_utils/eos.py
index c678a960d3..0fba65c1e7 100644
--- a/lib/ansible/module_utils/eos.py
+++ b/lib/ansible/module_utils/eos.py
@@ -317,7 +317,7 @@ def prepare_commands(commands):
     jsonify = lambda x: '%s | json' % x
     for item in to_list(commands):
         if item.output == 'json':
-            cmd = jsonify(cmd)
+            cmd = jsonify(item)
         elif item.command.endswith('| json'):
             item.output = 'json'
             cmd = str(item)
