commit 48a67f44654df79b0213cd14fbbc1a6401a745ca
Author: Sam Doran <sdoran@redhat.com>
Date:   Thu Aug 29 00:34:00 2019 -0400

    Fix race condition in test_sunos_get_uptime_facts
    
    Mock time.time() to return consistent time value.

diff --git a/test/units/module_utils/facts/hardware/test_sunos_get_uptime_facts.py b/test/units/module_utils/facts/hardware/test_sunos_get_uptime_facts.py
index 3777e72500..1c852babaa 100644
--- a/test/units/module_utils/facts/hardware/test_sunos_get_uptime_facts.py
+++ b/test/units/module_utils/facts/hardware/test_sunos_get_uptime_facts.py
@@ -11,6 +11,7 @@ def test_sunos_get_uptime_facts(mocker):
 
     inst = sunos.SunOSHardware(module)
 
-    expected = int(time.time()) - 1548249689
-    result = inst.get_uptime_facts()
-    assert expected == result['uptime_seconds']
+    with mocker.patch('time.time', return_value=1567052602.5089788):
+        expected = int(time.time()) - 1548249689
+        result = inst.get_uptime_facts()
+        assert expected == result['uptime_seconds']
