commit b30fda4906c609fa75182f2ce76719bd98fb3db0
Author: Rene Moser <mail@renemoser.net>
Date:   Sat May 30 11:05:03 2015 +0200

    cloudstack: add choices for api_http_method

diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
index dc845acbae..597e4c7394 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_account.py
@@ -108,7 +108,6 @@ local_action:
   email: john.doe@example.com
   domain: CUSTOMERS
 
-
 # Lock an existing account in domain 'CUSTOMERS'
 local_action:
   module: cs_account
@@ -116,7 +115,6 @@ local_action:
   domain: CUSTOMERS
   state: locked
 
-
 # Disable an existing account in domain 'CUSTOMERS'
 local_action:
   module: cs_account
@@ -124,7 +122,6 @@ local_action:
   domain: CUSTOMERS
   state: disabled
 
-
 # Enable an existing account in domain 'CUSTOMERS'
 local_action:
   module: cs_account
@@ -132,7 +129,6 @@ local_action:
   domain: CUSTOMERS
   state: enabled
 
-
 # Remove an account in domain 'CUSTOMERS'
 local_action:
   module: cs_account
@@ -367,7 +363,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_affinitygroup.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_affinitygroup.py
index 7557f1eae8..11e8f2824e 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_affinitygroup.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_affinitygroup.py
@@ -71,7 +71,6 @@ EXAMPLES = '''
     name: haproxy
     affinty_type: host anti-affinity
 
-
 # Remove a affinity group
 - local_action:
     module: cs_affinitygroup
@@ -220,7 +219,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_firewall.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_firewall.py
index d7de4f67a3..3c15c1265b 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_firewall.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_firewall.py
@@ -114,7 +114,6 @@ EXAMPLES = '''
     port: 80
     cidr: 1.2.3.4/32
 
-
 # Allow inbound tcp/udp port 53 to 4.3.2.1
 - local_action:
     module: cs_firewall
@@ -125,7 +124,6 @@ EXAMPLES = '''
   - tcp
   - udp
 
-
 # Ensure firewall rule is removed
 - local_action:
     module: cs_firewall
@@ -135,7 +133,6 @@ EXAMPLES = '''
     cidr: 17.0.0.0/8
     state: absent
 
-
 # Allow all outbound traffic
 - local_action:
     module: cs_firewall
@@ -143,7 +140,6 @@ EXAMPLES = '''
     type: egress
     protocol: all
 
-
 # Allow only HTTP outbound traffic for an IP
 - local_action:
     module: cs_firewall
@@ -419,7 +415,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_one_of = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
index 58ab2a9229..d3bcf5a9f2 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
@@ -800,7 +800,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_instancegroup.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_instancegroup.py
index 01630bc225..396cafa388 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_instancegroup.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_instancegroup.py
@@ -61,7 +61,6 @@ EXAMPLES = '''
     module: cs_instancegroup
     name: loadbalancers
 
-
 # Remove an instance group
 - local_action:
     module: cs_instancegroup
@@ -198,7 +197,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_iso.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_iso.py
index c65b5e3f3f..d366b7498e 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_iso.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_iso.py
@@ -115,7 +115,6 @@ EXAMPLES = '''
     url: http://mirror.switch.ch/ftp/mirror/debian-cd/current/amd64/iso-cd/debian-7.7.0-amd64-netinst.iso
     os_type: Debian GNU/Linux 7(64-bit)
 
-
 # Register an ISO with given name if ISO md5 checksum does not already exist.
 - local_action:
     module: cs_iso
@@ -124,14 +123,12 @@ EXAMPLES = '''
     os_type:    
     checksum: 0b31bccccb048d20b551f70830bb7ad0
 
-
 # Remove an ISO by name
 - local_action:
     module: cs_iso
     name: Debian 7 64-bit
     state: absent
 
-
 # Remove an ISO by checksum
 - local_action:
     module: cs_iso
@@ -330,7 +327,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_portforward.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_portforward.py
index e21e8e6008..98043165eb 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_portforward.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_portforward.py
@@ -402,7 +402,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup.py
index 579f4ac94e..457a8011ea 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup.py
@@ -55,7 +55,6 @@ EXAMPLES = '''
     name: default
     description: default security group
 
-
 # Remove a security group
 - local_action:
     module: cs_securitygroup
@@ -163,7 +162,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup_rule.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup_rule.py
index aee5afa6bb..b5ddbb489e 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup_rule.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_securitygroup_rule.py
@@ -101,7 +101,6 @@ EXAMPLES = '''
     port: 80
     cidr: 1.2.3.4/32
 
-
 # Allow tcp/udp outbound added to security group 'default'
 - local_action:
     module: cs_securitygroup_rule
@@ -114,7 +113,6 @@ EXAMPLES = '''
   - tcp
   - udp
 
-
 # Allow inbound icmp from 0.0.0.0/0 added to security group 'default'
 - local_action:
     module: cs_securitygroup_rule
@@ -123,7 +121,6 @@ EXAMPLES = '''
     icmp_code: -1
     icmp_type: -1
 
-
 # Remove rule inbound port 80/tcp from 0.0.0.0/0 from security group 'default'
 - local_action:
     module: cs_securitygroup_rule
@@ -131,7 +128,6 @@ EXAMPLES = '''
     port: 80
     state: absent
 
-
 # Allow inbound port 80/tcp from security group web added to security group 'default'
 - local_action:
     module: cs_securitygroup_rule
@@ -399,7 +395,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_sshkeypair.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_sshkeypair.py
index b4b764dbe3..0a54a1971b 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_sshkeypair.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_sshkeypair.py
@@ -217,7 +217,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_vmsnapshot.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_vmsnapshot.py
index 3c8c18a079..213b8aebc6 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_vmsnapshot.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_vmsnapshot.py
@@ -87,7 +87,6 @@ EXAMPLES = '''
     vm: web-01
     snapshot_memory: yes
 
-
 # Revert a VM to a snapshot after a failed upgrade
 - local_action:
     module: cs_vmsnapshot
@@ -95,7 +94,6 @@ EXAMPLES = '''
     vm: web-01
     state: revert
 
-
 # Remove a VM snapshot after successful upgrade
 - local_action:
     module: cs_vmsnapshot
@@ -289,7 +287,7 @@ def main():
             api_key = dict(default=None),
             api_secret = dict(default=None, no_log=True),
             api_url = dict(default=None),
-            api_http_method = dict(default='get'),
+            api_http_method = dict(choices=['get', 'post'], default='get'),
             api_timeout = dict(type='int', default=10),
         ),
         required_together = (
