commit 7f847cf21fa2347f4ffe69d21c61383b4a172969
Author: Darren Worrall <darren@iweb.co.uk>
Date:   Fri Aug 28 08:21:20 2015 +0100

    Use module level validation for params

diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
index 75fb428e7b..f904c6552a 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_instance.py
@@ -573,8 +573,6 @@ class AnsibleCloudStackInstance(AnsibleCloudStack):
                 'cpuSpeed': cpu_speed,
                 'memory': memory,
             }]
-        elif any([cpu, cpu_speed, memory]):
-            self.module.fail_json(msg='cpu, cpu_speed and memory must be used together')
         return res
 
     def deploy_instance(self, start_vm=True):
@@ -865,6 +863,7 @@ def main():
         ),
         required_together = (
             ['api_key', 'api_secret', 'api_url'],
+            ['cpu', 'cpu_speed', 'memory'],
         ),
         supports_check_mode=True
     )
