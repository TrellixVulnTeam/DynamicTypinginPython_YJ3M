commit 14719a6f08eb67d36d36acb2d3ce0ec3885047a3
Author: Chen Zhidong <njutczd@gmail.com>
Date:   Thu May 14 22:02:30 2015 +0800

    Add judgment to to fix path0 if ANSIBLE_CONFIG is set to a dir

diff --git a/lib/ansible/constants.py b/lib/ansible/constants.py
index 089de5b7c5..d09a8da5ca 100644
--- a/lib/ansible/constants.py
+++ b/lib/ansible/constants.py
@@ -65,6 +65,8 @@ def load_config_file():
     path0 = os.getenv("ANSIBLE_CONFIG", None)
     if path0 is not None:
         path0 = os.path.expanduser(path0)
+    if os.path.isdir(path0):
+        path0 += "/ansible.cfg"
     path1 = os.getcwd() + "/ansible.cfg"
     path2 = os.path.expanduser("~/.ansible.cfg")
     path3 = "/etc/ansible/ansible.cfg"
