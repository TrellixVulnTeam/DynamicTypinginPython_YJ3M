commit e97ca89953f8bc4969cf6d48eaccffdbe6987b72
Author: Alex Kalinin <camradal@yahoo.com>
Date:   Thu Mar 17 17:00:00 2016 -0700

    Fix vmware_portgroup throwing an error if port group already exists

diff --git a/lib/ansible/modules/extras/cloud/vmware/vmware_portgroup.py b/lib/ansible/modules/extras/cloud/vmware/vmware_portgroup.py
index 30e1e21261..591aa9240d 100644
--- a/lib/ansible/modules/extras/cloud/vmware/vmware_portgroup.py
+++ b/lib/ansible/modules/extras/cloud/vmware/vmware_portgroup.py
@@ -106,6 +106,9 @@ def main():
             raise SystemExit("Unable to locate Physical Host.")
         host_system = host.keys()[0]
 
+        if find_host_portgroup_by_name(host_system, portgroup_name):
+            module.exit_json(changed=False)
+
         changed = create_port_group(host_system, portgroup_name, vlan_id, switch_name)
 
         module.exit_json(changed=changed)
