commit 6e44c72761bad1ff37f106b465a23ea283570805
Author: Johan Wir√©n <johan.wiren.se@gmail.com>
Date:   Fri Mar 1 12:24:11 2013 +0100

    Removed urlparsing of gemsource. Not needed

diff --git a/library/gem b/library/gem
index 6dc51eee96..021bd4e7fd 100644
--- a/library/gem
+++ b/library/gem
@@ -62,7 +62,6 @@ examples:
 author: Johan Wiren
 '''
 import re
-from urlparse import urlparse
 
 def getinstalledversions(module, remote=False):
     cmd = [ module.get_bin_path('gem', True) ]
@@ -149,13 +148,7 @@ def main():
     if module.params['gemsource'] and module.params['state'] == 'latest':
         module.fail_json(msg="Cannot maintain state=latest when installing from local source")
 
-    if module.params['gemsource']:
-        url=urlparse(module.params['gemsource'])
-        if url.scheme in [ '', 'file' ] :
-            module.params['gemsource'] = url.path
-        else:
-            module.fail_json(msg="Installation using url scheme %s is not supported." % url.scheme)
-    else:
+    if module.params['gemsource'] is not 'null':
         module.params['gemsource'] = module.params['name']
 
     changed = False
