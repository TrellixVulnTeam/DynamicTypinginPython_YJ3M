commit 6db87a5018a0e50a4ee97f4efade2e6e06e606c5
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Fri Mar 30 21:56:10 2012 -0400

    Minor style fix, update test to match quote fix patch

diff --git a/lib/ansible/utils.py b/lib/ansible/utils.py
index 9d0b68ff8e..3883f5035e 100755
--- a/lib/ansible/utils.py
+++ b/lib/ansible/utils.py
@@ -274,5 +274,9 @@ def parse_kv(args, unquote=True):
     for x in args:
         if x.find("=") != -1:
             k, v = x.split("=")
-            options[k]=unquote_string(v) if unquote else v
+            if unquote:
+                options[k]=unquote_string(v) 
+            else:
+                v
     return options
+
diff --git a/test/playbook1.events b/test/playbook1.events
index 71d2f97f3e..6a0e475b33 100644
--- a/test/playbook1.events
+++ b/test/playbook1.events
@@ -277,7 +277,7 @@
             [
                 "127.0.0.1", 
                 {
-                    "cmd": "echo this should fire once ", 
+                    "cmd": "echo 'this should fire once' ", 
                     "rc": 0, 
                     "stderr": "", 
                     "stdout": "this should fire once"
@@ -289,7 +289,7 @@
             [
                 "127.0.0.1", 
                 {
-                    "cmd": "echo this should fire once  ", 
+                    "cmd": "echo 'this should fire once'  ", 
                     "rc": 0, 
                     "stderr": "", 
                     "stdout": "this should fire once"
@@ -308,7 +308,7 @@
             [
                 "127.0.0.1", 
                 {
-                    "cmd": "echo this should fire once also ", 
+                    "cmd": "echo 'this should fire once also' ", 
                     "rc": 0, 
                     "stderr": "", 
                     "stdout": "this should fire once also"
