commit f72b1f4fd78fcdc088690513b2a5a5a6c0b9979c
Author: alex <alex@zabimaru.(none)>
Date:   Mon Jul 2 22:04:56 2012 +0200

    Fixed: pathname for tmp

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index d976b70cf0..b35dddd689 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -269,13 +269,13 @@ class Runner(object):
                 if self.remote_user == 'root':
                     args = "%s metadata=/etc/ansible/setup" % args
                 else:
-                    args = "%s metadata=%s/.ansible/setup" % (args, C.DEFAULT_REMOTE_TMP)
+                    args = "%s metadata=%s/setup" % (args, C.DEFAULT_REMOTE_TMP)
         else:
             if not 'metadata' in args:
                 if self.remote_user == 'root':
                     args['metadata'] = '/etc/ansible/setup'
                 else:
-                    args['metadata'] = "%s/.ansible/setup" % C.DEFAULT_REMOTE_TMP
+                    args['metadata'] = "%s/setup" % C.DEFAULT_REMOTE_TMP
         return args   
  
     # *****************************************************
@@ -567,7 +567,7 @@ class Runner(object):
                     metadata = '/etc/ansible/setup'
                 else:
                     # path is expanded on remote side
-                    metadata = "~/.ansible/tmp/.ansible/setup" 
+                    metadata = "~/.ansible/tmp/setup" 
             
             # install the template module
             slurp_module = self._transfer_module(conn, tmp, 'slurp')
