commit 87cb7f814776d9b6eb9cad4c0aed30b443277983
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Fri Jul 31 22:50:05 2015 -0700

    Push python2.4 check into travis

diff --git a/.travis.yml b/.travis.yml
index 975bc3e35d..335a8e58e3 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,6 +1,7 @@
 sudo: false
 language: python
 env:
+  - TOKENV=py24
   - TOXENV=py26
   - TOXENV=py27
 addons:
@@ -12,7 +13,8 @@ addons:
 install:
   - pip install tox PyYAML Jinja2 sphinx
 script:
-  - tox
+- if test x"$TOKENV" != x'py24' ; then  tox ; fi
+- if test x"$TOKENV" = x'py24' ; then python2.4 -V && python2.4 -m compileall -fq -x 'module_utils/(a10|rax|openstack|ec2|gce).py' lib/ansible/module_utils ; fi
   #- make -C docsite all
 after_success:
   - coveralls
diff --git a/tox.ini b/tox.ini
index dd94e045ab..ad3d37b521 100644
--- a/tox.ini
+++ b/tox.ini
@@ -8,16 +8,16 @@ whitelist_externals = make
 
 [testenv:py26]
 commands =
+    python --version
     python -m compileall -fq -x 'test|samples|contrib/inventory/vagrant.py' .
-    python2.4 -m compileall -fq -x 'module_utils/(a10|rax|openstack|ec2|gce).py' lib/ansible/module_utils
     make tests
 deps = -r{toxinidir}/test-requirements.txt
 whitelist_externals =
     make
-    python2.4
 
 [testenv:py27]
 commands =
+    python --version
     python -m compileall -fq -x 'test|samples' .
     make tests
 deps = -r{toxinidir}/test-requirements.txt
@@ -25,6 +25,7 @@ whitelist_externals = make
 
 [testenv:py34]
 commands =
+    python --version
     python -m compileall -fq -x 'lib/ansible/module_utils' lib
     make tests
 deps = -r{toxinidir}/test-requirements.txt
