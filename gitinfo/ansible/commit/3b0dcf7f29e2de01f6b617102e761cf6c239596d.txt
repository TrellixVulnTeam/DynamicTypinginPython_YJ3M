commit 3b0dcf7f29e2de01f6b617102e761cf6c239596d
Author: Matt Clay <matt@mystile.com>
Date:   Mon Jan 29 16:00:41 2018 -0800

    Test Windows 2012+ using Azure by default.

diff --git a/test/runner/lib/core_ci.py b/test/runner/lib/core_ci.py
index 6ab6568fef..29ba6bb510 100644
--- a/test/runner/lib/core_ci.py
+++ b/test/runner/lib/core_ci.py
@@ -73,6 +73,9 @@ class AnsibleCoreCI(object):
             azure=(
                 'azure',
                 'rhel',
+                'windows/2012',
+                'windows/2012-R2',
+                'windows/2016',
             ),
             parallels=(
                 'osx',
@@ -88,6 +91,11 @@ class AnsibleCoreCI(object):
                     # assign default provider based on platform
                     self.provider = candidate
                     break
+            for candidate in providers:
+                if '%s/%s' % (platform, version) in providers[candidate]:
+                    # assign default provider based on platform and version
+                    self.provider = candidate
+                    break
 
         if self.provider in ('aws', 'azure'):
             if self.provider != 'aws':
