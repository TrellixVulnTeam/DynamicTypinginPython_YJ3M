commit 4ae59b2743c0466a67bfc745ae081139211ecf15
Author: Matt Clay <matt@mystile.com>
Date:   Sat Sep 3 10:19:52 2016 -0700

    Use ansible_python for interpreter in test_uri. (#17376)

diff --git a/test/integration/roles/test_uri/tasks/main.yml b/test/integration/roles/test_uri/tasks/main.yml
index b8d218da45..afa521c96e 100644
--- a/test/integration/roles/test_uri/tasks/main.yml
+++ b/test/integration/roles/test_uri/tasks/main.yml
@@ -41,12 +41,8 @@
     src: "testserver.py"
     dest: "{{ output_dir }}/testserver.py"
 
-- name: verify that python2 is installed so this test can continue
-  shell: which python2
-  register: py2
-
 - name: start SimpleHTTPServer
-  shell: cd {{ files_dir }} && {{ py2.stdout }} {{ output_dir}}/testserver.py {{ http_port }}
+  shell: cd {{ files_dir }} && {{ ansible_python.executable }} {{ output_dir}}/testserver.py {{ http_port }}
   async: 60 # this test set takes ~15 seconds to run
   poll: 0
 
