commit db3d2e1042c2ac60a899ccc745f579c364ff578a
Author: James Tanner <tanner.jc@gmail.com>
Date:   Tue Mar 18 09:03:55 2014 -0400

    Fixes #6542 rewrite test string for osx compatibility

diff --git a/test/units/TestModuleUtilsBasic.py b/test/units/TestModuleUtilsBasic.py
index 3d85b61352..d1ee95a1a0 100644
--- a/test/units/TestModuleUtilsBasic.py
+++ b/test/units/TestModuleUtilsBasic.py
@@ -95,9 +95,9 @@ class TestModuleUtilsBasic(unittest.TestCase):
 
     # test run_command with a command pipe (with both use_unsafe_shell=True|False)
     def test_run_command_string_unsafe_with_pipe(self):
-        (rc, out, err) = self.module.run_command('echo -n "foo bar" | cat', use_unsafe_shell=True)
+        (rc, out, err) = self.module.run_command('echo "foo bar" | cat', use_unsafe_shell=True)
         self.assertEqual(rc, 0)
-        self.assertEqual(out, 'foo bar')
+        self.assertEqual(out, 'foo bar\n')
 
     # test run_command with a shell redirect in (with both use_unsafe_shell=True|False)
     def test_run_command_string_unsafe_with_redirect_in(self):
