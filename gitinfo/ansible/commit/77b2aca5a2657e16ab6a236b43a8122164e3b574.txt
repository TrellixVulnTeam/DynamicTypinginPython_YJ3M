commit 77b2aca5a2657e16ab6a236b43a8122164e3b574
Author: Jordan Borean <jborean93@gmail.com>
Date:   Wed Sep 13 17:35:12 2017 +1000

    fixed become to show the stdout and stderr streams instead of the StreamReader (#30254)

diff --git a/lib/ansible/plugins/shell/powershell.py b/lib/ansible/plugins/shell/powershell.py
index cf455ec8ca..1856973881 100644
--- a/lib/ansible/plugins/shell/powershell.py
+++ b/lib/ansible/plugins/shell/powershell.py
@@ -807,7 +807,7 @@ Function Run($payload) {
             $str_stderr
         }
         Else {
-            Throw "failed, rc was $rc, stderr was $stderr, stdout was $stdout"
+            Throw "failed, rc was $rc, stderr was $str_stderr, stdout was $str_stdout"
         }
 
     }
