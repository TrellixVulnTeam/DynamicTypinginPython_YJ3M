commit 3567237dbc88fdcc11ada0d191bd928bbce80efe
Author: Seth Vidal <skvidal@fedoraproject.org>
Date:   Tue Mar 13 11:08:10 2012 -0400

    modify build/spec file to work on el6 with quasi-broken setup process
    remove data_files section from setup.py for some reason or another

diff --git a/MANIFEST.in b/MANIFEST.in
index 158b1efa93..d02fe3ed95 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -1,4 +1,5 @@
 include README.md AUTHORS.md ansible.spec
 include examples/hosts
 recursive-include docs *
+recursive-include library *
 include Makefile
diff --git a/ansible.spec b/ansible.spec
index 02137e7d0c..923f3b9505 100644
--- a/ansible.spec
+++ b/ansible.spec
@@ -35,6 +35,10 @@ make docs
 python setup.py install -O1 --root=$RPM_BUILD_ROOT --record=INSTALLED_FILES
 mkdir -p $RPM_BUILD_ROOT/etc/ansible/
 cp examples/hosts $RPM_BUILD_ROOT/etc/ansible/
+mkdir -p $RPM_BUILD_ROOT/%{_mandir}/man1/ 
+cp -v docs/man/man1/*.1 $RPM_BUILD_ROOT/%{_mandir}/man1/
+mkdir -p $RPM_BUILD_ROOT/%{_datadir}/ansible
+cp -v library/* $RPM_BUILD_ROOT/%{_datadir}/ansible/
 
 %clean
 rm -rf $RPM_BUILD_ROOT
diff --git a/setup.py b/setup.py
index c15e8a7831..525c121088 100644
--- a/setup.py
+++ b/setup.py
@@ -19,14 +19,6 @@ setup(name='ansible',
       packages=[
          'ansible',
       ],
-      data_files=[ 
-         ('/usr/share/ansible',
-          glob.glob('library/*')
-          ),
-         ('/usr/share/man/man1',
-          glob.glob('docs/man/man1/*.1')
-          ),
-      ],
       scripts=[
          'bin/ansible',
          'bin/ansible-playbook'
