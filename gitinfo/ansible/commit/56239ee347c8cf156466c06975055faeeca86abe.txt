commit 56239ee347c8cf156466c06975055faeeca86abe
Author: George Christou <gechrr@gmail.com>
Date:   Wed Feb 17 10:10:07 2016 +0000

    Make --diff colours configurable

diff --git a/lib/ansible/constants.py b/lib/ansible/constants.py
index d277c717b5..6dad199e9b 100644
--- a/lib/ansible/constants.py
+++ b/lib/ansible/constants.py
@@ -278,6 +278,9 @@ COLOR_SKIP        = get_config(p, 'colors', 'skip', 'ANSIBLE_COLOR_SKIP', 'cyan'
 COLOR_UNREACHABLE = get_config(p, 'colors', 'unreachable', 'ANSIBLE_COLOR_UNREACHABLE', 'bright red')
 COLOR_OK          = get_config(p, 'colors', 'ok', 'ANSIBLE_COLOR_OK', 'green')
 COLOR_CHANGED     = get_config(p, 'colors', 'ok', 'ANSIBLE_COLOR_CHANGED', 'yellow')
+COLOR_DIFF_ADD    = get_config(p, 'colors', 'diff_add', 'ANSIBLE_COLOR_DIFF_ADD', 'green')
+COLOR_DIFF_REMOVE = get_config(p, 'colors', 'diff_remove', 'ANSIBLE_COLOR_DIFF_REMOVE', 'red')
+COLOR_DIFF_LINES  = get_config(p, 'colors', 'diff_lines', 'ANSIBLE_COLOR_DIFF_LINES', 'cyan')
 
 # non-configurable things
 MODULE_REQUIRE_ARGS       = ['command', 'shell', 'raw', 'script']
diff --git a/lib/ansible/plugins/callback/__init__.py b/lib/ansible/plugins/callback/__init__.py
index ce028dc279..58904420af 100644
--- a/lib/ansible/plugins/callback/__init__.py
+++ b/lib/ansible/plugins/callback/__init__.py
@@ -138,12 +138,12 @@ class CallbackBase:
                         has_diff = False
                         for line in differ:
                             has_diff = True
-                            if line.startswith('-'):
-                                line = stringc(line, 'red')
-                            elif line.startswith('+'):
-                                line = stringc(line, 'green')
+                            if line.startswith('+'):
+                                line = stringc(line, C.COLOR_DIFF_ADD)
+                            elif line.startswith('-'):
+                                line = stringc(line, C.COLOR_DIFF_REMOVE)
                             elif line.startswith('@@'):
-                                line = stringc(line, 'cyan')
+                                line = stringc(line, C.COLOR_DIFF_LINES)
                             ret.append(line)
                         if has_diff:
                             ret.append('\n')
