commit c26a528b21c152024a9c51b2a95ca3f3a3e6925c
Author: Jacob McGill <jacob@networktocode.com>
Date:   Mon Dec 11 13:43:11 2017 -0500

    ACI Module: Update modules to provide match criteria; allows more complex matching (#33756)

diff --git a/lib/ansible/module_utils/network/aci/aci.py b/lib/ansible/module_utils/network/aci/aci.py
index 6a99c0ba5c..97a8f4bd64 100644
--- a/lib/ansible/module_utils/network/aci/aci.py
+++ b/lib/ansible/module_utils/network/aci/aci.py
@@ -381,7 +381,7 @@ class ACIModule(object):
         # Query for all objects of the module's class that match the provided ID value
         else:
             path = 'api/class/{}.json'.format(obj_class)
-            filter_string = '?query-target-filter=eq{}'.format(obj_filter) + child_includes
+            filter_string = '?query-target-filter={}'.format(obj_filter) + child_includes
 
         # Append child_includes to filter_string if filter string is empty
         if child_includes is not None and filter_string == '':
@@ -437,7 +437,7 @@ class ACIModule(object):
             # Query for all objects of the module's class that match the provided ID value and belong to a specefic root object
             elif mo is not None:
                 path = 'api/mo/uni/{}.json'.format(root_rn)
-                filter_string = '?rsp-subtree-filter=eq{}{}'.format(obj_filter, self_child_includes)
+                filter_string = '?rsp-subtree-filter={}{}'.format(obj_filter, self_child_includes)
             # Query for all objects of the module's class that belong to a specific root object
             else:
                 path = 'api/mo/uni/{}.json'.format(root_rn)
@@ -448,17 +448,17 @@ class ACIModule(object):
             # matching the provided ID values for both object and parent object
             if mo is not None:
                 path = 'api/class/{}.json'.format(parent_class)
-                filter_string = '?query-target-filter=eq{}{}&rsp-subtree-filter=eq{}'.format(
+                filter_string = '?query-target-filter={}{}&rsp-subtree-filter={}'.format(
                     parent_filter, self_child_includes, obj_filter)
             # Query for all objects of the module's class that belong to any parent class
             # matching the provided ID value for the parent object
             else:
                 path = 'api/class/{}.json'.format(parent_class)
-                filter_string = '?query-target-filter=eq{}{}'.format(parent_filter, self_child_includes)
+                filter_string = '?query-target-filter={}{}'.format(parent_filter, self_child_includes)
         # Query for all objects of the module's class matching the provided ID value of the object
         else:
             path = 'api/class/{}.json'.format(obj_class)
-            filter_string = '?query-target-filter=eq{}'.format(obj_filter) + child_includes
+            filter_string = '?query-target-filter={}'.format(obj_filter) + child_includes
 
         # append child_includes to filter_string if filter string is empty
         if child_includes is not None and filter_string == '':
diff --git a/lib/ansible/modules/network/aci/aci_aep.py b/lib/ansible/modules/network/aci/aci_aep.py
index 5fd0e6aa63..8608d6c3b8 100644
--- a/lib/ansible/modules/network/aci/aci_aep.py
+++ b/lib/ansible/modules/network/aci/aci_aep.py
@@ -112,7 +112,7 @@ def main():
         root_class=dict(
             aci_class='infraAttEntityP',
             aci_rn='infra/attentp-{}'.format(aep),
-            filter_target='(infraAttEntityP.name, "{}")'.format(aep),
+            filter_target='eq(infraAttEntityP.name, "{}")'.format(aep),
             module_object=aep,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_ap.py b/lib/ansible/modules/network/aci/aci_ap.py
index 99bf8d81eb..0742ff1108 100644
--- a/lib/ansible/modules/network/aci/aci_ap.py
+++ b/lib/ansible/modules/network/aci/aci_ap.py
@@ -127,13 +127,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvAp',
             aci_rn='ap-{}'.format(ap),
-            filter_target='(fvAp.name, "{}")'.format(ap),
+            filter_target='eq(fvAp.name, "{}")'.format(ap),
             module_object=ap,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_bd.py b/lib/ansible/modules/network/aci/aci_bd.py
index 5e87915d74..510bbd94db 100644
--- a/lib/ansible/modules/network/aci/aci_bd.py
+++ b/lib/ansible/modules/network/aci/aci_bd.py
@@ -283,13 +283,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvBD',
             aci_rn='BD-{}'.format(bd),
-            filter_target='(fvBD.name, "{}")'.format(bd),
+            filter_target='eq(fvBD.name, "{}")'.format(bd),
             module_object=bd,
         ),
         child_classes=['fvRsCtx', 'fvRsIgmpsn', 'fvRsBDToNdP', 'fvRsBdToEpRet'],
diff --git a/lib/ansible/modules/network/aci/aci_bd_subnet.py b/lib/ansible/modules/network/aci/aci_bd_subnet.py
index baf304c675..34455984b9 100644
--- a/lib/ansible/modules/network/aci/aci_bd_subnet.py
+++ b/lib/ansible/modules/network/aci/aci_bd_subnet.py
@@ -272,19 +272,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, \"{}\")'.format(tenant),
+            filter_target='eq(fvTenant.name, \"{}\")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvBD',
             aci_rn='BD-{}'.format(bd),
-            filter_target='(fvBD.name, \"{}\")'.format(bd),
+            filter_target='eq(fvBD.name, \"{}\")'.format(bd),
             module_object=bd,
         ),
         subclass_2=dict(
             aci_class='fvSubnet',
             aci_rn='subnet-[{}]'.format(gateway),
-            filter_target='(fvSubnet.ip, \"{}\")'.format(gateway),
+            filter_target='eq(fvSubnet.ip, \"{}\")'.format(gateway),
             module_object=gateway,
         ),
         child_classes=['fvRsBDSubnetToProfile', 'fvRsNdPfxPol'],
diff --git a/lib/ansible/modules/network/aci/aci_bd_to_l3out.py b/lib/ansible/modules/network/aci/aci_bd_to_l3out.py
index 2483b369a9..366a257317 100644
--- a/lib/ansible/modules/network/aci/aci_bd_to_l3out.py
+++ b/lib/ansible/modules/network/aci/aci_bd_to_l3out.py
@@ -89,19 +89,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvBD',
             aci_rn='BD-{}'.format(bd),
-            filter_target='(fvBD.name, "{}")'.format(bd),
+            filter_target='eq(fvBD.name, "{}")'.format(bd),
             module_object=bd,
         ),
         subclass_2=dict(
             aci_class='fvRsBDToOut',
             aci_rn='rsBDToOut-{}'.format(l3out),
-            filter_target='(fvRsBDToOut.tnL3extOutName, "{}")'.format(l3out),
+            filter_target='eq(fvRsBDToOut.tnL3extOutName, "{}")'.format(l3out),
             module_object=l3out,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_config_rollback.py b/lib/ansible/modules/network/aci/aci_config_rollback.py
index 8c1e20e647..abc3226964 100644
--- a/lib/ansible/modules/network/aci/aci_config_rollback.py
+++ b/lib/ansible/modules/network/aci/aci_config_rollback.py
@@ -200,7 +200,7 @@ def main():
             root_class=dict(
                 aci_class='configImportP',
                 aci_rn='fabric/configimp-{}'.format(import_policy),
-                filter_target='(configImportP.name, "{}")'.format(import_policy),
+                filter_target='eq(configImportP.name, "{}")'.format(import_policy),
                 module_object=import_policy,
             ),
         )
diff --git a/lib/ansible/modules/network/aci/aci_config_snapshot.py b/lib/ansible/modules/network/aci/aci_config_snapshot.py
index 8cc3294b0d..c321681f8f 100644
--- a/lib/ansible/modules/network/aci/aci_config_snapshot.py
+++ b/lib/ansible/modules/network/aci/aci_config_snapshot.py
@@ -156,7 +156,7 @@ def main():
             root_class=dict(
                 aci_class='configExportP',
                 aci_rn='fabric/configexp-{}'.format(export_policy),
-                filter_target='(configExportP.name, "{}")'.format(export_policy),
+                filter_target='eq(configExportP.name, "{}")'.format(export_policy),
                 module_object=export_policy,
             ),
         )
diff --git a/lib/ansible/modules/network/aci/aci_contract.py b/lib/ansible/modules/network/aci/aci_contract.py
index bb005319b5..07c517937d 100644
--- a/lib/ansible/modules/network/aci/aci_contract.py
+++ b/lib/ansible/modules/network/aci/aci_contract.py
@@ -130,13 +130,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzBrCP',
             aci_rn='brc-{}'.format(contract),
-            filter_target='(vzBrCP.name, "{}")'.format(contract),
+            filter_target='eq(vzBrCP.name, "{}")'.format(contract),
             module_object=contract,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_contract_subject.py b/lib/ansible/modules/network/aci/aci_contract_subject.py
index a52a334757..840ac4a78b 100755
--- a/lib/ansible/modules/network/aci/aci_contract_subject.py
+++ b/lib/ansible/modules/network/aci/aci_contract_subject.py
@@ -191,19 +191,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzBrCP',
             aci_rn='brc-{}'.format(contract),
-            filter_target='(vzBrCP.name, "{}")'.format(contract),
+            filter_target='eq(vzBrCP.name, "{}")'.format(contract),
             module_object=contract,
         ),
         subclass_2=dict(
             aci_class='vzSubj',
             aci_rn='subj-{}'.format(subject),
-            filter_target='(vzSubj.name, "{}")'.format(subject),
+            filter_target='eq(vzSubj.name, "{}")'.format(subject),
             module_object=subject,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_contract_subject_to_filter.py b/lib/ansible/modules/network/aci/aci_contract_subject_to_filter.py
index b7d9c016ee..0fd5705f21 100644
--- a/lib/ansible/modules/network/aci/aci_contract_subject_to_filter.py
+++ b/lib/ansible/modules/network/aci/aci_contract_subject_to_filter.py
@@ -122,25 +122,25 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzBrCP',
             aci_rn='brc-{}'.format(contract),
-            filter_target='(vzBrCP.name, "{}")'.format(contract),
+            filter_target='eq(vzBrCP.name, "{}")'.format(contract),
             module_object=contract,
         ),
         subclass_2=dict(
             aci_class='vzSubj',
             aci_rn='subj-{}'.format(subject),
-            filter_target='(vzSubj.name, "{}")'.format(subject),
+            filter_target='eq(vzSubj.name, "{}")'.format(subject),
             module_object=subject,
         ),
         subclass_3=dict(
             aci_class='vzRsSubjFiltAtt',
             aci_rn='rssubjFiltAtt-{}'.format(filter_name),
-            filter_target='(vzRsSubjFiltAtt.tnVzFilterName, "{}")'.format(filter_name),
+            filter_target='eq(vzRsSubjFiltAtt.tnVzFilterName, "{}")'.format(filter_name),
             module_object=filter_name,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_epg.py b/lib/ansible/modules/network/aci/aci_epg.py
index 3184073760..597c16e3b4 100644
--- a/lib/ansible/modules/network/aci/aci_epg.py
+++ b/lib/ansible/modules/network/aci/aci_epg.py
@@ -201,19 +201,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvAp',
             aci_rn='ap-{}'.format(ap),
-            filter_target='(fvAp.name, "{}")'.format(ap),
+            filter_target='eq(fvAp.name, "{}")'.format(ap),
             module_object=ap,
         ),
         subclass_2=dict(
             aci_class='fvAEPg',
             aci_rn='epg-{}'.format(epg),
-            filter_target='(fvAEPg.name, "{}")'.format(epg),
+            filter_target='eq(fvAEPg.name, "{}")'.format(epg),
             module_object=epg,
         ),
         child_classes=['fvRsBd'],
diff --git a/lib/ansible/modules/network/aci/aci_epg_monitoring_policy.py b/lib/ansible/modules/network/aci/aci_epg_monitoring_policy.py
index 8545f8e525..2c76658c79 100644
--- a/lib/ansible/modules/network/aci/aci_epg_monitoring_policy.py
+++ b/lib/ansible/modules/network/aci/aci_epg_monitoring_policy.py
@@ -100,13 +100,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='monEPGPol',
             aci_rn='monepg-{}'.format(monitoring_policy),
-            filter_target='(monEPGPol.name, "{}")'.format(monitoring_policy),
+            filter_target='eq(monEPGPol.name, "{}")'.format(monitoring_policy),
             module_object=monitoring_policy,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_epg_to_contract.py b/lib/ansible/modules/network/aci/aci_epg_to_contract.py
index 4097f4fb01..cf381ad868 100644
--- a/lib/ansible/modules/network/aci/aci_epg_to_contract.py
+++ b/lib/ansible/modules/network/aci/aci_epg_to_contract.py
@@ -128,25 +128,25 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvAp',
             aci_rn='ap-{}'.format(ap),
-            filter_target='(fvAp.name, "{}")'.format(ap),
+            filter_target='eq(fvAp.name, "{}")'.format(ap),
             module_object=ap,
         ),
         subclass_2=dict(
             aci_class='fvAEPg',
             aci_rn='epg-{}'.format(epg),
-            filter_target='(fvAEPg.name, "{}")'.format(epg),
+            filter_target='eq(fvAEPg.name, "{}")'.format(epg),
             module_object=epg,
         ),
         subclass_3=dict(
             aci_class=aci_class,
             aci_rn='{}{}'.format(aci_rn, contract),
-            filter_target='({}.tnVzBrCPName, "{}'.format(aci_class, contract),
+            filter_target='eq({}.tnVzBrCPName, "{}'.format(aci_class, contract),
             module_object=contract,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_epg_to_domain.py b/lib/ansible/modules/network/aci/aci_epg_to_domain.py
index 3be4a61b49..a2ca935dc1 100644
--- a/lib/ansible/modules/network/aci/aci_epg_to_domain.py
+++ b/lib/ansible/modules/network/aci/aci_epg_to_domain.py
@@ -183,25 +183,25 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvAp',
             aci_rn='ap-{}'.format(ap),
-            filter_target='(fvAp.name, "{}")'.format(ap),
+            filter_target='eq(fvAp.name, "{}")'.format(ap),
             module_object=ap,
         ),
         subclass_2=dict(
             aci_class='fvAEPg',
             aci_rn='epg-{}'.format(epg),
-            filter_target='(fvTenant.name, "{}")'.format(epg),
+            filter_target='eq(fvTenant.name, "{}")'.format(epg),
             module_object=epg,
         ),
         subclass_3=dict(
             aci_class='fvRsDomAtt',
             aci_rn='rsdomAtt-[{}]'.format(epg_domain),
-            filter_target='(fvRsDomAtt.tDn, "{}")'.format(epg_domain),
+            filter_target='eq(fvRsDomAtt.tDn, "{}")'.format(epg_domain),
             module_object=epg_domain,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_filter.py b/lib/ansible/modules/network/aci/aci_filter.py
index ac6abf920c..a440ecb1b1 100644
--- a/lib/ansible/modules/network/aci/aci_filter.py
+++ b/lib/ansible/modules/network/aci/aci_filter.py
@@ -128,13 +128,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzFilter',
             aci_rn='flt-{}'.format(filter_name),
-            filter_target='(vzFilter.name, "{}")'.format(filter_name),
+            filter_target='eq(vzFilter.name, "{}")'.format(filter_name),
             module_object=filter_name,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_filter_entry.py b/lib/ansible/modules/network/aci/aci_filter_entry.py
index 344336eca7..64d7825958 100644
--- a/lib/ansible/modules/network/aci/aci_filter_entry.py
+++ b/lib/ansible/modules/network/aci/aci_filter_entry.py
@@ -208,19 +208,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzFilter',
             aci_rn='flt-{}'.format(filter_name),
-            filter_target='(vzFilter.name, "{}")'.format(filter_name),
+            filter_target='eq(vzFilter.name, "{}")'.format(filter_name),
             module_object=filter_name,
         ),
         subclass_2=dict(
             aci_class='vzEntry',
             aci_rn='e-{}'.format(entry),
-            filter_target='(vzEntry.name, "{}")'.format(entry),
+            filter_target='eq(vzEntry.name, "{}")'.format(entry),
             module_object=entry
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_fc.py b/lib/ansible/modules/network/aci/aci_intf_policy_fc.py
index 105b209ecd..78d6914cfa 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_fc.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_fc.py
@@ -97,7 +97,7 @@ def main():
         root_class=dict(
             aci_class='fcIfPol',
             aci_rn='infra/fcIfPol-{}'.format(fc_policy),
-            filter_target='(fcIfPol.name, "{}")'.format(fc_policy),
+            filter_target='eq(fcIfPol.name, "{}")'.format(fc_policy),
             module_object=fc_policy,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_l2.py b/lib/ansible/modules/network/aci/aci_intf_policy_l2.py
index bd3e4f6891..f4707668d5 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_l2.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_l2.py
@@ -115,7 +115,7 @@ def main():
         root_class=dict(
             aci_class='l2IfPol',
             aci_rn='infra/l2IfP-{}'.format(l2_policy),
-            filter_target='(l2IfPol.name, "{}")'.format(l2_policy),
+            filter_target='eq(l2IfPol.name, "{}")'.format(l2_policy),
             module_object=l2_policy,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_lldp.py b/lib/ansible/modules/network/aci/aci_intf_policy_lldp.py
index a8b92fbf3d..effe1e7e54 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_lldp.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_lldp.py
@@ -106,7 +106,7 @@ def main():
         root_class=dict(
             aci_class='lldpIfPol',
             aci_rn='infra/lldpIfP-{}'.format(lldp_policy),
-            filter_target='(lldpIfPol.name, "{}")'.format(lldp_policy),
+            filter_target='eq(lldpIfPol.name, "{}")'.format(lldp_policy),
             module_object=lldp_policy,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_mcp.py b/lib/ansible/modules/network/aci/aci_intf_policy_mcp.py
index 4451043715..0d66b83b94 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_mcp.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_mcp.py
@@ -97,7 +97,7 @@ def main():
         root_class=dict(
             aci_class='mcpIfPol',
             aci_rn='infra/mcpIfP-{}'.format(mcp),
-            filter_target='(mcpIfPol.name, "{}")'.format(mcp),
+            filter_target='eq(mcpIfPol.name, "{}")'.format(mcp),
             module_object=mcp,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_port_channel.py b/lib/ansible/modules/network/aci/aci_intf_policy_port_channel.py
index 821a314ba6..36e321c503 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_port_channel.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_port_channel.py
@@ -182,7 +182,7 @@ def main():
         root_class=dict(
             aci_class='lacpLagPol',
             aci_rn='infra/lacplagp-{}'.format(port_channel),
-            filter_target='(lacpLagPol.name, "{}")'.format(port_channel),
+            filter_target='eq(lacpLagPol.name, "{}")'.format(port_channel),
             module_object=port_channel,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_intf_policy_port_security.py b/lib/ansible/modules/network/aci/aci_intf_policy_port_security.py
index 0f70035ffd..4b22d5cd5e 100644
--- a/lib/ansible/modules/network/aci/aci_intf_policy_port_security.py
+++ b/lib/ansible/modules/network/aci/aci_intf_policy_port_security.py
@@ -98,7 +98,7 @@ def main():
         root_class=dict(
             aci_class='l2PortSecurityPol',
             aci_rn='infra/portsecurityP-{}'.format(port_security),
-            filter_target='(l2PortSecurityPol.name, "{}")'.format(port_security),
+            filter_target='eq(l2PortSecurityPol.name, "{}")'.format(port_security),
             module_object=port_security,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_l3out_route_tag_policy.py b/lib/ansible/modules/network/aci/aci_l3out_route_tag_policy.py
index 2e7d0d103c..06430f147a 100644
--- a/lib/ansible/modules/network/aci/aci_l3out_route_tag_policy.py
+++ b/lib/ansible/modules/network/aci/aci_l3out_route_tag_policy.py
@@ -107,13 +107,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='l3extRouteTagPol',
             aci_rn='rttag-{}'.format(rtp),
-            filter_target='(l3extRouteTagPol.name, "{}")'.format(rtp),
+            filter_target='eq(l3extRouteTagPol.name, "{}")'.format(rtp),
             module_object=rtp,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_taboo_contract.py b/lib/ansible/modules/network/aci/aci_taboo_contract.py
index 90079f981f..779c6f8f44 100644
--- a/lib/ansible/modules/network/aci/aci_taboo_contract.py
+++ b/lib/ansible/modules/network/aci/aci_taboo_contract.py
@@ -108,13 +108,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='vzTaboo',
             aci_rn='taboo-{}'.format(taboo_contract),
-            filter_target='(vzTaboo.name, "{}")'.format(taboo_contract),
+            filter_target='eq(vzTaboo.name, "{}")'.format(taboo_contract),
             module_object=taboo_contract,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_tenant.py b/lib/ansible/modules/network/aci/aci_tenant.py
index d4e9f0c195..103c6da65d 100644
--- a/lib/ansible/modules/network/aci/aci_tenant.py
+++ b/lib/ansible/modules/network/aci/aci_tenant.py
@@ -113,7 +113,7 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_tenant_action_rule_profile.py b/lib/ansible/modules/network/aci/aci_tenant_action_rule_profile.py
index 68d2f6cf61..bc9faf4fb8 100644
--- a/lib/ansible/modules/network/aci/aci_tenant_action_rule_profile.py
+++ b/lib/ansible/modules/network/aci/aci_tenant_action_rule_profile.py
@@ -98,13 +98,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='rtctrlAttrP',
             aci_rn='attr-{}'.format(action_rule),
-            filter_target='(rtctrlAttrP.name, "{}")'.format(action_rule),
+            filter_target='eq(rtctrlAttrP.name, "{}")'.format(action_rule),
             module_object=action_rule,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_tenant_ep_retention_policy.py b/lib/ansible/modules/network/aci/aci_tenant_ep_retention_policy.py
index cfda339861..1a7d9424c5 100755
--- a/lib/ansible/modules/network/aci/aci_tenant_ep_retention_policy.py
+++ b/lib/ansible/modules/network/aci/aci_tenant_ep_retention_policy.py
@@ -192,13 +192,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvEpRetPol',
             aci_rn='epRPol-{}'.format(epr_policy),
-            filter_target='(fvEpRetPol.name, "{}")'.format(epr_policy),
+            filter_target='eq(fvEpRetPol.name, "{}")'.format(epr_policy),
             module_object=epr_policy,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_tenant_span_dst_group.py b/lib/ansible/modules/network/aci/aci_tenant_span_dst_group.py
index 4d0cf5a224..6c4f6fbacf 100644
--- a/lib/ansible/modules/network/aci/aci_tenant_span_dst_group.py
+++ b/lib/ansible/modules/network/aci/aci_tenant_span_dst_group.py
@@ -100,13 +100,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='spanDestGrp',
             aci_rn='destgrp-{}'.format(dst_group),
-            filter_target='(spanDestGrp.name, "{}")'.format(dst_group),
+            filter_target='eq(spanDestGrp.name, "{}")'.format(dst_group),
             module_object=dst_group,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_tenant_span_src_group.py b/lib/ansible/modules/network/aci/aci_tenant_span_src_group.py
index 72d754e463..fac4f1c721 100755
--- a/lib/ansible/modules/network/aci/aci_tenant_span_src_group.py
+++ b/lib/ansible/modules/network/aci/aci_tenant_span_src_group.py
@@ -111,13 +111,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='spanSrcGrp',
             aci_rn='srcgrp-{}'.format(src_group),
-            filter_target='(spanSrcGrp.name, "{}")'.format(src_group),
+            filter_target='eq(spanSrcGrp.name, "{}")'.format(src_group),
             module_object=src_group,
         ),
         child_classes=['spanSpanLbl'],
diff --git a/lib/ansible/modules/network/aci/aci_tenant_span_src_group_to_dst_group.py b/lib/ansible/modules/network/aci/aci_tenant_span_src_group_to_dst_group.py
index fa43231047..b250354a38 100755
--- a/lib/ansible/modules/network/aci/aci_tenant_span_src_group_to_dst_group.py
+++ b/lib/ansible/modules/network/aci/aci_tenant_span_src_group_to_dst_group.py
@@ -102,19 +102,19 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='spanSrcGrp',
             aci_rn='srcgrp-{}'.format(src_group),
-            filter_target='(spanSrcGrp.name, "{}")'.format(src_group),
+            filter_target='eq(spanSrcGrp.name, "{}")'.format(src_group),
             module_object=src_group,
         ),
         subclass_2=dict(
             aci_class='spanSpanLbl',
             aci_rn='spanlbl-{}'.format(dst_group),
-            filter_target='(spanSpanLbl.name, "{}")'.format(dst_group),
+            filter_target='eq(spanSpanLbl.name, "{}")'.format(dst_group),
             module_object=dst_group,
         ),
     )
diff --git a/lib/ansible/modules/network/aci/aci_vrf.py b/lib/ansible/modules/network/aci/aci_vrf.py
index 13fd546a61..65b931dac4 100644
--- a/lib/ansible/modules/network/aci/aci_vrf.py
+++ b/lib/ansible/modules/network/aci/aci_vrf.py
@@ -136,13 +136,13 @@ def main():
         root_class=dict(
             aci_class='fvTenant',
             aci_rn='tn-{}'.format(tenant),
-            filter_target='(fvTenant.name, "{}")'.format(tenant),
+            filter_target='eq(fvTenant.name, "{}")'.format(tenant),
             module_object=tenant,
         ),
         subclass_1=dict(
             aci_class='fvCtx',
             aci_rn='ctx-{}'.format(vrf),
-            filter_target='(fvCtx.name, "{}")'.format(vrf),
+            filter_target='eq(fvCtx.name, "{}")'.format(vrf),
             module_object=vrf,
         ),
     )
