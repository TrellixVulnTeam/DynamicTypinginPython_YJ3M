commit fda67bae50c3384f8656b5c013bfed5cb360997d
Author: Sam Doran <sdoran@redhat.com>
Date:   Wed Apr 25 16:30:06 2018 -0400

    Ensure timezone tests reset system timezone to original value (#39326)

diff --git a/test/integration/targets/timezone/tasks/main.yml b/test/integration/targets/timezone/tasks/main.yml
index 63b5edf1e7..d0b396d72c 100644
--- a/test/integration/targets/timezone/tasks/main.yml
+++ b/test/integration/targets/timezone/tasks/main.yml
@@ -1,15 +1,21 @@
-- name: set timezone to Etc/UTC
+- name: Set timezone to Etc/UTC
   timezone:
     name: Etc/UTC
+  register: original_timezone
 
-- name: set timezone to Australia/Brisbane
-  timezone:
-    name: Australia/Brisbane
-  register: timezone_set
+- block:
+    - name: Set timezone to Australia/Brisbane
+      timezone:
+        name: Australia/Brisbane
+      register: timezone_set
 
-- name: ensure timezone changed
-  assert:
-    that:
-      - timezone_set.changed
-      - timezone_set.diff.after.name == 'Australia/Brisbane'
-      - timezone_set.diff.before.name == 'Etc/UTC'
+    - name: Ensure timezone changed
+      assert:
+        that:
+          - timezone_set is changed
+          - timezone_set.diff.after.name == 'Australia/Brisbane'
+          - timezone_set.diff.before.name == 'Etc/UTC'
+  always:
+    - name: Restore original system timezone - {{ original_timezone.diff.before.name }}
+      timezone:
+        name: "{{ original_timezone.diff.before.name }}"
