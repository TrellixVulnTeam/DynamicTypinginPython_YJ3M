commit 29f2bf651e68376798dbe7a57b26d7dc2aeaa774
Author: Willian Ricardo <willricardo@gmail.com>
Date:   Tue Aug 7 17:06:06 2018 -0300

    [aws] Allow CloudWatch Log Group retention to be changed when log group exists (#43752)
    
    * fix bugs #42028 and #43735

diff --git a/lib/ansible/modules/cloud/amazon/cloudwatchlogs_log_group.py b/lib/ansible/modules/cloud/amazon/cloudwatchlogs_log_group.py
index e0acc8042c..ee5920fe6f 100644
--- a/lib/ansible/modules/cloud/amazon/cloudwatchlogs_log_group.py
+++ b/lib/ansible/modules/cloud/amazon/cloudwatchlogs_log_group.py
@@ -257,6 +257,14 @@ def main():
                                                tags=module.params['tags'],
                                                retention=module.params['retention'],
                                                module=module)
+        elif found_log_group:
+            if module.params['retention'] != found_log_group['retentionInDays']:
+                changed = True
+                input_retention_policy(client=logs,
+                                       log_group_name=module.params['log_group_name'],
+                                       retention=module.params['retention'],
+                                       module=module)
+                found_log_group['retentionInDays'] = module.params['retention']
 
         module.exit_json(changed=changed, **camel_dict_to_snake_dict(found_log_group))
 
