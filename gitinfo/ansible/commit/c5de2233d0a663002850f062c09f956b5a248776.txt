commit c5de2233d0a663002850f062c09f956b5a248776
Author: Chris Van Heuveln <cvanheuv@cisco.com>
Date:   Mon Mar 11 08:35:59 2019 -0400

    nxos_pim_rp_address: N7K sanity test fix when removing rp w/pfx-list (#53556)
    
    The N7K is another platform that raises an error when trying to remove
    an RP w/prefix-list specified. These tests are now skipped for N7K.

diff --git a/test/integration/targets/nxos_pim_rp_address/tests/common/configure.yaml b/test/integration/targets/nxos_pim_rp_address/tests/common/configure.yaml
index 665aba592a..fb1fd00ca4 100644
--- a/test/integration/targets/nxos_pim_rp_address/tests/common/configure.yaml
+++ b/test/integration/targets/nxos_pim_rp_address/tests/common/configure.yaml
@@ -4,13 +4,16 @@
   when: ansible_connection == "local"
 
 - block:
-  # N3L does not support bidir
+  # platforms do not support bidir
   - set_fact: bidir_true="true"
   - set_fact: bidir_false="false"
-  # N3L can only remove rpa, cannot remove rpa+prefixlist or rpa+routemap
+  when: platform is not search('N3L')
+
+- block:
+  # platforms can only remove rpa, cannot remove rpa+prefixlist or rpa+routemap
   - set_fact: pim_prefix_list="pim_prefix_list"
   - set_fact: pim_route_map="pim_route_map"
-  when: platform is not match("N3L")
+  when: platform is not search('N3L|N7K')
 
 - block:
   - name: "Disable feature PIM"
