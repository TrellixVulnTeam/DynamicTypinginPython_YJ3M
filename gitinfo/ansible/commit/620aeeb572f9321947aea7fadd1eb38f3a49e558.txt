commit 620aeeb572f9321947aea7fadd1eb38f3a49e558
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Oct 16 18:44:09 2012 -0400

    fixed but in pulling data from dmesg command, wrong function to use as file for for loop
    Signed-off-by: Brian Coca <briancoca+ansible@gmail.com>

diff --git a/library/setup b/library/setup
index fee9bad03a..8120667bb7 100755
--- a/library/setup
+++ b/library/setup
@@ -444,7 +444,7 @@ class FreeBSDHardware(Hardware):
         except IOError:
             dmesg_cmd = subprocess.Popen("/sbin/dmesg", shell=True,
                                stdout=subprocess.PIPE, stderr=subprocess.PIPE)
-            dmesg_boot,dmesg_err = dmesg_cmd.communicate()
+            dmesg_boot = dmesg_cmd.stdout
 
         for line in dmesg_boot.readlines():
             if 'CPU:' in line:
