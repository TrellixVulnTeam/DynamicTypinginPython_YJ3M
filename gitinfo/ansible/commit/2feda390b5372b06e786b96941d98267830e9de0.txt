commit 2feda390b5372b06e786b96941d98267830e9de0
Author: Matt Clay <matt@mystile.com>
Date:   Fri Apr 26 11:33:14 2019 -0700

    Fix ansible-test target change classification.

diff --git a/test/runner/lib/classification.py b/test/runner/lib/classification.py
index 461f719961..cc3405be6a 100644
--- a/test/runner/lib/classification.py
+++ b/test/runner/lib/classification.py
@@ -631,17 +631,14 @@ class PathMapper(object):
             if not os.path.exists(path):
                 return minimal
 
-            target = self.integration_targets_by_name[path.split('/')[3]]
+            target = self.integration_targets_by_name.get(path.split('/')[3])
 
-            if 'hidden/' in target.aliases:
-                if target.type == 'role':
-                    return minimal  # already expanded using get_dependent_paths
+            if not target:
+                display.warning('Unexpected non-target found: %s' % path)
+                return minimal
 
-                return {
-                    'integration': self.integration_all_target,
-                    'windows-integration': self.integration_all_target,
-                    'network-integration': self.integration_all_target,
-                }
+            if 'hidden/' in target.aliases:
+                return minimal  # already expanded using get_dependent_paths
 
             return {
                 'integration': target.name if 'posix/' in target.aliases else None,
