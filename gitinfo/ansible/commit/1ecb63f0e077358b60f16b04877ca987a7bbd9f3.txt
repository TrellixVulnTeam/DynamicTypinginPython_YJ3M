commit 1ecb63f0e077358b60f16b04877ca987a7bbd9f3
Author: Fahri Cihan Demirci <femnad@users.noreply.github.com>
Date:   Mon Oct 24 18:55:01 2016 -0400

    Fix String Type for Python 3 Branch Comparison
    
    * Use the `to_native` conversion method to convert a command output to the
      appropriate form when looking for branch names in the command output,
      therefore avoiding a `TypeError` in Python 3.

diff --git a/lib/ansible/modules/source_control/git.py b/lib/ansible/modules/source_control/git.py
index a995217227..06965f03a9 100644
--- a/lib/ansible/modules/source_control/git.py
+++ b/lib/ansible/modules/source_control/git.py
@@ -223,7 +223,7 @@ from distutils.version import LooseVersion
 from ansible.module_utils.basic import AnsibleModule, get_module_path
 from ansible.module_utils.known_hosts import add_git_host_key
 from ansible.module_utils.six import b, string_types
-from ansible.module_utils._text import to_bytes, to_native
+from ansible.module_utils._text import to_native
 
 
 def head_splitter(headfile, remote, module=None, fail_on_error=False):
@@ -519,7 +519,7 @@ def get_tags(git_path, module, dest):
 def is_remote_branch(git_path, module, dest, remote, version):
     cmd = '%s ls-remote %s -h refs/heads/%s' % (git_path, remote, version)
     (rc, out, err) = module.run_command(cmd, check_rc=True, cwd=dest)
-    if to_bytes(version, errors='surrogate_or_strict') in out:
+    if to_native(version, errors='surrogate_or_strict') in out:
         return True
     else:
         return False
