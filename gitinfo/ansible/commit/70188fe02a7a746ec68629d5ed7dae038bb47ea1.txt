commit 70188fe02a7a746ec68629d5ed7dae038bb47ea1
Author: Benno Joy <benno@ansible.com>
Date:   Thu May 14 09:03:50 2015 +0530

    Fixes issue 1197 for s3 module, where the file gets downloaded even if checksums match

diff --git a/lib/ansible/modules/cloud/amazon/s3.py b/lib/ansible/modules/cloud/amazon/s3.py
index a9dafeaaae..e14a1ba701 100644
--- a/lib/ansible/modules/cloud/amazon/s3.py
+++ b/lib/ansible/modules/cloud/amazon/s3.py
@@ -328,6 +328,12 @@ def main():
     s3_url = module.params.get('s3_url')
     src = module.params.get('src')
 
+    if overwrite not in  ['always', 'never', 'different']: 
+        if module.boolean(overwrite): 
+            overwrite = 'always' 
+        else: 
+            overwrite='never'
+
     if overwrite not in  ['always', 'never', 'different']: 
         if module.boolean(overwrite): 
             overwrite = 'always' 
