commit e1aa05bf9a1d2e239de4a0967a2d04d8b0b56163
Author: Sloane Hertel <shertel@redhat.com>
Date:   Tue Nov 6 14:30:54 2018 -0500

    [AWS] Allow the profile to take precedence to allow better compatibility between ~/.boto and ~/.aws/credential files (#45806)

diff --git a/lib/ansible/module_utils/ec2.py b/lib/ansible/module_utils/ec2.py
index 31d2712d25..b586f377d4 100644
--- a/lib/ansible/module_utils/ec2.py
+++ b/lib/ansible/module_utils/ec2.py
@@ -285,6 +285,7 @@ def get_aws_connection_info(module, boto3=False):
         boto_params['verify'] = validate_certs
 
         if profile_name:
+            boto_params = dict(aws_access_key_id=None, aws_secret_access_key=None, aws_session_token=None)
             boto_params['profile_name'] = profile_name
 
     else:
