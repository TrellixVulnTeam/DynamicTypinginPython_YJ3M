commit 2d14cdc5ac40e30359aca303a3e0299dfc3e9752
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Wed Feb 15 12:12:59 2017 -0500

    fixes broken run_commands() method (#21478)

diff --git a/lib/ansible/module_utils/nxos.py b/lib/ansible/module_utils/nxos.py
index fa24e0b411..1364599dd8 100644
--- a/lib/ansible/module_utils/nxos.py
+++ b/lib/ansible/module_utils/nxos.py
@@ -338,14 +338,15 @@ def to_command(module, commands):
         elif is_text(item['command']):
             item['output'] = 'text'
 
+    return commands
+
 def get_config(module, flags=[]):
     conn = get_connection(module)
     return conn.get_config(flags)
 
 def run_commands(module, commands, check_rc=True):
     conn = get_connection(module)
-    to_command(module, commands)
-    return conn.run_commands(commands)
+    return conn.run_commands(to_command(module, commands))
 
 def load_config(module, config):
     conn = get_connection(module)
