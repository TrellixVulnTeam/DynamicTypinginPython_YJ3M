commit ba2c8a24e2af83777f7fc5d153c69e5ec9ed3494
Author: saichint <saichint@cisco.com>
Date:   Wed Nov 14 07:43:35 2018 -0800

    add N3K-F type to nxos platforms (#47944)

diff --git a/test/integration/targets/prepare_nxos_tests/tasks/main.yml b/test/integration/targets/prepare_nxos_tests/tasks/main.yml
index a5040cf93b..f89a1bad2e 100644
--- a/test/integration/targets/prepare_nxos_tests/tasks/main.yml
+++ b/test/integration/targets/prepare_nxos_tests/tasks/main.yml
@@ -66,8 +66,12 @@
 - set_fact: chassis_type="{{ nxos_inventory_output.stdout_lines[0]['TABLE_inv']['ROW_inv'][0]['productid'].split('-')[1] }}"
 
 # Check if platform is fretta
-- set_fact: fretta={% for row in nxos_inventory_output.stdout_lines[0]['TABLE_inv']['ROW_inv'] if 'FM-R' in row['productid'] %}"true"{% endfor %}
-  when: platform is match("N9K")
+- set_fact: fretta={% for row in nxos_inventory_output.stdout_lines[0]['TABLE_inv']['ROW_inv'] if '-R' in row['productid'] %}"true"{% endfor %}
+  when: platform is match("N9K|N3K")
+
+# Set platform to N3K-F for fretta
+- set_fact: platform="N3K-F"
+  when: ( platform is match("N3K")) and ( fretta is search("true"))
 
 # Set platform to N9K-F for fretta
 - set_fact: platform="N9K-F"
