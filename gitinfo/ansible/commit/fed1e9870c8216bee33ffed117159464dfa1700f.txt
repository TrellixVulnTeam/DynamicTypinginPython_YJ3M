commit fed1e9870c8216bee33ffed117159464dfa1700f
Author: Peter Sankauskas <pas256@gmail.com>
Date:   Fri Jul 6 18:05:15 2012 -0700

    Assigning to boolean first

diff --git a/library/apt b/library/apt
index 05a58b9359..1cc86a8a11 100755
--- a/library/apt
+++ b/library/apt
@@ -157,6 +157,7 @@ if package is None and update_cache != 'yes':
 
 if install_recommends not in ['yes', 'no']:
     fail_json(msg='invalid value for install-recommends (requires yes or no -- default is yes)')
+install_recommends = (install_recommends == 'yes')
 
 cache = apt.Cache()
 if default_release:
@@ -178,10 +179,10 @@ if state == 'latest':
         fail_json(msg='version number inconsistent with state=latest')
     changed = install(package, cache, upgrade=True,
                       default_release=default_release,
-                      install_recommends = install_recommends == 'yes')
+                      install_recommends=install_recommends)
 elif state == 'installed':
     changed = install(package, cache, default_release=default_release,
-                      install_recommends = install_recommends == 'yes')
+                      install_recommends=install_recommends)
 elif state == 'removed':
     changed = remove(package, cache, purge == 'yes')
 
