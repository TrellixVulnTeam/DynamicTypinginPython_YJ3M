commit 6ffda40d8a7502abd00d0284ded91644f39a9c17
Author: Simon Dodsley <simon@purestorage.com>
Date:   Fri Mar 22 00:52:05 2019 -0400

    Add collection of host target ports connected to a host object (#54141)

diff --git a/lib/ansible/modules/storage/purestorage/purefa_facts.py b/lib/ansible/modules/storage/purestorage/purefa_facts.py
index cc94bbbf90..1beb6d2d50 100644
--- a/lib/ansible/modules/storage/purestorage/purefa_facts.py
+++ b/lib/ansible/modules/storage/purestorage/purefa_facts.py
@@ -585,12 +585,17 @@ def generate_host_dict(array):
     hosts = array.list_hosts()
     for host in range(0, len(hosts)):
         hostname = hosts[host]['name']
+        tports = []
+        host_all_info = array.get_host(hostname, all=True)
+        if host_all_info:
+            tports = host_all_info[0]['target_port']
         host_facts[hostname] = {
             'hgroup': hosts[host]['hgroup'],
             'iqn': hosts[host]['iqn'],
             'wwn': hosts[host]['wwn'],
             'personality': array.get_host(hostname,
-                                          personality=True)['personality']
+                                          personality=True)['personality'],
+            'target_port': tports
         }
         if NVME_API_VERSION in api_version:
             host_facts[hostname]['nqn'] = hosts[host]['nqn']
