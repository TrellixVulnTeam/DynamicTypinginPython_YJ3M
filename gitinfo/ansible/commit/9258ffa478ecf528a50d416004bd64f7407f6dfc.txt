commit 9258ffa478ecf528a50d416004bd64f7407f6dfc
Author: Yuwei Zhou <yuwzho@microsoft.com>
Date:   Thu Oct 18 10:52:30 2018 +0800

    Fix auto scale create with fix date without  recurrence (#47186)
    
    * Fix auto scale create with fix date without  recurrence
    
    * fix indent

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_autoscale.py b/lib/ansible/modules/cloud/azure/azure_rm_autoscale.py
index 8c3b38c2fe..e285768cfb 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_autoscale.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_autoscale.py
@@ -550,8 +550,9 @@ class AzureRMAutoScale(AzureRMModuleBase):
                                                                schedule=(RecurrentSchedule(time_zone=p.get('recurrence_timezone'),
                                                                                            days=p.get('recurrence_days'),
                                                                                            hours=p.get('recurrence_hours'),
-                                                                                           minutes=p.get('recurrence_mins')))
-                                                               if p.get('recurrence_frequency') else None)) for p in self.profiles or []]
+                                                                                           minutes=p.get('recurrence_mins'))))
+                                         if p.get('recurrence_frequency') and p['recurrence_frequency'] != 'None' else None)
+                        for p in self.profiles or []]
 
             notifications = [AutoscaleNotification(email=EmailNotification(**n),
                                                    webhooks=[WebhookNotification(service_uri=w) for w in n.get('webhooks') or []])
