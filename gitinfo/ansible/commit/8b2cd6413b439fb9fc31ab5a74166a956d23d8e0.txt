commit 8b2cd6413b439fb9fc31ab5a74166a956d23d8e0
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Thu Oct 31 17:19:58 2013 -0400

    When inside an apt or yum task account for multiple conditionals. Fixes 4745.

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index 3ed9c893c4..f5f2de4833 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -165,6 +165,11 @@ def is_changed(result):
 
 def check_conditional(conditional, basedir, inject, fail_on_undefined=False, jinja2=False):
 
+    if isinstance(conditional, list):
+        for x in conditional:
+            if not check_conditional(x, basedir, inject, fail_on_undefined=fail_on_undefined, jinja2=jinja2):
+                return False
+        return True
 
     if jinja2:
         conditional = "jinja2_compare %s" % conditional
