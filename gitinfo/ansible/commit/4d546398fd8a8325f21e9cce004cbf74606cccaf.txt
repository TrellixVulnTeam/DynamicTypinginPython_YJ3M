commit 4d546398fd8a8325f21e9cce004cbf74606cccaf
Author: Matt Clay <matt@mystile.com>
Date:   Tue Jan 15 16:42:49 2019 -0800

    Further cleanup of integration test inventory. (#50919)
    
    * Further cleanup of integration test inventory.
    * Preserve aci and msc inventory in template.
    * Update ansible-test inventory template handling.
    * Fix classification of inventory file.

diff --git a/test/integration/inventory b/test/integration/inventory
index 1a87fb93c3..4c2e0d1e86 100644
--- a/test/integration/inventory
+++ b/test/integration/inventory
@@ -3,25 +3,3 @@
 
 [testgroup]
 testhost ansible_connection=local
-
-[aci:vars]
-aci_hostname=your-apic-1
-aci_username=admin
-aci_password=your-apic-password
-aci_validate_certs=no
-aci_use_ssl=yes
-aci_use_proxy=no
-
-[aci]
-localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
-
-[msc:vars]
-msc_hostname=your-msc-1
-msc_username=admin
-msc_password=your-msc-password
-msc_validate_certs=no
-msc_use_ssl=yes
-msc_use_proxy=no
-
-[msc]
-localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
diff --git a/test/integration/inventory.networking.template b/test/integration/inventory.networking.template
index 004db95474..e3ef7ab2fd 100644
--- a/test/integration/inventory.networking.template
+++ b/test/integration/inventory.networking.template
@@ -13,6 +13,27 @@
 [@OS]
 @NAME ansible_connection="local" ansible_host=@HOST ansible_network_os="@OS" ansible_user="@USER" ansible_ssh_private_key_file="@KEY_FILE"
 
+[aci:vars]
+aci_hostname=your-apic-1
+aci_username=admin
+aci_password=your-apic-password
+aci_validate_certs=no
+aci_use_ssl=yes
+aci_use_proxy=no
+
+[aci]
+localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
+
+[msc:vars]
+msc_hostname=your-msc-1
+msc_username=admin
+msc_password=your-msc-password
+msc_validate_certs=no
+msc_use_ssl=yes
+msc_use_proxy=no
+
+[msc]
+localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
 
 ###
 # Example
diff --git a/test/runner/lib/classification.py b/test/runner/lib/classification.py
index 4356dc2a91..160a797b21 100644
--- a/test/runner/lib/classification.py
+++ b/test/runner/lib/classification.py
@@ -635,6 +635,14 @@ class PathMapper(object):
                 if filename == 'platform_agnostic.yaml':
                     return minimal  # network integration test playbook not used by ansible-test
 
+                if filename.startswith('inventory.') and filename.endswith('.template'):
+                    return minimal  # ansible-test does not use these inventory templates
+
+                if filename == 'inventory':
+                    return {
+                        'integration': self.integration_all_target,
+                    }
+
                 for command in (
                         'integration',
                         'windows-integration',
