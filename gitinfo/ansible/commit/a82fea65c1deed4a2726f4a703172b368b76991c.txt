commit a82fea65c1deed4a2726f4a703172b368b76991c
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Mar 26 13:09:50 2018 -0700

    We need to save the basename into an attribute for calling code

diff --git a/lib/ansible/plugins/loader.py b/lib/ansible/plugins/loader.py
index 8a7c4aec33..1d1411d17b 100644
--- a/lib/ansible/plugins/loader.py
+++ b/lib/ansible/plugins/loader.py
@@ -506,7 +506,7 @@ class PluginLoader:
             if not found_in_cache:
                 self._load_config_defs(basename, path)
 
-            self._update_object(obj, name, path)
+            self._update_object(obj, basename, path)
             yield obj
 
 
