commit eefe359d6b0d29b5ead94c560c7a6475235899e2
Author: Matt Martz <matt@sivel.net>
Date:   Fri Sep 9 08:30:37 2016 -0500

    Don't use the shell to catch output, catch output in python. Fixes #17137 (#17449)

diff --git a/lib/ansible/cli/__init__.py b/lib/ansible/cli/__init__.py
index 3176d9c956..48def42ba9 100644
--- a/lib/ansible/cli/__init__.py
+++ b/lib/ansible/cli/__init__.py
@@ -479,10 +479,13 @@ class CLI(object):
                 display.display(text)
             else:
                 self.pager_pipe(text, os.environ['PAGER'])
-        elif subprocess.call('(less --version) &> /dev/null', shell = True) == 0:
-            self.pager_pipe(text, 'less')
         else:
-            display.display(text)
+            p = subprocess.Popen('less --version', shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
+            p.communicate()
+            if p.returncode == 0:
+                self.pager_pipe(text, 'less')
+            else:
+                display.display(text)
 
     @staticmethod
     def pager_pipe(text, cmd):
