commit 523e40e993c06a6c15234c9a3c951b5398e44184
Author: Alex Stephen <alexstephen@google.com>
Date:   Fri Aug 16 03:04:32 2019 -0700

    nonetype error (#60603)

diff --git a/lib/ansible/plugins/inventory/gcp_compute.py b/lib/ansible/plugins/inventory/gcp_compute.py
index 5876aab538..c6525b34fd 100644
--- a/lib/ansible/plugins/inventory/gcp_compute.py
+++ b/lib/ansible/plugins/inventory/gcp_compute.py
@@ -495,13 +495,14 @@ class InventoryModule(BaseInventoryPlugin, Constructable, Cacheable):
                 # Fetch all instances
                 link = self._instances % project
                 resp = self.fetch_list(params, link, query)
-                for key, value in resp.get('items').items():
-                    if 'instances' in value:
-                        # Key is in format: "zones/europe-west1-b"
-                        zone = key[6:]
-                        if not zones or zone in zones:
-                            self._add_hosts(value['instances'], config_data, project_disks=project_disks)
-                            cached_data[project][zone] = value['instances']
+                if 'items' in resp and resp['items']:
+                    for key, value in resp.get('items').items():
+                        if 'instances' in value:
+                            # Key is in format: "zones/europe-west1-b"
+                            zone = key[6:]
+                            if not zones or zone in zones:
+                                self._add_hosts(value['instances'], config_data, project_disks=project_disks)
+                                cached_data[project][zone] = value['instances']
 
         if cache_needs_update:
             self._cache[cache_key] = cached_data
