commit 96780cf0351bd020d1564f6e688563e9d08a2a66
Author: Fabio Alessandro Locati <me@fale.io>
Date:   Mon Dec 5 16:21:26 2016 +0000

    Make `main()` calls conditional - notifications (#3656)

diff --git a/lib/ansible/modules/extras/notification/flowdock.py b/lib/ansible/modules/extras/notification/flowdock.py
index 1e1e5e9fde..7297ef1f63 100644
--- a/lib/ansible/modules/extras/notification/flowdock.py
+++ b/lib/ansible/modules/extras/notification/flowdock.py
@@ -191,5 +191,5 @@ def main():
 from ansible.module_utils.basic import *
 from ansible.module_utils.urls import *
 
-main()
-
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/grove.py b/lib/ansible/modules/extras/notification/grove.py
index c766145689..9db937c0cf 100644
--- a/lib/ansible/modules/extras/notification/grove.py
+++ b/lib/ansible/modules/extras/notification/grove.py
@@ -114,4 +114,6 @@ def main():
 # import module snippets
 from ansible.module_utils.basic import *
 from ansible.module_utils.urls import *
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/hall.py b/lib/ansible/modules/extras/notification/hall.py
index 23f4a0c744..a42a2aeeee 100755
--- a/lib/ansible/modules/extras/notification/hall.py
+++ b/lib/ansible/modules/extras/notification/hall.py
@@ -94,4 +94,6 @@ def main():
 
 from ansible.module_utils.basic import *
 from ansible.module_utils.urls import *
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/irc.py b/lib/ansible/modules/extras/notification/irc.py
index 2e5cc1da14..6678e0eb4a 100644
--- a/lib/ansible/modules/extras/notification/irc.py
+++ b/lib/ansible/modules/extras/notification/irc.py
@@ -306,4 +306,6 @@ def main():
 # import module snippets
 from ansible.module_utils.basic import *
 from ansible.module_utils.pycompat24 import get_exception
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/jabber.py b/lib/ansible/modules/extras/notification/jabber.py
index d9fa001515..4da7f8296f 100644
--- a/lib/ansible/modules/extras/notification/jabber.py
+++ b/lib/ansible/modules/extras/notification/jabber.py
@@ -167,4 +167,6 @@ def main():
 # import module snippets
 from ansible.module_utils.basic import *
 from ansible.module_utils.pycompat24 import get_exception
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/mail.py b/lib/ansible/modules/extras/notification/mail.py
index fbbdcff267..f51982f37c 100644
--- a/lib/ansible/modules/extras/notification/mail.py
+++ b/lib/ansible/modules/extras/notification/mail.py
@@ -308,4 +308,6 @@ def main():
 # import module snippets
 from ansible.module_utils.basic import *
 from ansible.module_utils.pycompat24 import get_exception
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/mqtt.py b/lib/ansible/modules/extras/notification/mqtt.py
index af276f9254..36bbf44d7b 100644
--- a/lib/ansible/modules/extras/notification/mqtt.py
+++ b/lib/ansible/modules/extras/notification/mqtt.py
@@ -207,4 +207,6 @@ def main():
 # import module snippets
 from ansible.module_utils.basic import *
 from ansible.module_utils.pycompat24 import get_exception
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/nexmo.py b/lib/ansible/modules/extras/notification/nexmo.py
index 89a246c0d9..fa6b0b2225 100644
--- a/lib/ansible/modules/extras/notification/nexmo.py
+++ b/lib/ansible/modules/extras/notification/nexmo.py
@@ -138,4 +138,5 @@ def main():
 from ansible.module_utils.basic import *
 from ansible.module_utils.urls import *
 
-main()
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/osx_say.py b/lib/ansible/modules/extras/notification/osx_say.py
index 0a64269bab..1153a4c88d 100644
--- a/lib/ansible/modules/extras/notification/osx_say.py
+++ b/lib/ansible/modules/extras/notification/osx_say.py
@@ -74,4 +74,6 @@ def main():
 
 # import module snippets
 from ansible.module_utils.basic import *
-main()
+
+if __name__ == '__main__':
+    main()
diff --git a/lib/ansible/modules/extras/notification/pushbullet.py b/lib/ansible/modules/extras/notification/pushbullet.py
index 4700e63b13..6dd2c2232c 100644
--- a/lib/ansible/modules/extras/notification/pushbullet.py
+++ b/lib/ansible/modules/extras/notification/pushbullet.py
@@ -184,4 +184,6 @@ def main():
 
 # import module snippets
 from ansible.module_utils.basic import *
-main()
+
+if __name__ == '__main__':
+    main()
