commit 0cefc2358b292030f70cad63560c3fe810324cc0
Author: Michael Schuett <michaeljs1990@gmail.com>
Date:   Tue Jul 7 15:36:10 2015 -0400

    Handle connection error
    
    Try and help when mac hits a connection error.

diff --git a/lib/ansible/modules/cloud/docker/docker_image.py b/lib/ansible/modules/cloud/docker/docker_image.py
index 6f41755c92..3807c963de 100644
--- a/lib/ansible/modules/cloud/docker/docker_image.py
+++ b/lib/ansible/modules/cloud/docker/docker_image.py
@@ -431,6 +431,20 @@ def main():
         else:
             module.exit_json(failed=True, chaged=manager.has_changed(), msg="SSLError: " + str(e))
 
+    except ConnectionError as e:
+        if get_platform() == "Darwin" and "DOCKER_HOST" not in os.environ:
+            # Ensure that the environment variables has been set
+            environment_error = '''
+            It looks like you have not set your docker environment
+            variables. Please ensure that you have set the requested
+            variables as instructed when running boot2docker up. If
+            they are set in .bash_profile you will need to symlink
+            it to .bashrc.
+            '''
+            module.exit_json(failed=True, chaged=manager.has_changed(), msg="ConnectionError: " + str(e) + environment_error)
+
+        module.exit_json(failed=True, chaged=manager.has_changed(), msg="ConnectionError: " + str(e))
+
     except DockerAPIError as e:
         module.exit_json(failed=True, changed=manager.has_changed(), msg="Docker API error: " + e.explanation)
 
