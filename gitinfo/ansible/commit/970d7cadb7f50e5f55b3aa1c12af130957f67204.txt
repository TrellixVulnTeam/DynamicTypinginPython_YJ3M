commit 970d7cadb7f50e5f55b3aa1c12af130957f67204
Author: David L Ballenger <dlb@davidlballenger.com>
Date:   Tue Dec 8 07:11:02 2015 -0800

    Add ssh_host support for MacOSX El Capitan.
    
    OS X El Capitan moved the /etc/ssh_* files into /etc/ssh/. This fix
    adds a distribution version check for Darwin to set the keydir
    appropriately on El Capitan and later.

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 4120a51fb5..94a5a11f72 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -524,7 +524,10 @@ class Facts(object):
         keytypes = ('dsa', 'rsa', 'ecdsa', 'ed25519')
 
         if self.facts['system'] == 'Darwin':
-            keydir = '/etc'
+            if self.facts['distribution'] == 'MacOSX' and LooseVersion(self.facts['distribution_version']) >= LooseVersion('10.11') :
+                keydir = '/etc/ssh'
+            else:
+                keydir = '/etc'
         else:
             keydir = '/etc/ssh'
 
