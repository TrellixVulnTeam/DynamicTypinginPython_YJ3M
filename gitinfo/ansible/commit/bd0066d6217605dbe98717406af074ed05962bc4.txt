commit bd0066d6217605dbe98717406af074ed05962bc4
Author: Jesper Geertsen Jonsson <jesper.geertsen.jonsson@gmail.com>
Date:   Mon Dec 7 21:52:41 2015 +0100

    Adds support for converting a MAC address to an integer.
    
    Example:
    ---
    - hosts: local
      tasks:
        - set_fact: mac_str="52:54:00:00:00:00"
        - set_fact: base_mac="{{ mac_str | macaddr('int') }}"
        - debug: msg="{{ (base_mac|int + 257) | macaddr('linux') }}" # 52:54:00:00:01:01

diff --git a/lib/ansible/plugins/filter/ipaddr.py b/lib/ansible/plugins/filter/ipaddr.py
index bfcf32af05..4afe4222dc 100644
--- a/lib/ansible/plugins/filter/ipaddr.py
+++ b/lib/ansible/plugins/filter/ipaddr.py
@@ -228,6 +228,9 @@ def _bool_hwaddr_query(v):
     if v:
         return True
 
+def _int_hwaddr_query(v):
+    return int(v)
+
 def _cisco_query(v):
     v.dialect = netaddr.mac_cisco
     return str(v)
@@ -637,6 +640,7 @@ def hwaddr(value, query = '', alias = 'hwaddr'):
             '': _empty_hwaddr_query,
             'bare': _bare_query,
             'bool': _bool_hwaddr_query,
+            'int': _int_hwaddr_query,
             'cisco': _cisco_query,
             'eui48': _win_query,
             'linux': _linux_query,
