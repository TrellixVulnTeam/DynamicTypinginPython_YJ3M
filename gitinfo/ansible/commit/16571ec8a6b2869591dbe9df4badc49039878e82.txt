commit 16571ec8a6b2869591dbe9df4badc49039878e82
Author: Zim Kalinowski <zikalino@microsoft.com>
Date:   Thu Mar 7 14:55:28 2019 +0800

    Updating azure-mgmt-resource package version to 2.1.0 (#53437)

diff --git a/lib/ansible/module_utils/azure_rm_common.py b/lib/ansible/module_utils/azure_rm_common.py
index cf2d3e01af..0e323e2bb0 100644
--- a/lib/ansible/module_utils/azure_rm_common.py
+++ b/lib/ansible/module_utils/azure_rm_common.py
@@ -221,7 +221,7 @@ AZURE_PKG_VERSIONS = {
     },
     'ResourceManagementClient': {
         'package_name': 'resource',
-        'expected_version': '1.2.2'
+        'expected_version': '2.1.0'
     },
     'DnsManagementClient': {
         'package_name': 'dns',
diff --git a/lib/ansible/modules/cloud/azure/azure_rm_deployment.py b/lib/ansible/modules/cloud/azure/azure_rm_deployment.py
index af0782f7df..905fb2f6cb 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_deployment.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_deployment.py
@@ -503,7 +503,7 @@ class AzureRMDeploymentManager(AzureRMModuleBase):
         :return:
         """
 
-        deploy_parameter = self.rm_models.DeploymentProperties(self.deployment_mode)
+        deploy_parameter = self.rm_models.DeploymentProperties(mode=self.deployment_mode)
         if not self.parameters_link:
             deploy_parameter.parameters = self.parameters
         else:
diff --git a/packaging/requirements/requirements-azure.txt b/packaging/requirements/requirements-azure.txt
index e288fdbbc7..57ba4ad259 100644
--- a/packaging/requirements/requirements-azure.txt
+++ b/packaging/requirements/requirements-azure.txt
@@ -17,7 +17,7 @@ azure-mgmt-monitor==0.5.2
 azure-mgmt-network==2.3.0
 azure-mgmt-nspkg==2.0.0
 azure-mgmt-redis==5.0.0
-azure-mgmt-resource==1.2.2
+azure-mgmt-resource==2.1.0
 azure-mgmt-rdbms==1.4.1
 azure-mgmt-sql==0.10.0
 azure-mgmt-storage==3.1.0
diff --git a/test/runner/requirements/integration.cloud.azure.txt b/test/runner/requirements/integration.cloud.azure.txt
index e288fdbbc7..57ba4ad259 100644
--- a/test/runner/requirements/integration.cloud.azure.txt
+++ b/test/runner/requirements/integration.cloud.azure.txt
@@ -17,7 +17,7 @@ azure-mgmt-monitor==0.5.2
 azure-mgmt-network==2.3.0
 azure-mgmt-nspkg==2.0.0
 azure-mgmt-redis==5.0.0
-azure-mgmt-resource==1.2.2
+azure-mgmt-resource==2.1.0
 azure-mgmt-rdbms==1.4.1
 azure-mgmt-sql==0.10.0
 azure-mgmt-storage==3.1.0
