commit a417a4f4b3484464e16b2ae1049aeaf910971aa3
Author: Dag Wieers <dag@wieers.com>
Date:   Thu Nov 17 15:32:05 2016 +0100

    Performance improvement using in-operator on dicts
    
    Just a small cleanup for the existing occurrences.
    
    Using the in-operator for hash lookups is faster than using .keys()
    http://stackoverflow.com/questions/29314269/why-do-key-in-dict-and-key-in-dict-keys-have-the-same-output

diff --git a/lib/ansible/modules/extras/cloud/misc/rhevm.py b/lib/ansible/modules/extras/cloud/misc/rhevm.py
index 1521061ef8..efe775a13e 100644
--- a/lib/ansible/modules/extras/cloud/misc/rhevm.py
+++ b/lib/ansible/modules/extras/cloud/misc/rhevm.py
@@ -715,22 +715,22 @@ class RHEVConn(object):
                 for iface in ifaces:
                     try:
                         setMsg('creating host interface ' + iface['name'])
-                        if 'management' in iface.keys():
+                        if 'management' in iface:
                             manageip = iface['ip']
-                        if 'boot_protocol' not in iface.keys():
-                            if 'ip' in iface.keys():
+                        if 'boot_protocol' not in iface:
+                            if 'ip' in iface:
                                 iface['boot_protocol'] = 'static'
                             else:
                                 iface['boot_protocol'] = 'none'
-                        if 'ip' not in iface.keys():
+                        if 'ip' not in iface:
                             iface['ip'] = ''
-                        if 'netmask' not in iface.keys():
+                        if 'netmask' not in iface:
                             iface['netmask'] = ''
-                        if 'gateway' not in iface.keys():
+                        if 'gateway' not in iface:
                             iface['gateway'] = ''
 
-                        if 'network' in iface.keys():
-                            if 'bond' in iface.keys():
+                        if 'network' in iface:
+                            if 'bond' in iface:
                                 bond = []
                                 for slave in iface['bond']:
                                     bond.append(ifacelist[slave])
diff --git a/lib/ansible/modules/extras/network/haproxy.py b/lib/ansible/modules/extras/network/haproxy.py
index 0d1db0397e..0ab1754946 100644
--- a/lib/ansible/modules/extras/network/haproxy.py
+++ b/lib/ansible/modules/extras/network/haproxy.py
@@ -196,10 +196,10 @@ class HAProxy(object):
         """
         Capture the output for a command
         """
-        if not 'command' in self.command_results.keys():
+        if 'command' not in self.command_results:
             self.command_results['command'] = []
         self.command_results['command'].append(cmd)
-        if not 'output' in self.command_results.keys():
+        if 'output' not in self.command_results:
             self.command_results['output'] = []
         self.command_results['output'].append(output)
 
diff --git a/lib/ansible/modules/extras/network/snmp_facts.py b/lib/ansible/modules/extras/network/snmp_facts.py
index 28546dfc71..1411b8026a 100644
--- a/lib/ansible/modules/extras/network/snmp_facts.py
+++ b/lib/ansible/modules/extras/network/snmp_facts.py
@@ -153,7 +153,7 @@ def lookup_adminstatus(int_adminstatus):
                             2: 'down',
                             3: 'testing'
                           }
-    if int_adminstatus in adminstatus_options.keys():
+    if int_adminstatus in adminstatus_options:
         return adminstatus_options[int_adminstatus]
     else:
         return ""
@@ -168,7 +168,7 @@ def lookup_operstatus(int_operstatus):
                            6: 'notPresent',
                            7: 'lowerLayerDown'
                          }
-    if int_operstatus in operstatus_options.keys():
+    if int_operstatus in operstatus_options:
         return operstatus_options[int_operstatus]
     else:
         return ""
