commit b3601435c4886be77cdd9f3b12894644173d410c
Author: Matt Clay <matt@mystile.com>
Date:   Fri Jan 18 14:31:02 2019 -0800

    Enable yum integration tests on RHEL 8.0.

diff --git a/test/integration/targets/setup_rpm_repo/tasks/main.yml b/test/integration/targets/setup_rpm_repo/tasks/main.yml
index c2d56528d9..6f80b701a4 100644
--- a/test/integration/targets/setup_rpm_repo/tasks/main.yml
+++ b/test/integration/targets/setup_rpm_repo/tasks/main.yml
@@ -4,6 +4,7 @@
       name: https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
     when:
       - ansible_distribution in ['RedHat']
+      - ansible_distribution_major_version is version('7', '==')
 
   - name: Install rpmfluff and deps
     package:
@@ -34,6 +35,22 @@
     when:
       - ansible_distribution not in ['Fedora']
       - ansible_python["version"]["major"] == 3
+      - not (ansible_distribution == 'RedHat' and ansible_distribution_major_version is version('8', '>='))
+
+  - name: Install rpmfluff from pip on RHEL 8 and later
+    pip:
+      name: rpmfluff
+    when:
+      - ansible_distribution == 'RedHat' and ansible_distribution_major_version is version('8', '>=')
+
+  - name: Install packages needed on RHEL 8 and later
+    dnf:
+      name: "{{ item }}"
+    with_items:
+      - createrepo_c
+      - rpm-build
+    when:
+      - ansible_distribution == 'RedHat' and ansible_distribution_major_version is version('8', '>=')
 
   - name: Copy script for creating a repo
     copy:
diff --git a/test/integration/targets/yum/aliases b/test/integration/targets/yum/aliases
index a02d9136d1..c8c53ee688 100644
--- a/test/integration/targets/yum/aliases
+++ b/test/integration/targets/yum/aliases
@@ -2,4 +2,3 @@ destructive
 shippable/posix/group1
 skip/freebsd
 skip/osx
-skip/rhel8.0
