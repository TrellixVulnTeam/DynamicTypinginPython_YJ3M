commit 1a5ee115f0b0677de38dc60091530859a76dee13
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Mar 8 14:49:18 2016 -0500

    Fixing minor logic error in error detection/handling in ssh connection plugin
    
    If max retries were reached, no AnsibleConnectionFailure was raised, which
    means potentially in some cases an unreachable error might not be returned

diff --git a/lib/ansible/plugins/connection/ssh.py b/lib/ansible/plugins/connection/ssh.py
index 328ace5537..c24a5623ed 100644
--- a/lib/ansible/plugins/connection/ssh.py
+++ b/lib/ansible/plugins/connection/ssh.py
@@ -591,7 +591,7 @@ class Connection(ConnectionBase):
                 # 0 = success
                 # 1-254 = remote command return code
                 # 255 = failure from the ssh command itself
-                if return_tuple[0] != 255 or attempt == (remaining_tries - 1):
+                if return_tuple[0] != 255:
                     break
                 else:
                     raise AnsibleConnectionFailure("Failed to connect to the host via ssh.")
