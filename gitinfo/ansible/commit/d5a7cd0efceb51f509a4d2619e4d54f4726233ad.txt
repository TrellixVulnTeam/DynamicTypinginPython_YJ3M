commit d5a7cd0efceb51f509a4d2619e4d54f4726233ad
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Apr 14 12:44:04 2015 -0400

    bad hack to maybe fix some corner cases with pbrun custom prompts

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index 07e8174893..7ed07a54c8 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -1250,6 +1250,7 @@ def make_become_cmd(cmd, user, shell, method, flags=None, exe=None):
         becomecmd = '%s %s %s -c "%s -c %s"' % (exe, flags, user, shell, pipes.quote('echo %s; %s' % (success_key, cmd)))
 
     elif method == 'pbrun':
+        prompt = 'assword:'
         exe = exe or 'pbrun'
         flags = flags or ''
         becomecmd = '%s -b -l %s -u %s "%s"' % (exe, flags, user, pipes.quote('echo %s; %s' % (success_key,cmd)))
