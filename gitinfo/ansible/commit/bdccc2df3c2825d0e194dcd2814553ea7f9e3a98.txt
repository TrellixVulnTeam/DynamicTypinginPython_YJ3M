commit bdccc2df3c2825d0e194dcd2814553ea7f9e3a98
Author: James Mighion <james.mighion@gmail.com>
Date:   Mon Aug 7 11:30:10 2017 -0400

    Keep the diff even when running in check mode so we can tell if there is a diff or changed is true. (#27713)

diff --git a/lib/ansible/module_utils/iosxr.py b/lib/ansible/module_utils/iosxr.py
index 3b5ba54b28..3e01d29c3d 100644
--- a/lib/ansible/module_utils/iosxr.py
+++ b/lib/ansible/module_utils/iosxr.py
@@ -139,7 +139,6 @@ def load_config(module, commands, warnings, commit=False, replace=False, comment
             cmd += ' comment {0}'.format(comment)
     else:
         cmd = 'abort'
-        diff = None
 
     rc, out, err = exec_command(module, cmd)
     if rc != 0:
