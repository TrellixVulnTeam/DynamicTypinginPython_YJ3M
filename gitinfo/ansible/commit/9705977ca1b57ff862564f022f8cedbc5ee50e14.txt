commit 9705977ca1b57ff862564f022f8cedbc5ee50e14
Author: Martin Neƒças <necas.marty@gmail.com>
Date:   Mon Apr 1 11:40:28 2019 +0200

    Ovirt add docs suboptions (#54639)
    
    * ovirt disks suboptions
    
    * ovirt_network add docs suboptions
    
    * ovirt_network add suboptions types
    
    * add another ovirt docs suboptions
    
    * ovirt cluster correct description
    
    * finish ovirt_vm suboptions docs

diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_cluster.py b/lib/ansible/modules/cloud/ovirt/ovirt_cluster.py
index 9957808251..dc15c61604 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_cluster.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_cluster.py
@@ -241,12 +241,14 @@ options:
                in the cluster. If the automatic deployment of the external
                network provider is supported, the networks of the referenced
                network provider are available on every host in the cluster."
-            - "External network provider is described by following dictionary:"
-            - "C(name) - Name of the external network provider. Either C(name)
-               or C(id) is required."
-            - "C(id) - ID of the external network provider. Either C(name) or
-               C(id) is required."
             - "This is supported since oVirt version 4.2."
+        suboptions:
+            name:
+                description:
+                    - Name of the external network provider. Either C(name) or C(id) is required.
+            id:
+                description:
+                    - ID of the external network provider. Either C(name) or C(id) is required.
         version_added: 2.5
     firewall_type:
         description:
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_disk.py b/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
index 26be0f881f..4e6d149bc7 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
@@ -126,13 +126,28 @@ options:
     logical_unit:
         description:
             - "Dictionary which describes LUN to be directly attached to VM:"
-            - "C(address) - Address of the storage server. Used by iSCSI."
-            - "C(port) - Port of the storage server. Used by iSCSI."
-            - "C(target) - iSCSI target."
-            - "C(lun_id) - LUN id."
-            - "C(username) - CHAP Username to be used to access storage server. Used by iSCSI."
-            - "C(password) - CHAP Password of the user to be used to access storage server. Used by iSCSI."
-            - "C(storage_type) - Storage type either I(fcp) or I(iscsi)."
+        suboptions:
+            address:
+                description:
+                    - Address of the storage server. Used by iSCSI.
+            port:
+                description:
+                    - Port of the storage server. Used by iSCSI.
+            target:
+                description:
+                    - iSCSI target.
+            lun_id:
+                description:
+                    - LUN id.
+            username:
+                description:
+                    - CHAP Username to be used to access storage server. Used by iSCSI.
+            password:
+                description:
+                    - CHAP Password of the user to be used to access storage server. Used by iSCSI.
+            storage_type:
+                description:
+                    - Storage type either I(fcp) or I(iscsi).
     sparsify:
         description:
             - "I(True) if the disk should be sparsified."
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_network.py b/lib/ansible/modules/cloud/ovirt/ovirt_network.py
index 0bb7466f9f..96a88a68a6 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_network.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_network.py
@@ -73,12 +73,30 @@ options:
     clusters:
         description:
             - "List of dictionaries describing how the network is managed in specific cluster."
-            - "C(name) - Cluster name."
-            - "C(assigned) - I(true) if the network should be assigned to cluster. Default is I(true)."
-            - "C(required) - I(true) if the network must remain operational for all hosts associated with this network."
-            - "C(display) - I(true) if the network should marked as display network."
-            - "C(migration) - I(true) if the network should marked as migration network."
-            - "C(gluster) - I(true) if the network should marked as gluster network."
+        suboptions:
+            name:
+                description:
+                    - Cluster name.
+            assigned:
+                description:
+                    - I(true) if the network should be assigned to cluster. Default is I(true).
+                type: bool
+            required:
+                description:
+                    - I(true) if the network must remain operational for all hosts associated with this network.
+                type: bool
+            display:
+                description:
+                    - I(true) if the network should marked as display network.
+                type: bool
+            migration:
+                description:
+                    - I(true) if the network should marked as migration network.
+                type: bool
+            gluster:
+                description:
+                    - I(true) if the network should marked as gluster network.
+                type: bool
     label:
         description:
             - "Name of the label to assign to the network."
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_quota.py b/lib/ansible/modules/cloud/ovirt/ovirt_quota.py
index 4e1ff9f798..61e3d902fc 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_quota.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_quota.py
@@ -62,15 +62,27 @@ options:
         description:
             - "List of dictionary of cluster limits, which is valid to specific cluster."
             - "If cluster isn't specified it's valid to all clusters in system:"
-            - "C(cluster) - Name of the cluster."
-            - "C(memory) - Memory limit (in GiB)."
-            - "C(cpu) - CPU limit."
+        suboptions:
+            cluster:
+                description:
+                    - Name of the cluster.
+            memory:
+                description:
+                    - Memory limit (in GiB).
+            cpu:
+                description:
+                    - CPU limit.
     storages:
         description:
             - "List of dictionary of storage limits, which is valid to specific storage."
             - "If storage isn't specified it's valid to all storages in system:"
-            - "C(storage) - Name of the storage."
-            - "C(size) - Size limit (in GiB)."
+        suboptions:
+            storage:
+                description:
+                    - Name of the storage.
+            size:
+                description:
+                    - Size limit (in GiB).
 extends_documentation_fragment: ovirt
 '''
 
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py b/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
index 3b87423725..081dd00c3a 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
@@ -70,53 +70,106 @@ options:
     localfs:
         description:
             - "Dictionary with values for localfs storage type:"
-            - "C(path) - Path of the mount point. E.g.: /path/to/my/data"
             - "Note that these parameters are not idempotent."
+        suboptions:
+            path:
+                description:
+                    - "Path of the mount point. E.g.: /path/to/my/data"
         version_added: "2.4"
     nfs:
         description:
             - "Dictionary with values for NFS storage type:"
-            - "C(address) - Address of the NFS server. E.g.: myserver.mydomain.com"
-            - "C(path) - Path of the mount point. E.g.: /path/to/my/data"
-            - "C(version) - NFS version. One of: I(auto), I(v3), I(v4) or I(v4_1)."
-            - "C(timeout) - The time in tenths of a second to wait for a response before retrying NFS requests. Range 0 to 65535."
-            - "C(retrans) - The number of times to retry a request before attempting further recovery actions. Range 0 to 65535."
-            - "C(mount_options) - Option which will be passed when mounting storage."
             - "Note that these parameters are not idempotent."
+        suboptions:
+            address:
+                description:
+                    - "Address of the NFS server. E.g.: myserver.mydomain.com"
+            path:
+                description:
+                    - "Path of the mount point. E.g.: /path/to/my/data"
+            version:
+                description:
+                    - "NFS version. One of: I(auto), I(v3), I(v4) or I(v4_1)."
+            timeout:
+                description:
+                    - "The time in tenths of a second to wait for a response before retrying NFS requests. Range 0 to 65535."
+            retrans:
+                description:
+                    - "The number of times to retry a request before attempting further recovery actions. Range 0 to 65535."
+            mount_options:
+                description:
+                    - "Option which will be passed when mounting storage."
     iscsi:
         description:
             - "Dictionary with values for iSCSI storage type:"
-            - "C(address) - Address of the iSCSI storage server."
-            - "C(port) - Port of the iSCSI storage server."
-            - "C(target) - The target IQN for the storage device."
-            - "C(lun_id) - LUN id(s)."
-            - "C(username) - A CHAP user name for logging into a target."
-            - "C(password) - A CHAP password for logging into a target."
-            - "C(override_luns) - If I(True) ISCSI storage domain luns will be overridden before adding."
-            - C(target_lun_map) - List of dictionary containing targets and LUNs."
             - "Note that these parameters are not idempotent."
-            - "Parameter C(target_lun_map) is supported since Ansible 2.5."
-
+        suboptions:
+            address:
+                description:
+                    - Address of the iSCSI storage server.
+            port:
+                description:
+                    - Port of the iSCSI storage server.
+            target:
+                description:
+                    - The target IQN for the storage device.
+            lun_id:
+                description:
+                    - LUN id(s).
+            username:
+                description:
+                    - A CHAP user name for logging into a target.
+            password:
+                description:
+                    - A CHAP password for logging into a target.
+            override_luns:
+                description:
+                    - If I(True) ISCSI storage domain luns will be overridden before adding.
+                type: bool
+            target_lun_map:
+                description:
+                    - List of dictionary containing targets and LUNs.
+                version_added: 2.5
     posixfs:
         description:
             - "Dictionary with values for PosixFS storage type:"
-            - "C(path) - Path of the mount point. E.g.: /path/to/my/data"
-            - "C(vfs_type) - Virtual File System type."
-            - "C(mount_options) - Option which will be passed when mounting storage."
             - "Note that these parameters are not idempotent."
+        suboptions:
+            path:
+                description:
+                    - "Path of the mount point. E.g.: /path/to/my/data"
+            vfs_type:
+                description:
+                    - Virtual File System type.
+            mount_options:
+                description:
+                    - Option which will be passed when mounting storage.
     glusterfs:
         description:
             - "Dictionary with values for GlusterFS storage type:"
-            - "C(address) - Address of the Gluster server. E.g.: myserver.mydomain.com"
-            - "C(path) - Path of the mount point. E.g.: /path/to/my/data"
-            - "C(mount_options) - Option which will be passed when mounting storage."
             - "Note that these parameters are not idempotent."
+        suboptions:
+            address:
+                description:
+                    - "Address of the Gluster server. E.g.: myserver.mydomain.com"
+            path:
+                description:
+                    - "Path of the mount point. E.g.: /path/to/my/data"
+            mount_options:
+                description:
+                    - Option which will be passed when mounting storage.
     fcp:
         description:
             - "Dictionary with values for fibre channel storage type:"
-            - "C(lun_id) - LUN id."
-            - "C(override_luns) - If I(True) FCP storage domain LUNs will be overridden before adding."
             - "Note that these parameters are not idempotent."
+        suboptions:
+            lun_id:
+                description:
+                    - LUN id.
+            override_luns:
+                description:
+                    - If I(True) FCP storage domain LUNs will be overridden before adding.
+                type: bool
     wipe_after_delete:
         description:
             - "Boolean flag which indicates whether the storage domain should wipe the data after delete."
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_template.py b/lib/ansible/modules/cloud/ovirt/ovirt_template.py
index 6c102c3e04..8e60a11474 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_template.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_template.py
@@ -54,33 +54,55 @@ options:
         description:
             - "Mapper which maps an external virtual NIC profile to one that exists in the engine when C(state) is registered.
                vnic_profile is described by the following dictionary:"
-            - "C(source_network_name): The network name of the source network."
-            - "C(source_profile_name): The profile name related to the source network."
-            - "C(target_profile_id): The id of the target profile id to be mapped to in the engine."
+        suboptions:
+            source_network_name:
+                description:
+                    - The network name of the source network.
+            source_profile_name:
+                description:
+                    - The profile name related to the source network.
+            target_profile_id:
+                description:
+                    - The id of the target profile id to be mapped to in the engine.
         version_added: "2.5"
     cluster_mappings:
         description:
             - "Mapper which maps cluster name between Template's OVF and the destination cluster this Template should be registered to,
                relevant when C(state) is registered.
                Cluster mapping is described by the following dictionary:"
-            - "C(source_name): The name of the source cluster."
-            - "C(dest_name): The name of the destination cluster."
+        suboptions:
+            source_name:
+                description:
+                    - The name of the source cluster.
+            dest_name:
+                description:
+                    - The name of the destination cluster.
         version_added: "2.5"
     role_mappings:
         description:
             - "Mapper which maps role name between Template's OVF and the destination role this Template should be registered to,
                relevant when C(state) is registered.
                Role mapping is described by the following dictionary:"
-            - "C(source_name): The name of the source role."
-            - "C(dest_name): The name of the destination role."
+        suboptions:
+            source_name:
+                description:
+                    - The name of the source role.
+            dest_name:
+                description:
+                    - The name of the destination role.
         version_added: "2.5"
     domain_mappings:
         description:
             - "Mapper which maps aaa domain name between Template's OVF and the destination aaa domain this Template should be registered to,
                relevant when C(state) is registered.
                The aaa domain mapping is described by the following dictionary:"
-            - "C(source_name): The name of the source aaa domain."
-            - "C(dest_name): The name of the destination aaa domain."
+        suboptions:
+            source_name:
+                description:
+                    - The name of the source aaa domain.
+            dest_name:
+                description:
+                    - The name of the destination aaa domain.
         version_added: "2.5"
     exclusive:
         description:
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_vm.py b/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
index 04f030d998..247051b50d 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
@@ -622,11 +622,18 @@ options:
     placement_policy:
         description:
             - "The configuration of the virtual machine's placement policy."
-            - "Placement policy can be one of the following values:"
-            - "C(migratable) - Allow manual and automatic migration."
-            - "C(pinned) - Do not allow migration."
-            - "C(user_migratable) - Allow manual migration only."
             - "If no value is passed, default value is set by oVirt/RHV engine."
+            - "Placement policy can be one of the following values:"
+        suboptions:
+            migratable:
+                description:
+                    - "Allow manual and automatic migration."
+            pinned:
+                description:
+                    - "Do not allow migration."
+            user_migratable:
+                description:
+                    - "Allow manual migration only."
         version_added: "2.5"
     ticket:
         description:
@@ -638,8 +645,13 @@ options:
         description:
             - "CPU Pinning topology to map virtual machine CPU to host CPU."
             - "CPU Pinning topology is a list of dictionary which can have following values:"
-            - "C(cpu) - Number of the host CPU."
-            - "C(vcpu) - Number of the virtual machine CPU."
+        suboptions:
+            cpu:
+                description:
+                    - "Number of the host CPU."
+            vcpu:
+                description:
+                    - "Number of the virtual machine CPU."
         version_added: "2.5"
     soundcard_enabled:
         description:
@@ -673,10 +685,19 @@ options:
         description:
             - "List of vNUMA Nodes to set for this VM and pin them to assigned host's physical NUMA node."
             - "Each vNUMA node is described by following dictionary:"
-            - "C(index) -  The index of this NUMA node (mandatory)."
-            - "C(memory) - Memory size of the NUMA node in MiB (mandatory)."
-            - "C(cores) -  list of VM CPU cores indexes to be included in this NUMA node (mandatory)."
-            - "C(numa_node_pins) - list of physical NUMA node indexes to pin this virtual NUMA node to."
+        suboptions:
+            index:
+                description:
+                    - "The index of this NUMA node (mandatory)."
+            memory:
+                description:
+                    - "Memory size of the NUMA node in MiB (mandatory)."
+            cores:
+                description:
+                    - "list of VM CPU cores indexes to be included in this NUMA node (mandatory)."
+            numa_node_pins:
+                description:
+                    - "list of physical NUMA node indexes to pin this virtual NUMA node to."
         version_added: "2.6"
     rng_device:
         description:
@@ -688,16 +709,28 @@ options:
         description:
             - "Properties sent to VDSM to configure various hooks."
             - "Custom properties is a list of dictionary which can have following values:"
-            - "C(name) - Name of the custom property. For example: I(hugepages), I(vhost), I(sap_agent), etc."
-            - "C(regexp) - Regular expression to set for custom property."
-            - "C(value) - Value to set for custom property."
+        suboptions:
+            name:
+                description:
+                    - "Name of the custom property. For example: I(hugepages), I(vhost), I(sap_agent), etc."
+            regexp:
+                description:
+                    - "Regular expression to set for custom property."
+            value:
+                description:
+                    - "Value to set for custom property."
         version_added: "2.5"
     watchdog:
         description:
             - "Assign watchdog device for the virtual machine."
             - "Watchdogs is a dictionary which can have following values:"
-            - "C(model) - Model of the watchdog device. For example: I(i6300esb), I(diag288) or I(null)."
-            - "C(action) - Watchdog action to be performed when watchdog is triggered. For example: I(none), I(reset), I(poweroff), I(pause) or I(dump)."
+        suboptions:
+            model:
+                description:
+                    - "Model of the watchdog device. For example: I(i6300esb), I(diag288) or I(null)."
+            action:
+                description:
+                    - "Watchdog action to be performed when watchdog is triggered. For example: I(none), I(reset), I(poweroff), I(pause) or I(dump)."
         version_added: "2.5"
     graphical_console:
         description:
diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_vnic_profile.py b/lib/ansible/modules/cloud/ovirt/ovirt_vnic_profile.py
index a04fd589c4..cf0797be2f 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_vnic_profile.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_vnic_profile.py
@@ -46,9 +46,16 @@ options:
         description:
             - "Custom properties applied to the vNIC profile."
             - "Custom properties is a list of dictionary which can have following values:"
-            - "C(name) - Name of the custom property. For example: I(hugepages), I(vhost), I(sap_agent), etc."
-            - "C(regexp) - Regular expression to set for custom property."
-            - "C(value) - Value to set for custom property."
+        suboptions:
+            name:
+                description:
+                    - "Name of the custom property. For example: I(hugepages), I(vhost), I(sap_agent), etc."
+            regexp:
+                description:
+                    - Regular expression to set for custom property.
+            value:
+                description:
+                    - Value to set for custom property.
     qos:
         description:
             - "Quality of Service attributes regulate inbound and outbound network traffic of the NIC."
