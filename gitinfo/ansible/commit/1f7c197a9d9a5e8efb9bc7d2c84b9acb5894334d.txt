commit 1f7c197a9d9a5e8efb9bc7d2c84b9acb5894334d
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sun Jun 2 16:01:09 2013 -0400

    os.path.dirname returns '' not None in some cases, handle this so inventory can be specified with ./

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 460b63053a..17e501f143 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -374,7 +374,11 @@ class Inventory(object):
         """ if inventory came from a file, what's the directory? """
         if not self.is_file():
             return None
-        return os.path.dirname(self.host_list)
+        dname = os.path.dirname(self.host_list)
+        if dname is None or dname == '':
+            cwd = os.getcwd()
+            return cwd 
+        return dname
 
     def playbook_basedir(self):
         """ returns the directory of the current playbook """
