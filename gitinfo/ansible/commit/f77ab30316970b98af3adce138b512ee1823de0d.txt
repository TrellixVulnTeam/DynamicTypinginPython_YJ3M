commit f77ab30316970b98af3adce138b512ee1823de0d
Author: Ricardo Carrillo Cruz <ricardo.carrillo.cruz@gmail.com>
Date:   Fri Jan 5 16:16:04 2018 +0100

    Fix various EOS integration tests due to missing become (#34504)

diff --git a/test/integration/targets/eos_interface/tests/cli/basic.yaml b/test/integration/targets/eos_interface/tests/cli/basic.yaml
index c713a9b3af..5d54ab33e1 100644
--- a/test/integration/targets/eos_interface/tests/cli/basic.yaml
+++ b/test/integration/targets/eos_interface/tests/cli/basic.yaml
@@ -14,6 +14,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - name: Configure interface
@@ -23,6 +24,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -38,6 +40,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -52,6 +55,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -69,6 +73,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -84,6 +89,7 @@
     enabled: False
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -98,6 +104,7 @@
     enabled: True
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -114,6 +121,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - name: Add interface aggregate
@@ -124,6 +132,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -143,6 +152,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -158,6 +168,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -177,6 +188,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -195,6 +207,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
 
 - name: Create loopback interface aggregate
   eos_interface:
@@ -204,6 +217,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -220,6 +234,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -236,6 +251,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
diff --git a/test/integration/targets/eos_interface/tests/cli/intent.yaml b/test/integration/targets/eos_interface/tests/cli/intent.yaml
index 033996f044..8f60d6f4ce 100644
--- a/test/integration/targets/eos_interface/tests/cli/intent.yaml
+++ b/test/integration/targets/eos_interface/tests/cli/intent.yaml
@@ -14,6 +14,7 @@
     rx_rate: ge(0)
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -29,6 +30,7 @@
     authorize: yes
     provider: "{{ cli }}"
   ignore_errors: yes
+  become: yes
   register: result
 
 - assert:
@@ -45,6 +47,7 @@
     state: down
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -59,6 +62,7 @@
     state: up
     provider: "{{ cli }}"
   ignore_errors: yes
+  become: yes
   register: result
 
 - assert:
@@ -72,6 +76,7 @@
       - show lldp neighbors management1
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: show_lldp_neighbors_result
 
 - block:
@@ -83,6 +88,7 @@
             host: an-vyos-02
         authorize: yes
         provider: "{{ cli }}"
+      become: yes
       register: result
 
     - assert:
@@ -98,6 +104,7 @@
         authorize: yes
         provider: "{{ cli }}"
       ignore_errors: yes
+      become: yes
       register: result
 
     - assert:
@@ -116,6 +123,7 @@
     authorize: yes
     provider: "{{ cli }}"
   ignore_errors: yes
+  become: yes
   register: result
 
 - assert:
@@ -133,6 +141,7 @@
         authorize: yes
         provider: "{{ cli }}"
       ignore_errors: yes
+      become: yes
       register: result
 
     - assert:
@@ -151,6 +160,7 @@
         authorize: yes
         provider: "{{ cli }}"
       ignore_errors: yes
+      become: yes
       register: result
 
     - assert:
diff --git a/test/integration/targets/eos_l3_interface/tests/cli/basic.yaml b/test/integration/targets/eos_l3_interface/tests/cli/basic.yaml
index d694899441..0756bd3cbc 100644
--- a/test/integration/targets/eos_l3_interface/tests/cli/basic.yaml
+++ b/test/integration/targets/eos_l3_interface/tests/cli/basic.yaml
@@ -12,6 +12,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - name: Configure interface ipv4 address
@@ -21,6 +22,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -36,6 +38,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -49,6 +52,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -64,6 +68,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -79,6 +84,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -92,6 +98,7 @@
     state: present
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -106,6 +113,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -121,6 +129,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - name: Delete second interface ipv4 and ipv6 address (setup)
@@ -129,6 +138,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - name: Configure ipv4 and ipv6 address using aggregate
@@ -138,6 +148,7 @@
     - { name: "{{ test_interface_2 }}", ipv4: 192.162.0.2/16, ipv6: "fd5e:12c9:2201:3::3/32" }
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -157,6 +168,7 @@
     - { name: "{{ test_interface_2 }}", ipv4: 192.162.0.2/16, ipv6: "fd5e:12c9:2201:3::3/32" }
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -170,6 +182,7 @@
     - { name: "{{ test_interface_2 }}", ipv4: 192.169.2.2/24, ipv6: "fd5b:12c9:2201:5::5/90" }
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -191,6 +204,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -211,6 +225,7 @@
     state: absent
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
diff --git a/test/integration/targets/eos_lldp/tests/cli/basic.yaml b/test/integration/targets/eos_lldp/tests/cli/basic.yaml
index a1312a4e3a..6b908352a6 100644
--- a/test/integration/targets/eos_lldp/tests/cli/basic.yaml
+++ b/test/integration/targets/eos_lldp/tests/cli/basic.yaml
@@ -6,6 +6,7 @@
     lines: no lldp run
     authorize: yes
     provider: "{{ cli }}"
+  become: yes
 
 - name: Enable LLDP service
   eos_lldp:
@@ -13,6 +14,7 @@
     authorize: yes
     provider: "{{ cli }}"
   register: result
+  become: yes
 
 - assert:
     that:
@@ -25,6 +27,7 @@
     authorize: yes
     provider: "{{ cli }}"
   register: result
+  become: yes
 
 - assert:
     that:
@@ -36,6 +39,7 @@
     authorize: yes
     provider: "{{ cli }}"
   register: result
+  become: yes
 
 - assert:
     that:
@@ -48,6 +52,7 @@
     authorize: yes
     provider: "{{ cli }}"
   register: result
+  become: yes
 
 - assert:
     that:
