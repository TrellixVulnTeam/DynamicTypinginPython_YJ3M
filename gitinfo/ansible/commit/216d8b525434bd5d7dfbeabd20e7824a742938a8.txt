commit 216d8b525434bd5d7dfbeabd20e7824a742938a8
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Tue Apr 30 16:39:21 2019 +0530

    VMware: support check mode in all facts modules (#55689)
    
    * vmware_cluster_facts
    * vmware_guest_facts
    * vmware_guest_snapshot_facts
    * vmware_host_capability_facts
    * vmware_host_package_facts
    * vmware_target_canonical_facts
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/modules/cloud/vmware/vmware_cluster_facts.py b/lib/ansible/modules/cloud/vmware/vmware_cluster_facts.py
index f20d44ffc3..a74a2b9c9c 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_cluster_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_cluster_facts.py
@@ -215,6 +215,7 @@ def main():
         required_one_of=[
             ['cluster_name', 'datacenter'],
         ],
+        supports_check_mode=True,
     )
     pyv = VmwreClusterFactsManager(module)
     pyv.gather_cluster_facts()
diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest_facts.py b/lib/ansible/modules/cloud/vmware/vmware_guest_facts.py
index a9d6bc9749..922c51b7f3 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest_facts.py
@@ -229,7 +229,8 @@ def main():
         properties=dict(type='list')
     )
     module = AnsibleModule(argument_spec=argument_spec,
-                           required_one_of=[['name', 'uuid']])
+                           required_one_of=[['name', 'uuid']],
+                           supports_check_mode=True)
 
     if module.params.get('folder'):
         # FindByInventoryPath() does not require an absolute path
diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest_snapshot_facts.py b/lib/ansible/modules/cloud/vmware/vmware_guest_snapshot_facts.py
index 55d4f2e539..8a2fe7e1cb 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest_snapshot_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest_snapshot_facts.py
@@ -138,6 +138,7 @@ def main():
     module = AnsibleModule(argument_spec=argument_spec,
                            required_together=[['name', 'folder']],
                            required_one_of=[['name', 'uuid']],
+                           supports_check_mode=True,
                            )
 
     if module.params['folder']:
diff --git a/lib/ansible/modules/cloud/vmware/vmware_host_capability_facts.py b/lib/ansible/modules/cloud/vmware/vmware_host_capability_facts.py
index 0d7431c3a4..767bf15828 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_host_capability_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_host_capability_facts.py
@@ -207,7 +207,8 @@ def main():
         argument_spec=argument_spec,
         required_one_of=[
             ['cluster_name', 'esxi_hostname'],
-        ]
+        ],
+        supports_check_mode=True,
     )
 
     host_capability_manager = CapabilityFactsManager(module)
diff --git a/lib/ansible/modules/cloud/vmware/vmware_host_package_facts.py b/lib/ansible/modules/cloud/vmware/vmware_host_package_facts.py
index 9cba7f6ed7..d0178957d9 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_host_package_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_host_package_facts.py
@@ -114,7 +114,8 @@ def main():
         argument_spec=argument_spec,
         required_one_of=[
             ['cluster_name', 'esxi_hostname'],
-        ]
+        ],
+        supports_check_mode=True,
     )
 
     vmware_host_package_config = VmwarePackageManager(module)
diff --git a/lib/ansible/modules/cloud/vmware/vmware_target_canonical_facts.py b/lib/ansible/modules/cloud/vmware/vmware_target_canonical_facts.py
index a40fe56a6d..ad6136c988 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_target_canonical_facts.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_target_canonical_facts.py
@@ -171,6 +171,7 @@ def main():
         required_one_of=[
             ['cluster_name', 'esxi_hostname'],
         ],
+        supports_check_mode=True,
     )
 
     scsi_tgt_manager = ScsiTargetFactsManager(module)
