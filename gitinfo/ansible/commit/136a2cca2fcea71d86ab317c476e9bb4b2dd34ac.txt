commit 136a2cca2fcea71d86ab317c476e9bb4b2dd34ac
Author: Matt Clay <matt@mystile.com>
Date:   Wed Nov 14 16:51:40 2018 -0800

    Use `state: latest` for `dpkg_selections` test.
    
    We don't need to test with `upgrade: dist`, since we're not trying
    to test the `apt` module. We just need to make sure the hold set
    by the `dpkg_selections` module is working.
    
    This change will avoid updating all the packages on the system,
    which is slow, unnecessary, and can cause the installed python
    to be changed.

diff --git a/test/integration/targets/dpkg_selections/tasks/dpkg_selections.yaml b/test/integration/targets/dpkg_selections/tasks/dpkg_selections.yaml
index c263743f0d..f38e1f84aa 100644
--- a/test/integration/targets/dpkg_selections/tasks/dpkg_selections.yaml
+++ b/test/integration/targets/dpkg_selections/tasks/dpkg_selections.yaml
@@ -19,7 +19,9 @@
 
 - name: attempt to upgrade hello
   apt:
-    upgrade: dist
+    name: hello
+    state: latest
+  ignore_errors: yes
 
 - name: check hello version
   shell: dpkg -s hello | grep Version | awk '{print $2}'
@@ -37,7 +39,8 @@
 
 - name: upgrade hello
   apt:
-    upgrade: dist
+    name: hello
+    state: latest
 
 - name: check hello version
   shell: dpkg -s hello | grep Version | awk '{print $2}'
