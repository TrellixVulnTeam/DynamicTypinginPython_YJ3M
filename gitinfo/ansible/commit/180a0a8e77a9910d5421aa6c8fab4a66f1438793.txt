commit 180a0a8e77a9910d5421aa6c8fab4a66f1438793
Author: James Cammarata <jimi@sngx.net>
Date:   Thu Mar 31 15:59:19 2016 -0400

    Fixing up the logic in the test_script tests removal portion

diff --git a/test/integration/roles/test_script/tasks/main.yml b/test/integration/roles/test_script/tasks/main.yml
index 75a75d9d69..2c0f1f02ad 100644
--- a/test/integration/roles/test_script/tasks/main.yml
+++ b/test/integration/roles/test_script/tasks/main.yml
@@ -58,12 +58,14 @@
 
 - name: remove afile.txt with remote_afile.sh via command
   script: remove_afile.sh {{output_dir_test | expanduser}}/afile.txt removes={{output_dir_test | expanduser}}/afile.txt
+  register: script_result1
 
 - name: verify that afile.txt is absent
   file: path={{output_dir_test}}/afile.txt state=absent
-  register: script_result1
+  register: script_result2
 
 - name: assert that the file was removed by the script
   assert:
     that:
       - "script_result1|changed"
+      - "script_result2.state == 'absent'"
