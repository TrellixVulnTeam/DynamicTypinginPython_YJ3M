commit 1eef039929f927af873d6eb2b150f18f008dcc50
Author: The Magician <magic-modules@google.com>
Date:   Wed Apr 3 10:31:22 2019 -0700

    Bug fixes for GCP modules (#54764)

diff --git a/lib/ansible/modules/cloud/google/gcp_compute_vpn_tunnel_facts.py b/lib/ansible/modules/cloud/google/gcp_compute_vpn_tunnel_facts.py
index 00d5645d1e..e67c1b4e04 100644
--- a/lib/ansible/modules/cloud/google/gcp_compute_vpn_tunnel_facts.py
+++ b/lib/ansible/modules/cloud/google/gcp_compute_vpn_tunnel_facts.py
@@ -93,12 +93,12 @@ items:
       description:
       - URL of the Target VPN gateway with which this VPN tunnel is associated.
       returned: success
-      type: str
+      type: dict
     router:
       description:
       - URL of router resource to be used for dynamic routing.
       returned: success
-      type: str
+      type: dict
     peerIp:
       description:
       - IP address of the peer VPN gateway. Only IPv4 is supported.
diff --git a/lib/ansible/modules/cloud/google/gcp_container_node_pool.py b/lib/ansible/modules/cloud/google/gcp_container_node_pool.py
index fc4acf092e..79b4e36663 100644
--- a/lib/ansible/modules/cloud/google/gcp_container_node_pool.py
+++ b/lib/ansible/modules/cloud/google/gcp_container_node_pool.py
@@ -198,9 +198,10 @@ options:
     description:
     - The cluster this node pool belongs to.
     - 'This field represents a link to a Cluster resource in GCP. It can be specified
-      in two ways. First, you can place in the name of the resource here as a string
-      Alternatively, you can add `register: name-of-resource` to a gcp_container_cluster
-      task and then set this cluster field to "{{ name-of-resource }}"'
+      in two ways. First, you can place a dictionary with key ''name'' and value of
+      your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_container_cluster task and then set this cluster field to "{{ name-of-resource
+      }}"'
     required: true
   location:
     description:
@@ -413,7 +414,7 @@ cluster:
   description:
   - The cluster this node pool belongs to.
   returned: success
-  type: str
+  type: dict
 location:
   description:
   - The location where the node pool is deployed.
@@ -462,7 +463,7 @@ def main():
             management=dict(
                 type='dict', options=dict(auto_upgrade=dict(type='bool'), auto_repair=dict(type='bool'), upgrade_options=dict(type='dict', options=dict()))
             ),
-            cluster=dict(required=True),
+            cluster=dict(required=True, type='dict'),
             location=dict(required=True, type='str', aliases=['region', 'zone']),
         )
     )
diff --git a/lib/ansible/modules/cloud/google/gcp_container_node_pool_facts.py b/lib/ansible/modules/cloud/google/gcp_container_node_pool_facts.py
index a95501ed8d..aae0324499 100644
--- a/lib/ansible/modules/cloud/google/gcp_container_node_pool_facts.py
+++ b/lib/ansible/modules/cloud/google/gcp_container_node_pool_facts.py
@@ -52,9 +52,10 @@ options:
     description:
     - The cluster this node pool belongs to.
     - 'This field represents a link to a Cluster resource in GCP. It can be specified
-      in two ways. First, you can place in the name of the resource here as a string
-      Alternatively, you can add `register: name-of-resource` to a gcp_container_cluster
-      task and then set this cluster field to "{{ name-of-resource }}"'
+      in two ways. First, you can place a dictionary with key ''name'' and value of
+      your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_container_cluster task and then set this cluster field to "{{ name-of-resource
+      }}"'
     required: true
 extends_documentation_fragment: gcp
 '''
@@ -252,7 +253,7 @@ items:
       description:
       - The cluster this node pool belongs to.
       returned: success
-      type: str
+      type: dict
     location:
       description:
       - The location where the node pool is deployed.
@@ -272,7 +273,7 @@ import json
 
 
 def main():
-    module = GcpModule(argument_spec=dict(location=dict(required=True, type='str', aliases=['region', 'zone']), cluster=dict(required=True)))
+    module = GcpModule(argument_spec=dict(location=dict(required=True, type='str', aliases=['region', 'zone']), cluster=dict(required=True, type='dict')))
 
     if not module.params['scopes']:
         module.params['scopes'] = ['https://www.googleapis.com/auth/cloud-platform']
diff --git a/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set.py b/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set.py
index d9a97252e4..6acd1957a7 100644
--- a/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set.py
+++ b/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set.py
@@ -85,9 +85,10 @@ options:
     description:
     - Identifies the managed zone addressed by this request.
     - 'This field represents a link to a ManagedZone resource in GCP. It can be specified
-      in two ways. First, you can place in the name of the resource here as a string
-      Alternatively, you can add `register: name-of-resource` to a gcp_dns_managed_zone
-      task and then set this managed_zone field to "{{ name-of-resource }}"'
+      in two ways. First, you can place a dictionary with key ''name'' and value of
+      your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_dns_managed_zone task and then set this managed_zone field to "{{ name-of-resource
+      }}"'
     required: true
 extends_documentation_fragment: gcp
 '''
@@ -144,7 +145,7 @@ managed_zone:
   description:
   - Identifies the managed zone addressed by this request.
   returned: success
-  type: str
+  type: dict
 '''
 
 ################################################################################
@@ -172,7 +173,7 @@ def main():
             type=dict(required=True, type='str', choices=['A', 'AAAA', 'CAA', 'CNAME', 'MX', 'NAPTR', 'NS', 'PTR', 'SOA', 'SPF', 'SRV', 'TLSA', 'TXT']),
             ttl=dict(type='int'),
             target=dict(type='list', elements='str'),
-            managed_zone=dict(required=True),
+            managed_zone=dict(required=True, type='dict'),
         )
     )
 
diff --git a/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set_facts.py b/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set_facts.py
index 402cc4db53..1e3e691770 100644
--- a/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set_facts.py
+++ b/lib/ansible/modules/cloud/google/gcp_dns_resource_record_set_facts.py
@@ -44,9 +44,10 @@ options:
     description:
     - Identifies the managed zone addressed by this request.
     - 'This field represents a link to a ManagedZone resource in GCP. It can be specified
-      in two ways. First, you can place in the name of the resource here as a string
-      Alternatively, you can add `register: name-of-resource` to a gcp_dns_managed_zone
-      task and then set this managed_zone field to "{{ name-of-resource }}"'
+      in two ways. First, you can place a dictionary with key ''name'' and value of
+      your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_dns_managed_zone task and then set this managed_zone field to "{{ name-of-resource
+      }}"'
     required: true
 extends_documentation_fragment: gcp
 '''
@@ -91,7 +92,7 @@ items:
       description:
       - Identifies the managed zone addressed by this request.
       returned: success
-      type: str
+      type: dict
 '''
 
 ################################################################################
@@ -106,7 +107,7 @@ import json
 
 
 def main():
-    module = GcpModule(argument_spec=dict(managed_zone=dict(required=True)))
+    module = GcpModule(argument_spec=dict(managed_zone=dict(required=True, type='dict')))
 
     if not module.params['scopes']:
         module.params['scopes'] = ['https://www.googleapis.com/auth/ndev.clouddns.readwrite']
diff --git a/lib/ansible/modules/cloud/google/gcp_iam_service_account_key.py b/lib/ansible/modules/cloud/google/gcp_iam_service_account_key.py
index 50d8ee02eb..a994c23ac2 100644
--- a/lib/ansible/modules/cloud/google/gcp_iam_service_account_key.py
+++ b/lib/ansible/modules/cloud/google/gcp_iam_service_account_key.py
@@ -67,9 +67,10 @@ options:
     description:
     - The name of the serviceAccount.
     - 'This field represents a link to a ServiceAccount resource in GCP. It can be
-      specified in two ways. First, you can place in the name of the resource here
-      as a string Alternatively, you can add `register: name-of-resource` to a gcp_iam_service_account
-      task and then set this service_account field to "{{ name-of-resource }}"'
+      specified in two ways. First, you can place a dictionary with key ''name'' and
+      value of your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_iam_service_account task and then set this service_account field to
+      "{{ name-of-resource }}"'
     required: false
   path:
     description:
@@ -142,7 +143,7 @@ serviceAccount:
   description:
   - The name of the serviceAccount.
   returned: success
-  type: str
+  type: dict
 path:
   description:
   - The full name of the file that will hold the service account private key. The
@@ -176,7 +177,7 @@ def main():
             state=dict(default='present', choices=['present', 'absent'], type='str'),
             private_key_type=dict(type='str', choices=['TYPE_UNSPECIFIED', 'TYPE_PKCS12_FILE', 'TYPE_GOOGLE_CREDENTIALS_FILE']),
             key_algorithm=dict(type='str', choices=['KEY_ALG_UNSPECIFIED', 'KEY_ALG_RSA_1024', 'KEY_ALG_RSA_2048']),
-            service_account=dict(),
+            service_account=dict(type='dict'),
             path=dict(type='path'),
         )
     )
diff --git a/lib/ansible/modules/cloud/google/gcp_pubsub_subscription.py b/lib/ansible/modules/cloud/google/gcp_pubsub_subscription.py
index a71b2a6238..503edbd709 100644
--- a/lib/ansible/modules/cloud/google/gcp_pubsub_subscription.py
+++ b/lib/ansible/modules/cloud/google/gcp_pubsub_subscription.py
@@ -56,9 +56,10 @@ options:
     description:
     - A reference to a Topic resource.
     - 'This field represents a link to a Topic resource in GCP. It can be specified
-      in two ways. First, you can place in the name of the resource here as a string
-      Alternatively, you can add `register: name-of-resource` to a gcp_pubsub_topic
-      task and then set this topic field to "{{ name-of-resource }}"'
+      in two ways. First, you can place a dictionary with key ''name'' and value of
+      your resource''s name Alternatively, you can add `register: name-of-resource`
+      to a gcp_pubsub_topic task and then set this topic field to "{{ name-of-resource
+      }}"'
     required: true
   labels:
     description:
@@ -170,7 +171,7 @@ topic:
   description:
   - A reference to a Topic resource.
   returned: success
-  type: str
+  type: dict
 labels:
   description:
   - A set of key/value label pairs to assign to this Subscription.
@@ -266,7 +267,7 @@ def main():
         argument_spec=dict(
             state=dict(default='present', choices=['present', 'absent'], type='str'),
             name=dict(required=True, type='str'),
-            topic=dict(required=True),
+            topic=dict(required=True, type='dict'),
             labels=dict(type='dict'),
             push_config=dict(type='dict', options=dict(push_endpoint=dict(required=True, type='str'), attributes=dict(type='dict'))),
             ack_deadline_seconds=dict(type='int'),
diff --git a/lib/ansible/modules/cloud/google/gcp_pubsub_subscription_facts.py b/lib/ansible/modules/cloud/google/gcp_pubsub_subscription_facts.py
index 52f2ed9c94..30e39be3b2 100644
--- a/lib/ansible/modules/cloud/google/gcp_pubsub_subscription_facts.py
+++ b/lib/ansible/modules/cloud/google/gcp_pubsub_subscription_facts.py
@@ -67,7 +67,7 @@ items:
       description:
       - A reference to a Topic resource.
       returned: success
-      type: str
+      type: dict
     labels:
       description:
       - A set of key/value label pairs to assign to this Subscription.
