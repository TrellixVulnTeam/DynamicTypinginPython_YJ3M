commit 1eea5674badec60646a5d8589e73494beba6cd31
Author: Alexander Saprykin <cutwatercore@gmail.com>
Date:   Mon Jul 2 18:37:40 2018 +0200

    Fix galaxy client executing queries with invalid http method (#42201)
    
    Fixes: ansible/galaxy#796

diff --git a/lib/ansible/galaxy/api.py b/lib/ansible/galaxy/api.py
index c6260e3afb..15251b61b3 100644
--- a/lib/ansible/galaxy/api.py
+++ b/lib/ansible/galaxy/api.py
@@ -152,7 +152,7 @@ class GalaxyAPI(object):
             args['alternate_role_name'] = role_name
         elif github_repo.startswith('ansible-role'):
             args['alternate_role_name'] = github_repo[len('ansible-role') + 1:]
-        data = self.__call_galaxy(url, args=urlencode(args))
+        data = self.__call_galaxy(url, args=urlencode(args), method="POST")
         if data.get('results', None):
             return data['results']
         return data
@@ -279,7 +279,7 @@ class GalaxyAPI(object):
             "github_repo": github_repo,
             "secret": secret
         })
-        data = self.__call_galaxy(url, args=args)
+        data = self.__call_galaxy(url, args=args, method="POST")
         return data
 
     @g_connect
