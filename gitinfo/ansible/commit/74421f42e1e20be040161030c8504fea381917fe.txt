commit 74421f42e1e20be040161030c8504fea381917fe
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Jan 12 13:08:49 2017 -0500

    ansible doc does not need plugin deprecation error

diff --git a/lib/ansible/cli/doc.py b/lib/ansible/cli/doc.py
index a44c183ee4..86a90477c3 100644
--- a/lib/ansible/cli/doc.py
+++ b/lib/ansible/cli/doc.py
@@ -99,7 +99,7 @@ class DocCLI(CLI):
 
             try:
                 # if the module lives in a non-python file (eg, win_X.ps1), require the corresponding python file for docs
-                filename = module_loader.find_plugin(module, mod_type='.py')
+                filename = module_loader.find_plugin(module, mod_type='.py', ignore_deprecated=True)
                 if filename is None:
                     display.warning("module %s not found in %s\n" % (module, DocCLI.print_paths(module_loader)))
                     continue
@@ -185,7 +185,7 @@ class DocCLI(CLI):
                 continue
 
             # if the module lives in a non-python file (eg, win_X.ps1), require the corresponding python file for docs
-            filename = module_loader.find_plugin(module, mod_type='.py')
+            filename = module_loader.find_plugin(module, mod_type='.py', ignore_deprecated=True)
 
             if filename is None:
                 continue
diff --git a/lib/ansible/plugins/__init__.py b/lib/ansible/plugins/__init__.py
index e457e7e02d..25152bfc00 100644
--- a/lib/ansible/plugins/__init__.py
+++ b/lib/ansible/plugins/__init__.py
@@ -221,7 +221,7 @@ class PluginLoader:
                 self._extra_dirs.append(directory)
                 self._paths = None
 
-    def find_plugin(self, name, mod_type=''):
+    def find_plugin(self, name, mod_type='', ignore_deprecated=False):
         ''' Find a plugin named name '''
 
         if mod_type:
@@ -297,7 +297,7 @@ class PluginLoader:
             alias_name = '_' + name
             # We've already cached all the paths at this point
             if alias_name in pull_cache:
-                if not os.path.islink(pull_cache[alias_name]):
+                if not ignore_deprecated and not os.path.islink(pull_cache[alias_name]):
                     display.deprecated('%s is kept for backwards compatibility '
                               'but usage is discouraged. The module '
                               'documentation details page may explain '
