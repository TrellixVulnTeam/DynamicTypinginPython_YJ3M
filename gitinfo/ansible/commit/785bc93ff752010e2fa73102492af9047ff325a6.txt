commit 785bc93ff752010e2fa73102492af9047ff325a6
Author: Matt Clay <matt@mystile.com>
Date:   Wed May 3 09:59:05 2017 +0800

    Allow empty string for EC2 session token from env.

diff --git a/lib/ansible/module_utils/ec2.py b/lib/ansible/module_utils/ec2.py
index 52c2df052d..b9383adc0e 100644
--- a/lib/ansible/module_utils/ec2.py
+++ b/lib/ansible/module_utils/ec2.py
@@ -208,7 +208,8 @@ def get_aws_connection_info(module, boto3=False):
             security_token = os.environ['AWS_SESSION_TOKEN']
         elif 'EC2_SECURITY_TOKEN' in os.environ:
             security_token = os.environ['EC2_SECURITY_TOKEN']
-        else:
+
+        if not security_token:
             # in case security_token came in as empty string
             security_token = None
 
