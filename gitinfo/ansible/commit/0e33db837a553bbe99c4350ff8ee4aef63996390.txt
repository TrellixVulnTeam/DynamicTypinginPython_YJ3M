commit 0e33db837a553bbe99c4350ff8ee4aef63996390
Author: Will Angenent <will.angenent@ntt.eu>
Date:   Thu Jul 17 23:04:21 2014 +0100

    Fix for issue #8152: Missing auth headers and a faulty JSON decode
    
    Looks like this regressed in commit 9730157 due to fetch_url refactors.

diff --git a/library/net_infrastructure/netscaler b/library/net_infrastructure/netscaler
index 2a8881cf56..de3c8fc242 100644
--- a/library/net_infrastructure/netscaler
+++ b/library/net_infrastructure/netscaler
@@ -122,9 +122,9 @@ class netscaler(object):
             'Content-Type' : 'application/x-www-form-urlencoded',
         }
 
-        response, info = fetch_url(self.module, request_url, data=data_json)
+        response, info = fetch_url(self.module, request_url, data=data_json, headers=headers)
 
-        return json.load(response.read())
+        return json.load(response)
 
     def prepare_request(self, action):
         resp = self.http_request(
