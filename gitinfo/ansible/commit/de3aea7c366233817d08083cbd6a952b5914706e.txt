commit de3aea7c366233817d08083cbd6a952b5914706e
Author: Rene Moser <mail@renemoser.net>
Date:   Thu Nov 10 16:04:11 2016 +0100

    cloudstack: cs_ip_address: fix returns on state=present (#3406)
    
    In case poll_job=false the return must be None

diff --git a/lib/ansible/modules/extras/cloud/cloudstack/cs_ip_address.py b/lib/ansible/modules/extras/cloud/cloudstack/cs_ip_address.py
index bd3a4427e1..2a5e968cf1 100644
--- a/lib/ansible/modules/extras/cloud/cloudstack/cs_ip_address.py
+++ b/lib/ansible/modules/extras/cloud/cloudstack/cs_ip_address.py
@@ -202,8 +202,7 @@ class AnsibleCloudStackIPAddress(AnsibleCloudStack):
 
             poll_async = self.module.params.get('poll_async')
             if poll_async:
-                res = self.poll_job(res, 'ipaddress')
-            ip_address = res
+                ip_address = self.poll_job(res, 'ipaddress')
         return ip_address
 
 
