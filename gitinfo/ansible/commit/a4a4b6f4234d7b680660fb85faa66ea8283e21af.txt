commit a4a4b6f4234d7b680660fb85faa66ea8283e21af
Author: Sam Yaple <sam@yaple.net>
Date:   Tue Oct 13 10:34:08 2015 +0000

    Catch the second occurance of ExposedPorts as well

diff --git a/lib/ansible/modules/cloud/docker/docker.py b/lib/ansible/modules/cloud/docker/docker.py
index 029f913ff2..ed44f279ad 100644
--- a/lib/ansible/modules/cloud/docker/docker.py
+++ b/lib/ansible/modules/cloud/docker/docker.py
@@ -1071,7 +1071,7 @@ class DockerManager(object):
             for p in (self.exposed_ports or []):
                 expected_exposed_ports.add("/".join(p))
 
-            actually_exposed_ports = set((container["Config"]["ExposedPorts"] or {}).keys())
+            actually_exposed_ports = set((container["Config"].get("ExposedPorts") or {}).keys())
 
             if actually_exposed_ports != expected_exposed_ports:
                 self.reload_reasons.append('exposed_ports ({0} => {1})'.format(actually_exposed_ports, expected_exposed_ports))
