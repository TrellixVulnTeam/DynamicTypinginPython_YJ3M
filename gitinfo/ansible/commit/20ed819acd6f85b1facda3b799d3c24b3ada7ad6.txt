commit 20ed819acd6f85b1facda3b799d3c24b3ada7ad6
Author: Alex Vasilenko <aa.vasilenko@gmail.com>
Date:   Tue Feb 19 00:28:35 2019 +0100

    Fix exception handling in credtash lookup (#51099)
    
    Exception does not have property message and ansible returns completely different exception because of this

diff --git a/lib/ansible/plugins/lookup/credstash.py b/lib/ansible/plugins/lookup/credstash.py
index 121a79afd6..0d2dbae854 100644
--- a/lib/ansible/plugins/lookup/credstash.py
+++ b/lib/ansible/plugins/lookup/credstash.py
@@ -113,7 +113,7 @@ class LookupModule(LookupBase):
             except credstash.ItemNotFound:
                 raise AnsibleError('Key {0} not found'.format(term))
             except Exception as e:
-                raise AnsibleError('Encountered exception while fetching {0}: {1}'.format(term, e.message))
+                raise AnsibleError('Encountered exception while fetching {0}: {1}'.format(term, e))
             ret.append(val)
 
         return ret
