commit 2d70dc7f21e88ab9049479bc08c7e559aa10753f
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Oct 3 09:54:32 2017 -0400

    make pipelining actually backwards compatible
    
    restore ssh specific setting the global, in the future these will be separate.

diff --git a/lib/ansible/config/base.yml b/lib/ansible/config/base.yml
index 59b5d9cbdb..f7933cd5cf 100644
--- a/lib/ansible/config/base.yml
+++ b/lib/ansible/config/base.yml
@@ -65,9 +65,14 @@ ANSIBLE_PIPELINING:
     - This can result in a very significant performance improvement when enabled.
     - "However this conflicts with privilege escalation (become). For example, when using 'sudo:' operations you must first
       disable 'requiretty' in /etc/sudoers on all managed hosts, which is why it is disabled by default."
-  env: [{name: ANSIBLE_PIPELINING}]
+  env:
+    - name: ANSIBLE_SSH_PIPELINING
+    - name: ANSIBLE_PIPELINING
   ini:
-  - {key: pipelining, section: connection}
+  - section: connection
+    key: pipelining
+  - section: ssh_connection
+    key: pipelining
   type: boolean
   yaml: {key: plugins.connection.pipelining}
 ANSIBLE_SSH_ARGS:
