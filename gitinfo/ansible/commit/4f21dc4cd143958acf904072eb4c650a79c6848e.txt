commit 4f21dc4cd143958acf904072eb4c650a79c6848e
Author: rektide <rektide@voodoowarez.com>
Date:   Thu May 2 17:19:22 2013 -0400

    Duplicate pull #2803 in ipv6, fixing setup module's handling of venet & unknown interface types.

diff --git a/library/system/setup b/library/system/setup
index 6f99d3ac2b..3ff29f45c0 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -1157,7 +1157,7 @@ class LinuxNetwork(Network):
                         default_ipv6['scope']      = scope
                         default_ipv6['macaddress'] = macaddress
                         default_ipv6['mtu']        = interfaces[device]['mtu']
-                        default_ipv6['type']       = interfaces[device]['type']
+                        default_ipv6['type']       = interfaces[device].get("type", "unknown")
 
                     if not address == '::1':
                         ips['all_ipv6_addresses'].append(address)
