commit 1942a69ed27387d48a338f755e32bc4feb01e1a1
Author: Paul Oyston <paul.oyston@performancehorizon.com>
Date:   Thu Mar 27 17:06:20 2014 +0000

    Added template call to _executor_internal to allow the passing of arbitrary data to modules.

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 85f4b5d067..502df176df 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -543,10 +543,12 @@ class Runner(object):
             # fireball, local, etc
             port = self.remote_port
 
+        module_vars = template.template(self.basedir, self.module_vars, host_variables)
+
         inject = {}
         inject = utils.combine_vars(inject, self.default_vars)
         inject = utils.combine_vars(inject, host_variables)
-        inject = utils.combine_vars(inject, self.module_vars)
+        inject = utils.combine_vars(inject, module_vars)
         inject = utils.combine_vars(inject, self.setup_cache[host])
         inject.setdefault('ansible_ssh_user', self.remote_user)
         inject['hostvars'] = HostVars(self.setup_cache, self.inventory)
