commit 17738e6b730a909aad4aa1bf14d58ba8036fbbde
Author: Adrian Likins <alikins@redhat.com>
Date:   Thu Nov 17 12:25:39 2016 -0500

    Fix test_play_context fail with local config. (#17596)
    
    If the current ansible enviroment has a config setup
    that doesn't use 'smart' as the configured transport
    test_play_context would fail when it assumes the
    transport will be 'smart'.

diff --git a/test/units/playbook/test_play_context.py b/test/units/playbook/test_play_context.py
index 1ffd79fbe6..a6b2094ed0 100644
--- a/test/units/playbook/test_play_context.py
+++ b/test/units/playbook/test_play_context.py
@@ -53,7 +53,7 @@ class TestPlayContext(unittest.TestCase):
     def test_play_context(self):
         (options, args) = self._parser.parse_args(['-vv', '--check'])
         play_context = PlayContext(options=options)
-        self.assertEqual(play_context.connection, 'smart')
+        self.assertEqual(play_context.connection, C.DEFAULT_TRANSPORT)
         self.assertEqual(play_context.remote_addr, None)
         self.assertEqual(play_context.remote_user, None)
         self.assertEqual(play_context.password, '')
