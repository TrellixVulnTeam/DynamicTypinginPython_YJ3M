commit bbf320fd22161614e425757a264952edf61493a4
Author: Dan Koch <dkoch@mm.st>
Date:   Wed Mar 12 14:59:50 2014 -0400

    Work around for cwd stat problems with run_command and sudo
    
    This fixes issue #6443

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 2d45987314..3eace12eeb 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1074,6 +1074,8 @@ class AnsibleModule(object):
 
 
         try:
+            if cwd:
+                os.chdir(cwd)
             cmd = subprocess.Popen(args, **kwargs)
 
             if data:
