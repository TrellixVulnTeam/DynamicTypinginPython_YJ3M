commit 25fc0c7e1b087e872188da0f7858d331ac7c1574
Author: Uli Martens <uli@youam.net>
Date:   Fri Jun 26 16:54:13 2015 -0400

    Fixing bug in failed_when results introduced by c3c398c

diff --git a/lib/ansible/executor/task_result.py b/lib/ansible/executor/task_result.py
index 99ac06c8eb..ad209a036c 100644
--- a/lib/ansible/executor/task_result.py
+++ b/lib/ansible/executor/task_result.py
@@ -43,7 +43,8 @@ class TaskResult:
         return self._check_key('skipped')
 
     def is_failed(self):
-        if 'results' in self._result and True in [True for x in self._result['results'] if 'failed_when_result' in x]:
+        if 'failed_when_result' in self._result or \
+           'results' in self._result and True in [True for x in self._result['results'] if 'failed_when_result' in x]:
             return self._check_key('failed_when_result')
         else:
             return self._check_key('failed') or self._result.get('rc', 0) != 0
