commit a8c290cc3bb4b2549a0e5b64beb985ff78bf8d23
Author: Brian Coca <bcoca@ansible.com>
Date:   Fri May 29 16:13:30 2015 -0400

    fixed ubuntu facts for all versions
    made sure NA is option of last resort

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 3485690b83..6f5f35f831 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -99,8 +99,9 @@ class Facts(object):
                     ('/etc/os-release', 'SuSE'),
                     ('/etc/gentoo-release', 'Gentoo'),
                     ('/etc/os-release', 'Debian'),
+                    ('/etc/lsb-release', 'Mandriva'),
                     ('/etc/os-release', 'NA'),
-                    ('/etc/lsb-release', 'Mandriva'))
+                )
     SELINUX_MODE_DICT = { 1: 'enforcing', 0: 'permissive', -1: 'disabled' }
 
     # A list of dicts.  If there is a platform with more than one
@@ -416,11 +417,13 @@ class Facts(object):
                                                 self.facts['distribution_version'] = self.facts['distribution_version'] + '.' + release.group(1)
                         elif name == 'Debian':
                             data = get_file_content(path)
-                            if 'Debian' in data or 'Raspbian' in data:
+                            if 'Ubuntu' in data:
+                                break # Ubuntu gets correct info from python functions
+                            elif 'Debian' in data or 'Raspbian' in data:
                                 release = re.search("PRETTY_NAME=[^(]+ \(?([^)]+?)\)", data)
                                 if release:
                                     self.facts['distribution_release'] = release.groups()[0]
-                                break
+                                    break
                         elif name == 'Mandriva':
                             data = get_file_content(path)
                             if 'Mandriva' in data:
diff --git a/lib/ansible/modules/core b/lib/ansible/modules/core
index 5983d64d77..9cc23c749a 160000
--- a/lib/ansible/modules/core
+++ b/lib/ansible/modules/core
@@ -1 +1 @@
-Subproject commit 5983d64d7728ea88ef27606e95e4aa34cde5ff46
+Subproject commit 9cc23c749a8cd5039db7aa1998d310bbb04d1e13
diff --git a/lib/ansible/modules/extras b/lib/ansible/modules/extras
index 1276420a3a..a07fc88ba0 160000
--- a/lib/ansible/modules/extras
+++ b/lib/ansible/modules/extras
@@ -1 +1 @@
-Subproject commit 1276420a3a39340fcd9e053a1e621cdd89f480fa
+Subproject commit a07fc88ba0d2546b92fbe93b2bede699fdf2bc48
