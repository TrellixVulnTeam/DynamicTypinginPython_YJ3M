commit 56314f7225ab3e342c7ffead3dc6de3eb639d473
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Thu Nov 1 19:23:08 2012 +0100

    Add test case for non-existing variable in varReplaceWithItems

diff --git a/test/TestUtils.py b/test/TestUtils.py
index 5c1df13bcb..7232ee680b 100644
--- a/test/TestUtils.py
+++ b/test/TestUtils.py
@@ -324,6 +324,10 @@ class TestUtils(unittest.TestCase):
         res = ansible.utils.varReplaceWithItems(None, template, vars)
         assert sorted(res) == sorted(vars['alphas'])
 
+        template = '${data.nonexisting}'
+        res = ansible.utils.varReplaceWithItems(None, template, vars)
+        assert res == template
+
     #####################################
     ### Template function tests
 
