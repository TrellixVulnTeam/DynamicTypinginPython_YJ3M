commit 0335d05f437eb59bcb77a58ef7819562f298ba79
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Thu Aug 1 20:44:19 2013 -0400

    Check against None around playbook basedir

diff --git a/lib/ansible/inventory/vars_plugins/group_vars.py b/lib/ansible/inventory/vars_plugins/group_vars.py
index 521a30af2d..3bc0c77f21 100644
--- a/lib/ansible/inventory/vars_plugins/group_vars.py
+++ b/lib/ansible/inventory/vars_plugins/group_vars.py
@@ -40,7 +40,10 @@ class VarsModule(object):
         """ main body of the plugin, does actual loading """
 
         inventory = self.inventory
-        self.pb_basedir = os.path.abspath(inventory.playbook_basedir())
+        basedir = inventory.playbook_basedir()
+        if basedir is not None: 
+            basedir = os.path.abspath(basedir)
+        self.pb_basedir = basedir
 
         # sort groups by depth so deepest groups can override the less deep ones
         groupz = sorted(inventory.groups_for_host(host.name), key=lambda g: g.depth)
