commit 82832021e84d4bee5545dc421a8062cd99f84a37
Author: Derek Carter <goozbach@friocorte.com>
Date:   Fri Jun 29 20:05:23 2012 -0400

    file when UID or GID doesn't exist

diff --git a/library/file b/library/file
index 892696dd15..71e01c53b0 100755
--- a/library/file
+++ b/library/file
@@ -184,8 +184,16 @@ def user_and_group(filename):
     st = os.stat(filename)
     uid = st.st_uid
     gid = st.st_gid
-    user = pwd.getpwuid(uid)[0]
-    group = grp.getgrgid(gid)[0]
+    try:
+        user = pwd.getpwuid(uid)[0]
+    except KeyError:
+        #print('unknown user')
+        user = 'UID' + str(uid)
+    try:
+        group = grp.getgrgid(gid)[0]
+    except KeyError:
+        #print('unknown group')
+        group = 'GID' + str(gid)
     return (user, group)
 
 def set_context_if_different(path, context, changed):
