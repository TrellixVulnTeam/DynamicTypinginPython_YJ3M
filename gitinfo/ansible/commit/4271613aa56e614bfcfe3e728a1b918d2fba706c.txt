commit 4271613aa56e614bfcfe3e728a1b918d2fba706c
Author: Michael Heca <heca@wdt.cz>
Date:   Fri Apr 18 16:14:12 2014 +0200

    module docker_image - default tag latest
    
    Fix constant rebuild of image if no tag specified.

diff --git a/library/cloud/docker_image b/library/cloud/docker_image
index 2f5a02b452..0bc3b10a03 100644
--- a/library/cloud/docker_image
+++ b/library/cloud/docker_image
@@ -164,7 +164,7 @@ class DockerImageManager:
         for i in images:
             # Docker-py version >= 0.3 (Docker API >= 1.8)
             if 'RepoTags' in i:
-                repotag = '%s:%s' % (getattr(self, 'name', ''), getattr(self, 'tag', 'latest'))
+                repotag = ':'.join([self.name, self.tag])
                 if not self.name or repotag in i['RepoTags']:
                     filtered_images.append(i)
             # Docker-py version < 0.3 (Docker API < 1.8)
@@ -188,7 +188,7 @@ def main():
         argument_spec = dict(
             path            = dict(required=False, default=None),
             name            = dict(required=True),
-            tag             = dict(required=False, default=""),
+            tag             = dict(required=False, default="latest"),
             nocache         = dict(default=False, type='bool'),
             state           = dict(default='present', choices=['absent', 'present', 'build']),
             docker_url      = dict(default='unix://var/run/docker.sock'),
