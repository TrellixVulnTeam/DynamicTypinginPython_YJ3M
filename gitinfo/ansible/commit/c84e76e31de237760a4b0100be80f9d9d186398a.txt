commit c84e76e31de237760a4b0100be80f9d9d186398a
Author: Dag Wieers <dag@wieers.com>
Date:   Fri Sep 28 17:44:51 2012 +0200

    Make sure we retain facts between playbooks
    
    This is mandatory if we want to make facts-modules (like network_facts, ilo_facts and esx_facts) work.

diff --git a/lib/ansible/playbook/__init__.py b/lib/ansible/playbook/__init__.py
index 29bd2743a0..29e9f22861 100644
--- a/lib/ansible/playbook/__init__.py
+++ b/lib/ansible/playbook/__init__.py
@@ -317,7 +317,7 @@ class PlayBook(object):
         # let runner template out future commands
         setup_ok = setup_results.get('contacted', {})
         for (host, result) in setup_ok.iteritems():
-            self.SETUP_CACHE[host] = result.get('ansible_facts', {})
+            self.SETUP_CACHE[host].update(result.get('ansible_facts', {}))
         return setup_results
 
     # *****************************************************
