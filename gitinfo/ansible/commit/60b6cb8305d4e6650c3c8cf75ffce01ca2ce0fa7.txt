commit 60b6cb8305d4e6650c3c8cf75ffce01ca2ce0fa7
Author: Michael Scherer <misc@zarb.org>
Date:   Sun Oct 16 09:58:19 2016 +0200

    Make mail compile on python 3

diff --git a/lib/ansible/modules/extras/notification/mail.py b/lib/ansible/modules/extras/notification/mail.py
index c8b2bb30c7..cdd5354b5f 100644
--- a/lib/ansible/modules/extras/notification/mail.py
+++ b/lib/ansible/modules/extras/notification/mail.py
@@ -218,7 +218,8 @@ def main():
             smtp = smtplib.SMTP_SSL(host, port=int(port))
         except (smtplib.SMTPException, ssl.SSLError):
             smtp = smtplib.SMTP(host, port=int(port))
-    except Exception, e:
+    except Exception:
+        e = get_exception()
         module.fail_json(rc=1, msg='Failed to send mail to server %s on port %s: %s' % (host, port, e))
 
     smtp.ehlo()
@@ -283,14 +284,16 @@ def main():
 
                 part.add_header('Content-disposition', 'attachment', filename=os.path.basename(file))
                 msg.attach(part)
-            except Exception, e:
+            except Exception:
+                e = get_exception()
                 module.fail_json(rc=1, msg="Failed to send mail: can't attach file %s: %s" % (file, e))
 
     composed = msg.as_string()
 
     try:
         smtp.sendmail(sender_addr, set(addr_list), composed)
-    except Exception, e:
+    except Exception:
+        e = get_exception()
         module.fail_json(rc=1, msg='Failed to send mail to %s: %s' % (", ".join(addr_list), e))
 
     smtp.quit()
@@ -299,4 +302,5 @@ def main():
 
 # import module snippets
 from ansible.module_utils.basic import *
+from ansible.module_utils.pycompat24 import get_exception
 main()
diff --git a/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt b/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
index 0738f1e5f8..24f1bbbc67 100644
--- a/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
+++ b/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
@@ -59,4 +59,3 @@
 /network/openvswitch_bridge.py
 /network/openvswitch_port.py
 /notification/jabber.py
-/notification/mail.py
