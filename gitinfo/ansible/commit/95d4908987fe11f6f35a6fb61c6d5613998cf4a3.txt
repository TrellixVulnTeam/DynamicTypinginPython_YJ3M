commit 95d4908987fe11f6f35a6fb61c6d5613998cf4a3
Author: Vitaly Shestovskiy <vitaly.shestovskiy@hatch.live>
Date:   Sat Feb 15 16:55:40 2020 +0200

    Fix packet.net dynamic inventory projects limit.  (#64889)
    
    * Added parameters to list more than 10 projects per run
    
    * Fix slug issue due to packet api change. Same as https://github.com/ansible/ansible/pull/63916

diff --git a/contrib/inventory/packet_net.py b/contrib/inventory/packet_net.py
index 6672226f2b..31a00c4f1a 100755
--- a/contrib/inventory/packet_net.py
+++ b/contrib/inventory/packet_net.py
@@ -249,9 +249,14 @@ class PacketInventory(object):
 
     def get_projects(self):
         '''Makes a Packet API call to get the list of projects'''
+
+        params = {
+            'per_page': self.items_per_page
+        }
+
         try:
             manager = self.connect()
-            projects = manager.list_projects()
+            projects = manager.list_projects(params=params)
             return projects
         except Exception as e:
             traceback.print_exc()
@@ -351,7 +356,7 @@ class PacketInventory(object):
 
         # Inventory: Group by OS
         if self.group_by_operating_system:
-            self.push(self.inventory, device.operating_system.slug, dest)
+            self.push(self.inventory, device.operating_system['slug'], dest)
             if self.nested_groups:
                 self.push_group(self.inventory, 'operating_systems', device.operating_system.slug)
 
@@ -400,7 +405,7 @@ class PacketInventory(object):
             elif key == 'packet_facility':
                 device_vars[key] = value['code']
             elif key == 'packet_operating_system':
-                device_vars[key] = value.slug
+                device_vars[key] = value['slug']
             elif key == 'packet_plan':
                 device_vars[key] = value['slug']
             elif key == 'packet_tags':
