commit b0fe70538406334f21708401558e4e2e4292658f
Author: Emil Lind <emil@sys.nu>
Date:   Fri Jan 8 13:52:44 2016 +0100

    Allow InventoryScript JSON with childgroups only
    
    and without hosts and vars
    
    Without this patch, the simplified syntax is triggered when a group
    is defined like this:
    
        "platforms": {
            "children": [
                "cloudstack"
            ]
        }
    
    Which results in a group 'platforms' with 1 host 'platforms'.
    
    more details in https://github.com/ansible/ansible/issues/13655

diff --git a/lib/ansible/inventory/script.py b/lib/ansible/inventory/script.py
index 1fa49e5053..042fa8c24a 100644
--- a/lib/ansible/inventory/script.py
+++ b/lib/ansible/inventory/script.py
@@ -103,7 +103,7 @@ class InventoryScript:
             if not isinstance(data, dict):
                 data = {'hosts': data}
             # is not those subkeys, then simplified syntax, host with vars
-            elif not any(k in data for k in ('hosts','vars')):
+            elif not any(k in data for k in ('hosts','vars','children')):
                 data = {'hosts': [group_name], 'vars': data}
 
             if 'hosts' in data:
