commit 8ba0af5df3a44aaa7b65ba5e73edcad15150928a
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Sat Jun 4 08:48:28 2016 -0700

    Be sure to import urllib.parse from somewhere

diff --git a/lib/ansible/modules/network/basics/uri.py b/lib/ansible/modules/network/basics/uri.py
index c0430f83cc..379d023bd4 100644
--- a/lib/ansible/modules/network/basics/uri.py
+++ b/lib/ansible/modules/network/basics/uri.py
@@ -30,6 +30,9 @@ try:
 except ImportError:
     import simplejson as json
 
+import ansible.module_utils.six
+
+
 DOCUMENTATION = '''
 ---
 module: uri
@@ -265,7 +268,7 @@ def write_file(module, url, dest, content):
 
 
 def url_filename(url):
-    fn = os.path.basename(urlparse.urlsplit(url)[2])
+    fn = os.path.basename(six.moves.urllib.parse.urlsplit(url)[2])
     if fn == '':
         return 'index.html'
     return fn
@@ -280,7 +283,7 @@ def absolute_location(url, location):
         return location
 
     elif location.startswith('/'):
-        parts = urlparse.urlsplit(url)
+        parts = six.moves.urllib.parse.urlsplit(url)
         base = url.replace(parts[2], '')
         return '%s%s' % (base, location)
 
