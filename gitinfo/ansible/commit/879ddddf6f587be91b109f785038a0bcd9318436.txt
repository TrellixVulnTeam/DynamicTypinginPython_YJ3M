commit 879ddddf6f587be91b109f785038a0bcd9318436
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Mon Jun 25 20:57:09 2012 +0200

    Add ./library to module search path.
    
    It allows for custom modules in the best practices directory structure.
    Bundling custom modules along with playbooks in packages is useful.

diff --git a/lib/ansible/playbook/__init__.py b/lib/ansible/playbook/__init__.py
index 460e4f9353..4e9e5dbd3c 100644
--- a/lib/ansible/playbook/__init__.py
+++ b/lib/ansible/playbook/__init__.py
@@ -114,6 +114,8 @@ class PlayBook(object):
         self.basedir    = os.path.dirname(playbook)
         self.playbook  = utils.parse_yaml_from_file(playbook)
 
+        self.module_path = self.module_path + os.pathsep + os.path.join(self.basedir, "library")
+
     # *****************************************************
         
     def run(self):
