commit 375edbd087afa41a7331a2638c37509bade1af1a
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Jun 24 12:16:57 2014 -0500

    Check to make sure key exists in tag list before using it
    
    Fixes #7910

diff --git a/library/cloud/ec2_asg b/library/cloud/ec2_asg
index 71c353569b..0a5b7264a4 100755
--- a/library/cloud/ec2_asg
+++ b/library/cloud/ec2_asg
@@ -209,6 +209,8 @@ def create_autoscaling_group(connection, module):
             existing_tags = as_group.tags
             existing_tag_map = dict((tag.key, tag) for tag in existing_tags)
             for tag in set_tags:
+                if 'key' not in tag:
+                    continue
                 if ( not tag['key'] in existing_tag_map or
                      existing_tag_map[tag['key']].value != tag['value'] or
                      ('propagate_at_launch' in tag and
