commit 3366a95765668d9a8fd915e2e21c41a43c598321
Author: Martin Matu≈°ka <martin@matuska.org>
Date:   Mon Sep 12 07:45:46 2016 +0200

    Force download if checksums do not match (#4262)

diff --git a/lib/ansible/modules/network/basics/get_url.py b/lib/ansible/modules/network/basics/get_url.py
index 0dabf982d0..cd9f3880cf 100644
--- a/lib/ansible/modules/network/basics/get_url.py
+++ b/lib/ansible/modules/network/basics/get_url.py
@@ -364,6 +364,11 @@ def main():
         mtime = os.path.getmtime(dest)
         last_mod_time = datetime.datetime.utcfromtimestamp(mtime)
 
+        # If the checksum does not match we have to force the download
+        # because last_mod_time may be newer than on remote
+        if checksum_mismatch:
+            force = True
+
     # download to tmpsrc
     tmpsrc, info = url_get(module, url, dest, use_proxy, last_mod_time, force, timeout, headers, tmp_dest)
 
