commit 0568abeb1471e54e0796bcf41d623ece003223bb
Author: Jimmy Tang <jcftang@gmail.com>
Date:   Sat Oct 19 14:41:00 2013 +0100

    check for ubuntu distribution first

diff --git a/library/packaging/apt_repository b/library/packaging/apt_repository
index 55994ed824..c77a644fae 100644
--- a/library/packaging/apt_repository
+++ b/library/packaging/apt_repository
@@ -349,11 +349,11 @@ def main():
     update_cache = module.params['update_cache']
     sourceslist = None
 
-    if isinstance(distro, aptsources.distro.DebianDistribution) or \
+    if isinstance(distro, aptsources.distro.UbuntuDistribution):
+        sourceslist = UbuntuSourcesList(add_ppa_signing_keys_callback=get_add_ppa_signing_key_callback(module))
+    elif isinstance(distro, aptsources.distro.DebianDistribution) or \
             isinstance(distro, aptsources.distro.Distribution):
         sourceslist = SourcesList()
-    elif isinstance(distro, aptsources.distro.UbuntuDistribution):
-        sourceslist = UbuntuSourcesList(add_ppa_signing_keys_callback=get_add_ppa_signing_key_callback(module))
     else:
         module.fail_json(msg='Module apt_repository supports only Debian and Ubuntu.')
 
