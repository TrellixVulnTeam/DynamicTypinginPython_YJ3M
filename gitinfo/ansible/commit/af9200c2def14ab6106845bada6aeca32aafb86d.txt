commit af9200c2def14ab6106845bada6aeca32aafb86d
Author: Chris Church <chris@ninemoreminutes.com>
Date:   Sat Aug 22 18:49:55 2015 -0400

    Add integration tests for win_group module.

diff --git a/test/integration/roles/test_win_group/defaults/main.yml b/test/integration/roles/test_win_group/defaults/main.yml
new file mode 100644
index 0000000000..2ab744e822
--- /dev/null
+++ b/test/integration/roles/test_win_group/defaults/main.yml
@@ -0,0 +1,4 @@
+---
+
+test_win_group_name: Ansiblings
+test_win_group_description: Test group for Ansible
diff --git a/test/integration/roles/test_win_group/tasks/main.yml b/test/integration/roles/test_win_group/tasks/main.yml
new file mode 100644
index 0000000000..e380ab18ec
--- /dev/null
+++ b/test/integration/roles/test_win_group/tasks/main.yml
@@ -0,0 +1,101 @@
+# test code for the slurp module when using winrm connection
+# (c) 2015, Chris Church <cchurch@ansible.com>
+
+# This file is part of Ansible
+#
+# Ansible is free software: you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation, either version 3 of the License, or
+# (at your option) any later version.
+#
+# Ansible is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
+
+- name: remove test group if it exists
+  win_group:
+    name: "{{test_win_group_name}}"
+    state: absent
+
+- name: create test group with missing name parameter
+  win_group:
+    description: "{{test_win_group_description}}"
+  register: win_group_create_noname
+  ignore_errors: true
+
+- name: check create result without name parameter
+  assert:
+    that:
+      - "win_group_create_noname|failed"
+
+- name: create test group with invalid state parameter
+  win_group:
+    name: "{{test_win_group_name}}"
+    state: "unknown"
+  register: win_group_create_invalid_state
+  ignore_errors: true
+
+- name: check create result with invalid state parameter
+  assert:
+    that:
+      - "win_group_create_invalid_state|failed"
+
+- name: create test group
+  win_group:
+    name: "{{test_win_group_name}}"
+    description: "{{test_win_group_description}}"
+  register: win_group_create
+
+- name: check create group results
+  assert:
+    that:
+      - "win_group_create|changed"
+
+- name: create test group again with same options
+  win_group:
+    name: "{{test_win_group_name}}"
+    description: "{{test_win_group_description}}"
+    state: "present"
+  register: win_group_create_again
+
+- name: check create group again results
+  assert:
+    that:
+      - "not win_group_create_again|changed"
+
+- name: create test group again but change description
+  win_group:
+    name: "{{test_win_group_name}}"
+    description: "{{test_win_group_description}} updated"
+  register: win_group_create_new_description
+
+- name: check create group results after updating description
+  assert:
+    that:
+      - "win_group_create_new_description|changed"
+
+- name: remove test group
+  win_group:
+    name: "{{test_win_group_name}}"
+    state: absent
+  register: win_group_remove
+
+- name: check remove group result
+  assert:
+    that:
+      - "win_group_remove|changed"
+
+- name: remove test group again
+  win_group:
+    name: "{{test_win_group_name}}"
+    state: absent
+  register: win_group_remove_again
+
+- name: check remove group again result
+  assert:
+    that:
+      - "not win_group_remove_again|changed"
diff --git a/test/integration/test_winrm.yml b/test/integration/test_winrm.yml
index b249224cb8..3c8314b9a9 100644
--- a/test/integration/test_winrm.yml
+++ b/test/integration/test_winrm.yml
@@ -32,6 +32,7 @@
     - { role: test_win_service, tags: test_win_service }
     - { role: test_win_feature, tags: test_win_feature }
     - { role: test_win_user, tags: test_win_user }
+    - { role: test_win_group, tags: test_win_group }
     - { role: test_win_file, tags: test_win_file }
     - { role: test_win_copy, tags: test_win_copy }
     - { role: test_win_template, tags: test_win_template }
