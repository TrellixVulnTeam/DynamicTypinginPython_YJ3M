commit b20b964c4aa6f0d62b8d133319346b3ff8a656af
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Thu May 3 17:06:34 2018 +0530

    Fix eos_config integration test failure (#39662)
    
    Enable become for eos_config check_mode test cases

diff --git a/test/integration/targets/eos_config/tests/cli/check_mode.yaml b/test/integration/targets/eos_config/tests/cli/check_mode.yaml
index 42f5d19f2e..d0a6a7f00d 100644
--- a/test/integration/targets/eos_config/tests/cli/check_mode.yaml
+++ b/test/integration/targets/eos_config/tests/cli/check_mode.yaml
@@ -6,6 +6,8 @@
      lines:
          - ip address 119.31.1.1 255.255.255.256
      parents: interface Loopback911
+     provider: "{{ cli }}"
+  become: yes
   check_mode: 1
   environment:
     ANSIBLE_EOS_USE_SESSIONS: 1
@@ -23,6 +25,8 @@
     before:
       - "no ip access-list test"
     src: basic/cmds.j2
+    provider: "{{ cli }}"
+  become: yes
   check_mode: yes
   register: config
 
@@ -31,6 +35,7 @@
     commands:
       - show configuration sessions | json
     provider: "{{ cli }}"
+  become: yes
   register: result
 
 - assert:
@@ -42,6 +47,8 @@
      lines:
          - ip address 119.31.1.1 255.255.255.256
      parents: interface Loopback911
+     provider: "{{ cli }}"
+  become: yes
   check_mode: 1
   environment:
     ANSIBLE_EOS_USE_SESSIONS: 0
@@ -57,6 +64,8 @@
      lines:
          - ip address 119.31.1.1 255.255.255.255
      parents: interface Loopback911
+     provider: "{{ cli }}"
+  become: yes
   check_mode: yes
   register: result
   environment:
