commit 258316ca7218222a940a89bae637f59a342a7571
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Feb 14 15:05:04 2017 -0500

    user older functions as getres* are >=2.7

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 1f5b790d40..6ede1fa21c 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -553,8 +553,10 @@ class Facts(object):
         self.facts['user_gecos'] = pwent.pw_gecos
         self.facts['user_dir'] = pwent.pw_dir
         self.facts['user_shell'] = pwent.pw_shell
-        (self.facts['real_user_id'], self.facts['effective_user_id'],  self.facts['saved_user_id']) = os.getresuid()
-        (self.facts['real_group_id'], self.facts['effective_group_id'],  self.facts['saved_group_id']) = os.getresgid()
+        self.facts['real_user_id'] = os.getuid()
+        self.facts['effective_user_id'] = os.geteuid()
+        self.facts['real_group_id'] = os.getgid()
+        self.facts['effective_group_id'] = os.getgid()
 
     def get_env_facts(self):
         self.facts['env'] = {}
