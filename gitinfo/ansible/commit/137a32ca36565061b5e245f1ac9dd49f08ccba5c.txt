commit 137a32ca36565061b5e245f1ac9dd49f08ccba5c
Author: James Pharaoh <james@phsys.co.uk>
Date:   Mon Sep 2 20:38:06 2013 +0200

    make rds handle vpc security groups properly

diff --git a/library/cloud/rds b/library/cloud/rds
index 77746026d3..cf937ef57a 100644
--- a/library/cloud/rds
+++ b/library/cloud/rds
@@ -438,7 +438,10 @@ def main():
         params["iops"] = iops
 
     if security_groups:
-        params["security_groups"] = security_groups.split(',')
+        if subnet:
+            params["vpc_security_groups"] = security_groups.split(',')
+        else:
+            params["security_groups"] = security_groups.split(',')
 
     try: 
         if command == 'create':
