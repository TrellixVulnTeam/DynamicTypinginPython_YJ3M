commit 56d33a2967231f954e788ff40763e4591ee88907
Author: Michael De La Rue <butigh.margoteen@dfgh.net>
Date:   Wed Jun 28 18:58:22 2017 +0100

    Fix hacking/test-module to allow running modules with pdb (#23339)
    
    * Fix hacking/test-module to allow running modules with pdb
    
    * add emacs autosave files to gitignore

diff --git a/.gitignore b/.gitignore
index 3f19acdfc4..3a099e69e4 100644
--- a/.gitignore
+++ b/.gitignore
@@ -2,9 +2,10 @@
 *.py[co]
 build
 AUTHORS.TXT
-# Emacs backup files...
+# Emacs backup and autosave files...
 *~
 .\#*
+\#*
 # RPM stuff...
 MANIFEST
 dist
diff --git a/hacking/test-module b/hacking/test-module
index 63e23c169e..bc18420183 100755
--- a/hacking/test-module
+++ b/hacking/test-module
@@ -228,11 +228,11 @@ def runtest(modfile, argspath, modname, module_style, interpreters):
     print(jsonify(results,format=True))
 
 
-def rundebug(debugger, modfile, argspath, modname, module_style):
+def rundebug(debugger, modfile, argspath, modname, module_style, interpreters):
     """Run interactively with console debugger."""
 
     if module_style == 'ansiballz':
-        modfile, argspath = ansiballz_setup(modfile, modname)
+        modfile, argspath = ansiballz_setup(modfile, modname, interpreters)
 
     if argspath is not None:
         subprocess.call("%s %s %s" % (debugger, modfile, argspath), shell=True)
@@ -257,7 +257,7 @@ def main():
 
     if options.execute:
         if options.debugger:
-            rundebug(options.debugger, modfile, argspath, modname, module_style)
+            rundebug(options.debugger, modfile, argspath, modname, module_style, interpreters)
         else:
             runtest(modfile, argspath, modname, module_style, interpreters)
 
