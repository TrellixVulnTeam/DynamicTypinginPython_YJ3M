commit aa2d6e47f090bead429b041c6dcfe49d883338db
Author: bryan hunt <bryan.hunt@picsolve.com>
Date:   Mon Mar 24 14:23:18 2014 +0000

    Accept status code from a list of valid codes.
    (cast the list of acceptable codes to a list of int )

diff --git a/library/network/uri b/library/network/uri
index 0d6cd7dc78..afc1dbd7f4 100644
--- a/library/network/uri
+++ b/library/network/uri
@@ -338,7 +338,7 @@ def main():
     follow_redirects = module.params['follow_redirects']
     creates = module.params['creates']
     removes = module.params['removes']
-    status_code = list(module.params['status_code'])
+    status_code = [int(x) for x in list(module.params['status_code'])]
     socket_timeout = module.params['timeout']
 
     # Grab all the http headers. Need this hack since passing multi-values is currently a bit ugly. (e.g. headers='{"Content-Type":"application/json"}')
@@ -412,7 +412,7 @@ def main():
                 uresp['json'] = js
             except:
                 pass
-    if str(resp['status']) not in status_code:
+    if resp['status'] not in status_code:
         module.fail_json(msg="Status code was not " + str(status_code), content=content, **uresp)
     elif return_content:
         module.exit_json(changed=changed, content=content, **uresp)
