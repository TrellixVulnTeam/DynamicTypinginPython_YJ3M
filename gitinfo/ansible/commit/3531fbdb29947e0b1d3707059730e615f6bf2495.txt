commit 3531fbdb29947e0b1d3707059730e615f6bf2495
Author: Oleg <obutovich@gmail.com>
Date:   Wed May 8 01:20:38 2013 +0200

    fix for authorized_key: skip chown and chmod if authorized_key_file is link

diff --git a/library/system/authorized_key b/library/system/authorized_key
index 0f9f4a6c89..26d844155e 100644
--- a/library/system/authorized_key
+++ b/library/system/authorized_key
@@ -140,8 +140,12 @@ def keyfile(module, user, write=False, path=None, manage_dir=True):
         if module.selinux_enabled():
             module.set_default_selinux_context(keysfile, False)
 
-    os.chown(keysfile, uid, gid)
-    os.chmod(keysfile, 0600)
+    try:
+        os.chown(keysfile, uid, gid)
+        os.chmod(keysfile, 0600)
+    except OSError:
+        pass
+
     return keysfile
 
 def readkeys(filename):
