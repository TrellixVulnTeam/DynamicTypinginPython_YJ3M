commit e282309f6d1e02e0b043db736fa9135f811b4208
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Aug 21 16:08:21 2015 -0400

    Make sure the inventory restriction is not None

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index d25409b0ae..5c44b010d6 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -523,7 +523,9 @@ class Inventory(object):
         to batch serial operations in main playbook code, don't use this for other
         reasons.
         """
-        if not isinstance(restriction, list):
+        if restriction is None:
+            return
+        elif not isinstance(restriction, list):
             restriction = [ restriction ]
         self._restriction = restriction
 
