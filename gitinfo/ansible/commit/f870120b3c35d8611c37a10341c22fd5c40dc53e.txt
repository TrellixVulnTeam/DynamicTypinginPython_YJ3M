commit f870120b3c35d8611c37a10341c22fd5c40dc53e
Author: Hector Acosta <hector.acosta@gmail.com>
Date:   Fri Jun 27 03:16:12 2014 -0500

    Check at most 16 characters of the key. Fixes #7936
    
    Signed-off-by: Hector Acosta <hector.acosta@gmail.com>

diff --git a/library/packaging/apt_key b/library/packaging/apt_key
index 7c1ba2e265..0a483a97bb 100644
--- a/library/packaging/apt_key
+++ b/library/packaging/apt_key
@@ -254,7 +254,7 @@ def main():
                 keys2 = all_keys(module, keyring, short_format)
                 if len(keys) != len(keys2):
                     changed=True
-                if key_id and not key_id in keys2:
+                if key_id and not key_id[-16:] in keys2:
                     module.fail_json(msg="key does not seem to have been added", id=key_id)
                 module.exit_json(changed=changed)
     elif state == 'absent':
