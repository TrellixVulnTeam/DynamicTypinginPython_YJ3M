commit dacb6b85617cce8ad4ab20ba4ad90ecd00f7d86b
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Sep 10 16:32:26 2014 -0500

    Use utils.merge_hash() instead of update for cache merging
    
    Fixes #8968

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 8a50f9e02d..16713dfa9a 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -598,7 +598,7 @@ class Runner(object):
 
         # merge the VARS and SETUP caches for this host
         combined_cache = self.setup_cache.copy()
-        combined_cache.update(self.vars_cache)
+        combined_cache = utils.merge_hash(combined_cache, self.vars_cache)
 
         hostvars = HostVars(combined_cache, self.inventory, vault_password=self.vault_pass)
 
