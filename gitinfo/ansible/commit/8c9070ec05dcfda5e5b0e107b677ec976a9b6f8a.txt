commit 8c9070ec05dcfda5e5b0e107b677ec976a9b6f8a
Author: Konstantin Shalygin <k0ste@k0ste.ru>
Date:   Tue Nov 6 21:54:51 2018 +0700

    mail: fixed STARTTLS module working with python 3.7.0 (#47412)

diff --git a/lib/ansible/modules/notification/mail.py b/lib/ansible/modules/notification/mail.py
index 5ef0a27e92..c38b98b9af 100644
--- a/lib/ansible/modules/notification/mail.py
+++ b/lib/ansible/modules/notification/mail.py
@@ -264,8 +264,8 @@ def main():
     try:
         if secure != 'never':
             try:
-                smtp = smtplib.SMTP_SSL(host=host, timeout=timeout)
-                code, smtpmessage = smtp.connect(host, port=port)
+                smtp = smtplib.SMTP_SSL(host=host, port=port, timeout=timeout)
+                code, smtpmessage = smtp.connect(host, port)
                 secure_state = True
             except ssl.SSLError as e:
                 if secure == 'always':
@@ -275,8 +275,8 @@ def main():
                 pass
 
         if not secure_state:
-            smtp = smtplib.SMTP(timeout=timeout)
-            code, smtpmessage = smtp.connect(host, port=port)
+            smtp = smtplib.SMTP(host=host, port=port, timeout=timeout)
+            code, smtpmessage = smtp.connect(host, port)
 
     except smtplib.SMTPException as e:
         module.fail_json(rc=1, msg='Unable to Connect %s:%s: %s' % (host, port, to_native(e)), exception=traceback.format_exc())
