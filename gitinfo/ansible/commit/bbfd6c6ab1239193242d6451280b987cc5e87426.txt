commit bbfd6c6ab1239193242d6451280b987cc5e87426
Author: Alicia Cozine <cozi@visi.com>
Date:   Fri Apr 20 14:17:02 2018 -0500

    Internal refs (#39094)
    
    * fixes community refs
    
    * fixes appendix refs
    
    * fixes scenario refs, keeps ACI guide link to devel
    
    * fixes windows refs
    
    * fixes user guide refs
    
    * fixes dev guide refs

diff --git a/docs/docsite/rst/community/committer_guidelines.rst b/docs/docsite/rst/community/committer_guidelines.rst
index ea29572ea0..3d1585ffe9 100644
--- a/docs/docsite/rst/community/committer_guidelines.rst
+++ b/docs/docsite/rst/community/committer_guidelines.rst
@@ -14,7 +14,7 @@ If you abuse the trust and break components and builds, etc., the trust level fa
 Features, High Level Design, and Roadmap
 ========================================
 
-As a core team member, you are an integral part of the team that develops the `roadmap <http://docs.ansible.com/ansible/devel/roadmap/>`_. Please be engaged, and push for the features and fixes that you want to see. Also keep in mind that Red Hat, as a company, will commit to certain features, fixes, APIs, etc. for various releases. Red Hat, the company, and the Ansible team must get these committed features (etc.) completed and released as scheduled. Obligations to users, the community, and customers must come first. Because of these commitments, a feature you want to develop yourself may not get into a release if it impacts a lot of other parts within Ansible.
+As a core team member, you are an integral part of the team that develops the :ref:`roadmap <roadmaps>`. Please be engaged, and push for the features and fixes that you want to see. Also keep in mind that Red Hat, as a company, will commit to certain features, fixes, APIs, etc. for various releases. Red Hat, the company, and the Ansible team must get these committed features (etc.) completed and released as scheduled. Obligations to users, the community, and customers must come first. Because of these commitments, a feature you want to develop yourself may not get into a release if it impacts a lot of other parts within Ansible.
 
 Any other new features and changes to high level design should go through the proposal process (TBD), to ensure the community and core team have had a chance to review the idea and approve it. The core team has sole responsibility for merging new features based on proposals.
 
diff --git a/docs/docsite/rst/community/community.rst b/docs/docsite/rst/community/community.rst
index 5e33a3adfb..5a62d20a76 100644
--- a/docs/docsite/rst/community/community.rst
+++ b/docs/docsite/rst/community/community.rst
@@ -1,4 +1,4 @@
 Community Information & Contributing
 ````````````````````````````````````
 
-This page is deprecated. Please see the updated `Ansible Community Guide <http://docs.ansible.com/ansible/latest/community/index.html>`_.
+This page is deprecated. Please see the updated :ref:`Ansible Community Guide <ansible_community_guide>`.
diff --git a/docs/docsite/rst/community/development_process.rst b/docs/docsite/rst/community/development_process.rst
index 0cbb7de401..9cebe5fe63 100644
--- a/docs/docsite/rst/community/development_process.rst
+++ b/docs/docsite/rst/community/development_process.rst
@@ -10,7 +10,7 @@ This section discusses how the Ansible development and triage process works.
 Road Maps
 =========
 
-The Ansible Core team provides a road map for each upcoming release. These road maps can be found `here <http://docs.ansible.com/ansible/devel/roadmap/>`_.
+The Ansible Core team provides a road map for each upcoming release. These road maps can be found :ref:`here <roadmaps>`.
 
 .. Roadmaps are User-oriented.  We should also list the Roadmap Projects and the Blocker Bug
    Projects here
diff --git a/docs/docsite/rst/community/how_can_I_help.rst b/docs/docsite/rst/community/how_can_I_help.rst
index e96be6ae5b..36023b7fa0 100644
--- a/docs/docsite/rst/community/how_can_I_help.rst
+++ b/docs/docsite/rst/community/how_can_I_help.rst
@@ -14,7 +14,7 @@ A great way to help the Ansible project is to become a power user:
 
 * Use Ansible everywhere you can
 * Take tutorials and classes
-* Read the `official documentation <http://docs.ansible.com/ansible/latest/index.html>`_
+* Read the :ref:`official documentation <ansible_documentation>`
 * Study some of the `many excellent books <https://www.amazon.com/s/ref=nb_sb_ss_c_2_7?url=search-alias%3Dstripbooks&field-keywords=ansible&sprefix=ansible%2Caps%2C260>`_ about Ansible
 * `Get certified <https://www.ansible.com/training-certification>`_.
 
diff --git a/docs/docsite/rst/dev_guide/developing_modules.rst b/docs/docsite/rst/dev_guide/developing_modules.rst
index 7dbe227e63..df3cd0d8b8 100644
--- a/docs/docsite/rst/dev_guide/developing_modules.rst
+++ b/docs/docsite/rst/dev_guide/developing_modules.rst
@@ -22,7 +22,7 @@ See :ref:`all_modules` for a list of existing modules.
 
 Modules can be written in any language and are found in the path specified
 by :envvar:`ANSIBLE_LIBRARY` or the ``--module-path`` command line option or
-in the `library section of the Ansible configuration file <http://docs.ansible.com/ansible/intro_configuration.html#library>`_.
+in the :envvar:`library section of the Ansible configuration file <ANSIBLE_LIBRARY>`.
 
 .. _module_dev_should_you:
 
@@ -49,11 +49,11 @@ If you find an existing PR that looks like it addresses the issue you are trying
 
 Action plugins get run on the master instead of on the target. For modules like file/copy/template, some of the work needs to be done on the master before the module executes on the target. Action plugins execute first on the master and can then execute the normal module on the target if necessary.
 
-For more information about action plugins, `read the action plugins documentation here <https://docs.ansible.com/ansible/dev_guide/developing_plugins.html>`_.
+For more information about action plugins, read the :ref:`action plugins documentation <developing_plugins>`.
 
 4. Should you use a role instead?
 
-Check out the roles documentation `available here <http://docs.ansible.com/ansible/playbooks_reuse_roles.html#roles>`_.
+Check out the :ref:`roles documentation<playbooks_reuse_roles>`.
 
 5. Should you write multiple modules instead of one module?
 
diff --git a/docs/docsite/rst/dev_guide/developing_modules_checklist.rst b/docs/docsite/rst/dev_guide/developing_modules_checklist.rst
index da12a9623c..e28f05fc52 100644
--- a/docs/docsite/rst/dev_guide/developing_modules_checklist.rst
+++ b/docs/docsite/rst/dev_guide/developing_modules_checklist.rst
@@ -33,7 +33,7 @@ The following  checklist items are important guidelines for people who want to c
                         'supported_by': 'community',
                         'metadata_version': '1.1'}
 
-The complete module metadata specification is here: `Ansible metadata block <https://docs.ansible.com/ansible/dev_guide/developing_modules_documenting.html#ansible-metadata-block>`_
+Read the complete :ref:`module metadata specification <ansible-metadata-block>` for more information.
 
 * Documentation: Make sure it exists
     * Module documentation should briefly and accurately define what each module and option does, and how it works with others in the underlying system. Documentation should be written for broad audience--readable both by experts and non-experts. This documentation is not meant to teach a total novice, but it also should not be reserved for the Illuminati (hard balance).
diff --git a/docs/docsite/rst/dev_guide/developing_modules_documenting.rst b/docs/docsite/rst/dev_guide/developing_modules_documenting.rst
index 09b3bdb367..5d497ae215 100644
--- a/docs/docsite/rst/dev_guide/developing_modules_documenting.rst
+++ b/docs/docsite/rst/dev_guide/developing_modules_documenting.rst
@@ -67,6 +67,7 @@ add the newer line above the older one, like so:
     # Copyright: (c) 2015, [Original Contributor(s)]
     # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
 
+.. _ansible_metadata_block:
 
 ANSIBLE_METADATA Block
 ----------------------
@@ -129,7 +130,7 @@ Fields
      certified instead)
 
    For information on what the support level values entail, please see
-   `Modules Support <http://docs.ansible.com/ansible/modules_support.html>`_.
+   :ref:`Modules Support <modules_support>`.
 
 :status: This field records information about the module that is
    important to the end user. It's a list of strings. The default value
diff --git a/docs/docsite/rst/dev_guide/developing_modules_in_groups.rst b/docs/docsite/rst/dev_guide/developing_modules_in_groups.rst
index 9cc70c446d..656e8fbac8 100644
--- a/docs/docsite/rst/dev_guide/developing_modules_in_groups.rst
+++ b/docs/docsite/rst/dev_guide/developing_modules_in_groups.rst
@@ -129,7 +129,7 @@ If there are multiple people that can be notified, please list them. That avoids
 
 
 **Review Module web docs**
-Review the autogenerated module documentation for each of your modules, found in `Module Docs <http://docs.ansible.com/ansible/modules_by_category.html>`_ to ensure they are correctly formatted. If there are any issues please fix by raising a single PR.
+Review the autogenerated module documentation for each of your modules, found in :ref:`Module Docs <modules_by_category>` to ensure they are correctly formatted. If there are any issues please fix by raising a single PR.
 
 If the module documentation hasn't been published live yet, please let a member of the Ansible Core Team know in the ``#ansible-devel`` IRC channel.
 
diff --git a/docs/docsite/rst/dev_guide/developing_plugins.rst b/docs/docsite/rst/dev_guide/developing_plugins.rst
index 57c988a823..e529316f4e 100644
--- a/docs/docsite/rst/dev_guide/developing_plugins.rst
+++ b/docs/docsite/rst/dev_guide/developing_plugins.rst
@@ -279,7 +279,7 @@ The following is an example of how this lookup is called::
 
 For more example lookup plugins, check out the source code for the lookup plugins that are included with Ansible here: `lib/ansible/plugins/lookup <https://github.com/ansible/ansible/tree/devel/lib/ansible/plugins/lookup>`_.
 
-For more usage examples of lookup plugins, see `Using Lookups <http://docs.ansible.com/ansible/playbooks_lookups.html>`_.
+For more usage examples of lookup plugins, see :ref:`Using Lookups<playbooks_lookups>`.
 
 .. _developing_vars_plugins:
 
diff --git a/docs/docsite/rst/dev_guide/style_guide/resources.rst b/docs/docsite/rst/dev_guide/style_guide/resources.rst
index 1cce66ed3d..853af35f42 100644
--- a/docs/docsite/rst/dev_guide/style_guide/resources.rst
+++ b/docs/docsite/rst/dev_guide/style_guide/resources.rst
@@ -1,16 +1,10 @@
 Resources
 ````````````````
-Internal resources
--------------------------
-- https://docs.ansible.com/
-- https://sites.google.com/a/ansibleworks.com/ansible-intranet/
-- ??? intranet Engineering doc???
+* Follow the style of the :ref:`Ansible Documentation<ansible_documentation>`
+* Ask for advice on IRC, on the ``#ansible-devel`` Freenode channel
+* Review these online style guides:
 
+  * `AP Stylebook <https://www.apstylebook.com>`_
+  * `Chicago Manual of Style <http://www.chicagomanualofstyle.org/home.html>`_
+  * `Strunk and White's Elements of Style <https://www.crockford.com/wrrrld/style.html>`_
 
-External Resources
--------------------------
-- https://www.apstylebook.com
-- http://www.chicagomanualofstyle.org/home.html
-- https://www.crockford.com/wrrrld/style.html
-- http://orwell.ru
-- http://www.computeruser.com
diff --git a/docs/docsite/rst/reference_appendices/common_return_values.rst b/docs/docsite/rst/reference_appendices/common_return_values.rst
index 638b6e8c15..6aee8fc656 100644
--- a/docs/docsite/rst/reference_appendices/common_return_values.rst
+++ b/docs/docsite/rst/reference_appendices/common_return_values.rst
@@ -4,7 +4,7 @@ Return Values
 .. contents:: Topics
 
 Ansible modules normally return a data structure that can be registered into a variable, or seen directly when output by
-the `ansible` program. Each module can optionally document its own unique return values (visible through ansible-doc and https://docs.ansible.com).
+the `ansible` program. Each module can optionally document its own unique return values (visible through ansible-doc and on the :ref:`main docsite<ansible_documentation>`.
 
 This document covers return values common to all modules.
 
diff --git a/docs/docsite/rst/reference_appendices/release_and_maintenance.rst b/docs/docsite/rst/reference_appendices/release_and_maintenance.rst
index ead713631d..9ab135195f 100644
--- a/docs/docsite/rst/reference_appendices/release_and_maintenance.rst
+++ b/docs/docsite/rst/reference_appendices/release_and_maintenance.rst
@@ -29,11 +29,9 @@ latest features and security fixes.
 Older, unsupported versions of Ansible can contain unfixed security
 vulnerabilities (*CVE*).
 
-You can refer to the `porting guides`_ for tips on updating your Ansible
+You can refer to the :ref:`porting guides<porting_guides>` for tips on updating your Ansible
 playbooks to run on newer versions.
 
-.. _porting guides: https://docs.ansible.com/ansible/porting_guides.html
-
 .. _release_schedule:
 
 Release status
diff --git a/docs/docsite/rst/scenario_guides/guide_aci.rst b/docs/docsite/rst/scenario_guides/guide_aci.rst
index 08f1eab857..5e9698cea6 100644
--- a/docs/docsite/rst/scenario_guides/guide_aci.rst
+++ b/docs/docsite/rst/scenario_guides/guide_aci.rst
@@ -65,7 +65,7 @@ For instance ensuring that a specific tenant exists, is done using the following
         description: Customer XYZ
         state: present
 
-A complete list of existing ACI modules is available for `the latest stable release <http://docs.ansible.com/ansible/latest/modules/list_of_network_modules.html#aci>`_ as well as `the current development version <http://docs.ansible.com/ansible/devel/modules/list_of_network_modules.html#aci>`_.
+A complete list of existing ACI modules is available for the latest stable release on the :ref:`list of network modules <list_of_network_modules>`. You can also view the `current development version <http://docs.ansible.com/ansible/devel/modules/list_of_network_modules.html#aci>`_.
 
 Querying ACI configuration
 ..........................
diff --git a/docs/docsite/rst/scenario_guides/guide_azure.rst b/docs/docsite/rst/scenario_guides/guide_azure.rst
index 5e1e846626..90a9631644 100644
--- a/docs/docsite/rst/scenario_guides/guide_azure.rst
+++ b/docs/docsite/rst/scenario_guides/guide_azure.rst
@@ -238,7 +238,7 @@ virtual network already with an existing subnet, you can run the following to cr
 Dynamic Inventory Script
 ------------------------
 
-If you are not familiar with Ansible's dynamic inventory scripts, check out `Intro to Dynamic Inventory <http://docs.ansible.com/ansible/intro_dynamic_inventory.html>`_.
+If you are not familiar with Ansible's dynamic inventory scripts, check out :ref:`Intro to Dynamic Inventory <intro_dynamic_inventory>`.
 
 The Azure Resource Manager inventory script is called azure_rm.py. It authenticates with the Azure API exactly the same as the
 Azure modules, which means you will either define the same environment variables described above in `Using Environment Variables`_,
diff --git a/docs/docsite/rst/scenario_guides/guide_packet.rst b/docs/docsite/rst/scenario_guides/guide_packet.rst
index f394ac1e12..af275f3bd8 100644
--- a/docs/docsite/rst/scenario_guides/guide_packet.rst
+++ b/docs/docsite/rst/scenario_guides/guide_packet.rst
@@ -10,7 +10,7 @@ Introduction
 - packet_sshkey: adds a public SSH key from file or value to the Packet infrastructure. Every subsequently-created device will have this public key installed in .ssh/authorized_keys.
 - packet_device: manages servers on Packet. You can use this module to create, restart and delete devices.
 
-Note, this guide assumes you are familiar with Ansible and how it works. If you're not, have a look at their `docs <http://docs.ansible.com/>`_ before getting started.
+Note, this guide assumes you are familiar with Ansible and how it works. If you're not, have a look at their :ref:`docs <ansible_documentation>` before getting started.
 
 Requirements
 ============
diff --git a/docs/docsite/rst/user_guide/modules_support.rst b/docs/docsite/rst/user_guide/modules_support.rst
index 5f9d53ff22..161986b753 100644
--- a/docs/docsite/rst/user_guide/modules_support.rst
+++ b/docs/docsite/rst/user_guide/modules_support.rst
@@ -1,3 +1,5 @@
+.. _modules_support:
+
 Module Maintenance & Support
 ----------------------------
 
diff --git a/docs/docsite/rst/user_guide/playbooks_async.rst b/docs/docsite/rst/user_guide/playbooks_async.rst
index dc46f78e96..a6a35ef97b 100644
--- a/docs/docsite/rst/user_guide/playbooks_async.rst
+++ b/docs/docsite/rst/user_guide/playbooks_async.rst
@@ -1,3 +1,5 @@
+.. _playbooks_async:
+
 Asynchronous Actions and Polling
 ================================
 
diff --git a/docs/docsite/rst/user_guide/windows_dsc.rst b/docs/docsite/rst/user_guide/windows_dsc.rst
index bbbbe6230d..2e0819ab99 100644
--- a/docs/docsite/rst/user_guide/windows_dsc.rst
+++ b/docs/docsite/rst/user_guide/windows_dsc.rst
@@ -387,7 +387,7 @@ Setup IIS Website
        An introduction to playbooks
    :doc:`playbooks_best_practices`
        Best practices advice
-   `List of Windows Modules <http://docs.ansible.com/list_of_windows_modules.html>`_
+   `List of Windows Modules :ref:`<list_of_windows_modules>`
        Windows specific module list, all implemented in PowerShell
    `User Mailing List <http://groups.google.com/group/ansible-project>`_
        Have a question?  Stop by the google group!
diff --git a/docs/docsite/rst/user_guide/windows_faq.rst b/docs/docsite/rst/user_guide/windows_faq.rst
index 69262de123..828286e2fa 100644
--- a/docs/docsite/rst/user_guide/windows_faq.rst
+++ b/docs/docsite/rst/user_guide/windows_faq.rst
@@ -6,7 +6,7 @@ their answers.
 
 .. note:: This document covers questions about managing Microsoft Windows servers with Ansible.
     For questions about Ansible Core, please see the
-    `FAQ page <http://docs.ansible.com/ansible/latest/faq.html>`_.
+    :ref:`FAQ page <ansible_faq>`.
 
 Does Ansible work with Windows XP or Server 2003?
 ``````````````````````````````````````````````````
@@ -23,7 +23,7 @@ supported operating system versions are:
 * Windows 10
 
 Ansible also has minimum PowerShell version requirements - please see 
-:doc:`windows_setup` for the lastest information.
+:doc:`windows_setup` for the latest information.
 
 Can I Manage Windows Nano Server?
 `````````````````````````````````
@@ -70,6 +70,8 @@ The way that these certificates are generated and mapped to a user is different
 from the SSH implementation; consult the :doc:`windows_winrm` documentation for 
 more information.
 
+.. _windows_faq_winrm:
+
 Why can I run a command locally that does not work under Ansible?
 `````````````````````````````````````````````````````````````````
 Ansible executes commands through WinRM. These processes are different from
@@ -110,7 +112,7 @@ See :doc:`become` more info on how to use become. The limitations section at
 
 This program won't install with Ansible
 ```````````````````````````````````````
-See `the question <http://docs.ansible.com/ansible/latest/windows_faq.html#i-can-run-this-command-locally-but-it-does-not-work-under-ansible>`_ for more information about WinRM limitations.
+See :ref:`this question <windows_faq_winrm>` for more information about WinRM limitations.
 
 What modules are available?
 ```````````````````````````
@@ -119,8 +121,8 @@ Linux/Unix machines and arbitrary web services. These modules are written in
 Python and most of them do not work on Windows.
 
 Because of this, there are dedicated Windows modules that are written in
-PowerShell and are meant to be run on Windows hosts. A list of this modules
-can be found `here <http://docs.ansible.com/list_of_windows_modules.html>`_.
+PowerShell and are meant to be run on Windows hosts. A list of these modules
+can be found :ref:`here <list_of_windows_modules>`.
 
 In addition, the following Ansible Core modules/action-plugins work with Windows:
 
diff --git a/docs/docsite/rst/user_guide/windows_setup.rst b/docs/docsite/rst/user_guide/windows_setup.rst
index bb741c9334..8bea549504 100644
--- a/docs/docsite/rst/user_guide/windows_setup.rst
+++ b/docs/docsite/rst/user_guide/windows_setup.rst
@@ -447,7 +447,7 @@ Windows host.
        An introduction to playbooks
    :doc:`playbooks_best_practices`
        Best practices advice
-   `List of Windows Modules <http://docs.ansible.com/list_of_windows_modules.html>`_
+   :ref:`List of Windows Modules <list_of_windows_modules>`
        Windows specific module list, all implemented in PowerShell
    `User Mailing List <http://groups.google.com/group/ansible-project>`_
        Have a question?  Stop by the google group!
diff --git a/docs/docsite/rst/user_guide/windows_usage.rst b/docs/docsite/rst/user_guide/windows_usage.rst
index 6516d8979e..a6c31f225e 100644
--- a/docs/docsite/rst/user_guide/windows_usage.rst
+++ b/docs/docsite/rst/user_guide/windows_usage.rst
@@ -483,7 +483,7 @@ guides for Windows modules differ substantially from those for standard standard
        An introduction to playbooks
    :doc:`playbooks_best_practices`
        Best practices advice
-   `List of Windows Modules <http://docs.ansible.com/list_of_windows_modules.html>`_
+   :ref:`List of Windows Modules <list_of_windows_modules>`
        Windows specific module list, all implemented in PowerShell
    `User Mailing List <http://groups.google.com/group/ansible-project>`_
        Have a question?  Stop by the google group!
diff --git a/docs/docsite/rst/user_guide/windows_winrm.rst b/docs/docsite/rst/user_guide/windows_winrm.rst
index 0cd81eab32..7e9e807a3d 100644
--- a/docs/docsite/rst/user_guide/windows_winrm.rst
+++ b/docs/docsite/rst/user_guide/windows_winrm.rst
@@ -767,7 +767,7 @@ Some of these limitations can be mitigated by doing one of the following:
        An introduction to playbooks
    :doc:`playbooks_best_practices`
        Best practices advice
-   `List of Windows Modules <http://docs.ansible.com/list_of_windows_modules.html>`_
+   :ref:`List of Windows Modules <list_of_windows_modules>`
        Windows specific module list, all implemented in PowerShell
    `User Mailing List <http://groups.google.com/group/ansible-project>`_
        Have a question?  Stop by the google group!
