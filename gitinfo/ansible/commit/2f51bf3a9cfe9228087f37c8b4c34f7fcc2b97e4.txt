commit 2f51bf3a9cfe9228087f37c8b4c34f7fcc2b97e4
Author: Michael Scherer <misc@zarb.org>
Date:   Mon May 2 19:21:02 2016 +0200

    Fix arguments and docs (#2147)
    
    - oauthkey shouldn't be logged
    - action should be restricted and checked and the
    doc should correspond to the code

diff --git a/lib/ansible/modules/extras/source_control/github_hooks.py b/lib/ansible/modules/extras/source_control/github_hooks.py
index 9f66487558..8d3c120a78 100644
--- a/lib/ansible/modules/extras/source_control/github_hooks.py
+++ b/lib/ansible/modules/extras/source_control/github_hooks.py
@@ -57,7 +57,7 @@ options:
     description:
       - This tells the githooks module what you want it to do.
     required: true
-    choices: [ "create", "cleanall" ]
+    choices: [ "create", "cleanall", "list", "clean504" ]
   validate_certs:
     description:
       - If C(no), SSL certificates for the target repo will not be validated. This should only be used
@@ -152,9 +152,9 @@ def _delete(module, hookurl, oauthkey, repo, user, hookid):
 def main():
     module = AnsibleModule(
         argument_spec=dict(
-        action=dict(required=True),
+        action=dict(required=True, choices=['list','clean504','cleanall','create']),
         hookurl=dict(required=False),
-        oauthkey=dict(required=True),
+        oauthkey=dict(required=True, no_log=True),
         repo=dict(required=True),
         user=dict(required=True),
         validate_certs=dict(default='yes', type='bool'),
