commit 57428c48a2111f672cf835b8dce4ccb701f79eae
Author: Nacho Coloma <icoloma@gmail.com>
Date:   Wed Jul 23 16:45:24 2014 +0200

    Bugfix: bulletproof unexpected_error_msg at gce.py
    
    This method was still failing for me with a "missing http_code" message. After applying this change, the error message is:
    
    ```
    msg: Unexpected response: {'value': 'PyCrypto library required for Service Account Authentication.'}
    ```
    
    I wanted to contribute a rock-solid `unexpected_error_msg` implementation.

diff --git a/lib/ansible/module_utils/gce.py b/lib/ansible/module_utils/gce.py
index 6d6fb158ff..2b50d9f5ab 100644
--- a/lib/ansible/module_utils/gce.py
+++ b/lib/ansible/module_utils/gce.py
@@ -64,7 +64,5 @@ def gce_connect(module):
 
 def unexpected_error_msg(error):
     """Create an error string based on passed in error."""
-    msg='Unexpected response: HTTP return_code['
-    msg+='%s], API error code[%s] and message: %s' % (
-        error.http_code, error.code, str(error.value))
-    return msg
+    import pprint
+    return 'Unexpected response: ' + pprint.pformat(vars(error))
