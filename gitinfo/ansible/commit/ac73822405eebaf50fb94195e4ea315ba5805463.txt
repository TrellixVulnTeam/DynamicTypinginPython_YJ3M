commit ac73822405eebaf50fb94195e4ea315ba5805463
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jul 16 13:39:47 2014 -0500

    Expand target for mysql_db
    
    Fixes #8128

diff --git a/library/database/mysql_db b/library/database/mysql_db
index 40af38108f..184c30381c 100644
--- a/library/database/mysql_db
+++ b/library/database/mysql_db
@@ -282,6 +282,9 @@ def main():
     state = module.params["state"]
     target = module.params["target"]
 
+    # make sure the target path is expanded for ~ and $HOME
+    target = os.path.expandvars(os.path.expanduser(target))
+
     # Either the caller passes both a username and password with which to connect to
     # mysql, or they pass neither and allow this module to read the credentials from
     # ~/.my.cnf.
