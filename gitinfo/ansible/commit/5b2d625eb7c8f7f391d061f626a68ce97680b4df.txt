commit 5b2d625eb7c8f7f391d061f626a68ce97680b4df
Author: Ondra Machacek <omachace@redhat.com>
Date:   Fri Oct 18 14:40:41 2019 +0200

    ovirt: Fix fetching of nested attributes (#61841)
    
    This patch is fixing the fetching of nested attributes.
    
    Bug-Url: https://bugzilla.redhat.com/show_bug.cgi?id=1748025

diff --git a/lib/ansible/module_utils/ovirt.py b/lib/ansible/module_utils/ovirt.py
index f5a95a5bdd..1dad5c0df3 100644
--- a/lib/ansible/module_utils/ovirt.py
+++ b/lib/ansible/module_utils/ovirt.py
@@ -102,7 +102,7 @@ def get_dict_of_struct(struct, connection=None, fetch_nested=False, attributes=N
             ret = []
             for i in value:
                 if isinstance(i, sdk.Struct):
-                    if fetch_nested and i.href:
+                    if not nested and fetch_nested and i.href:
                         ret.append(resolve_href(i))
                     elif not nested:
                         ret.append(get_dict_of_struct(i))
