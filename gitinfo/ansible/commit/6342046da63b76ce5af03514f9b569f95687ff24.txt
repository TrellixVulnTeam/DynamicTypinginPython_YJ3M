commit 6342046da63b76ce5af03514f9b569f95687ff24
Author: Andrew Pope <drewii2ii@gmail.com>
Date:   Fri Oct 11 18:02:18 2013 -0400

    Fixed broken force=yes on files for directories

diff --git a/library/files/file b/library/files/file
index dd17b9ca02..28a0ce50be 100644
--- a/library/files/file
+++ b/library/files/file
@@ -226,7 +226,7 @@ def main():
         module.exit_json(path=path, changed=True)
 
     if prev_state != 'absent' and prev_state != state:
-        if not (force and prev_state == 'file' and state == 'link') and state != 'touch':
+        if not (force and (prev_state == 'file' or prev_state == 'directory') and state == 'link') and state != 'touch':
             module.fail_json(path=path, msg='refusing to convert between %s and %s for %s' % (prev_state, state, src))
 
     if prev_state == 'absent' and state == 'absent':
