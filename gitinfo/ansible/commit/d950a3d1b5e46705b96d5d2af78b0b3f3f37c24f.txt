commit d950a3d1b5e46705b96d5d2af78b0b3f3f37c24f
Author: James Tanner <tanner.jc@gmail.com>
Date:   Mon Nov 25 09:51:07 2013 -0500

    Fixes 5036 add missing parameter to git module function call

diff --git a/library/source_control/git b/library/source_control/git
index 39e7ac60cb..fddb60b0c8 100644
--- a/library/source_control/git
+++ b/library/source_control/git
@@ -382,7 +382,7 @@ def main():
     local_mods = False
     if not os.path.exists(gitconfig):
         if module.check_mode:
-            remote_head = get_remote_head(git_path, module, dest, version, repo)
+            remote_head = get_remote_head(git_path, module, dest, version, remote, bare)
             module.exit_json(changed=True, before=before, after=remote_head)
         clone(git_path, module, repo, dest, remote, depth, version, bare, reference)
     elif not update:
