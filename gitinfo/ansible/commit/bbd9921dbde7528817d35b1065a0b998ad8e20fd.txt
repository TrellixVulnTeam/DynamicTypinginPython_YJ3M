commit bbd9921dbde7528817d35b1065a0b998ad8e20fd
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Oct 7 19:59:39 2014 -0500

    Adding a negative test for new safe_load

diff --git a/test/v2/parsing/yaml/test_yaml.py b/test/v2/parsing/yaml/test_yaml.py
index c32365dcbf..00394f6091 100644
--- a/test/v2/parsing/yaml/test_yaml.py
+++ b/test/v2/parsing/yaml/test_yaml.py
@@ -1,6 +1,9 @@
 # TODO: header
 
 import unittest
+
+from yaml.scanner import ScannerError
+
 from ansible.parsing.yaml import safe_load
 from ansible.parsing.yaml.objects import AnsibleMapping
 
@@ -36,6 +39,11 @@ data3 = '''---
     list1key3: list1value3
 '''
 
+bad_data1 = '''---
+foo: bar
+  bam: baz
+'''
+
 class TestSafeLoad(unittest.TestCase):
 
     def setUp(self):
@@ -44,6 +52,10 @@ class TestSafeLoad(unittest.TestCase):
     def tearDown(self):
         pass
 
+    def test_safe_load_bad(self):
+        # test the loading of bad yaml data
+        self.assertRaises(ScannerError, safe_load, bad_data1)
+
     def test_safe_load(self):
         # test basic dictionary
         res = safe_load(data1)
