commit c1c32c75aca436ef380b5198d988bf181295c4c7
Author: kiri <satoshi_ebihara@xica.net>
Date:   Mon Oct 28 21:35:57 2013 +0900

    add NoneType check.

diff --git a/library/cloud/ec2_elb b/library/cloud/ec2_elb
index 2ea64ebc1b..107eaf807a 100644
--- a/library/cloud/ec2_elb
+++ b/library/cloud/ec2_elb
@@ -300,10 +300,11 @@ def main():
     elb_man = ElbManager(module, instance_id, ec2_elbs, aws_access_key,
                          aws_secret_key, region=region)
 
-    for elb in ec2_elbs:
-        if not elb_man.exists(elb):
-            msg="ELB %s does not exist" % elb
-            module.fail_json(msg=msg)
+    if ec2_elbs is not None:
+        for elb in ec2_elbs:
+            if not elb_man.exists(elb):
+                msg="ELB %s does not exist" % elb
+                module.fail_json(msg=msg)
 
     if module.params['state'] == 'present':
         elb_man.register(wait, enable_availability_zone)
