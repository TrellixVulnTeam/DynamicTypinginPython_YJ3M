commit 09f68fc6595ab078210fa1846f620dd4ad4cba66
Author: Christopher Snyder <cnsnyder@users.noreply.github.com>
Date:   Tue Apr 9 03:36:51 2019 -0400

    redhat_subscription: Fix usage of ConfigParser (#54815)

diff --git a/changelogs/fragments/redhat_subscription_use_strings_for_yum_plugin_configs.yaml b/changelogs/fragments/redhat_subscription_use_strings_for_yum_plugin_configs.yaml
new file mode 100644
index 0000000000..942abe2356
--- /dev/null
+++ b/changelogs/fragments/redhat_subscription_use_strings_for_yum_plugin_configs.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+- redhat_subscription - For compatibility using the redhat_subscription module on hosts set to use a python 3 interpreter, use string values when updating yum plugin configuration files.
diff --git a/lib/ansible/modules/packaging/os/redhat_subscription.py b/lib/ansible/modules/packaging/os/redhat_subscription.py
index aa41bde915..fa1beb5728 100644
--- a/lib/ansible/modules/packaging/os/redhat_subscription.py
+++ b/lib/ansible/modules/packaging/os/redhat_subscription.py
@@ -260,9 +260,9 @@ class RegistrationBase(object):
             cfg.read([tmpfile])
 
             if enabled:
-                cfg.set('main', 'enabled', 1)
+                cfg.set('main', 'enabled', '1')
             else:
-                cfg.set('main', 'enabled', 0)
+                cfg.set('main', 'enabled', '0')
 
             fd = open(tmpfile, 'w+')
             cfg.write(fd)
