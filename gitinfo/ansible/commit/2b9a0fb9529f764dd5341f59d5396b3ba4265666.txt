commit 2b9a0fb9529f764dd5341f59d5396b3ba4265666
Author: Matt Clay <matt@mystile.com>
Date:   Thu Feb 9 11:24:09 2017 -0800

    Update galaxy and database unit tests. (#21209)
    
    * Update galaxy unit tests to work from tmp dir.
    * Fix sorting of database tests.

diff --git a/test/units/cli/test_galaxy.py b/test/units/cli/test_galaxy.py
index 753e90c170..901d5bd690 100644
--- a/test/units/cli/test_galaxy.py
+++ b/test/units/cli/test_galaxy.py
@@ -39,6 +39,10 @@ class TestGalaxy(unittest.TestCase):
         '''creating prerequisites for installing a role; setUpClass occurs ONCE whereas setUp occurs with every method tested.'''
         # class data for easy viewing: role_dir, role_tar, role_name, role_req, role_path
 
+        cls.temp_dir = tempfile.mkdtemp('galaxy')
+
+        os.chdir(cls.temp_dir)
+
         if os.path.exists("./delete_me"):
             shutil.rmtree("./delete_me")
 
@@ -88,6 +92,8 @@ class TestGalaxy(unittest.TestCase):
             os.remove(cls.role_tar)
         if os.path.isdir(cls.role_path):
             shutil.rmtree(cls.role_path)
+        if os.path.isdir(cls.temp_dir):
+            shutil.rmtree(cls.temp_dir)
 
     def setUp(self):
         self.default_args = []
diff --git a/test/units/module_utils/test_database.py b/test/units/module_utils/test_database.py
index 675aed547a..aa69db364d 100644
--- a/test/units/module_utils/test_database.py
+++ b/test/units/module_utils/test_database.py
@@ -73,8 +73,8 @@ HOW_MANY_DOTS = (
      'PostgreSQL does not support column with more than 4 dots'),
 )
 
-VALID_QUOTES = ((test, VALID[test]) for test in VALID)
-INVALID_QUOTES = ((test[0], test[1], INVALID[test]) for test in INVALID)
+VALID_QUOTES = sorted((test, VALID[test]) for test in VALID)
+INVALID_QUOTES = sorted((test[0], test[1], INVALID[test]) for test in INVALID)
 
 
 @pytest.mark.parametrize("identifier, quoted_identifier", VALID_QUOTES)
