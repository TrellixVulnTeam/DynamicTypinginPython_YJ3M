commit 411b20814766159e7e3fa2d7a626ed0294823f22
Author: Gabriel Suarez <gabriel.suarez@solarwinds.com>
Date:   Tue Sep 3 20:33:47 2019 +0100

    Add example of "parent_group" usage in aws_ec2.py (#60430)
    
    ##### SUMMARY
    Looks like the "parent_group" option in "keyed_groups" is a very recent feature that is not being documented.
    This pull request just adds a simple example of the usage of this useful feature.
    
    
    
    ##### ISSUE TYPE
    - Docs Pull Request
    
    +label: docsite_pr

diff --git a/lib/ansible/plugins/inventory/aws_ec2.py b/lib/ansible/plugins/inventory/aws_ec2.py
index a565220f26..5f75795616 100644
--- a/lib/ansible/plugins/inventory/aws_ec2.py
+++ b/lib/ansible/plugins/inventory/aws_ec2.py
@@ -138,6 +138,10 @@ keyed_groups:
   # Create a group per region e.g. aws_region_us_east_2
   - key: placement.region
     prefix: aws_region
+  # Create a group (or groups) based on the value of a custom tag "Role" and add them to a metagroup called "project"
+  - key: tags['Role']
+    prefix: foo
+    parent_group: "project"
 # Set individual variables with compose
 compose:
   # Use the private IP address to connect to the host
