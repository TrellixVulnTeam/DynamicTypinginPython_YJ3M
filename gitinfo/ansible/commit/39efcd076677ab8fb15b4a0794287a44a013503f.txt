commit 39efcd076677ab8fb15b4a0794287a44a013503f
Author: Peter Sankauskas <peter@admobius.com>
Date:   Wed Nov 7 16:56:45 2012 -0800

    While I haven't done this, it is possible to bring up an instance
    without a keypair, so this takes care of that scenario

diff --git a/plugins/inventory/ec2.py b/plugins/inventory/ec2.py
index 9e87b0a5a3..7ac3aa9619 100755
--- a/plugins/inventory/ec2.py
+++ b/plugins/inventory/ec2.py
@@ -303,7 +303,8 @@ class Ec2Inventory(object):
         self.push(self.inventory, self.to_safe('type_' + instance.instance_type), dest)
         
         # Inventory: Group by key pair
-        self.push(self.inventory, self.to_safe('key_' + instance.key_name), dest)
+        if instance.key_name != None:
+            self.push(self.inventory, self.to_safe('key_' + instance.key_name), dest)
         
         # Inventory: Group by security group
         try:
