commit 7f6359b14334d98daccbf30404390effe2e0bffb
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Tue Jun 19 21:58:24 2012 +0200

    Default to using a ControlMaster connection

diff --git a/lib/ansible/runner/connection/ssh.py b/lib/ansible/runner/connection/ssh.py
index 0a72dcb956..54644aa0f2 100644
--- a/lib/ansible/runner/connection/ssh.py
+++ b/lib/ansible/runner/connection/ssh.py
@@ -48,6 +48,10 @@ class SSHConnection(object):
         extra_args = os.getenv("ANSIBLE_SSH_ARGS", None)
         if extra_args is not None:
             self.common_args += shlex.split(extra_args)
+        else:
+            self.common_args += ["-o", "ControlMaster=auto",
+                                 "-o", "ControlPersist=60s",
+                                 "-o", "ControlPath=/tmp/ansible-ssh-%h-%p-%r"]
         self.userhost = "%s@%s" % (self.runner.remote_user, self.host)
 
         return self
