commit a672a5549abf4fd46072705fb0af462562a897d2
Author: Michel Blanc <mb@mbnet.fr>
Date:   Thu Apr 19 15:30:26 2012 +0200

    Adds ArchLinux build file
    
    Adds PKGBUILD file required to build Arch Linux packages

diff --git a/packaging/arch/PKGBUILD b/packaging/arch/PKGBUILD
new file mode 100644
index 0000000000..63b6e4330a
--- /dev/null
+++ b/packaging/arch/PKGBUILD
@@ -0,0 +1,44 @@
+#Maintainer: Michel Blanc <mblanc@erasme.org>
+pkgname=ansible-git
+pkgver=20120419
+pkgrel=1
+pkgdesc="A radically simple deployment, model-driven configuration management, and command execution framework"
+arch=('any')
+url="https://github.com/ansible/ansible"
+license=('GPL3')
+depends=('python2' 'python-paramiko>=1.7.7' 'python2-jinja' 'python-simplejson')
+makedepends=('git' 'asciidoc')
+
+_gitroot="https://github.com/ansible/ansible"
+_gitname="ansible"
+
+build() {
+  cd "$srcdir"
+  msg "Connecting to GIT server...."
+
+  if [ -d $_gitname ] ; then
+    cd $_gitname && git pull origin
+    msg "The local files are updated."
+  else
+    git clone $_gitroot $_gitname
+  fi
+
+  msg "GIT checkout done or server timeout"
+
+  cd "$srcdir/$_gitname"
+  make
+}
+
+package() {
+  cd "$srcdir/$_gitname"
+
+  mkdir -p ${pkgdir}/usr/share/ansible
+  cp ./library/* ${pkgdir}/usr/share/ansible/
+  python setup.py install -O1 --root=${pkgdir}
+
+  install -D docs/man/man1/ansible.1 ${pkgdir}/usr/share/man/man1/ansible.1
+  install -D docs/man/man1/ansible-playbook.1 ${pkgdir}/usr/share/man/man1/ansible-playbook.1
+
+  gzip -9 ${pkgdir}/usr/share/man/man1/ansible.1
+  gzip -9 ${pkgdir}/usr/share/man/man1/ansible-playbook.1
+}
