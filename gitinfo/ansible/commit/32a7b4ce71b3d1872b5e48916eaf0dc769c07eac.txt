commit 32a7b4ce71b3d1872b5e48916eaf0dc769c07eac
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed Nov 2 21:33:21 2016 -0400

    only validate extensions when using dir loading
    
    fixes #18223

diff --git a/lib/ansible/plugins/action/include_vars.py b/lib/ansible/plugins/action/include_vars.py
index 8749af43f5..ebe29b2f14 100644
--- a/lib/ansible/plugins/action/include_vars.py
+++ b/lib/ansible/plugins/action/include_vars.py
@@ -226,7 +226,7 @@ class ActionModule(ActionBase):
                 return success
         return success
 
-    def _load_files(self, filename):
+    def _load_files(self, filename, validate_extensions=False):
         """ Loads a file and converts the output into a valid Python dict.
         Args:
             filename (str): The source file.
@@ -237,7 +237,7 @@ class ActionModule(ActionBase):
         results = dict()
         failed = False
         err_msg = ''
-        if not self._is_valid_file_ext(filename):
+        if validate_extensions and not self._is_valid_file_ext(filename):
             failed = True
             err_msg = (
                 '{0} does not have a valid extension: {1}'
@@ -287,7 +287,7 @@ class ActionModule(ActionBase):
 
             if not stop_iter and not failed:
                 if path.exists(filepath) and not self._ignore_file(filename):
-                    failed, err_msg, loaded_data = self._load_files(filepath)
+                    failed, err_msg, loaded_data = self._load_files(filepath, validate_extensions=True)
                     if not failed:
                         results.update(loaded_data)
 
