commit 28feba2fb35166ef313db5a4aaf8840b76632167
Author: Rene Moser <mail@renemoser.net>
Date:   Wed Sep 14 10:44:01 2016 +0200

    jenkins_job: extend integration tests (#17558)

diff --git a/test/integration/roles/test_jenkins_job/tasks/main.yml b/test/integration/roles/test_jenkins_job/tasks/main.yml
index 21962d8007..a21346cb46 100644
--- a/test/integration/roles/test_jenkins_job/tasks/main.yml
+++ b/test/integration/roles/test_jenkins_job/tasks/main.yml
@@ -13,6 +13,21 @@
     that:
     - result|success
 
+- name: test fail on missing params
+  local_action:
+     module: jenkins_job
+     name: test.job
+     url: "{{ jenkins_url }}"
+     user: "{{ jenkins_user }}"
+     password: "{{ jenkins_password }}"
+  register: result
+  ignore_errors: true
+- name: verify test fail on missing params
+  assert:
+    that:
+    - result|failed
+    - 'result.msg == "one of the following params is required on state=present: config,enabled"'
+
 - name: test create a job
   local_action:
      module: jenkins_job
