commit 0918416b836625e0640c43fb73e8dc9e520949ca
Author: Daniel Menet <membership@sontags.ch>
Date:   Thu Nov 12 16:52:02 2015 +0100

    substitute tilde and env vars before storing C.CACHE_PLUGIN_CONNECTION as instance attribute

diff --git a/lib/ansible/plugins/cache/jsonfile.py b/lib/ansible/plugins/cache/jsonfile.py
index 6a1012aa18..e8162f596e 100644
--- a/lib/ansible/plugins/cache/jsonfile.py
+++ b/lib/ansible/plugins/cache/jsonfile.py
@@ -50,7 +50,7 @@ class CacheModule(BaseCacheModule):
 
         self._timeout = float(C.CACHE_PLUGIN_TIMEOUT)
         self._cache = {}
-        self._cache_dir = C.CACHE_PLUGIN_CONNECTION # expects a dir path
+        self._cache_dir = os.path.expandvars(os.path.expanduser(C.CACHE_PLUGIN_CONNECTION)) # expects a dir path
         if not self._cache_dir:
             raise AnsibleError("error, fact_caching_connection is not set, cannot use fact cache")
 
