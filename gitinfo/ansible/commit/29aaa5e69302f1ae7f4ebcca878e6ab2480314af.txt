commit 29aaa5e69302f1ae7f4ebcca878e6ab2480314af
Author: Cristian Ciupitu <cristian.ciupitu@yahoo.com>
Date:   Sun Mar 17 19:33:43 2013 +0200

    module_formatter.return_data: use UTF-8 encoding
    
    The text parameter can contain non-ASCII characters, so we'll encode it
    using UTF-8. For example the DOCUMENTATION of the bzr module has such
    characters in the name of the author.

diff --git a/hacking/module_formatter.py b/hacking/module_formatter.py
index eb87e500c9..5aff171e91 100755
--- a/hacking/module_formatter.py
+++ b/hacking/module_formatter.py
@@ -127,7 +127,7 @@ def load_examples_section(text):
 def return_data(text, options, outputname, module):
     if options.output_dir is not None:
         f = open(os.path.join(options.output_dir, outputname % module), 'w')
-        f.write(text)
+        f.write(text.encode('utf-8'))
         f.close()
     else:
         print text
