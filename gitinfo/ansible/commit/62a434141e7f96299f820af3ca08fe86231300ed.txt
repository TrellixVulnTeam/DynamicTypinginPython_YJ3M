commit 62a434141e7f96299f820af3ca08fe86231300ed
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed May 31 11:14:54 2017 -0400

    ensure display is terminal sensistive
    
    fixes #18248 by using display width intead of hardcoded length

diff --git a/lib/ansible/plugins/callback/profile_tasks.py b/lib/ansible/plugins/callback/profile_tasks.py
index 2ebdd30834..79aa4754a9 100644
--- a/lib/ansible/plugins/callback/profile_tasks.py
+++ b/lib/ansible/plugins/callback/profile_tasks.py
@@ -136,7 +136,7 @@ class CallbackModule(CallbackBase):
 
         # Print the timings
         for uuid, result in results:
-            msg=u"{0:-<70}{1:->9}".format(result['name'] + u' ',u' {0:.02f}s'.format(result['time']))
+            msg=u"{0:-<{2}}{1:->9}".format(result['name'] + u' ',u' {0:.02f}s'.format(result['time']), self.columns - 9)
             if 'path' in result:
-                msg += u"\n{0:-<79}".format(result['path'] + u' ')
+                msg += u"\n{0:-<{1}}".format(result['path'] + u' '.format(self.columns))
             self._display.display(msg)
