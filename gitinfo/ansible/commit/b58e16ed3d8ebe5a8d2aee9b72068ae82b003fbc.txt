commit b58e16ed3d8ebe5a8d2aee9b72068ae82b003fbc
Author: Ton Kersten <tonk@tonkersten.com>
Date:   Fri Feb 19 10:38:23 2016 +0100

    Fix facter path
    
    In Puppet 4 and in the PE edition, the Puppet tree is installed in
    `/opt/puppetlabs/...` and all commands can be reached from
    `/opt/puppetlabs/bin`.

diff --git a/lib/ansible/modules/system/setup.py b/lib/ansible/modules/system/setup.py
index a28c037c74..c3f19eda17 100644
--- a/lib/ansible/modules/system/setup.py
+++ b/lib/ansible/modules/system/setup.py
@@ -87,7 +87,7 @@ def run_setup(module):
 
     # Look for the path to the facter and ohai binary and set
     # the variable to that path.
-    facter_path = module.get_bin_path('facter')
+    facter_path = module.get_bin_path('facter', opt_dirs=['/opt/puppetlabs/bin'])
     ohai_path = module.get_bin_path('ohai')
 
     # if facter is installed, and we can use --json because
