commit 1c247c9eb47c1b4d3ebf0c35b9a882ff11ff893d
Author: Johan Wir√©n <johan.wiren.se@gmail.com>
Date:   Thu Jul 11 00:05:53 2013 +0200

    Updated GenericBsdIfconfigNetwork to collect gateway

diff --git a/library/system/setup b/library/system/setup
index a151aa4693..4638b1dce5 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -1548,9 +1548,12 @@ class GenericBsdIfconfigNetwork(Network):
             lines = out.split('\n')
             for line in lines:
                 words = line.split()
-                # look for first word starting interface
-                if len(words) > 0 and words[0] == 'interface:':
-                    interface[v]['interface'] = words[1]
+                # Collect output from route command
+                if len(words) > 0:
+                    if words[0] == 'interface:':
+                        interface[v]['interface'] = words[1]
+                    if words[0] == 'gateway:':
+                        interface[v]['gateway'] = words[1]
 
         return interface['v4'], interface['v6']
 
