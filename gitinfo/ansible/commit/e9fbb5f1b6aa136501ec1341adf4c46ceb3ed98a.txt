commit e9fbb5f1b6aa136501ec1341adf4c46ceb3ed98a
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Nov 12 11:04:43 2014 -0600

    Serialize tag attributes to ASG properties in ec2_asg
    
    Fixes #108

diff --git a/lib/ansible/modules/cloud/amazon/ec2_asg.py b/lib/ansible/modules/cloud/amazon/ec2_asg.py
index 4940d0d9dc..e1b5464703 100755
--- a/lib/ansible/modules/cloud/amazon/ec2_asg.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_asg.py
@@ -245,6 +245,10 @@ def get_properties(autoscaling_group):
                 properties['pending_instances'] += 1
         properties['instance_facts'] = instance_facts
     properties['load_balancers'] = autoscaling_group.load_balancers
+
+    if hasattr(autoscaling_group, "tags"):
+        properties['tags'] = dict((t.key, t.value) for t in autoscaling_group.tags)
+
     return properties
 
 
@@ -357,6 +361,7 @@ def create_autoscaling_group(connection, module):
                                 continue
             if changed:
                 connection.create_or_update_tags(asg_tags)
+                as_group.tags = asg_tags
 
         # handle loadbalancers separately because None != []
         load_balancers = module.params.get('load_balancers') or []
