commit 0a3a81bd12a1840caa7d1f3f7e1e77fdf03b4bcc
Author: Nathaniel Case <ncase@redhat.com>
Date:   Fri Jan 10 23:09:21 2020 -0500

    Persistent connections: These timeouts seem unused (#66267)
    
    * These timeouts seem unused
    
    * Add changelog

diff --git a/changelogs/fragments/66267-httpapi-timeout.yaml b/changelogs/fragments/66267-httpapi-timeout.yaml
new file mode 100644
index 0000000000..003f9b6d75
--- /dev/null
+++ b/changelogs/fragments/66267-httpapi-timeout.yaml
@@ -0,0 +1,5 @@
+bugfixes:
+- Fix httpapi timeout value to read from persistent_command_timeout as intended.
+
+minor_changes:
+- Remove timeout option from httpapi, netconf, & network_cli connections, as they were unused.
diff --git a/lib/ansible/plugins/connection/httpapi.py b/lib/ansible/plugins/connection/httpapi.py
index abe88d9a53..ae240875fa 100644
--- a/lib/ansible/plugins/connection/httpapi.py
+++ b/lib/ansible/plugins/connection/httpapi.py
@@ -85,14 +85,6 @@ options:
     default: True
     vars:
       - name: ansible_httpapi_use_proxy
-  timeout:
-    type: int
-    description:
-      - Sets the connection time, in seconds, for communicating with the
-        remote device.  This timeout is used as the default timeout value for
-        commands when issuing a command to the network CLI.  If the command
-        does not return in timeout seconds, an error is generated.
-    default: 120
   become:
     type: boolean
     description:
@@ -265,7 +257,8 @@ class Connection(NetworkConnectionBase):
         Sends the command to the device over api
         '''
         url_kwargs = dict(
-            timeout=self.get_option('timeout'), validate_certs=self.get_option('validate_certs'),
+            timeout=self.get_option('persistent_command_timeout'),
+            validate_certs=self.get_option('validate_certs'),
             use_proxy=self.get_option("use_proxy"),
             headers={},
         )
diff --git a/lib/ansible/plugins/connection/netconf.py b/lib/ansible/plugins/connection/netconf.py
index 7aa1619d64..fdacb1413c 100644
--- a/lib/ansible/plugins/connection/netconf.py
+++ b/lib/ansible/plugins/connection/netconf.py
@@ -82,14 +82,6 @@ options:
       - name: ANSIBLE_PRIVATE_KEY_FILE
     vars:
       - name: ansible_private_key_file
-  timeout:
-    type: int
-    description:
-      - Sets the connection time, in seconds, for communicating with the
-        remote device.  This timeout is used as the default timeout value when
-        awaiting a response after issuing a call to a RPC.  If the RPC
-        does not return in timeout seconds, an error is generated.
-    default: 120
   look_for_keys:
     default: True
     description:
diff --git a/lib/ansible/plugins/connection/network_cli.py b/lib/ansible/plugins/connection/network_cli.py
index 199da9988f..482e360a64 100644
--- a/lib/ansible/plugins/connection/network_cli.py
+++ b/lib/ansible/plugins/connection/network_cli.py
@@ -75,14 +75,6 @@ options:
       - name: ANSIBLE_PRIVATE_KEY_FILE
     vars:
       - name: ansible_private_key_file
-  timeout:
-    type: int
-    description:
-      - Sets the connection time, in seconds, for communicating with the
-        remote device.  This timeout is used as the default timeout value for
-        commands when issuing a command to the network CLI.  If the command
-        does not return in timeout seconds, an error is generated.
-    default: 120
   become:
     type: boolean
     description:
