commit daaea1780176f610fdcf982f0e99e725c20ed6b1
Author: Evert Mulder <evertmulder@gmail.com>
Date:   Fri Apr 12 19:25:18 2019 +0200

    Fixed incorrect response removing a group (#55116)

diff --git a/lib/ansible/modules/remote_management/manageiq/manageiq_group.py b/lib/ansible/modules/remote_management/manageiq/manageiq_group.py
index 32d8b0bade..51f587166b 100644
--- a/lib/ansible/modules/remote_management/manageiq/manageiq_group.py
+++ b/lib/ansible/modules/remote_management/manageiq/manageiq_group.py
@@ -35,6 +35,8 @@ version_added: '2.8'
 author: Evert Mulder (@evertmulder)
 description:
   - The manageiq_group module supports adding, updating and deleting groups in ManageIQ.
+requirements:
+- manageiq-client
 
 options:
   state:
@@ -319,10 +321,13 @@ class ManageIQgroup(object):
         """
         try:
             url = '%s/groups/%s' % (self.api_url, group['id'])
-            self.client.post(url, action='delete')
+            result = self.client.post(url, action='delete')
         except Exception as e:
             self.module.fail_json(msg="failed to delete group %s: %s" % (group['description'], str(e)))
 
+        if result['success'] is False:
+            self.module.fail_json(msg=result['message'])
+
         return dict(
             changed=True,
             msg="deleted group %s with id %i" % (group['description'], group['id']))
@@ -610,7 +615,7 @@ def main():
         else:
             res_args = dict(
                 changed=False,
-                msg="group %s: does not exist in manageiq" % description)
+                msg="group '%s' does not exist in manageiq" % description)
 
     # group should exist
     if state == "present":
