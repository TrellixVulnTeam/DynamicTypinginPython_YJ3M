commit b8bc15fe027f8d71c237a050881ec6ccfc27116b
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Oct 29 12:45:29 2015 -0400

    switched to backticks to allow for non bourne shells to work

diff --git a/lib/ansible/plugins/shell/sh.py b/lib/ansible/plugins/shell/sh.py
index cd765e413c..54d2b57c8f 100644
--- a/lib/ansible/plugins/shell/sh.py
+++ b/lib/ansible/plugins/shell/sh.py
@@ -67,8 +67,8 @@ class ShellModule(object):
         basetmp = self.join_path(C.DEFAULT_REMOTE_TMP, basefile)
         if system and (basetmp.startswith('$HOME') or basetmp.startswith('~/')):
             basetmp = self.join_path('/tmp', basefile)
-        cmd = 'mkdir -p "$(echo %s)"' % basetmp
-        cmd += ' && echo "$(echo %s)"' % basetmp
+        cmd = 'mkdir -p "`echo %s`"' % basetmp
+        cmd += ' && echo "`echo %s`"' % basetmp
 
         # change the umask in a subshell to achieve the desired mode
         # also for directories created with `mkdir -p`
