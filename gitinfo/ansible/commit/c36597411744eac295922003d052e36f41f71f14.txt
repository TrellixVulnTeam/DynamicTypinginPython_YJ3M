commit c36597411744eac295922003d052e36f41f71f14
Author: David Hughes <d@vidhughes.com>
Date:   Fri Mar 15 11:30:51 2013 -0700

    Added variable expansion to task sudo_user parameter

diff --git a/lib/ansible/playbook/task.py b/lib/ansible/playbook/task.py
index a74971e673..d40ca300b6 100644
--- a/lib/ansible/playbook/task.py
+++ b/lib/ansible/playbook/task.py
@@ -94,7 +94,7 @@ class Task(object):
         self.args         = ds.get('args', {})
 
         if self.sudo:
-            self.sudo_user    = ds.get('sudo_user', play.sudo_user)
+            self.sudo_user    = utils.template(play.basedir, ds.get('sudo_user', play.sudo_user), play.vars)
             self.sudo_pass    = ds.get('sudo_pass', play.playbook.sudo_pass)
         else:
             self.sudo_user    = None
