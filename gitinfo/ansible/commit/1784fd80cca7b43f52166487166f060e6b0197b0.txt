commit 1784fd80cca7b43f52166487166f060e6b0197b0
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Mon Mar 4 12:37:15 2013 +0100

    When a host list is used, no parser is present

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 9efb27b665..9cca2bc348 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -67,6 +67,7 @@ class Inventory(object):
                 host_list = [ h for h in host_list if h and h.strip() ]
 
         if type(host_list) == list:
+            self.parser = None
             all = Group('all')
             self.groups = [ all ]
             for x in host_list:
@@ -281,7 +282,8 @@ class Inventory(object):
                 vars.update(updated)
 
         vars.update(host.get_variables())
-        vars.update(self.parser.get_host_variables(host))
+        if self.parser is not None:
+            vars.update(self.parser.get_host_variables(host))
         return vars
 
     def add_group(self, group):
