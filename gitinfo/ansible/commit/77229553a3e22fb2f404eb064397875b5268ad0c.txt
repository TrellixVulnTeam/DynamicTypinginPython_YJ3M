commit 77229553a3e22fb2f404eb064397875b5268ad0c
Author: Greg Dallavalle <greg.dallavalle@wolfnet.com>
Date:   Sun Mar 16 20:41:03 2014 -0500

    fetch_url: Avoid credential stripping for FTP-scheme URLs

diff --git a/lib/ansible/module_utils/urls.py b/lib/ansible/module_utils/urls.py
index 053dfc041c..41b1135855 100644
--- a/lib/ansible/module_utils/urls.py
+++ b/lib/ansible/module_utils/urls.py
@@ -204,7 +204,7 @@ def fetch_url(module, url, data=None, headers=None, method=None,
             ssl_handler = SSLValidationHandler(module, hostname, port)
             handlers.append(ssl_handler)
 
-    if '@' in parsed[1]:
+    if parsed[0] != 'ftp' and '@' in parsed[1]:
         credentials, netloc = parsed[1].split('@', 1)
         if ':' in credentials:
             username, password = credentials.split(':', 1)
