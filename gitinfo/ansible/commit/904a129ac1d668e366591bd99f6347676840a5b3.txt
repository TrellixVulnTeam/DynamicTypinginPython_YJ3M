commit 904a129ac1d668e366591bd99f6347676840a5b3
Author: sspans <sten@blinkenlights.nl>
Date:   Mon Nov 4 10:44:06 2013 +0100

    skip absolute path creation for old_src, not needed with the new relative links

diff --git a/library/files/file b/library/files/file
index b716610633..463f2b6370 100644
--- a/library/files/file
+++ b/library/files/file
@@ -293,8 +293,6 @@ def main():
             changed = True
         elif prev_state == 'link':
             old_src = os.readlink(path)
-            if not os.path.isabs(old_src):
-                old_src = os.path.join(os.path.dirname(path), old_src)
             if old_src != src:
                 changed = True
         elif prev_state == 'hard':
