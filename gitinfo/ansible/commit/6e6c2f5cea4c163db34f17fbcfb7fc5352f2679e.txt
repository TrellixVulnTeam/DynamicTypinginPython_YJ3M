commit 6e6c2f5cea4c163db34f17fbcfb7fc5352f2679e
Author: Fred-sun <37327967+Fred-sun@users.noreply.github.com>
Date:   Mon Sep 2 15:54:58 2019 +0800

    Set the default value for the managed_disk_type (#60749)

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachinescaleset.py b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachinescaleset.py
index 8e8596df15..24396ec317 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachinescaleset.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachinescaleset.py
@@ -890,7 +890,7 @@ class AzureRMVirtualMachineScaleSet(AzureRMModuleBase):
                                 create_option=self.compute_models.DiskCreateOptionTypes.empty,
                                 disk_size_gb=data_disk['disk_size_gb'],
                                 managed_disk=self.compute_models.VirtualMachineScaleSetManagedDiskParameters(
-                                    storage_account_type=data_disk['managed_disk_type']
+                                    storage_account_type=data_disk.get('managed_disk_type', None)
                                 ),
                             ))
                         vmss_resource.virtual_machine_profile.storage_profile.data_disks = data_disks
