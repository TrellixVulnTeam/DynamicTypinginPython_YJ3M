commit 02bcd7c0ed07f17b3e6ea0f26271551059bbd176
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Sat Aug 5 00:47:32 2017 +0530

    Fix for junos_netconf test failures in dci (#27776)

diff --git a/test/integration/targets/junos_netconf/tests/cli/changeport.yaml b/test/integration/targets/junos_netconf/tests/cli/changeport.yaml
index 80599c0cbf..a37254c550 100644
--- a/test/integration/targets/junos_netconf/tests/cli/changeport.yaml
+++ b/test/integration/targets/junos_netconf/tests/cli/changeport.yaml
@@ -32,9 +32,14 @@
     that:
       - "result.changed == false"
 
+- name: wait for persistent socket to timeout, this ensures new socket creation with connection type netconf
+  pause:
+    seconds: 30
+
 - name: Ensure we can communicate over 22
   junos_command:
-    rpcs: get-software-information
+    rpcs:
+    - get-software-information
     provider: "{{ netconf }}"
     port: 22
 
@@ -59,7 +64,8 @@
 
 - name: Ensure we can communicate over netconf
   junos_command:
-    rpcs: get-software-information
+    rpcs:
+    - get-software-information
     provider: "{{ netconf }}"
 
 - debug: msg="END netconf/changeport.yaml"
