commit 54aeaaf486e6c781d6c4a6a70067ae56711a793f
Author: Robert Parrott <parrott@Robs-MBP.local>
Date:   Thu Oct 10 09:10:00 2013 -0400

    small change ... in order to get changed signal correct, move DEFAULT section test upward.

diff --git a/library/files/ini_file b/library/files/ini_file
index a699053ede..7634a3b696 100644
--- a/library/files/ini_file
+++ b/library/files/ini_file
@@ -117,10 +117,10 @@ def do_ini(module, filename, section=None, option=None, value=None, state='prese
 
     if state == 'present':
 
-        if cp.has_section(section) == False:
+        # DEFAULT section is always there by DEFAULT, so never try to add it.
+        if cp.has_section(section) == False and section.upper() != 'DEFAULT':
 
-            if section.upper() != 'DEFAULT':
-                cp.add_section(section)
+            cp.add_section(section)
             changed = True
 
         if option is not None and value is not None:
