commit 2d448f2a3403f57601847e7b5249c2a3d0796fd1
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Thu Aug 30 00:11:40 2012 +0200

    Invoke cowsay without going through the shell

diff --git a/lib/ansible/callbacks.py b/lib/ansible/callbacks.py
index 2011071d97..27a5b1e4f3 100644
--- a/lib/ansible/callbacks.py
+++ b/lib/ansible/callbacks.py
@@ -121,8 +121,8 @@ def regular_generic_msg(hostname, result, oneline, caption):
 def banner(msg):
 
     if cowsay != None:
-        cmd = subprocess.Popen("%s -W 60 \"%s\"" % (cowsay, msg),
-            stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True)
+        cmd = subprocess.Popen([cowsay, "-W", "60", msg],
+            stdout=subprocess.PIPE, stderr=subprocess.PIPE)
         (out, err) = cmd.communicate()
         return "%s\n" % out
     else:
