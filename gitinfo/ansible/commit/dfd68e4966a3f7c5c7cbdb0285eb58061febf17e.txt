commit dfd68e4966a3f7c5c7cbdb0285eb58061febf17e
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Wed Dec 6 19:37:09 2017 +0530

    Fix persistent reset_connection issue (#33590)
    
    Fixes #33589
    
    If persistent socket does not exist catch the execption
    and ignore it as the coneection is already closed.

diff --git a/lib/ansible/plugins/strategy/__init__.py b/lib/ansible/plugins/strategy/__init__.py
index 52f44cc631..b070cf3106 100644
--- a/lib/ansible/plugins/strategy/__init__.py
+++ b/lib/ansible/plugins/strategy/__init__.py
@@ -913,8 +913,12 @@ class StrategyBase:
                 play_context.set_options_from_plugin(connection)
 
             if connection:
-                connection.reset()
-                msg = 'reset connection'
+                try:
+                    connection.reset()
+                    msg = 'reset connection'
+                except ConnectionError as e:
+                    # most likely socket is already closed
+                    display.debug("got an error while closing persistent connection: %s" % e)
             else:
                 msg = 'no connection, nothing to reset'
         else:
