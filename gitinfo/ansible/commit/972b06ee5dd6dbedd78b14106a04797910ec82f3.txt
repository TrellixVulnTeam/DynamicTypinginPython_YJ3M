commit 972b06ee5dd6dbedd78b14106a04797910ec82f3
Author: Takeharu Oshida <takeharu.oshida@mobilus.co.jp>
Date:   Mon Aug 4 20:15:58 2014 +0900

    Escape "_" in database name for "SHOW DATABASES" statement

diff --git a/library/database/mysql_db b/library/database/mysql_db
index 36ba6369e8..38dee608ba 100644
--- a/library/database/mysql_db
+++ b/library/database/mysql_db
@@ -114,7 +114,7 @@ else:
 #
 
 def db_exists(cursor, db):
-    res = cursor.execute("SHOW DATABASES LIKE %s", (db,))
+    res = cursor.execute("SHOW DATABASES LIKE %s", (db.replace("_","\_"),))
     return bool(res)
 
 def db_delete(cursor, db):
