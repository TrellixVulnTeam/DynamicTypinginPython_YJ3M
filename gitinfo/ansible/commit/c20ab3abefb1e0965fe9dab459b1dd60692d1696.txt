commit c20ab3abefb1e0965fe9dab459b1dd60692d1696
Author: Christian Thiemann <mail@cthiemann.de>
Date:   Sun May 24 02:05:38 2015 +0200

    Fix alternatives module in non-English locale
    
    The alternatives module parses the output of update-alternatives, but the expected English phrases may not show up if the system locale is not English. Setting LC_ALL=C when invoking update-alternatives fixes this problem.

diff --git a/lib/ansible/modules/extras/system/alternatives.py b/lib/ansible/modules/extras/system/alternatives.py
index c298afc294..06d9bea25f 100644
--- a/lib/ansible/modules/extras/system/alternatives.py
+++ b/lib/ansible/modules/extras/system/alternatives.py
@@ -85,7 +85,7 @@ def main():
 
     # Run `update-alternatives --display <name>` to find existing alternatives
     (rc, display_output, _) = module.run_command(
-        [UPDATE_ALTERNATIVES, '--display', name]
+        ['env', 'LC_ALL=C', UPDATE_ALTERNATIVES, '--display', name]
     )
 
     if rc == 0:
@@ -106,7 +106,7 @@ def main():
             # This is only compatible on Debian-based systems, as the other
             # alternatives don't have --query available
             rc, query_output, _ = module.run_command(
-                [UPDATE_ALTERNATIVES, '--query', name]
+                ['env', 'LC_ALL=C', UPDATE_ALTERNATIVES, '--query', name]
             )
             if rc == 0:
                 for line in query_output.splitlines():
