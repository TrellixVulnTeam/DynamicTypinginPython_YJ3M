commit a546775172ff291a0799a54cb024bf0c4753e250
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Feb 22 12:35:57 2016 -0500

    fixed typo, now correctly check isdir
    
    fixes #3089

diff --git a/lib/ansible/modules/files/file.py b/lib/ansible/modules/files/file.py
index edc3bb9a44..8e0158bb0e 100644
--- a/lib/ansible/modules/files/file.py
+++ b/lib/ansible/modules/files/file.py
@@ -309,7 +309,7 @@ def main():
                         except OSError, ex:
                             # Possibly something else created the dir since the os.path.exists
                             # check above. As long as it's a dir, we don't need to error out.
-                            if not (ex.errno == errno.EEXIST and os.isdir(curpath)):
+                            if not (ex.errno == errno.EEXIST and os.path.isdir(curpath)):
                                 raise
                         tmp_file_args = file_args.copy()
                         tmp_file_args['path']=curpath
