commit 9abef1a1d7e8df5e580e17ef4a54cec280fbc7dc
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Sat Dec 19 12:39:48 2015 -0800

    Troubleshooting has reduced us to this

diff --git a/test/integration/roles/test_get_url/tasks/main.yml b/test/integration/roles/test_get_url/tasks/main.yml
index cbf3b345f1..54debc06d1 100644
--- a/test/integration/roles/test_get_url/tasks/main.yml
+++ b/test/integration/roles/test_get_url/tasks/main.yml
@@ -96,12 +96,22 @@
   register: get_url_result
   ignore_errors: True
 
+- name: TROUBLESHOOTING
+  shell: curl https://foo.sni.velox.ch/ > /var/tmp/velox.html
+  register: trouble
+  ignore_errors: True
+  when: "{{ python_has_ssl_context }}"
+
+- debug: var=trouble
+  when: "{{ python_has_ssl_context }}"
+
+- debug: var=get_url_result
+  when: "{{ python_has_ssl_context }}"
+
 - command: "grep 'sent the following TLS server name indication extension' {{ output_dir}}/sni.html"
   register: data_result
   when: "{{ python_has_ssl_context }}"
 
-# If distros start backporting SNI, can make a new conditional based on whether this works:
-# python -c 'from ssl import SSLContext'
 - debug: var=get_url_result
 - name: Assert that SNI works with this python version
   assert:
