commit f6bcd0f9a1983ed767703aebc9111f479d081c87
Author: Michael Scherer <misc@zarb.org>
Date:   Thu Oct 13 22:25:55 2016 +0200

    Add support for distribution_major_version on NetBSD. (#15885)

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 0f15f3c585..a1593b5b88 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -670,7 +670,7 @@ class Distribution(object):
         self.facts['distribution'] = self.system
         self.facts['distribution_release'] = platform.release()
         self.facts['distribution_version'] = platform.version()
-        systems_implemented = ('AIX', 'HP-UX', 'Darwin', 'FreeBSD', 'OpenBSD', 'SunOS', 'DragonFly')
+        systems_implemented = ('AIX', 'HP-UX', 'Darwin', 'FreeBSD', 'OpenBSD', 'SunOS', 'DragonFly', 'NetBSD')
 
         self.facts['distribution'] = self.system
 
@@ -777,6 +777,9 @@ class Distribution(object):
     def get_distribution_DragonFly(self):
         pass
 
+    def get_distribution_NetBSD(self):
+        self.facts['distribution_major_version'] = self.facts['distribution_release'].split('.')[0]
+
     def get_distribution_Slackware(self, name, data, path):
         if 'Slackware' not in data:
             return False  # TODO: remove
