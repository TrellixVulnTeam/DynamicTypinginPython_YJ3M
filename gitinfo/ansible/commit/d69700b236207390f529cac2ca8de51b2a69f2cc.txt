commit d69700b236207390f529cac2ca8de51b2a69f2cc
Author: Trishna Guha <trishnaguha17@gmail.com>
Date:   Mon Oct 8 11:11:01 2018 +0400

    nxos_evpn_vni check_mode (#46612)
    
    Signed-off-by: Trishna Guha <trishnaguha17@gmail.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_evpn_vni.py b/lib/ansible/modules/network/nxos/nxos_evpn_vni.py
index e5beea8479..12172a9306 100644
--- a/lib/ansible/modules/network/nxos/nxos_evpn_vni.py
+++ b/lib/ansible/modules/network/nxos/nxos_evpn_vni.py
@@ -275,8 +275,9 @@ def main():
             candidate = CustomNetworkConfig(indent=3)
             candidate.add(commands, parents=parents)
             candidate = candidate.items_text()
-            load_config(module, candidate)
-            results['changed'] = True
+            if not module.check_mode:
+                load_config(module, candidate)
+                results['changed'] = True
             results['commands'] = candidate
     else:
         results['commands'] = []
