commit 40144c7486ae1a1ed6bd8e30ae51490f1c386585
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Mon Dec 17 15:06:52 2018 -0800

    Remove dead code in ansible-inventory
    
    This piece of code is only needed with ansible < 2.3.x (which is now EOL)

diff --git a/lib/ansible/cli/inventory.py b/lib/ansible/cli/inventory.py
index 39a863dd4b..097bafd2ae 100644
--- a/lib/ansible/cli/inventory.py
+++ b/lib/ansible/cli/inventory.py
@@ -127,36 +127,12 @@ class InventoryCLI(CLI):
 
     def run(self):
 
-        results = None
-
         super(InventoryCLI, self).run()
 
-        # Initialize needed objects
-        if getattr(self, '_play_prereqs', False):
-            self.loader, self.inventory, self.vm = self._play_prereqs(self.options)
-        else:
-            # fallback to pre 2.4 way of initialzing
-            from ansible.vars import VariableManager
-            from ansible.inventory import Inventory
-
-            self._new_api = False
-            self.loader = DataLoader()
-            self.vm = VariableManager()
-
-            # use vault if needed
-            if self.options.vault_password_file:
-                vault_pass = CLI.read_vault_password_file(self.options.vault_password_file, loader=self.loader)
-            elif self.options.ask_vault_pass:
-                vault_pass = self.ask_vault_passwords()
-            else:
-                vault_pass = None
-
-            if vault_pass:
-                self.loader.set_vault_password(vault_pass)
-                # actually get inventory and vars
+        results = None
 
-            self.inventory = Inventory(loader=self.loader, variable_manager=self.vm, host_list=self.options.inventory)
-            self.vm.set_inventory(self.inventory)
+        # Initialize needed objects
+        self.loader, self.inventory, self.vm = self._play_prereqs(self.options)
 
         if self.options.host:
             hosts = self.inventory.get_hosts(self.options.host)
