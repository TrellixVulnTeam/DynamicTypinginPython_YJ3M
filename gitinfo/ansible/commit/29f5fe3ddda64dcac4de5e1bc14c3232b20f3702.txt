commit 29f5fe3ddda64dcac4de5e1bc14c3232b20f3702
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Mon Jul 3 21:06:42 2017 +0530

    Resolve module correctly (#25658)
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/modules/cloud/vmware/vmware_migrate_vmk.py b/lib/ansible/modules/cloud/vmware/vmware_migrate_vmk.py
index 84f786c1d0..c42f2a2a22 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_migrate_vmk.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_migrate_vmk.py
@@ -85,6 +85,8 @@ try:
     HAS_PYVMOMI = True
 except ImportError:
     HAS_PYVMOMI = False
+from ansible.module_utils.vmware import vmware_argument_spec, find_dvs_by_name, find_hostsystem_by_name, connect_to_api, find_dvspg_by_name
+from ansible.module_utils.basic import AnsibleModule
 
 
 class VMwareMigrateVmk(object):
@@ -189,13 +191,11 @@ def main():
     module = AnsibleModule(argument_spec=argument_spec, supports_check_mode=False)
 
     if not HAS_PYVMOMI:
-        self.module.fail_json(msg='pyvmomi required for this module')
+        module.fail_json(msg='pyvmomi required for this module')
 
     vmware_migrate_vmk = VMwareMigrateVmk(module)
     vmware_migrate_vmk.process_state()
 
-from ansible.module_utils.vmware import *
-from ansible.module_utils.basic import *
 
 if __name__ == '__main__':
     main()
