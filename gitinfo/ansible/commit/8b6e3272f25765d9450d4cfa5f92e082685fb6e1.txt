commit 8b6e3272f25765d9450d4cfa5f92e082685fb6e1
Author: Ricardo Carrillo Cruz <ricardo.carrillo.cruz@gmail.com>
Date:   Fri Sep 8 12:13:35 2017 +0200

    Set hostname to 'switch' on nxos_config toplevel setup/teardown tasks (#29127)
    
    Using inventory_hostname breaks in our CI, as the inventory_hostname
    translates to a long UUID, exceeding the maximum length for a NXOS
    hostname.

diff --git a/test/integration/targets/nxos_config/tests/common/toplevel.yaml b/test/integration/targets/nxos_config/tests/common/toplevel.yaml
index 0ff6b0b3bd..ac5c1fbb23 100644
--- a/test/integration/targets/nxos_config/tests/common/toplevel.yaml
+++ b/test/integration/targets/nxos_config/tests/common/toplevel.yaml
@@ -3,7 +3,7 @@
 
 - name: setup
   nxos_config:
-    lines: hostname {{ inventory_hostname_short }}
+    lines: hostname switch
     provider: "{{ connection }}"
     match: none
 
@@ -30,7 +30,7 @@
 
 - name: teardown
   nxos_config:
-    lines: hostname {{ inventory_hostname_short }}
+    lines: hostname switch
     provider: "{{ connection }}"
     match: none
 
