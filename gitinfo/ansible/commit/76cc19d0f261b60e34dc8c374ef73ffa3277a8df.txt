commit 76cc19d0f261b60e34dc8c374ef73ffa3277a8df
Author: James Mighion <james.mighion@gmail.com>
Date:   Thu Jun 29 19:16:45 2017 -0700

    Calling connection.close() instead of self.close() to actually close the connection. (#26257)

diff --git a/bin/ansible-connection b/bin/ansible-connection
index df301c55e0..1f46a9e116 100755
--- a/bin/ansible-connection
+++ b/bin/ansible-connection
@@ -202,7 +202,7 @@ class Server():
                 self.socket.close()
             if self.connection:
                 display.display('closing the connection', log_only=True)
-                self.close()
+                self.connection.close()
         except:
             pass
         finally:
