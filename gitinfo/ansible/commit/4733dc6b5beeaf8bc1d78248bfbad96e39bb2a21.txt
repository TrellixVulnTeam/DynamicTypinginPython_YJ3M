commit 4733dc6b5beeaf8bc1d78248bfbad96e39bb2a21
Author: jclaybaugh <jclaybaugh@ansible1.int.snowflakecomputing.com>
Date:   Fri Jun 7 18:13:22 2013 +0000

    added error checking around boto ec2 connection errors when using a bad region name

diff --git a/plugins/inventory/ec2.py b/plugins/inventory/ec2.py
index e001385dcc..a680b08b3a 100755
--- a/plugins/inventory/ec2.py
+++ b/plugins/inventory/ec2.py
@@ -244,7 +244,11 @@ class Ec2Inventory(object):
                 conn.APIVersion = '2010-08-31'
             else:
                 conn = ec2.connect_to_region(region)
-            
+
+            if conn is None:
+               print("AWS is down or region name: %s likely not supported.  connection to region failed." % region)
+               sys.exit(1)
+ 
             reservations = conn.get_all_instances()
             for reservation in reservations:
                 for instance in reservation.instances:
@@ -279,6 +283,10 @@ class Ec2Inventory(object):
         else:
             conn = ec2.connect_to_region(region)
 
+        if conn is None:
+           print("AWS is down or region name: %s likely not supported.  connection to region failed." % region)
+           sys.exit(1)
+
         reservations = conn.get_all_instances([instance_id])
         for reservation in reservations:
             for instance in reservation.instances:
