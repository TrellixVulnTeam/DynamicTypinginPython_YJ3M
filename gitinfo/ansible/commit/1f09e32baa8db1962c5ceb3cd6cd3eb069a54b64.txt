commit 1f09e32baa8db1962c5ceb3cd6cd3eb069a54b64
Author: Matthew Landauer <matthew@oaf.org.au>
Date:   Tue Feb 17 16:56:15 2015 +1100

    Fix display of error message
    
    It was crashing due to "domain" variable not being defined

diff --git a/lib/ansible/modules/extras/network/dnsmadeeasy.py b/lib/ansible/modules/extras/network/dnsmadeeasy.py
index 148e25a501..c1f450b2e0 100644
--- a/lib/ansible/modules/extras/network/dnsmadeeasy.py
+++ b/lib/ansible/modules/extras/network/dnsmadeeasy.py
@@ -292,7 +292,7 @@ def main():
         if not "value" in new_record:
             if not current_record:
                 module.fail_json(
-                    msg="A record with name '%s' does not exist for domain '%s.'" % (record_name, domain))
+                    msg="A record with name '%s' does not exist for domain '%s.'" % (record_name, module.params['domain']))
             module.exit_json(changed=False, result=current_record)
 
         # create record as it does not exist
