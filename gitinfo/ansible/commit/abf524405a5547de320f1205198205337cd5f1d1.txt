commit abf524405a5547de320f1205198205337cd5f1d1
Author: Reed Murphy <reed@reedmurphy.net>
Date:   Fri Apr 27 11:25:43 2012 +1000

    shlex.split() tries to read from stdin if passed None

diff --git a/lib/ansible/utils.py b/lib/ansible/utils.py
index 86569bdbf8..4740a7d4e3 100644
--- a/lib/ansible/utils.py
+++ b/lib/ansible/utils.py
@@ -267,11 +267,12 @@ def parse_yaml_from_file(path):
 def parse_kv(args):
     ''' convert a string of key/value items to a dict '''
     options = {}
-    vargs = shlex.split(args, posix=True) 
-    for x in vargs:
-        if x.find("=") != -1:
-            k, v = x.split("=")
-            options[k]=v
+    if not args is None:
+        vargs = shlex.split(args, posix=True)
+        for x in vargs:
+            if x.find("=") != -1:
+                k, v = x.split("=")
+                options[k]=v
     return options
 
 class SortedOptParser(optparse.OptionParser):
