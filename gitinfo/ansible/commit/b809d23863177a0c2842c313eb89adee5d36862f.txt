commit b809d23863177a0c2842c313eb89adee5d36862f
Author: Brian Coca <bcoca@ansible.com>
Date:   Fri Mar 18 07:03:54 2016 -0700

    fixed typo

diff --git a/lib/ansible/plugins/connection/__init__.py b/lib/ansible/plugins/connection/__init__.py
index 958a3f8f0a..d1820a2ef3 100644
--- a/lib/ansible/plugins/connection/__init__.py
+++ b/lib/ansible/plugins/connection/__init__.py
@@ -89,7 +89,7 @@ class ConnectionBase(with_metaclass(ABCMeta, object)):
             shell_type = getattr(self, '_shell_type')
         else:
             shell_type = 'sh'
-            shell_filename = os.path.basename(self.play_context.executable)
+            shell_filename = os.path.basename(self._play_context.executable)
             for shell in shell_loader.all():
                 if shell_filename in shell.COMPATIBLE_SHELLS:
                     shell_type = shell.SHELL_FAMILY
