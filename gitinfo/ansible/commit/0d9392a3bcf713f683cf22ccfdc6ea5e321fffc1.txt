commit 0d9392a3bcf713f683cf22ccfdc6ea5e321fffc1
Author: Dag Wieers <dag@wieers.com>
Date:   Wed Jan 4 10:12:29 2017 +0100

    vmware_guest: import iteritems (#19821)
    
    Without this change you get this on Python 2.7.5:
    
        NameError: global name 'iteritems' is not defined

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest.py b/lib/ansible/modules/cloud/vmware/vmware_guest.py
index 82f5118735..c464e33943 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest.py
@@ -327,6 +327,16 @@ instance:
     sample: None
 """
 
+import os
+import time
+from netaddr import IPNetwork, IPAddress
+
+# import module snippets
+from ansible.module_utils.basic import AnsibleModule
+from ansible.module_utils.six import iteritems
+from ansible.module_utils.urls import fetch_url
+from ansible.module_utils.vmware import get_all_objs, connect_to_api
+
 try:
     import json
 except ImportError:
@@ -341,13 +351,6 @@ try:
 except ImportError:
     pass
 
-import os
-import time
-from netaddr import IPNetwork, IPAddress
-
-from ansible.module_utils.urls import fetch_url
-
-
 class PyVmomiDeviceHelper(object):
     """ This class is a helper to create easily VMWare Objects for PyVmomiHelper """
 
@@ -1715,9 +1718,5 @@ def main():
     else:
         module.exit_json(**result)
 
-
-from ansible.module_utils.vmware import *
-from ansible.module_utils.basic import *
-
 if __name__ == '__main__':
     main()
