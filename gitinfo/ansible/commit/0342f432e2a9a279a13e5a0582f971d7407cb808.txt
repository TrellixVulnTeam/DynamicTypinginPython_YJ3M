commit 0342f432e2a9a279a13e5a0582f971d7407cb808
Author: giorgio-v <giorgio@refactor.it>
Date:   Mon Nov 18 08:01:10 2013 +0100

    Added `-y` flag to `query_package`
    
    * library/packaging/pkgin:
    
    Signed-off-by: giorgio-v <giorgio@refactor.it>

diff --git a/library/packaging/pkgin b/library/packaging/pkgin
old mode 100644
new mode 100755
index 024e8756eb..c6b6e83370
--- a/library/packaging/pkgin
+++ b/library/packaging/pkgin
@@ -64,7 +64,7 @@ def query_package(module, pkgin_path, name, state="present"):
 
     if state == "present":
 
-        rc, out, err = module.run_command("%s list | grep ^%s" % (pkgin_path, name))
+        rc, out, err = module.run_command("%s -y list | grep ^%s" % (pkgin_path, name))
 
         if rc == 0:
             # At least one package with a package name that starts with ``name``
