commit 4b9f8fc294c0602d8980ebda810446be67cd651f
Author: martin f. krafft <madduck@madduck.net>
Date:   Fri Jun 14 10:35:37 2013 +0200

    Replace external command with shell construct
    
    dirname/basename do not need an external process, shell variable
    expansion can be made to do the same a bit faster.
    
    Signed-off-by: martin f. krafft <madduck@madduck.net>

diff --git a/hacking/env-setup b/hacking/env-setup
index d02ea18dbb..b172d6892f 100755
--- a/hacking/env-setup
+++ b/hacking/env-setup
@@ -14,7 +14,7 @@ esac
 # The below is an alternative to readlink -fn which doesn't exist on OS X
 # Source: http://stackoverflow.com/a/1678636
 FULL_PATH=`python -c "import os; print(os.path.realpath('$HACKING_DIR'))"`
-ANSIBLE_HOME=`dirname "$FULL_PATH"`
+ANSIBLE_HOME=${FULL_PATH%/*}
 
 PREFIX_PYTHONPATH="$ANSIBLE_HOME/lib"
 PREFIX_PATH="$ANSIBLE_HOME/bin"
