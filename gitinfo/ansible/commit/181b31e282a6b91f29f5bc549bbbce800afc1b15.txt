commit 181b31e282a6b91f29f5bc549bbbce800afc1b15
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Fri Aug 4 18:46:57 2017 +0530

    junos integration test fixes for dci (#27759)

diff --git a/test/integration/targets/junos_interface/tests/netconf/basic.yaml b/test/integration/targets/junos_interface/tests/netconf/basic.yaml
index 75d09cada7..93281ce84b 100644
--- a/test/integration/targets/junos_interface/tests/netconf/basic.yaml
+++ b/test/integration/targets/junos_interface/tests/netconf/basic.yaml
@@ -169,7 +169,7 @@
 - name: Set interface on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256}
     provider: "{{ netconf }}"
   register: result
@@ -181,7 +181,7 @@
       - result.diff.prepared | search("\+ *description test-interface-1")
       - result.diff.prepared | search("\+ *speed 1g")
       - result.diff.prepared | search("\+ *mtu 512")
-      - result.diff.prepared | search("\+ *link-mode half-duplex")
+      - result.diff.prepared | search("\+ *link-mode full-duplex")
       - result.diff.prepared | search("\+ *description test-interface-2")
       - result.diff.prepared | search("\+ *speed 10m")
       - result.diff.prepared | search("\+ * mtu 256")
@@ -190,7 +190,7 @@
 - name: Set interface on aggregate (idempotent)
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256}
     provider: "{{ netconf }}"
   register: result
@@ -202,7 +202,7 @@
 - name: Disable interface on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: down}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: down}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: down}
     provider: "{{ netconf }}"
   register: result
@@ -215,7 +215,7 @@
 - name: Enable interface on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: up}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: up}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: up}
     provider: "{{ netconf }}"
   register: result
@@ -228,7 +228,7 @@
 - name: Deactivate interface configuration on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, active: False}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, active: False}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, active: False}
     provider: "{{ netconf }}"
   register: result
@@ -242,7 +242,7 @@
 - name: Activate interface configuration on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, active: True}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, active: True}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, active: True}
     provider: "{{ netconf }}"
   register: result
@@ -256,7 +256,7 @@
 - name: Delete interface on aggregate
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: absent}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: absent}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: absent}
     provider: "{{ netconf }}"
   register: result
@@ -268,7 +268,7 @@
       - result.diff.prepared | search("\- *description test-interface-1")
       - result.diff.prepared | search("\- *speed 1g")
       - result.diff.prepared | search("\- *mtu 512")
-      - result.diff.prepared | search("\- *link-mode half-duplex")
+      - result.diff.prepared | search("\- *link-mode full-duplex")
       - result.diff.prepared | search("\- *description test-interface-2")
       - result.diff.prepared | search("\- *speed 10m")
       - result.diff.prepared | search("\- * mtu 256")
@@ -277,7 +277,7 @@
 - name: Delete interface aggregate (idempotent)
   junos_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: absent}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: absent}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: absent}
     provider: "{{ netconf }}"
   register: result
diff --git a/test/integration/targets/junos_vlan/tests/netconf/basic.yaml b/test/integration/targets/junos_vlan/tests/netconf/basic.yaml
index 4812536dee..8d845dbfa6 100644
--- a/test/integration/targets/junos_vlan/tests/netconf/basic.yaml
+++ b/test/integration/targets/junos_vlan/tests/netconf/basic.yaml
@@ -121,7 +121,6 @@
 - assert:
     that:
       - 'result.changed == true'
-      - result.diff.prepared | search("\+ *vlans")
       - result.diff.prepared | search("\+ *test_vlan_1")
       - result.diff.prepared | search("\+ *vlan-id 159")
       - result.diff.prepared | search("\+ *test_vlan_2")
diff --git a/test/integration/targets/net_interface/tests/junos/basic.yaml b/test/integration/targets/net_interface/tests/junos/basic.yaml
index 4f3913368a..9695f51cd5 100644
--- a/test/integration/targets/net_interface/tests/junos/basic.yaml
+++ b/test/integration/targets/net_interface/tests/junos/basic.yaml
@@ -142,7 +142,7 @@
 - name: Set interface on aggregate
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256}
     provider: "{{ netconf }}"
   register: result
@@ -154,7 +154,7 @@
       - result.diff.prepared | search("\+ *description test-interface-1")
       - result.diff.prepared | search("\+ *speed 1g")
       - result.diff.prepared | search("\+ *mtu 512")
-      - result.diff.prepared | search("\+ *link-mode half-duplex")
+      - result.diff.prepared | search("\+ *link-mode full-duplex")
       - result.diff.prepared | search("\+ *description test-interface-2")
       - result.diff.prepared | search("\+ *speed 10m")
       - result.diff.prepared | search("\+ * mtu 256")
@@ -163,7 +163,7 @@
 - name: Set interface on aggregate (idempotent)
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256}
     provider: "{{ netconf }}"
   register: result
@@ -175,7 +175,7 @@
 - name: Disable interface on aggregate
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: down}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: down}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: down}
     provider: "{{ netconf }}"
   register: result
@@ -188,7 +188,7 @@
 - name: Enable interface on aggregate
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: up}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: up}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: up}
     provider: "{{ netconf }}"
   register: result
@@ -201,7 +201,7 @@
 - name: Delete interface on aggregate
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: absent}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: absent}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: absent}
     provider: "{{ netconf }}"
   register: result
@@ -213,7 +213,7 @@
       - result.diff.prepared | search("\- *description test-interface-1")
       - result.diff.prepared | search("\- *speed 1g")
       - result.diff.prepared | search("\- *mtu 512")
-      - result.diff.prepared | search("\- *link-mode half-duplex")
+      - result.diff.prepared | search("\- *link-mode full-duplex")
       - result.diff.prepared | search("\- *description test-interface-2")
       - result.diff.prepared | search("\- *speed 10m")
       - result.diff.prepared | search("\- * mtu 256")
@@ -222,7 +222,7 @@
 - name: Delete interface aggregate (idempotent)
   net_interface:
     aggregate:
-      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: half, mtu: 512, state: absent}
+      - { name: ge-0/0/1, description: test-interface-1,  speed: 1g, duplex: full, mtu: 512, state: absent}
       - { name: ge-0/0/2, description: test-interface-2,  speed: 10m, duplex: full, mtu: 256, state: absent}
     provider: "{{ netconf }}"
   register: result
diff --git a/test/integration/targets/net_vlan/tests/junos/basic.yaml b/test/integration/targets/net_vlan/tests/junos/basic.yaml
index b1b4d4fd3b..bae9be7561 100644
--- a/test/integration/targets/net_vlan/tests/junos/basic.yaml
+++ b/test/integration/targets/net_vlan/tests/junos/basic.yaml
@@ -77,7 +77,6 @@
 - assert:
     that:
       - 'result.changed == true'
-      - result.diff.prepared | search("\+ *vlans")
       - result.diff.prepared | search("\+ *test_vlan_1")
       - result.diff.prepared | search("\+ *vlan-id 159")
       - result.diff.prepared | search("\+ *test_vlan_2")
