commit 2da2da54f829d8aedec08bfac85c1a80d78be2fa
Author: Alex Tomkins <tomkins@darkzone.net>
Date:   Wed Oct 23 09:30:05 2019 +0100

    Fix virtualization role for DigitalOcean droplets (#41062)
    
    Fixes #41061

diff --git a/lib/ansible/module_utils/facts/virtual/linux.py b/lib/ansible/module_utils/facts/virtual/linux.py
index e8a5587705..34c6b3da09 100644
--- a/lib/ansible/module_utils/facts/virtual/linux.py
+++ b/lib/ansible/module_utils/facts/virtual/linux.py
@@ -111,13 +111,13 @@ class LinuxVirtual(Virtual):
             virtual_facts['virtualization_type'] = 'virtualbox'
             return virtual_facts
 
-        if bios_vendor in ('Amazon EC2', 'Hetzner'):
+        if bios_vendor in ('Amazon EC2', 'DigitalOcean', 'Hetzner'):
             virtual_facts['virtualization_type'] = 'kvm'
             return virtual_facts
 
         sys_vendor = get_file_content('/sys/devices/virtual/dmi/id/sys_vendor')
 
-        KVM_SYS_VENDORS = ('QEMU', 'oVirt', 'Amazon EC2', 'Google', 'Scaleway')
+        KVM_SYS_VENDORS = ('QEMU', 'oVirt', 'Amazon EC2', 'DigitalOcean', 'Google', 'Scaleway')
         if sys_vendor in KVM_SYS_VENDORS:
             virtual_facts['virtualization_type'] = 'kvm'
             return virtual_facts
