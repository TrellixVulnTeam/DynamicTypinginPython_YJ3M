commit 346bb611c72088f9439f81f0a078f961d0c65b6c
Author: WAKAYAMA shirou <shirou.faw@gmail.com>
Date:   Wed May 21 23:43:19 2014 +0900

    fix UnicodeEncodeError when prompt is unicode.

diff --git a/lib/ansible/callbacks.py b/lib/ansible/callbacks.py
index cbfd315e36..cbd72b0591 100644
--- a/lib/ansible/callbacks.py
+++ b/lib/ansible/callbacks.py
@@ -651,9 +651,10 @@ class PlaybookCallbacks(object):
             msg = 'input for %s: ' % varname
 
         def prompt(prompt, private):
+            msg = prompt.encode(sys.stdout.encoding)
             if private:
-                return getpass.getpass(prompt)
-            return raw_input(prompt)
+                return getpass.getpass(msg)
+            return raw_input(msg)
 
 
         if confirm:
