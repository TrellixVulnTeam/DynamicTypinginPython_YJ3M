commit c4ce5f9497ff10b0735875bf0d2d716c84386ddb
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Sat Aug 11 12:05:08 2012 -0700

    Try to find ip command in either /sbin or /usr/sbin
    
    If ip is not found in either /sbin or /usr/sbin, this will return
    an empty result.  It seems extremely unlikely that a linux system will
    not have iproute2 installed

diff --git a/library/setup b/library/setup
index 9020012ff7..37cf5daf2d 100755
--- a/library/setup
+++ b/library/setup
@@ -453,8 +453,13 @@ class LinuxNetwork(Network):
             ipv4_address = None, 
             ipv6_address = None
         )
-
-        output = subprocess.Popen(['/sbin/ip','addr', 'show'], stdout=subprocess.PIPE).communicate()[0]
+        ipbin = '/sbin/ip'
+        if not os.path.exists(ipbin):
+            if os.path.exists('/usr/sbin/ip'):
+                ipbin = '/usr/sbin/ip'
+            else:
+                return interfaces, ips
+        output = subprocess.Popen([ipbin, 'addr', 'show'], stdout=subprocess.PIPE).communicate()[0]
         for line in output.split('\n'):
             if line:
                 words = line.split()
