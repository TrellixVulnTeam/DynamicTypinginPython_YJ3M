commit 1238a4c0c9c1158c9b8a85d6592c43c428f21b4d
Author: Matt Clay <matt@mystile.com>
Date:   Fri Nov 4 11:34:01 2016 -0700

    Run validate-modules with python 2 only.
    
    This allows validate-modules to run in an environment where
    python 3 is the default. This will no longer be necessary once
    validate-modules is updated to work with both python 2 and 3.

diff --git a/test/sanity/code-smell/shebang.sh b/test/sanity/code-smell/shebang.sh
index 9e9943db6b..b392e8f981 100755
--- a/test/sanity/code-smell/shebang.sh
+++ b/test/sanity/code-smell/shebang.sh
@@ -4,6 +4,7 @@ grep '^#!' -RIn . 2>/dev/null | grep ':1:' | sed 's/:1:/:/' | grep -v -E \
     -e '/.tox/' \
     -e '^\./lib/ansible/modules/' \
     -e '^\./test/integration/targets/[^/]*/library/[^/]*:#!powershell$' \
+    -e '^\./test/sanity/validate-modules/validate-modules:#!/usr/bin/env python2$' \
     -e ':#!/bin/sh$' \
     -e ':#!/bin/bash( -[eux]|$)' \
     -e ':#!/usr/bin/make -f$' \
diff --git a/test/sanity/validate-modules/validate-modules b/test/sanity/validate-modules/validate-modules
index 82889e020a..8b7412876d 100755
--- a/test/sanity/validate-modules/validate-modules
+++ b/test/sanity/validate-modules/validate-modules
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python2
 # -*- coding: utf-8 -*-
 #
 # Copyright (C) 2015 Matt Martz <matt@sivel.net>
