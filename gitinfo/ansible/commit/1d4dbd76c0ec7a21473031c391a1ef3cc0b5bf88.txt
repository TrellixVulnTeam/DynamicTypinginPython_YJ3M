commit 1d4dbd76c0ec7a21473031c391a1ef3cc0b5bf88
Author: Tetsuya Sodo <tetsuya.sodo@gmail.com>
Date:   Thu Jan 10 18:35:07 2019 +0900

    fix eos_l2_interface insufficient commands (#50754)

diff --git a/lib/ansible/modules/network/eos/eos_l2_interface.py b/lib/ansible/modules/network/eos/eos_l2_interface.py
index 7cfd3c53c0..daa58498db 100644
--- a/lib/ansible/modules/network/eos/eos_l2_interface.py
+++ b/lib/ansible/modules/network/eos/eos_l2_interface.py
@@ -171,14 +171,18 @@ def map_obj_to_commands(updates, module):
                     if obj_in_have['mode'] == 'access':
                         commands.append('no switchport access vlan {0}'.format(obj_in_have['access_vlan']))
                         if native_vlan:
+                            commands.append('switchport mode trunk')
                             commands.append('switchport trunk native vlan {0}'.format(native_vlan))
                         if trunk_allowed_vlans:
+                            commands.append('switchport mode trunk')
                             commands.append('switchport trunk allowed vlan {0}'.format(trunk_allowed_vlans))
                     else:
                         if obj_in_have['native_vlan']:
                             commands.append('no switchport trunk native vlan {0}'.format(obj_in_have['native_vlan']))
+                            commands.append('no switchport mode trunk')
                         if obj_in_have['trunk_allowed_vlans']:
                             commands.append('no switchport trunk allowed vlan {0}'.format(obj_in_have['trunk_allowed_vlans']))
+                            commands.append('no switchport mode trunk')
                         commands.append('switchport access vlan {0}'.format(access_vlan))
                 else:
                     if mode == 'access':
