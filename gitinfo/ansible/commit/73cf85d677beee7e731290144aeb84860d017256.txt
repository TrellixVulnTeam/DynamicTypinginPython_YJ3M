commit 73cf85d677beee7e731290144aeb84860d017256
Author: Peter Sprygada <privateip@users.noreply.github.com>
Date:   Tue Sep 27 20:59:40 2016 -0400

    catches exception if conditional cannot be parsed (#5067)
    
    If the conditional cannot be parsed, the module will now catch the exception
    and return a well formed failed message.
    
    fixes #5060

diff --git a/lib/ansible/modules/network/junos/junos_command.py b/lib/ansible/modules/network/junos/junos_command.py
index fb80f0acad..f370ace3d8 100644
--- a/lib/ansible/modules/network/junos/junos_command.py
+++ b/lib/ansible/modules/network/junos/junos_command.py
@@ -263,8 +263,12 @@ def main():
                 exc = get_exception()
                 warnings.append('duplicate command detected: %s' % cmd)
 
-    for item in conditionals:
-        runner.add_conditional(item)
+    try:
+        for item in conditionals:
+            runner.add_conditional(item)
+    except (ValueError, AttributeError):
+        exc = get_exception()
+        module.fail_json(msg=str(exc))
 
     runner.retries = module.params['retries']
     runner.interval = module.params['interval']
