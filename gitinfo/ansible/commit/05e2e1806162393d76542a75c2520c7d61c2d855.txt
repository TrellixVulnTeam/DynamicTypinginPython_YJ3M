commit 05e2e1806162393d76542a75c2520c7d61c2d855
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Tue Dec 24 22:40:02 2019 +0530

    VMware: Add example for creating VM without disks (#66057)
    
    Fixes: #39743
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest.py b/lib/ansible/modules/cloud/vmware/vmware_guest.py
index 6b22b4f153..d4c2cb0abf 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest.py
@@ -620,6 +620,24 @@ EXAMPLES = r'''
       num_cpus: 2
       scsi: paravirtual
   delegate_to: localhost
+
+- name: Create a diskless VM
+  vmware_guest:
+    validate_certs: False
+    hostname: "{{ vcenter_hostname }}"
+    username: "{{ vcenter_username }}"
+    password: "{{ vcenter_password }}"
+    datacenter: "{{ dc1 }}"
+    state: poweredoff
+    cluster: "{{ ccr1 }}"
+    name: diskless_vm
+    folder: /Asia-Datacenter1/vm
+    guest_id: centos64Guest
+    datastore: "{{ ds1 }}"
+    hardware:
+        memory_mb: 1024
+        num_cpus: 2
+        num_cpu_cores_per_socket: 1
 '''
 
 RETURN = r'''
