commit fdeca3725785f9e5ee6554b05852f927f1cc8e82
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Jun 9 17:29:46 2015 -0400

    switched to argv[0] from __file__ as it is what we actually wanted

diff --git a/bin/ansible b/bin/ansible
index 12ad89fcff..8fbc509047 100755
--- a/bin/ansible
+++ b/bin/ansible
@@ -44,7 +44,7 @@ if __name__ == '__main__':
 
     cli = None
     display = Display()
-    me = os.path.basename(__file__)
+    me = os.path.basename(sys.argv[0])
 
     try:
         if me == 'ansible-playbook':
diff --git a/lib/ansible/cli/pull.py b/lib/ansible/cli/pull.py
index 0275a8c347..76cba0749f 100644
--- a/lib/ansible/cli/pull.py
+++ b/lib/ansible/cli/pull.py
@@ -131,7 +131,7 @@ class PullCLI(CLI):
         if path is None:
             raise AnsibleOptionsError(("module '%s' not found.\n" % self.options.module_name))
 
-        bin_path = os.path.dirname(os.path.abspath(__file__))
+        bin_path = os.path.dirname(os.path.abspath(sys.argv[0]))
         cmd = '%s/ansible localhost -i "%s" %s -m %s -a "%s"' % (
             bin_path, inv_opts, base_opts, self.options.module_name, repo_opts
         )
@@ -144,6 +144,8 @@ class PullCLI(CLI):
             self.display.display("Sleeping for %d seconds..." % self.options.sleep)
             time.sleep(self.options.sleep);
 
+        import q
+        q(cmd)
         # RUN the Checkout command
         rc, out, err = run_cmd(cmd, live=True)
 
