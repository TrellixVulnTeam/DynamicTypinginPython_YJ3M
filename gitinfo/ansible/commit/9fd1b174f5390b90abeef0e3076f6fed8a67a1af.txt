commit 9fd1b174f5390b90abeef0e3076f6fed8a67a1af
Author: Matt Saunders <matt@tidzo.com>
Date:   Mon Aug 19 18:54:30 2013 +0100

    Fixed tiny bug with _meta handling in external inventory scripts

diff --git a/lib/ansible/inventory/script.py b/lib/ansible/inventory/script.py
index d91ecdf3ad..42c46559d9 100644
--- a/lib/ansible/inventory/script.py
+++ b/lib/ansible/inventory/script.py
@@ -110,7 +110,7 @@ class InventoryScript(object):
     def get_host_variables(self, host):
         """ Runs <script> --host <hostname> to determine additional host variables """
         if self.host_vars_from_top is not None:
-            got = self.host_vars_from_top.get(host, {})
+            got = self.host_vars_from_top.get(host.name, {})
             return got
 
 
