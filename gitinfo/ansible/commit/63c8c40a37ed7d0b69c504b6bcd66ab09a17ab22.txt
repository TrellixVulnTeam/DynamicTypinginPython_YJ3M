commit 63c8c40a37ed7d0b69c504b6bcd66ab09a17ab22
Author: Etherdaemon <kaz.cheng@gmail.com>
Date:   Thu Oct 22 09:12:58 2015 +1000

    Update try statement as pointed out by defionscode

diff --git a/lib/ansible/modules/cloud/amazon/iam.py b/lib/ansible/modules/cloud/amazon/iam.py
index 07e7c5ca42..ce9120cdd0 100644
--- a/lib/ansible/modules/cloud/amazon/iam.py
+++ b/lib/ansible/modules/cloud/amazon/iam.py
@@ -574,7 +574,10 @@ def main():
     region, ec2_url, aws_connect_kwargs = get_aws_connection_info(module)
 
     try:
-        iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+        if region:
+            iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+        else:
+            iam = boto.iam.connection.IAMConnection(**aws_connect_kwargs)
     except boto.exception.NoAuthHandlerFound, e:
         module.fail_json(msg=str(e))
 
diff --git a/lib/ansible/modules/cloud/amazon/iam_cert.py b/lib/ansible/modules/cloud/amazon/iam_cert.py
index e5cf12176a..52dff33c46 100644
--- a/lib/ansible/modules/cloud/amazon/iam_cert.py
+++ b/lib/ansible/modules/cloud/amazon/iam_cert.py
@@ -245,7 +245,10 @@ def main():
     region, ec2_url, aws_connect_kwargs = get_aws_connection_info(module)
 
     try:
-        iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+        if region:
+            iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+        else:
+            iam = boto.iam.connection.IAMConnection(**aws_connect_kwargs)
     except boto.exception.NoAuthHandlerFound, e:
         module.fail_json(msg=str(e))
 
diff --git a/lib/ansible/modules/cloud/amazon/iam_policy.py b/lib/ansible/modules/cloud/amazon/iam_policy.py
index aa4f3f91e5..07a3ff6de0 100644
--- a/lib/ansible/modules/cloud/amazon/iam_policy.py
+++ b/lib/ansible/modules/cloud/amazon/iam_policy.py
@@ -305,7 +305,10 @@ def main():
   region, ec2_url, aws_connect_kwargs = get_aws_connection_info(module)
 
   try:
-      iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+    if region:
+        iam = boto.iam.connect_to_region(region, **aws_connect_kwargs)
+    else:
+        iam = boto.iam.connection.IAMConnection(**aws_connect_kwargs)
   except boto.exception.NoAuthHandlerFound, e:
       module.fail_json(msg=str(e))
 
