commit c3cc2ecc5b58613a48a6c533a35bea3d5f6d3aec
Author: Joey <majunjiev@gmail.com>
Date:   Tue Oct 16 17:26:31 2018 +0800

    ovirt_storage_domain: Improve logic for state controlling. (#46951)

diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py b/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
index 22bcb03e3b..d4ae30bbf2 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_storage_domain.py
@@ -565,6 +565,13 @@ def control_state(sd_module):
         return
 
     sd_service = sd_module._service.service(sd.id)
+
+    # In the case of no status returned, it's an attached storage domain.
+    # Redetermine the corresponding serivce and entity:
+    if sd.status is None:
+        sd_service = sd_module._attached_sd_service(sd)
+        sd = get_entity(sd_service)
+
     if sd.status == sdstate.LOCKED:
         wait(
             service=sd_service,
