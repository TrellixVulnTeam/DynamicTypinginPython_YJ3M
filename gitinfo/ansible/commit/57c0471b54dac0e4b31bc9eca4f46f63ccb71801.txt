commit 57c0471b54dac0e4b31bc9eca4f46f63ccb71801
Author: Dag Wieers <dag@wieers.com>
Date:   Tue Jul 3 04:04:35 2018 +0200

    Fix ACI validate-modules issues (#42222)

diff --git a/lib/ansible/modules/network/aci/aci_bd_subnet.py b/lib/ansible/modules/network/aci/aci_bd_subnet.py
index 163d9dfae5..6643308efa 100644
--- a/lib/ansible/modules/network/aci/aci_bd_subnet.py
+++ b/lib/ansible/modules/network/aci/aci_bd_subnet.py
@@ -48,7 +48,8 @@ options:
     description:
     - The subnet mask for the Subnet.
     - This is the number assocated with CIDR notation.
-    choices: [ Any 0 to 32 for IPv4 Addresses, 0-128 for IPv6 Addresses  ]
+    - For IPv4 addresses, accepted values range between C(0) and C(32).
+    - For IPv6 addresses, accepted Values range between C(0) and C(128).
     aliases: [ subnet_mask ]
   nd_prefix_policy:
     description:
diff --git a/lib/ansible/modules/network/aci/aci_config_snapshot.py b/lib/ansible/modules/network/aci/aci_config_snapshot.py
index 671ffb13ad..ac454894da 100644
--- a/lib/ansible/modules/network/aci/aci_config_snapshot.py
+++ b/lib/ansible/modules/network/aci/aci_config_snapshot.py
@@ -49,8 +49,8 @@ options:
   max_count:
     description:
     - Determines how many snapshots can exist for the Export Policy before the APIC starts to rollover.
+    - Accepted values range between C(1) and C(10).
     - The APIC defaults to C(3) when unset.
-    choices: [ range between 1 and 10 ]
   snapshot:
     description:
     - The name of the snapshot to delete.
diff --git a/lib/ansible/modules/network/aci/aci_epg_to_domain.py b/lib/ansible/modules/network/aci/aci_epg_to_domain.py
index b6b3dd210a..1f1b8c569b 100644
--- a/lib/ansible/modules/network/aci/aci_epg_to_domain.py
+++ b/lib/ansible/modules/network/aci/aci_epg_to_domain.py
@@ -55,7 +55,7 @@ options:
     description:
     - The VLAN encapsulation for the EPG when binding a VMM Domain with static encap_mode.
     - This acts as the secondary encap when using useg.
-    choices: [ range from 1 to 4096 ]
+    - Accepted values range between C(1) and C(4096).
   encap_mode:
     description:
     - The ecapsulataion method to be used.
@@ -73,7 +73,7 @@ options:
   primary_encap:
     description:
     - Determines the primary VLAN ID when using useg.
-    choices: [ range from 1 to 4096 ]
+    - Accepted values range between C(1) and C(4096).
   resolution_immediacy:
     description:
     - Determines when the policies should be resolved and available.
@@ -267,7 +267,7 @@ def main():
     argument_spec.update(
         allow_useg=dict(type='str', choices=['encap', 'useg']),
         ap=dict(type='str', aliases=['app_profile', 'app_profile_name']),  # Not required for querying all objects
-        deploy_immediacy=dict(type='str', choices=['immediate', 'on-demand']),
+        deploy_immediacy=dict(type='str', choices=['immediate', 'lazy']),
         domain=dict(type='str', aliases=['domain_name', 'domain_profile']),  # Not required for querying all objects
         domain_type=dict(type='str', choices=['phys', 'vmm'], aliases=['type']),  # Not required for querying all objects
         encap=dict(type='int'),
diff --git a/lib/ansible/modules/network/aci/aci_filter_entry.py b/lib/ansible/modules/network/aci/aci_filter_entry.py
index faa8fc5139..bbccc66954 100644
--- a/lib/ansible/modules/network/aci/aci_filter_entry.py
+++ b/lib/ansible/modules/network/aci/aci_filter_entry.py
@@ -37,18 +37,18 @@ options:
   dst_port:
     description:
     - Used to set both destination start and end ports to the same value when ip_protocol is tcp or udp.
+    - Accepted values are any valid TCP/UDP port range.
     - The APIC defaults to C(unspecified) when unset during creation.
-    choices: [ Valid TCP/UDP Port Ranges]
   dst_port_end:
     description:
     - Used to set the destination end port when ip_protocol is tcp or udp.
+    - Accepted values are any valid TCP/UDP port range.
     - The APIC defaults to C(unspecified) when unset during creation.
-    choices: [ Valid TCP/UDP Port Ranges]
   dst_port_start:
     description:
     - Used to set the destination start port when ip_protocol is tcp or udp.
+    - Accepted values are any valid TCP/UDP port range.
     - The APIC defaults to C(unspecified) when unset during creation.
-    choices: [ Valid TCP/UDP Port Ranges]
   entry:
     description:
     - Then name of the Filter Entry.
diff --git a/lib/ansible/modules/network/aci/aci_interface_policy_port_channel.py b/lib/ansible/modules/network/aci/aci_interface_policy_port_channel.py
index 2c1ee2c0c6..840943a69c 100644
--- a/lib/ansible/modules/network/aci/aci_interface_policy_port_channel.py
+++ b/lib/ansible/modules/network/aci/aci_interface_policy_port_channel.py
@@ -35,13 +35,13 @@ options:
   max_links:
     description:
     - Maximum links (range 1-16).
+    - Accepted values range between 1 and 16.
     - The APIC defaults to C(16) when unset during creation.
-    choices: [ Ranges from 1 to 16 ]
   min_links:
     description:
     - Minimum links (range 1-16).
+    - Accepted values range between 1 and 16.
     - The APIC defaults to C(1) when unset during creation.
-    choices: [ Ranges from 1 to 16 ]
   mode:
     description:
     - Port channel interface policy mode.
diff --git a/lib/ansible/modules/network/aci/aci_static_binding_to_epg.py b/lib/ansible/modules/network/aci/aci_static_binding_to_epg.py
index d6fb4e9c93..435803df0f 100644
--- a/lib/ansible/modules/network/aci/aci_static_binding_to_epg.py
+++ b/lib/ansible/modules/network/aci/aci_static_binding_to_epg.py
@@ -42,14 +42,14 @@ options:
     description:
     - The encapsulation ID associating the C(epg) with the interface path.
     - This acts as the secondary C(encap_id) when using micro-segmentation.
+    - Accepted values are any valid encap ID for specified encap, currently ranges between C(1) and C(4096).
     aliases: [ vlan, vlan_id ]
-    choices: [ Valid encap IDs for specified encap, currently 1 to 4096 ]
   primary_encap_id:
     description:
     - Determines the primary encapsulation ID associating the C(epg)
       with the interface path when using micro-segmentation.
+    - Accepted values are any valid encap ID for specified encap, currently ranges between C(1) and C(4096).
     aliases: [ primary_vlan, primary_vlan_id ]
-    choices: [ Valid encap IDs for specified encap, currently 1 to 4096 ]
   deploy_immediacy:
     description:
     - The Deployement Immediacy of Static EPG on PC, VPC or Interface.
@@ -89,7 +89,7 @@ options:
     description:
     - The C(extpaths) integer value part of the tDn.
     - C(extpaths) is only used if C(interface_type) is C(fex).
-    - Usually something like '1011'.
+    - Usually something like C(1011).
   state:
     description:
     - Use C(present) or C(absent) for adding or removing.
diff --git a/test/sanity/validate-modules/ignore.txt b/test/sanity/validate-modules/ignore.txt
index 19447ad16e..c7c4ff4eb2 100644
--- a/test/sanity/validate-modules/ignore.txt
+++ b/test/sanity/validate-modules/ignore.txt
@@ -705,16 +705,9 @@ lib/ansible/modules/net_tools/snmp_facts.py E322
 lib/ansible/modules/net_tools/snmp_facts.py E324
 lib/ansible/modules/network/a10/a10_server_axapi3.py E326
 lib/ansible/modules/network/a10/a10_virtual_server.py E324
-lib/ansible/modules/network/aci/aci_bd_subnet.py E328
-lib/ansible/modules/network/aci/aci_config_snapshot.py E328
-lib/ansible/modules/network/aci/aci_epg_to_domain.py E326
-lib/ansible/modules/network/aci/aci_epg_to_domain.py E328
-lib/ansible/modules/network/aci/aci_filter_entry.py E326
 lib/ansible/modules/network/aci/aci_interface_policy_l2.py E326
 lib/ansible/modules/network/aci/aci_interface_policy_lldp.py E326
 lib/ansible/modules/network/aci/aci_interface_policy_mcp.py E326
-lib/ansible/modules/network/aci/aci_interface_policy_port_channel.py E328
-lib/ansible/modules/network/aci/aci_static_binding_to_epg.py E328
 lib/ansible/modules/network/aci/aci_tenant_span_src_group.py E326
 lib/ansible/modules/network/aos/_aos_blueprint_param.py E325
 lib/ansible/modules/network/asa/asa_config.py E324
