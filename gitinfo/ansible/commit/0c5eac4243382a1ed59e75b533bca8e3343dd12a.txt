commit 0c5eac4243382a1ed59e75b533bca8e3343dd12a
Author: Chris Houseknecht <chouseknecht@ansible.com>
Date:   Thu May 26 11:48:58 2016 -0400

    Fix missing key error when updating existing virtual network.

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_virtualnetwork.py b/lib/ansible/modules/cloud/azure/azure_rm_virtualnetwork.py
index d53fad139a..9f1e7e61f2 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_virtualnetwork.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_virtualnetwork.py
@@ -333,7 +333,7 @@ class AzureRMVirtualNetwork(AzureRMModuleBase):
                         ),
                         tags=results['tags']
                     )
-                    if results['dns_servers']:
+                    if results.get('dns_servers'):
                         vnet.dhcp_options = DhcpOptions(
                             dns_servers=results['dns_servers']
                         )
