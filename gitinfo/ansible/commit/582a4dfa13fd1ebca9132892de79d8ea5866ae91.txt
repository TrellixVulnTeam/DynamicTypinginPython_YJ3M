commit 582a4dfa13fd1ebca9132892de79d8ea5866ae91
Author: Jordan Borean <jborean93@gmail.com>
Date:   Thu Sep 20 10:56:56 2018 +1000

    append AWS region to test instance file (#45877)

diff --git a/test/runner/lib/core_ci.py b/test/runner/lib/core_ci.py
index a273d8a6de..127ee69c88 100644
--- a/test/runner/lib/core_ci.py
+++ b/test/runner/lib/core_ci.py
@@ -95,6 +95,8 @@ class AnsibleCoreCI(object):
                     self.provider = candidate
                     break
 
+        self.path = os.path.expanduser('~/.ansible/test/instances/%s-%s-%s' % (self.name, self.provider, self.stage))
+
         if self.provider in ('aws', 'azure'):
             if self.provider != 'aws':
                 self.resource = self.provider
@@ -114,6 +116,7 @@ class AnsibleCoreCI(object):
                 # send all non-Shippable jobs to us-east-1 to reduce api key maintenance
                 region = 'us-east-1'
 
+            self.path = "%s-%s" % (self.path, region)
             self.endpoints = AWS_ENDPOINTS[region],
             self.ssh_key = SshKey(args)
 
@@ -130,8 +133,6 @@ class AnsibleCoreCI(object):
         else:
             raise ApplicationError('Unsupported platform: %s' % platform)
 
-        self.path = os.path.expanduser('~/.ansible/test/instances/%s-%s-%s' % (self.name, self.provider, self.stage))
-
         if persist and load and self._load():
             try:
                 display.info('Checking existing %s/%s instance %s.' % (self.platform, self.version, self.instance_id),
