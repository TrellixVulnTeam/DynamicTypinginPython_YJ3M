commit fba5588028def5463f9b281fe69f117b76c3845b
Author: James Cammarata <jimi@sngx.net>
Date:   Tue May 5 13:17:04 2015 -0500

    Handle empty role definitions in YAML (v2)

diff --git a/lib/ansible/playbook/play.py b/lib/ansible/playbook/play.py
index b99c01fdf7..b247503d9c 100644
--- a/lib/ansible/playbook/play.py
+++ b/lib/ansible/playbook/play.py
@@ -174,6 +174,9 @@ class Play(Base, Taggable, Become):
         list of role definitions and creates the Role from those objects
         '''
 
+        if ds is None:
+            ds = []
+
         role_includes = load_list_of_roles(ds, variable_manager=self._variable_manager, loader=self._loader)
 
         roles = []
diff --git a/lib/ansible/playbook/role/metadata.py b/lib/ansible/playbook/role/metadata.py
index 461a9a4a62..61e92ce9b5 100644
--- a/lib/ansible/playbook/role/metadata.py
+++ b/lib/ansible/playbook/role/metadata.py
@@ -65,6 +65,9 @@ class RoleMetadata(Base):
         which returns a list of RoleInclude objects
         '''
 
+        if ds is None:
+            ds = []
+
         current_role_path = None
         if self._owner:
             current_role_path = os.path.dirname(self._owner._role_path)
