commit c9b33d5de289ddf2fece65a108b8f057d76d0b41
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Mar 11 19:07:55 2015 -0700

    Fix for py2.6 (no dict comprehensions on py2.6)

diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index 5fb17255a0..1079143955 100755
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -593,7 +593,8 @@ def get_instance_info(inst):
                      'state': inst.state,
                      'hypervisor': inst.hypervisor,
                      'tags': inst.tags,
-                     'groups': {group.id: group.name for group in inst.groups}}
+                     'groups': dict((group.id, group.name) for group in inst.groups),
+                     }
     try:
         instance_info['virtualization_type'] = getattr(inst,'virtualization_type')
     except AttributeError:
