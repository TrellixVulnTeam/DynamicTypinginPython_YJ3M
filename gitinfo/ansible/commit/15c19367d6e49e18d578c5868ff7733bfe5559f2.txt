commit 15c19367d6e49e18d578c5868ff7733bfe5559f2
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Tue Apr 25 22:40:16 2017 +0530

    Fixes #23960 junos_config fail with config in xml (#23962)
    
    If config is in xml format append it to <configuration>
    tag as a instance of Element class.

diff --git a/lib/ansible/module_utils/junos.py b/lib/ansible/module_utils/junos.py
index 6ba0301893..f22dc7c395 100644
--- a/lib/ansible/module_utils/junos.py
+++ b/lib/ansible/module_utils/junos.py
@@ -18,7 +18,7 @@
 #
 from contextlib import contextmanager
 
-from xml.etree.ElementTree import Element, SubElement
+from xml.etree.ElementTree import Element, SubElement, fromstring
 
 from ansible.module_utils.basic import env_fallback, return_values
 from ansible.module_utils.netconf import send_request, children
@@ -108,10 +108,12 @@ def load_configuration(module, candidate=None, action='merge', rollback=None, fo
             cfg = SubElement(obj, lookup[format])
 
         if isinstance(candidate, string_types):
-            cfg.text = candidate
+            if format == 'xml':
+                cfg.append(fromstring(candidate))
+            else:
+                cfg.text = candidate
         else:
             cfg.append(candidate)
-
     return send_request(module, obj)
 
 def get_configuration(module, compare=False, format='xml', rollback='0'):
