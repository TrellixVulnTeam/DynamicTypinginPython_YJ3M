commit 317ca7719373c799e1e25b13e248c24a2f518e32
Author: Evgeni Golov <evgeni@golov.de>
Date:   Sun Apr 10 13:33:48 2016 +0200

    strip whitespace from key and value before inserting it into the config
    
    before the following would produce four entries:
    
        container_config:
          - "lxc.network.flags=up"
          - "lxc.network.flags =up"
          - "lxc.network.flags= up"
          - "lxc.network.flags = up"
    
    let's strip the whitespace and insert only one "lxc.network.flags = up"
    into the final config
    
    Signed-off-by: Evgeni Golov <evgeni@golov.de>

diff --git a/lib/ansible/modules/extras/cloud/lxc/lxc_container.py b/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
index 678360afae..425aedc7f9 100644
--- a/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
+++ b/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
@@ -745,6 +745,8 @@ class LxcContainerManagement(object):
 
         config_change = False
         for key, value in parsed_options:
+            key = key.strip()
+            value = value.strip()
             new_entry = '%s = %s\n' % (key, value)
             for option_line in container_config:
                 # Look for key in config
