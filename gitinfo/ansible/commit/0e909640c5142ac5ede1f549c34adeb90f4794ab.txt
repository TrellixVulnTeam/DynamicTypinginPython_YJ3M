commit 0e909640c5142ac5ede1f549c34adeb90f4794ab
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Mon Oct 7 15:34:35 2013 -0400

    Make group_id be a list.

diff --git a/library/cloud/ec2 b/library/cloud/ec2
index c797ca6437..37a4c9e3bb 100644
--- a/library/cloud/ec2
+++ b/library/cloud/ec2
@@ -390,6 +390,8 @@ def create_instances(module, ec2):
         if group_name:
             grp_details = ec2.get_all_security_groups()
             if type(group_name) == list:
+                # FIXME: this should be a nice list comprehension
+                # also not py 2.4 compliant
                 group_id = list(filter(lambda grp: str(grp.id) if str(tmp) in str(grp) else None, grp_details) for tmp in group_name)
             elif type(group_name) == str:
                 for grp in grp_details:
@@ -557,7 +559,7 @@ def main():
             key_name = dict(aliases = ['keypair']),
             id = dict(),
             group = dict(type='list'),
-            group_id = dict(),
+            group_id = dict(type='list'),
             region = dict(aliases=['aws_region', 'ec2_region'], choices=AWS_REGIONS),
             zone = dict(aliases=['aws_zone', 'ec2_zone']),
             instance_type = dict(aliases=['type']),
