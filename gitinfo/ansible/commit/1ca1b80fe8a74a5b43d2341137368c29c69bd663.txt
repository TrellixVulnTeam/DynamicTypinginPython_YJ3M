commit 1ca1b80fe8a74a5b43d2341137368c29c69bd663
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Thu Nov 13 11:28:50 2014 -0800

    Decide to allow pkgname and version wildcards so that things like libxml2*=2.9* would work

diff --git a/lib/ansible/modules/packaging/os/apt.py b/lib/ansible/modules/packaging/os/apt.py
index 7940317eb7..17ce8aa4f7 100644
--- a/lib/ansible/modules/packaging/os/apt.py
+++ b/lib/ansible/modules/packaging/os/apt.py
@@ -231,11 +231,9 @@ def expand_pkgspec_from_fnmatches(m, pkgspec, cache):
     new_pkgspec = []
     for pkgspec_pattern in pkgspec:
         pkgname_pattern, version = package_split(pkgspec_pattern)
-        # note that any of these chars is not allowed in a (debian) pkgname
-        if frozenset('*?[]!').intersection(pkgname_pattern):
-            if version:
-                m.fail_json(msg="pkgname wildcard and version can not be mixed")
 
+        # note that none of these chars is allowed in a (debian) pkgname
+        if frozenset('*?[]!').intersection(pkgname_pattern):
             # handle multiarch pkgnames, the idea is that "apt*" should
             # only select native packages. But "apt*:i386" should still work
             if not ":" in pkgname_pattern:
