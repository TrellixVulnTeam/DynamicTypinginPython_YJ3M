commit 4273cb2d8ead8f95fa0032da4082ffd7da338472
Author: James Cammarata <jimi@sngx.net>
Date:   Thu Mar 13 13:51:10 2014 -0500

    Rejoin args list into a string for run_command when using an unsafe shell
    
    This allows the use of an args list with leading environment variables,
    which otherwise would fail due to the way Popen works.

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index f47347482f..00dd8011c7 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1009,7 +1009,9 @@ class AnsibleModule(object):
 
         shell = False
         if isinstance(args, list):
-            pass
+            if use_unsafe_shell:
+                args = " ".join([pipes.quote(x) for x in args])
+                shell = True
         elif isinstance(args, basestring) and use_unsafe_shell:
             shell = True
         elif isinstance(args, basestring):
