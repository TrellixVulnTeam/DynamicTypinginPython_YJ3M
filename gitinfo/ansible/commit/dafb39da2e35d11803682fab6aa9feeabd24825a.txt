commit dafb39da2e35d11803682fab6aa9feeabd24825a
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Dec 16 14:07:17 2015 -0800

    Account for mariadb versioning

diff --git a/lib/ansible/modules/database/mysql/mysql_user.py b/lib/ansible/modules/database/mysql/mysql_user.py
index ff45dd55ac..754fd14aac 100644
--- a/lib/ansible/modules/database/mysql/mysql_user.py
+++ b/lib/ansible/modules/database/mysql/mysql_user.py
@@ -182,10 +182,14 @@ def server_version_check(cursor):
     version_str = result[0]
     version = version_str.split('.')
 
+    # Currently we have no facility to handle new-style password update on
+    # mariadb and the old-style update continues to work
+    if version_str.lower().endswith('mariadb'):
+        return True
     if (int(version[0]) <= 5 and int(version[1]) < 7):
-      return True
+        return True
     else:
-      return False
+        return False
 
 def user_exists(cursor, user, host, host_all):
     if host_all:
