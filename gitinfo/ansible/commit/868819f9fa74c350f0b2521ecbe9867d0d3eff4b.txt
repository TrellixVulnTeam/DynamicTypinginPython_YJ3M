commit 868819f9fa74c350f0b2521ecbe9867d0d3eff4b
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Oct 9 09:47:51 2015 -0400

    Make sure shlex split is returning properly encoded strings
    
    Fixes #12676

diff --git a/lib/ansible/plugins/connection/ssh.py b/lib/ansible/plugins/connection/ssh.py
index 29648b591a..aa5316ae5c 100644
--- a/lib/ansible/plugins/connection/ssh.py
+++ b/lib/ansible/plugins/connection/ssh.py
@@ -33,6 +33,7 @@ from ansible import constants as C
 from ansible.errors import AnsibleError, AnsibleConnectionFailure, AnsibleFileNotFound
 from ansible.plugins.connection import ConnectionBase
 from ansible.utils.path import unfrackpath, makedirs_safe
+from ansible.utils.unicode import to_bytes, to_unicode
 
 SSHPASS_AVAILABLE = None
 
@@ -101,7 +102,7 @@ class Connection(ConnectionBase):
         list ['-o', 'Foo=1', '-o', 'Bar=foo bar'] that can be added to
         the argument list. The list will not contain any empty elements.
         """
-        return [x.strip() for x in shlex.split(argstring) if x.strip()]
+        return [to_unicode(x.strip()) for x in shlex.split(to_bytes(argstring)) if x.strip()]
 
     def _add_args(self, explanation, args):
         """
