commit 883cd228213d8028029f77f8d626eec6e0a3ab99
Author: nmeum <git-nmeum@8pit.net>
Date:   Thu Dec 4 12:21:15 2014 +0100

    Make sure portage doesn't ask for confirmation
    
    If EMERGE_DEFAULT_OPTS in make.conf(5) contains '--ask' then the portage
    module doesn't work correctly, this commit fixes that

diff --git a/lib/ansible/modules/extras/packaging/os/portage.py b/lib/ansible/modules/extras/packaging/os/portage.py
index 85027bfc79..d38062e47e 100644
--- a/lib/ansible/modules/extras/packaging/os/portage.py
+++ b/lib/ansible/modules/extras/packaging/os/portage.py
@@ -335,6 +335,7 @@ def cleanup_packages(module, packages):
 def run_emerge(module, packages, *args):
     args = list(args)
 
+    args.append('--ask=n')
     if module.check_mode:
         args.append('--pretend')
 
