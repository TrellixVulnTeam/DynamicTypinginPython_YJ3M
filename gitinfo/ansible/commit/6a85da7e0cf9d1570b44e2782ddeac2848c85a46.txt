commit 6a85da7e0cf9d1570b44e2782ddeac2848c85a46
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Mar 10 01:00:33 2016 -0500

    avoid private attributes
    
    hardcode adding with_ for tasks

diff --git a/hacking/dump_playbook_attributes.py b/hacking/dump_playbook_attributes.py
index 6a0f08f45b..88029cd24d 100755
--- a/hacking/dump_playbook_attributes.py
+++ b/hacking/dump_playbook_attributes.py
@@ -29,13 +29,11 @@ for aclass in class_list:
 
     # build ordered list to loop over and dict with attributes
     clist.append(name)
-    oblist[name] = aobj.__dict__['_attributes']
+    oblist[name] = {x: aobj.__dict__['_attributes'][x] for x in aobj.__dict__['_attributes']  if 'private' not in x or not x.private}
 
     # loop is really with_ for users
-    if 'loop' in oblist[name]:
+    if name == 'Task':
         oblist[name]['with_<lookup_plugin>'] = True
-        del oblist[name]['loop']
-        del oblist[name]['loop_args']
 
     # local_action is implicit with action
     if 'action' in oblist[name]:
