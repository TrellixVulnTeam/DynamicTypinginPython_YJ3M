commit 3d0f19d8cd7acfe8c91c6de748864b7a968dcb45
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Wed Sep 12 21:17:24 2018 -0400

    Exclude the whole ansible_failed_task block (#45587)
    
    It has lots of FieldAttributes that won't serialize.
    Also the connection doesn't care.

diff --git a/lib/ansible/executor/task_executor.py b/lib/ansible/executor/task_executor.py
index 979bd472c9..86df0b57cd 100644
--- a/lib/ansible/executor/task_executor.py
+++ b/lib/ansible/executor/task_executor.py
@@ -843,7 +843,10 @@ class TaskExecutor:
             display.vvvv('attempting to start connection', host=self._play_context.remote_addr)
             display.vvvv('using connection plugin %s' % connection.transport, host=self._play_context.remote_addr)
             # We don't need to send the entire contents of variables to ansible-connection
-            filtered_vars = dict((key, value) for key, value in variables.items() if key.startswith('ansible'))
+            filtered_vars = dict(
+                (key, value) for key, value in variables.items()
+                if key.startswith('ansible') and key != 'ansible_failed_task'
+            )
             socket_path = self._start_connection(filtered_vars)
             display.vvvv('local domain socket path is %s' % socket_path, host=self._play_context.remote_addr)
             setattr(connection, '_socket_path', socket_path)
