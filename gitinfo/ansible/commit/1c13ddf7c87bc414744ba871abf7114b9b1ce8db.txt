commit 1c13ddf7c87bc414744ba871abf7114b9b1ce8db
Author: Martin Bektchiev <martin.bektchiev@telerik.com>
Date:   Tue Jan 3 22:05:37 2017 +0200

    Add @ to valid package name characters (#18862)
    
    NodeJS formulae are now named node@<major_version>
    
    E.g. https://github.com/Homebrew/homebrew-core/blob/master/Formula/node@6.rb

diff --git a/lib/ansible/modules/packaging/os/homebrew.py b/lib/ansible/modules/packaging/os/homebrew.py
index c44ccabbe6..e381f1a3d8 100755
--- a/lib/ansible/modules/packaging/os/homebrew.py
+++ b/lib/ansible/modules/packaging/os/homebrew.py
@@ -179,6 +179,7 @@ class Homebrew(object):
         \+                  # plusses
         -                   # dashes
         :                   # colons (for URLs)
+        @                   # at-sign        
     '''
 
     INVALID_PATH_REGEX        = _create_regex_group(VALID_PATH_CHARS)
