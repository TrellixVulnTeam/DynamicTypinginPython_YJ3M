commit feb5b0b299054af6df0754b4ca441859bec1ac11
Author: Matt Clay <matt@mystile.com>
Date:   Wed Nov 14 17:41:15 2018 -0800

    Fix unit test issues with pytest >= 4.0.0.

diff --git a/test/units/module_utils/basic/test_argument_spec.py b/test/units/module_utils/basic/test_argument_spec.py
index fd16dc6f6f..14c134d9f1 100644
--- a/test/units/module_utils/basic/test_argument_spec.py
+++ b/test/units/module_utils/basic/test_argument_spec.py
@@ -130,9 +130,9 @@ def options_argspec_list():
 
 
 @pytest.fixture
-def options_argspec_dict():
+def options_argspec_dict(options_argspec_list):
     # should test ok, for options in dict format.
-    kwargs = options_argspec_list()
+    kwargs = options_argspec_list
     kwargs['argument_spec']['foobar']['type'] = 'dict'
 
     return kwargs
diff --git a/test/units/modules/packaging/os/conftest.py b/test/units/modules/packaging/os/conftest.py
index 4d34c3476b..1c5560a909 100644
--- a/test/units/modules/packaging/os/conftest.py
+++ b/test/units/modules/packaging/os/conftest.py
@@ -10,7 +10,7 @@ def get_method_name(request_body):
 
 @pytest.fixture
 def mock_request(request, mocker):
-    responses = request.getfuncargvalue('testcase')['calls']
+    responses = request.getfixturevalue('testcase')['calls']
     module_name = request.module.TESTED_MODULE
 
     def transport_request(host, handler, request_body, verbose=0):
