commit 6bdcb3a392e1be08e3a5846e25af0c5147a58e00
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Oct 14 09:23:12 2016 -0500

    Make sure free strategy is returning proper TQM constants
    
    Fixes #18023

diff --git a/lib/ansible/plugins/strategy/free.py b/lib/ansible/plugins/strategy/free.py
index 45e417a23e..d92d9543fc 100644
--- a/lib/ansible/plugins/strategy/free.py
+++ b/lib/ansible/plugins/strategy/free.py
@@ -56,7 +56,7 @@ class StrategyModule(StrategyBase):
         # the last host to be given a task
         last_host = 0
 
-        result = True
+        result = self._tqm.RUN_OK
 
         work_to_do = True
         while work_to_do and not self._tqm._terminated:
@@ -175,7 +175,7 @@ class StrategyModule(StrategyBase):
                     variable_manager=self._variable_manager
                 )
             except AnsibleError as e:
-                return False
+                return self._tqm.RUN_ERROR
 
             if len(included_files) > 0:
                 all_blocks = dict((host, []) for host in hosts_left)
