commit d39870a6936c11b6578c22ab3d77f71d5d8bb33a
Author: Paul Belanger <pabelanger@redhat.com>
Date:   Tue Dec 10 08:31:59 2019 -0500

    Remove unused code in nxos_user (#65529)
    
    There is no longer the need to warn on password, it is not supported any
    more.
    
    Update nxos_user tests not to purge current SSH user for nxos, otherwise
    we loose access for testing.
    
    Signed-off-by: Paul Belanger <pabelanger@redhat.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_user.py b/lib/ansible/modules/network/nxos/nxos_user.py
index 5c2cc0abcb..3fc4118d27 100644
--- a/lib/ansible/modules/network/nxos/nxos_user.py
+++ b/lib/ansible/modules/network/nxos/nxos_user.py
@@ -337,15 +337,7 @@ def main():
                            mutually_exclusive=mutually_exclusive,
                            supports_check_mode=True)
 
-    warnings = list()
-    if module.params['password'] and not module.params['configured_password']:
-        warnings.append(
-            'The "password" argument is used to authenticate the current connection. ' +
-            'To set a user password use "configured_password" instead.'
-        )
-
     result = {'changed': False}
-    result['warnings'] = warnings
 
     want = map_params_to_obj(module)
     have = map_config_to_obj(module)
diff --git a/test/integration/targets/nxos_user/tests/common/sanity.yaml b/test/integration/targets/nxos_user/tests/common/sanity.yaml
index 61ef5898ea..07fee4d000 100644
--- a/test/integration/targets/nxos_user/tests/common/sanity.yaml
+++ b/test/integration/targets/nxos_user/tests/common/sanity.yaml
@@ -95,7 +95,7 @@
 
   - name: tearDown
     nxos_user: &tear
-      name: ansible
+      name: "{{ ansible_user }}"
       purge: yes
       provider: "{{ connection }}"
     register: result
