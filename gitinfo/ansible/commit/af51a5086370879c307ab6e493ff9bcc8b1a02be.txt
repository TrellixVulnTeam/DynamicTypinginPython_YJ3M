commit af51a5086370879c307ab6e493ff9bcc8b1a02be
Author: Jonathan Mainguy <jon@soh.re>
Date:   Sun Apr 19 15:29:30 2015 -0400

    Fixes bug where state=absent did not work

diff --git a/lib/ansible/modules/extras/system/gluster_volume.py b/lib/ansible/modules/extras/system/gluster_volume.py
index c1607f627c..2e45a58cc8 100644
--- a/lib/ansible/modules/extras/system/gluster_volume.py
+++ b/lib/ansible/modules/extras/system/gluster_volume.py
@@ -356,7 +356,9 @@ def main():
     # do the work!
     if action == 'absent':
         if volume_name in volumes:
-            run_gluster([ 'volume', 'delete', name ])
+            if volumes[volume_name]['status'].lower() != 'stopped':
+                stop_volume(volume_name)
+            run_gluster_yes([ 'volume', 'delete', volume_name ])
             changed = True
 
     if action == 'present':
