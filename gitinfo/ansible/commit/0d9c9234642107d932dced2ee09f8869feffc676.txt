commit 0d9c9234642107d932dced2ee09f8869feffc676
Author: Martin Neƒças <necas.marty@gmail.com>
Date:   Tue Nov 6 14:48:45 2018 +0100

    ovirt require storage_domain if state is registred (#47423)

diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_vm.py b/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
index f77aa9375f..a3677aa823 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_vm.py
@@ -2054,6 +2054,9 @@ def main():
         argument_spec=argument_spec,
         supports_check_mode=True,
         required_one_of=[['id', 'name']],
+        required_if=[
+            ('state', 'registered', ['storage_domain']),
+        ]
     )
 
     check_sdk(module)
