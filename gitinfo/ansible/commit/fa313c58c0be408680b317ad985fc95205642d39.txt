commit fa313c58c0be408680b317ad985fc95205642d39
Author: Justin Menga <justin.menga@gmail.com>
Date:   Mon Oct 30 07:13:34 2017 +1300

    [cloud] Delete stack using CloudFormation role ARN if available

diff --git a/lib/ansible/modules/cloud/amazon/cloudformation.py b/lib/ansible/modules/cloud/amazon/cloudformation.py
index 920a4d7aaa..48e6d6aa91 100644
--- a/lib/ansible/modules/cloud/amazon/cloudformation.py
+++ b/lib/ansible/modules/cloud/amazon/cloudformation.py
@@ -651,7 +651,10 @@ def main():
             if not stack:
                 result = {'changed': False, 'output': 'Stack not found.'}
             else:
-                cfn.delete_stack(StackName=stack_params['StackName'])
+                if stack_params.get('RoleARN') is None:
+                    cfn.delete_stack(StackName=stack_params['StackName'])
+                else:
+                    cfn.delete_stack(StackName=stack_params['StackName'], RoleARN=stack_params['RoleARN'])
                 result = stack_operation(cfn, stack_params['StackName'], 'DELETE', stack_params.get('ClientRequestToken', None))
         except Exception as err:
             module.fail_json(msg=boto_exception(err), exception=traceback.format_exc())
