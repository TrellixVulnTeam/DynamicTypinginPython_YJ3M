commit d366885367d6044d4b29e199e2d193b026d56af5
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Fri Apr 13 15:31:02 2012 +0200

    Stop async /bin/ansible if completed on all hosts.

diff --git a/bin/ansible b/bin/ansible
index 494d54d2ed..0543aed79e 100755
--- a/bin/ansible
+++ b/bin/ansible
@@ -147,6 +147,8 @@ class Cli(object):
                 clock = clock - options.poll_interval
                 time.sleep(options.poll_interval)
                 poll_hosts = self.hosts_to_poll(poll_results)
+                if len(poll_hosts)==0:
+                    break
 
 ########################################################
 
