commit 119c9e5d6eb572c4a4800fbe8136095f9063c37b
Author: Martin Krizek <mkrizek@redhat.com>
Date:   Wed Jul 26 16:12:35 2017 +0200

    Fix using DNF group upgrade/remove api

diff --git a/lib/ansible/modules/packaging/os/dnf.py b/lib/ansible/modules/packaging/os/dnf.py
index 395fcc8a71..e013470bdc 100644
--- a/lib/ansible/modules/packaging/os/dnf.py
+++ b/lib/ansible/modules/packaging/os/dnf.py
@@ -399,7 +399,7 @@ def ensure(module, base, state, names, autoremove):
             for group in groups:
                 try:
                     try:
-                        base.group_upgrade(group)
+                        base.group_upgrade(group.id)
                     except dnf.exceptions.CompsError:
                         # If not already installed, try to install.
                         base.group_install(group.id, dnf.const.GROUP_PACKAGE_TYPES)
@@ -433,7 +433,7 @@ def ensure(module, base, state, names, autoremove):
 
             for group in groups:
                 try:
-                    base.group_remove(group)
+                    base.group_remove(group.id)
                 except dnf.exceptions.CompsError:
                     # Group is already uninstalled.
                     pass
