commit a19ae28326ce861c0eeae803e939050b5bcd64bd
Author: Matt Clay <matt@mystile.com>
Date:   Tue Feb 25 17:57:49 2020 -0800

    Test the delay option in wait_for_connection.

diff --git a/test/integration/targets/wait_for_connection/tasks/main.yml b/test/integration/targets/wait_for_connection/tasks/main.yml
index 613209e84c..19749e686e 100644
--- a/test/integration/targets/wait_for_connection/tasks/main.yml
+++ b/test/integration/targets/wait_for_connection/tasks/main.yml
@@ -4,6 +4,19 @@
     sleep: 1
     timeout: 10
 
+- name: Test normal connection to target node with delay
+  wait_for_connection:
+    connect_timeout: 5
+    sleep: 1
+    timeout: 10
+    delay: 3
+  register: result
+
+- name: Verify delay was honored
+  assert:
+    that:
+      - result.elapsed >= 3
+
 - name: Use invalid parameter
   wait_for_connection:
     foo: bar
