commit f76befdb9a42a5188b4c024d2284484a89f3663c
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Jun 7 10:29:24 2016 -0400

    fix issues when state is not supplied

diff --git a/lib/ansible/plugins/action/service.py b/lib/ansible/plugins/action/service.py
index f3d975cb81..65cbe8b0e0 100644
--- a/lib/ansible/plugins/action/service.py
+++ b/lib/ansible/plugins/action/service.py
@@ -56,7 +56,7 @@ class ActionModule(ActionBase):
                 del new_module_args['use']
 
             # for backwards compatibility
-            if new_module_args['state'] == 'running':
+            if 'state' in new_module_args and new_module_args['state'] == 'running':
                 new_module_args['state'] = 'started'
 
             self._display.vvvv("Running %s" % module)
