commit e0e98d10ceacb9853cb5e6cb7c8f78cf8db3263b
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Thu Feb 23 22:09:23 2012 -0500

    use readlines on stdout so we'll block on long running commands

diff --git a/lib/ansible/__init__.py b/lib/ansible/__init__.py
index 77012dda9a..37d6d38e51 100755
--- a/lib/ansible/__init__.py
+++ b/lib/ansible/__init__.py
@@ -25,6 +25,7 @@ from itertools import izip
 import os
 import json
 import traceback
+import select
 
 # non-core 
 import paramiko
@@ -143,7 +144,7 @@ class Runner(object):
    def _exec_command(self, conn, cmd):
        ''' execute a command over SSH '''
        stdin, stdout, stderr = conn.exec_command(cmd)
-       results = stdout.read()
+       results = "\n".join(stdout.readlines())
        return results
 
    def _copy_module(self, conn):
