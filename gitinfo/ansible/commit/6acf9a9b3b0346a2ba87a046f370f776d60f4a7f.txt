commit 6acf9a9b3b0346a2ba87a046f370f776d60f4a7f
Author: Michael Vogt <mvo@debian.org>
Date:   Fri May 31 21:20:40 2013 +0200

    use statvfs.f_bavail to match the output of "df -B1"

diff --git a/library/system/setup b/library/system/setup
index 1e137e945c..7d6173301d 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -561,9 +561,9 @@ class LinuxHardware(Hardware):
                      'device':fields[0],
                      'fstype': fields[2],
                      'options': fields[3],
-                     # statvfs
+                     # statvfs data
                      'size_total': statvfs_result.f_bsize * statvfs_result.f_blocks,
-                     'size_free': statvfs_result.f_bsize * statvfs_result.f_bfree,
+                     'size_available': statvfs_result.f_bsize * (statvfs_result.f_bavail),
                      })
 
     def get_device_facts(self):
