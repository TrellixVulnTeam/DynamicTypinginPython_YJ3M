commit 7f536630eb893ce3fb385c70689fa1ecfc3285b7
Author: Paul Belanger <pabelanger@redhat.com>
Date:   Sun Jun 16 16:03:55 2019 -0400

    Use wait_for in prepare_junos_tests.yaml (#57073)
    
    This should reduce the amount of time we are waiting for netconf to come
    online.
    
    Signed-off-by: Paul Belanger <pabelanger@redhat.com>

diff --git a/test/integration/targets/prepare_junos_tests/tasks/main.yml b/test/integration/targets/prepare_junos_tests/tasks/main.yml
index e99191374e..2cae1f2cd5 100644
--- a/test/integration/targets/prepare_junos_tests/tasks/main.yml
+++ b/test/integration/targets/prepare_junos_tests/tasks/main.yml
@@ -8,6 +8,8 @@
   tags: netconf
 
 - name: wait for netconf server to come up
-  pause:
-    seconds: 10
-  tags: netconf
+  delegate_to: localhost
+  wait_for:
+    host: "{{ hostvars[item].ansible_host }}"
+    port: 830
+  with_inventory_hostnames: junos
