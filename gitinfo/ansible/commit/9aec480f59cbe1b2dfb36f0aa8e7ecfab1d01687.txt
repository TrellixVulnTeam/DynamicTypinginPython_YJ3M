commit 9aec480f59cbe1b2dfb36f0aa8e7ecfab1d01687
Author: Michael Scherer <misc@zarb.org>
Date:   Fri Oct 14 00:18:02 2016 +0200

    Make irc.py compile on python3

diff --git a/lib/ansible/modules/extras/notification/irc.py b/lib/ansible/modules/extras/notification/irc.py
index 3133fde7c3..86d4edfc74 100644
--- a/lib/ansible/modules/extras/notification/irc.py
+++ b/lib/ansible/modules/extras/notification/irc.py
@@ -289,7 +289,8 @@ def main():
 
     try:
         send_msg(msg, server, port, channel, nick_to, key, topic, nick, color, passwd, timeout, use_ssl, part, style)
-    except Exception, e:
+    except Exception:
+        e = get_exception()
         module.fail_json(msg="unable to send to IRC: %s" % e)
 
     module.exit_json(changed=False, channel=channel, nick=nick,
@@ -297,4 +298,5 @@ def main():
 
 # import module snippets
 from ansible.module_utils.basic import *
+from ansible.module_utils.pycompat24 import get_exception
 main()
diff --git a/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt b/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
index 7cce932ec1..1deede9a26 100644
--- a/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
+++ b/lib/ansible/modules/extras/test/utils/shippable/sanity-skip-python3.txt
@@ -78,7 +78,6 @@
 /network/nmcli.py
 /network/openvswitch_bridge.py
 /network/openvswitch_port.py
-/notification/irc.py
 /notification/jabber.py
 /notification/mail.py
 /notification/mqtt.py
