commit e8b45a9ef715d04713e49c5dc54d2a2ec87b3514
Author: Serge van Ginderachter <serge@vanginderachter.be>
Date:   Mon Jul 14 15:21:33 2014 +0200

    Invalidate host/group variables cache when loading
    
    extra varsiables based on playbook basedir.

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 90abb74fe2..3999005c7a 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -582,6 +582,9 @@ class Inventory(object):
             # get host vars from host_vars/ files
             for host in self.get_hosts():
                 host.vars = utils.combine_vars(host.vars, self.get_host_vars(host, new_pb_basedir=True))
+            # invalidate cache
+            self._vars_per_host = {}
+            self._vars_per_group = {}
 
     def get_host_vars(self, host, new_pb_basedir=False):
         """ Read host_vars/ files """
