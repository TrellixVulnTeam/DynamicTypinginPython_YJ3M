commit 7d7e7fb8bc00f954b9f8e7bfccf2c914a05de650
Author: Michel Blanc <mb@mbnet.fr>
Date:   Fri Jan 4 13:41:31 2013 +0100

    Adds path expansion to two other methods
    
    set_owner_if_different and set_group_if_different seems to need path
    expansion too

diff --git a/lib/ansible/module_common.py b/lib/ansible/module_common.py
index 5d840bb60f..f126f12f28 100644
--- a/lib/ansible/module_common.py
+++ b/lib/ansible/module_common.py
@@ -307,6 +307,7 @@ class AnsibleModule(object):
         return changed
 
     def set_owner_if_different(self, path, owner, changed):
+        path = os.path.expanduser(path)
         if owner is None:
             return changed
         user, group = self.user_and_group(path)
@@ -323,6 +324,7 @@ class AnsibleModule(object):
         return changed
 
     def set_group_if_different(self, path, group, changed):
+        path = os.path.expanduser(path)
         if group is None:
             return changed
         old_user, old_group = self.user_and_group(path)
@@ -340,7 +342,6 @@ class AnsibleModule(object):
 
     def set_mode_if_different(self, path, mode, changed):
         path = os.path.expanduser(path)
-
         if mode is None:
             return changed
         try:
