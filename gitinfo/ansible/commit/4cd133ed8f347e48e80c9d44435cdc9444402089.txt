commit 4cd133ed8f347e48e80c9d44435cdc9444402089
Author: Romeo Theriault <romeot@hawaii.edu>
Date:   Mon Nov 12 10:37:00 2012 -1000

    add bsd md5 support to fetch module

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index 2a400966ad..b41d28248d 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -461,9 +461,12 @@ class Runner(object):
 
         test = "rc=0; [ -r \"%s\" ] || rc=2; [ -f \"%s\" ] || rc=1" % (path,path)
         md5s = [
-            "(/usr/bin/md5sum %s 2>/dev/null)" % path,
-            "(/sbin/md5sum -q %s 2>/dev/null)" % path,
-            "(/usr/bin/digest -a md5 %s 2>/dev/null)" % path
+            "(/usr/bin/md5sum %s 2>/dev/null)" % path,  # Linux
+            "(/sbin/md5sum -q %s 2>/dev/null)" % path,  # ?
+            "(/usr/bin/digest -a md5 %s 2>/dev/null)" % path,   # Solaris 10+
+            "(/sbin/md5 -q %s 2>/dev/null)" % path,     # Freebsd
+            "(/usr/bin/md5 -n %s 2>/dev/null)" % path,  # Netbsd
+            "(/bin/md5 -q %s 2>/dev/null)" % path       # Openbsd
         ]
 
         cmd = " || ".join(md5s)
