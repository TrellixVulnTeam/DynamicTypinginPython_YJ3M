commit f00d47fac03754d6729ca5fd6738e5bfe66a510c
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Oct 3 14:54:25 2017 -0400

    dont follow symlinks for inventories
    
    now symlink dir is checked for locality of group/host_vars
    
    fixes #31195

diff --git a/lib/ansible/cli/__init__.py b/lib/ansible/cli/__init__.py
index e4563e06d3..ae3008b459 100644
--- a/lib/ansible/cli/__init__.py
+++ b/lib/ansible/cli/__init__.py
@@ -615,7 +615,7 @@ class CLI(with_metaclass(ABCMeta, object)):
                     self.options.inventory = [self.options.inventory]
 
                 # Ensure full paths when needed
-                self.options.inventory = [unfrackpath(opt) if ',' not in opt else opt for opt in self.options.inventory]
+                self.options.inventory = [unfrackpath(opt, follow=False) if ',' not in opt else opt for opt in self.options.inventory]
 
             else:
                 self.options.inventory = C.DEFAULT_HOST_LIST
