commit e844bfe1d4679e8679c0ebabd978c21afb98835d
Author: Paul Belanger <pabelanger@redhat.com>
Date:   Tue Sep 18 13:55:52 2018 -0400

    Force PEM SSH keys for paramiko
    
    Trying to get ansible-test working on my fedora-28 system, I noticed I
    was getting invalid keys from paramiko. It looks like this is because
    ssh-keygen is now defaulting to RFC4716 format for private / public
    keys.
    
    For now, we can still use PEM based SSH keys, but the long term fix here
    is to report a bug to paramiko and support RFC4716 for rsa keys.
    
    Signed-off-by: Paul Belanger <pabelanger@redhat.com>

diff --git a/test/runner/lib/core_ci.py b/test/runner/lib/core_ci.py
index 7ae79996e5..b5457a99f1 100644
--- a/test/runner/lib/core_ci.py
+++ b/test/runner/lib/core_ci.py
@@ -542,7 +542,7 @@ class SshKey(object):
                 make_dirs(base_dir)
 
             if not os.path.isfile(key) or not os.path.isfile(pub):
-                run_command(args, ['ssh-keygen', '-q', '-t', 'rsa', '-N', '', '-f', key])
+                run_command(args, ['ssh-keygen', '-m', 'PEM', '-q', '-t', 'rsa', '-N', '', '-f', key])
 
             if not args.explain:
                 shutil.copy2(key, self.key)
