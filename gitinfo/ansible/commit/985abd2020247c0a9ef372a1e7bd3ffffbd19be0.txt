commit 985abd2020247c0a9ef372a1e7bd3ffffbd19be0
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed May 4 08:43:11 2016 -0400

    switched to return facts

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
index 1e5a91122c..67daf3ef02 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
@@ -289,8 +289,8 @@ powerstate:
     returned: always
     type: string
     sample: running
-state:
-    description: Facts about the current state of the object.
+azure_rm_vm:
+    description: Facts about the current state of the object. Note that facts are not part of the registered output but available directly.
     returned: always
     type: dict
     sample: {
@@ -520,7 +520,7 @@ class AzureRMVirtualMachine(AzureRMModuleBase):
             changed=False,
             actions=[],
             powerstate_change=None,
-            state=dict()
+            ansible_facts=dict('azure_rm_vm')
         )
 
         super(AzureRMVirtualMachine, self).__init__(derived_arg_spec=self.module_arg_spec,
@@ -666,7 +666,7 @@ class AzureRMVirtualMachine(AzureRMModuleBase):
                 changed = True
 
         self.results['changed'] = changed
-        self.results['state'] = results
+        self.results['ansible_facts']['azure_rm_vm'] = results
         self.results['powerstate_change'] = powerstate_change
 
         if self.check_mode:
