commit 3f4a22d8efe22484ba5b5df6bb14a9929d899a6a
Author: Matt Martz <matt@sivel.net>
Date:   Fri May 17 20:36:42 2019 -0500

    Add compat tojson filter for jinja2 versions missing it (#56596)

diff --git a/docs/bin/plugin_formatter.py b/docs/bin/plugin_formatter.py
index 1774aca702..83a00639ee 100755
--- a/docs/bin/plugin_formatter.py
+++ b/docs/bin/plugin_formatter.py
@@ -11,6 +11,7 @@ __metaclass__ = type
 
 import datetime
 import glob
+import json
 import optparse
 import os
 import re
@@ -399,6 +400,10 @@ def jinja2_environment(template_dir, typ, plugin_type):
         # Jinja < 2.10
         env.filters['max'] = do_max
 
+    if 'tojson' not in env.filters:
+        # Jinja < 2.9
+        env.filters['tojson'] = json.dumps
+
     templates = {}
     if typ == 'rst':
         env.filters['rst_ify'] = rst_ify
