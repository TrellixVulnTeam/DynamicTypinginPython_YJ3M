commit 5a2b34e159f41bdb99e0da1f1038556b80fd7d14
Author: Colin Hoglund <colinhoglund@users.noreply.github.com>
Date:   Wed Jun 15 14:17:17 2016 -0400

    allow spaces before the filter string (#16312)

diff --git a/lib/ansible/template/__init__.py b/lib/ansible/template/__init__.py
index 4e1f7b7fd8..73fe50fe8a 100644
--- a/lib/ansible/template/__init__.py
+++ b/lib/ansible/template/__init__.py
@@ -173,7 +173,7 @@ class Templar:
         self.variable_start = self.environment.variable_start_string
         self.variable_end   = self.environment.variable_end_string
         self._clean_regex   = re.compile(r'(?:%s|%s|%s|%s)' % (self.variable_start, self.block_start, self.block_end, self.variable_end))
-        self._no_type_regex = re.compile(r'.*\|(?:%s)\s*(?:%s)?$' % ('|'.join(C.STRING_TYPE_FILTERS), self.variable_end))
+        self._no_type_regex = re.compile(r'.*\|\s*(?:%s)\s*(?:%s)?$' % ('|'.join(C.STRING_TYPE_FILTERS), self.variable_end))
 
     def _get_filters(self):
         '''
