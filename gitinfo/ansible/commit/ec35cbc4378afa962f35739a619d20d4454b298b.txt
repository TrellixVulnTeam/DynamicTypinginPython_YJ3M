commit ec35cbc4378afa962f35739a619d20d4454b298b
Author: Kevin Dwyer <kevin@pheared.net>
Date:   Mon Jul 15 06:02:14 2019 -0400

    Pass allow_unauthenticated when installing a deb directly - allowing unauthenticated dependencies (#58771)
    
    * Pass allow_unauthenticated when installing a deb directly - allowing unauthenticated dependencies.
    
    * Add changelog for ansible/ansible#58771

diff --git a/changelogs/fragments/58771-allow-unauthenticated-deb.yaml b/changelogs/fragments/58771-allow-unauthenticated-deb.yaml
new file mode 100644
index 0000000000..8380b073a4
--- /dev/null
+++ b/changelogs/fragments/58771-allow-unauthenticated-deb.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - apt - fixed issue where allow_unauthenticated did not apply to dependencies when installing a deb directly
diff --git a/lib/ansible/modules/packaging/os/apt.py b/lib/ansible/modules/packaging/os/apt.py
index cc43e1c142..88c6ea87a7 100644
--- a/lib/ansible/modules/packaging/os/apt.py
+++ b/lib/ansible/modules/packaging/os/apt.py
@@ -750,6 +750,7 @@ def install_deb(m, debs, cache, force, install_recommends, allow_unauthenticated
     if deps_to_install:
         (success, retvals) = install(m=m, pkgspec=deps_to_install, cache=cache,
                                      install_recommends=install_recommends,
+                                     allow_unauthenticated=allow_unauthenticated,
                                      dpkg_options=expand_dpkg_options(dpkg_options))
         if not success:
             m.fail_json(**retvals)
