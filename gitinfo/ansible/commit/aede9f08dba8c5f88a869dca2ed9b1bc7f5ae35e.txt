commit aede9f08dba8c5f88a869dca2ed9b1bc7f5ae35e
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Jun 18 10:05:23 2015 -0400

    fixed case in which prompt was None

diff --git a/lib/ansible/plugins/connections/__init__.py b/lib/ansible/plugins/connections/__init__.py
index 8e4841225c..6515f62dcc 100644
--- a/lib/ansible/plugins/connections/__init__.py
+++ b/lib/ansible/plugins/connections/__init__.py
@@ -130,7 +130,9 @@ class ConnectionBase(with_metaclass(ABCMeta, object)):
         return self.success_key in output
 
     def check_password_prompt(self, output):
-        if isinstance(self.prompt, basestring):
+        if self.prompt in None:
+            return True
+        elif isinstance(self.prompt, basestring):
             return output.endswith(self.prompt)
         else:
             return self.prompt(output)
