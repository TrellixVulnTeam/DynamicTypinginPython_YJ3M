commit 978e6d2cd6bd8e56d14a23ec2005ab342c81a450
Author: Joost Cassee <joost@cassee.net>
Date:   Wed Apr 30 21:46:37 2014 +0200

    Make concatenating certs robust in urls.py
    
    Add a newline after each certificate file explicitly to avoid problems
    with files that do not end with a newline themselves.

diff --git a/lib/ansible/module_utils/urls.py b/lib/ansible/module_utils/urls.py
index 2e6808b4e6..d80ea76bf8 100644
--- a/lib/ansible/module_utils/urls.py
+++ b/lib/ansible/module_utils/urls.py
@@ -154,6 +154,7 @@ class SSLValidationHandler(urllib2.BaseHandler):
                         try:
                             cert_file = open(full_path, 'r')
                             os.write(tmp_fd, cert_file.read())
+                            os.write(tmp_fd, '\n')
                             cert_file.close()
                         except:
                             pass
