commit 7a5076c8b841df80692ce7760c2a7b3b49a1cfe1
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jul 30 14:47:50 2014 -0500

    Catching shlex splitting error in fact gathering get_cmdline call
    
    Fixes #8352

diff --git a/lib/ansible/module_utils/facts.py b/lib/ansible/module_utils/facts.py
index 98e88bc4cd..c1eaaaa722 100644
--- a/lib/ansible/module_utils/facts.py
+++ b/lib/ansible/module_utils/facts.py
@@ -327,12 +327,15 @@ class Facts(object):
         data = get_file_content('/proc/cmdline')
         if data:
             self.facts['cmdline'] = {}
-            for piece in shlex.split(data):
-                item = piece.split('=', 1)
-                if len(item) == 1:
-                    self.facts['cmdline'][item[0]] = True
-                else:
-                    self.facts['cmdline'][item[0]] = item[1]
+            try:
+                for piece in shlex.split(data):
+                    item = piece.split('=', 1)
+                    if len(item) == 1:
+                        self.facts['cmdline'][item[0]] = True
+                    else:
+                        self.facts['cmdline'][item[0]] = item[1]
+            except ValueError, e:
+                pass
 
     def get_public_ssh_host_keys(self):
         dsa_filename = '/etc/ssh/ssh_host_dsa_key.pub'
