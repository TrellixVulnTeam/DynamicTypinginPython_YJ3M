commit 968bedd8c2309c4cb9cbc97e4c40775513661031
Author: Patryk D. Cichy <patryk.d.cichy@gmail.com>
Date:   Tue Mar 19 08:10:05 2019 +0100

    Add an integration test for deleting image stores in check mode (#54015)

diff --git a/test/integration/targets/cs_image_store/tasks/main.yml b/test/integration/targets/cs_image_store/tasks/main.yml
index d8a916f2eb..8d1eaa0706 100644
--- a/test/integration/targets/cs_image_store/tasks/main.yml
+++ b/test/integration/targets/cs_image_store/tasks/main.yml
@@ -122,6 +122,21 @@
       - "ss.name == 'storage_pool_adv'"
       - "ss.zone == cs_common_zone_adv"
 
+- name: delete the image store in check_mode
+  cs_image_store:
+    name: "storage_pool_adv"
+    zone: "{{ cs_common_zone_adv }}"
+    state: absent
+  register: ss
+  check_mode: yes
+- name: verify results for delete the image store in check_mode
+  assert:
+    that:
+      - ss is successful
+      - ss is changed
+      - "ss.name == 'storage_pool_adv'"
+      - "ss.zone == cs_common_zone_adv"
+
 - name: delete the image store
   cs_image_store:
     name: "storage_pool_adv"
