commit b07113f358710008fdace2026b2373592608ef0c
Author: Till Maas <opensource@till.name>
Date:   Mon Mar 31 13:20:00 2014 +0200

    ssh: Properly check for wrong su password

diff --git a/lib/ansible/runner/connection_plugins/ssh.py b/lib/ansible/runner/connection_plugins/ssh.py
index 876f206384..4b9ea6307a 100644
--- a/lib/ansible/runner/connection_plugins/ssh.py
+++ b/lib/ansible/runner/connection_plugins/ssh.py
@@ -161,7 +161,7 @@ class Connection(object):
                 if stdout.endswith("%s\r\n%s" % (incorrect_password, prompt)):
                     raise errors.AnsibleError('Incorrect sudo password')
 
-            if self.runner.su and su and self.runner.sudo_pass:
+            if self.runner.su and su and self.runner.su_pass:
                 incorrect_password = gettext.dgettext(
                     "su", "Sorry")
                 if stdout.endswith("%s\r\n%s" % (incorrect_password, prompt)):
