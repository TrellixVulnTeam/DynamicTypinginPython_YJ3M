commit 266d2008d8a97494d159d8e3a907e6c01e12c8a6
Author: James Cammarata <jimi@sngx.net>
Date:   Sun Sep 1 08:53:59 2013 -0500

    Reverting the role default variables change
    
    Loading the default variables in _build_role_dependencies() lead to
    a side-effect where those variables were over-riding inventory variables.

diff --git a/lib/ansible/playbook/play.py b/lib/ansible/playbook/play.py
index 6c697e684d..cca8acbfb6 100644
--- a/lib/ansible/playbook/play.py
+++ b/lib/ansible/playbook/play.py
@@ -169,12 +169,6 @@ class Play(object):
                 vars_data = utils.parse_yaml_from_file(vars)
                 if vars_data:
                     role_vars = utils.combine_vars(vars_data, role_vars)
-            defaults = self._resolve_main(utils.path_dwim(self.basedir, os.path.join(role_path, 'defaults')))
-            defs_data = {}
-            if os.path.isfile(defaults):
-                defs_data = utils.parse_yaml_from_file(defaults)
-                if defs_data:
-                    role_vars = utils.combine_vars(defs_data, role_vars)
             # the meta directory contains the yaml that should
             # hold the list of dependencies (if any)
             meta = self._resolve_main(utils.path_dwim(self.basedir, os.path.join(role_path, 'meta')))
@@ -202,12 +196,6 @@ class Play(object):
                             vars_data = utils.parse_yaml_from_file(vars)
                             if vars_data:
                                 dep_vars = utils.combine_vars(vars_data, dep_vars)
-                        defaults = self._resolve_main(utils.path_dwim(self.basedir, os.path.join(dep_path, 'defaults')))
-                        defs_data = {}
-                        if os.path.isfile(defaults):
-                            defs_data = utils.parse_yaml_from_file(defaults)
-                            if defs_data:
-                                dep_vars = utils.combine_vars(defs_data, dep_vars)
                         if 'role' in dep_vars:
                             del dep_vars['role']
                         self._build_role_dependencies([dep], dep_stack, passed_vars=dep_vars, level=level+1)
