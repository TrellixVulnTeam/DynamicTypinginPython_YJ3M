commit 7a19a46e2481fb2d54268453a09353daf394b74d
Author: cocoy <imcocoy@gmail.com>
Date:   Wed Apr 25 21:02:44 2012 +0800

    Bugfix for issue no. 229

diff --git a/library/setup b/library/setup
index 20f3d33902..291d5f000c 100755
--- a/library/setup
+++ b/library/setup
@@ -295,7 +295,7 @@ except:
        (k,v) = opt.split("=")
        setup_options[k]=v   
 
-ansible_file = setup_options.get('metadata', DEFAULT_ANSIBLE_SETUP)
+ansible_file = os.path.expandvars(setup_options.get('metadata', DEFAULT_ANSIBLE_SETUP))
 ansible_dir = os.path.dirname(ansible_file)
 
 # create the config dir if it doesn't exist
