commit c6b3f2c848c0236a8f7bc1096d424d27635d62e3
Author: Chanwit Kaewkasi <chanwit@gmail.com>
Date:   Tue Jan 29 03:38:02 2019 +0700

    change the default value of user to null (#51376)
    
    Change the default value of user from root to null to conform the current Docker behavior and the current Ansible documentation.

diff --git a/lib/ansible/modules/cloud/docker/docker_swarm_service.py b/lib/ansible/modules/cloud/docker/docker_swarm_service.py
index 2889d8373c..56f544fcbf 100644
--- a/lib/ansible/modules/cloud/docker/docker_swarm_service.py
+++ b/lib/ansible/modules/cloud/docker/docker_swarm_service.py
@@ -1047,7 +1047,7 @@ class DockerServiceManager():
         update_config_data = raw_data['Spec']['UpdateConfig']
 
         ds.image = task_template_data['ContainerSpec']['Image']
-        ds.user = task_template_data['ContainerSpec'].get('User', 'root')
+        ds.user = task_template_data['ContainerSpec'].get('User', None)
         ds.env = task_template_data['ContainerSpec'].get('Env', [])
         ds.command = task_template_data['ContainerSpec'].get('Command')
         ds.args = task_template_data['ContainerSpec'].get('Args', [])
