commit f66c74915c3e1ab5c8c1577c3eafab895e5f72ee
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Sep 20 21:32:15 2017 -0700

    Fix docker_service python3 incompatibility
    
    Looks like this is supposed to operate on native strings so there's no
    need to encode or decode at all here
    
    Fixes #30354

diff --git a/lib/ansible/modules/cloud/docker/docker_service.py b/lib/ansible/modules/cloud/docker/docker_service.py
index eb1a88cfbb..c9580ddb24 100755
--- a/lib/ansible/modules/cloud/docker/docker_service.py
+++ b/lib/ansible/modules/cloud/docker/docker_service.py
@@ -520,7 +520,7 @@ def get_redirected_output(path_name):
     with open(path_name, 'r') as fd:
         for line in fd:
             # strip terminal format/color chars
-            new_line = re.sub(r'\x1b\[.+m', '', line.encode('ascii'))
+            new_line = re.sub(r'\x1b\[.+m', '', line)
             output.append(new_line)
     fd.close()
     os.remove(path_name)
