commit fac762623070b3306eaa2ad5be0b3564d418e7a6
Author: Abhijit Menon-Sen <ams@2ndQuadrant.com>
Date:   Thu Nov 26 19:26:03 2015 +0530

    Use CLI.expand_tilde also for the vault --output file

diff --git a/lib/ansible/cli/__init__.py b/lib/ansible/cli/__init__.py
index 76bbc6b8a8..da4d1b92d3 100644
--- a/lib/ansible/cli/__init__.py
+++ b/lib/ansible/cli/__init__.py
@@ -250,7 +250,8 @@ class CLI(object):
             parser.add_option('--new-vault-password-file', dest='new_vault_password_file',
                 help="new vault password file for rekey", action="callback", callback=CLI.expand_tilde, type=str)
             parser.add_option('--output', default=None, dest='output_file',
-                help='output file name for encrypt or decrypt; use - for stdout')
+                help='output file name for encrypt or decrypt; use - for stdout',
+                action="callback", callback=CLI.expand_tilde, type=str)
 
         if subset_opts:
             parser.add_option('-t', '--tags', dest='tags', default='all',
