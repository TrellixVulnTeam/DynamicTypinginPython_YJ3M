commit 4618583f2fd861505b52df2d79655c5332aad639
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Wed Aug 8 15:11:25 2018 +0530

    Update eos clcionf plugin (#43809)
    
    * If the remote host supports session
      capability set the `supports_generate_diff`
      flag to false which identifies if config diff should
      be generated within module or not

diff --git a/lib/ansible/plugins/cliconf/eos.py b/lib/ansible/plugins/cliconf/eos.py
index c59f24069a..af9fcf046e 100644
--- a/lib/ansible/plugins/cliconf/eos.py
+++ b/lib/ansible/plugins/cliconf/eos.py
@@ -275,7 +275,7 @@ class Cliconf(CliconfBase):
             'supports_multiline_delimiter': False,
             'supports_diff_match': True,
             'supports_diff_ignore_lines': True,
-            'supports_generate_diff': True,
+            'supports_generate_diff': False if self.supports_sessions else True,
             'supports_replace': True if self.supports_sessions else False
         }
 
