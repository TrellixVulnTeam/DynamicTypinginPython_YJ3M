commit 46c6eb37d0b19354f58aea37aeb6c9c35fce01d7
Author: Rene Moser <mail@renemoser.net>
Date:   Fri Jun 16 17:17:38 2017 +0200

    vars: fix typo s/path/spath

diff --git a/lib/ansible/plugins/vars/host_group_vars.py b/lib/ansible/plugins/vars/host_group_vars.py
index 9177f27c26..73aeec881c 100644
--- a/lib/ansible/plugins/vars/host_group_vars.py
+++ b/lib/ansible/plugins/vars/host_group_vars.py
@@ -123,7 +123,7 @@ class VarsModule(BaseVarsPlugin):
         for spath in os.listdir(path):
             if not spath.startswith('.'):  # skip hidden
 
-                ext = os.path.splitext(path)[-1]
+                ext = os.path.splitext(spath)[-1]
                 full_spath = os.path.join(path, spath)
 
                 if os.path.isdir(full_spath) and not ext:  # recursive search if dir
