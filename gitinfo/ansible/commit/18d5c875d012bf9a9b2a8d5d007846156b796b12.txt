commit 18d5c875d012bf9a9b2a8d5d007846156b796b12
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Fri Aug 24 20:47:55 2012 +0200

    Change wait_for return message to be machine readable.

diff --git a/library/wait_for b/library/wait_for
index 0c6045e0a4..8a20bb3c49 100644
--- a/library/wait_for
+++ b/library/wait_for
@@ -72,7 +72,7 @@ def main():
         else:
             module.fail_json(msg="Timeout when waiting for %s"%(host))
 
-    module.exit_json(msg="State of %s on %s is %s."%(host, port, state))
+    module.exit_json(state=state, port=port)
 
 # this is magic, see lib/ansible/module_common.py
 #<<INCLUDE_ANSIBLE_MODULE_COMMON>>
