commit 2e4dcc9dda8a1cac000ea9eca32625cd3ba1b5d1
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Thu Oct 5 15:32:43 2017 +0530

    Fix nxos terminal regex to parse xml response (#31283)
    
    Fixes #26130
    
    Modify nxos terminal regex to parse a xml response.

diff --git a/lib/ansible/plugins/terminal/nxos.py b/lib/ansible/plugins/terminal/nxos.py
index 22ca2adcea..5559bbe1ee 100644
--- a/lib/ansible/plugins/terminal/nxos.py
+++ b/lib/ansible/plugins/terminal/nxos.py
@@ -28,7 +28,7 @@ from ansible.errors import AnsibleConnectionFailure
 class TerminalModule(TerminalBase):
 
     terminal_stdout_re = [
-        re.compile(br'[\r\n]?[a-zA-Z]{1}[a-zA-Z0-9-_.]*[>|#|%](?:\s*)$'),
+        re.compile(br'[\r\n](?!\s*<)?[a-zA-Z_]{1}[a-zA-Z0-9-_.]*[>|#|%](?:\s*)$'),
         re.compile(br'[\r\n]?[a-zA-Z]{1}[a-zA-Z0-9-_.]*\(.+\)#(?:\s*)$')
     ]
 
