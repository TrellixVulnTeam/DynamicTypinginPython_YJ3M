commit 70f56c135cbb14e4b7206594695e1623dcc1d6c8
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Fri Mar 13 11:44:58 2015 -0700

    Port #10357 to v2

diff --git a/v2/ansible/module_utils/facts.py b/v2/ansible/module_utils/facts.py
index 6d602af736..d18615857c 100644
--- a/v2/ansible/module_utils/facts.py
+++ b/v2/ansible/module_utils/facts.py
@@ -2288,7 +2288,7 @@ class LinuxVirtual(Virtual):
 
         if os.path.exists('/proc/1/cgroup'):
             for line in get_file_lines('/proc/1/cgroup'):
-                if re.search('/docker/', line):
+                if re.search(r'/docker(/|-[0-9a-f]+\.scope)', line):
                     self.facts['virtualization_type'] = 'docker'
                     self.facts['virtualization_role'] = 'guest'
                     return
