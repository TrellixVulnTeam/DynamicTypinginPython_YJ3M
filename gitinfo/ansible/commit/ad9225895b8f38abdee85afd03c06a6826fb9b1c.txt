commit ad9225895b8f38abdee85afd03c06a6826fb9b1c
Author: Konstantin Shabanov <mail@etehtsea.me>
Date:   Wed May 14 18:11:43 2014 +0400

    Fix env splitting in docker module
    
    ENV variable value could contain '=' (for example mysql://host/db?pool=10)

diff --git a/library/cloud/docker b/library/cloud/docker
index f9aabf21a9..590e86dd06 100644
--- a/library/cloud/docker
+++ b/library/cloud/docker
@@ -384,7 +384,7 @@ class DockerManager:
 
         self.env = None
         if self.module.params.get('env'):
-            self.env = dict(map(lambda x: x.split("="), self.module.params.get('env')))
+            self.env = dict(map(lambda x: x.split("=", 1), self.module.params.get('env')))
 
         # connect to docker server
         docker_url = urlparse(module.params.get('docker_url'))
