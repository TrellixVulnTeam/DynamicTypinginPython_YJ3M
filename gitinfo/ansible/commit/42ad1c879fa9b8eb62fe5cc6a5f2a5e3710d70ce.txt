commit 42ad1c879fa9b8eb62fe5cc6a5f2a5e3710d70ce
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Wed Aug 1 14:44:26 2012 -0700

    Fix service module for issue 755 and another bug
    
    Allow use of service module with just enable parameter, per issue #755.
    Also fixed two other issues:
    - fixed parameter to be 'enabled' per docs, not 'enable'.
    - fixed if block that checks whether to run _do_enable() to check
      whether the parameter is set, not the value of the enable value which
      may be None or False.  If enabled=no, the service would never be
      disabled.

diff --git a/library/service b/library/service
index 3909cfebd7..c209c76580 100755
--- a/library/service
+++ b/library/service
@@ -132,14 +132,14 @@ def main():
     module = AnsibleModule(
         argument_spec = dict(
             name = dict(required=True),
-            state = dict(required=True, choices=['running', 'started', 'stopped', 'restarted', 'reloaded']),
-            enable = dict(choices=BOOLEANS)
+            state = dict(choices=['running', 'started', 'stopped', 'restarted', 'reloaded']),
+            enabled = dict(choices=BOOLEANS)
         )
     )
 
     name = module.params['name']
     state = module.params['state']
-    enable = module.boolean(module.params.get('enable', None))
+    enable = module.boolean(module.params.get('enabled', None))
 
     # ===========================================
     # find binaries locations on minion
@@ -156,7 +156,7 @@ def main():
     err = ''
     out = ''
     
-    if enable:
+    if module.params['enabled']:
         rc_enable, out_enable, err_enable = _do_enable(name, enable)
         rc += rc_enable
         out += out_enable
