commit 68510ecda86e8e0faa4940b6ac5c45ba9a703b2b
Author: Brian Coca <bcoca@ansible.com>
Date:   Sat Mar 1 21:56:02 2014 -0500

    added better gentoo/funtoo support

diff --git a/library/system/setup b/library/system/setup
index 1c51e52162..4328195b75 100644
--- a/library/system/setup
+++ b/library/system/setup
@@ -119,6 +119,7 @@ class Facts(object):
                     '/etc/release': 'Solaris',
                     '/etc/arch-release': 'Archlinux',
                     '/etc/SuSE-release': 'SuSE',
+                    '/etc/gentoo-release': 'Gentoo',
                     '/etc/os-release': 'Debian' }
     SELINUX_MODE_DICT = { 1: 'enforcing', 0: 'permissive', -1: 'disabled' }
 
@@ -136,6 +137,7 @@ class Facts(object):
                  { 'path' : '/sbin/apk',            'name' : 'apk' },
                  { 'path' : '/usr/sbin/pkg',        'name' : 'pkgng' },
                  { 'path' : '/usr/sbin/swlist',     'name' : 'SD-UX' },
+                 { 'path' : '/usr/bin/emerge',      'name' : 'portage' },
     ]
 
     def __init__(self):
@@ -244,7 +246,7 @@ class Facts(object):
             SLC = 'RedHat', Ascendos = 'RedHat', CloudLinux = 'RedHat', PSBM = 'RedHat',
             OracleLinux = 'RedHat', OVS = 'RedHat', OEL = 'RedHat', Amazon = 'RedHat',
             XenServer = 'RedHat', Ubuntu = 'Debian', Debian = 'Debian', SLES = 'Suse',
-            SLED = 'Suse', OpenSuSE = 'Suse', SuSE = 'Suse', Gentoo = 'Gentoo',
+            SLED = 'Suse', OpenSuSE = 'Suse', SuSE = 'Suse', Gentoo = 'Gentoo', Funtoo = 'Gentoo',
             Archlinux = 'Archlinux', Mandriva = 'Mandrake', Mandrake = 'Mandrake',
             Solaris = 'Solaris', Nexenta = 'Solaris', OmniOS = 'Solaris', OpenIndiana = 'Solaris',
             SmartOS = 'Solaris', AIX = 'AIX', Alpine = 'Alpine', MacOSX = 'Darwin',
