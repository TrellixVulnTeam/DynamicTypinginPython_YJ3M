commit 22639a2a225c66ef18bcac09cb51e2c83ecebcd1
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Sep 9 18:28:39 2015 -0400

    Fix mistake in fact setting to nonpersistent cache in VariableManager
    
    Fixes #12301

diff --git a/lib/ansible/vars/__init__.py b/lib/ansible/vars/__init__.py
index 491b99a804..658f0250d7 100644
--- a/lib/ansible/vars/__init__.py
+++ b/lib/ansible/vars/__init__.py
@@ -390,7 +390,7 @@ class VariableManager:
 
         assert isinstance(facts, dict)
 
-        if host.name not in self._fact_cache:
+        if host.name not in self._nonpersistent_fact_cache:
             self._nonpersistent_fact_cache[host.name] = facts
         else:
             try:
