commit b35d4d7a19435bc141fcaf80a8e08d67785c4dbd
Author: Thomas Sjögren <konstruktoid@users.noreply.github.com>
Date:   Wed Sep 28 00:16:38 2016 +0200

    add tag grouping
    
    Signed-off-by: Thomas Sjögren <konstruktoid@users.noreply.github.com>

diff --git a/contrib/inventory/digital_ocean.py b/contrib/inventory/digital_ocean.py
index aaa0b94d5b..a1871f4d89 100755
--- a/contrib/inventory/digital_ocean.py
+++ b/contrib/inventory/digital_ocean.py
@@ -401,6 +401,11 @@ or environment variables (DO_API_TOKEN)\n''')
                         self.inventory[image] = { 'hosts': [ ], 'vars': {} }
                     self.inventory[image]['hosts'].append(dest)
 
+            if droplet['tags']:
+                for tag in droplet['tags']:
+                    if tag not in self.inventory:
+                        self.inventory[tag] = { 'hosts': [ ], 'vars': {} }
+                    self.inventory[tag]['hosts'].append(dest)
 
 
     def load_droplet_variables_for_host(self):
