commit 18d9715fb1cb13b3654e6e2acbc491f1df2aa0fd
Author: Zim Kalinowski <zikalino@microsoft.com>
Date:   Fri Mar 22 15:21:53 2019 +0800

    Fix CosmosDB parameter translation bug (#54212)

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_cosmosdbaccount.py b/lib/ansible/modules/cloud/azure/azure_rm_cosmosdbaccount.py
index daf106c9f2..6a530e38de 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_cosmosdbaccount.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_cosmosdbaccount.py
@@ -324,7 +324,14 @@ class AzureRMCosmosDBAccount(AzureRMModuleBase):
             elif kwargs[key] is not None:
                 self.parameters[key] = kwargs[key]
 
-        dict_camelize(self.parameters, ['kind'], True)
+        kind = self.parameters.get('kind')
+        if kind == 'global_document_db':
+            self.parameters['kind'] = 'GlobalDocumentDB'
+        elif kind == 'mongo_db':
+            self.parameters['kind'] = 'MongoDB'
+        elif kind == 'parse':
+            self.parameters['kind'] = 'Parse'
+
         dict_camelize(self.parameters, ['consistency_policy', 'default_consistency_level'], True)
         dict_rename(self.parameters, ['geo_rep_locations', 'name'], 'location_name')
         dict_rename(self.parameters, ['geo_rep_locations'], 'locations')
diff --git a/test/integration/targets/azure_rm_cosmosdbaccount/tasks/main.yml b/test/integration/targets/azure_rm_cosmosdbaccount/tasks/main.yml
index 9bb7a2d55b..cebf4e80fd 100644
--- a/test/integration/targets/azure_rm_cosmosdbaccount/tasks/main.yml
+++ b/test/integration/targets/azure_rm_cosmosdbaccount/tasks/main.yml
@@ -44,6 +44,7 @@
     resource_group: "{{ resource_group }}"
     name: "{{ dbname }}"
     location: eastus
+    kind: global_document_db
     geo_rep_locations:
       - name: eastus
         failover_priority: 0
@@ -68,6 +69,7 @@
     resource_group: "{{ resource_group }}"
     name: "{{ dbname }}"
     location: eastus
+    kind: global_document_db
     geo_rep_locations:
       - name: eastus
         failover_priority: 0
@@ -92,6 +94,7 @@
     resource_group: "{{ resource_group }}"
     name: "{{ dbname }}"
     location: eastus
+    kind: global_document_db
     geo_rep_locations:
       - name: eastus
         failover_priority: 0
