commit 2232232b4525336ebebcb4cee683095a48ac2775
Author: chkp-orso <47325598+chkp-orso@users.noreply.github.com>
Date:   Wed Sep 18 17:29:59 2019 +0200

    fix delete to pass the right parameters (#62525)

diff --git a/lib/ansible/module_utils/network/checkpoint/checkpoint.py b/lib/ansible/module_utils/network/checkpoint/checkpoint.py
index 2d5419c8e0..123d0ff949 100644
--- a/lib/ansible/module_utils/network/checkpoint/checkpoint.py
+++ b/lib/ansible/module_utils/network/checkpoint/checkpoint.py
@@ -48,6 +48,8 @@ checkpoint_argument_spec_for_commands = dict(
     version=dict(type='str')
 )
 
+delete_params = ['name', 'uid', 'layer', 'exception-group-name', 'layer', 'rule-name']
+
 
 # send the request to checkpoint
 def send_request(connection, version, url, payload=None):
@@ -229,7 +231,8 @@ def api_call(module, api_call_object):
             result[api_call_object] = response
     elif module.params['state'] == 'absent':
         if equals_code == 200:
-            code, response = send_request(connection, version, 'delete-' + api_call_object, payload)
+            payload_for_delete = get_copy_payload_with_some_params(payload, delete_params)
+            code, response = send_request(connection, version, 'delete-' + api_call_object, payload_for_delete)
             if code != 200:
                 module.fail_json(msg=response)
 
@@ -397,7 +400,8 @@ def api_call_for_rule(module, api_call_object):
             result[api_call_object] = response
     elif module.params['state'] == 'absent':
         if equals_code == 200:
-            code, response = send_request(connection, version, 'delete-' + api_call_object, payload)
+            payload_for_delete = get_copy_payload_with_some_params(payload, delete_params)
+            code, response = send_request(connection, version, 'delete-' + api_call_object, payload_for_delete)
             if code != 200:
                 module.fail_json(msg=response)
 
