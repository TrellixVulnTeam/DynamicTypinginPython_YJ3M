commit 859b6a65262b4a0335176165bb34941c385253c8
Author: Julian Kornberger <jk+github@digineo.de>
Date:   Sat Nov 24 17:20:57 2018 +0100

    Fix virt role detection for Hetzner cloud servers (#42023)
    
    See also https://wiki.hetzner.de/index.php/CloudServer/en

diff --git a/lib/ansible/module_utils/facts/virtual/linux.py b/lib/ansible/module_utils/facts/virtual/linux.py
index 9d31b0c3b0..0ebfcc34f0 100644
--- a/lib/ansible/module_utils/facts/virtual/linux.py
+++ b/lib/ansible/module_utils/facts/virtual/linux.py
@@ -114,7 +114,7 @@ class LinuxVirtual(Virtual):
             virtual_facts['virtualization_role'] = 'guest'
             return virtual_facts
 
-        if bios_vendor == 'Amazon EC2':
+        if bios_vendor in ['Amazon EC2', 'Hetzner']:
             virtual_facts['virtualization_type'] = 'kvm'
             virtual_facts['virtualization_role'] = 'guest'
             return virtual_facts
