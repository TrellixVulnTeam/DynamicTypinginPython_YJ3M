commit ecc0b0770cf34e00ac99cb2c17bb3014066fc747
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Tue May 15 14:26:43 2012 +0200

    If /usr/share/dict/words does not exist, use cracklib-small to test large output.

diff --git a/test/TestRunner.py b/test/TestRunner.py
index be59be3b11..e97e9d6ce4 100644
--- a/test/TestRunner.py
+++ b/test/TestRunner.py
@@ -164,8 +164,13 @@ class TestRunner(unittest.TestCase):
         assert result['rc'] == 0
 
     def test_large_output(self):
+        large_path = "/usr/share/dict/words"
+        if not os.path.exists(large_path):
+            large_path = "/usr/share/dict/cracklib-small"
+            if not os.path.exists(large_path):
+                raise SkipTest
         # Ensure reading a large amount of output from a command doesn't hang.
-        result = self._run('command', [ "/bin/cat", "/usr/share/dict/words" ])
+        result = self._run('command', [ "/bin/cat", large_path ])
         assert "failed" not in result
         assert "msg" not in result
         assert result['rc'] == 0
