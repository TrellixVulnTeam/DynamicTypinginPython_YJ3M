commit 50adda50962cf1a3d1b6aacc94d669df80be97a6
Author: Adam Miller <admiller@redhat.com>
Date:   Fri Aug 16 17:29:57 2013 -0500

    added version checking, doesn't work in older versions

diff --git a/library/net_infrastructure/firewalld b/library/net_infrastructure/firewalld
index 5e16ac4734..531e48a539 100644
--- a/library/net_infrastructure/firewalld
+++ b/library/net_infrastructure/firewalld
@@ -59,7 +59,7 @@ options:
     default: 0
 notes:
    - Not tested on any debian based system
-requirements: [ firewalld ]
+requirements: [ firewalld >= 0.2.11 ]
 author: Adam Miller <maxamillion@fedoraproject.org>
 '''
 
@@ -74,6 +74,9 @@ import re
 import sys
 
 try:
+    import firewall.config
+    FW_VERSION = firewall.config.VERSION
+
     from firewall.client import FirewallClient
     fw = FirewallClient()
 except ImportError:
@@ -165,6 +168,10 @@ def main():
         supports_check_mode=True
     )
 
+    ## Pre-run version checking
+    if FW_VERSION < "0.2.11":
+        module.fail_json(msg='unsupported version of firewalld, requires >= 2.0.11')
+
     ## Global Vars
     changed=False
     msgs = []
