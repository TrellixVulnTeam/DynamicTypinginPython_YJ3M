commit 00bed0eb1c2ed22a7b56078b9e7911756182ac92
Author: Jannik Vieten <me@exploide.net>
Date:   Tue Feb 18 12:14:20 2020 +0100

    facts virtual: detect KVM when product_name is 'KVM Server' (#66780)
    
    * facts virtual: detect KVM when product_name is 'KVM Server'
    
    * added changelog fragment for "facts virtual: detect KVM when product_name is 'KVM Server'"

diff --git a/changelogs/fragments/66780-facts-detect-kvm-server.yml b/changelogs/fragments/66780-facts-detect-kvm-server.yml
new file mode 100644
index 0000000000..758727a504
--- /dev/null
+++ b/changelogs/fragments/66780-facts-detect-kvm-server.yml
@@ -0,0 +1,2 @@
+bugfixes:
+  - facts - fix detection of virtualization type when dmi product name is KVM Server
diff --git a/lib/ansible/module_utils/facts/virtual/linux.py b/lib/ansible/module_utils/facts/virtual/linux.py
index fdbcbc3394..e133df4295 100644
--- a/lib/ansible/module_utils/facts/virtual/linux.py
+++ b/lib/ansible/module_utils/facts/virtual/linux.py
@@ -93,7 +93,7 @@ class LinuxVirtual(Virtual):
 
         product_name = get_file_content('/sys/devices/virtual/dmi/id/product_name')
 
-        if product_name in ('KVM', 'Bochs', 'AHV'):
+        if product_name in ('KVM', 'KVM Server', 'Bochs', 'AHV'):
             virtual_facts['virtualization_type'] = 'kvm'
             return virtual_facts
 
