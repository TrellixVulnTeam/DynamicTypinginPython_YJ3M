commit 6b017db05be3acf943494f7d6a9b36719ad7e870
Author: bitchkat <kjh@flyballdogs.com>
Date:   Sat Feb 15 08:42:32 2020 -0600

    support rabbitmq 3.8.x in version check (#66855)
    
    * support rabbitmq 3.8.x in version check
    
    * Removed extraneous white space

diff --git a/lib/ansible/modules/messaging/rabbitmq/rabbitmq_policy.py b/lib/ansible/modules/messaging/rabbitmq/rabbitmq_policy.py
index 67c66f6f73..e72c13696b 100644
--- a/lib/ansible/modules/messaging/rabbitmq/rabbitmq_policy.py
+++ b/lib/ansible/modules/messaging/rabbitmq/rabbitmq_policy.py
@@ -125,10 +125,16 @@ class RabbitMqPolicy(object):
     def _rabbit_version(self):
         status = self._exec(['status'], True, False, False)
 
+        # 3.7.x erlang style output
         version_match = re.search('{rabbit,".*","(?P<version>.*)"}', status)
         if version_match:
             return Version(version_match.group('version'))
 
+        # 3.8.x style ouput
+        version_match = re.search('RabbitMQ version: (?P<version>.*)', status)
+        if version_match:
+            return Version(version_match.group('version'))
+
         return None
 
     def _list_policies(self):
