commit eb53f3c1298c305e6eb094dde1bade2f3bd067ff
Author: Eric L <ericzolf@users.noreply.github.com>
Date:   Wed May 31 22:35:28 2017 +0200

    Fix inventory script for Foreman where group by pattern are not propeâ€¦ (#25173)
    
    * Fix inventory script for Foreman where group by pattern are not properly safe-guarded.
    
    * Fix pep8 error about tab mixed with blanks.

diff --git a/contrib/inventory/foreman.py b/contrib/inventory/foreman.py
index 52c19dce41..e0ca11a21d 100755
--- a/contrib/inventory/foreman.py
+++ b/contrib/inventory/foreman.py
@@ -262,12 +262,9 @@ class ForemanInventory(object):
 
             # Ansible groups by parameters in host groups and Foreman host
             # attributes.
-            groupby = copy.copy(params)
-            for k, v in host.items():
-                if isinstance(v, str):
-                    groupby[k] = self.to_safe(v)
-                elif isinstance(v, int):
-                    groupby[k] = v
+            groupby = dict()
+            for k, v in params.items():
+                groupby[k] = self.to_safe(str(v))
 
             # The name of the ansible groups is given by group_patterns:
             for pattern in self.group_patterns:
