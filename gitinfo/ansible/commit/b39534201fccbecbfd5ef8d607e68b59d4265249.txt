commit b39534201fccbecbfd5ef8d607e68b59d4265249
Author: Sloane Hertel <shertel@redhat.com>
Date:   Mon Feb 19 17:12:56 2018 -0500

    [cloud] If inventory file isn't able to be parsed by aws_ec2, raise an AnsibleParserError (#36387)
    
    * If inventory file isn't able to be parsed by aws_ec2, return an empty dict instead of None
    
    * Raise an AnsibleParserError instead
    
    * remove extra lines
    
    * aws_ec2 inventory plugin - fix path matching logic

diff --git a/lib/ansible/plugins/inventory/aws_ec2.py b/lib/ansible/plugins/inventory/aws_ec2.py
index 7d22757d67..6254abdc22 100644
--- a/lib/ansible/plugins/inventory/aws_ec2.py
+++ b/lib/ansible/plugins/inventory/aws_ec2.py
@@ -451,10 +451,9 @@ class InventoryModule(BaseInventoryPlugin, Constructable, Cacheable):
             :return the contents of the config file
         '''
         if super(InventoryModule, self).verify_file(path):
-            if path.endswith('.aws_ec2.yml' or '.aws_ec2.yaml'):
+            if path.endswith('.aws_ec2.yml') or path.endswith('.aws_ec2.yaml'):
                 return self._read_config_data(path)
-        else:
-            raise AnsibleParserError("Not a ec2 inventory plugin configuration file")
+        raise AnsibleParserError("Not a ec2 inventory plugin configuration file")
 
     def _get_query_options(self, config_data):
         '''
