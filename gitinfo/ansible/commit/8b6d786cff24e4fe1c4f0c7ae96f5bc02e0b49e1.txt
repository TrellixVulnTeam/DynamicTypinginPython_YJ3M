commit 8b6d786cff24e4fe1c4f0c7ae96f5bc02e0b49e1
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Mon Mar 13 17:41:38 2017 +0530

    Fix junos prompt issue (#22536)
    
    Need to handle junos shell prompt
    that end's with '%'

diff --git a/lib/ansible/plugins/terminal/junos.py b/lib/ansible/plugins/terminal/junos.py
index a5b539e9f9..d3c6d0caa4 100644
--- a/lib/ansible/plugins/terminal/junos.py
+++ b/lib/ansible/plugins/terminal/junos.py
@@ -35,7 +35,7 @@ except ImportError:
 class TerminalModule(TerminalBase):
 
     terminal_stdout_re = [
-        re.compile(r"[\r\n]?[\w+\-\.:\/\[\]]+(?:\([^\)]+\)){,3}(?:>|#) ?$"),
+        re.compile(r"[\r\n]?[\w+\-\.:\/\[\]]+(?:\([^\)]+\)){,3}(?:>|#) ?$|%"),
     ]
 
     terminal_stderr_re = [
