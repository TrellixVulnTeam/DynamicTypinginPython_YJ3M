commit 307a3e8a9ce4109998919678d0615fa2b0da9756
Author: Dan Slimmon <dan.slimmon@gmail.com>
Date:   Thu Jul 10 00:08:12 2014 +0000

    Fixed regex square-bracket bug.
    
    Regexes were being parsed like ordinary ansible host patterns, so
    square-bracket groups were getting interpolated wrongly.

diff --git a/lib/ansible/inventory/__init__.py b/lib/ansible/inventory/__init__.py
index 830d74c01e..64bae5d815 100644
--- a/lib/ansible/inventory/__init__.py
+++ b/lib/ansible/inventory/__init__.py
@@ -235,6 +235,10 @@ class Inventory(object):
         a tuple of (start, stop) or None
         """
 
+        # Do not parse regexes for enumeration info
+        if pattern.startswith('~'):
+            return (pattern, None)
+
         # The regex used to match on the range, which can be [x] or [x-y].
         pattern_re = re.compile("^(.*)\[([-]?[0-9]+)(?:(?:-)([0-9]+))?\](.*)$")
         m = pattern_re.match(pattern)
