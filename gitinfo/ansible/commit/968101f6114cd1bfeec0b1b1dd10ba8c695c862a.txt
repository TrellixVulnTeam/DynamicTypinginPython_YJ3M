commit 968101f6114cd1bfeec0b1b1dd10ba8c695c862a
Author: Michael Scherer <misc@zarb.org>
Date:   Mon Sep 19 17:58:20 2016 +0200

    Fix #17624 (#17627)
    
    Even if the size of the network is 0, it should have a netmask.

diff --git a/lib/ansible/plugins/filter/ipaddr.py b/lib/ansible/plugins/filter/ipaddr.py
index 46157e8bbb..32b6017e12 100644
--- a/lib/ansible/plugins/filter/ipaddr.py
+++ b/lib/ansible/plugins/filter/ipaddr.py
@@ -163,8 +163,7 @@ def _net_query(v):
             return str(v.network) + '/' + str(v.prefixlen)
 
 def _netmask_query(v):
-    if v.size > 1:
-        return str(v.netmask)
+    return str(v.netmask)
 
 def _network_query(v):
     if v.size > 1:
