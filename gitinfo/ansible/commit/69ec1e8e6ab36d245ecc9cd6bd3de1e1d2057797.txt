commit 69ec1e8e6ab36d245ecc9cd6bd3de1e1d2057797
Author: Matt Martz <matt@sivel.net>
Date:   Tue Dec 22 10:52:03 2015 -0600

    Check for requests imports. Fixes #12

diff --git a/ansible_testing/modules.py b/ansible_testing/modules.py
index d67beb7fd8..1196d699e9 100644
--- a/ansible_testing/modules.py
+++ b/ansible_testing/modules.py
@@ -196,6 +196,16 @@ class ModuleValidator(Validator):
                                              'already provided by '
                                              'ansible.module_utils.basic')
 
+    def _find_requests_import(self):
+        for child in self.ast.body:
+            if isinstance(child, ast.Import):
+                for name in child.names:
+                    if name.name == 'requests':
+                        self.errors.append('requests import found, '
+                                           'should use '
+                                           'ansible.module_utils.urls '
+                                           'instead')
+
     def _find_module_utils(self, main):
         linenos = []
         for child in self.ast.body:
@@ -401,6 +411,7 @@ class ModuleValidator(Validator):
         if self._python_module() and not self._just_docs():
             self._check_for_sys_exit()
             self._find_json_import()
+            self._find_requests_import()
             main = self._find_main_call()
             self._find_module_utils(main)
             self._find_has_import()
