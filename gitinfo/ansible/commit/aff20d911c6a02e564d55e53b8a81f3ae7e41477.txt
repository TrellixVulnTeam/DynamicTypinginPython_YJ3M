commit aff20d911c6a02e564d55e53b8a81f3ae7e41477
Author: sysadmin75 <krisnewsome@gmail.com>
Date:   Sun Jan 4 15:57:48 2015 -0500

    Fixes #9415 - fetch: should use hostname instead of ip for directory name

diff --git a/lib/ansible/runner/action_plugins/fetch.py b/lib/ansible/runner/action_plugins/fetch.py
index 3fa748ccbd..94e930fdb3 100644
--- a/lib/ansible/runner/action_plugins/fetch.py
+++ b/lib/ansible/runner/action_plugins/fetch.py
@@ -110,7 +110,7 @@ class ActionModule(object):
                 dest = utils.path_dwim(self.runner.basedir, dest)
         else:
             # files are saved in dest dir, with a subdir for each host, then the filename
-            dest = "%s/%s/%s" % (utils.path_dwim(self.runner.basedir, dest), conn.host, source_local)
+            dest = "%s/%s/%s" % (utils.path_dwim(self.runner.basedir, dest), inject['inventory_hostname'], source_local)
 
         dest = dest.replace("//","/")
 
