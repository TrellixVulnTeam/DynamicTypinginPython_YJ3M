commit 677aca1cc75b9e5ccfd77c72f56801acd85b01cb
Author: Matt Clay <matt@mystile.com>
Date:   Mon Nov 20 16:22:52 2017 -0800

    Add Python 3.7-dev to the default docker image.

diff --git a/test/runner/Dockerfile b/test/runner/Dockerfile
index b223dadad4..cb2e301234 100644
--- a/test/runner/Dockerfile
+++ b/test/runner/Dockerfile
@@ -10,7 +10,10 @@ RUN apt-get update -y && \
     curl \
     gcc \
     git \
+    libbz2-dev \
     libffi-dev \
+    libreadline-dev \
+    libsqlite3-dev \
     libxml2-dev \
     libxslt1-dev \
     locales \
@@ -25,6 +28,12 @@ RUN apt-get update -y && \
     && \
     apt-get clean
 
+ADD https://raw.githubusercontent.com/pyenv/pyenv-installer/master/bin/pyenv-installer /tmp/pyenv-installer
+RUN bash -c 'PYENV_ROOT=/usr/local/opt/pyenv bash /tmp/pyenv-installer'
+RUN bash -c 'PYENV_ROOT=/usr/local/opt/pyenv /usr/local/opt/pyenv/bin/pyenv install 3.7-dev'
+RUN ln -s /usr/local/opt/pyenv/versions/3.7-dev/bin/python3.7 /usr/local/bin/python3.7
+RUN ln -s /usr/local/opt/pyenv/versions/3.7-dev/bin/pip3.7 /usr/local/bin/pip3.7
+
 RUN rm /etc/apt/apt.conf.d/docker-clean
 RUN locale-gen en_US.UTF-8
 VOLUME /sys/fs/cgroup /run/lock /run /tmp
diff --git a/test/runner/docker/requirements.sh b/test/runner/docker/requirements.sh
index 3c1492ef93..c23017fa76 100755
--- a/test/runner/docker/requirements.sh
+++ b/test/runner/docker/requirements.sh
@@ -5,6 +5,7 @@ python_versions=(
     2.7
     3.5
     3.6
+    3.7
 )
 
 requirements=()
diff --git a/test/runner/lib/classification.py b/test/runner/lib/classification.py
index dc31e527e4..a427fdac66 100644
--- a/test/runner/lib/classification.py
+++ b/test/runner/lib/classification.py
@@ -509,6 +509,12 @@ class PathMapper(object):
                     }
 
         if path.startswith('test/runner/'):
+            if dirname == 'test/runner' and name in (
+                    'Dockerfile',
+                    '.dockerignore',
+            ):
+                return minimal  # not used by tests, only used to build the default container
+
             return all_tests(self.args)  # test infrastructure, run all tests
 
         if path.startswith('test/utils/shippable/'):
