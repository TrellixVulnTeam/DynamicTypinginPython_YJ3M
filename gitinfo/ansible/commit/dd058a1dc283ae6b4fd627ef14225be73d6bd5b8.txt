commit dd058a1dc283ae6b4fd627ef14225be73d6bd5b8
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Jul 8 09:45:02 2015 -0700

    Fix required_if (needed to pass list to _count_terms)

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index be9e86ce70..bb5a6a52ea 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -978,7 +978,7 @@ class AnsibleModule(object):
             missing = []
             if key in self.params and self.params[key] == val:
                 for check in requirements:
-                    count = self._count_terms(check)
+                    count = self._count_terms((check,))
                     if count == 0:
                         missing.append(check)
             if len(missing) > 0:
@@ -1111,7 +1111,6 @@ class AnsibleModule(object):
                 continue
 
             value = self.params[k]
-            is_invalid = False
 
             try:
                 type_checker = self._CHECK_ARGUMENT_TYPES_DISPATCHER[wanted]
