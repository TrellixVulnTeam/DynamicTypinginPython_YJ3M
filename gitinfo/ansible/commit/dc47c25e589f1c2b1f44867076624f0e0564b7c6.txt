commit dc47c25e589f1c2b1f44867076624f0e0564b7c6
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Jan 5 22:01:01 2016 -0500

    Minor tweak to ensure diff is not empty in callback for file diffs

diff --git a/lib/ansible/plugins/callback/default.py b/lib/ansible/plugins/callback/default.py
index 6ca728e65f..dfad657934 100644
--- a/lib/ansible/plugins/callback/default.py
+++ b/lib/ansible/plugins/callback/default.py
@@ -137,7 +137,7 @@ class CallbackModule(CallbackBase):
     def v2_on_file_diff(self, result):
         if result._task.loop and 'results' in result._result:
             for res in result._result['results']:
-                if 'diff' in res:
+                if 'diff' in res and res['diff']:
                     self._display.display(self._get_diff(res['diff']))
         elif 'diff' in result._result and result._result['diff']:
             self._display.display(self._get_diff(result._result['diff']))
