commit a6315043efcee40dc1c31ac78957dd0b3340023a
Author: Conrado Buhrer <conrado@buhrer.net>
Date:   Mon Jan 26 17:48:03 2015 -0200

    fixed: missing check for upgrade flag

diff --git a/lib/ansible/modules/packaging/os/apt.py b/lib/ansible/modules/packaging/os/apt.py
index e00ec4b98d..93809602af 100644
--- a/lib/ansible/modules/packaging/os/apt.py
+++ b/lib/ansible/modules/packaging/os/apt.py
@@ -608,7 +608,8 @@ def main():
 
         if p['state'] in ('latest', 'present', 'build-dep'):
             build_dep = p.get('build-dep', False)
-            result = install(module, packages, cache, upgrade=True,
+            upgrade = p.get('latest', False)
+            result = install(module, packages, cache, upgrade=upgrade,
                     default_release=p['default_release'],
                     install_recommends=install_recommends,
                     force=force_yes, dpkg_options=dpkg_options,
