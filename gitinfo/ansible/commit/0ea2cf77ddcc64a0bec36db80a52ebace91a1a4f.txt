commit 0ea2cf77ddcc64a0bec36db80a52ebace91a1a4f
Author: Jeppe Toustrup <jeppe@tenzer.dk>
Date:   Wed Feb 18 16:43:56 2015 +0100

    NPM: Expand the path before accessing it

diff --git a/lib/ansible/modules/extras/packaging/language/npm.py b/lib/ansible/modules/extras/packaging/language/npm.py
index 1dd2e99849..8407589116 100644
--- a/lib/ansible/modules/extras/packaging/language/npm.py
+++ b/lib/ansible/modules/extras/packaging/language/npm.py
@@ -149,6 +149,7 @@ class Npm(object):
             #If path is specified, cd into that path and run the command.
             cwd = None
             if self.path:
+                self.path = os.path.abspath(os.path.expanduser(self.path))
                 if not os.path.exists(self.path):
                     os.makedirs(self.path)
                 if not os.path.isdir(self.path):
