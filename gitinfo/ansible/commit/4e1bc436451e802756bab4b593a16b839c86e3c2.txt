commit 4e1bc436451e802756bab4b593a16b839c86e3c2
Author: jkleint <jkleint@gmail.com>
Date:   Tue Apr 24 17:54:00 2012 -0300

    Support YAML lists of hosts in playbooks.
    
    Reading the docs, I was a bit confused as to how to specify multiple hosts/groups in a playbook.  Being YAML, I assumed a normal YAML list would work:
    
        ---
        - hosts: [host1, host2]
    
    But this crashes when inventory._matches() assumes hosts is a string.  This patch just checks if hosts is a list, and turns it into a string joined by ';'.

diff --git a/lib/ansible/playbook.py b/lib/ansible/playbook.py
index 0a5d976a3d..4da4975177 100644
--- a/lib/ansible/playbook.py
+++ b/lib/ansible/playbook.py
@@ -544,6 +544,8 @@ class PlayBook(object):
 
         # get configuration information about the pattern
         pattern  = pg.get('hosts',None)
+        if isinstance(pattern, list):
+            pattern = ';'.join(pattern)
         if self.override_hosts:
             pattern = 'all'
         if pattern is None:
