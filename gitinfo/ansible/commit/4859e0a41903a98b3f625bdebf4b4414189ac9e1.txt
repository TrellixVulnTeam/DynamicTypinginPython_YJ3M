commit 4859e0a41903a98b3f625bdebf4b4414189ac9e1
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Nov 23 12:21:14 2016 -0600

    Look for _get_parent_attribute method in both src and dst dict
    
    When determining which getter style to use for the object in question,
    the BaseMeta class should look at both dict's to try and locate the method.
    
    Fixes #18522

diff --git a/lib/ansible/playbook/base.py b/lib/ansible/playbook/base.py
index 6c952128a9..11f908d181 100644
--- a/lib/ansible/playbook/base.py
+++ b/lib/ansible/playbook/base.py
@@ -111,7 +111,7 @@ class BaseMeta(type):
                     method = "_get_attr_%s" % attr_name
                     if method in src_dict or method in dst_dict:
                         getter = partial(_generic_g_method, attr_name)
-                    elif '_get_parent_attribute' in dst_dict and value.inherit:
+                    elif ('_get_parent_attribute' in dst_dict or '_get_parent_attribute' in src_dict) and value.inherit:
                         getter = partial(_generic_g_parent, attr_name)
                     else:
                         getter = partial(_generic_g, attr_name)
