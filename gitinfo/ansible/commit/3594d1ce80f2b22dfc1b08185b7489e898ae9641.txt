commit 3594d1ce80f2b22dfc1b08185b7489e898ae9641
Author: Jeroen Hoekx <jeroen.hoekx@hamok.be>
Date:   Thu Apr 26 14:55:31 2012 +0200

    Return the octal mode of a file instead of decimal.

diff --git a/library/file b/library/file
index 91afb4b746..03d2a7d413 100755
--- a/library/file
+++ b/library/file
@@ -58,7 +58,7 @@ def add_path_info(kwargs):
         kwargs['user']  = user
         kwargs['group'] = group
         st = os.stat(path)
-        kwargs['mode']  = stat.S_IMODE(st[stat.ST_MODE])
+        kwargs['mode']  = oct(stat.S_IMODE(st[stat.ST_MODE]))
         # secontext not yet supported
         if os.path.islink(path):
             kwargs['state'] = 'link'
