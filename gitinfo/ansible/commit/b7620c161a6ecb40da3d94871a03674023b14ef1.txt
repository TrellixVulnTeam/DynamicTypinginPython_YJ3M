commit b7620c161a6ecb40da3d94871a03674023b14ef1
Author: Jordan Borean <jborean93@gmail.com>
Date:   Fri Jan 18 05:35:10 2019 +1000

    win_updates - fix category return value to be a list (#51001)
    
    * win_updates - fix category return value to be a list
    
    * remove unstable test alias

diff --git a/lib/ansible/modules/windows/win_updates.ps1 b/lib/ansible/modules/windows/win_updates.ps1
index ff9df50322..1f382587d4 100644
--- a/lib/ansible/modules/windows/win_updates.ps1
+++ b/lib/ansible/modules/windows/win_updates.ps1
@@ -112,7 +112,7 @@ $update_script_block = {
                 kb = $update.KBArticleIDs
                 id = $update.Identity.UpdateId
                 installed = $false
-                categories = ($update.Categories | ForEach-Object { $_.Name })
+                categories = @($update.Categories | ForEach-Object { $_.Name })
             }
 
             # validate update again blacklist/whitelist/post_category_names/hidden
diff --git a/lib/ansible/plugins/action/win_updates.py b/lib/ansible/plugins/action/win_updates.py
index 538af250a3..e096b8302e 100644
--- a/lib/ansible/plugins/action/win_updates.py
+++ b/lib/ansible/plugins/action/win_updates.py
@@ -134,14 +134,6 @@ class ActionModule(ActionBase):
         result = super(ActionModule, self).run(tmp, task_vars)
         del tmp  # tmp no longer has any effect
 
-        category_names = self._task.args.get('category_names', [
-            'CriticalUpdates',
-            'SecurityUpdates',
-            'UpdateRollups',
-        ])
-        if isinstance(category_names, AnsibleUnicode):
-            category_names = [cat.strip() for cat in category_names.split(",")]
-
         state = self._task.args.get('state', 'installed')
         reboot = self._task.args.get('reboot', False)
         reboot_timeout = self._task.args.get('reboot_timeout',
diff --git a/test/integration/targets/win_updates/aliases b/test/integration/targets/win_updates/aliases
index 98b74ac987..423ce39108 100644
--- a/test/integration/targets/win_updates/aliases
+++ b/test/integration/targets/win_updates/aliases
@@ -1,2 +1 @@
 shippable/windows/group2
-unstable
