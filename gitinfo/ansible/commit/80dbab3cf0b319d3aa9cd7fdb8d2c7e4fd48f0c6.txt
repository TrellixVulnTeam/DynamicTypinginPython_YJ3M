commit 80dbab3cf0b319d3aa9cd7fdb8d2c7e4fd48f0c6
Author: milan <mkovacik@redhat.com>
Date:   Thu Mar 14 13:06:55 2013 +0100

    check type of task explicitly

diff --git a/lib/ansible/playbook/play.py b/lib/ansible/playbook/play.py
index 73cb15e1da..67e1c1a217 100644
--- a/lib/ansible/playbook/play.py
+++ b/lib/ansible/playbook/play.py
@@ -104,6 +104,8 @@ class Play(object):
             tasks = []
 
         for x in tasks:
+            if not isinstance(x, dict):
+                raise errors.AnsibleError("expecting dict; got: %s" % x)
             task_vars = self.vars.copy()
             task_vars.update(vars)
             if 'include' in x:
