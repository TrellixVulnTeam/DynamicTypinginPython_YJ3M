commit b1c739889ca59865c66bcc1d2b23badb5dc1eed9
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sun Feb 10 13:08:16 2013 -0500

    Add example of working with the environment

diff --git a/examples/playbooks/environment.yml b/examples/playbooks/environment.yml
new file mode 100644
index 0000000000..ce88c640d6
--- /dev/null
+++ b/examples/playbooks/environment.yml
@@ -0,0 +1,33 @@
+---
+
+# it is often useful to be able to set the environment for one command and have that environment be totally
+# different for another.  An example is you might use a HTTP proxy for some packages but not for others.
+#
+# in Ansible 1.1 and later, you can pass the environment to any module using either a dictionary variable
+# or a dictionary itself.
+
+
+- hosts: all
+
+  # here we make a variable named "env" that is a dictionary
+
+  vars:
+    env: 
+       HI: test2
+       http_proxy=http://proxy.example.com:8080
+  user: root
+
+  tasks:
+
+    # here we just define the dictionary directly and use it
+
+    - shell: echo $HI
+      environment:
+         HI: test1
+
+    # here we are using the $env variable above
+    
+    - shell: echo $HI
+      environment: $env
+
+
