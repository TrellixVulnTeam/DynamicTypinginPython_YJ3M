commit 56c55679126ec84c9deba70620a41ed632a6e6fb
Author: Ricardo Carrillo Cruz <ricardo.carrillo.cruz@gmail.com>
Date:   Thu May 10 10:36:37 2018 +0200

    Exit admin mode properly on iosxr_config (#39594)
    
    Fixes #38811
    
    When using 'admin' in iosxr-config, we need to pass an end
    to config terminal session but also pass exit so we exit admin
    mode.

diff --git a/lib/ansible/module_utils/network/iosxr/iosxr.py b/lib/ansible/module_utils/network/iosxr/iosxr.py
index e37a0d8485..ed64eba456 100644
--- a/lib/ansible/module_utils/network/iosxr/iosxr.py
+++ b/lib/ansible/module_utils/network/iosxr/iosxr.py
@@ -426,6 +426,8 @@ def load_config(module, command_filter, commit=False, replace=False,
         elif commit:
             commit_config(module, comment=comment)
             conn.edit_config('end')
+            if admin:
+                conn.edit_config('exit')
         else:
             conn.discard_changes()
 
