commit 788a0d1b9e3956235c071bef3c2c1bdc5ccaf541
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Aug 22 11:50:45 2017 -0400

    skip test when no s3 lib

diff --git a/test/units/modules/cloud/amazon/test_s3.py b/test/units/modules/cloud/amazon/test_s3.py
index 959596bc93..57ed3e83b5 100644
--- a/test/units/modules/cloud/amazon/test_s3.py
+++ b/test/units/modules/cloud/amazon/test_s3.py
@@ -2,7 +2,12 @@ import pytest
 
 import unittest
 
-import ansible.modules.cloud.amazon.s3 as s3
+try:
+    import ansible.modules.cloud.amazon.s3 as s3
+except ImportError:
+    from nose.plugins.skip import SkipTest
+    raise SkipTest("This test requires the s3 Python libraries")
+
 from ansible.module_utils.six.moves.urllib.parse import urlparse
 
 boto3 = pytest.importorskip("boto3")
