commit e2d55d86e4b33aea02d7abec4b8fb278e4203b9d
Author: Gary Rybak <grybak@arista.com>
Date:   Tue Jun 14 10:09:23 2016 -0600

    Move call to filter_exit out of command execution block to prevent setting 'changed' on a command list that is completely filtered (empty).

diff --git a/lib/ansible/modules/network/eos/eos_template.py b/lib/ansible/modules/network/eos/eos_template.py
index 80a152e7f1..61e7b8fca4 100644
--- a/lib/ansible/modules/network/eos/eos_template.py
+++ b/lib/ansible/modules/network/eos/eos_template.py
@@ -191,8 +191,8 @@ def main():
         else:
             commands = str(candidate).split('\n')
 
+    commands = filter_exit(commands)
     if commands:
-        commands = filter_exit(commands)
         if not module.check_mode:
             commands = [str(c).strip() for c in commands]
             response = module.configure(commands, replace=replace)
