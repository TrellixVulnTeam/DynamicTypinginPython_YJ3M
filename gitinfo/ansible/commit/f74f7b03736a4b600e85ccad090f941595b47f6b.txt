commit f74f7b03736a4b600e85ccad090f941595b47f6b
Author: Matt Clay <matt@mystile.com>
Date:   Thu Oct 18 13:05:29 2018 -0700

    Add constraint for requests on python 2.6. (#47306)
    
    * Add constraint for requests on python 2.6.
    * Use constraints in lookup_hashi_vault test.

diff --git a/test/integration/targets/lookup_hashi_vault/playbooks/install_dependencies.yml b/test/integration/targets/lookup_hashi_vault/playbooks/install_dependencies.yml
index 49c250462f..ad3d8afb87 100644
--- a/test/integration/targets/lookup_hashi_vault/playbooks/install_dependencies.yml
+++ b/test/integration/targets/lookup_hashi_vault/playbooks/install_dependencies.yml
@@ -17,3 +17,4 @@
     - name: 'Install hvac Python package'
       pip:
         name: "{{ hvac_package|default('hvac') }}"
+        extra_args: "-c {{ playbook_dir }}/../../../../runner/requirements/constraints.txt"
diff --git a/test/runner/requirements/constraints.txt b/test/runner/requirements/constraints.txt
index e7479c8090..e3c5623bcd 100644
--- a/test/runner/requirements/constraints.txt
+++ b/test/runner/requirements/constraints.txt
@@ -12,6 +12,7 @@ idna < 2.6 # requests requires idna < 2.6, but cryptography will cause the lates
 paramiko < 2.4.0 ; python_version < '2.7' # paramiko 2.4.0 drops support for python 2.6
 pytest < 3.3.0 ; python_version < '2.7' # pytest 3.3.0 drops support for python 2.6
 ntlm-auth >= 1.0.6 # message encryption support
+requests < 2.20.0 ; python_version < '2.7' # requests 2.20.0 drops support for python 2.6
 requests-ntlm >= 1.1.0 # message encryption support
 requests-credssp >= 0.1.0 # message encryption support
 voluptuous >= 0.11.0 # Schema recursion via Self
