commit 5679b5414cbb2a46ca2f38acb5dec2c011cf645a
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Feb 4 18:42:27 2016 -0500

    avoid errors from possible None/False args

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 70439a6c06..cfa0e9b02b 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1825,7 +1825,7 @@ class AnsibleModule(object):
 
         # expand things like $HOME and ~
         if not shell:
-            args = [ os.path.expandvars(os.path.expanduser(x)) for x in args ]
+            args = [ os.path.expandvars(os.path.expanduser(x)) for x in args if x ]
 
         rc = 0
         msg = None
