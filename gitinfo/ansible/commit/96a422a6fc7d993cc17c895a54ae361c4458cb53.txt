commit 96a422a6fc7d993cc17c895a54ae361c4458cb53
Author: Shachaf92 <shachaf.gold@gmail.com>
Date:   Wed Nov 20 03:00:56 2019 +0200

    win_firewall- Change req check from wmf version to cmdlets presence (#64998)

diff --git a/changelogs/fragments/win_firewall-Change-req-check-from-wmf-version-to-cmdlets-presence.yml b/changelogs/fragments/win_firewall-Change-req-check-from-wmf-version-to-cmdlets-presence.yml
new file mode 100644
index 0000000000..7df61642df
--- /dev/null
+++ b/changelogs/fragments/win_firewall-Change-req-check-from-wmf-version-to-cmdlets-presence.yml
@@ -0,0 +1,2 @@
+minor_changes:
+    - "win_firewall- Change req check from wmf version to cmdlets presence - https://github.com/ansible/ansible/issues/63003"
\ No newline at end of file
diff --git a/lib/ansible/modules/windows/win_firewall.ps1 b/lib/ansible/modules/windows/win_firewall.ps1
index 547de13f62..2a628a3527 100644
--- a/lib/ansible/modules/windows/win_firewall.ps1
+++ b/lib/ansible/modules/windows/win_firewall.ps1
@@ -20,8 +20,12 @@ $result = @{
     state = $state
 }
 
-if ($PSVersionTable.PSVersion -lt [Version]"5.0") {
-    Fail-Json $result "win_firewall requires Windows Management Framework 5 or higher."
+try {
+    get-command Get-NetFirewallProfile > $null
+    get-command Set-NetFirewallProfile > $null
+}
+catch {
+    Fail-Json $result "win_firewall requires Get-NetFirewallProfile and Set-NetFirewallProfile Cmdlets."
 }
 
 Try {
