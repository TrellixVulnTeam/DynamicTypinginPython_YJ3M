commit 4e7c0b3e21d425b1e31842011e687a5d65fed92d
Author: Anusha Hegde <hegdeanusha25@gmail.com>
Date:   Thu Oct 17 14:20:38 2019 +0530

    Fixed review comments
    
    Signed-off-by: Anusha Hegde

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest_network.py b/lib/ansible/modules/cloud/vmware/vmware_guest_network.py
index e532d2eaad..4b72169fa8 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest_network.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest_network.py
@@ -120,7 +120,7 @@ options:
      - ' - C(connected) (bool): Indicates that virtual network adapter connects to the associated virtual machine.'
      - ' - C(start_connected) (bool): Indicates that virtual network adapter starts with associated virtual machine powers on.'
      - ' - C(directpath_io) (bool): If set, Universal Pass-Through (UPT or DirectPath I/O) will be enabled on the network adapter.
-           UPT is only compatible for Vmxnet3 adapter. Clients can set this property enabled or disabled if ethernet virtual device is Vmxnet3.'
+           UPT is only compatible for Vmxnet3 adapter.'
 extends_documentation_fragment: vmware.documentation
 '''
 
@@ -189,6 +189,7 @@ network_data:
             "label": "Network Adapter 1",
             "name": "VM Network",
             "device_type": "E1000E",
+            "directpath_io": "N/A",
             "mac_addr": "00:50:56:89:dc:05",
             "unit_number": 7,
             "wake_onlan": false,
diff --git a/test/integration/targets/vmware_guest_network/tasks/main.yml b/test/integration/targets/vmware_guest_network/tasks/main.yml
index e43151beda..f2cf1986c5 100644
--- a/test/integration/targets/vmware_guest_network/tasks/main.yml
+++ b/test/integration/targets/vmware_guest_network/tasks/main.yml
@@ -173,11 +173,26 @@
       networks:
         - state: present
           mac: "00:50:56:58:59:61"
-          directpath_io: false
+          directpath_io: False
     register: disable_directpath_io
 
   - debug: var=disable_directpath_io
 
+  - name: enable DirectPath I/O on a Vmxnet3 adapter
+    vmware_guest_network:
+      validate_certs: False
+      hostname: "{{ vcenter_hostname }}"
+      username: "{{ vcenter_username }}"
+      password: "{{ vcenter_password }}"
+      name: "{{ virtual_machines[0].name }}"
+      networks:
+        - state: present
+          mac: "00:50:56:58:59:61"
+          directpath_io: True
+    register: enable_directpath_io
+
+  - debug: var=enable_directpath_io
+
   - name: disconnect one specified network adapter
     vmware_guest_network:
       validate_certs: False
