commit b187e5a5c0029befe6fb73daea68bfd5f1a06625
Author: Martin Neƒças <necas.marty@gmail.com>
Date:   Mon Mar 11 15:54:02 2019 +0100

    add ovirt_disk check mode (#53625)

diff --git a/lib/ansible/modules/cloud/ovirt/ovirt_disk.py b/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
index 8e88c48325..26be0f881f 100644
--- a/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
+++ b/lib/ansible/modules/cloud/ovirt/ovirt_disk.py
@@ -689,13 +689,14 @@ def main():
                 ret['changed'] = ret['changed'] or downloaded
 
             # Disk sparsify, only if disk is of image type:
-            disk = disks_service.disk_service(module.params['id']).get()
-            if disk.storage_type == otypes.DiskStorageType.IMAGE:
-                ret = disks_module.action(
-                    action='sparsify',
-                    action_condition=lambda d: module.params['sparsify'],
-                    wait_condition=lambda d: d.status == otypes.DiskStatus.OK,
-                )
+            if not module.check_mode:
+                disk = disks_service.disk_service(module.params['id']).get()
+                if disk.storage_type == otypes.DiskStorageType.IMAGE:
+                    ret = disks_module.action(
+                        action='sparsify',
+                        action_condition=lambda d: module.params['sparsify'],
+                        wait_condition=lambda d: d.status == otypes.DiskStatus.OK,
+                    )
 
         # Export disk as image to glance domain
         elif state == 'exported':
