commit 99a30f8fdb19ce7ebc688ac36188271070fb023d
Author: Matt Martz <matt@sivel.net>
Date:   Fri Jun 2 12:41:02 2017 -0500

    Python3 fix for hashing in inventory plugins

diff --git a/lib/ansible/plugins/inventory/__init__.py b/lib/ansible/plugins/inventory/__init__.py
index 706e821501..e5e6716ae5 100644
--- a/lib/ansible/plugins/inventory/__init__.py
+++ b/lib/ansible/plugins/inventory/__init__.py
@@ -61,11 +61,11 @@ class BaseInventoryPlugin(object):
         ''' create predictable unique prefix for plugin/inventory '''
 
         m = hashlib.sha1()
-        m.update(self.NAME)
+        m.update(to_bytes(self.NAME))
         d1 = m.hexdigest()
 
         n = hashlib.sha1()
-        n.update(path)
+        n.update(to_bytes(path))
         d2 = n.hexdigest()
 
         return 's_'.join([d1[:5], d2[:5]])
