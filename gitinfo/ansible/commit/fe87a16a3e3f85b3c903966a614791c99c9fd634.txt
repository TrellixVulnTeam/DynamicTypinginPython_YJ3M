commit fe87a16a3e3f85b3c903966a614791c99c9fd634
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Wed Aug 1 22:27:07 2012 -0400

    Make yum module use one-pass with with_items

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index e38dc91518..f88e016f43 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -485,7 +485,7 @@ class Runner(object):
         if type(items) != list:
             raise errors.AnsibleError("with_items only takes a list: %s" % items)
 
-        if self.module_name in [ 'apt' ]:
+        if self.module_name in [ 'apt', 'yum' ]:
             # hack for apt and soon yum, with_items maps back into a single module call
             inject['item'] = ",".join(items)
             items = []
