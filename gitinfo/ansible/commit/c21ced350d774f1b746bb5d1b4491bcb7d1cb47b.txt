commit c21ced350d774f1b746bb5d1b4491bcb7d1cb47b
Author: Andrew Udvare <audvare@gmail.com>
Date:   Thu Jun 18 15:59:46 2015 -0700

    --usepkgonly does not imply --getbinpkg
    
    Add usepkg option to allow conditional building from source if binary
    packages are not found
    
    https://github.com/ansible/ansible-modules-extras/commit/5a6de937cb053d8366e06c01ec59b37c22d0629c#commitcomment-11755140
    https://wiki.gentoo.org/wiki/Binary_package_guide#Using_binary_packages

diff --git a/lib/ansible/modules/extras/packaging/os/portage.py b/lib/ansible/modules/extras/packaging/os/portage.py
index 212de67c04..a544da85fe 100644
--- a/lib/ansible/modules/extras/packaging/os/portage.py
+++ b/lib/ansible/modules/extras/packaging/os/portage.py
@@ -269,14 +269,14 @@ def emerge_packages(module, packages):
         'verbose': '--verbose',
         'getbinpkg': '--getbinpkg',
         'usepkgonly': '--usepkgonly',
+        'usepkg': '--usepkg',
     }
     for flag, arg in emerge_flags.iteritems():
         if p[flag]:
             args.append(arg)
 
-    # usepkgonly implies getbinpkg
-    if p['usepkgonly'] and not p['getbinpkg']:
-        args.append('--getbinpkg')
+    if 'usepkg' in p and 'usepkgonly' in p:
+        module.fail_json(msg='Use only one of usepkg, usepkgonly')
 
     cmd, (rc, out, err) = run_emerge(module, packages, *args)
     if rc != 0:
@@ -413,6 +413,7 @@ def main():
             sync=dict(default=None, choices=['yes', 'web']),
             getbinpkg=dict(default=None, choices=['yes']),
             usepkgonly=dict(default=None, choices=['yes']),
+            usepkg=dict(default=None, choices=['yes']),
         ),
         required_one_of=[['package', 'sync', 'depclean']],
         mutually_exclusive=[['nodeps', 'onlydeps'], ['quiet', 'verbose']],
