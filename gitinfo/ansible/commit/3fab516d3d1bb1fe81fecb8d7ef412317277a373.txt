commit 3fab516d3d1bb1fe81fecb8d7ef412317277a373
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed Jun 17 22:50:54 2015 -0400

    fixed detection of incorrect password

diff --git a/lib/ansible/plugins/connections/__init__.py b/lib/ansible/plugins/connections/__init__.py
index c861f03778..01a3496b5c 100644
--- a/lib/ansible/plugins/connections/__init__.py
+++ b/lib/ansible/plugins/connections/__init__.py
@@ -139,7 +139,7 @@ class ConnectionBase(with_metaclass(ABCMeta, object)):
 
     def check_incorrect_password(self, output):
         incorrect_password = gettext.dgettext(self._connection_info.become_method, C.BECOME_ERROR_STRINGS[self._connection_info.become_method])
-        if output.strip().endswith(incorrect_password):
+        if incorrect_password in output:
             raise AnsibleError('Incorrect %s password' % self._connection_info.become_method)
 
     def handle_become_password(self, p, stdin):
