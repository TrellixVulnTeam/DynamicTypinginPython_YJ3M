commit 56b1a8ceedc27b9ca8b87b38a4d0f0f41c32b582
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Thu Sep 13 12:34:52 2012 +0200

    Invoke is_installed correctly from rpm path

diff --git a/library/yum b/library/yum
index e2e4b149c9..20b7770c4a 100755
--- a/library/yum
+++ b/library/yum
@@ -291,7 +291,7 @@ def install(module, items, repoq, yum_basecmd, conf_file):
 
             nvra = local_nvra(spec)
             # look for them in the rpmdb
-            if is_installed(repoq, nvra, conf_file):
+            if is_installed(module, repoq, nvra, conf_file):
                 # if they are there, skip it
                 continue
             pkg = spec
