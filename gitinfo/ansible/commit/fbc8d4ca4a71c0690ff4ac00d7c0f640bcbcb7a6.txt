commit fbc8d4ca4a71c0690ff4ac00d7c0f640bcbcb7a6
Author: jaypei <jaypei97159@gmail.com>
Date:   Wed Apr 29 19:59:55 2015 +0800

    use the right way to unescape line string Reference https://github.com/ansible/ansible/issues/10864

diff --git a/lib/ansible/modules/files/lineinfile.py b/lib/ansible/modules/files/lineinfile.py
index 2e358d1a25..e66bdc0113 100644
--- a/lib/ansible/modules/files/lineinfile.py
+++ b/lib/ansible/modules/files/lineinfile.py
@@ -22,7 +22,6 @@
 import re
 import os
 import pipes
-import codecs
 import tempfile
 
 DOCUMENTATION = """
@@ -370,22 +369,6 @@ def main():
 
         line = params['line']
 
-        # The safe_eval call will remove some quoting, but not others,
-        # so we need to know if we should specifically unquote it.
-        should_unquote = not is_quoted(line)
-
-        # always add one layer of quotes
-        line = "'%s'" % line
-
-        # Replace escape sequences like '\n' while being sure 
-        # not to replace octal escape sequences (\ooo) since they
-        # match the backref syntax.
-        if backrefs:
-            line = re.sub(r'(\\[0-9]{1,3})', r'\\\1', line)
-        line = module.safe_eval(line)
-
-        line = codecs.escape_decode(line)[0]
-
         present(module, dest, params['regexp'], line,
                 ins_aft, ins_bef, create, backup, backrefs)
     else:
