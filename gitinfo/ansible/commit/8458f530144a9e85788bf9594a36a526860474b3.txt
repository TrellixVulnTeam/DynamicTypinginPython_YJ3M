commit 8458f530144a9e85788bf9594a36a526860474b3
Author: Dag Wieers <dag@wieers.com>
Date:   Tue Nov 20 18:53:40 2012 +0100

    Allow the remote port to be templated
    
    This was requested on the mailinglist and seems useful.

diff --git a/lib/ansible/playbook/play.py b/lib/ansible/playbook/play.py
index 3e99d1bea8..15d103ab63 100644
--- a/lib/ansible/playbook/play.py
+++ b/lib/ansible/playbook/play.py
@@ -69,7 +69,7 @@ class Play(object):
         self._tasks       = ds.get('tasks', [])
         self._handlers    = ds.get('handlers', [])
         self.remote_user  = utils.template(basedir, ds.get('user', self.playbook.remote_user), self.vars)
-        self.remote_port  = ds.get('port', self.playbook.remote_port)
+        self.remote_port  = utils.template(basedir, ds.get('port', self.playbook.remote_port), self.vars)
         self.sudo         = ds.get('sudo', self.playbook.sudo)
         self.sudo_user    = utils.template(basedir, ds.get('sudo_user', self.playbook.sudo_user), self.vars)
         self.transport    = ds.get('connection', self.playbook.transport)
