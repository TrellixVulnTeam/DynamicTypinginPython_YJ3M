commit 7a8b27f716ab98400175e13bdc767e728ad2d558
Author: Rune Kaagaard <rumi.kg@gmail.com>
Date:   Tue Feb 5 14:49:59 2013 +0100

    Fixing bug with unicode templates.
    
    The utils.md5s() function would break when calculating checksums
    for non-ascii characters. Convert to utf-8 first.

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index 891446d766..4c640946aa 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -301,7 +301,7 @@ def md5s(data):
     ''' Return MD5 hex digest of data. '''
 
     digest = _md5()
-    digest.update(data)
+    digest.update(data.encode('utf-8'))
     return digest.hexdigest()
 
 def md5(filename):
diff --git a/test/sample.j2 b/test/sample.j2
index cd0c8819e8..d33e910549 100644
--- a/test/sample.j2
+++ b/test/sample.j2
@@ -1,4 +1,4 @@
-Are you pondering what I'm pondering?
+Are you pondering what I'm p√∏ndering?
 
 I think so Brain, but {{ answer }}
 
