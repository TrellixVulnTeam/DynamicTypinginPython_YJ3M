commit 24b7c353cc970069b216ffe62148f2af06265047
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Jun 9 17:35:19 2015 -0400

    readjusted limit opts, makes no sense in adhoc when you already specify selection
    changed pull to reflect this

diff --git a/lib/ansible/cli/__init__.py b/lib/ansible/cli/__init__.py
index c1108d08a5..5be9268382 100644
--- a/lib/ansible/cli/__init__.py
+++ b/lib/ansible/cli/__init__.py
@@ -222,12 +222,12 @@ class CLI(object):
                 help="specify path(s) to module library (default=%s)" % C.DEFAULT_MODULE_PATH, default=None)
             parser.add_option('-e', '--extra-vars', dest="extra_vars", action="append",
                 help="set additional variables as key=value or YAML/JSON", default=[])
-            parser.add_option('-l', '--limit', default=C.DEFAULT_SUBSET, dest='subset',
-                help='further limit selected hosts to an additional pattern')
 
         if fork_opts:
             parser.add_option('-f','--forks', dest='forks', default=C.DEFAULT_FORKS, type='int',
                 help="specify number of parallel processes to use (default=%s)" % C.DEFAULT_FORKS)
+            parser.add_option('-l', '--limit', default=C.DEFAULT_SUBSET, dest='subset',
+                help='further limit selected hosts to an additional pattern')
 
         if vault_opts:
             parser.add_option('--ask-vault-pass', default=False, dest='ask_vault_pass', action='store_true',
diff --git a/lib/ansible/cli/adhoc.py b/lib/ansible/cli/adhoc.py
index 0d63a56284..3607e3ee03 100644
--- a/lib/ansible/cli/adhoc.py
+++ b/lib/ansible/cli/adhoc.py
@@ -45,6 +45,7 @@ class AdHocCLI(CLI):
             check_opts=True,
             runtask_opts=True,
             vault_opts=True,
+            fork_opts=True,
         )
 
         # options unique to ansible ad-hoc
diff --git a/lib/ansible/cli/pull.py b/lib/ansible/cli/pull.py
index 0c28a20248..c78540eeb2 100644
--- a/lib/ansible/cli/pull.py
+++ b/lib/ansible/cli/pull.py
@@ -104,7 +104,7 @@ class PullCLI(CLI):
         # Build Checkout command
         # Now construct the ansible command
         limit_opts = 'localhost:%s:127.0.0.1' % socket.getfqdn()
-        base_opts = '-c local --limit "%s"' % limit_opts
+        base_opts = '-c local "%s"' % limit_opts
         if self.options.verbosity > 0:
             base_opts += ' -%s' % ''.join([ "v" for x in range(0, self.options.verbosity) ])
 
@@ -132,7 +132,7 @@ class PullCLI(CLI):
             raise AnsibleOptionsError(("module '%s' not found.\n" % self.options.module_name))
 
         bin_path = os.path.dirname(os.path.abspath(sys.argv[0]))
-        cmd = '%s/ansible localhost -i "%s" %s -m %s -a "%s"' % (
+        cmd = '%s/ansible -i "%s" %s -m %s -a "%s"' % (
             bin_path, inv_opts, base_opts, self.options.module_name, repo_opts
         )
 
