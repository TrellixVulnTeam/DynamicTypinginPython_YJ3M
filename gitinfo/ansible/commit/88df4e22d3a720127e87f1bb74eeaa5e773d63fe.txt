commit 88df4e22d3a720127e87f1bb74eeaa5e773d63fe
Author: Trishna Guha <trishnaguha17@gmail.com>
Date:   Fri Feb 8 11:10:45 2019 +0530

    Removes superfluous commands nxos_vlan (#51796)
    
    Signed-off-by: Trishna Guha <trishnaguha17@gmail.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_vlan.py b/lib/ansible/modules/network/nxos/nxos_vlan.py
index 0d2df3f640..6075278356 100644
--- a/lib/ansible/modules/network/nxos/nxos_vlan.py
+++ b/lib/ansible/modules/network/nxos/nxos_vlan.py
@@ -212,10 +212,6 @@ def map_obj_to_commands(updates, module):
 
         if state == 'absent':
             if obj_in_have:
-                if obj_in_have['mapped_vni'] != 'None':
-                    commands.append('vlan {0}'.format(vlan_id))
-                    commands.append('no vn-segment')
-                    commands.append('exit')
                 commands.append('no vlan {0}'.format(vlan_id))
 
         elif state == 'present':
