commit e1ca38e53aa0e6762db50030ca8bb72483c373f6
Author: yanzhangi <51999930+yanzhangi@users.noreply.github.com>
Date:   Wed Sep 18 09:56:30 2019 +0800

    Update ce_snmp_traps to fix bugs (#61843)

diff --git a/lib/ansible/modules/network/cloudengine/ce_snmp_traps.py b/lib/ansible/modules/network/cloudengine/ce_snmp_traps.py
index 6ec674c603..06f0026b85 100644
--- a/lib/ansible/modules/network/cloudengine/ce_snmp_traps.py
+++ b/lib/ansible/modules/network/cloudengine/ce_snmp_traps.py
@@ -127,7 +127,7 @@ updates:
 
 
 from ansible.module_utils.basic import AnsibleModule
-from ansible.module_utils.network.cloudengine.ce import get_config, load_config, ce_argument_spec, run_commands
+from ansible.module_utils.network.cloudengine.ce import load_config, ce_argument_spec, run_commands
 from ansible.module_utils.connection import exec_command
 
 
@@ -308,6 +308,9 @@ class SnmpTraps(object):
             else:
                 del self.end_state["snmp-agent trap"]
                 del self.end_state["undo snmp-agent trap"]
+        if self.end_state == self.existing:
+            self.changed = False
+            self.updates_cmd = list()
 
     def cli_load_config(self, commands):
         """ Load configure through cli """
