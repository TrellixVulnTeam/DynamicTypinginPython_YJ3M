commit 3ef4f7e8477621d48cb7688568c216012dda1a2d
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Oct 11 15:02:58 2017 -0500

    Fix static determination for include_tasks
    
    An incorrect removal of a conditional resulted in include_tasks falling
    through to the old static detection mechanism incorrectly. This restores
    the previous conditional check.
    
    Fixes #31593

diff --git a/lib/ansible/playbook/helpers.py b/lib/ansible/playbook/helpers.py
index e8fd60b209..50355674df 100644
--- a/lib/ansible/playbook/helpers.py
+++ b/lib/ansible/playbook/helpers.py
@@ -133,8 +133,9 @@ def load_list_of_tasks(ds, play, block=None, role=None, task_include=None, use_h
                 # check to see if this include is dynamic or static:
                 # 1. the user has set the 'static' option to false or true
                 # 2. one of the appropriate config options was set
-                is_static = False
-                if 'import_tasks' in task_ds:
+                if 'include_tasks' in task_ds:
+                    is_static = False
+                elif 'import_tasks' in task_ds:
                     is_static = True
                 elif t.static is not None:
                     display.deprecated("The use of 'static' has been deprecated. "
