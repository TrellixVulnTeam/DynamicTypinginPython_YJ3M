commit 74eb0bfb13e56ebf7ff3c5841ae7c97e7e4efcd2
Author: Ricardo Carrillo Cruz <ricardo.carrillo.cruz@gmail.com>
Date:   Mon Jan 15 14:16:45 2018 +0100

    Add missing flags param to IOS get_config cliconf method (#34869)

diff --git a/lib/ansible/plugins/cliconf/ios.py b/lib/ansible/plugins/cliconf/ios.py
index 920b5f52fa..2b730b08da 100644
--- a/lib/ansible/plugins/cliconf/ios.py
+++ b/lib/ansible/plugins/cliconf/ios.py
@@ -53,13 +53,18 @@ class Cliconf(CliconfBase):
         return device_info
 
     @enable_mode
-    def get_config(self, source='running'):
+    def get_config(self, source='running', flags=None):
         if source not in ('running', 'startup'):
             return self.invalid_params("fetching configuration from %s is not supported" % source)
         if source == 'running':
             cmd = b'show running-config all'
         else:
             cmd = b'show startup-config'
+
+        flags = [] if flags is None else flags
+        cmd += ' '.join(flags)
+        cmd = cmd.strip()
+
         return self.send_command(cmd)
 
     @enable_mode
