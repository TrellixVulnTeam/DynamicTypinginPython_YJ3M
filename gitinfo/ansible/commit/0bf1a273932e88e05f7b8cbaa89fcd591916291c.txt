commit 0bf1a273932e88e05f7b8cbaa89fcd591916291c
Author: Jeffrey 'jf' Lim <jfs.world@gmail.com>
Date:   Tue Apr 29 21:52:09 2014 +0800

    Fix "no_log=True" option for copy module (fixes #7193)

diff --git a/lib/ansible/runner/action_plugins/copy.py b/lib/ansible/runner/action_plugins/copy.py
index f8063862cc..df5266c4c0 100644
--- a/lib/ansible/runner/action_plugins/copy.py
+++ b/lib/ansible/runner/action_plugins/copy.py
@@ -240,6 +240,10 @@ class ActionModule(object):
                 # we pass dest only to make sure it includes trailing slash in case of recursive copy
                 module_args_tmp = "%s src=%s dest=%s original_basename=%s" % (module_args,
                                   pipes.quote(tmp_src), pipes.quote(dest), pipes.quote(source_rel))
+
+                if self.runner.no_log:
+                    module_args_tmp = "%s NO_LOG=True" % module_args_tmp
+
                 module_return = self.runner._execute_module(conn, tmp_path, 'copy', module_args_tmp, inject=inject, complex_args=complex_args, delete_remote_tmp=delete_remote_tmp)
                 module_executed = True
 
