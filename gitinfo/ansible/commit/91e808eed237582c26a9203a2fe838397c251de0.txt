commit 91e808eed237582c26a9203a2fe838397c251de0
Author: MyronFanQiu <49134743+MyronFanQiu@users.noreply.github.com>
Date:   Mon Apr 15 15:14:18 2019 +0800

    azure_rm_subnet: fix CI error for deleting the azure_tags (#55276)

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_subnet.py b/lib/ansible/modules/cloud/azure/azure_rm_subnet.py
index adf651cc2a..99c22fe488 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_subnet.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_subnet.py
@@ -218,7 +218,8 @@ class AzureRMSubnet(AzureRMModuleBase):
         self.service_endpoints = None
 
         super(AzureRMSubnet, self).__init__(self.module_arg_spec,
-                                            supports_check_mode=True)
+                                            supports_check_mode=True,
+                                            supports_tags=False)
 
     def exec_module(self, **kwargs):
 
diff --git a/test/integration/targets/azure_rm_subnet/tasks/main.yml b/test/integration/targets/azure_rm_subnet/tasks/main.yml
index 1d8d71d567..8b4efcc4fe 100644
--- a/test/integration/targets/azure_rm_subnet/tasks/main.yml
+++ b/test/integration/targets/azure_rm_subnet/tasks/main.yml
@@ -77,9 +77,6 @@
         locations:
           - eastus
           - westus
-    tags:
-       testing: testing
-       delete: on-fini
 
 - name: Should be idempotent
   azure_rm_subnet:
@@ -92,9 +89,6 @@
         locations:
           - eastus
           - westus
-    tags:
-       testing: testing
-       delete: on-fini
   register: output
 
 - assert:
@@ -116,9 +110,6 @@
     security_group:
       name: secgroupfoo
       resource_group: "{{ resource_group_secondary }}"
-    tags:
-       testing: testing
-       delete: on-fini
   register: output
 
 - assert:
@@ -133,9 +124,6 @@
     resource_group: "{{ resource_group }}"
     address_prefix_cidr: "10.1.0.0/16"
     security_group: "{{ nsg.state.id }}"
-    tags:
-       testing: testing
-       delete: on-fini
   register: output
 
 - assert:
