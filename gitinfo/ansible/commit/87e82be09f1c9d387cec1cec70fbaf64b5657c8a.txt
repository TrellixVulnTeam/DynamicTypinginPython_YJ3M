commit 87e82be09f1c9d387cec1cec70fbaf64b5657c8a
Author: Toshaan Bharvani <toshaan@vantosh.com>
Date:   Mon Jan 22 20:29:44 2018 +0100

    added new IBM Power KVM guest recognisation (#35169)
    
    Signed-off-by: Toshaan Bharvani <tab@toshaan.com>

diff --git a/lib/ansible/module_utils/facts/virtual/linux.py b/lib/ansible/module_utils/facts/virtual/linux.py
index fcb1568f3e..a634104448 100644
--- a/lib/ansible/module_utils/facts/virtual/linux.py
+++ b/lib/ansible/module_utils/facts/virtual/linux.py
@@ -160,6 +160,8 @@ class LinuxVirtual(Virtual):
                     virtual_facts['virtualization_type'] = 'uml'
                 elif re.match('^model name.*UML', line):
                     virtual_facts['virtualization_type'] = 'uml'
+                elif re.match('^machine.*CHRP IBM pSeries .emulated by qemu.', line):
+                    virtual_facts['virtualization_type'] = 'kvm'
                 elif re.match('^vendor_id.*PowerVM Lx86', line):
                     virtual_facts['virtualization_type'] = 'powervm_lx86'
                 elif re.match('^vendor_id.*IBM/S390', line):
