commit ceba43e701c1461c8571782ce731013d25c8e5c8
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Tue Jan 26 09:43:38 2016 -0800

    Better error message when rsync nad ssh aren't present where synchronize is run
    
    Fixes https://github.com/ansible/ansible/issues/9305

diff --git a/lib/ansible/modules/files/synchronize.py b/lib/ansible/modules/files/synchronize.py
index 5cbda1dc6a..1718f72e30 100644
--- a/lib/ansible/modules/files/synchronize.py
+++ b/lib/ansible/modules/files/synchronize.py
@@ -325,6 +325,11 @@ def main():
     ssh_args = module.params['ssh_args']
     verify_host = module.params['verify_host']
 
+    if '/' not in rsync:
+        rsync = module.get_bin_path(rsync, required=True)
+
+    ssh = module.get_bin_path('ssh', required=True)
+
     cmd = '%s --delay-updates -F' % rsync
     if compress:
         cmd = cmd + ' --compress'
@@ -385,9 +390,9 @@ def main():
       ssh_opts = '%s %s' % (ssh_opts, ssh_args)
 
     if dest_port != 22:
-        cmd += " --rsh 'ssh %s %s -o Port=%s'" % (private_key, ssh_opts, dest_port)
+        cmd += " --rsh '%s %s %s -o Port=%s'" % (ssh, private_key, ssh_opts, dest_port)
     else:
-        cmd += " --rsh 'ssh %s %s'" % (private_key, ssh_opts)  # need ssh param
+        cmd += " --rsh '%s %s %s'" % (ssh, private_key, ssh_opts)  # need ssh param
 
     if rsync_path:
         cmd = cmd + " --rsync-path=%s" % (rsync_path)
