commit 7d521ee22c1d5433b416509ca29f25d4b7a17dc9
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Aug 2 18:03:20 2013 -0500

    Allow destination paths in the hg module to include a tilde (~)
    
    Fixes issue #3360 - Inconsistent behavior of the hg module w.r.t. dest path

diff --git a/library/source_control/hg b/library/source_control/hg
index e3e6ce71e2..65cce55acb 100644
--- a/library/source_control/hg
+++ b/library/source_control/hg
@@ -211,7 +211,7 @@ def main():
         ),
     )
     repo = module.params['repo']
-    dest = module.params['dest']
+    dest = os.path.expanduser(module.params['dest'])
     revision = module.params['revision']
     force = module.params['force']
     purge = module.params['purge']
