commit f5532b79043a7737ea0c95d204b8bd3f0e6aaabe
Author: Richard Lander <richard.lander@tribridge.com>
Date:   Mon Dec 15 16:26:33 2014 -0500

    set network_config.public_ips attribute

diff --git a/lib/ansible/modules/cloud/azure/azure.py b/lib/ansible/modules/cloud/azure/azure.py
index d0c883c2b2..3dbdfef6ef 100644
--- a/lib/ansible/modules/cloud/azure/azure.py
+++ b/lib/ansible/modules/cloud/azure/azure.py
@@ -294,6 +294,7 @@ def create_virtual_machine(module, azure):
         network_config = ConfigurationSetInputEndpoints()
         network_config.configuration_set_type = 'NetworkConfiguration'
         network_config.subnet_names = []
+        network_config.public_ips = None
         for port in endpoints:
             network_config.input_endpoints.append(ConfigurationSetInputEndpoint(name='TCP-%s' % port,
                                                                                 protocol='TCP',
