commit 0fe7d569c9701933295e6c17629c4561558590be
Author: Dag Wieers <dag@wieers.com>
Date:   Fri Dec 21 03:05:28 2018 +0100

    win_firewall_rule: Remove invalid 'bypass' action (#50207)
    
    * win_firewall_rule: Remove invalid 'bypass' action
    
    This fixes #50143
    
    * Add changelog fragment

diff --git a/changelogs/fragments/50143-win_firewall_rule-invalid-bypass.yml b/changelogs/fragments/50143-win_firewall_rule-invalid-bypass.yml
new file mode 100644
index 0000000000..998f98050b
--- /dev/null
+++ b/changelogs/fragments/50143-win_firewall_rule-invalid-bypass.yml
@@ -0,0 +1,3 @@
+---
+bugfixes:
+- win_firewall_rule - Remove invalid 'bypass' action
diff --git a/lib/ansible/modules/windows/win_firewall_rule.ps1 b/lib/ansible/modules/windows/win_firewall_rule.ps1
index 1f512de602..e16ba1de5f 100644
--- a/lib/ansible/modules/windows/win_firewall_rule.ps1
+++ b/lib/ansible/modules/windows/win_firewall_rule.ps1
@@ -169,7 +169,7 @@ $diff_support = Get-AnsibleParam -obj $params -name "_ansible_diff" -type "bool"
 $name = Get-AnsibleParam -obj $params -name "name" -failifempty $true
 $description = Get-AnsibleParam -obj $params -name "description" -type "str"
 $direction = Get-AnsibleParam -obj $params -name "direction" -type "str" -failifempty $true -validateset "in","out"
-$action = Get-AnsibleParam -obj $params -name "action" -type "str" -failifempty $true -validateset "allow","block","bypass"
+$action = Get-AnsibleParam -obj $params -name "action" -type "str" -failifempty $true -validateset "allow","block"
 $program = Get-AnsibleParam -obj $params -name "program" -type "str"
 $service = Get-AnsibleParam -obj $params -name "service" -type "str"
 $enabled = Get-AnsibleParam -obj $params -name "enabled" -type "bool" -default $true -aliases "enable"
diff --git a/lib/ansible/modules/windows/win_firewall_rule.py b/lib/ansible/modules/windows/win_firewall_rule.py
index e8e871e7d3..3a6295f4f0 100644
--- a/lib/ansible/modules/windows/win_firewall_rule.py
+++ b/lib/ansible/modules/windows/win_firewall_rule.py
@@ -41,7 +41,7 @@ options:
     description:
       - What to do with the items this rule is for.
     required: yes
-    choices: [ allow, block, bypass ]
+    choices: [ allow, block ]
   description:
     description:
       - Description for the firewall rule.
