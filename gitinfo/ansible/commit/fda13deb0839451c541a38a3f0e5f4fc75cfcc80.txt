commit fda13deb0839451c541a38a3f0e5f4fc75cfcc80
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Fri Apr 29 20:33:06 2016 -0700

    Switch blockinfile to using the latest best way to get ansible version

diff --git a/lib/ansible/modules/extras/files/blockinfile.py b/lib/ansible/modules/extras/files/blockinfile.py
index 3ff1bc7c72..eadf3a622d 100644
--- a/lib/ansible/modules/extras/files/blockinfile.py
+++ b/lib/ansible/modules/extras/files/blockinfile.py
@@ -150,8 +150,6 @@ import re
 import os
 import tempfile
 
-from ansible import __version__
-
 
 def write_changes(module, contents, dest):
 
@@ -246,7 +244,7 @@ def main():
     marker1 = re.sub(r'{mark}', 'END', marker)
     if present and block:
         # Escape seqeuences like '\n' need to be handled in Ansible 1.x
-        if __version__.startswith('1.'):
+        if module.constants['ANSIBLE_VERSION'].startswith('1.'):
             block = re.sub('', block, '')
         blocklines = [marker0] + block.splitlines() + [marker1]
     else:
