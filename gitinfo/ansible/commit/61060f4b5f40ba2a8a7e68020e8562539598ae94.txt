commit 61060f4b5f40ba2a8a7e68020e8562539598ae94
Author: Wouter Oosterveld <wouter@fizzyflux.nl>
Date:   Tue Nov 29 20:15:17 2016 +0100

    mysql_user: fix user_mod on MySQL(-like) 5.7+ (Fixes #3003) (#5388)

diff --git a/lib/ansible/modules/database/mysql/mysql_user.py b/lib/ansible/modules/database/mysql/mysql_user.py
index 24a5444667..575752ec4f 100644
--- a/lib/ansible/modules/database/mysql/mysql_user.py
+++ b/lib/ansible/modules/database/mysql/mysql_user.py
@@ -346,7 +346,7 @@ def user_mod(cursor, user, host, host_all, password, encrypted, new_priv, append
                     if old_user_mgmt:
                         cursor.execute("SET PASSWORD FOR %s@%s = %s", (user, host, password))
                     else:
-                        cursor.execute("ALTER USER %s@%s IDENTIFIED BY %s", (user, host, password))
+                        cursor.execute("ALTER USER %s@%s IDENTIFIED WITH mysql_native_password BY %s", (user, host, password))
                     changed = True
 
         # Handle privileges
