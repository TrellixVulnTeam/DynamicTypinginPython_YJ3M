commit eba767902ccf3b008df993f32eef03e6ed283622
Author: Sam Thursfield <sam.thursfield@codethink.co.uk>
Date:   Fri May 29 16:59:12 2015 +0000

    os_server: Add some error checking for the 'nics' parameter
    
    If this parameter was not of the right type, the module would fail with a
    traceback, with a "AttributeError: 'str' object has no attribute 'get'"
    exception.
    
    It now gives a proper error message on type errors.

diff --git a/lib/ansible/modules/cloud/openstack/os_server.py b/lib/ansible/modules/cloud/openstack/os_server.py
index 6dd01556ef..db77658e79 100644
--- a/lib/ansible/modules/cloud/openstack/os_server.py
+++ b/lib/ansible/modules/cloud/openstack/os_server.py
@@ -372,7 +372,14 @@ def _network_args(module, cloud):
     args = []
     nics = module.params['nics']
 
+    if type(nics) != list:
+        module.fail_json(msg='The \'nics\' parameter must be a list.')
+
     for net in _parse_nics(nics):
+        if type(net) != dict:
+            module.fail_json(
+                msg='Each entry in the \'nics\' parameter must be a dict.')
+
         if net.get('net-id'):
             args.append(net)
         elif net.get('net-name'):
