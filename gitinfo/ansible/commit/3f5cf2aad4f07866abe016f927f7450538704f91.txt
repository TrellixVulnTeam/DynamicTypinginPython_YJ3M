commit 3f5cf2aad4f07866abe016f927f7450538704f91
Author: Chris Smolen <smolz@users.noreply.github.com>
Date:   Fri Aug 17 11:30:37 2018 -0700

    add example using the "when" keyword (#41038)
    
    * add example using the "when" keyword
    
    <!--- Your description here -->
    add example using the "when" keyword comparing group_var variable to returned value from ios_facts
    +label: docsite_pr
    +label: issue #311
    
    * Update ios_config.py
    
    * Update ios_config.py

diff --git a/lib/ansible/modules/network/ios/ios_config.py b/lib/ansible/modules/network/ios/ios_config.py
index 7f6865ab74..33535648e0 100644
--- a/lib/ansible/modules/network/ios/ios_config.py
+++ b/lib/ansible/modules/network/ios/ios_config.py
@@ -272,6 +272,16 @@ EXAMPLES = """
       - shutdown
     # parents: int gig1/0/11
     parents: interface GigabitEthernet1/0/11
+
+# Set boot image based on comparison to a group_var (version) and the version
+# that is returned from the `ios_facts` module
+- name: SETTING BOOT IMAGE
+  ios_config:
+    lines:
+      - no boot system
+      - boot system flash bootflash:{{new_image}}
+    host: "{{ inventory_hostname }}"
+  when: ansible_net_version != version
 """
 
 RETURN = """
