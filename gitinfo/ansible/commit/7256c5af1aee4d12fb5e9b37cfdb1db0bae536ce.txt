commit 7256c5af1aee4d12fb5e9b37cfdb1db0bae536ce
Author: fdavis <reddot357@hotmail.com>
Date:   Sun Nov 11 18:08:35 2012 -0800

    ansible-playbook verifies playbooks exist before running them
    
    refers to #1345

diff --git a/bin/ansible-playbook b/bin/ansible-playbook
index 2064ee6ec6..13db4872dc 100755
--- a/bin/ansible-playbook
+++ b/bin/ansible-playbook
@@ -20,6 +20,7 @@
 
 import sys
 import getpass
+import os
 
 import ansible.playbook
 import ansible.constants as C
@@ -83,6 +84,12 @@ def main(args):
     extra_vars = utils.parse_kv(options.extra_vars)
     only_tags = options.tags.split(",")
 
+    for playbook in args:
+        if not os.path.exists(playbook):
+            raise errors.AnsibleError("the playbook: %s could not be found" % playbook)
+        if not os.path.isfile(playbook):
+            raise errors.AnsibleError("the playbook: %s does not appear to be a file" % playbook)
+
     # run all playbooks specified on the command line
     for playbook in args:
 
