commit e9c83b7a17f3974ee81d3a1c93482f182e782111
Author: Martin Krizek <martin.krizek@gmail.com>
Date:   Fri Jun 14 18:55:23 2019 +0200

    gather_facts: clean up tmp files upon completion (#57845)
    
    Fixes #57248

diff --git a/changelogs/fragments/57248-gather_facts-cleanup-tmp.yaml b/changelogs/fragments/57248-gather_facts-cleanup-tmp.yaml
new file mode 100644
index 0000000000..f47a495b32
--- /dev/null
+++ b/changelogs/fragments/57248-gather_facts-cleanup-tmp.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - gather_facts - Clean up tmp files upon completion (https://github.com/ansible/ansible/issues/57248)
diff --git a/lib/ansible/plugins/action/gather_facts.py b/lib/ansible/plugins/action/gather_facts.py
index e461abe006..4fa084e1d2 100644
--- a/lib/ansible/plugins/action/gather_facts.py
+++ b/lib/ansible/plugins/action/gather_facts.py
@@ -74,6 +74,8 @@ class ActionModule(ActionBase):
                     skipped[fact_module] = res.get('msg')
                 else:
                     result = combine_vars(result, {'ansible_facts': res.get('ansible_facts', {})})
+
+            self._remove_tmp_path(self._connection._shell.tmpdir)
         else:
             # do it async
             jobs = {}
