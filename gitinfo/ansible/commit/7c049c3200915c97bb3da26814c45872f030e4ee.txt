commit 7c049c3200915c97bb3da26814c45872f030e4ee
Author: James Cammarata <jimi@sngx.net>
Date:   Mon Feb 29 14:51:23 2016 -0500

    Fixing up jsonify and adding unit tests

diff --git a/lib/ansible/parsing/utils/jsonify.py b/lib/ansible/parsing/utils/jsonify.py
index 59dbf9f8c4..74e015a5cf 100644
--- a/lib/ansible/parsing/utils/jsonify.py
+++ b/lib/ansible/parsing/utils/jsonify.py
@@ -29,17 +29,13 @@ def jsonify(result, format=False):
 
     if result is None:
         return "{}"
-    result2 = result.copy()
-    for key, value in result2.items():
-        if type(value) is str:
-            result2[key] = value.decode('utf-8', 'ignore')
 
     indent = None
     if format:
         indent = 4
 
     try:
-        return json.dumps(result2, sort_keys=True, indent=indent, ensure_ascii=False)
+        return json.dumps(result, sort_keys=True, indent=indent, ensure_ascii=False)
     except UnicodeDecodeError:
-        return json.dumps(result2, sort_keys=True, indent=indent)
+        return json.dumps(result, sort_keys=True, indent=indent)
 
diff --git a/test/units/parsing/utils/__init__.py b/test/units/parsing/utils/__init__.py
new file mode 100644
index 0000000000..d3d562f5d3
--- /dev/null
+++ b/test/units/parsing/utils/__init__.py
@@ -0,0 +1,21 @@
+# (c) 2016, James Cammarata <jimi@sngx.net>
+#
+# This file is part of Ansible
+#
+# Ansible is free software: you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation, either version 3 of the License, or
+# (at your option) any later version.
+#
+# Ansible is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
+
+# Make coding more python3-ish
+from __future__ import (absolute_import, division, print_function)
+__metaclass__ = type
+
diff --git a/test/units/parsing/utils/test_jsonify.py b/test/units/parsing/utils/test_jsonify.py
new file mode 100644
index 0000000000..f1cf36ad50
--- /dev/null
+++ b/test/units/parsing/utils/test_jsonify.py
@@ -0,0 +1,37 @@
+#!/usr/bin/python
+# -*- coding: utf-8 -*-
+# (c) 2016, James Cammarata <jimi@sngx.net>
+#
+# This file is part of Ansible
+#
+# Ansible is free software: you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation, either version 3 of the License, or
+# (at your option) any later version.
+#
+# Ansible is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
+
+from __future__ import (absolute_import, division, print_function)
+__metaclass__ = type
+
+from ansible.compat.tests import unittest
+from ansible.parsing.utils.jsonify import jsonify
+
+class TestJsonify(unittest.TestCase):
+    def test_jsonify_simple(self):
+        self.assertEqual(jsonify(dict(a=1, b=2, c=3)), '{"a": 1, "b": 2, "c": 3}')
+
+    def test_jsonify_simple_format(self):
+        self.assertEqual(jsonify(dict(a=1, b=2, c=3), format=True), '{\n    "a": 1, \n    "b": 2, \n    "c": 3\n}')
+
+    def test_jsonify_unicode(self):
+        self.assertEqual(jsonify(dict(toshio=u'くらとみ')), u'{"toshio": "くらとみ"}')
+
+    def test_jsonify_empty(self):
+        self.assertEqual(jsonify(None), '{}')
