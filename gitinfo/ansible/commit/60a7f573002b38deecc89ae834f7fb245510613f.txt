commit 60a7f573002b38deecc89ae834f7fb245510613f
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Mar 12 14:33:31 2014 -0500

    Make sure the cwd exists in run_command before trying to use it

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 3eace12eeb..1988857610 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -1074,8 +1074,10 @@ class AnsibleModule(object):
 
 
         try:
-            if cwd:
+            # make sure we're in the right working directory
+            if cwd and os.path.isdir(cwd):
                 os.chdir(cwd)
+
             cmd = subprocess.Popen(args, **kwargs)
 
             if data:
