commit ce1ec4a2c9baa69762f51826ab7481f35c66a115
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Mon Dec 4 08:18:22 2017 -0500

    fix nxos action plugin indentation for nxapi (#33526)

diff --git a/lib/ansible/plugins/action/nxos.py b/lib/ansible/plugins/action/nxos.py
index b725f03eaa..ee8f7b3e84 100644
--- a/lib/ansible/plugins/action/nxos.py
+++ b/lib/ansible/plugins/action/nxos.py
@@ -74,33 +74,33 @@ class ActionModule(_ActionModule):
 
                 task_vars['ansible_socket'] = socket_path
 
-        else:
-            provider['transport'] = 'nxapi'
-            if provider.get('host') is None:
-                provider['host'] = self._play_context.remote_addr
+            else:
+                provider['transport'] = 'nxapi'
+                if provider.get('host') is None:
+                    provider['host'] = self._play_context.remote_addr
 
-            if provider.get('port') is None:
-                if provider.get('use_ssl'):
-                    provider['port'] = 443
-                else:
-                    provider['port'] = 80
+                if provider.get('port') is None:
+                    if provider.get('use_ssl'):
+                        provider['port'] = 443
+                    else:
+                        provider['port'] = 80
 
-            if provider.get('timeout') is None:
-                provider['timeout'] = C.PERSISTENT_COMMAND_TIMEOUT
+                if provider.get('timeout') is None:
+                    provider['timeout'] = C.PERSISTENT_COMMAND_TIMEOUT
 
-            if provider.get('username') is None:
-                provider['username'] = self._play_context.connection_user
+                if provider.get('username') is None:
+                    provider['username'] = self._play_context.connection_user
 
-            if provider.get('password') is None:
-                provider['password'] = self._play_context.password
+                if provider.get('password') is None:
+                    provider['password'] = self._play_context.password
 
-            if provider.get('use_ssl') is None:
-                provider['use_ssl'] = False
+                if provider.get('use_ssl') is None:
+                    provider['use_ssl'] = False
 
-            if provider.get('validate_certs') is None:
-                provider['validate_certs'] = True
+                if provider.get('validate_certs') is None:
+                    provider['validate_certs'] = True
 
-            self._task.args['provider'] = provider
+                self._task.args['provider'] = provider
 
         if (self._play_context.connection == 'local' and transport == 'cli') or self._play_context.connection == 'network_cli':
             # make sure we are in the right cli context which should be
