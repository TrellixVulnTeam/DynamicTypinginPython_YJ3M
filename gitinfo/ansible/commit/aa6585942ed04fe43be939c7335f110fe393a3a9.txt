commit aa6585942ed04fe43be939c7335f110fe393a3a9
Author: Roman Belyakovsky <ihryamzik@gmail.com>
Date:   Tue Feb 21 14:53:40 2017 +0100

    Fix for crash on missing privileges, closes #21051 (#21518)

diff --git a/contrib/inventory/vmware_inventory.py b/contrib/inventory/vmware_inventory.py
index f3cbd5fbec..58ee473dca 100755
--- a/contrib/inventory/vmware_inventory.py
+++ b/contrib/inventory/vmware_inventory.py
@@ -628,7 +628,10 @@ class VMWareInventory(object):
         elif type(vobj) in self.vimTable:
             rdata = {}
             for key in self.vimTable[type(vobj)]:
-                rdata[key] = getattr(vobj, key)
+                try:
+                    rdata[key] = getattr(vobj, key)
+                except Exception as e:
+                    self.debugl(e)
 
         elif issubclass(type(vobj), str) or isinstance(vobj, str):
             if vobj.isalnum():
