commit 46174588ca0adbbc07aa60bd036c76ba0c6d3c09
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Nov 9 18:59:21 2016 -0500

    Refactor usage of type() (#3412)
    
    Addresses https://github.com/ansible/ansible/issues/18440

diff --git a/lib/ansible/modules/extras/system/osx_defaults.py b/lib/ansible/modules/extras/system/osx_defaults.py
index 7cc481232e..0b1b57949f 100644
--- a/lib/ansible/modules/extras/system/osx_defaults.py
+++ b/lib/ansible/modules/extras/system/osx_defaults.py
@@ -285,7 +285,8 @@ class OSXDefaults(object):
             return True
 
         # There is a type mismatch! Given type does not match the type in defaults
-        if self.current_value is not None and not isinstance(self.current_value, type(self.value)):
+        value_type = type(self.value)
+        if self.current_value is not None and not isinstance(self.current_value, value_type):
             raise OSXDefaultsException("Type mismatch. Type in defaults: " + type(self.current_value).__name__)
 
         # Current value matches the given value. Nothing need to be done. Arrays need extra care
