commit 5ad3c0603d1248e74d6a94642b99f18ded913f51
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Mar 26 22:04:04 2013 -0400

    now check moded returnes 'changed' instead of failure when there are
    modifications needed.
    Signed-off-by: Brian Coca <briancoca+dev@gmail.com>

diff --git a/library/user b/library/user
index 1511b3aca4..64a3a2ede1 100644
--- a/library/user
+++ b/library/user
@@ -367,7 +367,7 @@ class User(object):
         if len(cmd) == 1:
             return (None, '', '')
         elif self.module.check_mode:
-            return (True, '', '')
+            return (0, '', '')
 
         cmd.append(self.name)
         return self.execute_command(cmd)
