commit 35b58955d62435c4bf601d42e803770a5d8f817d
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Mon Jan 21 21:48:02 2013 +0100

    Fix paramiko for when no private key is specified

diff --git a/lib/ansible/runner/connection_plugins/paramiko_ssh.py b/lib/ansible/runner/connection_plugins/paramiko_ssh.py
index 898c24bf06..0f329bf7e5 100644
--- a/lib/ansible/runner/connection_plugins/paramiko_ssh.py
+++ b/lib/ansible/runner/connection_plugins/paramiko_ssh.py
@@ -81,8 +81,12 @@ class Connection(object):
         if self.runner.remote_pass is not None:
             allow_agent = False
         try:
+            if self.runner.private_key_file:
+                key_filename = os.path.expanduser(self.runner.private_key_file)
+            else:
+                key_filename = None
             ssh.connect(self.host, username=user, allow_agent=allow_agent, look_for_keys=True,
-                key_filename=os.path.expanduser(self.runner.private_key_file), password=self.runner.remote_pass,
+                key_filename=key_filename, password=self.runner.remote_pass,
                 timeout=self.runner.timeout, port=self.port)
         except Exception, e:
             msg = str(e)
