commit 8c521655e1bf45aa95b07d2372e7beaf1cef9d1f
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Feb 22 16:14:39 2017 -0500

    Fix traceback on indexing empty list (#21784)
    
    * Fix traceback on indexing empty list
    * Make it more 'idiomatic'
    * Forgot the index

diff --git a/lib/ansible/plugins/action/__init__.py b/lib/ansible/plugins/action/__init__.py
index 8f920fb573..4f161a3f64 100644
--- a/lib/ansible/plugins/action/__init__.py
+++ b/lib/ansible/plugins/action/__init__.py
@@ -543,7 +543,10 @@ class ActionBase(with_metaclass(ABCMeta, object)):
 
         cmd = self._connection._shell.expand_user(expand_path)
         data = self._low_level_execute_command(cmd, sudoable=False)
-        initial_fragment = data['stdout'].strip().splitlines()[-1]
+        try:
+            initial_fragment = data['stdout'].strip().splitlines()[-1]
+        except IndexError:
+            initial_fragment = None
 
         if not initial_fragment:
             # Something went wrong trying to expand the path remotely.  Return
