commit 527a7762e105fcbac1a3ea4ac603362dedc9d2f6
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Fri Apr 21 02:34:09 2017 +0530

    Use regex variable in eos_user.py (#23797)
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/modules/network/eos/eos_user.py b/lib/ansible/modules/network/eos/eos_user.py
index ce076693e7..73a3200e9c 100644
--- a/lib/ansible/modules/network/eos/eos_user.py
+++ b/lib/ansible/modules/network/eos/eos_user.py
@@ -203,7 +203,7 @@ def map_config_to_obj(module):
 
     for user in set(match):
         regex = r'username %s .+$' % user
-        cfg = re.findall(r'username %s .+$' % user, data, re.M)
+        cfg = re.findall(regex, data, re.M)
         cfg = '\n'.join(cfg)
         obj = {
             'username': user,
