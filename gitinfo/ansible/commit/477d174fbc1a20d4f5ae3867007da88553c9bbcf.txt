commit 477d174fbc1a20d4f5ae3867007da88553c9bbcf
Author: Lujeni <julien@thebault.co>
Date:   Fri Sep 23 21:44:42 2016 +0200

    Fix mongodb_user default role value when update_password is set (#2997)

diff --git a/lib/ansible/modules/extras/database/misc/mongodb_user.py b/lib/ansible/modules/extras/database/misc/mongodb_user.py
index 266b902fda..e0d1342bc4 100644
--- a/lib/ansible/modules/extras/database/misc/mongodb_user.py
+++ b/lib/ansible/modules/extras/database/misc/mongodb_user.py
@@ -315,7 +315,7 @@ def main():
     ssl_cert_reqs = None
     if ssl:
         ssl_cert_reqs = getattr(ssl_lib, module.params['ssl_cert_reqs'])
-    roles = module.params['roles']
+    roles = module.params['roles'] or []
     state = module.params['state']
     update_password = module.params['update_password']
 
