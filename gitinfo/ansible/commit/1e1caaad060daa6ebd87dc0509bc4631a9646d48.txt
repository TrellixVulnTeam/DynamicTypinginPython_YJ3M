commit 1e1caaad060daa6ebd87dc0509bc4631a9646d48
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed May 24 14:09:25 2017 -0400

    docs update, use connection: local vs local_action

diff --git a/lib/ansible/modules/utilities/logic/wait_for.py b/lib/ansible/modules/utilities/logic/wait_for.py
index 8d87c0f785..2c064bbbb3 100644
--- a/lib/ansible/modules/utilities/logic/wait_for.py
+++ b/lib/ansible/modules/utilities/logic/wait_for.py
@@ -154,9 +154,10 @@ EXAMPLES = '''
     path: /proc/3466/status
     state: absent
 
-# wait 300 seconds for port 22 to become open and contain "OpenSSH", don't assume the inventory_hostname is resolvable
-# and don't start checking for 10 seconds
-- local_action: wait_for port=22 host="{{ ansible_ssh_host | default(inventory_hostname) }}" search_regex=OpenSSH delay=10
+# wait 300 seconds for port 22 to become open and contain "OpenSSH",
+# don't assume the inventory_hostname is resolvable and don't start checking for 10 seconds
+- wait_for: port=22 host="{{ ansible_host|default(ansible_ssh_host|default(inventory_hostname)) }}" search_regex=OpenSSH delay=10
+  connection: local
 '''
 
 import binascii
