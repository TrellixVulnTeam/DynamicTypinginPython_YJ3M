commit 4f96ee5e277c4d42b814bd01c08d4f5b08dbcc6b
Author: Dag Wieers <dag@wieers.com>
Date:   Wed Feb 8 00:31:40 2017 +0100

    Add missing iteritems definition (#21106)
    
    Also moved most imports out of try-except block.

diff --git a/lib/ansible/module_utils/vmware.py b/lib/ansible/module_utils/vmware.py
index 3f34d5621f..37b5982117 100644
--- a/lib/ansible/module_utils/vmware.py
+++ b/lib/ansible/module_utils/vmware.py
@@ -17,11 +17,12 @@
 # You should have received a copy of the GNU General Public License
 # along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
 
+from ansible.module_utils.six import iteritems
+import atexit
+import ssl
+import time
 
 try:
-    import atexit
-    import time
-    import ssl
     # requests is required for exception handling of the ConnectionError
     import requests
     from pyVim import connect
