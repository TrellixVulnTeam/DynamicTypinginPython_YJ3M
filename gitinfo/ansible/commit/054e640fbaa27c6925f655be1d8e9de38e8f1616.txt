commit 054e640fbaa27c6925f655be1d8e9de38e8f1616
Author: Khushil Dep <khushil.dep@gmail.com>
Date:   Fri Feb 26 10:51:54 2016 +0000

    Add enumeration of block devices to ec2_block_devices

diff --git a/contrib/inventory/ec2.py b/contrib/inventory/ec2.py
index 77e8128d03..6cb400b42f 100755
--- a/contrib/inventory/ec2.py
+++ b/contrib/inventory/ec2.py
@@ -37,6 +37,7 @@ When run against a specific host, this script returns the following variables:
  - ec2_attachTime
  - ec2_attachment
  - ec2_attachmentId
+ - ec2_block_devices
  - ec2_client_token
  - ec2_deleteOnTermination
  - ec2_description
@@ -1323,6 +1324,10 @@ class Ec2Inventory(object):
                     group_names.append(group.name)
                 instance_vars["ec2_security_group_ids"] = ','.join([str(i) for i in group_ids])
                 instance_vars["ec2_security_group_names"] = ','.join([str(i) for i in group_names])
+            elif key == 'ec2_block_device_mapping':
+                instance_vars["ec2_block_devices"] = {}
+                for k, v in value.iteritems():
+                    instance_vars["ec2_block_devices"][ ( k.split( '/' ) )[ -1 ] ] = v.volume_id
             else:
                 pass
                 # TODO Product codes if someone finds them useful
