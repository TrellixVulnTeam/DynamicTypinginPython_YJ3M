commit d8f66defd0804344181f318987c3a3f36bf5cd4a
Author: Michael Scherer <misc@zarb.org>
Date:   Tue Aug 30 19:52:19 2016 +0200

    Ignore difference on whitespace (#17302)
    
    While trying to fix the test suite on python3, I noticed
    this test fail due to to_json adding more whitespace in
    python3 than in python2. So -w should ignored those
    differences.

diff --git a/test/integration/roles/test_filters/tasks/main.yml b/test/integration/roles/test_filters/tasks/main.yml
index cfb51ce279..03566220e5 100644
--- a/test/integration/roles/test_filters/tasks/main.yml
+++ b/test/integration/roles/test_filters/tasks/main.yml
@@ -52,7 +52,7 @@
   copy: src=foo.txt dest={{output_dir}}/foo.txt
 
 - name: compare templated file to known good
-  shell: diff {{output_dir}}/foo.templated {{output_dir}}/foo.txt
+  shell: diff -w {{output_dir}}/foo.templated {{output_dir}}/foo.txt
   register: diff_result
 
 - name: verify templated file matches known good
diff --git a/test/integration/roles/test_template/tasks/main.yml b/test/integration/roles/test_template/tasks/main.yml
index 17555a47a4..f29d8b474c 100644
--- a/test/integration/roles/test_template/tasks/main.yml
+++ b/test/integration/roles/test_template/tasks/main.yml
@@ -50,7 +50,7 @@
   copy: src=foo.txt dest={{output_dir}}/foo.txt
 
 - name: compare templated file to known good
-  shell: diff {{output_dir}}/foo.templated {{output_dir}}/foo.txt
+  shell: diff -w {{output_dir}}/foo.templated {{output_dir}}/foo.txt
   register: diff_result
 
 - name: verify templated file matches known good
