commit 74daf2381beb25f70822c187de5846c02945af69
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Thu Aug 31 10:01:19 2017 -0400

    Fix nxos_config `save` parameter (#28838)
    
    Also fix saving in general

diff --git a/lib/ansible/modules/network/nxos/nxos_config.py b/lib/ansible/modules/network/nxos/nxos_config.py
index c939cb351e..6e289de802 100644
--- a/lib/ansible/modules/network/nxos/nxos_config.py
+++ b/lib/ansible/modules/network/nxos/nxos_config.py
@@ -392,8 +392,11 @@ def main():
 
     diff_ignore_lines = module.params['diff_ignore_lines']
 
+    if module.params['save']:
+        module.params['save_when'] = 'always'
+
     if module.params['save_when'] != 'never':
-        output = run_commands(module, ['show running-config', 'startup-config'])
+        output = run_commands(module, ['show running-config', 'show startup-config'])
 
         running_config = NetworkConfig(indent=1, contents=output[0], ignore_lines=diff_ignore_lines)
         startup_config = NetworkConfig(indent=1, contents=output[1], ignore_lines=diff_ignore_lines)
