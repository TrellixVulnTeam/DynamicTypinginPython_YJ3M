commit 2f9a5a75a890092d62fd64c489f95f1d66f827eb
Author: Yves Martin <ymartin1040@gmail.com>
Date:   Wed Aug 22 19:09:22 2018 +0200

    Update vault-keyring to ConfigManager internals (#41967)
    
    Fix failure since ConfigManager changes

diff --git a/contrib/vault/vault-keyring.py b/contrib/vault/vault-keyring.py
index 99bc428dd4..f03119a8dd 100755
--- a/contrib/vault/vault-keyring.py
+++ b/contrib/vault/vault-keyring.py
@@ -71,12 +71,12 @@ from ansible.config.manager import ConfigManager, get_ini_config_value
 def main():
     config = ConfigManager()
     username = get_ini_config_value(
-        config._parser,
+        config._parsers[config._config_file],
         dict(section='vault', key='username')
     ) or getpass.getuser()
 
     keyname = get_ini_config_value(
-        config._parser,
+        config._parsers[config._config_file],
         dict(section='vault', key='keyname')
     ) or 'ansible'
 
