commit 67972211078bc413fe0c589718dd0af795c3097e
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Sat Sep 9 16:20:53 2017 -0700

    Romain dartigues fixes (#29169)
    
    * cloud: azure: fix typo introduced in commit 16d23e9
    
    The commit "Add reference to VNET resource group (#26052)"
    removed an used variable.
    
    * network: aos: error hint never shown

diff --git a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
index d9fd315bf6..50f2b0cb8c 100644
--- a/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
+++ b/lib/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
@@ -1431,7 +1431,7 @@ class AzureRMVirtualMachine(AzureRMModuleBase):
             try:
                 self.network_client.virtual_networks.list(virtual_network_resource_group, self.virtual_network_name)
                 virtual_network_name = self.virtual_network_name
-            except CloudError:
+            except CloudError as exc:
                 self.fail("Error: fetching virtual network {0} - {1}".format(self.virtual_network_name, str(exc)))
 
         else:
diff --git a/lib/ansible/modules/network/aos/aos_blueprint.py b/lib/ansible/modules/network/aos/aos_blueprint.py
index b7df88e8be..1d3e550fdc 100644
--- a/lib/ansible/modules/network/aos/aos_blueprint.py
+++ b/lib/ansible/modules/network/aos/aos_blueprint.py
@@ -150,12 +150,11 @@ def create_blueprint(module, aos, name):
 
     except:
         exc = get_exception()
+        msg = "Unable to create blueprint: %s" % exc.message
         if 'UNPROCESSABLE ENTITY' in exc.message:
-            msg = 'likely missing dependencies'
-        else:
-            msg = exc.message
+            msg+= ' (likely missing dependencies)'
 
-        module.fail_json(msg="Unable to create blueprint: %s" % exc.message)
+        module.fail_json(msg=msg)
 
     return blueprint
 
