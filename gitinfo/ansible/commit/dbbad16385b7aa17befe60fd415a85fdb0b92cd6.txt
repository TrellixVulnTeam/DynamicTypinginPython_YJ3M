commit dbbad16385b7aa17befe60fd415a85fdb0b92cd6
Author: Sloane Hertel <shertel@redhat.com>
Date:   Thu Aug 3 15:04:10 2017 -0400

    [cloud] New module: Add module for managing AWS Datapipelines (cloud/amazon/data_pipeline) (#22878)
    
    * New module for managing AWS Datapipelines
    
    * Supports create/activate/deactivate and deletion
    * Handles idempotent creation by embeding the version in the
    uniqueId field
    * Waits for requested state to be reached, as Botocore doesn't
    have waiters yet for datapipelines
    
    * rename module, fix imports, add tags option, improve exit_json results, fix a couple bugs, add a TODO so I don't forget
    
    fix pep8
    
    allow timeout to be used for pipeline creation
    
    make .format syntax uniform
    
    fix pep8
    
    fix exception handling
    
    allow pipeline to be modified, refactor, add some comments, remove unnecessary imports
    
    pipeline activation may not be in the activated state long
    
    remove datapipeline version option
    
    change a loop to a list comprehension
    
    create idempotence by hashing the options given to the module minus the objects (which can be modified)
    
    small bugfix
    
    * data_pipeline unittests
    
    make unittests pep8
    
    fix bug in unittests
    
    * remove exception handling that serves no purpose
    
    * Fix python3 incompatibilities in datapipeline tests and add placebo fixture maybe_sleep for faster tests
    
    Fix python3 incompatibilities in data_pipeline build_unique_id()
    
    Don't delete a pipeline in diff_pipeline() because it's unexpected
    
    Don't use time.time() because it causes an issue with placebo testing
    
    re-recorded tests
    
    fix pep8 in data_pipeline
    
    Remove disable_rollback from tests
    
    Make sure unique identifier is a string
    
    re-record tests
    
    * improve documentation and add another example
    
    * use a placebo fixture instead of redundant code in tests
    
    fix tests for PLACEBO_RECORD=false
    
    * Fix data_pipeline docs
    
    use isinstance instead of type()
    
    fix documentation
    
    * fix documentation
    
    * Remove use of undefined variable from data_pipeline module and fix license
    
    * fix copyright header

diff --git a/lib/ansible/modules/cloud/amazon/data_pipeline.py b/lib/ansible/modules/cloud/amazon/data_pipeline.py
new file mode 100644
index 0000000000..ae574bf33b
--- /dev/null
+++ b/lib/ansible/modules/cloud/amazon/data_pipeline.py
@@ -0,0 +1,604 @@
+#!/usr/bin/python
+#
+# Copyright (c) 2017 Ansible Project
+#
+# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
+
+ANSIBLE_METADATA = {'status': ['preview'],
+                    'supported_by': 'community',
+                    'metadata_version': '1.0'}
+
+DOCUMENTATION = '''
+---
+module: data_pipeline
+version_added: "2.4"
+author:
+  - Raghu Udiyar <raghusiddarth@gmail.com> (@raags)
+  - Sloane Hertel <shertel@redhat.com>
+requirements: [ "boto3" ]
+short_description: Create and manage AWS Datapipelines
+extends_documentation_fragment:
+    - aws
+    - ec2
+description:
+    - Create and manage AWS Datapipelines. Creation is not idempotent in AWS,
+      so the uniqueId is created by hashing the options (minus objects) given to the datapipeline.
+
+      The pipeline definition must be in the format given here
+      U(http://docs.aws.amazon.com/datapipeline/latest/APIReference/API_PutPipelineDefinition.html#API_PutPipelineDefinition_RequestSyntax).
+
+      Also operations will wait for a configurable amount
+      of time to ensure the pipeline is in the requested state.
+options:
+  name:
+    description:
+      - The name of the Datapipeline to create/modify/delete.
+    required: true
+  description:
+    description:
+      - An optional description for the pipeline being created.
+    default: ''
+  objects:
+    description:
+      - A list of pipeline object definitions, each of which is a dict that takes the keys C(id), C(name) and C(fields).
+    suboptions:
+      id:
+        description:
+          - The ID of the object.
+      name:
+        description:
+          - The name of the object.
+      fields:
+        description:
+          - A list of dicts that take the keys C(key) and C(stringValue)/C(refValue).
+            The value is specified as a reference to another object C(refValue) or as a string value C(stringValue)
+            but not as both.
+  parameters:
+    description:
+      - A list of parameter objects (dicts) in the pipeline definition.
+    suboptions:
+      id:
+        description:
+          - The ID of the parameter object.
+      attributes:
+        description:
+          - A list of attributes (dicts) of the parameter object. Each attribute takes the keys C(key) and C(stringValue) both
+            of which are strings.
+  values:
+    description:
+      - A list of parameter values (dicts) in the pipeline definition. Each dict takes the keys C(id) and C(stringValue) both
+        of which are strings.
+  timeout:
+    description:
+      - Time in seconds to wait for the pipeline to transition to the requested state, fail otherwise.
+    default: 300
+  state:
+    description:
+      - The requested state of the pipeline.
+    choices: ['present', 'absent', 'active', 'inactive']
+    default: present
+  tags:
+    description:
+      - A dict of key:value pair(s) to add to the pipeline.
+    default: null
+'''
+
+EXAMPLES = '''
+# Note: These examples do not set authentication details, see the AWS Guide for details.
+
+# Create pipeline
+- data_pipeline:
+    name: test-dp
+    region: us-west-2
+    objects: "{{pipelineObjects}}"
+    parameters: "{{pipelineParameters}}"
+    values: "{{pipelineValues}}"
+    tags:
+      key1: val1
+      key2: val2
+    state: present
+
+# Example populating and activating a pipeline that demonstrates two ways of providing pipeline objects
+- data_pipeline:
+  name: test-dp
+  objects:
+    - "id": "DefaultSchedule"
+      "name": "Every 1 day"
+      "fields":
+        - "key": "period"
+          "stringValue": "1 days"
+        - "key": "type"
+          "stringValue": "Schedule"
+        - "key": "startAt"
+          "stringValue": "FIRST_ACTIVATION_DATE_TIME"
+    - "id": "Default"
+      "name": "Default"
+      "fields": [ { "key": "resourceRole", "stringValue": "my_resource_role" },
+                  { "key": "role", "stringValue": "DataPipelineDefaultRole" },
+                  { "key": "pipelineLogUri", "stringValue": "s3://my_s3_log.txt" },
+                  { "key": "scheduleType", "stringValue": "cron" },
+                  { "key": "schedule", "refValue": "DefaultSchedule" },
+                  { "key": "failureAndRerunMode", "stringValue": "CASCADE" } ]
+  state: active
+
+# Activate pipeline
+- data_pipeline:
+    name: test-dp
+    region: us-west-2
+    state: active
+
+# Delete pipeline
+- data_pipeline:
+    name: test-dp
+    region: us-west-2
+    state: absent
+
+'''
+
+RETURN = '''
+changed:
+  description: whether the data pipeline has been modified
+  type: bool
+  returned: always
+  sample:
+    changed: true
+result:
+  description:
+    - Contains the data pipeline data (data_pipeline) and a return message (msg).
+      If the data pipeline exists data_pipeline will contain the keys description, name,
+      pipeline_id, state, tags, and unique_id. If the data pipeline does not exist then
+      data_pipeline will be an empty dict. The msg describes the status of the operation.
+  returned: always
+  type: dict
+'''
+
+import hashlib
+import traceback
+import re
+import json
+import time
+
+from ansible.module_utils.basic import AnsibleModule
+from ansible.module_utils.ec2 import ec2_argument_spec, get_aws_connection_info, boto3_conn, camel_dict_to_snake_dict
+from ansible.module_utils._text import to_bytes, to_text
+
+try:
+    import boto3
+    from botocore.exceptions import ClientError
+    HAS_BOTO3 = True
+except ImportError:
+    HAS_BOTO3 = False
+
+
+DP_ACTIVE_STATES = ['ACTIVE', 'SCHEDULED']
+DP_INACTIVE_STATES = ['INACTIVE', 'PENDING', 'FINISHED', 'DELETING']
+DP_ACTIVATING_STATE = 'ACTIVATING'
+DP_DEACTIVATING_STATE = 'DEACTIVATING'
+PIPELINE_DOESNT_EXIST = '^.*Pipeline with id: {0} does not exist$'
+
+
+class DataPipelineNotFound(Exception):
+    pass
+
+
+class TimeOutException(Exception):
+    pass
+
+
+def pipeline_id(client, name):
+    """Return pipeline id for the given pipeline name
+
+    :param object client: boto3 datapipeline client
+    :param string name: pipeline name
+    :returns: pipeline id
+    :raises: DataPipelineNotFound
+
+    """
+    pipelines = client.list_pipelines()
+    for dp in pipelines['pipelineIdList']:
+        if dp['name'] == name:
+            return dp['id']
+    else:
+        raise DataPipelineNotFound
+
+
+def pipeline_description(client, dp_id):
+    """Return pipeline description list
+
+    :param object client: boto3 datapipeline client
+    :returns: pipeline description dictionary
+    :raises: DataPipelineNotFound
+
+    """
+    try:
+        return client.describe_pipelines(pipelineIds=[dp_id])
+    except ClientError as e:
+        raise DataPipelineNotFound
+
+
+def pipeline_field(client, dp_id, field):
+    """Return a pipeline field from the pipeline description.
+
+    The available fields are listed in describe_pipelines output.
+
+    :param object client: boto3 datapipeline client
+    :param string dp_id: pipeline id
+    :param string field: pipeline description field
+    :returns: pipeline field information
+
+    """
+    dp_description = pipeline_description(client, dp_id)
+    for field_key in dp_description['pipelineDescriptionList'][0]['fields']:
+        if field_key['key'] == field:
+            return field_key['stringValue']
+    else:
+        raise KeyError("Field key {0} not found!".format(field))
+
+
+def run_with_timeout(timeout, func, *func_args, **func_kwargs):
+    """Run func with the provided args and kwargs, and wait utill
+    timeout for truthy return value
+
+    :param int timeout: time to wait for status
+    :param function func: function to run, should return True or False
+    :param args func_args: function args to pass to func
+    :param kwargs func_kwargs: function key word args
+    :returns: True if func returns truthy within timeout
+    :raises: TimeOutException
+
+    """
+
+    for _ in range(timeout // 10):
+        if func(*func_args, **func_kwargs):
+            return True
+        else:
+            # check every 10s
+            time.sleep(10)
+
+    raise TimeOutException
+
+
+def check_dp_exists(client, dp_id):
+    """Check if datapipeline exists
+
+    :param object client: boto3 datapipeline client
+    :param string dp_id: pipeline id
+    :returns: True or False
+
+    """
+    try:
+        # pipeline_description raises DataPipelineNotFound
+        if pipeline_description(client, dp_id):
+            return True
+        else:
+            return False
+    except DataPipelineNotFound:
+        return False
+
+
+def check_dp_status(client, dp_id, status):
+    """Checks if datapipeline matches states in status list
+
+    :param object client: boto3 datapipeline client
+    :param string dp_id: pipeline id
+    :param list status: list of states to check against
+    :returns: True or False
+
+    """
+    assert isinstance(status, list)
+    if pipeline_field(client, dp_id, field="@pipelineState") in status:
+        return True
+    else:
+        return False
+
+
+def pipeline_status_timeout(client, dp_id, status, timeout):
+    args = (client, dp_id, status)
+    return run_with_timeout(timeout, check_dp_status, *args)
+
+
+def pipeline_exists_timeout(client, dp_id, timeout):
+    args = (client, dp_id)
+    return run_with_timeout(timeout, check_dp_exists, *args)
+
+
+def activate_pipeline(client, module):
+    """Activates pipeline
+
+    """
+    dp_name = module.params.get('name')
+    timeout = module.params.get('timeout')
+
+    try:
+        dp_id = pipeline_id(client, dp_name)
+    except DataPipelineNotFound:
+        module.fail_json(msg='Data Pipeline {0} not found'.format(dp_name))
+
+    if pipeline_field(client, dp_id, field="@pipelineState") in DP_ACTIVE_STATES:
+        changed = False
+    else:
+        try:
+            client.activate_pipeline(pipelineId=dp_id)
+        except ClientError as e:
+            if e.response["Error"]["Code"] == "InvalidRequestException":
+                module.fail_json(msg="You need to populate your pipeline before activation.")
+        try:
+            pipeline_status_timeout(client, dp_id, status=DP_ACTIVE_STATES,
+                                    timeout=timeout)
+        except TimeOutException:
+            if pipeline_field(client, dp_id, field="@pipelineState") == "FINISHED":
+                # activated but completed more rapidly than it was checked
+                pass
+            else:
+                module.fail_json(msg=('Data Pipeline {0} failed to activate '
+                                 'within timeout {1} seconds').format(dp_name, timeout))
+        changed = True
+
+    data_pipeline = get_result(client, dp_id)
+    result = {'data_pipeline': data_pipeline,
+              'msg': 'Data Pipeline {0} activated.'.format(dp_name)}
+
+    return (changed, result)
+
+
+def deactivate_pipeline(client, module):
+    """Deactivates pipeline
+
+    """
+    dp_name = module.params.get('name')
+    timeout = module.params.get('timeout')
+
+    try:
+        dp_id = pipeline_id(client, dp_name)
+    except DataPipelineNotFound:
+        module.fail_json(msg='Data Pipeline {0} not found'.format(dp_name))
+
+    if pipeline_field(client, dp_id, field="@pipelineState") in DP_INACTIVE_STATES:
+        changed = False
+    else:
+        client.deactivate_pipeline(pipelineId=dp_id)
+        try:
+            pipeline_status_timeout(client, dp_id, status=DP_INACTIVE_STATES,
+                                    timeout=timeout)
+        except TimeOutException:
+            module.fail_json(msg=('Data Pipeline {0} failed to deactivate'
+                                  'within timeout {1} seconds').format(dp_name, timeout))
+        changed = True
+
+    data_pipeline = get_result(client, dp_id)
+    result = {'data_pipeline': data_pipeline,
+              'msg': 'Data Pipeline {0} deactivated.'.format(dp_name)}
+
+    return (changed, result)
+
+
+def _delete_dp_with_check(dp_id, client, timeout):
+    client.delete_pipeline(pipelineId=dp_id)
+    try:
+        pipeline_status_timeout(client=client, dp_id=dp_id, status=[PIPELINE_DOESNT_EXIST], timeout=timeout)
+    except DataPipelineNotFound:
+        return True
+
+
+def delete_pipeline(client, module):
+    """Deletes pipeline
+
+    """
+    dp_name = module.params.get('name')
+    timeout = module.params.get('timeout')
+
+    try:
+        dp_id = pipeline_id(client, dp_name)
+        _delete_dp_with_check(dp_id, client, timeout)
+        changed = True
+    except DataPipelineNotFound:
+        changed = False
+    except TimeOutException:
+        module.fail_json(msg=('Data Pipeline {0} failed to delete'
+                              'within timeout {1} seconds').format(dp_name, timeout))
+    result = {'data_pipeline': {},
+              'msg': 'Data Pipeline {0} deleted'.format(dp_name)}
+
+    return (changed, result)
+
+
+def build_unique_id(module):
+    data = dict(module.params)
+    # removing objects from the unique id so we can update objects or populate the pipeline after creation without needing to make a new pipeline
+    [data.pop(each, None) for each in ('objects', 'timeout')]
+    json_data = json.dumps(data, sort_keys=True).encode("utf-8")
+    hashed_data = hashlib.md5(json_data).hexdigest()
+    return hashed_data
+
+
+def format_tags(tags):
+    """ Reformats tags
+
+    :param dict tags: dict of data pipeline tags (e.g. {key1: val1, key2: val2, key3: val3})
+    :returns: list of dicts (e.g. [{key: key1, value: val1}, {key: key2, value: val2}, {key: key3, value: val3}])
+
+    """
+    return [dict(key=k, value=v) for k, v in tags.items()]
+
+
+def get_result(client, dp_id):
+    """ Get the current state of the data pipeline and reformat it to snake_case for exit_json
+
+    :param object client: boto3 datapipeline client
+    :param string dp_id: pipeline id
+    :returns: reformatted dict of pipeline description
+
+     """
+    # pipeline_description returns a pipelineDescriptionList of length 1
+    # dp is a dict with keys "description" (str), "fields" (list), "name" (str), "pipelineId" (str), "tags" (dict)
+    dp = pipeline_description(client, dp_id)['pipelineDescriptionList'][0]
+
+    # Get uniqueId and pipelineState in fields to add to the exit_json result
+    dp["unique_id"] = pipeline_field(client, dp_id, field="uniqueId")
+    dp["pipeline_state"] = pipeline_field(client, dp_id, field="@pipelineState")
+
+    # Remove fields; can't make a list snake_case and most of the data is redundant
+    del dp["fields"]
+
+    # Note: tags is already formatted fine so we don't need to do anything with it
+
+    # Reformat data pipeline and add reformatted fields back
+    dp = camel_dict_to_snake_dict(dp)
+    return dp
+
+
+def diff_pipeline(client, module, objects, unique_id, dp_name):
+    """Check if there's another pipeline with the same unique_id and if so, checks if the object needs to be updated
+    """
+    result = {}
+    changed = False
+    create_dp = False
+
+    # See if there is already a pipeline with the same unique_id
+    unique_id = build_unique_id(module)
+    try:
+        dp_id = pipeline_id(client, dp_name)
+        dp_unique_id = to_text(pipeline_field(client, dp_id, field="uniqueId"))
+        if dp_unique_id != unique_id:
+            # A change is expected but not determined. Updated to a bool in create_pipeline().
+            changed = "NEW_VERSION"
+            create_dp = True
+        # Unique ids are the same - check if pipeline needs modification
+        else:
+            dp_objects = client.get_pipeline_definition(pipelineId=dp_id)['pipelineObjects']
+            # Definition needs to be updated
+            if dp_objects != objects:
+                changed, msg = define_pipeline(client, module, objects, dp_id)
+            # No changes
+            else:
+                msg = 'Data Pipeline {0} is present'.format(dp_name)
+            data_pipeline = get_result(client, dp_id)
+            result = {'data_pipeline': data_pipeline,
+                      'msg': msg}
+    except DataPipelineNotFound:
+            create_dp = True
+
+    return create_dp, changed, result
+
+
+def define_pipeline(client, module, objects, dp_id):
+    """Puts pipeline definition
+
+    """
+    dp_name = module.params.get('name')
+
+    if pipeline_field(client, dp_id, field="@pipelineState") == "FINISHED":
+        msg = 'Data Pipeline {0} is unable to be updated while in state FINISHED.'.format(dp_name)
+        changed = False
+
+    elif objects:
+        parameters = module.params.get('parameters')
+        values = module.params.get('values')
+
+        try:
+            client.put_pipeline_definition(pipelineId=dp_id,
+                                           pipelineObjects=objects,
+                                           parameterObjects=parameters,
+                                           parameterValues=values)
+            msg = 'Data Pipeline {0} has been updated.'.format(dp_name)
+            changed = True
+        except ClientError as e:
+            module.fail_json(msg="Failed to put the definition for pipeline {0}. Check that string/reference fields"
+                             "are not empty and that the number of objects in the pipeline does not exceed maximum allowed"
+                             "objects".format(dp_name), exception=traceback.format_exc())
+    else:
+        changed = False
+        msg = ""
+
+    return changed, msg
+
+
+def create_pipeline(client, module):
+    """Creates datapipeline. Uses uniqueId to achieve idempotency.
+
+    """
+    dp_name = module.params.get('name')
+    objects = module.params.get('objects', None)
+    description = module.params.get('description', '')
+    tags = module.params.get('tags')
+    timeout = module.params.get('timeout')
+
+    unique_id = build_unique_id(module)
+    create_dp, changed, result = diff_pipeline(client, module, objects, unique_id, dp_name)
+
+    if changed == "NEW_VERSION":
+        # delete old version
+        changed, _ = delete_pipeline(client, module)
+
+    # There isn't a pipeline or it has different parameters than the pipeline in existence.
+    if create_dp:
+        # Make pipeline
+        try:
+            tags = format_tags(tags)
+            dp = client.create_pipeline(name=dp_name,
+                                        uniqueId=unique_id,
+                                        description=description,
+                                        tags=tags)
+            dp_id = dp['pipelineId']
+            pipeline_exists_timeout(client, dp_id, timeout)
+        except ClientError as e:
+            module.fail_json(msg="Failed to create the data pipeline {0}.".format(dp_name), exception=traceback.format_exc())
+        except TimeOutException:
+            module.fail_json(msg=('Data Pipeline {0} failed to create'
+                                  'within timeout {1} seconds').format(dp_name, timeout))
+        # Put pipeline definition
+        _, msg = define_pipeline(client, module, objects, dp_id)
+
+        changed = True
+        data_pipeline = get_result(client, dp_id)
+        result = {'data_pipeline': data_pipeline,
+                  'msg': 'Data Pipeline {0} created.'.format(dp_name) + msg}
+
+    return (changed, result)
+
+
+def main():
+    argument_spec = ec2_argument_spec()
+    argument_spec.update(
+        dict(
+            name=dict(required=True),
+            version=dict(required=False),
+            description=dict(required=False, default=''),
+            objects=dict(required=False, type='list', default=[]),
+            parameters=dict(required=False, type='list', default=[]),
+            timeout=dict(required=False, type='int', default=300),
+            state=dict(default='present', choices=['present', 'absent',
+                                                   'active', 'inactive']),
+            tags=dict(required=False, type='dict')
+        )
+    )
+    module = AnsibleModule(argument_spec, supports_check_mode=False)
+
+    if not HAS_BOTO3:
+        module.fail_json(msg='boto3 is required for the datapipeline module!')
+
+    try:
+        region, ec2_url, aws_connect_kwargs = get_aws_connection_info(module, boto3=True)
+        if not region:
+            module.fail_json(msg="Region must be specified as a parameter, in EC2_REGION or AWS_REGION environment variables or in boto configuration file")
+        client = boto3_conn(module, conn_type='client',
+                            resource='datapipeline', region=region,
+                            endpoint=ec2_url, **aws_connect_kwargs)
+    except ClientError as e:
+        module.fail_json(msg="Can't authorize connection - " + str(e))
+
+    state = module.params.get('state')
+    if state == 'present':
+        changed, result = create_pipeline(client, module)
+    elif state == 'absent':
+        changed, result = delete_pipeline(client, module)
+    elif state == 'active':
+        changed, result = activate_pipeline(client, module)
+    elif state == 'inactive':
+        changed, result = deactivate_pipeline(client, module)
+
+    module.exit_json(result=result, changed=changed)
+
+
+if __name__ == '__main__':
+    main()
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ActivatePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ActivatePipeline_1.json
new file mode 100644
index 0000000000..3ae6a8c5e9
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ActivatePipeline_1.json
@@ -0,0 +1,16 @@
+{
+    "status_code": 200,
+    "data": {
+        "ResponseMetadata": {
+            "RequestId": "bf44512b-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:16 GMT",
+                "x-amzn-requestid": "bf44512b-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "2"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..63717ea588
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "bf07bcc3-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:15 GMT",
+                "x-amzn-requestid": "bf07bcc3-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_10.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_10.json
new file mode 100644
index 0000000000..d4fa7c93a3
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_10.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "e9c3fc64-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:27 GMT",
+                "x-amzn-requestid": "e9c3fc64-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_11.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_11.json
new file mode 100644
index 0000000000..dc391e35cd
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_11.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "efcd17aa-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:37 GMT",
+                "x-amzn-requestid": "efcd17aa-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_12.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_12.json
new file mode 100644
index 0000000000..475493c94d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_12.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f5dcc189-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:47 GMT",
+                "x-amzn-requestid": "f5dcc189-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_13.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_13.json
new file mode 100644
index 0000000000..4bf47d64ad
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_13.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "fbea4982-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:58 GMT",
+                "x-amzn-requestid": "fbea4982-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_14.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_14.json
new file mode 100644
index 0000000000..7b48febb09
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_14.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "01f44f22-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:08 GMT",
+                "x-amzn-requestid": "01f44f22-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_15.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_15.json
new file mode 100644
index 0000000000..0c0eb8c29f
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_15.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "07fd6963-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:18 GMT",
+                "x-amzn-requestid": "07fd6963-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_16.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_16.json
new file mode 100644
index 0000000000..5ccba8f779
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_16.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "0e065d77-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:28 GMT",
+                "x-amzn-requestid": "0e065d77-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_17.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_17.json
new file mode 100644
index 0000000000..be45d91099
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_17.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "140f9f9e-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:38 GMT",
+                "x-amzn-requestid": "140f9f9e-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_18.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_18.json
new file mode 100644
index 0000000000..6171a53c16
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_18.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "1a197dcb-68ca-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:48 GMT",
+                "x-amzn-requestid": "1a197dcb-68ca-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_19.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_19.json
new file mode 100644
index 0000000000..6bb36e61e2
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_19.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "2024946b-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:24:58 GMT",
+                "x-amzn-requestid": "2024946b-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..a7b37943d8
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "bf3116b5-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:16 GMT",
+                "x-amzn-requestid": "bf3116b5-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_20.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_20.json
new file mode 100644
index 0000000000..b281b83c24
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_20.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "262e24bf-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:08 GMT",
+                "x-amzn-requestid": "262e24bf-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_21.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_21.json
new file mode 100644
index 0000000000..0fa7e03920
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_21.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "2c360727-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:19 GMT",
+                "x-amzn-requestid": "2c360727-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_22.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_22.json
new file mode 100644
index 0000000000..e4cc111a27
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_22.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "323eacc0-68ca-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:28 GMT",
+                "x-amzn-requestid": "323eacc0-68ca-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_23.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_23.json
new file mode 100644
index 0000000000..c8c2886625
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_23.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "38524edf-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:38 GMT",
+                "x-amzn-requestid": "38524edf-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_24.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_24.json
new file mode 100644
index 0000000000..c176c52319
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_24.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "3e591fbf-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:49 GMT",
+                "x-amzn-requestid": "3e591fbf-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_25.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_25.json
new file mode 100644
index 0000000000..ee58417ac0
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_25.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "44623acf-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:25:59 GMT",
+                "x-amzn-requestid": "44623acf-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_26.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_26.json
new file mode 100644
index 0000000000..08c8d7dce0
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_26.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "4a6d5137-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:09 GMT",
+                "x-amzn-requestid": "4a6d5137-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_27.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_27.json
new file mode 100644
index 0000000000..167d756f28
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_27.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "5073d37b-68ca-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:19 GMT",
+                "x-amzn-requestid": "5073d37b-68ca-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_28.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_28.json
new file mode 100644
index 0000000000..33b821dbb6
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_28.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "567d8b04-68ca-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:29 GMT",
+                "x-amzn-requestid": "567d8b04-68ca-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_29.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_29.json
new file mode 100644
index 0000000000..a5b75c0fe0
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_29.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "5c86a656-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:39 GMT",
+                "x-amzn-requestid": "5c86a656-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..024c77bc0d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "bf84b4fb-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:16 GMT",
+                "x-amzn-requestid": "bf84b4fb-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_30.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_30.json
new file mode 100644
index 0000000000..66b7db2098
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_30.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "62984c6d-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:50 GMT",
+                "x-amzn-requestid": "62984c6d-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_31.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_31.json
new file mode 100644
index 0000000000..4a34e4f770
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_31.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "689f4441-68ca-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:26:59 GMT",
+                "x-amzn-requestid": "689f4441-68ca-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_32.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_32.json
new file mode 100644
index 0000000000..b118228ce2
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_32.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "6eab44f8-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:27:10 GMT",
+                "x-amzn-requestid": "6eab44f8-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_33.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_33.json
new file mode 100644
index 0000000000..ac867d5636
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_33.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "74b375a8-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:27:20 GMT",
+                "x-amzn-requestid": "74b375a8-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_34.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_34.json
new file mode 100644
index 0000000000..52189066f0
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_34.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "74c54ffa-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:27:20 GMT",
+                "x-amzn-requestid": "74c54ffa-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_35.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_35.json
new file mode 100644
index 0000000000..ba46b9a9c7
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_35.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "74d6dc2b-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:27:20 GMT",
+                "x-amzn-requestid": "74d6dc2b-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_36.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_36.json
new file mode 100644
index 0000000000..372cef7c6e
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_36.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "74e8dd8c-68ca-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:27:20 GMT",
+                "x-amzn-requestid": "74e8dd8c-68ca-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..32e58f0c89
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "c58f574c-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:27 GMT",
+                "x-amzn-requestid": "c58f574c-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_5.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_5.json
new file mode 100644
index 0000000000..116adce1bc
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_5.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "cb97871c-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:36 GMT",
+                "x-amzn-requestid": "cb97871c-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_6.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_6.json
new file mode 100644
index 0000000000..47f2779281
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_6.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "d19f69b0-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:47 GMT",
+                "x-amzn-requestid": "d19f69b0-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_7.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_7.json
new file mode 100644
index 0000000000..6dfbd436e5
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_7.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "d7aa0b78-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:56 GMT",
+                "x-amzn-requestid": "d7aa0b78-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_8.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_8.json
new file mode 100644
index 0000000000..16f0f602b8
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_8.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "ddb19f29-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:06 GMT",
+                "x-amzn-requestid": "ddb19f29-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_9.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_9.json
new file mode 100644
index 0000000000..1c3727b2a5
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.DescribePipelines_9.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:22:17",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:18",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "2",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "e3ba9338-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:23:17 GMT",
+                "x-amzn-requestid": "e3ba9338-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..27f67f45db
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_pipeline/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "bf1ca4df-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:15 GMT",
+                "x-amzn-requestid": "bf1ca4df-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ActivatePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ActivatePipeline_1.json
new file mode 100644
index 0000000000..7fb2d13c89
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ActivatePipeline_1.json
@@ -0,0 +1,16 @@
+{
+    "status_code": 200,
+    "data": {
+        "ResponseMetadata": {
+            "RequestId": "f6f52c07-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:40 GMT",
+                "x-amzn-requestid": "f6f52c07-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "2"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..d8807dcd05
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f6e15657-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:39 GMT",
+                "x-amzn-requestid": "f6e15657-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_10.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_10.json
new file mode 100644
index 0000000000..7a261f6872
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_10.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "27ea4875-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:02 GMT",
+                "x-amzn-requestid": "27ea4875-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_11.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_11.json
new file mode 100644
index 0000000000..d9d9673f8c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_11.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "2df3155e-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:12 GMT",
+                "x-amzn-requestid": "2df3155e-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_12.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_12.json
new file mode 100644
index 0000000000..f860a119a7
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_12.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "33fca5d4-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:22 GMT",
+                "x-amzn-requestid": "33fca5d4-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_13.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_13.json
new file mode 100644
index 0000000000..ad068259a1
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_13.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "3a06aa5e-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:32 GMT",
+                "x-amzn-requestid": "3a06aa5e-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_14.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_14.json
new file mode 100644
index 0000000000..4e801743a3
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_14.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "4010fe25-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:42 GMT",
+                "x-amzn-requestid": "4010fe25-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_15.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_15.json
new file mode 100644
index 0000000000..50c37c7553
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_15.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "461a8e6d-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:18:52 GMT",
+                "x-amzn-requestid": "461a8e6d-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_16.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_16.json
new file mode 100644
index 0000000000..bf50700a9d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_16.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "4c241ddb-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:02 GMT",
+                "x-amzn-requestid": "4c241ddb-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_17.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_17.json
new file mode 100644
index 0000000000..5ea0b2f1cf
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_17.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "522e9922-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:12 GMT",
+                "x-amzn-requestid": "522e9922-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_18.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_18.json
new file mode 100644
index 0000000000..a3a346d4bf
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_18.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "583569c6-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:22 GMT",
+                "x-amzn-requestid": "583569c6-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_19.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_19.json
new file mode 100644
index 0000000000..6969db9d07
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_19.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "5e400aef-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:33 GMT",
+                "x-amzn-requestid": "5e400aef-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..d955bd9b55
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,70 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f79eb2fb-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:40 GMT",
+                "x-amzn-requestid": "f79eb2fb-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "816"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_20.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_20.json
new file mode 100644
index 0000000000..26c98fbc3e
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_20.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "644b972f-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:43 GMT",
+                "x-amzn-requestid": "644b972f-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_21.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_21.json
new file mode 100644
index 0000000000..5826dd80c0
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_21.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "6a55756a-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:19:53 GMT",
+                "x-amzn-requestid": "6a55756a-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_22.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_22.json
new file mode 100644
index 0000000000..7fb32f718e
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_22.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "705f79f8-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:03 GMT",
+                "x-amzn-requestid": "705f79f8-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_23.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_23.json
new file mode 100644
index 0000000000..1415967347
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_23.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "76690aa7-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:13 GMT",
+                "x-amzn-requestid": "76690aa7-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_24.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_24.json
new file mode 100644
index 0000000000..f9afda9bf8
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_24.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "7c73f9be-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:23 GMT",
+                "x-amzn-requestid": "7c73f9be-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_25.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_25.json
new file mode 100644
index 0000000000..cd7b8af2b2
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_25.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "827b3ff5-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:33 GMT",
+                "x-amzn-requestid": "827b3ff5-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_26.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_26.json
new file mode 100644
index 0000000000..59d320a665
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_26.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "88843410-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:44 GMT",
+                "x-amzn-requestid": "88843410-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_27.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_27.json
new file mode 100644
index 0000000000..0ed0329bcb
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_27.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "8e8e3994-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:20:53 GMT",
+                "x-amzn-requestid": "8e8e3994-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_28.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_28.json
new file mode 100644
index 0000000000..5964c9068a
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_28.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "949928d8-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:04 GMT",
+                "x-amzn-requestid": "949928d8-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_29.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_29.json
new file mode 100644
index 0000000000..5b3efb65ec
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_29.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "9aa502aa-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:15 GMT",
+                "x-amzn-requestid": "9aa502aa-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..fa529208da
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "fda8b75e-68c8-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:51 GMT",
+                "x-amzn-requestid": "fda8b75e-68c8-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_30.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_30.json
new file mode 100644
index 0000000000..a946262892
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_30.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "a0aee145-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:24 GMT",
+                "x-amzn-requestid": "a0aee145-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_31.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_31.json
new file mode 100644
index 0000000000..4bb2e2167b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_31.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "a6bf4ec4-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:34 GMT",
+                "x-amzn-requestid": "a6bf4ec4-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_32.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_32.json
new file mode 100644
index 0000000000..020f71260a
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_32.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "acc70a54-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:44 GMT",
+                "x-amzn-requestid": "acc70a54-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_33.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_33.json
new file mode 100644
index 0000000000..3bf3fde68f
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_33.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "acda9253-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:44 GMT",
+                "x-amzn-requestid": "acda9253-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_34.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_34.json
new file mode 100644
index 0000000000..286fb67b9a
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_34.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "aceb5aed-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "aceb5aed-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_35.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_35.json
new file mode 100644
index 0000000000..2908a3f350
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_35.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "acfff4a4-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "acfff4a4-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..7427bc9a12
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "03b295e1-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:01 GMT",
+                "x-amzn-requestid": "03b295e1-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_5.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_5.json
new file mode 100644
index 0000000000..0f4ad7ab8c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_5.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "09bb89f0-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:11 GMT",
+                "x-amzn-requestid": "09bb89f0-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_6.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_6.json
new file mode 100644
index 0000000000..209eefb959
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_6.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "0fc6eeb0-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:21 GMT",
+                "x-amzn-requestid": "0fc6eeb0-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_7.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_7.json
new file mode 100644
index 0000000000..4aae89cd73
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_7.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "15ce3481-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:31 GMT",
+                "x-amzn-requestid": "15ce3481-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_8.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_8.json
new file mode 100644
index 0000000000..b99a4ef9c6
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_8.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "1bd74fa4-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:41 GMT",
+                "x-amzn-requestid": "1bd74fa4-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_9.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_9.json
new file mode 100644
index 0000000000..daf99bec68
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.DescribePipelines_9.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "21e06a01-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:17:51 GMT",
+                "x-amzn-requestid": "21e06a01-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..52bbd4d4b4
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/activate_without_population/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "f6d10235-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:39 GMT",
+                "x-amzn-requestid": "f6d10235-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_false/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_false/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..dd143dadfd
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_false/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,21 @@
+{
+    "status_code": 400,
+    "data": {
+        "Error": {
+            "Message": "Pipeline with id: df-015440025PF7YGLDK47C does not exist",
+            "Code": "PipelineDeletedException"
+        },
+        "ResponseMetadata": {
+            "RequestId": "be8212fd-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:15 GMT",
+                "x-amzn-requestid": "be8212fd-68c9-11e7-b0eb-93771d0a5156",
+                "content-length": "106",
+                "cneonction": "close",
+                "content-type": "application/x-amz-json-1.1"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 400
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_true/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_true/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..6d06e0d93e
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_exists_true/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "be402786-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:14 GMT",
+                "x-amzn-requestid": "be402786-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_status/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_status/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..23a454b445
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/check_dp_status/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "bec5ab3e-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:15 GMT",
+                "x-amzn-requestid": "bec5ab3e-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.CreatePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.CreatePipeline_1.json
new file mode 100644
index 0000000000..d3d66fc780
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.CreatePipeline_1.json
@@ -0,0 +1,17 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineId": "df-09359422DAX2M66ZHFVF",
+        "ResponseMetadata": {
+            "RequestId": "ad608b38-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "ad608b38-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "40"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DeletePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DeletePipeline_1.json
new file mode 100644
index 0000000000..4eb0f69f7c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DeletePipeline_1.json
@@ -0,0 +1,16 @@
+{
+    "status_code": 200,
+    "data": {
+        "ResponseMetadata": {
+            "RequestId": "adf8fab8-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:46 GMT",
+                "x-amzn-requestid": "adf8fab8-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "0"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..20feb7186d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:21:46",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-09359422DAX2M66ZHFVF",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "9fee08b05473783e91357fadb089e036",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-09359422DAX2M66ZHFVF"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "ad8e790b-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "ad8e790b-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "757"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..343e78e399
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:21:46",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-09359422DAX2M66ZHFVF",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "9fee08b05473783e91357fadb089e036",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-09359422DAX2M66ZHFVF"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "ad9f6906-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "ad9f6906-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "757"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..c98007e22f
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:21:46",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-09359422DAX2M66ZHFVF",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "9fee08b05473783e91357fadb089e036",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-09359422DAX2M66ZHFVF"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "adb27bcf-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:46 GMT",
+                "x-amzn-requestid": "adb27bcf-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "757"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..619eb3b0a4
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:21:46",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-09359422DAX2M66ZHFVF",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "9fee08b05473783e91357fadb089e036",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-09359422DAX2M66ZHFVF"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "adc31da7-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:47 GMT",
+                "x-amzn-requestid": "adc31da7-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "757"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_5.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_5.json
new file mode 100644
index 0000000000..ad10c0b785
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_5.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:21:46",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-09359422DAX2M66ZHFVF",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "9fee08b05473783e91357fadb089e036",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-09359422DAX2M66ZHFVF"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "add67e94-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:46 GMT",
+                "x-amzn-requestid": "add67e94-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "757"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_6.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_6.json
new file mode 100644
index 0000000000..ceebab8bc9
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.DescribePipelines_6.json
@@ -0,0 +1,21 @@
+{
+    "status_code": 400,
+    "data": {
+        "Error": {
+            "Message": "Pipeline with id: df-09359422DAX2M66ZHFVF does not exist",
+            "Code": "PipelineDeletedException"
+        },
+        "ResponseMetadata": {
+            "RequestId": "aeac4532-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:47 GMT",
+                "x-amzn-requestid": "aeac4532-68c9-11e7-b9c1-53eb374c7a33",
+                "content-length": "106",
+                "cneonction": "close",
+                "content-type": "application/x-amz-json-1.1"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 400
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..52879777aa
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "ad4c18d7-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:45 GMT",
+                "x-amzn-requestid": "ad4c18d7-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_2.json
new file mode 100644
index 0000000000..db5bca68ec
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline/datapipeline.ListPipelines_2.json
@@ -0,0 +1,27 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-unittest-create-pipeline",
+                "id": "df-09359422DAX2M66ZHFVF"
+            },
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "ade6f959-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:47 GMT",
+                "x-amzn-requestid": "ade6f959-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "189"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..9674b9a98a
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f514fa3e-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:37 GMT",
+                "x-amzn-requestid": "f514fa3e-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..16a6b01681
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f53e7b42-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:37 GMT",
+                "x-amzn-requestid": "f53e7b42-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..88e2b83b6b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f54f4483-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:36 GMT",
+                "x-amzn-requestid": "f54f4483-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..73be9690ba
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f561bb16-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:37 GMT",
+                "x-amzn-requestid": "f561bb16-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.GetPipelineDefinition_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.GetPipelineDefinition_1.json
new file mode 100644
index 0000000000..37bfa29459
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.GetPipelineDefinition_1.json
@@ -0,0 +1,17 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineObjects": [],
+        "ResponseMetadata": {
+            "RequestId": "f525c381-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:36 GMT",
+                "x-amzn-requestid": "f525c381-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "22"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..ee0f182843
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_already_exists/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "f503e33c-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:37 GMT",
+                "x-amzn-requestid": "f503e33c-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.CreatePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.CreatePipeline_1.json
new file mode 100644
index 0000000000..3bd2a7cc24
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.CreatePipeline_1.json
@@ -0,0 +1,17 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineId": "df-04922542NBJ1I10KYE8",
+        "ResponseMetadata": {
+            "RequestId": "aefed20e-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "aefed20e-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "39"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DeletePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DeletePipeline_1.json
new file mode 100644
index 0000000000..d289367b24
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DeletePipeline_1.json
@@ -0,0 +1,16 @@
+{
+    "status_code": 200,
+    "data": {
+        "ResponseMetadata": {
+            "RequestId": "af93e632-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:49 GMT",
+                "x-amzn-requestid": "af93e632-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "0"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..5078ca0081
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "af23e641-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "af23e641-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "872"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..d959f9229c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "af35c095-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "af35c095-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "872"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..f70515744d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "af47c1f9-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "af47c1f9-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "872"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..dfb972d03b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "af5ecc6b-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "af5ecc6b-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "872"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_5.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_5.json
new file mode 100644
index 0000000000..0891366991
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_5.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "af70a6bd-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "af70a6bd-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "872"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_6.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_6.json
new file mode 100644
index 0000000000..5ee0110b82
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_6.json
@@ -0,0 +1,79 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:49",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:21:50",
+                        "key": "@deletionRequestTime"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-unittest-create-pipeline_tags",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-04922542NBJ1I10KYE8",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "DELETING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "644685a53f98d695792be5e2e69f6504",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-unittest-create-pipeline_tags",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "afe22d47-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:49 GMT",
+                "x-amzn-requestid": "afe22d47-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "940"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_7.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_7.json
new file mode 100644
index 0000000000..d47b5f1c9b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.DescribePipelines_7.json
@@ -0,0 +1,21 @@
+{
+    "status_code": 400,
+    "data": {
+        "Error": {
+            "Message": "Pipeline with id: df-04922542NBJ1I10KYE8 does not exist",
+            "Code": "PipelineDeletedException"
+        },
+        "ResponseMetadata": {
+            "RequestId": "b5eb4768-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:00 GMT",
+                "x-amzn-requestid": "b5eb4768-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-length": "105",
+                "cneonction": "close",
+                "content-type": "application/x-amz-json-1.1"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 400
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..734f84e239
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "aeec5b7d-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:48 GMT",
+                "x-amzn-requestid": "aeec5b7d-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_2.json
new file mode 100644
index 0000000000..5483637318
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/create_pipeline_with_tags/datapipeline.ListPipelines_2.json
@@ -0,0 +1,27 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            },
+            {
+                "name": "ansible-unittest-create-pipeline_tags",
+                "id": "df-04922542NBJ1I10KYE8"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "af82f640-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:21:49 GMT",
+                "x-amzn-requestid": "af82f640-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "193"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..0f9e4f5aba
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f656a27e-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f656a27e-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..f083c7f202
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f66a5120-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:39 GMT",
+                "x-amzn-requestid": "f66a5120-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..38e30295b6
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f67b1a71-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f67b1a71-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..096d457c0f
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f68d9103-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f68d9103-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..2a8689ca44
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/deactivate_pipeline/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "f6458b0d-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:39 GMT",
+                "x-amzn-requestid": "f6458b0d-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..1c8801e98c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f5e569e0-68c8-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f5e569e0-68c8-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.PutPipelineDefinition_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.PutPipelineDefinition_1.json
new file mode 100644
index 0000000000..37d4f9ace4
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/define_pipeline/datapipeline.PutPipelineDefinition_1.json
@@ -0,0 +1,19 @@
+{
+    "status_code": 200,
+    "data": {
+        "validationErrors": [],
+        "validationWarnings": [],
+        "errored": false,
+        "ResponseMetadata": {
+            "RequestId": "f5f855d7-68c8-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f5f855d7-68c8-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "63"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_nonexistent_pipeline/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_nonexistent_pipeline/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..16a7c9b444
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_nonexistent_pipeline/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "b62fa386-68c9-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:00 GMT",
+                "x-amzn-requestid": "b62fa386-68c9-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.CreatePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.CreatePipeline_1.json
new file mode 100644
index 0000000000..9d780e9e67
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.CreatePipeline_1.json
@@ -0,0 +1,17 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineId": "df-056994639BPQCQAZSAGU",
+        "ResponseMetadata": {
+            "RequestId": "b680d0bb-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:01 GMT",
+                "x-amzn-requestid": "b680d0bb-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "40"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DeletePipeline_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DeletePipeline_1.json
new file mode 100644
index 0000000000..f26a6c61c9
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DeletePipeline_1.json
@@ -0,0 +1,16 @@
+{
+    "status_code": 200,
+    "data": {
+        "ResponseMetadata": {
+            "RequestId": "b718cb0a-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b718cb0a-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "0"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..6a542412cd
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b6a82ede-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:01 GMT",
+                "x-amzn-requestid": "b6a82ede-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "836"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_2.json
new file mode 100644
index 0000000000..beeabe990b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_2.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b6baa570-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:01 GMT",
+                "x-amzn-requestid": "b6baa570-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "836"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_3.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_3.json
new file mode 100644
index 0000000000..52b679aafa
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_3.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b6cd9131-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b6cd9131-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "836"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_4.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_4.json
new file mode 100644
index 0000000000..d518615901
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_4.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b6e11933-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b6e11933-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "836"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_5.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_5.json
new file mode 100644
index 0000000000..a66c459d6b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_5.json
@@ -0,0 +1,75 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b6f3dde4-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b6f3dde4-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "836"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_6.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_6.json
new file mode 100644
index 0000000000..8cc97aee2b
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_6.json
@@ -0,0 +1,79 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "[{\"key\":\"ansible\",\"value\":\"test\"}]",
+                        "key": "*tags"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:01",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:22:02",
+                        "key": "@deletionRequestTime"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-nonexistent",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-056994639BPQCQAZSAGU",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "DELETING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "861ec422f1889d1124a9e84e63e37708",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-nonexistent",
+                "description": "ansible-test-nonexistent",
+                "tags": [
+                    {
+                        "value": "test",
+                        "key": "ansible"
+                    }
+                ],
+                "pipelineId": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "b75fbf1d-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b75fbf1d-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "904"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_7.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_7.json
new file mode 100644
index 0000000000..a9982a489d
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.DescribePipelines_7.json
@@ -0,0 +1,21 @@
+{
+    "status_code": 400,
+    "data": {
+        "Error": {
+            "Message": "Pipeline with id: df-056994639BPQCQAZSAGU does not exist",
+            "Code": "PipelineDeletedException"
+        },
+        "ResponseMetadata": {
+            "RequestId": "bd6a133d-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:13 GMT",
+                "x-amzn-requestid": "bd6a133d-68c9-11e7-b0eb-93771d0a5156",
+                "content-length": "106",
+                "cneonction": "close",
+                "content-type": "application/x-amz-json-1.1"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 400
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_1.json
new file mode 100644
index 0000000000..e8de70f8dd
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_1.json
@@ -0,0 +1,23 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "b66f4488-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:01 GMT",
+                "x-amzn-requestid": "b66f4488-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "114"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_2.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_2.json
new file mode 100644
index 0000000000..cefd11b5a1
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/delete_pipeline/datapipeline.ListPipelines_2.json
@@ -0,0 +1,27 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineIdList": [
+            {
+                "name": "ansible-test-create-pipeline",
+                "id": "df-0590406117G8DPQZY2HA"
+            },
+            {
+                "name": "ansible-test-nonexistent",
+                "id": "df-056994639BPQCQAZSAGU"
+            }
+        ],
+        "hasMoreResults": false,
+        "ResponseMetadata": {
+            "RequestId": "b706c9a6-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:02 GMT",
+                "x-amzn-requestid": "b706c9a6-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "181"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..851f9e2a9c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,82 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@lastActivationTime"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:42",
+                        "key": "@finishedTime"
+                    },
+                    {
+                        "stringValue": "1",
+                        "key": "@version"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "FINISHED",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    },
+                    {
+                        "stringValue": "2017-07-14T19:16:40",
+                        "key": "@firstActivationTime"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "bdbbdcc2-68c9-11e7-b0eb-93771d0a5156",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:13 GMT",
+                "x-amzn-requestid": "bdbbdcc2-68c9-11e7-b0eb-93771d0a5156",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "980"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description_nonexistent/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description_nonexistent/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..9125d89dd2
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_description_nonexistent/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,21 @@
+{
+    "status_code": 400,
+    "data": {
+        "Error": {
+            "Message": "Pipeline with id: df-015440025PF7YGLDK47C does not exist",
+            "Code": "PipelineDeletedException"
+        },
+        "ResponseMetadata": {
+            "RequestId": "bdfe3c7d-68c9-11e7-8d5f-8781ccf20ee6",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:22:13 GMT",
+                "x-amzn-requestid": "bdfe3c7d-68c9-11e7-8d5f-8781ccf20ee6",
+                "content-length": "106",
+                "cneonction": "close",
+                "content-type": "application/x-amz-json-1.1"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 400
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_field/datapipeline.DescribePipelines_1.json b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_field/datapipeline.DescribePipelines_1.json
new file mode 100644
index 0000000000..0061b15d43
--- /dev/null
+++ b/test/units/modules/cloud/amazon/placebo_recordings/data_pipeline/pipeline_field/datapipeline.DescribePipelines_1.json
@@ -0,0 +1,66 @@
+{
+    "status_code": 200,
+    "data": {
+        "pipelineDescriptionList": [
+            {
+                "fields": [
+                    {
+                        "stringValue": "2017-07-14T19:16:35",
+                        "key": "@creationTime"
+                    },
+                    {
+                        "stringValue": "ansible-datapipeline-unit-test",
+                        "key": "description"
+                    },
+                    {
+                        "stringValue": "PIPELINE",
+                        "key": "@sphere"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "pipelineCreator"
+                    },
+                    {
+                        "stringValue": "ansible-test-create-pipeline",
+                        "key": "name"
+                    },
+                    {
+                        "stringValue": "df-0590406117G8DPQZY2HA",
+                        "key": "@id"
+                    },
+                    {
+                        "stringValue": "PENDING",
+                        "key": "@pipelineState"
+                    },
+                    {
+                        "stringValue": "448830907657",
+                        "key": "@accountId"
+                    },
+                    {
+                        "stringValue": "881b104bff5f07052e897bd79048b951",
+                        "key": "uniqueId"
+                    },
+                    {
+                        "stringValue": "AIDAJKBIP5ANB55M7EUTC",
+                        "key": "@userId"
+                    }
+                ],
+                "name": "ansible-test-create-pipeline",
+                "description": "ansible-datapipeline-unit-test",
+                "tags": [],
+                "pipelineId": "df-0590406117G8DPQZY2HA"
+            }
+        ],
+        "ResponseMetadata": {
+            "RequestId": "f5a52c58-68c8-11e7-b9c1-53eb374c7a33",
+            "HTTPHeaders": {
+                "date": "Fri, 14 Jul 2017 19:16:38 GMT",
+                "x-amzn-requestid": "f5a52c58-68c8-11e7-b9c1-53eb374c7a33",
+                "content-type": "application/x-amz-json-1.1",
+                "content-length": "749"
+            },
+            "RetryAttempts": 0,
+            "HTTPStatusCode": 200
+        }
+    }
+}
\ No newline at end of file
diff --git a/test/units/modules/cloud/amazon/test_data_pipeline.py b/test/units/modules/cloud/amazon/test_data_pipeline.py
new file mode 100644
index 0000000000..2ebc49ea4c
--- /dev/null
+++ b/test/units/modules/cloud/amazon/test_data_pipeline.py
@@ -0,0 +1,254 @@
+# (c) 2017 Red Hat Inc.
+#
+# This file is part of Ansible
+#
+# Ansible is free software: you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation, either version 3 of the License, or
+# (at your option) any later version.
+#
+# Ansible is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
+
+import pytest
+import boto3
+import os
+import json
+import collections
+from . placebo_fixtures import placeboify, maybe_sleep
+from ansible.modules.cloud.amazon import data_pipeline
+from ansible.module_utils._text import to_text
+
+
+@pytest.fixture(scope='module')
+def dp_setup():
+    """
+    Yield a FakeModule object, data pipeline id of a vanilla data pipeline, and data pipeline objects
+
+    This fixture is module-scoped, since this can be reused for multiple tests.
+    """
+    Dependencies = collections.namedtuple("Dependencies", ["module", "data_pipeline_id", "objects"])
+
+    # get objects to use to test populating and activating the data pipeline
+    if not os.getenv('PLACEBO_RECORD'):
+        objects = [{"name": "Every 1 day",
+                    "id": "DefaultSchedule",
+                    "fields": []},
+                   {"name": "Default",
+                    "id": "Default",
+                    "fields": []}]
+    else:
+        s3 = boto3.client('s3')
+        data = s3.get_object(Bucket="ansible-test-datapipeline", Key="pipeline-object/new.json")
+        objects = json.loads(to_text(data['Body'].read()))
+
+    # create a module with vanilla data pipeline parameters
+    params = {'name': 'ansible-test-create-pipeline',
+              'description': 'ansible-datapipeline-unit-test',
+              'state': 'present',
+              'timeout': 300,
+              'objects': [],
+              'tags': {},
+              'parameters': [],
+              'values': []}
+    module = FakeModule(**params)
+
+    # yield a module, the data pipeline id, and the data pipeline objects (that are not yet defining the vanilla data pipeline)
+    if not os.getenv('PLACEBO_RECORD'):
+        yield Dependencies(module=module, data_pipeline_id='df-0590406117G8DPQZY2HA', objects=objects)
+    else:
+        connection = boto3.client('datapipeline')
+        changed, result = data_pipeline.create_pipeline(connection, module)
+        data_pipeline_id = result['data_pipeline']['pipeline_id']
+        yield Dependencies(module=module, data_pipeline_id=data_pipeline_id, objects=objects)
+
+    # remove data pipeline
+    if os.getenv('PLACEBO_RECORD'):
+        module.params.update(state='absent')
+        data_pipeline.delete_pipeline(connection, module)
+
+
+class FakeModule(object):
+    def __init__(self, **kwargs):
+        self.params = kwargs
+
+    def fail_json(self, *args, **kwargs):
+        self.exit_args = args
+        self.exit_kwargs = kwargs
+        raise Exception('FAIL')
+
+    def exit_json(self, *args, **kwargs):
+        self.exit_args = args
+        self.exit_kwargs = kwargs
+
+
+def test_create_pipeline_already_exists(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    changed, result = data_pipeline.create_pipeline(connection, dp_setup.module)
+    assert changed is False
+    assert "Data Pipeline ansible-test-create-pipeline is present" in result['msg']
+
+
+def test_pipeline_field(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    pipeline_field_info = data_pipeline.pipeline_field(connection, dp_setup.data_pipeline_id, "@pipelineState")
+    assert pipeline_field_info == "PENDING"
+
+
+def test_define_pipeline(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    changed, result = data_pipeline.define_pipeline(connection, dp_setup.module, dp_setup.objects, dp_setup.data_pipeline_id)
+    assert 'has been updated' in result
+
+
+def test_deactivate_pipeline(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    changed, result = data_pipeline.deactivate_pipeline(connection, dp_setup.module)
+    assert "Data Pipeline ansible-test-create-pipeline deactivated" in result['msg']
+
+
+def test_activate_without_population(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    with pytest.raises(Exception) as error_message:
+        changed, result = data_pipeline.activate_pipeline(connection, dp_setup.module)
+        assert error_message == "You need to populate your pipeline before activation."
+
+
+def test_create_pipeline(placeboify, maybe_sleep):
+    connection = placeboify.client('datapipeline')
+    params = {'name': 'ansible-unittest-create-pipeline',
+              'description': 'ansible-datapipeline-unit-test',
+              'state': 'present',
+              'timeout': 300,
+              'tags': {}}
+    m = FakeModule(**params)
+    changed, result = data_pipeline.create_pipeline(connection, m)
+    assert changed is True
+    assert result['msg'] == "Data Pipeline ansible-unittest-create-pipeline created."
+
+    data_pipeline.delete_pipeline(connection, m)
+
+
+def test_create_pipeline_with_tags(placeboify, maybe_sleep):
+    connection = placeboify.client('datapipeline')
+    params = {'name': 'ansible-unittest-create-pipeline_tags',
+              'description': 'ansible-datapipeline-unit-test',
+              'state': 'present',
+              'tags': {'ansible': 'test'},
+              'timeout': 300}
+    m = FakeModule(**params)
+    changed, result = data_pipeline.create_pipeline(connection, m)
+    assert changed is True
+    assert result['msg'] == "Data Pipeline ansible-unittest-create-pipeline_tags created."
+
+    data_pipeline.delete_pipeline(connection, m)
+
+
+def test_delete_nonexistent_pipeline(placeboify, maybe_sleep):
+    connection = placeboify.client('datapipeline')
+    params = {'name': 'ansible-test-nonexistent',
+              'description': 'ansible-test-nonexistent',
+              'state': 'absent',
+              'objects': [],
+              'tags': {'ansible': 'test'},
+              'timeout': 300}
+    m = FakeModule(**params)
+    changed, result = data_pipeline.delete_pipeline(connection, m)
+    assert changed is False
+
+
+def test_delete_pipeline(placeboify, maybe_sleep):
+    connection = placeboify.client('datapipeline')
+    params = {'name': 'ansible-test-nonexistent',
+              'description': 'ansible-test-nonexistent',
+              'state': 'absent',
+              'objects': [],
+              'tags': {'ansible': 'test'},
+              'timeout': 300}
+    m = FakeModule(**params)
+    data_pipeline.create_pipeline(connection, m)
+    changed, result = data_pipeline.delete_pipeline(connection, m)
+    assert changed is True
+
+
+def test_build_unique_id_different(placeboify, maybe_sleep):
+    m = FakeModule(**{'name': 'ansible-unittest-1', 'description': 'test-unique-id'})
+    m2 = FakeModule(**{'name': 'ansible-unittest-1', 'description': 'test-unique-id-different'})
+    assert data_pipeline.build_unique_id(m) != data_pipeline.build_unique_id(m2)
+
+
+def test_build_unique_id_same(placeboify, maybe_sleep):
+    m = FakeModule(**{'name': 'ansible-unittest-1', 'description': 'test-unique-id', 'tags': {'ansible': 'test'}})
+    m2 = FakeModule(**{'name': 'ansible-unittest-1', 'description': 'test-unique-id', 'tags': {'ansible': 'test'}})
+    assert data_pipeline.build_unique_id(m) == data_pipeline.build_unique_id(m2)
+
+
+def test_build_unique_id_obj(placeboify, maybe_sleep):
+    # check that the object can be different and the unique id should be the same; should be able to modify objects
+    m = FakeModule(**{'name': 'ansible-unittest-1', 'objects': [{'first': 'object'}]})
+    m2 = FakeModule(**{'name': 'ansible-unittest-1', 'objects': [{'second': 'object'}]})
+    assert data_pipeline.build_unique_id(m) == data_pipeline.build_unique_id(m2)
+
+
+def test_format_tags(placeboify, maybe_sleep):
+    unformatted_tags = {'key1': 'val1', 'key2': 'val2', 'key3': 'val3'}
+    formatted_tags = data_pipeline.format_tags(unformatted_tags)
+    for tag_set in formatted_tags:
+        assert unformatted_tags[tag_set['key']] == tag_set['value']
+
+
+def test_format_empty_tags(placeboify, maybe_sleep):
+    unformatted_tags = {}
+    formatted_tags = data_pipeline.format_tags(unformatted_tags)
+    assert formatted_tags == []
+
+
+def test_pipeline_description(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    dp_id = dp_setup.data_pipeline_id
+    pipelines = data_pipeline.pipeline_description(connection, dp_id)
+    assert dp_id == pipelines['pipelineDescriptionList'][0]['pipelineId']
+
+
+def test_pipeline_description_nonexistent(placeboify, maybe_sleep):
+    hypothetical_pipeline_id = "df-015440025PF7YGLDK47C"
+    connection = placeboify.client('datapipeline')
+    with pytest.raises(Exception) as error:
+        data_pipeline.pipeline_description(connection, hypothetical_pipeline_id)
+        assert error == data_pipeline.DataPipelineNotFound
+
+
+def test_check_dp_exists_true(placeboify, maybe_sleep, dp_setup):
+    connection = placeboify.client('datapipeline')
+    exists = data_pipeline.check_dp_exists(connection, dp_setup.data_pipeline_id)
+    assert exists is True
+
+
+def test_check_dp_exists_false(placeboify, maybe_sleep):
+    hypothetical_pipeline_id = "df-015440025PF7YGLDK47C"
+    connection = placeboify.client('datapipeline')
+    exists = data_pipeline.check_dp_exists(connection, hypothetical_pipeline_id)
+    assert exists is False
+
+
+def test_check_dp_status(placeboify, maybe_sleep, dp_setup):
+    inactive_states = ['INACTIVE', 'PENDING', 'FINISHED', 'DELETING']
+    connection = placeboify.client('datapipeline')
+    state = data_pipeline.check_dp_status(connection, dp_setup.data_pipeline_id, inactive_states)
+    assert state is True
+
+
+def test_activate_pipeline(placeboify, maybe_sleep, dp_setup):
+    # use objects to define pipeline before activating
+    connection = placeboify.client('datapipeline')
+    data_pipeline.define_pipeline(connection,
+                                  module=dp_setup.module,
+                                  objects=dp_setup.objects,
+                                  dp_id=dp_setup.data_pipeline_id)
+    changed, result = data_pipeline.activate_pipeline(connection, dp_setup.module)
+    assert changed is True
