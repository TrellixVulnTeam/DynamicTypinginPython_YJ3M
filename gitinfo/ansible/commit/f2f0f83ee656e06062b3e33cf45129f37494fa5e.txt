commit f2f0f83ee656e06062b3e33cf45129f37494fa5e
Author: Lee Hardy <lee.hardy@frog.education>
Date:   Wed Nov 4 16:37:18 2015 +0000

    - fix user_exists statement with host_all to use only username parameter

diff --git a/lib/ansible/modules/database/mysql/mysql_user.py b/lib/ansible/modules/database/mysql/mysql_user.py
index f462d8920d..d2223bc6d5 100644
--- a/lib/ansible/modules/database/mysql/mysql_user.py
+++ b/lib/ansible/modules/database/mysql/mysql_user.py
@@ -235,7 +235,7 @@ def connect(module, login_user=None, login_password=None, config_file=''):
 
 def user_exists(cursor, user, host, host_all):
     if host_all:
-        cursor.execute("SELECT count(*) FROM user WHERE user = %s AND host = %s", (user,host))
+        cursor.execute("SELECT count(*) FROM user WHERE user = %s", user)
     else:
         cursor.execute("SELECT count(*) FROM user WHERE user = %s AND host = %s", (user,host))
 
