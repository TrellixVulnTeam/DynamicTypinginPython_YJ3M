commit 6aeea1fe7e56621d377cf8d221202271228501e8
Author: Lucas Costa Beyeler <lucascbeyeler@users.noreply.github.com>
Date:   Thu Aug 11 15:23:29 2016 -0300

    Fix #4202: Can't unarchive remote files (#4244)
    
    When you try to remote unarchive files with the option copy=no the code always fail, as evidenced in issue #4202. That happens because the conditional to check "if remote_src=no or copy=yes" will always be true since the default value of them is remote_src=no and copy=yes.
    My modification is only to change the condition from or to and, that way only if both the vars stay with the default value will be true, otherwise you can unarchive remote files.

diff --git a/lib/ansible/modules/files/unarchive.py b/lib/ansible/modules/files/unarchive.py
index c2a75842bb..922adb45cc 100644
--- a/lib/ansible/modules/files/unarchive.py
+++ b/lib/ansible/modules/files/unarchive.py
@@ -733,7 +733,7 @@ def main():
     file_args = module.load_file_common_arguments(module.params)
     # did tar file arrive?
     if not os.path.exists(src):
-        if not remote_src or copy:
+        if not remote_src and copy:
             module.fail_json(msg="Source '%s' failed to transfer" % src)
         # If copy=false, and src= contains ://, try and download the file to a temp directory.
         elif '://' in src:
