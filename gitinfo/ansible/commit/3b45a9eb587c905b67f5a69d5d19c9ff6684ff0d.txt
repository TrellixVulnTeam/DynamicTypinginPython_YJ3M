commit 3b45a9eb587c905b67f5a69d5d19c9ff6684ff0d
Author: pdasilva <pdasilva@gmail.com>
Date:   Mon May 22 14:40:13 2017 -0700

    Test for _get_url_data in jenkins_plugin.py (#24905)
    
    * Test for _get_url_data in jenkins_plugin.py
    
    * PEP8 fix

diff --git a/test/units/modules/web_infrastructure/test_jenkins_plugin.py b/test/units/modules/web_infrastructure/test_jenkins_plugin.py
new file mode 100644
index 0000000000..c7955b684f
--- /dev/null
+++ b/test/units/modules/web_infrastructure/test_jenkins_plugin.py
@@ -0,0 +1,31 @@
+import collections
+import mock
+
+from ansible.modules.web_infrastructure.jenkins_plugin import JenkinsPlugin
+
+
+def pass_function(*args, **kwargs):
+    pass
+
+
+def test__get_json_data(mocker):
+    "test the json conversion of _get_url_data"
+
+    url = 'https://api.github.com/repos/ansible/ansible'
+    timeout = 30
+    params = {
+        'url': url,
+        'timeout': timeout
+    }
+    module = mock.Mock()
+    module.params = params
+
+    JenkinsPlugin._csrf_enabled = pass_function
+    JenkinsPlugin._get_installed_plugins = pass_function
+    jenkins_plugin = JenkinsPlugin(module)
+
+    json_data = jenkins_plugin._get_json_data(
+        "{url}".format(url=url),
+        'CSRF')
+
+    assert isinstance(json_data, collections.Mapping)
