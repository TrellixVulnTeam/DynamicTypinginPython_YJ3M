commit 17586bafee03fce655590b1f7e1f216bbd5b3e5d
Author: Ton Kersten <github@tonkersten.com>
Date:   Mon Apr 29 10:50:12 2013 +0200

    commit 290ecfcdc2fa6dcbee8328130c85916fdebd5152
    Author: Ton Kersten <github@tonkersten.com>
    Date:   Mon Apr 29 10:44:30 2013 +0200
    
        Fixed the installation of library directories
    
        When running install the `setup.py` give error
    
        changing mode of /usr/bin/ansible-doc to 755
        running install_data
        error: can't copy './library/utilities': doesn't exist or not a regular file
        make: *** [install] Error 1
    
        Debugging 'benno' came up with this patch, which works on CentOS 6.4 and
        on Ubuntu.

diff --git a/setup.py b/setup.py
index 00018cc464..cb71240f98 100644
--- a/setup.py
+++ b/setup.py
@@ -10,7 +10,10 @@ from distutils.core import setup
 
 # find library modules
 from ansible.constants import DIST_MODULE_PATH
-data_files = [ (DIST_MODULE_PATH, glob('./library/*')) ]
+dirs=os.listdir("./library/")
+data_files = []
+for i in dirs:
+    data_files.append((DIST_MODULE_PATH + i, glob('./library/' + i + '/*')))
 
 print "DATA FILES=%s" % data_files
 
