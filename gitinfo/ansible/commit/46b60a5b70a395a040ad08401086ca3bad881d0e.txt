commit 46b60a5b70a395a040ad08401086ca3bad881d0e
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jan 14 08:02:49 2015 -0600

    Fix missing expanduser on chdir value

diff --git a/lib/ansible/modules/commands/command.py b/lib/ansible/modules/commands/command.py
index 50d329199c..6baf35922c 100644
--- a/lib/ansible/modules/commands/command.py
+++ b/lib/ansible/modules/commands/command.py
@@ -178,6 +178,7 @@ def main():
         module.fail_json(rc=256, msg="no command given")
 
     if chdir:
+        chdir = os.path.abspath(os.path.expanduser(chdir))
         os.chdir(chdir)
 
     if creates:
