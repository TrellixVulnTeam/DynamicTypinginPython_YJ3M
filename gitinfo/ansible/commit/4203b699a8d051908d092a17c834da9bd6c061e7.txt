commit 4203b699a8d051908d092a17c834da9bd6c061e7
Author: Brian Coca <bcoca@ansible.com>
Date:   Sat Jul 11 15:15:46 2015 -0400

    removed dict comprehension as 2.6 does not like

diff --git a/lib/ansible/executor/process/result.py b/lib/ansible/executor/process/result.py
index 71d6746be0..2750261e04 100644
--- a/lib/ansible/executor/process/result.py
+++ b/lib/ansible/executor/process/result.py
@@ -108,7 +108,9 @@ class ResultProcess(multiprocessing.Process):
 
                 # if this task is registering a result, do it now
                 if result._task.register:
-                    res = {k: result._result[k] for k in set(result._result.keys()).difference(C.RESULT_SANITIZE)}
+                    res = {}
+                    for k in set(result._result.keys()).difference(C.RESULT_SANITIZE):
+                        res[k] = result._result[k]
                     self._send_result(('register_host_var', result._host, result._task.register, res))
 
                 # send callbacks, execute other options based on the result status
diff --git a/lib/ansible/plugins/callback/__init__.py b/lib/ansible/plugins/callback/__init__.py
index a5a13c1cff..d39af7e092 100644
--- a/lib/ansible/plugins/callback/__init__.py
+++ b/lib/ansible/plugins/callback/__init__.py
@@ -53,7 +53,10 @@ class CallbackBase:
         return json.dumps(res, indent=indent, ensure_ascii=False, sort_keys=sort_keys)
 
     def _sanitize_result(self, result):
-        return {k: result[k] for k in set(result.keys()).difference(C.RESULT_SANITIZE)}
+        res = {}
+        for k in set(result.keys()).difference(C.RESULT_SANITIZE):
+            res[k] = result[k]
+        return res
 
     def set_connection_info(self, conn_info):
         pass
