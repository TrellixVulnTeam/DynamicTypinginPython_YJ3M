commit c896aab5e3aefe3fc9eb0feef6a77492c29d6e48
Author: Rene Moser <mail@renemoser.net>
Date:   Sat Jul 15 09:55:29 2017 +0200

    cloudstack: cs_router: fix router not found and async polling in reboot

diff --git a/lib/ansible/modules/cloud/cloudstack/cs_router.py b/lib/ansible/modules/cloud/cloudstack/cs_router.py
index 7437955d64..52b2e5134c 100644
--- a/lib/ansible/modules/cloud/cloudstack/cs_router.py
+++ b/lib/ansible/modules/cloud/cloudstack/cs_router.py
@@ -205,6 +205,7 @@ class AnsibleCloudStackRouter(AnsibleCloudStack):
             args['projectid'] = self.get_project(key='id')
             args['account'] = self.get_account(key='name')
             args['domainid'] = self.get_domain(key='id')
+            args['listall'] = True
 
             routers = self.cs.listRouters(**args)
             if routers:
@@ -271,9 +272,9 @@ class AnsibleCloudStackRouter(AnsibleCloudStack):
             if 'errortext' in res:
                 self.module.fail_json(msg="Failed: '%s'" % res['errortext'])
 
-                poll_async = self.module.params.get('poll_async')
-                if poll_async:
-                    router = self.poll_job(res, 'router')
+            poll_async = self.module.params.get('poll_async')
+            if poll_async:
+                router = self.poll_job(res, 'router')
         return router
 
     def absent_router(self):
