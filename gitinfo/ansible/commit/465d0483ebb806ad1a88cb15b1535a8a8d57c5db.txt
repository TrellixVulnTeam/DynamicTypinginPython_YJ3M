commit 465d0483ebb806ad1a88cb15b1535a8a8d57c5db
Author: Anders Ingemann <aim@secoya.dk>
Date:   Fri Oct 24 13:41:29 2014 +0200

    Clear rabbitmq_user pw when none is specified

diff --git a/lib/ansible/modules/extras/messaging/rabbitmq_user.py b/lib/ansible/modules/extras/messaging/rabbitmq_user.py
index 1cbee360df..b19ec1fc09 100644
--- a/lib/ansible/modules/extras/messaging/rabbitmq_user.py
+++ b/lib/ansible/modules/extras/messaging/rabbitmq_user.py
@@ -162,7 +162,11 @@ class RabbitMqUser(object):
         return dict()
 
     def add(self):
-        self._exec(['add_user', self.username, self.password])
+        if self.password is not None:
+            self._exec(['add_user', self.username, self.password])
+        else
+            self._exec(['add_user', self.username, ''])
+            self._exec(['clear_password', self.username])
 
     def delete(self):
         self._exec(['delete_user', self.username])
