commit 6441556b98cf80b1308c9ac443c4434979a2fff2
Author: Daniel Petty <mixmatch@gmail.com>
Date:   Wed May 25 17:00:12 2016 -0600

    fixed $source null check, reference to $Params
    
    $source check causes:
    FAILED! => {"changed": false, "failed": true, "msg": "A parameter cannot be found that matches parameter name 'Source'."}
    
    $Params.Remove causes:
    FAILED! => {"changed": false, "failed": true, "msg": "Method invocation failed because [System.Management.Automation.PSCustomObject] does not contain a method named 'Remove'."}

diff --git a/lib/ansible/modules/windows/win_feature.ps1 b/lib/ansible/modules/windows/win_feature.ps1
index 62960d581e..339b79b9d7 100644
--- a/lib/ansible/modules/windows/win_feature.ps1
+++ b/lib/ansible/modules/windows/win_feature.ps1
@@ -63,7 +63,7 @@ If ($state -eq "present") {
         $InstallParams.add("IncludeManagementTools",$includemanagementtools)
     }
     
-    if ($source -ne $null)
+    if ($source)
     {
         $InstallParams.add("Source",$source)
     }
@@ -77,7 +77,7 @@ If ($state -eq "present") {
         ElseIf (Get-Command "Add-WindowsFeature" -ErrorAction SilentlyContinue) {
             if ($IncludeManagementTools)
             {
-                $Params.Remove("IncludeManagementTools")
+                $InstallParams.Remove("IncludeManagementTools")
             }
             $featureresult = Add-WindowsFeature @InstallParams
         }
