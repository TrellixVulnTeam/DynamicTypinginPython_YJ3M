commit 64458bc9a1ee9837521ccbf775b8cf5762bc3f90
Author: Matt Clay <matt@mystile.com>
Date:   Mon Apr 3 16:15:07 2017 -0700

    Fix deploy_helper join exception on no release.

diff --git a/lib/ansible/modules/web_infrastructure/deploy_helper.py b/lib/ansible/modules/web_infrastructure/deploy_helper.py
index d87caf831c..976ed05516 100644
--- a/lib/ansible/modules/web_infrastructure/deploy_helper.py
+++ b/lib/ansible/modules/web_infrastructure/deploy_helper.py
@@ -316,7 +316,10 @@ class DeployHelper(object):
         if not self.release and (self.state == 'query' or self.state == 'present'):
             self.release = time.strftime("%Y%m%d%H%M%S")
 
-        new_release_path = os.path.join(releases_path, self.release)
+        if self.release:
+            new_release_path = os.path.join(releases_path, self.release)
+        else:
+            new_release_path = None
 
         return {
             'project_path':             self.path,
