commit f72114c657bb663c046441f5134694435f9a520d
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sat Apr 21 11:56:06 2012 -0400

    Move setup.py stuff back to top level as "make sdist" was not working, plus, it makes sources cleaner.

diff --git a/packaging/distutils/MANIFEST.in b/MANIFEST.in
similarity index 100%
rename from packaging/distutils/MANIFEST.in
rename to MANIFEST.in
diff --git a/Makefile b/Makefile
index dae28e5b9b..72e9608df4 100644
--- a/Makefile
+++ b/Makefile
@@ -16,11 +16,6 @@ RPMVERSION := $(shell awk '/Version/{print $$2; exit}' < $(RPMSPEC) | cut -d "%"
 RPMRELEASE := $(shell awk '/Release/{print $$2; exit}' < $(RPMSPEC) | cut -d "%" -f1)
 RPMDIST = $(shell rpm --eval '%dist')
 RPMNVR = "$(NAME)-$(RPMVERSION)-$(RPMRELEASE)$(RPMDIST)"
-# Python distutils options
-DUDIR = packaging/distutils
-DUSETUP = $(DUDIR)/setup.py
-DUMANIFEST = $(DUDIR)/MANIFEST.in
-
 
 all: clean python
 
@@ -70,15 +65,15 @@ clean:
 	rm -rf MANIFEST rpm-build
 
 python:
-	python $(DUSETUP) build
+	python setup.py build
 
 install:
 	mkdir -p /usr/share/ansible
 	cp ./library/* /usr/share/ansible/
-	python $(DUSETUP) install
+	python setup.py install
 
 sdist: clean
-	python ./$(DUSETUP) sdist -t $(DUMANIFEST)
+	python setup.py sdist -t MANIFEST.in
 
 rpmcommon: sdist
 	@mkdir -p rpm-build
@@ -109,3 +104,10 @@ rpm: rpmcommon
 	@echo "Ansible RPM is built:"
 	@echo "    rpm-build/noarch/$(RPMNVR).noarch.rpm"
 	@echo "#############################################"
+
+debian:
+	# stub target, FIXME!
+	(cd packaging/debian; dpkg-buildpackage -us -uc -rfakeroot)
+
+# for arch or gentoo, read instructions in the appropriate 'packaging' subdirectory directory
+
diff --git a/packaging/rpm/ansible.spec b/packaging/rpm/ansible.spec
index bd1350e73d..9a394d5135 100644
--- a/packaging/rpm/ansible.spec
+++ b/packaging/rpm/ansible.spec
@@ -2,8 +2,6 @@
 %{!?python_sitelib: %global python_sitelib %(%{__python} -c "from distutils.sysconfig import get_python_lib; print(get_python_lib())")}
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot
 %endif
-%define _dusetup   packaging/distutils/setup.py
-
 
 Name: ansible
 Release: 1%{?dist}
@@ -35,10 +33,10 @@ are transferred to managed machines automatically.
 %setup -q
 
 %build
-%{__python} %{_dusetup} build
+%{__python} setup.py build
 
 %install
-%{__python} %{_dusetup} install -O1 --root=$RPM_BUILD_ROOT
+%{__python} setup.py install -O1 --root=$RPM_BUILD_ROOT
 mkdir -p $RPM_BUILD_ROOT/etc/ansible/
 cp examples/hosts $RPM_BUILD_ROOT/etc/ansible/
 mkdir -p $RPM_BUILD_ROOT/%{_mandir}/man1/
diff --git a/packaging/distutils/setup.py b/setup.py
similarity index 100%
rename from packaging/distutils/setup.py
rename to setup.py
