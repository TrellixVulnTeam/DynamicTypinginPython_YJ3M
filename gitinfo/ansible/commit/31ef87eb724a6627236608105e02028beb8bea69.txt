commit 31ef87eb724a6627236608105e02028beb8bea69
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Thu Jun 11 09:05:44 2015 -0700

    Add dnf to list of modules that we squash loop items for

diff --git a/v1/ansible/runner/__init__.py b/v1/ansible/runner/__init__.py
index 8b46683c37..4ff273778c 100644
--- a/v1/ansible/runner/__init__.py
+++ b/v1/ansible/runner/__init__.py
@@ -740,7 +740,7 @@ class Runner(object):
                 if type(items) != list:
                     raise errors.AnsibleError("lookup plugins have to return a list: %r" % items)
 
-                if len(items) and utils.is_list_of_strings(items) and self.module_name in [ 'apt', 'yum', 'pkgng', 'zypper' ]:
+                if len(items) and utils.is_list_of_strings(items) and self.module_name in ( 'apt', 'yum', 'pkgng', 'zypper', 'dnf' ):
                     # hack for apt, yum, and pkgng so that with_items maps back into a single module call
                     use_these_items = []
                     for x in items:
