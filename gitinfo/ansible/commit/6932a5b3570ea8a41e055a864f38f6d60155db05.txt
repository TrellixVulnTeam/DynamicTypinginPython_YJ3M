commit 6932a5b3570ea8a41e055a864f38f6d60155db05
Author: Drew <drewm727@hotmail.com>
Date:   Thu Aug 8 10:25:13 2019 -0500

    add npipe support to docker_swarm_service (#60073)
    
    * add npipe support to docker_swarm_service
    
    * add changelog fragment
    
    * tweak changelog fragment formatting
    
    * Update lib/ansible/modules/cloud/docker/docker_swarm_service.py
    
    Co-Authored-By: Felix Fontein <felix@fontein.de>

diff --git a/changelogs/fragments/60073-docker_swarm_service_add_npipe.yml b/changelogs/fragments/60073-docker_swarm_service_add_npipe.yml
new file mode 100644
index 0000000000..03ac3931ce
--- /dev/null
+++ b/changelogs/fragments/60073-docker_swarm_service_add_npipe.yml
@@ -0,0 +1,2 @@
+minor_changes:
+- docker_swarm_service - Add ``npipe`` mount support.
\ No newline at end of file
diff --git a/lib/ansible/modules/cloud/docker/docker_swarm_service.py b/lib/ansible/modules/cloud/docker/docker_swarm_service.py
index 08b24df547..9188fe2489 100644
--- a/lib/ansible/modules/cloud/docker/docker_swarm_service.py
+++ b/lib/ansible/modules/cloud/docker/docker_swarm_service.py
@@ -285,12 +285,14 @@ options:
       type:
         description:
           - The mount type.
+          - Note that C(npipe) is only supported by Docker for Windows. Also note that C(npipe) was added in Ansible 2.9.
         type: str
         default: bind
         choices:
           - bind
           - volume
           - tmpfs
+          - npipe
       readonly:
         description:
           - Whether the mount should be read-only.
@@ -2535,7 +2537,7 @@ def main():
             type=dict(
                 type='str',
                 default='bind',
-                choices=['bind', 'volume', 'tmpfs'],
+                choices=['bind', 'volume', 'tmpfs', 'npipe'],
             ),
             readonly=dict(type='bool'),
             labels=dict(type='dict'),
