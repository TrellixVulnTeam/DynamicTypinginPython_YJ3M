commit 68795d81282b04f4a55687c23eebf0ef88136df8
Author: Mike Bryant <m@ocado.com>
Date:   Fri May 6 17:56:15 2016 +0100

    Allow ssh agent usage for junos_netconf
    
    By default the `Shell` class disables ssh agents. The `junos_netconf`
    module uses this class, but doesn't re-enable agents.
    Here it's explicitly enabled again, so an ssh agent can be used to
    connect to and configure Junos devices.

diff --git a/lib/ansible/module_utils/junos.py b/lib/ansible/module_utils/junos.py
index 61d5ca73ce..8a775d7a7c 100644
--- a/lib/ansible/module_utils/junos.py
+++ b/lib/ansible/module_utils/junos.py
@@ -95,7 +95,7 @@ class Cli(object):
 
         try:
             self.shell = Shell()
-            self.shell.open(host, port=port, username=username, password=password, key_filename=key_filename)
+            self.shell.open(host, port=port, username=username, password=password, key_filename=key_filename, allow_agent=True)
         except ShellError:
             e = get_exception()
             msg = 'failed to connect to %s:%s - %s' % (host, port, str(e))
