commit 78eca0eb5dee4d1c2192b07c3c73ef88b7e2219c
Author: Matt Clay <matt@mystile.com>
Date:   Thu Oct 17 12:55:01 2019 -0700

    Fix SSL protocol references in mqtt module.

diff --git a/changelogs/fragments/mqtt-ssl-protocols.yml b/changelogs/fragments/mqtt-ssl-protocols.yml
new file mode 100644
index 0000000000..9985de736b
--- /dev/null
+++ b/changelogs/fragments/mqtt-ssl-protocols.yml
@@ -0,0 +1,2 @@
+bugfixes:
+    - Fix SSL protcol references in the ``mqtt`` module to prevent failures on Python 2.6.
diff --git a/lib/ansible/modules/notification/mqtt.py b/lib/ansible/modules/notification/mqtt.py
index 6961be385e..290abb1893 100644
--- a/lib/ansible/modules/notification/mqtt.py
+++ b/lib/ansible/modules/notification/mqtt.py
@@ -142,10 +142,17 @@ from ansible.module_utils._text import to_native
 #
 
 def main():
-    tls_map = {
-        'tlsv1.2': ssl.PROTOCOL_TLSv1_2,
-        'tlsv1.1': ssl.PROTOCOL_TLSv1_1,
-    }
+    tls_map = {}
+
+    try:
+        tls_map['tlsv1.2'] = ssl.PROTOCOL_TLSv1_2
+    except AttributeError:
+        pass
+
+    try:
+        tls_map['tlsv1.1'] = ssl.PROTOCOL_TLSv1_1
+    except AttributeError:
+        pass
 
     module = AnsibleModule(
         argument_spec=dict(
