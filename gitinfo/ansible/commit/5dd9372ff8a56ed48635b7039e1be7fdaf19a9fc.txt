commit 5dd9372ff8a56ed48635b7039e1be7fdaf19a9fc
Author: Ryan S. Brown <sb@ryansb.com>
Date:   Thu Nov 10 08:51:51 2016 -0500

    Fail gracefully in `ec2_asg` module when there are no matching launch configurations

diff --git a/lib/ansible/modules/cloud/amazon/ec2_asg.py b/lib/ansible/modules/cloud/amazon/ec2_asg.py
index 9e829a2434..36cb733aec 100644
--- a/lib/ansible/modules/cloud/amazon/ec2_asg.py
+++ b/lib/ansible/modules/cloud/amazon/ec2_asg.py
@@ -442,6 +442,8 @@ def create_autoscaling_group(connection, module):
             availability_zones = module.params['availability_zones'] = [zone.name for zone in ec2_connection.get_all_zones()]
         enforce_required_arguments(module)
         launch_configs = connection.get_all_launch_configurations(names=[launch_config_name])
+        if len(launch_configs) == 0:
+            module.fail_json(msg="No launch config found with name %s" % launch_config_name)
         ag = AutoScalingGroup(
                  group_name=group_name,
                  load_balancers=load_balancers,
