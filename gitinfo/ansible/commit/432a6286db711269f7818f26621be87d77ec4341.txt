commit 432a6286db711269f7818f26621be87d77ec4341
Author: Peter Oliver <peter.oliver@mavitsys.co.uk>
Date:   Wed Dec 17 12:44:58 2014 +0000

    Fix appending to a user's group on Solaris
    
    Without this change, you get:
        AttributeError: 'set' object has no attribute 'extend'
    
    Tested on a Solaris 11.2 client with the included Python 2.6.8.

diff --git a/lib/ansible/modules/system/user.py b/lib/ansible/modules/system/user.py
index 30ae29d30a..aaeee5683d 100644
--- a/lib/ansible/modules/system/user.py
+++ b/lib/ansible/modules/system/user.py
@@ -1255,7 +1255,7 @@ class SunOS(User):
                 cmd.append('-G')
                 new_groups = groups
                 if self.append:
-                    new_groups.extend(current_groups)
+                    new_groups.update(current_groups)
                 cmd.append(','.join(new_groups))
 
         if self.comment is not None and info[4] != self.comment:
