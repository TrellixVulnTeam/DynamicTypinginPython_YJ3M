commit 67c251d13cacf54ecf9c78c64269ff95678261da
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Mon Jun 24 19:24:20 2019 +0530

    Fix junos modules persistent connection check (#57986)
    
    Fixes #57985
    
    *  The check `USE_PERSISTENT_CONNECTION` flag is no longer
       required in action plugin as the junos modules in galaxy are renamed
       to start with `juniper_`.

diff --git a/lib/ansible/plugins/action/junos.py b/lib/ansible/plugins/action/junos.py
index c49e4f56ea..40f6d8dbab 100644
--- a/lib/ansible/plugins/action/junos.py
+++ b/lib/ansible/plugins/action/junos.py
@@ -22,12 +22,10 @@ __metaclass__ = type
 import sys
 import copy
 
-from ansible import constants as C
 from ansible.module_utils._text import to_text
 from ansible.module_utils.connection import Connection
 from ansible.module_utils.network.common.utils import load_provider
 from ansible.module_utils.network.junos.junos import junos_provider_spec
-from ansible.plugins.loader import connection_loader, module_loader
 from ansible.plugins.action.network import ActionModule as ActionNetworkModule
 from ansible.utils.display import Display
 
@@ -42,10 +40,6 @@ class ActionModule(ActionNetworkModule):
         del tmp  # tmp no longer has any effect
 
         self._config_module = True if self._task.action == 'junos_config' else False
-        module = module_loader._load_module_source(self._task.action, module_loader.find_plugin(self._task.action))
-        if not getattr(module, 'USE_PERSISTENT_CONNECTION', False):
-            return super(ActionModule, self).run(task_vars=task_vars)
-
         socket_path = None
 
         if self._play_context.connection == 'local':
