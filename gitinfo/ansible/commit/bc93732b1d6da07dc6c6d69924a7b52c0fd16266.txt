commit bc93732b1d6da07dc6c6d69924a7b52c0fd16266
Author: James Cammarata <jimi@sngx.net>
Date:   Mon Mar 24 16:32:31 2014 -0500

    Catch permissions errors related to opening a known_hosts file in modules
    
    Fixes #6644

diff --git a/lib/ansible/module_utils/known_hosts.py b/lib/ansible/module_utils/known_hosts.py
index dfd684c232..e6912d9184 100644
--- a/lib/ansible/module_utils/known_hosts.py
+++ b/lib/ansible/module_utils/known_hosts.py
@@ -87,9 +87,16 @@ def not_in_host_file(self, host):
         if not os.path.exists(hf):
             hfiles_not_found += 1
             continue
-        host_fh = open(hf)
-        data = host_fh.read()
-        host_fh.close()
+
+        try:
+            host_fh = open(hf)
+        except IOError, e:
+            hfiles_not_found += 1
+            continue
+        else:
+            data = host_fh.read()
+            host_fh.close()
+
         for line in data.split("\n"):
             if line is None or line.find(" ") == -1:
                 continue
