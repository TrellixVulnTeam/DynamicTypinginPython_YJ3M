commit ee06eebea3d7e218783385424a6f575e8bb7e5b3
Author: Davide Guerri <davide.guerri@gmail.com>
Date:   Thu Jun 4 19:46:09 2015 +0100

    Fix lookup() plugin
    
    lookup() plugin is currently broken because _get_file_contents() now
    returns a tuple: (contents, show_data).
    
    This patch fix that issue.

diff --git a/lib/ansible/plugins/lookup/file.py b/lib/ansible/plugins/lookup/file.py
index ea53c37e03..30247c150c 100644
--- a/lib/ansible/plugins/lookup/file.py
+++ b/lib/ansible/plugins/lookup/file.py
@@ -53,7 +53,7 @@ class LookupModule(LookupBase):
 
             for path in (basedir_path, relative_path, playbook_path):
                 try:
-                    contents = self._loader._get_file_contents(path)
+                    contents, show_data = self._loader._get_file_contents(path)
                     ret.append(contents.rstrip())
                     break
                 except AnsibleParserError:
