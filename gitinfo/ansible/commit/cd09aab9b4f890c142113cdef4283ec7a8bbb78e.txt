commit cd09aab9b4f890c142113cdef4283ec7a8bbb78e
Author: Kenny Woodson <kwoodson@redhat.com>
Date:   Fri May 20 10:26:19 2016 -0400

    Unindenting the delete to user (#3147)

diff --git a/lib/ansible/modules/cloud/amazon/iam.py b/lib/ansible/modules/cloud/amazon/iam.py
index 275d53b300..e5d06682b6 100644
--- a/lib/ansible/modules/cloud/amazon/iam.py
+++ b/lib/ansible/modules/cloud/amazon/iam.py
@@ -196,11 +196,10 @@ def delete_user(module, iam, name):
         except boto.exception.BotoServerError, err:
             error_msg = boto_exception(err)
             if ('Cannot find Login Profile') in error_msg:
-
                del_meta = iam.delete_user(name).delete_user_response
-            else:
-              iam.delete_login_profile(name)
-              del_meta = iam.delete_user(name).delete_user_response
+        else:
+          iam.delete_login_profile(name)
+          del_meta = iam.delete_user(name).delete_user_response
     except Exception as ex:
         module.fail_json(changed=False, msg="delete failed %s" %ex)
         if ('must detach all policies first') in error_msg:
