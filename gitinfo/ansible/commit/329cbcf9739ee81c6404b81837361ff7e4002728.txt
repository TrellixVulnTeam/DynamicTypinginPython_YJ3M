commit 329cbcf9739ee81c6404b81837361ff7e4002728
Author: Ganesh B Nalawade <ganesh634@gmail.com>
Date:   Wed Dec 5 08:44:14 2018 +0530

    Fix in dict_merge to check for Mapping
    
    *  Based on review comments for PR #49474 change the check
       for isinstance from `dict` to `Mapping`

diff --git a/lib/ansible/module_utils/network/common/utils.py b/lib/ansible/module_utils/network/common/utils.py
index b1dde9685d..20bb5c4bae 100644
--- a/lib/ansible/module_utils/network/common/utils.py
+++ b/lib/ansible/module_utils/network/common/utils.py
@@ -37,6 +37,7 @@ from itertools import chain
 from socket import inet_aton
 
 from ansible.module_utils._text import to_text
+from ansible.module_utils.common._collections_compat import Mapping
 from ansible.module_utils.six import iteritems, string_types
 from ansible.module_utils.basic import AnsibleFallbackNotFound
 
@@ -301,7 +302,7 @@ def dict_merge(base, other):
             if key in other:
                 item = other.get(key)
                 if item is not None:
-                    if isinstance(other[key], dict):
+                    if isinstance(other[key], Mapping):
                         combined[key] = dict_merge(value, other[key])
                     else:
                         combined[key] = other[key]
