commit 628b289ab39c7175f42cc3f70c5f19fdc9045a1a
Author: Jan-Piet Mens <jpmens@gmail.com>
Date:   Mon Jul 23 07:51:33 2012 +0200

    Fix file module to support = in args; remove superflous call in get_url

diff --git a/library/file b/library/file
index 0c85ed3a88..e39e55bef1 100755
--- a/library/file
+++ b/library/file
@@ -135,7 +135,7 @@ if not len(items):
 
 params = {}
 for x in items:
-    (k, v) = x.split("=")
+    (k, v) = x.split("=",1)
     params[k] = v
 
 state     = params.get('state','file')
diff --git a/library/get_url b/library/get_url
index 8bf3cbfbdd..4d82f8abfc 100755
--- a/library/get_url
+++ b/library/get_url
@@ -60,7 +60,7 @@ def url_do_get(module, url, dest):
 
     if os.path.isdir(dest):
         urlfilename = url_filename(url)
-        actualdest = "%s/%s" % (dest, url_filename(url))
+        actualdest = "%s/%s" % (dest, urlfilename)
         module.params['path'] = actualdest
     else:
          actualdest = dest
