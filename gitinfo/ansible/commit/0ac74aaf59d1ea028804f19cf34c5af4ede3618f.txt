commit 0ac74aaf59d1ea028804f19cf34c5af4ede3618f
Author: James Cammarata <jimi@sngx.net>
Date:   Mon May 19 23:22:14 2014 -0500

    Also set the environment variables when resetting the locale to C

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index 33056ca81f..e06b5cf568 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -580,6 +580,8 @@ class AnsibleModule(object):
             # issues but is preferable to simply failing because
             # of an unknown locale
             locale.setlocale(locale.LC_ALL, 'C')
+            os.environ['LANG']     = 'C'
+            os.environ['LC_CTYPE'] = 'C'
         except Exception, e:
             self.fail_json(msg="An unknown error was encountered while attempting to validate the locale: %s" % e)
 
