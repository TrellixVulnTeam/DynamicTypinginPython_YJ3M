commit 88966e6558fe53fdf5c30910e9bc154db2d18081
Author: James Cammarata <jimi@sngx.net>
Date:   Sun Aug 25 11:46:45 2013 -0500

    Use AnsibleError instead of exit for errors in utils

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index 39a954f0ca..a7305b3ded 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -220,9 +220,9 @@ def prepare_writeable_dir(tree,mode=0777):
         try:
             os.makedirs(tree, mode)
         except (IOError, OSError), e:
-            exit("Could not make dir %s: %s" % (tree, e))
+            raise errors.AnsibleError("Could not make dir %s: %s" % (tree, e))
     if not os.access(tree, os.W_OK):
-        exit("Cannot write to path %s" % tree)
+        raise errors.AnsibleError("Cannot write to path %s" % tree)
     return tree
 
 def path_dwim(basedir, given):
