commit db963449666041414813dfd4486dec9a64ab18de
Author: James Cammarata <jimi@sngx.net>
Date:   Fri Jul 11 13:19:36 2014 -0500

    Re-fixing ability to have empty json files after inventory refactoring

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index fb391f9efd..f04b4df5c2 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -1281,9 +1281,11 @@ def _load_vars_from_path(path, results, vault_password=None):
     # regular file
     elif stat.S_ISREG(pathstat.st_mode):
         data = parse_yaml_from_file(path, vault_password=vault_password)
-        if type(data) != dict:
+        if data and type(data) != dict:
             raise errors.AnsibleError(
                 "%s must be stored as a dictionary/hash" % path)
+        elif data is None:
+            data = {}
 
         # combine vars overrides by default but can be configured to do a
         # hash merge in settings
