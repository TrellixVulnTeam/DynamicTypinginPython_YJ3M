commit 175351f200cd5773de1bbc9a438a934679ff60e7
Author: Dag Wieers <dag@wieers.com>
Date:   Tue Mar 8 17:23:34 2016 +0100

    Little improvement in flow
    
    Don't get the hostname if it's not needed.

diff --git a/lib/ansible/plugins/callback/__init__.py b/lib/ansible/plugins/callback/__init__.py
index 3a33ddbc4f..6bf7124398 100644
--- a/lib/ansible/plugins/callback/__init__.py
+++ b/lib/ansible/plugins/callback/__init__.py
@@ -334,8 +334,8 @@ class CallbackBase:
         self.playbook_on_stats(stats)
 
     def v2_on_file_diff(self, result):
-        host = result._host.get_name()
         if 'diff' in result._result:
+            host = result._host.get_name()
             self.on_file_diff(host, result._result['diff'])
 
     def v2_playbook_on_include(self, included_file):
