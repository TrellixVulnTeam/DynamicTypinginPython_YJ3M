commit be9d7df6c41a91614e551733db0bf51f6fdbc300
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Sat Sep 29 21:09:38 2012 +0200

    Allow multiline strings to work okay in only_if
    
    Fixes issue #1137

diff --git a/lib/ansible/utils.py b/lib/ansible/utils.py
index a980e49ef4..70aa86782d 100644
--- a/lib/ansible/utils.py
+++ b/lib/ansible/utils.py
@@ -141,7 +141,7 @@ def check_conditional(conditional):
         return not var.startswith("$")
     def is_unset(var):
         return var.startswith("$")
-    return eval(conditional)
+    return eval(conditional.replace("\n", "\\n"))
 
 def is_executable(path):
     '''is the given path executable?'''
