commit 4cecacb9155c3c4161d25ad346b31ac2b5d34c56
Author: Matt Clay <mclay@redhat.com>
Date:   Mon Mar 9 11:08:55 2020 -0700

    Update Shippable test matrix. (#68117)
    
    * Update Shippable test matrix.
    
    * Remove unit test groups.
    
    * Remove extra windows groups.

diff --git a/shippable.yml b/shippable.yml
index 6599fc4b0b..6349cd8f6c 100644
--- a/shippable.yml
+++ b/shippable.yml
@@ -14,29 +14,13 @@ matrix:
     - env: T=sanity/4
     - env: T=sanity/5
 
-    - env: T=units/2.6/1
-    - env: T=units/2.7/1
-    - env: T=units/3.5/1
-    - env: T=units/3.6/1
-    - env: T=units/3.7/1
-    - env: T=units/3.8/1
-    - env: T=units/3.9/1
-
-    - env: T=units/2.6/2
-    - env: T=units/2.7/2
-    - env: T=units/3.5/2
-    - env: T=units/3.6/2
-    - env: T=units/3.7/2
-    - env: T=units/3.8/2
-    - env: T=units/3.9/2
-
-    - env: T=units/2.6/3
-    - env: T=units/2.7/3
-    - env: T=units/3.5/3
-    - env: T=units/3.6/3
-    - env: T=units/3.7/3
-    - env: T=units/3.8/3
-    - env: T=units/3.9/3
+    - env: T=units/2.6
+    - env: T=units/2.7
+    - env: T=units/3.5
+    - env: T=units/3.6
+    - env: T=units/3.7
+    - env: T=units/3.8
+    - env: T=units/3.9
 
     - env: T=windows/2012/1
     - env: T=windows/2012-R2/1
@@ -48,31 +32,6 @@ matrix:
     - env: T=windows/2016/2
     - env: T=windows/2019/2
 
-    - env: T=windows/2012/3
-    - env: T=windows/2012-R2/3
-    - env: T=windows/2016/3
-    - env: T=windows/2019/3
-
-    - env: T=windows/2012/4
-    - env: T=windows/2012-R2/4
-    - env: T=windows/2016/4
-    - env: T=windows/2019/4
-
-    - env: T=windows/2012/5
-    - env: T=windows/2012-R2/5
-    - env: T=windows/2016/5
-    - env: T=windows/2019/5
-
-    - env: T=windows/2012/6
-    - env: T=windows/2012-R2/6
-    - env: T=windows/2016/6
-    - env: T=windows/2019/6
-
-    - env: T=windows/2012/7
-    - env: T=windows/2012-R2/7
-    - env: T=windows/2016/7
-    - env: T=windows/2019/7
-
     - env: T=aix/7.2/1
     - env: T=osx/10.11/1
     - env: T=rhel/7.6/1
@@ -191,80 +150,6 @@ matrix:
     - env: T=i/cloud//1
     - env: T=i/hcloud//1
 
-    - env: T=ios/csr1000v//1
-
-    - env: T=vyos/1.1.8/2.7/1
-    - env: T=vyos/1.1.8/3.6/1
-
-    - env: T=aws/2.7/1
-    - env: T=aws/3.6/1
-
-    - env: T=aws/2.7/2
-    - env: T=aws/3.6/2
-
-    - env: T=aws/2.7/3
-    - env: T=aws/3.6/3
-
-    - env: T=aws/2.7/4
-    - env: T=aws/3.6/4
-
-    - env: T=azure/2.7/1
-    - env: T=azure/3.6/1
-
-    - env: T=azure/2.7/2
-    - env: T=azure/3.6/2
-
-    - env: T=azure/2.7/3
-    - env: T=azure/3.6/3
-
-    - env: T=azure/2.7/4
-    - env: T=azure/3.6/4
-
-    - env: T=azure/2.7/5
-    - env: T=azure/3.6/5
-
-    - env: T=azure/2.7/6
-    - env: T=azure/3.6/6
-
-    - env: T=azure/2.7/7
-    - env: T=azure/3.6/7
-
-    - env: T=azure/2.7/8
-    - env: T=azure/3.6/8
-
-    - env: T=azure/2.7/9
-    - env: T=azure/3.6/9
-
-    - env: T=azure/2.7/10
-    - env: T=azure/3.6/10
-
-    - env: T=azure/2.7/11
-    - env: T=azure/3.6/11
-
-    - env: T=vcenter/2.7/1
-    - env: T=vcenter/3.6/1
-
-    - env: T=vcenter/2.7/2
-    - env: T=vcenter/3.6/2
-
-    - env: T=cs/2.7/1
-    - env: T=cs/3.6/1
-
-    - env: T=cs/2.7/2
-    - env: T=cs/3.6/2
-
-    - env: T=tower/2.7/1
-    - env: T=tower/3.6/1
-
-    - env: T=cloud/2.7/1
-    - env: T=cloud/3.6/1
-
-    - env: T=hcloud/2.7/1
-    - env: T=hcloud/3.6/1
-
-    - env: T=hcloud/2.7/2
-    - env: T=hcloud/3.6/2
-
 branches:
   except:
     - "*-patch-*"
diff --git a/test/utils/shippable/units.sh b/test/utils/shippable/units.sh
index e2ff963f19..dc115dec15 100755
--- a/test/utils/shippable/units.sh
+++ b/test/utils/shippable/units.sh
@@ -6,105 +6,6 @@ declare -a args
 IFS='/:' read -ra args <<< "$1"
 
 version="${args[1]}"
-group="${args[2]}"
-
-if [[ "${COVERAGE:-}" == "--coverage" ]]; then
-    timeout=90
-else
-    timeout=30
-fi
-
-group1=()
-group2=()
-group3=()
-
-# create three groups by putting network tests into separate groups
-# add or remove network platforms as needed to balance the groups
-
-networks2=(
-    aireos
-    apconos
-    aruba
-    asa
-    avi
-    check_point
-    cloudengine
-    cloudvision
-    cnos
-    cumulus
-    dellos10
-    dellos6
-    dellos9
-    edgeos
-    edgeswitch
-    enos
-    eos
-    eric_eccli
-    exos
-    f5
-    fortimanager
-    frr
-    ftd
-    icx
-    ingate
-    ios
-    iosxr
-    ironware
-    itential
-    junos
-    netact
-    netscaler
-    netvisor
-    nos
-    nso
-    nuage
-    nxos
-    onyx
-    opx
-    ovs
-    radware
-    routeros
-    slxos
-    voss
-    vyos
-)
-
-networks3=(
-    fortios
-)
-
-for network in "${networks2[@]}"; do
-    test_path="test/units/modules/network/${network}/"
-
-    if [ -d "${test_path}" ]; then
-        group1+=(--exclude "${test_path}")
-        group2+=("${test_path}")
-    fi
-done
-
-for network in "${networks3[@]}"; do
-    test_path="test/units/modules/network/${network}/"
-
-    if [ -d "${test_path}" ]; then
-        group1+=(--exclude "${test_path}")
-        group3+=("${test_path}")
-    fi
-done
-
-case "${group}" in
-    1) options=("${group1[@]:+${group1[@]}}") ;;
-    2) options=("${group2[@]:+${group2[@]}}") ;;
-    3) options=("${group3[@]:+${group3[@]}}") ;;
-esac
-
-if [ ${#options[@]} -eq 0 ] && [ "${group}" -gt 1 ]; then
-    # allow collection migration unit tests for groups other than 1 to "pass" without updating shippable.yml or this script during migration
-    echo "No unit tests found for group ${group}."
-    exit
-fi
-
-ansible-test env --timeout "${timeout}" --color -v
 
 # shellcheck disable=SC2086
 ansible-test units --color -v --docker default --python "${version}" ${COVERAGE:+"$COVERAGE"} ${CHANGED:+"$CHANGED"} \
-    "${options[@]:+${options[@]}}" \
diff --git a/test/utils/shippable/windows.sh b/test/utils/shippable/windows.sh
index f349057f75..b4459a1381 100755
--- a/test/utils/shippable/windows.sh
+++ b/test/utils/shippable/windows.sh
@@ -17,12 +17,6 @@ provider="${P:-default}"
 if [ -f lib/ansible/config/routing.yml ]; then
     # this option is only useful for ansible/ansible (not collections) and should not be used prior to migration (except for incidental tests)
     enable_test_support=--enable-test-support
-
-    if ! ansible-test windows-integration "${target}" --list-targets > /dev/null 2>&1; then
-        # allow tests to pass when windows groups do not exist after migration, making preparation for migration easier
-        echo "Nothing to do since there are no tests after migration for: ${target}"
-        exit
-    fi
 fi
 
 # python versions to test in order
