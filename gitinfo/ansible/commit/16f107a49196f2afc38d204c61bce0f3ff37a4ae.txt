commit 16f107a49196f2afc38d204c61bce0f3ff37a4ae
Author: James Cammarata <jimi@sngx.net>
Date:   Thu Mar 10 15:05:55 2016 -0500

    Add mysql connection_timeout param to module_utils/mysql.py

diff --git a/lib/ansible/module_utils/mysql.py b/lib/ansible/module_utils/mysql.py
index 48e00adfd9..74ae3d8c78 100644
--- a/lib/ansible/module_utils/mysql.py
+++ b/lib/ansible/module_utils/mysql.py
@@ -29,7 +29,7 @@
 
 
 
-def mysql_connect(module, login_user=None, login_password=None, config_file='', ssl_cert=None, ssl_key=None, ssl_ca=None, db=None, cursor_class=None):
+def mysql_connect(module, login_user=None, login_password=None, config_file='', ssl_cert=None, ssl_key=None, ssl_ca=None, db=None, cursor_class=None, connect_timeout=30):
     config = {
         'host': module.params['login_host'],
         'ssl': {
@@ -58,6 +58,8 @@ def mysql_connect(module, login_user=None, login_password=None, config_file='',
         config['ssl']['ca'] = ssl_ca
     if db is not None:
         config['db'] = db
+    if connect_timeout is not None:
+        config['connect_timeout'] = connect_timeout
 
     db_connection = MySQLdb.connect(**config)
     if cursor_class is not None:
