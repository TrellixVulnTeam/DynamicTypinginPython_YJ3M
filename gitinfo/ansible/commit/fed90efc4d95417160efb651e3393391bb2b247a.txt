commit fed90efc4d95417160efb651e3393391bb2b247a
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Wed Jul 3 10:37:31 2019 -0700

    Fix unicode error in changelog generation

diff --git a/packaging/release/changelogs/changelog.py b/packaging/release/changelogs/changelog.py
index 974324d58e..576fc98e81 100755
--- a/packaging/release/changelogs/changelog.py
+++ b/packaging/release/changelogs/changelog.py
@@ -26,6 +26,7 @@ except ImportError:
 
 from ansible import constants as C
 from ansible.module_utils.six import string_types
+from ansible.module_utils._text import to_bytes
 
 BASE_DIR = os.path.abspath(os.path.join(os.path.dirname(__file__), '..', '..', '..'))
 CHANGELOG_DIR = os.path.join(BASE_DIR, 'changelogs')
@@ -285,8 +286,8 @@ def generate_changelog(changes, plugins, fragments):
     generator = ChangelogGenerator(config, changes, plugins, fragments)
     rst = generator.generate()
 
-    with open(changelog_path, 'w') as changelog_fd:
-        changelog_fd.write(rst)
+    with open(changelog_path, 'wb') as changelog_fd:
+        changelog_fd.write(to_bytes(rst))
 
 
 class ChangelogFragmentLinter(object):
