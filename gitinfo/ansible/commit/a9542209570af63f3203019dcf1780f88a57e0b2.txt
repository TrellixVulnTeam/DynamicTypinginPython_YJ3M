commit a9542209570af63f3203019dcf1780f88a57e0b2
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Tue Oct 21 01:14:30 2014 -0400

    Migrate the v2/tests to use the ansible.compat module

diff --git a/v2/test/compat.py b/v2/test/compat.py
deleted file mode 100644
index 6930de94b0..0000000000
--- a/v2/test/compat.py
+++ /dev/null
@@ -1,56 +0,0 @@
-# (c) 2012-2014, Michael DeHaan <michael.dehaan@gmail.com>
-#
-# This file is part of Ansible
-#
-# Ansible is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# Ansible is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
-
-# Make coding more python3-ish
-from __future__ import (absolute_import, division, print_function)
-__metaclass__ = type
-
-import sys
-import unittest
-
-#
-# Compat for python2.6
-#
-
-if sys.version_info < (2, 7):
-    try:
-        # Need unittest2 on python2.6
-        import unittest2 as unittest
-    except ImportError:
-        print('You need unittest2 installed on python2.x')
-else:
-    import unittest
-
-
-#
-# Compat for python2.7
-#
-
-# Could use the pypi mock library on py3 as well as py2.  They are the same
-try:
-    from unittest.mock import mock_open, patch
-except ImportError:
-    # Python2
-    from mock import mock_open, patch
-
-try:
-    import __builtin__
-except ImportError:
-    BUILTINS = 'builtins'
-else:
-    BUILTINS = '__builtin__'
-
diff --git a/v2/test/errors/test_errors.py b/v2/test/errors/test_errors.py
index 60ba7eb858..6088f3bd5e 100644
--- a/v2/test/errors/test_errors.py
+++ b/v2/test/errors/test_errors.py
@@ -19,12 +19,13 @@
 from __future__ import (absolute_import, division, print_function)
 __metaclass__ = type
 
-from .. compat import unittest
+from ansible.compat.tests import unittest
 
 from ansible.parsing.yaml.objects import AnsibleBaseYAMLObject
 from ansible.errors import AnsibleError
 
-from .. compat import BUILTINS, mock_open, patch
+from ansible.compat.tests import BUILTINS
+from ansible.compat.tests.mock import mock_open, patch
 
 class TestErrors(unittest.TestCase):
 
diff --git a/v2/test/parsing/test_general.py b/v2/test/parsing/test_general.py
index b86fcba289..5ccefd3b50 100644
--- a/v2/test/parsing/test_general.py
+++ b/v2/test/parsing/test_general.py
@@ -19,7 +19,7 @@
 from __future__ import (absolute_import, division, print_function)
 __metaclass__ = type
 
-from .. compat import unittest
+from ansible.compat.tests import unittest
 from ansible.parsing import load_data
 from ansible.errors import AnsibleParserError
 
diff --git a/v2/test/parsing/test_mod_args.py b/v2/test/parsing/test_mod_args.py
index e593522aa8..8268e6126b 100644
--- a/v2/test/parsing/test_mod_args.py
+++ b/v2/test/parsing/test_mod_args.py
@@ -21,7 +21,7 @@ __metaclass__ = type
 
 from ansible.parsing.mod_args import ModuleArgsParser
 
-from .. compat import unittest
+from ansible.compat.tests import unittest
 
 class TestModArgsDwim(unittest.TestCase):
 
diff --git a/v2/test/parsing/yaml/test_yaml.py b/v2/test/parsing/yaml/test_yaml.py
index 6b1d09d741..c468ef6d6f 100644
--- a/v2/test/parsing/yaml/test_yaml.py
+++ b/v2/test/parsing/yaml/test_yaml.py
@@ -19,7 +19,7 @@
 from __future__ import (absolute_import, division, print_function)
 __metaclass__ = type
 
-from ... compat import unittest
+from ansible.compat.tests import unittest
 
 from yaml.scanner import ScannerError
 
diff --git a/v2/test/playbook/test_block.py b/v2/test/playbook/test_block.py
index 46921ae6d2..ccb8f2b6d3 100644
--- a/v2/test/playbook/test_block.py
+++ b/v2/test/playbook/test_block.py
@@ -21,7 +21,7 @@ __metaclass__ = type
 
 from ansible.playbook.block import Block
 from ansible.playbook.task import Task
-from .. compat import unittest
+from ansible.compat.tests import unittest
 
 class TestBlock(unittest.TestCase):
 
diff --git a/v2/test/playbook/test_role.py b/v2/test/playbook/test_role.py
index 55e170de24..f2236f7fc0 100644
--- a/v2/test/playbook/test_role.py
+++ b/v2/test/playbook/test_role.py
@@ -22,7 +22,7 @@ __metaclass__ = type
 from ansible.playbook.block import Block
 from ansible.playbook.role import Role
 from ansible.playbook.task import Task
-from .. compat import unittest
+from ansible.compat.tests import unittest
 
 class TestRole(unittest.TestCase):
 
diff --git a/v2/test/playbook/test_task.py b/v2/test/playbook/test_task.py
index 487bca207b..0af53c9117 100644
--- a/v2/test/playbook/test_task.py
+++ b/v2/test/playbook/test_task.py
@@ -20,7 +20,7 @@ from __future__ import (absolute_import, division, print_function)
 __metaclass__ = type
 
 from ansible.playbook.task import Task
-from .. compat import unittest
+from ansible.compat.tests import unittest
 
 basic_shell_task = dict(
    name  = 'Test Task',
