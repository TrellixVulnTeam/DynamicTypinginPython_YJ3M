commit 7347e54b706caec94f012be201ddb51d535820b4
Author: fdavis <reddot357@hotmail.com>
Date:   Thu Dec 13 23:02:30 2012 -0800

    change error message on check_conditional when variable does not exist

diff --git a/lib/ansible/utils/__init__.py b/lib/ansible/utils/__init__.py
index caefd3e926..e547c1ac83 100644
--- a/lib/ansible/utils/__init__.py
+++ b/lib/ansible/utils/__init__.py
@@ -143,7 +143,10 @@ def check_conditional(conditional):
     def is_unset(var):
         return var.startswith("$")
 
-    return eval(conditional.replace("\n", "\\n"))
+    try:
+        return eval(conditional.replace("\n", "\\n"))
+    except SyntaxError as e:
+        raise errors.AnsibleError("Could not evaluate the expression: " + conditional)
 
 def is_executable(path):
     '''is the given path executable?'''
