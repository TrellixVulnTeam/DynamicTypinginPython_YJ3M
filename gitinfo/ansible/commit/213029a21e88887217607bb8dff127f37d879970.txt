commit 213029a21e88887217607bb8dff127f37d879970
Author: Marius Gedminas <marius@gedmin.as>
Date:   Wed Sep 30 09:10:18 2015 +0300

    Python 3: don't convert unicode to unicode

diff --git a/lib/ansible/module_utils/basic.py b/lib/ansible/module_utils/basic.py
index e5c5334504..9727cf14a0 100644
--- a/lib/ansible/module_utils/basic.py
+++ b/lib/ansible/module_utils/basic.py
@@ -323,7 +323,7 @@ def json_dict_bytes_to_unicode(d, encoding='utf-8'):
         and dict container types (the containers that the json module returns)
     '''
 
-    if isinstance(d, str):
+    if isinstance(d, bytes):
         return unicode(d, encoding)
     elif isinstance(d, dict):
         return dict(imap(json_dict_bytes_to_unicode, iteritems(d), repeat(encoding)))
