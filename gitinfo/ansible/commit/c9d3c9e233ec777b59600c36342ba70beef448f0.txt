commit c9d3c9e233ec777b59600c36342ba70beef448f0
Author: Martin Westergaard Lassen <martin@mwl.dk>
Date:   Mon Nov 18 13:54:36 2019 +0100

    hcloud: inventory: missing compose variables (#64559)

diff --git a/changelogs/fragments/64559-hcloud-inventory-missing-compose-variables.yaml b/changelogs/fragments/64559-hcloud-inventory-missing-compose-variables.yaml
new file mode 100644
index 0000000000..4b618d34c0
--- /dev/null
+++ b/changelogs/fragments/64559-hcloud-inventory-missing-compose-variables.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - hcloud - Added missing host variables in Compose section
diff --git a/lib/ansible/plugins/inventory/hcloud.py b/lib/ansible/plugins/inventory/hcloud.py
index 5c329d4cad..21647f0fff 100644
--- a/lib/ansible/plugins/inventory/hcloud.py
+++ b/lib/ansible/plugins/inventory/hcloud.py
@@ -208,7 +208,7 @@ class InventoryModule(BaseInventoryPlugin, Constructable):
             strict = self.get_option('strict')
 
             # Composed variables
-            self._set_composite_vars(self.get_option('compose'), {}, server.name, strict=strict)
+            self._set_composite_vars(self.get_option('compose'), self.inventory.get_host(server.name).get_vars(), server.name, strict=strict)
 
             # Complex groups based on jinja2 conditionals, hosts that meet the conditional are added to group
             self._add_host_to_composed_groups(self.get_option('groups'), {}, server.name, strict=strict)
