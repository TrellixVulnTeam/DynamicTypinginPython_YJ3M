commit 0718a53b075eb563c22e9214f0e45d6b4d7a7e11
Author: Brian Coca <bcoca@ansible.com>
Date:   Tue Jul 17 13:40:42 2018 -0400

    also get checksum on 'any' if it is a file
    
    fixes #42785

diff --git a/lib/ansible/modules/files/find.py b/lib/ansible/modules/files/find.py
index 929e8dbc12..3ecd3bf381 100644
--- a/lib/ansible/modules/files/find.py
+++ b/lib/ansible/modules/files/find.py
@@ -268,7 +268,7 @@ def contentfilter(fsname, pattern):
                 if prog.match(line):
                     return True
 
-    except:
+    except Exception:
         pass
 
     return False
@@ -280,12 +280,12 @@ def statinfo(st):
 
     try:  # user data
         pw_name = pwd.getpwuid(st.st_uid).pw_name
-    except:
+    except Exception:
         pass
 
     try:  # group data
         gr_name = grp.getgrgid(st.st_gid).gr_name
-    except:
+    except Exception:
         pass
 
     return {
@@ -393,7 +393,7 @@ def main():
 
                     try:
                         st = os.lstat(fsname)
-                    except:
+                    except Exception:
                         msg += "%s was skipped as it does not seem to be a valid file or it cannot be accessed\n" % fsname
                         continue
 
@@ -402,6 +402,8 @@ def main():
                         if pfilter(fsobj, params['patterns'], params['excludes'], params['use_regex']) and agefilter(st, now, age, params['age_stamp']):
 
                             r.update(statinfo(st))
+                            if stat.S_ISREG(st.st_mode) and params['get_checksum']:
+                                r['checksum'] = module.sha1(fsname)
                             filelist.append(r)
 
                     elif stat.S_ISDIR(st.st_mode) and params['file_type'] == 'directory':
