commit d71834d1d2ae92edc4f9975ddcc8d1e72127d737
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Apr 14 10:56:10 2015 -0500

    Moving setting of options values to after play again
    
    Moving this above the play setting means that any default values set
    in play (like connection) override any corresponding CLI option, which
    is wrong. Generally CLI options should override things set in playbooks

diff --git a/v2/ansible/executor/connection_info.py b/v2/ansible/executor/connection_info.py
index 19c8b130c7..ace2252e3a 100644
--- a/v2/ansible/executor/connection_info.py
+++ b/v2/ansible/executor/connection_info.py
@@ -64,14 +64,14 @@ class ConnectionInformation:
         self.no_log      = False
         self.check_mode  = False
 
+        if play:
+            self.set_play(play)
+
         #TODO: just pull options setup to above?
         # set options before play to allow play to override them
         if options:
             self.set_options(options)
 
-        if play:
-            self.set_play(play)
-
 
     def __repr__(self):
         value = "CONNECTION INFO:\n"
