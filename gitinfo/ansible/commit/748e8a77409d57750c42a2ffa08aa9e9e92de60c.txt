commit 748e8a77409d57750c42a2ffa08aa9e9e92de60c
Author: Hagai <hagai@bigpanda.io>
Date:   Sun Mar 9 12:48:44 2014 +0200

    Add a package to missing list if npm list reported it as invalid

diff --git a/library/packaging/npm b/library/packaging/npm
index 62179c373a..8bfb21afde 100644
--- a/library/packaging/npm
+++ b/library/packaging/npm
@@ -142,6 +142,8 @@ class Npm(object):
             for dep in data['dependencies']:
                 if 'missing' in data['dependencies'][dep] and data['dependencies'][dep]['missing']:
                     missing.append(dep)
+                elif 'invalid' in data['dependencies'][dep] and data['dependencies'][dep]['invalid']:
+                    missing.append(dep)
                 else:
                     installed.append(dep)
         #Named dependency not installed
