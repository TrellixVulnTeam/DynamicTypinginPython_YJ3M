commit df5fc7af67aed3aa2d2aeea4cef03d8dd790f1a4
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Tue Feb 6 12:10:32 2018 +0530

    Fix ios enable password regex in terminal plugin (#35741)
    
    Fixes #33993
    
    On some ios devices the enable password prompt does not
    end with a space, add a fix to handle this scenario.

diff --git a/lib/ansible/plugins/terminal/ios.py b/lib/ansible/plugins/terminal/ios.py
index c472a740a1..af9e3bf29a 100644
--- a/lib/ansible/plugins/terminal/ios.py
+++ b/lib/ansible/plugins/terminal/ios.py
@@ -64,7 +64,7 @@ class TerminalModule(TerminalBase):
         if passwd:
             # Note: python-3.5 cannot combine u"" and r"" together.  Thus make
             # an r string and use to_text to ensure it's text on both py2 and py3.
-            cmd[u'prompt'] = to_text(r"[\r\n]password: $", errors='surrogate_or_strict')
+            cmd[u'prompt'] = to_text(r"[\r\n]password: ?$", errors='surrogate_or_strict')
             cmd[u'answer'] = passwd
             cmd[u'prompt_retry_check'] = True
         try:
