commit f29c1c7452c1b387e5719197fc8b68ac7eb4ad12
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed Jun 10 23:26:01 2015 -0400

    respect undefined config setting

diff --git a/lib/ansible/executor/playbook_executor.py b/lib/ansible/executor/playbook_executor.py
index 5e339e4031..0c18ad3c89 100644
--- a/lib/ansible/executor/playbook_executor.py
+++ b/lib/ansible/executor/playbook_executor.py
@@ -81,7 +81,7 @@ class PlaybookExecutor:
                     # Create a temporary copy of the play here, so we can run post_validate
                     # on it without the templating changes affecting the original object.
                     all_vars = self._variable_manager.get_vars(loader=self._loader, play=play)
-                    templar = Templar(loader=self._loader, variables=all_vars, fail_on_undefined=False)
+                    templar = Templar(loader=self._loader, variables=all_vars)
                     new_play = play.copy()
                     new_play.post_validate(templar)
 
diff --git a/lib/ansible/executor/task_queue_manager.py b/lib/ansible/executor/task_queue_manager.py
index b8ca427370..debcf6873d 100644
--- a/lib/ansible/executor/task_queue_manager.py
+++ b/lib/ansible/executor/task_queue_manager.py
@@ -224,7 +224,7 @@ class TaskQueueManager:
                     play.vars[vname] = self._do_var_prompt(vname, private, prompt, encrypt, confirm, salt_size, salt, default)
 
         all_vars = self._variable_manager.get_vars(loader=self._loader, play=play)
-        templar = Templar(loader=self._loader, variables=all_vars, fail_on_undefined=False)
+        templar = Templar(loader=self._loader, variables=all_vars)
 
         new_play = play.copy()
         new_play.post_validate(templar)
