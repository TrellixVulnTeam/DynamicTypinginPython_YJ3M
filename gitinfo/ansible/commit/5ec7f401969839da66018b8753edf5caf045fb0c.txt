commit 5ec7f401969839da66018b8753edf5caf045fb0c
Author: Ganesh Nalawade <ganesh634@gmail.com>
Date:   Sat May 13 18:28:14 2017 +0530

    Fix timeout issue in ansible-connection (#24556)
    
    Fixes #24520 ansible-connection needs
    to wait on timeout value of play-context
    instead of ssh default timeout

diff --git a/bin/ansible-connection b/bin/ansible-connection
index dcbcea0d94..c49354a30d 100755
--- a/bin/ansible-connection
+++ b/bin/ansible-connection
@@ -187,7 +187,7 @@ class Server():
                     if not data:
                         break
 
-                    signal.alarm(C.DEFAULT_TIMEOUT)
+                    signal.alarm(self.play_context.timeout)
 
                     rc = 255
                     try:
