commit b2e5c75131e94a3543e5dcf9fb641ccd553906b4
Author: Lars Kellogg-Stedman <lars@oddbit.com>
Date:   Fri Nov 30 06:42:50 2018 -0500

    server.security_groups is a list of dicts (#48798)
    
    os_server was trying to access `[sg.name for sg in
    server.security_groups]`, but the items in `server.security_groups`
    are dictionaries, so that should be `sg['name']`.

diff --git a/lib/ansible/modules/cloud/openstack/os_server.py b/lib/ansible/modules/cloud/openstack/os_server.py
index aacd7b5a4c..75efe00775 100644
--- a/lib/ansible/modules/cloud/openstack/os_server.py
+++ b/lib/ansible/modules/cloud/openstack/os_server.py
@@ -625,7 +625,7 @@ def _check_security_groups(module, cloud, server):
         return changed, server
 
     module_security_groups = set(module.params['security_groups'])
-    server_security_groups = set(sg.name for sg in server.security_groups)
+    server_security_groups = set(sg['name'] for sg in server.security_groups)
 
     add_sgs = module_security_groups - server_security_groups
     remove_sgs = server_security_groups - module_security_groups
