commit 565f336182fe2178a6a1b9fd145fc3a9264c6995
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sat Sep 8 14:53:34 2012 -0400

    lineinfile should use 'search' everywhere

diff --git a/library/lineinfile b/library/lineinfile
index c183bb918d..8405dc6637 100755
--- a/library/lineinfile
+++ b/library/lineinfile
@@ -37,9 +37,9 @@ def present(module, name, regexp, line, insertafter, backup):
 
     index = [-1, -1]
     for lineno in range(0, len(lines)):
-        if mre.match(lines[lineno]):
+        if mre.search(lines[lineno]):
             index[0] = lineno
-        elif iare is not None and iare.match(lines[lineno]):
+        elif iare is not None and iare.search(lines[lineno]):
             # + 1 for the next line
             index[1] = lineno + 1
 
@@ -84,7 +84,7 @@ def absent(module, name, regexp, backup):
     cre = re.compile(regexp)
     found = []
     def matcher(line):
-        if cre.match(line):
+        if cre.search(line):
             found.append(line)
             return False
         else:
