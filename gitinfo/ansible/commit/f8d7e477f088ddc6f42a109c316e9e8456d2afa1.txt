commit f8d7e477f088ddc6f42a109c316e9e8456d2afa1
Author: ZhijunZhao <zhijun.zhao@outlook.com>
Date:   Fri Dec 8 01:41:19 2017 +0800

    fix azure test case failure for function apps module (#33658)

diff --git a/test/integration/targets/azure_rm_functionapp/tasks/main.yml b/test/integration/targets/azure_rm_functionapp/tasks/main.yml
index 852566fb14..c1b9388bbd 100644
--- a/test/integration/targets/azure_rm_functionapp/tasks/main.yml
+++ b/test/integration/targets/azure_rm_functionapp/tasks/main.yml
@@ -19,10 +19,13 @@
   azure_rm_functionapp_facts:
     resource_group: '{{ resource_group }}'
     name: azfuncci
+  register: results
 
 - name: assert the facts were retrieved
   assert:
-    that: '{{ ansible_facts.azure_functionapps|length == 1 }}'
+    that:
+    - results.ansible_facts.azure_functionapps|length == 1
+    - results.ansible_facts.azure_functionapps[0].name == 'azfuncci'
 
 - name: delete basic function app
   azure_rm_functionapp:
