commit 12c0378f78ecc744b9f3b174a8a285f781896e03
Author: James Cammarata <jimi@sngx.net>
Date:   Tue Sep 23 14:51:56 2014 -0500

    Skip null id route tables when adding/deleting them in ec2_vpc
    
    Fixes #8552

diff --git a/library/cloud/ec2_vpc b/library/cloud/ec2_vpc
index 2f9840281c..e4dc9a65f7 100644
--- a/library/cloud/ec2_vpc
+++ b/library/cloud/ec2_vpc
@@ -451,6 +451,7 @@ def create_vpc(module, vpc_conn):
                     old_rt = vpc_conn.get_all_route_tables(
                         filters={'association.subnet_id': rsn.id, 'vpc_id': vpc.id}
                     )
+                    old_rt = [ x for x in old_rt if x.id != None ]
                     if len(old_rt) == 1:
                         old_rt = old_rt[0]
                         association_id = None
@@ -474,6 +475,8 @@ def create_vpc(module, vpc_conn):
         # table yet.
         all_rts = vpc_conn.get_all_route_tables(filters={'vpc-id': vpc.id})
         for rt in all_rts:
+            if rt.id is None:
+                continue
             delete_rt = True
             for newrt in all_route_tables:
                 if newrt.id == rt.id:
