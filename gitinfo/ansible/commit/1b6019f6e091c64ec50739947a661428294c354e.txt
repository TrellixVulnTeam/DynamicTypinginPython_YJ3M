commit 1b6019f6e091c64ec50739947a661428294c354e
Author: Jens Rantil <jens.rantil@gmail.com>
Date:   Fri Dec 13 21:34:02 2013 +0100

    module(file): Fail instead of exit on exception

diff --git a/library/files/file b/library/files/file
index 55249e62fb..8dcead1b40 100644
--- a/library/files/file
+++ b/library/files/file
@@ -235,7 +235,7 @@ def main():
                             module.exit_json(changed=True)
                         shutil.rmtree(path, ignore_errors=False)
                     except Exception, e:
-                        module.exit_json(msg="rmtree failed: %s" % str(e))
+                        module.fail_json(msg="rmtree failed: %s" % str(e))
             else:
                 if module.check_mode:
                     module.exit_json(changed=True)
