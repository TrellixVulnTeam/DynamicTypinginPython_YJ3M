commit 298d73a1a79705c9df05a37cd091218ed488914a
Author: Robert Bo Davis <bo@interrobang.consulting>
Date:   Thu Jul 26 08:43:06 2018 -0400

    Fix referenced before assignment in role requirements

diff --git a/lib/ansible/playbook/role/requirement.py b/lib/ansible/playbook/role/requirement.py
index fb59a3dba5..9f3838cfef 100644
--- a/lib/ansible/playbook/role/requirement.py
+++ b/lib/ansible/playbook/role/requirement.py
@@ -190,6 +190,8 @@ class RoleRequirement(RoleDefinition):
 
         def run_scm_cmd(cmd, tempdir):
             try:
+                stdout = None
+                stderr = None
                 popen = Popen(cmd, cwd=tempdir, stdout=PIPE, stderr=PIPE)
                 stdout, stderr = popen.communicate()
             except Exception as e:
