commit 93931810c8411bacdf5274d6e32d82c844d95b07
Author: Matt Clay <matt@mystile.com>
Date:   Wed Jul 31 00:28:39 2019 -0700

    Run pytest with dedicated pytest.ini. (#59842)
    
    Also disable the pytest cache plugin.

diff --git a/test/runner/lib/executor.py b/test/runner/lib/executor.py
index aad1a97131..2331a8826d 100644
--- a/test/runner/lib/executor.py
+++ b/test/runner/lib/executor.py
@@ -1368,6 +1368,8 @@ def command_units(args):
             '-n', str(args.num_workers) if args.num_workers else 'auto',
             '--color',
             'yes' if args.color else 'no',
+            '-p', 'no:cacheprovider',
+            '-c', os.path.join(ANSIBLE_ROOT, 'test/runner/pytest.ini'),
             '--junit-xml',
             'test/results/junit/python%s-units.xml' % version,
         ]
diff --git a/test/runner/pytest.ini b/test/runner/pytest.ini
new file mode 100644
index 0000000000..6426f2d4d7
--- /dev/null
+++ b/test/runner/pytest.ini
@@ -0,0 +1,3 @@
+[pytest]
+xfail_strict = true
+mock_use_standalone_module = true
diff --git a/tox.ini b/tox.ini
index 8a5c8ddb3b..83360faf5c 100644
--- a/tox.ini
+++ b/tox.ini
@@ -19,11 +19,6 @@ passenv =
     # variable error. See issue: #20424
     HOME
 
-[pytest]
-xfail_strict = true
-cache_dir = .pytest_cache
-mock_use_standalone_module = true
-
 [flake8]
 # These are things that the devs don't agree make the code more readable
 # E402 module level import not at top of file
