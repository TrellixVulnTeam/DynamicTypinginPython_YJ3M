commit cd2f60e11abf3690a0b265400e77b8c4237603b4
Author: Brian Coca <bcoca@ansible.com>
Date:   Fri Sep 9 09:54:10 2016 -0400

    take delegated vars before removing them
    
    fixes #17455

diff --git a/lib/ansible/plugins/callback/default.py b/lib/ansible/plugins/callback/default.py
index 7bd2ac6ae1..63bee8b591 100644
--- a/lib/ansible/plugins/callback/default.py
+++ b/lib/ansible/plugins/callback/default.py
@@ -60,8 +60,8 @@ class CallbackModule(CallbackBase):
 
     def v2_runner_on_ok(self, result):
 
-        self._clean_results(result._result, result._task.action)
         delegated_vars = result._result.get('_ansible_delegated_vars', None)
+        self._clean_results(result._result, result._task.action)
         if result._task.action in ('include', 'include_role'):
             return
         elif result._result.get('changed', False):
