commit b4fb4420bb8c76ec7853d5d1a14a1bc17c665c4e
Author: Peter Nagy <xificurC@gmail.com>
Date:   Fri Jan 20 01:17:33 2017 +0100

    Specify in requirements one needs to have admin rights (#20455)
    
    After much plumbing through the source code, python-gitlab and the Gitlab API I found out why I cannot update my ssh keys through this module - because it expects the user to have admin rights on the server. This could be made clearer in the requirements because the Gitlab API allows one to change his/her own profile, it's just that the module or the underlying library doesn't cover this use case.

diff --git a/lib/ansible/modules/source_control/gitlab_user.py b/lib/ansible/modules/source_control/gitlab_user.py
index 9a7c845c7f..6a61155375 100644
--- a/lib/ansible/modules/source_control/gitlab_user.py
+++ b/lib/ansible/modules/source_control/gitlab_user.py
@@ -32,6 +32,7 @@ version_added: "2.1"
 author: "Werner Dijkerman (@dj-wasabi)"
 requirements:
     - pyapi-gitlab python module
+    - administrator rights on the Gitlab server
 options:
     server_url:
         description:
