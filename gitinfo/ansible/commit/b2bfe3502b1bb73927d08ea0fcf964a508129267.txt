commit b2bfe3502b1bb73927d08ea0fcf964a508129267
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed Aug 26 16:36:39 2015 -0400

    make sure delimiter is basestring for cvsfile
    fixes #12062

diff --git a/lib/ansible/plugins/lookup/csvfile.py b/lib/ansible/plugins/lookup/csvfile.py
index 478f063a12..9ef3e5dded 100644
--- a/lib/ansible/plugins/lookup/csvfile.py
+++ b/lib/ansible/plugins/lookup/csvfile.py
@@ -30,7 +30,7 @@ class LookupModule(LookupBase):
 
         try:
             f = codecs.open(filename, 'r', encoding='utf-8')
-            creader = csv.reader(f, delimiter=delimiter)
+            creader = csv.reader(f, delimiter=str(delimiter))
 
             for row in creader:
                 if row[0] == key:
@@ -70,7 +70,7 @@ class LookupModule(LookupBase):
                 paramvals['delimiter'] = "\t"
 
             lookupfile = self._loader.path_dwim_relative(basedir, 'files', paramvals['file'])
-            var = self.read_csv(lookupfile, key, paramvals['delimiter'], paramvals['default'], paramvals['col'])
+            var = self.read_csv(lookupfile, key, str(paramvals['delimiter']), paramvals['default'], paramvals['col'])
             if var is not None:
                 if type(var) is list:
                     for v in var:
