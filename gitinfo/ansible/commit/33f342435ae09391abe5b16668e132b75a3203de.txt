commit 33f342435ae09391abe5b16668e132b75a3203de
Author: Nathaniel Case <this.is@nathanielca.se>
Date:   Fri Aug 18 16:13:12 2017 -0400

    Attempt to detect and abort when 'fex-fabric' is present (#28342)

diff --git a/lib/ansible/modules/network/nxos/nxos_interface.py b/lib/ansible/modules/network/nxos/nxos_interface.py
index 07e5d03a21..093e62185e 100644
--- a/lib/ansible/modules/network/nxos/nxos_interface.py
+++ b/lib/ansible/modules/network/nxos/nxos_interface.py
@@ -279,6 +279,8 @@ def get_interface(intf, module):
 
     if body:
         interface_table = body['TABLE_interface']['ROW_interface']
+        if interface_table['eth_mode'] == 'fex-fabric':
+            module.fail_json(msg='nxos_interface does not support interfaces with mode "fex-fabric"')
         intf_type = get_interface_type(intf)
         if intf_type in ['portchannel', 'ethernet']:
             if not interface_table.get('eth_mode'):
