commit ff7a9eb625112fea3948541bbb7c6582f4438ac9
Author: Devin Christensen <quixoten@gmail.com>
Date:   Tue Nov 25 11:46:41 2014 -0700

    Fix user_add in postgresql_user

diff --git a/lib/ansible/modules/database/postgresql/postgresql_user.py b/lib/ansible/modules/database/postgresql/postgresql_user.py
index 0823bd7cd9..c17b0a9a73 100644
--- a/lib/ansible/modules/database/postgresql/postgresql_user.py
+++ b/lib/ansible/modules/database/postgresql/postgresql_user.py
@@ -191,7 +191,7 @@ def user_add(cursor, user, password, role_attr_flags, encrypted, expires):
         query.append("PASSWORD %(password)s")
     if expires is not None:
         query.append("VALID UNTIL %(expires)s")
-    query = query.append(role_attr_flags)
+    query.append(role_attr_flags)
     query = ' '.join(query)
     cursor.execute(query, query_password_data)
     return True
