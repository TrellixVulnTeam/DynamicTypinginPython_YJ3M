commit 843751a00dc88ce69c10f09163a58a6772a91894
Author: Martin Krizek <martin.krizek@gmail.com>
Date:   Mon Jun 15 17:01:42 2020 +0200

    yum/dnf: check type of elements in a name (#70072)

diff --git a/changelogs/fragments/yum-dnf-elements-type-in-name-list.yml b/changelogs/fragments/yum-dnf-elements-type-in-name-list.yml
new file mode 100644
index 0000000000..7817ecabc3
--- /dev/null
+++ b/changelogs/fragments/yum-dnf-elements-type-in-name-list.yml
@@ -0,0 +1,2 @@
+bugfixes:
+  - yum/dnf - check type of elements in a name
diff --git a/lib/ansible/module_utils/yumdnf.py b/lib/ansible/module_utils/yumdnf.py
index b3ed22bd24..47539bf3bd 100644
--- a/lib/ansible/module_utils/yumdnf.py
+++ b/lib/ansible/module_utils/yumdnf.py
@@ -37,7 +37,7 @@ yumdnf_argument_spec = dict(
         install_repoquery=dict(type='bool', default=True),
         install_weak_deps=dict(type='bool', default=True),
         list=dict(type='str'),
-        name=dict(type='list', aliases=['pkg'], default=[]),
+        name=dict(type='list', elements='str', aliases=['pkg'], default=[]),
         releasever=dict(default=None),
         security=dict(type='bool', default=False),
         skip_broken=dict(type='bool', default=False),
diff --git a/lib/ansible/modules/dnf.py b/lib/ansible/modules/dnf.py
index 226703a7f4..ab49528766 100644
--- a/lib/ansible/modules/dnf.py
+++ b/lib/ansible/modules/dnf.py
@@ -28,6 +28,8 @@ options:
     required: true
     aliases:
         - pkg
+    type: list
+    elements: str
 
   list:
     description:
diff --git a/lib/ansible/modules/yum.py b/lib/ansible/modules/yum.py
index c95ea758e7..db7b59d027 100644
--- a/lib/ansible/modules/yum.py
+++ b/lib/ansible/modules/yum.py
@@ -38,6 +38,8 @@ options:
       - You can also pass a url or a local path to a rpm file (using state=present).
         To operate on several packages this can accept a comma separated string of packages or (as of 2.0) a list of packages.
     aliases: [ pkg ]
+    type: list
+    elements: str
   exclude:
     description:
       - Package name(s) to exclude when state=present, or latest
