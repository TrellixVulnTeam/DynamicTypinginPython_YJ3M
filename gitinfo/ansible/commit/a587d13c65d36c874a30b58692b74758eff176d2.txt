commit a587d13c65d36c874a30b58692b74758eff176d2
Author: Maxim Odinintsev <gwynn@devc.net>
Date:   Tue Jul 15 16:04:19 2014 +0300

    portage: default exit (not fail) if sync=yes in check mode

diff --git a/library/packaging/portage b/library/packaging/portage
index c9f3f24bda..a780e7444e 100644
--- a/library/packaging/portage
+++ b/library/packaging/portage
@@ -194,7 +194,7 @@ def query_set(module, set, action):
 
 def sync_repositories(module, webrsync=False):
     if module.check_mode:
-        module.fail_json(msg='check mode not supported by sync')
+        module.exit_json(msg='check mode not supported by sync')
 
     if webrsync:
         webrsync_path = module.get_bin_path('emerge-webrsync', required=True)
