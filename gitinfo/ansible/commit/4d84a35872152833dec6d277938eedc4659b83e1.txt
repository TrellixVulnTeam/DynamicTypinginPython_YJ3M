commit 4d84a35872152833dec6d277938eedc4659b83e1
Author: Cristian Ciupitu <cristian.ciupitu@yahoo.com>
Date:   Sun Mar 17 05:48:37 2013 +0200

    RPM packaging: check properly if using RHEL5 or older

diff --git a/packaging/rpm/ansible.spec b/packaging/rpm/ansible.spec
index 7b03cd6b28..719c15497c 100644
--- a/packaging/rpm/ansible.spec
+++ b/packaging/rpm/ansible.spec
@@ -1,4 +1,4 @@
-%if 0%{?rhel} <= 5
+%if 0%{?rhel} && 0%{?rhel} <= 5
 %{!?python_sitelib: %global python_sitelib %(%{__python} -c "from distutils.sysconfig import get_python_lib; print(get_python_lib())")}
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot
 %endif
@@ -14,7 +14,7 @@ Source0: https://github.com/downloads/ansible/ansible/%{name}-%{version}.tar.gz
 Url: http://ansible.github.com
 
 BuildArch: noarch
-%if 0%{?rhel} <= 5
+%if 0%{?rhel} && 0%{?rhel} <= 5
 BuildRequires: python26-devel
 
 Requires: python26-PyYAML
@@ -40,7 +40,7 @@ are transferred to managed machines automatically.
 Summary: Ansible fireball transport support
 Group: Development/Libraries
 Requires: %{name} = %{version}-%{release}
-%if 0%{?rhel} <= 5
+%if 0%{?rhel} && 0%{?rhel} <= 5
 Requires: python26-keyczar
 Requires: python26-zmq
 %else
@@ -57,7 +57,7 @@ multiple actions, but requires additional supporting packages.
 %package node-fireball
 Summary: Ansible fireball transport - node end support
 Group: Development/Libraries
-%if 0%{?rhel} <= 5
+%if 0%{?rhel} && 0%{?rhel} <= 5
 Requires: python26-keyczar
 Requires: python26-zmq
 %else
