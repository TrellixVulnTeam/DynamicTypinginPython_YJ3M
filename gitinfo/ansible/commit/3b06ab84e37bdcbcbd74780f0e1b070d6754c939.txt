commit 3b06ab84e37bdcbcbd74780f0e1b070d6754c939
Author: Felix Kaiser <felix.kaiser@fxkr.net>
Date:   Thu Apr 10 21:14:42 2014 +0200

    Make test-module interpret --args='{...' as yaml

diff --git a/hacking/test-module b/hacking/test-module
index 3f7a8a2d64..f293458ad4 100755
--- a/hacking/test-module
+++ b/hacking/test-module
@@ -93,6 +93,10 @@ def boilerplate_module(modfile, args, interpreter):
         # Argument is a YAML file (JSON is a subset of YAML)
         complex_args = utils.combine_vars(complex_args, utils.parse_yaml_from_file(args[1:]))
         args=''
+    elif args.startswith("{"):
+        # Argument is a YAML document (not a file)
+        complex_args = utils.combine_vars(complex_args, utils.parse_yaml(args))
+        args=''
 
     inject = {}
     if interpreter:
