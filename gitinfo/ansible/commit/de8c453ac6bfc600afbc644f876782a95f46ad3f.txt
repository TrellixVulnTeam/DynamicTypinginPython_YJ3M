commit de8c453ac6bfc600afbc644f876782a95f46ad3f
Author: Vladimir Mihailenco <vladimir.webdev@gmail.com>
Date:   Thu Mar 26 16:45:27 2015 +0200

    rackspace: pass full path to the isdir.

diff --git a/lib/ansible/modules/cloud/rackspace/rax_files_objects.py b/lib/ansible/modules/cloud/rackspace/rax_files_objects.py
index 0274a79004..6da7b1882f 100644
--- a/lib/ansible/modules/cloud/rackspace/rax_files_objects.py
+++ b/lib/ansible/modules/cloud/rackspace/rax_files_objects.py
@@ -271,7 +271,7 @@ def upload(module, cf, container, src, dest, meta, expires):
                 if path != src:
                     prefix = path.split(src)[-1].lstrip('/')
                 filenames = [os.path.join(prefix, name) for name in filenames
-                             if not os.path.isdir(name)]
+                             if not os.path.isdir(os.path.join(path, name))]
                 objs += filenames
 
             _objs = []
