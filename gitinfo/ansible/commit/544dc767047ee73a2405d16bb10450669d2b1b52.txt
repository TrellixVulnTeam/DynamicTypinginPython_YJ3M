commit 544dc767047ee73a2405d16bb10450669d2b1b52
Author: Stephen Fromm <sfromm@gmail.com>
Date:   Wed Oct 24 20:50:11 2012 -0700

    Create temp file in directory where ssh key lives

diff --git a/library/authorized_key b/library/authorized_key
index d75aa96f52..15370aa988 100755
--- a/library/authorized_key
+++ b/library/authorized_key
@@ -118,7 +118,7 @@ def readkeys(filename):
 
 def writekeys(module, filename, keys):
 
-    fd, tmp_path = tempfile.mkstemp()
+    fd, tmp_path = tempfile.mkstemp('', 'tmp', os.path.dirname(filename))
     f = open(tmp_path,"w")
     try:
         f.writelines( (key + "\n" for key in keys) )
