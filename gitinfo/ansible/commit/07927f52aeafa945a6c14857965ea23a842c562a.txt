commit 07927f52aeafa945a6c14857965ea23a842c562a
Author: Pilou <pierre-louis@libregerbil.fr>
Date:   Fri Feb 23 11:59:38 2018 +0100

    filesystem: fix documentation (#36556)

diff --git a/lib/ansible/modules/system/filesystem.py b/lib/ansible/modules/system/filesystem.py
index fd3f6e3c1b..8ac64bbfc9 100644
--- a/lib/ansible/modules/system/filesystem.py
+++ b/lib/ansible/modules/system/filesystem.py
@@ -30,10 +30,12 @@ options:
     - since 2.5, I(dev) can be an image file.
     - vfat support was added in 2.5
     required: yes
+    aliases: [type]
   dev:
     description:
     - Target path to device or image file.
     required: yes
+    aliases: [device]
   force:
     description:
     - If C(yes), allows to create new filesystem on devices that already has filesystem.
@@ -276,11 +278,13 @@ def main():
         'lvm': 'LVM2_member',
     }
 
+    fstypes = set(FILESYSTEMS.keys()) - set(friendly_names.values()) | set(friendly_names.keys())
+
     # There is no "single command" to manipulate filesystems, so we map them all out and their options
     module = AnsibleModule(
         argument_spec=dict(
             fstype=dict(required=True, aliases=['type'],
-                        choices=list(FILESYSTEMS.keys()) + list(friendly_names.keys())),
+                        choices=list(fstypes)),
             dev=dict(required=True, aliases=['device']),
             opts=dict(),
             force=dict(type='bool', default=False),
diff --git a/test/sanity/validate-modules/ignore.txt b/test/sanity/validate-modules/ignore.txt
index 1cc76f5ec0..1341d0aac2 100644
--- a/test/sanity/validate-modules/ignore.txt
+++ b/test/sanity/validate-modules/ignore.txt
@@ -2796,8 +2796,6 @@ lib/ansible/modules/system/beadm.py E325
 lib/ansible/modules/system/beadm.py E326
 lib/ansible/modules/system/capabilities.py E322
 lib/ansible/modules/system/debconf.py E326
-lib/ansible/modules/system/filesystem.py E322
-lib/ansible/modules/system/filesystem.py E326
 lib/ansible/modules/system/firewalld.py E322
 lib/ansible/modules/system/firewalld.py E324
 lib/ansible/modules/system/firewalld.py E325
