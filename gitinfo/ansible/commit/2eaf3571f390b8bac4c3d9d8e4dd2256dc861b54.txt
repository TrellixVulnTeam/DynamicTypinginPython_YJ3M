commit 2eaf3571f390b8bac4c3d9d8e4dd2256dc861b54
Author: Trishna Guha <trishnaguha17@gmail.com>
Date:   Thu Jul 27 14:28:46 2017 +0530

    fix state absent nxos_hsrp (#27366)
    
    Signed-off-by: Trishna Guha <trishnaguha17@gmail.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_hsrp.py b/lib/ansible/modules/network/nxos/nxos_hsrp.py
index 3da4ef7fcd..9fb1828a85 100644
--- a/lib/ansible/modules/network/nxos/nxos_hsrp.py
+++ b/lib/ansible/modules/network/nxos/nxos_hsrp.py
@@ -463,7 +463,7 @@ def main():
             load_config(module, commands)
 
             # validate IP
-            if transport == 'cli':
+            if transport == 'cli' and state == 'present':
                 commands.insert(0, 'config t')
                 body = run_commands(module, commands)
                 validate_config(body, vip, module)
