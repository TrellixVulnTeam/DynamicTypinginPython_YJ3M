commit b3bbca03d59c230212c9303d99952dad66eb082f
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jun 4 13:52:44 2014 -0500

    Add additional params to get_target_from_rule method in ec2_group
    
    Fixes #7592

diff --git a/library/cloud/ec2_group b/library/cloud/ec2_group
index 5e42e861f4..765bdda25a 100644
--- a/library/cloud/ec2_group
+++ b/library/cloud/ec2_group
@@ -106,7 +106,7 @@ def addRulesToLookup(rules, prefix, dict):
                                         grant.group_id, grant.cidr_ip)] = rule
 
 
-def get_target_from_rule(rule, name, groups):
+def get_target_from_rule(module, rule, name, group, groups):
     """
     Returns tuple of (group_id, ip) after validating rule params.
 
@@ -245,7 +245,7 @@ def main():
         # Now, go through all provided rules and ensure they are there.
         if rules:
             for rule in rules:
-                group_id, ip, target_group_created = get_target_from_rule(rule, name, groups)
+                group_id, ip, target_group_created = get_target_from_rule(module, rule, name, group, groups)
                 if target_group_created:
                     changed = True
 
@@ -285,7 +285,7 @@ def main():
         # Now, go through all provided rules and ensure they are there.
         if rules_egress:
             for rule in rules_egress:
-                group_id, ip, target_group_created = get_target_from_rule(rule, name, groups)
+                group_id, ip, target_group_created = get_target_from_rule(module, rule, name, group, groups)
                 if target_group_created:
                     changed = True
 
