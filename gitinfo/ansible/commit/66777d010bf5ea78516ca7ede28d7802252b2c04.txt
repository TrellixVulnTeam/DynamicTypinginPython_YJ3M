commit 66777d010bf5ea78516ca7ede28d7802252b2c04
Author: Carl Meyer <carl@oddbird.net>
Date:   Fri Jul 17 15:54:11 2015 -0600

    Add 'production' option to bower module.

diff --git a/lib/ansible/modules/extras/packaging/language/bower.py b/lib/ansible/modules/extras/packaging/language/bower.py
index bd7d4b2615..d199b75673 100644
--- a/lib/ansible/modules/extras/packaging/language/bower.py
+++ b/lib/ansible/modules/extras/packaging/language/bower.py
@@ -37,6 +37,12 @@ options:
     required: false
     default: no
     choices: [ "yes", "no" ]
+  production:
+    description:
+      - Install with --production flag
+    required: false
+    default: no
+    choices: [ "yes", "no" ]
   path:
     description:
       - The base path where to install the bower packages
@@ -76,6 +82,7 @@ class Bower(object):
         self.module = module
         self.name = kwargs['name']
         self.offline = kwargs['offline']
+        self.production = kwargs['production']
         self.path = kwargs['path']
         self.version = kwargs['version']
 
@@ -94,6 +101,9 @@ class Bower(object):
             if self.offline:
                 cmd.append('--offline')
 
+            if self.production:
+                cmd.append('--production')
+
             # If path is specified, cd into that path and run the command.
             cwd = None
             if self.path:
@@ -148,6 +158,7 @@ def main():
     arg_spec = dict(
         name=dict(default=None),
         offline=dict(default='no', type='bool'),
+        production=dict(default='no', type='bool'),
         path=dict(required=True),
         state=dict(default='present', choices=['present', 'absent', 'latest', ]),
         version=dict(default=None),
@@ -158,6 +169,7 @@ def main():
 
     name = module.params['name']
     offline = module.params['offline']
+    production = module.params['production']
     path = os.path.expanduser(module.params['path'])
     state = module.params['state']
     version = module.params['version']
@@ -165,7 +177,7 @@ def main():
     if state == 'absent' and not name:
         module.fail_json(msg='uninstalling a package is only available for named packages')
 
-    bower = Bower(module, name=name, offline=offline, path=path, version=version)
+    bower = Bower(module, name=name, offline=offline, production=production, path=path, version=version)
 
     changed = False
     if state == 'present':
