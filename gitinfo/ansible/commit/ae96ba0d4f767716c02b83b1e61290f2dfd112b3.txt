commit ae96ba0d4f767716c02b83b1e61290f2dfd112b3
Author: dgeo <dgeo@users.noreply.github.com>
Date:   Mon Jul 16 22:55:57 2018 +0200

    fix a (forgotten?) change in moving createhome -> create_home (#42711)
    
    * fix a (forgotten?) change in moving createhome -> create_home
    
    Fix for following bug on FreeBSD host whith user module:
    ```
    fatal: [webssp]: FAILED! => {"changed": false, "module_stderr": "X11 forwarding request failed
    Traceback (most recent call last):
      File \"/tmp/ansible_2rmlBl/ansible_module_user.py\", line 2487, in <module>
        main()\n  File \"/tmp/ansible_2rmlBl/ansible_module_user.py\", line 2426, in main
        (rc, out, err) = user.modify_user()
      File \"/tmp/ansible_2rmlBl/ansible_module_user.py\", line 1011, in modify_user
        if (info[5] != self.home and self.move_home) or (not os.path.exists(self.home) and self.createhome):
    AttributeError: 'FreeBsdUser' object has no attribute 'createhome'
    ", "module_stdout": "", "msg": "MODULE FAILURE", "rc": 1}
    ```
    It happenned with 'createhome' AND with 'create_home' form, with python 2.7 AND python 3.6
    
    * Add changelog
    
    
    Co-authored-by: dgeo <dgeo@users.noreply.github.com>

diff --git a/changelogs/fragments/user-freebsd-createhome-name-fix.yaml b/changelogs/fragments/user-freebsd-createhome-name-fix.yaml
new file mode 100644
index 0000000000..dc379659af
--- /dev/null
+++ b/changelogs/fragments/user-freebsd-createhome-name-fix.yaml
@@ -0,0 +1,2 @@
+bugfixes:
+  - user - use correct attribute name in FreeBSD for creat_home (https://github.com/ansible/ansible/pull/42711)
diff --git a/lib/ansible/modules/system/user.py b/lib/ansible/modules/system/user.py
index 78f3d89c16..032d72bc7e 100644
--- a/lib/ansible/modules/system/user.py
+++ b/lib/ansible/modules/system/user.py
@@ -1008,7 +1008,7 @@ class FreeBsdUser(User):
             cmd.append(self.comment)
 
         if self.home is not None:
-            if (info[5] != self.home and self.move_home) or (not os.path.exists(self.home) and self.createhome):
+            if (info[5] != self.home and self.move_home) or (not os.path.exists(self.home) and self.create_home):
                 cmd.append('-m')
             cmd.append('-d')
             cmd.append(self.home)
