commit 5d1641051886e9b55060f06f82d42c88e8e8a9f5
Author: Brian Coca <bcoca@ansible.com>
Date:   Wed Nov 12 17:16:02 2014 -0500

    corrected comparisson which had accidentally chaned in previous fixes

diff --git a/lib/ansible/modules/packaging/os/apt.py b/lib/ansible/modules/packaging/os/apt.py
index e7d2ce4485..ab08a06db6 100755
--- a/lib/ansible/modules/packaging/os/apt.py
+++ b/lib/ansible/modules/packaging/os/apt.py
@@ -525,7 +525,7 @@ def main():
                     p['default_release'], dpkg_options)
 
         if p['deb']:
-            if p['state'] == 'present':
+            if p['state'] != 'present':
                 module.fail_json(msg="deb only supports state=present")
             install_deb(module, p['deb'], cache,
                         install_recommends=install_recommends,
