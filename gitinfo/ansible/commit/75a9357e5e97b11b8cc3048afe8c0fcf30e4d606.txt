commit 75a9357e5e97b11b8cc3048afe8c0fcf30e4d606
Author: James Cammarata <jimi@sngx.net>
Date:   Mon Sep 9 15:14:03 2013 -0500

    Fixing role variable precedence for top-level roles
    
    Fixes #4026
    Fixes #3989

diff --git a/lib/ansible/playbook/play.py b/lib/ansible/playbook/play.py
index 4ebc1b6cb0..c11e8f05bd 100644
--- a/lib/ansible/playbook/play.py
+++ b/lib/ansible/playbook/play.py
@@ -164,7 +164,7 @@ class Play(object):
             raise errors.AnsibleError("too many levels of recursion while resolving role dependencies")
         for role in roles:
             role_path,role_vars = self._get_role_path(role)
-            role_vars = utils.combine_vars(role_vars, passed_vars)
+            role_vars = utils.combine_vars(passed_vars, role_vars)
             vars = self._resolve_main(utils.path_dwim(self.basedir, os.path.join(role_path, 'vars')))
             vars_data = {}
             if os.path.isfile(vars):
