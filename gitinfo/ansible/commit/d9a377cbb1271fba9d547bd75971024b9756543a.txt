commit d9a377cbb1271fba9d547bd75971024b9756543a
Author: Stavros Korokithakis <stavros@korokithakis.net>
Date:   Thu Nov 1 20:40:28 2012 +0200

    Fix installing to virtualenvs.

diff --git a/lib/ansible/constants.py b/lib/ansible/constants.py
index a978c49668..6eac602db2 100644
--- a/lib/ansible/constants.py
+++ b/lib/ansible/constants.py
@@ -17,6 +17,7 @@
 
 import os
 import pwd
+import sys
 import ConfigParser
 
 def get_config(p, section, key, env_var, default):
@@ -60,7 +61,7 @@ active_user   = pwd.getpwuid(os.geteuid())[0]
 
 # Needed so the RPM can call setup.py and have modules land in the
 # correct location. See #1277 for discussion
-DIST_MODULE_PATH = '/usr/share/ansible/'
+DIST_MODULE_PATH = os.path.join(sys.prefix, 'share/ansible/')
 
 # sections in config file
 DEFAULTS='defaults'
