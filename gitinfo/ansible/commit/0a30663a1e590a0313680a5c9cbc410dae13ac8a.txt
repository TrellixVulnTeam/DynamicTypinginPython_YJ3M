commit 0a30663a1e590a0313680a5c9cbc410dae13ac8a
Author: Brian Coca <bcoca@ansible.com>
Date:   Mon Mar 30 22:11:17 2015 -0400

    minor fix to method of finding home as previous could 'overmatch'

diff --git a/lib/ansible/modules/extras/cloud/lxc/lxc_container.py b/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
index c5b290827b..5f0f6bb2ad 100644
--- a/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
+++ b/lib/ansible/modules/extras/cloud/lxc/lxc_container.py
@@ -398,7 +398,7 @@ LXC_ANSIBLE_STATES = {
 # home directory of the user that was attached to the container and source
 # that users environment variables by default.
 ATTACH_TEMPLATE = """#!/usr/bin/env bash
-pushd "$(grep $(whoami) /etc/passwd | awk -F':' '{print $6}')"
+pushd "$(getent passwd $(whoami)|cut -f6 -d':')"
     if [[ -f ".bashrc" ]];then
         source .bashrc
     fi
