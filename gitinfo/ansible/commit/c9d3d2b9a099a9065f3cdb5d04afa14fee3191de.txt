commit c9d3d2b9a099a9065f3cdb5d04afa14fee3191de
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Sep 21 15:52:26 2016 -0500

    Allow for empty source in dwim_path_relative_stack
    
    Fixes #17192

diff --git a/lib/ansible/parsing/dataloader.py b/lib/ansible/parsing/dataloader.py
index 1dc9632ddd..2b0c997547 100644
--- a/lib/ansible/parsing/dataloader.py
+++ b/lib/ansible/parsing/dataloader.py
@@ -291,9 +291,9 @@ class DataLoader():
         b_source = to_bytes(source)
 
         result = None
-        if not source:
-            display.warning('Invalid request to find a file that matches an empty string or "null" value')
-        elif source.startswith('~') or source.startswith(os.path.sep):
+        if source is None:
+            display.warning('Invalid request to find a file that matches a "null" value')
+        elif source and (source.startswith('~') or source.startswith(os.path.sep)):
             # path is absolute, no relative needed, check existence and return source
             test_path = unfrackpath(b_source)
             if os.path.exists(to_bytes(test_path, errors='surrogate_or_strict')):
