commit bfd93081aeea7071406724c9f8a78c477d1d23cd
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Sat Feb 25 21:00:51 2012 -0500

    Have to return the return code on failure, it's a rule!

diff --git a/library/service b/library/service
index 682d3b76f5..4a20193d51 100755
--- a/library/service
+++ b/library/service
@@ -73,7 +73,8 @@ if changed:
 if rc != 0:
     # yeah, should probably include output of failure...
     print json.dumps({
-        "failed" : 1
+        "failed" : 1,
+        "rc"     : rc
     })
     sys.exit(1)
 
