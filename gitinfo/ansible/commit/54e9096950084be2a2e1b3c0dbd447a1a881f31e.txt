commit 54e9096950084be2a2e1b3c0dbd447a1a881f31e
Author: Martin Krizek <martin.krizek@gmail.com>
Date:   Mon Feb 26 09:49:25 2018 +0100

    Add integration test for #36534 (#36581)

diff --git a/test/integration/targets/debug/aliases b/test/integration/targets/debug/aliases
new file mode 100644
index 0000000000..4485d76162
--- /dev/null
+++ b/test/integration/targets/debug/aliases
@@ -0,0 +1 @@
+posix/ci/group1
diff --git a/test/integration/targets/debug/main.yml b/test/integration/targets/debug/main.yml
new file mode 100644
index 0000000000..9e49b8278e
--- /dev/null
+++ b/test/integration/targets/debug/main.yml
@@ -0,0 +1,6 @@
+- hosts: localhost
+  gather_facts: no
+  tasks:
+    - name: test item being present in the output
+      debug: var=item
+      loop: [1, 2, 3]
diff --git a/test/integration/targets/debug/runme.sh b/test/integration/targets/debug/runme.sh
new file mode 100755
index 0000000000..4ff4e299a7
--- /dev/null
+++ b/test/integration/targets/debug/runme.sh
@@ -0,0 +1,11 @@
+#!/usr/bin/env bash
+
+set -eux
+
+trap 'rm -f out' EXIT
+
+ansible-playbook main.yml -i ../../inventory | tee out
+for i in 1 2 3; do
+  grep "ok: \[localhost\] => (item=$i)" out
+  grep "\"item\": $i" out
+done
