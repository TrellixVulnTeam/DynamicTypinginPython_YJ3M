commit d8389d9f5513b8924a40767ef7d181cf41bfaea1
Author: Matt Martz <matt@sivel.net>
Date:   Mon Oct 14 13:34:07 2019 -0500

    Ensure we preserve the /api appended URL (#63472)

diff --git a/changelogs/fragments/ansile-galaxy-preserve-api-append.yml b/changelogs/fragments/ansile-galaxy-preserve-api-append.yml
new file mode 100644
index 0000000000..f9306a9502
--- /dev/null
+++ b/changelogs/fragments/ansile-galaxy-preserve-api-append.yml
@@ -0,0 +1,3 @@
+bugfixes:
+- ansible-galaxy - Ensure we preserve the new URL when appending ``/api`` for the case where
+  the GET succeeds on galaxy.ansible.com
diff --git a/lib/ansible/galaxy/api.py b/lib/ansible/galaxy/api.py
index 47caedd1ee..17b1df751d 100644
--- a/lib/ansible/galaxy/api.py
+++ b/lib/ansible/galaxy/api.py
@@ -57,9 +57,9 @@ def g_connect(versions):
                         raise AnsibleError("Tried to find galaxy API root at %s but no 'available_versions' are available on %s"
                                            % (n_url, self.api_server))
 
-                    # Update api_server to point to the "real" API root, which in this case
-                    # was the configured url + '/api/' appended.
-                    self.api_server = n_url
+                # Update api_server to point to the "real" API root, which in this case
+                # was the configured url + '/api/' appended.
+                self.api_server = n_url
 
                 # Default to only supporting v1, if only v1 is returned we also assume that v2 is available even though
                 # it isn't returned in the available_versions dict.
