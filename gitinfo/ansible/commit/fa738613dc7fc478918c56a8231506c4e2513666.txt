commit fa738613dc7fc478918c56a8231506c4e2513666
Author: Paul Belanger <pabelanger@redhat.com>
Date:   Mon Jun 17 11:45:30 2019 -0400

    Revert "Fix iosxr discard_changes netconf rpc issue (#57931)" (#57954)
    
    This actually broken junos netconf_rpc, and was merged without properly
    testing.
    
    This reverts commit 795cb90367c3f73ba1126193ee792df73ebe4b89.

diff --git a/lib/ansible/plugins/netconf/__init__.py b/lib/ansible/plugins/netconf/__init__.py
index 84d416d188..39af3850ce 100644
--- a/lib/ansible/plugins/netconf/__init__.py
+++ b/lib/ansible/plugins/netconf/__init__.py
@@ -26,7 +26,6 @@ from ansible.errors import AnsibleError
 from ansible.plugins import AnsiblePlugin
 from ansible.module_utils._text import to_native
 from ansible.module_utils.basic import missing_required_lib
-from ansible.module_utils.six import string_types
 
 try:
     from ncclient.operations import RPCError
@@ -224,9 +223,9 @@ class NetconfBase(AnsiblePlugin):
         """
         if rpc_command is None:
             raise ValueError('rpc_command value must be provided')
-        req = fromstring(rpc_command)
-        resp = self.m.dispatch(req, source=source, filter=filter)
-        return resp.data_xml if resp.data_ele else resp.xml
+
+        resp = self.m.dispatch(fromstring(rpc_command), source=source, filter=filter)
+        return resp.data_xml if hasattr(resp, 'data_xml') else resp.xml
 
     @ensure_connected
     def lock(self, target="candidate"):
