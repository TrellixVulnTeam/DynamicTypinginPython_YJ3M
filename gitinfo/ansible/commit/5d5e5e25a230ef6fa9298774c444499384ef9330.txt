commit 5d5e5e25a230ef6fa9298774c444499384ef9330
Author: Matt Clay <matt@mystile.com>
Date:   Wed Jan 25 17:53:53 2017 -0800

    Only set git config during test if unset.
    
    This makes the git test less destructive.

diff --git a/test/integration/targets/git/tasks/setup.yml b/test/integration/targets/git/tasks/setup.yml
index 4968fe2c2e..9df83b3fdc 100644
--- a/test/integration/targets/git/tasks/setup.yml
+++ b/test/integration/targets/git/tasks/setup.yml
@@ -21,8 +21,11 @@
   shell: gpg --version 2>1 | head -1 | sed -e 's/gpg (GnuPG) //'
   register: gpg_version
 
-- name: set dummy git config
-  shell: git config --global user.email "noreply@example.com"; git config --global user.name "Ansible Test Runner"
+- name: set git global user.email if not already set
+  shell: git config --global user.email || git config --global user.email "noreply@example.com"
+
+- name: set git global user.name if not already set
+  shell: git config --global user.name  || git config --global user.name  "Ansible Test Runner"
 
 - name: create repo_dir
   file: path={{repo_dir}} state=directory
