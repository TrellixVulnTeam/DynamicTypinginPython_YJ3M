commit b8d6dec5ad0320d9a5642647f30d6c4edd050250
Author: Daniel Hokka Zakrisson <daniel@hozac.com>
Date:   Wed Nov 28 22:04:44 2012 +0100

    Reset notified_by list per serialized batch
    
    Fixes the case where a handler attempts to run for every batch after any
    batch has notified it, regardless of whether the current batch did.

diff --git a/lib/ansible/playbook/__init__.py b/lib/ansible/playbook/__init__.py
index 69fc4c4bc9..68de7ed23d 100644
--- a/lib/ansible/playbook/__init__.py
+++ b/lib/ansible/playbook/__init__.py
@@ -444,6 +444,7 @@ class PlayBook(object):
                     self.inventory.restrict_to(handler.notified_by)
                     self._run_task(play, handler, True)
                     self.inventory.lift_restriction()
+                    handler.notified_by = []
 
             self.inventory.lift_also_restriction()
 
