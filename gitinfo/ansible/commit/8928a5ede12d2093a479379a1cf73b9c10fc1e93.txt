commit 8928a5ede12d2093a479379a1cf73b9c10fc1e93
Author: Jonathan Mainguy <jon@soh.re>
Date:   Mon Mar 31 11:09:00 2014 -0400

    Added mpdehaan suggestion to use os.path.splitext. Wise suggestion, does look clearner

diff --git a/library/database/mysql_db b/library/database/mysql_db
index aa852ea78c..97655fbc00 100644
--- a/library/database/mysql_db
+++ b/library/database/mysql_db
@@ -153,13 +153,13 @@ def db_import(module, host, user, password, db_name, target, port, socket=None):
             rc, stdout, stderr = module.run_command('%s %s' % (gunzip_path, target))
             if rc != 0:
                 return rc, stdout, stderr
-            cmd += " < %s" % pipes.quote(target[0:-3])
+            cmd += " < %s" % pipes.quote(os.path.splitext(target)[0])
             rc, stdout, stderr = module.run_command(cmd, use_unsafe_shell=True)
             if rc != 0:
                 return rc, stdout, stderr
             gzip_path = module.get_bin_path('gzip')
             if gzip_path:
-                rc, stdout, stderr = module.run_command('%s %s' % (gzip_path, target[0:-3]))
+                rc, stdout, stderr = module.run_command('%s %s' % (gzip_path, os.path.splitext(target)[0]))
             else:
                 module.fail_json(msg="gzip command not found")
         else:
@@ -170,13 +170,13 @@ def db_import(module, host, user, password, db_name, target, port, socket=None):
             rc, stdout, stderr = module.run_command('%s %s' % (bunzip2_path, target))
             if rc != 0:
                 return rc, stdout, stderr
-            cmd += " < %s" % pipes.quote(target[0:-4])
+            cmd += " < %s" % pipes.quote(os.path.splitext(target)[0])
             rc, stdout, stderr = module.run_command(cmd, use_unsafe_shell=True)
             if rc != 0:
                 return rc, stdout, stderr
             bzip2_path = module.get_bin_path('bzip2')
             if bzip2_path:
-                rc, stdout, stderr = module.run_command('%s %s' % (bzip2_path, target[0:-4]))
+                rc, stdout, stderr = module.run_command('%s %s' % (bzip2_path, os.path.splitext(target)[0]))
             else:
                 module.fail_json(msg="bzip2 command not found")
         else:
