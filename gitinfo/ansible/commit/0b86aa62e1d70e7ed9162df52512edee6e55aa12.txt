commit 0b86aa62e1d70e7ed9162df52512edee6e55aa12
Author: James Cammarata <jimi@sngx.net>
Date:   Thu Jan 14 11:54:22 2016 -0500

    Hack to work around callback API change for v2_playbook_on_start

diff --git a/lib/ansible/executor/task_queue_manager.py b/lib/ansible/executor/task_queue_manager.py
index ab46d6f78b..ed9de6603b 100644
--- a/lib/ansible/executor/task_queue_manager.py
+++ b/lib/ansible/executor/task_queue_manager.py
@@ -288,7 +288,20 @@ class TaskQueueManager:
             for method in methods:
                 if method is not None:
                     try:
-                        method(*args, **kwargs)
+                        # temporary hack, required due to a change in the callback API, so
+                        # we don't break backwards compatibility with callbacks which were
+                        # designed to use the original API
+                        # FIXME: target for removal and revert to the original code here
+                        #        after a year (2017-01-14)
+                        if method_name == 'v2_playbook_on_start':
+                            import inspect
+                            (f_args, f_varargs, f_keywords, f_defaults) = inspect.getargspec(method)
+                            if 'playbook' in args:
+                                method(*args, **kwargs)
+                            else:
+                                method()
+                        else:
+                            method(*args, **kwargs)
                     except Exception as e:
                         import traceback
                         orig_tb = traceback.format_exc()
