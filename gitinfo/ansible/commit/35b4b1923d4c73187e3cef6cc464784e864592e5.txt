commit 35b4b1923d4c73187e3cef6cc464784e864592e5
Author: Matt Martz <matt@sivel.net>
Date:   Sun Jul 22 15:33:21 2018 +0300

    Allow adhoc to execute includes and imports

diff --git a/lib/ansible/cli/adhoc.py b/lib/ansible/cli/adhoc.py
index 2e8a7267e6..437687cf8c 100644
--- a/lib/ansible/cli/adhoc.py
+++ b/lib/ansible/cli/adhoc.py
@@ -134,10 +134,6 @@ class AdHocCLI(CLI):
                 err = err + ' (did you mean to run ansible-playbook?)'
             raise AnsibleOptionsError(err)
 
-        # Avoid modules that don't work with ad-hoc
-        if self.options.module_name.startswith(('include', 'import_')):
-            raise AnsibleOptionsError("'%s' is not a valid action for ad-hoc commands" % self.options.module_name)
-
         play_ds = self._play_ds(pattern, self.options.seconds, self.options.poll_interval)
         play = Play().load(play_ds, variable_manager=variable_manager, loader=loader)
 
