commit 873c4788532fd1f0b77a4e83e76aee0349e786e6
Author: Konstantin Shalygin <k0ste@cn.ru>
Date:   Wed Apr 1 15:27:31 2015 +0600

    add 'version_add'

diff --git a/lib/ansible/modules/extras/packaging/os/pacman.py b/lib/ansible/modules/extras/packaging/os/pacman.py
index 8abd04bafc..fda700a67b 100644
--- a/lib/ansible/modules/extras/packaging/os/pacman.py
+++ b/lib/ansible/modules/extras/packaging/os/pacman.py
@@ -62,7 +62,7 @@ options:
         required: false
         default: "no"
         choices: ["yes", "no"]
-        version_added: "1.3"
+        version_added: "2.0"
 
     update_cache:
         description:
@@ -72,12 +72,13 @@ options:
         default: "no"
         choices: ["yes", "no"]
 
-    upgrade
+    upgrade:
         description:
             - Whether or not to upgrade whole system
         required: false
         default: "no"
         choices: ["yes", "no"]
+        version_added: "2.0"
 '''
 
 EXAMPLES = '''
@@ -153,11 +154,6 @@ def update_package_db(module):
     else:
         module.fail_json(msg="could not update package db")
 
-def upgrade(module):
-    cmdupgrade = "pacman -Suq --noconfirm"
-    cmdneedrefresh = "pacman -Supq"
-    rc, stdout, stderr = module.run_command(cmdneedrefresh, check_rc=False)
-
 def upgrade(module):
     cmdupgrade = "pacman -Suq --noconfirm"
     cmdneedrefresh = "pacman -Supq"
