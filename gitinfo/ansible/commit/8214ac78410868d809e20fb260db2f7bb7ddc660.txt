commit 8214ac78410868d809e20fb260db2f7bb7ddc660
Author: James Cammarata <jimi@sngx.net>
Date:   Wed May 6 01:31:02 2015 -0500

    Add serializer/deserializer to plugin base object (v2)
    
    Fixes #10923

diff --git a/lib/ansible/plugins/__init__.py b/lib/ansible/plugins/__init__.py
index 5791677bd2..ad18bfe09b 100644
--- a/lib/ansible/plugins/__init__.py
+++ b/lib/ansible/plugins/__init__.py
@@ -77,6 +77,36 @@ class PluginLoader:
         self._extra_dirs = []
         self._searched_paths = set()
 
+    def __setstate__(self, data):
+        '''
+        Deserializer.
+        '''
+
+        class_name = data.get('class_name')
+        package    = data.get('package')
+        config     = data.get('config')
+        subdir     = data.get('subdir')
+        aliases    = data.get('aliases')
+
+        self.__init__(class_name, package, config, subdir, aliases)
+        self._extra_dirs = data.get('_extra_dirs', [])
+        self._searched_paths = data.get('_searched_paths', set())
+
+    def __getstate__(self):
+        '''
+        Serializer.
+        '''
+
+        return dict(
+            class_name      = self.class_name,
+            package         = self.package,
+            config          = self.config,
+            subdir          = self.subdir,
+            aliases         = self.aliases,
+            _extra_dirs     = self._extra_dirs,
+            _searched_paths = self._searched_paths,
+        )
+
     def print_paths(self):
         ''' Returns a string suitable for printing of the search path '''
 
