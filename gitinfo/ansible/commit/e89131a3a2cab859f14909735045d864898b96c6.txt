commit e89131a3a2cab859f14909735045d864898b96c6
Author: Michael DeHaan <michael.dehaan@gmail.com>
Date:   Tue Mar 20 22:37:51 2012 -0400

    playbooks -- Ratchet up logging prior to gating things with verbosity controls and upgrading output format

diff --git a/bin/ansible-playbook b/bin/ansible-playbook
index 430a0c7dec..6f13ffea91 100755
--- a/bin/ansible-playbook
+++ b/bin/ansible-playbook
@@ -84,6 +84,14 @@ class PlaybookCallbacks(object):
     def on_dark_host(self, host, msg):
         print "exception: [%s] => %s" % (host, msg)
 
+def summarize(results):
+    ''' print out per host statistics '''
+
+    print "PLAY RECAP ******************************\n"
+
+    hosts = sorted(results.keys())
+    for host in hosts:
+        print "%s : %s" % (host, utils.smjson(results[host]))
 
 def main(args):
     ''' run ansible-playbook operations '''
@@ -125,7 +133,8 @@ def main(args):
             timeout=options.timeout
         )
         try:
-            pb.run()
+            results = pb.run()
+            summarize(results)
         except errors.AnsibleError, e:
             print >>sys.stderr, "ERROR: %s" % e
             return 1
