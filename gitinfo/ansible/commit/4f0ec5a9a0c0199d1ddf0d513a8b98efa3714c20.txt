commit 4f0ec5a9a0c0199d1ddf0d513a8b98efa3714c20
Author: Satyajit Bulage <sbulage@redhat.com>
Date:   Fri Jul 3 01:52:21 2020 +0530

    Suppress warning for user directory in ansible-inventory (#65344)
    
    When user uses home directory in --playbook-dir option
    of ansible-inventory command, it warns user about this.
    This PR suppress the warning message for user's home directory usage
    in ansible-inventory command.
    
    Fixes: #65262
    
    Signed-off-by: Satyajit Bulage <sbulage@redhat.com>

diff --git a/changelogs/fragments/65262_ansible_inventory.yml b/changelogs/fragments/65262_ansible_inventory.yml
new file mode 100644
index 0000000000..bc2dd6c57d
--- /dev/null
+++ b/changelogs/fragments/65262_ansible_inventory.yml
@@ -0,0 +1,2 @@
+bugfixes:
+- Suppress warning when user directory used in --playbook-dir option with ansible-inventory command (https://github.com/ansible/ansible/issues/65262).
diff --git a/lib/ansible/plugins/loader.py b/lib/ansible/plugins/loader.py
index 49b85e57ac..755be2ffb8 100644
--- a/lib/ansible/plugins/loader.py
+++ b/lib/ansible/plugins/loader.py
@@ -61,7 +61,7 @@ def get_all_plugin_loaders():
 
 def add_all_plugin_dirs(path):
     ''' add any existing plugin dirs in the path provided '''
-    b_path = to_bytes(path, errors='surrogate_or_strict')
+    b_path = os.path.expanduser(to_bytes(path, errors='surrogate_or_strict'))
     if os.path.isdir(b_path):
         for name, obj in get_all_plugin_loaders():
             if obj.subdir:
