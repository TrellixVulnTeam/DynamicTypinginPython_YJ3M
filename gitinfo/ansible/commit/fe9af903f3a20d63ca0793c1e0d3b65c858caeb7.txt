commit fe9af903f3a20d63ca0793c1e0d3b65c858caeb7
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Apr 20 11:49:10 2017 -0400

    script fails on async

diff --git a/lib/ansible/plugins/action/script.py b/lib/ansible/plugins/action/script.py
index d0f358a54b..6195917fa7 100644
--- a/lib/ansible/plugins/action/script.py
+++ b/lib/ansible/plugins/action/script.py
@@ -34,9 +34,7 @@ class ActionModule(ActionBase):
 
         result = super(ActionModule, self).run(tmp, task_vars)
 
-        if self._play_context.check_mode:
-            result['skipped'] = True
-            result['msg'] = 'check mode not supported for this module'
+        if result.get('skipped', False) or result.get('failed', False):
             return result
 
         if not tmp:
