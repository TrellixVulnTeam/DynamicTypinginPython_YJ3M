commit 048c51c1f8b924687783f6e9019245c6bba91e13
Author: nitzmahone <mdavis@ansible.com>
Date:   Tue Nov 21 17:12:32 2017 -0800

    Ensure that readonly result members are serialized (#33169)
    
    * fix for breaking metadata change in various Azure Python SDK bits; some members were marked `readonly` for validation, which the default msrest serializer ignores. Added `keep_readonly` flag to serializer call to ensure they're preserved.

diff --git a/lib/ansible/module_utils/azure_rm_common.py b/lib/ansible/module_utils/azure_rm_common.py
index 56a8ee4ebc..d27f4af5d5 100644
--- a/lib/ansible/module_utils/azure_rm_common.py
+++ b/lib/ansible/module_utils/azure_rm_common.py
@@ -528,7 +528,7 @@ class AzureRMModuleBase(object):
             self.log("dependencies: ")
             self.log(str(dependencies))
         serializer = Serializer(classes=dependencies)
-        return serializer.body(obj, class_name)
+        return serializer.body(obj, class_name, keep_readonly=True)
 
     def get_poller_result(self, poller, wait=5):
         '''
