commit d4bef8652a85b757a963c0b4caf36a20d100513b
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Mon Sep 10 15:37:15 2018 +0530

    VMware: skip customization if no type is specified (#44510)
    
    VM customization is not necessary if user is not specifying IP address
    and netmask. This fix adds exception for type 'DHCP' which is set by default
    if no networking details are provided.
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/modules/cloud/vmware/vmware_guest.py b/lib/ansible/modules/cloud/vmware/vmware_guest.py
index 0bb4620e6c..d4378d6bcc 100644
--- a/lib/ansible/modules/cloud/vmware/vmware_guest.py
+++ b/lib/ansible/modules/cloud/vmware/vmware_guest.py
@@ -2015,7 +2015,7 @@ class PyVmomiHelper(PyVmomi):
         for nw in self.params['networks']:
             for key in nw:
                 # We don't need customizations for these keys
-                if key not in ('device_type', 'mac', 'name', 'vlan'):
+                if key not in ('device_type', 'mac', 'name', 'vlan', 'type'):
                     network_changes = True
                     break
 
