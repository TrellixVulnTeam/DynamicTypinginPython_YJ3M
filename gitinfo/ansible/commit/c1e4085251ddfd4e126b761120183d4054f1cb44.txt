commit c1e4085251ddfd4e126b761120183d4054f1cb44
Author: Sébastien Gross <seb•ɑƬ•chezwam•ɖɵʈ•org>
Date:   Wed Aug 6 10:56:16 2014 +0200

    Add regular expression escaping filter.

diff --git a/lib/ansible/plugins/filter/core.py b/lib/ansible/plugins/filter/core.py
index e8e3e17f77..a4f16e907d 100644
--- a/lib/ansible/plugins/filter/core.py
+++ b/lib/ansible/plugins/filter/core.py
@@ -222,6 +222,10 @@ def version_compare(value, version, operator='eq', strict=False):
     except Exception, e:
         raise errors.AnsibleFilterError('Version comparison: %s' % e)
 
+def re_escape(string):
+    '''Escape all regular expressions special characters from STRING.'''
+    return re.escape(string)
+
 @environmentfilter
 def rand(environment, end, start=None, step=None):
     r = SystemRandom()
@@ -356,6 +360,7 @@ class FilterModule(object):
             'search': search,
             'regex': regex,
             'regex_replace': regex_replace,
+            're_escape': re_escape,
 
             # ? : ;
             'ternary': ternary,
