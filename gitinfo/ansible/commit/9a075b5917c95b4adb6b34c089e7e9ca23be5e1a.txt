commit 9a075b5917c95b4adb6b34c089e7e9ca23be5e1a
Author: Fabio Alessandro Locati <me@fale.io>
Date:   Fri Dec 9 22:36:39 2016 +0000

    Avoid using an object if it does not exists (#19058)

diff --git a/lib/ansible/modules/system/sefcontext.py b/lib/ansible/modules/system/sefcontext.py
index f1000b34cc..5ca1fc4e55 100644
--- a/lib/ansible/modules/system/sefcontext.py
+++ b/lib/ansible/modules/system/sefcontext.py
@@ -103,16 +103,17 @@ except ImportError:
     HAVE_SEOBJECT=False
 
 ### Add missing entries (backward compatible)
-seobject.file_types.update(dict(
-  a = seobject.SEMANAGE_FCONTEXT_ALL,
-  b = seobject.SEMANAGE_FCONTEXT_BLOCK,
-  c = seobject.SEMANAGE_FCONTEXT_CHAR,
-  d = seobject.SEMANAGE_FCONTEXT_DIR,
-  f = seobject.SEMANAGE_FCONTEXT_REG,
-  l = seobject.SEMANAGE_FCONTEXT_LINK,
-  p = seobject.SEMANAGE_FCONTEXT_PIPE,
-  s = seobject.SEMANAGE_FCONTEXT_SOCK,
-))
+if HAVE_SEOBJECT:
+    seobject.file_types.update(dict(
+        a = seobject.SEMANAGE_FCONTEXT_ALL,
+        b = seobject.SEMANAGE_FCONTEXT_BLOCK,
+        c = seobject.SEMANAGE_FCONTEXT_CHAR,
+        d = seobject.SEMANAGE_FCONTEXT_DIR,
+        f = seobject.SEMANAGE_FCONTEXT_REG,
+        l = seobject.SEMANAGE_FCONTEXT_LINK,
+        p = seobject.SEMANAGE_FCONTEXT_PIPE,
+        s = seobject.SEMANAGE_FCONTEXT_SOCK,
+    ))
 
 ### Make backward compatible
 option_to_file_type_str = dict(
