commit 4d118d1c72360c4304a847a6221268f41c7f187a
Author: James Cammarata <jimi@sngx.net>
Date:   Tue May 6 12:51:26 2014 -0500

    Make sure dwim'd relative path ends in a "/" if the original does
    
    Fixes #7296

diff --git a/lib/ansible/runner/action_plugins/synchronize.py b/lib/ansible/runner/action_plugins/synchronize.py
index 42432d4fcb..972926852a 100644
--- a/lib/ansible/runner/action_plugins/synchronize.py
+++ b/lib/ansible/runner/action_plugins/synchronize.py
@@ -32,7 +32,12 @@ class ActionModule(object):
         if 'vars' in self.inject:
             if '_original_file' in self.inject['vars']:
                 # roles
+                original_path = path
                 path = utils.path_dwim_relative(self.inject['_original_file'], 'files', path, self.runner.basedir)
+                if original_path and original_path[-1] == '/' and path[-1] != '/':
+                    # make sure the dwim'd path ends in a trailing "/"
+                    # if the original path did
+                    path += '/'
             elif 'inventory_dir' in self.inject['vars']:
                 # non-roles
                 abs_dir = os.path.abspath(self.inject['vars']['inventory_dir'])
