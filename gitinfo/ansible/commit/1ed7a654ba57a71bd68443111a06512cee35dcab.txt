commit 1ed7a654ba57a71bd68443111a06512cee35dcab
Author: Enno Gr√∂per <enno+github@groeper-berlin.de>
Date:   Mon Jun 10 22:26:25 2019 +0200

    Improve testing of FactCache (#55739)
    
    * Improve testing of FactCache

diff --git a/test/units/plugins/cache/test_cache.py b/test/units/plugins/cache/test_cache.py
index 8975c27cc8..b8ea1f334e 100644
--- a/test/units/plugins/cache/test_cache.py
+++ b/test/units/plugins/cache/test_cache.py
@@ -117,6 +117,14 @@ class TestFactCache(unittest.TestCase):
                                     "Unable to load the facts cache plugin.*json.*",
                                     FactCache)
 
+    def test_update(self):
+        self.cache.update({'cache_key': {'key2': 'updatedvalue'}})
+        assert self.cache['cache_key']['key2'] == 'updatedvalue'
+
+    def test_update_legacy(self):
+        self.cache.update('cache_key', {'key2': 'updatedvalue'})
+        assert self.cache['cache_key']['key2'] == 'updatedvalue'
+
     def test_update_legacy_key_exists(self):
         self.cache['cache_key'] = {'key': 'value', 'key2': 'value2'}
         self.cache.update('cache_key', {'key': 'updatedvalue'})
