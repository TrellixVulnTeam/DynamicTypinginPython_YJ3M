commit f1f98a15ca87f9746eb52e91210a81af522a5d5e
Author: Will Keeling <will@zifferent.com>
Date:   Sat Oct 10 21:06:10 2015 +0100

    Fixes #634 - multiple param handling by modprobe.py

diff --git a/lib/ansible/modules/extras/system/modprobe.py b/lib/ansible/modules/extras/system/modprobe.py
index 64e36c784a..405d5ea22c 100644
--- a/lib/ansible/modules/extras/system/modprobe.py
+++ b/lib/ansible/modules/extras/system/modprobe.py
@@ -57,6 +57,9 @@ EXAMPLES = '''
 - modprobe: name=dummy state=present params="numdummies=2"
 '''
 
+import shlex
+
+
 def main():
     module = AnsibleModule(
         argument_spec={
@@ -100,7 +103,9 @@ def main():
     # Add/remove module as needed
     if args['state'] == 'present':
         if not present:
-            rc, _, err = module.run_command([module.get_bin_path('modprobe', True), args['name'], args['params']])
+            command = [module.get_bin_path('modprobe', True), args['name']]
+            command.extend(shlex.split(args['params']))
+            rc, _, err = module.run_command(command)
             if rc != 0:
                 module.fail_json(msg=err, **args)
             args['changed'] = True
