commit c5433d9742e63159be13050e01449d2c40571b5d
Author: David Hummel <david_hummel@hms.harvard.edu>
Date:   Mon Dec 23 15:57:47 2013 -0500

    Check for group_name and cidr_ip.

diff --git a/library/cloud/ec2_group b/library/cloud/ec2_group
index 85005224f6..63850efb78 100644
--- a/library/cloud/ec2_group
+++ b/library/cloud/ec2_group
@@ -211,6 +211,8 @@ def main():
                 ip = None
                 if 'group_id' in rule and 'cidr_ip' in rule:
                     module.fail_json(msg="Specify group_id OR cidr_ip, not both")
+                elif 'group_name' in rule and 'cidr_ip' in rule:
+                    module.fail_json(msg="Specify group_name OR cidr_ip, not both")
                 elif 'group_id' in rule and 'group_name' in rule:
                     module.fail_json(msg="Specify group_id OR group_name, not both")
                 elif 'group_id' in rule:
