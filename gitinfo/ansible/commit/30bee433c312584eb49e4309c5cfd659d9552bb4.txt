commit 30bee433c312584eb49e4309c5cfd659d9552bb4
Author: kulawczukmarcin <kulawczukmarcin@gmail.com>
Date:   Tue Feb 28 14:01:52 2017 +0100

    Extend os image container and disk formats (#21275)
    
    * Support docker as an os_image container format
    
    As says openstack documentation
    http://docs.openstack.org/developer/glance/formats.html
    docker can be a container format for glance image.
    
    * Support vhdx and ploop as an os_image container formats
    
    As stands in  openstack documentation
    http://docs.openstack.org/developer/glance/formats.html
    those are supported disk formats for glance image.

diff --git a/lib/ansible/modules/cloud/openstack/os_image.py b/lib/ansible/modules/cloud/openstack/os_image.py
index 479eecf1dc..3715d50379 100644
--- a/lib/ansible/modules/cloud/openstack/os_image.py
+++ b/lib/ansible/modules/cloud/openstack/os_image.py
@@ -130,8 +130,8 @@ def main():
 
     argument_spec = openstack_full_argument_spec(
         name              = dict(required=True),
-        disk_format       = dict(default='qcow2', choices=['ami', 'ari', 'aki', 'vhd', 'vmdk', 'raw', 'qcow2', 'vdi', 'iso']),
-        container_format  = dict(default='bare', choices=['ami', 'aki', 'ari', 'bare', 'ovf', 'ova']),
+        disk_format       = dict(default='qcow2', choices=['ami', 'ari', 'aki', 'vhd', 'vmdk', 'raw', 'qcow2', 'vdi', 'iso', 'vhdx', 'ploop']),
+        container_format  = dict(default='bare', choices=['ami', 'aki', 'ari', 'bare', 'ovf', 'ova', 'docker']),
         owner             = dict(default=None),
         min_disk          = dict(type='int', default=0),
         min_ram           = dict(type='int', default=0),
