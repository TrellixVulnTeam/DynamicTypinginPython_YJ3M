commit 589e71dbc5c9e7fd4bd83c6cbc6d8fab15f134f7
Author: Toshio Kuratomi <a.badger@gmail.com>
Date:   Sun Oct 23 22:14:46 2016 -0700

    Fix the uri testserver to run on python3

diff --git a/test/integration/targets/uri/files/testserver.py b/test/integration/targets/uri/files/testserver.py
index d0d24a0050..1488c814af 100644
--- a/test/integration/targets/uri/files/testserver.py
+++ b/test/integration/targets/uri/files/testserver.py
@@ -1,7 +1,17 @@
-import mimetypes
+import sys
 
 if __name__ == '__main__':
-    mimetypes.init()
-    mimetypes.add_type('application/json', '.json')
-    import SimpleHTTPServer
-    SimpleHTTPServer.test()
+    if sys.version_info[0] >= 3:
+        import http.server
+        import socketserver
+        PORT = int(sys.argv[1])
+        Handler = http.server.SimpleHTTPRequestHandler
+        httpd = socketserver.TCPServer(("", PORT), Handler)
+        httpd.serve_forever()
+    else:
+        import mimetypes
+        mimetypes.init()
+        mimetypes.add_type('application/json', '.json')
+        import SimpleHTTPServer
+        SimpleHTTPServer.test()
+
