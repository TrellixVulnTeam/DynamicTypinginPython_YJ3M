commit f1766457a2fae6c72fe4d7373829ec19f77eabc4
Author: Nilashish Chakraborty <nilashishchakraborty8@gmail.com>
Date:   Thu Sep 12 16:25:56 2019 +0530

    Handle cases where normal commit operation throws a prompt (#62132)
    
    Signed-off-by: NilashishC <nilashishchakraborty8@gmail.com>

diff --git a/lib/ansible/plugins/cliconf/iosxr.py b/lib/ansible/plugins/cliconf/iosxr.py
index aa20ad0e4e..16ce9d8e5b 100644
--- a/lib/ansible/plugins/cliconf/iosxr.py
+++ b/lib/ansible/plugins/cliconf/iosxr.py
@@ -191,6 +191,11 @@ class Cliconf(CliconfBase):
                 cmd_obj['command'] = 'commit label {0}'.format(label)
             else:
                 cmd_obj['command'] = 'commit show-error'
+            # In some cases even a normal commit, i.e., !replace,
+            # throws a prompt and we need to handle it before
+            # proceeding further
+            cmd_obj['prompt'] = '(C|c)onfirm'
+            cmd_obj['answer'] = 'y'
 
         self.send_command(**cmd_obj)
 
