commit 977b31249ac23177466c60d63d770d54aae89485
Author: Ustun Ozgur <ustunozgur@gmail.com>
Date:   Sun Sep 29 14:03:10 2013 +0300

    Update cache check in find_plugin
    
    I am not familiar with the internals, but this line looked suspicious.

diff --git a/lib/ansible/utils/plugins.py b/lib/ansible/utils/plugins.py
index 74432c147e..72c0eac9c6 100644
--- a/lib/ansible/utils/plugins.py
+++ b/lib/ansible/utils/plugins.py
@@ -142,7 +142,7 @@ class PluginLoader(object):
     def find_plugin(self, name):
         ''' Find a plugin named name '''
 
-        if 'name' in self._plugin_path_cache:
+        if name in self._plugin_path_cache:
             return self._plugin_path_cache[name]
 
         suffix = ".py"
