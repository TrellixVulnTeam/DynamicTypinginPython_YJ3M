commit 4239922d07ccf959e9d9ff5793c5c4c7ac57dfc2
Author: James Cammarata <jimi@sngx.net>
Date:   Wed Jun 24 14:43:04 2015 -0400

    Updating version_added for new spot_type param in ec2 module
    
    Also made sure 'choices' were set on the module param, to catch errors
    in user's playbooks, etc.

diff --git a/lib/ansible/modules/cloud/amazon/ec2.py b/lib/ansible/modules/cloud/amazon/ec2.py
index b902dad055..9c5407d9d7 100755
--- a/lib/ansible/modules/cloud/amazon/ec2.py
+++ b/lib/ansible/modules/cloud/amazon/ec2.py
@@ -76,6 +76,7 @@ options:
     default: null
     aliases: []
   spot_type:
+    version_added: "2.0"
     description:
       - Type of spot request; one of "one-time" or "persistent". Defaults to "one-time" if not supplied.
     required: false
@@ -1188,7 +1189,7 @@ def main():
             zone = dict(aliases=['aws_zone', 'ec2_zone']),
             instance_type = dict(aliases=['type']),
             spot_price = dict(),
-            spot_type = dict(default='one-time'),
+            spot_type = dict(default='one-time', choices=["one-time", "persistent"]),
             image = dict(),
             kernel = dict(),
             count = dict(type='int', default='1'),
