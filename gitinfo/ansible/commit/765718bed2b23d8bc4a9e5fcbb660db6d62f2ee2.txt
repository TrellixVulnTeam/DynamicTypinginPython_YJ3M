commit 765718bed2b23d8bc4a9e5fcbb660db6d62f2ee2
Author: Matt Clay <matt@mystile.com>
Date:   Wed Sep 13 22:21:19 2017 -0700

    Run all Windows tests if change detection disabled (#30320)
    
    * Run all Windows tests if change detection disabled
    * Run all Windows versions if change detection disabled

diff --git a/test/utils/shippable/windows.sh b/test/utils/shippable/windows.sh
index 52054c8cd6..5f02f2d78e 100755
--- a/test/utils/shippable/windows.sh
+++ b/test/utils/shippable/windows.sh
@@ -19,7 +19,7 @@ python_versions=(
 # shellcheck disable=SC2086
 ansible-test windows-integration "${target}" --explain ${CHANGED:+"$CHANGED"} 2>&1 | { grep ' windows-integration: .* (targeted)$' || true; } > /tmp/windows.txt
 
-if [ -s /tmp/windows.txt ]; then
+if [ -s /tmp/windows.txt ] || [ "${CHANGED:+$CHANGED}" == "" ]; then
     echo "Detected changes requiring integration tests specific to Windows:"
     cat /tmp/windows.txt
 
@@ -62,10 +62,8 @@ for version in "${python_versions[@]}"; do
                 changed_all_target="none"
             fi
         else
-            # only run smoketest tests for group1
-            if [ "${target}" != "windows/ci/group1/" ]; then continue; fi
-            # without change detection enabled run only smoketest tests
-            ci="windows/ci/smoketest/"
+            # without change detection enabled run entire test group
+            ci="${target}"
         fi
     else
         # only run minimal tests for group1
