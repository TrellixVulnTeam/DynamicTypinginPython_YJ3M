commit 078aaa95a2a07cb42a1da65b11837e4198ebbb4c
Author: James Tanner <tanner.jc@gmail.com>
Date:   Wed Oct 30 20:17:17 2013 -0400

    Revert 1f6edf7d76c66af0042dfc535b39785f2869dc19 and re-enable passing lists to yum and apt

diff --git a/lib/ansible/runner/__init__.py b/lib/ansible/runner/__init__.py
index ee5a4d0031..d7ea202175 100644
--- a/lib/ansible/runner/__init__.py
+++ b/lib/ansible/runner/__init__.py
@@ -457,12 +457,10 @@ class Runner(object):
             if type(items) != list:
                 raise errors.AnsibleError("lookup plugins have to return a list: %r" % items)
 
-            # hack for apt, yum, and pkgng so that with_items maps back into a single module call
             if len(items) and utils.is_list_of_strings(items) and self.module_name in [ 'apt', 'yum', 'pkgng' ]:
-                # only join the item/package names if this task is not conditional
-                if not self.conditional:
-                    inject['item'] = ",".join(items)
-                    items = None
+                # hack for apt, yum, and pkgng so that with_items maps back into a single module call
+                inject['item'] = ",".join(items)
+                items = None
 
         # logic to replace complex args if possible
         complex_args = self.complex_args
