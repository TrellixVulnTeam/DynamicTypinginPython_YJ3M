commit 064bb66e6d8ab3ae0aa31bc1409c62d37d7386fa
Author: Trishna Guha <trishnaguha17@gmail.com>
Date:   Thu Sep 7 17:30:24 2017 +0530

    run banner exec test only for NXOS7K (#29041)
    
    Signed-off-by: Trishna Guha <trishnaguha17@gmail.com>

diff --git a/test/integration/targets/nxos_banner/tests/common/basic-exec.yaml b/test/integration/targets/nxos_banner/tests/common/basic-exec.yaml
index 55d232b825..add3ea68f9 100644
--- a/test/integration/targets/nxos_banner/tests/common/basic-exec.yaml
+++ b/test/integration/targets/nxos_banner/tests/common/basic-exec.yaml
@@ -1,34 +1,41 @@
 ---
-- name: setup - remove exec
-  nxos_banner:
-    banner: exec
-    state: absent
-    provider: "{{ connection }}"
-
-- name: Set exec
-  nxos_banner: &exec
-    banner: exec
-    text: |
-      this is my exec banner
-      that has a multiline
-      string
-    state: present
-    provider: "{{ connection }}"
-  register: result
-
-- assert:
-    that:
-      - "result.changed == true"
-      - "'banner exec @\nthis is my exec banner\nthat has a multiline\nstring\n@' in result.commands"
-
-- name: Set exec again (idempotent)
-  nxos_banner: *exec
-  register: result
-
-- assert:
-    that:
-      - "result.changed == false"
-      - "result.commands | length == 0"
+- debug: msg="START nxos_banner exec test"
+
+- block:
+    - name: setup - remove exec
+      nxos_banner:
+        banner: exec
+        state: absent
+        provider: "{{ connection }}"
+
+    - name: Set exec
+      nxos_banner: &exec
+        banner: exec
+        text: |
+          this is my exec banner
+          that has a multiline
+          string
+        state: present
+        provider: "{{ connection }}"
+      register: result
+
+    - assert:
+        that:
+          - "result.changed == true"
+          - "'banner exec @\nthis is my exec banner\nthat has a multiline\nstring\n@' in result.commands"
+
+    - name: Set exec again (idempotent)
+      nxos_banner: *exec
+      register: result
+
+    - assert:
+        that:
+          - "result.changed == false"
+          - "result.commands | length == 0"
+
+  when: platform | match("N7K")
+
+- debug: msg="END nxos_banner exec test"
 
 # FIXME add in tests for everything defined in docs
 # FIXME Test state:absent + test:
