commit 554423cf047bf2b005a68fb93efc599d5b79e95f
Author: Matt Clay <matt@mystile.com>
Date:   Fri Jun 30 14:50:09 2017 -0700

    Expose docker socket to test containers.

diff --git a/test/runner/lib/delegation.py b/test/runner/lib/delegation.py
index da2869cdf1..c1ce2fdcab 100644
--- a/test/runner/lib/delegation.py
+++ b/test/runner/lib/delegation.py
@@ -211,6 +211,11 @@ def delegate_docker(args, exclude, require):
                 '--privileged=%s' % str(privileged).lower(),
             ]
 
+            docker_socket = '/var/run/docker.sock'
+
+            if os.path.exists(docker_socket):
+                test_options += ['--volume', '%s:%s' % (docker_socket, docker_socket)]
+
             if util_id:
                 test_options += [
                     '--link', '%s:ansible.http.tests' % util_id,
