commit 0b5b5e69d867e3cd835a8c52f27ac07da26114ca
Author: Tim Rupp <caphrim007@gmail.com>
Date:   Mon Nov 26 20:59:03 2018 -0800

    Adds hasattr checks for rpc calls used in network_cli plugins (#49173)
    
    Network platforms that don't have cliconf plugin will fail when
    sending rpc calls for the reset_history and disable_response_logging
    functions because those are defined in cliconf exclusively at this
    time.
    
    This patch adds checks for those attributes before making the call

diff --git a/lib/ansible/plugins/connection/network_cli.py b/lib/ansible/plugins/connection/network_cli.py
index 63e68032c3..7b65b65b02 100644
--- a/lib/ansible/plugins/connection/network_cli.py
+++ b/lib/ansible/plugins/connection/network_cli.py
@@ -294,8 +294,11 @@ class Connection(NetworkConnectionBase):
 
         self._play_context = play_context
 
-        self.reset_history()
-        self.disable_response_logging()
+        if hasattr(self, 'reset_history'):
+            self.reset_history()
+        if hasattr(self, 'disable_response_logging'):
+            self.disable_response_logging()
+
         return messages
 
     def _connect(self):
