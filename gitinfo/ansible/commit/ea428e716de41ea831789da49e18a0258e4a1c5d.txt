commit ea428e716de41ea831789da49e18a0258e4a1c5d
Author: Brian Coca <bcoca@ansible.com>
Date:   Thu Oct 20 14:33:41 2016 -0400

    role now fails if specified file not found
    
    fixes https://github.com/ansible/ansible-modules-core/issues/5166

diff --git a/lib/ansible/playbook/role/__init__.py b/lib/ansible/playbook/role/__init__.py
index 0bd177ca09..52cc12e4ea 100644
--- a/lib/ansible/playbook/role/__init__.py
+++ b/lib/ansible/playbook/role/__init__.py
@@ -207,6 +207,8 @@ class Role(Base, Become, Conditional, Taggable):
             main_file = self._resolve_main(file_path, main)
             if self._loader.path_exists(main_file):
                 return self._loader.load_from_file(main_file)
+            elif main is not None:
+                raise AnsibleParserError("Could not find specified file in role: %s" % main)
         return None
 
     def _resolve_main(self, basepath, main=None):
