commit 5fdd2a7b01cb049574a9d73e93707ae9bbada02f
Author: Andrew DeMaria <lostonamountain@gmail.com>
Date:   Sat Jul 12 10:57:30 2014 -0500

    Fix #8047
    
    Ensure that json is returned when only updating the cache and in check mode

diff --git a/library/packaging/pacman b/library/packaging/pacman
index 5bf2d931e6..0b23a2f93c 100644
--- a/library/packaging/pacman
+++ b/library/packaging/pacman
@@ -204,6 +204,9 @@ def main():
         if not p['name']:
             module.exit_json(changed=True, msg='updated the package master lists')
 
+    if p['update_cache'] and module.check_mode and not p['name']:
+        module.exit_json(changed=True, msg='Would have updated the package cache')
+
     if p['name']:
         pkgs = p['name'].split(',')
 
