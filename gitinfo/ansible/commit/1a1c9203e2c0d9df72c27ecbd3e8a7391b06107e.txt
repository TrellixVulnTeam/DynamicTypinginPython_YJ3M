commit 1a1c9203e2c0d9df72c27ecbd3e8a7391b06107e
Author: Marius Gedminas <marius@gedmin.as>
Date:   Mon Sep 7 09:49:28 2015 +0300

    Python 3: fix TypeError: unorderable types in test
    
    The full error was
    
    ======================================================================
    ERROR: test_task_executor_execute (units.executor.test_task_executor.TestTaskExecutor)
    ----------------------------------------------------------------------
    Traceback (most recent call last):
      File "/home/mg/src/ansible/test/units/executor/test_task_executor.py", line 252, in test_task_executor_execute
        mock_action.run.return_value = dict(ansible_facts=dict())
      File "/home/mg/src/ansible/lib/ansible/executor/task_executor.py", line 317, in _execute
        if self._task.async > 0:
    TypeError: unorderable types: MagicMock() > int()
    
    ----------------------------------------------------------------------
    
    Experiments show that Python 2 MagicMock() > 0 is true, so I'm setting
    the async property on mock_task to 1.  (If I set it to 0, the test fails
    anyway.)

diff --git a/test/units/executor/test_task_executor.py b/test/units/executor/test_task_executor.py
index 5b5fa79c3f..6c514d35de 100644
--- a/test/units/executor/test_task_executor.py
+++ b/test/units/executor/test_task_executor.py
@@ -220,6 +220,7 @@ class TestTaskExecutor(unittest.TestCase):
         mock_task.changed_when = None
         mock_task.failed_when = None
         mock_task.post_validate.return_value = None
+        mock_task.async = 1
 
         mock_play_context = MagicMock()
         mock_play_context.post_validate.return_value = None
