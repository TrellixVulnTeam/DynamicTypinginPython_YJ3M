commit 1998707eda3ac0e4a941c098473ffde78b78b6c4
Author: Trishna Guha <trishnaguha17@gmail.com>
Date:   Mon Jun 11 15:26:01 2018 +0530

    Fix nxos_snapshot compare (#41386)
    
    Signed-off-by: Trishna Guha <trishnaguha17@gmail.com>

diff --git a/lib/ansible/modules/network/nxos/nxos_snapshot.py b/lib/ansible/modules/network/nxos/nxos_snapshot.py
index 621f166fbb..748f4ea094 100644
--- a/lib/ansible/modules/network/nxos/nxos_snapshot.py
+++ b/lib/ansible/modules/network/nxos/nxos_snapshot.py
@@ -356,7 +356,9 @@ def main():
                 snapshot1 = module.params['snapshot1']
                 snapshot2 = module.params['snapshot2']
                 compare_option = module.params['compare_option']
-                command = 'show snapshot compare {0} {1} {2}'.format(snapshot1, snapshot2, compare_option)
+                command = 'show snapshot compare {0} {1}'.format(snapshot1, snapshot2)
+                if compare_option:
+                    command += ' {0}'.format(compare_option)
                 content = execute_show_command(command, module)[0]
                 if content:
                     write_on_file(content, comparison_results_file, module)
