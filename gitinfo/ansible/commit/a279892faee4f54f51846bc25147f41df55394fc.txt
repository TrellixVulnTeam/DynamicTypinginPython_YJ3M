commit a279892faee4f54f51846bc25147f41df55394fc
Author: Felix Fontein <felix@fontein.de>
Date:   Mon Feb 11 15:46:38 2019 +0100

    ufw: allow gre and igmp protocols (#51166)
    
    * ufw: allow gre and igmp protocols.
    
    * Add changelog.

diff --git a/changelogs/fragments/51166-ufw-gre-igmp.yaml b/changelogs/fragments/51166-ufw-gre-igmp.yaml
new file mode 100644
index 0000000000..c01326c3ea
--- /dev/null
+++ b/changelogs/fragments/51166-ufw-gre-igmp.yaml
@@ -0,0 +1,2 @@
+minor_changes:
+- "ufw - ``proto`` can now also be ``gre`` and ``igmp``."
diff --git a/lib/ansible/modules/system/ufw.py b/lib/ansible/modules/system/ufw.py
index 652fd35179..1321aa8614 100644
--- a/lib/ansible/modules/system/ufw.py
+++ b/lib/ansible/modules/system/ufw.py
@@ -81,7 +81,7 @@ options:
   proto:
     description:
       - TCP/IP protocol.
-    choices: [ any, tcp, udp, ipv6, esp, ah ]
+    choices: [ any, tcp, udp, ipv6, esp, ah, gre, igmp ]
   name:
     description:
       - Use profile located in C(/etc/ufw/applications.d).
@@ -255,7 +255,7 @@ def main():
             from_port=dict(type='str'),
             to_ip=dict(type='str', default='any', aliases=['dest', 'to']),
             to_port=dict(type='str', aliases=['port']),
-            proto=dict(type='str', aliases=['protocol'], choices=['ah', 'any', 'esp', 'ipv6', 'tcp', 'udp']),
+            proto=dict(type='str', aliases=['protocol'], choices=['ah', 'any', 'esp', 'ipv6', 'tcp', 'udp', 'gre', 'igmp']),
             app=dict(type='str', aliases=['name']),
             comment=dict(type='str'),
         ),
