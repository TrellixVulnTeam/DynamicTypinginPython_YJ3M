commit 4e0e09d2de17ceb33f935c9d2b8091aac6ba1a03
Author: Abhijeet Kasurde <akasurde@redhat.com>
Date:   Tue Feb 12 23:19:00 2019 +0530

    docs: update docs about pipelining (#51856)
    
    Additional documentation about `keep_remote_files` and
    `pipelining` configurations.
    
    Signed-off-by: Abhijeet Kasurde <akasurde@redhat.com>

diff --git a/lib/ansible/config/base.yml b/lib/ansible/config/base.yml
index e9f0ee6e87..d8fb002ccc 100644
--- a/lib/ansible/config/base.yml
+++ b/lib/ansible/config/base.yml
@@ -86,6 +86,7 @@ ANSIBLE_PIPELINING:
     - This can result in a very significant performance improvement when enabled.
     - "However this conflicts with privilege escalation (become). For example, when using 'sudo:' operations you must first
       disable 'requiretty' in /etc/sudoers on all managed hosts, which is why it is disabled by default."
+    - This options is disabled if ``ANSIBLE_KEEP_REMOTE_FILES`` is enabled.
   env:
     - name: ANSIBLE_PIPELINING
     - name: ANSIBLE_SSH_PIPELINING
@@ -746,7 +747,9 @@ DEFAULT_JINJA2_NATIVE:
 DEFAULT_KEEP_REMOTE_FILES:
   name: Keep remote files
   default: False
-  description: Enables/disables the cleaning up of the temporary files Ansible used to execute the tasks on the remote.
+  description:
+    - Enables/disables the cleaning up of the temporary files Ansible used to execute the tasks on the remote.
+    - If this option is enabled it will disable ``ANSIBLE_PIPELINING``.
   env: [{name: ANSIBLE_KEEP_REMOTE_FILES}]
   ini:
   - {key: keep_remote_files, section: defaults}
diff --git a/lib/ansible/plugins/action/__init__.py b/lib/ansible/plugins/action/__init__.py
index 1b3929a3a7..0a9b2b78a9 100644
--- a/lib/ansible/plugins/action/__init__.py
+++ b/lib/ansible/plugins/action/__init__.py
@@ -852,6 +852,7 @@ class ActionBase(with_metaclass(ABCMeta, object)):
 
             if self._is_pipelining_enabled(module_style):
                 in_data = module_data
+                display.vvv("Pipelining is enabled.")
             else:
                 cmd = remote_module_path
 
