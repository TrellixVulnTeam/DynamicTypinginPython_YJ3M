commit 63a8ae94a7c9e6f898ce9545772e98073df9e0f9
Author: Julien Vey <vey.julien@gmail.com>
Date:   Wed Apr 4 02:26:14 2018 +0200

    cloudfront_distribution: fix restrictions (#37476)

diff --git a/lib/ansible/modules/cloud/amazon/cloudfront_distribution.py b/lib/ansible/modules/cloud/amazon/cloudfront_distribution.py
index 3c5a8d9634..fa5cfc5320 100644
--- a/lib/ansible/modules/cloud/amazon/cloudfront_distribution.py
+++ b/lib/ansible/modules/cloud/amazon/cloudfront_distribution.py
@@ -1691,7 +1691,7 @@ class CloudFrontValidationManager(object):
                                               rest not in geo_restriction_items])
             valid_restrictions = ansible_list_to_cloudfront_list(geo_restriction_items)
             valid_restrictions['restriction_type'] = geo_restriction.get('restriction_type')
-            return valid_restrictions
+            return {'geo_restriction': valid_restrictions}
         except Exception as e:
             self.module.fail_json_aws(e, msg="Error validating restrictions")
 
diff --git a/test/integration/targets/cloudfront_distribution/tasks/main.yml b/test/integration/targets/cloudfront_distribution/tasks/main.yml
index 5a26adb723..b1ed266328 100644
--- a/test/integration/targets/cloudfront_distribution/tasks/main.yml
+++ b/test/integration/targets/cloudfront_distribution/tasks/main.yml
@@ -53,6 +53,23 @@
       that:
         - update_origin_http_port.changed
 
+  - name: update restrictions
+    cloudfront_distribution:
+      alias: "{{ cloudfront_alias }}"
+      restrictions:
+        geo_restriction:
+          restriction_type: "whitelist"
+          items:
+            - "US"
+      state: present
+      <<: *aws_connection_info
+    register: update_restrictions
+
+  - name: ensure restrictions was updated
+    assert:
+      that:
+        - update_restrictions.changed
+
   - name: set a random comment
     set_fact:
       comment: "{{'ABCDEFabcdef123456'|shuffle|join }}"
