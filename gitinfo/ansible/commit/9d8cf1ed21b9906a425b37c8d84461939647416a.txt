commit 9d8cf1ed21b9906a425b37c8d84461939647416a
Author: Richard Lau <riclau@uk.ibm.com>
Date:   Fri May 15 00:09:09 2020 +0100

    Add path for yum on IBM i to PKG_MGRS (#69484)
    
    * Add path for yum on IBM i to PKG_MGRS
    
    On IBM i, yum is installed under the `/QOpenSys/pkgs` prefix, see:
    https://bitbucket.org/ibmi/opensource/src/master/docs/yum/#markdown-header-must-know-usage-notes-read-this-after-you-install
    
    * Add changelog fragment

diff --git a/changelogs/fragments/69484-add-path-to-yum-for-ibmi.yml b/changelogs/fragments/69484-add-path-to-yum-for-ibmi.yml
new file mode 100644
index 0000000000..6ad775ecc5
--- /dev/null
+++ b/changelogs/fragments/69484-add-path-to-yum-for-ibmi.yml
@@ -0,0 +1,2 @@
+bugfixes:
+  - setup - properly detect yum package manager for IBM i.
diff --git a/lib/ansible/module_utils/facts/system/pkg_mgr.py b/lib/ansible/module_utils/facts/system/pkg_mgr.py
index 4fe36ff7aa..be9f029f55 100644
--- a/lib/ansible/module_utils/facts/system/pkg_mgr.py
+++ b/lib/ansible/module_utils/facts/system/pkg_mgr.py
@@ -37,6 +37,7 @@ PKG_MGRS = [{'path': '/usr/bin/yum', 'name': 'yum'},
             {'path': '/usr/sbin/sorcery', 'name': 'sorcery'},
             {'path': '/usr/bin/rpm-ostree', 'name': 'atomic_container'},
             {'path': '/usr/bin/installp', 'name': 'installp'},
+            {'path': '/QOpenSys/pkgs/bin/yum', 'name': 'yum'},
             ]
 
 
