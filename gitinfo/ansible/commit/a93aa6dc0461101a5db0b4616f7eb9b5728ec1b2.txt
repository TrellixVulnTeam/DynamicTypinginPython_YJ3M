commit a93aa6dc0461101a5db0b4616f7eb9b5728ec1b2
Author: Kevin Howell <kevin@kahowell.net>
Date:   Wed May 3 11:08:58 2017 -0400

    Fix typo in rhsm.configure (system -> server) (#24179)
    
    This fix makes it so that the module works as expected when
    `server_hostname` is provided. It was being silently ignored
    previously. I suppose this may also fix similar behavior with
    `server_insecure`, but I did not check that explicitly.

diff --git a/lib/ansible/modules/packaging/os/redhat_subscription.py b/lib/ansible/modules/packaging/os/redhat_subscription.py
index 089f92c1d7..9dcec23d57 100644
--- a/lib/ansible/modules/packaging/os/redhat_subscription.py
+++ b/lib/ansible/modules/packaging/os/redhat_subscription.py
@@ -265,9 +265,9 @@ class Rhsm(RegistrationBase):
 
         # Pass supplied **kwargs as parameters to subscription-manager.  Ignore
         # non-configuration parameters and replace '_' with '.'.  For example,
-        # 'server_hostname' becomes '--system.hostname'.
+        # 'server_hostname' becomes '--server.hostname'.
         for k, v in kwargs.items():
-            if re.search(r'^(system|rhsm)_', k):
+            if re.search(r'^(server|rhsm)_', k):
                 args.append('--%s=%s' % (k.replace('_', '.'), v))
 
         self.module.run_command(args, check_rc=True)
