commit 47b9c5bf040b79e798b8a8cd6b23cb2c2bcc1dc4
Author: Cristian Dascalu <cristi.dascalu@gmail.com>
Date:   Tue Sep 3 18:17:22 2019 +0200

    Ecs taskdefinition secrets (#60112)
    
    * adding specific examples for using environment and secrets in the container definition

diff --git a/lib/ansible/modules/cloud/amazon/ecs_taskdefinition.py b/lib/ansible/modules/cloud/amazon/ecs_taskdefinition.py
index 54c59b8348..a1a15fd69d 100644
--- a/lib/ansible/modules/cloud/amazon/ecs_taskdefinition.py
+++ b/lib/ansible/modules/cloud/amazon/ecs_taskdefinition.py
@@ -173,6 +173,30 @@ EXAMPLES = '''
     memory: 1024
     state: present
     network_mode: awsvpc
+
+# Create Task Definition with Environment Variables and Secrets
+- name: Create task definition
+  ecs_taskdefinition:
+    family: nginx
+    containers:
+    - name: nginx
+      essential: true
+      image: "nginx"
+      environment:
+        - name: "PORT"
+          value: "8080"
+      secrets:
+        # For variables stored in Secrets Manager
+        - name: "NGINX_HOST"
+          valueFrom: "arn:aws:secretsmanager:us-west-2:123456789012:secret:nginx/NGINX_HOST"
+        # For variables stored in Parameter Store
+        - name: "API_KEY"
+          valueFrom: "arn:aws:ssm:us-west-2:123456789012:parameter/nginx/API_KEY"
+    launch_type: FARGATE
+    cpu: 512
+    memory: 1GB
+    state: present
+    network_mode: awsvpc
 '''
 RETURN = '''
 taskdefinition:
