<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/sentry/src/sentry/event_manager.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger'>logger</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES'>SECURITY_REPORT_INTERFACES</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT'>CRASH_REPORT_TIMEOUT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag'>pop_tag</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag'>set_tag</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag'>get_tag</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp'>validate_and_set_timestamp</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk'>parse_client_as_sdk</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression'>plugin_is_regression</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution'>has_pending_commit_resolution</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports'>get_max_crashreports</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded'>crashreports_exceeded</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports'>get_stored_crashreports</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.HashDiscarded', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.HashDiscarded'>HashDiscarded</a><ul>
</ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause'>ScoreClause</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__'>__int__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql'>as_sql</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors'>add_meta_errors</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event'>_decode_event</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager'>EventManager</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report'>process_csp_report</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize'>normalize</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl'>_normalize_impl</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter'>should_filter</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data'>get_data</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save'>save</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data'>_pull_out_data</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many'>_get_or_create_release_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many'>_get_event_user_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many'>_derive_plugin_tags_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many'>_derive_interface_tags_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many'>_materialize_metadata_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many'>_get_or_create_environment_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models'>_get_or_create_release_associated_models</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics'>_tsdb_record_all_metrics</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many'>_nodestore_save_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many'>_eventstream_insert_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many'>_track_outcome_accepted_many</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance'>_get_event_instance</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user'>_get_event_user</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl'>_get_event_user_impl</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type'>get_event_type</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata'>materialize_metadata</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit'>get_culprit</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate'>_save_aggregate</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression'>_handle_regression</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate'>_process_existing_aggregate</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments'>get_attachments</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments'>save_attachments</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes'>_find_hashes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics'>_materialize_event_metrics</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events'>save_transaction_events</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> from __future__ import absolute_import, print_function
<span class='lineno'>   2</span> 
<span class='lineno'>   3</span> import <a href='logging/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.logging', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.logging', title='logging'>logging</a>
<span class='lineno'>   4</span> import time
<span class='lineno'>   5</span> 
<span class='lineno'>   6</span> import ipaddress
<span class='lineno'>   7</span> import jsonschema
<span class='lineno'>   8</span> import six
<span class='lineno'>   9</span> 
<span class='lineno'>  10</span> from datetime import timedelta
<span class='lineno'>  11</span> from django.core.cache import cache
<span class='lineno'>  12</span> from django.db import connection, IntegrityError, router, transaction
<span class='lineno'>  13</span> from django.db.models import Func
<span class='lineno'>  14</span> from django.utils.encoding import force_text
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> from sentry import buffer, eventstore, eventtypes, eventstream, features, tsdb
<span class='lineno'>  17</span> from sentry.attachments import MissingAttachmentChunks, attachment_cache
<span class='lineno'>  18</span> from sentry.constants import (
<span class='lineno'>  19</span>     DataCategory,
<span class='lineno'>  20</span>     DEFAULT_STORE_NORMALIZER_ARGS,
<span class='lineno'>  21</span>     LOG_LEVELS_MAP,
<span class='lineno'>  22</span>     MAX_TAG_VALUE_LENGTH,
<span class='lineno'>  23</span>     MAX_SECS_IN_FUTURE,
<span class='lineno'>  24</span>     MAX_SECS_IN_PAST,
<span class='lineno'>  25</span> )
<span class='lineno'>  26</span> from sentry.message_filters import should_filter_event
<span class='lineno'>  27</span> from sentry.grouping.api import (
<span class='lineno'>  28</span>     get_grouping_config_dict_for_project,
<span class='lineno'>  29</span>     get_grouping_config_dict_for_event_data,
<span class='lineno'>  30</span>     load_grouping_config,
<span class='lineno'>  31</span>     apply_server_fingerprinting,
<span class='lineno'>  32</span>     get_fingerprinting_config_for_project,
<span class='lineno'>  33</span>     GroupingConfigNotFound,
<span class='lineno'>  34</span> )
<span class='lineno'>  35</span> from sentry.coreapi import (
<span class='lineno'>  36</span>     APIError,
<span class='lineno'>  37</span>     APIForbidden,
<span class='lineno'>  38</span>     decompress_gzip,
<span class='lineno'>  39</span>     decompress_deflate,
<span class='lineno'>  40</span>     decode_and_decompress_data,
<span class='lineno'>  41</span>     decode_data,
<span class='lineno'>  42</span>     safely_load_json_string,
<span class='lineno'>  43</span> )
<span class='lineno'>  44</span> from sentry.interfaces.base import get_interface
<span class='lineno'>  45</span> from sentry.lang.native.utils import STORE_CRASH_REPORTS_ALL, convert_crashreport_count
<span class='lineno'>  46</span> from sentry.models import (
<span class='lineno'>  47</span>     Activity,
<span class='lineno'>  48</span>     Environment,
<span class='lineno'>  49</span>     EventAttachment,
<span class='lineno'>  50</span>     EventDict,
<span class='lineno'>  51</span>     EventError,
<span class='lineno'>  52</span>     EventUser,
<span class='lineno'>  53</span>     File,
<span class='lineno'>  54</span>     Group,
<span class='lineno'>  55</span>     GroupEnvironment,
<span class='lineno'>  56</span>     GroupHash,
<span class='lineno'>  57</span>     GroupLink,
<span class='lineno'>  58</span>     GroupRelease,
<span class='lineno'>  59</span>     GroupResolution,
<span class='lineno'>  60</span>     GroupStatus,
<span class='lineno'>  61</span>     Project,
<span class='lineno'>  62</span>     ProjectKey,
<span class='lineno'>  63</span>     Release,
<span class='lineno'>  64</span>     ReleaseEnvironment,
<span class='lineno'>  65</span>     ReleaseProject,
<span class='lineno'>  66</span>     ReleaseProjectEnvironment,
<span class='lineno'>  67</span>     UserReport,
<span class='lineno'>  68</span>     Organization,
<span class='lineno'>  69</span>     CRASH_REPORT_TYPES,
<span class='lineno'>  70</span>     get_crashreport_key,
<span class='lineno'>  71</span> )
<span class='lineno'>  72</span> from sentry.plugins.base import plugins
<span class='lineno'>  73</span> from sentry import quotas
<span class='lineno'>  74</span> from sentry.signals import first_event_received
<span class='lineno'>  75</span> from sentry.tasks.integrations import kick_off_status_syncs
<span class='lineno'>  76</span> from sentry.utils import json, metrics
<span class='lineno'>  77</span> from sentry.utils.canonical import CanonicalKeyDict
<span class='lineno'>  78</span> from sentry.utils.data_filters import (
<span class='lineno'>  79</span>     is_valid_ip,
<span class='lineno'>  80</span>     is_valid_release,
<span class='lineno'>  81</span>     is_valid_error_message,
<span class='lineno'>  82</span>     FilterStatKeys,
<span class='lineno'>  83</span> )
<span class='lineno'>  84</span> from sentry.utils.dates import to_timestamp, to_datetime
<span class='lineno'>  85</span> from sentry.utils.outcomes import Outcome, track_outcome
<span class='lineno'>  86</span> from sentry.utils.safe import safe_execute, trim, get_path, setdefault_path
<span class='lineno'>  87</span> from sentry.stacktraces.processing import normalize_stacktraces_for_grouping
<span class='lineno'>  88</span> from sentry.culprit import generate_culprit
<span class='lineno'>  89</span> from sentry.utils.compat import map
<span class='lineno'>  90</span> 
<span class='lineno'>  91</span> <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger', title='?'>logger</a> = <a href='logging/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.logging', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.logging', title='logging'>logging</a>.getLogger(&quot;sentry.events&quot;)
<span class='lineno'>  92</span> 
<span class='lineno'>  93</span> <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES', title='(str, str, str, str)'>SECURITY_REPORT_INTERFACES</a> = (&quot;csp&quot;, &quot;hpkp&quot;, &quot;expectct&quot;, &quot;expectstaple&quot;)
<span class='lineno'>  94</span> 
<span class='lineno'>  95</span> # Timeout for cached group crash report counts
<span class='lineno'>  96</span> <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT', title='int'>CRASH_REPORT_TIMEOUT</a> = 24 * 3600  # one day
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span> 
<span class='lineno'>  99</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None / (?, str) -> None / ({None | bool | float | int}, str) -> None'>pop_tag</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', title='{None | bool | float | int}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.key', title='str'>key</a>):
<span class='lineno'> 100</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', title='{None | bool | float | int}'>data</a>[&quot;tags&quot;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', title='?'>kv</a> for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', title='?'>kv</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.data', title='{None | bool | float | int}'>data</a>[&quot;tags&quot;] if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', title='?'>kv</a> is None or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.kv', title='?'>kv</a>[0] != <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag.key', title='str'>key</a>]
<span class='lineno'> 101</span> 
<span class='lineno'> 102</span> 
<span class='lineno'> 103</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', title='{None | bool | float | int}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', title='str'>key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', title='?'>value</a>):
<span class='lineno'> 104</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None / (?, str) -> None / ({None | bool | float | int}, str) -> None'>pop_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', title='{None | bool | float | int}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', title='str'>key</a>)
<span class='lineno'> 105</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', title='?'>value</a> is not None:
<span class='lineno'> 106</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.data', title='{None | bool | float | int}'>data</a>[&quot;tags&quot;].append((<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.key', title='str'>key</a>, trim(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag.value', title='?'>value</a>, MAX_TAG_VALUE_LENGTH)))
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span> 
<span class='lineno'> 109</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None'>get_tag</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.data', title='{None | bool | float | int}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.key', title='?'>key</a>):
<span class='lineno'> 110</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.k', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.k', title='?'>k</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.v', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.v', title='?'>v</a> in get_path(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.data', title='{None | bool | float | int}'>data</a>, &quot;tags&quot;, filter=True):
<span class='lineno'> 111</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.k', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.k', title='?'>k</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.key', title='?'>key</a>:
<span class='lineno'> 112</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.v', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag.v', title='?'>v</a>
<span class='lineno'> 113</span> 
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp', title='(?, ?) -> None'>validate_and_set_timestamp</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', title='?'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>):
<span class='lineno'> 116</span>     &quot;&quot;&quot;
<span class='lineno'> 117</span>     Helper function for event processors/enhancers to avoid setting broken timestamps.
<span class='lineno'> 118</span> 
<span class='lineno'> 119</span>     If we set a too old or too new timestamp then this affects event retention
<span class='lineno'> 120</span>     and search.
<span class='lineno'> 121</span>     &quot;&quot;&quot;
<span class='lineno'> 122</span>     # XXX(markus): We should figure out if we could run normalization
<span class='lineno'> 123</span>     # after event processing again. Right now we duplicate code between here
<span class='lineno'> 124</span>     # and event normalization
<span class='lineno'> 125</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>:
<span class='lineno'> 126</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', title='int'>current</a> = time.time()
<span class='lineno'> 127</span> 
<span class='lineno'> 128</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', title='int'>current</a> - MAX_SECS_IN_PAST &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>:
<span class='lineno'> 129</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', title='?'>data</a>.setdefault(&quot;errors&quot;, []).append(
<span class='lineno'> 130</span>                 {&quot;type&quot;: EventError.PAST_TIMESTAMP, &quot;name&quot;: &quot;timestamp&quot;, &quot;value&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>}
<span class='lineno'> 131</span>             )
<span class='lineno'> 132</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a> &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.current', title='int'>current</a> + MAX_SECS_IN_FUTURE:
<span class='lineno'> 133</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', title='?'>data</a>.setdefault(&quot;errors&quot;, []).append(
<span class='lineno'> 134</span>                 {&quot;type&quot;: EventError.FUTURE_TIMESTAMP, &quot;name&quot;: &quot;timestamp&quot;, &quot;value&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>}
<span class='lineno'> 135</span>             )
<span class='lineno'> 136</span>         else:
<span class='lineno'> 137</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.data', title='?'>data</a>[&quot;timestamp&quot;] = float(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.validate_and_set_timestamp.timestamp', title='?'>timestamp</a>)
<span class='lineno'> 138</span> 
<span class='lineno'> 139</span> 
<span class='lineno'> 140</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk', title='? -> {dict | dict}'>parse_client_as_sdk</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', title='?'>value</a>):
<span class='lineno'> 141</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', title='?'>value</a>:
<span class='lineno'> 142</span>         return {}
<span class='lineno'> 143</span>     try:
<span class='lineno'> 144</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', title='?'>name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', title='?'>version</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', title='?'>value</a>.split(&quot;/&quot;, 1)
<span class='lineno'> 145</span>     except ValueError:
<span class='lineno'> 146</span>         try:
<span class='lineno'> 147</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', title='?'>name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', title='?'>version</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.value', title='?'>value</a>.split(&quot; &quot;, 1)
<span class='lineno'> 148</span>         except ValueError:
<span class='lineno'> 149</span>             return {}
<span class='lineno'> 150</span>     return {&quot;name&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.name', title='?'>name</a>, &quot;version&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.parse_client_as_sdk.version', title='?'>version</a>}
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span> 
<span class='lineno'> 153</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression', title='(?, {None | bool | dict | float | int}) -> bool / (?, ?) -> bool'>plugin_is_regression</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', title='{None | bool | dict | float | int}'>event</a>):
<span class='lineno'> 154</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', title='{None | bool | dict | float | int}'>event</a>.project
<span class='lineno'> 155</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.plugin', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.plugin', title='?'>plugin</a> in plugins.for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.project', title='?'>project</a>):
<span class='lineno'> 156</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', title='?'>result</a> = safe_execute(
<span class='lineno'> 157</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.plugin', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.plugin', title='?'>plugin</a>.is_regression, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.event', title='{None | bool | dict | float | int}'>event</a>, version=1, _with_transaction=False
<span class='lineno'> 158</span>         )
<span class='lineno'> 159</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', title='?'>result</a> is not None:
<span class='lineno'> 160</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression.result', title='?'>result</a>
<span class='lineno'> 161</span>     return True
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span> 
<span class='lineno'> 164</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution', title='? -> ?'>has_pending_commit_resolution</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution.group', title='?'>group</a>):
<span class='lineno'> 165</span>     return (
<span class='lineno'> 166</span>         GroupLink.objects.filter(
<span class='lineno'> 167</span>             group_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution.group', title='?'>group</a>.id,
<span class='lineno'> 168</span>             linked_type=GroupLink.LinkedType.commit,
<span class='lineno'> 169</span>             relationship=GroupLink.Relationship.resolves,
<span class='lineno'> 170</span>         )
<span class='lineno'> 171</span>         .extra(
<span class='lineno'> 172</span>             where=[
<span class='lineno'> 173</span>                 &quot;NOT EXISTS(SELECT 1 FROM sentry_releasecommit where commit_id = sentry_grouplink.linked_id)&quot;
<span class='lineno'> 174</span>             ]
<span class='lineno'> 175</span>         )
<span class='lineno'> 176</span>         .exists()
<span class='lineno'> 177</span>     )
<span class='lineno'> 178</span> 
<span class='lineno'> 179</span> 
<span class='lineno'> 180</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', title='? -> None'>get_max_crashreports</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.model', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.model', title='?'>model</a>):
<span class='lineno'> 181</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.value', title='?'>value</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.model', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.model', title='?'>model</a>.get_option(&quot;sentry:store_crash_reports&quot;)
<span class='lineno'> 182</span>     return convert_crashreport_count(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports.value', title='?'>value</a>)
<span class='lineno'> 183</span> 
<span class='lineno'> 184</span> 
<span class='lineno'> 185</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', title='({None | int}, None) -> bool / (?, ?) -> bool'>crashreports_exceeded</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.current_count', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.current_count', title='{None | int}'>current_count</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', title='None'>max_count</a>):
<span class='lineno'> 186</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', title='None'>max_count</a> == STORE_CRASH_REPORTS_ALL:
<span class='lineno'> 187</span>         return False
<span class='lineno'> 188</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.current_count', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.current_count', title='{None | int}'>current_count</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded.max_count', title='None'>max_count</a>
<span class='lineno'> 189</span> 
<span class='lineno'> 190</span> 
<span class='lineno'> 191</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports', title='(?, ?, None) -> None / (?, {None | bool | dict | dict | float | int}, None) -> None / (?, ?, ?) -> None'>get_stored_crashreports</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cache_key', title='?'>cache_key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.event', title='{None | bool | dict | dict | float | int}'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', title='None'>max_crashreports</a>):
<span class='lineno'> 192</span>     # There are two common cases: Storing crash reports is disabled, or is
<span class='lineno'> 193</span>     # unbounded. In both cases, there is no need in caching values or querying
<span class='lineno'> 194</span>     # the database.
<span class='lineno'> 195</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', title='None'>max_crashreports</a> in (0, STORE_CRASH_REPORTS_ALL):
<span class='lineno'> 196</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', title='None'>max_crashreports</a>
<span class='lineno'> 197</span> 
<span class='lineno'> 198</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', title='?'>cached_reports</a> = cache.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cache_key', title='?'>cache_key</a>, None)
<span class='lineno'> 199</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', title='?'>cached_reports</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.max_crashreports', title='None'>max_crashreports</a>:
<span class='lineno'> 200</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.cached_reports', title='?'>cached_reports</a>
<span class='lineno'> 201</span> 
<span class='lineno'> 202</span>     # Fall-through if max_crashreports was bumped to get a more accurate number.
<span class='lineno'> 203</span>     return EventAttachment.objects.filter(
<span class='lineno'> 204</span>         group_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports.event', title='{None | bool | dict | dict | float | int}'>event</a>.group_id, file__type__in=CRASH_REPORT_TYPES
<span class='lineno'> 205</span>     ).count()
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span> 
<span class='lineno'> 208</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.HashDiscarded', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.HashDiscarded', title='<HashDiscarded>'>HashDiscarded</a>(Exception):
<span class='lineno'> 209</span>     pass
<span class='lineno'> 210</span> 
<span class='lineno'> 211</span> 
<span class='lineno'> 212</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', title='<ScoreClause>'>ScoreClause</a>(Func):
<span class='lineno'> 213</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.group', title='None'>group</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.last_seen', title='None'>last_seen</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.times_seen', title='None'>times_seen</a>=None, *args, **kwargs):
<span class='lineno'> 214</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', title='None'>group</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.group', title='None'>group</a>
<span class='lineno'> 215</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', title='None'>last_seen</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.last_seen', title='None'>last_seen</a>
<span class='lineno'> 216</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.times_seen', title='None'>times_seen</a>
<span class='lineno'> 217</span>         # times_seen is likely an F-object that needs the value extracted
<span class='lineno'> 218</span>         if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a>, &quot;rhs&quot;):
<span class='lineno'> 219</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a>.rhs.value
<span class='lineno'> 220</span>         super(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', title='<ScoreClause>'>ScoreClause</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__init__.self', title='ScoreClause'>self</a>).__init__(*args, **kwargs)
<span class='lineno'> 221</span> 
<span class='lineno'> 222</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__', title='ScoreClause -> int'>__int__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', title='ScoreClause'>self</a>):
<span class='lineno'> 223</span>         # Calculate the score manually when coercing to an int.
<span class='lineno'> 224</span>         # This is used within create_or_update and friends
<span class='lineno'> 225</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', title='None'>group</a>.get_score() if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.__int__.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.group', title='None'>group</a> else 0
<span class='lineno'> 226</span> 
<span class='lineno'> 227</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql', title='(ScoreClause, ?, ?, None, None) -> (str, [?])'>as_sql</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', title='ScoreClause'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.compiler', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.compiler', title='?'>compiler</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.connection', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.connection', title='?'>connection</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.function', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.function', title='None'>function</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.template', title='None'>template</a>=None):
<span class='lineno'> 228</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.has_values', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.has_values', title='bool'>has_values</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', title='None'>last_seen</a> is not None and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a> is not None
<span class='lineno'> 229</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.has_values', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.has_values', title='bool'>has_values</a>:
<span class='lineno'> 230</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', title='?'>sql</a> = &quot;log(times_seen + %d) * 600 + %d&quot; % (
<span class='lineno'> 231</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.times_seen', title='None'>times_seen</a>,
<span class='lineno'> 232</span>                 to_timestamp(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.self', title='ScoreClause'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.last_seen', title='None'>last_seen</a>),
<span class='lineno'> 233</span>             )
<span class='lineno'> 234</span>         else:
<span class='lineno'> 235</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', title='str'>sql</a> = &quot;log(times_seen) * 600 + last_seen::abstime::int&quot;
<span class='lineno'> 236</span> 
<span class='lineno'> 237</span>         return (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause.as_sql.sql', title='str'>sql</a>, [])
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span> 
<span class='lineno'> 240</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors', title='(?, ?) -> None'>add_meta_errors</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.errors', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.errors', title='?'>errors</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.meta', title='?'>meta</a>):
<span class='lineno'> 241</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', title='?'>field_meta</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.meta', title='?'>meta</a>:
<span class='lineno'> 242</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', title='?'>original_value</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', title='?'>field_meta</a>.get().get(&quot;val&quot;)
<span class='lineno'> 243</span> 
<span class='lineno'> 244</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.i', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_type', title='?'>err_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_data', title='?'>err_data</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', title='?'>field_meta</a>.iter_errors()):
<span class='lineno'> 245</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', title='dict'>error</a> = dict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_data', title='?'>err_data</a>)
<span class='lineno'> 246</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', title='dict'>error</a>[&quot;type&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.err_type', title='?'>err_type</a>
<span class='lineno'> 247</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', title='?'>field_meta</a>.path:
<span class='lineno'> 248</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', title='dict'>error</a>[&quot;name&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.field_meta', title='?'>field_meta</a>.path
<span class='lineno'> 249</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.i', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.i', title='?'>i</a> == 0 and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', title='?'>original_value</a> is not None:
<span class='lineno'> 250</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', title='dict'>error</a>[&quot;value&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.original_value', title='?'>original_value</a>
<span class='lineno'> 251</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.errors', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.errors', title='?'>errors</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.add_meta_errors.error', title='dict'>error</a>)
<span class='lineno'> 252</span> 
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event', title='(?, ?) -> None / (?, None) -> None'>_decode_event</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', title='None'>content_encoding</a>):
<span class='lineno'> 255</span>     if isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a></a>, six.binary_type):
<span class='lineno'> 256</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', title='None'>content_encoding</a> == &quot;gzip&quot;:
<span class='lineno'> 257</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a> = decompress_gzip(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 258</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.content_encoding', title='None'>content_encoding</a> == &quot;deflate&quot;:
<span class='lineno'> 259</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a> = decompress_deflate(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 260</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>[0] != b&quot;{&quot;:
<span class='lineno'> 261</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a> = decode_and_decompress_data(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 262</span>         else:
<span class='lineno'> 263</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a> = decode_data(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 264</span>     if isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a></a>, six.text_type):
<span class='lineno'> 265</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a> = safely_load_json_string(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 266</span> 
<span class='lineno'> 267</span>     return CanonicalKeyDict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event.data', title='?'>data</a>)
<span class='lineno'> 268</span> 
<span class='lineno'> 269</span> 
<span class='lineno'> 270</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager', title='<EventManager>'>EventManager</a>(object):
<span class='lineno'> 271</span>     &quot;&quot;&quot;
<span class='lineno'> 272</span>     Handles normalization in both the store endpoint and the save task. The
<span class='lineno'> 273</span>     intention is to swap this class out with a reimplementation in Rust.
<span class='lineno'> 274</span>     &quot;&quot;&quot;
<span class='lineno'> 275</span> 
<span class='lineno'> 276</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__', title='? -> ?'>__init__</a>(
<span class='lineno'> 277</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>,
<span class='lineno'> 278</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.data', title='?'>data</a>,
<span class='lineno'> 279</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.version', title='str'>version</a>=&quot;5&quot;,
<span class='lineno'> 280</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', title='None'>project</a>=None,
<span class='lineno'> 281</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='None'>grouping_config</a>=None,
<span class='lineno'> 282</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.client_ip', title='None'>client_ip</a>=None,
<span class='lineno'> 283</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.user_agent', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.user_agent', title='None'>user_agent</a>=None,
<span class='lineno'> 284</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.auth', title='None'>auth</a>=None,
<span class='lineno'> 285</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.key', title='None'>key</a>=None,
<span class='lineno'> 286</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.content_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.content_encoding', title='None'>content_encoding</a>=None,
<span class='lineno'> 287</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.is_renormalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.is_renormalize', title='bool'>is_renormalize</a>=False,
<span class='lineno'> 288</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.remove_other', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.remove_other', title='None'>remove_other</a>=None,
<span class='lineno'> 289</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', title='None'>project_config</a>=None,
<span class='lineno'> 290</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.sent_at', title='None'>sent_at</a>=None,
<span class='lineno'> 291</span>     ):
<span class='lineno'> 292</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._decode_event', title='(?, ?) -> None / (?, None) -> None'>_decode_event</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.data', title='?'>data</a>, content_encoding=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.content_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.content_encoding', title='None'>content_encoding</a>)
<span class='lineno'> 293</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', title='str'>version</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.version', title='str'>version</a>
<span class='lineno'> 294</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', title='None'>project</a>
<span class='lineno'> 295</span>         # if not explicitly specified try to get the grouping from project_config
<span class='lineno'> 296</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='None'>grouping_config</a> is None and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', title='None'>project_config</a> is not None:
<span class='lineno'> 297</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.config', title='AuthenticatorInterface -> dict'>config</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', title='None'>project_config</a>.<a href='models/authenticator.py.html#None.config', xid ='None.config', title='AuthenticatorInterface -> dict'>config</a>
<span class='lineno'> 298</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='?'>grouping_config</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.config', title='AuthenticatorInterface -> dict'>config</a>.get(&quot;grouping_config&quot;)
<span class='lineno'> 299</span>         # if we still don&#39;t have a grouping also try the project
<span class='lineno'> 300</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='None'>grouping_config</a> is None and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project', title='None'>project</a> is not None:
<span class='lineno'> 301</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='?'>grouping_config</a> = get_grouping_config_dict_for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a>)
<span class='lineno'> 302</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', title='None'>_grouping_config</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.grouping_config', title='None'>grouping_config</a>
<span class='lineno'> 303</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'>_client_ip</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.client_ip', title='None'>client_ip</a>
<span class='lineno'> 304</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', title='None'>_user_agent</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.user_agent', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.user_agent', title='None'>user_agent</a>
<span class='lineno'> 305</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', title='None'>_auth</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.auth', title='None'>auth</a>
<span class='lineno'> 306</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', title='None'>_key</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.key', title='None'>key</a>
<span class='lineno'> 307</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', title='bool'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', title='bool'>_is_renormalize</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.is_renormalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.is_renormalize', title='bool'>is_renormalize</a>
<span class='lineno'> 308</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', title='None'>_remove_other</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.remove_other', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.remove_other', title='None'>remove_other</a>
<span class='lineno'> 309</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'>_normalized</a></a> = False
<span class='lineno'> 310</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.project_config', title='None'>project_config</a>
<span class='lineno'> 311</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', title='None'>sent_at</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.__init__.sent_at', title='None'>sent_at</a>
<span class='lineno'> 312</span> 
<span class='lineno'> 313</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report', title='EventManager -> ?'>process_csp_report</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', title='EventManager'>self</a>):
<span class='lineno'> 314</span>         &quot;&quot;&quot;Only called from the CSP report endpoint.&quot;&quot;&quot;
<span class='lineno'> 315</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', title='None'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>
<span class='lineno'> 316</span> 
<span class='lineno'> 317</span>         try:
<span class='lineno'> 318</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', title='?'>interface</a> = get_interface(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', title='None'>data</a>.pop(&quot;interface&quot;))
<span class='lineno'> 319</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', title='?'>report</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', title='None'>data</a>.pop(&quot;report&quot;)
<span class='lineno'> 320</span>         except KeyError:
<span class='lineno'> 321</span>             raise APIForbidden(&quot;No report or interface data&quot;)
<span class='lineno'> 322</span> 
<span class='lineno'> 323</span>         # To support testing, we can either accept a built interface instance, or the raw data in
<span class='lineno'> 324</span>         # which case we build the instance ourselves
<span class='lineno'> 325</span>         try:
<span class='lineno'> 326</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', title='?'>report</a> if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', title='?'>report</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', title='?'>interface</a>) else <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.interface', title='?'>interface</a>.from_raw(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.report', title='?'>report</a>)
<span class='lineno'> 327</span>         except jsonschema.ValidationError as <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.e', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.e', title='?'>e</a>:
<span class='lineno'> 328</span>             raise APIError(&quot;Invalid security report: %s&quot; % str(e).splitlines()[0])
<span class='lineno'> 329</span> 
<span class='lineno'> 330</span>         def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean', title='dict -> dict'>clean</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.d', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.d', title='dict'>d</a>):
<span class='lineno'> 331</span>             return dict([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', title='(?, ?)'>x</a> for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', title='(?, ?)'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', title='(?, ?)'>x</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.d', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.d', title='dict'>d</a>.items() if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean.x', title='(?, ?)'>x</a>[1]])
<span class='lineno'> 332</span> 
<span class='lineno'> 333</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', title='None'>data</a>.update(
<span class='lineno'> 334</span>             {
<span class='lineno'> 335</span>                 &quot;logger&quot;: &quot;csp&quot;,
<span class='lineno'> 336</span>                 &quot;message&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.get_message(),
<span class='lineno'> 337</span>                 &quot;culprit&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.get_culprit(),
<span class='lineno'> 338</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.path: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.to_json(),
<span class='lineno'> 339</span>                 &quot;tags&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.get_tags(),
<span class='lineno'> 340</span>                 &quot;errors&quot;: [],
<span class='lineno'> 341</span>                 &quot;user&quot;: {&quot;ip_address&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'>_client_ip</a>},
<span class='lineno'> 342</span>                 # Construct a faux Http interface based on the little information we have
<span class='lineno'> 343</span>                 # This is a bit weird, since we don&#39;t have nearly enough
<span class='lineno'> 344</span>                 # information to create an Http interface, but
<span class='lineno'> 345</span>                 # this automatically will pick up tags for the User-Agent
<span class='lineno'> 346</span>                 # which is actually important here for CSP
<span class='lineno'> 347</span>                 &quot;request&quot;: {
<span class='lineno'> 348</span>                     &quot;url&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.get_origin(),
<span class='lineno'> 349</span>                     &quot;headers&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.clean', title='dict -> dict'>clean</a>(
<span class='lineno'> 350</span>                         {&quot;User-Agent&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._user_agent', title='None'>_user_agent</a>, &quot;Referer&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.instance', title='?'>instance</a>.get_referrer()}
<span class='lineno'> 351</span>                     ),
<span class='lineno'> 352</span>                 },
<span class='lineno'> 353</span>             }
<span class='lineno'> 354</span>         )
<span class='lineno'> 355</span> 
<span class='lineno'> 356</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.process_csp_report.data', title='None'>data</a>
<span class='lineno'> 357</span> 
<span class='lineno'> 358</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize', title='(EventManager, None) -> None'>normalize</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.self', title='EventManager'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.project_id', title='None'>project_id</a>=None):
<span class='lineno'> 359</span>         with metrics.timer(&quot;events.store.normalize.duration&quot;):
<span class='lineno'> 360</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl', title='(EventManager, None) -> None'>_normalize_impl</a>(project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize.project_id', title='None'>project_id</a>)
<span class='lineno'> 361</span> 
<span class='lineno'> 362</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl', title='(EventManager, None) -> None'>_normalize_impl</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', title='None'>project_id</a>=None):
<span class='lineno'> 363</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', title='None'>project_id</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', title='None'>project_id</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a>.id:
<span class='lineno'> 364</span>             raise RuntimeError(
<span class='lineno'> 365</span>                 &quot;Initialized EventManager with one project ID and called save() with another one&quot;
<span class='lineno'> 366</span>             )
<span class='lineno'> 367</span> 
<span class='lineno'> 368</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'>_normalized</a>:
<span class='lineno'> 369</span>             raise RuntimeError(&quot;Already normalized&quot;)
<span class='lineno'> 370</span> 
<span class='lineno'> 371</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'>_normalized</a> = True
<span class='lineno'> 372</span> 
<span class='lineno'> 373</span>         from sentry_relay.processing import StoreNormalizer
<span class='lineno'> 374</span> 
<span class='lineno'> 375</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.rust_normalizer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.rust_normalizer', title='?'>rust_normalizer</a> = StoreNormalizer(
<span class='lineno'> 376</span>             project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a>.id if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a> else <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.project_id', title='None'>project_id</a>,
<span class='lineno'> 377</span>             client_ip=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'>_client_ip</a>,
<span class='lineno'> 378</span>             client=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', title='None'>_auth</a>.client if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._auth', title='None'>_auth</a> else None,
<span class='lineno'> 379</span>             key_id=six.text_type(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', title='None'>_key</a>.id) if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._key', title='None'>_key</a> else None,
<span class='lineno'> 380</span>             grouping_config=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._grouping_config', title='None'>_grouping_config</a>,
<span class='lineno'> 381</span>             protocol_version=six.text_type(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', title='str'>version</a>) if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.version', title='str'>version</a> is not None else None,
<span class='lineno'> 382</span>             is_renormalize=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._is_renormalize', title='bool'>_is_renormalize</a>,
<span class='lineno'> 383</span>             remove_other=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._remove_other', title='None'>_remove_other</a>,
<span class='lineno'> 384</span>             normalize_user_agent=True,
<span class='lineno'> 385</span>             sent_at=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', title='None'>sent_at</a>.isoformat() if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.sent_at', title='None'>sent_at</a> is not None else None,
<span class='lineno'> 386</span>             **DEFAULT_STORE_NORMALIZER_ARGS
<span class='lineno'> 387</span>         )
<span class='lineno'> 388</span> 
<span class='lineno'> 389</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a> = CanonicalKeyDict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.rust_normalizer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.rust_normalizer', title='?'>rust_normalizer</a>.normalize_event(dict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalize_impl.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>)))
<span class='lineno'> 390</span> 
<span class='lineno'> 391</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter', title='EventManager -> (bool, ?)'>should_filter</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>):
<span class='lineno'> 392</span>         &quot;&quot;&quot;
<span class='lineno'> 393</span>         returns (result: bool, reason: string or None)
<span class='lineno'> 394</span>         Result is True if an event should be filtered
<span class='lineno'> 395</span>         The reason for filtering is passed along as a string
<span class='lineno'> 396</span>         so that we can store it in metrics
<span class='lineno'> 397</span>         &quot;&quot;&quot;
<span class='lineno'> 398</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', title='str'>name</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.SECURITY_REPORT_INTERFACES', title='(str, str, str, str)'>SECURITY_REPORT_INTERFACES</a>:
<span class='lineno'> 399</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', title='str'>name</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>:
<span class='lineno'> 400</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.interface', title='?'>interface</a> = get_interface(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', title='str'>name</a>)
<span class='lineno'> 401</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.interface', title='?'>interface</a>.to_python(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.name', title='str'>name</a>]).should_filter(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._project', title='None'>_project</a>):
<span class='lineno'> 402</span>                     return (True, FilterStatKeys.INVALID_CSP)
<span class='lineno'> 403</span> 
<span class='lineno'> 404</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'>_client_ip</a> and not is_valid_ip(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._client_ip', title='None'>_client_ip</a>):
<span class='lineno'> 405</span>             return (True, FilterStatKeys.IP_ADDRESS)
<span class='lineno'> 406</span> 
<span class='lineno'> 407</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', title='?'>release</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>.get(&quot;release&quot;)
<span class='lineno'> 408</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', title='?'>release</a> and not is_valid_release(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.release', title='?'>release</a>):
<span class='lineno'> 409</span>             return (True, FilterStatKeys.RELEASE_VERSION)
<span class='lineno'> 410</span> 
<span class='lineno'> 411</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', title='str'>error_message</a> = (
<span class='lineno'> 412</span>             get_path(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>, &quot;logentry&quot;, &quot;formatted&quot;)
<span class='lineno'> 413</span>             or get_path(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>, &quot;logentry&quot;, &quot;message&quot;)
<span class='lineno'> 414</span>             or &quot;&quot;
<span class='lineno'> 415</span>         )
<span class='lineno'> 416</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', title='str'>error_message</a> and not is_valid_error_message(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.error_message', title='str'>error_message</a>):
<span class='lineno'> 417</span>             return (True, FilterStatKeys.ERROR_MESSAGE)
<span class='lineno'> 418</span> 
<span class='lineno'> 419</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.exc', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.exc', title='?'>exc</a> in get_path(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>, &quot;exception&quot;, &quot;values&quot;, filter=True, default=[]):
<span class='lineno'> 420</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', title='str'>message</a> = u&quot;: &quot;.join([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', title='?'>_f</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', title='?'>_f</a></a> in map(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.exc', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.exc', title='?'>exc</a>.get, [&quot;type&quot;, &quot;value&quot;]) if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter._f', title='?'>_f</a>])
<span class='lineno'> 421</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', title='str'>message</a> and not is_valid_error_message(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.message', title='str'>message</a>):
<span class='lineno'> 422</span>                 return (True, FilterStatKeys.ERROR_MESSAGE)
<span class='lineno'> 423</span> 
<span class='lineno'> 424</span>         return should_filter_event(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.project_config', title='None'>project_config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.should_filter.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>)
<span class='lineno'> 425</span> 
<span class='lineno'> 426</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data', title='EventManager -> None'>get_data</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data.self', title='EventManager'>self</a>):
<span class='lineno'> 427</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.get_data.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>
<span class='lineno'> 428</span> 
<span class='lineno'> 429</span>     @metrics.wraps(&quot;event_manager.save&quot;)
<span class='lineno'> 430</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save', title='(EventManager, ?, bool, bool, None, None) -> {bool | dict | dict | float | int}'>save</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', title='bool'>raw</a>=False, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.assume_normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.assume_normalized', title='bool'>assume_normalized</a>=False, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', title='None'>start_time</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', title='None'>cache_key</a>=None):
<span class='lineno'> 431</span>         &quot;&quot;&quot;
<span class='lineno'> 432</span>         After normalizing and processing an event, save adjacent models such as
<span class='lineno'> 433</span>         releases and environments to postgres and write the event into
<span class='lineno'> 434</span>         eventstream. From there it will be picked up by Snuba and
<span class='lineno'> 435</span>         post-processing.
<span class='lineno'> 436</span> 
<span class='lineno'> 437</span>         We re-insert events with duplicate IDs into Snuba, which is responsible
<span class='lineno'> 438</span>         for deduplicating events. Since deduplication in Snuba is on the primary
<span class='lineno'> 439</span>         key (based on event ID, project ID and day), events with same IDs are only
<span class='lineno'> 440</span>         deduplicated if their timestamps fall on the same day. The latest event
<span class='lineno'> 441</span>         always wins and overwrites the value of events received earlier in that day.
<span class='lineno'> 442</span> 
<span class='lineno'> 443</span>         Since we increment counters and frequencies here before events get inserted
<span class='lineno'> 444</span>         to eventstream these numbers may be larger than the total number of
<span class='lineno'> 445</span>         events if we receive duplicate event IDs that fall on the same day
<span class='lineno'> 446</span>         (that do not hit cache first).
<span class='lineno'> 447</span>         &quot;&quot;&quot;
<span class='lineno'> 448</span> 
<span class='lineno'> 449</span>         # Normalize if needed
<span class='lineno'> 450</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'>_normalized</a>:
<span class='lineno'> 451</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.assume_normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.assume_normalized', title='bool'>assume_normalized</a>:
<span class='lineno'> 452</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.normalize', title='(EventManager, None) -> None'>normalize</a>(project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>)
<span class='lineno'> 453</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._normalized', title='bool'>_normalized</a> = True
<span class='lineno'> 454</span> 
<span class='lineno'> 455</span>         with metrics.timer(&quot;event_manager.save.project.get_from_cache&quot;):
<span class='lineno'> 456</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a> = Project.objects.get_from_cache(id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>)
<span class='lineno'> 457</span> 
<span class='lineno'> 458</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.id: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>}
<span class='lineno'> 459</span> 
<span class='lineno'> 460</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>.get(&quot;type&quot;) == &quot;transaction&quot;:
<span class='lineno'> 461</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>[&quot;project&quot;] = int(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>)
<span class='lineno'> 462</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a> = {&quot;data&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>, &quot;start_time&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', title='None'>start_time</a>}
<span class='lineno'> 463</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events', title='(?, ?) -> ? / ([dict], dict) -> [dict]'>save_transaction_events</a>([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 464</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>[0][&quot;event&quot;]
<span class='lineno'> 465</span> 
<span class='lineno'> 466</span>         with metrics.timer(&quot;event_manager.save.organization.get_from_cache&quot;):
<span class='lineno'> 467</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>._organization_cache = Organization.objects.get_from_cache(
<span class='lineno'> 468</span>                 id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.organization_id
<span class='lineno'> 469</span>             )
<span class='lineno'> 470</span> 
<span class='lineno'> 471</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a> = {&quot;data&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a>, &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>, &quot;raw&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', title='bool'>raw</a>, &quot;start_time&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', title='None'>start_time</a>}
<span class='lineno'> 472</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>]
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', title='(?, ?) -> None / ([dict], dict) -> None'>_pull_out_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 475</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', title='([dict], dict) -> None / (?, ?) -> None'>_get_or_create_release_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 476</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_event_user_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 477</span> 
<span class='lineno'> 478</span>         with metrics.timer(&quot;event_manager.load_grouping_config&quot;):
<span class='lineno'> 479</span>             # At this point we want to normalize the in_app values in case the
<span class='lineno'> 480</span>             # clients did not set this appropriately so far.
<span class='lineno'> 481</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.grouping_config', title='?'>grouping_config</a> = load_grouping_config(
<span class='lineno'> 482</span>                 get_grouping_config_dict_for_event_data(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>)
<span class='lineno'> 483</span>             )
<span class='lineno'> 484</span> 
<span class='lineno'> 485</span>         with metrics.timer(&quot;event_manager.normalize_stacktraces_for_grouping&quot;):
<span class='lineno'> 486</span>             normalize_stacktraces_for_grouping(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.grouping_config', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.grouping_config', title='?'>grouping_config</a>)
<span class='lineno'> 487</span> 
<span class='lineno'> 488</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', title='([dict], dict) -> None / (?, ?) -> None'>_derive_plugin_tags_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 489</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', title='? -> None / [dict] -> None'>_derive_interface_tags_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 490</span> 
<span class='lineno'> 491</span>         with metrics.timer(&quot;event_manager.apply_server_fingerprinting&quot;):
<span class='lineno'> 492</span>             # The active grouping config was put into the event in the
<span class='lineno'> 493</span>             # normalize step before.  We now also make sure that the
<span class='lineno'> 494</span>             # fingerprint was set to `&#39;{{ default }}&#39; just in case someone
<span class='lineno'> 495</span>             # removed it from the payload.  The call to get_hashes will then
<span class='lineno'> 496</span>             # look at `grouping_config` to pick the right parameters.
<span class='lineno'> 497</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;][&quot;fingerprint&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;].get(&quot;fingerprint&quot;) or [&quot;{{ default }}&quot;]
<span class='lineno'> 498</span>             apply_server_fingerprinting(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;], get_fingerprinting_config_for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>))
<span class='lineno'> 499</span> 
<span class='lineno'> 500</span>         with metrics.timer(&quot;event_manager.event.get_hashes&quot;):
<span class='lineno'> 501</span>             # Here we try to use the grouping config that was requested in the
<span class='lineno'> 502</span>             # event.  If that config has since been deleted (because it was an
<span class='lineno'> 503</span>             # experimental grouping config) we fall back to the default.
<span class='lineno'> 504</span>             try:
<span class='lineno'> 505</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', title='?'>hashes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].get_hashes()
<span class='lineno'> 506</span>             except GroupingConfigNotFound:
<span class='lineno'> 507</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;][&quot;grouping_config&quot;] = get_grouping_config_dict_for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>)
<span class='lineno'> 508</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', title='?'>hashes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].get_hashes()
<span class='lineno'> 509</span> 
<span class='lineno'> 510</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;][&quot;hashes&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', title='?'>hashes</a>
<span class='lineno'> 511</span> 
<span class='lineno'> 512</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', title='? -> None / [dict] -> None'>_materialize_metadata_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 513</span> 
<span class='lineno'> 514</span>         # The group gets the same metadata as the event when it&#39;s flushed but
<span class='lineno'> 515</span>         # additionally the `last_received` key is set.  This key is used by
<span class='lineno'> 516</span>         # _save_aggregate.
<span class='lineno'> 517</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', title='dict'>group_metadata</a> = dict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;materialized_metadata&quot;])
<span class='lineno'> 518</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', title='dict'>group_metadata</a>[&quot;last_received&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;received_timestamp&quot;]
<span class='lineno'> 519</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.kwargs', title='dict'>kwargs</a> = {
<span class='lineno'> 520</span>             &quot;platform&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;platform&quot;],
<span class='lineno'> 521</span>             &quot;message&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].search_message,
<span class='lineno'> 522</span>             &quot;culprit&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;culprit&quot;],
<span class='lineno'> 523</span>             &quot;logger&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;logger_name&quot;],
<span class='lineno'> 524</span>             &quot;level&quot;: LOG_LEVELS_MAP.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;level&quot;]),
<span class='lineno'> 525</span>             &quot;last_seen&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].datetime,
<span class='lineno'> 526</span>             &quot;first_seen&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].datetime,
<span class='lineno'> 527</span>             &quot;active_at&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].datetime,
<span class='lineno'> 528</span>             &quot;data&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_metadata', title='dict'>group_metadata</a>,
<span class='lineno'> 529</span>         }
<span class='lineno'> 530</span> 
<span class='lineno'> 531</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;]:
<span class='lineno'> 532</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.kwargs', title='dict'>kwargs</a>[&quot;first_release&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;]
<span class='lineno'> 533</span> 
<span class='lineno'> 534</span>         try:
<span class='lineno'> 535</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_new&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_regression&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate', title='(?, ?, ?) -> (?, bool, bool) / ({None | bool | dict | float | int}, ?, {None | bool | dict | float | int}) -> (?, bool, bool)'>_save_aggregate</a>(
<span class='lineno'> 536</span>                 event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;], hashes=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.hashes', title='?'>hashes</a>, release=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;], **kwargs
<span class='lineno'> 537</span>             )
<span class='lineno'> 538</span>         except HashDiscarded:
<span class='lineno'> 539</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', title='None'>project_key</a> = None
<span class='lineno'> 540</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;key_id&quot;] is not None:
<span class='lineno'> 541</span>                 try:
<span class='lineno'> 542</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', title='?'>project_key</a> = ProjectKey.objects.get_from_cache(id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;key_id&quot;])
<span class='lineno'> 543</span>                 except ProjectKey.DoesNotExist:
<span class='lineno'> 544</span>                     pass
<span class='lineno'> 545</span> 
<span class='lineno'> 546</span>             quotas.refund(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>, key=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_key', title='None'>project_key</a>, timestamp=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.start_time', title='None'>start_time</a>)
<span class='lineno'> 547</span> 
<span class='lineno'> 548</span>             track_outcome(
<span class='lineno'> 549</span>                 org_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.organization_id,
<span class='lineno'> 550</span>                 project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project_id', title='?'>project_id</a>,
<span class='lineno'> 551</span>                 key_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;key_id&quot;],
<span class='lineno'> 552</span>                 outcome=Outcome.FILTERED,
<span class='lineno'> 553</span>                 reason=FilterStatKeys.DISCARDED_HASH,
<span class='lineno'> 554</span>                 timestamp=to_datetime(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;start_time&quot;]),
<span class='lineno'> 555</span>                 event_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].event_id,
<span class='lineno'> 556</span>                 category=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;category&quot;],
<span class='lineno'> 557</span>             )
<span class='lineno'> 558</span> 
<span class='lineno'> 559</span>             metrics.incr(
<span class='lineno'> 560</span>                 &quot;events.discarded&quot;,
<span class='lineno'> 561</span>                 skip_internal=True,
<span class='lineno'> 562</span>                 tags={&quot;organization_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.organization_id, &quot;platform&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;platform&quot;]},
<span class='lineno'> 563</span>             )
<span class='lineno'> 564</span>             raise
<span class='lineno'> 565</span> 
<span class='lineno'> 566</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].<a name='None.group', xid ='None.group', title='{None | bool | dict | float | int}'>group</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;]
<span class='lineno'> 567</span> 
<span class='lineno'> 568</span>         # store a reference to the group id to guarantee validation of isolation
<span class='lineno'> 569</span>         # XXX(markus): No clue what this does
<span class='lineno'> 570</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].data.bind_ref(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;])
<span class='lineno'> 571</span> 
<span class='lineno'> 572</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_environment_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 573</span> 
<span class='lineno'> 574</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;]:
<span class='lineno'> 575</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.group_environment', title='?'>group_environment</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_new_group_environment&quot;] = GroupEnvironment.get_or_create(
<span class='lineno'> 576</span>                 group_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;].id,
<span class='lineno'> 577</span>                 environment_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;environment&quot;].id,
<span class='lineno'> 578</span>                 defaults={&quot;first_release&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;] or None},
<span class='lineno'> 579</span>             )
<span class='lineno'> 580</span>         else:
<span class='lineno'> 581</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_new_group_environment&quot;] = False
<span class='lineno'> 582</span> 
<span class='lineno'> 583</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_release_associated_models</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.projects', title='dict'>projects</a>)
<span class='lineno'> 584</span> 
<span class='lineno'> 585</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;] and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;]:
<span class='lineno'> 586</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;grouprelease&quot;] = GroupRelease.get_or_create(
<span class='lineno'> 587</span>                 group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;],
<span class='lineno'> 588</span>                 release=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;],
<span class='lineno'> 589</span>                 environment=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;environment&quot;],
<span class='lineno'> 590</span>                 datetime=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].datetime,
<span class='lineno'> 591</span>             )
<span class='lineno'> 592</span> 
<span class='lineno'> 593</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', title='[dict] -> None / ? -> None'>_tsdb_record_all_metrics</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 594</span> 
<span class='lineno'> 595</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;]:
<span class='lineno'> 596</span>             UserReport.objects.filter(project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>, event_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].event_id).update(
<span class='lineno'> 597</span>                 group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;group&quot;], environment=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;environment&quot;]
<span class='lineno'> 598</span>             )
<span class='lineno'> 599</span> 
<span class='lineno'> 600</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', title='? -> None / [dict] -> None'>_materialize_event_metrics</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 601</span> 
<span class='lineno'> 602</span>         # Load attachments first, but persist them at the very last after
<span class='lineno'> 603</span>         # posting to eventstream to make sure all counters and eventstream are
<span class='lineno'> 604</span>         # incremented for sure.
<span class='lineno'> 605</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', title='[<list>]'>attachments</a> = []
<span class='lineno'> 606</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', title='<list>'>attachment</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments', title='(?, ?) -> [<list>] / (None, {None | bool | dict | dict | float | int}) -> [<list>]'>get_attachments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', title='None'>cache_key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;]):
<span class='lineno'> 607</span>             try:
<span class='lineno'> 608</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment_data', title='?'>attachment_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', title='<list>'>attachment</a>.data
<span class='lineno'> 609</span>             except MissingAttachmentChunks:
<span class='lineno'> 610</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.logger', title='?'>logger</a>.exception(&quot;Missing chunks for cache_key=%s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.cache_key', title='None'>cache_key</a>)
<span class='lineno'> 611</span>             else:
<span class='lineno'> 612</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', title='?'>key</a> = &quot;bytes.stored.%s&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', title='<list>'>attachment</a>.type,)
<span class='lineno'> 613</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event_metrics&quot;][<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', title='?'>key</a>] = (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event_metrics&quot;].get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.key', title='?'>key</a>) or 0) + len(
<span class='lineno'> 614</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment_data', title='?'>attachment_data</a>
<span class='lineno'> 615</span>                 )
<span class='lineno'> 616</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', title='[<list>]'>attachments</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachment', title='<list>'>attachment</a>)
<span class='lineno'> 617</span> 
<span class='lineno'> 618</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', title='[dict] -> None / ? -> None'>_nodestore_save_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 619</span> 
<span class='lineno'> 620</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;]:
<span class='lineno'> 621</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_new&quot;]:
<span class='lineno'> 622</span>                 buffer.incr(
<span class='lineno'> 623</span>                     ReleaseProject,
<span class='lineno'> 624</span>                     {&quot;new_groups&quot;: 1},
<span class='lineno'> 625</span>                     {&quot;release_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;].id, &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.id},
<span class='lineno'> 626</span>                 )
<span class='lineno'> 627</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;is_new_group_environment&quot;]:
<span class='lineno'> 628</span>                 buffer.incr(
<span class='lineno'> 629</span>                     ReleaseProjectEnvironment,
<span class='lineno'> 630</span>                     {&quot;new_issues_count&quot;: 1},
<span class='lineno'> 631</span>                     {
<span class='lineno'> 632</span>                         &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.id,
<span class='lineno'> 633</span>                         &quot;release_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;release&quot;].id,
<span class='lineno'> 634</span>                         &quot;environment_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;environment&quot;].id,
<span class='lineno'> 635</span>                     },
<span class='lineno'> 636</span>                 )
<span class='lineno'> 637</span> 
<span class='lineno'> 638</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.raw', title='bool'>raw</a>:
<span class='lineno'> 639</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.first_event:
<span class='lineno'> 640</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>.update(first_event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].datetime)
<span class='lineno'> 641</span>                 first_event_received.send_robust(
<span class='lineno'> 642</span>                     project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.project', title='?'>project</a>, event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;], sender=Project
<span class='lineno'> 643</span>                 )
<span class='lineno'> 644</span> 
<span class='lineno'> 645</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', title='? -> None / [dict] -> None'>_eventstream_insert_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 646</span> 
<span class='lineno'> 647</span>         # Do this last to ensure signals get emitted even if connection to the
<span class='lineno'> 648</span>         # file store breaks temporarily.
<span class='lineno'> 649</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments', title='([<list>], {None | bool | dict | dict | float | int}) -> None / (?, ?) -> None'>save_attachments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.attachments', title='[<list>]'>attachments</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;])
<span class='lineno'> 650</span> 
<span class='lineno'> 651</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', title='dict'>metric_tags</a> = {&quot;from_relay&quot;: &quot;_relay_processed&quot; in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;]}
<span class='lineno'> 652</span> 
<span class='lineno'> 653</span>         metrics.timing(
<span class='lineno'> 654</span>             &quot;events.latency&quot;,
<span class='lineno'> 655</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;received_timestamp&quot;] - <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;recorded_timestamp&quot;],
<span class='lineno'> 656</span>             tags=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', title='dict'>metric_tags</a>,
<span class='lineno'> 657</span>         )
<span class='lineno'> 658</span>         metrics.timing(&quot;events.size.data.post_save&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].size, tags=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', title='dict'>metric_tags</a>)
<span class='lineno'> 659</span>         metrics.incr(
<span class='lineno'> 660</span>             &quot;events.post_save.normalize.errors&quot;,
<span class='lineno'> 661</span>             amount=len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;data&quot;].get(&quot;errors&quot;) or ()),
<span class='lineno'> 662</span>             tags=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.metric_tags', title='dict'>metric_tags</a>,
<span class='lineno'> 663</span>         )
<span class='lineno'> 664</span> 
<span class='lineno'> 665</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', title='? -> None / [dict] -> None'>_track_outcome_accepted_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.jobs', title='[dict]'>jobs</a>)
<span class='lineno'> 666</span> 
<span class='lineno'> 667</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.self', title='EventManager'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager._data', title='None'>_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;].data.data
<span class='lineno'> 668</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.EventManager.save.job', title='dict'>job</a>[&quot;event&quot;]
<span class='lineno'> 669</span> 
<span class='lineno'> 670</span> 
<span class='lineno'> 671</span> @metrics.wraps(&quot;save_event.pull_out_data&quot;)
<span class='lineno'> 672</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', title='(?, ?) -> None / ([dict], dict) -> None'>_pull_out_data</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.projects', title='dict'>projects</a>):
<span class='lineno'> 673</span>     &quot;&quot;&quot;
<span class='lineno'> 674</span>     A bunch of (probably) CPU bound stuff.
<span class='lineno'> 675</span>     &quot;&quot;&quot;
<span class='lineno'> 676</span> 
<span class='lineno'> 677</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 678</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;project_id&quot;] = int(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;project_id&quot;])
<span class='lineno'> 679</span> 
<span class='lineno'> 680</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;data&quot;]
<span class='lineno'> 681</span> 
<span class='lineno'> 682</span>         # Pull the toplevel data we&#39;re interested in
<span class='lineno'> 683</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;culprit&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit', title='? -> None / {None | bool | int} -> None / {None | bool | float | int} -> None'>get_culprit</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>)
<span class='lineno'> 684</span> 
<span class='lineno'> 685</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;transaction&quot;)
<span class='lineno'> 686</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a>:
<span class='lineno'> 687</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a> = force_text(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a>)
<span class='lineno'> 688</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;transaction&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a>
<span class='lineno'> 689</span> 
<span class='lineno'> 690</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', title='None'>key_id</a> = None if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a> is None else <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;key_id&quot;)
<span class='lineno'> 691</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', title='None'>key_id</a> is not None:
<span class='lineno'> 692</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', title='int'>key_id</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', title='None'>key_id</a>)
<span class='lineno'> 693</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;key_id&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.key_id', title='int'>key_id</a>
<span class='lineno'> 694</span> 
<span class='lineno'> 695</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;logger_name&quot;] = <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', title='?'>logger_name</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;logger&quot;)
<span class='lineno'> 696</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;level&quot;] = <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', title='?'>level</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;level&quot;)
<span class='lineno'> 697</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;release&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;release&quot;)
<span class='lineno'> 698</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;dist&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;dist&quot;)
<span class='lineno'> 699</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;environment&quot;] = <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', title='?'>environment</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;environment&quot;)
<span class='lineno'> 700</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;recorded_timestamp&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='{None | bool | float | int}'>data</a>.get(&quot;timestamp&quot;)
<span class='lineno'> 701</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;event&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', title='None'>event</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance', title='({None | bool | float | int}, {None | bool | float | int}) -> None / (?, ?) -> None / ({None | bool | int}, {None | bool | int}) -> None'>_get_event_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;data&quot;], project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;project_id&quot;])
<span class='lineno'> 702</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;data&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', title='None'>event</a>.data.data
<span class='lineno'> 703</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;category&quot;] = DataCategory.from_event_type(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>.get(&quot;type&quot;))
<span class='lineno'> 704</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;platform&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', title='None'>event</a>.platform
<span class='lineno'> 705</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.event', title='None'>event</a>.<a href='#None._project_cache', xid ='None._project_cache', title='?'><a name='None._project_cache', xid ='None._project_cache', title='?'>_project_cache</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.projects', title='dict'>projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;project_id&quot;]]
<span class='lineno'> 706</span> 
<span class='lineno'> 707</span>         # Some of the data that are toplevel attributes are duplicated
<span class='lineno'> 708</span>         # into tags (logger, level, environment, transaction).  These are
<span class='lineno'> 709</span>         # different from legacy attributes which are normalized into tags
<span class='lineno'> 710</span>         # ahead of time (site, server_name).
<span class='lineno'> 711</span>         setdefault_path(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>, &quot;tags&quot;, value=[])
<span class='lineno'> 712</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>, &quot;level&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.level', title='?'>level</a>)
<span class='lineno'> 713</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', title='?'>logger_name</a>:
<span class='lineno'> 714</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>, &quot;logger&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.logger_name', title='?'>logger_name</a>)
<span class='lineno'> 715</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', title='?'>environment</a>:
<span class='lineno'> 716</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>, &quot;environment&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.environment', title='?'>environment</a>)
<span class='lineno'> 717</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a>:
<span class='lineno'> 718</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.data', title='?'>data</a>, &quot;transaction&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.transaction_name', title='?'>transaction_name</a>)
<span class='lineno'> 719</span> 
<span class='lineno'> 720</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;received_timestamp&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;event&quot;].data.get(&quot;received&quot;) or float(
<span class='lineno'> 721</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data.job', title='dict'>job</a>[&quot;event&quot;].datetime.strftime(&quot;%s&quot;)
<span class='lineno'> 722</span>         )
<span class='lineno'> 723</span> 
<span class='lineno'> 724</span> 
<span class='lineno'> 725</span> @metrics.wraps(&quot;save_event.get_or_create_release_many&quot;)
<span class='lineno'> 726</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', title='([dict], dict) -> None / (?, ?) -> None'>_get_or_create_release_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.projects', title='dict'>projects</a>):
<span class='lineno'> 727</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', title='dict'>jobs_with_releases</a> = {}
<span class='lineno'> 728</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', title='{dict | dict}'>release_date_added</a> = {}
<span class='lineno'> 729</span> 
<span class='lineno'> 730</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 731</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a>[&quot;release&quot;]:
<span class='lineno'> 732</span>             continue
<span class='lineno'> 733</span> 
<span class='lineno'> 734</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', title='({None | bool | float | int}, {None | bool | float | int})'>release_key</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a>[&quot;project_id&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a>[&quot;release&quot;])
<span class='lineno'> 735</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', title='dict'>jobs_with_releases</a>.setdefault(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', title='({None | bool | float | int}, {None | bool | float | int})'>release_key</a>, []).append(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a>)
<span class='lineno'> 736</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', title='?'>new_datetime</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='dict'>job</a>[&quot;event&quot;].datetime
<span class='lineno'> 737</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', title='?'>old_datetime</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', title='{dict | dict}'>release_date_added</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', title='({None | bool | float | int}, {None | bool | float | int})'>release_key</a>)
<span class='lineno'> 738</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', title='?'>old_datetime</a> is None or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', title='?'>new_datetime</a> &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.old_datetime', title='?'>old_datetime</a>:
<span class='lineno'> 739</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', title='{dict | dict}'>release_date_added</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_key', title='({None | bool | float | int}, {None | bool | float | int})'>release_key</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.new_datetime', title='?'>new_datetime</a>
<span class='lineno'> 740</span> 
<span class='lineno'> 741</span>     for (<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', title='?'>project_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', title='?'>version</a>), <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_to_update', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_to_update', title='?'>jobs_to_update</a> in six.iteritems(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_with_releases', title='dict'>jobs_with_releases</a>):
<span class='lineno'> 742</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', title='?'>release</a> = Release.get_or_create(
<span class='lineno'> 743</span>             project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.projects', title='dict'>projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', title='?'>project_id</a>],
<span class='lineno'> 744</span>             version=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', title='?'>version</a>,
<span class='lineno'> 745</span>             date_added=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release_date_added', title='{dict | dict}'>release_date_added</a>[(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.project_id', title='?'>project_id</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.version', title='?'>version</a>)],
<span class='lineno'> 746</span>         )
<span class='lineno'> 747</span> 
<span class='lineno'> 748</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_to_update', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.jobs_to_update', title='?'>jobs_to_update</a>:
<span class='lineno'> 749</span>             # dont allow a conflicting &#39;release&#39; tag
<span class='lineno'> 750</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', title='?'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;data&quot;]
<span class='lineno'> 751</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None / (?, str) -> None / ({None | bool | float | int}, str) -> None'>pop_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', title='?'>data</a>, &quot;release&quot;)
<span class='lineno'> 752</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.data', title='?'>data</a>, &quot;sentry:release&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', title='?'>release</a>.version)
<span class='lineno'> 753</span> 
<span class='lineno'> 754</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;release&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.release', title='?'>release</a>
<span class='lineno'> 755</span> 
<span class='lineno'> 756</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;dist&quot;]:
<span class='lineno'> 757</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;dist&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;release&quot;].add_dist(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;dist&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;event&quot;].datetime)
<span class='lineno'> 758</span> 
<span class='lineno'> 759</span>                 # dont allow a conflicting &#39;dist&#39; tag
<span class='lineno'> 760</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None / (?, str) -> None / ({None | bool | float | int}, str) -> None'>pop_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;data&quot;], &quot;dist&quot;)
<span class='lineno'> 761</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;data&quot;], &quot;sentry:dist&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many.job', title='?'>job</a>[&quot;dist&quot;].name)
<span class='lineno'> 762</span> 
<span class='lineno'> 763</span> 
<span class='lineno'> 764</span> @metrics.wraps(&quot;save_event.get_event_user_many&quot;)
<span class='lineno'> 765</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_event_user_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.projects', title='dict'>projects</a>):
<span class='lineno'> 766</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 767</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', title='{None | bool | float | int}'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', title='dict'>job</a>[&quot;data&quot;]
<span class='lineno'> 768</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', title='?'>user</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user', title='(?, ?) -> ? / (?, {None | bool | float | int}) -> ?'>_get_event_user</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.projects', title='dict'>projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', title='dict'>job</a>[&quot;project_id&quot;]], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', title='{None | bool | float | int}'>data</a>)
<span class='lineno'> 769</span> 
<span class='lineno'> 770</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', title='?'>user</a>:
<span class='lineno'> 771</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.pop_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None / (?, str) -> None / ({None | bool | float | int}, str) -> None'>pop_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', title='{None | bool | float | int}'>data</a>, &quot;user&quot;)
<span class='lineno'> 772</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.data', title='{None | bool | float | int}'>data</a>, &quot;sentry:user&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', title='?'>user</a>.tag_value)
<span class='lineno'> 773</span> 
<span class='lineno'> 774</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.job', title='dict'>job</a>[&quot;user&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many.user', title='?'>user</a>
<span class='lineno'> 775</span> 
<span class='lineno'> 776</span> 
<span class='lineno'> 777</span> @metrics.wraps(&quot;save_event.derive_plugin_tags_many&quot;)
<span class='lineno'> 778</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', title='([dict], dict) -> None / (?, ?) -> None'>_derive_plugin_tags_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.projects', title='dict'>projects</a>):
<span class='lineno'> 779</span>     # XXX: We ought to inline or remove this one for sure
<span class='lineno'> 780</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugins_for_projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugins_for_projects', title='dict'>plugins_for_projects</a> = {
<span class='lineno'> 781</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', title='?'>p</a>.id: plugins.for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', title='?'>p</a>, version=None) for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.p', title='?'>p</a></a> in six.itervalues(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.projects', title='dict'>projects</a>)
<span class='lineno'> 782</span>     }
<span class='lineno'> 783</span> 
<span class='lineno'> 784</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 785</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugin', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugin', title='?'>plugin</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugins_for_projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugins_for_projects', title='dict'>plugins_for_projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', title='dict'>job</a>[&quot;project_id&quot;]]:
<span class='lineno'> 786</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', title='?'>added_tags</a> = safe_execute(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugin', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.plugin', title='?'>plugin</a>.get_tags, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', title='dict'>job</a>[&quot;event&quot;], _with_transaction=False)
<span class='lineno'> 787</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', title='?'>added_tags</a>:
<span class='lineno'> 788</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', title='{None | bool | float | int}'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.job', title='dict'>job</a>[&quot;data&quot;]
<span class='lineno'> 789</span>                 # plugins should not override user provided tags
<span class='lineno'> 790</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', title='?'>key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.value', title='?'>value</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.added_tags', title='?'>added_tags</a>:
<span class='lineno'> 791</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_tag', title='({None | bool | float | int}, ?) -> None / (?, ?) -> None'>get_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', title='{None | bool | float | int}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', title='?'>key</a>) is None:
<span class='lineno'> 792</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.data', title='{None | bool | float | int}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.key', title='?'>key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.value', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many.value', title='?'>value</a>)
<span class='lineno'> 793</span> 
<span class='lineno'> 794</span> 
<span class='lineno'> 795</span> @metrics.wraps(&quot;save_event.derive_interface_tags_many&quot;)
<span class='lineno'> 796</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', title='? -> None / [dict] -> None'>_derive_interface_tags_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 797</span>     # XXX: We ought to inline or remove this one for sure
<span class='lineno'> 798</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 799</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', title='{None | bool | float | int}'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', title='dict'>job</a>[&quot;data&quot;]
<span class='lineno'> 800</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.path', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.path', title='?'>path</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', title='?'>iface</a> in six.iteritems(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.job', title='dict'>job</a>[&quot;event&quot;].interfaces):
<span class='lineno'> 801</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.k', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.k', title='?'>k</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.v', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.v', title='?'>v</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', title='?'>iface</a>.iter_tags():
<span class='lineno'> 802</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.set_tag', title='({None | bool | float | int}, ?, ?) -> None / (?, ?, ?) -> None / (?, str, ?) -> None / ({None | bool | float | int}, str, ?) -> None'>set_tag</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', title='{None | bool | float | int}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.k', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.k', title='?'>k</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.v', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.v', title='?'>v</a>)
<span class='lineno'> 803</span> 
<span class='lineno'> 804</span>             # Get rid of ephemeral interface data
<span class='lineno'> 805</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', title='?'>iface</a>.ephemeral:
<span class='lineno'> 806</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.data', title='{None | bool | float | int}'>data</a>.pop(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many.iface', title='?'>iface</a>.path, None)
<span class='lineno'> 807</span> 
<span class='lineno'> 808</span> 
<span class='lineno'> 809</span> @metrics.wraps(&quot;save_event.materialize_metadata_many&quot;)
<span class='lineno'> 810</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', title='? -> None / [dict] -> None'>_materialize_metadata_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 811</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 812</span>         # we want to freeze not just the metadata and type in but also the
<span class='lineno'> 813</span>         # derived attributes.  The reason for this is that we push this
<span class='lineno'> 814</span>         # data into kafka for snuba processing and our postprocessing
<span class='lineno'> 815</span>         # picks up the data right from the snuba topic.  For most usage
<span class='lineno'> 816</span>         # however the data is dynamically overridden by Event.title and
<span class='lineno'> 817</span>         # Event.location (See Event.as_dict)
<span class='lineno'> 818</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', title='{None | bool | dict | float | int}'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', title='dict'>job</a>[&quot;data&quot;]
<span class='lineno'> 819</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', title='dict'>job</a>[&quot;materialized_metadata&quot;] = <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', title='dict'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', title='dict'>metadata</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata', title='? -> dict / {None | bool | float | int} -> dict / {None | bool | dict | float | int} -> dict'>materialize_metadata</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', title='{None | bool | dict | float | int}'>data</a>)
<span class='lineno'> 820</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', title='{None | bool | dict | float | int}'>data</a>.update(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.metadata', title='dict'>metadata</a>)
<span class='lineno'> 821</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.data', title='{None | bool | dict | float | int}'>data</a>[&quot;culprit&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many.job', title='dict'>job</a>[&quot;culprit&quot;]
<span class='lineno'> 822</span> 
<span class='lineno'> 823</span> 
<span class='lineno'> 824</span> @metrics.wraps(&quot;save_event.get_or_create_environment_many&quot;)
<span class='lineno'> 825</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_environment_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.projects', title='dict'>projects</a>):
<span class='lineno'> 826</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 827</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', title='dict'>job</a>[&quot;environment&quot;] = Environment.get_or_create(
<span class='lineno'> 828</span>             project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.projects', title='dict'>projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', title='dict'>job</a>[&quot;project_id&quot;]], name=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many.job', title='dict'>job</a>[&quot;environment&quot;]
<span class='lineno'> 829</span>         )
<span class='lineno'> 830</span> 
<span class='lineno'> 831</span> 
<span class='lineno'> 832</span> @metrics.wraps(&quot;save_event.get_or_create_release_associated_models&quot;)
<span class='lineno'> 833</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_release_associated_models</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.projects', title='dict'>projects</a>):
<span class='lineno'> 834</span>     # XXX: This is possibly unnecessarily detached from
<span class='lineno'> 835</span>     # _get_or_create_release_many, but we do not want to destroy order of
<span class='lineno'> 836</span>     # execution right now
<span class='lineno'> 837</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 838</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', title='{None | bool | dict | float | int}'>release</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', title='dict'>job</a>[&quot;release&quot;]
<span class='lineno'> 839</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', title='{None | bool | dict | float | int}'>release</a>:
<span class='lineno'> 840</span>             continue
<span class='lineno'> 841</span> 
<span class='lineno'> 842</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.projects', title='dict'>projects</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', title='dict'>job</a>[&quot;project_id&quot;]]
<span class='lineno'> 843</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', title='{None | bool | dict | float | int}'>environment</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', title='dict'>job</a>[&quot;environment&quot;]
<span class='lineno'> 844</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', title='?'>date</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.job', title='dict'>job</a>[&quot;event&quot;].datetime
<span class='lineno'> 845</span> 
<span class='lineno'> 846</span>         ReleaseEnvironment.get_or_create(
<span class='lineno'> 847</span>             project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', title='?'>project</a>, release=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', title='{None | bool | dict | float | int}'>release</a>, environment=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', title='{None | bool | dict | float | int}'>environment</a>, datetime=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', title='?'>date</a>
<span class='lineno'> 848</span>         )
<span class='lineno'> 849</span> 
<span class='lineno'> 850</span>         ReleaseProjectEnvironment.get_or_create(
<span class='lineno'> 851</span>             project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.project', title='?'>project</a>, release=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.release', title='{None | bool | dict | float | int}'>release</a>, environment=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.environment', title='{None | bool | dict | float | int}'>environment</a>, datetime=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models.date', title='?'>date</a>
<span class='lineno'> 852</span>         )
<span class='lineno'> 853</span> 
<span class='lineno'> 854</span> 
<span class='lineno'> 855</span> @metrics.wraps(&quot;save_event.tsdb_record_all_metrics&quot;)
<span class='lineno'> 856</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', title='[dict] -> None / ? -> None'>_tsdb_record_all_metrics</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 857</span>     &quot;&quot;&quot;
<span class='lineno'> 858</span>     Do all tsdb-related things for save_event in here s.t. we can potentially
<span class='lineno'> 859</span>     put everything in a single redis pipeline someday.
<span class='lineno'> 860</span>     &quot;&quot;&quot;
<span class='lineno'> 861</span> 
<span class='lineno'> 862</span>     # XXX: validate whether anybody actually uses those metrics
<span class='lineno'> 863</span> 
<span class='lineno'> 864</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 865</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a> = []
<span class='lineno'> 866</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', title='[(?, dict)]'>frequencies</a> = []
<span class='lineno'> 867</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', title='{[(?, ?, ?)] | [(?, {None | bool | dict | float | int}, ?)]}'>records</a> = []
<span class='lineno'> 868</span> 
<span class='lineno'> 869</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a>.append((tsdb.models.project, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;project_id&quot;]))
<span class='lineno'> 870</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', title='{None | bool | dict | float | int}'>event</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;event&quot;]
<span class='lineno'> 871</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;group&quot;]
<span class='lineno'> 872</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', title='{None | bool | dict | float | int}'>release</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;release&quot;]
<span class='lineno'> 873</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', title='{None | bool | dict | float | int}'>environment</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;environment&quot;]
<span class='lineno'> 874</span> 
<span class='lineno'> 875</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>:
<span class='lineno'> 876</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a>.append((tsdb.models.group, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>.id))
<span class='lineno'> 877</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', title='[(?, dict)]'>frequencies</a>.append(
<span class='lineno'> 878</span>                 (tsdb.models.frequent_environments_by_group, {<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>.id: {<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', title='{None | bool | dict | float | int}'>environment</a>.id: 1}})
<span class='lineno'> 879</span>             )
<span class='lineno'> 880</span> 
<span class='lineno'> 881</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', title='{None | bool | dict | float | int}'>release</a>:
<span class='lineno'> 882</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', title='[(?, dict)]'>frequencies</a>.append(
<span class='lineno'> 883</span>                     (
<span class='lineno'> 884</span>                         tsdb.models.frequent_releases_by_group,
<span class='lineno'> 885</span>                         {<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>.id: {<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;grouprelease&quot;].id: 1}},
<span class='lineno'> 886</span>                     )
<span class='lineno'> 887</span>                 )
<span class='lineno'> 888</span> 
<span class='lineno'> 889</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', title='{None | bool | dict | float | int}'>release</a>:
<span class='lineno'> 890</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a>.append((tsdb.models.release, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.release', title='{None | bool | dict | float | int}'>release</a>.id))
<span class='lineno'> 891</span> 
<span class='lineno'> 892</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', title='{None | bool | dict | float | int}'>user</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;user&quot;]
<span class='lineno'> 893</span> 
<span class='lineno'> 894</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', title='{None | bool | dict | float | int}'>user</a>:
<span class='lineno'> 895</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.project_id', title='{None | bool | dict | float | int}'>project_id</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.job', title='dict'>job</a>[&quot;project_id&quot;]
<span class='lineno'> 896</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', title='{[(?, ?, ?)] | [(?, {None | bool | dict | float | int}, ?)]}'>records</a>.append((tsdb.models.users_affected_by_project, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.project_id', title='{None | bool | dict | float | int}'>project_id</a>, (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', title='{None | bool | dict | float | int}'>user</a>.tag_value,)))
<span class='lineno'> 897</span> 
<span class='lineno'> 898</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>:
<span class='lineno'> 899</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', title='{[(?, ?, ?)] | [(?, {None | bool | dict | float | int}, ?)]}'>records</a>.append((tsdb.models.users_affected_by_group, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.group', title='{None | bool | dict | float | int}'>group</a>.id, (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.user', title='{None | bool | dict | float | int}'>user</a>.tag_value,)))
<span class='lineno'> 900</span> 
<span class='lineno'> 901</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a>:
<span class='lineno'> 902</span>             tsdb.incr_multi(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.incrs', title='{[(?, ?)] | [(?, {None | bool | dict | float | int})]}'>incrs</a>, timestamp=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', title='{None | bool | dict | float | int}'>event</a>.datetime, environment_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', title='{None | bool | dict | float | int}'>environment</a>.id)
<span class='lineno'> 903</span> 
<span class='lineno'> 904</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', title='{[(?, ?, ?)] | [(?, {None | bool | dict | float | int}, ?)]}'>records</a>:
<span class='lineno'> 905</span>             tsdb.record_multi(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.records', title='{[(?, ?, ?)] | [(?, {None | bool | dict | float | int}, ?)]}'>records</a>, timestamp=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', title='{None | bool | dict | float | int}'>event</a>.datetime, environment_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.environment', title='{None | bool | dict | float | int}'>environment</a>.id)
<span class='lineno'> 906</span> 
<span class='lineno'> 907</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', title='[(?, dict)]'>frequencies</a>:
<span class='lineno'> 908</span>             tsdb.record_frequency_multi(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.frequencies', title='[(?, dict)]'>frequencies</a>, timestamp=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics.event', title='{None | bool | dict | float | int}'>event</a>.datetime)
<span class='lineno'> 909</span> 
<span class='lineno'> 910</span> 
<span class='lineno'> 911</span> @metrics.wraps(&quot;save_event.nodestore_save_many&quot;)
<span class='lineno'> 912</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', title='[dict] -> None / ? -> None'>_nodestore_save_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 913</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 914</span>         # Write the event to Nodestore
<span class='lineno'> 915</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many.job', title='dict'>job</a>[&quot;event&quot;].data.save()
<span class='lineno'> 916</span> 
<span class='lineno'> 917</span> 
<span class='lineno'> 918</span> @metrics.wraps(&quot;save_event.eventstream_insert_many&quot;)
<span class='lineno'> 919</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', title='? -> None / [dict] -> None'>_eventstream_insert_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 920</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 921</span>         eventstream.insert(
<span class='lineno'> 922</span>             group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;group&quot;],
<span class='lineno'> 923</span>             event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;event&quot;],
<span class='lineno'> 924</span>             is_new=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;is_new&quot;],
<span class='lineno'> 925</span>             is_regression=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;is_regression&quot;],
<span class='lineno'> 926</span>             is_new_group_environment=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;is_new_group_environment&quot;],
<span class='lineno'> 927</span>             primary_hash=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;data&quot;][&quot;hashes&quot;][0] if &quot;hashes&quot; in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;data&quot;] else &quot;&quot;,
<span class='lineno'> 928</span>             received_timestamp=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>[&quot;received_timestamp&quot;],
<span class='lineno'> 929</span>             # We are choosing to skip consuming the event back
<span class='lineno'> 930</span>             # in the eventstream if it&#39;s flagged as raw.
<span class='lineno'> 931</span>             # This means that we want to publish the event
<span class='lineno'> 932</span>             # through the event stream, but we don&#39;t care
<span class='lineno'> 933</span>             # about post processing and handling the commit.
<span class='lineno'> 934</span>             skip_consume=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many.job', title='dict'>job</a>.get(&quot;raw&quot;, False),
<span class='lineno'> 935</span>         )
<span class='lineno'> 936</span> 
<span class='lineno'> 937</span> 
<span class='lineno'> 938</span> @metrics.wraps(&quot;save_event.track_outcome_accepted_many&quot;)
<span class='lineno'> 939</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', title='? -> None / [dict] -> None'>_track_outcome_accepted_many</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.jobs', title='[dict]'>jobs</a>):
<span class='lineno'> 940</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.jobs', title='[dict]'>jobs</a>:
<span class='lineno'> 941</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', title='{None | bool | dict | dict | float | int}'>event</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a>[&quot;event&quot;]
<span class='lineno'> 942</span> 
<span class='lineno'> 943</span>         track_outcome(
<span class='lineno'> 944</span>             org_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', title='{None | bool | dict | dict | float | int}'>event</a>.project.organization_id,
<span class='lineno'> 945</span>             project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a>[&quot;project_id&quot;],
<span class='lineno'> 946</span>             key_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a>[&quot;key_id&quot;],
<span class='lineno'> 947</span>             outcome=Outcome.ACCEPTED,
<span class='lineno'> 948</span>             reason=None,
<span class='lineno'> 949</span>             timestamp=to_datetime(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a>[&quot;start_time&quot;]),
<span class='lineno'> 950</span>             event_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.event', title='{None | bool | dict | dict | float | int}'>event</a>.event_id,
<span class='lineno'> 951</span>             category=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many.job', title='dict'>job</a>[&quot;category&quot;],
<span class='lineno'> 952</span>         )
<span class='lineno'> 953</span> 
<span class='lineno'> 954</span> 
<span class='lineno'> 955</span> @metrics.wraps(&quot;event_manager.get_event_instance&quot;)
<span class='lineno'> 956</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance', title='({None | bool | float | int}, {None | bool | float | int}) -> None / (?, ?) -> None / ({None | bool | int}, {None | bool | int}) -> None'>_get_event_instance</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', title='{None | bool | float | int}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.project_id', title='{None | bool | float | int}'>project_id</a>):
<span class='lineno'> 957</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.event_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.event_id', title='?'>event_id</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', title='{None | bool | float | int}'>data</a>.get(&quot;event_id&quot;)
<span class='lineno'> 958</span> 
<span class='lineno'> 959</span>     return eventstore.create_event(
<span class='lineno'> 960</span>         project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.project_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.project_id', title='{None | bool | float | int}'>project_id</a>,
<span class='lineno'> 961</span>         event_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.event_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.event_id', title='?'>event_id</a>,
<span class='lineno'> 962</span>         group_id=None,
<span class='lineno'> 963</span>         data=EventDict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_instance.data', title='{None | bool | float | int}'>data</a>, skip_renormalization=True),
<span class='lineno'> 964</span>     )
<span class='lineno'> 965</span> 
<span class='lineno'> 966</span> 
<span class='lineno'> 967</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user', title='(?, ?) -> ? / (?, {None | bool | float | int}) -> ?'>_get_event_user</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.data', title='{None | bool | float | int}'>data</a>):
<span class='lineno'> 968</span>     with metrics.timer(&quot;event_manager.get_event_user&quot;) as <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.metrics_tags', title='?'>metrics_tags</a>:
<span class='lineno'> 969</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl', title='(?, {None | bool | float | int}, ?) -> ? / (?, ?, ?) -> ?'>_get_event_user_impl</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.data', title='{None | bool | float | int}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user.metrics_tags', title='?'>metrics_tags</a>)
<span class='lineno'> 970</span> 
<span class='lineno'> 971</span> 
<span class='lineno'> 972</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl', title='(?, {None | bool | float | int}, ?) -> ? / (?, ?, ?) -> ?'>_get_event_user_impl</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.data', title='{None | bool | float | int}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>):
<span class='lineno'> 973</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.data', title='{None | bool | float | int}'>data</a>.get(&quot;user&quot;)
<span class='lineno'> 974</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>:
<span class='lineno'> 975</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;event_has_user&quot;] = &quot;false&quot;
<span class='lineno'> 976</span>         return
<span class='lineno'> 977</span> 
<span class='lineno'> 978</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;event_has_user&quot;] = &quot;true&quot;
<span class='lineno'> 979</span> 
<span class='lineno'> 980</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', title='?'>ip_address</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;ip_address&quot;)
<span class='lineno'> 981</span> 
<span class='lineno'> 982</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', title='?'>ip_address</a>:
<span class='lineno'> 983</span>         try:
<span class='lineno'> 984</span>             ipaddress.ip_address(six.text_type(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', title='None'>ip_address</a>))
<span class='lineno'> 985</span>         except ValueError:
<span class='lineno'> 986</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', title='None'>ip_address</a> = None
<span class='lineno'> 987</span> 
<span class='lineno'> 988</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a> = EventUser(
<span class='lineno'> 989</span>         project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', title='?'>project</a>.id,
<span class='lineno'> 990</span>         ident=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;id&quot;),
<span class='lineno'> 991</span>         email=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;email&quot;),
<span class='lineno'> 992</span>         username=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;username&quot;),
<span class='lineno'> 993</span>         ip_address=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.ip_address', title='None'>ip_address</a>,
<span class='lineno'> 994</span>         name=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;name&quot;),
<span class='lineno'> 995</span>     )
<span class='lineno'> 996</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.set_hash()
<span class='lineno'> 997</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.hash:
<span class='lineno'> 998</span>         return
<span class='lineno'> 999</span> 
<span class='lineno'>1000</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', title='str'>cache_key</a> = u&quot;euserid:1:{}:{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', title='?'>project</a>.id, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.hash)
<span class='lineno'>1001</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser_id', title='?'>euser_id</a> = cache.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', title='str'>cache_key</a>)
<span class='lineno'>1002</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser_id', title='?'>euser_id</a> is None:
<span class='lineno'>1003</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;cache_hit&quot;] = &quot;false&quot;
<span class='lineno'>1004</span>         try:
<span class='lineno'>1005</span>             with transaction.atomic(using=router.db_for_write(EventUser)):
<span class='lineno'>1006</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.save()
<span class='lineno'>1007</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;created&quot;] = &quot;true&quot;
<span class='lineno'>1008</span>         except IntegrityError:
<span class='lineno'>1009</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;created&quot;] = &quot;false&quot;
<span class='lineno'>1010</span>             try:
<span class='lineno'>1011</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a> = EventUser.objects.get(project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.project', title='?'>project</a>.id, hash=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.hash)
<span class='lineno'>1012</span>             except EventUser.DoesNotExist:
<span class='lineno'>1013</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;created&quot;] = &quot;lol&quot;
<span class='lineno'>1014</span>                 # why???
<span class='lineno'>1015</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', title='int'>e_userid</a> = -1
<span class='lineno'>1016</span>             else:
<span class='lineno'>1017</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.name != (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>.get(&quot;name&quot;) or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.name):
<span class='lineno'>1018</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.update(name=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.user_data', title='?'>user_data</a>[&quot;name&quot;])
<span class='lineno'>1019</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', title='?'>e_userid</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>.id
<span class='lineno'>1020</span>             cache.set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.cache_key', title='str'>cache_key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.e_userid', title='?'>e_userid</a>, 3600)
<span class='lineno'>1021</span>     else:
<span class='lineno'>1022</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.metrics_tags', title='?'>metrics_tags</a>[&quot;cache_hit&quot;] = &quot;true&quot;
<span class='lineno'>1023</span> 
<span class='lineno'>1024</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_impl.euser', title='?'>euser</a>
<span class='lineno'>1025</span> 
<span class='lineno'>1026</span> 
<span class='lineno'>1027</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type', title='? -> ? / {None | bool | float | int} -> ? / {None | bool | dict | float | int} -> ?'>get_event_type</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type.data', title='{None | bool | dict | float | int}'>data</a>):
<span class='lineno'>1028</span>     return eventtypes.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type.data', title='{None | bool | dict | float | int}'>data</a>.get(&quot;type&quot;, &quot;default&quot;))()
<span class='lineno'>1029</span> 
<span class='lineno'>1030</span> 
<span class='lineno'>1031</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata', title='? -> dict / {None | bool | float | int} -> dict / {None | bool | dict | float | int} -> dict'>materialize_metadata</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', title='{None | bool | dict | float | int}'>data</a>):
<span class='lineno'>1032</span>     &quot;&quot;&quot;Returns the materialized metadata to be merged with group or
<span class='lineno'>1033</span>     event data.  This currently produces the keys `type`, `metadata`,
<span class='lineno'>1034</span>     `title` and `location`.  This should most likely also produce
<span class='lineno'>1035</span>     `culprit` here.
<span class='lineno'>1036</span>     &quot;&quot;&quot;
<span class='lineno'>1037</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', title='?'>event_type</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_event_type', title='? -> ? / {None | bool | float | int} -> ? / {None | bool | dict | float | int} -> ?'>get_event_type</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', title='{None | bool | dict | float | int}'>data</a>)
<span class='lineno'>1038</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', title='?'>event_metadata</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', title='?'>event_type</a>.get_metadata(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.data', title='{None | bool | dict | float | int}'>data</a>)
<span class='lineno'>1039</span>     return {
<span class='lineno'>1040</span>         &quot;type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', title='?'>event_type</a>.key,
<span class='lineno'>1041</span>         &quot;metadata&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', title='?'>event_metadata</a>,
<span class='lineno'>1042</span>         &quot;title&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', title='?'>event_type</a>.get_title(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', title='?'>event_metadata</a>),
<span class='lineno'>1043</span>         &quot;location&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_type', title='?'>event_type</a>.get_location(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.materialize_metadata.event_metadata', title='?'>event_metadata</a>),
<span class='lineno'>1044</span>     }
<span class='lineno'>1045</span> 
<span class='lineno'>1046</span> 
<span class='lineno'>1047</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit', title='? -> None / {None | bool | int} -> None / {None | bool | float | int} -> None'>get_culprit</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', title='{None | bool | float | int}'>data</a>):
<span class='lineno'>1048</span>     &quot;&quot;&quot;Helper to calculate the default culprit&quot;&quot;&quot;
<span class='lineno'>1049</span>     return force_text(
<span class='lineno'>1050</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', title='{None | bool | float | int}'>data</a>.get(&quot;culprit&quot;) or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', title='{None | bool | float | int}'>data</a>.get(&quot;transaction&quot;) or generate_culprit(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_culprit.data', title='{None | bool | float | int}'>data</a>) or &quot;&quot;
<span class='lineno'>1051</span>     )
<span class='lineno'>1052</span> 
<span class='lineno'>1053</span> 
<span class='lineno'>1054</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate', title='(?, ?, ?) -> (?, bool, bool) / ({None | bool | dict | float | int}, ?, {None | bool | dict | float | int}) -> (?, bool, bool)'>_save_aggregate</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', title='{None | bool | dict | float | int}'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.hashes', title='?'>hashes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.release', title='{None | bool | dict | float | int}'>release</a>, **kwargs):
<span class='lineno'>1055</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.project
<span class='lineno'>1056</span> 
<span class='lineno'>1057</span>     # attempt to find a matching hash
<span class='lineno'>1058</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', title='[?]'>all_hashes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes', title='(?, ?) -> [?]'>_find_hashes</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.hashes', title='?'>hashes</a>)
<span class='lineno'>1059</span> 
<span class='lineno'>1060</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', title='None'>existing_group_id</a> = None
<span class='lineno'>1061</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', title='[?]'>all_hashes</a>:
<span class='lineno'>1062</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a>.group_id is not None:
<span class='lineno'>1063</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', title='?'>existing_group_id</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a>.group_id
<span class='lineno'>1064</span>             break
<span class='lineno'>1065</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a>.group_tombstone_id is not None:
<span class='lineno'>1066</span>             raise HashDiscarded(&quot;Matches group tombstone %s&quot; % h.group_tombstone_id)
<span class='lineno'>1067</span> 
<span class='lineno'>1068</span>     # XXX(dcramer): this has the opportunity to create duplicate groups
<span class='lineno'>1069</span>     # it should be resolved by the hash merging function later but this
<span class='lineno'>1070</span>     # should be better tested/reviewed
<span class='lineno'>1071</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', title='None'>existing_group_id</a> is None:
<span class='lineno'>1072</span>         # it&#39;s possible the release was deleted between
<span class='lineno'>1073</span>         # when we queried for the release and now, so
<span class='lineno'>1074</span>         # make sure it still exists
<span class='lineno'>1075</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', title='?'>first_release</a> = kwargs.pop(&quot;first_release&quot;, None)
<span class='lineno'>1076</span> 
<span class='lineno'>1077</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.short_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.short_id', title='?'>short_id</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', title='?'>project</a>.next_short_id()
<span class='lineno'>1078</span> 
<span class='lineno'>1079</span>         with transaction.atomic():
<span class='lineno'>1080</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', title='bool'>group_is_new</a> = (
<span class='lineno'>1081</span>                 Group.objects.create(
<span class='lineno'>1082</span>                     project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', title='?'>project</a>,
<span class='lineno'>1083</span>                     short_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.short_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.short_id', title='?'>short_id</a>,
<span class='lineno'>1084</span>                     first_release_id=Release.objects.filter(id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', title='?'>first_release</a>.id)
<span class='lineno'>1085</span>                     .values_list(&quot;id&quot;, flat=True)
<span class='lineno'>1086</span>                     .first()
<span class='lineno'>1087</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.first_release', title='?'>first_release</a>
<span class='lineno'>1088</span>                     else None,
<span class='lineno'>1089</span>                     **kwargs
<span class='lineno'>1090</span>                 ),
<span class='lineno'>1091</span>                 True,
<span class='lineno'>1092</span>             )
<span class='lineno'>1093</span> 
<span class='lineno'>1094</span>         metrics.incr(
<span class='lineno'>1095</span>             &quot;group.created&quot;, skip_internal=True, tags={&quot;platform&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.platform or &quot;unknown&quot;}
<span class='lineno'>1096</span>         )
<span class='lineno'>1097</span> 
<span class='lineno'>1098</span>     else:
<span class='lineno'>1099</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a> = Group.objects.get(id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.existing_group_id', title='None'>existing_group_id</a>)
<span class='lineno'>1100</span> 
<span class='lineno'>1101</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', title='bool'>group_is_new</a> = False
<span class='lineno'>1102</span> 
<span class='lineno'>1103</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a>._project_cache = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.project', title='?'>project</a>
<span class='lineno'>1104</span> 
<span class='lineno'>1105</span>     # If all hashes are brand new we treat this event as new
<span class='lineno'>1106</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', title='bool'>is_new</a> = False
<span class='lineno'>1107</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', title='[?]'>new_hashes</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a> for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', title='[?]'>all_hashes</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a>.group_id is None]
<span class='lineno'>1108</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', title='[?]'>new_hashes</a>:
<span class='lineno'>1109</span>         # XXX: There is a race condition here wherein another process could
<span class='lineno'>1110</span>         # create a new group that is associated with one of the new hashes,
<span class='lineno'>1111</span>         # add some event(s) to it, and then subsequently have the hash
<span class='lineno'>1112</span>         # &quot;stolen&quot; by this process. This then &quot;orphans&quot; those events from
<span class='lineno'>1113</span>         # their &quot;siblings&quot; in the group we&#39;ve created here. We don&#39;t have a
<span class='lineno'>1114</span>         # way to fix this, since we can&#39;t update the group on those hashes
<span class='lineno'>1115</span>         # without filtering on `group_id` (which we can&#39;t do due to query
<span class='lineno'>1116</span>         # planner weirdness.) For more context, see 84c6f75a and d0e22787,
<span class='lineno'>1117</span>         # as well as GH-5085.
<span class='lineno'>1118</span>         GroupHash.objects.filter(id__in=[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a>.id for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.h', title='?'>h</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', title='[?]'>new_hashes</a>]).exclude(
<span class='lineno'>1119</span>             state=GroupHash.State.LOCKED_IN_MIGRATION
<span class='lineno'>1120</span>         ).update(group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a>)
<span class='lineno'>1121</span> 
<span class='lineno'>1122</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group_is_new', title='bool'>group_is_new</a> and len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.new_hashes', title='[?]'>new_hashes</a>) == len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.all_hashes', title='[?]'>all_hashes</a>):
<span class='lineno'>1123</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', title='bool'>is_new</a> = True
<span class='lineno'>1124</span> 
<span class='lineno'>1125</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', title='bool'>is_new</a>:
<span class='lineno'>1126</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', title='bool'>is_regression</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate', title='(?, {None | bool | dict | float | int}, ?, {None | bool | dict | float | int}) -> bool / (?, ?, ?, ?) -> bool'>_process_existing_aggregate</a>(
<span class='lineno'>1127</span>             group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a>, event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.event', title='{None | bool | dict | float | int}'>event</a>, data=kwargs, release=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.release', title='{None | bool | dict | float | int}'>release</a>
<span class='lineno'>1128</span>         )
<span class='lineno'>1129</span>     else:
<span class='lineno'>1130</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', title='bool'>is_regression</a> = False
<span class='lineno'>1131</span> 
<span class='lineno'>1132</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_new', title='bool'>is_new</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._save_aggregate.is_regression', title='bool'>is_regression</a>
<span class='lineno'>1133</span> 
<span class='lineno'>1134</span> 
<span class='lineno'>1135</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression', title='(?, {None | bool | dict | float | int}, {None | bool | dict | float | int}) -> bool / (?, ?, ?) -> bool'>_handle_regression</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', title='{None | bool | dict | float | int}'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a>):
<span class='lineno'>1136</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.is_resolved():
<span class='lineno'>1137</span>         return
<span class='lineno'>1138</span> 
<span class='lineno'>1139</span>     # we only mark it as a regression if the event&#39;s release is newer than
<span class='lineno'>1140</span>     # the release which we originally marked this as resolved
<span class='lineno'>1141</span>     elif GroupResolution.has_resolution(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a>):
<span class='lineno'>1142</span>         return
<span class='lineno'>1143</span> 
<span class='lineno'>1144</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.has_pending_commit_resolution', title='? -> ?'>has_pending_commit_resolution</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>):
<span class='lineno'>1145</span>         return
<span class='lineno'>1146</span> 
<span class='lineno'>1147</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.plugin_is_regression', title='(?, {None | bool | dict | float | int}) -> bool / (?, ?) -> bool'>plugin_is_regression</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', title='{None | bool | dict | float | int}'>event</a>):
<span class='lineno'>1148</span>         return
<span class='lineno'>1149</span> 
<span class='lineno'>1150</span>     # we now think its a regression, rely on the database to validate that
<span class='lineno'>1151</span>     # no one beat us to this
<span class='lineno'>1152</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', title='int'>date</a> = max(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.event', title='{None | bool | dict | float | int}'>event</a>.datetime, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.last_seen)
<span class='lineno'>1153</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', title='bool'>is_regression</a> = bool(
<span class='lineno'>1154</span>         Group.objects.filter(
<span class='lineno'>1155</span>             id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.id,
<span class='lineno'>1156</span>             # ensure we cant update things if the status has been set to
<span class='lineno'>1157</span>             # ignored
<span class='lineno'>1158</span>             status__in=[GroupStatus.RESOLVED, GroupStatus.UNRESOLVED],
<span class='lineno'>1159</span>         )
<span class='lineno'>1160</span>         .exclude(
<span class='lineno'>1161</span>             # add to the regression window to account for races here
<span class='lineno'>1162</span>             active_at__gte=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', title='int'>date</a>
<span class='lineno'>1163</span>             - timedelta(seconds=5)
<span class='lineno'>1164</span>         )
<span class='lineno'>1165</span>         .update(
<span class='lineno'>1166</span>             active_at=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', title='int'>date</a>,
<span class='lineno'>1167</span>             # explicitly set last_seen here as ``is_resolved()`` looks
<span class='lineno'>1168</span>             # at the value
<span class='lineno'>1169</span>             last_seen=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', title='int'>date</a>,
<span class='lineno'>1170</span>             status=GroupStatus.UNRESOLVED,
<span class='lineno'>1171</span>         )
<span class='lineno'>1172</span>     )
<span class='lineno'>1173</span> 
<span class='lineno'>1174</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.active_at = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.date', title='int'>date</a>
<span class='lineno'>1175</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.status = GroupStatus.UNRESOLVED
<span class='lineno'>1176</span> 
<span class='lineno'>1177</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', title='bool'>is_regression</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a>:
<span class='lineno'>1178</span>         # resolutions are only valid if the state of the group is still
<span class='lineno'>1179</span>         # resolved -- if it were to change the resolution should get removed
<span class='lineno'>1180</span>         try:
<span class='lineno'>1181</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', title='?'>resolution</a> = GroupResolution.objects.get(group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>)
<span class='lineno'>1182</span>         except GroupResolution.DoesNotExist:
<span class='lineno'>1183</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', title='bool'>affected</a> = False
<span class='lineno'>1184</span>         else:
<span class='lineno'>1185</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', title='?'>cursor</a> = connection.cursor()
<span class='lineno'>1186</span>             # delete() API does not return affected rows
<span class='lineno'>1187</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', title='?'>cursor</a>.execute(&quot;DELETE FROM sentry_groupresolution WHERE id = %s&quot;, [<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', title='?'>resolution</a>.id])
<span class='lineno'>1188</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', title='bool'>affected</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.cursor', title='?'>cursor</a>.rowcount &gt; 0
<span class='lineno'>1189</span> 
<span class='lineno'>1190</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.affected', title='bool'>affected</a>:
<span class='lineno'>1191</span>             # if we had to remove the GroupResolution (i.e. we beat the
<span class='lineno'>1192</span>             # the queue to handling this) then we need to also record
<span class='lineno'>1193</span>             # the corresponding event
<span class='lineno'>1194</span>             try:
<span class='lineno'>1195</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', title='?'>activity</a> = Activity.objects.filter(
<span class='lineno'>1196</span>                     group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>, type=Activity.SET_RESOLVED_IN_RELEASE, ident=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.resolution', title='?'>resolution</a>.id
<span class='lineno'>1197</span>                 ).order_by(&quot;-datetime&quot;)[0]
<span class='lineno'>1198</span>             except IndexError:
<span class='lineno'>1199</span>                 # XXX: handle missing data, as its not overly important
<span class='lineno'>1200</span>                 pass
<span class='lineno'>1201</span>             else:
<span class='lineno'>1202</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', title='?'>activity</a>.update(data={&quot;version&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a>.version})
<span class='lineno'>1203</span> 
<span class='lineno'>1204</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', title='bool'>is_regression</a>:
<span class='lineno'>1205</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', title='?'>activity</a> = Activity.objects.create(
<span class='lineno'>1206</span>             project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.project_id,
<span class='lineno'>1207</span>             group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>,
<span class='lineno'>1208</span>             type=Activity.SET_REGRESSION,
<span class='lineno'>1209</span>             data={&quot;version&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a>.version if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.release', title='{None | bool | dict | float | int}'>release</a> else &quot;&quot;},
<span class='lineno'>1210</span>         )
<span class='lineno'>1211</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.activity', title='?'>activity</a>.send_notification()
<span class='lineno'>1212</span> 
<span class='lineno'>1213</span>         kick_off_status_syncs.apply_async(
<span class='lineno'>1214</span>             kwargs={&quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.project_id, &quot;group_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.group', title='?'>group</a>.id}
<span class='lineno'>1215</span>         )
<span class='lineno'>1216</span> 
<span class='lineno'>1217</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression.is_regression', title='bool'>is_regression</a>
<span class='lineno'>1218</span> 
<span class='lineno'>1219</span> 
<span class='lineno'>1220</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate', title='(?, {None | bool | dict | float | int}, ?, {None | bool | dict | float | int}) -> bool / (?, ?, ?, ?) -> bool'>_process_existing_aggregate</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.release', title='{None | bool | dict | float | int}'>release</a>):
<span class='lineno'>1221</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.date', title='int'>date</a> = max(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.datetime, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.last_seen)
<span class='lineno'>1222</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a> = {&quot;last_seen&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.date', title='int'>date</a>, &quot;score&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.ScoreClause', title='<ScoreClause>'>ScoreClause</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>), &quot;data&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>[&quot;data&quot;]}
<span class='lineno'>1223</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.search_message and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.search_message != <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.message:
<span class='lineno'>1224</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>[&quot;message&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.search_message
<span class='lineno'>1225</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.level != <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>[&quot;level&quot;]:
<span class='lineno'>1226</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>[&quot;level&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>[&quot;level&quot;]
<span class='lineno'>1227</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.culprit != <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>[&quot;culprit&quot;]:
<span class='lineno'>1228</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>[&quot;culprit&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.data', title='?'>data</a>[&quot;culprit&quot;]
<span class='lineno'>1229</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.first_seen &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.datetime:
<span class='lineno'>1230</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>[&quot;first_seen&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>.datetime
<span class='lineno'>1231</span> 
<span class='lineno'>1232</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.is_regression', title='bool'>is_regression</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._handle_regression', title='(?, {None | bool | dict | float | int}, {None | bool | dict | float | int}) -> bool / (?, ?, ?) -> bool'>_handle_regression</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.event', title='{None | bool | dict | float | int}'>event</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.release', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.release', title='{None | bool | dict | float | int}'>release</a>)
<span class='lineno'>1233</span> 
<span class='lineno'>1234</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.last_seen = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>[&quot;last_seen&quot;]
<span class='lineno'>1235</span> 
<span class='lineno'>1236</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.update_kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.update_kwargs', title='dict'>update_kwargs</a> = {&quot;times_seen&quot;: 1}
<span class='lineno'>1237</span> 
<span class='lineno'>1238</span>     buffer.incr(Group, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.update_kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.update_kwargs', title='dict'>update_kwargs</a>, {&quot;id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.group', title='?'>group</a>.id}, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.extra', title='dict'>extra</a>)
<span class='lineno'>1239</span> 
<span class='lineno'>1240</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.is_regression', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._process_existing_aggregate.is_regression', title='bool'>is_regression</a>
<span class='lineno'>1241</span> 
<span class='lineno'>1242</span> 
<span class='lineno'>1243</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments', title='(?, ?) -> [<list>] / (None, {None | bool | dict | dict | float | int}) -> [<list>]'>get_attachments</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', title='None'>cache_key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>):
<span class='lineno'>1244</span>     &quot;&quot;&quot;
<span class='lineno'>1245</span>     Computes a list of attachments that should be stored.
<span class='lineno'>1246</span> 
<span class='lineno'>1247</span>     This method checks whether event attachments are available and sends them to
<span class='lineno'>1248</span>     the blob store. There is special handling for crash reports which may
<span class='lineno'>1249</span>     contain unstripped PII. If the project or organization is configured to
<span class='lineno'>1250</span>     limit the amount of crash reports per group, the number of stored crashes is
<span class='lineno'>1251</span>     limited.
<span class='lineno'>1252</span> 
<span class='lineno'>1253</span>     :param cache_key: The cache key at which the event payload is stored in the
<span class='lineno'>1254</span>                     cache. This is used to retrieve attachments.
<span class='lineno'>1255</span>     :param event:     The event model instance.
<span class='lineno'>1256</span>     &quot;&quot;&quot;
<span class='lineno'>1257</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a> = []
<span class='lineno'>1258</span> 
<span class='lineno'>1259</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', title='None'>cache_key</a> is None:
<span class='lineno'>1260</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a>
<span class='lineno'>1261</span> 
<span class='lineno'>1262</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>.project
<span class='lineno'>1263</span>     if not features.has(&quot;organizations:event-attachments&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', title='?'>project</a>.organization, actor=None):
<span class='lineno'>1264</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a>
<span class='lineno'>1265</span> 
<span class='lineno'>1266</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', title='list'>attachments</a> = list(attachment_cache.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cache_key', title='None'>cache_key</a>))
<span class='lineno'>1267</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', title='list'>attachments</a>:
<span class='lineno'>1268</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a>
<span class='lineno'>1269</span> 
<span class='lineno'>1270</span>     # The setting is both an organization and project setting. The project
<span class='lineno'>1271</span>     # setting strictly overrides the organization setting, unless set to the
<span class='lineno'>1272</span>     # default.
<span class='lineno'>1273</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', title='? -> None'>get_max_crashreports</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', title='?'>project</a>)
<span class='lineno'>1274</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a>:
<span class='lineno'>1275</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_max_crashreports', title='? -> None'>get_max_crashreports</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.project', title='?'>project</a>.organization)
<span class='lineno'>1276</span> 
<span class='lineno'>1277</span>     # The number of crash reports is cached per group
<span class='lineno'>1278</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', title='?'>crashreports_key</a> = get_crashreport_key(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>.group_id)
<span class='lineno'>1279</span> 
<span class='lineno'>1280</span>     # Only fetch the number of stored crash reports if there is a crash report
<span class='lineno'>1281</span>     # in the list of attachments. Otherwise, we won&#39;t require this number.
<span class='lineno'>1282</span>     if any(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'>attachment</a>.type in CRASH_REPORT_TYPES for <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'>attachment</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', title='list'>attachments</a>):
<span class='lineno'>1283</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', title='None'>cached_reports</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_stored_crashreports', title='(?, ?, None) -> None / (?, {None | bool | dict | dict | float | int}, None) -> None / (?, ?, ?) -> None'>get_stored_crashreports</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', title='?'>crashreports_key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a>)
<span class='lineno'>1284</span>     else:
<span class='lineno'>1285</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', title='int'>cached_reports</a> = 0
<span class='lineno'>1286</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='{None | int}'>stored_reports</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', title='{None | int}'>cached_reports</a>
<span class='lineno'>1287</span> 
<span class='lineno'>1288</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'>attachment</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachments', title='list'>attachments</a>:
<span class='lineno'>1289</span>         # If the attachment is a crash report (e.g. minidump), we need to honor
<span class='lineno'>1290</span>         # the store_crash_reports setting. Otherwise, we assume that the client
<span class='lineno'>1291</span>         # has already verified PII and just store the attachment.
<span class='lineno'>1292</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'>attachment</a>.type in CRASH_REPORT_TYPES:
<span class='lineno'>1293</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', title='({None | int}, None) -> bool / (?, ?) -> bool'>crashreports_exceeded</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='{None | int}'>stored_reports</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a>):
<span class='lineno'>1294</span>                 continue
<span class='lineno'>1295</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='{None | int}'>stored_reports</a></a> += 1
<span class='lineno'>1296</span> 
<span class='lineno'>1297</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.attachment', title='<list>'>attachment</a>)
<span class='lineno'>1298</span> 
<span class='lineno'>1299</span>     # Check if we have exceeded the stored crash reports count. If so, we
<span class='lineno'>1300</span>     # persist the current maximum (not the actual number!) into the cache. Next
<span class='lineno'>1301</span>     # time when loading from the cache, we will validate that this number has
<span class='lineno'>1302</span>     # not changed, or otherwise re-fetch from the database.
<span class='lineno'>1303</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.crashreports_exceeded', title='({None | int}, None) -> bool / (?, ?) -> bool'>crashreports_exceeded</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='{None | int}'>stored_reports</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a>) and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.stored_reports', title='{None | int}'>stored_reports</a> &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.cached_reports', title='{None | int}'>cached_reports</a>:
<span class='lineno'>1304</span>         cache.set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.crashreports_key', title='?'>crashreports_key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.max_crashreports', title='None'>max_crashreports</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.CRASH_REPORT_TIMEOUT', title='int'>CRASH_REPORT_TIMEOUT</a>)
<span class='lineno'>1305</span> 
<span class='lineno'>1306</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.get_attachments.filtered', title='[<list>]'>filtered</a>
<span class='lineno'>1307</span> 
<span class='lineno'>1308</span> 
<span class='lineno'>1309</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments', title='([<list>], {None | bool | dict | dict | float | int}) -> None / (?, ?) -> None'>save_attachments</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachments', title='[<list>]'>attachments</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>):
<span class='lineno'>1310</span>     &quot;&quot;&quot;
<span class='lineno'>1311</span>     Persists cached event attachments into the file store.
<span class='lineno'>1312</span> 
<span class='lineno'>1313</span>     :param attachments: A filtered list of attachments to save.
<span class='lineno'>1314</span>     :param event:       The event model instance.
<span class='lineno'>1315</span>     &quot;&quot;&quot;
<span class='lineno'>1316</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachments', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachments', title='[<list>]'>attachments</a>:
<span class='lineno'>1317</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', title='?'>file</a> = File.objects.create(
<span class='lineno'>1318</span>             name=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a>.name,
<span class='lineno'>1319</span>             type=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a>.type,
<span class='lineno'>1320</span>             headers={&quot;Content-Type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a>.content_type},
<span class='lineno'>1321</span>         )
<span class='lineno'>1322</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', title='?'>file</a>.putfile(six.BytesIO(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a>.data))
<span class='lineno'>1323</span> 
<span class='lineno'>1324</span>         EventAttachment.objects.create(
<span class='lineno'>1325</span>             event_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>.event_id,
<span class='lineno'>1326</span>             project_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>.project_id,
<span class='lineno'>1327</span>             group_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.event', title='{None | bool | dict | dict | float | int}'>event</a>.group_id,
<span class='lineno'>1328</span>             name=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.attachment', title='<list>'>attachment</a>.name,
<span class='lineno'>1329</span>             file=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_attachments.file', title='?'>file</a>,
<span class='lineno'>1330</span>         )
<span class='lineno'>1331</span> 
<span class='lineno'>1332</span> 
<span class='lineno'>1333</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes', title='(?, ?) -> [?]'>_find_hashes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.hash_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.hash_list', title='?'>hash_list</a>):
<span class='lineno'>1334</span>     return map(
<span class='lineno'>1335</span>         lambda <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.lambda%1.hash', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.lambda%1.hash', title='?'>hash</a>: GroupHash.objects.get_or_create(project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.project', title='?'>project</a>, hash=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.lambda%1.hash', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.lambda%1.hash', title='?'>hash</a>)[0], <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.hash_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._find_hashes.hash_list', title='?'>hash_list</a>
<span class='lineno'>1336</span>     )
<span class='lineno'>1337</span> 
<span class='lineno'>1338</span> 
<span class='lineno'>1339</span> @metrics.wraps(&quot;event_manager.save_transactions.materialize_event_metrics&quot;)
<span class='lineno'>1340</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', title='? -> None / [dict] -> None'>_materialize_event_metrics</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.jobs', title='[dict]'>jobs</a>):
<span class='lineno'>1341</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.jobs', title='[dict]'>jobs</a>:
<span class='lineno'>1342</span>         # Ensure the _metrics key exists. This is usually created during
<span class='lineno'>1343</span>         # and prefilled with ingestion sizes.
<span class='lineno'>1344</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', title='dict'>event_metrics</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', title='dict'>job</a>[&quot;event&quot;].data.get(&quot;_metrics&quot;) or {}
<span class='lineno'>1345</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', title='dict'>job</a>[&quot;event&quot;].data[&quot;_metrics&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', title='dict'>event_metrics</a>
<span class='lineno'>1346</span> 
<span class='lineno'>1347</span>         # Capture the actual size that goes into node store.
<span class='lineno'>1348</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', title='dict'>event_metrics</a>[&quot;bytes.stored.event&quot;] = len(json.dumps(dict(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', title='dict'>job</a>[&quot;event&quot;].data.items())))
<span class='lineno'>1349</span> 
<span class='lineno'>1350</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', title='str'>metric_name</a> in (&quot;flag.processing.error&quot;, &quot;flag.processing.fatal&quot;):
<span class='lineno'>1351</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', title='dict'>event_metrics</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', title='str'>metric_name</a>):
<span class='lineno'>1352</span>                 metrics.incr(&quot;event_manager.save.event_metrics.%s&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.metric_name', title='str'>metric_name</a>,))
<span class='lineno'>1353</span> 
<span class='lineno'>1354</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.job', title='dict'>job</a>[&quot;event_metrics&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics.event_metrics', title='dict'>event_metrics</a>
<span class='lineno'>1355</span> 
<span class='lineno'>1356</span> 
<span class='lineno'>1357</span> @metrics.wraps(&quot;event_manager.save_transaction_events&quot;)
<span class='lineno'>1358</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events', title='(?, ?) -> ? / ([dict], dict) -> [dict]'>save_transaction_events</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>):
<span class='lineno'>1359</span>     with metrics.timer(&quot;event_manager.save_transactions.collect_organization_ids&quot;):
<span class='lineno'>1360</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organization_ids', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organization_ids', title='?'>organization_ids</a> = set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'>project</a>.organization_id for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'>project</a></a> in six.itervalues(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>))
<span class='lineno'>1361</span> 
<span class='lineno'>1362</span>     with metrics.timer(&quot;event_manager.save_transactions.fetch_organizations&quot;):
<span class='lineno'>1363</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organizations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organizations', title='dict'>organizations</a> = {
<span class='lineno'>1364</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', title='?'>o</a>.id: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', title='?'>o</a> for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.o', title='?'>o</a></a> in Organization.objects.get_many_from_cache(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organization_ids', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organization_ids', title='?'>organization_ids</a>)
<span class='lineno'>1365</span>         }
<span class='lineno'>1366</span> 
<span class='lineno'>1367</span>     with metrics.timer(&quot;event_manager.save_transactions.set_organization_cache&quot;):
<span class='lineno'>1368</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'>project</a> in six.itervalues(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>):
<span class='lineno'>1369</span>             try:
<span class='lineno'>1370</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'>project</a>._organization_cache = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organizations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.organizations', title='dict'>organizations</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.project', title='?'>project</a>.organization_id]
<span class='lineno'>1371</span>             except KeyError:
<span class='lineno'>1372</span>                 continue
<span class='lineno'>1373</span> 
<span class='lineno'>1374</span>     with metrics.timer(&quot;event_manager.save_transactions.prepare_jobs&quot;):
<span class='lineno'>1375</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>:
<span class='lineno'>1376</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;project_id&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;data&quot;][&quot;project&quot;]
<span class='lineno'>1377</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;raw&quot;] = False
<span class='lineno'>1378</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;group&quot;] = None
<span class='lineno'>1379</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;is_new&quot;] = False
<span class='lineno'>1380</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;is_regression&quot;] = False
<span class='lineno'>1381</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.job', title='dict'>job</a>[&quot;is_new_group_environment&quot;] = False
<span class='lineno'>1382</span> 
<span class='lineno'>1383</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._pull_out_data', title='(?, ?) -> None / ([dict], dict) -> None'>_pull_out_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1384</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_many', title='([dict], dict) -> None / (?, ?) -> None'>_get_or_create_release_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1385</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_event_user_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_event_user_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1386</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_plugin_tags_many', title='([dict], dict) -> None / (?, ?) -> None'>_derive_plugin_tags_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1387</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._derive_interface_tags_many', title='? -> None / [dict] -> None'>_derive_interface_tags_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1388</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_metadata_many', title='? -> None / [dict] -> None'>_materialize_metadata_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1389</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_environment_many', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_environment_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1390</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._get_or_create_release_associated_models', title='(?, ?) -> None / ([dict], dict) -> None'>_get_or_create_release_associated_models</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.projects', title='dict'>projects</a>)
<span class='lineno'>1391</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._tsdb_record_all_metrics', title='[dict] -> None / ? -> None'>_tsdb_record_all_metrics</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1392</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._materialize_event_metrics', title='? -> None / [dict] -> None'>_materialize_event_metrics</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1393</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._nodestore_save_many', title='[dict] -> None / ? -> None'>_nodestore_save_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1394</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._eventstream_insert_many', title='? -> None / [dict] -> None'>_eventstream_insert_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1395</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager._track_outcome_accepted_many', title='? -> None / [dict] -> None'>_track_outcome_accepted_many</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>)
<span class='lineno'>1396</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.event_manager.save_transaction_events.jobs', title='[dict]'>jobs</a>
</pre></td></tr></table></body></html>