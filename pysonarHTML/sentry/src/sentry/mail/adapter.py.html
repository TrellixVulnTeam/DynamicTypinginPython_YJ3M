<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/sentry/src/sentry/mail/adapter.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger'>logger</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType'>ActionTargetType</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS'>ISSUE_OWNERS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM'>TEAM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER'>MEMBER</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter'>MailAdapter</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key'>mail_option_key</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key'>alert_option_key</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify'>rule_notify</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix'>_build_subject_prefix</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message'>_build_message</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail'>_send_mail</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users'>get_sendable_users</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify'>should_notify</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to'>get_send_to</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners'>get_send_to_owners</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project'>disabled_users_from_project</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team'>get_send_to_team</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member'>get_send_to_member</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project'>get_send_to_all_in_project</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link'>add_unsubscribe_link</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify'>notify</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject'>get_digest_subject</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest'>notify_digest</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity'>notify_about_activity</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report'>handle_user_report</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal'>handle_signal</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> from __future__ import absolute_import
<span class='lineno'>   2</span> 
<span class='lineno'>   3</span> import itertools
<span class='lineno'>   4</span> import logging
<span class='lineno'>   5</span> import six
<span class='lineno'>   6</span> 
<span class='lineno'>   7</span> from django.utils import dateformat
<span class='lineno'>   8</span> from django.utils.encoding import force_text
<span class='lineno'>   9</span> from django.utils.safestring import mark_safe
<span class='lineno'>  10</span> from enum import Enum
<span class='lineno'>  11</span> 
<span class='lineno'>  12</span> from sentry import digests, options
<span class='lineno'>  13</span> from sentry.digests import get_option_key as get_digest_option_key
<span class='lineno'>  14</span> from sentry.digests.notifications import event_to_record, unsplit_key
<span class='lineno'>  15</span> from sentry.digests.utilities import get_digest_metadata, get_personalized_digests
<span class='lineno'>  16</span> from sentry.models import (
<span class='lineno'>  17</span>     Commit,
<span class='lineno'>  18</span>     Group,
<span class='lineno'>  19</span>     GroupSubscription,
<span class='lineno'>  20</span>     GroupSubscriptionReason,
<span class='lineno'>  21</span>     Integration,
<span class='lineno'>  22</span>     ProjectOption,
<span class='lineno'>  23</span>     ProjectOwnership,
<span class='lineno'>  24</span>     Release,
<span class='lineno'>  25</span>     Team,
<span class='lineno'>  26</span>     User,
<span class='lineno'>  27</span> )
<span class='lineno'>  28</span> from sentry.plugins.base.structs import Notification
<span class='lineno'>  29</span> from sentry.plugins.base import plugins
<span class='lineno'>  30</span> from sentry.tasks.digests import deliver_digest
<span class='lineno'>  31</span> from sentry.utils import metrics
<span class='lineno'>  32</span> from sentry.utils.cache import cache
<span class='lineno'>  33</span> from sentry.utils.committers import get_serialized_event_file_committers
<span class='lineno'>  34</span> from sentry.utils.email import group_id_to_email, MessageBuilder
<span class='lineno'>  35</span> from sentry.utils.http import absolute_uri
<span class='lineno'>  36</span> from sentry.utils.linksign import generate_signed_link
<span class='lineno'>  37</span> 
<span class='lineno'>  38</span> <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a> = logging.getLogger(__name__)
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', title='<ActionTargetType>'>ActionTargetType</a>(Enum):
<span class='lineno'>  42</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS', title='str'>ISSUE_OWNERS</a> = &quot;IssueOwners&quot;
<span class='lineno'>  43</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM', title='str'>TEAM</a> = &quot;Team&quot;
<span class='lineno'>  44</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER', title='str'>MEMBER</a> = &quot;Member&quot;
<span class='lineno'>  45</span> 
<span class='lineno'>  46</span> 
<span class='lineno'>  47</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter', title='<MailAdapter>'>MailAdapter</a>(object):
<span class='lineno'>  48</span>     &quot;&quot;&quot;
<span class='lineno'>  49</span>     This class contains generic logic for notifying users via Email.
<span class='lineno'>  50</span>     &quot;&quot;&quot;
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key', title='str'>mail_option_key</a> = &quot;mail:subject_prefix&quot;
<span class='lineno'>  53</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', title='str'>alert_option_key</a> = &quot;mail:alert&quot;
<span class='lineno'>  54</span> 
<span class='lineno'>  55</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify', title='(MailAdapter, ?, ?, ?, None) -> None'>rule_notify</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.futures', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.futures', title='?'>futures</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', title='?'>target_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', title='None'>target_identifier</a>=None):
<span class='lineno'>  56</span>         metrics.incr(&quot;mail_adapter.rule_notify&quot;)
<span class='lineno'>  57</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', title='[?]'>rules</a> = []
<span class='lineno'>  58</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', title='dict'>extra</a> = {
<span class='lineno'>  59</span>             &quot;event_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>.event_id,
<span class='lineno'>  60</span>             &quot;group_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>.group_id,
<span class='lineno'>  61</span>             &quot;is_from_mail_action_adapter&quot;: True,
<span class='lineno'>  62</span>             &quot;target_type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', title='?'>target_type</a>.value,
<span class='lineno'>  63</span>             &quot;target_identifier&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', title='None'>target_identifier</a>,
<span class='lineno'>  64</span>         }
<span class='lineno'>  65</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', title='str'>log_event</a> = &quot;dispatched&quot;
<span class='lineno'>  66</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', title='?'>future</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.futures', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.futures', title='?'>futures</a>:
<span class='lineno'>  67</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', title='[?]'>rules</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', title='?'>future</a>.rule)
<span class='lineno'>  68</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', title='dict'>extra</a>[&quot;rule_id&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', title='?'>future</a>.rule.id
<span class='lineno'>  69</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.future', title='?'>future</a>.kwargs:
<span class='lineno'>  70</span>                 continue
<span class='lineno'>  71</span>             raise NotImplementedError(
<span class='lineno'>  72</span>                 &quot;The default behavior for notification de-duplication does not support args&quot;
<span class='lineno'>  73</span>             )
<span class='lineno'>  74</span> 
<span class='lineno'>  75</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>.group.project
<span class='lineno'>  76</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', title='dict'>extra</a>[&quot;project_id&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', title='?'>project</a>.id
<span class='lineno'>  77</span>         if digests.enabled(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', title='?'>project</a>):
<span class='lineno'>  78</span> 
<span class='lineno'>  79</span>             def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', title='str -> ?'>get_digest_option</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option.key', title='str'>key</a>):
<span class='lineno'>  80</span>                 return ProjectOption.objects.get_value(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.project', title='?'>project</a>, get_digest_option_key(&quot;mail&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option.key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option.key', title='str'>key</a>))
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', title='?'>digest_key</a> = unsplit_key(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>.group.project, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', title='?'>target_type</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'>  83</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', title='dict'>extra</a>[&quot;digest_key&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', title='?'>digest_key</a>
<span class='lineno'>  84</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.immediate_delivery', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.immediate_delivery', title='?'>immediate_delivery</a> = digests.add(
<span class='lineno'>  85</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', title='?'>digest_key</a>,
<span class='lineno'>  86</span>                 event_to_record(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', title='[?]'>rules</a>),
<span class='lineno'>  87</span>                 increment_delay=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', title='str -> ?'>get_digest_option</a>(&quot;increment_delay&quot;),
<span class='lineno'>  88</span>                 maximum_delay=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.get_digest_option', title='str -> ?'>get_digest_option</a>(&quot;maximum_delay&quot;),
<span class='lineno'>  89</span>             )
<span class='lineno'>  90</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.immediate_delivery', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.immediate_delivery', title='?'>immediate_delivery</a>:
<span class='lineno'>  91</span>                 deliver_digest.delay(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.digest_key', title='?'>digest_key</a>)
<span class='lineno'>  92</span>             else:
<span class='lineno'>  93</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', title='str'>log_event</a> = &quot;digested&quot;
<span class='lineno'>  94</span> 
<span class='lineno'>  95</span>         else:
<span class='lineno'>  96</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.notification', title='?'>notification</a> = Notification(event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.event', title='?'>event</a>, rules=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.rules', title='[?]'>rules</a>)
<span class='lineno'>  97</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', title='(MailAdapter, ?, ?, None) -> ?'>notify</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.notification', title='?'>notification</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_type', title='?'>target_type</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'>  98</span> 
<span class='lineno'>  99</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.info(&quot;mail.adapter.notification.%s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.log_event', title='str'>log_event</a>, extra=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.rule_notify.extra', title='dict'>extra</a>)
<span class='lineno'> 100</span> 
<span class='lineno'> 101</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', title='(MailAdapter, ?) -> None'>_build_subject_prefix</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.project', title='?'>project</a>):
<span class='lineno'> 102</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', title='?'>subject_prefix</a> = ProjectOption.objects.get_value(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.mail_option_key', title='str'>mail_option_key</a>, None)
<span class='lineno'> 103</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', title='?'>subject_prefix</a>:
<span class='lineno'> 104</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', title='?'>subject_prefix</a> = options.get(&quot;mail.subject-prefix&quot;)
<span class='lineno'> 105</span>         return force_text(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix.subject_prefix', title='?'>subject_prefix</a>)
<span class='lineno'> 106</span> 
<span class='lineno'> 107</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message', title='(MailAdapter, ?, ?, None, None, None, None, None, None, None, None, None) -> None'>_build_message</a>(
<span class='lineno'> 108</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.self', title='MailAdapter'>self</a>,
<span class='lineno'> 109</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', title='?'>project</a>,
<span class='lineno'> 110</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', title='?'>subject</a>,
<span class='lineno'> 111</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.template', title='None'>template</a>=None,
<span class='lineno'> 112</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.html_template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.html_template', title='None'>html_template</a>=None,
<span class='lineno'> 113</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.body', title='None'>body</a>=None,
<span class='lineno'> 114</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reference', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reference', title='None'>reference</a>=None,
<span class='lineno'> 115</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reply_reference', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reply_reference', title='None'>reply_reference</a>=None,
<span class='lineno'> 116</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.headers', title='None'>headers</a>=None,
<span class='lineno'> 117</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.context', title='None'>context</a>=None,
<span class='lineno'> 118</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', title='None'>send_to</a>=None,
<span class='lineno'> 119</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.type', title='None'>type</a>=None,
<span class='lineno'> 120</span>     ):
<span class='lineno'> 121</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', title='None'>send_to</a>:
<span class='lineno'> 122</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.debug(&quot;Skipping message rendering, no users to send to.&quot;)
<span class='lineno'> 123</span>             return
<span class='lineno'> 124</span> 
<span class='lineno'> 125</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject_prefix', title='None'>subject_prefix</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', title='(MailAdapter, ?) -> None'>_build_subject_prefix</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', title='?'>project</a>)
<span class='lineno'> 126</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', title='?'>subject</a> = force_text(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', title='?'>subject</a>)
<span class='lineno'> 127</span> 
<span class='lineno'> 128</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', title='?'>msg</a> = MessageBuilder(
<span class='lineno'> 129</span>             subject=&quot;%s%s&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject_prefix', title='None'>subject_prefix</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.subject', title='?'>subject</a>),
<span class='lineno'> 130</span>             template=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.template', title='None'>template</a>,
<span class='lineno'> 131</span>             html_template=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.html_template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.html_template', title='None'>html_template</a>,
<span class='lineno'> 132</span>             body=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.body', title='None'>body</a>,
<span class='lineno'> 133</span>             headers=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.headers', title='None'>headers</a>,
<span class='lineno'> 134</span>             type=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.type', title='None'>type</a>,
<span class='lineno'> 135</span>             context=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.context', title='None'>context</a>,
<span class='lineno'> 136</span>             reference=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reference', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reference', title='None'>reference</a>,
<span class='lineno'> 137</span>             reply_reference=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reply_reference', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.reply_reference', title='None'>reply_reference</a>,
<span class='lineno'> 138</span>         )
<span class='lineno'> 139</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', title='?'>msg</a>.add_users(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.send_to', title='None'>send_to</a>, project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.project', title='?'>project</a>)
<span class='lineno'> 140</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message.msg', title='?'>msg</a>
<span class='lineno'> 141</span> 
<span class='lineno'> 142</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', title='MailAdapter -> None'>_send_mail</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.self', title='MailAdapter'>self</a>, *args, **kwargs):
<span class='lineno'> 143</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', title='None'>message</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_message', title='(MailAdapter, ?, ?, None, None, None, None, None, None, None, None, None) -> None'>_build_message</a>(*args, **kwargs)
<span class='lineno'> 144</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', title='None'>message</a> is not None:
<span class='lineno'> 145</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail.message', title='None'>message</a>.send_async()
<span class='lineno'> 146</span> 
<span class='lineno'> 147</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', title='(MailAdapter, ?) -> None'>get_sendable_users</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.project', title='?'>project</a>):
<span class='lineno'> 148</span>         &quot;&quot;&quot;
<span class='lineno'> 149</span>         Return a collection of user IDs that are eligible to receive
<span class='lineno'> 150</span>         notifications for the provided project.
<span class='lineno'> 151</span>         &quot;&quot;&quot;
<span class='lineno'> 152</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.project', title='?'>project</a>.get_notification_recipients(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', title='str'>alert_option_key</a>)
<span class='lineno'> 153</span> 
<span class='lineno'> 154</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify', title='(MailAdapter, ?) -> None'>should_notify</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.group', title='?'>group</a>):
<span class='lineno'> 155</span>         metrics.incr(&quot;mail_adapter.should_notify&quot;)
<span class='lineno'> 156</span>         # only notify if we have users to notify
<span class='lineno'> 157</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', title='(MailAdapter, ?) -> None'>get_sendable_users</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.should_notify.group', title='?'>group</a>.project)
<span class='lineno'> 158</span> 
<span class='lineno'> 159</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', title='(MailAdapter, ?, ?, None, None) -> None'>get_send_to</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', title='?'>target_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', title='None'>target_identifier</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', title='None'>event</a>=None):
<span class='lineno'> 160</span>         &quot;&quot;&quot;
<span class='lineno'> 161</span>         Returns a list of user IDs for the users that should receive
<span class='lineno'> 162</span>         notifications for the provided project.
<span class='lineno'> 163</span>         This result may come from cached data.
<span class='lineno'> 164</span>         &quot;&quot;&quot;
<span class='lineno'> 165</span>         if not (<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>.teams.exists()):
<span class='lineno'> 166</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.debug(&quot;Tried to send notification to invalid project: %r&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>)
<span class='lineno'> 167</span>             return set()
<span class='lineno'> 168</span> 
<span class='lineno'> 169</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a> = []
<span class='lineno'> 170</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', title='?'>target_type</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', title='<ActionTargetType>'>ActionTargetType</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.ISSUE_OWNERS', title='str'>ISSUE_OWNERS</a>:
<span class='lineno'> 171</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', title='None'>event</a>:
<span class='lineno'> 172</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', title='(MailAdapter, ?) -> [?]'>get_send_to_all_in_project</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>)
<span class='lineno'> 173</span>             else:
<span class='lineno'> 174</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, None, ?) -> [?]'>get_send_to_owners</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.event', title='None'>event</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>)
<span class='lineno'> 175</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', title='?'>target_type</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', title='<ActionTargetType>'>ActionTargetType</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.MEMBER', title='str'>MEMBER</a>:
<span class='lineno'> 176</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, ?, None) -> [?]'>get_send_to_member</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'> 177</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_type', title='?'>target_type</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType', title='<ActionTargetType>'>ActionTargetType</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.ActionTargetType.TEAM', title='str'>TEAM</a>:
<span class='lineno'> 178</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, ?, None) -> [?]'>get_send_to_team</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'> 179</span>         return set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to.send_to', title='[?]'>send_to</a>)
<span class='lineno'> 180</span> 
<span class='lineno'> 181</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, None, ?) -> [?]'>get_send_to_owners</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.event', title='None'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>):
<span class='lineno'> 182</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', title='?'>owners</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners._', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners._', title='?'>_</a> = ProjectOwnership.get_owners(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>.id, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.event', title='None'>event</a>.data)
<span class='lineno'> 183</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', title='?'>owners</a> != ProjectOwnership.Everyone:
<span class='lineno'> 184</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', title='?'>owners</a>:
<span class='lineno'> 185</span>                 metrics.incr(
<span class='lineno'> 186</span>                     &quot;features.owners.send_to&quot;,
<span class='lineno'> 187</span>                     tags={&quot;organization&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>.organization_id, &quot;outcome&quot;: &quot;empty&quot;},
<span class='lineno'> 188</span>                     skip_internal=True,
<span class='lineno'> 189</span>                 )
<span class='lineno'> 190</span>                 return set()
<span class='lineno'> 191</span> 
<span class='lineno'> 192</span>             metrics.incr(
<span class='lineno'> 193</span>                 &quot;features.owners.send_to&quot;,
<span class='lineno'> 194</span>                 tags={&quot;organization&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>.organization_id, &quot;outcome&quot;: &quot;match&quot;},
<span class='lineno'> 195</span>                 skip_internal=True,
<span class='lineno'> 196</span>             )
<span class='lineno'> 197</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', title='?'>send_to</a> = set()
<span class='lineno'> 198</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', title='?'>teams_to_resolve</a> = set()
<span class='lineno'> 199</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', title='?'>owner</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owners', title='?'>owners</a>:
<span class='lineno'> 200</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', title='?'>owner</a>.type == User:
<span class='lineno'> 201</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', title='?'>send_to</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', title='?'>owner</a>.id)
<span class='lineno'> 202</span>                 else:
<span class='lineno'> 203</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', title='?'>teams_to_resolve</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.owner', title='?'>owner</a>.id)
<span class='lineno'> 204</span> 
<span class='lineno'> 205</span>             # get all users in teams
<span class='lineno'> 206</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', title='?'>teams_to_resolve</a>:
<span class='lineno'> 207</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', title='?'>send_to</a></a> |= set(
<span class='lineno'> 208</span>                     User.objects.filter(
<span class='lineno'> 209</span>                         is_active=True,
<span class='lineno'> 210</span>                         sentry_orgmember_set__organizationmemberteam__team__id__in=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.teams_to_resolve', title='?'>teams_to_resolve</a>,
<span class='lineno'> 211</span>                     ).values_list(&quot;id&quot;, flat=True)
<span class='lineno'> 212</span>                 )
<span class='lineno'> 213</span> 
<span class='lineno'> 214</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.send_to', title='?'>send_to</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', title='(MailAdapter, ?) -> None'>disabled_users_from_project</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>)
<span class='lineno'> 215</span>         else:
<span class='lineno'> 216</span>             metrics.incr(
<span class='lineno'> 217</span>                 &quot;features.owners.send_to&quot;,
<span class='lineno'> 218</span>                 tags={&quot;organization&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>.organization_id, &quot;outcome&quot;: &quot;everyone&quot;},
<span class='lineno'> 219</span>                 skip_internal=True,
<span class='lineno'> 220</span>             )
<span class='lineno'> 221</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', title='(MailAdapter, ?) -> [?]'>get_send_to_all_in_project</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_owners.project', title='?'>project</a>)
<span class='lineno'> 222</span> 
<span class='lineno'> 223</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', title='(MailAdapter, ?) -> None'>disabled_users_from_project</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.project', title='?'>project</a>):
<span class='lineno'> 224</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.alert_settings', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.alert_settings', title='?'>alert_settings</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.project', title='?'>project</a>.get_member_alert_settings(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.alert_option_key', title='str'>alert_option_key</a>)
<span class='lineno'> 225</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.disabled_users', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.disabled_users', title='?'>disabled_users</a> = set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', title='?'>user</a> for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.user', title='?'>user</a></a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', title='?'>setting</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.alert_settings', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.alert_settings', title='?'>alert_settings</a>.items() if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.setting', title='?'>setting</a> == 0)
<span class='lineno'> 226</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.disabled_users', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project.disabled_users', title='?'>disabled_users</a>
<span class='lineno'> 227</span> 
<span class='lineno'> 228</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, ?, None) -> [?]'>get_send_to_team</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', title='None'>target_identifier</a>):
<span class='lineno'> 229</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', title='None'>target_identifier</a> is None:
<span class='lineno'> 230</span>             return []
<span class='lineno'> 231</span>         try:
<span class='lineno'> 232</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.team', title='?'>team</a> = Team.objects.get(id=int(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.target_identifier', title='None'>target_identifier</a>), projectteam__project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', title='?'>project</a>)
<span class='lineno'> 233</span>         except Team.DoesNotExist:
<span class='lineno'> 234</span>             return set()
<span class='lineno'> 235</span>         return set(
<span class='lineno'> 236</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.team', title='?'>team</a>.member_set.values_list(&quot;user_id&quot;, flat=True)
<span class='lineno'> 237</span>         ) - <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.disabled_users_from_project', title='(MailAdapter, ?) -> None'>disabled_users_from_project</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_team.project', title='?'>project</a>)
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member', title='(MailAdapter, ?, ?) -> [?] / (MailAdapter, ?, None) -> [?]'>get_send_to_member</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', title='None'>target_identifier</a>):
<span class='lineno'> 240</span>         &quot;&quot;&quot;
<span class='lineno'> 241</span>         No checking for disabled users is done. If a user explicitly specifies a member
<span class='lineno'> 242</span>         as a target to send to, it should overwrite the user&#39;s personal mail settings.
<span class='lineno'> 243</span>         :param target_identifier:
<span class='lineno'> 244</span>         :return: Iterable[int] id of member that should be sent to.
<span class='lineno'> 245</span>         &quot;&quot;&quot;
<span class='lineno'> 246</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', title='None'>target_identifier</a> is None:
<span class='lineno'> 247</span>             return []
<span class='lineno'> 248</span>         try:
<span class='lineno'> 249</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.user', title='?'>user</a> = (
<span class='lineno'> 250</span>                 User.objects.filter(
<span class='lineno'> 251</span>                     id=int(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.target_identifier', title='None'>target_identifier</a>),
<span class='lineno'> 252</span>                     sentry_orgmember_set__teams__projectteam__project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.project', title='?'>project</a>,
<span class='lineno'> 253</span>                 )
<span class='lineno'> 254</span>                 .distinct()
<span class='lineno'> 255</span>                 .get()
<span class='lineno'> 256</span>             )
<span class='lineno'> 257</span>         except User.DoesNotExist:
<span class='lineno'> 258</span>             return set([])
<span class='lineno'> 259</span>         return set([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_member.user', title='?'>user</a>.id])
<span class='lineno'> 260</span> 
<span class='lineno'> 261</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project', title='(MailAdapter, ?) -> [?]'>get_send_to_all_in_project</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', title='?'>project</a>):
<span class='lineno'> 262</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', title='str'>cache_key</a> = &quot;mail:send_to:{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', title='?'>project</a>.pk)
<span class='lineno'> 263</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', title='?'>send_to_list</a> = cache.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', title='str'>cache_key</a>)
<span class='lineno'> 264</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', title='?'>send_to_list</a> is None:
<span class='lineno'> 265</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', title='[?]'>send_to_list</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', title='?'>s</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', title='?'>s</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_sendable_users', title='(MailAdapter, ?) -> None'>get_sendable_users</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.project', title='?'>project</a>) if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.s', title='?'>s</a>]
<span class='lineno'> 266</span>             cache.set(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.cache_key', title='str'>cache_key</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', title='[?]'>send_to_list</a>, 60)  # 1 minute cache
<span class='lineno'> 267</span> 
<span class='lineno'> 268</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to_all_in_project.send_to_list', title='[?]'>send_to_list</a>
<span class='lineno'> 269</span> 
<span class='lineno'> 270</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', title='(MailAdapter, ?, ?, ?, ?) -> None / (MailAdapter, dict, ?, ?, str) -> None'>add_unsubscribe_link</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.context', title='{dict | dict}'>context</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.user_id', title='?'>user_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.referrer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.referrer', title='str'>referrer</a>):
<span class='lineno'> 271</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.context', title='{dict | dict}'>context</a>[&quot;unsubscribe_link&quot;] = generate_signed_link(
<span class='lineno'> 272</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.user_id', title='?'>user_id</a>,
<span class='lineno'> 273</span>             &quot;sentry-account-email-unsubscribe-project&quot;,
<span class='lineno'> 274</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.referrer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.referrer', title='str'>referrer</a>,
<span class='lineno'> 275</span>             kwargs={&quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link.project', title='?'>project</a>.id},
<span class='lineno'> 276</span>         )
<span class='lineno'> 277</span> 
<span class='lineno'> 278</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', title='(MailAdapter, ?, ?, None) -> ?'>notify</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', title='?'>notification</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', title='?'>target_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', title='None'>target_identifier</a>=None, **kwargs):
<span class='lineno'> 279</span>         metrics.incr(&quot;mail_adapter.notify&quot;)
<span class='lineno'> 280</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', title='?'>notification</a>.event
<span class='lineno'> 281</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', title='?'>environment</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>.get_tag(&quot;environment&quot;)
<span class='lineno'> 282</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>.group
<span class='lineno'> 283</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.project
<span class='lineno'> 284</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', title='?'>org</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.organization
<span class='lineno'> 285</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.info(
<span class='lineno'> 286</span>             &quot;mail.adapter.notify&quot;,
<span class='lineno'> 287</span>             extra={
<span class='lineno'> 288</span>                 &quot;target_type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', title='?'>target_type</a>.value,
<span class='lineno'> 289</span>                 &quot;target_identifier&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', title='None'>target_identifier</a>,
<span class='lineno'> 290</span>                 &quot;group&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.id,
<span class='lineno'> 291</span>                 &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>.id,
<span class='lineno'> 292</span>             },
<span class='lineno'> 293</span>         )
<span class='lineno'> 294</span> 
<span class='lineno'> 295</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.subject', title='?'>subject</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>.get_email_subject()
<span class='lineno'> 296</span> 
<span class='lineno'> 297</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', title='dict'>query_params</a> = {&quot;referrer&quot;: &quot;alert_email&quot;}
<span class='lineno'> 298</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', title='?'>environment</a>:
<span class='lineno'> 299</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', title='dict'>query_params</a>[&quot;environment&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', title='?'>environment</a>
<span class='lineno'> 300</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.link', title='?'>link</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.get_absolute_url(params=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.query_params', title='dict'>query_params</a>)
<span class='lineno'> 301</span> 
<span class='lineno'> 302</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.template', title='str'>template</a> = &quot;sentry/emails/error.txt&quot;
<span class='lineno'> 303</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.html_template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.html_template', title='str'>html_template</a> = &quot;sentry/emails/error.html&quot;
<span class='lineno'> 304</span> 
<span class='lineno'> 305</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', title='[(?, ?)]'>rules</a> = []
<span class='lineno'> 306</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', title='?'>rule</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.notification', title='?'>notification</a>.rules:
<span class='lineno'> 307</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule_link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule_link', title='?'>rule_link</a> = &quot;/settings/%s/projects/%s/alerts/rules/%s/&quot; % (
<span class='lineno'> 308</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', title='?'>org</a>.slug,
<span class='lineno'> 309</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>.slug,
<span class='lineno'> 310</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', title='?'>rule</a>.id,
<span class='lineno'> 311</span>             )
<span class='lineno'> 312</span> 
<span class='lineno'> 313</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', title='[(?, ?)]'>rules</a>.append((<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule', title='?'>rule</a>.label, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule_link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rule_link', title='?'>rule_link</a>))
<span class='lineno'> 314</span> 
<span class='lineno'> 315</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', title='?'>enhanced_privacy</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', title='?'>org</a>.flags.enhanced_privacy
<span class='lineno'> 316</span> 
<span class='lineno'> 317</span>         # lets identify possibly suspect commits and owners
<span class='lineno'> 318</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', title='dict'>commits</a> = {}
<span class='lineno'> 319</span>         try:
<span class='lineno'> 320</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committers', title='?'>committers</a> = get_serialized_event_file_committers(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>)
<span class='lineno'> 321</span>         except (Commit.DoesNotExist, Release.DoesNotExist):
<span class='lineno'> 322</span>             pass
<span class='lineno'> 323</span>         except Exception as <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.exc', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.exc', title='?'>exc</a>:
<span class='lineno'> 324</span>             logging.exception(six.text_type(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.exc', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.exc', title='?'>exc</a>))
<span class='lineno'> 325</span>         else:
<span class='lineno'> 326</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', title='?'>committer</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committers', title='?'>committers</a>:
<span class='lineno'> 327</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', title='?'>commit</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', title='?'>committer</a>[&quot;commits&quot;]:
<span class='lineno'> 328</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', title='?'>commit</a>[&quot;id&quot;] not in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', title='dict'>commits</a>:
<span class='lineno'> 329</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', title='?'>commit</a>.copy()
<span class='lineno'> 330</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>[&quot;shortId&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>[&quot;id&quot;][:7]
<span class='lineno'> 331</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>[&quot;author&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.committer', title='?'>committer</a>[&quot;author&quot;]
<span class='lineno'> 332</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>[&quot;subject&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>[&quot;message&quot;].split(&quot;\n&quot;, 1)[0]
<span class='lineno'> 333</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', title='dict'>commits</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit', title='?'>commit</a>[&quot;id&quot;]] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commit_data', title='?'>commit_data</a>
<span class='lineno'> 334</span> 
<span class='lineno'> 335</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project_plugins', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project_plugins', title='?'>project_plugins</a> = plugins.for_project(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>, version=1)
<span class='lineno'> 336</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.organization_integrations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.organization_integrations', title='?'>organization_integrations</a> = Integration.objects.filter(organizations=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.org', title='?'>org</a>).first()
<span class='lineno'> 337</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.has_integrations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.has_integrations', title='bool'>has_integrations</a> = bool(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project_plugins', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project_plugins', title='?'>project_plugins</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.organization_integrations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.organization_integrations', title='?'>organization_integrations</a>)
<span class='lineno'> 338</span> 
<span class='lineno'> 339</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', title='dict'>context</a> = {
<span class='lineno'> 340</span>             &quot;project_label&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>.get_full_name(),
<span class='lineno'> 341</span>             &quot;group&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>,
<span class='lineno'> 342</span>             &quot;event&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>,
<span class='lineno'> 343</span>             &quot;link&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.link', title='?'>link</a>,
<span class='lineno'> 344</span>             &quot;rules&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.rules', title='[(?, ?)]'>rules</a>,
<span class='lineno'> 345</span>             &quot;has_integrations&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.has_integrations', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.has_integrations', title='bool'>has_integrations</a>,
<span class='lineno'> 346</span>             &quot;enhanced_privacy&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', title='?'>enhanced_privacy</a>,
<span class='lineno'> 347</span>             &quot;commits&quot;: sorted(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.commits', title='dict'>commits</a>.values(), key=lambda <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.lambda%141.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.lambda%141.x', title='?'>x</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.lambda%141.x', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.lambda%141.x', title='?'>x</a>[&quot;score&quot;], reverse=True),
<span class='lineno'> 348</span>             &quot;environment&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.environment', title='?'>environment</a>,
<span class='lineno'> 349</span>         }
<span class='lineno'> 350</span> 
<span class='lineno'> 351</span>         # if the organization has enabled enhanced privacy controls we dont send
<span class='lineno'> 352</span>         # data which may show PII or source code
<span class='lineno'> 353</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.enhanced_privacy', title='?'>enhanced_privacy</a>:
<span class='lineno'> 354</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', title='[(?, ?, ?)]'>interface_list</a> = []
<span class='lineno'> 355</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', title='?'>interface</a> in six.itervalues(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>.interfaces):
<span class='lineno'> 356</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', title='?'>body</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', title='?'>interface</a>.to_email_html(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>)
<span class='lineno'> 357</span>                 if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', title='?'>body</a>:
<span class='lineno'> 358</span>                     continue
<span class='lineno'> 359</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.text_body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.text_body', title='?'>text_body</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', title='?'>interface</a>.to_string(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>)
<span class='lineno'> 360</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', title='[(?, ?, ?)]'>interface_list</a>.append((<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface', title='?'>interface</a>.get_title(), mark_safe(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.body', title='?'>body</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.text_body', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.text_body', title='?'>text_body</a>))
<span class='lineno'> 361</span> 
<span class='lineno'> 362</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', title='dict'>context</a>.update({&quot;tags&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>.tags, &quot;interfaces&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.interface_list', title='[(?, ?, ?)]'>interface_list</a>})
<span class='lineno'> 363</span> 
<span class='lineno'> 364</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.headers', title='dict'>headers</a> = {
<span class='lineno'> 365</span>             &quot;X-Sentry-Logger&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.logger,
<span class='lineno'> 366</span>             &quot;X-Sentry-Logger-Level&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.get_level_display(),
<span class='lineno'> 367</span>             &quot;X-Sentry-Project&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>.slug,
<span class='lineno'> 368</span>             &quot;X-Sentry-Reply-To&quot;: group_id_to_email(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.id),
<span class='lineno'> 369</span>         }
<span class='lineno'> 370</span> 
<span class='lineno'> 371</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', title='?'>user_id</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', title='(MailAdapter, ?, ?, None, None) -> None'>get_send_to</a>(
<span class='lineno'> 372</span>             project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>,
<span class='lineno'> 373</span>             target_type=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', title='?'>target_type</a>,
<span class='lineno'> 374</span>             target_identifier=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', title='None'>target_identifier</a>,
<span class='lineno'> 375</span>             event=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.event', title='?'>event</a>,
<span class='lineno'> 376</span>         ):
<span class='lineno'> 377</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.info(
<span class='lineno'> 378</span>                 &quot;mail.adapter.notify.mail_user&quot;,
<span class='lineno'> 379</span>                 extra={
<span class='lineno'> 380</span>                     &quot;target_type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_type', title='?'>target_type</a>,
<span class='lineno'> 381</span>                     &quot;target_identifier&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.target_identifier', title='None'>target_identifier</a>,
<span class='lineno'> 382</span>                     &quot;group&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>.id,
<span class='lineno'> 383</span>                     &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>.id,
<span class='lineno'> 384</span>                     &quot;user_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', title='?'>user_id</a>,
<span class='lineno'> 385</span>                 },
<span class='lineno'> 386</span>             )
<span class='lineno'> 387</span> 
<span class='lineno'> 388</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', title='(MailAdapter, ?, ?, ?, ?) -> None / (MailAdapter, dict, ?, ?, str) -> None'>add_unsubscribe_link</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', title='dict'>context</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', title='?'>user_id</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>, &quot;alert_email&quot;)
<span class='lineno'> 389</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', title='MailAdapter -> None'>_send_mail</a>(
<span class='lineno'> 390</span>                 subject=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.subject', title='?'>subject</a>,
<span class='lineno'> 391</span>                 template=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.template', title='str'>template</a>,
<span class='lineno'> 392</span>                 html_template=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.html_template', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.html_template', title='str'>html_template</a>,
<span class='lineno'> 393</span>                 project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.project', title='?'>project</a>,
<span class='lineno'> 394</span>                 reference=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.group', title='?'>group</a>,
<span class='lineno'> 395</span>                 headers=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.headers', title='dict'>headers</a>,
<span class='lineno'> 396</span>                 type=&quot;notify.error&quot;,
<span class='lineno'> 397</span>                 context=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.context', title='dict'>context</a>,
<span class='lineno'> 398</span>                 send_to=[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify.user_id', title='?'>user_id</a>],
<span class='lineno'> 399</span>             )
<span class='lineno'> 400</span> 
<span class='lineno'> 401</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject', title='(MailAdapter, ?, ?, ?) -> str'>get_digest_subject</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', title='?'>counts</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.date', title='?'>date</a>):
<span class='lineno'> 402</span>         return u&quot;{short_id} - {count} new {noun} since {date}&quot;.format(
<span class='lineno'> 403</span>             short_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.group', title='?'>group</a>.qualified_short_id,
<span class='lineno'> 404</span>             count=len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', title='?'>counts</a>),
<span class='lineno'> 405</span>             noun=&quot;alert&quot; if len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.counts', title='?'>counts</a>) == 1 else &quot;alerts&quot;,
<span class='lineno'> 406</span>             date=dateformat.format(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.date', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject.date', title='?'>date</a>, &quot;N j, Y, P e&quot;),
<span class='lineno'> 407</span>         )
<span class='lineno'> 408</span> 
<span class='lineno'> 409</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest', title='(MailAdapter, ?, ?, ?, None) -> None'>notify_digest</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', title='?'>target_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', title='None'>target_identifier</a>=None):
<span class='lineno'> 410</span>         metrics.incr(&quot;mail_adapter.notify_digest&quot;)
<span class='lineno'> 411</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', title='None'>user_ids</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_send_to', title='(MailAdapter, ?, ?, None, None) -> None'>get_send_to</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', title='?'>target_type</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'> 412</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.info(
<span class='lineno'> 413</span>             &quot;mail.adapter.notify_digest&quot;,
<span class='lineno'> 414</span>             extra={
<span class='lineno'> 415</span>                 &quot;project_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>.id,
<span class='lineno'> 416</span>                 &quot;target_type&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', title='?'>target_type</a>.value,
<span class='lineno'> 417</span>                 &quot;target_identifier&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', title='None'>target_identifier</a>,
<span class='lineno'> 418</span>                 &quot;user_ids&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', title='None'>user_ids</a>,
<span class='lineno'> 419</span>             },
<span class='lineno'> 420</span>         )
<span class='lineno'> 421</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', title='?'>user_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a> in get_personalized_digests(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', title='?'>target_type</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>.id, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_ids', title='None'>user_ids</a>):
<span class='lineno'> 422</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', title='?'>start</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.end', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.end', title='?'>end</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a> = get_digest_metadata(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a>)
<span class='lineno'> 423</span> 
<span class='lineno'> 424</span>             # If there is only one group in this digest (regardless of how many
<span class='lineno'> 425</span>             # rules it appears in), we should just render this using the single
<span class='lineno'> 426</span>             # notification template. If there is more than one record for a group,
<span class='lineno'> 427</span>             # just choose the most recent one.
<span class='lineno'> 428</span>             if len(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a>) == 1:
<span class='lineno'> 429</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', title='?'>group</a> = six.next(iter(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a>))
<span class='lineno'> 430</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', title='int'>record</a> = max(
<span class='lineno'> 431</span>                     itertools.chain.from_iterable(
<span class='lineno'> 432</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', title='?'>groups</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', title='?'>group</a>, []) for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.groups', title='?'>groups</a></a> in six.itervalues(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a>)
<span class='lineno'> 433</span>                     ),
<span class='lineno'> 434</span>                     key=lambda <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.lambda%142.record', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.lambda%142.record', title='?'>record</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.lambda%142.record', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.lambda%142.record', title='?'>record</a>.timestamp,
<span class='lineno'> 435</span>                 )
<span class='lineno'> 436</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.notification', title='?'>notification</a> = Notification(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', title='int'>record</a>.value.event, rules=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.record', title='int'>record</a>.value.rules)
<span class='lineno'> 437</span>                 return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify', title='(MailAdapter, ?, ?, None) -> ?'>notify</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.notification', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.notification', title='?'>notification</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_type', title='?'>target_type</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.target_identifier', title='None'>target_identifier</a>)
<span class='lineno'> 438</span> 
<span class='lineno'> 439</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', title='dict'>context</a> = {
<span class='lineno'> 440</span>                 &quot;start&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', title='?'>start</a>,
<span class='lineno'> 441</span>                 &quot;end&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.end', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.end', title='?'>end</a>,
<span class='lineno'> 442</span>                 &quot;project&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>,
<span class='lineno'> 443</span>                 &quot;digest&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.digest', title='?'>digest</a>,
<span class='lineno'> 444</span>                 &quot;counts&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a>,
<span class='lineno'> 445</span>             }
<span class='lineno'> 446</span> 
<span class='lineno'> 447</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.headers', title='dict'>headers</a> = {&quot;X-Sentry-Project&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>.slug}
<span class='lineno'> 448</span> 
<span class='lineno'> 449</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', title='?'>group</a> = six.next(iter(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a>))
<span class='lineno'> 450</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.subject', title='str'>subject</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.get_digest_subject', title='(MailAdapter, ?, ?, ?) -> str'>get_digest_subject</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.group', title='?'>group</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.counts', title='?'>counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.start', title='?'>start</a>)
<span class='lineno'> 451</span> 
<span class='lineno'> 452</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.add_unsubscribe_link', title='(MailAdapter, ?, ?, ?, ?) -> None / (MailAdapter, dict, ?, ?, str) -> None'>add_unsubscribe_link</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', title='dict'>context</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', title='?'>user_id</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>, &quot;alert_digest&quot;)
<span class='lineno'> 453</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._send_mail', title='MailAdapter -> None'>_send_mail</a>(
<span class='lineno'> 454</span>                 subject=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.subject', title='str'>subject</a>,
<span class='lineno'> 455</span>                 template=&quot;sentry/emails/digests/body.txt&quot;,
<span class='lineno'> 456</span>                 html_template=&quot;sentry/emails/digests/body.html&quot;,
<span class='lineno'> 457</span>                 project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>,
<span class='lineno'> 458</span>                 reference=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.project', title='?'>project</a>,
<span class='lineno'> 459</span>                 headers=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.headers', title='dict'>headers</a>,
<span class='lineno'> 460</span>                 type=&quot;notify.digest&quot;,
<span class='lineno'> 461</span>                 context=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.context', title='dict'>context</a>,
<span class='lineno'> 462</span>                 send_to=[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_digest.user_id', title='?'>user_id</a>],
<span class='lineno'> 463</span>             )
<span class='lineno'> 464</span> 
<span class='lineno'> 465</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity', title='(MailAdapter, ?) -> None'>notify_about_activity</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', title='?'>activity</a>):
<span class='lineno'> 466</span>         metrics.incr(&quot;mail_adapter.notify_about_activity&quot;)
<span class='lineno'> 467</span>         # TODO: We should move these into the `mail` module.
<span class='lineno'> 468</span>         from sentry.mail.activity import emails
<span class='lineno'> 469</span> 
<span class='lineno'> 470</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', title='?'>email_cls</a> = emails.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', title='?'>activity</a>.type)
<span class='lineno'> 471</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', title='?'>email_cls</a>:
<span class='lineno'> 472</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.logger', title='?'>logger</a>.debug(
<span class='lineno'> 473</span>                 u&quot;No email associated with activity type `{}`&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', title='?'>activity</a>.get_type_display())
<span class='lineno'> 474</span>             )
<span class='lineno'> 475</span>             return
<span class='lineno'> 476</span> 
<span class='lineno'> 477</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email', title='?'>email</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email_cls', title='?'>email_cls</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.activity', title='?'>activity</a>)
<span class='lineno'> 478</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.notify_about_activity.email', title='?'>email</a>.send()
<span class='lineno'> 479</span> 
<span class='lineno'> 480</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report', title='(MailAdapter, ?, ?) -> None'>handle_user_report</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>, **kwargs):
<span class='lineno'> 481</span>         metrics.incr(&quot;mail_adapter.handle_user_report&quot;)
<span class='lineno'> 482</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a> = Group.objects.get(id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>[&quot;report&quot;][&quot;issue&quot;][&quot;id&quot;])
<span class='lineno'> 483</span> 
<span class='lineno'> 484</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', title='?'>participants</a> = GroupSubscription.objects.get_participants(group=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>)
<span class='lineno'> 485</span> 
<span class='lineno'> 486</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', title='?'>participants</a>:
<span class='lineno'> 487</span>             return
<span class='lineno'> 488</span> 
<span class='lineno'> 489</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.org', title='?'>org</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>.organization
<span class='lineno'> 490</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.enhanced_privacy', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.enhanced_privacy', title='?'>enhanced_privacy</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.org', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.org', title='?'>org</a>.flags.enhanced_privacy
<span class='lineno'> 491</span> 
<span class='lineno'> 492</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', title='dict'>context</a> = {
<span class='lineno'> 493</span>             &quot;project&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>,
<span class='lineno'> 494</span>             &quot;project_link&quot;: absolute_uri(
<span class='lineno'> 495</span>                 u&quot;/{}/{}/&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.organization.slug, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.slug)
<span class='lineno'> 496</span>             ),
<span class='lineno'> 497</span>             &quot;issue_link&quot;: absolute_uri(
<span class='lineno'> 498</span>                 u&quot;/{}/{}/issues/{}/&quot;.format(
<span class='lineno'> 499</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.organization.slug, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.slug, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>[&quot;report&quot;][&quot;issue&quot;][&quot;id&quot;]
<span class='lineno'> 500</span>                 )
<span class='lineno'> 501</span>             ),
<span class='lineno'> 502</span>             # TODO(dcramer): we dont have permalinks to feedback yet
<span class='lineno'> 503</span>             &quot;link&quot;: absolute_uri(
<span class='lineno'> 504</span>                 u&quot;/{}/{}/issues/{}/feedback/&quot;.format(
<span class='lineno'> 505</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.organization.slug, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.slug, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>[&quot;report&quot;][&quot;issue&quot;][&quot;id&quot;]
<span class='lineno'> 506</span>                 )
<span class='lineno'> 507</span>             ),
<span class='lineno'> 508</span>             &quot;group&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>,
<span class='lineno'> 509</span>             &quot;report&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>[&quot;report&quot;],
<span class='lineno'> 510</span>             &quot;enhanced_privacy&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.enhanced_privacy', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.enhanced_privacy', title='?'>enhanced_privacy</a>,
<span class='lineno'> 511</span>         }
<span class='lineno'> 512</span> 
<span class='lineno'> 513</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject_prefix', title='None'>subject_prefix</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter._build_subject_prefix', title='(MailAdapter, ?) -> None'>_build_subject_prefix</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>)
<span class='lineno'> 514</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject', title='?'>subject</a> = force_text(
<span class='lineno'> 515</span>             u&quot;{}{} - New Feedback from {}&quot;.format(
<span class='lineno'> 516</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject_prefix', title='None'>subject_prefix</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>.qualified_short_id, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.payload', title='?'>payload</a>[&quot;report&quot;][&quot;name&quot;]
<span class='lineno'> 517</span>             )
<span class='lineno'> 518</span>         )
<span class='lineno'> 519</span> 
<span class='lineno'> 520</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.headers', title='dict'>headers</a> = {&quot;X-Sentry-Project&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>.slug}
<span class='lineno'> 521</span> 
<span class='lineno'> 522</span>         # TODO(dcramer): this is copypasta&#39;d from activity notifications
<span class='lineno'> 523</span>         # and while it&#39;d be nice to re-use all of that, they are currently
<span class='lineno'> 524</span>         # coupled to &lt;Activity&gt; instances which makes this tough
<span class='lineno'> 525</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', title='?'>user</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.reason', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.reason', title='?'>reason</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.participants', title='?'>participants</a>.items():
<span class='lineno'> 526</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', title='dict'>context</a>.update(
<span class='lineno'> 527</span>                 {
<span class='lineno'> 528</span>                     &quot;reason&quot;: GroupSubscriptionReason.descriptions.get(
<span class='lineno'> 529</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.reason', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.reason', title='?'>reason</a>, &quot;are subscribed to this issue&quot;
<span class='lineno'> 530</span>                     ),
<span class='lineno'> 531</span>                     &quot;unsubscribe_link&quot;: generate_signed_link(
<span class='lineno'> 532</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', title='?'>user</a>.id,
<span class='lineno'> 533</span>                         &quot;sentry-account-email-unsubscribe-issue&quot;,
<span class='lineno'> 534</span>                         kwargs={&quot;issue_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>.id},
<span class='lineno'> 535</span>                     ),
<span class='lineno'> 536</span>                 }
<span class='lineno'> 537</span>             )
<span class='lineno'> 538</span> 
<span class='lineno'> 539</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', title='?'>msg</a> = MessageBuilder(
<span class='lineno'> 540</span>                 subject=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.subject', title='?'>subject</a>,
<span class='lineno'> 541</span>                 template=&quot;sentry/emails/activity/new-user-feedback.txt&quot;,
<span class='lineno'> 542</span>                 html_template=&quot;sentry/emails/activity/new-user-feedback.html&quot;,
<span class='lineno'> 543</span>                 headers=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.headers', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.headers', title='dict'>headers</a>,
<span class='lineno'> 544</span>                 type=&quot;notify.user-report&quot;,
<span class='lineno'> 545</span>                 context=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.context', title='dict'>context</a>,
<span class='lineno'> 546</span>                 reference=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.group', title='?'>group</a>,
<span class='lineno'> 547</span>             )
<span class='lineno'> 548</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', title='?'>msg</a>.add_users([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.user', title='?'>user</a>.id], project=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.project', title='?'>project</a>)
<span class='lineno'> 549</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report.msg', title='?'>msg</a>.send_async()
<span class='lineno'> 550</span> 
<span class='lineno'> 551</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal', title='(MailAdapter, ?, ?) -> None'>handle_signal</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.self', title='MailAdapter'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.name', title='?'>name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.payload', title='?'>payload</a>, **kwargs):
<span class='lineno'> 552</span>         metrics.incr(&quot;mail_adapter.handle_signal&quot;)
<span class='lineno'> 553</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.name', title='?'>name</a> == &quot;user-reports.created&quot;:
<span class='lineno'> 554</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.self', title='MailAdapter'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_user_report', title='(MailAdapter, ?, ?) -> None'>handle_user_report</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.payload', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.mail.adapter.MailAdapter.handle_signal.payload', title='?'>payload</a>, **kwargs)
</pre></td></tr></table></body></html>