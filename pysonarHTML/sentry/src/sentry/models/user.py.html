<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/sentry/src/sentry/models/user.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger'>audit_logger</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager'>UserManager</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams'>get_from_teams</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects'>get_from_projects</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User'>User</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__core__', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__core__'>__core__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id'>id</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username'>username</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name'>name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email'>email</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_staff', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_staff'>is_staff</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_active', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_active'>is_active</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser'>is_superuser</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_managed', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_managed'>is_managed</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_sentry_app', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_sentry_app'>is_sentry_app</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired'>is_password_expired</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change'>last_password_change</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.flags', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.flags'>flags</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce'>session_nonce</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.date_joined', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.date_joined'>date_joined</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_active', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_active'>last_active</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects'>objects</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.USERNAME_FIELD', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.USERNAME_FIELD'>USERNAME_FIELD</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.REQUIRED_FIELDS', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.REQUIRED_FIELDS'>REQUIRED_FIELDS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta'>Meta</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.app_label', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.app_label'>app_label</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.db_table', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.db_table'>db_table</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name'>verbose_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name_plural', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name_plural'>verbose_name_plural</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__repr__', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__repr__'>__repr__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete'>delete</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save'>save</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm'>has_perm</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms'>has_module_perms</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails'>get_unverified_emails</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails'>get_verified_emails</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails'>has_unverified_emails</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label'>get_label</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name'>get_display_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name'>get_full_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name'>get_short_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name'>get_salutation_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type'>get_avatar_type</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular'>send_confirm_email_singular</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails'>send_confirm_emails</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to'>merge_to</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password'>set_password</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce'>refresh_session_nonce</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs'>get_orgs</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa'>get_orgs_require_2fa</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords'>clear_lost_passwords</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce', xid='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce'>refresh_user_nonce</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> from __future__ import absolute_import
<span class='lineno'>   2</span> 
<span class='lineno'>   3</span> import logging
<span class='lineno'>   4</span> import warnings
<span class='lineno'>   5</span> 
<span class='lineno'>   6</span> from bitfield import BitField
<span class='lineno'>   7</span> from django.contrib.auth.signals import user_logged_out
<span class='lineno'>   8</span> from django.contrib.auth.models import AbstractBaseUser, UserManager
<span class='lineno'>   9</span> from django.core.urlresolvers import reverse
<span class='lineno'>  10</span> from django.dispatch import receiver
<span class='lineno'>  11</span> from django.db import IntegrityError, models, transaction
<span class='lineno'>  12</span> from django.utils import timezone
<span class='lineno'>  13</span> from django.utils.translation import ugettext_lazy as _
<span class='lineno'>  14</span> 
<span class='lineno'>  15</span> from sentry.db.models import BaseManager, BaseModel, BoundedAutoField, sane_repr
<span class='lineno'>  16</span> from sentry.models import LostPasswordHash
<span class='lineno'>  17</span> from sentry.utils.http import absolute_uri
<span class='lineno'>  18</span> 
<span class='lineno'>  19</span> <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger', title='?'>audit_logger</a> = logging.getLogger(&quot;sentry.audit.user&quot;)
<span class='lineno'>  20</span> 
<span class='lineno'>  21</span> 
<span class='lineno'>  22</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager', title='<UserManager>'>UserManager</a>(BaseManager, UserManager):
<span class='lineno'>  23</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams', title='(UserManager, ?, ?) -> ?'>get_from_teams</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.self', title='UserManager'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.organization_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.organization_id', title='?'>organization_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.teams', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.teams', title='?'>teams</a>):
<span class='lineno'>  24</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', title='UserManager'>objects</a>.filter(
<span class='lineno'>  25</span>             sentry_orgmember_set__organization_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.organization_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.organization_id', title='?'>organization_id</a>,
<span class='lineno'>  26</span>             sentry_orgmember_set__organizationmemberteam__team__in=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.teams', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_teams.teams', title='?'>teams</a>,
<span class='lineno'>  27</span>             sentry_orgmember_set__organizationmemberteam__is_active=True,
<span class='lineno'>  28</span>             is_active=True,
<span class='lineno'>  29</span>         )
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects', title='(UserManager, ?, ?) -> None'>get_from_projects</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.self', title='UserManager'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.organization_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.organization_id', title='?'>organization_id</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.projects', title='?'>projects</a>):
<span class='lineno'>  32</span>         &quot;&quot;&quot;
<span class='lineno'>  33</span>         Returns users associated with a project based on their teams.
<span class='lineno'>  34</span>         &quot;&quot;&quot;
<span class='lineno'>  35</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', title='UserManager'>objects</a>.filter(
<span class='lineno'>  36</span>             sentry_orgmember_set__organization_id=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.organization_id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.organization_id', title='?'>organization_id</a>,
<span class='lineno'>  37</span>             sentry_orgmember_set__organizationmemberteam__team__projectteam__project__in=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.projects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager.get_from_projects.projects', title='?'>projects</a>,
<span class='lineno'>  38</span>             sentry_orgmember_set__organizationmemberteam__is_active=True,
<span class='lineno'>  39</span>             is_active=True,
<span class='lineno'>  40</span>         )
<span class='lineno'>  41</span> 
<span class='lineno'>  42</span> 
<span class='lineno'>  43</span> class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>(BaseModel, AbstractBaseUser):
<span class='lineno'>  44</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__core__', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__core__', title='bool'>__core__</a> = True
<span class='lineno'>  45</span> 
<span class='lineno'>  46</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', title='?'>id</a> = BoundedAutoField(primary_key=True)
<span class='lineno'>  47</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a> = models.CharField(_(&quot;username&quot;), max_length=128, unique=True)
<span class='lineno'>  48</span>     # this column is called first_name for legacy reasons, but it is the entire
<span class='lineno'>  49</span>     # display name
<span class='lineno'>  50</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', title='?'>name</a> = models.CharField(_(&quot;name&quot;), max_length=200, blank=True, db_column=&quot;first_name&quot;)
<span class='lineno'>  51</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', title='?'>email</a> = models.EmailField(_(&quot;email address&quot;), blank=True, max_length=75)
<span class='lineno'>  52</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_staff', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_staff', title='?'>is_staff</a> = models.BooleanField(
<span class='lineno'>  53</span>         _(&quot;staff status&quot;),
<span class='lineno'>  54</span>         default=False,
<span class='lineno'>  55</span>         help_text=_(&quot;Designates whether the user can log into this admin &quot; &quot;site.&quot;),
<span class='lineno'>  56</span>     )
<span class='lineno'>  57</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_active', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_active', title='?'>is_active</a> = models.BooleanField(
<span class='lineno'>  58</span>         _(&quot;active&quot;),
<span class='lineno'>  59</span>         default=True,
<span class='lineno'>  60</span>         help_text=_(
<span class='lineno'>  61</span>             &quot;Designates whether this user should be treated as &quot;
<span class='lineno'>  62</span>             &quot;active. Unselect this instead of deleting accounts.&quot;
<span class='lineno'>  63</span>         ),
<span class='lineno'>  64</span>     )
<span class='lineno'>  65</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', title='?'>is_superuser</a> = models.BooleanField(
<span class='lineno'>  66</span>         _(&quot;superuser status&quot;),
<span class='lineno'>  67</span>         default=False,
<span class='lineno'>  68</span>         help_text=_(
<span class='lineno'>  69</span>             &quot;Designates that this user has all permissions without &quot; &quot;explicitly assigning them.&quot;
<span class='lineno'>  70</span>         ),
<span class='lineno'>  71</span>     )
<span class='lineno'>  72</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_managed', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_managed', title='?'>is_managed</a> = models.BooleanField(
<span class='lineno'>  73</span>         _(&quot;managed&quot;),
<span class='lineno'>  74</span>         default=False,
<span class='lineno'>  75</span>         help_text=_(
<span class='lineno'>  76</span>             &quot;Designates whether this user should be treated as &quot;
<span class='lineno'>  77</span>             &quot;managed. Select this to disallow the user from &quot;
<span class='lineno'>  78</span>             &quot;modifying their account (username, password, etc).&quot;
<span class='lineno'>  79</span>         ),
<span class='lineno'>  80</span>     )
<span class='lineno'>  81</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_sentry_app', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_sentry_app', title='?'>is_sentry_app</a> = models.NullBooleanField(
<span class='lineno'>  82</span>         _(&quot;is sentry app&quot;),
<span class='lineno'>  83</span>         null=True,
<span class='lineno'>  84</span>         default=None,
<span class='lineno'>  85</span>         help_text=_(
<span class='lineno'>  86</span>             &quot;Designates whether this user is the entity used for Permissions&quot;
<span class='lineno'>  87</span>             &quot;on behalf of a Sentry App. Cannot login or use Sentry like a&quot;
<span class='lineno'>  88</span>             &quot;normal User would.&quot;
<span class='lineno'>  89</span>         ),
<span class='lineno'>  90</span>     )
<span class='lineno'>  91</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired', title='bool'>is_password_expired</a> = models.BooleanField(
<span class='lineno'>  92</span>         _(&quot;password expired&quot;),
<span class='lineno'>  93</span>         default=False,
<span class='lineno'>  94</span>         help_text=_(
<span class='lineno'>  95</span>             &quot;If set to true then the user needs to change the &quot; &quot;password on next sign in.&quot;
<span class='lineno'>  96</span>         ),
<span class='lineno'>  97</span>     )
<span class='lineno'>  98</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change', title='?'>last_password_change</a> = models.DateTimeField(
<span class='lineno'>  99</span>         _(&quot;date of last password change&quot;),
<span class='lineno'> 100</span>         null=True,
<span class='lineno'> 101</span>         help_text=_(&quot;The date the password was changed last.&quot;),
<span class='lineno'> 102</span>     )
<span class='lineno'> 103</span> 
<span class='lineno'> 104</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.flags', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.flags', title='?'>flags</a> = BitField(
<span class='lineno'> 105</span>         flags=(
<span class='lineno'> 106</span>             (&quot;newsletter_consent_prompt&quot;, &quot;Do we need to ask this user for newsletter consent?&quot;),
<span class='lineno'> 107</span>         ),
<span class='lineno'> 108</span>         default=0,
<span class='lineno'> 109</span>         null=True,
<span class='lineno'> 110</span>     )
<span class='lineno'> 111</span> 
<span class='lineno'> 112</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', title='?'>session_nonce</a> = models.CharField(max_length=12, null=True)
<span class='lineno'> 113</span> 
<span class='lineno'> 114</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.date_joined', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.date_joined', title='?'>date_joined</a> = models.DateTimeField(_(&quot;date joined&quot;), default=timezone.now)
<span class='lineno'> 115</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_active', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_active', title='?'>last_active</a> = models.DateTimeField(_(&quot;last active&quot;), default=timezone.now, null=True)
<span class='lineno'> 116</span> 
<span class='lineno'> 117</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.objects', title='UserManager'>objects</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.UserManager', title='<UserManager>'>UserManager</a>(cache_fields=[&quot;pk&quot;])
<span class='lineno'> 118</span> 
<span class='lineno'> 119</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.USERNAME_FIELD', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.USERNAME_FIELD', title='str'>USERNAME_FIELD</a> = &quot;username&quot;
<span class='lineno'> 120</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.REQUIRED_FIELDS', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.REQUIRED_FIELDS', title='[str]'>REQUIRED_FIELDS</a> = [&quot;email&quot;]
<span class='lineno'> 121</span> 
<span class='lineno'> 122</span>     class <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta', title='<Meta>'>Meta</a>:
<span class='lineno'> 123</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.app_label', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.app_label', title='str'>app_label</a> = &quot;sentry&quot;
<span class='lineno'> 124</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.db_table', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.db_table', title='str'>db_table</a> = &quot;auth_user&quot;
<span class='lineno'> 125</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name', title='?'>verbose_name</a> = _(&quot;user&quot;)
<span class='lineno'> 126</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name_plural', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.Meta.verbose_name_plural', title='?'>verbose_name_plural</a> = _(&quot;users&quot;)
<span class='lineno'> 127</span> 
<span class='lineno'> 128</span>     <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__repr__', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.__repr__', title='?'>__repr__</a> = sane_repr(&quot;id&quot;)
<span class='lineno'> 129</span> 
<span class='lineno'> 130</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete', title='User -> None'>delete</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', title='User'>self</a>):
<span class='lineno'> 131</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a> == &quot;sentry&quot;:
<span class='lineno'> 132</span>             raise Exception(&#39;You cannot delete the &quot;sentry&quot; user as it is required by Sentry.&#39;)
<span class='lineno'> 133</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', title='?'>avatar</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', title='User'>self</a>.avatar.first()
<span class='lineno'> 134</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', title='?'>avatar</a>:
<span class='lineno'> 135</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.avatar', title='?'>avatar</a>.delete()
<span class='lineno'> 136</span>         return super(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.delete.self', title='User'>self</a>).delete()
<span class='lineno'> 137</span> 
<span class='lineno'> 138</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save', title='User -> None'>save</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', title='User'>self</a>, *args, **kwargs):
<span class='lineno'> 139</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a>:
<span class='lineno'> 140</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', title='?'>email</a>
<span class='lineno'> 141</span>         return super(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.save.self', title='User'>self</a>).save(*args, **kwargs)
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm', title='(User, ?) -> None'>has_perm</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.perm_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.perm_name', title='?'>perm_name</a>):
<span class='lineno'> 144</span>         warnings.warn(&quot;User.has_perm is deprecated&quot;, DeprecationWarning)
<span class='lineno'> 145</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_perm.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', title='?'>is_superuser</a>
<span class='lineno'> 146</span> 
<span class='lineno'> 147</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms', title='(User, ?) -> None'>has_module_perms</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.app_label', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.app_label', title='?'>app_label</a>):
<span class='lineno'> 148</span>         warnings.warn(&quot;User.has_module_perms is deprecated&quot;, DeprecationWarning)
<span class='lineno'> 149</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_module_perms.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_superuser', title='?'>is_superuser</a>
<span class='lineno'> 150</span> 
<span class='lineno'> 151</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', title='User -> ?'>get_unverified_emails</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails.self', title='User'>self</a>):
<span class='lineno'> 152</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails.self', title='User'>self</a>.emails.filter(is_verified=False)
<span class='lineno'> 153</span> 
<span class='lineno'> 154</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails', title='User -> ?'>get_verified_emails</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails.self', title='User'>self</a>):
<span class='lineno'> 155</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_verified_emails.self', title='User'>self</a>.emails.filter(is_verified=True)
<span class='lineno'> 156</span> 
<span class='lineno'> 157</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails', title='User -> ?'>has_unverified_emails</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails.self', title='User'>self</a>):
<span class='lineno'> 158</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.has_unverified_emails.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', title='User -> ?'>get_unverified_emails</a>().exists()
<span class='lineno'> 159</span> 
<span class='lineno'> 160</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label', title='User -> ?'>get_label</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', title='User'>self</a>):
<span class='lineno'> 161</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', title='?'>email</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_label.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', title='?'>id</a>
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name', title='User -> ?'>get_display_name</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', title='User'>self</a>):
<span class='lineno'> 164</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', title='?'>name</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.email', title='?'>email</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_display_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a>
<span class='lineno'> 165</span> 
<span class='lineno'> 166</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name', title='User -> ?'>get_full_name</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name.self', title='User'>self</a>):
<span class='lineno'> 167</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_full_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', title='?'>name</a>
<span class='lineno'> 168</span> 
<span class='lineno'> 169</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name', title='User -> ?'>get_short_name</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name.self', title='User'>self</a>):
<span class='lineno'> 170</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_short_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a>
<span class='lineno'> 171</span> 
<span class='lineno'> 172</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name', title='User -> None'>get_salutation_name</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', title='User'>self</a>):
<span class='lineno'> 173</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.name', title='?'>name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.name', title='?'>name</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.username', title='?'>username</a>.split(&quot;@&quot;, 1)[0].split(&quot;.&quot;, 1)[0]
<span class='lineno'> 174</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.first_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.first_name', title='?'>first_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.name', title='?'>name</a>.split(&quot; &quot;, 1)[0]
<span class='lineno'> 175</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.first_name', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_salutation_name.first_name', title='?'>first_name</a>.capitalize()
<span class='lineno'> 176</span> 
<span class='lineno'> 177</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type', title='User -> str'>get_avatar_type</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.self', title='User'>self</a>):
<span class='lineno'> 178</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', title='?'>avatar</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.self', title='User'>self</a>.avatar.first()
<span class='lineno'> 179</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', title='?'>avatar</a>:
<span class='lineno'> 180</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_avatar_type.avatar', title='?'>avatar</a>.get_avatar_type_display()
<span class='lineno'> 181</span>         return &quot;letter_avatar&quot;
<span class='lineno'> 182</span> 
<span class='lineno'> 183</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular', title='(User, ?, bool) -> None'>send_confirm_email_singular</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.is_new_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.is_new_user', title='bool'>is_new_user</a>=False):
<span class='lineno'> 184</span>         from sentry import options
<span class='lineno'> 185</span>         from sentry.utils.email import MessageBuilder
<span class='lineno'> 186</span> 
<span class='lineno'> 187</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.hash_is_valid():
<span class='lineno'> 188</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.set_hash()
<span class='lineno'> 189</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.save()
<span class='lineno'> 190</span> 
<span class='lineno'> 191</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.context', title='dict'>context</a> = {
<span class='lineno'> 192</span>             &quot;user&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', title='User'>self</a>,
<span class='lineno'> 193</span>             &quot;url&quot;: absolute_uri(
<span class='lineno'> 194</span>                 reverse(&quot;sentry-account-confirm-email&quot;, args=[<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', title='?'>id</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.validation_hash])
<span class='lineno'> 195</span>             ),
<span class='lineno'> 196</span>             &quot;confirm_email&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.email,
<span class='lineno'> 197</span>             &quot;is_new_user&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.is_new_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.is_new_user', title='bool'>is_new_user</a>,
<span class='lineno'> 198</span>         }
<span class='lineno'> 199</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.msg', title='?'>msg</a> = MessageBuilder(
<span class='lineno'> 200</span>             subject=&quot;%sConfirm Email&quot; % (options.get(&quot;mail.subject-prefix&quot;),),
<span class='lineno'> 201</span>             template=&quot;sentry/emails/confirm_email.txt&quot;,
<span class='lineno'> 202</span>             html_template=&quot;sentry/emails/confirm_email.html&quot;,
<span class='lineno'> 203</span>             type=&quot;user.confirm_email&quot;,
<span class='lineno'> 204</span>             context=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.context', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.context', title='dict'>context</a>,
<span class='lineno'> 205</span>         )
<span class='lineno'> 206</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.msg', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.msg', title='?'>msg</a>.send_async([<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular.email', title='?'>email</a>.email])
<span class='lineno'> 207</span> 
<span class='lineno'> 208</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails', title='(User, bool) -> None'>send_confirm_emails</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.is_new_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.is_new_user', title='bool'>is_new_user</a>=False):
<span class='lineno'> 209</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email_list', title='?'>email_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_unverified_emails', title='User -> ?'>get_unverified_emails</a>()
<span class='lineno'> 210</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email', title='?'>email</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email_list', title='?'>email_list</a>:
<span class='lineno'> 211</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_email_singular', title='(User, ?, bool) -> None'>send_confirm_email_singular</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.email', title='?'>email</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.is_new_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.send_confirm_emails.is_new_user', title='bool'>is_new_user</a>)
<span class='lineno'> 212</span> 
<span class='lineno'> 213</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to', title='(User, ?) -> ?'>merge_to</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>):
<span class='lineno'> 214</span>         # TODO: we could discover relations automatically and make this useful
<span class='lineno'> 215</span>         from sentry import roles
<span class='lineno'> 216</span>         from sentry.models import (
<span class='lineno'> 217</span>             Activity,
<span class='lineno'> 218</span>             AuditLogEntry,
<span class='lineno'> 219</span>             AuthIdentity,
<span class='lineno'> 220</span>             Authenticator,
<span class='lineno'> 221</span>             GroupAssignee,
<span class='lineno'> 222</span>             GroupBookmark,
<span class='lineno'> 223</span>             GroupSeen,
<span class='lineno'> 224</span>             GroupShare,
<span class='lineno'> 225</span>             GroupSubscription,
<span class='lineno'> 226</span>             Identity,
<span class='lineno'> 227</span>             OrganizationMember,
<span class='lineno'> 228</span>             OrganizationMemberTeam,
<span class='lineno'> 229</span>             UserAvatar,
<span class='lineno'> 230</span>             UserEmail,
<span class='lineno'> 231</span>             UserOption,
<span class='lineno'> 232</span>         )
<span class='lineno'> 233</span> 
<span class='lineno'> 234</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.audit_logger', title='?'>audit_logger</a>.info(
<span class='lineno'> 235</span>             &quot;user.merge&quot;, extra={&quot;from_user_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.id', title='?'>id</a>, &quot;to_user_id&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>.id}
<span class='lineno'> 236</span>         )
<span class='lineno'> 237</span> 
<span class='lineno'> 238</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a> in OrganizationMember.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>):
<span class='lineno'> 239</span>             try:
<span class='lineno'> 240</span>                 with transaction.atomic():
<span class='lineno'> 241</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.update(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 242</span>             except IntegrityError:
<span class='lineno'> 243</span>                 pass
<span class='lineno'> 244</span> 
<span class='lineno'> 245</span>             # identify the highest priority membership
<span class='lineno'> 246</span>             <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', title='?'>to_member</a> = OrganizationMember.objects.get(
<span class='lineno'> 247</span>                 organization=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.organization_id, user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>
<span class='lineno'> 248</span>             )
<span class='lineno'> 249</span>             if roles.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.role).priority &gt; roles.get(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', title='?'>to_member</a>.role).priority:
<span class='lineno'> 250</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', title='?'>to_member</a>.update(role=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.role)
<span class='lineno'> 251</span> 
<span class='lineno'> 252</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.team', title='?'>team</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.teams.all():
<span class='lineno'> 253</span>                 try:
<span class='lineno'> 254</span>                     with transaction.atomic():
<span class='lineno'> 255</span>                         OrganizationMemberTeam.objects.create(
<span class='lineno'> 256</span>                             organizationmember=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_member', title='?'>to_member</a>, team=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.team', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.team', title='?'>team</a>
<span class='lineno'> 257</span>                         )
<span class='lineno'> 258</span>                 except IntegrityError:
<span class='lineno'> 259</span>                     pass
<span class='lineno'> 260</span> 
<span class='lineno'> 261</span>         <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model_list', title='(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)'>model_list</a> = (
<span class='lineno'> 262</span>             Authenticator,
<span class='lineno'> 263</span>             GroupAssignee,
<span class='lineno'> 264</span>             GroupBookmark,
<span class='lineno'> 265</span>             GroupSeen,
<span class='lineno'> 266</span>             GroupShare,
<span class='lineno'> 267</span>             GroupSubscription,
<span class='lineno'> 268</span>             Identity,
<span class='lineno'> 269</span>             UserAvatar,
<span class='lineno'> 270</span>             UserEmail,
<span class='lineno'> 271</span>             UserOption,
<span class='lineno'> 272</span>         )
<span class='lineno'> 273</span> 
<span class='lineno'> 274</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model', title='?'>model</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model_list', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model_list', title='(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)'>model_list</a>:
<span class='lineno'> 275</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.model', title='?'>model</a>.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>):
<span class='lineno'> 276</span>                 try:
<span class='lineno'> 277</span>                     with transaction.atomic():
<span class='lineno'> 278</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.obj', title='?'>obj</a>.update(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 279</span>                 except IntegrityError:
<span class='lineno'> 280</span>                     pass
<span class='lineno'> 281</span> 
<span class='lineno'> 282</span>         Activity.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>).update(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 283</span>         AuditLogEntry.objects.filter(actor=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>).update(actor=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 284</span>         AuditLogEntry.objects.filter(target_user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>).update(target_user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 285</span> 
<span class='lineno'> 286</span>         # remove any duplicate identities that exist on the current user that
<span class='lineno'> 287</span>         # might conflict w/ the new users existing SSO
<span class='lineno'> 288</span>         AuthIdentity.objects.filter(
<span class='lineno'> 289</span>             user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>,
<span class='lineno'> 290</span>             auth_provider__organization__in=AuthIdentity.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>).values(
<span class='lineno'> 291</span>                 &quot;auth_provider__organization&quot;
<span class='lineno'> 292</span>             ),
<span class='lineno'> 293</span>         ).delete()
<span class='lineno'> 294</span>         AuthIdentity.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.from_user', title='User'>from_user</a>).update(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.merge_to.to_user', title='?'>to_user</a>)
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password', title='(User, ?) -> None'>set_password</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.raw_password', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.raw_password', title='?'>raw_password</a>):
<span class='lineno'> 297</span>         super(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', title='User'>self</a>).set_password(<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.raw_password', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.raw_password', title='?'>raw_password</a>)
<span class='lineno'> 298</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.last_password_change', title='?'>last_password_change</a> = timezone.now()
<span class='lineno'> 299</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.set_password.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.is_password_expired', title='bool'>is_password_expired</a> = False
<span class='lineno'> 300</span> 
<span class='lineno'> 301</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce', title='(User, None) -> None'>refresh_session_nonce</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', title='User'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', title='None'>request</a>=None):
<span class='lineno'> 302</span>         from django.utils.crypto import get_random_string
<span class='lineno'> 303</span> 
<span class='lineno'> 304</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', title='?'>session_nonce</a> = get_random_string(12)
<span class='lineno'> 305</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', title='None'>request</a> is not None:
<span class='lineno'> 306</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.request', title='None'>request</a>.session[&quot;_nonce&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.refresh_session_nonce.self', title='User'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.session_nonce', title='?'>session_nonce</a>
<span class='lineno'> 307</span> 
<span class='lineno'> 308</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs', title='User -> None'>get_orgs</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs.self', title='User'>self</a>):
<span class='lineno'> 309</span>         from sentry.models import Organization, OrganizationMember, OrganizationStatus
<span class='lineno'> 310</span> 
<span class='lineno'> 311</span>         return Organization.objects.filter(
<span class='lineno'> 312</span>             status=OrganizationStatus.VISIBLE,
<span class='lineno'> 313</span>             id__in=OrganizationMember.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs.self', title='User'>self</a>).values(&quot;organization&quot;),
<span class='lineno'> 314</span>         )
<span class='lineno'> 315</span> 
<span class='lineno'> 316</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa', title='User -> None'>get_orgs_require_2fa</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa.self', title='User'>self</a>):
<span class='lineno'> 317</span>         from sentry.models import Organization, OrganizationStatus
<span class='lineno'> 318</span> 
<span class='lineno'> 319</span>         return Organization.objects.filter(
<span class='lineno'> 320</span>             flags=models.F(&quot;flags&quot;).bitor(Organization.flags.require_2fa),
<span class='lineno'> 321</span>             status=OrganizationStatus.VISIBLE,
<span class='lineno'> 322</span>             member_set__user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.get_orgs_require_2fa.self', title='User'>self</a>,
<span class='lineno'> 323</span>         )
<span class='lineno'> 324</span> 
<span class='lineno'> 325</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords', title='User -> None'>clear_lost_passwords</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords.self', title='User'>self</a>):
<span class='lineno'> 326</span>         LostPasswordHash.objects.filter(user=<a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords.self', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User.clear_lost_passwords.self', title='User'>self</a>).delete()
<span class='lineno'> 327</span> 
<span class='lineno'> 328</span> 
<span class='lineno'> 329</span> # HACK(dcramer): last_login needs nullable for Django 1.8
<span class='lineno'> 330</span> <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.User', title='<User>'>User</a>._meta.get_field(&quot;last_login&quot;).null = True
<span class='lineno'> 331</span> 
<span class='lineno'> 332</span> # When a user logs out, we want to always log them out of all
<span class='lineno'> 333</span> # sessions and refresh their nonce.
<span class='lineno'> 334</span> @receiver(user_logged_out, sender=User)
<span class='lineno'> 335</span> def <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce', title='(?, ?, ?) -> None'>refresh_user_nonce</a>(<a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.sender', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.sender', title='?'>sender</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.request', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.request', title='?'>request</a>, <a name='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', title='?'>user</a>, **kwargs):
<span class='lineno'> 336</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', title='?'>user</a> is None:
<span class='lineno'> 337</span>         return
<span class='lineno'> 338</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', title='?'>user</a>.refresh_session_nonce()
<span class='lineno'> 339</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', xid ='.home.xxm.Desktop.EMSE.dataset.sentry.src.sentry.models.user.refresh_user_nonce.user', title='?'>user</a>.save()
</pre></td></tr></table></body></html>