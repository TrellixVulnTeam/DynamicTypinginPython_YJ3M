<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/requests/tests/test_testserver.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer'>TestTestServer</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic'>test_basic</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes'>test_server_closes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response'>test_text_response</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response'>test_basic_response</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server'>test_basic_waiting_server</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests'>test_multiple_requests</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery'>test_request_recovery</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received'>test_requests_after_timeout_are_not_received</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout'>test_request_recovery_with_bigger_timeout</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error'>test_server_finishes_on_error</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections', xid='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections'>test_server_finishes_when_no_connections</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> # -*- coding: utf-8 -*-
<span class='lineno'>   2</span> 
<span class='lineno'>   3</span> import threading
<span class='lineno'>   4</span> import socket
<span class='lineno'>   5</span> import time
<span class='lineno'>   6</span> 
<span class='lineno'>   7</span> import pytest
<span class='lineno'>   8</span> import <a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>
<span class='lineno'>   9</span> from <a href='__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests', title='tests'>tests</a>.<a href='testserver/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver', title='testserver'>testserver</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server', title='server'>server</a> import <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>
<span class='lineno'>  10</span> 
<span class='lineno'>  11</span> 
<span class='lineno'>  12</span> class <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer', title='<TestTestServer>'>TestTestServer</a>:
<span class='lineno'>  13</span> 
<span class='lineno'>  14</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic', title='TestTestServer -> None'>test_basic</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.self', title='TestTestServer'>self</a>):
<span class='lineno'>  15</span>         &quot;&quot;&quot;messages are sent and received properly&quot;&quot;&quot;
<span class='lineno'>  16</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', title='str'>question</a> = b&quot;success?&quot;
<span class='lineno'>  17</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', title='str'>answer</a> = b&quot;yeah, success&quot;
<span class='lineno'>  18</span> 
<span class='lineno'>  19</span>         def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler', title='? -> None'>handler</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', title='?'>sock</a>):
<span class='lineno'>  20</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.text', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.text', title='?'>text</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', title='?'>sock</a>.recv(1000)
<span class='lineno'>  21</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.text', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.text', title='?'>text</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', title='str'>question</a>
<span class='lineno'>  22</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler.sock', title='?'>sock</a>.sendall(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', title='str'>answer</a>)
<span class='lineno'>  23</span> 
<span class='lineno'>  24</span>         with <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.handler', title='? -> None'>handler</a>) as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.port', title='?'>port</a>):
<span class='lineno'>  25</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', title='?'>sock</a> = socket.socket()
<span class='lineno'>  26</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', title='?'>sock</a>.connect((<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.port', title='?'>port</a>))
<span class='lineno'>  27</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', title='?'>sock</a>.sendall(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.question', title='str'>question</a>)
<span class='lineno'>  28</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.text', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.text', title='?'>text</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', title='?'>sock</a>.recv(1000)
<span class='lineno'>  29</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.text', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.text', title='?'>text</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.answer', title='str'>answer</a>
<span class='lineno'>  30</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic.sock', title='?'>sock</a>.close()
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes', title='TestTestServer -> None'>test_server_closes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.self', title='TestTestServer'>self</a>):
<span class='lineno'>  33</span>         &quot;&quot;&quot;the server closes when leaving the context manager&quot;&quot;&quot;
<span class='lineno'>  34</span>         with <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>() as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', title='?'>port</a>):
<span class='lineno'>  35</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', title='?'>sock</a> = socket.socket()
<span class='lineno'>  36</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', title='?'>sock</a>.connect((<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', title='?'>port</a>))
<span class='lineno'>  37</span> 
<span class='lineno'>  38</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.sock', title='?'>sock</a>.close()
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span>         with pytest.raises(socket.error):
<span class='lineno'>  41</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.new_sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.new_sock', title='?'>new_sock</a> = socket.socket()
<span class='lineno'>  42</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.new_sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.new_sock', title='?'>new_sock</a>.connect((<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_closes.port', title='?'>port</a>))
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response', title='TestTestServer -> None'>test_text_response</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.self', title='TestTestServer'>self</a>):
<span class='lineno'>  45</span>         &quot;&quot;&quot;the text_response_server sends the given text&quot;&quot;&quot;
<span class='lineno'>  46</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.text_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.text_response_server', title='(<Server>, ?, float) -> Server / (<Server>, str, float) -> Server'>text_response_server</a>(
<span class='lineno'>  47</span>             &quot;HTTP/1.1 200 OK\r\n&quot; +
<span class='lineno'>  48</span>             &quot;Content-Length: 6\r\n&quot; +
<span class='lineno'>  49</span>             &quot;\r\nroflol&quot;
<span class='lineno'>  50</span>         )
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.server', title='Server'>server</a> as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.port', title='?'>port</a>):
<span class='lineno'>  53</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', title='None'>r</a> = <a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>.<a href='../requests/api.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', title='(?, None) -> None / (str, None) -> None'>get</a>(&#39;http://{}:{}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.port', title='?'>port</a>))
<span class='lineno'>  54</span> 
<span class='lineno'>  55</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', title='None'>r</a>.status_code == 200
<span class='lineno'>  56</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', title='None'>r</a>.text == u&#39;roflol&#39;
<span class='lineno'>  57</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_text_response.r', title='None'>r</a>.headers[&#39;Content-Length&#39;] == &#39;6&#39;
<span class='lineno'>  58</span> 
<span class='lineno'>  59</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response', title='TestTestServer -> None'>test_basic_response</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.self', title='TestTestServer'>self</a>):
<span class='lineno'>  60</span>         &quot;&quot;&quot;the basic response server returns an empty http response&quot;&quot;&quot;
<span class='lineno'>  61</span>         with <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>() as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.port', title='?'>port</a>):
<span class='lineno'>  62</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', title='None'>r</a> = <a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>.<a href='../requests/api.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', title='(?, None) -> None / (str, None) -> None'>get</a>(&#39;http://{}:{}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.port', title='?'>port</a>))
<span class='lineno'>  63</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', title='None'>r</a>.status_code == 200
<span class='lineno'>  64</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', title='None'>r</a>.text == u&#39;&#39;
<span class='lineno'>  65</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_response.r', title='None'>r</a>.headers[&#39;Content-Length&#39;] == &#39;0&#39;
<span class='lineno'>  66</span> 
<span class='lineno'>  67</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server', title='TestTestServer -> None'>test_basic_waiting_server</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.self', title='TestTestServer'>self</a>):
<span class='lineno'>  68</span>         &quot;&quot;&quot;the server waits for the block_server event to be set before closing&quot;&quot;&quot;
<span class='lineno'>  69</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', title='?'>block_server</a> = threading.Event()
<span class='lineno'>  70</span> 
<span class='lineno'>  71</span>         with <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>(wait_to_close_event=<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', title='?'>block_server</a>) as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.port', title='?'>port</a>):
<span class='lineno'>  72</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', title='?'>sock</a> = socket.socket()
<span class='lineno'>  73</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', title='?'>sock</a>.connect((<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.port', title='?'>port</a>))
<span class='lineno'>  74</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', title='?'>sock</a>.sendall(b&#39;send something&#39;)
<span class='lineno'>  75</span>             time.sleep(2.5)
<span class='lineno'>  76</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.sock', title='?'>sock</a>.sendall(b&#39;still alive&#39;)
<span class='lineno'>  77</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_basic_waiting_server.block_server', title='?'>block_server</a>.set()  # release server block
<span class='lineno'>  78</span> 
<span class='lineno'>  79</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests', title='TestTestServer -> None'>test_multiple_requests</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.self', title='TestTestServer'>self</a>):
<span class='lineno'>  80</span>         &quot;&quot;&quot;multiple requests can be served&quot;&quot;&quot;
<span class='lineno'>  81</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', title='int'>requests_to_handle</a> = 5
<span class='lineno'>  82</span> 
<span class='lineno'>  83</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>(requests_to_handle=<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', title='int'>requests_to_handle</a>)
<span class='lineno'>  84</span> 
<span class='lineno'>  85</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server', title='Server'>server</a> as (<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.host', title='?'>host</a>, <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.port', title='?'>port</a>):
<span class='lineno'>  86</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', title='str'>server_url</a> = &#39;http://{}:{}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.host', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.host', title='?'>host</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.port', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.port', title='?'>port</a>)
<span class='lineno'>  87</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests._', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests._', title='int'>_</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.requests_to_handle', title='int'>requests_to_handle</a>):
<span class='lineno'>  88</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', title='None'>r</a> = <a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>.<a href='../requests/api.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', title='(?, None) -> None / (str, None) -> None'>get</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', title='str'>server_url</a>)
<span class='lineno'>  89</span>                 assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', title='None'>r</a>.<a href='test_requests.py.html#None.status_code', xid ='None.status_code', title='int'>status_code</a> == 200
<span class='lineno'>  90</span> 
<span class='lineno'>  91</span>             # the (n+1)th request fails
<span class='lineno'>  92</span>             with pytest.raises(<a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>.<a href='../requests/exceptions.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.exceptions', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.exceptions', title='exceptions'>exceptions</a>.<a href='../requests/exceptions.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.exceptions.ConnectionError', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.exceptions.ConnectionError', title='<ConnectionError>'>ConnectionError</a>):
<span class='lineno'>  93</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.r', title='None'>r</a> = <a href='../requests/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests', title='requests'>requests</a>.<a href='../requests/api.py.html#.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', xid ='.home.xxm.Desktop.EMSE.dataset.requests.requests.api.get', title='(?, None) -> None / (str, None) -> None'>get</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_multiple_requests.server_url', title='str'>server_url</a>)
<span class='lineno'>  94</span> 
<span class='lineno'>  95</span>     @pytest.mark.skip(reason=&quot;this fails non-deterministically under pytest-xdist&quot;)
<span class='lineno'>  96</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery', title='TestTestServer -> None'>test_request_recovery</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.self', title='TestTestServer'>self</a>):
<span class='lineno'>  97</span>         &quot;&quot;&quot;can check the requests content&quot;&quot;&quot;
<span class='lineno'>  98</span>         # TODO: figure out why this sometimes fails when using pytest-xdist.
<span class='lineno'>  99</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>(requests_to_handle=2)
<span class='lineno'> 100</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', title='str'>first_request</a> = b&#39;put your hands up in the air&#39;
<span class='lineno'> 101</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', title='str'>second_request</a> = b&#39;put your hand down in the floor&#39;
<span class='lineno'> 102</span> 
<span class='lineno'> 103</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', title='Server'>server</a> as <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', title='Server'>address</a>:
<span class='lineno'> 104</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', title='?'>sock1</a> = socket.socket()
<span class='lineno'> 105</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', title='?'>sock2</a> = socket.socket()
<span class='lineno'> 106</span> 
<span class='lineno'> 107</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', title='?'>sock1</a>.connect(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', title='Server'>address</a>)
<span class='lineno'> 108</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', title='?'>sock1</a>.sendall(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', title='str'>first_request</a>)
<span class='lineno'> 109</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock1', title='?'>sock1</a>.close()
<span class='lineno'> 110</span> 
<span class='lineno'> 111</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', title='?'>sock2</a>.connect(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.address', title='Server'>address</a>)
<span class='lineno'> 112</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', title='?'>sock2</a>.sendall(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', title='str'>second_request</a>)
<span class='lineno'> 113</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.sock2', title='?'>sock2</a>.close()
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>[0] == <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.first_request', title='str'>first_request</a>
<span class='lineno'> 116</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>[1] == <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery.second_request', title='str'>second_request</a>
<span class='lineno'> 117</span> 
<span class='lineno'> 118</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received', title='TestTestServer -> None'>test_requests_after_timeout_are_not_received</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.self', title='TestTestServer'>self</a>):
<span class='lineno'> 119</span>         &quot;&quot;&quot;the basic response handler times out when receiving requests&quot;&quot;&quot;
<span class='lineno'> 120</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>(request_timeout=1)
<span class='lineno'> 121</span> 
<span class='lineno'> 122</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', title='Server'>server</a> as <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.address', title='Server'>address</a>:
<span class='lineno'> 123</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', title='?'>sock</a> = socket.socket()
<span class='lineno'> 124</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', title='?'>sock</a>.connect(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.address', title='Server'>address</a>)
<span class='lineno'> 125</span>             time.sleep(1.5)
<span class='lineno'> 126</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', title='?'>sock</a>.sendall(b&#39;hehehe, not received&#39;)
<span class='lineno'> 127</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.sock', title='?'>sock</a>.close()
<span class='lineno'> 128</span> 
<span class='lineno'> 129</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_requests_after_timeout_are_not_received.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>[0] == b&#39;&#39;
<span class='lineno'> 130</span> 
<span class='lineno'> 131</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout', title='TestTestServer -> None'>test_request_recovery_with_bigger_timeout</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.self', title='TestTestServer'>self</a>):
<span class='lineno'> 132</span>         &quot;&quot;&quot;a biggest timeout can be specified&quot;&quot;&quot;
<span class='lineno'> 133</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>(request_timeout=3)
<span class='lineno'> 134</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', title='str'>data</a> = b&#39;bananadine&#39;
<span class='lineno'> 135</span> 
<span class='lineno'> 136</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', title='Server'>server</a> as <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.address', title='Server'>address</a>:
<span class='lineno'> 137</span>             <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', title='?'>sock</a> = socket.socket()
<span class='lineno'> 138</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', title='?'>sock</a>.connect(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.address', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.address', title='Server'>address</a>)
<span class='lineno'> 139</span>             time.sleep(1.5)
<span class='lineno'> 140</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', title='?'>sock</a>.sendall(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', title='str'>data</a>)
<span class='lineno'> 141</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.sock', title='?'>sock</a>.close()
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>[0] == <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_request_recovery_with_bigger_timeout.data', title='str'>data</a>
<span class='lineno'> 144</span> 
<span class='lineno'> 145</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error', title='TestTestServer -> None'>test_server_finishes_on_error</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.self', title='TestTestServer'>self</a>):
<span class='lineno'> 146</span>         &quot;&quot;&quot;the server thread exits even if an exception exits the context manager&quot;&quot;&quot;
<span class='lineno'> 147</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>()
<span class='lineno'> 148</span>         with pytest.raises(Exception):
<span class='lineno'> 149</span>             with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', title='Server'>server</a>:
<span class='lineno'> 150</span>                 raise Exception()
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span>         assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_on_error.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>) == 0
<span class='lineno'> 153</span> 
<span class='lineno'> 154</span>         # if the server thread fails to finish, the test suite will hang
<span class='lineno'> 155</span>         # and get killed by the jenkins timeout.
<span class='lineno'> 156</span> 
<span class='lineno'> 157</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections', title='TestTestServer -> None'>test_server_finishes_when_no_connections</a>(<a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.self', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.self', title='TestTestServer'>self</a>):
<span class='lineno'> 158</span>         &quot;&quot;&quot;the server thread exits even if there are no connections&quot;&quot;&quot;
<span class='lineno'> 159</span>         <a name='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', title='Server'>server</a> = <a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server', title='<Server>'>Server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.basic_response_server', title='<Server> -> Server'>basic_response_server</a>()
<span class='lineno'> 160</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', title='Server'>server</a>:
<span class='lineno'> 161</span>             pass
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span>         assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.test_testserver.TestTestServer.test_server_finishes_when_no_connections.server', title='Server'>server</a>.<a href='testserver/server.py.html#.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', xid ='.home.xxm.Desktop.EMSE.dataset.requests.tests.testserver.server.Server.handler_results', title='[?]'>handler_results</a>) == 0
<span class='lineno'> 164</span> 
<span class='lineno'> 165</span>         # if the server thread fails to finish, the test suite will hang
<span class='lineno'> 166</span>         # and get killed by the jenkins timeout.
</pre></td></tr></table></body></html>