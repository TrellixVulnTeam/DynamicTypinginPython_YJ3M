<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/keypointnet/utils.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook'>TrainingHook</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run'>before_run</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run'>after_run</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn'>standard_model_fn</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval'>train_and_eval</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle'>draw_circle</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points'>draw_ndc_points</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook', xid='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook'>colored_hook</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2018 Google LLC
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     https://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # =============================================================================
<span class='lineno'>  15</span> &quot;&quot;&quot;Utility functions for KeypointNet.
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> These are helper / tensorflow related functions. The actual implementation and
<span class='lineno'>  18</span> algorithm is in main.py.
<span class='lineno'>  19</span> &quot;&quot;&quot;
<span class='lineno'>  20</span> 
<span class='lineno'>  21</span> from __future__ import absolute_import
<span class='lineno'>  22</span> from __future__ import division
<span class='lineno'>  23</span> from __future__ import print_function
<span class='lineno'>  24</span> 
<span class='lineno'>  25</span> import math
<span class='lineno'>  26</span> import numpy as np
<span class='lineno'>  27</span> import os
<span class='lineno'>  28</span> import re
<span class='lineno'>  29</span> import tensorflow as tf
<span class='lineno'>  30</span> import tensorflow.contrib.slim as slim
<span class='lineno'>  31</span> import time
<span class='lineno'>  32</span> import traceback
<span class='lineno'>  33</span> 
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook', title='<TrainingHook>'>TrainingHook</a>(tf.train.SessionRunHook):
<span class='lineno'>  36</span>   &quot;&quot;&quot;A utility for displaying training information such as the loss, percent
<span class='lineno'>  37</span>   completed, estimated finish date and time.&quot;&quot;&quot;
<span class='lineno'>  38</span> 
<span class='lineno'>  39</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.steps', title='?'>steps</a>):
<span class='lineno'>  40</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'>steps</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.steps', title='?'>steps</a>
<span class='lineno'>  41</span> 
<span class='lineno'>  42</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', title='int'>last_time</a></a> = time.time()
<span class='lineno'>  43</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', title='int'>last_est</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', title='int'>last_time</a>
<span class='lineno'>  44</span> 
<span class='lineno'>  45</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', title='int'>eta_interval</a></a> = int(math.ceil(0.1 * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'>steps</a>))
<span class='lineno'>  46</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.__init__.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', title='int'>current_interval</a></a> = 0
<span class='lineno'>  47</span> 
<span class='lineno'>  48</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run', title='(TrainingHook, ?) -> None'>before_run</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.self', title='TrainingHook'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.run_context', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.run_context', title='?'>run_context</a>):
<span class='lineno'>  49</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.graph', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.graph', title='?'>graph</a> = tf.get_default_graph()
<span class='lineno'>  50</span>     return tf.train.SessionRunArgs(
<span class='lineno'>  51</span>         {&quot;loss&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.graph', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.before_run.graph', title='?'>graph</a>.get_collection(&quot;total_loss&quot;)[0]})
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run', title='(TrainingHook, ?, ?) -> None'>after_run</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_context', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_context', title='?'>run_context</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_values', title='?'>run_values</a>):
<span class='lineno'>  54</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', title='?'>step</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_context', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_context', title='?'>run_context</a>.session.run(tf.train.get_global_step())
<span class='lineno'>  55</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a> = time.time()
<span class='lineno'>  56</span> 
<span class='lineno'>  57</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', title='int'>current_interval</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', title='int'>eta_interval</a>:
<span class='lineno'>  58</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', title='int'>duration</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', title='int'>last_est</a>
<span class='lineno'>  59</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', title='int'>current_interval</a> += 1
<span class='lineno'>  60</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', title='?'>step</a> % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.eta_interval', title='int'>eta_interval</a> == 0:
<span class='lineno'>  61</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', title='int'>duration</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', title='int'>last_est</a>
<span class='lineno'>  62</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_est', title='int'>last_est</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a>
<span class='lineno'>  63</span> 
<span class='lineno'>  64</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', title='int'>eta_time</a> = float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'>steps</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', title='?'>step</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.current_interval', title='int'>current_interval</a> * \
<span class='lineno'>  65</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.duration', title='int'>duration</a>
<span class='lineno'>  66</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', title='?'>m</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.s', title='?'>s</a> = divmod(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', title='int'>eta_time</a>, 60)
<span class='lineno'>  67</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', title='?'>m</a> = divmod(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', title='?'>m</a>, 60)
<span class='lineno'>  68</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta', title='?'>eta</a> = &quot;%d:%02d:%02d&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.h', title='?'>h</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.m', title='?'>m</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.s', title='?'>s</a>)
<span class='lineno'>  69</span> 
<span class='lineno'>  70</span>     print(&quot;%.2f%% (%d/%d): %.3e t %.3f  @ %s (%s)&quot; % (
<span class='lineno'>  71</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', title='?'>step</a> * 100.0 / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'>steps</a>,
<span class='lineno'>  72</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.step', title='?'>step</a>,
<span class='lineno'>  73</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.steps', title='?'>steps</a>,
<span class='lineno'>  74</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.run_values', title='?'>run_values</a>.results[&quot;loss&quot;],
<span class='lineno'>  75</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', title='int'>last_time</a>,
<span class='lineno'>  76</span>         time.strftime(&quot;%a %d %H:%M:%S&quot;, time.localtime(time.time() + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta_time', title='int'>eta_time</a>)),
<span class='lineno'>  77</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.eta', title='?'>eta</a>))
<span class='lineno'>  78</span> 
<span class='lineno'>  79</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.self', title='TrainingHook'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.last_time', title='int'>last_time</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook.after_run.now', title='int'>now</a>
<span class='lineno'>  80</span> 
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn', title='(?, ?, ?, int, None) -> ? -> ? / (?, ?, None, int, None) -> (?, ?, ?, ?) -> None / ((?, ?, ?, ?) -> dict, ?, ?, int, None) -> ? -> ?'>standard_model_fn</a>(
<span class='lineno'>  83</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.func', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.func', title='(?, ?, ?, ?) -> dict'>func</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.steps', title='?'>steps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.sync_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.sync_replicas', title='int'>sync_replicas</a>=0, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', title='None'>optimizer_fn</a>=None):
<span class='lineno'>  84</span>   &quot;&quot;&quot;Creates model_fn for tf.Estimator.
<span class='lineno'>  85</span> 
<span class='lineno'>  86</span>   Args:
<span class='lineno'>  87</span>     func: A model_fn with prototype model_fn(features, labels, mode, hparams).
<span class='lineno'>  88</span>     steps: Training steps.
<span class='lineno'>  89</span>     run_config: tf.estimatorRunConfig (usually passed in from TF_CONFIG).
<span class='lineno'>  90</span>     sync_replicas: The number of replicas used to compute gradient for
<span class='lineno'>  91</span>         synchronous training.
<span class='lineno'>  92</span>     optimizer_fn: The type of the optimizer. Default to Adam.
<span class='lineno'>  93</span> 
<span class='lineno'>  94</span>   Returns:
<span class='lineno'>  95</span>     model_fn for tf.estimator.Estimator.
<span class='lineno'>  96</span>   &quot;&quot;&quot;
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn', title='(?, ?, ?, ?) -> None'>fn</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.features', title='?'>features</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.labels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.labels', title='?'>labels</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', title='?'>mode</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', title='?'>params</a>):
<span class='lineno'>  99</span>     &quot;&quot;&quot;Returns model_fn for tf.estimator.Estimator.&quot;&quot;&quot;
<span class='lineno'> 100</span> 
<span class='lineno'> 101</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.is_training', title='bool'>is_training</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', title='?'>mode</a> == tf.estimator.ModeKeys.TRAIN)
<span class='lineno'> 102</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.func', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.func', title='?'>func</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.features', title='?'>features</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.labels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.labels', title='?'>labels</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', title='?'>mode</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', title='?'>params</a>)
<span class='lineno'> 103</span> 
<span class='lineno'> 104</span>     tf.add_to_collection(&quot;total_loss&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;loss&quot;])
<span class='lineno'> 105</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', title='None'>train_op</a> = None
<span class='lineno'> 106</span> 
<span class='lineno'> 107</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', title='[TrainingHook]'>training_hooks</a> = []
<span class='lineno'> 108</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.is_training', title='bool'>is_training</a>:
<span class='lineno'> 109</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', title='[TrainingHook]'>training_hooks</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.TrainingHook', title='<TrainingHook>'>TrainingHook</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.steps', title='?'>steps</a>))
<span class='lineno'> 110</span> 
<span class='lineno'> 111</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', title='None'>optimizer_fn</a> is None:
<span class='lineno'> 112</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='?'>optimizer</a> = tf.train.AdamOptimizer(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.params', title='?'>params</a>.learning_rate)
<span class='lineno'> 113</span>       else:
<span class='lineno'> 114</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='None'>optimizer</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.optimizer_fn', title='None'>optimizer_fn</a>
<span class='lineno'> 115</span> 
<span class='lineno'> 116</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a> is not None and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>.num_worker_replicas &gt; 1:
<span class='lineno'> 117</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', title='int'>sr</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.sync_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.sync_replicas', title='int'>sync_replicas</a>
<span class='lineno'> 118</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', title='int'>sr</a> &lt;= 0:
<span class='lineno'> 119</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', title='?'>sr</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>.num_worker_replicas
<span class='lineno'> 120</span> 
<span class='lineno'> 121</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='?'>optimizer</a> = tf.train.SyncReplicasOptimizer(
<span class='lineno'> 122</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='None'>optimizer</a>,
<span class='lineno'> 123</span>             replicas_to_aggregate=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.sr', title='int'>sr</a>,
<span class='lineno'> 124</span>             total_num_replicas=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>.num_worker_replicas)
<span class='lineno'> 125</span> 
<span class='lineno'> 126</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', title='[TrainingHook]'>training_hooks</a>.append(
<span class='lineno'> 127</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='?'>optimizer</a>.make_session_run_hook(
<span class='lineno'> 128</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>.is_chief, num_tokens=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.run_config', title='None'>run_config</a>.num_worker_replicas))
<span class='lineno'> 129</span> 
<span class='lineno'> 130</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='?'>optimizer</a> = tf.contrib.estimator.clip_gradients_by_norm(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='None'>optimizer</a>, 5)
<span class='lineno'> 131</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', title='?'>train_op</a> = slim.learning.create_train_op(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;loss&quot;], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.optimizer', title='?'>optimizer</a>)
<span class='lineno'> 132</span> 
<span class='lineno'> 133</span>     if &quot;eval_metric_ops&quot; not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>:
<span class='lineno'> 134</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;eval_metric_ops&quot;] = {}
<span class='lineno'> 135</span> 
<span class='lineno'> 136</span>     return tf.estimator.EstimatorSpec(
<span class='lineno'> 137</span>         mode=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.mode', title='?'>mode</a>,
<span class='lineno'> 138</span>         predictions=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;predictions&quot;],
<span class='lineno'> 139</span>         loss=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;loss&quot;],
<span class='lineno'> 140</span>         train_op=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.train_op', title='None'>train_op</a>,
<span class='lineno'> 141</span>         eval_metric_ops=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.ret', title='?'>ret</a>[&quot;eval_metric_ops&quot;],
<span class='lineno'> 142</span>         training_hooks=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn.training_hooks', title='[TrainingHook]'>training_hooks</a>)
<span class='lineno'> 143</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn.fn', title='(?, ?, ?, ?) -> None'>fn</a>
<span class='lineno'> 144</span> 
<span class='lineno'> 145</span> 
<span class='lineno'> 146</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval', title='(?, ?, ?, ?, ?, ?, float, int, int, int, int, int, int) -> None / (?, ?, ?, (?, ?, ?, ?) -> dict, (?, ?) -> ? -> ? / (str, ?) -> () -> (?, None), None, float, int, int, int, int, int, int) -> None'>train_and_eval</a>(
<span class='lineno'> 147</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_dir', title='?'>model_dir</a>,
<span class='lineno'> 148</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', title='?'>steps</a>,
<span class='lineno'> 149</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', title='?'>batch_size</a>,
<span class='lineno'> 150</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_fn', title='(?, ?, ?, ?) -> dict'>model_fn</a>,
<span class='lineno'> 151</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', title='(?, ?) -> ? -> ? / (str, ?) -> () -> (?, None)'>input_fn</a>,
<span class='lineno'> 152</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.hparams', title='None'>hparams</a>,
<span class='lineno'> 153</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.keep_checkpoint_every_n_hours', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.keep_checkpoint_every_n_hours', title='float'>keep_checkpoint_every_n_hours</a>=0.5,
<span class='lineno'> 154</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_checkpoints_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_checkpoints_secs', title='int'>save_checkpoints_secs</a>=180,
<span class='lineno'> 155</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_summary_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_summary_steps', title='int'>save_summary_steps</a>=50,
<span class='lineno'> 156</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_steps', title='int'>eval_steps</a>=20,
<span class='lineno'> 157</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_start_delay_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_start_delay_secs', title='int'>eval_start_delay_secs</a>=10,
<span class='lineno'> 158</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_throttle_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_throttle_secs', title='int'>eval_throttle_secs</a>=300,
<span class='lineno'> 159</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.sync_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.sync_replicas', title='int'>sync_replicas</a>=0):
<span class='lineno'> 160</span>   &quot;&quot;&quot;Trains and evaluates our model. Supports local and distributed training.
<span class='lineno'> 161</span> 
<span class='lineno'> 162</span>   Args:
<span class='lineno'> 163</span>     model_dir: The output directory for trained parameters, checkpoints, etc.
<span class='lineno'> 164</span>     steps: Training steps.
<span class='lineno'> 165</span>     batch_size: Batch size.
<span class='lineno'> 166</span>     model_fn: A func with prototype model_fn(features, labels, mode, hparams).
<span class='lineno'> 167</span>     input_fn: A input function for the tf.estimator.Estimator.
<span class='lineno'> 168</span>     hparams: tf.HParams containing a set of hyperparameters.
<span class='lineno'> 169</span>     keep_checkpoint_every_n_hours: Number of hours between each checkpoint
<span class='lineno'> 170</span>         to be saved.
<span class='lineno'> 171</span>     save_checkpoints_secs: Save checkpoints every this many seconds.
<span class='lineno'> 172</span>     save_summary_steps: Save summaries every this many steps.
<span class='lineno'> 173</span>     eval_steps: Number of steps to evaluate model.
<span class='lineno'> 174</span>     eval_start_delay_secs: Start evaluating after waiting for this many seconds.
<span class='lineno'> 175</span>     eval_throttle_secs: Do not re-evaluate unless the last evaluation was
<span class='lineno'> 176</span>         started at least this many seconds ago
<span class='lineno'> 177</span>     sync_replicas: Number of synchronous replicas for distributed training.
<span class='lineno'> 178</span> 
<span class='lineno'> 179</span>   Returns:
<span class='lineno'> 180</span>     None
<span class='lineno'> 181</span>   &quot;&quot;&quot;
<span class='lineno'> 182</span> 
<span class='lineno'> 183</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', title='?'>run_config</a> = tf.estimator.RunConfig(
<span class='lineno'> 184</span>       keep_checkpoint_every_n_hours=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.keep_checkpoint_every_n_hours', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.keep_checkpoint_every_n_hours', title='float'>keep_checkpoint_every_n_hours</a>,
<span class='lineno'> 185</span>       save_checkpoints_secs=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_checkpoints_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_checkpoints_secs', title='int'>save_checkpoints_secs</a>,
<span class='lineno'> 186</span>       save_summary_steps=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_summary_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.save_summary_steps', title='int'>save_summary_steps</a>)
<span class='lineno'> 187</span> 
<span class='lineno'> 188</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.estimator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.estimator', title='?'>estimator</a> = tf.estimator.Estimator(
<span class='lineno'> 189</span>       model_dir=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_dir', title='?'>model_dir</a>,
<span class='lineno'> 190</span>       model_fn=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.standard_model_fn', title='(?, ?, ?, int, None) -> ? -> ? / (?, ?, None, int, None) -> (?, ?, ?, ?) -> None / ((?, ?, ?, ?) -> dict, ?, ?, int, None) -> ? -> ?'>standard_model_fn</a>(
<span class='lineno'> 191</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.model_fn', title='(?, ?, ?, ?) -> dict'>model_fn</a>,
<span class='lineno'> 192</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', title='?'>steps</a>,
<span class='lineno'> 193</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', title='?'>run_config</a>,
<span class='lineno'> 194</span>           sync_replicas=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.sync_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.sync_replicas', title='int'>sync_replicas</a>),
<span class='lineno'> 195</span>       params=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.hparams', title='None'>hparams</a>, config=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.run_config', title='?'>run_config</a>)
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.train_spec', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.train_spec', title='?'>train_spec</a> = tf.estimator.TrainSpec(
<span class='lineno'> 198</span>       input_fn=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', title='(?, ?) -> ? -> ? / (str, ?) -> () -> (?, None)'>input_fn</a>(split=&quot;train&quot;, batch_size=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', title='?'>batch_size</a>),
<span class='lineno'> 199</span>       max_steps=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.steps', title='?'>steps</a>)
<span class='lineno'> 200</span> 
<span class='lineno'> 201</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_spec', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_spec', title='?'>eval_spec</a> = tf.estimator.EvalSpec(
<span class='lineno'> 202</span>       input_fn=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.input_fn', title='(?, ?) -> ? -> ? / (str, ?) -> () -> (?, None)'>input_fn</a>(split=&quot;validation&quot;, batch_size=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.batch_size', title='?'>batch_size</a>),
<span class='lineno'> 203</span>       steps=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_steps', title='int'>eval_steps</a>,
<span class='lineno'> 204</span>       start_delay_secs=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_start_delay_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_start_delay_secs', title='int'>eval_start_delay_secs</a>,
<span class='lineno'> 205</span>       throttle_secs=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_throttle_secs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_throttle_secs', title='int'>eval_throttle_secs</a>)
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span>   tf.estimator.train_and_evaluate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.estimator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.estimator', title='?'>estimator</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.train_spec', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.train_spec', title='?'>train_spec</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_spec', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.train_and_eval.eval_spec', title='?'>eval_spec</a>)
<span class='lineno'> 208</span> 
<span class='lineno'> 209</span> 
<span class='lineno'> 210</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', title='(?, int, int, ?, float) -> None / (?, ?, ?, ?, ?) -> None / (int, int, int, ?, float) -> None'>draw_circle</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', title='int'>u</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', title='int'>v</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', title='?'>col</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', title='float'>r</a>):
<span class='lineno'> 211</span>   &quot;&quot;&quot;Draws a simple anti-aliasing circle in-place.
<span class='lineno'> 212</span> 
<span class='lineno'> 213</span>   Args:
<span class='lineno'> 214</span>     rgb: Input image to be modified.
<span class='lineno'> 215</span>     u: Horizontal coordinate.
<span class='lineno'> 216</span>     v: Vertical coordinate.
<span class='lineno'> 217</span>     col: Color.
<span class='lineno'> 218</span>     r: Radius.
<span class='lineno'> 219</span>   &quot;&quot;&quot;
<span class='lineno'> 220</span> 
<span class='lineno'> 221</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', title='int'>ir</a> = int(math.ceil(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', title='float'>r</a>))
<span class='lineno'> 222</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.i', title='int'>i</a> in range(-<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', title='int'>ir</a>-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', title='int'>ir</a>+2):
<span class='lineno'> 223</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.j', title='int'>j</a> in range(-<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', title='int'>ir</a>-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.ir', title='int'>ir</a>+2):
<span class='lineno'> 224</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a> = int(round(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', title='int'>u</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.i', title='int'>i</a>))
<span class='lineno'> 225</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a> = int(round(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', title='int'>v</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.j', title='int'>j</a>))
<span class='lineno'> 226</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>.shape[1] or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>.shape[0]:
<span class='lineno'> 227</span>         continue
<span class='lineno'> 228</span> 
<span class='lineno'> 229</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', title='int'>du</a> = abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.u', title='int'>u</a>)
<span class='lineno'> 230</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', title='int'>dv</a> = abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.v', title='int'>v</a>)
<span class='lineno'> 231</span> 
<span class='lineno'> 232</span>       # need sqrt to keep scale
<span class='lineno'> 233</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a> = math.sqrt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', title='int'>du</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.du', title='int'>du</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', title='int'>dv</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.dv', title='int'>dv</a>) - math.sqrt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', title='float'>r</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.r', title='float'>r</a>)
<span class='lineno'> 234</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a> &lt; 0:
<span class='lineno'> 235</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a>, :] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', title='?'>col</a>
<span class='lineno'> 236</span>       else:
<span class='lineno'> 237</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a> = 1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a>
<span class='lineno'> 238</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a> &gt; 0:
<span class='lineno'> 239</span>           # t = t ** 0.3
<span class='lineno'> 240</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a>, :] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.col', title='?'>col</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.rgb', title='int'>rgb</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nv', title='int'>nv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.nu', title='int'>nu</a>, :] * (1-<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle.t', title='int'>t</a>)
<span class='lineno'> 241</span> 
<span class='lineno'> 242</span> 
<span class='lineno'> 243</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points', title='(?, ?, ?) -> None / (int, ?, ?) -> None'>draw_ndc_points</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.xy', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.xy', title='?'>xy</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', title='?'>cols</a>):
<span class='lineno'> 244</span>   &quot;&quot;&quot;Draws keypoints onto an input image.
<span class='lineno'> 245</span> 
<span class='lineno'> 246</span>   Args:
<span class='lineno'> 247</span>     rgb: Input image to be modified.
<span class='lineno'> 248</span>     xy: [n x 2] matrix of 2D locations.
<span class='lineno'> 249</span>     cols: A list of colors for the keypoints.
<span class='lineno'> 250</span>   &quot;&quot;&quot;
<span class='lineno'> 251</span> 
<span class='lineno'> 252</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', title='?'>vh</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', title='?'>vw</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>.shape[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>.shape[1]
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', title='int'>j</a> in range(len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', title='?'>cols</a>)):
<span class='lineno'> 255</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='?'>x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='?'>y</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.xy', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.xy', title='?'>xy</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', title='int'>j</a>, :2]
<span class='lineno'> 256</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a> = (min(max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='?'>x</a>, -1), 1) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', title='?'>vw</a> / 2 + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', title='?'>vw</a> / 2) - 0.5
<span class='lineno'> 257</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='float'>y</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', title='?'>vh</a> - 0.5 - (min(max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='?'>y</a>, -1), 1) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', title='?'>vh</a> / 2 + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', title='?'>vh</a> / 2)
<span class='lineno'> 258</span> 
<span class='lineno'> 259</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a> = int(round(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a>))
<span class='lineno'> 260</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='int'>y</a> = int(round(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='float'>y</a>))
<span class='lineno'> 261</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='int'>y</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vw', title='?'>vw</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='int'>y</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.vh', title='?'>vh</a>:
<span class='lineno'> 262</span>       continue
<span class='lineno'> 263</span> 
<span class='lineno'> 264</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', title='float'>rad</a> = 1.5
<span class='lineno'> 265</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', title='float'>rad</a></a> *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>.shape[0] / 128.0
<span class='lineno'> 266</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', title='(?, int, int, ?, float) -> None / (?, ?, ?, ?, ?) -> None / (int, int, int, ?, float) -> None'>draw_circle</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='int'>y</a>, np.array([0.0, 0.0, 0.0, 1.0]), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', title='float'>rad</a> * 1.5)
<span class='lineno'> 267</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_circle', title='(?, int, int, ?, float) -> None / (?, ?, ?, ?, ?) -> None / (int, int, int, ?, float) -> None'>draw_circle</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rgb', title='int'>rgb</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.x', title='int'>x</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.y', title='int'>y</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.cols', title='?'>cols</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.j', title='int'>j</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.draw_ndc_points.rad', title='float'>rad</a>)
<span class='lineno'> 268</span> 
<span class='lineno'> 269</span> 
<span class='lineno'> 270</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook', title='str -> (?, ?, ?) -> None'>colored_hook</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.home_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.home_dir', title='str'>home_dir</a>):
<span class='lineno'> 271</span>   &quot;&quot;&quot;Colorizes python&#39;s error message.
<span class='lineno'> 272</span> 
<span class='lineno'> 273</span>   Args:
<span class='lineno'> 274</span>     home_dir: directory where code resides (to highlight your own files).
<span class='lineno'> 275</span>   Returns:
<span class='lineno'> 276</span>     The traceback hook.
<span class='lineno'> 277</span>   &quot;&quot;&quot;
<span class='lineno'> 278</span> 
<span class='lineno'> 279</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook', title='(?, ?, ?) -> None'>hook</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.type_', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.type_', title='?'>type_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.value', title='?'>value</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.tb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.tb', title='?'>tb</a>):
<span class='lineno'> 280</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.text', title='str'>text</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.color', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.color', title='str'>color</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.own', title='{bool | int}'>own</a>=0):
<span class='lineno'> 281</span>       &quot;&quot;&quot;Returns colorized text.&quot;&quot;&quot;
<span class='lineno'> 282</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.endcolor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.endcolor', title='str'>endcolor</a> = &quot;\x1b[0m&quot;
<span class='lineno'> 283</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.codes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.codes', title='dict'>codes</a> = {
<span class='lineno'> 284</span>           &quot;green&quot;: &quot;\x1b[0;32m&quot;,
<span class='lineno'> 285</span>           &quot;green_own&quot;: &quot;\x1b[1;32;40m&quot;,
<span class='lineno'> 286</span>           &quot;red&quot;: &quot;\x1b[0;31m&quot;,
<span class='lineno'> 287</span>           &quot;red_own&quot;: &quot;\x1b[1;31m&quot;,
<span class='lineno'> 288</span>           &quot;yellow&quot;: &quot;\x1b[0;33m&quot;,
<span class='lineno'> 289</span>           &quot;yellow_own&quot;: &quot;\x1b[1;33m&quot;,
<span class='lineno'> 290</span>           &quot;black&quot;: &quot;\x1b[0;90m&quot;,
<span class='lineno'> 291</span>           &quot;black_own&quot;: &quot;\x1b[1;90m&quot;,
<span class='lineno'> 292</span>           &quot;cyan&quot;: &quot;\033[1;36m&quot;,
<span class='lineno'> 293</span>       }
<span class='lineno'> 294</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.codes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.codes', title='dict'>codes</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.color', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.color', title='str'>color</a> + (&quot;_own&quot; if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.own', title='{bool | int}'>own</a> else &quot;&quot;)] + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.text', title='str'>text</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.endcolor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize.endcolor', title='str'>endcolor</a>
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', title='?'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.line_num', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.line_num', title='?'>line_num</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.func', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.func', title='?'>func</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.text', title='?'>text</a> in traceback.extract_tb(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.tb', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.tb', title='?'>tb</a>):
<span class='lineno'> 297</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.basename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.basename', title='str'>basename</a> = os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', title='?'>filename</a>)
<span class='lineno'> 298</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', title='bool'>own</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.home_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.home_dir', title='str'>home_dir</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', title='?'>filename</a>) or (&quot;/&quot; not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', title='?'>filename</a>)
<span class='lineno'> 299</span> 
<span class='lineno'> 300</span>       print(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(&quot;\&quot;&quot; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.basename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.basename', title='str'>basename</a> + &#39;&quot;&#39;, &quot;green&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', title='bool'>own</a>) + &quot; in &quot; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.func', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.func', title='?'>func</a>)
<span class='lineno'> 301</span>       print(&quot;%s:  %s&quot; % (
<span class='lineno'> 302</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(&quot;%5d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.line_num', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.line_num', title='?'>line_num</a>, &quot;red&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', title='bool'>own</a>),
<span class='lineno'> 303</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.text', title='?'>text</a>, &quot;yellow&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', title='bool'>own</a>)))
<span class='lineno'> 304</span>       print(&quot;  %s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.filename', title='?'>filename</a>, &quot;black&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.own', title='bool'>own</a>))
<span class='lineno'> 305</span> 
<span class='lineno'> 306</span>     print(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.colorize', title='(?, str, int) -> str / (str, str, bool) -> str / (?, str, bool) -> str'>colorize</a>(&quot;%s: %s&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.type_', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.type_', title='?'>type_</a>.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook.value', title='?'>value</a>), &quot;cyan&quot;))
<span class='lineno'> 307</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.keypointnet.utils.colored_hook.hook', title='(?, ?, ?) -> None'>hook</a>
</pre></td></tr></table></body></html>