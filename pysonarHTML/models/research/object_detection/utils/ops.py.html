<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/object_detection/utils/ops.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize'>matmul_crop_and_resize</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.multilevel_roi_align', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.multilevel_roi_align'>multilevel_roi_align</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.native_crop_and_resize', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.native_crop_and_resize'>native_crop_and_resize</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape'>expanded_shape</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates'>normalized_to_image_coordinates</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid'>meshgrid</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding'>fixed_padding</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple'>pad_to_multiple</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding'>padded_one_hot_encoding</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes'>dense_to_sparse_boxes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector'>indices_to_dense_vector</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions'>reduce_sum_trailing_dimensions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth'>retain_groundtruth</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes'>retain_groundtruth_with_positive_classes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones'>replace_nan_groundtruth_label_scores_with_ones</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes'>filter_groundtruth_with_crowd_boxes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates'>filter_groundtruth_with_nan_box_coordinates</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes'>filter_unrecognized_classes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target'>normalize_to_target</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions'>batch_position_sensitive_crop_regions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions'>position_sensitive_crop_regions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks'>reframe_box_masks_to_image_masks</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels'>merge_boxes_with_multiple_labels</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling'>nearest_neighbor_upsampling</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis'>matmul_gather_on_zeroth_axis</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels'>fpn_feature_levels</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested'>bfloat16_to_float32_nested</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values'>gather_with_padding_values</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.EqualizationLossConfig', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.EqualizationLossConfig'>EqualizationLossConfig</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors'>tile_context_tensors</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image'>decode_image</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2017 The TensorFlow Authors. All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> &quot;&quot;&quot;A module for helper tensorflow ops.&quot;&quot;&quot;
<span class='lineno'>  17</span> from __future__ import absolute_import
<span class='lineno'>  18</span> from __future__ import division
<span class='lineno'>  19</span> from __future__ import print_function
<span class='lineno'>  20</span> 
<span class='lineno'>  21</span> import collections
<span class='lineno'>  22</span> import math
<span class='lineno'>  23</span> import six
<span class='lineno'>  24</span> 
<span class='lineno'>  25</span> from six.moves import range
<span class='lineno'>  26</span> from six.moves import zip
<span class='lineno'>  27</span> import tensorflow.compat.v1 as tf
<span class='lineno'>  28</span> import tf_slim as slim
<span class='lineno'>  29</span> from object_detection.core import standard_fields as fields
<span class='lineno'>  30</span> from object_detection.utils import shape_utils
<span class='lineno'>  31</span> from object_detection.utils import spatial_transform_ops as spatial_ops
<span class='lineno'>  32</span> from object_detection.utils import static_shape
<span class='lineno'>  33</span> 
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize', title='?'>matmul_crop_and_resize</a> = spatial_ops.matmul_crop_and_resize
<span class='lineno'>  36</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.multilevel_roi_align', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.multilevel_roi_align', title='?'>multilevel_roi_align</a> = spatial_ops.multilevel_roi_align
<span class='lineno'>  37</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.native_crop_and_resize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.native_crop_and_resize', title='?'>native_crop_and_resize</a> = spatial_ops.native_crop_and_resize
<span class='lineno'>  38</span> 
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', title='(?, ?, ?) -> None / (?, int, ?) -> None'>expanded_shape</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', title='?'>orig_shape</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', title='int'>start_dim</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.num_dims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.num_dims', title='?'>num_dims</a>):
<span class='lineno'>  41</span>   &quot;&quot;&quot;Inserts multiple ones into a shape vector.
<span class='lineno'>  42</span> 
<span class='lineno'>  43</span>   Inserts an all-1 vector of length num_dims at position start_dim into a shape.
<span class='lineno'>  44</span>   Can be combined with tf.reshape to generalize tf.expand_dims.
<span class='lineno'>  45</span> 
<span class='lineno'>  46</span>   Args:
<span class='lineno'>  47</span>     orig_shape: the shape into which the all-1 vector is added (int32 vector)
<span class='lineno'>  48</span>     start_dim: insertion position (int scalar)
<span class='lineno'>  49</span>     num_dims: length of the inserted all-1 vector (int scalar)
<span class='lineno'>  50</span>   Returns:
<span class='lineno'>  51</span>     An int32 vector of length tf.size(orig_shape) + num_dims.
<span class='lineno'>  52</span>   &quot;&quot;&quot;
<span class='lineno'>  53</span>   with tf.name_scope(&#39;ExpandedShape&#39;):
<span class='lineno'>  54</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', title='?'>start_dim</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', title='int'>start_dim</a>, 0)  # scalar to rank-1
<span class='lineno'>  55</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.before', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.before', title='?'>before</a> = tf.slice(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', title='?'>orig_shape</a>, [0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', title='?'>start_dim</a>)
<span class='lineno'>  56</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.add_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.add_shape', title='?'>add_shape</a> = tf.ones(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.num_dims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.num_dims', title='?'>num_dims</a>, [1]), dtype=tf.int32)
<span class='lineno'>  57</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.after', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.after', title='?'>after</a> = tf.slice(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.orig_shape', title='?'>orig_shape</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.start_dim', title='?'>start_dim</a>, [-1])
<span class='lineno'>  58</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.new_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.new_shape', title='?'>new_shape</a> = tf.concat([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.before', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.before', title='?'>before</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.add_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.add_shape', title='?'>add_shape</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.after', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.after', title='?'>after</a>], 0)
<span class='lineno'>  59</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.new_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape.new_shape', title='?'>new_shape</a>
<span class='lineno'>  60</span> 
<span class='lineno'>  61</span> 
<span class='lineno'>  62</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates', title='(?, ?, int) -> None'>normalized_to_image_coordinates</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', title='?'>normalized_boxes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', title='?'>image_shape</a>,
<span class='lineno'>  63</span>                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.parallel_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.parallel_iterations', title='int'>parallel_iterations</a>=32):
<span class='lineno'>  64</span>   &quot;&quot;&quot;Converts a batch of boxes from normal to image coordinates.
<span class='lineno'>  65</span> 
<span class='lineno'>  66</span>   Args:
<span class='lineno'>  67</span>     normalized_boxes: a tensor of shape [None, num_boxes, 4] in
<span class='lineno'>  68</span>       normalized coordinates. The dtype of this tensor must support tf.mul.
<span class='lineno'>  69</span>     image_shape: a tensor of shape [4] containing the image shape, with same
<span class='lineno'>  70</span>       dtype as `normalized_boxes`.
<span class='lineno'>  71</span>     parallel_iterations: parallelism for the map_fn op.
<span class='lineno'>  72</span> 
<span class='lineno'>  73</span>   Returns:
<span class='lineno'>  74</span>     absolute_boxes: a tensor of shape [None, num_boxes, 4] containing
<span class='lineno'>  75</span>       the boxes in image coordinates, with same
<span class='lineno'>  76</span>       dtype as `normalized_boxes`.
<span class='lineno'>  77</span>   &quot;&quot;&quot;
<span class='lineno'>  78</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', title='?'>x_scale</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', title='?'>image_shape</a>[2], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', title='?'>normalized_boxes</a>.dtype)
<span class='lineno'>  79</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', title='?'>y_scale</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.image_shape', title='?'>image_shape</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', title='?'>normalized_boxes</a>.dtype)
<span class='lineno'>  80</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates', title='? -> None'>_to_absolute_coordinates</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.normalized_boxes', title='?'>normalized_boxes</a>):
<span class='lineno'>  81</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', title='?'>y_min</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', title='?'>x_min</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', title='?'>y_max</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', title='?'>x_max</a> = tf.split(
<span class='lineno'>  82</span>         value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.normalized_boxes', title='?'>normalized_boxes</a>, num_or_size_splits=4, axis=1)
<span class='lineno'>  83</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', title='?'>y_min</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', title='?'>y_scale</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', title='?'>y_min</a>
<span class='lineno'>  84</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', title='?'>y_max</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.y_scale', title='?'>y_scale</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', title='?'>y_max</a>
<span class='lineno'>  85</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', title='?'>x_min</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', title='?'>x_scale</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', title='?'>x_min</a>
<span class='lineno'>  86</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', title='?'>x_max</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.x_scale', title='?'>x_scale</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', title='?'>x_max</a>
<span class='lineno'>  87</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.scaled_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.scaled_boxes', title='?'>scaled_boxes</a> = tf.concat([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_min', title='?'>y_min</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_min', title='?'>x_min</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.y_max', title='?'>y_max</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.x_max', title='?'>x_max</a>], 1)
<span class='lineno'>  88</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.scaled_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates.scaled_boxes', title='?'>scaled_boxes</a>
<span class='lineno'>  89</span> 
<span class='lineno'>  90</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.absolute_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.absolute_boxes', title='?'>absolute_boxes</a> = shape_utils.static_or_dynamic_map_fn(
<span class='lineno'>  91</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates._to_absolute_coordinates', title='? -> None'>_to_absolute_coordinates</a>,
<span class='lineno'>  92</span>       elems=(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', title='?'>normalized_boxes</a>),
<span class='lineno'>  93</span>       dtype=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.normalized_boxes', title='?'>normalized_boxes</a>.dtype,
<span class='lineno'>  94</span>       parallel_iterations=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.parallel_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.parallel_iterations', title='int'>parallel_iterations</a>,
<span class='lineno'>  95</span>       back_prop=True)
<span class='lineno'>  96</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.absolute_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalized_to_image_coordinates.absolute_boxes', title='?'>absolute_boxes</a>
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span> 
<span class='lineno'>  99</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid', title='(?, ?) -> (?, ?)'>meshgrid</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>):
<span class='lineno'> 100</span>   &quot;&quot;&quot;Tiles the contents of x and y into a pair of grids.
<span class='lineno'> 101</span> 
<span class='lineno'> 102</span>   Multidimensional analog of numpy.meshgrid, giving the same behavior if x and y
<span class='lineno'> 103</span>   are vectors. Generally, this will give:
<span class='lineno'> 104</span> 
<span class='lineno'> 105</span>   xgrid(i1, ..., i_m, j_1, ..., j_n) = x(j_1, ..., j_n)
<span class='lineno'> 106</span>   ygrid(i1, ..., i_m, j_1, ..., j_n) = y(i_1, ..., i_m)
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span>   Keep in mind that the order of the arguments and outputs is reverse relative
<span class='lineno'> 109</span>   to the order of the indices they go into, done for compatibility with numpy.
<span class='lineno'> 110</span>   The output tensors have the same shapes.  Specifically:
<span class='lineno'> 111</span> 
<span class='lineno'> 112</span>   xgrid.get_shape() = y.get_shape().concatenate(x.get_shape())
<span class='lineno'> 113</span>   ygrid.get_shape() = y.get_shape().concatenate(x.get_shape())
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span>   Args:
<span class='lineno'> 116</span>     x: A tensor of arbitrary shape and rank. xgrid will contain these values
<span class='lineno'> 117</span>        varying in its last dimensions.
<span class='lineno'> 118</span>     y: A tensor of arbitrary shape and rank. ygrid will contain these values
<span class='lineno'> 119</span>        varying in its first dimensions.
<span class='lineno'> 120</span>   Returns:
<span class='lineno'> 121</span>     A tuple of tensors (xgrid, ygrid).
<span class='lineno'> 122</span>   &quot;&quot;&quot;
<span class='lineno'> 123</span>   with tf.name_scope(&#39;Meshgrid&#39;):
<span class='lineno'> 124</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a> = tf.convert_to_tensor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>)
<span class='lineno'> 125</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a> = tf.convert_to_tensor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>)
<span class='lineno'> 126</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', title='None'>x_exp_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', title='(?, ?, ?) -> None / (?, int, ?) -> None'>expanded_shape</a>(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>), 0, tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>))
<span class='lineno'> 127</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', title='None'>y_exp_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.expanded_shape', title='(?, ?, ?) -> None / (?, int, ?) -> None'>expanded_shape</a>(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>), tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>), tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>))
<span class='lineno'> 128</span> 
<span class='lineno'> 129</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', title='?'>xgrid</a> = tf.tile(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', title='None'>x_exp_shape</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', title='None'>y_exp_shape</a>)
<span class='lineno'> 130</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', title='?'>ygrid</a> = tf.tile(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y_exp_shape', title='None'>y_exp_shape</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x_exp_shape', title='None'>x_exp_shape</a>)
<span class='lineno'> 131</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', title='?'>new_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.y', title='?'>y</a>.get_shape().concatenate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.x', title='?'>x</a>.get_shape())
<span class='lineno'> 132</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', title='?'>xgrid</a>.set_shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', title='?'>new_shape</a>)
<span class='lineno'> 133</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', title='?'>ygrid</a>.set_shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.new_shape', title='?'>new_shape</a>)
<span class='lineno'> 134</span> 
<span class='lineno'> 135</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.xgrid', title='?'>xgrid</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.meshgrid.ygrid', title='?'>ygrid</a>
<span class='lineno'> 136</span> 
<span class='lineno'> 137</span> 
<span class='lineno'> 138</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding', title='(?, ?, int) -> None'>fixed_padding</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.inputs', title='?'>inputs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', title='?'>kernel_size</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.rate', title='int'>rate</a>=1):
<span class='lineno'> 139</span>   &quot;&quot;&quot;Pads the input along the spatial dimensions independently of input size.
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span>   Args:
<span class='lineno'> 142</span>     inputs: A tensor of size [batch, height_in, width_in, channels].
<span class='lineno'> 143</span>     kernel_size: The kernel to be used in the conv2d or max_pool2d operation.
<span class='lineno'> 144</span>                  Should be a positive integer.
<span class='lineno'> 145</span>     rate: An integer, rate for atrous convolution.
<span class='lineno'> 146</span> 
<span class='lineno'> 147</span>   Returns:
<span class='lineno'> 148</span>     output: A tensor of size [batch, height_out, width_out, channels] with the
<span class='lineno'> 149</span>       input, either intact (if kernel_size == 1) or padded (if kernel_size &gt; 1).
<span class='lineno'> 150</span>   &quot;&quot;&quot;
<span class='lineno'> 151</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size_effective', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size_effective', title='int'>kernel_size_effective</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', title='?'>kernel_size</a> + (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size', title='?'>kernel_size</a> - 1) * (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.rate', title='int'>rate</a> - 1)
<span class='lineno'> 152</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', title='int'>pad_total</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size_effective', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.kernel_size_effective', title='int'>kernel_size_effective</a> - 1
<span class='lineno'> 153</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', title='int'>pad_beg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', title='int'>pad_total</a> // 2
<span class='lineno'> 154</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', title='int'>pad_end</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_total', title='int'>pad_total</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', title='int'>pad_beg</a>
<span class='lineno'> 155</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.padded_inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.padded_inputs', title='?'>padded_inputs</a> = tf.pad(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.inputs', title='?'>inputs</a>, [[0, 0], [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', title='int'>pad_beg</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', title='int'>pad_end</a>],
<span class='lineno'> 156</span>                                   [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_beg', title='int'>pad_beg</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.pad_end', title='int'>pad_end</a>], [0, 0]])
<span class='lineno'> 157</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.padded_inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fixed_padding.padded_inputs', title='?'>padded_inputs</a>
<span class='lineno'> 158</span> 
<span class='lineno'> 159</span> 
<span class='lineno'> 160</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple', title='(?, ?) -> None'>pad_to_multiple</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>):
<span class='lineno'> 161</span>   &quot;&quot;&quot;Returns the tensor zero padded to the specified multiple.
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span>   Appends 0s to the end of the first and second dimension (height and width) of
<span class='lineno'> 164</span>   the tensor until both dimensions are a multiple of the input argument
<span class='lineno'> 165</span>   &#39;multiple&#39;. E.g. given an input tensor of shape [1, 3, 5, 1] and an input
<span class='lineno'> 166</span>   multiple of 4, PadToMultiple will append 0s so that the resulting tensor will
<span class='lineno'> 167</span>   be of shape [1, 4, 8, 1].
<span class='lineno'> 168</span> 
<span class='lineno'> 169</span>   Args:
<span class='lineno'> 170</span>     tensor: rank 4 float32 tensor, where
<span class='lineno'> 171</span>             tensor -&gt; [batch_size, height, width, channels].
<span class='lineno'> 172</span>     multiple: the multiple to pad to.
<span class='lineno'> 173</span> 
<span class='lineno'> 174</span>   Returns:
<span class='lineno'> 175</span>     padded_tensor: the tensor zero padded to the specified multiple.
<span class='lineno'> 176</span>   &quot;&quot;&quot;
<span class='lineno'> 177</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a> == 1:
<span class='lineno'> 178</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>
<span class='lineno'> 179</span> 
<span class='lineno'> 180</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', title='?'>tensor_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>.get_shape()
<span class='lineno'> 181</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', title='?'>batch_size</a> = static_shape.get_batch_size(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', title='?'>tensor_shape</a>)
<span class='lineno'> 182</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a> = static_shape.get_height(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', title='?'>tensor_shape</a>)
<span class='lineno'> 183</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a> = static_shape.get_width(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', title='?'>tensor_shape</a>)
<span class='lineno'> 184</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', title='?'>tensor_depth</a> = static_shape.get_depth(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_shape', title='?'>tensor_shape</a>)
<span class='lineno'> 185</span> 
<span class='lineno'> 186</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', title='?'>batch_size</a> is None:
<span class='lineno'> 187</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', title='?'>batch_size</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>)[0]
<span class='lineno'> 188</span> 
<span class='lineno'> 189</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a> is None:
<span class='lineno'> 190</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>)[1]
<span class='lineno'> 191</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', title='?'>padded_tensor_height</a> = tf.cast(
<span class='lineno'> 192</span>         tf.ceil(
<span class='lineno'> 193</span>             tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a>, dtype=tf.float32) /
<span class='lineno'> 194</span>             tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>, dtype=tf.float32)),
<span class='lineno'> 195</span>         dtype=tf.int32) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>
<span class='lineno'> 196</span>   else:
<span class='lineno'> 197</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', title='int'>padded_tensor_height</a> = int(
<span class='lineno'> 198</span>         math.ceil(float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>)
<span class='lineno'> 199</span> 
<span class='lineno'> 200</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a> is None:
<span class='lineno'> 201</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>)[2]
<span class='lineno'> 202</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', title='?'>padded_tensor_width</a> = tf.cast(
<span class='lineno'> 203</span>         tf.ceil(
<span class='lineno'> 204</span>             tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a>, dtype=tf.float32) /
<span class='lineno'> 205</span>             tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>, dtype=tf.float32)),
<span class='lineno'> 206</span>         dtype=tf.int32) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>
<span class='lineno'> 207</span>   else:
<span class='lineno'> 208</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', title='int'>padded_tensor_width</a> = int(
<span class='lineno'> 209</span>         math.ceil(float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.multiple', title='?'>multiple</a>)
<span class='lineno'> 210</span> 
<span class='lineno'> 211</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', title='?'>tensor_depth</a> is None:
<span class='lineno'> 212</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', title='?'>tensor_depth</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>)[3]
<span class='lineno'> 213</span> 
<span class='lineno'> 214</span>   # Use tf.concat instead of tf.pad to preserve static shape
<span class='lineno'> 215</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', title='int'>padded_tensor_height</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a>:
<span class='lineno'> 216</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.height_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.height_pad', title='?'>height_pad</a> = tf.zeros([
<span class='lineno'> 217</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', title='?'>batch_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', title='int'>padded_tensor_height</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_height', title='?'>tensor_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a>,
<span class='lineno'> 218</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', title='?'>tensor_depth</a>
<span class='lineno'> 219</span>     ])
<span class='lineno'> 220</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a> = tf.concat([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.height_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.height_pad', title='?'>height_pad</a>], 1)
<span class='lineno'> 221</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', title='int'>padded_tensor_width</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a>:
<span class='lineno'> 222</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.width_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.width_pad', title='?'>width_pad</a> = tf.zeros([
<span class='lineno'> 223</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.batch_size', title='?'>batch_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_height', title='int'>padded_tensor_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.padded_tensor_width', title='int'>padded_tensor_width</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_width', title='?'>tensor_width</a>,
<span class='lineno'> 224</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor_depth', title='?'>tensor_depth</a>
<span class='lineno'> 225</span>     ])
<span class='lineno'> 226</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a> = tf.concat([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.width_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.width_pad', title='?'>width_pad</a>], 2)
<span class='lineno'> 227</span> 
<span class='lineno'> 228</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.pad_to_multiple.tensor', title='?'>tensor</a>
<span class='lineno'> 229</span> 
<span class='lineno'> 230</span> 
<span class='lineno'> 231</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding', title='(?, ?, ?) -> None'>padded_one_hot_encoding</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', title='?'>indices</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a>):
<span class='lineno'> 232</span>   &quot;&quot;&quot;Returns a zero padded one-hot tensor.
<span class='lineno'> 233</span> 
<span class='lineno'> 234</span>   This function converts a sparse representation of indices (e.g., [4]) to a
<span class='lineno'> 235</span>   zero padded one-hot representation (e.g., [0, 0, 0, 0, 1] with depth = 4 and
<span class='lineno'> 236</span>   left_pad = 1). If `indices` is empty, the result will simply be a tensor of
<span class='lineno'> 237</span>   shape (0, depth + left_pad). If depth = 0, then this function just returns
<span class='lineno'> 238</span>   `None`.
<span class='lineno'> 239</span> 
<span class='lineno'> 240</span>   Args:
<span class='lineno'> 241</span>     indices: an integer tensor of shape [num_indices].
<span class='lineno'> 242</span>     depth: depth for the one-hot tensor (integer).
<span class='lineno'> 243</span>     left_pad: number of zeros to left pad the one-hot tensor with (integer).
<span class='lineno'> 244</span> 
<span class='lineno'> 245</span>   Returns:
<span class='lineno'> 246</span>     padded_onehot: a tensor with shape (num_indices, depth + left_pad). Returns
<span class='lineno'> 247</span>       `None` if the depth is zero.
<span class='lineno'> 248</span> 
<span class='lineno'> 249</span>   Raises:
<span class='lineno'> 250</span>     ValueError: if `indices` does not have rank 1 or if `left_pad` or `depth are
<span class='lineno'> 251</span>       either negative or non-integers.
<span class='lineno'> 252</span> 
<span class='lineno'> 253</span>   TODO(rathodv): add runtime checks for depth and indices.
<span class='lineno'> 254</span>   &quot;&quot;&quot;
<span class='lineno'> 255</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a> &lt; 0 or not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a>, six.integer_types):
<span class='lineno'> 256</span>     raise ValueError(&#39;`depth` must be a non-negative integer.&#39;)
<span class='lineno'> 257</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a> &lt; 0 or not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a>, six.integer_types):
<span class='lineno'> 258</span>     raise ValueError(&#39;`left_pad` must be a non-negative integer.&#39;)
<span class='lineno'> 259</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a> == 0:
<span class='lineno'> 260</span>     return None
<span class='lineno'> 261</span> 
<span class='lineno'> 262</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.rank', title='int'>rank</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', title='?'>indices</a>.get_shape().as_list())
<span class='lineno'> 263</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.rank', title='int'>rank</a> != 1:
<span class='lineno'> 264</span>     raise ValueError(&#39;`indices` must have rank 1, but has rank=%s&#39; % rank)
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad', title='() -> None'>one_hot_and_pad</a>():
<span class='lineno'> 267</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad.one_hot', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad.one_hot', title='?'>one_hot</a> = tf.cast(tf.one_hot(tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', title='?'>indices</a>, tf.int64), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a>,
<span class='lineno'> 268</span>                                  on_value=1, off_value=0), tf.float32)
<span class='lineno'> 269</span>     return tf.pad(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad.one_hot', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad.one_hot', title='?'>one_hot</a>, [[0, 0], [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a>, 0]], mode=&#39;CONSTANT&#39;)
<span class='lineno'> 270</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.result', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.result', title='?'>result</a> = tf.cond(tf.greater(tf.size(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.indices', title='?'>indices</a>), 0), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.one_hot_and_pad', title='() -> None'>one_hot_and_pad</a>,
<span class='lineno'> 271</span>                    lambda: tf.zeros((<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a>, 0)))
<span class='lineno'> 272</span>   return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.result', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.result', title='?'>result</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.depth', title='?'>depth</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.padded_one_hot_encoding.left_pad', title='?'>left_pad</a>])
<span class='lineno'> 273</span> 
<span class='lineno'> 274</span> 
<span class='lineno'> 275</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes', title='(?, ?, ?) -> (?, ?)'>dense_to_sparse_boxes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_locations', title='?'>dense_locations</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', title='?'>dense_num_boxes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_classes', title='?'>num_classes</a>):
<span class='lineno'> 276</span>   &quot;&quot;&quot;Converts bounding boxes from dense to sparse form.
<span class='lineno'> 277</span> 
<span class='lineno'> 278</span>   Args:
<span class='lineno'> 279</span>     dense_locations:  a [max_num_boxes, 4] tensor in which only the first k rows
<span class='lineno'> 280</span>       are valid bounding box location coordinates, where k is the sum of
<span class='lineno'> 281</span>       elements in dense_num_boxes.
<span class='lineno'> 282</span>     dense_num_boxes: a [max_num_classes] tensor indicating the counts of
<span class='lineno'> 283</span>        various bounding box classes e.g. [1, 0, 0, 2] means that the first
<span class='lineno'> 284</span>        bounding box is of class 0 and the second and third bounding boxes are
<span class='lineno'> 285</span>        of class 3. The sum of elements in this tensor is the number of valid
<span class='lineno'> 286</span>        bounding boxes.
<span class='lineno'> 287</span>     num_classes: number of classes
<span class='lineno'> 288</span> 
<span class='lineno'> 289</span>   Returns:
<span class='lineno'> 290</span>     box_locations: a [num_boxes, 4] tensor containing only valid bounding
<span class='lineno'> 291</span>        boxes (i.e. the first num_boxes rows of dense_locations)
<span class='lineno'> 292</span>     box_classes: a [num_boxes] tensor containing the classes of each bounding
<span class='lineno'> 293</span>        box (e.g. dense_num_boxes = [1, 0, 0, 2] =&gt; box_classes = [0, 3, 3]
<span class='lineno'> 294</span>   &quot;&quot;&quot;
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_valid_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_valid_boxes', title='?'>num_valid_boxes</a> = tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', title='?'>dense_num_boxes</a>)
<span class='lineno'> 297</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', title='?'>box_locations</a> = tf.slice(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_locations', title='?'>dense_locations</a>,
<span class='lineno'> 298</span>                            tf.constant([0, 0]), tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_valid_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_valid_boxes', title='?'>num_valid_boxes</a>, 4]))
<span class='lineno'> 299</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.tiled_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.tiled_classes', title='[?]'>tiled_classes</a> = [tf.tile([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', title='int'>i</a>], tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.dense_num_boxes', title='?'>dense_num_boxes</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', title='int'>i</a>], 0))
<span class='lineno'> 300</span>                    for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.i', title='int'>i</a></a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.num_classes', title='?'>num_classes</a>)]
<span class='lineno'> 301</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_classes', title='?'>box_classes</a> = tf.concat(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.tiled_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.tiled_classes', title='[?]'>tiled_classes</a>, 0)
<span class='lineno'> 302</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', title='?'>box_locations</a>.set_shape([None, 4])
<span class='lineno'> 303</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_locations', title='?'>box_locations</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.dense_to_sparse_boxes.box_classes', title='?'>box_classes</a>
<span class='lineno'> 304</span> 
<span class='lineno'> 305</span> 
<span class='lineno'> 306</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector', title='(?, ?, float, int, ?) -> None'>indices_to_dense_vector</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', title='?'>indices</a>,
<span class='lineno'> 307</span>                             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', title='?'>size</a>,
<span class='lineno'> 308</span>                             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices_value', title='float'>indices_value</a>=1.,
<span class='lineno'> 309</span>                             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.default_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.default_value', title='int'>default_value</a>=0,
<span class='lineno'> 310</span>                             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', title='?'>dtype</a>=tf.float32):
<span class='lineno'> 311</span>   &quot;&quot;&quot;Creates dense vector with indices set to specific value and rest to zeros.
<span class='lineno'> 312</span> 
<span class='lineno'> 313</span>   This function exists because it is unclear if it is safe to use
<span class='lineno'> 314</span>     tf.sparse_to_dense(indices, [size], 1, validate_indices=False)
<span class='lineno'> 315</span>   with indices which are not ordered.
<span class='lineno'> 316</span>   This function accepts a dynamic size (e.g. tf.shape(tensor)[0])
<span class='lineno'> 317</span> 
<span class='lineno'> 318</span>   Args:
<span class='lineno'> 319</span>     indices: 1d Tensor with integer indices which are to be set to
<span class='lineno'> 320</span>         indices_values.
<span class='lineno'> 321</span>     size: scalar with size (integer) of output Tensor.
<span class='lineno'> 322</span>     indices_value: values of elements specified by indices in the output vector
<span class='lineno'> 323</span>     default_value: values of other elements in the output vector.
<span class='lineno'> 324</span>     dtype: data type.
<span class='lineno'> 325</span> 
<span class='lineno'> 326</span>   Returns:
<span class='lineno'> 327</span>     dense 1D Tensor of shape [size] with indices set to indices_values and the
<span class='lineno'> 328</span>         rest set to default_value.
<span class='lineno'> 329</span>   &quot;&quot;&quot;
<span class='lineno'> 330</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', title='?'>size</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', title='?'>size</a>, dtype=tf.int32)
<span class='lineno'> 331</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.zeros', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.zeros', title='int'>zeros</a> = tf.ones([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', title='?'>size</a>], dtype=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', title='?'>dtype</a>) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.default_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.default_value', title='int'>default_value</a>
<span class='lineno'> 332</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.values', title='float'>values</a> = tf.ones_like(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', title='?'>indices</a>, dtype=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.dtype', title='?'>dtype</a>) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices_value', title='float'>indices_value</a>
<span class='lineno'> 333</span> 
<span class='lineno'> 334</span>   return tf.dynamic_stitch([tf.range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.size', title='?'>size</a>), tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.indices', title='?'>indices</a>, dtype=tf.int32)],
<span class='lineno'> 335</span>                            [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.zeros', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.zeros', title='int'>zeros</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.indices_to_dense_vector.values', title='float'>values</a>])
<span class='lineno'> 336</span> 
<span class='lineno'> 337</span> 
<span class='lineno'> 338</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions', title='(?, ?) -> None'>reduce_sum_trailing_dimensions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', title='?'>tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.ndims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.ndims', title='?'>ndims</a>):
<span class='lineno'> 339</span>   &quot;&quot;&quot;Computes sum across all dimensions following first `ndims` dimensions.&quot;&quot;&quot;
<span class='lineno'> 340</span>   return tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', title='?'>tensor</a>, axis=tuple(range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.ndims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.ndims', title='?'>ndims</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reduce_sum_trailing_dimensions.tensor', title='?'>tensor</a>.shape.ndims)))
<span class='lineno'> 341</span> 
<span class='lineno'> 342</span> 
<span class='lineno'> 343</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', title='(?, ?) -> dict'>retain_groundtruth</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a>):
<span class='lineno'> 344</span>   &quot;&quot;&quot;Retains groundtruth by valid indices.
<span class='lineno'> 345</span> 
<span class='lineno'> 346</span>   Args:
<span class='lineno'> 347</span>     tensor_dict: a dictionary of following groundtruth tensors -
<span class='lineno'> 348</span>       fields.InputDataFields.groundtruth_boxes
<span class='lineno'> 349</span>       fields.InputDataFields.groundtruth_classes
<span class='lineno'> 350</span>       fields.InputDataFields.groundtruth_confidences
<span class='lineno'> 351</span>       fields.InputDataFields.groundtruth_keypoints
<span class='lineno'> 352</span>       fields.InputDataFields.groundtruth_instance_masks
<span class='lineno'> 353</span>       fields.InputDataFields.groundtruth_is_crowd
<span class='lineno'> 354</span>       fields.InputDataFields.groundtruth_area
<span class='lineno'> 355</span>       fields.InputDataFields.groundtruth_label_types
<span class='lineno'> 356</span>       fields.InputDataFields.groundtruth_difficult
<span class='lineno'> 357</span>     valid_indices: a tensor with valid indices for the box-level groundtruth.
<span class='lineno'> 358</span> 
<span class='lineno'> 359</span>   Returns:
<span class='lineno'> 360</span>     a dictionary of tensors containing only the groundtruth for valid_indices.
<span class='lineno'> 361</span> 
<span class='lineno'> 362</span>   Raises:
<span class='lineno'> 363</span>     ValueError: If the shape of valid_indices is invalid.
<span class='lineno'> 364</span>     ValueError: field fields.InputDataFields.groundtruth_boxes is
<span class='lineno'> 365</span>       not present in tensor_dict.
<span class='lineno'> 366</span>   &quot;&quot;&quot;
<span class='lineno'> 367</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', title='?'>input_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a>.get_shape().as_list()
<span class='lineno'> 368</span>   if not (len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', title='?'>input_shape</a>) == 1 or
<span class='lineno'> 369</span>           (len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', title='?'>input_shape</a>) == 2 and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.input_shape', title='?'>input_shape</a>[1] == 1)):
<span class='lineno'> 370</span>     raise ValueError(&#39;The shape of valid_indices is invalid.&#39;)
<span class='lineno'> 371</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a>, [-1])
<span class='lineno'> 372</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', title='dict'>valid_dict</a> = {}
<span class='lineno'> 373</span>   if fields.InputDataFields.groundtruth_boxes in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'> 374</span>     # Prevents reshape failure when num_boxes is 0.
<span class='lineno'> 375</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.num_boxes', title='?'>num_boxes</a> = tf.maximum(tf.shape(
<span class='lineno'> 376</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.groundtruth_boxes])[0], 1)
<span class='lineno'> 377</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'> 378</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a> in [fields.InputDataFields.groundtruth_boxes,
<span class='lineno'> 379</span>                  fields.InputDataFields.groundtruth_classes,
<span class='lineno'> 380</span>                  fields.InputDataFields.groundtruth_confidences,
<span class='lineno'> 381</span>                  fields.InputDataFields.groundtruth_keypoints,
<span class='lineno'> 382</span>                  fields.InputDataFields.groundtruth_keypoint_visibilities,
<span class='lineno'> 383</span>                  fields.InputDataFields.groundtruth_instance_masks]:
<span class='lineno'> 384</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', title='dict'>valid_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>] = tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a>)
<span class='lineno'> 385</span>       # Input decoder returns empty tensor when these fields are not provided.
<span class='lineno'> 386</span>       # Needs to reshape into [num_boxes, -1] for tf.gather() to work.
<span class='lineno'> 387</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a> in [fields.InputDataFields.groundtruth_is_crowd,
<span class='lineno'> 388</span>                    fields.InputDataFields.groundtruth_area,
<span class='lineno'> 389</span>                    fields.InputDataFields.groundtruth_difficult,
<span class='lineno'> 390</span>                    fields.InputDataFields.groundtruth_label_types]:
<span class='lineno'> 391</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', title='dict'>valid_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>] = tf.reshape(
<span class='lineno'> 392</span>             tf.gather(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>], [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.num_boxes', title='?'>num_boxes</a>, -1]),
<span class='lineno'> 393</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_indices', title='?'>valid_indices</a>), [-1])
<span class='lineno'> 394</span>       # Fields that are not associated with boxes.
<span class='lineno'> 395</span>       else:
<span class='lineno'> 396</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', title='dict'>valid_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.tensor_dict', title='?'>tensor_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.key', title='?'>key</a>]
<span class='lineno'> 397</span>   else:
<span class='lineno'> 398</span>     raise ValueError(&#39;%s not present in input tensor dict.&#39; % (
<span class='lineno'> 399</span>         fields.InputDataFields.groundtruth_boxes))
<span class='lineno'> 400</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth.valid_dict', title='dict'>valid_dict</a>
<span class='lineno'> 401</span> 
<span class='lineno'> 402</span> 
<span class='lineno'> 403</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes', title='? -> dict'>retain_groundtruth_with_positive_classes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'> 404</span>   &quot;&quot;&quot;Retains only groundtruth with positive class ids.
<span class='lineno'> 405</span> 
<span class='lineno'> 406</span>   Args:
<span class='lineno'> 407</span>     tensor_dict: a dictionary of following groundtruth tensors -
<span class='lineno'> 408</span>       fields.InputDataFields.groundtruth_boxes
<span class='lineno'> 409</span>       fields.InputDataFields.groundtruth_classes
<span class='lineno'> 410</span>       fields.InputDataFields.groundtruth_confidences
<span class='lineno'> 411</span>       fields.InputDataFields.groundtruth_keypoints
<span class='lineno'> 412</span>       fields.InputDataFields.groundtruth_instance_masks
<span class='lineno'> 413</span>       fields.InputDataFields.groundtruth_is_crowd
<span class='lineno'> 414</span>       fields.InputDataFields.groundtruth_area
<span class='lineno'> 415</span>       fields.InputDataFields.groundtruth_label_types
<span class='lineno'> 416</span>       fields.InputDataFields.groundtruth_difficult
<span class='lineno'> 417</span> 
<span class='lineno'> 418</span>   Returns:
<span class='lineno'> 419</span>     a dictionary of tensors containing only the groundtruth with positive
<span class='lineno'> 420</span>     classes.
<span class='lineno'> 421</span> 
<span class='lineno'> 422</span>   Raises:
<span class='lineno'> 423</span>     ValueError: If groundtruth_classes tensor is not in tensor_dict.
<span class='lineno'> 424</span>   &quot;&quot;&quot;
<span class='lineno'> 425</span>   if fields.InputDataFields.groundtruth_classes not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'> 426</span>     raise ValueError(&#39;`groundtruth classes` not in tensor_dict.&#39;)
<span class='lineno'> 427</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.keep_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.keep_indices', title='?'>keep_indices</a> = tf.where(tf.greater(
<span class='lineno'> 428</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.groundtruth_classes], 0))
<span class='lineno'> 429</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', title='(?, ?) -> dict'>retain_groundtruth</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.tensor_dict', title='?'>tensor_dict</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.keep_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth_with_positive_classes.keep_indices', title='?'>keep_indices</a>)
<span class='lineno'> 430</span> 
<span class='lineno'> 431</span> 
<span class='lineno'> 432</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones', title='? -> None'>replace_nan_groundtruth_label_scores_with_ones</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', title='?'>label_scores</a>):
<span class='lineno'> 433</span>   &quot;&quot;&quot;Replaces nan label scores with 1.0.
<span class='lineno'> 434</span> 
<span class='lineno'> 435</span>   Args:
<span class='lineno'> 436</span>     label_scores: a tensor containing object annoation label scores.
<span class='lineno'> 437</span> 
<span class='lineno'> 438</span>   Returns:
<span class='lineno'> 439</span>     a tensor where NaN label scores have been replaced by ones.
<span class='lineno'> 440</span>   &quot;&quot;&quot;
<span class='lineno'> 441</span>   return tf.where(
<span class='lineno'> 442</span>       tf.is_nan(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', title='?'>label_scores</a>), tf.ones(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', title='?'>label_scores</a>)), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.replace_nan_groundtruth_label_scores_with_ones.label_scores', title='?'>label_scores</a>)
<span class='lineno'> 443</span> 
<span class='lineno'> 444</span> 
<span class='lineno'> 445</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes', title='? -> dict'>filter_groundtruth_with_crowd_boxes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'> 446</span>   &quot;&quot;&quot;Filters out groundtruth with boxes corresponding to crowd.
<span class='lineno'> 447</span> 
<span class='lineno'> 448</span>   Args:
<span class='lineno'> 449</span>     tensor_dict: a dictionary of following groundtruth tensors -
<span class='lineno'> 450</span>       fields.InputDataFields.groundtruth_boxes
<span class='lineno'> 451</span>       fields.InputDataFields.groundtruth_classes
<span class='lineno'> 452</span>       fields.InputDataFields.groundtruth_confidences
<span class='lineno'> 453</span>       fields.InputDataFields.groundtruth_keypoints
<span class='lineno'> 454</span>       fields.InputDataFields.groundtruth_instance_masks
<span class='lineno'> 455</span>       fields.InputDataFields.groundtruth_is_crowd
<span class='lineno'> 456</span>       fields.InputDataFields.groundtruth_area
<span class='lineno'> 457</span>       fields.InputDataFields.groundtruth_label_types
<span class='lineno'> 458</span> 
<span class='lineno'> 459</span>   Returns:
<span class='lineno'> 460</span>     a dictionary of tensors containing only the groundtruth that have bounding
<span class='lineno'> 461</span>     boxes.
<span class='lineno'> 462</span>   &quot;&quot;&quot;
<span class='lineno'> 463</span>   if fields.InputDataFields.groundtruth_is_crowd in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'> 464</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_crowd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_crowd', title='?'>is_crowd</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.groundtruth_is_crowd]
<span class='lineno'> 465</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd', title='?'>is_not_crowd</a> = tf.logical_not(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_crowd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_crowd', title='?'>is_crowd</a>)
<span class='lineno'> 466</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd_indices', title='?'>is_not_crowd_indices</a> = tf.where(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd', title='?'>is_not_crowd</a>)
<span class='lineno'> 467</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='dict'>tensor_dict</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', title='(?, ?) -> dict'>retain_groundtruth</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='?'>tensor_dict</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.is_not_crowd_indices', title='?'>is_not_crowd_indices</a>)
<span class='lineno'> 468</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_crowd_boxes.tensor_dict', title='dict'>tensor_dict</a>
<span class='lineno'> 469</span> 
<span class='lineno'> 470</span> 
<span class='lineno'> 471</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates', title='? -> dict'>filter_groundtruth_with_nan_box_coordinates</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'> 472</span>   &quot;&quot;&quot;Filters out groundtruth with no bounding boxes.
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span>   Args:
<span class='lineno'> 475</span>     tensor_dict: a dictionary of following groundtruth tensors -
<span class='lineno'> 476</span>       fields.InputDataFields.groundtruth_boxes
<span class='lineno'> 477</span>       fields.InputDataFields.groundtruth_classes
<span class='lineno'> 478</span>       fields.InputDataFields.groundtruth_confidences
<span class='lineno'> 479</span>       fields.InputDataFields.groundtruth_keypoints
<span class='lineno'> 480</span>       fields.InputDataFields.groundtruth_instance_masks
<span class='lineno'> 481</span>       fields.InputDataFields.groundtruth_is_crowd
<span class='lineno'> 482</span>       fields.InputDataFields.groundtruth_area
<span class='lineno'> 483</span>       fields.InputDataFields.groundtruth_label_types
<span class='lineno'> 484</span> 
<span class='lineno'> 485</span>   Returns:
<span class='lineno'> 486</span>     a dictionary of tensors containing only the groundtruth that have bounding
<span class='lineno'> 487</span>     boxes.
<span class='lineno'> 488</span>   &quot;&quot;&quot;
<span class='lineno'> 489</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.groundtruth_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.groundtruth_boxes', title='?'>groundtruth_boxes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.groundtruth_boxes]
<span class='lineno'> 490</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.nan_indicator_vector', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.nan_indicator_vector', title='?'>nan_indicator_vector</a> = tf.greater(tf.reduce_sum(tf.cast(
<span class='lineno'> 491</span>       tf.is_nan(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.groundtruth_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.groundtruth_boxes', title='?'>groundtruth_boxes</a>), dtype=tf.int32), reduction_indices=[1]), 0)
<span class='lineno'> 492</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indicator_vector', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indicator_vector', title='?'>valid_indicator_vector</a> = tf.logical_not(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.nan_indicator_vector', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.nan_indicator_vector', title='?'>nan_indicator_vector</a>)
<span class='lineno'> 493</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indices', title='?'>valid_indices</a> = tf.where(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indicator_vector', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indicator_vector', title='?'>valid_indicator_vector</a>)
<span class='lineno'> 494</span> 
<span class='lineno'> 495</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', title='(?, ?) -> dict'>retain_groundtruth</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.tensor_dict', title='?'>tensor_dict</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_groundtruth_with_nan_box_coordinates.valid_indices', title='?'>valid_indices</a>)
<span class='lineno'> 496</span> 
<span class='lineno'> 497</span> 
<span class='lineno'> 498</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes', title='? -> dict'>filter_unrecognized_classes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'> 499</span>   &quot;&quot;&quot;Filters out class labels that are not unrecognized by the labelmap.
<span class='lineno'> 500</span> 
<span class='lineno'> 501</span>   Decoder would parse unrecognized classes (not included in the labelmap) to
<span class='lineno'> 502</span>   a label of value -1. Such targets are unecessary for training, and causes
<span class='lineno'> 503</span>   issue for evaluation, due to labeling mapping logic. This function filters
<span class='lineno'> 504</span>   those labels out for both training and evaluation.
<span class='lineno'> 505</span> 
<span class='lineno'> 506</span>   Args:
<span class='lineno'> 507</span>     tensor_dict: dictionary containing input tensors keyed by
<span class='lineno'> 508</span>       fields.InputDataFields.
<span class='lineno'> 509</span> 
<span class='lineno'> 510</span>   Returns:
<span class='lineno'> 511</span>     A dictionary keyed by fields.InputDataFields containing the tensors
<span class='lineno'> 512</span>     obtained after applying the filtering.
<span class='lineno'> 513</span> 
<span class='lineno'> 514</span>   Raises:
<span class='lineno'> 515</span>     ValueError: If groundtruth_classes tensor is not in tensor_dict.
<span class='lineno'> 516</span>   &quot;&quot;&quot;
<span class='lineno'> 517</span>   if fields.InputDataFields.groundtruth_classes not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'> 518</span>     raise ValueError(&#39;`groundtruth classes` not in tensor_dict.&#39;)
<span class='lineno'> 519</span>   # Refer to tf_example_decoder for how unrecognized labels are handled.
<span class='lineno'> 520</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.unrecognized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.unrecognized_label', title='int'>unrecognized_label</a> = -1
<span class='lineno'> 521</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.recognized_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.recognized_indices', title='?'>recognized_indices</a> = tf.where(
<span class='lineno'> 522</span>       tf.greater(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.groundtruth_classes],
<span class='lineno'> 523</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.unrecognized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.unrecognized_label', title='int'>unrecognized_label</a>))
<span class='lineno'> 524</span> 
<span class='lineno'> 525</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.retain_groundtruth', title='(?, ?) -> dict'>retain_groundtruth</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.tensor_dict', title='?'>tensor_dict</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.recognized_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.filter_unrecognized_classes.recognized_indices', title='?'>recognized_indices</a>)
<span class='lineno'> 526</span> 
<span class='lineno'> 527</span> 
<span class='lineno'> 528</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target', title='(?, ?, ?, float, bool, str, bool) -> None'>normalize_to_target</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>,
<span class='lineno'> 529</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>,
<span class='lineno'> 530</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a>,
<span class='lineno'> 531</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.epsilon', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.epsilon', title='float'>epsilon</a>=1e-7,
<span class='lineno'> 532</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.trainable', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.trainable', title='bool'>trainable</a>=True,
<span class='lineno'> 533</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.scope', title='str'>scope</a>=&#39;NormalizeToTarget&#39;,
<span class='lineno'> 534</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.summarize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.summarize', title='bool'>summarize</a>=True):
<span class='lineno'> 535</span>   &quot;&quot;&quot;L2 normalizes the inputs across the specified dimension to a target norm.
<span class='lineno'> 536</span> 
<span class='lineno'> 537</span>   This op implements the L2 Normalization layer introduced in
<span class='lineno'> 538</span>   Liu, Wei, et al. &quot;SSD: Single Shot MultiBox Detector.&quot;
<span class='lineno'> 539</span>   and Liu, Wei, Andrew Rabinovich, and Alexander C. Berg.
<span class='lineno'> 540</span>   &quot;Parsenet: Looking wider to see better.&quot; and is useful for bringing
<span class='lineno'> 541</span>   activations from multiple layers in a convnet to a standard scale.
<span class='lineno'> 542</span> 
<span class='lineno'> 543</span>   Note that the rank of `inputs` must be known and the dimension to which
<span class='lineno'> 544</span>   normalization is to be applied should be statically defined.
<span class='lineno'> 545</span> 
<span class='lineno'> 546</span>   TODO(jonathanhuang): Add option to scale by L2 norm of the entire input.
<span class='lineno'> 547</span> 
<span class='lineno'> 548</span>   Args:
<span class='lineno'> 549</span>     inputs: A `Tensor` of arbitrary size.
<span class='lineno'> 550</span>     target_norm_value: A float value that specifies an initial target norm or
<span class='lineno'> 551</span>       a list of floats (whose length must be equal to the depth along the
<span class='lineno'> 552</span>       dimension to be normalized) specifying a per-dimension multiplier
<span class='lineno'> 553</span>       after normalization.
<span class='lineno'> 554</span>     dim: The dimension along which the input is normalized.
<span class='lineno'> 555</span>     epsilon: A small value to add to the inputs to avoid dividing by zero.
<span class='lineno'> 556</span>     trainable: Whether the norm is trainable or not
<span class='lineno'> 557</span>     scope: Optional scope for variable_scope.
<span class='lineno'> 558</span>     summarize: Whether or not to add a tensorflow summary for the op.
<span class='lineno'> 559</span> 
<span class='lineno'> 560</span>   Returns:
<span class='lineno'> 561</span>     The input tensor normalized to the specified target norm.
<span class='lineno'> 562</span> 
<span class='lineno'> 563</span>   Raises:
<span class='lineno'> 564</span>     ValueError: If dim is smaller than the number of dimensions in &#39;inputs&#39;.
<span class='lineno'> 565</span>     ValueError: If target_norm_value is not a float or a list of floats with
<span class='lineno'> 566</span>       length equal to the depth along the dimension to be normalized.
<span class='lineno'> 567</span>   &quot;&quot;&quot;
<span class='lineno'> 568</span>   with tf.variable_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.scope', title='str'>scope</a>, &#39;NormalizeToTarget&#39;, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>]):
<span class='lineno'> 569</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>.get_shape():
<span class='lineno'> 570</span>       raise ValueError(&#39;The input rank must be known.&#39;)
<span class='lineno'> 571</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', title='?'>input_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>.get_shape().as_list()
<span class='lineno'> 572</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', title='int'>input_rank</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', title='?'>input_shape</a>)
<span class='lineno'> 573</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', title='int'>input_rank</a>:
<span class='lineno'> 574</span>       raise ValueError(
<span class='lineno'> 575</span>           &#39;dim must be non-negative but smaller than the input rank.&#39;)
<span class='lineno'> 576</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', title='?'>input_shape</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a>]:
<span class='lineno'> 577</span>       raise ValueError(&#39;input shape should be statically defined along &#39;
<span class='lineno'> 578</span>                        &#39;the specified dimension.&#39;)
<span class='lineno'> 579</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', title='?'>depth</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_shape', title='?'>input_shape</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a>]
<span class='lineno'> 580</span>     if not (isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>, float) or
<span class='lineno'> 581</span>             (isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>, list) and
<span class='lineno'> 582</span>              len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>) == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', title='?'>depth</a>) and
<span class='lineno'> 583</span>             all([isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', title='?'>val</a>, float) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.val', title='?'>val</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>])):
<span class='lineno'> 584</span>       raise ValueError(&#39;target_norm_value must be a float or a list of floats &#39;
<span class='lineno'> 585</span>                        &#39;with length equal to the depth along the dimension to &#39;
<span class='lineno'> 586</span>                        &#39;be normalized.&#39;)
<span class='lineno'> 587</span>     if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='float'>target_norm_value</a></a>, float):
<span class='lineno'> 588</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', title='[float]'>initial_norm</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', title='?'>depth</a> * [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='float'>target_norm_value</a>]
<span class='lineno'> 589</span>     else:
<span class='lineno'> 590</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', title='?'>initial_norm</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm_value', title='?'>target_norm_value</a>
<span class='lineno'> 591</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', title='?'>target_norm</a> = slim.model_variable(
<span class='lineno'> 592</span>         name=&#39;weights&#39;,
<span class='lineno'> 593</span>         dtype=tf.float32,
<span class='lineno'> 594</span>         initializer=tf.constant(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.initial_norm', title='[float]'>initial_norm</a>, dtype=tf.float32),
<span class='lineno'> 595</span>         trainable=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.trainable', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.trainable', title='bool'>trainable</a>)
<span class='lineno'> 596</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.summarize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.summarize', title='bool'>summarize</a>:
<span class='lineno'> 597</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mean', title='?'>mean</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', title='?'>target_norm</a>)
<span class='lineno'> 598</span>       tf.summary.scalar(tf.get_variable_scope().name, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mean', title='?'>mean</a>)
<span class='lineno'> 599</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.lengths', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.lengths', title='float'>lengths</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.epsilon', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.epsilon', title='float'>epsilon</a> + tf.sqrt(tf.reduce_sum(tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a>, True))
<span class='lineno'> 600</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', title='int'>mult_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.input_rank', title='int'>input_rank</a>*[1]
<span class='lineno'> 601</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', title='int'>mult_shape</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.dim', title='?'>dim</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.depth', title='?'>depth</a>
<span class='lineno'> 602</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.target_norm', title='?'>target_norm</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.mult_shape', title='int'>mult_shape</a>) * tf.truediv(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.inputs', title='?'>inputs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.lengths', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.normalize_to_target.lengths', title='float'>lengths</a>)
<span class='lineno'> 603</span> 
<span class='lineno'> 604</span> 
<span class='lineno'> 605</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions', title='(?, ?, ?, ?, ?, int) -> None'>batch_position_sensitive_crop_regions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.images', title='?'>images</a>,
<span class='lineno'> 606</span>                                           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.boxes', title='?'>boxes</a>,
<span class='lineno'> 607</span>                                           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.crop_size', title='?'>crop_size</a>,
<span class='lineno'> 608</span>                                           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>,
<span class='lineno'> 609</span>                                           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.global_pool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.global_pool', title='?'>global_pool</a>,
<span class='lineno'> 610</span>                                           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.parallel_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.parallel_iterations', title='int'>parallel_iterations</a>=64):
<span class='lineno'> 611</span>   &quot;&quot;&quot;Position sensitive crop with batches of images and boxes.
<span class='lineno'> 612</span> 
<span class='lineno'> 613</span>   This op is exactly like `position_sensitive_crop_regions` below but operates
<span class='lineno'> 614</span>   on batches of images and boxes. See `position_sensitive_crop_regions` function
<span class='lineno'> 615</span>   below for the operation applied per batch element.
<span class='lineno'> 616</span> 
<span class='lineno'> 617</span>   Args:
<span class='lineno'> 618</span>     images: A `Tensor`. Must be one of the following types: `uint8`, `int8`,
<span class='lineno'> 619</span>       `int16`, `int32`, `int64`, `half`, `float32`, `float64`.
<span class='lineno'> 620</span>       A 4-D tensor of shape `[batch, image_height, image_width, depth]`.
<span class='lineno'> 621</span>       Both `image_height` and `image_width` need to be positive.
<span class='lineno'> 622</span>     boxes: A `Tensor` of type `float32`.
<span class='lineno'> 623</span>       A 3-D tensor of shape `[batch, num_boxes, 4]`. Each box is specified in
<span class='lineno'> 624</span>       normalized coordinates `[y1, x1, y2, x2]`. A normalized coordinate value
<span class='lineno'> 625</span>       of `y` is mapped to the image coordinate at `y * (image_height - 1)`, so
<span class='lineno'> 626</span>       as the `[0, 1]` interval of normalized image height is mapped to
<span class='lineno'> 627</span>       `[0, image_height - 1] in image height coordinates. We do allow y1 &gt; y2,
<span class='lineno'> 628</span>       in which case the sampled crop is an up-down flipped version of the
<span class='lineno'> 629</span>       original image. The width dimension is treated similarly.
<span class='lineno'> 630</span>     crop_size: See `position_sensitive_crop_regions` below.
<span class='lineno'> 631</span>     num_spatial_bins: See `position_sensitive_crop_regions` below.
<span class='lineno'> 632</span>     global_pool: See `position_sensitive_crop_regions` below.
<span class='lineno'> 633</span>     parallel_iterations: Number of batch items to process in parallel.
<span class='lineno'> 634</span> 
<span class='lineno'> 635</span>   Returns:
<span class='lineno'> 636</span>   &quot;&quot;&quot;
<span class='lineno'> 637</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn', title='? -> None'>_position_sensitive_crop_fn</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.inputs', title='?'>inputs</a>):
<span class='lineno'> 638</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.images', title='?'>images</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.boxes', title='?'>boxes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.inputs', title='?'>inputs</a>
<span class='lineno'> 639</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions', title='(?, ?, ?, ?, ?) -> None'>position_sensitive_crop_regions</a>(
<span class='lineno'> 640</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.images', title='?'>images</a>,
<span class='lineno'> 641</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn.boxes', title='?'>boxes</a>,
<span class='lineno'> 642</span>         crop_size=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.crop_size', title='?'>crop_size</a>,
<span class='lineno'> 643</span>         num_spatial_bins=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>,
<span class='lineno'> 644</span>         global_pool=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.global_pool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.global_pool', title='?'>global_pool</a>)
<span class='lineno'> 645</span> 
<span class='lineno'> 646</span>   return shape_utils.static_or_dynamic_map_fn(
<span class='lineno'> 647</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions._position_sensitive_crop_fn', title='? -> None'>_position_sensitive_crop_fn</a>,
<span class='lineno'> 648</span>       elems=[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.images', title='?'>images</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.boxes', title='?'>boxes</a>],
<span class='lineno'> 649</span>       dtype=tf.float32,
<span class='lineno'> 650</span>       parallel_iterations=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.parallel_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.batch_position_sensitive_crop_regions.parallel_iterations', title='int'>parallel_iterations</a>)
<span class='lineno'> 651</span> 
<span class='lineno'> 652</span> 
<span class='lineno'> 653</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions', title='(?, ?, ?, ?, ?) -> None'>position_sensitive_crop_regions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image', title='?'>image</a>,
<span class='lineno'> 654</span>                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', title='?'>boxes</a>,
<span class='lineno'> 655</span>                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop_size', title='?'>crop_size</a>,
<span class='lineno'> 656</span>                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>,
<span class='lineno'> 657</span>                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', title='?'>global_pool</a>):
<span class='lineno'> 658</span>   &quot;&quot;&quot;Position-sensitive crop and pool rectangular regions from a feature grid.
<span class='lineno'> 659</span> 
<span class='lineno'> 660</span>   The output crops are split into `spatial_bins_y` vertical bins
<span class='lineno'> 661</span>   and `spatial_bins_x` horizontal bins. For each intersection of a vertical
<span class='lineno'> 662</span>   and a horizontal bin the output values are gathered by performing
<span class='lineno'> 663</span>   `tf.image.crop_and_resize` (bilinear resampling) on a a separate subset of
<span class='lineno'> 664</span>   channels of the image. This reduces `depth` by a factor of
<span class='lineno'> 665</span>   `(spatial_bins_y * spatial_bins_x)`.
<span class='lineno'> 666</span> 
<span class='lineno'> 667</span>   When global_pool is True, this function implements a differentiable version
<span class='lineno'> 668</span>   of position-sensitive RoI pooling used in
<span class='lineno'> 669</span>   [R-FCN detection system](https://arxiv.org/abs/1605.06409).
<span class='lineno'> 670</span> 
<span class='lineno'> 671</span>   When global_pool is False, this function implements a differentiable version
<span class='lineno'> 672</span>   of position-sensitive assembling operation used in
<span class='lineno'> 673</span>   [instance FCN](https://arxiv.org/abs/1603.08678).
<span class='lineno'> 674</span> 
<span class='lineno'> 675</span>   Args:
<span class='lineno'> 676</span>     image: A `Tensor`. Must be one of the following types: `uint8`, `int8`,
<span class='lineno'> 677</span>       `int16`, `int32`, `int64`, `half`, `float32`, `float64`.
<span class='lineno'> 678</span>       A 3-D tensor of shape `[image_height, image_width, depth]`.
<span class='lineno'> 679</span>       Both `image_height` and `image_width` need to be positive.
<span class='lineno'> 680</span>     boxes: A `Tensor` of type `float32`.
<span class='lineno'> 681</span>       A 2-D tensor of shape `[num_boxes, 4]`. Each box is specified in
<span class='lineno'> 682</span>       normalized coordinates `[y1, x1, y2, x2]`. A normalized coordinate value
<span class='lineno'> 683</span>       of `y` is mapped to the image coordinate at `y * (image_height - 1)`, so
<span class='lineno'> 684</span>       as the `[0, 1]` interval of normalized image height is mapped to
<span class='lineno'> 685</span>       `[0, image_height - 1] in image height coordinates. We do allow y1 &gt; y2,
<span class='lineno'> 686</span>       in which case the sampled crop is an up-down flipped version of the
<span class='lineno'> 687</span>       original image. The width dimension is treated similarly.
<span class='lineno'> 688</span>     crop_size: A list of two integers `[crop_height, crop_width]`. All
<span class='lineno'> 689</span>       cropped image patches are resized to this size. The aspect ratio of the
<span class='lineno'> 690</span>       image content is not preserved. Both `crop_height` and `crop_width` need
<span class='lineno'> 691</span>       to be positive.
<span class='lineno'> 692</span>     num_spatial_bins: A list of two integers `[spatial_bins_y, spatial_bins_x]`.
<span class='lineno'> 693</span>       Represents the number of position-sensitive bins in y and x directions.
<span class='lineno'> 694</span>       Both values should be &gt;= 1. `crop_height` should be divisible by
<span class='lineno'> 695</span>       `spatial_bins_y`, and similarly for width.
<span class='lineno'> 696</span>       The number of image channels should be divisible by
<span class='lineno'> 697</span>       (spatial_bins_y * spatial_bins_x).
<span class='lineno'> 698</span>       Suggested value from R-FCN paper: [3, 3].
<span class='lineno'> 699</span>     global_pool: A boolean variable.
<span class='lineno'> 700</span>       If True, we perform average global pooling on the features assembled from
<span class='lineno'> 701</span>         the position-sensitive score maps.
<span class='lineno'> 702</span>       If False, we keep the position-pooled features without global pooling
<span class='lineno'> 703</span>         over the spatial coordinates.
<span class='lineno'> 704</span>       Note that using global_pool=True is equivalent to but more efficient than
<span class='lineno'> 705</span>         running the function with global_pool=False and then performing global
<span class='lineno'> 706</span>         average pooling.
<span class='lineno'> 707</span> 
<span class='lineno'> 708</span>   Returns:
<span class='lineno'> 709</span>     position_sensitive_features: A 4-D tensor of shape
<span class='lineno'> 710</span>       `[num_boxes, K, K, crop_channels]`,
<span class='lineno'> 711</span>       where `crop_channels = depth / (spatial_bins_y * spatial_bins_x)`,
<span class='lineno'> 712</span>       where K = 1 when global_pool is True (Average-pooled cropped regions),
<span class='lineno'> 713</span>       and K = crop_size when global_pool is False.
<span class='lineno'> 714</span>   Raises:
<span class='lineno'> 715</span>     ValueError: Raised in four situations:
<span class='lineno'> 716</span>       `num_spatial_bins` is not &gt;= 1;
<span class='lineno'> 717</span>       `num_spatial_bins` does not divide `crop_size`;
<span class='lineno'> 718</span>       `(spatial_bins_y*spatial_bins_x)` does not divide `depth`;
<span class='lineno'> 719</span>       `bin_crop_size` is not square when global_pool=False due to the
<span class='lineno'> 720</span>         constraint in function space_to_depth.
<span class='lineno'> 721</span>   &quot;&quot;&quot;
<span class='lineno'> 722</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', title='int'>total_bins</a> = 1
<span class='lineno'> 723</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a> = []
<span class='lineno'> 724</span> 
<span class='lineno'> 725</span>   for (num_bins, crop_dim) in zip(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop_size', title='?'>crop_size</a>):
<span class='lineno'> 726</span>     if num_bins &lt; 1:
<span class='lineno'> 727</span>       raise ValueError(&#39;num_spatial_bins should be &gt;= 1&#39;)
<span class='lineno'> 728</span> 
<span class='lineno'> 729</span>     if crop_dim % num_bins != 0:
<span class='lineno'> 730</span>       raise ValueError(&#39;crop_size should be divisible by num_spatial_bins&#39;)
<span class='lineno'> 731</span> 
<span class='lineno'> 732</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', title='int'>total_bins</a></a> *= num_bins
<span class='lineno'> 733</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>.append(crop_dim // num_bins)
<span class='lineno'> 734</span> 
<span class='lineno'> 735</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', title='?'>global_pool</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>[0] != <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>[1]:
<span class='lineno'> 736</span>     raise ValueError(&#39;Only support square bin crop size for now.&#39;)
<span class='lineno'> 737</span> 
<span class='lineno'> 738</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', title='?'>ymin</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', title='?'>xmin</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymax', title='?'>ymax</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmax', title='?'>xmax</a> = tf.unstack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', title='?'>boxes</a>, axis=1)
<span class='lineno'> 739</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', title='?'>spatial_bins_y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', title='?'>spatial_bins_x</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>
<span class='lineno'> 740</span> 
<span class='lineno'> 741</span>   # Split each box into spatial_bins_y * spatial_bins_x bins.
<span class='lineno'> 742</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', title='[?]'>position_sensitive_boxes</a> = []
<span class='lineno'> 743</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', title='int'>bin_y</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', title='?'>spatial_bins_y</a>):
<span class='lineno'> 744</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', title='?'>step_y</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymax', title='?'>ymax</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', title='?'>ymin</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_y', title='?'>spatial_bins_y</a>
<span class='lineno'> 745</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', title='int'>bin_x</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', title='?'>spatial_bins_x</a>):
<span class='lineno'> 746</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', title='?'>step_x</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmax', title='?'>xmax</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', title='?'>xmin</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.spatial_bins_x', title='?'>spatial_bins_x</a>
<span class='lineno'> 747</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.box_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.box_coordinates', title='[int]'>box_coordinates</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', title='?'>ymin</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', title='int'>bin_y</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', title='?'>step_y</a>,
<span class='lineno'> 748</span>                          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', title='?'>xmin</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', title='int'>bin_x</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', title='?'>step_x</a>,
<span class='lineno'> 749</span>                          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.ymin', title='?'>ymin</a> + (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_y', title='int'>bin_y</a> + 1) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_y', title='?'>step_y</a>,
<span class='lineno'> 750</span>                          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.xmin', title='?'>xmin</a> + (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_x', title='int'>bin_x</a> + 1) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.step_x', title='?'>step_x</a>,
<span class='lineno'> 751</span>                         ]
<span class='lineno'> 752</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', title='[?]'>position_sensitive_boxes</a>.append(tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.box_coordinates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.box_coordinates', title='[int]'>box_coordinates</a>, axis=1))
<span class='lineno'> 753</span> 
<span class='lineno'> 754</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_splits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_splits', title='?'>image_splits</a> = tf.split(value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image', title='?'>image</a>, num_or_size_splits=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.total_bins', title='int'>total_bins</a>, axis=2)
<span class='lineno'> 755</span> 
<span class='lineno'> 756</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a> = []
<span class='lineno'> 757</span>   for (split, box) in zip(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_splits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_splits', title='?'>image_splits</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_boxes', title='[?]'>position_sensitive_boxes</a>):
<span class='lineno'> 758</span>     if split.shape.is_fully_defined() and box.shape.is_fully_defined():
<span class='lineno'> 759</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'>crop</a> = tf.squeeze(
<span class='lineno'> 760</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_crop_and_resize', title='?'>matmul_crop_and_resize</a>(
<span class='lineno'> 761</span>               tf.expand_dims(split, axis=0), tf.expand_dims(box, axis=0),
<span class='lineno'> 762</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>),
<span class='lineno'> 763</span>           axis=0)
<span class='lineno'> 764</span>     else:
<span class='lineno'> 765</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'>crop</a> = tf.image.crop_and_resize(
<span class='lineno'> 766</span>           tf.expand_dims(split, 0), box,
<span class='lineno'> 767</span>           tf.zeros(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.boxes', title='?'>boxes</a>)[0], dtype=tf.int32), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>)
<span class='lineno'> 768</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'>crop</a>)
<span class='lineno'> 769</span> 
<span class='lineno'> 770</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.global_pool', title='?'>global_pool</a>:
<span class='lineno'> 771</span>     # Average over all bins.
<span class='lineno'> 772</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='int'>position_sensitive_features</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a>) / len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a>)
<span class='lineno'> 773</span>     # Then average over spatial positions within the bins.
<span class='lineno'> 774</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a> = tf.reduce_mean(
<span class='lineno'> 775</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='int'>position_sensitive_features</a>, [1, 2], keepdims=True)
<span class='lineno'> 776</span>   else:
<span class='lineno'> 777</span>     # Reorder height/width to depth channel.
<span class='lineno'> 778</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', title='?'>block_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.bin_crop_size', title='[?]'>bin_crop_size</a>[0]
<span class='lineno'> 779</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', title='?'>block_size</a> &gt;= 2:
<span class='lineno'> 780</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a> = [tf.space_to_depth(
<span class='lineno'> 781</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'>crop</a>, block_size=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', title='?'>block_size</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.crop', title='?'>crop</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a>]
<span class='lineno'> 782</span> 
<span class='lineno'> 783</span>     # Pack image_crops so that first dimension is for position-senstive boxes.
<span class='lineno'> 784</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a> = tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.image_crops', title='[?]'>image_crops</a>, axis=0)
<span class='lineno'> 785</span> 
<span class='lineno'> 786</span>     # Unroll the position-sensitive boxes to spatial positions.
<span class='lineno'> 787</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a> = tf.squeeze(
<span class='lineno'> 788</span>         tf.batch_to_space_nd(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a>,
<span class='lineno'> 789</span>                              block_shape=[1] + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.num_spatial_bins', title='?'>num_spatial_bins</a>,
<span class='lineno'> 790</span>                              crops=tf.zeros((3, 2), dtype=tf.int32)),
<span class='lineno'> 791</span>         axis=[0])
<span class='lineno'> 792</span> 
<span class='lineno'> 793</span>     # Reorder back the depth channel.
<span class='lineno'> 794</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', title='?'>block_size</a> &gt;= 2:
<span class='lineno'> 795</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a> = tf.depth_to_space(
<span class='lineno'> 796</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a>, block_size=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.block_size', title='?'>block_size</a>)
<span class='lineno'> 797</span> 
<span class='lineno'> 798</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.position_sensitive_crop_regions.position_sensitive_features', title='?'>position_sensitive_features</a>
<span class='lineno'> 799</span> 
<span class='lineno'> 800</span> 
<span class='lineno'> 801</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks', title='(?, ?, ?, ?) -> None'>reframe_box_masks_to_image_masks</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', title='?'>box_masks</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.boxes', title='?'>boxes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', title='?'>image_height</a>,
<span class='lineno'> 802</span>                                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', title='?'>image_width</a>):
<span class='lineno'> 803</span>   &quot;&quot;&quot;Transforms the box masks back to full image masks.
<span class='lineno'> 804</span> 
<span class='lineno'> 805</span>   Embeds masks in bounding boxes of larger masks whose shapes correspond to
<span class='lineno'> 806</span>   image shape.
<span class='lineno'> 807</span> 
<span class='lineno'> 808</span>   Args:
<span class='lineno'> 809</span>     box_masks: A tf.float32 tensor of size [num_masks, mask_height, mask_width].
<span class='lineno'> 810</span>     boxes: A tf.float32 tensor of size [num_masks, 4] containing the box
<span class='lineno'> 811</span>            corners. Row i contains [ymin, xmin, ymax, xmax] of the box
<span class='lineno'> 812</span>            corresponding to mask i. Note that the box corners are in
<span class='lineno'> 813</span>            normalized coordinates.
<span class='lineno'> 814</span>     image_height: Image height. The output mask will have the same height as
<span class='lineno'> 815</span>                   the image height.
<span class='lineno'> 816</span>     image_width: Image width. The output mask will have the same width as the
<span class='lineno'> 817</span>                  image width.
<span class='lineno'> 818</span> 
<span class='lineno'> 819</span>   Returns:
<span class='lineno'> 820</span>     A tf.float32 tensor of size [num_masks, image_height, image_width].
<span class='lineno'> 821</span>   &quot;&quot;&quot;
<span class='lineno'> 822</span>   # TODO(rathodv): Make this a public function.
<span class='lineno'> 823</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default', title='() -> None'>reframe_box_masks_to_image_masks_default</a>():
<span class='lineno'> 824</span>     &quot;&quot;&quot;The default function when there are more than 0 box masks.&quot;&quot;&quot;
<span class='lineno'> 825</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes', title='(?, ?) -> None'>transform_boxes_relative_to_boxes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', title='?'>boxes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', title='?'>reference_boxes</a>):
<span class='lineno'> 826</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', title='?'>boxes</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', title='?'>boxes</a>, [-1, 2, 2])
<span class='lineno'> 827</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', title='?'>min_corner</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', title='?'>reference_boxes</a>[:, 0:2], 1)
<span class='lineno'> 828</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.max_corner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.max_corner', title='?'>max_corner</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.reference_boxes', title='?'>reference_boxes</a>[:, 2:4], 1)
<span class='lineno'> 829</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', title='?'>denom</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.max_corner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.max_corner', title='?'>max_corner</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', title='?'>min_corner</a>
<span class='lineno'> 830</span>       # Prevent a divide by zero.
<span class='lineno'> 831</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', title='?'>denom</a> = tf.math.maximum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', title='?'>denom</a>, 1e-4)
<span class='lineno'> 832</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.transformed_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.transformed_boxes', title='?'>transformed_boxes</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.boxes', title='?'>boxes</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.min_corner', title='?'>min_corner</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.denom', title='?'>denom</a>
<span class='lineno'> 833</span>       return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.transformed_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes.transformed_boxes', title='?'>transformed_boxes</a>, [-1, 4])
<span class='lineno'> 834</span> 
<span class='lineno'> 835</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', title='?'>box_masks_expanded</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', title='?'>box_masks</a>, axis=3)
<span class='lineno'> 836</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', title='?'>num_boxes</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', title='?'>box_masks_expanded</a>)[0]
<span class='lineno'> 837</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.unit_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.unit_boxes', title='?'>unit_boxes</a> = tf.concat(
<span class='lineno'> 838</span>         [tf.zeros([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', title='?'>num_boxes</a>, 2]), tf.ones([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', title='?'>num_boxes</a>, 2])], axis=1)
<span class='lineno'> 839</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.reverse_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.reverse_boxes', title='None'>reverse_boxes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.transform_boxes_relative_to_boxes', title='(?, ?) -> None'>transform_boxes_relative_to_boxes</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.unit_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.unit_boxes', title='?'>unit_boxes</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.boxes', title='?'>boxes</a>)
<span class='lineno'> 840</span> 
<span class='lineno'> 841</span>     # TODO(vighneshb) Use matmul_crop_and_resize so that the output shape
<span class='lineno'> 842</span>     # is static. This will help us run and test on TPUs.
<span class='lineno'> 843</span>     return tf.image.crop_and_resize(
<span class='lineno'> 844</span>         image=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.box_masks_expanded', title='?'>box_masks_expanded</a>,
<span class='lineno'> 845</span>         boxes=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.reverse_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.reverse_boxes', title='None'>reverse_boxes</a>,
<span class='lineno'> 846</span>         box_ind=tf.range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default.num_boxes', title='?'>num_boxes</a>),
<span class='lineno'> 847</span>         crop_size=[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', title='?'>image_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', title='?'>image_width</a>],
<span class='lineno'> 848</span>         extrapolation_value=0.0)
<span class='lineno'> 849</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_masks', title='?'>image_masks</a> = tf.cond(
<span class='lineno'> 850</span>       tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.box_masks', title='?'>box_masks</a>)[0] &gt; 0,
<span class='lineno'> 851</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.reframe_box_masks_to_image_masks_default', title='() -> None'>reframe_box_masks_to_image_masks_default</a>,
<span class='lineno'> 852</span>       lambda: tf.zeros([0, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_height', title='?'>image_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_width', title='?'>image_width</a>, 1], dtype=tf.float32))
<span class='lineno'> 853</span>   return tf.squeeze(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_masks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.reframe_box_masks_to_image_masks.image_masks', title='?'>image_masks</a>, axis=3)
<span class='lineno'> 854</span> 
<span class='lineno'> 855</span> 
<span class='lineno'> 856</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels', title='(?, ?, ?, ?, int) -> (?, ?, ?, ?)'>merge_boxes_with_multiple_labels</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a>,
<span class='lineno'> 857</span>                                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', title='?'>classes</a>,
<span class='lineno'> 858</span>                                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', title='?'>confidences</a>,
<span class='lineno'> 859</span>                                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', title='?'>num_classes</a>,
<span class='lineno'> 860</span>                                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a>=10000):
<span class='lineno'> 861</span>   &quot;&quot;&quot;Merges boxes with same coordinates and returns K-hot encoded classes.
<span class='lineno'> 862</span> 
<span class='lineno'> 863</span>   Args:
<span class='lineno'> 864</span>     boxes: A tf.float32 tensor with shape [N, 4] holding N boxes. Only
<span class='lineno'> 865</span>       normalized coordinates are allowed.
<span class='lineno'> 866</span>     classes: A tf.int32 tensor with shape [N] holding class indices.
<span class='lineno'> 867</span>       The class index starts at 0.
<span class='lineno'> 868</span>     confidences: A tf.float32 tensor with shape [N] holding class confidences.
<span class='lineno'> 869</span>     num_classes: total number of classes to use for K-hot encoding.
<span class='lineno'> 870</span>     quantization_bins: the number of bins used to quantize the box coordinate.
<span class='lineno'> 871</span> 
<span class='lineno'> 872</span>   Returns:
<span class='lineno'> 873</span>     merged_boxes: A tf.float32 tensor with shape [N&#39;, 4] holding boxes,
<span class='lineno'> 874</span>       where N&#39; &lt;= N.
<span class='lineno'> 875</span>     class_encodings: A tf.int32 tensor with shape [N&#39;, num_classes] holding
<span class='lineno'> 876</span>       K-hot encodings for the merged boxes.
<span class='lineno'> 877</span>     confidence_encodings: A tf.float32 tensor with shape [N&#39;, num_classes]
<span class='lineno'> 878</span>       holding encodings of confidences for the merged boxes.
<span class='lineno'> 879</span>     merged_box_indices: A tf.int32 tensor with shape [N&#39;] holding original
<span class='lineno'> 880</span>       indices of the boxes.
<span class='lineno'> 881</span>   &quot;&quot;&quot;
<span class='lineno'> 882</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', title='?'>boxes_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a>)
<span class='lineno'> 883</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes_shape', title='?'>classes_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', title='?'>classes</a>)
<span class='lineno'> 884</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences_shape', title='?'>confidences_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', title='?'>confidences</a>)
<span class='lineno'> 885</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_class_shape_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_class_shape_assert', title='?'>box_class_shape_assert</a> = shape_utils.assert_shape_equal_along_first_dimension(
<span class='lineno'> 886</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', title='?'>boxes_shape</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes_shape', title='?'>classes_shape</a>)
<span class='lineno'> 887</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_confidence_shape_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_confidence_shape_assert', title='?'>box_confidence_shape_assert</a> = (
<span class='lineno'> 888</span>       shape_utils.assert_shape_equal_along_first_dimension(
<span class='lineno'> 889</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', title='?'>boxes_shape</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences_shape', title='?'>confidences_shape</a>))
<span class='lineno'> 890</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_dimension_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_dimension_assert', title='?'>box_dimension_assert</a> = tf.assert_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes_shape', title='?'>boxes_shape</a>[1], 4)
<span class='lineno'> 891</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_normalized_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_normalized_assert', title='?'>box_normalized_assert</a> = shape_utils.assert_box_normalized(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a>)
<span class='lineno'> 892</span> 
<span class='lineno'> 893</span>   with tf.control_dependencies(
<span class='lineno'> 894</span>       [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_class_shape_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_class_shape_assert', title='?'>box_class_shape_assert</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_confidence_shape_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_confidence_shape_assert', title='?'>box_confidence_shape_assert</a>,
<span class='lineno'> 895</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_dimension_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_dimension_assert', title='?'>box_dimension_assert</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_normalized_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.box_normalized_assert', title='?'>box_normalized_assert</a>]):
<span class='lineno'> 896</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantized_boxes', title='?'>quantized_boxes</a> = tf.to_int64(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a> * (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> - 1))
<span class='lineno'> 897</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymin', title='?'>ymin</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmin', title='?'>xmin</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymax', title='?'>ymax</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmax', title='?'>xmax</a> = tf.unstack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantized_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantized_boxes', title='?'>quantized_boxes</a>, axis=1)
<span class='lineno'> 898</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.hashcodes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.hashcodes', title='int'>hashcodes</a> = (
<span class='lineno'> 899</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymin', title='?'>ymin</a> +
<span class='lineno'> 900</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmin', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmin', title='?'>xmin</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> +
<span class='lineno'> 901</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.ymax', title='?'>ymax</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> +
<span class='lineno'> 902</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.xmax', title='?'>xmax</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.quantization_bins', title='int'>quantization_bins</a>)
<span class='lineno'> 903</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_hashcodes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_hashcodes', title='?'>unique_hashcodes</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', title='?'>unique_indices</a> = tf.unique(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.hashcodes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.hashcodes', title='int'>hashcodes</a>)
<span class='lineno'> 904</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', title='?'>num_boxes</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a>)[0]
<span class='lineno'> 905</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', title='?'>num_unique_boxes</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_hashcodes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_hashcodes', title='?'>unique_hashcodes</a>)[0]
<span class='lineno'> 906</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', title='?'>merged_box_indices</a> = tf.unsorted_segment_min(
<span class='lineno'> 907</span>         tf.range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', title='?'>num_boxes</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', title='?'>unique_indices</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', title='?'>num_unique_boxes</a>)
<span class='lineno'> 908</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', title='?'>merged_boxes</a> = tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.boxes', title='?'>boxes</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', title='?'>merged_box_indices</a>)
<span class='lineno'> 909</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', title='?'>unique_indices</a> = tf.to_int64(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', title='?'>unique_indices</a>)
<span class='lineno'> 910</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', title='?'>classes</a> = tf.to_int64(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', title='?'>classes</a>)
<span class='lineno'> 911</span> 
<span class='lineno'> 912</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings', title='? -> (?, ?)'>map_box_encodings</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.i', title='?'>i</a>):
<span class='lineno'> 913</span>       &quot;&quot;&quot;Produces box K-hot and score encodings for each class index.&quot;&quot;&quot;
<span class='lineno'> 914</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', title='?'>box_mask</a> = tf.equal(
<span class='lineno'> 915</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.unique_indices', title='?'>unique_indices</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.i', title='?'>i</a> * tf.ones(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_boxes', title='?'>num_boxes</a>, dtype=tf.int64))
<span class='lineno'> 916</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', title='?'>box_mask</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', title='?'>box_mask</a>, [-1])
<span class='lineno'> 917</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', title='?'>box_indices</a> = tf.boolean_mask(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.classes', title='?'>classes</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', title='?'>box_mask</a>)
<span class='lineno'> 918</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidences', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidences', title='?'>box_confidences</a> = tf.boolean_mask(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidences', title='?'>confidences</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_mask', title='?'>box_mask</a>)
<span class='lineno'> 919</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_class_encodings', title='?'>box_class_encodings</a> = tf.sparse_to_dense(
<span class='lineno'> 920</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', title='?'>box_indices</a>, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', title='?'>num_classes</a>], tf.constant(1, dtype=tf.int64),
<span class='lineno'> 921</span>           validate_indices=False)
<span class='lineno'> 922</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidence_encodings', title='?'>box_confidence_encodings</a> = tf.sparse_to_dense(
<span class='lineno'> 923</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_indices', title='?'>box_indices</a>, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', title='?'>num_classes</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidences', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidences', title='?'>box_confidences</a>, validate_indices=False)
<span class='lineno'> 924</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_class_encodings', title='?'>box_class_encodings</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings.box_confidence_encodings', title='?'>box_confidence_encodings</a>
<span class='lineno'> 925</span> 
<span class='lineno'> 926</span>     # Important to avoid int32 here since there is no GPU kernel for int32.
<span class='lineno'> 927</span>     # int64 and float32 are fine.
<span class='lineno'> 928</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', title='?'>confidence_encodings</a> = tf.map_fn(
<span class='lineno'> 929</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.map_box_encodings', title='? -> (?, ?)'>map_box_encodings</a>,
<span class='lineno'> 930</span>         tf.range(tf.to_int64(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_unique_boxes', title='?'>num_unique_boxes</a>)),
<span class='lineno'> 931</span>         back_prop=False,
<span class='lineno'> 932</span>         dtype=(tf.int64, tf.float32))
<span class='lineno'> 933</span> 
<span class='lineno'> 934</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', title='?'>merged_boxes</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', title='?'>merged_boxes</a>, [-1, 4])
<span class='lineno'> 935</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a>, dtype=tf.int32)
<span class='lineno'> 936</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', title='?'>num_classes</a>])
<span class='lineno'> 937</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', title='?'>confidence_encodings</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', title='?'>confidence_encodings</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.num_classes', title='?'>num_classes</a>])
<span class='lineno'> 938</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', title='?'>merged_box_indices</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', title='?'>merged_box_indices</a>, [-1])
<span class='lineno'> 939</span>     return (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_boxes', title='?'>merged_boxes</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.class_encodings', title='?'>class_encodings</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.confidence_encodings', title='?'>confidence_encodings</a>,
<span class='lineno'> 940</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.merge_boxes_with_multiple_labels.merged_box_indices', title='?'>merged_box_indices</a>)
<span class='lineno'> 941</span> 
<span class='lineno'> 942</span> 
<span class='lineno'> 943</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling', title='(?, None, None, None) -> None'>nearest_neighbor_upsampling</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', title='?'>input_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', title='None'>scale</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', title='None'>height_scale</a>=None,
<span class='lineno'> 944</span>                                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', title='None'>width_scale</a>=None):
<span class='lineno'> 945</span>   &quot;&quot;&quot;Nearest neighbor upsampling implementation.
<span class='lineno'> 946</span> 
<span class='lineno'> 947</span>   Nearest neighbor upsampling function that maps input tensor with shape
<span class='lineno'> 948</span>   [batch_size, height, width, channels] to [batch_size, height * scale
<span class='lineno'> 949</span>   , width * scale, channels]. This implementation only uses reshape and
<span class='lineno'> 950</span>   broadcasting to make it TPU compatible.
<span class='lineno'> 951</span> 
<span class='lineno'> 952</span>   Args:
<span class='lineno'> 953</span>     input_tensor: A float32 tensor of size [batch, height_in, width_in,
<span class='lineno'> 954</span>       channels].
<span class='lineno'> 955</span>     scale: An integer multiple to scale resolution of input data in both height
<span class='lineno'> 956</span>       and width dimensions.
<span class='lineno'> 957</span>     height_scale: An integer multiple to scale the height of input image. This
<span class='lineno'> 958</span>       option when provided overrides `scale` option.
<span class='lineno'> 959</span>     width_scale: An integer multiple to scale the width of input image. This
<span class='lineno'> 960</span>       option when provided overrides `scale` option.
<span class='lineno'> 961</span>   Returns:
<span class='lineno'> 962</span>     data_up: A float32 tensor of size
<span class='lineno'> 963</span>       [batch, height_in*scale, width_in*scale, channels].
<span class='lineno'> 964</span> 
<span class='lineno'> 965</span>   Raises:
<span class='lineno'> 966</span>     ValueError: If both scale and height_scale or if both scale and width_scale
<span class='lineno'> 967</span>       are None.
<span class='lineno'> 968</span>   &quot;&quot;&quot;
<span class='lineno'> 969</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', title='None'>scale</a> and (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', title='None'>height_scale</a> is None or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', title='None'>width_scale</a> is None):
<span class='lineno'> 970</span>     raise ValueError(&#39;Provide either `scale` or `height_scale` and&#39;
<span class='lineno'> 971</span>                      &#39; `width_scale`.&#39;)
<span class='lineno'> 972</span>   with tf.name_scope(&#39;nearest_neighbor_upsampling&#39;):
<span class='lineno'> 973</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', title='None'>h_scale</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', title='None'>scale</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', title='None'>height_scale</a> is None else <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height_scale', title='None'>height_scale</a>
<span class='lineno'> 974</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', title='None'>w_scale</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.scale', title='None'>scale</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', title='None'>width_scale</a> is None else <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width_scale', title='None'>width_scale</a>
<span class='lineno'> 975</span>     (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.batch_size', title='?'>batch_size</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height', title='?'>height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width', title='?'>width</a>,
<span class='lineno'> 976</span>      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.channels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.channels', title='?'>channels</a>) = shape_utils.combined_static_and_dynamic_shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', title='?'>input_tensor</a>)
<span class='lineno'> 977</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', title='?'>output_tensor</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.input_tensor', title='?'>input_tensor</a>] * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', title='None'>w_scale</a>, axis=3)
<span class='lineno'> 978</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', title='?'>output_tensor</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', title='?'>output_tensor</a>] * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', title='None'>h_scale</a>, axis=2)
<span class='lineno'> 979</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.output_tensor', title='?'>output_tensor</a>,
<span class='lineno'> 980</span>                       [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.batch_size', title='?'>batch_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.height', title='?'>height</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.h_scale', title='None'>h_scale</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.width', title='?'>width</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.w_scale', title='None'>w_scale</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.channels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.nearest_neighbor_upsampling.channels', title='?'>channels</a>])
<span class='lineno'> 981</span> 
<span class='lineno'> 982</span> 
<span class='lineno'> 983</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis', title='(?, ?, None) -> None'>matmul_gather_on_zeroth_axis</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', title='?'>indices</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.scope', title='None'>scope</a>=None):
<span class='lineno'> 984</span>   &quot;&quot;&quot;Matrix multiplication based implementation of tf.gather on zeroth axis.
<span class='lineno'> 985</span> 
<span class='lineno'> 986</span>   TODO(rathodv, jonathanhuang): enable sparse matmul option.
<span class='lineno'> 987</span> 
<span class='lineno'> 988</span>   Args:
<span class='lineno'> 989</span>     params: A float32 Tensor. The tensor from which to gather values.
<span class='lineno'> 990</span>       Must be at least rank 1.
<span class='lineno'> 991</span>     indices: A Tensor. Must be one of the following types: int32, int64.
<span class='lineno'> 992</span>       Must be in range [0, params.shape[0])
<span class='lineno'> 993</span>     scope: A name for the operation (optional).
<span class='lineno'> 994</span> 
<span class='lineno'> 995</span>   Returns:
<span class='lineno'> 996</span>     A Tensor. Has the same type as params. Values from params gathered
<span class='lineno'> 997</span>     from indices given by indices, with shape indices.shape + params.shape[1:].
<span class='lineno'> 998</span>   &quot;&quot;&quot;
<span class='lineno'> 999</span>   with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.scope', title='None'>scope</a>, &#39;MatMulGather&#39;):
<span class='lineno'>1000</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', title='?'>params_shape</a> = shape_utils.combined_static_and_dynamic_shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', title='?'>params</a>)
<span class='lineno'>1001</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices_shape', title='?'>indices_shape</a> = shape_utils.combined_static_and_dynamic_shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', title='?'>indices</a>)
<span class='lineno'>1002</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params2d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params2d', title='?'>params2d</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params', title='?'>params</a>, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', title='?'>params_shape</a>[0], -1])
<span class='lineno'>1003</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indicator_matrix', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indicator_matrix', title='?'>indicator_matrix</a> = tf.one_hot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices', title='?'>indices</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', title='?'>params_shape</a>[0])
<span class='lineno'>1004</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.gathered_result_flattened', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.gathered_result_flattened', title='?'>gathered_result_flattened</a> = tf.matmul(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indicator_matrix', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indicator_matrix', title='?'>indicator_matrix</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params2d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params2d', title='?'>params2d</a>)
<span class='lineno'>1005</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.gathered_result_flattened', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.gathered_result_flattened', title='?'>gathered_result_flattened</a>,
<span class='lineno'>1006</span>                       tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.indices_shape', title='?'>indices_shape</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.matmul_gather_on_zeroth_axis.params_shape', title='?'>params_shape</a>[1:]))
<span class='lineno'>1007</span> 
<span class='lineno'>1008</span> 
<span class='lineno'>1009</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels', title='(?, ?, ?, ?) -> None'>fpn_feature_levels</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', title='?'>unit_scale_index</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.image_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.image_ratio', title='?'>image_ratio</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', title='?'>boxes</a>):
<span class='lineno'>1010</span>   &quot;&quot;&quot;Returns fpn feature level for each box based on its area.
<span class='lineno'>1011</span> 
<span class='lineno'>1012</span>   See section 4.2 of https://arxiv.org/pdf/1612.03144.pdf for details.
<span class='lineno'>1013</span> 
<span class='lineno'>1014</span>   Args:
<span class='lineno'>1015</span>     num_levels: An integer indicating the number of feature levels to crop boxes
<span class='lineno'>1016</span>       from.
<span class='lineno'>1017</span>     unit_scale_index: An 0-based integer indicating the index of feature map
<span class='lineno'>1018</span>       which most closely matches the resolution of the pretrained model.
<span class='lineno'>1019</span>     image_ratio: A float indicating the ratio of input image area to pretraining
<span class='lineno'>1020</span>       image area.
<span class='lineno'>1021</span>     boxes: A float tensor of shape [batch, num_boxes, 4] containing boxes of the
<span class='lineno'>1022</span>       form [ymin, xmin, ymax, xmax] in normalized coordinates.
<span class='lineno'>1023</span> 
<span class='lineno'>1024</span>   Returns:
<span class='lineno'>1025</span>     An int32 tensor of shape [batch_size, num_boxes] containing feature indices.
<span class='lineno'>1026</span>   &quot;&quot;&quot;
<span class='lineno'>1027</span>   assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a> &gt; 0, (
<span class='lineno'>1028</span>       &#39;`num_levels` must be &gt; 0. Found {}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a>))
<span class='lineno'>1029</span>   assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', title='?'>unit_scale_index</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', title='?'>unit_scale_index</a> &gt;= 0, (
<span class='lineno'>1030</span>       &#39;`unit_scale_index` must be in [0, {}). Found {}.&#39;.format(
<span class='lineno'>1031</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', title='?'>unit_scale_index</a>))
<span class='lineno'>1032</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.box_height_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.box_height_width', title='?'>box_height_width</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', title='?'>boxes</a>[:, :, 2:4] - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', title='?'>boxes</a>[:, :, 0:2]
<span class='lineno'>1033</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.areas_sqrt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.areas_sqrt', title='?'>areas_sqrt</a> = tf.sqrt(tf.reduce_prod(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.box_height_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.box_height_width', title='?'>box_height_width</a>, axis=2))
<span class='lineno'>1034</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.log_2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.log_2', title='?'>log_2</a> = tf.cast(tf.log(2.0), dtype=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.boxes', title='?'>boxes</a>.dtype)
<span class='lineno'>1035</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', title='?'>levels</a> = tf.cast(
<span class='lineno'>1036</span>       tf.floordiv(tf.log(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.areas_sqrt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.areas_sqrt', title='?'>areas_sqrt</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.image_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.image_ratio', title='?'>image_ratio</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.log_2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.log_2', title='?'>log_2</a>)
<span class='lineno'>1037</span>       +
<span class='lineno'>1038</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.unit_scale_index', title='?'>unit_scale_index</a>,
<span class='lineno'>1039</span>       dtype=tf.int32)
<span class='lineno'>1040</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', title='?'>levels</a> = tf.maximum(0, tf.minimum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.num_levels', title='?'>num_levels</a> - 1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', title='?'>levels</a>))
<span class='lineno'>1041</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.fpn_feature_levels.levels', title='?'>levels</a>
<span class='lineno'>1042</span> 
<span class='lineno'>1043</span> 
<span class='lineno'>1044</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', title='? -> list -> {? -> list | [?] | dict} / ? -> {[{? -> list | [?] | dict}] | dict}'>bfloat16_to_float32_nested</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='? -> list'>input_nested</a>):
<span class='lineno'>1045</span>   &quot;&quot;&quot;Convert float32 tensors in a nested structure to bfloat16.
<span class='lineno'>1046</span> 
<span class='lineno'>1047</span>   Args:
<span class='lineno'>1048</span>     input_nested: A Python dict, values being Tensor or Python list/tuple of
<span class='lineno'>1049</span>       Tensor or Non-Tensor.
<span class='lineno'>1050</span> 
<span class='lineno'>1051</span>   Returns:
<span class='lineno'>1052</span>     A Python dict with the same structure as `tensor_dict`,
<span class='lineno'>1053</span>     with all bfloat16 tensors converted to float32.
<span class='lineno'>1054</span>   &quot;&quot;&quot;
<span class='lineno'>1055</span>   if isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='? -> list'>input_nested</a></a>, tf.Tensor):
<span class='lineno'>1056</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='?'>input_nested</a>.dtype == tf.bfloat16:
<span class='lineno'>1057</span>       return tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='?'>input_nested</a>, dtype=tf.float32)
<span class='lineno'>1058</span>     else:
<span class='lineno'>1059</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='?'>input_nested</a>
<span class='lineno'>1060</span>   elif isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='? -> list'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='(? -> list, ? -> tuple)'>input_nested</a></a>, (list, tuple)):
<span class='lineno'>1061</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', title='{[?] | [{? -> list | [?] | dict}]}'>out_tensor_dict</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', title='? -> list -> {? -> list | [?] | dict} / ? -> {[{? -> list | [?] | dict}] | dict}'>bfloat16_to_float32_nested</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', title='? -> list'>t</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', title='? -> list'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.t', title='? -> list'>t</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='(? -> list, ? -> tuple)'>input_nested</a>]
<span class='lineno'>1062</span>   elif isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='dict'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='? -> list'>input_nested</a></a>, dict):
<span class='lineno'>1063</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', title='dict'>out_tensor_dict</a> = {
<span class='lineno'>1064</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', title='?'>k</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested', title='? -> list -> {? -> list | [?] | dict} / ? -> {[{? -> list | [?] | dict}] | dict}'>bfloat16_to_float32_nested</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', title='?'>v</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.k', title='?'>k</a></a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.v', title='?'>v</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='dict'>input_nested</a>.items()
<span class='lineno'>1065</span>     }
<span class='lineno'>1066</span>   else:
<span class='lineno'>1067</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.input_nested', title='? -> list'>input_nested</a>
<span class='lineno'>1068</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.bfloat16_to_float32_nested.out_tensor_dict', title='{[?] | [{? -> list | [?] | dict}] | dict}'>out_tensor_dict</a>
<span class='lineno'>1069</span> 
<span class='lineno'>1070</span> 
<span class='lineno'>1071</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values', title='(?, ?, ?) -> None'>gather_with_padding_values</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', title='?'>input_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.indices', title='?'>indices</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', title='?'>padding_value</a>):
<span class='lineno'>1072</span>   &quot;&quot;&quot;Gathers elements from tensor and pads `padding_value` for ignore indices.
<span class='lineno'>1073</span> 
<span class='lineno'>1074</span>   Gathers elements from `input_tensor` based on `indices`. If there are ignore
<span class='lineno'>1075</span>   indices (which are &quot;-1&quot;s) in `indices`, `padding_value` will be gathered for
<span class='lineno'>1076</span>   those positions.
<span class='lineno'>1077</span> 
<span class='lineno'>1078</span>   Args:
<span class='lineno'>1079</span>     input_tensor: A N-D tensor of shape [M, d_1, d_2 .. d_(N-1)] to gather
<span class='lineno'>1080</span>       values from.
<span class='lineno'>1081</span>     indices: A 1-D tensor in which each element is either an index in the
<span class='lineno'>1082</span>       first dimension of input_tensor or -1.
<span class='lineno'>1083</span>     padding_value: A (N-1)-D tensor of shape [d_1, d_2 .. d_(N-1)] which will be
<span class='lineno'>1084</span>       used as gathered value for each ignore index in `indices`.
<span class='lineno'>1085</span> 
<span class='lineno'>1086</span>   Returns:
<span class='lineno'>1087</span>     gathered_tensor: A tensor of shape [L, d_1, d_2 .. d_(N-1)] containing
<span class='lineno'>1088</span>       values gathered from input_tensor. The first dimension L is equal to the
<span class='lineno'>1089</span>       length of `indices`.
<span class='lineno'>1090</span>   &quot;&quot;&quot;
<span class='lineno'>1091</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', title='?'>padding_value</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', title='?'>padding_value</a>, axis=0)
<span class='lineno'>1092</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', title='?'>input_tensor</a> = tf.concat([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.padding_value', title='?'>padding_value</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', title='?'>input_tensor</a>], axis=0)
<span class='lineno'>1093</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gather_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gather_indices', title='int'>gather_indices</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.indices', title='?'>indices</a> + 1
<span class='lineno'>1094</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gathered_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gathered_tensor', title='?'>gathered_tensor</a> = tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.input_tensor', title='?'>input_tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gather_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gather_indices', title='int'>gather_indices</a>)
<span class='lineno'>1095</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gathered_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.gather_with_padding_values.gathered_tensor', title='?'>gathered_tensor</a>
<span class='lineno'>1096</span> 
<span class='lineno'>1097</span> 
<span class='lineno'>1098</span> 
<span class='lineno'>1099</span> 
<span class='lineno'>1100</span> 
<span class='lineno'>1101</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.EqualizationLossConfig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.EqualizationLossConfig', title='<(namedtuple)>'>EqualizationLossConfig</a> = collections.namedtuple(&#39;EqualizationLossConfig&#39;,
<span class='lineno'>1102</span>                                                 [&#39;weight&#39;, &#39;exclude_prefixes&#39;])
<span class='lineno'>1103</span> 
<span class='lineno'>1104</span> 
<span class='lineno'>1105</span> 
<span class='lineno'>1106</span> 
<span class='lineno'>1107</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors', title='? -> None'>tile_context_tensors</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'>1108</span>   &quot;&quot;&quot;Tiles context fields to have num_frames along 0-th dimension.&quot;&quot;&quot;
<span class='lineno'>1109</span> 
<span class='lineno'>1110</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.num_frames', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.num_frames', title='?'>num_frames</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.image])[0]
<span class='lineno'>1111</span> 
<span class='lineno'>1112</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', title='?'>key</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>:
<span class='lineno'>1113</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', title='?'>key</a> not in fields.SEQUENCE_FIELDS:
<span class='lineno'>1114</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', title='?'>original_tensor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', title='?'>key</a>]
<span class='lineno'>1115</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_shape', title='?'>tensor_shape</a> = shape_utils.combined_static_and_dynamic_shape(
<span class='lineno'>1116</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', title='?'>original_tensor</a>)
<span class='lineno'>1117</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.key', title='?'>key</a>] = tf.tile(
<span class='lineno'>1118</span>           tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.original_tensor', title='?'>original_tensor</a>, 0),
<span class='lineno'>1119</span>           tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.num_frames', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.num_frames', title='?'>num_frames</a>] + [1] * len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_shape', title='?'>tensor_shape</a>), axis=0))
<span class='lineno'>1120</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.tile_context_tensors.tensor_dict', title='?'>tensor_dict</a>
<span class='lineno'>1121</span> 
<span class='lineno'>1122</span> 
<span class='lineno'>1123</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image', title='? -> None'>decode_image</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', title='?'>tensor_dict</a>):
<span class='lineno'>1124</span>   &quot;&quot;&quot;Decodes images in a tensor dict.&quot;&quot;&quot;
<span class='lineno'>1125</span> 
<span class='lineno'>1126</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.image] = tf.io.decode_image(
<span class='lineno'>1127</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.image], channels=3)
<span class='lineno'>1128</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', title='?'>tensor_dict</a>[fields.InputDataFields.image].set_shape([None, None, 3])
<span class='lineno'>1129</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.utils.ops.decode_image.tensor_dict', title='?'>tensor_dict</a>
</pre></td></tr></table></body></html>