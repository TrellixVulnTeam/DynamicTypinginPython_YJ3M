<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/object_detection/core/losses.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss'>Loss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__'>__call__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor'>_get_loss_multiplier_for_tensor</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss'>WeightedL2LocalizationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss'>WeightedSmoothL1LocalizationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss'>WeightedIOULocalizationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss'>WeightedSigmoidClassificationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss'>SigmoidFocalClassificationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss'>WeightedSoftmaxClassificationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss'>WeightedSoftmaxClassificationAgainstLogitsLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits'>_scale_and_softmax_logits</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss'>BootstrappedSigmoidClassificationLoss</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss'>_compute_loss</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner'>HardExampleMiner</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__'>__call__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize'>summarize</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio', xid='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio'>_subsample_selection_to_desired_neg_pos_ratio</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2017 The TensorFlow Authors. All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> &quot;&quot;&quot;Classification and regression loss functions for object detection.
<span class='lineno'>  17</span> 
<span class='lineno'>  18</span> Localization losses:
<span class='lineno'>  19</span>  * WeightedL2LocalizationLoss
<span class='lineno'>  20</span>  * WeightedSmoothL1LocalizationLoss
<span class='lineno'>  21</span>  * WeightedIOULocalizationLoss
<span class='lineno'>  22</span> 
<span class='lineno'>  23</span> Classification losses:
<span class='lineno'>  24</span>  * WeightedSigmoidClassificationLoss
<span class='lineno'>  25</span>  * WeightedSoftmaxClassificationLoss
<span class='lineno'>  26</span>  * WeightedSoftmaxClassificationAgainstLogitsLoss
<span class='lineno'>  27</span>  * BootstrappedSigmoidClassificationLoss
<span class='lineno'>  28</span> &quot;&quot;&quot;
<span class='lineno'>  29</span> from __future__ import absolute_import
<span class='lineno'>  30</span> from __future__ import division
<span class='lineno'>  31</span> from __future__ import print_function
<span class='lineno'>  32</span> 
<span class='lineno'>  33</span> import abc
<span class='lineno'>  34</span> import six
<span class='lineno'>  35</span> import tensorflow.compat.v1 as tf
<span class='lineno'>  36</span> from object_detection.core import box_list
<span class='lineno'>  37</span> from object_detection.core import box_list_ops
<span class='lineno'>  38</span> from object_detection.utils import ops
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>(six.with_metaclass(abc.ABCMeta, object)):
<span class='lineno'>  42</span>   &quot;&quot;&quot;Abstract base class for loss functions.&quot;&quot;&quot;
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__', title='(Loss, ?, ?, bool, None, None) -> None'>__call__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', title='Loss'>self</a>,
<span class='lineno'>  45</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'>  46</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a>,
<span class='lineno'>  47</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.ignore_nan_targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.ignore_nan_targets', title='bool'>ignore_nan_targets</a>=False,
<span class='lineno'>  48</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', title='None'>losses_mask</a>=None,
<span class='lineno'>  49</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', title='None'>scope</a>=None,
<span class='lineno'>  50</span>                **params):
<span class='lineno'>  51</span>     &quot;&quot;&quot;Call the loss function.
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span>     Args:
<span class='lineno'>  54</span>       prediction_tensor: an N-d tensor of shape [batch, anchors, ...]
<span class='lineno'>  55</span>         representing predicted quantities.
<span class='lineno'>  56</span>       target_tensor: an N-d tensor of shape [batch, anchors, ...] representing
<span class='lineno'>  57</span>         regression or classification targets.
<span class='lineno'>  58</span>       ignore_nan_targets: whether to ignore nan targets in the loss computation.
<span class='lineno'>  59</span>         E.g. can be used if the target tensor is missing groundtruth data that
<span class='lineno'>  60</span>         shouldn&#39;t be factored into the loss.
<span class='lineno'>  61</span>       losses_mask: A [batch] boolean tensor that indicates whether losses should
<span class='lineno'>  62</span>         be applied to individual images in the batch. For elements that
<span class='lineno'>  63</span>         are False, corresponding prediction, target, and weight tensors will not
<span class='lineno'>  64</span>         contribute to loss computation. If None, no filtering will take place
<span class='lineno'>  65</span>         prior to loss computation.
<span class='lineno'>  66</span>       scope: Op scope name. Defaults to &#39;Loss&#39; if None.
<span class='lineno'>  67</span>       **params: Additional keyword arguments for specific implementations of
<span class='lineno'>  68</span>               the Loss.
<span class='lineno'>  69</span> 
<span class='lineno'>  70</span>     Returns:
<span class='lineno'>  71</span>       loss: a tensor representing the value of the loss function.
<span class='lineno'>  72</span>     &quot;&quot;&quot;
<span class='lineno'>  73</span>     with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', title='None'>scope</a>, &#39;Loss&#39;,
<span class='lineno'>  74</span>                        [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='?'>prediction_tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a>, params]) as <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.scope', title='?'>scope</a>:
<span class='lineno'>  75</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.ignore_nan_targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.ignore_nan_targets', title='bool'>ignore_nan_targets</a>:
<span class='lineno'>  76</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a> = tf.where(tf.is_nan(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a>),
<span class='lineno'>  77</span>                                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'>  78</span>                                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a>)
<span class='lineno'>  79</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', title='None'>losses_mask</a> is not None:
<span class='lineno'>  80</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', title='None'>tensor_multiplier</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', title='Loss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', title='(Loss, ?, None) -> None / (Loss, ?, ?) -> None'>_get_loss_multiplier_for_tensor</a>(
<span class='lineno'>  81</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'>  82</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', title='None'>losses_mask</a>)
<span class='lineno'>  83</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='?'>prediction_tensor</a></a> *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', title='None'>tensor_multiplier</a>
<span class='lineno'>  84</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='?'>target_tensor</a></a> *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.tensor_multiplier', title='None'>tensor_multiplier</a>
<span class='lineno'>  85</span> 
<span class='lineno'>  86</span>         if &#39;weights&#39; in params:
<span class='lineno'>  87</span>           params[&#39;weights&#39;] = tf.convert_to_tensor(params[&#39;weights&#39;])
<span class='lineno'>  88</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.weights_multiplier', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.weights_multiplier', title='None'>weights_multiplier</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', title='Loss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', title='(Loss, ?, None) -> None / (Loss, ?, ?) -> None'>_get_loss_multiplier_for_tensor</a>(
<span class='lineno'>  89</span>               params[&#39;weights&#39;],
<span class='lineno'>  90</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.losses_mask', title='None'>losses_mask</a>)
<span class='lineno'>  91</span>           params[&#39;weights&#39;] *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.weights_multiplier', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.weights_multiplier', title='None'>weights_multiplier</a>
<span class='lineno'>  92</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.self', title='Loss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss', title='(Loss, None, None) -> None / (Loss, ?, ?) -> None'>_compute_loss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.prediction_tensor', title='None'>prediction_tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss.__call__.target_tensor', title='None'>target_tensor</a>, **params)
<span class='lineno'>  93</span> 
<span class='lineno'>  94</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor', title='(Loss, ?, None) -> None / (Loss, ?, ?) -> None'>_get_loss_multiplier_for_tensor</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.self', title='Loss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.tensor', title='?'>tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.losses_mask', title='None'>losses_mask</a>):
<span class='lineno'>  95</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.loss_multiplier_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.loss_multiplier_shape', title='?'>loss_multiplier_shape</a> = tf.stack([-1] + [1] * (len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.tensor', title='?'>tensor</a>.shape) - 1))
<span class='lineno'>  96</span>     return tf.cast(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.losses_mask', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.losses_mask', title='None'>losses_mask</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.loss_multiplier_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._get_loss_multiplier_for_tensor.loss_multiplier_shape', title='?'>loss_multiplier_shape</a>), tf.float32)
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span>   @abc.abstractmethod
<span class='lineno'>  99</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss', title='(Loss, None, None) -> None / (Loss, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.self', title='Loss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.prediction_tensor', title='None'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss._compute_loss.target_tensor', title='None'>target_tensor</a>, **params):
<span class='lineno'> 100</span>     &quot;&quot;&quot;Method to be overridden by implementations.
<span class='lineno'> 101</span> 
<span class='lineno'> 102</span>     Args:
<span class='lineno'> 103</span>       prediction_tensor: a tensor representing predicted quantities
<span class='lineno'> 104</span>       target_tensor: a tensor representing regression or classification targets
<span class='lineno'> 105</span>       **params: Additional keyword arguments for specific implementations of
<span class='lineno'> 106</span>               the Loss.
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span>     Returns:
<span class='lineno'> 109</span>       loss: an N-d tensor of shape [batch, anchors, ...] containing the loss per
<span class='lineno'> 110</span>         anchor
<span class='lineno'> 111</span>     &quot;&quot;&quot;
<span class='lineno'> 112</span>     pass
<span class='lineno'> 113</span> 
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss', title='<WeightedL2LocalizationLoss>'>WeightedL2LocalizationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 116</span>   &quot;&quot;&quot;L2 localization loss function with anchorwise output support.
<span class='lineno'> 117</span> 
<span class='lineno'> 118</span>   Loss[b,a] = .5 * ||weights[b,a] * (prediction[b,a,:] - target[b,a,:])||^2
<span class='lineno'> 119</span>   &quot;&quot;&quot;
<span class='lineno'> 120</span> 
<span class='lineno'> 121</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss', title='(WeightedL2LocalizationLoss, ?, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.self', title='WeightedL2LocalizationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 122</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 123</span> 
<span class='lineno'> 124</span>     Args:
<span class='lineno'> 125</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 126</span>         code_size] representing the (encoded) predicted locations of objects.
<span class='lineno'> 127</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 128</span>         code_size] representing the regression targets
<span class='lineno'> 129</span>       weights: a float tensor of shape [batch_size, num_anchors]
<span class='lineno'> 130</span> 
<span class='lineno'> 131</span>     Returns:
<span class='lineno'> 132</span>       loss: a float tensor of shape [batch_size, num_anchors] tensor
<span class='lineno'> 133</span>         representing the value of the loss function.
<span class='lineno'> 134</span>     &quot;&quot;&quot;
<span class='lineno'> 135</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weighted_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weighted_diff', title='?'>weighted_diff</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>) * tf.expand_dims(
<span class='lineno'> 136</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weights', title='?'>weights</a>, 2)
<span class='lineno'> 137</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.square_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.square_diff', title='float'>square_diff</a> = 0.5 * tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weighted_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.weighted_diff', title='?'>weighted_diff</a>)
<span class='lineno'> 138</span>     return tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.square_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedL2LocalizationLoss._compute_loss.square_diff', title='float'>square_diff</a>, 2)
<span class='lineno'> 139</span> 
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss', title='<WeightedSmoothL1LocalizationLoss>'>WeightedSmoothL1LocalizationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 142</span>   &quot;&quot;&quot;Smooth L1 localization loss function aka Huber Loss..
<span class='lineno'> 143</span> 
<span class='lineno'> 144</span>   The smooth L1_loss is defined elementwise as .5 x^2 if |x| &lt;= delta and
<span class='lineno'> 145</span>   delta * (|x|- 0.5*delta) otherwise, where x is the difference between
<span class='lineno'> 146</span>   predictions and target.
<span class='lineno'> 147</span> 
<span class='lineno'> 148</span>   See also Equation (3) in the Fast R-CNN paper by Ross Girshick (ICCV 2015)
<span class='lineno'> 149</span>   &quot;&quot;&quot;
<span class='lineno'> 150</span> 
<span class='lineno'> 151</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', title='WeightedSmoothL1LocalizationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.delta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.delta', title='float'>delta</a>=1.0):
<span class='lineno'> 152</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 153</span> 
<span class='lineno'> 154</span>     Args:
<span class='lineno'> 155</span>       delta: delta for smooth L1 loss.
<span class='lineno'> 156</span>     &quot;&quot;&quot;
<span class='lineno'> 157</span>     super(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss', title='<WeightedSmoothL1LocalizationLoss>'>WeightedSmoothL1LocalizationLoss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', title='WeightedSmoothL1LocalizationLoss'>self</a>).__init__()
<span class='lineno'> 158</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.self', title='WeightedSmoothL1LocalizationLoss'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._delta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._delta', title='float'>_delta</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.delta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss.__init__.delta', title='float'>delta</a>
<span class='lineno'> 159</span> 
<span class='lineno'> 160</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss', title='(WeightedSmoothL1LocalizationLoss, ?, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.self', title='WeightedSmoothL1LocalizationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 161</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span>     Args:
<span class='lineno'> 164</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 165</span>         code_size] representing the (encoded) predicted locations of objects.
<span class='lineno'> 166</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 167</span>         code_size] representing the regression targets
<span class='lineno'> 168</span>       weights: a float tensor of shape [batch_size, num_anchors]
<span class='lineno'> 169</span> 
<span class='lineno'> 170</span>     Returns:
<span class='lineno'> 171</span>       loss: a float tensor of shape [batch_size, num_anchors] tensor
<span class='lineno'> 172</span>         representing the value of the loss function.
<span class='lineno'> 173</span>     &quot;&quot;&quot;
<span class='lineno'> 174</span>     return tf.reduce_sum(tf.losses.huber_loss(
<span class='lineno'> 175</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>,
<span class='lineno'> 176</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'> 177</span>         delta=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.self', title='WeightedSmoothL1LocalizationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._delta', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._delta', title='float'>_delta</a>,
<span class='lineno'> 178</span>         weights=tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSmoothL1LocalizationLoss._compute_loss.weights', title='?'>weights</a>, axis=2),
<span class='lineno'> 179</span>         loss_collection=None,
<span class='lineno'> 180</span>         reduction=tf.losses.Reduction.NONE
<span class='lineno'> 181</span>     ), axis=2)
<span class='lineno'> 182</span> 
<span class='lineno'> 183</span> 
<span class='lineno'> 184</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss', title='<WeightedIOULocalizationLoss>'>WeightedIOULocalizationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 185</span>   &quot;&quot;&quot;IOU localization loss function.
<span class='lineno'> 186</span> 
<span class='lineno'> 187</span>   Sums the IOU for corresponding pairs of predicted/groundtruth boxes
<span class='lineno'> 188</span>   and for each pair assign a loss of 1 - IOU.  We then compute a weighted
<span class='lineno'> 189</span>   sum over all pairs which is returned as the total loss.
<span class='lineno'> 190</span>   &quot;&quot;&quot;
<span class='lineno'> 191</span> 
<span class='lineno'> 192</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss', title='(WeightedIOULocalizationLoss, ?, ?, ?) -> float'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.self', title='WeightedIOULocalizationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 193</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 194</span> 
<span class='lineno'> 195</span>     Args:
<span class='lineno'> 196</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors, 4]
<span class='lineno'> 197</span>         representing the decoded predicted boxes
<span class='lineno'> 198</span>       target_tensor: A float tensor of shape [batch_size, num_anchors, 4]
<span class='lineno'> 199</span>         representing the decoded target boxes
<span class='lineno'> 200</span>       weights: a float tensor of shape [batch_size, num_anchors]
<span class='lineno'> 201</span> 
<span class='lineno'> 202</span>     Returns:
<span class='lineno'> 203</span>       loss: a float tensor of shape [batch_size, num_anchors] tensor
<span class='lineno'> 204</span>         representing the value of the loss function.
<span class='lineno'> 205</span>     &quot;&quot;&quot;
<span class='lineno'> 206</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.predicted_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.predicted_boxes', title='?'>predicted_boxes</a> = box_list.BoxList(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, [-1, 4]))
<span class='lineno'> 207</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_boxes', title='?'>target_boxes</a> = box_list.BoxList(tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, [-1, 4]))
<span class='lineno'> 208</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.per_anchor_iou_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.per_anchor_iou_loss', title='float'>per_anchor_iou_loss</a> = 1.0 - box_list_ops.matched_iou(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.predicted_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.predicted_boxes', title='?'>predicted_boxes</a>,
<span class='lineno'> 209</span>                                                          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_boxes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.target_boxes', title='?'>target_boxes</a>)
<span class='lineno'> 210</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.weights', title='?'>weights</a>, [-1]) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.per_anchor_iou_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedIOULocalizationLoss._compute_loss.per_anchor_iou_loss', title='float'>per_anchor_iou_loss</a>
<span class='lineno'> 211</span> 
<span class='lineno'> 212</span> 
<span class='lineno'> 213</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss', title='<WeightedSigmoidClassificationLoss>'>WeightedSigmoidClassificationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 214</span>   &quot;&quot;&quot;Sigmoid cross entropy classification loss function.&quot;&quot;&quot;
<span class='lineno'> 215</span> 
<span class='lineno'> 216</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss', title='(WeightedSigmoidClassificationLoss, ?, ?, ?, None) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.self', title='WeightedSigmoidClassificationLoss'>self</a>,
<span class='lineno'> 217</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'> 218</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>,
<span class='lineno'> 219</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', title='?'>weights</a>,
<span class='lineno'> 220</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a>=None):
<span class='lineno'> 221</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 222</span> 
<span class='lineno'> 223</span>     Args:
<span class='lineno'> 224</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 225</span>         num_classes] representing the predicted logits for each class
<span class='lineno'> 226</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 227</span>         num_classes] representing one-hot encoded classification targets
<span class='lineno'> 228</span>       weights: a float tensor of shape, either [batch_size, num_anchors,
<span class='lineno'> 229</span>         num_classes] or [batch_size, num_anchors, 1]. If the shape is
<span class='lineno'> 230</span>         [batch_size, num_anchors, 1], all the classses are equally weighted.
<span class='lineno'> 231</span>       class_indices: (Optional) A 1-D integer tensor of class indices.
<span class='lineno'> 232</span>         If provided, computes loss only for the specified class indices.
<span class='lineno'> 233</span> 
<span class='lineno'> 234</span>     Returns:
<span class='lineno'> 235</span>       loss: a float tensor of shape [batch_size, num_anchors, num_classes]
<span class='lineno'> 236</span>         representing the value of the loss function.
<span class='lineno'> 237</span>     &quot;&quot;&quot;
<span class='lineno'> 238</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a> is not None:
<span class='lineno'> 239</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', title='?'>weights</a></a> *= tf.reshape(
<span class='lineno'> 240</span>           ops.indices_to_dense_vector(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a>,
<span class='lineno'> 241</span>                                       tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>)[2]),
<span class='lineno'> 242</span>           [1, 1, -1])
<span class='lineno'> 243</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a> = (tf.nn.sigmoid_cross_entropy_with_logits(
<span class='lineno'> 244</span>         labels=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, logits=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>))
<span class='lineno'> 245</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSigmoidClassificationLoss._compute_loss.weights', title='?'>weights</a>
<span class='lineno'> 246</span> 
<span class='lineno'> 247</span> 
<span class='lineno'> 248</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss', title='<SigmoidFocalClassificationLoss>'>SigmoidFocalClassificationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 249</span>   &quot;&quot;&quot;Sigmoid focal cross entropy loss.
<span class='lineno'> 250</span> 
<span class='lineno'> 251</span>   Focal loss down-weights well classified examples and focusses on the hard
<span class='lineno'> 252</span>   examples. See https://arxiv.org/pdf/1708.02002.pdf for the loss definition.
<span class='lineno'> 253</span>   &quot;&quot;&quot;
<span class='lineno'> 254</span> 
<span class='lineno'> 255</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', title='SigmoidFocalClassificationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.gamma', title='float'>gamma</a>=2.0, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.alpha', title='float'>alpha</a>=0.25):
<span class='lineno'> 256</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 257</span> 
<span class='lineno'> 258</span>     Args:
<span class='lineno'> 259</span>       gamma: exponent of the modulating factor (1 - p_t) ^ gamma.
<span class='lineno'> 260</span>       alpha: optional alpha weighting factor to balance positives vs negatives.
<span class='lineno'> 261</span>     &quot;&quot;&quot;
<span class='lineno'> 262</span>     super(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss', title='<SigmoidFocalClassificationLoss>'>SigmoidFocalClassificationLoss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', title='SigmoidFocalClassificationLoss'>self</a>).__init__()
<span class='lineno'> 263</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', title='SigmoidFocalClassificationLoss'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', title='float'>_alpha</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.alpha', title='float'>alpha</a>
<span class='lineno'> 264</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', title='float'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', title='float'>_gamma</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss.__init__.gamma', title='float'>gamma</a>
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss', title='(SigmoidFocalClassificationLoss, ?, ?, ?, None) -> float'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>,
<span class='lineno'> 267</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>,
<span class='lineno'> 268</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>,
<span class='lineno'> 269</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', title='?'>weights</a>,
<span class='lineno'> 270</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a>=None):
<span class='lineno'> 271</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 272</span> 
<span class='lineno'> 273</span>     Args:
<span class='lineno'> 274</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 275</span>         num_classes] representing the predicted logits for each class
<span class='lineno'> 276</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 277</span>         num_classes] representing one-hot encoded classification targets
<span class='lineno'> 278</span>       weights: a float tensor of shape, either [batch_size, num_anchors,
<span class='lineno'> 279</span>         num_classes] or [batch_size, num_anchors, 1]. If the shape is
<span class='lineno'> 280</span>         [batch_size, num_anchors, 1], all the classses are equally weighted.
<span class='lineno'> 281</span>       class_indices: (Optional) A 1-D integer tensor of class indices.
<span class='lineno'> 282</span>         If provided, computes loss only for the specified class indices.
<span class='lineno'> 283</span> 
<span class='lineno'> 284</span>     Returns:
<span class='lineno'> 285</span>       loss: a float tensor of shape [batch_size, num_anchors, num_classes]
<span class='lineno'> 286</span>         representing the value of the loss function.
<span class='lineno'> 287</span>     &quot;&quot;&quot;
<span class='lineno'> 288</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a> is not None:
<span class='lineno'> 289</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', title='?'>weights</a></a> *= tf.reshape(
<span class='lineno'> 290</span>           ops.indices_to_dense_vector(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.class_indices', title='None'>class_indices</a>,
<span class='lineno'> 291</span>                                       tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>)[2]),
<span class='lineno'> 292</span>           [1, 1, -1])
<span class='lineno'> 293</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a> = (tf.nn.sigmoid_cross_entropy_with_logits(
<span class='lineno'> 294</span>         labels=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, logits=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>))
<span class='lineno'> 295</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', title='?'>prediction_probabilities</a> = tf.sigmoid(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>)
<span class='lineno'> 296</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.p_t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.p_t', title='int'>p_t</a> = ((<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', title='?'>prediction_probabilities</a>) +
<span class='lineno'> 297</span>            ((1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>) * (1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.prediction_probabilities', title='?'>prediction_probabilities</a>)))
<span class='lineno'> 298</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', title='float'>modulating_factor</a> = 1.0
<span class='lineno'> 299</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', title='float'>_gamma</a>:
<span class='lineno'> 300</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', title='?'>modulating_factor</a> = tf.pow(1.0 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.p_t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.p_t', title='int'>p_t</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._gamma', title='float'>_gamma</a>)
<span class='lineno'> 301</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', title='float'>alpha_weight_factor</a> = 1.0
<span class='lineno'> 302</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', title='float'>_alpha</a> is not None:
<span class='lineno'> 303</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', title='float'>alpha_weight_factor</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', title='float'>_alpha</a> +
<span class='lineno'> 304</span>                              (1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>) * (1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.self', title='SigmoidFocalClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._alpha', title='float'>_alpha</a>))
<span class='lineno'> 305</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.focal_cross_entropy_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.focal_cross_entropy_loss', title='float'>focal_cross_entropy_loss</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.modulating_factor', title='float'>modulating_factor</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.alpha_weight_factor', title='float'>alpha_weight_factor</a> *
<span class='lineno'> 306</span>                                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a>)
<span class='lineno'> 307</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.focal_cross_entropy_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.focal_cross_entropy_loss', title='float'>focal_cross_entropy_loss</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.SigmoidFocalClassificationLoss._compute_loss.weights', title='?'>weights</a>
<span class='lineno'> 308</span> 
<span class='lineno'> 309</span> 
<span class='lineno'> 310</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss', title='<WeightedSoftmaxClassificationLoss>'>WeightedSoftmaxClassificationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 311</span>   &quot;&quot;&quot;Softmax loss function.&quot;&quot;&quot;
<span class='lineno'> 312</span> 
<span class='lineno'> 313</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', title='WeightedSoftmaxClassificationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.logit_scale', title='float'>logit_scale</a>=1.0):
<span class='lineno'> 314</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 315</span> 
<span class='lineno'> 316</span>     Args:
<span class='lineno'> 317</span>       logit_scale: When this value is high, the prediction is &quot;diffused&quot; and
<span class='lineno'> 318</span>                    when this value is low, the prediction is made peakier.
<span class='lineno'> 319</span>                    (default 1.0)
<span class='lineno'> 320</span> 
<span class='lineno'> 321</span>     &quot;&quot;&quot;
<span class='lineno'> 322</span>     super(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss', title='<WeightedSoftmaxClassificationLoss>'>WeightedSoftmaxClassificationLoss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', title='WeightedSoftmaxClassificationLoss'>self</a>).__init__()
<span class='lineno'> 323</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.self', title='WeightedSoftmaxClassificationLoss'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', title='float'>_logit_scale</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss.__init__.logit_scale', title='float'>logit_scale</a>
<span class='lineno'> 324</span> 
<span class='lineno'> 325</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss', title='(WeightedSoftmaxClassificationLoss, ?, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.self', title='WeightedSoftmaxClassificationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 326</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 327</span> 
<span class='lineno'> 328</span>     Args:
<span class='lineno'> 329</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 330</span>         num_classes] representing the predicted logits for each class
<span class='lineno'> 331</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 332</span>         num_classes] representing one-hot encoded classification targets
<span class='lineno'> 333</span>       weights: a float tensor of shape, either [batch_size, num_anchors,
<span class='lineno'> 334</span>         num_classes] or [batch_size, num_anchors, 1]. If the shape is
<span class='lineno'> 335</span>         [batch_size, num_anchors, 1], all the classses are equally weighted.
<span class='lineno'> 336</span> 
<span class='lineno'> 337</span>     Returns:
<span class='lineno'> 338</span>       loss: a float tensor of shape [batch_size, num_anchors]
<span class='lineno'> 339</span>         representing the value of the loss function.
<span class='lineno'> 340</span>     &quot;&quot;&quot;
<span class='lineno'> 341</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', title='?'>weights</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', title='?'>weights</a>, axis=2)
<span class='lineno'> 342</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', title='?'>num_classes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>.get_shape().as_list()[-1]
<span class='lineno'> 343</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a> = tf.divide(
<span class='lineno'> 344</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.self', title='WeightedSoftmaxClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._logit_scale', title='float'>_logit_scale</a>, name=&#39;scale_logit&#39;)
<span class='lineno'> 345</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.per_row_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.per_row_cross_ent', title='?'>per_row_cross_ent</a> = (tf.nn.softmax_cross_entropy_with_logits(
<span class='lineno'> 346</span>         labels=tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', title='?'>num_classes</a>]),
<span class='lineno'> 347</span>         logits=tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.num_classes', title='?'>num_classes</a>])))
<span class='lineno'> 348</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.per_row_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.per_row_cross_ent', title='?'>per_row_cross_ent</a>, tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', title='?'>weights</a>)) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationLoss._compute_loss.weights', title='?'>weights</a>
<span class='lineno'> 349</span> 
<span class='lineno'> 350</span> 
<span class='lineno'> 351</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss', title='<WeightedSoftmaxClassificationAgainstLogitsLoss>'>WeightedSoftmaxClassificationAgainstLogitsLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 352</span>   &quot;&quot;&quot;Softmax loss function against logits.
<span class='lineno'> 353</span> 
<span class='lineno'> 354</span>    Targets are expected to be provided in logits space instead of &quot;one hot&quot; or
<span class='lineno'> 355</span>    &quot;probability distribution&quot; space.
<span class='lineno'> 356</span>   &quot;&quot;&quot;
<span class='lineno'> 357</span> 
<span class='lineno'> 358</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.logit_scale', title='float'>logit_scale</a>=1.0):
<span class='lineno'> 359</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 360</span> 
<span class='lineno'> 361</span>     Args:
<span class='lineno'> 362</span>       logit_scale: When this value is high, the target is &quot;diffused&quot; and
<span class='lineno'> 363</span>                    when this value is low, the target is made peakier.
<span class='lineno'> 364</span>                    (default 1.0)
<span class='lineno'> 365</span> 
<span class='lineno'> 366</span>     &quot;&quot;&quot;
<span class='lineno'> 367</span>     super(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss', title='<WeightedSoftmaxClassificationAgainstLogitsLoss>'>WeightedSoftmaxClassificationAgainstLogitsLoss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>).__init__()
<span class='lineno'> 368</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', title='float'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', title='float'>_logit_scale</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss.__init__.logit_scale', title='float'>logit_scale</a>
<span class='lineno'> 369</span> 
<span class='lineno'> 370</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits', title='(WeightedSoftmaxClassificationAgainstLogitsLoss, ?) -> None'>_scale_and_softmax_logits</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.logits', title='?'>logits</a>):
<span class='lineno'> 371</span>     &quot;&quot;&quot;Scale logits then apply softmax.&quot;&quot;&quot;
<span class='lineno'> 372</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.scaled_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.scaled_logits', title='?'>scaled_logits</a> = tf.divide(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.logits', title='?'>logits</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', title='float'>_logit_scale</a>, name=&#39;scale_logits&#39;)
<span class='lineno'> 373</span>     return tf.nn.softmax(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.scaled_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits.scaled_logits', title='?'>scaled_logits</a>, name=&#39;convert_scores&#39;)
<span class='lineno'> 374</span> 
<span class='lineno'> 375</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss', title='(WeightedSoftmaxClassificationAgainstLogitsLoss, ?, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 376</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 377</span> 
<span class='lineno'> 378</span>     Args:
<span class='lineno'> 379</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 380</span>         num_classes] representing the predicted logits for each class
<span class='lineno'> 381</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 382</span>         num_classes] representing logit classification targets
<span class='lineno'> 383</span>       weights: a float tensor of shape, either [batch_size, num_anchors,
<span class='lineno'> 384</span>         num_classes] or [batch_size, num_anchors, 1]. If the shape is
<span class='lineno'> 385</span>         [batch_size, num_anchors, 1], all the classses are equally weighted.
<span class='lineno'> 386</span> 
<span class='lineno'> 387</span>     Returns:
<span class='lineno'> 388</span>       loss: a float tensor of shape [batch_size, num_anchors]
<span class='lineno'> 389</span>         representing the value of the loss function.
<span class='lineno'> 390</span>     &quot;&quot;&quot;
<span class='lineno'> 391</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', title='?'>weights</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', title='?'>weights</a>, axis=2)
<span class='lineno'> 392</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', title='?'>num_classes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>.get_shape().as_list()[-1]
<span class='lineno'> 393</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', title='None'>target_tensor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._scale_and_softmax_logits', title='(WeightedSoftmaxClassificationAgainstLogitsLoss, ?) -> None'>_scale_and_softmax_logits</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', title='?'>target_tensor</a>)
<span class='lineno'> 394</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a> = tf.divide(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.self', title='WeightedSoftmaxClassificationAgainstLogitsLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._logit_scale', title='float'>_logit_scale</a>,
<span class='lineno'> 395</span>                                   name=&#39;scale_logits&#39;)
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.per_row_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.per_row_cross_ent', title='?'>per_row_cross_ent</a> = (tf.nn.softmax_cross_entropy_with_logits(
<span class='lineno'> 398</span>         labels=tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.target_tensor', title='None'>target_tensor</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', title='?'>num_classes</a>]),
<span class='lineno'> 399</span>         logits=tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, [-1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.num_classes', title='?'>num_classes</a>])))
<span class='lineno'> 400</span>     return tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.per_row_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.per_row_cross_ent', title='?'>per_row_cross_ent</a>, tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', title='?'>weights</a>)) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.WeightedSoftmaxClassificationAgainstLogitsLoss._compute_loss.weights', title='?'>weights</a>
<span class='lineno'> 401</span> 
<span class='lineno'> 402</span> 
<span class='lineno'> 403</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss', title='<BootstrappedSigmoidClassificationLoss>'>BootstrappedSigmoidClassificationLoss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.Loss', title='<Loss>'>Loss</a>):
<span class='lineno'> 404</span>   &quot;&quot;&quot;Bootstrapped sigmoid cross entropy classification loss function.
<span class='lineno'> 405</span> 
<span class='lineno'> 406</span>   This loss uses a convex combination of training labels and the current model&#39;s
<span class='lineno'> 407</span>   predictions as training targets in the classification loss. The idea is that
<span class='lineno'> 408</span>   as the model improves over time, its predictions can be trusted more and we
<span class='lineno'> 409</span>   can use these predictions to mitigate the damage of noisy/incorrect labels,
<span class='lineno'> 410</span>   because incorrect labels are likely to be eventually highly inconsistent with
<span class='lineno'> 411</span>   other stimuli predicted to have the same label by the model.
<span class='lineno'> 412</span> 
<span class='lineno'> 413</span>   In &quot;soft&quot; bootstrapping, we use all predicted class probabilities, whereas in
<span class='lineno'> 414</span>   &quot;hard&quot; bootstrapping, we use the single class favored by the model.
<span class='lineno'> 415</span> 
<span class='lineno'> 416</span>   See also Training Deep Neural Networks On Noisy Labels with Bootstrapping by
<span class='lineno'> 417</span>   Reed et al. (ICLR 2015).
<span class='lineno'> 418</span>   &quot;&quot;&quot;
<span class='lineno'> 419</span> 
<span class='lineno'> 420</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', title='BootstrappedSigmoidClassificationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.alpha', title='?'>alpha</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', title='str'>bootstrap_type</a>=&#39;soft&#39;):
<span class='lineno'> 421</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 422</span> 
<span class='lineno'> 423</span>     Args:
<span class='lineno'> 424</span>       alpha: a float32 scalar tensor between 0 and 1 representing interpolation
<span class='lineno'> 425</span>         weight
<span class='lineno'> 426</span>       bootstrap_type: set to either &#39;hard&#39; or &#39;soft&#39; (default)
<span class='lineno'> 427</span> 
<span class='lineno'> 428</span>     Raises:
<span class='lineno'> 429</span>       ValueError: if bootstrap_type is not either &#39;hard&#39; or &#39;soft&#39;
<span class='lineno'> 430</span>     &quot;&quot;&quot;
<span class='lineno'> 431</span>     super(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss', title='<BootstrappedSigmoidClassificationLoss>'>BootstrappedSigmoidClassificationLoss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', title='BootstrappedSigmoidClassificationLoss'>self</a>).__init__()
<span class='lineno'> 432</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', title='str'>bootstrap_type</a> != &#39;hard&#39; and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', title='str'>bootstrap_type</a> != &#39;soft&#39;:
<span class='lineno'> 433</span>       raise ValueError(&#39;Unrecognized bootstrap_type: must be one of &#39;
<span class='lineno'> 434</span>                        &#39;\&#39;hard\&#39; or \&#39;soft.\&#39;&#39;)
<span class='lineno'> 435</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', title='?'>_alpha</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.alpha', title='?'>alpha</a>
<span class='lineno'> 436</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._bootstrap_type', title='str'>_bootstrap_type</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss.__init__.bootstrap_type', title='str'>bootstrap_type</a>
<span class='lineno'> 437</span> 
<span class='lineno'> 438</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss', title='(BootstrappedSigmoidClassificationLoss, ?, ?, ?) -> None'>_compute_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.weights', title='?'>weights</a>):
<span class='lineno'> 439</span>     &quot;&quot;&quot;Compute loss function.
<span class='lineno'> 440</span> 
<span class='lineno'> 441</span>     Args:
<span class='lineno'> 442</span>       prediction_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 443</span>         num_classes] representing the predicted logits for each class
<span class='lineno'> 444</span>       target_tensor: A float tensor of shape [batch_size, num_anchors,
<span class='lineno'> 445</span>         num_classes] representing one-hot encoded classification targets
<span class='lineno'> 446</span>       weights: a float tensor of shape, either [batch_size, num_anchors,
<span class='lineno'> 447</span>         num_classes] or [batch_size, num_anchors, 1]. If the shape is
<span class='lineno'> 448</span>         [batch_size, num_anchors, 1], all the classses are equally weighted.
<span class='lineno'> 449</span> 
<span class='lineno'> 450</span>     Returns:
<span class='lineno'> 451</span>       loss: a float tensor of shape [batch_size, num_anchors, num_classes]
<span class='lineno'> 452</span>         representing the value of the loss function.
<span class='lineno'> 453</span>     &quot;&quot;&quot;
<span class='lineno'> 454</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._bootstrap_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._bootstrap_type', title='str'>_bootstrap_type</a> == &#39;soft&#39;:
<span class='lineno'> 455</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', title='float'>bootstrap_target_tensor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', title='?'>_alpha</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a> + (
<span class='lineno'> 456</span>           1.0 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', title='?'>_alpha</a>) * tf.sigmoid(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>)
<span class='lineno'> 457</span>     else:
<span class='lineno'> 458</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', title='float'>bootstrap_target_tensor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', title='?'>_alpha</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.target_tensor', title='?'>target_tensor</a> + (
<span class='lineno'> 459</span>           1.0 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.self', title='BootstrappedSigmoidClassificationLoss'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._alpha', title='?'>_alpha</a>) * tf.cast(
<span class='lineno'> 460</span>               tf.sigmoid(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>) &gt; 0.5, tf.float32)
<span class='lineno'> 461</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a> = (tf.nn.sigmoid_cross_entropy_with_logits(
<span class='lineno'> 462</span>         labels=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.bootstrap_target_tensor', title='float'>bootstrap_target_tensor</a>, logits=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.prediction_tensor', title='?'>prediction_tensor</a>))
<span class='lineno'> 463</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.per_entry_cross_ent', title='?'>per_entry_cross_ent</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.BootstrappedSigmoidClassificationLoss._compute_loss.weights', title='?'>weights</a>
<span class='lineno'> 464</span> 
<span class='lineno'> 465</span> 
<span class='lineno'> 466</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner', title='<HardExampleMiner>'>HardExampleMiner</a>(object):
<span class='lineno'> 467</span>   &quot;&quot;&quot;Hard example mining for regions in a list of images.
<span class='lineno'> 468</span> 
<span class='lineno'> 469</span>   Implements hard example mining to select a subset of regions to be
<span class='lineno'> 470</span>   back-propagated. For each image, selects the regions with highest losses,
<span class='lineno'> 471</span>   subject to the condition that a newly selected region cannot have
<span class='lineno'> 472</span>   an IOU &gt; iou_threshold with any of the previously selected regions.
<span class='lineno'> 473</span>   This can be achieved by re-using a greedy non-maximum suppression algorithm.
<span class='lineno'> 474</span>   A constraint on the number of negatives mined per positive region can also be
<span class='lineno'> 475</span>   enforced.
<span class='lineno'> 476</span> 
<span class='lineno'> 477</span>   Reference papers: &quot;Training Region-based Object Detectors with Online
<span class='lineno'> 478</span>   Hard Example Mining&quot; (CVPR 2016) by Srivastava et al., and
<span class='lineno'> 479</span>   &quot;SSD: Single Shot MultiBox Detector&quot; (ECCV 2016) by Liu et al.
<span class='lineno'> 480</span>   &quot;&quot;&quot;
<span class='lineno'> 481</span> 
<span class='lineno'> 482</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>,
<span class='lineno'> 483</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.num_hard_examples', title='int'>num_hard_examples</a>=64,
<span class='lineno'> 484</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.iou_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.iou_threshold', title='float'>iou_threshold</a>=0.7,
<span class='lineno'> 485</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loss_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loss_type', title='str'>loss_type</a>=&#39;both&#39;,
<span class='lineno'> 486</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.cls_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.cls_loss_weight', title='float'>cls_loss_weight</a>=0.05,
<span class='lineno'> 487</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loc_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loc_loss_weight', title='float'>loc_loss_weight</a>=0.06,
<span class='lineno'> 488</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.max_negatives_per_positive', title='None'>max_negatives_per_positive</a>=None,
<span class='lineno'> 489</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.min_negatives_per_image', title='int'>min_negatives_per_image</a>=0):
<span class='lineno'> 490</span>     &quot;&quot;&quot;Constructor.
<span class='lineno'> 491</span> 
<span class='lineno'> 492</span>     The hard example mining implemented by this class can replicate the behavior
<span class='lineno'> 493</span>     in the two aforementioned papers (Srivastava et al., and Liu et al).
<span class='lineno'> 494</span>     To replicate the A2 paper (Srivastava et al), num_hard_examples is set
<span class='lineno'> 495</span>     to a fixed parameter (64 by default) and iou_threshold is set to .7 for
<span class='lineno'> 496</span>     running non-max-suppression the predicted boxes prior to hard mining.
<span class='lineno'> 497</span>     In order to replicate the SSD paper (Liu et al), num_hard_examples should
<span class='lineno'> 498</span>     be set to None, max_negatives_per_positive should be 3 and iou_threshold
<span class='lineno'> 499</span>     should be 1.0 (in order to effectively turn off NMS).
<span class='lineno'> 500</span> 
<span class='lineno'> 501</span>     Args:
<span class='lineno'> 502</span>       num_hard_examples: maximum number of hard examples to be
<span class='lineno'> 503</span>         selected per image (prior to enforcing max negative to positive ratio
<span class='lineno'> 504</span>         constraint).  If set to None, all examples obtained after NMS are
<span class='lineno'> 505</span>         considered.
<span class='lineno'> 506</span>       iou_threshold: minimum intersection over union for an example
<span class='lineno'> 507</span>         to be discarded during NMS.
<span class='lineno'> 508</span>       loss_type: use only classification losses (&#39;cls&#39;, default),
<span class='lineno'> 509</span>         localization losses (&#39;loc&#39;) or both losses (&#39;both&#39;).
<span class='lineno'> 510</span>         In the last case, cls_loss_weight and loc_loss_weight are used to
<span class='lineno'> 511</span>         compute weighted sum of the two losses.
<span class='lineno'> 512</span>       cls_loss_weight: weight for classification loss.
<span class='lineno'> 513</span>       loc_loss_weight: weight for location loss.
<span class='lineno'> 514</span>       max_negatives_per_positive: maximum number of negatives to retain for
<span class='lineno'> 515</span>         each positive anchor. By default, num_negatives_per_positive is None,
<span class='lineno'> 516</span>         which means that we do not enforce a prespecified negative:positive
<span class='lineno'> 517</span>         ratio.  Note also that num_negatives_per_positives can be a float
<span class='lineno'> 518</span>         (and will be converted to be a float even if it is passed in otherwise).
<span class='lineno'> 519</span>       min_negatives_per_image: minimum number of negative anchors to sample for
<span class='lineno'> 520</span>         a given image. Setting this to a positive number allows sampling
<span class='lineno'> 521</span>         negatives in an image without any positive anchors and thus not biased
<span class='lineno'> 522</span>         towards at least one detection per image.
<span class='lineno'> 523</span>     &quot;&quot;&quot;
<span class='lineno'> 524</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', title='int'>_num_hard_examples</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.num_hard_examples', title='int'>num_hard_examples</a>
<span class='lineno'> 525</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._iou_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._iou_threshold', title='float'>_iou_threshold</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.iou_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.iou_threshold', title='float'>iou_threshold</a>
<span class='lineno'> 526</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', title='str'>_loss_type</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loss_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loss_type', title='str'>loss_type</a>
<span class='lineno'> 527</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._cls_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._cls_loss_weight', title='float'>_cls_loss_weight</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.cls_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.cls_loss_weight', title='float'>cls_loss_weight</a>
<span class='lineno'> 528</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loc_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loc_loss_weight', title='float'>_loc_loss_weight</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loc_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.loc_loss_weight', title='float'>loc_loss_weight</a>
<span class='lineno'> 529</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.max_negatives_per_positive', title='None'>max_negatives_per_positive</a>
<span class='lineno'> 530</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._min_negatives_per_image', title='int'>_min_negatives_per_image</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.min_negatives_per_image', title='int'>min_negatives_per_image</a>
<span class='lineno'> 531</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a> is not None:
<span class='lineno'> 532</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a> = float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a>)
<span class='lineno'> 533</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', title='[?]'>_num_positives_list</a> = None
<span class='lineno'> 534</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__init__.self', title='HardExampleMiner'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', title='[?]'>_num_negatives_list</a> = None
<span class='lineno'> 535</span> 
<span class='lineno'> 536</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__', title='(HardExampleMiner, ?, ?, ?, None) -> (?, ?)'>__call__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>,
<span class='lineno'> 537</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>,
<span class='lineno'> 538</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a>,
<span class='lineno'> 539</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', title='?'>decoded_boxlist_list</a>,
<span class='lineno'> 540</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='None'>match_list</a>=None):
<span class='lineno'> 541</span>     &quot;&quot;&quot;Computes localization and classification losses after hard mining.
<span class='lineno'> 542</span> 
<span class='lineno'> 543</span>     Args:
<span class='lineno'> 544</span>       location_losses: a float tensor of shape [num_images, num_anchors]
<span class='lineno'> 545</span>         representing anchorwise localization losses.
<span class='lineno'> 546</span>       cls_losses: a float tensor of shape [num_images, num_anchors]
<span class='lineno'> 547</span>         representing anchorwise classification losses.
<span class='lineno'> 548</span>       decoded_boxlist_list: a list of decoded BoxList representing location
<span class='lineno'> 549</span>         predictions for each image.
<span class='lineno'> 550</span>       match_list: an optional list of matcher.Match objects encoding the match
<span class='lineno'> 551</span>         between anchors and groundtruth boxes for each image of the batch,
<span class='lineno'> 552</span>         with rows of the Match objects corresponding to groundtruth boxes
<span class='lineno'> 553</span>         and columns corresponding to anchors.  Match objects in match_list are
<span class='lineno'> 554</span>         used to reference which anchors are positive, negative or ignored.  If
<span class='lineno'> 555</span>         self._max_negatives_per_positive exists, these are then used to enforce
<span class='lineno'> 556</span>         a prespecified negative to positive ratio.
<span class='lineno'> 557</span> 
<span class='lineno'> 558</span>     Returns:
<span class='lineno'> 559</span>       mined_location_loss: a float scalar with sum of localization losses from
<span class='lineno'> 560</span>         selected hard examples.
<span class='lineno'> 561</span>       mined_cls_loss: a float scalar with sum of classification losses from
<span class='lineno'> 562</span>         selected hard examples.
<span class='lineno'> 563</span>     Raises:
<span class='lineno'> 564</span>       ValueError: if location_losses, cls_losses and decoded_boxlist_list do
<span class='lineno'> 565</span>         not have compatible shapes (i.e., they must correspond to the same
<span class='lineno'> 566</span>         number of images).
<span class='lineno'> 567</span>       ValueError: if match_list is specified but its length does not match
<span class='lineno'> 568</span>         len(decoded_boxlist_list).
<span class='lineno'> 569</span>     &quot;&quot;&quot;
<span class='lineno'> 570</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', title='[?]'>mined_location_losses</a> = []
<span class='lineno'> 571</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', title='[?]'>mined_cls_losses</a> = []
<span class='lineno'> 572</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a> = tf.unstack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>)
<span class='lineno'> 573</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a> = tf.unstack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a>)
<span class='lineno'> 574</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_images', title='int'>num_images</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', title='?'>decoded_boxlist_list</a>)
<span class='lineno'> 575</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='None'>match_list</a>:
<span class='lineno'> 576</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='int'>match_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_images', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_images', title='int'>num_images</a> * [None]
<span class='lineno'> 577</span>     if not len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>) == len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', title='?'>decoded_boxlist_list</a>) == len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a>):
<span class='lineno'> 578</span>       raise ValueError(&#39;location_losses, cls_losses and decoded_boxlist_list &#39;
<span class='lineno'> 579</span>                        &#39;do not have compatible shapes.&#39;)
<span class='lineno'> 580</span>     if not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='int'>match_list</a>, list):
<span class='lineno'> 581</span>       raise ValueError(&#39;match_list must be a list.&#39;)
<span class='lineno'> 582</span>     if len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='int'>match_list</a>) != len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', title='?'>decoded_boxlist_list</a>):
<span class='lineno'> 583</span>       raise ValueError(&#39;match_list must either be None or have &#39;
<span class='lineno'> 584</span>                        &#39;length=len(decoded_boxlist_list).&#39;)
<span class='lineno'> 585</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', title='[?]'>num_positives_list</a> = []
<span class='lineno'> 586</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', title='[?]'>num_negatives_list</a> = []
<span class='lineno'> 587</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', title='?'>detection_boxlist</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.decoded_boxlist_list', title='?'>decoded_boxlist_list</a>):
<span class='lineno'> 588</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.box_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.box_locations', title='?'>box_locations</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', title='?'>detection_boxlist</a>.get()
<span class='lineno'> 589</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', title='?'>match</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match_list', title='int'>match_list</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>]
<span class='lineno'> 590</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='?'>image_losses</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>]
<span class='lineno'> 591</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', title='str'>_loss_type</a> == &#39;loc&#39;:
<span class='lineno'> 592</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='?'>image_losses</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>]
<span class='lineno'> 593</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loss_type', title='str'>_loss_type</a> == &#39;both&#39;:
<span class='lineno'> 594</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='float'>image_losses</a></a> *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._cls_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._cls_loss_weight', title='float'>_cls_loss_weight</a>
<span class='lineno'> 595</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='float'>image_losses</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>] * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loc_loss_weight', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._loc_loss_weight', title='float'>_loc_loss_weight</a>
<span class='lineno'> 596</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', title='int'>_num_hard_examples</a> is not None:
<span class='lineno'> 597</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', title='int'>num_hard_examples</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_hard_examples', title='int'>_num_hard_examples</a>
<span class='lineno'> 598</span>       else:
<span class='lineno'> 599</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', title='?'>num_hard_examples</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.detection_boxlist', title='?'>detection_boxlist</a>.num_boxes()
<span class='lineno'> 600</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', title='?'>selected_indices</a> = tf.image.non_max_suppression(
<span class='lineno'> 601</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.box_locations', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.box_locations', title='?'>box_locations</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.image_losses', title='float'>image_losses</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_hard_examples', title='int'>num_hard_examples</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._iou_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._iou_threshold', title='float'>_iou_threshold</a>)
<span class='lineno'> 602</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a> is not None and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', title='?'>match</a>:
<span class='lineno'> 603</span>         (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', title='?'>selected_indices</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives', title='?'>num_positives</a>,
<span class='lineno'> 604</span>          <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives', title='?'>num_negatives</a>) = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio', title='(HardExampleMiner, ?, ?, ?, int) -> (?, ?, ?) / (HardExampleMiner, ?, ?, float, int) -> (?, ?, ?)'>_subsample_selection_to_desired_neg_pos_ratio</a>(
<span class='lineno'> 605</span>              <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', title='?'>selected_indices</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', title='?'>match</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a>,
<span class='lineno'> 606</span>              <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._min_negatives_per_image', title='int'>_min_negatives_per_image</a>)
<span class='lineno'> 607</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', title='[?]'>num_positives_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives', title='?'>num_positives</a>)
<span class='lineno'> 608</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', title='[?]'>num_negatives_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives', title='?'>num_negatives</a>)
<span class='lineno'> 609</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', title='[?]'>mined_location_losses</a>.append(
<span class='lineno'> 610</span>           tf.reduce_sum(tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_losses', title='?'>location_losses</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', title='?'>selected_indices</a>)))
<span class='lineno'> 611</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', title='[?]'>mined_cls_losses</a>.append(
<span class='lineno'> 612</span>           tf.reduce_sum(tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_losses', title='?'>cls_losses</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.ind', title='?'>ind</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.selected_indices', title='?'>selected_indices</a>)))
<span class='lineno'> 613</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_loss', title='?'>location_loss</a> = tf.reduce_sum(tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_location_losses', title='[?]'>mined_location_losses</a>))
<span class='lineno'> 614</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_loss', title='?'>cls_loss</a> = tf.reduce_sum(tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.mined_cls_losses', title='[?]'>mined_cls_losses</a>))
<span class='lineno'> 615</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.match', title='?'>match</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._max_negatives_per_positive', title='float'>_max_negatives_per_positive</a>:
<span class='lineno'> 616</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', title='[?]'>_num_positives_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_positives_list', title='[?]'>num_positives_list</a>
<span class='lineno'> 617</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', title='[?]'>_num_negatives_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.num_negatives_list', title='[?]'>num_negatives_list</a>
<span class='lineno'> 618</span>     return (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.location_loss', title='?'>location_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.__call__.cls_loss', title='?'>cls_loss</a>)
<span class='lineno'> 619</span> 
<span class='lineno'> 620</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize', title='HardExampleMiner -> None'>summarize</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', title='HardExampleMiner'>self</a>):
<span class='lineno'> 621</span>     &quot;&quot;&quot;Summarize the number of positives and negatives after mining.&quot;&quot;&quot;
<span class='lineno'> 622</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', title='[?]'>_num_positives_list</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', title='[?]'>_num_negatives_list</a>:
<span class='lineno'> 623</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_positives', title='?'>avg_num_positives</a> = tf.reduce_mean(
<span class='lineno'> 624</span>           tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_positives_list', title='[?]'>_num_positives_list</a>, dtype=tf.float32))
<span class='lineno'> 625</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_negatives', title='?'>avg_num_negatives</a> = tf.reduce_mean(
<span class='lineno'> 626</span>           tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.self', title='HardExampleMiner'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._num_negatives_list', title='[?]'>_num_negatives_list</a>, dtype=tf.float32))
<span class='lineno'> 627</span>       tf.summary.scalar(&#39;HardExampleMiner/NumPositives&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_positives', title='?'>avg_num_positives</a>)
<span class='lineno'> 628</span>       tf.summary.scalar(&#39;HardExampleMiner/NumNegatives&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner.summarize.avg_num_negatives', title='?'>avg_num_negatives</a>)
<span class='lineno'> 629</span> 
<span class='lineno'> 630</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio', title='(HardExampleMiner, ?, ?, ?, int) -> (?, ?, ?) / (HardExampleMiner, ?, ?, float, int) -> (?, ?, ?)'>_subsample_selection_to_desired_neg_pos_ratio</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.self', title='HardExampleMiner'>self</a>,
<span class='lineno'> 631</span>                                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', title='?'>indices</a>,
<span class='lineno'> 632</span>                                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', title='?'>match</a>,
<span class='lineno'> 633</span>                                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives_per_positive', title='float'>max_negatives_per_positive</a>,
<span class='lineno'> 634</span>                                                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.min_negatives_per_image', title='int'>min_negatives_per_image</a>=0):
<span class='lineno'> 635</span>     &quot;&quot;&quot;Subsample a collection of selected indices to a desired neg:pos ratio.
<span class='lineno'> 636</span> 
<span class='lineno'> 637</span>     This function takes a subset of M indices (indexing into a large anchor
<span class='lineno'> 638</span>     collection of N anchors where M&lt;N) which are labeled as positive/negative
<span class='lineno'> 639</span>     via a Match object (matched indices are positive, unmatched indices
<span class='lineno'> 640</span>     are negative).  It returns a subset of the provided indices retaining all
<span class='lineno'> 641</span>     positives as well as up to the first K negatives, where:
<span class='lineno'> 642</span>       K=floor(num_negative_per_positive * num_positives).
<span class='lineno'> 643</span> 
<span class='lineno'> 644</span>     For example, if indices=[2, 4, 5, 7, 9, 10] (indexing into 12 anchors),
<span class='lineno'> 645</span>     with positives=[2, 5] and negatives=[4, 7, 9, 10] and
<span class='lineno'> 646</span>     num_negatives_per_positive=1, then the returned subset of indices
<span class='lineno'> 647</span>     is [2, 4, 5, 7].
<span class='lineno'> 648</span> 
<span class='lineno'> 649</span>     Args:
<span class='lineno'> 650</span>       indices: An integer tensor of shape [M] representing a collection
<span class='lineno'> 651</span>         of selected anchor indices
<span class='lineno'> 652</span>       match: A matcher.Match object encoding the match between anchors and
<span class='lineno'> 653</span>         groundtruth boxes for a given image, with rows of the Match objects
<span class='lineno'> 654</span>         corresponding to groundtruth boxes and columns corresponding to anchors.
<span class='lineno'> 655</span>       max_negatives_per_positive: (float) maximum number of negatives for
<span class='lineno'> 656</span>         each positive anchor.
<span class='lineno'> 657</span>       min_negatives_per_image: minimum number of negative anchors for a given
<span class='lineno'> 658</span>         image. Allow sampling negatives in image without any positive anchors.
<span class='lineno'> 659</span> 
<span class='lineno'> 660</span>     Returns:
<span class='lineno'> 661</span>       selected_indices: An integer tensor of shape [M&#39;] representing a
<span class='lineno'> 662</span>         collection of selected anchor indices with M&#39; &lt;= M.
<span class='lineno'> 663</span>       num_positives: An integer tensor representing the number of positive
<span class='lineno'> 664</span>         examples in selected set of indices.
<span class='lineno'> 665</span>       num_negatives: An integer tensor representing the number of negative
<span class='lineno'> 666</span>         examples in selected set of indices.
<span class='lineno'> 667</span>     &quot;&quot;&quot;
<span class='lineno'> 668</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', title='?'>positives_indicator</a> = tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', title='?'>match</a>.matched_column_indicator(), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', title='?'>indices</a>)
<span class='lineno'> 669</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.negatives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.negatives_indicator', title='?'>negatives_indicator</a> = tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.match', title='?'>match</a>.unmatched_column_indicator(), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', title='?'>indices</a>)
<span class='lineno'> 670</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', title='?'>num_positives</a> = tf.reduce_sum(tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', title='?'>positives_indicator</a>, dtype=tf.int32))
<span class='lineno'> 671</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives', title='?'>max_negatives</a> = tf.maximum(
<span class='lineno'> 672</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.min_negatives_per_image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.min_negatives_per_image', title='int'>min_negatives_per_image</a>,
<span class='lineno'> 673</span>         tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives_per_positive', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives_per_positive', title='float'>max_negatives_per_positive</a> *
<span class='lineno'> 674</span>                 tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', title='?'>num_positives</a>, dtype=tf.float32), dtype=tf.int32))
<span class='lineno'> 675</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.topk_negatives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.topk_negatives_indicator', title='?'>topk_negatives_indicator</a> = tf.less_equal(
<span class='lineno'> 676</span>         tf.cumsum(tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.negatives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.negatives_indicator', title='?'>negatives_indicator</a>, dtype=tf.int32)), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.max_negatives', title='?'>max_negatives</a>)
<span class='lineno'> 677</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', title='?'>subsampled_selection_indices</a> = tf.where(
<span class='lineno'> 678</span>         tf.logical_or(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.positives_indicator', title='?'>positives_indicator</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.topk_negatives_indicator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.topk_negatives_indicator', title='?'>topk_negatives_indicator</a>))
<span class='lineno'> 679</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_negatives', title='?'>num_negatives</a> = tf.size(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', title='?'>subsampled_selection_indices</a>) - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', title='?'>num_positives</a>
<span class='lineno'> 680</span>     return (tf.reshape(tf.gather(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.indices', title='?'>indices</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.subsampled_selection_indices', title='?'>subsampled_selection_indices</a>), [-1]),
<span class='lineno'> 681</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_positives', title='?'>num_positives</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_negatives', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.object_detection.core.losses.HardExampleMiner._subsample_selection_to_desired_neg_pos_ratio.num_negatives', title='?'>num_negatives</a>)
</pre></td></tr></table></body></html>