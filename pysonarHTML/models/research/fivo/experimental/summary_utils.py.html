<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/fivo/experimental/summary_utils.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess'>summarize_ess</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles'>summarize_particles</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights'>plot_weights</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights'>summarize_weights</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal'>summarize_learning_signal</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs'>summarize_qs</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs'>summarize_rs</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model'>summarize_model</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads', xid='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads'>summarize_grads</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2018 The TensorFlow Authors All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> &quot;&quot;&quot;Utils for plotting and summarizing.
<span class='lineno'>  17</span> &quot;&quot;&quot;
<span class='lineno'>  18</span> from __future__ import absolute_import
<span class='lineno'>  19</span> from __future__ import division
<span class='lineno'>  20</span> from __future__ import print_function
<span class='lineno'>  21</span> 
<span class='lineno'>  22</span> import matplotlib.gridspec as gridspec
<span class='lineno'>  23</span> import matplotlib.pyplot as plt
<span class='lineno'>  24</span> import numpy as np
<span class='lineno'>  25</span> import scipy
<span class='lineno'>  26</span> 
<span class='lineno'>  27</span> import tensorflow as tf
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span> import <a href='models.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models', title='models'>models</a>
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess', title='(?, bool) -> None / ([?], bool) -> None'>summarize_ess</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', title='[?]'>weights</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.only_last_timestep', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.only_last_timestep', title='bool'>only_last_timestep</a>=False):
<span class='lineno'>  33</span>   &quot;&quot;&quot;Plots the effective sample size.
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span>   Args:
<span class='lineno'>  36</span>     weights: List of length num_timesteps Tensors of shape
<span class='lineno'>  37</span>     [num_samples, batch_size]
<span class='lineno'>  38</span>   &quot;&quot;&quot;
<span class='lineno'>  39</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', title='int'>num_timesteps</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', title='[?]'>weights</a>)
<span class='lineno'>  40</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', title='?'>batch_size</a> = tf.cast(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', title='[?]'>weights</a>[0])[1], dtype=tf.float64)
<span class='lineno'>  41</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', title='int'>num_timesteps</a>):
<span class='lineno'>  42</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.only_last_timestep', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.only_last_timestep', title='bool'>only_last_timestep</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.num_timesteps', title='int'>num_timesteps</a>-1: continue
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', title='?'>w</a> = tf.nn.softmax(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.weights', title='[?]'>weights</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a>], dim=0)
<span class='lineno'>  45</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.centered_weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.centered_weights', title='?'>centered_weights</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', title='?'>w</a> - tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', title='?'>w</a>, axis=0, keepdims=True)
<span class='lineno'>  46</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.variance', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.variance', title='int'>variance</a> = tf.reduce_sum(tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.centered_weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.centered_weights', title='?'>centered_weights</a>))/(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', title='?'>batch_size</a>-1)
<span class='lineno'>  47</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', title='float'>ess</a> = 1./tf.reduce_mean(tf.reduce_sum(tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.w', title='?'>w</a>), axis=0))
<span class='lineno'>  48</span>     tf.summary.scalar(&quot;ess/%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', title='float'>ess</a>)
<span class='lineno'>  49</span>     tf.summary.scalar(&quot;ese/%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.ess', title='float'>ess</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.batch_size', title='?'>batch_size</a>)
<span class='lineno'>  50</span>     tf.summary.scalar(&quot;weight_variance/%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.i', title='int'>i</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.variance', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_ess.variance', title='int'>variance</a>)
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles', title='(?, ?, ?, ?) -> None'>summarize_particles</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', title='?'>observation</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>):
<span class='lineno'>  54</span>   &quot;&quot;&quot;Plots particle locations and weights.
<span class='lineno'>  55</span> 
<span class='lineno'>  56</span>   Args:
<span class='lineno'>  57</span>     states: List of length num_timesteps Tensors of shape
<span class='lineno'>  58</span>       [batch_size*num_particles, state_size].
<span class='lineno'>  59</span>     weights: List of length num_timesteps Tensors of shape [num_samples,
<span class='lineno'>  60</span>       batch_size]
<span class='lineno'>  61</span>     observation: Tensor of shape [batch_size*num_samples, state_size]
<span class='lineno'>  62</span>   &quot;&quot;&quot;
<span class='lineno'>  63</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.num_timesteps', title='int'>num_timesteps</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>)
<span class='lineno'>  64</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.num_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.num_samples', title='?'>num_samples</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', title='?'>batch_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>[0].get_shape().as_list()
<span class='lineno'>  65</span>   # get q0 information for plotting
<span class='lineno'>  66</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', title='?'>q0_dist</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.q.q_zt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', title='?'>observation</a>, tf.zeros_like(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a>[0]), 0)
<span class='lineno'>  67</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_loc', title='?'>q0_loc</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', title='?'>q0_dist</a>.loc[0:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', title='?'>batch_size</a>, 0]
<span class='lineno'>  68</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_scale', title='?'>q0_scale</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_dist', title='?'>q0_dist</a>.scale[0:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.batch_size', title='?'>batch_size</a>, 0]
<span class='lineno'>  69</span>   # get posterior information for plotting
<span class='lineno'>  70</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.post', title='(?, ?, ?, ?, ?)'>post</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.p.mixing_coeff, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.p.prior_mode_mean, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.p.variance,
<span class='lineno'>  71</span>           tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.p.bs), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.model', title='?'>model</a>.p.num_timesteps)
<span class='lineno'>  72</span> 
<span class='lineno'>  73</span>   # Reshape states and weights to be [time, num_samples, batch_size]
<span class='lineno'>  74</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a> = tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a>)
<span class='lineno'>  75</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a> = tf.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>)
<span class='lineno'>  76</span>   # normalize the weights over the sample dimension
<span class='lineno'>  77</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a> = tf.nn.softmax(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>, dim=1)
<span class='lineno'>  78</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a>, tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>))
<span class='lineno'>  79</span> 
<span class='lineno'>  80</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.ess', title='float'>ess</a> = 1./tf.reduce_sum(tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>), axis=1)
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states', title='(?, ?, ?, ?, ?, ?) -> None'>_plot_states</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', title='?'>states_batch</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights_batch', title='?'>weights_batch</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation_batch', title='?'>observation_batch</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess_batch', title='?'>ess_batch</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', title='?'>q0</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', title='?'>post</a>):
<span class='lineno'>  83</span>     &quot;&quot;&quot;
<span class='lineno'>  84</span>     states: [time, num_samples, batch_size]
<span class='lineno'>  85</span>     weights [time, num_samples, batch_size]
<span class='lineno'>  86</span>     observation: [batch_size, 1]
<span class='lineno'>  87</span>     q0: ([batch_size], [batch_size])
<span class='lineno'>  88</span>     post: ...
<span class='lineno'>  89</span>     &quot;&quot;&quot;
<span class='lineno'>  90</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', title='?'>num_timesteps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.batch_size', title='?'>batch_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', title='?'>states_batch</a>.shape
<span class='lineno'>  91</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', title='[?]'>plots</a> = []
<span class='lineno'>  92</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.batch_size', title='?'>batch_size</a>):
<span class='lineno'>  93</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states_batch', title='?'>states_batch</a>[:,:,<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  94</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights', title='?'>weights</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights_batch', title='?'>weights_batch</a>[:,:,<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  95</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', title='?'>observation</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation_batch', title='?'>observation_batch</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  96</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess', title='?'>ess</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess_batch', title='?'>ess_batch</a>[:,<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  97</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', title='?'>q0_loc</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', title='?'>q0</a>[0][<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  98</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', title='?'>q0_scale</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0', title='?'>q0</a>[1][<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.i', title='int'>i</a>]
<span class='lineno'>  99</span> 
<span class='lineno'> 100</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', title='?'>fig</a> = plt.figure(figsize=(7, (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', title='?'>num_timesteps</a> + 1) * 2))
<span class='lineno'> 101</span>       # Each timestep gets two plots -- a bar plot and a histogram of state locs.
<span class='lineno'> 102</span>       # The bar plot will be bar_rows rows tall.
<span class='lineno'> 103</span>       # The histogram will be 1 row tall.
<span class='lineno'> 104</span>       # There is also 1 extra plot at the top showing the posterior and q.
<span class='lineno'> 105</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a> = 8
<span class='lineno'> 106</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_rows', title='int'>num_rows</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', title='?'>num_timesteps</a> + 1) * (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a> + 1)
<span class='lineno'> 107</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', title='?'>gs</a> = gridspec.GridSpec(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_rows', title='int'>num_rows</a>, 1)
<span class='lineno'> 108</span> 
<span class='lineno'> 109</span>       # Figure out how wide to make the plot
<span class='lineno'> 110</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', title='(int, int)'>prior_lims</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', title='?'>post</a>[1] * -2, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', title='?'>post</a>[1] * 2)
<span class='lineno'> 111</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', title='(?, ?)'>q_lims</a> = (scipy.stats.norm.ppf(0.01, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', title='?'>q0_loc</a>, scale=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', title='?'>q0_scale</a>),
<span class='lineno'> 112</span>                 scipy.stats.norm.ppf(0.99, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', title='?'>q0_loc</a>, scale=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', title='?'>q0_scale</a>))
<span class='lineno'> 113</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', title='?'>state_width</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>.max() - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>.min()
<span class='lineno'> 114</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', title='(float, float)'>state_lims</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>.min() - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', title='?'>state_width</a> * 0.15,
<span class='lineno'> 115</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>.max() + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_width', title='?'>state_width</a> * 0.15)
<span class='lineno'> 116</span> 
<span class='lineno'> 117</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a> = (min(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', title='(int, int)'>prior_lims</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', title='(?, ?)'>q_lims</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', title='(float, float)'>state_lims</a>[0]),
<span class='lineno'> 118</span>               max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.prior_lims', title='(int, int)'>prior_lims</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_lims', title='(?, ?)'>q_lims</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.state_lims', title='(float, float)'>state_lims</a>[1]))
<span class='lineno'> 119</span>       # plot the posterior
<span class='lineno'> 120</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a> = np.arange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a>[1], 0.1)
<span class='lineno'> 121</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', title='?'>alpha</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', title='?'>pos_mu</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', title='?'>sigma_sq</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', title='?'>B</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', title='?'>T</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post', title='?'>post</a>
<span class='lineno'> 122</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', title='?'>neg_mu</a> = -<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', title='?'>pos_mu</a>
<span class='lineno'> 123</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', title='?'>scale</a> = np.sqrt((<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', title='?'>T</a> + 1) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', title='?'>sigma_sq</a>)
<span class='lineno'> 124</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn', title='int'>p_zn</a> = (
<span class='lineno'> 125</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', title='?'>alpha</a> * scipy.stats.norm.pdf(
<span class='lineno'> 126</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', title='?'>observation</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', title='?'>pos_mu</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', title='?'>B</a>, scale=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', title='?'>scale</a>) + (1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', title='?'>alpha</a>) *
<span class='lineno'> 127</span>           scipy.stats.norm.pdf(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', title='?'>observation</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', title='?'>neg_mu</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', title='?'>B</a>, scale=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.scale', title='?'>scale</a>))
<span class='lineno'> 128</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', title='int'>p_z0</a> = (
<span class='lineno'> 129</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', title='?'>alpha</a> * scipy.stats.norm.pdf(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.pos_mu', title='?'>pos_mu</a>, scale=np.sqrt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', title='?'>sigma_sq</a>))
<span class='lineno'> 130</span>           + (1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.alpha', title='?'>alpha</a>) * scipy.stats.norm.pdf(
<span class='lineno'> 131</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.neg_mu', title='?'>neg_mu</a>, scale=np.sqrt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', title='?'>sigma_sq</a>)))
<span class='lineno'> 132</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn_given_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn_given_z0', title='?'>p_zn_given_z0</a> = scipy.stats.norm.pdf(
<span class='lineno'> 133</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', title='?'>observation</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.B', title='?'>B</a>, scale=np.sqrt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.T', title='?'>T</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.sigma_sq', title='?'>sigma_sq</a>))
<span class='lineno'> 134</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post_z0', title='int'>post_z0</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', title='int'>p_z0</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn_given_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn_given_z0', title='?'>p_zn_given_z0</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_zn', title='int'>p_zn</a>
<span class='lineno'> 135</span>       # plot q
<span class='lineno'> 136</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_z0', title='?'>q_z0</a> = scipy.stats.norm.pdf(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, loc=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_loc', title='?'>q0_loc</a>, scale=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q0_scale', title='?'>q0_scale</a>)
<span class='lineno'> 137</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a> = plt.subplot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', title='?'>gs</a>[0:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a>, :])
<span class='lineno'> 138</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.plot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.q_z0', title='?'>q_z0</a>, color=&quot;blue&quot;)
<span class='lineno'> 139</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.plot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.post_z0', title='int'>post_z0</a>, color=&quot;green&quot;)
<span class='lineno'> 140</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.plot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.z0', title='?'>z0</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p_z0', title='int'>p_z0</a>, color=&quot;red&quot;)
<span class='lineno'> 141</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.legend((&quot;q&quot;, &quot;posterior&quot;, &quot;prior&quot;), loc=&quot;best&quot;, prop={&quot;size&quot;: 10})
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.set_xticks([])
<span class='lineno'> 144</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax', title='?'>ax</a>.set_xlim(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a>)
<span class='lineno'> 145</span> 
<span class='lineno'> 146</span>       # plot the states
<span class='lineno'> 147</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', title='?'>num_timesteps</a>):
<span class='lineno'> 148</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', title='int'>start</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a> + 1) * (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a> + 1)
<span class='lineno'> 149</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a> = plt.subplot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', title='?'>gs</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', title='int'>start</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', title='int'>start</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a>, :])
<span class='lineno'> 150</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a> = plt.subplot(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.gs', title='?'>gs</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', title='int'>start</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.start', title='int'>start</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.bar_rows', title='int'>bar_rows</a> + 1, :])
<span class='lineno'> 151</span>         # plot the states barplot
<span class='lineno'> 152</span>         # ax1.hist(
<span class='lineno'> 153</span>         #     states[t, :],
<span class='lineno'> 154</span>         #     weights=weights[t, :],
<span class='lineno'> 155</span>         #     bins=50,
<span class='lineno'> 156</span>         #     edgecolor=&quot;none&quot;,
<span class='lineno'> 157</span>         #     alpha=0.2)
<span class='lineno'> 158</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.bar(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>,:], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.weights', title='?'>weights</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>,:], width=0.02, alpha=0.2, edgecolor = &quot;none&quot;)
<span class='lineno'> 159</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.set_ylabel(&quot;t=%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>)
<span class='lineno'> 160</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.set_xticks([])
<span class='lineno'> 161</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.grid(True, which=&quot;both&quot;)
<span class='lineno'> 162</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.set_xlim(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a>)
<span class='lineno'> 163</span>         # plot the observation
<span class='lineno'> 164</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.axvline(x=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.observation', title='?'>observation</a>, color=&quot;red&quot;, linestyle=&quot;dashed&quot;)
<span class='lineno'> 165</span>         # add the ESS
<span class='lineno'> 166</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.text(0.1, 0.9, &quot;ESS: %0.2f&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ess', title='?'>ess</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>],
<span class='lineno'> 167</span>                  ha=&#39;center&#39;, va=&#39;center&#39;, transform=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax1', title='?'>ax1</a>.transAxes)
<span class='lineno'> 168</span> 
<span class='lineno'> 169</span>         # plot the state location histogram
<span class='lineno'> 170</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a>.hist2d(
<span class='lineno'> 171</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>, :], np.zeros_like(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.states', title='?'>states</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a>, :]), bins=[50, 1], cmap=&quot;Greys&quot;)
<span class='lineno'> 172</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a>.grid(False)
<span class='lineno'> 173</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a>.set_yticks([])
<span class='lineno'> 174</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a>.set_xlim(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.lims', title='(int, int)'>lims</a>)
<span class='lineno'> 175</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.t', title='int'>t</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.num_timesteps', title='?'>num_timesteps</a> - 1:
<span class='lineno'> 176</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.ax2', title='?'>ax2</a>.set_xticks([])
<span class='lineno'> 177</span> 
<span class='lineno'> 178</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', title='?'>fig</a>.canvas.draw()
<span class='lineno'> 179</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p', title='?'>p</a> = np.fromstring(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', title='?'>fig</a>.canvas.tostring_rgb(), dtype=np.uint8, sep=&quot;&quot;)
<span class='lineno'> 180</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', title='[?]'>plots</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.p', title='?'>p</a>.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', title='?'>fig</a>.canvas.get_width_height()[::-1] + (3,)))
<span class='lineno'> 181</span>       plt.close(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.fig', title='?'>fig</a>)
<span class='lineno'> 182</span>     return np.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states.plots', title='[?]'>plots</a>)
<span class='lineno'> 183</span> 
<span class='lineno'> 184</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.plots', title='?'>plots</a> = tf.py_func(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles._plot_states', title='(?, ?, ?, ?, ?, ?) -> None'>_plot_states</a>,
<span class='lineno'> 185</span>                      [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.states', title='?'>states</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.weights', title='?'>weights</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.observation', title='?'>observation</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.ess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.ess', title='float'>ess</a>, (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_loc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_loc', title='?'>q0_loc</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.q0_scale', title='?'>q0_scale</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.post', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.post', title='(?, ?, ?, ?, ?)'>post</a>],
<span class='lineno'> 186</span>                      [tf.uint8])[0]
<span class='lineno'> 187</span>   tf.summary.image(&quot;states&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_particles.plots', title='?'>plots</a>, 5, collections=[&quot;infrequent_summaries&quot;])
<span class='lineno'> 188</span> 
<span class='lineno'> 189</span> 
<span class='lineno'> 190</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights', title='(?, None) -> None'>plot_weights</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', title='None'>resampled</a>=None):
<span class='lineno'> 191</span>   &quot;&quot;&quot;Plots the weights and effective sample size from an SMC rollout.
<span class='lineno'> 192</span> 
<span class='lineno'> 193</span>   Args:
<span class='lineno'> 194</span>     weights: [num_timesteps, num_samples, batch_size] importance weights
<span class='lineno'> 195</span>     resampled: [num_timesteps] 0/1 indicating if resampling ocurred
<span class='lineno'> 196</span>   &quot;&quot;&quot;
<span class='lineno'> 197</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a> = tf.convert_to_tensor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a>)
<span class='lineno'> 198</span> 
<span class='lineno'> 199</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots', title='(?, ?) -> None'>_make_plots</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', title='?'>weights</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.resampled', title='?'>resampled</a>):
<span class='lineno'> 200</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', title='?'>num_timesteps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_samples', title='?'>num_samples</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.batch_size', title='?'>batch_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', title='?'>weights</a>.shape
<span class='lineno'> 201</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', title='[?]'>plots</a> = []
<span class='lineno'> 202</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.i', title='int'>i</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.batch_size', title='?'>batch_size</a>):
<span class='lineno'> 203</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', title='?'>fig</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a> = plt.subplots(nrows=1, sharex=True, figsize=(8, 4))
<span class='lineno'> 204</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.stackplot(np.arange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', title='?'>num_timesteps</a>), np.transpose(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.weights', title='?'>weights</a>[:, :, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.i', title='int'>i</a>]))
<span class='lineno'> 205</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.set_title(&quot;Weights&quot;)
<span class='lineno'> 206</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.set_xlabel(&quot;Steps&quot;)
<span class='lineno'> 207</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.set_ylim([0, 1])
<span class='lineno'> 208</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.set_xlim([0, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.num_timesteps', title='?'>num_timesteps</a> - 1])
<span class='lineno'> 209</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.j', title='?'>j</a> in np.where(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.resampled', title='?'>resampled</a> &gt; 0)[0]:
<span class='lineno'> 210</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.axes', title='?'>axes</a>.axvline(x=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.j', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.j', title='?'>j</a>, color=&quot;red&quot;, linestyle=&quot;dashed&quot;, ymin=0.0, ymax=1.0)
<span class='lineno'> 211</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', title='?'>fig</a>.canvas.draw()
<span class='lineno'> 212</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', title='?'>data</a> = np.fromstring(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', title='?'>fig</a>.canvas.tostring_rgb(), dtype=np.uint8, sep=&quot;&quot;)
<span class='lineno'> 213</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', title='?'>data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', title='?'>data</a>.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', title='?'>fig</a>.canvas.get_width_height()[::-1] + (3,))
<span class='lineno'> 214</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', title='[?]'>plots</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.data', title='?'>data</a>)
<span class='lineno'> 215</span>       plt.close(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.fig', title='?'>fig</a>)
<span class='lineno'> 216</span>     return np.stack(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots.plots', title='[?]'>plots</a>, axis=0)
<span class='lineno'> 217</span> 
<span class='lineno'> 218</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', title='None'>resampled</a> is None:
<span class='lineno'> 219</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.num_timesteps', title='?'>num_timesteps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', title='?'>batch_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a>.get_shape().as_list()
<span class='lineno'> 220</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', title='?'>resampled</a> = tf.zeros([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.num_timesteps', title='?'>num_timesteps</a>], dtype=tf.float32)
<span class='lineno'> 221</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.plots', title='?'>plots</a> = tf.py_func(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights._make_plots', title='(?, ?) -> None'>_make_plots</a>,
<span class='lineno'> 222</span>                      [tf.nn.softmax(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a>, dim=1),
<span class='lineno'> 223</span>                       tf.to_float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.resampled', title='None'>resampled</a>)], [tf.uint8])[0]
<span class='lineno'> 224</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', title='?'>batch_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.weights', title='?'>weights</a>.get_shape().as_list()[-1]
<span class='lineno'> 225</span>   tf.summary.image(
<span class='lineno'> 226</span>       &quot;weights&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.plots', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.plots', title='?'>plots</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.plot_weights.batch_size', title='?'>batch_size</a>, collections=[&quot;infrequent_summaries&quot;])
<span class='lineno'> 227</span> 
<span class='lineno'> 228</span> 
<span class='lineno'> 229</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights', title='(?, ?, ?) -> None'>summarize_weights</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_timesteps', title='?'>num_timesteps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_samples', title='?'>num_samples</a>):
<span class='lineno'> 230</span>   # weights is [num_timesteps, num_samples, batch_size]
<span class='lineno'> 231</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a> = tf.convert_to_tensor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a>)
<span class='lineno'> 232</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.mean', title='?'>mean</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a>, axis=1, keepdims=True)
<span class='lineno'> 233</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.squared_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.squared_diff', title='?'>squared_diff</a> = tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.mean', title='?'>mean</a>)
<span class='lineno'> 234</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', title='int'>variances</a> = tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.squared_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.squared_diff', title='?'>squared_diff</a>, axis=1) / (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_samples', title='?'>num_samples</a> - 1)
<span class='lineno'> 235</span>   # average the variance over the batch
<span class='lineno'> 236</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', title='?'>variances</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', title='int'>variances</a>, axis=1)
<span class='lineno'> 237</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.avg_magnitude', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.avg_magnitude', title='?'>avg_magnitude</a> = tf.reduce_mean(tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a>), axis=[1, 2])
<span class='lineno'> 238</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_timesteps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.num_timesteps', title='?'>num_timesteps</a>):
<span class='lineno'> 239</span>     tf.summary.scalar(&quot;weights/variance_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.variances', title='?'>variances</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>])
<span class='lineno'> 240</span>     tf.summary.scalar(&quot;weights/magnitude_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.avg_magnitude', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.avg_magnitude', title='?'>avg_magnitude</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>])
<span class='lineno'> 241</span>     tf.summary.histogram(&quot;weights/step_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.weights', title='?'>weights</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_weights.t', title='int'>t</a>])
<span class='lineno'> 242</span> 
<span class='lineno'> 243</span> 
<span class='lineno'> 244</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal', title='(?, ?) -> None / (?, str) -> None'>summarize_learning_signal</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', title='str'>tag</a>):
<span class='lineno'> 245</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.num_resampling_events', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.num_resampling_events', title='?'>num_resampling_events</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal._', title='?'>_</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>.get_shape().as_list()
<span class='lineno'> 246</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.mean', title='?'>mean</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>, axis=1)
<span class='lineno'> 247</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.avg_magnitude', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.avg_magnitude', title='?'>avg_magnitude</a> = tf.reduce_mean(tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>), axis=1)
<span class='lineno'> 248</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.reward_square', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.reward_square', title='?'>reward_square</a> = tf.reduce_mean(tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>), axis=1)
<span class='lineno'> 249</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.num_resampling_events', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.num_resampling_events', title='?'>num_resampling_events</a>):
<span class='lineno'> 250</span>     tf.summary.scalar(&quot;%s/mean_%d&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', title='str'>tag</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.mean', title='?'>mean</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>])
<span class='lineno'> 251</span>     tf.summary.scalar(&quot;%s/magnitude_%d&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', title='str'>tag</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.avg_magnitude', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.avg_magnitude', title='?'>avg_magnitude</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>])
<span class='lineno'> 252</span>     tf.summary.scalar(&quot;%s/squared_%d&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', title='str'>tag</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.reward_square', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.reward_square', title='?'>reward_square</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>])
<span class='lineno'> 253</span>     tf.summary.histogram(&quot;%s/step_%d&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.tag', title='str'>tag</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.rewards', title='?'>rewards</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_learning_signal.t', title='int'>t</a>])
<span class='lineno'> 254</span> 
<span class='lineno'> 255</span> 
<span class='lineno'> 256</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs', title='(?, ?, ?) -> None'>summarize_qs</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', title='?'>observation</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', title='?'>states</a>):
<span class='lineno'> 257</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>.q.summarize_weights()
<span class='lineno'> 258</span>   if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>.p, &quot;posterior&quot;) and callable(getattr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>.p, &quot;posterior&quot;)):
<span class='lineno'> 259</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', title='[?]'>states</a> = [tf.zeros_like(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', title='?'>states</a>[0])] + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', title='?'>states</a>[:-1]
<span class='lineno'> 260</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', title='?'>prev_state</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.states', title='[?]'>states</a>):
<span class='lineno'> 261</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>.p.posterior(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', title='?'>observation</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', title='?'>prev_state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>)
<span class='lineno'> 262</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', title='?'>q</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.model', title='?'>model</a>.q.q_zt(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.observation', title='?'>observation</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.prev_state', title='?'>prev_state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>)
<span class='lineno'> 263</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.kl', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.kl', title='?'>kl</a> = tf.reduce_mean(tf.contrib.distributions.kl_divergence(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', title='?'>q</a>))
<span class='lineno'> 264</span>       tf.summary.scalar(&quot;kl_q/%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.kl', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.kl', title='?'>kl</a>))
<span class='lineno'> 265</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', title='?'>mean_diff</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', title='?'>q</a>.loc - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a>.loc
<span class='lineno'> 266</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_abs_err', title='?'>mean_abs_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', title='?'>mean_diff</a>)
<span class='lineno'> 267</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_rel_err', title='?'>mean_rel_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_diff', title='?'>mean_diff</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a>.loc)
<span class='lineno'> 268</span>       tf.summary.scalar(&quot;q_mean_convergence/absolute_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>,
<span class='lineno'> 269</span>                         tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_abs_err', title='?'>mean_abs_err</a>))
<span class='lineno'> 270</span>       tf.summary.scalar(&quot;q_mean_convergence/relative_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>,
<span class='lineno'> 271</span>                         tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.mean_rel_err', title='?'>mean_rel_err</a>))
<span class='lineno'> 272</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', title='?'>sigma_diff</a> = tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.q', title='?'>q</a>.scale) - tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a>.scale)
<span class='lineno'> 273</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_abs_err', title='?'>sigma_abs_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', title='?'>sigma_diff</a>)
<span class='lineno'> 274</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_rel_err', title='?'>sigma_rel_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_diff', title='?'>sigma_diff</a> / tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.p', title='?'>p</a>.scale))
<span class='lineno'> 275</span>       tf.summary.scalar(&quot;q_variance_convergence/absolute_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>,
<span class='lineno'> 276</span>                         tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_abs_err', title='?'>sigma_abs_err</a>))
<span class='lineno'> 277</span>       tf.summary.scalar(&quot;q_variance_convergence/relative_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.t', title='?'>t</a>,
<span class='lineno'> 278</span>                         tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_qs.sigma_rel_err', title='?'>sigma_rel_err</a>))
<span class='lineno'> 279</span> 
<span class='lineno'> 280</span> 
<span class='lineno'> 281</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs', title='(?, ?) -> None'>summarize_rs</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', title='?'>model</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.states', title='?'>states</a>):
<span class='lineno'> 282</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', title='?'>model</a>.r.summarize_weights()
<span class='lineno'> 283</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', title='?'>state</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.states', title='?'>states</a>):
<span class='lineno'> 284</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', title='?'>model</a>.p.lookahead(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', title='?'>state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>)
<span class='lineno'> 285</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', title='?'>r</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.model', title='?'>model</a>.r.r_xn(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.state', title='?'>state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>)
<span class='lineno'> 286</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.kl', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.kl', title='?'>kl</a> = tf.reduce_mean(tf.contrib.distributions.kl_divergence(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', title='?'>r</a>))
<span class='lineno'> 287</span>     tf.summary.scalar(&quot;kl_r/%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.kl', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.kl', title='?'>kl</a>))
<span class='lineno'> 288</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', title='?'>mean_diff</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a>.loc - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', title='?'>r</a>.loc
<span class='lineno'> 289</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_abs_err', title='?'>mean_abs_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', title='?'>mean_diff</a>)
<span class='lineno'> 290</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_rel_err', title='?'>mean_rel_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_diff', title='?'>mean_diff</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a>.loc)
<span class='lineno'> 291</span>     tf.summary.scalar(&quot;r_mean_convergence/absolute_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>,
<span class='lineno'> 292</span>                       tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_abs_err', title='?'>mean_abs_err</a>))
<span class='lineno'> 293</span>     tf.summary.scalar(&quot;r_mean_convergence/relative_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>,
<span class='lineno'> 294</span>                       tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.mean_rel_err', title='?'>mean_rel_err</a>))
<span class='lineno'> 295</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', title='?'>sigma_diff</a> = tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.r', title='?'>r</a>.scale) - tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a>.scale)
<span class='lineno'> 296</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_abs_err', title='?'>sigma_abs_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', title='?'>sigma_diff</a>)
<span class='lineno'> 297</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_rel_err', title='?'>sigma_rel_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_diff', title='?'>sigma_diff</a> / tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.true_r', title='?'>true_r</a>.scale))
<span class='lineno'> 298</span>     tf.summary.scalar(&quot;r_variance_convergence/absolute_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>,
<span class='lineno'> 299</span>                       tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_abs_err', title='?'>sigma_abs_err</a>))
<span class='lineno'> 300</span>     tf.summary.scalar(&quot;r_variance_convergence/relative_error_%d&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.t', title='?'>t</a>,
<span class='lineno'> 301</span>                       tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_rs.sigma_rel_err', title='?'>sigma_rel_err</a>))
<span class='lineno'> 302</span> 
<span class='lineno'> 303</span> 
<span class='lineno'> 304</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model', title='(?, ?, ?, ?, ?, bool) -> None / ({Model | TDModel}, ?, ?, [?], ?, bool) -> None'>summarize_model</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', title='{Model | TDModel}'>model</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_bs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_bs', title='?'>true_bs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.observation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.observation', title='?'>observation</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.states', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.states', title='[?]'>states</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.bound', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.bound', title='?'>bound</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.summarize_r', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.summarize_r', title='bool'>summarize_r</a>=True):
<span class='lineno'> 305</span>   if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', title='{Model | TDModel}'>model</a>.<a href='models.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.TDModel.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.TDModel.p', title='{BimodalPriorP | P | ShortChainNonlinearP}'>p</a>, &quot;bs&quot;):
<span class='lineno'> 306</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', title='?'>model_b</a> = tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model', title='{Model | TDModel}'>model</a>.<a href='models.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.TDModel.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.TDModel.p', title='{BimodalPriorP | P | ShortChainNonlinearP}'>p</a>.<a href='models.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.BimodalPriorP.bs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.models.BimodalPriorP.bs', title='[?]'>bs</a>, axis=0)
<span class='lineno'> 307</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', title='?'>true_b</a> = tf.reduce_sum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_bs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_bs', title='?'>true_bs</a>, axis=0)
<span class='lineno'> 308</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', title='?'>abs_err</a> = tf.abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', title='?'>model_b</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', title='?'>true_b</a>)
<span class='lineno'> 309</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.rel_err', title='?'>rel_err</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', title='?'>abs_err</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', title='?'>true_b</a>
<span class='lineno'> 310</span>     tf.summary.scalar(&quot;sum_of_bs/data_generating_process&quot;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.true_b', title='?'>true_b</a>))
<span class='lineno'> 311</span>     tf.summary.scalar(&quot;sum_of_bs/model&quot;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.model_b', title='?'>model_b</a>))
<span class='lineno'> 312</span>     tf.summary.scalar(&quot;sum_of_bs/absolute_error&quot;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.abs_err', title='?'>abs_err</a>))
<span class='lineno'> 313</span>     tf.summary.scalar(&quot;sum_of_bs/relative_error&quot;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.rel_err', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_model.rel_err', title='?'>rel_err</a>))
<span class='lineno'> 314</span>   #summarize_qs(model, observation, states)
<span class='lineno'> 315</span>   #if bound == &quot;fivo-aux&quot; and summarize_r:
<span class='lineno'> 316</span>   #  summarize_rs(model, states)
<span class='lineno'> 317</span> 
<span class='lineno'> 318</span> 
<span class='lineno'> 319</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads', title='(?, ?) -> None'>summarize_grads</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grads', title='?'>grads</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', title='?'>loss_name</a>):
<span class='lineno'> 320</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', title='?'>grad_ema</a> = tf.train.ExponentialMovingAverage(decay=0.99)
<span class='lineno'> 321</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', title='?'>vectorized_grads</a> = tf.concat(
<span class='lineno'> 322</span>       [tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', title='?'>g</a>, [-1]) for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', title='?'>g</a></a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads._', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads._', title='?'>_</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grads', title='?'>grads</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.g', title='?'>g</a> is not None], axis=0)
<span class='lineno'> 323</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', title='?'>new_second_moments</a> = tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', title='?'>vectorized_grads</a>)
<span class='lineno'> 324</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', title='?'>new_first_moments</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.vectorized_grads', title='?'>vectorized_grads</a>
<span class='lineno'> 325</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.maintain_grad_ema_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.maintain_grad_ema_op', title='?'>maintain_grad_ema_op</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', title='?'>grad_ema</a>.apply([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', title='?'>new_first_moments</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', title='?'>new_second_moments</a>])
<span class='lineno'> 326</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', title='?'>first_moments</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', title='?'>grad_ema</a>.average(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_first_moments', title='?'>new_first_moments</a>)
<span class='lineno'> 327</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.second_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.second_moments', title='?'>second_moments</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.grad_ema', title='?'>grad_ema</a>.average(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.new_second_moments', title='?'>new_second_moments</a>)
<span class='lineno'> 328</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', title='?'>variances</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.second_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.second_moments', title='?'>second_moments</a> - tf.square(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', title='?'>first_moments</a>)
<span class='lineno'> 329</span>   tf.summary.scalar(&quot;grad_variance/%s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', title='?'>loss_name</a>, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', title='?'>variances</a>))
<span class='lineno'> 330</span>   tf.summary.histogram(&quot;grad_variance/%s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', title='?'>loss_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.variances', title='?'>variances</a>)
<span class='lineno'> 331</span>   tf.summary.histogram(&quot;grad_mean/%s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.loss_name', title='?'>loss_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.first_moments', title='?'>first_moments</a>)
<span class='lineno'> 332</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.maintain_grad_ema_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.fivo.experimental.summary_utils.summarize_grads.maintain_grad_ema_op', title='?'>maintain_grad_ema_op</a>
</pre></td></tr></table></body></html>