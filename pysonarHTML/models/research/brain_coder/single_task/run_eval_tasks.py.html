<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/brain_coder/single_task/run_eval_tasks.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S'>S</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length'>default_length</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks'>iclr_tasks</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks'>regression_test_tasks</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E'>E</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings'>make_experiment_settings</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set'>experiments_set</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments'>experiments</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e'>e</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args'>parse_args</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run'>run</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.LAUNCH_TRAINING_COMMAND', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.LAUNCH_TRAINING_COMMAND'>LAUNCH_TRAINING_COMMAND</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND'>COMPILE_COMMAND</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args'>args</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks'>tasks</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings'>experiment_settings</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd'>make_run_cmd</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd'>make_run_cmd</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task'>task</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings'>task_settings</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name'>name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc'>desc</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name'>job_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps'>reps</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', xid='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd'>run_cmd</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> #!/usr/bin/env python
<span class='lineno'>   2</span> from __future__ import print_function
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> r&quot;&quot;&quot;This script can launch any eval experiments from the paper.
<span class='lineno'>   5</span> 
<span class='lineno'>   6</span> This is a script. Run with python, not bazel.
<span class='lineno'>   7</span> 
<span class='lineno'>   8</span> Usage:
<span class='lineno'>   9</span> ./single_task/run_eval_tasks.py \
<span class='lineno'>  10</span>     --exp EXP --desc DESC [--tuning_tasks] [--iclr_tasks] [--task TASK] \
<span class='lineno'>  11</span>     [--tasks TASK1 TASK2 ...]
<span class='lineno'>  12</span> 
<span class='lineno'>  13</span> where EXP is one of the keys in `experiments`,
<span class='lineno'>  14</span> and DESC is a string description of the set of experiments (such as &quot;v0&quot;)
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> Set only one of these flags:
<span class='lineno'>  17</span> --tuning_tasks flag only runs tuning tasks.
<span class='lineno'>  18</span> --iclr_tasks flag only runs the tasks included in the paper.
<span class='lineno'>  19</span> --regression_tests flag runs tasks which function as regression tests.
<span class='lineno'>  20</span> --task flag manually selects a single task to run.
<span class='lineno'>  21</span> --tasks flag takes a custom list of tasks.
<span class='lineno'>  22</span> 
<span class='lineno'>  23</span> Other flags:
<span class='lineno'>  24</span> --reps N specifies N repetitions per experiment, Default is 25.
<span class='lineno'>  25</span> --training_replicas R specifies that R workers will be launched to train one
<span class='lineno'>  26</span>     task (for neural network algorithms). These workers will update a global
<span class='lineno'>  27</span>     model stored on a parameter server. Defaults to 1. If R &gt; 1, a parameter
<span class='lineno'>  28</span>     server will also be launched.
<span class='lineno'>  29</span> 
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span> Run everything:
<span class='lineno'>  32</span> exps=( pg-20M pg-topk-20M topk-20M ga-20M rand-20M )
<span class='lineno'>  33</span> BIN_DIR=&quot;single_task&quot;
<span class='lineno'>  34</span> for exp in &quot;${exps[@]}&quot;
<span class='lineno'>  35</span> do
<span class='lineno'>  36</span>   ./$BIN_DIR/run_eval_tasks.py \
<span class='lineno'>  37</span>       --exp &quot;$exp&quot; --iclr_tasks
<span class='lineno'>  38</span> done
<span class='lineno'>  39</span> &quot;&quot;&quot;
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span> import argparse
<span class='lineno'>  42</span> from collections import namedtuple
<span class='lineno'>  43</span> import subprocess
<span class='lineno'>  44</span> 
<span class='lineno'>  45</span> 
<span class='lineno'>  46</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a> = namedtuple(&#39;S&#39;, [&#39;length&#39;])
<span class='lineno'>  47</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a> = 100
<span class='lineno'>  48</span> 
<span class='lineno'>  49</span> 
<span class='lineno'>  50</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks', title='[str]'>iclr_tasks</a> = [
<span class='lineno'>  51</span>     &#39;reverse&#39;, &#39;remove-char&#39;, &#39;count-char&#39;, &#39;add&#39;, &#39;bool-logic&#39;, &#39;print-hello&#39;,
<span class='lineno'>  52</span>     &#39;echo-twice&#39;, &#39;echo-thrice&#39;, &#39;copy-reverse&#39;, &#39;zero-cascade&#39;, &#39;cascade&#39;,
<span class='lineno'>  53</span>     &#39;shift-left&#39;, &#39;shift-right&#39;, &#39;riffle&#39;, &#39;unriffle&#39;, &#39;middle-char&#39;,
<span class='lineno'>  54</span>     &#39;remove-last&#39;, &#39;remove-last-two&#39;, &#39;echo-alternating&#39;, &#39;echo-half&#39;, &#39;length&#39;,
<span class='lineno'>  55</span>     &#39;echo-second-seq&#39;, &#39;echo-nth-seq&#39;, &#39;substring&#39;, &#39;divide-2&#39;, &#39;dedup&#39;]
<span class='lineno'>  56</span> 
<span class='lineno'>  57</span> 
<span class='lineno'>  58</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks', title='[str]'>regression_test_tasks</a> = [&#39;reverse&#39;, &#39;test-hill-climb&#39;]
<span class='lineno'>  59</span> 
<span class='lineno'>  60</span> 
<span class='lineno'>  61</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E', title='<(namedtuple)>'>E</a> = namedtuple(
<span class='lineno'>  62</span>     &#39;E&#39;,
<span class='lineno'>  63</span>     [&#39;name&#39;, &#39;method_type&#39;, &#39;config&#39;, &#39;simplify&#39;, &#39;batch_size&#39;, &#39;max_npe&#39;])
<span class='lineno'>  64</span> 
<span class='lineno'>  65</span> 
<span class='lineno'>  66</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', title='str'>name</a>, **kwargs):
<span class='lineno'>  67</span>   # Unpack experiment info from name.
<span class='lineno'>  68</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last', title='(str, str) -> (str, str)'>split_last</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', title='str'>string</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.char', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.char', title='str'>char</a>):
<span class='lineno'>  69</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', title='str'>i</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', title='str'>string</a>.rindex(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.char', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.char', title='str'>char</a>)
<span class='lineno'>  70</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', title='str'>string</a>[:<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', title='str'>i</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.string', title='str'>string</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last.i', title='str'>i</a>+1:]
<span class='lineno'>  71</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int', title='str -> int'>si_to_int</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int.si_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int.si_string', title='str'>si_string</a>):
<span class='lineno'>  72</span>     return int(
<span class='lineno'>  73</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int.si_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int.si_string', title='str'>si_string</a>.upper().replace(&#39;K&#39;, &#39;0&#39;*3).replace(&#39;M&#39;, &#39;0&#39;*6)
<span class='lineno'>  74</span>         .replace(&#39;G&#39;, &#39;0&#39;*9))
<span class='lineno'>  75</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', title='str'>method_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', title='str'>max_npe</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.split_last', title='(str, str) -> (str, str)'>split_last</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', title='str'>name</a>, &#39;-&#39;)
<span class='lineno'>  76</span>   assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', title='str'>method_type</a>
<span class='lineno'>  77</span>   assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', title='str'>max_npe</a>
<span class='lineno'>  78</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.E', title='<(namedtuple)>'>E</a>(
<span class='lineno'>  79</span>       name=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.name', title='str'>name</a>, method_type=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.method_type', title='str'>method_type</a>, max_npe=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.si_to_int', title='str -> int'>si_to_int</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings.max_npe', title='str'>max_npe</a>), **kwargs)
<span class='lineno'>  80</span> 
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set', title='[(namedtuple)]'>experiments_set</a> = {
<span class='lineno'>  83</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'>  84</span>         &#39;pg-20M&#39;,
<span class='lineno'>  85</span>         config=&#39;entropy_beta=0.05,lr=0.0001,topk_loss_hparam=0.0,topk=0,&#39;
<span class='lineno'>  86</span>                &#39;pi_loss_hparam=1.0,alpha=0.0&#39;,
<span class='lineno'>  87</span>         simplify=False,
<span class='lineno'>  88</span>         batch_size=64),
<span class='lineno'>  89</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'>  90</span>         &#39;pg-topk-20M&#39;,
<span class='lineno'>  91</span>         config=&#39;entropy_beta=0.01,lr=0.0001,topk_loss_hparam=50.0,topk=10,&#39;
<span class='lineno'>  92</span>                &#39;pi_loss_hparam=1.0,alpha=0.0&#39;,
<span class='lineno'>  93</span>         simplify=False,
<span class='lineno'>  94</span>         batch_size=64),
<span class='lineno'>  95</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'>  96</span>         &#39;topk-20M&#39;,
<span class='lineno'>  97</span>         config=&#39;entropy_beta=0.01,lr=0.0001,topk_loss_hparam=200.0,topk=10,&#39;
<span class='lineno'>  98</span>                &#39;pi_loss_hparam=0.0,alpha=0.0&#39;,
<span class='lineno'>  99</span>         simplify=False,
<span class='lineno'> 100</span>         batch_size=64),
<span class='lineno'> 101</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'> 102</span>         &#39;topk-0ent-20M&#39;,
<span class='lineno'> 103</span>         config=&#39;entropy_beta=0.000,lr=0.0001,topk_loss_hparam=200.0,topk=10,&#39;
<span class='lineno'> 104</span>                &#39;pi_loss_hparam=0.0,alpha=0.0&#39;,
<span class='lineno'> 105</span>         simplify=False,
<span class='lineno'> 106</span>         batch_size=64),
<span class='lineno'> 107</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'> 108</span>         &#39;ga-20M&#39;,
<span class='lineno'> 109</span>         config=&#39;crossover_rate=0.95,mutation_rate=0.15&#39;,
<span class='lineno'> 110</span>         simplify=False,
<span class='lineno'> 111</span>         batch_size=100),  # Population size.
<span class='lineno'> 112</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'> 113</span>         &#39;rand-20M&#39;,
<span class='lineno'> 114</span>         config=&#39;&#39;,
<span class='lineno'> 115</span>         simplify=False,
<span class='lineno'> 116</span>         batch_size=1),
<span class='lineno'> 117</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_experiment_settings', title='str -> (namedtuple)'>make_experiment_settings</a>(
<span class='lineno'> 118</span>         &#39;simpl-500M&#39;,
<span class='lineno'> 119</span>         config=&#39;entropy_beta=0.05,lr=0.0001,topk_loss_hparam=0.5,topk=10,&#39;
<span class='lineno'> 120</span>                &#39;pi_loss_hparam=1.0,alpha=0.0&#39;,
<span class='lineno'> 121</span>         simplify=True,
<span class='lineno'> 122</span>         batch_size=64),
<span class='lineno'> 123</span> }
<span class='lineno'> 124</span> 
<span class='lineno'> 125</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', title='dict'>experiments</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', title='(namedtuple)'>e</a>.name: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', title='(namedtuple)'>e</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', title='(namedtuple)'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.e', title='(namedtuple)'>e</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments_set', title='[(namedtuple)]'>experiments_set</a>}
<span class='lineno'> 126</span> 
<span class='lineno'> 127</span> 
<span class='lineno'> 128</span> # pylint: disable=redefined-outer-name
<span class='lineno'> 129</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args', title='() -> (?, {dict | dict}, (namedtuple))'>parse_args</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.extra_args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.extra_args', title='()'>extra_args</a>=()):
<span class='lineno'> 130</span>   &quot;&quot;&quot;Parse arguments and extract task and experiment info.&quot;&quot;&quot;
<span class='lineno'> 131</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a> = argparse.ArgumentParser(description=&#39;Run all eval tasks.&#39;)
<span class='lineno'> 132</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--exp&#39;, required=True)
<span class='lineno'> 133</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--tuning_tasks&#39;, action=&#39;store_true&#39;)
<span class='lineno'> 134</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--iclr_tasks&#39;, action=&#39;store_true&#39;)
<span class='lineno'> 135</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--regression_tests&#39;, action=&#39;store_true&#39;)
<span class='lineno'> 136</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--desc&#39;, default=&#39;v0&#39;)
<span class='lineno'> 137</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--reps&#39;, default=25)
<span class='lineno'> 138</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--task&#39;)
<span class='lineno'> 139</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(&#39;--tasks&#39;, nargs=&#39;+&#39;)
<span class='lineno'> 140</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.arg_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.arg_string', title='?'>arg_string</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.default', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.default', title='?'>default</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.extra_args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.extra_args', title='()'>extra_args</a>:
<span class='lineno'> 141</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.add_argument(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.arg_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.arg_string', title='?'>arg_string</a>, default=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.default', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.default', title='?'>default</a>)
<span class='lineno'> 142</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.parser', title='?'>parser</a>.parse_args()
<span class='lineno'> 143</span> 
<span class='lineno'> 144</span>   print(&#39;Running experiment: %s&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.exp,))
<span class='lineno'> 145</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.desc:
<span class='lineno'> 146</span>     print(&#39;Extra description: &quot;%s&quot;&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.desc,))
<span class='lineno'> 147</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.exp not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', title='dict'>experiments</a>:
<span class='lineno'> 148</span>     raise ValueError(&#39;Experiment name is not valid&#39;)
<span class='lineno'> 149</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', title='?'>experiment_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.exp
<span class='lineno'> 150</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', title='(namedtuple)'>experiment_settings</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiments', title='dict'>experiments</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', title='?'>experiment_name</a>]
<span class='lineno'> 151</span>   assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', title='(namedtuple)'>experiment_settings</a>.name == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_name', title='?'>experiment_name</a>
<span class='lineno'> 152</span> 
<span class='lineno'> 153</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.tasks:
<span class='lineno'> 154</span>     print(&#39;Launching tasks from args: %s&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.tasks,))
<span class='lineno'> 155</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='dict'>tasks</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', title='?'>t</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a>(length=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.t', title='?'>t</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.tasks}
<span class='lineno'> 156</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.task:
<span class='lineno'> 157</span>     print(&#39;Launching single task &quot;%s&quot;&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.task)
<span class='lineno'> 158</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='dict'>tasks</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.task: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a>(length=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a>)}
<span class='lineno'> 159</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.tuning_tasks:
<span class='lineno'> 160</span>     print(&#39;Only running tuning tasks&#39;)
<span class='lineno'> 161</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='dict'>tasks</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a>(length=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a>)
<span class='lineno'> 162</span>              for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a></a> in [&#39;reverse-tune&#39;, &#39;remove-char-tune&#39;]}
<span class='lineno'> 163</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.iclr_tasks:
<span class='lineno'> 164</span>     print(&#39;Running eval tasks from ICLR paper.&#39;)
<span class='lineno'> 165</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='dict'>tasks</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a>(length=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.iclr_tasks', title='[str]'>iclr_tasks</a>}
<span class='lineno'> 166</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.regression_tests:
<span class='lineno'> 167</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='dict'>tasks</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.S', title='<(namedtuple)>'>S</a>(length=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.default_length', title='int'>default_length</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.name', title='str'>name</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.regression_test_tasks', title='[str]'>regression_test_tasks</a>}
<span class='lineno'> 168</span>   print(&#39;Tasks: %s&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='{dict | dict}'>tasks</a>.keys())
<span class='lineno'> 169</span> 
<span class='lineno'> 170</span>   print(&#39;reps = %d&#39; % (int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>.reps),))
<span class='lineno'> 171</span> 
<span class='lineno'> 172</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.args', title='?'>args</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.tasks', title='{dict | dict}'>tasks</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args.experiment_settings', title='(namedtuple)'>experiment_settings</a>
<span class='lineno'> 173</span> 
<span class='lineno'> 174</span> 
<span class='lineno'> 175</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', title='None -> None / str -> None'>run</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run.command_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run.command_string', title='{None | str}'>command_string</a>):
<span class='lineno'> 176</span>   subprocess.call(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run.command_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run.command_string', title='{None | str}'>command_string</a>, shell=True)
<span class='lineno'> 177</span> 
<span class='lineno'> 178</span> 
<span class='lineno'> 179</span> if __name__ == &#39;__main__&#39;:
<span class='lineno'> 180</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.LAUNCH_TRAINING_COMMAND', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.LAUNCH_TRAINING_COMMAND', title='str'>LAUNCH_TRAINING_COMMAND</a> = &#39;single_task/launch_training.sh&#39;
<span class='lineno'> 181</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND', title='str'>COMPILE_COMMAND</a> = &#39;bazel build -c opt single_task:run.par&#39;
<span class='lineno'> 182</span> 
<span class='lineno'> 183</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', title='?'>args</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', title='{dict | dict}'>tasks</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.parse_args', title='() -> (?, {dict | dict}, (namedtuple))'>parse_args</a>(
<span class='lineno'> 184</span>       extra_args=((&#39;--training_replicas&#39;, 1),))
<span class='lineno'> 185</span> 
<span class='lineno'> 186</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.method_type in (
<span class='lineno'> 187</span>       &#39;pg&#39;, &#39;pg-topk&#39;, &#39;topk&#39;, &#39;topk-0ent&#39;, &#39;simpl&#39;):
<span class='lineno'> 188</span>     # Runs PG and TopK.
<span class='lineno'> 189</span> 
<span class='lineno'> 190</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', title='(str, ?, ?, int, ?, ?, ?, ?) -> None'>make_run_cmd</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.job_name', title='str'>job_name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.task', title='?'>task</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.max_npe', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.max_npe', title='?'>max_npe</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_reps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_reps', title='int'>num_reps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.code_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.code_length', title='?'>code_length</a>,
<span class='lineno'> 191</span>                      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.batch_size', title='?'>batch_size</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', title='?'>do_simplify</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.custom_config_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.custom_config_str', title='?'>custom_config_str</a>):
<span class='lineno'> 192</span>       &quot;&quot;&quot;Constructs terminal command for launching NN based algorithms.
<span class='lineno'> 193</span> 
<span class='lineno'> 194</span>       The arguments to this function will be used to create config for the
<span class='lineno'> 195</span>       experiment.
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span>       Args:
<span class='lineno'> 198</span>         job_name: Name of the job to launch. Should uniquely identify this
<span class='lineno'> 199</span>             experiment run.
<span class='lineno'> 200</span>         task: Name of the coding task to solve.
<span class='lineno'> 201</span>         max_npe: Maximum number of programs executed. An integer.
<span class='lineno'> 202</span>         num_reps: Number of times to run the experiment. An integer.
<span class='lineno'> 203</span>         code_length: Maximum allowed length of synthesized code.
<span class='lineno'> 204</span>         batch_size: Minibatch size for gradient descent.
<span class='lineno'> 205</span>         do_simplify: Whether to run the experiment in code simplification mode.
<span class='lineno'> 206</span>             A bool.
<span class='lineno'> 207</span>         custom_config_str: Additional config for the model config string.
<span class='lineno'> 208</span> 
<span class='lineno'> 209</span>       Returns:
<span class='lineno'> 210</span>         The terminal command that launches the specified experiment.
<span class='lineno'> 211</span>       &quot;&quot;&quot;
<span class='lineno'> 212</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.config', title='str'>config</a> = &quot;&quot;&quot;
<span class='lineno'> 213</span>         env=c(task=&#39;{0}&#39;,correct_syntax=False),
<span class='lineno'> 214</span>         agent=c(
<span class='lineno'> 215</span>           algorithm=&#39;pg&#39;,
<span class='lineno'> 216</span>           policy_lstm_sizes=[35,35],value_lstm_sizes=[35,35],
<span class='lineno'> 217</span>           grad_clip_threshold=50.0,param_init_factor=0.5,regularizer=0.0,
<span class='lineno'> 218</span>           softmax_tr=1.0,optimizer=&#39;rmsprop&#39;,ema_baseline_decay=0.99,
<span class='lineno'> 219</span>           eos_token={3},{4}),
<span class='lineno'> 220</span>         timestep_limit={1},batch_size={2}
<span class='lineno'> 221</span>       &quot;&quot;&quot;.replace(&#39; &#39;, &#39;&#39;).replace(&#39;\n&#39;, &#39;&#39;).format(
<span class='lineno'> 222</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.task', title='?'>task</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.code_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.code_length', title='?'>code_length</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.batch_size', title='?'>batch_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', title='?'>do_simplify</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.custom_config_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.custom_config_str', title='?'>custom_config_str</a>)
<span class='lineno'> 223</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_ps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_ps', title='int'>num_ps</a> = 0 if args.training_replicas == 1 else 1
<span class='lineno'> 224</span>       return (
<span class='lineno'> 225</span>           r&#39;{0} --job_name={1} --config=&quot;{2}&quot; --max_npe={3} &#39;
<span class='lineno'> 226</span>           &#39;--num_repetitions={4} --num_workers={5} --num_ps={6} &#39;
<span class='lineno'> 227</span>           &#39;--stop_on_success={7}&#39;
<span class='lineno'> 228</span>           .format(LAUNCH_TRAINING_COMMAND, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.job_name', title='str'>job_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.config', title='str'>config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.max_npe', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.max_npe', title='?'>max_npe</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_reps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_reps', title='int'>num_reps</a>,
<span class='lineno'> 229</span>                   args.training_replicas, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_ps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.num_ps', title='int'>num_ps</a>, str(not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd.do_simplify', title='?'>do_simplify</a>).lower()))
<span class='lineno'> 230</span> 
<span class='lineno'> 231</span>   else:
<span class='lineno'> 232</span>     # Runs GA and Rand.
<span class='lineno'> 233</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.method_type in (&#39;ga&#39;, &#39;rand&#39;)
<span class='lineno'> 234</span> 
<span class='lineno'> 235</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', title='? -> ?'>make_run_cmd</a>(job_name, task, max_npe, num_reps, code_length,
<span class='lineno'> 236</span>                      batch_size, do_simplify, custom_config_str):
<span class='lineno'> 237</span>       &quot;&quot;&quot;Constructs terminal command for launching GA or uniform random search.
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span>       The arguments to this function will be used to create config for the
<span class='lineno'> 240</span>       experiment.
<span class='lineno'> 241</span> 
<span class='lineno'> 242</span>       Args:
<span class='lineno'> 243</span>         job_name: Name of the job to launch. Should uniquely identify this
<span class='lineno'> 244</span>             experiment run.
<span class='lineno'> 245</span>         task: Name of the coding task to solve.
<span class='lineno'> 246</span>         max_npe: Maximum number of programs executed. An integer.
<span class='lineno'> 247</span>         num_reps: Number of times to run the experiment. An integer.
<span class='lineno'> 248</span>         code_length: Maximum allowed length of synthesized code.
<span class='lineno'> 249</span>         batch_size: Minibatch size for gradient descent.
<span class='lineno'> 250</span>         do_simplify: Whether to run the experiment in code simplification mode.
<span class='lineno'> 251</span>             A bool.
<span class='lineno'> 252</span>         custom_config_str: Additional config for the model config string.
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span>       Returns:
<span class='lineno'> 255</span>         The terminal command that launches the specified experiment.
<span class='lineno'> 256</span>       &quot;&quot;&quot;
<span class='lineno'> 257</span>       assert not do_simplify
<span class='lineno'> 258</span>       if custom_config_str:
<span class='lineno'> 259</span>         custom_config_str = &#39;,&#39; + custom_config_str
<span class='lineno'> 260</span>       config = &quot;&quot;&quot;
<span class='lineno'> 261</span>         env=c(task=&#39;{0}&#39;,correct_syntax=False),
<span class='lineno'> 262</span>         agent=c(
<span class='lineno'> 263</span>           algorithm=&#39;{4}&#39;
<span class='lineno'> 264</span>           {3}),
<span class='lineno'> 265</span>         timestep_limit={1},batch_size={2}
<span class='lineno'> 266</span>       &quot;&quot;&quot;.replace(&#39; &#39;, &#39;&#39;).replace(&#39;\n&#39;, &#39;&#39;).format(
<span class='lineno'> 267</span>           task, code_length, batch_size, custom_config_str,
<span class='lineno'> 268</span>           experiment_settings.method_type)
<span class='lineno'> 269</span>       num_workers = num_reps  # Do each rep in parallel.
<span class='lineno'> 270</span>       return (
<span class='lineno'> 271</span>           r&#39;{0} --job_name={1} --config=&quot;{2}&quot; --max_npe={3} &#39;
<span class='lineno'> 272</span>           &#39;--num_repetitions={4} --num_workers={5} --num_ps={6} &#39;
<span class='lineno'> 273</span>           &#39;--stop_on_success={7}&#39;
<span class='lineno'> 274</span>           .format(LAUNCH_TRAINING_COMMAND, job_name, config, max_npe, num_reps,
<span class='lineno'> 275</span>                   num_workers, 0, str(not do_simplify).lower()))
<span class='lineno'> 276</span> 
<span class='lineno'> 277</span>   print(&#39;Compiling...&#39;)
<span class='lineno'> 278</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', title='None -> None / str -> None'>run</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.COMPILE_COMMAND', title='str'>COMPILE_COMMAND</a>)
<span class='lineno'> 279</span> 
<span class='lineno'> 280</span>   print(&#39;Launching %d coding tasks...&#39; % len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', title='{dict | dict}'>tasks</a>))
<span class='lineno'> 281</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', title='?'>task</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings', title='?'>task_settings</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.tasks', title='{dict | dict}'>tasks</a>.iteritems():
<span class='lineno'> 282</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name', title='str'>name</a> = &#39;bf_rl_iclr&#39;
<span class='lineno'> 283</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc', title='str'>desc</a> = &#39;{0}.{1}_{2}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', title='?'>args</a>.desc, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.name, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', title='?'>task</a>)
<span class='lineno'> 284</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', title='str'>job_name</a> = &#39;{}.{}&#39;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.name', title='str'>name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.desc', title='str'>desc</a>)
<span class='lineno'> 285</span>     print(&#39;Job name: %s&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', title='str'>job_name</a>)
<span class='lineno'> 286</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps', title='int'>reps</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.args', title='?'>args</a>.reps) if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.simplify else 1
<span class='lineno'> 287</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', title='None'>run_cmd</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.make_run_cmd', title='(str, ?, ?, int, ?, ?, ?, ?) -> None'>make_run_cmd</a>(
<span class='lineno'> 288</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.job_name', title='str'>job_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task', title='?'>task</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.max_npe, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.reps', title='int'>reps</a>,
<span class='lineno'> 289</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.task_settings', title='?'>task_settings</a>.length, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.batch_size,
<span class='lineno'> 290</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.simplify,
<span class='lineno'> 291</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.experiment_settings', title='(namedtuple)'>experiment_settings</a>.config)
<span class='lineno'> 292</span>     print(&#39;Running command:\n&#39; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', title='None'>run_cmd</a>)
<span class='lineno'> 293</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run', title='None -> None / str -> None'>run</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.brain_coder.single_task.run_eval_tasks.run_cmd', title='None'>run_cmd</a>)
<span class='lineno'> 294</span> 
<span class='lineno'> 295</span>   print(&#39;Done.&#39;)
<span class='lineno'> 296</span> # pylint: enable=redefined-outer-name
</pre></td></tr></table></body></html>