<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/lfads/run_lfads.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT'>MAX_INT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME'>CHECKPOINT_PB_LOAD_NAME</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME'>CHECKPOINT_NAME</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG'>CSV_LOG</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM'>OUTPUT_FILENAME_STEM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE'>DEVICE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP'>MAX_CKPT_TO_KEEP</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE'>MAX_CKPT_TO_KEEP_LVE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS'>PS_NEXAMPLES_TO_PROCESS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM'>EXT_INPUT_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM'>IC_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM'>FACTORS_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM'>IC_ENC_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM'>GEN_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE'>GEN_CELL_INPUT_WEIGHT_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE'>GEN_CELL_REC_WEIGHT_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE'>CELL_WEIGHT_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE'>BATCH_SIZE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT'>LEARNING_RATE_INIT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR'>LEARNING_RATE_DECAY_FACTOR</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP'>LEARNING_RATE_STOP</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE'>LEARNING_RATE_N_TO_COMPARE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN'>INJECT_EXT_INPUT_TO_GEN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY'>DO_TRAIN_IO_ONLY</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY'>DO_TRAIN_ENCODER_ONLY</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE'>DO_RESET_LEARNING_RATE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES'>FEEDBACK_FACTORS_OR_RATES</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN'>DO_TRAIN_READIN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM'>MAX_GRAD_NORM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE'>CELL_CLIP_VALUE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB'>KEEP_PROB</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH'>TEMPORAL_SPIKE_JITTER_WIDTH</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION'>OUTPUT_DISTRIBUTION</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC'>NUM_STEPS_FOR_GEN_IC</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR'>DATA_DIR</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM'>DATA_FILENAME_STEM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR'>LFADS_SAVE_DIR</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM'>CO_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER'>DO_CAUSAL_CONTROLLER</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER'>DO_FEED_FACTORS_TO_CONTROLLER</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG'>CONTROLLER_INPUT_LAG</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION'>PRIOR_AR_AUTOCORRELATION</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR'>PRIOR_AR_PROCESS_VAR</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU'>DO_TRAIN_PRIOR_AR_ATAU</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR'>DO_TRAIN_PRIOR_AR_NVAR</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM'>CI_ENC_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM'>CON_DIM</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE'>CO_PRIOR_VAR_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS'>KL_INCREASE_STEPS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS'>L2_INCREASE_STEPS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE'>L2_GEN_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE'>L2_CON_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE'>CO_MEAN_CORR_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT'>KL_IC_WEIGHT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT'>KL_CO_WEIGHT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP'>KL_START_STEP</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP'>L2_START_STEP</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN'>IC_PRIOR_VAR_MIN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE'>IC_PRIOR_VAR_SCALE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX'>IC_PRIOR_VAR_MAX</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN'>IC_POST_VAR_MIN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags'>flags</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS'>FLAGS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model'>build_model</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict'>jsonify_dict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict'>build_hyperparameter_dict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj'>hps_dict_to_obj</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__'>__getattr__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__'>__setattr__</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train'>train</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs'>write_model_runs</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples'>write_model_samples</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters'>write_model_parameters</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict'>clean_data_dict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets'>load_datasets</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main', xid='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main'>main</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2017 Google Inc. All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> #
<span class='lineno'>  15</span> # ==============================================================================
<span class='lineno'>  16</span> from __future__ import absolute_import
<span class='lineno'>  17</span> from __future__ import division
<span class='lineno'>  18</span> from __future__ import print_function
<span class='lineno'>  19</span> 
<span class='lineno'>  20</span> from <a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads', title='lfads'>lfads</a> import <a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS', title='<LFADS>'>LFADS</a>
<span class='lineno'>  21</span> import numpy as np
<span class='lineno'>  22</span> import os
<span class='lineno'>  23</span> import tensorflow as tf
<span class='lineno'>  24</span> import re
<span class='lineno'>  25</span> import <a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', title='utils'>utils</a>
<span class='lineno'>  26</span> import sys
<span class='lineno'>  27</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', title='int'>MAX_INT</a> = sys.maxsize
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span> # Lots of hyperparameters, but most are pretty insensitive.  The
<span class='lineno'>  30</span> # explanation of these hyperparameters is found below, in the flags
<span class='lineno'>  31</span> # session.
<span class='lineno'>  32</span> 
<span class='lineno'>  33</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME', title='str'>CHECKPOINT_PB_LOAD_NAME</a> = &quot;checkpoint&quot;
<span class='lineno'>  34</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME', title='str'>CHECKPOINT_NAME</a> = &quot;lfads_vae&quot;
<span class='lineno'>  35</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG', title='str'>CSV_LOG</a> = &quot;fitlog&quot;
<span class='lineno'>  36</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM', title='str'>OUTPUT_FILENAME_STEM</a> = &quot;&quot;
<span class='lineno'>  37</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE', title='str'>DEVICE</a> = &quot;gpu:0&quot; # &quot;cpu:0&quot;, or other gpus, e.g. &quot;gpu:1&quot;
<span class='lineno'>  38</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP', title='int'>MAX_CKPT_TO_KEEP</a> = 5
<span class='lineno'>  39</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE', title='int'>MAX_CKPT_TO_KEEP_LVE</a> = 5
<span class='lineno'>  40</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS', title='int'>PS_NEXAMPLES_TO_PROCESS</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', title='int'>MAX_INT</a> # if larger than number of examples, process all
<span class='lineno'>  41</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM', title='int'>EXT_INPUT_DIM</a> = 0
<span class='lineno'>  42</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM', title='int'>IC_DIM</a> = 64
<span class='lineno'>  43</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM', title='int'>FACTORS_DIM</a> = 50
<span class='lineno'>  44</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM', title='int'>IC_ENC_DIM</a> = 128
<span class='lineno'>  45</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM', title='int'>GEN_DIM</a> = 200
<span class='lineno'>  46</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE', title='float'>GEN_CELL_INPUT_WEIGHT_SCALE</a> = 1.0
<span class='lineno'>  47</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE', title='float'>GEN_CELL_REC_WEIGHT_SCALE</a> = 1.0
<span class='lineno'>  48</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE', title='float'>CELL_WEIGHT_SCALE</a> = 1.0
<span class='lineno'>  49</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE', title='int'>BATCH_SIZE</a> = 128
<span class='lineno'>  50</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT', title='float'>LEARNING_RATE_INIT</a> = 0.01
<span class='lineno'>  51</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR', title='float'>LEARNING_RATE_DECAY_FACTOR</a> = 0.95
<span class='lineno'>  52</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP', title='float'>LEARNING_RATE_STOP</a> = 0.00001
<span class='lineno'>  53</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE', title='int'>LEARNING_RATE_N_TO_COMPARE</a> = 6
<span class='lineno'>  54</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN', title='bool'>INJECT_EXT_INPUT_TO_GEN</a> = False
<span class='lineno'>  55</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY', title='bool'>DO_TRAIN_IO_ONLY</a> = False
<span class='lineno'>  56</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY', title='bool'>DO_TRAIN_ENCODER_ONLY</a> = False
<span class='lineno'>  57</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE', title='bool'>DO_RESET_LEARNING_RATE</a> = False
<span class='lineno'>  58</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES', title='str'>FEEDBACK_FACTORS_OR_RATES</a> = &quot;factors&quot;
<span class='lineno'>  59</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN', title='bool'>DO_TRAIN_READIN</a> = True
<span class='lineno'>  60</span> 
<span class='lineno'>  61</span> # Calibrated just above the average value for the rnn synthetic data.
<span class='lineno'>  62</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM', title='float'>MAX_GRAD_NORM</a> = 200.0
<span class='lineno'>  63</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE', title='float'>CELL_CLIP_VALUE</a> = 5.0
<span class='lineno'>  64</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB', title='float'>KEEP_PROB</a> = 0.95
<span class='lineno'>  65</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH', title='int'>TEMPORAL_SPIKE_JITTER_WIDTH</a> = 0
<span class='lineno'>  66</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION', title='str'>OUTPUT_DISTRIBUTION</a> = &#39;poisson&#39; # &#39;poisson&#39; or &#39;gaussian&#39;
<span class='lineno'>  67</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC', title='int'>NUM_STEPS_FOR_GEN_IC</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_INT', title='int'>MAX_INT</a> # set to num_steps if greater than num_steps
<span class='lineno'>  68</span> 
<span class='lineno'>  69</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR', title='str'>DATA_DIR</a> = &quot;/tmp/rnn_synth_data_v1.0/&quot;
<span class='lineno'>  70</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM', title='str'>DATA_FILENAME_STEM</a> = &quot;chaotic_rnn_inputs_g1p5&quot;
<span class='lineno'>  71</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR', title='str'>LFADS_SAVE_DIR</a> = &quot;/tmp/lfads_chaotic_rnn_inputs_g1p5/&quot;
<span class='lineno'>  72</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM', title='int'>CO_DIM</a> = 1
<span class='lineno'>  73</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER', title='bool'>DO_CAUSAL_CONTROLLER</a> = False
<span class='lineno'>  74</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER', title='bool'>DO_FEED_FACTORS_TO_CONTROLLER</a> = True
<span class='lineno'>  75</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG', title='int'>CONTROLLER_INPUT_LAG</a> = 1
<span class='lineno'>  76</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION', title='float'>PRIOR_AR_AUTOCORRELATION</a> = 10.0
<span class='lineno'>  77</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR', title='float'>PRIOR_AR_PROCESS_VAR</a> = 0.1
<span class='lineno'>  78</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU', title='bool'>DO_TRAIN_PRIOR_AR_ATAU</a> = True
<span class='lineno'>  79</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR', title='bool'>DO_TRAIN_PRIOR_AR_NVAR</a> = True
<span class='lineno'>  80</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM', title='int'>CI_ENC_DIM</a> = 128
<span class='lineno'>  81</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM', title='int'>CON_DIM</a> = 128
<span class='lineno'>  82</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE', title='float'>CO_PRIOR_VAR_SCALE</a> = 0.1
<span class='lineno'>  83</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS', title='int'>KL_INCREASE_STEPS</a> = 2000
<span class='lineno'>  84</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS', title='int'>L2_INCREASE_STEPS</a> = 2000
<span class='lineno'>  85</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE', title='float'>L2_GEN_SCALE</a> = 2000.0
<span class='lineno'>  86</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE', title='float'>L2_CON_SCALE</a> = 0.0
<span class='lineno'>  87</span> # scale of regularizer on time correlation of inferred inputs
<span class='lineno'>  88</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE', title='float'>CO_MEAN_CORR_SCALE</a> = 0.0
<span class='lineno'>  89</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT', title='float'>KL_IC_WEIGHT</a> = 1.0
<span class='lineno'>  90</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT', title='float'>KL_CO_WEIGHT</a> = 1.0
<span class='lineno'>  91</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP', title='int'>KL_START_STEP</a> = 0
<span class='lineno'>  92</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP', title='int'>L2_START_STEP</a> = 0
<span class='lineno'>  93</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN', title='float'>IC_PRIOR_VAR_MIN</a> = 0.1
<span class='lineno'>  94</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE', title='float'>IC_PRIOR_VAR_SCALE</a> = 0.1
<span class='lineno'>  95</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX', title='float'>IC_PRIOR_VAR_MAX</a> = 0.1
<span class='lineno'>  96</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN', title='float'>IC_POST_VAR_MIN</a> = 0.0001      # protection from KL blowing up
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a> = tf.app.flags
<span class='lineno'>  99</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;kind&quot;, &quot;train&quot;,
<span class='lineno'> 100</span>                     &quot;Type of model to build {train, \
<span class='lineno'> 101</span>                     posterior_sample_and_average, \
<span class='lineno'> 102</span>                     posterior_push_mean, \
<span class='lineno'> 103</span>                     prior_sample, write_model_params&quot;)
<span class='lineno'> 104</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;output_dist&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_DISTRIBUTION', title='str'>OUTPUT_DISTRIBUTION</a>,
<span class='lineno'> 105</span>                     &quot;Type of output distribution, &#39;poisson&#39; or &#39;gaussian&#39;&quot;)
<span class='lineno'> 106</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;allow_gpu_growth&quot;, False,
<span class='lineno'> 107</span>                      &quot;If true, only allocate amount of memory needed for \
<span class='lineno'> 108</span>                      Session. Otherwise, use full GPU memory.&quot;)
<span class='lineno'> 109</span> 
<span class='lineno'> 110</span> # DATA
<span class='lineno'> 111</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;data_dir&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_DIR', title='str'>DATA_DIR</a>, &quot;Data for training&quot;)
<span class='lineno'> 112</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;data_filename_stem&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DATA_FILENAME_STEM', title='str'>DATA_FILENAME_STEM</a>,
<span class='lineno'> 113</span>                     &quot;Filename stem for data dictionaries.&quot;)
<span class='lineno'> 114</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;lfads_save_dir&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LFADS_SAVE_DIR', title='str'>LFADS_SAVE_DIR</a>, &quot;model save dir&quot;)
<span class='lineno'> 115</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;checkpoint_pb_load_name&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_PB_LOAD_NAME', title='str'>CHECKPOINT_PB_LOAD_NAME</a>,
<span class='lineno'> 116</span>                     &quot;Name of checkpoint files, use &#39;checkpoint_lve&#39; for best \
<span class='lineno'> 117</span>                     error&quot;)
<span class='lineno'> 118</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;checkpoint_name&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CHECKPOINT_NAME', title='str'>CHECKPOINT_NAME</a>,
<span class='lineno'> 119</span>                     &quot;Name of checkpoint files (.ckpt appended)&quot;)
<span class='lineno'> 120</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;output_filename_stem&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.OUTPUT_FILENAME_STEM', title='str'>OUTPUT_FILENAME_STEM</a>,
<span class='lineno'> 121</span>                     &quot;Name of output file (postfix will be added)&quot;)
<span class='lineno'> 122</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;device&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DEVICE', title='str'>DEVICE</a>,
<span class='lineno'> 123</span>                     &quot;Which device to use (default: \&quot;gpu:0\&quot;, can also be \
<span class='lineno'> 124</span>                     \&quot;cpu:0\&quot;, \&quot;gpu:1\&quot;, etc)&quot;)
<span class='lineno'> 125</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;csv_log&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CSV_LOG', title='str'>CSV_LOG</a>,
<span class='lineno'> 126</span>                     &quot;Name of file to keep running log of fit likelihoods, \
<span class='lineno'> 127</span>                     etc (.csv appended)&quot;)
<span class='lineno'> 128</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;max_ckpt_to_keep&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP', title='int'>MAX_CKPT_TO_KEEP</a>,
<span class='lineno'> 129</span>                  &quot;Max # of checkpoints to keep (rolling)&quot;)
<span class='lineno'> 130</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;ps_nexamples_to_process&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PS_NEXAMPLES_TO_PROCESS', title='int'>PS_NEXAMPLES_TO_PROCESS</a>,
<span class='lineno'> 131</span>                  &quot;Number of examples to process for posterior sample and \
<span class='lineno'> 132</span>                  average (not number of samples to average over).&quot;)
<span class='lineno'> 133</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;max_ckpt_to_keep_lve&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_CKPT_TO_KEEP_LVE', title='int'>MAX_CKPT_TO_KEEP_LVE</a>,
<span class='lineno'> 134</span>                  &quot;Max # of checkpoints to keep for lowest validation error \
<span class='lineno'> 135</span>                  models (rolling)&quot;)
<span class='lineno'> 136</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;ext_input_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.EXT_INPUT_DIM', title='int'>EXT_INPUT_DIM</a>, &quot;Dimension of external \
<span class='lineno'> 137</span> inputs&quot;)
<span class='lineno'> 138</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;num_steps_for_gen_ic&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.NUM_STEPS_FOR_GEN_IC', title='int'>NUM_STEPS_FOR_GEN_IC</a>,
<span class='lineno'> 139</span>                      &quot;Number of steps to train the generator initial conditon.&quot;)
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span> 
<span class='lineno'> 142</span> # If there are observed inputs, there are two ways to add that observed
<span class='lineno'> 143</span> # input to the model.  The first is by treating as something to be
<span class='lineno'> 144</span> # inferred, and thus encoding the observed input via the encoders, and then
<span class='lineno'> 145</span> # input to the generator via the &quot;inferred inputs&quot; channel.  Second, one
<span class='lineno'> 146</span> # can input the input directly into the generator.  This has the downside
<span class='lineno'> 147</span> # of making the generation process strictly dependent on knowing the
<span class='lineno'> 148</span> # observed input for any generated trial.
<span class='lineno'> 149</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;inject_ext_input_to_gen&quot;,
<span class='lineno'> 150</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.INJECT_EXT_INPUT_TO_GEN', title='bool'>INJECT_EXT_INPUT_TO_GEN</a>,
<span class='lineno'> 151</span>                      &quot;Should observed inputs be input to model via encoders, \
<span class='lineno'> 152</span>                      or injected directly into generator?&quot;)
<span class='lineno'> 153</span> 
<span class='lineno'> 154</span> # CELL
<span class='lineno'> 155</span> 
<span class='lineno'> 156</span> # The combined recurrent and input weights of the encoder and
<span class='lineno'> 157</span> # controller cells are by default set to scale at ws/sqrt(#inputs),
<span class='lineno'> 158</span> # with ws=1.0.  You can change this scaling with this parameter.
<span class='lineno'> 159</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;cell_weight_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_WEIGHT_SCALE', title='float'>CELL_WEIGHT_SCALE</a>,
<span class='lineno'> 160</span>                      &quot;Input scaling for input weights in generator.&quot;)
<span class='lineno'> 161</span> 
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span> # GENERATION
<span class='lineno'> 164</span> 
<span class='lineno'> 165</span> # Note that the dimension of the initial conditions is separated from the
<span class='lineno'> 166</span> # dimensions of the generator initial conditions (and a linear matrix will
<span class='lineno'> 167</span> # adapt the shapes if necessary).  This is just another way to control
<span class='lineno'> 168</span> # complexity.  In all likelihood, setting the ic dims to the size of the
<span class='lineno'> 169</span> # generator hidden state is just fine.
<span class='lineno'> 170</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;ic_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_DIM', title='int'>IC_DIM</a>, &quot;Dimension of h0&quot;)
<span class='lineno'> 171</span> # Setting the dimensions of the factors to something smaller than the data
<span class='lineno'> 172</span> # dimension is a way to get a reduced dimensionality representation of your
<span class='lineno'> 173</span> # data.
<span class='lineno'> 174</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;factors_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FACTORS_DIM', title='int'>FACTORS_DIM</a>,
<span class='lineno'> 175</span>                      &quot;Number of factors from generator&quot;)
<span class='lineno'> 176</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;ic_enc_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_ENC_DIM', title='int'>IC_ENC_DIM</a>,
<span class='lineno'> 177</span>                      &quot;Cell hidden size, encoder of h0&quot;)
<span class='lineno'> 178</span> 
<span class='lineno'> 179</span> # Controlling the size of the generator is one way to control complexity of
<span class='lineno'> 180</span> # the dynamics (there is also l2, which will squeeze out unnecessary
<span class='lineno'> 181</span> # dynamics also).  The modern deep learning approach is to make these cells
<span class='lineno'> 182</span> # as large as tolerable (from a waiting perspective), and then regularize
<span class='lineno'> 183</span> # them to death with drop out or whatever.  I don&#39;t know if this is correct
<span class='lineno'> 184</span> # for the LFADS application or not.
<span class='lineno'> 185</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;gen_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_DIM', title='int'>GEN_DIM</a>,
<span class='lineno'> 186</span>                      &quot;Cell hidden size, generator.&quot;)
<span class='lineno'> 187</span> # The weights of the generator cell by default set to scale at
<span class='lineno'> 188</span> # ws/sqrt(#inputs), with ws=1.0.  You can change ws for
<span class='lineno'> 189</span> # the input weights or the recurrent weights with these hyperparameters.
<span class='lineno'> 190</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;gen_cell_input_weight_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_INPUT_WEIGHT_SCALE', title='float'>GEN_CELL_INPUT_WEIGHT_SCALE</a>,
<span class='lineno'> 191</span>                      &quot;Input scaling for input weights in generator.&quot;)
<span class='lineno'> 192</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;gen_cell_rec_weight_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.GEN_CELL_REC_WEIGHT_SCALE', title='float'>GEN_CELL_REC_WEIGHT_SCALE</a>,
<span class='lineno'> 193</span>                      &quot;Input scaling for rec weights in generator.&quot;)
<span class='lineno'> 194</span> 
<span class='lineno'> 195</span> # KL DISTRIBUTIONS
<span class='lineno'> 196</span> # If you don&#39;t know what you are donig here, please leave alone, the
<span class='lineno'> 197</span> # defaults should be fine for most cases, irregardless of other parameters.
<span class='lineno'> 198</span> #
<span class='lineno'> 199</span> # If you don&#39;t want the prior variance to be learned, set the
<span class='lineno'> 200</span> # following values to the same thing: ic_prior_var_min,
<span class='lineno'> 201</span> # ic_prior_var_scale, ic_prior_var_max.  The prior mean will be
<span class='lineno'> 202</span> # learned regardless.
<span class='lineno'> 203</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;ic_prior_var_min&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MIN', title='float'>IC_PRIOR_VAR_MIN</a>,
<span class='lineno'> 204</span>                    &quot;Minimum variance in posterior h0 codes.&quot;)
<span class='lineno'> 205</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;ic_prior_var_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_SCALE', title='float'>IC_PRIOR_VAR_SCALE</a>,
<span class='lineno'> 206</span>                    &quot;Variance of ic prior distribution&quot;)
<span class='lineno'> 207</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;ic_prior_var_max&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_PRIOR_VAR_MAX', title='float'>IC_PRIOR_VAR_MAX</a>,
<span class='lineno'> 208</span>                    &quot;Maximum variance of IC prior distribution.&quot;)
<span class='lineno'> 209</span> # If you really want to limit the information from encoder to decoder,
<span class='lineno'> 210</span> # Increase ic_post_var_min above 0.0.
<span class='lineno'> 211</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;ic_post_var_min&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.IC_POST_VAR_MIN', title='float'>IC_POST_VAR_MIN</a>,
<span class='lineno'> 212</span>                    &quot;Minimum variance of IC posterior distribution.&quot;)
<span class='lineno'> 213</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;co_prior_var_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_PRIOR_VAR_SCALE', title='float'>CO_PRIOR_VAR_SCALE</a>,
<span class='lineno'> 214</span>                    &quot;Variance of control input prior distribution.&quot;)
<span class='lineno'> 215</span> 
<span class='lineno'> 216</span> 
<span class='lineno'> 217</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;prior_ar_atau&quot;,  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_AUTOCORRELATION', title='float'>PRIOR_AR_AUTOCORRELATION</a>,
<span class='lineno'> 218</span>                    &quot;Initial autocorrelation of AR(1) priors.&quot;)
<span class='lineno'> 219</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;prior_ar_nvar&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.PRIOR_AR_PROCESS_VAR', title='float'>PRIOR_AR_PROCESS_VAR</a>,
<span class='lineno'> 220</span>                    &quot;Initial noise variance for AR(1) priors.&quot;)
<span class='lineno'> 221</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_train_prior_ar_atau&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_ATAU', title='bool'>DO_TRAIN_PRIOR_AR_ATAU</a>,
<span class='lineno'> 222</span>                      &quot;Is the value for atau an init, or the constant value?&quot;)
<span class='lineno'> 223</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_train_prior_ar_nvar&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_PRIOR_AR_NVAR', title='bool'>DO_TRAIN_PRIOR_AR_NVAR</a>,
<span class='lineno'> 224</span>                      &quot;Is the value for noise variance an init, or the constant \
<span class='lineno'> 225</span>                      value?&quot;)
<span class='lineno'> 226</span> 
<span class='lineno'> 227</span> # CONTROLLER
<span class='lineno'> 228</span> # This parameter critically controls whether or not there is a controller
<span class='lineno'> 229</span> # (along with controller encoders placed into the LFADS graph.  If CO_DIM &gt;
<span class='lineno'> 230</span> # 1, that means there is a 1 dimensional controller outputs, if equal to 0,
<span class='lineno'> 231</span> # then no controller.
<span class='lineno'> 232</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;co_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_DIM', title='int'>CO_DIM</a>,
<span class='lineno'> 233</span>     &quot;Number of control net outputs (&gt;0 builds that graph).&quot;)
<span class='lineno'> 234</span> 
<span class='lineno'> 235</span> # The controller will be more powerful if it can see the encoding of the entire
<span class='lineno'> 236</span> # trial.  However, this allows the controller to create inferred inputs that are
<span class='lineno'> 237</span> # acausal with respect to the actual data generation process.  E.g. the data
<span class='lineno'> 238</span> # generator could have an input at time t, but the controller, after seeing the
<span class='lineno'> 239</span> # entirety of the trial could infer that the input is coming a little before
<span class='lineno'> 240</span> # time t, because there are no restrictions on the data the controller sees.
<span class='lineno'> 241</span> # One can force the controller to be causal (with respect to perturbations in
<span class='lineno'> 242</span> # the data generator) so that it only sees forward encodings of the data at time
<span class='lineno'> 243</span> # t that originate at times before or at time t.  One can also control the data
<span class='lineno'> 244</span> # the controller sees by using an input lag (forward encoding at time [t-tlag]
<span class='lineno'> 245</span> # for controller input at time t.  The same can be done in the reverse direction
<span class='lineno'> 246</span> # (controller input at time t from reverse encoding at time [t+tlag], in the
<span class='lineno'> 247</span> # case of an acausal controller).  Setting this lag &gt; 0 (even lag=1) can be a
<span class='lineno'> 248</span> # powerful way of avoiding very spiky decodes. Finally, one can manually control
<span class='lineno'> 249</span> # whether the factors at time t-1 are fed to the controller at time t.
<span class='lineno'> 250</span> #
<span class='lineno'> 251</span> # If you don&#39;t care about any of this, and just want to smooth your data, set
<span class='lineno'> 252</span> #    do_causal_controller = False
<span class='lineno'> 253</span> #    do_feed_factors_to_controller = True
<span class='lineno'> 254</span> #    causal_input_lag = 0
<span class='lineno'> 255</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_causal_controller&quot;,
<span class='lineno'> 256</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_CAUSAL_CONTROLLER', title='bool'>DO_CAUSAL_CONTROLLER</a>,
<span class='lineno'> 257</span>                      &quot;Restrict the controller create only causal inferred \
<span class='lineno'> 258</span>                      inputs?&quot;)
<span class='lineno'> 259</span> # Strictly speaking, feeding either the factors or the rates to the controller
<span class='lineno'> 260</span> # violates causality, since the g0 gets to see all the data. This may or may not
<span class='lineno'> 261</span> # be only a theoretical concern.
<span class='lineno'> 262</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_feed_factors_to_controller&quot;,
<span class='lineno'> 263</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_FEED_FACTORS_TO_CONTROLLER', title='bool'>DO_FEED_FACTORS_TO_CONTROLLER</a>,
<span class='lineno'> 264</span>                      &quot;Should factors[t-1] be input to controller at time t?&quot;)
<span class='lineno'> 265</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_string(&quot;feedback_factors_or_rates&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FEEDBACK_FACTORS_OR_RATES', title='str'>FEEDBACK_FACTORS_OR_RATES</a>,
<span class='lineno'> 266</span>                     &quot;Feedback the factors or the rates to the controller? \
<span class='lineno'> 267</span>                      Acceptable values: &#39;factors&#39; or &#39;rates&#39;.&quot;)
<span class='lineno'> 268</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;controller_input_lag&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CONTROLLER_INPUT_LAG', title='int'>CONTROLLER_INPUT_LAG</a>,
<span class='lineno'> 269</span>                      &quot;Time lag on the encoding to controller t-lag for \
<span class='lineno'> 270</span>                      forward, t+lag for reverse.&quot;)
<span class='lineno'> 271</span> 
<span class='lineno'> 272</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;ci_enc_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CI_ENC_DIM', title='int'>CI_ENC_DIM</a>,
<span class='lineno'> 273</span>                      &quot;Cell hidden size, encoder of control inputs&quot;)
<span class='lineno'> 274</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;con_dim&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CON_DIM', title='int'>CON_DIM</a>,
<span class='lineno'> 275</span>                      &quot;Cell hidden size, controller&quot;)
<span class='lineno'> 276</span> 
<span class='lineno'> 277</span> 
<span class='lineno'> 278</span> # OPTIMIZATION
<span class='lineno'> 279</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;batch_size&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.BATCH_SIZE', title='int'>BATCH_SIZE</a>,
<span class='lineno'> 280</span>                      &quot;Batch size to use during training.&quot;)
<span class='lineno'> 281</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;learning_rate_init&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_INIT', title='float'>LEARNING_RATE_INIT</a>,
<span class='lineno'> 282</span>                    &quot;Learning rate initial value&quot;)
<span class='lineno'> 283</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;learning_rate_decay_factor&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_DECAY_FACTOR', title='float'>LEARNING_RATE_DECAY_FACTOR</a>,
<span class='lineno'> 284</span>                    &quot;Learning rate decay, decay by this fraction every so \
<span class='lineno'> 285</span>                    often.&quot;)
<span class='lineno'> 286</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;learning_rate_stop&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_STOP', title='float'>LEARNING_RATE_STOP</a>,
<span class='lineno'> 287</span>                    &quot;The lr is adaptively reduced, stop training at this value.&quot;)
<span class='lineno'> 288</span> # Rather put the learning rate on an exponentially decreasiong schedule,
<span class='lineno'> 289</span> # the current algorithm pays attention to the learning rate, and if it
<span class='lineno'> 290</span> # isn&#39;t regularly decreasing, it will decrease the learning rate.  So far,
<span class='lineno'> 291</span> # it works fine, though it is not perfect.
<span class='lineno'> 292</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;learning_rate_n_to_compare&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.LEARNING_RATE_N_TO_COMPARE', title='int'>LEARNING_RATE_N_TO_COMPARE</a>,
<span class='lineno'> 293</span>                      &quot;Number of previous costs current cost has to be worse \
<span class='lineno'> 294</span>                      than, to lower learning rate.&quot;)
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span> # This sets a value, above which, the gradients will be clipped.  This hp
<span class='lineno'> 297</span> # is extremely useful to avoid an infrequent, but highly pathological
<span class='lineno'> 298</span> # problem whereby the gradient is so large that it destroys the
<span class='lineno'> 299</span> # optimziation by setting parameters too large, leading to a vicious cycle
<span class='lineno'> 300</span> # that ends in NaNs.  If it&#39;s too large, it&#39;s useless, if it&#39;s too small,
<span class='lineno'> 301</span> # it essentially becomes the learning rate.  It&#39;s pretty insensitive, though.
<span class='lineno'> 302</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;max_grad_norm&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.MAX_GRAD_NORM', title='float'>MAX_GRAD_NORM</a>,
<span class='lineno'> 303</span>                    &quot;Max norm of gradient before clipping.&quot;)
<span class='lineno'> 304</span> 
<span class='lineno'> 305</span> # If your optimizations start &quot;NaN-ing out&quot;, reduce this value so that
<span class='lineno'> 306</span> # the values of the network don&#39;t grow out of control.  Typically, once
<span class='lineno'> 307</span> # this parameter is set to a reasonable value, one stops having numerical
<span class='lineno'> 308</span> # problems.
<span class='lineno'> 309</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;cell_clip_value&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CELL_CLIP_VALUE', title='float'>CELL_CLIP_VALUE</a>,
<span class='lineno'> 310</span>                    &quot;Max value recurrent cell can take before being clipped.&quot;)
<span class='lineno'> 311</span> 
<span class='lineno'> 312</span> # This flag is used for an experiment where one sees if training a model with
<span class='lineno'> 313</span> # many days data can be used to learn the dynamics from a held-out days data.
<span class='lineno'> 314</span> # If you don&#39;t care about that particular experiment, this flag should always be
<span class='lineno'> 315</span> # false.
<span class='lineno'> 316</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_train_io_only&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_IO_ONLY', title='bool'>DO_TRAIN_IO_ONLY</a>,
<span class='lineno'> 317</span>                      &quot;Train only the input (readin) and output (readout) \
<span class='lineno'> 318</span>                      affine functions.&quot;)
<span class='lineno'> 319</span> 
<span class='lineno'> 320</span> # This flag is used for an experiment where one wants to know if the dynamics
<span class='lineno'> 321</span> # learned by the generator generalize across conditions. In that case, you might
<span class='lineno'> 322</span> # train up a model on one set of data, and then only further train the encoder
<span class='lineno'> 323</span> # on another set of data (the conditions to be tested) so that the model is
<span class='lineno'> 324</span> # forced to use the same dynamics to describe that data. If you don&#39;t care about
<span class='lineno'> 325</span> # that particular experiment, this flag should always be false.
<span class='lineno'> 326</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_train_encoder_only&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_ENCODER_ONLY', title='bool'>DO_TRAIN_ENCODER_ONLY</a>,
<span class='lineno'> 327</span>                      &quot;Train only the encoder weights.&quot;)
<span class='lineno'> 328</span> 
<span class='lineno'> 329</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_reset_learning_rate&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_RESET_LEARNING_RATE', title='bool'>DO_RESET_LEARNING_RATE</a>,
<span class='lineno'> 330</span>                      &quot;Reset the learning rate to initial value.&quot;)
<span class='lineno'> 331</span> 
<span class='lineno'> 332</span> 
<span class='lineno'> 333</span> # for multi-session &quot;stitching&quot; models, the per-session readin matrices map from
<span class='lineno'> 334</span> # neurons to input factors which are fed into the shared encoder. These are
<span class='lineno'> 335</span> # initialized by alignment_matrix_cxf and alignment_bias_c in the input .h5
<span class='lineno'> 336</span> # files. They can be fixed or made trainable.
<span class='lineno'> 337</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_boolean(&quot;do_train_readin&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.DO_TRAIN_READIN', title='bool'>DO_TRAIN_READIN</a>, &quot;Whether to train the \
<span class='lineno'> 338</span>                      readin matrices and bias vectors. False leaves them fixed \
<span class='lineno'> 339</span>                      at their initial values specified by the alignment \
<span class='lineno'> 340</span>                      matrices and vectors.&quot;)
<span class='lineno'> 341</span> 
<span class='lineno'> 342</span> 
<span class='lineno'> 343</span> # OVERFITTING
<span class='lineno'> 344</span> # Dropout is done on the input data, on controller inputs (from
<span class='lineno'> 345</span> # encoder), on outputs from generator to factors.
<span class='lineno'> 346</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;keep_prob&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KEEP_PROB', title='float'>KEEP_PROB</a>, &quot;Dropout keep probability.&quot;)
<span class='lineno'> 347</span> # It appears that the system will happily fit spikes (blessing or
<span class='lineno'> 348</span> # curse, depending).  You may not want this.  Jittering the spikes a
<span class='lineno'> 349</span> # bit will help (-/+ bin size, as specified here).
<span class='lineno'> 350</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;temporal_spike_jitter_width&quot;,
<span class='lineno'> 351</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.TEMPORAL_SPIKE_JITTER_WIDTH', title='int'>TEMPORAL_SPIKE_JITTER_WIDTH</a>,
<span class='lineno'> 352</span>                      &quot;Shuffle spikes around this window.&quot;)
<span class='lineno'> 353</span> 
<span class='lineno'> 354</span> # General note about helping ascribe controller inputs vs dynamics:
<span class='lineno'> 355</span> #
<span class='lineno'> 356</span> # If controller is heavily penalized, then it won&#39;t have any output.
<span class='lineno'> 357</span> # If dynamics are heavily penalized, then generator won&#39;t make
<span class='lineno'> 358</span> # dynamics.  Note this l2 penalty is only on the recurrent portion of
<span class='lineno'> 359</span> # the RNNs, as dropout is also available, penalizing the feed-forward
<span class='lineno'> 360</span> # connections.
<span class='lineno'> 361</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;l2_gen_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_GEN_SCALE', title='float'>L2_GEN_SCALE</a>,
<span class='lineno'> 362</span>                    &quot;L2 regularization cost for the generator only.&quot;)
<span class='lineno'> 363</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;l2_con_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_CON_SCALE', title='float'>L2_CON_SCALE</a>,
<span class='lineno'> 364</span>                    &quot;L2 regularization cost for the controller only.&quot;)
<span class='lineno'> 365</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;co_mean_corr_scale&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.CO_MEAN_CORR_SCALE', title='float'>CO_MEAN_CORR_SCALE</a>,
<span class='lineno'> 366</span>                    &quot;Cost of correlation (thru time)in the means of \
<span class='lineno'> 367</span>                    controller output.&quot;)
<span class='lineno'> 368</span> 
<span class='lineno'> 369</span> # UNDERFITTING
<span class='lineno'> 370</span> # If the primary task of LFADS is &quot;filtering&quot; of data and not
<span class='lineno'> 371</span> # generation, then it is possible that the KL penalty is too strong.
<span class='lineno'> 372</span> # Empirically, we have found this to be the case.  So we add a
<span class='lineno'> 373</span> # hyperparameter in front of the the two KL terms (one for the initial
<span class='lineno'> 374</span> # conditions to the generator, the other for the controller outputs).
<span class='lineno'> 375</span> # You should always think of the the default values as 1.0, and that
<span class='lineno'> 376</span> # leads to a standard VAE formulation whereby the numbers that are
<span class='lineno'> 377</span> # optimized are a lower-bound on the log-likelihood of the data. When
<span class='lineno'> 378</span> # these 2 HPs deviate from 1.0, one cannot make any statement about
<span class='lineno'> 379</span> # what those LL lower bounds mean anymore, and they cannot be compared
<span class='lineno'> 380</span> # (AFAIK).
<span class='lineno'> 381</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;kl_ic_weight&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_IC_WEIGHT', title='float'>KL_IC_WEIGHT</a>,
<span class='lineno'> 382</span>                    &quot;Strength of KL weight on initial conditions KL penatly.&quot;)
<span class='lineno'> 383</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_float(&quot;kl_co_weight&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_CO_WEIGHT', title='float'>KL_CO_WEIGHT</a>,
<span class='lineno'> 384</span>                    &quot;Strength of KL weight on controller output KL penalty.&quot;)
<span class='lineno'> 385</span> 
<span class='lineno'> 386</span> # Sometimes the task can be sufficiently hard to learn that the
<span class='lineno'> 387</span> # optimizer takes the &#39;easy route&#39;, and simply minimizes the KL
<span class='lineno'> 388</span> # divergence, setting it to near zero, and the optimization gets
<span class='lineno'> 389</span> # stuck.  These two parameters will help avoid that by by getting the
<span class='lineno'> 390</span> # optimization to &#39;latch&#39; on to the main optimization, and only
<span class='lineno'> 391</span> # turning in the regularizers later.
<span class='lineno'> 392</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;kl_start_step&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_START_STEP', title='int'>KL_START_STEP</a>,
<span class='lineno'> 393</span>                      &quot;Start increasing weight after this many steps.&quot;)
<span class='lineno'> 394</span> # training passes, not epochs, increase by 0.5 every kl_increase_steps
<span class='lineno'> 395</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;kl_increase_steps&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.KL_INCREASE_STEPS', title='int'>KL_INCREASE_STEPS</a>,
<span class='lineno'> 396</span>                      &quot;Increase weight of kl cost to avoid local minimum.&quot;)
<span class='lineno'> 397</span> # Same story for l2 regularizer.  One wants a simple generator, for scientific
<span class='lineno'> 398</span> # reasons, but not at the expense of hosing the optimization.
<span class='lineno'> 399</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;l2_start_step&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_START_STEP', title='int'>L2_START_STEP</a>,
<span class='lineno'> 400</span>                      &quot;Start increasing l2 weight after this many steps.&quot;)
<span class='lineno'> 401</span> <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.DEFINE_integer(&quot;l2_increase_steps&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.L2_INCREASE_STEPS', title='int'>L2_INCREASE_STEPS</a>,
<span class='lineno'> 402</span>                      &quot;Increase weight of l2 cost to avoid local minimum.&quot;)
<span class='lineno'> 403</span> 
<span class='lineno'> 404</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', title='?'>FLAGS</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.flags', title='?'>flags</a>.FLAGS
<span class='lineno'> 405</span> 
<span class='lineno'> 406</span> 
<span class='lineno'> 407</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', title='(hps_dict_to_obj, str, None) -> LFADS / (?, str, None) -> LFADS'>build_model</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', title='str'>kind</a>=&quot;train&quot;, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.datasets', title='None'>datasets</a>=None):
<span class='lineno'> 408</span>   &quot;&quot;&quot;Builds a model from either random initialization, or saved parameters.
<span class='lineno'> 409</span> 
<span class='lineno'> 410</span>   Args:
<span class='lineno'> 411</span>     hps: The hyper parameters for the model.
<span class='lineno'> 412</span>     kind: (optional) The kind of model to build.  Training vs inference require
<span class='lineno'> 413</span>       different graphs.
<span class='lineno'> 414</span>     datasets: The datasets structure (see top of lfads.py).
<span class='lineno'> 415</span> 
<span class='lineno'> 416</span>   Returns:
<span class='lineno'> 417</span>     an LFADS model.
<span class='lineno'> 418</span>   &quot;&quot;&quot;
<span class='lineno'> 419</span> 
<span class='lineno'> 420</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', title='str'>build_kind</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', title='str'>kind</a>
<span class='lineno'> 421</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', title='str'>build_kind</a> == &quot;write_model_params&quot;:
<span class='lineno'> 422</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', title='str'>build_kind</a> = &quot;train&quot;
<span class='lineno'> 423</span>   with tf.variable_scope(&quot;LFADS&quot;, reuse=None):
<span class='lineno'> 424</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', title='LFADS'>model</a> = <a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS', title='<LFADS>'>LFADS</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>, kind=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.build_kind', title='str'>build_kind</a>, datasets=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.datasets', title='None'>datasets</a>)
<span class='lineno'> 425</span> 
<span class='lineno'> 426</span>   if not os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir):
<span class='lineno'> 427</span>     print(&quot;Save directory %s does not exist, creating it.&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir)
<span class='lineno'> 428</span>     os.makedirs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir)
<span class='lineno'> 429</span> 
<span class='lineno'> 430</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='?'>cp_pb_ln</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.checkpoint_pb_load_name
<span class='lineno'> 431</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='str'>cp_pb_ln</a> = &#39;checkpoint&#39; if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='?'>cp_pb_ln</a> == &quot;&quot; else <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='?'>cp_pb_ln</a>
<span class='lineno'> 432</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='str'>cp_pb_ln</a> == &#39;checkpoint&#39;:
<span class='lineno'> 433</span>     print(&quot;Loading latest training checkpoint in: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir)
<span class='lineno'> 434</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', title='?'>saver</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.seso_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.seso_saver', title='?'>seso_saver</a>
<span class='lineno'> 435</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='str'>cp_pb_ln</a> == &#39;checkpoint_lve&#39;:
<span class='lineno'> 436</span>     print(&quot;Loading lowest validation checkpoint in: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir)
<span class='lineno'> 437</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', title='?'>saver</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.lve_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.lve_saver', title='?'>lve_saver</a>
<span class='lineno'> 438</span>   else:
<span class='lineno'> 439</span>     print(&quot;Loading checkpoint: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='str'>cp_pb_ln</a>, &quot;, in: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir)
<span class='lineno'> 440</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', title='?'>saver</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.seso_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.seso_saver', title='?'>seso_saver</a>
<span class='lineno'> 441</span> 
<span class='lineno'> 442</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a> = tf.train.get_checkpoint_state(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir,
<span class='lineno'> 443</span>                                        latest_filename=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.cp_pb_ln', title='str'>cp_pb_ln</a>)
<span class='lineno'> 444</span> 
<span class='lineno'> 445</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.session', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.session', title='?'>session</a> = tf.get_default_session()
<span class='lineno'> 446</span>   print(&quot;ckpt: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>)
<span class='lineno'> 447</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a> and tf.train.checkpoint_exists(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>.model_checkpoint_path):
<span class='lineno'> 448</span>     print(&quot;Reading model parameters from %s&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>.model_checkpoint_path)
<span class='lineno'> 449</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.saver', title='?'>saver</a>.restore(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.session', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.session', title='?'>session</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>.model_checkpoint_path)
<span class='lineno'> 450</span>   else:
<span class='lineno'> 451</span>     print(&quot;Created model with fresh parameters.&quot;)
<span class='lineno'> 452</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', title='str'>kind</a> in [&quot;posterior_sample_and_average&quot;, &quot;posterior_push_mean&quot;,
<span class='lineno'> 453</span>                 &quot;prior_sample&quot;, &quot;write_model_params&quot;]:
<span class='lineno'> 454</span>       print(&quot;Possible error!!! You are running &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.kind', title='str'>kind</a>, &quot; on a newly \
<span class='lineno'> 455</span>       initialized model!&quot;)
<span class='lineno'> 456</span>       # cannot print ckpt.model_check_point path if no ckpt
<span class='lineno'> 457</span>       print(&quot;Are you sure you sure a checkpoint in &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir,
<span class='lineno'> 458</span>             &quot; exists?&quot;)
<span class='lineno'> 459</span> 
<span class='lineno'> 460</span>     tf.global_variables_initializer().run()
<span class='lineno'> 461</span> 
<span class='lineno'> 462</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>:
<span class='lineno'> 463</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', title='?'>train_step_str</a> = re.search(&#39;-[0-9]+$&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.ckpt', title='?'>ckpt</a>.model_checkpoint_path).group()
<span class='lineno'> 464</span>   else:
<span class='lineno'> 465</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', title='str'>train_step_str</a> = &#39;-0&#39;
<span class='lineno'> 466</span> 
<span class='lineno'> 467</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.fname', title='str'>fname</a> = &#39;hyperparameters&#39; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.train_step_str', title='str'>train_step_str</a> + &#39;.txt&#39;
<span class='lineno'> 468</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hp_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hp_fname', title='str'>hp_fname</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.fname', title='str'>fname</a>)
<span class='lineno'> 469</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps_for_saving', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps_for_saving', title='None'>hps_for_saving</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict', title='hps_dict_to_obj -> None / ? -> None'>jsonify_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps', title='hps_dict_to_obj'>hps</a>)
<span class='lineno'> 470</span>   <a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', title='utils'>utils</a>.<a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.write_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.write_data', title='(?, ?, bool, None) -> ? / (str, ?, bool, None) -> ? / (str, dict, bool, None) -> ? / (str, {dict | dict}, bool, None) -> ? / (str, None, bool, None) -> ?'>write_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hp_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hp_fname', title='str'>hp_fname</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps_for_saving', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.hps_for_saving', title='None'>hps_for_saving</a>, use_json=True)
<span class='lineno'> 471</span> 
<span class='lineno'> 472</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model.model', title='LFADS'>model</a>
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span> 
<span class='lineno'> 475</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict', title='hps_dict_to_obj -> None / ? -> None'>jsonify_dict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d', title='hps_dict_to_obj'>d</a>):
<span class='lineno'> 476</span>   &quot;&quot;&quot;Turns python booleans into strings so hps dict can be written in json.
<span class='lineno'> 477</span>   Creates a shallow-copied dictionary first, then accomplishes string
<span class='lineno'> 478</span>   conversion.
<span class='lineno'> 479</span> 
<span class='lineno'> 480</span>   Args:
<span class='lineno'> 481</span>     d: hyperparameter dictionary
<span class='lineno'> 482</span> 
<span class='lineno'> 483</span>   Returns: hyperparameter dictionary with bool&#39;s as strings
<span class='lineno'> 484</span>   &quot;&quot;&quot;
<span class='lineno'> 485</span> 
<span class='lineno'> 486</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d', title='hps_dict_to_obj'>d</a>.copy()   # shallow copy is fine by assumption of d being shallow
<span class='lineno'> 487</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool', title='? -> str'>jsonify_bool</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool.boolean_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool.boolean_value', title='?'>boolean_value</a>):
<span class='lineno'> 488</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool.boolean_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool.boolean_value', title='?'>boolean_value</a>:
<span class='lineno'> 489</span>       return &quot;true&quot;
<span class='lineno'> 490</span>     else:
<span class='lineno'> 491</span>       return &quot;false&quot;
<span class='lineno'> 492</span> 
<span class='lineno'> 493</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', title='?'>key</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a>.keys():
<span class='lineno'> 494</span>     if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', title='?'>key</a>], bool):
<span class='lineno'> 495</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', title='?'>key</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.jsonify_bool', title='? -> str'>jsonify_bool</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.key', title='?'>key</a>])
<span class='lineno'> 496</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.jsonify_dict.d2', title='?'>d2</a>
<span class='lineno'> 497</span> 
<span class='lineno'> 498</span> 
<span class='lineno'> 499</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict', title='? -> dict'>build_hyperparameter_dict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>):
<span class='lineno'> 500</span>   &quot;&quot;&quot;Simple script for saving hyper parameters.  Under the hood the
<span class='lineno'> 501</span>   flags structure isn&#39;t a dictionary, so it has to be simplified since we
<span class='lineno'> 502</span>   want to be able to view file as text.
<span class='lineno'> 503</span> 
<span class='lineno'> 504</span>   Args:
<span class='lineno'> 505</span>     flags: From tf.app.flags
<span class='lineno'> 506</span> 
<span class='lineno'> 507</span>   Returns:
<span class='lineno'> 508</span>     dictionary of hyper parameters (ignoring other flag types).
<span class='lineno'> 509</span>   &quot;&quot;&quot;
<span class='lineno'> 510</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a> = {}
<span class='lineno'> 511</span>   # Data
<span class='lineno'> 512</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;output_dist&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.output_dist
<span class='lineno'> 513</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;data_dir&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.data_dir
<span class='lineno'> 514</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;lfads_save_dir&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.lfads_save_dir
<span class='lineno'> 515</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;checkpoint_pb_load_name&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.checkpoint_pb_load_name
<span class='lineno'> 516</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;checkpoint_name&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.checkpoint_name
<span class='lineno'> 517</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;output_filename_stem&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.output_filename_stem
<span class='lineno'> 518</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;max_ckpt_to_keep&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.max_ckpt_to_keep
<span class='lineno'> 519</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;max_ckpt_to_keep_lve&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.max_ckpt_to_keep_lve
<span class='lineno'> 520</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ps_nexamples_to_process&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ps_nexamples_to_process
<span class='lineno'> 521</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ext_input_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ext_input_dim
<span class='lineno'> 522</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;data_filename_stem&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.data_filename_stem
<span class='lineno'> 523</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;device&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.device
<span class='lineno'> 524</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;csv_log&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.csv_log
<span class='lineno'> 525</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;num_steps_for_gen_ic&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.num_steps_for_gen_ic
<span class='lineno'> 526</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;inject_ext_input_to_gen&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.inject_ext_input_to_gen
<span class='lineno'> 527</span>   # Cell
<span class='lineno'> 528</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;cell_weight_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.cell_weight_scale
<span class='lineno'> 529</span>   # Generation
<span class='lineno'> 530</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_dim
<span class='lineno'> 531</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;factors_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.factors_dim
<span class='lineno'> 532</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_enc_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_enc_dim
<span class='lineno'> 533</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;gen_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.gen_dim
<span class='lineno'> 534</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;gen_cell_input_weight_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.gen_cell_input_weight_scale
<span class='lineno'> 535</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;gen_cell_rec_weight_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.gen_cell_rec_weight_scale
<span class='lineno'> 536</span>   # KL distributions
<span class='lineno'> 537</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_prior_var_min&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_prior_var_min
<span class='lineno'> 538</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_prior_var_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_prior_var_scale
<span class='lineno'> 539</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_prior_var_max&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_prior_var_max
<span class='lineno'> 540</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ic_post_var_min&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ic_post_var_min
<span class='lineno'> 541</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;co_prior_var_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.co_prior_var_scale
<span class='lineno'> 542</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;prior_ar_atau&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.prior_ar_atau
<span class='lineno'> 543</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;prior_ar_nvar&#39;] =  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.prior_ar_nvar
<span class='lineno'> 544</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_train_prior_ar_atau&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_train_prior_ar_atau
<span class='lineno'> 545</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_train_prior_ar_nvar&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_train_prior_ar_nvar
<span class='lineno'> 546</span>   # Controller
<span class='lineno'> 547</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_causal_controller&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_causal_controller
<span class='lineno'> 548</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;controller_input_lag&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.controller_input_lag
<span class='lineno'> 549</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_feed_factors_to_controller&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_feed_factors_to_controller
<span class='lineno'> 550</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;feedback_factors_or_rates&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.feedback_factors_or_rates
<span class='lineno'> 551</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;co_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.co_dim
<span class='lineno'> 552</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;ci_enc_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.ci_enc_dim
<span class='lineno'> 553</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;con_dim&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.con_dim
<span class='lineno'> 554</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;co_mean_corr_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.co_mean_corr_scale
<span class='lineno'> 555</span>   # Optimization
<span class='lineno'> 556</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;batch_size&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.batch_size
<span class='lineno'> 557</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;learning_rate_init&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.learning_rate_init
<span class='lineno'> 558</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;learning_rate_decay_factor&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.learning_rate_decay_factor
<span class='lineno'> 559</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;learning_rate_stop&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.learning_rate_stop
<span class='lineno'> 560</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;learning_rate_n_to_compare&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.learning_rate_n_to_compare
<span class='lineno'> 561</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;max_grad_norm&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.max_grad_norm
<span class='lineno'> 562</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;cell_clip_value&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.cell_clip_value
<span class='lineno'> 563</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_train_io_only&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_train_io_only
<span class='lineno'> 564</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_train_encoder_only&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_train_encoder_only
<span class='lineno'> 565</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_reset_learning_rate&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_reset_learning_rate
<span class='lineno'> 566</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;do_train_readin&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.do_train_readin
<span class='lineno'> 567</span> 
<span class='lineno'> 568</span>   # Overfitting
<span class='lineno'> 569</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;keep_prob&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.keep_prob
<span class='lineno'> 570</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;temporal_spike_jitter_width&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.temporal_spike_jitter_width
<span class='lineno'> 571</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;l2_gen_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.l2_gen_scale
<span class='lineno'> 572</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;l2_con_scale&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.l2_con_scale
<span class='lineno'> 573</span>   # Underfitting
<span class='lineno'> 574</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;kl_ic_weight&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.kl_ic_weight
<span class='lineno'> 575</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;kl_co_weight&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.kl_co_weight
<span class='lineno'> 576</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;kl_start_step&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.kl_start_step
<span class='lineno'> 577</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;kl_increase_steps&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.kl_increase_steps
<span class='lineno'> 578</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;l2_start_step&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.l2_start_step
<span class='lineno'> 579</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;l2_increase_steps&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.flags', title='?'>flags</a>.l2_increase_steps
<span class='lineno'> 580</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>[&#39;_clip_value&#39;] = 80 # bounds the tf.exp to avoid INF 
<span class='lineno'> 581</span>   
<span class='lineno'> 582</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict.d', title='dict'>d</a>
<span class='lineno'> 583</span> 
<span class='lineno'> 584</span> 
<span class='lineno'> 585</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj', title='<hps_dict_to_obj>'>hps_dict_to_obj</a>(dict):
<span class='lineno'> 586</span>   &quot;&quot;&quot;Helper class allowing us to access hps dictionary more easily.&quot;&quot;&quot;
<span class='lineno'> 587</span> 
<span class='lineno'> 588</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__', title='(hps_dict_to_obj, ?) -> None'>__getattr__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', title='hps_dict_to_obj'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', title='?'>key</a>):
<span class='lineno'> 589</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', title='?'>key</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', title='hps_dict_to_obj'>self</a>:
<span class='lineno'> 590</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.self', title='hps_dict_to_obj'>self</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', title='?'>key</a>]
<span class='lineno'> 591</span>     else:
<span class='lineno'> 592</span>       assert False, (&quot;%s does not exist.&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__getattr__.key', title='?'>key</a>)
<span class='lineno'> 593</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__', title='(hps_dict_to_obj, ?, ?) -> None'>__setattr__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.self', title='hps_dict_to_obj'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.key', title='?'>key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.value', title='?'>value</a>):
<span class='lineno'> 594</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.self', title='hps_dict_to_obj'>self</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.key', title='?'>key</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.__setattr__.value', title='?'>value</a>
<span class='lineno'> 595</span> 
<span class='lineno'> 596</span> 
<span class='lineno'> 597</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train', title='(hps_dict_to_obj, dict) -> None / (?, ?) -> None'>train</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', title='hps_dict_to_obj'>hps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', title='dict'>datasets</a>):
<span class='lineno'> 598</span>   &quot;&quot;&quot;Train the LFADS model.
<span class='lineno'> 599</span> 
<span class='lineno'> 600</span>   Args:
<span class='lineno'> 601</span>     hps: The dictionary of hyperparameters.
<span class='lineno'> 602</span>     datasets: A dictionary of data dictionaries.  The dataset dict is simply a
<span class='lineno'> 603</span>       name(string)-&gt; data dictionary mapping (See top of lfads.py).
<span class='lineno'> 604</span>   &quot;&quot;&quot;
<span class='lineno'> 605</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', title='LFADS'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', title='(hps_dict_to_obj, str, None) -> LFADS / (?, str, None) -> LFADS'>build_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', title='hps_dict_to_obj'>hps</a>, kind=&quot;train&quot;, datasets=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', title='dict'>datasets</a>)
<span class='lineno'> 606</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.hps', title='hps_dict_to_obj'>hps</a>.do_reset_learning_rate:
<span class='lineno'> 607</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.sess', title='?'>sess</a> = tf.get_default_session()
<span class='lineno'> 608</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.sess', title='?'>sess</a>.run(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.learning_rate', title='?'>learning_rate</a>.initializer)
<span class='lineno'> 609</span> 
<span class='lineno'> 610</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.train_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.train_model', title='(LFADS, dict) -> None / (LFADS, ?) -> None'>train_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train.datasets', title='dict'>datasets</a>)
<span class='lineno'> 611</span> 
<span class='lineno'> 612</span> 
<span class='lineno'> 613</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', title='(hps_dict_to_obj, dict, ?, bool) -> None / (?, ?, None, bool) -> None'>write_model_runs</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', title='hps_dict_to_obj'>hps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', title='dict'>datasets</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.output_fname', title='None'>output_fname</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.push_mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.push_mean', title='bool'>push_mean</a>=False):
<span class='lineno'> 614</span>   &quot;&quot;&quot;Run the model on the data in data_dict, and save the computed values.
<span class='lineno'> 615</span> 
<span class='lineno'> 616</span>   LFADS generates a number of outputs for each examples, and these are all
<span class='lineno'> 617</span>   saved.  They are:
<span class='lineno'> 618</span>     The mean and variance of the prior of g0.
<span class='lineno'> 619</span>     The mean and variance of approximate posterior of g0.
<span class='lineno'> 620</span>     The control inputs (if enabled)
<span class='lineno'> 621</span>     The initial conditions, g0, for all examples.
<span class='lineno'> 622</span>     The generator states for all time.
<span class='lineno'> 623</span>     The factors for all time.
<span class='lineno'> 624</span>     The rates for all time.
<span class='lineno'> 625</span> 
<span class='lineno'> 626</span>   Args:
<span class='lineno'> 627</span>     hps: The dictionary of hyperparameters.
<span class='lineno'> 628</span>     datasets: A dictionary of data dictionaries.  The dataset dict is simply a
<span class='lineno'> 629</span>       name(string)-&gt; data dictionary mapping (See top of lfads.py).
<span class='lineno'> 630</span>     output_fname (optional): output filename stem to write the model runs.
<span class='lineno'> 631</span>     push_mean: if False (default), generates batch_size samples for each trial
<span class='lineno'> 632</span>       and averages the results. if True, runs each trial once without noise,
<span class='lineno'> 633</span>       pushing the posterior mean initial conditions and control inputs through
<span class='lineno'> 634</span>       the trained model. False is used for posterior_sample_and_average, True
<span class='lineno'> 635</span>       is used for posterior_push_mean.
<span class='lineno'> 636</span>   &quot;&quot;&quot;
<span class='lineno'> 637</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.model', title='LFADS'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', title='(hps_dict_to_obj, str, None) -> LFADS / (?, str, None) -> LFADS'>build_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', title='hps_dict_to_obj'>hps</a>, kind=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', title='?'>kind</a>, datasets=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', title='dict'>datasets</a>)
<span class='lineno'> 638</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.write_model_runs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.write_model_runs', title='(LFADS, dict, ?, bool) -> None / (LFADS, ?, None, bool) -> None'>write_model_runs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.datasets', title='dict'>datasets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.output_fname', title='None'>output_fname</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.push_mean', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs.push_mean', title='bool'>push_mean</a>)
<span class='lineno'> 639</span> 
<span class='lineno'> 640</span> 
<span class='lineno'> 641</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples', title='(hps_dict_to_obj, dict, ?, None) -> None / (?, ?, None, None) -> None'>write_model_samples</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', title='hps_dict_to_obj'>hps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', title='dict'>datasets</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', title='None'>dataset_name</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='None'>output_fname</a>=None):
<span class='lineno'> 642</span>   &quot;&quot;&quot;Use the prior distribution to generate samples from the model.
<span class='lineno'> 643</span>   Generates batch_size number of samples (set through FLAGS).
<span class='lineno'> 644</span> 
<span class='lineno'> 645</span>   LFADS generates a number of outputs for each examples, and these are all
<span class='lineno'> 646</span>   saved.  They are:
<span class='lineno'> 647</span>     The mean and variance of the prior of g0.
<span class='lineno'> 648</span>     The control inputs (if enabled)
<span class='lineno'> 649</span>     The initial conditions, g0, for all examples.
<span class='lineno'> 650</span>     The generator states for all time.
<span class='lineno'> 651</span>     The factors for all time.
<span class='lineno'> 652</span>     The output distribution parameters (e.g. rates) for all time.
<span class='lineno'> 653</span> 
<span class='lineno'> 654</span>   Args:
<span class='lineno'> 655</span>     hps: The dictionary of hyperparameters.
<span class='lineno'> 656</span>     datasets: A dictionary of data dictionaries.  The dataset dict is simply a
<span class='lineno'> 657</span>       name(string)-&gt; data dictionary mapping (See top of lfads.py).
<span class='lineno'> 658</span>     dataset_name: The name of the dataset to grab the factors -&gt; rates
<span class='lineno'> 659</span>       alignment matrices from. Only a concern with models trained on
<span class='lineno'> 660</span>       multi-session data. By default, uses the first dataset in the data dict.
<span class='lineno'> 661</span>     output_fname: The name prefix of the file in which to save the generated
<span class='lineno'> 662</span>       samples.
<span class='lineno'> 663</span>   &quot;&quot;&quot;
<span class='lineno'> 664</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='None'>output_fname</a>:
<span class='lineno'> 665</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='str'>output_fname</a> = &quot;model_runs_&quot; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', title='?'>kind</a>
<span class='lineno'> 666</span>   else:
<span class='lineno'> 667</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='?'>output_fname</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='None'>output_fname</a> + &quot;model_runs_&quot; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', title='?'>kind</a>
<span class='lineno'> 668</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', title='None'>dataset_name</a>:
<span class='lineno'> 669</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', title='?'>dataset_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', title='dict'>datasets</a>.keys()[0]
<span class='lineno'> 670</span>   else:
<span class='lineno'> 671</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', title='None'>dataset_name</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', title='dict'>datasets</a>.keys():
<span class='lineno'> 672</span>       raise ValueError(&quot;Invalid dataset name &#39;%s&#39;.&quot;%(dataset_name))
<span class='lineno'> 673</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.model', title='LFADS'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', title='(hps_dict_to_obj, str, None) -> LFADS / (?, str, None) -> LFADS'>build_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', title='hps_dict_to_obj'>hps</a>, kind=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', title='?'>kind</a>, datasets=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.datasets', title='dict'>datasets</a>)
<span class='lineno'> 674</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.write_model_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.write_model_samples', title='(LFADS, ?, str) -> None / (LFADS, None, str) -> None / (LFADS, ?, None) -> None'>write_model_samples</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.dataset_name', title='None'>dataset_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples.output_fname', title='str'>output_fname</a>)
<span class='lineno'> 675</span> 
<span class='lineno'> 676</span> 
<span class='lineno'> 677</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters', title='(hps_dict_to_obj, ?, dict) -> None / (?, None, None) -> None'>write_model_parameters</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', title='hps_dict_to_obj'>hps</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='None'>output_fname</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.datasets', title='dict'>datasets</a>=None):
<span class='lineno'> 678</span>   &quot;&quot;&quot;Save all the model parameters
<span class='lineno'> 679</span> 
<span class='lineno'> 680</span>   Save all the parameters to hps.lfads_save_dir.
<span class='lineno'> 681</span> 
<span class='lineno'> 682</span>   Args:
<span class='lineno'> 683</span>     hps: The dictionary of hyperparameters.
<span class='lineno'> 684</span>     output_fname: The prefix of the file in which to save the generated
<span class='lineno'> 685</span>       samples.
<span class='lineno'> 686</span>     datasets: A dictionary of data dictionaries.  The dataset dict is simply a
<span class='lineno'> 687</span>       name(string)-&gt; data dictionary mapping (See top of lfads.py).
<span class='lineno'> 688</span>   &quot;&quot;&quot;
<span class='lineno'> 689</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='None'>output_fname</a>:
<span class='lineno'> 690</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='str'>output_fname</a> = &quot;model_params&quot;
<span class='lineno'> 691</span>   else:
<span class='lineno'> 692</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='str'>output_fname</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='None'>output_fname</a> + &quot;_model_params&quot;
<span class='lineno'> 693</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', title='str'>fname</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', title='hps_dict_to_obj'>hps</a>.lfads_save_dir, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.output_fname', title='str'>output_fname</a>)
<span class='lineno'> 694</span>   print(&quot;Writing model parameters to: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', title='str'>fname</a>)
<span class='lineno'> 695</span>   # save the optimizer params as well
<span class='lineno'> 696</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model', title='LFADS'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_model', title='(hps_dict_to_obj, str, None) -> LFADS / (?, str, None) -> LFADS'>build_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.hps', title='hps_dict_to_obj'>hps</a>, kind=&quot;write_model_params&quot;, datasets=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.datasets', title='dict'>datasets</a>)
<span class='lineno'> 697</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model_params', title='{dict | dict}'>model_params</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model', title='LFADS'>model</a>.<a href='lfads.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.eval_model_parameters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.lfads.LFADS.eval_model_parameters', title='(bool, None) -> {dict | dict}'>eval_model_parameters</a>(use_nested=False,
<span class='lineno'> 698</span>                                              include_strs=&quot;LFADS&quot;)
<span class='lineno'> 699</span>   <a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', title='utils'>utils</a>.<a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.write_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.write_data', title='(?, ?, bool, None) -> ? / (str, ?, bool, None) -> ? / (str, dict, bool, None) -> ? / (str, {dict | dict}, bool, None) -> ? / (str, None, bool, None) -> ?'>write_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.fname', title='str'>fname</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters.model_params', title='{dict | dict}'>model_params</a>, compression=None)
<span class='lineno'> 700</span>   print(&quot;Done.&quot;)
<span class='lineno'> 701</span> 
<span class='lineno'> 702</span> 
<span class='lineno'> 703</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict', title='? -> None'>clean_data_dict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', title='?'>data_dict</a>):
<span class='lineno'> 704</span>   &quot;&quot;&quot;Add some key/value pairs to the data dict, if they are missing.
<span class='lineno'> 705</span>   Args:
<span class='lineno'> 706</span>     data_dict - dictionary containing data for LFADS
<span class='lineno'> 707</span>   Returns:
<span class='lineno'> 708</span>     data_dict with some keys filled in, if they are absent.
<span class='lineno'> 709</span>   &quot;&quot;&quot;
<span class='lineno'> 710</span> 
<span class='lineno'> 711</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.keys', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.keys', title='[str]'>keys</a> = [&#39;train_truth&#39;, &#39;train_ext_input&#39;, &#39;valid_data&#39;,
<span class='lineno'> 712</span>           &#39;valid_truth&#39;, &#39;valid_ext_input&#39;, &#39;valid_train&#39;]
<span class='lineno'> 713</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', title='str'>k</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.keys', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.keys', title='[str]'>keys</a>:
<span class='lineno'> 714</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', title='str'>k</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', title='?'>data_dict</a>:
<span class='lineno'> 715</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', title='?'>data_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.k', title='str'>k</a>] = None
<span class='lineno'> 716</span> 
<span class='lineno'> 717</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict.data_dict', title='?'>data_dict</a>
<span class='lineno'> 718</span> 
<span class='lineno'> 719</span> 
<span class='lineno'> 720</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets', title='(?, ?) -> dict'>load_datasets</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', title='?'>data_dir</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_filename_stem', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_filename_stem', title='?'>data_filename_stem</a>):
<span class='lineno'> 721</span>   &quot;&quot;&quot;Load the datasets from a specified directory.
<span class='lineno'> 722</span> 
<span class='lineno'> 723</span>   Example files look like
<span class='lineno'> 724</span>     &gt;data_dir/my_dataset_first_day
<span class='lineno'> 725</span>     &gt;data_dir/my_dataset_second_day
<span class='lineno'> 726</span> 
<span class='lineno'> 727</span>   If my_dataset (filename) stem is in the directory, the read routine will try
<span class='lineno'> 728</span>   and load it.  The datasets dictionary will then look like
<span class='lineno'> 729</span>   dataset[&#39;first_day&#39;] -&gt; (first day data dictionary)
<span class='lineno'> 730</span>   dataset[&#39;second_day&#39;] -&gt; (first day data dictionary)
<span class='lineno'> 731</span> 
<span class='lineno'> 732</span>   Args:
<span class='lineno'> 733</span>     data_dir: The directory from which to load the datasets.
<span class='lineno'> 734</span>     data_filename_stem: The stem of the filename for the datasets.
<span class='lineno'> 735</span> 
<span class='lineno'> 736</span>   Returns:
<span class='lineno'> 737</span>     datasets: a dataset dictionary, with one name-&gt;data dictionary pair for
<span class='lineno'> 738</span>     each dataset file.
<span class='lineno'> 739</span>   &quot;&quot;&quot;
<span class='lineno'> 740</span>   print(&quot;Reading data from &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', title='?'>data_dir</a>)
<span class='lineno'> 741</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', title='dict'>datasets</a> = <a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils', title='utils'>utils</a>.<a href='utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.read_datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.utils.read_datasets', title='(?, ?) -> dict'>read_datasets</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dir', title='?'>data_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_filename_stem', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_filename_stem', title='?'>data_filename_stem</a>)
<span class='lineno'> 742</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.k', title='?'>k</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', title='?'>data_dict</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', title='dict'>datasets</a>.items():
<span class='lineno'> 743</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', title='dict'>datasets</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.k', title='?'>k</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.clean_data_dict', title='? -> None'>clean_data_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', title='?'>data_dict</a>)
<span class='lineno'> 744</span> 
<span class='lineno'> 745</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', title='int'>train_total_size</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', title='?'>data_dict</a>[&#39;train_data&#39;])
<span class='lineno'> 746</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', title='int'>train_total_size</a> == 0:
<span class='lineno'> 747</span>       print(&quot;Did not load training set.&quot;)
<span class='lineno'> 748</span>     else:
<span class='lineno'> 749</span>       print(&quot;Found training set with number examples: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.train_total_size', title='int'>train_total_size</a>)
<span class='lineno'> 750</span> 
<span class='lineno'> 751</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', title='int'>valid_total_size</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.data_dict', title='?'>data_dict</a>[&#39;valid_data&#39;])
<span class='lineno'> 752</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', title='int'>valid_total_size</a> == 0:
<span class='lineno'> 753</span>       print(&quot;Did not load validation set.&quot;)
<span class='lineno'> 754</span>     else:
<span class='lineno'> 755</span>       print(&quot;Found validation set with number examples: &quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.valid_total_size', title='int'>valid_total_size</a>)
<span class='lineno'> 756</span> 
<span class='lineno'> 757</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets.datasets', title='dict'>datasets</a>
<span class='lineno'> 758</span> 
<span class='lineno'> 759</span> 
<span class='lineno'> 760</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main', title='? -> None'>main</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main._', title='?'>_</a>):
<span class='lineno'> 761</span>   &quot;&quot;&quot;Get this whole shindig off the ground.&quot;&quot;&quot;
<span class='lineno'> 762</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.d', title='dict'>d</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.build_hyperparameter_dict', title='? -> dict'>build_hyperparameter_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', title='?'>FLAGS</a>)
<span class='lineno'> 763</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj', title='<hps_dict_to_obj>'>hps_dict_to_obj</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.d', title='dict'>d</a>)    # hyper parameters
<span class='lineno'> 764</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', title='?'>FLAGS</a>.kind
<span class='lineno'> 765</span> 
<span class='lineno'> 766</span>   # Read the data, if necessary.
<span class='lineno'> 767</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.train_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.train_set', title='None'>train_set</a> = <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.valid_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.valid_set', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.valid_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.valid_set', title='None'>valid_set</a></a> = None
<span class='lineno'> 768</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> in [&quot;train&quot;, &quot;posterior_sample_and_average&quot;, &quot;posterior_push_mean&quot;,
<span class='lineno'> 769</span>               &quot;prior_sample&quot;, &quot;write_model_params&quot;]:
<span class='lineno'> 770</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.load_datasets', title='(?, ?) -> dict'>load_datasets</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.data_dir, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.data_filename_stem)
<span class='lineno'> 771</span>   else:
<span class='lineno'> 772</span>     raise ValueError(&#39;Kind {} is not supported.&#39;.format(kind))
<span class='lineno'> 773</span> 
<span class='lineno'> 774</span>   # infer the dataset names and dataset dimensions from the loaded files
<span class='lineno'> 775</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.kind', title='?'>kind</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a>     # needs to be added here, cuz not saved as hyperparam
<span class='lineno'> 776</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', title='[?]'>dataset_names</a> = []
<span class='lineno'> 777</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_dims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_dims', title='dict'>dataset_dims</a> = {}
<span class='lineno'> 778</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', title='?'>key</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>:
<span class='lineno'> 779</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', title='[?]'>dataset_names</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', title='?'>key</a>)
<span class='lineno'> 780</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_dims', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_dims', title='dict'>dataset_dims</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', title='?'>key</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.key', title='?'>key</a>][&#39;data_dim&#39;]
<span class='lineno'> 781</span> 
<span class='lineno'> 782</span>   # also store down the dimensionality of the data
<span class='lineno'> 783</span>   # - just pull from one set, required to be same for all sets
<span class='lineno'> 784</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', title='?'>num_steps</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>.values()[0][&#39;num_steps&#39;]
<span class='lineno'> 785</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.ndatasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.ndatasets', title='int'>ndatasets</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.dataset_names', title='[?]'>dataset_names</a>)
<span class='lineno'> 786</span> 
<span class='lineno'> 787</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.num_steps_for_gen_ic &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', title='?'>num_steps</a>:
<span class='lineno'> 788</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps_for_gen_ic', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps_for_gen_ic', title='?'>num_steps_for_gen_ic</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.hps_dict_to_obj.num_steps', title='?'>num_steps</a>
<span class='lineno'> 789</span> 
<span class='lineno'> 790</span>   # Build and run the model, for varying purposes.
<span class='lineno'> 791</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', title='?'>config</a> = tf.ConfigProto(allow_soft_placement=True,
<span class='lineno'> 792</span>                           log_device_placement=False)
<span class='lineno'> 793</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.FLAGS', title='?'>FLAGS</a>.allow_gpu_growth:
<span class='lineno'> 794</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', title='?'>config</a>.gpu_options.allow_growth = True
<span class='lineno'> 795</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.sess', title='?'>sess</a> = tf.Session(config=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.config', title='?'>config</a>)
<span class='lineno'> 796</span>   with <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.sess', title='?'>sess</a>.as_default():
<span class='lineno'> 797</span>     with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.device):
<span class='lineno'> 798</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> == &quot;train&quot;:
<span class='lineno'> 799</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.train', title='(hps_dict_to_obj, dict) -> None / (?, ?) -> None'>train</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>)
<span class='lineno'> 800</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> == &quot;posterior_sample_and_average&quot;:
<span class='lineno'> 801</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', title='(hps_dict_to_obj, dict, ?, bool) -> None / (?, ?, None, bool) -> None'>write_model_runs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.output_filename_stem,
<span class='lineno'> 802</span>                          push_mean=False)
<span class='lineno'> 803</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> == &quot;posterior_push_mean&quot;:
<span class='lineno'> 804</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_runs', title='(hps_dict_to_obj, dict, ?, bool) -> None / (?, ?, None, bool) -> None'>write_model_runs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.output_filename_stem,
<span class='lineno'> 805</span>                          push_mean=True)
<span class='lineno'> 806</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> == &quot;prior_sample&quot;:
<span class='lineno'> 807</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_samples', title='(hps_dict_to_obj, dict, ?, None) -> None / (?, ?, None, None) -> None'>write_model_samples</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.output_filename_stem)
<span class='lineno'> 808</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a> == &quot;write_model_params&quot;:
<span class='lineno'> 809</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.write_model_parameters', title='(hps_dict_to_obj, ?, dict) -> None / (?, None, None) -> None'>write_model_parameters</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.hps', title='hps_dict_to_obj'>hps</a>.output_filename_stem, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.datasets', title='dict'>datasets</a>)
<span class='lineno'> 810</span>       else:
<span class='lineno'> 811</span>         assert False, (&quot;Kind %s is not implemented. &quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.lfads.run_lfads.main.kind', title='?'>kind</a>)
<span class='lineno'> 812</span> 
<span class='lineno'> 813</span> 
<span class='lineno'> 814</span> if __name__ == &quot;__main__&quot;:
<span class='lineno'> 815</span>     tf.app.run()
</pre></td></tr></table></body></html>