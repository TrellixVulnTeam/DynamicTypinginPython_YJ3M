<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/slim/deployment/model_deploy.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.__all__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.__all__'>__all__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone'>Clone</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel'>DeployedModel</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._deployment_params', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._deployment_params'>_deployment_params</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones'>create_clones</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss'>_gather_clone_loss</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone'>_optimize_clone</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones'>optimize_clones</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy'>deploy</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients'>_sum_clones_gradients</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries'>_add_gradients_summaries</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig'>DeploymentConfig</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones'>num_clones</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu'>clone_on_cpu</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id'>replica_id</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas'>num_replicas</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks'>num_ps_tasks</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device'>ps_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device'>worker_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device'>caching_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device'>clone_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope'>clone_scope</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device'>optimizer_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device'>inputs_device</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device', xid='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device'>variables_device</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2016 The TensorFlow Authors. All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> # http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> &quot;&quot;&quot;Deploy Slim models across multiple clones and replicas.
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> # TODO(sguada) docstring paragraph by (a) motivating the need for the file and
<span class='lineno'>  18</span> # (b) defining clones.
<span class='lineno'>  19</span> 
<span class='lineno'>  20</span> # TODO(sguada) describe the high-level components of model deployment.
<span class='lineno'>  21</span> # E.g. &quot;each model deployment is composed of several parts: a DeploymentConfig,
<span class='lineno'>  22</span> # which captures A, B and C, an input_fn which loads data.. etc
<span class='lineno'>  23</span> 
<span class='lineno'>  24</span> To easily train a model on multiple GPUs or across multiple machines this
<span class='lineno'>  25</span> module provides a set of helper functions: `create_clones`,
<span class='lineno'>  26</span> `optimize_clones` and `deploy`.
<span class='lineno'>  27</span> 
<span class='lineno'>  28</span> Usage:
<span class='lineno'>  29</span> 
<span class='lineno'>  30</span>   g = tf.Graph()
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span>   # Set up DeploymentConfig
<span class='lineno'>  33</span>   config = model_deploy.DeploymentConfig(num_clones=2, clone_on_cpu=True)
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span>   # Create the global step on the device storing the variables.
<span class='lineno'>  36</span>   with tf.device(config.variables_device()):
<span class='lineno'>  37</span>     global_step = slim.create_global_step()
<span class='lineno'>  38</span> 
<span class='lineno'>  39</span>   # Define the inputs
<span class='lineno'>  40</span>   with tf.device(config.inputs_device()):
<span class='lineno'>  41</span>     images, labels = LoadData(...)
<span class='lineno'>  42</span>     inputs_queue = slim.data.prefetch_queue((images, labels))
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span>   # Define the optimizer.
<span class='lineno'>  45</span>   with tf.device(config.optimizer_device()):
<span class='lineno'>  46</span>     optimizer = tf.train.MomentumOptimizer(FLAGS.learning_rate, FLAGS.momentum)
<span class='lineno'>  47</span> 
<span class='lineno'>  48</span>   # Define the model including the loss.
<span class='lineno'>  49</span>   def model_fn(inputs_queue):
<span class='lineno'>  50</span>     images, labels = inputs_queue.dequeue()
<span class='lineno'>  51</span>     predictions = CreateNetwork(images)
<span class='lineno'>  52</span>     slim.losses.log_loss(predictions, labels)
<span class='lineno'>  53</span> 
<span class='lineno'>  54</span>   model_dp = model_deploy.deploy(config, model_fn, [inputs_queue],
<span class='lineno'>  55</span>                                  optimizer=optimizer)
<span class='lineno'>  56</span> 
<span class='lineno'>  57</span>   # Run training.
<span class='lineno'>  58</span>   slim.learning.train(model_dp.train_op, my_log_dir,
<span class='lineno'>  59</span>                       summary_op=model_dp.summary_op)
<span class='lineno'>  60</span> 
<span class='lineno'>  61</span> The Clone namedtuple holds together the values associated with each call to
<span class='lineno'>  62</span> model_fn:
<span class='lineno'>  63</span>   * outputs: The return values of the calls to `model_fn()`.
<span class='lineno'>  64</span>   * scope: The scope used to create the clone.
<span class='lineno'>  65</span>   * device: The device used to create the clone.
<span class='lineno'>  66</span> 
<span class='lineno'>  67</span> DeployedModel namedtuple, holds together the values needed to train multiple
<span class='lineno'>  68</span> clones:
<span class='lineno'>  69</span>   * train_op: An operation that run the optimizer training op and include
<span class='lineno'>  70</span>     all the update ops created by `model_fn`. Present only if an optimizer
<span class='lineno'>  71</span>     was specified.
<span class='lineno'>  72</span>   * summary_op: An operation that run the summaries created by `model_fn`
<span class='lineno'>  73</span>     and process_gradients.
<span class='lineno'>  74</span>   * total_loss: A `Tensor` that contains the sum of all losses created by
<span class='lineno'>  75</span>     `model_fn` plus the regularization losses.
<span class='lineno'>  76</span>   * clones: List of `Clone` tuples returned by `create_clones()`.
<span class='lineno'>  77</span> 
<span class='lineno'>  78</span> DeploymentConfig parameters:
<span class='lineno'>  79</span>   * num_clones: Number of model clones to deploy in each replica.
<span class='lineno'>  80</span>   * clone_on_cpu: True if clones should be placed on CPU.
<span class='lineno'>  81</span>   * replica_id: Integer.  Index of the replica for which the model is
<span class='lineno'>  82</span>       deployed.  Usually 0 for the chief replica.
<span class='lineno'>  83</span>   * num_replicas: Number of replicas to use.
<span class='lineno'>  84</span>   * num_ps_tasks: Number of tasks for the `ps` job. 0 to not use replicas.
<span class='lineno'>  85</span>   * worker_job_name: A name for the worker job.
<span class='lineno'>  86</span>   * ps_job_name: A name for the parameter server job.
<span class='lineno'>  87</span> 
<span class='lineno'>  88</span> TODO(sguada):
<span class='lineno'>  89</span>   - describe side effect to the graph.
<span class='lineno'>  90</span>   - what happens to summaries and update_ops.
<span class='lineno'>  91</span>   - which graph collections are altered.
<span class='lineno'>  92</span>   - write a tutorial on how to use this.
<span class='lineno'>  93</span>   - analyze the possibility of calling deploy more than once.
<span class='lineno'>  94</span> 
<span class='lineno'>  95</span> 
<span class='lineno'>  96</span> &quot;&quot;&quot;
<span class='lineno'>  97</span> 
<span class='lineno'>  98</span> from __future__ import absolute_import
<span class='lineno'>  99</span> from __future__ import division
<span class='lineno'> 100</span> from __future__ import print_function
<span class='lineno'> 101</span> 
<span class='lineno'> 102</span> import collections
<span class='lineno'> 103</span> 
<span class='lineno'> 104</span> import tensorflow.compat.v1 as tf
<span class='lineno'> 105</span> import tf_slim as slim
<span class='lineno'> 106</span> 
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.__all__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.__all__', title='[str]'>__all__</a> = [&#39;create_clones&#39;,
<span class='lineno'> 109</span>            &#39;deploy&#39;,
<span class='lineno'> 110</span>            &#39;optimize_clones&#39;,
<span class='lineno'> 111</span>            &#39;DeployedModel&#39;,
<span class='lineno'> 112</span>            &#39;DeploymentConfig&#39;,
<span class='lineno'> 113</span>            &#39;Clone&#39;,
<span class='lineno'> 114</span>           ]
<span class='lineno'> 115</span> 
<span class='lineno'> 116</span> 
<span class='lineno'> 117</span> # Namedtuple used to represent a clone during deployment.
<span class='lineno'> 118</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone', title='<(namedtuple)>'>Clone</a> = collections.namedtuple(&#39;Clone&#39;,
<span class='lineno'> 119</span>                                [&#39;outputs&#39;,  # Whatever model_fn() returned.
<span class='lineno'> 120</span>                                 &#39;scope&#39;,  # The scope used to create it.
<span class='lineno'> 121</span>                                 &#39;device&#39;,  # The device used to create.
<span class='lineno'> 122</span>                                ])
<span class='lineno'> 123</span> 
<span class='lineno'> 124</span> # Namedtuple used to represent a DeployedModel, returned by deploy().
<span class='lineno'> 125</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel', title='<(namedtuple)>'>DeployedModel</a> = collections.namedtuple(&#39;DeployedModel&#39;,
<span class='lineno'> 126</span>                                        [&#39;train_op&#39;,  # The `train_op`
<span class='lineno'> 127</span>                                         &#39;summary_op&#39;,  # The `summary_op`
<span class='lineno'> 128</span>                                         &#39;total_loss&#39;,  # The loss `Tensor`
<span class='lineno'> 129</span>                                         &#39;clones&#39;,  # A list of `Clones` tuples.
<span class='lineno'> 130</span>                                        ])
<span class='lineno'> 131</span> 
<span class='lineno'> 132</span> # Default parameters for DeploymentConfig
<span class='lineno'> 133</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._deployment_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._deployment_params', title='dict'>_deployment_params</a> = {&#39;num_clones&#39;: 1,
<span class='lineno'> 134</span>                       &#39;clone_on_cpu&#39;: False,
<span class='lineno'> 135</span>                       &#39;replica_id&#39;: 0,
<span class='lineno'> 136</span>                       &#39;num_replicas&#39;: 1,
<span class='lineno'> 137</span>                       &#39;num_ps_tasks&#39;: 0,
<span class='lineno'> 138</span>                       &#39;worker_job_name&#39;: &#39;worker&#39;,
<span class='lineno'> 139</span>                       &#39;ps_job_name&#39;: &#39;ps&#39;}
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span> 
<span class='lineno'> 142</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones', title='(DeploymentConfig, ? -> None, [?], None) -> [(namedtuple)] / (?, ?, None, None) -> [(namedtuple)]'>create_clones</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', title='DeploymentConfig'>config</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.model_fn', title='? -> None'>model_fn</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', title='[?]'>args</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', title='None'>kwargs</a>=None):
<span class='lineno'> 143</span>   &quot;&quot;&quot;Creates multiple clones according to config using a `model_fn`.
<span class='lineno'> 144</span> 
<span class='lineno'> 145</span>   The returned values of `model_fn(*args, **kwargs)` are collected along with
<span class='lineno'> 146</span>   the scope and device used to created it in a namedtuple
<span class='lineno'> 147</span>   `Clone(outputs, scope, device)`
<span class='lineno'> 148</span> 
<span class='lineno'> 149</span>   Note: it is assumed that any loss created by `model_fn` is collected at
<span class='lineno'> 150</span>   the tf.GraphKeys.LOSSES collection.
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span>   To recover the losses, summaries or update_ops created by the clone use:
<span class='lineno'> 153</span>   ```python
<span class='lineno'> 154</span>     losses = tf.get_collection(tf.GraphKeys.LOSSES, clone.scope)
<span class='lineno'> 155</span>     summaries = tf.get_collection(tf.GraphKeys.SUMMARIES, clone.scope)
<span class='lineno'> 156</span>     update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS, clone.scope)
<span class='lineno'> 157</span>   ```
<span class='lineno'> 158</span> 
<span class='lineno'> 159</span>   The deployment options are specified by the config object and support
<span class='lineno'> 160</span>   deploying one or several clones on different GPUs and one or several replicas
<span class='lineno'> 161</span>   of such clones.
<span class='lineno'> 162</span> 
<span class='lineno'> 163</span>   The argument `model_fn` is called `config.num_clones` times to create the
<span class='lineno'> 164</span>   model clones as `model_fn(*args, **kwargs)`.
<span class='lineno'> 165</span> 
<span class='lineno'> 166</span>   If `config` specifies deployment on multiple replicas then the default
<span class='lineno'> 167</span>   tensorflow device is set appropriatly for each call to `model_fn` and for the
<span class='lineno'> 168</span>   slim variable creation functions: model and global variables will be created
<span class='lineno'> 169</span>   on the `ps` device, the clone operations will be on the `worker` device.
<span class='lineno'> 170</span> 
<span class='lineno'> 171</span>   Args:
<span class='lineno'> 172</span>     config: A DeploymentConfig object.
<span class='lineno'> 173</span>     model_fn: A callable. Called as `model_fn(*args, **kwargs)`
<span class='lineno'> 174</span>     args: Optional list of arguments to pass to `model_fn`.
<span class='lineno'> 175</span>     kwargs: Optional list of keyword arguments to pass to `model_fn`.
<span class='lineno'> 176</span> 
<span class='lineno'> 177</span>   Returns:
<span class='lineno'> 178</span>     A list of namedtuples `Clone`.
<span class='lineno'> 179</span>   &quot;&quot;&quot;
<span class='lineno'> 180</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', title='[(namedtuple)]'>clones</a> = []
<span class='lineno'> 181</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', title='[?]'>args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', title='[?]'>args</a> or []
<span class='lineno'> 182</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', title='dict'>kwargs</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.kwargs', title='None'>kwargs</a> or {}
<span class='lineno'> 183</span>   with slim.arg_scope([slim.model_variable, slim.variable],
<span class='lineno'> 184</span>                       device=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', title='DeploymentConfig'>config</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device', title='DeploymentConfig -> {(_PSDeviceChooser, ?) -> None | str}'>variables_device</a>()):
<span class='lineno'> 185</span>     # Create clones.
<span class='lineno'> 186</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', title='int'>i</a> in range(0, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', title='DeploymentConfig'>config</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones', title='DeploymentConfig -> int'>num_clones</a>):
<span class='lineno'> 187</span>       with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', title='DeploymentConfig'>config</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope', title='(DeploymentConfig, int) -> str / (DeploymentConfig, ?) -> str'>clone_scope</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', title='int'>i</a>)) as <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_scope', title='?'>clone_scope</a>:
<span class='lineno'> 188</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', title='str'>clone_device</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.config', title='DeploymentConfig'>config</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device', title='(DeploymentConfig, ?) -> str / (DeploymentConfig, int) -> str'>clone_device</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', title='int'>i</a>)
<span class='lineno'> 189</span>         with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', title='str'>clone_device</a>):
<span class='lineno'> 190</span>           with tf.variable_scope(tf.get_variable_scope(),
<span class='lineno'> 191</span>                                  reuse=True if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.i', title='int'>i</a> &gt; 0 else None):
<span class='lineno'> 192</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.outputs', title='None'>outputs</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.model_fn', title='? -> None'>model_fn</a>(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.args', title='[?]'>args</a>, **kwargs)
<span class='lineno'> 193</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', title='[(namedtuple)]'>clones</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.Clone', title='<(namedtuple)>'>Clone</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.outputs', title='None'>outputs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_scope', title='?'>clone_scope</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clone_device', title='str'>clone_device</a>))
<span class='lineno'> 194</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones.clones', title='[(namedtuple)]'>clones</a>
<span class='lineno'> 195</span> 
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', title='(?, ?, ?) -> None / ((namedtuple), int, None) -> None / (?, int, None) -> None / ((namedtuple), int, ?) -> None'>_gather_clone_loss</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', title='(namedtuple)'>clone</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', title='int'>num_clones</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', title='None'>regularization_losses</a>):
<span class='lineno'> 198</span>   &quot;&quot;&quot;Gather the loss for a single clone.
<span class='lineno'> 199</span> 
<span class='lineno'> 200</span>   Args:
<span class='lineno'> 201</span>     clone: A Clone namedtuple.
<span class='lineno'> 202</span>     num_clones: The number of clones being deployed.
<span class='lineno'> 203</span>     regularization_losses: Possibly empty list of regularization_losses
<span class='lineno'> 204</span>       to add to the clone losses.
<span class='lineno'> 205</span> 
<span class='lineno'> 206</span>   Returns:
<span class='lineno'> 207</span>     A tensor for the total loss for the clone.  Can be None.
<span class='lineno'> 208</span>   &quot;&quot;&quot;
<span class='lineno'> 209</span>   # The return value.
<span class='lineno'> 210</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', title='None'>sum_loss</a> = None
<span class='lineno'> 211</span>   # Individual components of the loss that will need summaries.
<span class='lineno'> 212</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='None'>clone_loss</a> = None
<span class='lineno'> 213</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', title='None'>regularization_loss</a> = None
<span class='lineno'> 214</span>   # Compute and aggregate losses on the clone device.
<span class='lineno'> 215</span>   with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', title='(namedtuple)'>clone</a>.device):
<span class='lineno'> 216</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', title='[?]'>all_losses</a> = []
<span class='lineno'> 217</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', title='?'>clone_losses</a> = tf.get_collection(tf.GraphKeys.LOSSES, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', title='(namedtuple)'>clone</a>.scope)
<span class='lineno'> 218</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', title='?'>clone_losses</a>:
<span class='lineno'> 219</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='?'>clone_loss</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_losses', title='?'>clone_losses</a>, name=&#39;clone_loss&#39;)
<span class='lineno'> 220</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', title='int'>num_clones</a> &gt; 1:
<span class='lineno'> 221</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='?'>clone_loss</a> = tf.div(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='?'>clone_loss</a>, 1.0 * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.num_clones', title='int'>num_clones</a>,
<span class='lineno'> 222</span>                             name=&#39;scaled_clone_loss&#39;)
<span class='lineno'> 223</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', title='[?]'>all_losses</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='?'>clone_loss</a>)
<span class='lineno'> 224</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', title='None'>regularization_losses</a>:
<span class='lineno'> 225</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', title='?'>regularization_loss</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_losses', title='None'>regularization_losses</a>,
<span class='lineno'> 226</span>                                      name=&#39;regularization_loss&#39;)
<span class='lineno'> 227</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', title='[?]'>all_losses</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', title='?'>regularization_loss</a>)
<span class='lineno'> 228</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', title='[?]'>all_losses</a>:
<span class='lineno'> 229</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', title='?'>sum_loss</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.all_losses', title='[?]'>all_losses</a>)
<span class='lineno'> 230</span>   # Add the summaries out of the clone device block.
<span class='lineno'> 231</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='None'>clone_loss</a> is not None:
<span class='lineno'> 232</span>     tf.summary.scalar(&#39;/&#39;.join(filter(None,
<span class='lineno'> 233</span>                                       [&#39;Losses&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone', title='(namedtuple)'>clone</a>.scope, &#39;clone_loss&#39;])),
<span class='lineno'> 234</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.clone_loss', title='None'>clone_loss</a>)
<span class='lineno'> 235</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', title='None'>regularization_loss</a> is not None:
<span class='lineno'> 236</span>     tf.summary.scalar(&#39;Losses/regularization_loss&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.regularization_loss', title='None'>regularization_loss</a>)
<span class='lineno'> 237</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss.sum_loss', title='None'>sum_loss</a>
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span> 
<span class='lineno'> 240</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone', title='(?, ?, ?, ?) -> (None, None) / (None, (namedtuple), int, None) -> (None, None) / (?, ?, int, None) -> (None, None)'>_optimize_clone</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.optimizer', title='None'>optimizer</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', title='(namedtuple)'>clone</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.num_clones', title='int'>num_clones</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.regularization_losses', title='None'>regularization_losses</a>,
<span class='lineno'> 241</span>                     **kwargs):
<span class='lineno'> 242</span>   &quot;&quot;&quot;Compute losses and gradients for a single clone.
<span class='lineno'> 243</span> 
<span class='lineno'> 244</span>   Args:
<span class='lineno'> 245</span>     optimizer: A tf.Optimizer  object.
<span class='lineno'> 246</span>     clone: A Clone namedtuple.
<span class='lineno'> 247</span>     num_clones: The number of clones being deployed.
<span class='lineno'> 248</span>     regularization_losses: Possibly empty list of regularization_losses
<span class='lineno'> 249</span>       to add to the clone losses.
<span class='lineno'> 250</span>     **kwargs: Dict of kwarg to pass to compute_gradients().
<span class='lineno'> 251</span> 
<span class='lineno'> 252</span>   Returns:
<span class='lineno'> 253</span>     A tuple (clone_loss, clone_grads_and_vars).
<span class='lineno'> 254</span>       - clone_loss: A tensor for the total loss for the clone.  Can be None.
<span class='lineno'> 255</span>       - clone_grads_and_vars: List of (gradient, variable) for the clone.
<span class='lineno'> 256</span>         Can be empty.
<span class='lineno'> 257</span>   &quot;&quot;&quot;
<span class='lineno'> 258</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', title='None'>sum_loss</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', title='(?, ?, ?) -> None / ((namedtuple), int, None) -> None / (?, int, None) -> None / ((namedtuple), int, ?) -> None'>_gather_clone_loss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', title='(namedtuple)'>clone</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.num_clones', title='int'>num_clones</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.regularization_losses', title='None'>regularization_losses</a>)
<span class='lineno'> 259</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', title='None'>clone_grad</a> = None
<span class='lineno'> 260</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', title='None'>sum_loss</a> is not None:
<span class='lineno'> 261</span>     with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone', title='(namedtuple)'>clone</a>.device):
<span class='lineno'> 262</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', title='?'>clone_grad</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.optimizer', title='None'>optimizer</a>.compute_gradients(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', title='None'>sum_loss</a>, **kwargs)
<span class='lineno'> 263</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.sum_loss', title='None'>sum_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone.clone_grad', title='None'>clone_grad</a>
<span class='lineno'> 264</span> 
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones', title='([(namedtuple)], None, None) -> (?, [(?, ?)]) / (?, ?, None) -> (?, [(?, ?)])'>optimize_clones</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', title='[(namedtuple)]'>clones</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.optimizer', title='None'>optimizer</a>,
<span class='lineno'> 267</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', title='None'>regularization_losses</a>=None,
<span class='lineno'> 268</span>                     **kwargs):
<span class='lineno'> 269</span>   &quot;&quot;&quot;Compute clone losses and gradients for the given list of `Clones`.
<span class='lineno'> 270</span> 
<span class='lineno'> 271</span>   Note: The regularization_losses are added to the first clone losses.
<span class='lineno'> 272</span> 
<span class='lineno'> 273</span>   Args:
<span class='lineno'> 274</span>    clones: List of `Clones` created by `create_clones()`.
<span class='lineno'> 275</span>    optimizer: An `Optimizer` object.
<span class='lineno'> 276</span>    regularization_losses: Optional list of regularization losses. If None it
<span class='lineno'> 277</span>      will gather them from tf.GraphKeys.REGULARIZATION_LOSSES. Pass `[]` to
<span class='lineno'> 278</span>      exclude them.
<span class='lineno'> 279</span>    **kwargs: Optional list of keyword arguments to pass to `compute_gradients`.
<span class='lineno'> 280</span> 
<span class='lineno'> 281</span>   Returns:
<span class='lineno'> 282</span>    A tuple (total_loss, grads_and_vars).
<span class='lineno'> 283</span>      - total_loss: A Tensor containing the average of the clone losses including
<span class='lineno'> 284</span>        the regularization loss.
<span class='lineno'> 285</span>      - grads_and_vars: A List of tuples (gradient, variable) containing the sum
<span class='lineno'> 286</span>        of the gradients for each variable.
<span class='lineno'> 287</span> 
<span class='lineno'> 288</span>   &quot;&quot;&quot;
<span class='lineno'> 289</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', title='[None]'>grads_and_vars</a> = []
<span class='lineno'> 290</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', title='[None]'>clones_losses</a> = []
<span class='lineno'> 291</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.num_clones', title='int'>num_clones</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', title='[(namedtuple)]'>clones</a>)
<span class='lineno'> 292</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', title='None'>regularization_losses</a> is None:
<span class='lineno'> 293</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', title='?'>regularization_losses</a> = tf.get_collection(
<span class='lineno'> 294</span>         tf.GraphKeys.REGULARIZATION_LOSSES)
<span class='lineno'> 295</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', title='(namedtuple)'>clone</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones', title='[(namedtuple)]'>clones</a>:
<span class='lineno'> 296</span>     with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', title='(namedtuple)'>clone</a>.scope):
<span class='lineno'> 297</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', title='None'>clone_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_grad', title='None'>clone_grad</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._optimize_clone', title='(?, ?, ?, ?) -> (None, None) / (None, (namedtuple), int, None) -> (None, None) / (?, ?, int, None) -> (None, None)'>_optimize_clone</a>(
<span class='lineno'> 298</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.optimizer', title='None'>optimizer</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone', title='(namedtuple)'>clone</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.num_clones', title='int'>num_clones</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', title='None'>regularization_losses</a>, **kwargs)
<span class='lineno'> 299</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', title='None'>clone_loss</a> is not None:
<span class='lineno'> 300</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', title='[None]'>clones_losses</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_loss', title='None'>clone_loss</a>)
<span class='lineno'> 301</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', title='[None]'>grads_and_vars</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clone_grad', title='None'>clone_grad</a>)
<span class='lineno'> 302</span>       # Only use regularization_losses for the first clone
<span class='lineno'> 303</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.regularization_losses', title='None'>regularization_losses</a> = None
<span class='lineno'> 304</span>   # Compute the total_loss summing all the clones_losses.
<span class='lineno'> 305</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.total_loss', title='?'>total_loss</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.clones_losses', title='[None]'>clones_losses</a>, name=&#39;total_loss&#39;)
<span class='lineno'> 306</span>   # Sum the gradients across clones.
<span class='lineno'> 307</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', title='[(?, ?)]'>grads_and_vars</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients', title='[None] -> [(?, ?)] / ? -> [(?, ?)]'>_sum_clones_gradients</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', title='[None]'>grads_and_vars</a>)
<span class='lineno'> 308</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.total_loss', title='?'>total_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones.grads_and_vars', title='[(?, ?)]'>grads_and_vars</a>
<span class='lineno'> 309</span> 
<span class='lineno'> 310</span> 
<span class='lineno'> 311</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy', title='(?, ?, None, None, None, bool) -> (namedtuple)'>deploy</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', title='?'>config</a>,
<span class='lineno'> 312</span>            <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.model_fn', title='?'>model_fn</a>,
<span class='lineno'> 313</span>            <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.args', title='None'>args</a>=None,
<span class='lineno'> 314</span>            <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.kwargs', title='None'>kwargs</a>=None,
<span class='lineno'> 315</span>            <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', title='None'>optimizer</a>=None,
<span class='lineno'> 316</span>            <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summarize_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summarize_gradients', title='bool'>summarize_gradients</a>=False):
<span class='lineno'> 317</span>   &quot;&quot;&quot;Deploys a Slim-constructed model across multiple clones.
<span class='lineno'> 318</span> 
<span class='lineno'> 319</span>   The deployment options are specified by the config object and support
<span class='lineno'> 320</span>   deploying one or several clones on different GPUs and one or several replicas
<span class='lineno'> 321</span>   of such clones.
<span class='lineno'> 322</span> 
<span class='lineno'> 323</span>   The argument `model_fn` is called `config.num_clones` times to create the
<span class='lineno'> 324</span>   model clones as `model_fn(*args, **kwargs)`.
<span class='lineno'> 325</span> 
<span class='lineno'> 326</span>   The optional argument `optimizer` is an `Optimizer` object.  If not `None`,
<span class='lineno'> 327</span>   the deployed model is configured for training with that optimizer.
<span class='lineno'> 328</span> 
<span class='lineno'> 329</span>   If `config` specifies deployment on multiple replicas then the default
<span class='lineno'> 330</span>   tensorflow device is set appropriatly for each call to `model_fn` and for the
<span class='lineno'> 331</span>   slim variable creation functions: model and global variables will be created
<span class='lineno'> 332</span>   on the `ps` device, the clone operations will be on the `worker` device.
<span class='lineno'> 333</span> 
<span class='lineno'> 334</span>   Args:
<span class='lineno'> 335</span>     config: A `DeploymentConfig` object.
<span class='lineno'> 336</span>     model_fn: A callable. Called as `model_fn(*args, **kwargs)`
<span class='lineno'> 337</span>     args: Optional list of arguments to pass to `model_fn`.
<span class='lineno'> 338</span>     kwargs: Optional list of keyword arguments to pass to `model_fn`.
<span class='lineno'> 339</span>     optimizer: Optional `Optimizer` object.  If passed the model is deployed
<span class='lineno'> 340</span>       for training with that optimizer.
<span class='lineno'> 341</span>     summarize_gradients: Whether or not add summaries to the gradients.
<span class='lineno'> 342</span> 
<span class='lineno'> 343</span>   Returns:
<span class='lineno'> 344</span>     A `DeployedModel` namedtuple.
<span class='lineno'> 345</span> 
<span class='lineno'> 346</span>   &quot;&quot;&quot;
<span class='lineno'> 347</span>   # Gather initial summaries.
<span class='lineno'> 348</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a> = set(tf.get_collection(tf.GraphKeys.SUMMARIES))
<span class='lineno'> 349</span> 
<span class='lineno'> 350</span>   # Create Clones.
<span class='lineno'> 351</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.create_clones', title='(DeploymentConfig, ? -> None, [?], None) -> [(namedtuple)] / (?, ?, None, None) -> [(namedtuple)]'>create_clones</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', title='?'>config</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.model_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.model_fn', title='?'>model_fn</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.args', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.args', title='None'>args</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.kwargs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.kwargs', title='None'>kwargs</a>)
<span class='lineno'> 352</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', title='(namedtuple)'>first_clone</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a>[0]
<span class='lineno'> 353</span> 
<span class='lineno'> 354</span>   # Gather update_ops from the first clone. These contain, for example,
<span class='lineno'> 355</span>   # the updates for the batch_norm variables created by model_fn.
<span class='lineno'> 356</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', title='?'>update_ops</a> = tf.get_collection(tf.GraphKeys.UPDATE_OPS, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', title='(namedtuple)'>first_clone</a>.scope)
<span class='lineno'> 357</span> 
<span class='lineno'> 358</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', title='None'>train_op</a> = None
<span class='lineno'> 359</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='None'>total_loss</a> = None
<span class='lineno'> 360</span>   with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', title='?'>config</a>.optimizer_device()):
<span class='lineno'> 361</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', title='None'>optimizer</a>:
<span class='lineno'> 362</span>       # Place the global step on the device storing the variables.
<span class='lineno'> 363</span>       with tf.device(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.config', title='?'>config</a>.variables_device()):
<span class='lineno'> 364</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.global_step', title='?'>global_step</a> = slim.get_or_create_global_step()
<span class='lineno'> 365</span> 
<span class='lineno'> 366</span>       # Compute the gradients for the clones.
<span class='lineno'> 367</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='?'>total_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', title='[(?, ?)]'>clones_gradients</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.optimize_clones', title='([(namedtuple)], None, None) -> (?, [(?, ?)]) / (?, ?, None) -> (?, [(?, ?)])'>optimize_clones</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', title='None'>optimizer</a>)
<span class='lineno'> 368</span> 
<span class='lineno'> 369</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', title='[(?, ?)]'>clones_gradients</a>:
<span class='lineno'> 370</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summarize_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summarize_gradients', title='bool'>summarize_gradients</a>:
<span class='lineno'> 371</span>           # Add summaries to the gradients.
<span class='lineno'> 372</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a></a> |= set(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries', title='[(?, ?)] -> [?] / ? -> [?]'>_add_gradients_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', title='[(?, ?)]'>clones_gradients</a>))
<span class='lineno'> 373</span> 
<span class='lineno'> 374</span>         # Create gradient updates.
<span class='lineno'> 375</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.grad_updates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.grad_updates', title='?'>grad_updates</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.optimizer', title='None'>optimizer</a>.apply_gradients(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_gradients', title='[(?, ?)]'>clones_gradients</a>,
<span class='lineno'> 376</span>                                                  global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.global_step', title='?'>global_step</a>)
<span class='lineno'> 377</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', title='?'>update_ops</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.grad_updates', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.grad_updates', title='?'>grad_updates</a>)
<span class='lineno'> 378</span> 
<span class='lineno'> 379</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_op', title='?'>update_op</a> = tf.group(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_ops', title='?'>update_ops</a>)
<span class='lineno'> 380</span>         with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.update_op', title='?'>update_op</a>]):
<span class='lineno'> 381</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', title='?'>train_op</a> = tf.identity(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='?'>total_loss</a>, name=&#39;train_op&#39;)
<span class='lineno'> 382</span>     else:
<span class='lineno'> 383</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', title='[None]'>clones_losses</a> = []
<span class='lineno'> 384</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', title='?'>regularization_losses</a> = tf.get_collection(
<span class='lineno'> 385</span>           tf.GraphKeys.REGULARIZATION_LOSSES)
<span class='lineno'> 386</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', title='(namedtuple)'>clone</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a>:
<span class='lineno'> 387</span>         with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', title='(namedtuple)'>clone</a>.scope):
<span class='lineno'> 388</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', title='None'>clone_loss</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._gather_clone_loss', title='(?, ?, ?) -> None / ((namedtuple), int, None) -> None / (?, int, None) -> None / ((namedtuple), int, ?) -> None'>_gather_clone_loss</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone', title='(namedtuple)'>clone</a>, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a>),
<span class='lineno'> 389</span>                                           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', title='None'>regularization_losses</a>)
<span class='lineno'> 390</span>           if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', title='None'>clone_loss</a> is not None:
<span class='lineno'> 391</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', title='[None]'>clones_losses</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clone_loss', title='None'>clone_loss</a>)
<span class='lineno'> 392</span>           # Only use regularization_losses for the first clone
<span class='lineno'> 393</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.regularization_losses', title='None'>regularization_losses</a> = None
<span class='lineno'> 394</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', title='[None]'>clones_losses</a>:
<span class='lineno'> 395</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='?'>total_loss</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones_losses', title='[None]'>clones_losses</a>, name=&#39;total_loss&#39;)
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>     # Add the summaries from the first clone. These contain the summaries
<span class='lineno'> 398</span>     # created by model_fn and either optimize_clones() or _gather_clone_loss().
<span class='lineno'> 399</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a></a> |= set(tf.get_collection(tf.GraphKeys.SUMMARIES,
<span class='lineno'> 400</span>                                        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.first_clone', title='(namedtuple)'>first_clone</a>.scope))
<span class='lineno'> 401</span> 
<span class='lineno'> 402</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='None'>total_loss</a> is not None:
<span class='lineno'> 403</span>       # Add total_loss to summary.
<span class='lineno'> 404</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a>.add(tf.summary.scalar(&#39;total_loss&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='None'>total_loss</a>))
<span class='lineno'> 405</span> 
<span class='lineno'> 406</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a>:
<span class='lineno'> 407</span>       # Merge all summaries together.
<span class='lineno'> 408</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', title='?'>summary_op</a> = tf.summary.merge(list(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summaries', title='?'>summaries</a>), name=&#39;summary_op&#39;)
<span class='lineno'> 409</span>     else:
<span class='lineno'> 410</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', title='None'>summary_op</a> = None
<span class='lineno'> 411</span> 
<span class='lineno'> 412</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeployedModel', title='<(namedtuple)>'>DeployedModel</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.train_op', title='None'>train_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.summary_op', title='None'>summary_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.total_loss', title='None'>total_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.deploy.clones', title='[(namedtuple)]'>clones</a>)
<span class='lineno'> 413</span> 
<span class='lineno'> 414</span> 
<span class='lineno'> 415</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients', title='[None] -> [(?, ?)] / ? -> [(?, ?)]'>_sum_clones_gradients</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.clone_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.clone_grads', title='[None]'>clone_grads</a>):
<span class='lineno'> 416</span>   &quot;&quot;&quot;Calculate the sum gradient for each shared variable across all clones.
<span class='lineno'> 417</span> 
<span class='lineno'> 418</span>   This function assumes that the clone_grads has been scaled appropriately by
<span class='lineno'> 419</span>   1 / num_clones.
<span class='lineno'> 420</span> 
<span class='lineno'> 421</span>   Args:
<span class='lineno'> 422</span>     clone_grads: A List of List of tuples (gradient, variable), one list per
<span class='lineno'> 423</span>     `Clone`.
<span class='lineno'> 424</span> 
<span class='lineno'> 425</span>   Returns:
<span class='lineno'> 426</span>      List of tuples of (gradient, variable) where the gradient has been summed
<span class='lineno'> 427</span>      across all clones.
<span class='lineno'> 428</span>   &quot;&quot;&quot;
<span class='lineno'> 429</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', title='[(?, ?)]'>sum_grads</a> = []
<span class='lineno'> 430</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', title='?'>grad_and_vars</a> in zip(*<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.clone_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.clone_grads', title='[None]'>clone_grads</a>):
<span class='lineno'> 431</span>     # Note that each grad_and_vars looks like the following:
<span class='lineno'> 432</span>     #   ((grad_var0_clone0, var0), ... (grad_varN_cloneN, varN))
<span class='lineno'> 433</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a> = []
<span class='lineno'> 434</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', title='?'>var</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', title='?'>grad_and_vars</a>[0][1]
<span class='lineno'> 435</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', title='?'>g</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.v', title='?'>v</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grad_and_vars', title='?'>grad_and_vars</a>:
<span class='lineno'> 436</span>       assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.v', title='?'>v</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', title='?'>var</a>
<span class='lineno'> 437</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', title='?'>g</a> is not None:
<span class='lineno'> 438</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.g', title='?'>g</a>)
<span class='lineno'> 439</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a>:
<span class='lineno'> 440</span>       if len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a>) &gt; 1:
<span class='lineno'> 441</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', title='?'>sum_grad</a> = tf.add_n(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a>, name=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', title='?'>var</a>.op.name + &#39;/sum_grads&#39;)
<span class='lineno'> 442</span>       else:
<span class='lineno'> 443</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', title='?'>sum_grad</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.grads', title='[?]'>grads</a>[0]
<span class='lineno'> 444</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', title='[(?, ?)]'>sum_grads</a>.append((<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grad', title='?'>sum_grad</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.var', title='?'>var</a>))
<span class='lineno'> 445</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._sum_clones_gradients.sum_grads', title='[(?, ?)]'>sum_grads</a>
<span class='lineno'> 446</span> 
<span class='lineno'> 447</span> 
<span class='lineno'> 448</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries', title='[(?, ?)] -> [?] / ? -> [?]'>_add_gradients_summaries</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grads_and_vars', title='[(?, ?)]'>grads_and_vars</a>):
<span class='lineno'> 449</span>   &quot;&quot;&quot;Add histogram summaries to gradients.
<span class='lineno'> 450</span> 
<span class='lineno'> 451</span>   Note: The summaries are also added to the SUMMARIES collection.
<span class='lineno'> 452</span> 
<span class='lineno'> 453</span>   Args:
<span class='lineno'> 454</span>     grads_and_vars: A list of gradient to variable pairs (tuples).
<span class='lineno'> 455</span> 
<span class='lineno'> 456</span>   Returns:
<span class='lineno'> 457</span>     The _list_ of the added summaries for grads_and_vars.
<span class='lineno'> 458</span>   &quot;&quot;&quot;
<span class='lineno'> 459</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', title='[?]'>summaries</a> = []
<span class='lineno'> 460</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'>grad</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', title='?'>var</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grads_and_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grads_and_vars', title='[(?, ?)]'>grads_and_vars</a>:
<span class='lineno'> 461</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'>grad</a> is not None:
<span class='lineno'> 462</span>       if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'>grad</a></a>, tf.IndexedSlices):
<span class='lineno'> 463</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', title='?'>grad_values</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'>grad</a>.values
<span class='lineno'> 464</span>       else:
<span class='lineno'> 465</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', title='?'>grad_values</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad', title='?'>grad</a>
<span class='lineno'> 466</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', title='[?]'>summaries</a>.append(tf.summary.histogram(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', title='?'>var</a>.op.name + &#39;:gradient&#39;,
<span class='lineno'> 467</span>                                             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', title='?'>grad_values</a>))
<span class='lineno'> 468</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', title='[?]'>summaries</a>.append(tf.summary.histogram(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', title='?'>var</a>.op.name + &#39;:gradient_norm&#39;,
<span class='lineno'> 469</span>                                             tf.global_norm([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.grad_values', title='?'>grad_values</a>])))
<span class='lineno'> 470</span>     else:
<span class='lineno'> 471</span>       tf.logging.info(&#39;Var %s has no gradient&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.var', title='?'>var</a>.op.name)
<span class='lineno'> 472</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy._add_gradients_summaries.summaries', title='[?]'>summaries</a>
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span> 
<span class='lineno'> 475</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig', title='<DeploymentConfig>'>DeploymentConfig</a>(object):
<span class='lineno'> 476</span>   &quot;&quot;&quot;Configuration for deploying a model with `deploy()`.
<span class='lineno'> 477</span> 
<span class='lineno'> 478</span>   You can pass an instance of this class to `deploy()` to specify exactly
<span class='lineno'> 479</span>   how to deploy the model to build.  If you do not pass one, an instance built
<span class='lineno'> 480</span>   from the default deployment_hparams will be used.
<span class='lineno'> 481</span>   &quot;&quot;&quot;
<span class='lineno'> 482</span> 
<span class='lineno'> 483</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>,
<span class='lineno'> 484</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_clones', title='int'>num_clones</a>=1,
<span class='lineno'> 485</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.clone_on_cpu', title='bool'>clone_on_cpu</a>=False,
<span class='lineno'> 486</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', title='int'>replica_id</a>=0,
<span class='lineno'> 487</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', title='int'>num_replicas</a>=1,
<span class='lineno'> 488</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a>=0,
<span class='lineno'> 489</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', title='str'>worker_job_name</a>=&#39;worker&#39;,
<span class='lineno'> 490</span>                <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', title='str'>ps_job_name</a>=&#39;ps&#39;):
<span class='lineno'> 491</span>     &quot;&quot;&quot;Create a DeploymentConfig.
<span class='lineno'> 492</span> 
<span class='lineno'> 493</span>     The config describes how to deploy a model across multiple clones and
<span class='lineno'> 494</span>     replicas.  The model will be replicated `num_clones` times in each replica.
<span class='lineno'> 495</span>     If `clone_on_cpu` is True, each clone will placed on CPU.
<span class='lineno'> 496</span> 
<span class='lineno'> 497</span>     If `num_replicas` is 1, the model is deployed via a single process.  In that
<span class='lineno'> 498</span>     case `worker_device`, `num_ps_tasks`, and `ps_device` are ignored.
<span class='lineno'> 499</span> 
<span class='lineno'> 500</span>     If `num_replicas` is greater than 1, then `worker_device` and `ps_device`
<span class='lineno'> 501</span>     must specify TensorFlow devices for the `worker` and `ps` jobs and
<span class='lineno'> 502</span>     `num_ps_tasks` must be positive.
<span class='lineno'> 503</span> 
<span class='lineno'> 504</span>     Args:
<span class='lineno'> 505</span>       num_clones: Number of model clones to deploy in each replica.
<span class='lineno'> 506</span>       clone_on_cpu: If True clones would be placed on CPU.
<span class='lineno'> 507</span>       replica_id: Integer.  Index of the replica for which the model is
<span class='lineno'> 508</span>         deployed.  Usually 0 for the chief replica.
<span class='lineno'> 509</span>       num_replicas: Number of replicas to use.
<span class='lineno'> 510</span>       num_ps_tasks: Number of tasks for the `ps` job. 0 to not use replicas.
<span class='lineno'> 511</span>       worker_job_name: A name for the worker job.
<span class='lineno'> 512</span>       ps_job_name: A name for the parameter server job.
<span class='lineno'> 513</span> 
<span class='lineno'> 514</span>     Raises:
<span class='lineno'> 515</span>       ValueError: If the arguments are invalid.
<span class='lineno'> 516</span>     &quot;&quot;&quot;
<span class='lineno'> 517</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', title='int'>num_replicas</a> &gt; 1:
<span class='lineno'> 518</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a> &lt; 1:
<span class='lineno'> 519</span>         raise ValueError(&#39;When using replicas num_ps_tasks must be positive&#39;)
<span class='lineno'> 520</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', title='int'>num_replicas</a> &gt; 1 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a> &gt; 0:
<span class='lineno'> 521</span>       if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', title='str'>worker_job_name</a>:
<span class='lineno'> 522</span>         raise ValueError(&#39;Must specify worker_job_name when using replicas&#39;)
<span class='lineno'> 523</span>       if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', title='str'>ps_job_name</a>:
<span class='lineno'> 524</span>         raise ValueError(&#39;Must specify ps_job_name when using parameter server&#39;)
<span class='lineno'> 525</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', title='int'>replica_id</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', title='int'>num_replicas</a>:
<span class='lineno'> 526</span>       raise ValueError(&#39;replica_id must be less than num_replicas&#39;)
<span class='lineno'> 527</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_clones', title='int'>num_clones</a>
<span class='lineno'> 528</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', title='bool'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', title='bool'>_clone_on_cpu</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.clone_on_cpu', title='bool'>clone_on_cpu</a>
<span class='lineno'> 529</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', title='int'>_replica_id</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.replica_id', title='int'>replica_id</a>
<span class='lineno'> 530</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', title='int'>_num_replicas</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_replicas', title='int'>num_replicas</a>
<span class='lineno'> 531</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a>
<span class='lineno'> 532</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', title='str'>_ps_device</a></a> = &#39;/job:&#39; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.ps_job_name', title='str'>ps_job_name</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a> &gt; 0 else &#39;&#39;
<span class='lineno'> 533</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'>_worker_device</a></a> = &#39;/job:&#39; + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.worker_job_name', title='str'>worker_job_name</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.__init__.num_ps_tasks', title='int'>num_ps_tasks</a> &gt; 0 else &#39;&#39;
<span class='lineno'> 534</span> 
<span class='lineno'> 535</span>   @property
<span class='lineno'> 536</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones', title='DeploymentConfig -> int'>num_clones</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 537</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_clones.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a>
<span class='lineno'> 538</span> 
<span class='lineno'> 539</span>   @property
<span class='lineno'> 540</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu', title='DeploymentConfig -> bool'>clone_on_cpu</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 541</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_on_cpu.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', title='bool'>_clone_on_cpu</a>
<span class='lineno'> 542</span> 
<span class='lineno'> 543</span>   @property
<span class='lineno'> 544</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id', title='DeploymentConfig -> int'>replica_id</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 545</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.replica_id.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._replica_id', title='int'>_replica_id</a>
<span class='lineno'> 546</span> 
<span class='lineno'> 547</span>   @property
<span class='lineno'> 548</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas', title='DeploymentConfig -> int'>num_replicas</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 549</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_replicas.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_replicas', title='int'>_num_replicas</a>
<span class='lineno'> 550</span> 
<span class='lineno'> 551</span>   @property
<span class='lineno'> 552</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks', title='DeploymentConfig -> int'>num_ps_tasks</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 553</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.num_ps_tasks.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a>
<span class='lineno'> 554</span> 
<span class='lineno'> 555</span>   @property
<span class='lineno'> 556</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device', title='DeploymentConfig -> str'>ps_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 557</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.ps_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', title='str'>_ps_device</a>
<span class='lineno'> 558</span> 
<span class='lineno'> 559</span>   @property
<span class='lineno'> 560</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device', title='DeploymentConfig -> str'>worker_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 561</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.worker_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'>_worker_device</a>
<span class='lineno'> 562</span> 
<span class='lineno'> 563</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device', title='DeploymentConfig -> ? -> ?'>caching_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 564</span>     &quot;&quot;&quot;Returns the device to use for caching variables.
<span class='lineno'> 565</span> 
<span class='lineno'> 566</span>     Variables are cached on the worker CPU when using replicas.
<span class='lineno'> 567</span> 
<span class='lineno'> 568</span>     Returns:
<span class='lineno'> 569</span>       A device string or None if the variables do not need to be cached.
<span class='lineno'> 570</span>     &quot;&quot;&quot;
<span class='lineno'> 571</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a> &gt; 0:
<span class='lineno'> 572</span>       return lambda <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.lambda%96.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.lambda%96.op', title='?'>op</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.lambda%96.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.caching_device.lambda%96.op', title='?'>op</a>.device
<span class='lineno'> 573</span>     else:
<span class='lineno'> 574</span>       return None
<span class='lineno'> 575</span> 
<span class='lineno'> 576</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device', title='(DeploymentConfig, ?) -> str / (DeploymentConfig, int) -> str'>clone_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', title='DeploymentConfig'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', title='int'>clone_index</a>):
<span class='lineno'> 577</span>     &quot;&quot;&quot;Device used to create the clone and all the ops inside the clone.
<span class='lineno'> 578</span> 
<span class='lineno'> 579</span>     Args:
<span class='lineno'> 580</span>       clone_index: Int, representing the clone_index.
<span class='lineno'> 581</span> 
<span class='lineno'> 582</span>     Returns:
<span class='lineno'> 583</span>       A value suitable for `tf.device()`.
<span class='lineno'> 584</span> 
<span class='lineno'> 585</span>     Raises:
<span class='lineno'> 586</span>       ValueError: if `clone_index` is greater or equal to the number of clones&quot;.
<span class='lineno'> 587</span>     &quot;&quot;&quot;
<span class='lineno'> 588</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', title='int'>clone_index</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a>:
<span class='lineno'> 589</span>       raise ValueError(&#39;clone_index must be less than num_clones&#39;)
<span class='lineno'> 590</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'>device</a> = &#39;&#39;
<span class='lineno'> 591</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a> &gt; 0:
<span class='lineno'> 592</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'>device</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'>_worker_device</a>
<span class='lineno'> 593</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._clone_on_cpu', title='bool'>_clone_on_cpu</a>:
<span class='lineno'> 594</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'>device</a></a> += &#39;/device:CPU:0&#39;
<span class='lineno'> 595</span>     else:
<span class='lineno'> 596</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'>device</a></a> += &#39;/device:GPU:%d&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.clone_index', title='int'>clone_index</a>
<span class='lineno'> 597</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_device.device', title='str'>device</a>
<span class='lineno'> 598</span> 
<span class='lineno'> 599</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope', title='(DeploymentConfig, int) -> str / (DeploymentConfig, ?) -> str'>clone_scope</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', title='DeploymentConfig'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', title='int'>clone_index</a>):
<span class='lineno'> 600</span>     &quot;&quot;&quot;Name scope to create the clone.
<span class='lineno'> 601</span> 
<span class='lineno'> 602</span>     Args:
<span class='lineno'> 603</span>       clone_index: Int, representing the clone_index.
<span class='lineno'> 604</span> 
<span class='lineno'> 605</span>     Returns:
<span class='lineno'> 606</span>       A name_scope suitable for `tf.name_scope()`.
<span class='lineno'> 607</span> 
<span class='lineno'> 608</span>     Raises:
<span class='lineno'> 609</span>       ValueError: if `clone_index` is greater or equal to the number of clones&quot;.
<span class='lineno'> 610</span>     &quot;&quot;&quot;
<span class='lineno'> 611</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', title='int'>clone_index</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a>:
<span class='lineno'> 612</span>       raise ValueError(&#39;clone_index must be less than num_clones&#39;)
<span class='lineno'> 613</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', title='str'>scope</a> = &#39;&#39;
<span class='lineno'> 614</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a> &gt; 1:
<span class='lineno'> 615</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', title='str'>scope</a> = &#39;clone_%d&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.clone_index', title='int'>clone_index</a>
<span class='lineno'> 616</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.clone_scope.scope', title='str'>scope</a>
<span class='lineno'> 617</span> 
<span class='lineno'> 618</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device', title='DeploymentConfig -> str'>optimizer_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 619</span>     &quot;&quot;&quot;Device to use with the optimizer.
<span class='lineno'> 620</span> 
<span class='lineno'> 621</span>     Returns:
<span class='lineno'> 622</span>       A value suitable for `tf.device()`.
<span class='lineno'> 623</span>     &quot;&quot;&quot;
<span class='lineno'> 624</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a> &gt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_clones', title='int'>_num_clones</a> &gt; 0:
<span class='lineno'> 625</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.optimizer_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'>_worker_device</a> + &#39;/device:CPU:0&#39;
<span class='lineno'> 626</span>     else:
<span class='lineno'> 627</span>       return &#39;&#39;
<span class='lineno'> 628</span> 
<span class='lineno'> 629</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device', title='DeploymentConfig -> str'>inputs_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 630</span>     &quot;&quot;&quot;Device to use to build the inputs.
<span class='lineno'> 631</span> 
<span class='lineno'> 632</span>     Returns:
<span class='lineno'> 633</span>       A value suitable for `tf.device()`.
<span class='lineno'> 634</span>     &quot;&quot;&quot;
<span class='lineno'> 635</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'>device</a> = &#39;&#39;
<span class='lineno'> 636</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a> &gt; 0:
<span class='lineno'> 637</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'>device</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._worker_device', title='str'>_worker_device</a>
<span class='lineno'> 638</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'>device</a></a> += &#39;/device:CPU:0&#39;
<span class='lineno'> 639</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.inputs_device.device', title='str'>device</a>
<span class='lineno'> 640</span> 
<span class='lineno'> 641</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device', title='DeploymentConfig -> {(_PSDeviceChooser, ?) -> None | str}'>variables_device</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', title='DeploymentConfig'>self</a>):
<span class='lineno'> 642</span>     &quot;&quot;&quot;Returns the device to use for variables created inside the clone.
<span class='lineno'> 643</span> 
<span class='lineno'> 644</span>     Returns:
<span class='lineno'> 645</span>       A value suitable for `tf.device()`.
<span class='lineno'> 646</span>     &quot;&quot;&quot;
<span class='lineno'> 647</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'>device</a> = &#39;&#39;
<span class='lineno'> 648</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a> &gt; 0:
<span class='lineno'> 649</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'>device</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._ps_device', title='str'>_ps_device</a>
<span class='lineno'> 650</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'>device</a></a> += &#39;/device:CPU:0&#39;
<span class='lineno'> 651</span> 
<span class='lineno'> 652</span>     class <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser', title='<_PSDeviceChooser>'>_PSDeviceChooser</a>(object):
<span class='lineno'> 653</span>       &quot;&quot;&quot;Slim device chooser for variables when using PS.&quot;&quot;&quot;
<span class='lineno'> 654</span> 
<span class='lineno'> 655</span>       def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', title='_PSDeviceChooser'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.device', title='str'>device</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.tasks', title='int'>tasks</a>):
<span class='lineno'> 656</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', title='_PSDeviceChooser'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._device', title='str'>_device</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.device', title='str'>device</a>
<span class='lineno'> 657</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', title='_PSDeviceChooser'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._tasks', title='int'>_tasks</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.tasks', title='int'>tasks</a>
<span class='lineno'> 658</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.__init__.self', title='_PSDeviceChooser'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', title='int'>_task</a> = 0
<span class='lineno'> 659</span> 
<span class='lineno'> 660</span>       def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose', title='(_PSDeviceChooser, ?) -> None'>choose</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>):
<span class='lineno'> 661</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>.device:
<span class='lineno'> 662</span>           return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>.device
<span class='lineno'> 663</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.node_def', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.node_def', title='?'>node_def</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a> if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>, tf.NodeDef) else <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>.node_def
<span class='lineno'> 664</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.node_def', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.node_def', title='?'>node_def</a>.op.startswith(&#39;Variable&#39;):
<span class='lineno'> 665</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.t', title='int'>t</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', title='int'>_task</a>
<span class='lineno'> 666</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', title='int'>_task</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._task', title='int'>_task</a> + 1) % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._tasks', title='int'>_tasks</a>
<span class='lineno'> 667</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.d', title='?'>d</a> = &#39;%s/task:%d&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.self', title='_PSDeviceChooser'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser._device', title='str'>_device</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.t', title='int'>t</a>)
<span class='lineno'> 668</span>           return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.d', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.d', title='?'>d</a>
<span class='lineno'> 669</span>         else:
<span class='lineno'> 670</span>           return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose.op', title='?'>op</a>.device
<span class='lineno'> 671</span> 
<span class='lineno'> 672</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a>:
<span class='lineno'> 673</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'>device</a>
<span class='lineno'> 674</span>     else:
<span class='lineno'> 675</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.chooser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.chooser', title='_PSDeviceChooser'>chooser</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser', title='<_PSDeviceChooser>'>_PSDeviceChooser</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.device', title='str'>device</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.self', title='DeploymentConfig'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig._num_ps_tasks', title='int'>_num_ps_tasks</a>)
<span class='lineno'> 676</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.chooser', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device.chooser', title='_PSDeviceChooser'>chooser</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.slim.deployment.model_deploy.DeploymentConfig.variables_device._PSDeviceChooser.choose', title='(_PSDeviceChooser, ?) -> None'>choose</a>
</pre></td></tr></table></body></html>