<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/maskgan/train_mask_gan.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN'>MODE_TRAIN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL'>MODE_TRAIN_EVAL</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION'>MODE_VALIDATION</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST'>MODE_TEST</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS'>FLAGS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams'>create_hparams</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN'>create_MaskGAN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average'>compute_geometric_average</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average'>compute_arithmetic_average</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator'>get_iterator</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model'>train_model</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once'>evaluate_once</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model'>evaluate_model</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main', xid='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main'>main</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2017 The TensorFlow Authors All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> &quot;&quot;&quot;Launch example:
<span class='lineno'>  17</span> 
<span class='lineno'>  18</span> [IMDB]
<span class='lineno'>  19</span> python train_mask_gan.py --data_dir
<span class='lineno'>  20</span> /tmp/imdb  --data_set imdb  --batch_size 128
<span class='lineno'>  21</span> --sequence_length 20  --base_directory /tmp/maskGAN_v0.01
<span class='lineno'>  22</span> --hparams=&quot;gen_rnn_size=650,gen_num_layers=2,dis_rnn_size=650,dis_num_layers=2
<span class='lineno'>  23</span> ,critic_learning_rate=0.0009756,dis_learning_rate=0.0000585,
<span class='lineno'>  24</span> dis_train_iterations=8,gen_learning_rate=0.0016624,
<span class='lineno'>  25</span> gen_full_learning_rate_steps=1e9,gen_learning_rate_decay=0.999999,
<span class='lineno'>  26</span> rl_discount_rate=0.8835659&quot;  --mode TRAIN  --max_steps 1000000
<span class='lineno'>  27</span> --generator_model seq2seq_vd  --discriminator_model seq2seq_vd
<span class='lineno'>  28</span> --is_present_rate 0.5  --summaries_every 25  --print_every 25
<span class='lineno'>  29</span>  --max_num_to_print=3 --generator_optimizer=adam
<span class='lineno'>  30</span>  --seq2seq_share_embedding=True --baseline_method=critic
<span class='lineno'>  31</span>  --attention_option=luong --n_gram_eval=4 --mask_strategy=contiguous
<span class='lineno'>  32</span>  --gen_training_strategy=reinforce --dis_pretrain_steps=100
<span class='lineno'>  33</span>  --perplexity_threshold=1000000
<span class='lineno'>  34</span>  --dis_share_embedding=True  --maskgan_ckpt
<span class='lineno'>  35</span>  /tmp/model.ckpt-171091
<span class='lineno'>  36</span> &quot;&quot;&quot;
<span class='lineno'>  37</span> 
<span class='lineno'>  38</span> from __future__ import absolute_import
<span class='lineno'>  39</span> from __future__ import division
<span class='lineno'>  40</span> from __future__ import print_function
<span class='lineno'>  41</span> 
<span class='lineno'>  42</span> import collections
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span> from functools import partial
<span class='lineno'>  45</span> import os
<span class='lineno'>  46</span> import time
<span class='lineno'>  47</span> # Dependency imports
<span class='lineno'>  48</span> 
<span class='lineno'>  49</span> import numpy as np
<span class='lineno'>  50</span> from six.moves import xrange
<span class='lineno'>  51</span> import tensorflow as tf
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span> import <a href='pretrain_mask_gan.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', title='pretrain_mask_gan'>pretrain_mask_gan</a>
<span class='lineno'>  54</span> from <a href='data/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data', title='data'>data</a> import <a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', title='imdb_loader'>imdb_loader</a>
<span class='lineno'>  55</span> from <a href='data/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data', title='data'>data</a> import <a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', title='ptb_loader'>ptb_loader</a>
<span class='lineno'>  56</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a> import <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>
<span class='lineno'>  57</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a> import <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>
<span class='lineno'>  58</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a> import <a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', title='model_losses'>model_losses</a>
<span class='lineno'>  59</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a> import <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>
<span class='lineno'>  60</span> 
<span class='lineno'>  61</span> # Data.
<span class='lineno'>  62</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='{model_utils | model_utils}'>model_utils</a> import model_utils
<span class='lineno'>  63</span> 
<span class='lineno'>  64</span> from <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a> import <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>
<span class='lineno'>  65</span> from <a href='models/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models', title='models'>models</a> import <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>
<span class='lineno'>  66</span> 
<span class='lineno'>  67</span> from <a href='models/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models', title='models'>models</a> import <a href='models/rollout.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', title='rollout'>rollout</a>
<span class='lineno'>  68</span> 
<span class='lineno'>  69</span> np.set_printoptions(precision=3)
<span class='lineno'>  70</span> np.set_printoptions(suppress=True)
<span class='lineno'>  71</span> 
<span class='lineno'>  72</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', title='str'>MODE_TRAIN</a> = &#39;TRAIN&#39;
<span class='lineno'>  73</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a> = &#39;TRAIN_EVAL&#39;
<span class='lineno'>  74</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a> = &#39;VALIDATION&#39;
<span class='lineno'>  75</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', title='str'>MODE_TEST</a> = &#39;TEST&#39;
<span class='lineno'>  76</span> 
<span class='lineno'>  77</span> ## Binary and setup FLAGS.
<span class='lineno'>  78</span> tf.app.flags.DEFINE_enum(
<span class='lineno'>  79</span>     &#39;mode&#39;, &#39;TRAIN&#39;, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', title='str'>MODE_TRAIN</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', title='str'>MODE_TEST</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a>],
<span class='lineno'>  80</span>     &#39;What this binary will do.&#39;)
<span class='lineno'>  81</span> tf.app.flags.DEFINE_string(&#39;master&#39;, &#39;&#39;,
<span class='lineno'>  82</span>                            &quot;&quot;&quot;Name of the TensorFlow master to use.&quot;&quot;&quot;)
<span class='lineno'>  83</span> tf.app.flags.DEFINE_string(&#39;eval_master&#39;, &#39;&#39;,
<span class='lineno'>  84</span>                            &quot;&quot;&quot;Name prefix of the Tensorflow eval master.&quot;&quot;&quot;)
<span class='lineno'>  85</span> tf.app.flags.DEFINE_integer(&#39;task&#39;, 0,
<span class='lineno'>  86</span>                             &quot;&quot;&quot;Task id of the replica running the training.&quot;&quot;&quot;)
<span class='lineno'>  87</span> tf.app.flags.DEFINE_integer(&#39;ps_tasks&#39;, 0, &quot;&quot;&quot;Number of tasks in the ps job.
<span class='lineno'>  88</span>                             If 0 no ps job is used.&quot;&quot;&quot;)
<span class='lineno'>  89</span> 
<span class='lineno'>  90</span> ## General FLAGS.
<span class='lineno'>  91</span> tf.app.flags.DEFINE_string(
<span class='lineno'>  92</span>     &#39;hparams&#39;, &#39;&#39;, &#39;Comma separated list of name=value hyperparameter pairs.&#39;)
<span class='lineno'>  93</span> tf.app.flags.DEFINE_integer(&#39;batch_size&#39;, 20, &#39;The batch size.&#39;)
<span class='lineno'>  94</span> tf.app.flags.DEFINE_integer(&#39;vocab_size&#39;, 10000, &#39;The vocabulary size.&#39;)
<span class='lineno'>  95</span> tf.app.flags.DEFINE_integer(&#39;sequence_length&#39;, 20, &#39;The sequence length.&#39;)
<span class='lineno'>  96</span> tf.app.flags.DEFINE_integer(&#39;max_steps&#39;, 1000000,
<span class='lineno'>  97</span>                             &#39;Maximum number of steps to run.&#39;)
<span class='lineno'>  98</span> tf.app.flags.DEFINE_string(
<span class='lineno'>  99</span>     &#39;mask_strategy&#39;, &#39;random&#39;, &#39;Strategy for masking the words.  Determine the &#39;
<span class='lineno'> 100</span>     &#39;characterisitics of how the words are dropped out.  One of &#39;
<span class='lineno'> 101</span>     &quot;[&#39;contiguous&#39;, &#39;random&#39;].&quot;)
<span class='lineno'> 102</span> tf.app.flags.DEFINE_float(&#39;is_present_rate&#39;, 0.5,
<span class='lineno'> 103</span>                           &#39;Percent of tokens present in the forward sequence.&#39;)
<span class='lineno'> 104</span> tf.app.flags.DEFINE_float(&#39;is_present_rate_decay&#39;, None, &#39;Decay rate for the &#39;
<span class='lineno'> 105</span>                           &#39;percent of words that are real (are present).&#39;)
<span class='lineno'> 106</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 107</span>     &#39;generator_model&#39;, &#39;seq2seq&#39;,
<span class='lineno'> 108</span>     &quot;Type of Generator model.  One of [&#39;rnn&#39;, &#39;seq2seq&#39;, &#39;seq2seq_zaremba&#39;,&quot;
<span class='lineno'> 109</span>     &quot;&#39;rnn_zaremba&#39;, &#39;rnn_nas&#39;, &#39;seq2seq_nas&#39;]&quot;)
<span class='lineno'> 110</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 111</span>     &#39;attention_option&#39;, None,
<span class='lineno'> 112</span>     &quot;Attention mechanism.  One of [None, &#39;luong&#39;, &#39;bahdanau&#39;]&quot;)
<span class='lineno'> 113</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 114</span>     &#39;discriminator_model&#39;, &#39;bidirectional&#39;,
<span class='lineno'> 115</span>     &quot;Type of Discriminator model.  One of [&#39;cnn&#39;, &#39;rnn&#39;, &#39;bidirectional&#39;, &quot;
<span class='lineno'> 116</span>     &quot;&#39;rnn_zaremba&#39;, &#39;bidirectional_zaremba&#39;, &#39;rnn_nas&#39;, &#39;rnn_vd&#39;, &#39;seq2seq_vd&#39;]&quot;
<span class='lineno'> 117</span> )
<span class='lineno'> 118</span> tf.app.flags.DEFINE_boolean(&#39;seq2seq_share_embedding&#39;, False,
<span class='lineno'> 119</span>                             &#39;Whether to share the &#39;
<span class='lineno'> 120</span>                             &#39;embeddings between the encoder and decoder.&#39;)
<span class='lineno'> 121</span> tf.app.flags.DEFINE_boolean(
<span class='lineno'> 122</span>     &#39;dis_share_embedding&#39;, False, &#39;Whether to share the &#39;
<span class='lineno'> 123</span>     &#39;embeddings between the generator and discriminator.&#39;)
<span class='lineno'> 124</span> tf.app.flags.DEFINE_boolean(&#39;dis_update_share_embedding&#39;, False, &#39;Whether the &#39;
<span class='lineno'> 125</span>                             &#39;discriminator should update the shared embedding.&#39;)
<span class='lineno'> 126</span> tf.app.flags.DEFINE_boolean(&#39;use_gen_mode&#39;, False,
<span class='lineno'> 127</span>                             &#39;Use the mode of the generator &#39;
<span class='lineno'> 128</span>                             &#39;to produce samples.&#39;)
<span class='lineno'> 129</span> tf.app.flags.DEFINE_boolean(&#39;critic_update_dis_vars&#39;, False,
<span class='lineno'> 130</span>                             &#39;Whether the critic &#39;
<span class='lineno'> 131</span>                             &#39;updates the discriminator variables.&#39;)
<span class='lineno'> 132</span> 
<span class='lineno'> 133</span> ## Training FLAGS.
<span class='lineno'> 134</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 135</span>     &#39;gen_training_strategy&#39;, &#39;reinforce&#39;,
<span class='lineno'> 136</span>     &quot;Method for training the Generator. One of [&#39;cross_entropy&#39;, &#39;reinforce&#39;]&quot;)
<span class='lineno'> 137</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 138</span>     &#39;generator_optimizer&#39;, &#39;adam&#39;,
<span class='lineno'> 139</span>     &quot;Type of Generator optimizer.  One of [&#39;sgd&#39;, &#39;adam&#39;]&quot;)
<span class='lineno'> 140</span> tf.app.flags.DEFINE_float(&#39;grad_clipping&#39;, 10., &#39;Norm for gradient clipping.&#39;)
<span class='lineno'> 141</span> tf.app.flags.DEFINE_float(&#39;advantage_clipping&#39;, 5., &#39;Clipping for advantages.&#39;)
<span class='lineno'> 142</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 143</span>     &#39;baseline_method&#39;, None,
<span class='lineno'> 144</span>     &quot;Approach for baseline.  One of [&#39;critic&#39;, &#39;dis_batch&#39;, &#39;ema&#39;, None]&quot;)
<span class='lineno'> 145</span> tf.app.flags.DEFINE_float(&#39;perplexity_threshold&#39;, 15000,
<span class='lineno'> 146</span>                           &#39;Limit for perplexity before terminating job.&#39;)
<span class='lineno'> 147</span> tf.app.flags.DEFINE_float(&#39;zoneout_drop_prob&#39;, 0.1,
<span class='lineno'> 148</span>                           &#39;Probability for dropping parameter for zoneout.&#39;)
<span class='lineno'> 149</span> tf.app.flags.DEFINE_float(&#39;keep_prob&#39;, 0.5,
<span class='lineno'> 150</span>                           &#39;Probability for keeping parameter for dropout.&#39;)
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span> ## Logging and evaluation FLAGS.
<span class='lineno'> 153</span> tf.app.flags.DEFINE_integer(&#39;print_every&#39;, 250,
<span class='lineno'> 154</span>                             &#39;Frequency to print and log the &#39;
<span class='lineno'> 155</span>                             &#39;outputs of the model.&#39;)
<span class='lineno'> 156</span> tf.app.flags.DEFINE_integer(&#39;max_num_to_print&#39;, 5,
<span class='lineno'> 157</span>                             &#39;Number of samples to log/print.&#39;)
<span class='lineno'> 158</span> tf.app.flags.DEFINE_boolean(&#39;print_verbose&#39;, False, &#39;Whether to print in full.&#39;)
<span class='lineno'> 159</span> tf.app.flags.DEFINE_integer(&#39;summaries_every&#39;, 100,
<span class='lineno'> 160</span>                             &#39;Frequency to compute summaries.&#39;)
<span class='lineno'> 161</span> tf.app.flags.DEFINE_boolean(&#39;eval_language_model&#39;, False,
<span class='lineno'> 162</span>                             &#39;Whether to evaluate on &#39;
<span class='lineno'> 163</span>                             &#39;all words as in language modeling.&#39;)
<span class='lineno'> 164</span> tf.app.flags.DEFINE_float(&#39;eval_interval_secs&#39;, 60,
<span class='lineno'> 165</span>                           &#39;Delay for evaluating model.&#39;)
<span class='lineno'> 166</span> tf.app.flags.DEFINE_integer(
<span class='lineno'> 167</span>     &#39;n_gram_eval&#39;, 4, &quot;&quot;&quot;The degree of the n-grams to use for evaluation.&quot;&quot;&quot;)
<span class='lineno'> 168</span> tf.app.flags.DEFINE_integer(
<span class='lineno'> 169</span>     &#39;epoch_size_override&#39;, None,
<span class='lineno'> 170</span>     &#39;If an integer, this dictates the size of the epochs and will potentially &#39;
<span class='lineno'> 171</span>     &#39;not iterate over all the data.&#39;)
<span class='lineno'> 172</span> tf.app.flags.DEFINE_integer(&#39;eval_epoch_size_override&#39;, None,
<span class='lineno'> 173</span>                             &#39;Number of evaluation steps.&#39;)
<span class='lineno'> 174</span> 
<span class='lineno'> 175</span> ## Directories and checkpoints.
<span class='lineno'> 176</span> tf.app.flags.DEFINE_string(&#39;base_directory&#39;, &#39;/tmp/maskGAN_v0.00&#39;,
<span class='lineno'> 177</span>                            &#39;Base directory for the logging, events and graph.&#39;)
<span class='lineno'> 178</span> tf.app.flags.DEFINE_string(&#39;data_set&#39;, &#39;ptb&#39;, &#39;Data set to operate on.  One of&#39;
<span class='lineno'> 179</span>                            &quot;[&#39;ptb&#39;, &#39;imdb&#39;]&quot;)
<span class='lineno'> 180</span> tf.app.flags.DEFINE_string(&#39;data_dir&#39;, &#39;/tmp/data/ptb&#39;,
<span class='lineno'> 181</span>                            &#39;Directory for the training data.&#39;)
<span class='lineno'> 182</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 183</span>     &#39;language_model_ckpt_dir&#39;, None,
<span class='lineno'> 184</span>     &#39;Directory storing checkpoints to initialize the model.  Pretrained models&#39;
<span class='lineno'> 185</span>     &#39;are stored at /tmp/maskGAN/pretrained/&#39;)
<span class='lineno'> 186</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 187</span>     &#39;language_model_ckpt_dir_reversed&#39;, None,
<span class='lineno'> 188</span>     &#39;Directory storing checkpoints of reversed models to initialize the model.&#39;
<span class='lineno'> 189</span>     &#39;Pretrained models stored at&#39;
<span class='lineno'> 190</span>     &#39;are stored at  /tmp/PTB/pretrained_reversed&#39;)
<span class='lineno'> 191</span> tf.app.flags.DEFINE_string(
<span class='lineno'> 192</span>     &#39;maskgan_ckpt&#39;, None,
<span class='lineno'> 193</span>     &#39;Override which checkpoint file to use to restore the &#39;
<span class='lineno'> 194</span>     &#39;model.  A pretrained seq2seq_zaremba model is stored at &#39;
<span class='lineno'> 195</span>     &#39;/tmp/maskGAN/pretrain/seq2seq_zaremba/train/model.ckpt-64912&#39;)
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span> tf.app.flags.DEFINE_boolean(&#39;wasserstein_objective&#39;, False,
<span class='lineno'> 198</span>                             &#39;(DEPRECATED) Whether to use the WGAN training.&#39;)
<span class='lineno'> 199</span> tf.app.flags.DEFINE_integer(&#39;num_rollouts&#39;, 1,
<span class='lineno'> 200</span>                             &#39;The number of rolled out predictions to make.&#39;)
<span class='lineno'> 201</span> tf.app.flags.DEFINE_float(&#39;c_lower&#39;, -0.01, &#39;Lower bound for weights.&#39;)
<span class='lineno'> 202</span> tf.app.flags.DEFINE_float(&#39;c_upper&#39;, 0.01, &#39;Upper bound for weights.&#39;)
<span class='lineno'> 203</span> 
<span class='lineno'> 204</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a> = tf.app.flags.FLAGS
<span class='lineno'> 205</span> 
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams', title='() -> None'>create_hparams</a>():
<span class='lineno'> 208</span>   &quot;&quot;&quot;Create the hparams object for generic training hyperparameters.&quot;&quot;&quot;
<span class='lineno'> 209</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', title='?'>hparams</a> = tf.contrib.training.HParams(
<span class='lineno'> 210</span>       gen_num_layers=2,
<span class='lineno'> 211</span>       dis_num_layers=2,
<span class='lineno'> 212</span>       gen_rnn_size=740,
<span class='lineno'> 213</span>       dis_rnn_size=740,
<span class='lineno'> 214</span>       gen_learning_rate=5e-4,
<span class='lineno'> 215</span>       dis_learning_rate=5e-3,
<span class='lineno'> 216</span>       critic_learning_rate=5e-3,
<span class='lineno'> 217</span>       dis_train_iterations=1,
<span class='lineno'> 218</span>       gen_learning_rate_decay=1.0,
<span class='lineno'> 219</span>       gen_full_learning_rate_steps=1e7,
<span class='lineno'> 220</span>       baseline_decay=0.999999,
<span class='lineno'> 221</span>       rl_discount_rate=0.9,
<span class='lineno'> 222</span>       gen_vd_keep_prob=0.5,
<span class='lineno'> 223</span>       dis_vd_keep_prob=0.5,
<span class='lineno'> 224</span>       dis_pretrain_learning_rate=5e-3,
<span class='lineno'> 225</span>       dis_num_filters=128,
<span class='lineno'> 226</span>       dis_hidden_dim=128,
<span class='lineno'> 227</span>       gen_nas_keep_prob_0=0.85,
<span class='lineno'> 228</span>       gen_nas_keep_prob_1=0.55,
<span class='lineno'> 229</span>       dis_nas_keep_prob_0=0.85,
<span class='lineno'> 230</span>       dis_nas_keep_prob_1=0.55)
<span class='lineno'> 231</span>   # Command line flags override any of the preceding hyperparameter values.
<span class='lineno'> 232</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.hparams:
<span class='lineno'> 233</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', title='?'>hparams</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', title='?'>hparams</a>.parse(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.hparams)
<span class='lineno'> 234</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams.hparams', title='?'>hparams</a>
<span class='lineno'> 235</span> 
<span class='lineno'> 236</span> 
<span class='lineno'> 237</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', title='(None, bool) -> (namedtuple) / (?, bool) -> (namedtuple) / (?, ?) -> (namedtuple)'>create_MaskGAN</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', title='bool'>is_training</a>):
<span class='lineno'> 238</span>   &quot;&quot;&quot;Create the MaskGAN model.
<span class='lineno'> 239</span> 
<span class='lineno'> 240</span>   Args:
<span class='lineno'> 241</span>     hparams:  Hyperparameters for the MaskGAN.
<span class='lineno'> 242</span>     is_training:  Boolean indicating operational mode (train/inference).
<span class='lineno'> 243</span>       evaluated with a teacher forcing regime.
<span class='lineno'> 244</span> 
<span class='lineno'> 245</span>   Return:
<span class='lineno'> 246</span>     model:  Namedtuple for specifying the MaskGAN.
<span class='lineno'> 247</span>   &quot;&quot;&quot;
<span class='lineno'> 248</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a> = tf.Variable(0, name=&#39;global_step&#39;, trainable=False)
<span class='lineno'> 249</span> 
<span class='lineno'> 250</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', title='?'>new_learning_rate</a> = tf.placeholder(tf.float32, [], name=&#39;new_learning_rate&#39;)
<span class='lineno'> 251</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', title='?'>learning_rate</a> = tf.Variable(0.0, name=&#39;learning_rate&#39;, trainable=False)
<span class='lineno'> 252</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate_update', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate_update', title='?'>learning_rate_update</a> = tf.assign(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', title='?'>learning_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', title='?'>new_learning_rate</a>)
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', title='?'>new_rate</a> = tf.placeholder(tf.float32, [], name=&#39;new_rate&#39;)
<span class='lineno'> 255</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', title='?'>percent_real_var</a> = tf.Variable(0.0, trainable=False)
<span class='lineno'> 256</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_update', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_update', title='?'>percent_real_update</a> = tf.assign(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', title='?'>percent_real_var</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', title='?'>new_rate</a>)
<span class='lineno'> 257</span> 
<span class='lineno'> 258</span>   ## Placeholders.
<span class='lineno'> 259</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a> = tf.placeholder(
<span class='lineno'> 260</span>       tf.int32, shape=[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.batch_size, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.sequence_length])
<span class='lineno'> 261</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a> = tf.placeholder(
<span class='lineno'> 262</span>       tf.int32, shape=[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.batch_size, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.sequence_length])
<span class='lineno'> 263</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a> = tf.placeholder(
<span class='lineno'> 264</span>       tf.bool, shape=[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.batch_size, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.sequence_length])
<span class='lineno'> 265</span>   # TODO(adai): Placeholder for IMDB label.
<span class='lineno'> 266</span> 
<span class='lineno'> 267</span>   ## Real Sequence is the targets.
<span class='lineno'> 268</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_sequence', title='?'>real_sequence</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>
<span class='lineno'> 269</span> 
<span class='lineno'> 270</span>   ## Fakse Sequence from the Generator.
<span class='lineno'> 271</span>   # TODO(adai):  Generator must have IMDB labels placeholder.
<span class='lineno'> 272</span>   (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', title='?'>fake_sequence</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', title='?'>fake_logits</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', title='?'>fake_log_probs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_initial_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_initial_state', title='?'>fake_gen_initial_state</a>,
<span class='lineno'> 273</span>    <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_final_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_final_state', title='?'>fake_gen_final_state</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='?'>_</a>) = <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>.<a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_generator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_generator', title='(None, ?, ?, ?, bool, bool, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, ?, ?, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, bool, bool, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, ?, bool, None) -> (?, ?, ?, ?, ?, ?)'>create_generator</a>(
<span class='lineno'> 274</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>,
<span class='lineno'> 275</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a>,
<span class='lineno'> 276</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>,
<span class='lineno'> 277</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>,
<span class='lineno'> 278</span>        is_training=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', title='bool'>is_training</a>,
<span class='lineno'> 279</span>        is_validating=False)
<span class='lineno'> 280</span>   (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_logits', title='?'>eval_logits</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_initial_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_initial_state', title='?'>eval_initial_state</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_final_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_final_state', title='?'>eval_final_state</a>,
<span class='lineno'> 281</span>    <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='?'>_</a>) = <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>.<a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_generator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_generator', title='(None, ?, ?, ?, bool, bool, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, ?, ?, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, bool, bool, None) -> (?, ?, ?, ?, ?, ?) / (?, ?, ?, ?, ?, bool, None) -> (?, ?, ?, ?, ?, ?)'>create_generator</a>(
<span class='lineno'> 282</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>,
<span class='lineno'> 283</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a>,
<span class='lineno'> 284</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>,
<span class='lineno'> 285</span>        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>,
<span class='lineno'> 286</span>        is_training=False,
<span class='lineno'> 287</span>        is_validating=True,
<span class='lineno'> 288</span>        reuse=True)
<span class='lineno'> 289</span> 
<span class='lineno'> 290</span>   ## Discriminator.
<span class='lineno'> 291</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', title='None'>fake_predictions</a> = <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>.<a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_discriminator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_discriminator', title='(None, ?, bool, None, None, None, None) -> None / (?, ?, bool, None, None, None, None) -> None / (?, ?, ?, None, None, None, None) -> None'>create_discriminator</a>(
<span class='lineno'> 292</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>,
<span class='lineno'> 293</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', title='?'>fake_sequence</a>,
<span class='lineno'> 294</span>       is_training=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', title='bool'>is_training</a>,
<span class='lineno'> 295</span>       inputs=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a>,
<span class='lineno'> 296</span>       present=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>)
<span class='lineno'> 297</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', title='None'>real_predictions</a> = <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>.<a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_discriminator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_discriminator', title='(None, ?, bool, None, None, None, None) -> None / (?, ?, bool, None, None, None, None) -> None / (?, ?, ?, None, None, None, None) -> None'>create_discriminator</a>(
<span class='lineno'> 298</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>,
<span class='lineno'> 299</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_sequence', title='?'>real_sequence</a>,
<span class='lineno'> 300</span>       is_training=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', title='bool'>is_training</a>,
<span class='lineno'> 301</span>       reuse=True,
<span class='lineno'> 302</span>       inputs=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a>,
<span class='lineno'> 303</span>       present=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>)
<span class='lineno'> 304</span> 
<span class='lineno'> 305</span>   ## Critic.
<span class='lineno'> 306</span>   # The critic will be used to estimate the forward rewards to the Generator.
<span class='lineno'> 307</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.baseline_method == &#39;critic&#39;:
<span class='lineno'> 308</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', title='None'>est_state_values</a> = <a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction', title='model_construction'>model_construction</a>.<a href='model_utils/model_construction.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_critic', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_construction.create_critic', title='(None, ?, bool, None) -> None / (?, ?, bool, None) -> None / (?, ?, ?, None) -> None'>create_critic</a>(
<span class='lineno'> 309</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', title='?'>fake_sequence</a>, is_training=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.is_training', title='bool'>is_training</a>)
<span class='lineno'> 310</span>   else:
<span class='lineno'> 311</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', title='None'>est_state_values</a> = None
<span class='lineno'> 312</span> 
<span class='lineno'> 313</span>   ## Discriminator Loss.
<span class='lineno'> 314</span>   [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', title='float'>dis_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', title='?'>dis_loss_fake</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', title='?'>dis_loss_real</a>] = <a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', title='model_losses'>model_losses</a>.<a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.create_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.create_dis_loss', title='(?, ?, ?) -> (float, ?, ?) / (None, None, ?) -> (float, ?, ?)'>create_dis_loss</a>(
<span class='lineno'> 315</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', title='None'>fake_predictions</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', title='None'>real_predictions</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>)
<span class='lineno'> 316</span> 
<span class='lineno'> 317</span>   ## Average log-perplexity for only missing words.  However, to do this,
<span class='lineno'> 318</span>   # the logits are still computed using teacher forcing, that is, the ground
<span class='lineno'> 319</span>   # truth tokens are fed in at each time point to be valid.
<span class='lineno'> 320</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.avg_log_perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.avg_log_perplexity', title='float'>avg_log_perplexity</a> = <a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', title='model_losses'>model_losses</a>.<a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.calculate_log_perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.calculate_log_perplexity', title='(?, ?, ?) -> float'>calculate_log_perplexity</a>(
<span class='lineno'> 321</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_logits', title='?'>eval_logits</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>)
<span class='lineno'> 322</span> 
<span class='lineno'> 323</span>   ## Generator Objective.
<span class='lineno'> 324</span>   # 1.  Cross Entropy losses on missing tokens.
<span class='lineno'> 325</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', title='None'>fake_cross_entropy_losses</a> = <a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', title='model_losses'>model_losses</a>.<a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.create_masked_cross_entropy_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.create_masked_cross_entropy_loss', title='(?, ?, ?) -> None'>create_masked_cross_entropy_loss</a>(
<span class='lineno'> 326</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', title='?'>fake_logits</a>)
<span class='lineno'> 327</span> 
<span class='lineno'> 328</span>   #  2.  GAN REINFORCE losses.
<span class='lineno'> 329</span>   [
<span class='lineno'> 330</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', title='{None | float}'>fake_RL_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', title='{None | float}'>fake_log_probs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_rewards', title='{None | float}'>fake_rewards</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', title='{None | float}'>fake_advantages</a>,
<span class='lineno'> 331</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', title='{None | float}'>fake_baselines</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_averages_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_averages_op', title='{None | float}'>fake_averages_op</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', title='{None | float}'>cumulative_rewards</a>
<span class='lineno'> 332</span>   ] = <a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses', title='model_losses'>model_losses</a>.<a href='model_utils/model_losses.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.calculate_reinforce_objective', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_losses.calculate_reinforce_objective', title='(None, ?, None, ?, None) -> [{None | float}] / (?, ?, None, ?, None) -> [{None | float}] / (?, ?, ?, ?, None) -> [{None | float}]'>calculate_reinforce_objective</a>(
<span class='lineno'> 333</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', title='?'>fake_log_probs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', title='None'>fake_predictions</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.est_state_values', title='None'>est_state_values</a>)
<span class='lineno'> 334</span> 
<span class='lineno'> 335</span>   ## Pre-training.
<span class='lineno'> 336</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.gen_pretrain_steps:
<span class='lineno'> 337</span>     raise NotImplementedError
<span class='lineno'> 338</span>     # # TODO(liamfedus): Rewrite this.
<span class='lineno'> 339</span>     # fwd_cross_entropy_loss = tf.reduce_mean(fwd_cross_entropy_losses)
<span class='lineno'> 340</span>     # gen_pretrain_op = model_optimization.create_gen_pretrain_op(
<span class='lineno'> 341</span>     #     hparams, fwd_cross_entropy_loss, global_step)
<span class='lineno'> 342</span>   else:
<span class='lineno'> 343</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_pretrain_op', title='None'>gen_pretrain_op</a> = None
<span class='lineno'> 344</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.dis_pretrain_steps:
<span class='lineno'> 345</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', title='None'>dis_pretrain_op</a> = <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>.<a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_dis_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_dis_pretrain_op', title='(?, ?, ?) -> None / (?, float, ?) -> None / (None, float, ?) -> None'>create_dis_pretrain_op</a>(
<span class='lineno'> 346</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', title='float'>dis_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>)
<span class='lineno'> 347</span>   else:
<span class='lineno'> 348</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', title='None'>dis_pretrain_op</a> = None
<span class='lineno'> 349</span> 
<span class='lineno'> 350</span>   ##  Generator Train Op.
<span class='lineno'> 351</span>   # 1.  Cross-Entropy.
<span class='lineno'> 352</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.gen_training_strategy == &#39;cross_entropy&#39;:
<span class='lineno'> 353</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='?'>gen_loss</a> = tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', title='None'>fake_cross_entropy_losses</a>)
<span class='lineno'> 354</span>     [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', title='?'>gen_train_op</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', title='?'>gen_grads</a>,
<span class='lineno'> 355</span>      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', title='[?]'>gen_vars</a>] = <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>.<a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_gen_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_gen_train_op', title='(?, ?, ?, ?, ?) -> (?, ?, [?]) / (?, ?, ?, ?, str) -> (?, ?, [?]) / (None, ?, ?, ?, str) -> (?, ?, [?])'>create_gen_train_op</a>(
<span class='lineno'> 356</span>          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', title='?'>learning_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='?'>gen_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>, mode=&#39;MINIMIZE&#39;)
<span class='lineno'> 357</span> 
<span class='lineno'> 358</span>   # 2.  GAN (REINFORCE)
<span class='lineno'> 359</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.gen_training_strategy == &#39;reinforce&#39;:
<span class='lineno'> 360</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='{None | float}'>gen_loss</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', title='{None | float}'>fake_RL_loss</a>
<span class='lineno'> 361</span>     [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', title='[?]'>gen_train_op</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', title='[?]'>gen_grads</a>,
<span class='lineno'> 362</span>      <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', title='[?]'>gen_vars</a>] = <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>.<a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_reinforce_gen_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_reinforce_gen_train_op', title='(?, ?, ?, ?, ?) -> [[?]] / (?, ?, {None | float}, {None | float}, ?) -> [[?]] / (None, ?, {None | float}, {None | float}, ?) -> [[?]]'>create_reinforce_gen_train_op</a>(
<span class='lineno'> 363</span>          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', title='?'>learning_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='{None | float}'>gen_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_averages_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_averages_op', title='{None | float}'>fake_averages_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>)
<span class='lineno'> 364</span> 
<span class='lineno'> 365</span>   else:
<span class='lineno'> 366</span>     raise NotImplementedError
<span class='lineno'> 367</span> 
<span class='lineno'> 368</span>   ## Discriminator Train Op.
<span class='lineno'> 369</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', title='?'>dis_train_op</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_grads', title='?'>dis_grads</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_vars', title='[?]'>dis_vars</a> = <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>.<a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_dis_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_dis_train_op', title='(?, ?, ?) -> (?, ?, [?]) / (?, float, ?) -> (?, ?, [?]) / (None, float, ?) -> (?, ?, [?])'>create_dis_train_op</a>(
<span class='lineno'> 370</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', title='float'>dis_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>)
<span class='lineno'> 371</span> 
<span class='lineno'> 372</span>   ## Critic Train Op.
<span class='lineno'> 373</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a> is not None:
<span class='lineno'> 374</span>     [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_train_op', title='?'>critic_train_op</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN._', title='[?]'>_</a>] = <a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization', title='model_optimization'>model_optimization</a>.<a href='model_utils/model_optimization.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_critic_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.model_optimization.create_critic_train_op', title='(None, {None | float}, ?) -> (?, ?, [?]) / (?, {None | float}, ?) -> (?, ?, [?]) / (?, ?, ?) -> (?, ?, [?])'>create_critic_train_op</a>(
<span class='lineno'> 375</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>)
<span class='lineno'> 376</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', title='?'>dis_train_op</a> = tf.group(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', title='?'>dis_train_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_train_op', title='?'>critic_train_op</a>)
<span class='lineno'> 377</span> 
<span class='lineno'> 378</span>   ## Summaries.
<span class='lineno'> 379</span>   with tf.name_scope(&#39;general&#39;):
<span class='lineno'> 380</span>     tf.summary.scalar(&#39;percent_real&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_var', title='?'>percent_real_var</a>)
<span class='lineno'> 381</span>     tf.summary.scalar(&#39;learning_rate&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate', title='?'>learning_rate</a>)
<span class='lineno'> 382</span> 
<span class='lineno'> 383</span>   with tf.name_scope(&#39;generator_objectives&#39;):
<span class='lineno'> 384</span>     tf.summary.scalar(&#39;gen_objective&#39;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='{None | float}'>gen_loss</a>))
<span class='lineno'> 385</span>     tf.summary.scalar(&#39;gen_loss_cross_entropy&#39;,
<span class='lineno'> 386</span>                       tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', title='None'>fake_cross_entropy_losses</a>))
<span class='lineno'> 387</span> 
<span class='lineno'> 388</span>   with tf.name_scope(&#39;REINFORCE&#39;):
<span class='lineno'> 389</span>     with tf.name_scope(&#39;objective&#39;):
<span class='lineno'> 390</span>       tf.summary.scalar(&#39;fake_RL_loss&#39;, tf.reduce_mean(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_RL_loss', title='{None | float}'>fake_RL_loss</a>))
<span class='lineno'> 391</span> 
<span class='lineno'> 392</span>     with tf.name_scope(&#39;rewards&#39;):
<span class='lineno'> 393</span>       <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', title='{None | float}'>cumulative_rewards</a>, &#39;rewards&#39;)
<span class='lineno'> 394</span> 
<span class='lineno'> 395</span>     with tf.name_scope(&#39;advantages&#39;):
<span class='lineno'> 396</span>       <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', title='{None | float}'>fake_advantages</a>, &#39;advantages&#39;)
<span class='lineno'> 397</span> 
<span class='lineno'> 398</span>     with tf.name_scope(&#39;baselines&#39;):
<span class='lineno'> 399</span>       <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', title='{None | float}'>fake_baselines</a>, &#39;baselines&#39;)
<span class='lineno'> 400</span> 
<span class='lineno'> 401</span>     with tf.name_scope(&#39;log_probs&#39;):
<span class='lineno'> 402</span>       <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', title='{None | float}'>fake_log_probs</a>, &#39;log_probs&#39;)
<span class='lineno'> 403</span> 
<span class='lineno'> 404</span>   with tf.name_scope(&#39;discriminator_losses&#39;):
<span class='lineno'> 405</span>     tf.summary.scalar(&#39;dis_loss&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', title='float'>dis_loss</a>)
<span class='lineno'> 406</span>     tf.summary.scalar(&#39;dis_loss_fake_sequence&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', title='?'>dis_loss_fake</a>)
<span class='lineno'> 407</span>     tf.summary.scalar(&#39;dis_loss_prob_fake_sequence&#39;, tf.exp(-<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_fake', title='?'>dis_loss_fake</a>))
<span class='lineno'> 408</span>     tf.summary.scalar(&#39;dis_loss_real_sequence&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', title='?'>dis_loss_real</a>)
<span class='lineno'> 409</span>     tf.summary.scalar(&#39;dis_loss_prob_real_sequence&#39;, tf.exp(-<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss_real', title='?'>dis_loss_real</a>))
<span class='lineno'> 410</span> 
<span class='lineno'> 411</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a> is not None:
<span class='lineno'> 412</span>     with tf.name_scope(&#39;critic_losses&#39;):
<span class='lineno'> 413</span>       tf.summary.scalar(&#39;critic_loss&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a>)
<span class='lineno'> 414</span> 
<span class='lineno'> 415</span>   with tf.name_scope(&#39;logits&#39;):
<span class='lineno'> 416</span>     <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', title='?'>fake_logits</a>, &#39;fake_logits&#39;)
<span class='lineno'> 417</span> 
<span class='lineno'> 418</span>   for v, g in zip(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_vars', title='[?]'>gen_vars</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_grads', title='[?]'>gen_grads</a>):
<span class='lineno'> 419</span>     <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(v, v.op.name)
<span class='lineno'> 420</span>     <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(g, &#39;grad/&#39; + v.op.name)
<span class='lineno'> 421</span> 
<span class='lineno'> 422</span>   for v, g in zip(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_vars', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_vars', title='[?]'>dis_vars</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_grads', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_grads', title='?'>dis_grads</a>):
<span class='lineno'> 423</span>     <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(v, v.op.name)
<span class='lineno'> 424</span>     <a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper', title='helper'>helper</a>.<a href='model_utils/helper.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.helper.variable_summaries', title='(?, str) -> None / (?, ?) -> None / ({None | float}, str) -> None'>variable_summaries</a>(g, &#39;grad/&#39; + v.op.name)
<span class='lineno'> 425</span> 
<span class='lineno'> 426</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.merge_summaries_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.merge_summaries_op', title='?'>merge_summaries_op</a> = tf.summary.merge_all()
<span class='lineno'> 427</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', title='?'>text_summary_placeholder</a> = tf.placeholder(tf.string)
<span class='lineno'> 428</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_op', title='?'>text_summary_op</a> = tf.summary.text(&#39;Samples&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', title='?'>text_summary_placeholder</a>)
<span class='lineno'> 429</span> 
<span class='lineno'> 430</span>   # Model saver.
<span class='lineno'> 431</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.saver', title='?'>saver</a> = tf.train.Saver(keep_checkpoint_every_n_hours=1, max_to_keep=5)
<span class='lineno'> 432</span> 
<span class='lineno'> 433</span>   # Named tuple that captures elements of the MaskGAN model.
<span class='lineno'> 434</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.Model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.Model', title='<(namedtuple)>'>Model</a> = collections.namedtuple(&#39;Model&#39;, [
<span class='lineno'> 435</span>       &#39;inputs&#39;, &#39;targets&#39;, &#39;present&#39;, &#39;percent_real_update&#39;, &#39;new_rate&#39;,
<span class='lineno'> 436</span>       &#39;fake_sequence&#39;, &#39;fake_logits&#39;, &#39;fake_rewards&#39;, &#39;fake_baselines&#39;,
<span class='lineno'> 437</span>       &#39;fake_advantages&#39;, &#39;fake_log_probs&#39;, &#39;fake_predictions&#39;,
<span class='lineno'> 438</span>       &#39;real_predictions&#39;, &#39;fake_cross_entropy_losses&#39;, &#39;fake_gen_initial_state&#39;,
<span class='lineno'> 439</span>       &#39;fake_gen_final_state&#39;, &#39;eval_initial_state&#39;, &#39;eval_final_state&#39;,
<span class='lineno'> 440</span>       &#39;avg_log_perplexity&#39;, &#39;dis_loss&#39;, &#39;gen_loss&#39;, &#39;critic_loss&#39;,
<span class='lineno'> 441</span>       &#39;cumulative_rewards&#39;, &#39;dis_train_op&#39;, &#39;gen_train_op&#39;, &#39;gen_pretrain_op&#39;,
<span class='lineno'> 442</span>       &#39;dis_pretrain_op&#39;, &#39;merge_summaries_op&#39;, &#39;global_step&#39;,
<span class='lineno'> 443</span>       &#39;new_learning_rate&#39;, &#39;learning_rate_update&#39;, &#39;saver&#39;, &#39;text_summary_op&#39;,
<span class='lineno'> 444</span>       &#39;text_summary_placeholder&#39;
<span class='lineno'> 445</span>   ])
<span class='lineno'> 446</span> 
<span class='lineno'> 447</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.model', title='(namedtuple)'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.Model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.Model', title='<(namedtuple)>'>Model</a>(
<span class='lineno'> 448</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.inputs', title='?'>inputs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.targets', title='?'>targets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.present', title='?'>present</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_update', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.percent_real_update', title='?'>percent_real_update</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_rate', title='?'>new_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_sequence', title='?'>fake_sequence</a>,
<span class='lineno'> 449</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_logits', title='?'>fake_logits</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_rewards', title='{None | float}'>fake_rewards</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_baselines', title='{None | float}'>fake_baselines</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_advantages', title='{None | float}'>fake_advantages</a>,
<span class='lineno'> 450</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_log_probs', title='{None | float}'>fake_log_probs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_predictions', title='None'>fake_predictions</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.real_predictions', title='None'>real_predictions</a>,
<span class='lineno'> 451</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_cross_entropy_losses', title='None'>fake_cross_entropy_losses</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_initial_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_initial_state', title='?'>fake_gen_initial_state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_final_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.fake_gen_final_state', title='?'>fake_gen_final_state</a>,
<span class='lineno'> 452</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_initial_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_initial_state', title='?'>eval_initial_state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_final_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.eval_final_state', title='?'>eval_final_state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.avg_log_perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.avg_log_perplexity', title='float'>avg_log_perplexity</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_loss', title='float'>dis_loss</a>,
<span class='lineno'> 453</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_loss', title='{None | float}'>gen_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.critic_loss', title='{None | float}'>critic_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.cumulative_rewards', title='{None | float}'>cumulative_rewards</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_train_op', title='?'>dis_train_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_train_op', title='[?]'>gen_train_op</a>,
<span class='lineno'> 454</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.gen_pretrain_op', title='None'>gen_pretrain_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.dis_pretrain_op', title='None'>dis_pretrain_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.merge_summaries_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.merge_summaries_op', title='?'>merge_summaries_op</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.global_step', title='?'>global_step</a>,
<span class='lineno'> 455</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.new_learning_rate', title='?'>new_learning_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate_update', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.learning_rate_update', title='?'>learning_rate_update</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.saver', title='?'>saver</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_op', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_op', title='?'>text_summary_op</a>,
<span class='lineno'> 456</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.text_summary_placeholder', title='?'>text_summary_placeholder</a>)
<span class='lineno'> 457</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN.model', title='(namedtuple)'>model</a>
<span class='lineno'> 458</span> 
<span class='lineno'> 459</span> 
<span class='lineno'> 460</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', title='? -> None / dict -> None'>compute_geometric_average</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', title='{dict | dict}'>percent_captured</a>):
<span class='lineno'> 461</span>   &quot;&quot;&quot;Compute the geometric average of the n-gram metrics.&quot;&quot;&quot;
<span class='lineno'> 462</span> 
<span class='lineno'> 463</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', title='float'>res</a> = 1.
<span class='lineno'> 464</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.n_gram_percent', title='?'>n_gram_percent</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', title='{dict | dict}'>percent_captured</a>.iteritems():
<span class='lineno'> 465</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', title='float'>res</a></a> *= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.n_gram_percent', title='?'>n_gram_percent</a>
<span class='lineno'> 466</span> 
<span class='lineno'> 467</span>   return np.power(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.res', title='float'>res</a>, 1. / float(len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average.percent_captured', title='{dict | dict}'>percent_captured</a>)))
<span class='lineno'> 468</span> 
<span class='lineno'> 469</span> 
<span class='lineno'> 470</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', title='? -> float / dict -> float'>compute_arithmetic_average</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', title='{dict | dict}'>percent_captured</a>):
<span class='lineno'> 471</span>   &quot;&quot;&quot;Compute the arithmetic average of the n-gram metrics.&quot;&quot;&quot;
<span class='lineno'> 472</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.N', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.N', title='int'>N</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', title='{dict | dict}'>percent_captured</a>)
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', title='float'>res</a> = 0.
<span class='lineno'> 475</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.n_gram_percent', title='?'>n_gram_percent</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.percent_captured', title='{dict | dict}'>percent_captured</a>.iteritems():
<span class='lineno'> 476</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', title='float'>res</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.n_gram_percent', title='?'>n_gram_percent</a>
<span class='lineno'> 477</span> 
<span class='lineno'> 478</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.res', title='float'>res</a> / float(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.N', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average.N', title='int'>N</a>)
<span class='lineno'> 479</span> 
<span class='lineno'> 480</span> 
<span class='lineno'> 481</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', title='{[?] | [{[?] | [int]}]}'>data</a>):
<span class='lineno'> 482</span>   &quot;&quot;&quot;Return the data iterator.&quot;&quot;&quot;
<span class='lineno'> 483</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 484</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', title='None'>iterator</a> = <a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', title='ptb_loader'>ptb_loader</a>.<a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.ptb_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.ptb_iterator', title='({[?] | [{[?] | [int]}]}, ?, ?, ?) -> None / (?, ?, ?, ?) -> None / (?, ?, ?, None) -> None'>ptb_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.batch_size,
<span class='lineno'> 485</span>                                        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.sequence_length,
<span class='lineno'> 486</span>                                        <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.epoch_size_override)
<span class='lineno'> 487</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;imdb&#39;:
<span class='lineno'> 488</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', title='None'>iterator</a> = <a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', title='imdb_loader'>imdb_loader</a>.<a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.imdb_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.imdb_iterator', title='({[?] | [{[?] | [int]}]}, ?, ?, None) -> None / (?, ?, ?, None) -> None'>imdb_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.batch_size,
<span class='lineno'> 489</span>                                          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.sequence_length)
<span class='lineno'> 490</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator.iterator', title='None'>iterator</a>
<span class='lineno'> 491</span> 
<span class='lineno'> 492</span> 
<span class='lineno'> 493</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> ? / (?, ?, ?, ?, ?, ?) -> ?'>train_model</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log_dir', title='str'>log_dir</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', title='dict'>id_to_word</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', title='dict'>data_ngram_counts</a>):
<span class='lineno'> 494</span>   &quot;&quot;&quot;Train model.
<span class='lineno'> 495</span> 
<span class='lineno'> 496</span>   Args:
<span class='lineno'> 497</span>     hparams: Hyperparameters for the MaskGAN.
<span class='lineno'> 498</span>     data: Data to evaluate.
<span class='lineno'> 499</span>     log_dir: Directory to save checkpoints.
<span class='lineno'> 500</span>     log: Readable log for the experiment.
<span class='lineno'> 501</span>     id_to_word: Dictionary of indices to words.
<span class='lineno'> 502</span>     data_ngram_counts: Dictionary of hashed(n-gram tuples) to counts in the
<span class='lineno'> 503</span>       data_set.
<span class='lineno'> 504</span>   &quot;&quot;&quot;
<span class='lineno'> 505</span>   print(&#39;Training model.&#39;)
<span class='lineno'> 506</span>   tf.logging.info(&#39;Training model.&#39;)
<span class='lineno'> 507</span> 
<span class='lineno'> 508</span>   # Boolean indicating operational mode.
<span class='lineno'> 509</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', title='bool'>is_training</a> = True
<span class='lineno'> 510</span> 
<span class='lineno'> 511</span>   # Write all the information to the logs.
<span class='lineno'> 512</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39;hparams\n&#39;)
<span class='lineno'> 513</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(str(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>))
<span class='lineno'> 514</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.flush()
<span class='lineno'> 515</span> 
<span class='lineno'> 516</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.task == 0
<span class='lineno'> 517</span> 
<span class='lineno'> 518</span>   with tf.Graph().as_default():
<span class='lineno'> 519</span>     with tf.device(tf.train.replica_device_setter(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.ps_tasks)):
<span class='lineno'> 520</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.container_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.container_name', title='str'>container_name</a> = &#39;&#39;
<span class='lineno'> 521</span>       with tf.container(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.container_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.container_name', title='str'>container_name</a>):
<span class='lineno'> 522</span>         # Construct the model.
<span class='lineno'> 523</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.num_rollouts == 1:
<span class='lineno'> 524</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', title='(None, bool) -> (namedtuple) / (?, bool) -> (namedtuple) / (?, ?) -> (namedtuple)'>create_MaskGAN</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', title='bool'>is_training</a>)
<span class='lineno'> 525</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.num_rollouts &gt; 1:
<span class='lineno'> 526</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a> = <a href='models/rollout.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', title='rollout'>rollout</a>.<a href='models/rollout.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout.create_rollout_MaskGAN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout.create_rollout_MaskGAN', title='(None, bool) -> (namedtuple) / (?, bool) -> (namedtuple) / (?, ?) -> (namedtuple)'>create_rollout_MaskGAN</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_training', title='bool'>is_training</a>)
<span class='lineno'> 527</span>         else:
<span class='lineno'> 528</span>           raise ValueError
<span class='lineno'> 529</span> 
<span class='lineno'> 530</span>         print(&#39;\nTrainable Variables in Graph:&#39;)
<span class='lineno'> 531</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.v', title='?'>v</a> in tf.trainable_variables():
<span class='lineno'> 532</span>           print(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.v', title='?'>v</a>)
<span class='lineno'> 533</span> 
<span class='lineno'> 534</span>         ## Retrieve the initial savers.
<span class='lineno'> 535</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_savers', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_savers', title='?'>init_savers</a> = <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.retrieve_init_savers(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>)
<span class='lineno'> 536</span> 
<span class='lineno'> 537</span>         ## Initial saver function to supervisor.
<span class='lineno'> 538</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_fn', title='?'>init_fn</a> = partial(<a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.init_fn, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_savers', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_savers', title='?'>init_savers</a>)
<span class='lineno'> 539</span> 
<span class='lineno'> 540</span>         # Create the supervisor.  It will take care of initialization,
<span class='lineno'> 541</span>         # summaries, checkpoints, and recovery.
<span class='lineno'> 542</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a> = tf.train.Supervisor(
<span class='lineno'> 543</span>             logdir=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log_dir', title='str'>log_dir</a>,
<span class='lineno'> 544</span>             is_chief=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a>,
<span class='lineno'> 545</span>             saver=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.saver,
<span class='lineno'> 546</span>             global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.global_step,
<span class='lineno'> 547</span>             save_model_secs=60,
<span class='lineno'> 548</span>             recovery_wait_secs=30,
<span class='lineno'> 549</span>             summary_op=None,
<span class='lineno'> 550</span>             init_fn=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_fn', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.init_fn', title='?'>init_fn</a>)
<span class='lineno'> 551</span> 
<span class='lineno'> 552</span>         # Get an initialized, and possibly recovered session.  Launch the
<span class='lineno'> 553</span>         # services: Checkpointing, Summaries, step counting.
<span class='lineno'> 554</span>         #
<span class='lineno'> 555</span>         # When multiple replicas of this program are running the services are
<span class='lineno'> 556</span>         # only launched by the &#39;chief&#39; replica.
<span class='lineno'> 557</span>         with <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.managed_session(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.master) as <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>:
<span class='lineno'> 558</span> 
<span class='lineno'> 559</span>           ## Pretrain the generator.
<span class='lineno'> 560</span>           if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.gen_pretrain_steps:
<span class='lineno'> 561</span>             <a href='pretrain_mask_gan.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', title='pretrain_mask_gan'>pretrain_mask_gan</a>.<a href='pretrain_mask_gan.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan.pretrain_generator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan.pretrain_generator', title='(?, ?, (namedtuple), {[?] | [{[?] | [int]}]}, ?, dict, dict, bool) -> None / (?, ?, (namedtuple), ?, ?, ?, ?, bool) -> None / (?, ?, ?, ?, ?, ?, ?, ?) -> None'>pretrain_generator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>,
<span class='lineno'> 562</span>                                                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', title='dict'>id_to_word</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', title='dict'>data_ngram_counts</a>,
<span class='lineno'> 563</span>                                                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a>)
<span class='lineno'> 564</span> 
<span class='lineno'> 565</span>           ## Pretrain the discriminator.
<span class='lineno'> 566</span>           if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.dis_pretrain_steps:
<span class='lineno'> 567</span>             <a href='pretrain_mask_gan.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan', title='pretrain_mask_gan'>pretrain_mask_gan</a>.<a href='pretrain_mask_gan.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan.pretrain_discriminator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.pretrain_mask_gan.pretrain_discriminator', title='(?, ?, (namedtuple), {[?] | [{[?] | [int]}]}, ?, dict, dict, bool) -> None / (?, ?, (namedtuple), ?, ?, ?, ?, bool) -> None / (?, ?, ?, ?, ?, ?, ?, ?) -> None'>pretrain_discriminator</a>(
<span class='lineno'> 568</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', title='dict'>id_to_word</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', title='dict'>data_ngram_counts</a>,
<span class='lineno'> 569</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a>)
<span class='lineno'> 570</span> 
<span class='lineno'> 571</span>           # Initial indicators for printing and summarizing.
<span class='lineno'> 572</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', title='int'>print_step_division</a> = -1
<span class='lineno'> 573</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', title='int'>summary_step_division</a> = -1
<span class='lineno'> 574</span> 
<span class='lineno'> 575</span>           # Run iterative computation in a loop.
<span class='lineno'> 576</span>           while not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.ShouldStop():
<span class='lineno'> 577</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', title='?'>is_present_rate</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.is_present_rate
<span class='lineno'> 578</span> 
<span class='lineno'> 579</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.is_present_rate_decay is not None:
<span class='lineno'> 580</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', title='?'>is_present_rate</a></a> *= (1. - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.is_present_rate_decay)
<span class='lineno'> 581</span> 
<span class='lineno'> 582</span>             <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.assign_percent_real(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.percent_real_update,
<span class='lineno'> 583</span>                                             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.new_rate, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', title='float'>is_present_rate</a>)
<span class='lineno'> 584</span> 
<span class='lineno'> 585</span>             # GAN training.
<span class='lineno'> 586</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a> = [], []
<span class='lineno'> 587</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', title='float'>cumulative_costs</a> = 0.
<span class='lineno'> 588</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', title='int'>gen_iters</a> = 0
<span class='lineno'> 589</span> 
<span class='lineno'> 590</span>             # Generator and Discriminator statefulness initial evaluation.
<span class='lineno'> 591</span>             # TODO(liamfedus): Throughout the code I am implicitly assuming
<span class='lineno'> 592</span>             # that the Generator and Discriminator are equal sized.
<span class='lineno'> 593</span>             [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 594</span>                 [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.eval_initial_state, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_initial_state])
<span class='lineno'> 595</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>
<span class='lineno'> 596</span> 
<span class='lineno'> 597</span>             # Save zeros state to reset later.
<span class='lineno'> 598</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', title='?'>zeros_state</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>
<span class='lineno'> 599</span> 
<span class='lineno'> 600</span>             ## Offset Discriminator.
<span class='lineno'> 601</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.ps_tasks == 0:
<span class='lineno'> 602</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', title='int'>dis_offset</a> = 1
<span class='lineno'> 603</span>             else:
<span class='lineno'> 604</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', title='int'>dis_offset</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.task * 1000 + 1
<span class='lineno'> 605</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>)
<span class='lineno'> 606</span> 
<span class='lineno'> 607</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='int'>i</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_offset', title='int'>dis_offset</a>):
<span class='lineno'> 608</span>               try:
<span class='lineno'> 609</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a> = next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a>)
<span class='lineno'> 610</span>               except StopIteration:
<span class='lineno'> 611</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>)
<span class='lineno'> 612</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', title='?'>zeros_state</a>
<span class='lineno'> 613</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a> = next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a>)
<span class='lineno'> 614</span> 
<span class='lineno'> 615</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a> = <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.generate_mask()
<span class='lineno'> 616</span> 
<span class='lineno'> 617</span>               # Construct the train feed.
<span class='lineno'> 618</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a> = {
<span class='lineno'> 619</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.inputs: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>,
<span class='lineno'> 620</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.targets: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>,
<span class='lineno'> 621</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.present: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a>
<span class='lineno'> 622</span>               }
<span class='lineno'> 623</span> 
<span class='lineno'> 624</span>               if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 625</span>                 # Statefulness of the Generator being used for Discriminator.
<span class='lineno'> 626</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_initial_state):
<span class='lineno'> 627</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].c
<span class='lineno'> 628</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].h
<span class='lineno'> 629</span> 
<span class='lineno'> 630</span>                 # Determine the state had the Generator run over real data.  We
<span class='lineno'> 631</span>                 # use this state for the Discriminator.
<span class='lineno'> 632</span>                 [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 633</span>                     [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_final_state], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 634</span> 
<span class='lineno'> 635</span>             ## Training loop.
<span class='lineno'> 636</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', title='None'>iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>)
<span class='lineno'> 637</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', title='?'>gen_initial_state_eval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', title='?'>zeros_state</a>
<span class='lineno'> 638</span> 
<span class='lineno'> 639</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.ps_tasks &gt; 0:
<span class='lineno'> 640</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_offset', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_offset', title='int'>gen_offset</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.task * 1000 + 1
<span class='lineno'> 641</span>               for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='int'>i</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_offset', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_offset', title='int'>gen_offset</a>):
<span class='lineno'> 642</span>                 try:
<span class='lineno'> 643</span>                   next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', title='None'>iterator</a>)
<span class='lineno'> 644</span>                 except StopIteration:
<span class='lineno'> 645</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>)
<span class='lineno'> 646</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', title='?'>zeros_state</a>
<span class='lineno'> 647</span>                   next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a>)
<span class='lineno'> 648</span> 
<span class='lineno'> 649</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.x', title='?'>x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.y', title='?'>y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.iterator', title='None'>iterator</a>:
<span class='lineno'> 650</span>               for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='int'>_</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>.dis_train_iterations):
<span class='lineno'> 651</span>                 try:
<span class='lineno'> 652</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a> = next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a>)
<span class='lineno'> 653</span>                 except StopIteration:
<span class='lineno'> 654</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>)
<span class='lineno'> 655</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.zeros_state', title='?'>zeros_state</a>
<span class='lineno'> 656</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a> = next(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_iterator', title='None'>dis_iterator</a>)
<span class='lineno'> 657</span> 
<span class='lineno'> 658</span>                   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 659</span>                     [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 660</span>                         [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_initial_state])
<span class='lineno'> 661</span> 
<span class='lineno'> 662</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a> = <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.generate_mask()
<span class='lineno'> 663</span> 
<span class='lineno'> 664</span>                 # Construct the train feed.
<span class='lineno'> 665</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a> = {
<span class='lineno'> 666</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.inputs: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_x', title='?'>dis_x</a>,
<span class='lineno'> 667</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.targets: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_y', title='?'>dis_y</a>,
<span class='lineno'> 668</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.present: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a>
<span class='lineno'> 669</span>                 }
<span class='lineno'> 670</span> 
<span class='lineno'> 671</span>                 # Statefulness for the Discriminator.
<span class='lineno'> 672</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 673</span>                   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_initial_state):
<span class='lineno'> 674</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].c
<span class='lineno'> 675</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].h
<span class='lineno'> 676</span> 
<span class='lineno'> 677</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_loss_eval', title='?'>dis_loss_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 678</span>                     [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.dis_train_op, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.dis_loss, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.global_step],
<span class='lineno'> 679</span>                     feed_dict=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 680</span> 
<span class='lineno'> 681</span>                 # Determine the state had the Generator run over real data.
<span class='lineno'> 682</span>                 # Use this state for the Discriminator.
<span class='lineno'> 683</span>                 [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_initial_state_eval', title='?'>dis_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 684</span>                     [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_final_state], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 685</span> 
<span class='lineno'> 686</span>               # Randomly mask out tokens.
<span class='lineno'> 687</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a> = <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.generate_mask()
<span class='lineno'> 688</span> 
<span class='lineno'> 689</span>               # Construct the train feed.
<span class='lineno'> 690</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.inputs: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.x', title='?'>x</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.targets: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.y', title='?'>y</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.present: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.p', title='?'>p</a>}
<span class='lineno'> 691</span> 
<span class='lineno'> 692</span>               # Statefulness for Generator.
<span class='lineno'> 693</span>               if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 694</span>                 tf.logging.info(&#39;Generator is stateful.&#39;)
<span class='lineno'> 695</span>                 print(&#39;Generator is stateful.&#39;)
<span class='lineno'> 696</span>                 # Statefulness for *evaluation* Generator.
<span class='lineno'> 697</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.eval_initial_state):
<span class='lineno'> 698</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].c
<span class='lineno'> 699</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].h
<span class='lineno'> 700</span> 
<span class='lineno'> 701</span>                 # Statefulness for Generator.
<span class='lineno'> 702</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_initial_state):
<span class='lineno'> 703</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].c
<span class='lineno'> 704</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.i', title='?'>i</a>].h
<span class='lineno'> 705</span> 
<span class='lineno'> 706</span>               # Determine whether to decay learning rate.
<span class='lineno'> 707</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.lr_decay', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.lr_decay', title='int'>lr_decay</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>.gen_learning_rate_decay**max(
<span class='lineno'> 708</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> + 1 - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>.gen_full_learning_rate_steps, 0.0)
<span class='lineno'> 709</span> 
<span class='lineno'> 710</span>               # Assign learning rate.
<span class='lineno'> 711</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', title='int'>gen_learning_rate</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.hparams', title='None'>hparams</a>.gen_learning_rate * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.lr_decay', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.lr_decay', title='int'>lr_decay</a>
<span class='lineno'> 712</span>               <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.assign_learning_rate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.learning_rate_update,
<span class='lineno'> 713</span>                                                <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.new_learning_rate,
<span class='lineno'> 714</span>                                                <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', title='int'>gen_learning_rate</a>)
<span class='lineno'> 715</span> 
<span class='lineno'> 716</span>               [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_loss_eval', title='?'>gen_loss_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_log_perplexity_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_log_perplexity_eval', title='?'>gen_log_perplexity_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 717</span>                   [
<span class='lineno'> 718</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.gen_train_op, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.gen_loss,
<span class='lineno'> 719</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.avg_log_perplexity, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.global_step
<span class='lineno'> 720</span>                   ],
<span class='lineno'> 721</span>                   feed_dict=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 722</span> 
<span class='lineno'> 723</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', title='float'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', title='float'>cumulative_costs</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_log_perplexity_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_log_perplexity_eval', title='?'>gen_log_perplexity_eval</a>
<span class='lineno'> 724</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', title='int'>gen_iters</a></a> += 1
<span class='lineno'> 725</span> 
<span class='lineno'> 726</span>               # Determine the state had the Generator run over real data.
<span class='lineno'> 727</span>               [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 728</span>                   [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.eval_final_state,
<span class='lineno'> 729</span>                    <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_gen_final_state], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 730</span> 
<span class='lineno'> 731</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.dis_loss_eval', title='?'>dis_loss_eval</a>)
<span class='lineno'> 732</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_loss_eval', title='?'>gen_loss_eval</a>)
<span class='lineno'> 733</span> 
<span class='lineno'> 734</span>               ## Summaries.
<span class='lineno'> 735</span>               # Calulate rolling perplexity.
<span class='lineno'> 736</span>               <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a> = np.exp(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.cumulative_costs', title='float'>cumulative_costs</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_iters', title='int'>gen_iters</a>)
<span class='lineno'> 737</span> 
<span class='lineno'> 738</span>               if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a> and (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.summaries_every &gt;
<span class='lineno'> 739</span>                                <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', title='int'>summary_step_division</a>):
<span class='lineno'> 740</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_step_division', title='?'>summary_step_division</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.summaries_every
<span class='lineno'> 741</span> 
<span class='lineno'> 742</span>                 # Confirm perplexity is not infinite.
<span class='lineno'> 743</span>                 if (not np.isfinite(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a>) or
<span class='lineno'> 744</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.perplexity_threshold):
<span class='lineno'> 745</span>                   print(&#39;Training raising FloatingPoinError.&#39;)
<span class='lineno'> 746</span>                   raise FloatingPointError(
<span class='lineno'> 747</span>                       &#39;Training infinite perplexity: %.3f&#39; % perplexity)
<span class='lineno'> 748</span> 
<span class='lineno'> 749</span>                 # Graph summaries.
<span class='lineno'> 750</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_str', title='?'>summary_str</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>.run(
<span class='lineno'> 751</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.merge_summaries_op, feed_dict=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 752</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_str', title='?'>summary_str</a>)
<span class='lineno'> 753</span> 
<span class='lineno'> 754</span>                 # Summary:  n-gram
<span class='lineno'> 755</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a> = {&#39;2&#39;: 0., &#39;3&#39;: 0., &#39;4&#39;: 0.}
<span class='lineno'> 756</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', title='?'>data_ngram_count</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', title='dict'>data_ngram_counts</a>.iteritems():
<span class='lineno'> 757</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a> = <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', title='(?, ?, ?, ?, ?, ?) -> None / (?, ?, ?, dict, ?, int) -> None'>sequence_ngram_evaluation</a>(
<span class='lineno'> 758</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_sequence, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>,
<span class='lineno'> 759</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', title='?'>data_ngram_count</a>, int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>))
<span class='lineno'> 760</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_percent_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_percent_str', title='?'>summary_percent_str</a> = tf.Summary(value=[
<span class='lineno'> 761</span>                       tf.Summary.Value(
<span class='lineno'> 762</span>                           tag=&#39;general/%s-grams_percent_correct&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>,
<span class='lineno'> 763</span>                           simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a>)
<span class='lineno'> 764</span>                   ])
<span class='lineno'> 765</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.SummaryComputed(
<span class='lineno'> 766</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_percent_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_percent_str', title='?'>summary_percent_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 767</span> 
<span class='lineno'> 768</span>                 # Summary:  geometric_avg
<span class='lineno'> 769</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', title='None'>geometric_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', title='? -> None / dict -> None'>compute_geometric_average</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 770</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_geometric_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_geometric_avg_str', title='?'>summary_geometric_avg_str</a> = tf.Summary(value=[
<span class='lineno'> 771</span>                     tf.Summary.Value(
<span class='lineno'> 772</span>                         tag=&#39;general/geometric_avg&#39;, simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', title='None'>geometric_avg</a>)
<span class='lineno'> 773</span>                 ])
<span class='lineno'> 774</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.SummaryComputed(
<span class='lineno'> 775</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_geometric_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_geometric_avg_str', title='?'>summary_geometric_avg_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 776</span> 
<span class='lineno'> 777</span>                 # Summary:  arithmetic_avg
<span class='lineno'> 778</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', title='float'>arithmetic_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', title='? -> float / dict -> float'>compute_arithmetic_average</a>(
<span class='lineno'> 779</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 780</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_arithmetic_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_arithmetic_avg_str', title='?'>summary_arithmetic_avg_str</a> = tf.Summary(value=[
<span class='lineno'> 781</span>                     tf.Summary.Value(
<span class='lineno'> 782</span>                         tag=&#39;general/arithmetic_avg&#39;,
<span class='lineno'> 783</span>                         simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', title='float'>arithmetic_avg</a>)
<span class='lineno'> 784</span>                 ])
<span class='lineno'> 785</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.SummaryComputed(
<span class='lineno'> 786</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_arithmetic_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_arithmetic_avg_str', title='?'>summary_arithmetic_avg_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 787</span> 
<span class='lineno'> 788</span>                 # Summary:  perplexity
<span class='lineno'> 789</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_perplexity_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_perplexity_str', title='?'>summary_perplexity_str</a> = tf.Summary(value=[
<span class='lineno'> 790</span>                     tf.Summary.Value(
<span class='lineno'> 791</span>                         tag=&#39;general/perplexity&#39;, simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a>)
<span class='lineno'> 792</span>                 ])
<span class='lineno'> 793</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sv', title='?'>sv</a>.SummaryComputed(
<span class='lineno'> 794</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_perplexity_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.summary_perplexity_str', title='?'>summary_perplexity_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 795</span> 
<span class='lineno'> 796</span>               ## Printing and logging
<span class='lineno'> 797</span>               if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_chief', title='bool'>is_chief</a> and (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.print_every &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', title='int'>print_step_division</a>):
<span class='lineno'> 798</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.print_step_division', title='?'>print_step_division</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.print_every)
<span class='lineno'> 799</span>                 print(&#39;global_step: %d&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 800</span>                 print(&#39; perplexity: %.3f&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a>)
<span class='lineno'> 801</span>                 print(&#39; gen_learning_rate: %.6f&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', title='int'>gen_learning_rate</a>)
<span class='lineno'> 802</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39;global_step: %d\n&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>)
<span class='lineno'> 803</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39; perplexity: %.3f\n&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.perplexity', title='?'>perplexity</a>)
<span class='lineno'> 804</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39; gen_learning_rate: %.6f&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.gen_learning_rate', title='int'>gen_learning_rate</a>)
<span class='lineno'> 805</span> 
<span class='lineno'> 806</span>                 # Average percent captured for each of the n-grams.
<span class='lineno'> 807</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a> = {&#39;2&#39;: 0., &#39;3&#39;: 0., &#39;4&#39;: 0.}
<span class='lineno'> 808</span>                 for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', title='?'>data_ngram_count</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_counts', title='dict'>data_ngram_counts</a>.iteritems():
<span class='lineno'> 809</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a> = <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', title='(?, ?, ?, ?, ?, ?) -> None / (?, ?, ?, dict, ?, int) -> None'>sequence_ngram_evaluation</a>(
<span class='lineno'> 810</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>.fake_sequence, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>,
<span class='lineno'> 811</span>                       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.data_ngram_count', title='?'>data_ngram_count</a>, int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>))
<span class='lineno'> 812</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a>
<span class='lineno'> 813</span>                   print(&#39; percent of %s-grams captured: %.3f.&#39; %
<span class='lineno'> 814</span>                         (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a>))
<span class='lineno'> 815</span>                   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39; percent of %s-grams captured: %.3f.\n&#39; %
<span class='lineno'> 816</span>                             (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.n', title='?'>n</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.batch_percent_captured', title='None'>batch_percent_captured</a>))
<span class='lineno'> 817</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', title='None'>geometric_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', title='? -> None / dict -> None'>compute_geometric_average</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 818</span>                 print(&#39; geometric_avg: %.3f.&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', title='None'>geometric_avg</a>)
<span class='lineno'> 819</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39; geometric_avg: %.3f.&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.geometric_avg', title='None'>geometric_avg</a>)
<span class='lineno'> 820</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', title='float'>arithmetic_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', title='? -> float / dict -> float'>compute_arithmetic_average</a>(
<span class='lineno'> 821</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 822</span>                 print(&#39; arithmetic_avg: %.3f.&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', title='float'>arithmetic_avg</a>)
<span class='lineno'> 823</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.write(&#39; arithmetic_avg: %.3f.&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.arithmetic_avg', title='float'>arithmetic_avg</a>)
<span class='lineno'> 824</span> 
<span class='lineno'> 825</span>                 <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.print_and_log_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.print_and_log_losses', title='(?, ?, ?, ?, ?) -> None / (?, ?, float, [?], [?]) -> None'>print_and_log_losses</a>(
<span class='lineno'> 826</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.step', title='?'>step</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.is_present_rate', title='float'>is_present_rate</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a>,
<span class='lineno'> 827</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>)
<span class='lineno'> 828</span> 
<span class='lineno'> 829</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.gen_training_strategy == &#39;reinforce&#39;:
<span class='lineno'> 830</span>                   <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_RL_logs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_RL_logs', title='(?, (namedtuple), ?, dict, dict) -> None / (?, ?, ?, ?, ?) -> None / (?, (namedtuple), ?, ?, dict) -> None'>generate_RL_logs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>,
<span class='lineno'> 831</span>                                                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', title='dict'>id_to_word</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 832</span>                 else:
<span class='lineno'> 833</span>                   <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_logs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_logs', title='(?, (namedtuple), ?, dict, dict) -> None / (?, (namedtuple), ?, ?, dict) -> None / (?, ?, ?, ?, dict) -> None / (?, ?, ?, ?, ?) -> None'>generate_logs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.model', title='(namedtuple)'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'> 834</span>                                                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.train_feed', title='dict'>train_feed</a>)
<span class='lineno'> 835</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.flush()
<span class='lineno'> 836</span> 
<span class='lineno'> 837</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model.log', title='?'>log</a>.close()
<span class='lineno'> 838</span> 
<span class='lineno'> 839</span> 
<span class='lineno'> 840</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once', title='(?, ?, ?, ?, ?, ?, ?, ?, ?) -> None'>evaluate_once</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data', title='?'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', title='?'>train_dir</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.id_to_word', title='?'>id_to_word</a>,
<span class='lineno'> 841</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_counts', title='?'>data_ngram_counts</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_saver', title='?'>eval_saver</a>):
<span class='lineno'> 842</span>   &quot;&quot;&quot;Evaluate model for a number of steps.
<span class='lineno'> 843</span> 
<span class='lineno'> 844</span>   Args:
<span class='lineno'> 845</span>     data:  Dataset.
<span class='lineno'> 846</span>     sv: Supervisor.
<span class='lineno'> 847</span>     model: The GAN model we have just built.
<span class='lineno'> 848</span>     sess: A session to use.
<span class='lineno'> 849</span>     train_dir: Path to a directory containing checkpoints.
<span class='lineno'> 850</span>     log: Evaluation log for evaluation.
<span class='lineno'> 851</span>     id_to_word: Dictionary of indices to words.
<span class='lineno'> 852</span>     data_ngram_counts: Dictionary of hashed(n-gram tuples) to counts in the
<span class='lineno'> 853</span>       data_set.
<span class='lineno'> 854</span>     eval_saver:  Evaluation saver.r.
<span class='lineno'> 855</span>   &quot;&quot;&quot;
<span class='lineno'> 856</span>   tf.logging.info(&#39;Evaluate Once.&#39;)
<span class='lineno'> 857</span>   # Load the last model checkpoint, or initialize the graph.
<span class='lineno'> 858</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', title='?'>model_save_path</a> = tf.latest_checkpoint(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', title='?'>train_dir</a>)
<span class='lineno'> 859</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', title='?'>model_save_path</a>:
<span class='lineno'> 860</span>     tf.logging.warning(&#39;No checkpoint yet in: %s&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.train_dir', title='?'>train_dir</a>)
<span class='lineno'> 861</span>     return
<span class='lineno'> 862</span> 
<span class='lineno'> 863</span>   tf.logging.info(&#39;Starting eval of: %s&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', title='?'>model_save_path</a>)
<span class='lineno'> 864</span>   tf.logging.info(&#39;Only restoring trainable variables.&#39;)
<span class='lineno'> 865</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_saver', title='?'>eval_saver</a>.restore(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model_save_path', title='?'>model_save_path</a>)
<span class='lineno'> 866</span> 
<span class='lineno'> 867</span>   # Run the requested number of evaluation steps
<span class='lineno'> 868</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a> = [], []
<span class='lineno'> 869</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', title='float'>cumulative_costs</a> = 0.
<span class='lineno'> 870</span> 
<span class='lineno'> 871</span>   # Average percent captured for each of the n-grams.
<span class='lineno'> 872</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a> = {&#39;2&#39;: 0., &#39;3&#39;: 0., &#39;4&#39;: 0.}
<span class='lineno'> 873</span> 
<span class='lineno'> 874</span>   # Set a random seed to keep fixed mask.
<span class='lineno'> 875</span>   np.random.seed(0)
<span class='lineno'> 876</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', title='int'>gen_iters</a> = 0
<span class='lineno'> 877</span> 
<span class='lineno'> 878</span>   # Generator statefulness over the epoch.
<span class='lineno'> 879</span>   # TODO(liamfedus):  Check this.
<span class='lineno'> 880</span>   [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>.run(
<span class='lineno'> 881</span>       [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.eval_initial_state, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.fake_gen_initial_state])
<span class='lineno'> 882</span> 
<span class='lineno'> 883</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.eval_language_model:
<span class='lineno'> 884</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='float'>is_present_rate</a> = 0.
<span class='lineno'> 885</span>     tf.logging.info(&#39;Overriding is_present_rate=0. for evaluation.&#39;)
<span class='lineno'> 886</span>     print(&#39;Overriding is_present_rate=0. for evaluation.&#39;)
<span class='lineno'> 887</span> 
<span class='lineno'> 888</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.iterator', title='None'>iterator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.get_iterator', title='{[?] | [{[?] | [int]}]} -> None / ? -> None'>get_iterator</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data', title='?'>data</a>)
<span class='lineno'> 889</span> 
<span class='lineno'> 890</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.x', title='?'>x</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.y', title='?'>y</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once._', title='?'>_</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.iterator', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.iterator', title='None'>iterator</a>:
<span class='lineno'> 891</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.eval_language_model:
<span class='lineno'> 892</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='float'>is_present_rate</a> = 0.
<span class='lineno'> 893</span>     else:
<span class='lineno'> 894</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='?'>is_present_rate</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.is_present_rate
<span class='lineno'> 895</span>       tf.logging.info(&#39;Evaluating on is_present_rate=%.3f.&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='?'>is_present_rate</a>)
<span class='lineno'> 896</span> 
<span class='lineno'> 897</span>     <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.assign_percent_real(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.percent_real_update,
<span class='lineno'> 898</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.new_rate, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='float'>is_present_rate</a>)
<span class='lineno'> 899</span> 
<span class='lineno'> 900</span>     # Randomly mask out tokens.
<span class='lineno'> 901</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.p', title='?'>p</a> = <a href='model_utils/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils', title='model_utils'>model_utils</a>.generate_mask()
<span class='lineno'> 902</span> 
<span class='lineno'> 903</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.inputs: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.x', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.x', title='?'>x</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.targets: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.y', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.y', title='?'>y</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.present: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.p', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.p', title='?'>p</a>}
<span class='lineno'> 904</span> 
<span class='lineno'> 905</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'> 906</span>       # Statefulness for *evaluation* Generator.
<span class='lineno'> 907</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.eval_initial_state):
<span class='lineno'> 908</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>].c
<span class='lineno'> 909</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>].h
<span class='lineno'> 910</span> 
<span class='lineno'> 911</span>       # Statefulness for the Generator.
<span class='lineno'> 912</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>, (<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', title='?'>c</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', title='?'>h</a>) in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.fake_gen_initial_state):
<span class='lineno'> 913</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.c', title='?'>c</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>].c
<span class='lineno'> 914</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.h', title='?'>h</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.i', title='?'>i</a>].h
<span class='lineno'> 915</span> 
<span class='lineno'> 916</span>     [
<span class='lineno'> 917</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_log_perplexity_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_log_perplexity_eval', title='?'>gen_log_perplexity_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.dis_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.dis_loss_eval', title='?'>dis_loss_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_loss_eval', title='?'>gen_loss_eval</a>,
<span class='lineno'> 918</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_initial_state_eval', title='?'>gen_initial_state_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.fake_gen_initial_state_eval', title='?'>fake_gen_initial_state_eval</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>
<span class='lineno'> 919</span>     ] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>.run(
<span class='lineno'> 920</span>         [
<span class='lineno'> 921</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.avg_log_perplexity, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.dis_loss, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.gen_loss,
<span class='lineno'> 922</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.eval_final_state, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.fake_gen_final_state,
<span class='lineno'> 923</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.global_step
<span class='lineno'> 924</span>         ],
<span class='lineno'> 925</span>         feed_dict=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>)
<span class='lineno'> 926</span> 
<span class='lineno'> 927</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_count', title='?'>data_ngram_count</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_counts', title='?'>data_ngram_counts</a>.iteritems():
<span class='lineno'> 928</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.batch_percent_captured', title='None'>batch_percent_captured</a> = <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.sequence_ngram_evaluation', title='(?, ?, ?, ?, ?, ?) -> None / (?, ?, ?, dict, ?, int) -> None'>sequence_ngram_evaluation</a>(
<span class='lineno'> 929</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.fake_sequence, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.data_ngram_count', title='?'>data_ngram_count</a>, int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>))
<span class='lineno'> 930</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>] += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.batch_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.batch_percent_captured', title='None'>batch_percent_captured</a>
<span class='lineno'> 931</span> 
<span class='lineno'> 932</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', title='float'>cumulative_costs</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_log_perplexity_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_log_perplexity_eval', title='?'>gen_log_perplexity_eval</a>
<span class='lineno'> 933</span> 
<span class='lineno'> 934</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.dis_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.dis_loss_eval', title='?'>dis_loss_eval</a>)
<span class='lineno'> 935</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_loss_eval', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_loss_eval', title='?'>gen_loss_eval</a>)
<span class='lineno'> 936</span> 
<span class='lineno'> 937</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', title='int'>gen_iters</a></a> += 1
<span class='lineno'> 938</span> 
<span class='lineno'> 939</span>   # Calulate rolling metrics.
<span class='lineno'> 940</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a> = np.exp(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.cumulative_costs', title='float'>cumulative_costs</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', title='int'>gen_iters</a>)
<span class='lineno'> 941</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once._', title='?'>_</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>.iteritems():
<span class='lineno'> 942</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>] /= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.gen_iters', title='int'>gen_iters</a>
<span class='lineno'> 943</span> 
<span class='lineno'> 944</span>   # Confirm perplexity is not infinite.
<span class='lineno'> 945</span>   if not np.isfinite(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a>) or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.perplexity_threshold:
<span class='lineno'> 946</span>     print(&#39;Evaluation raising FloatingPointError.&#39;)
<span class='lineno'> 947</span>     raise FloatingPointError(
<span class='lineno'> 948</span>         &#39;Evaluation infinite perplexity: %.3f&#39; % perplexity)
<span class='lineno'> 949</span> 
<span class='lineno'> 950</span>   ## Printing and logging.
<span class='lineno'> 951</span>   <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.print_and_log_losses', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.print_and_log_losses', title='(?, ?, ?, ?, ?) -> None / (?, ?, float, [?], [?]) -> None'>print_and_log_losses</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.is_present_rate', title='float'>is_present_rate</a>,
<span class='lineno'> 952</span>                                         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_dis_loss', title='[?]'>avg_epoch_dis_loss</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_epoch_gen_loss', title='[?]'>avg_epoch_gen_loss</a>)
<span class='lineno'> 953</span>   print(&#39; perplexity: %.3f&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a>)
<span class='lineno'> 954</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>.write(&#39; perplexity: %.3f\n&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a>)
<span class='lineno'> 955</span> 
<span class='lineno'> 956</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', title='?'>n_gram_percent</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>.iteritems():
<span class='lineno'> 957</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a>)
<span class='lineno'> 958</span>     print(&#39; percent of %d-grams captured: %.3f.&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', title='?'>n_gram_percent</a>))
<span class='lineno'> 959</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>.write(&#39; percent of %d-grams captured: %.3f.\n&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', title='?'>n_gram_percent</a>))
<span class='lineno'> 960</span> 
<span class='lineno'> 961</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.samples', title='None'>samples</a> = <a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils', title='evaluation_utils'>evaluation_utils</a>.<a href='models/evaluation_utils.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_logs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.evaluation_utils.generate_logs', title='(?, (namedtuple), ?, dict, dict) -> None / (?, (namedtuple), ?, ?, dict) -> None / (?, ?, ?, ?, dict) -> None / (?, ?, ?, ?, ?) -> None'>generate_logs</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.id_to_word', title='?'>id_to_word</a>,
<span class='lineno'> 962</span>                                            <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>)
<span class='lineno'> 963</span> 
<span class='lineno'> 964</span>   ## Summaries.
<span class='lineno'> 965</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', title='?'>summary_str</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>.run(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.merge_summaries_op, feed_dict=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.eval_feed', title='dict'>eval_feed</a>)
<span class='lineno'> 966</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', title='?'>summary_str</a>)
<span class='lineno'> 967</span> 
<span class='lineno'> 968</span>   # Summary: text
<span class='lineno'> 969</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', title='?'>summary_str</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>.run(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.text_summary_op,
<span class='lineno'> 970</span>                          {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.model', title='?'>model</a>.text_summary_placeholder: &#39;\n\n&#39;.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.samples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.samples', title='None'>samples</a>)})
<span class='lineno'> 971</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_str', title='?'>summary_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>)
<span class='lineno'> 972</span> 
<span class='lineno'> 973</span>   # Summary:  n-gram
<span class='lineno'> 974</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='?'>n</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', title='?'>n_gram_percent</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>.iteritems():
<span class='lineno'> 975</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a>)
<span class='lineno'> 976</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_percent_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_percent_str', title='?'>summary_percent_str</a> = tf.Summary(value=[
<span class='lineno'> 977</span>         tf.Summary.Value(
<span class='lineno'> 978</span>             tag=&#39;general/%d-grams_percent_correct&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n', title='int'>n</a>,
<span class='lineno'> 979</span>             simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.n_gram_percent', title='?'>n_gram_percent</a>)
<span class='lineno'> 980</span>     ])
<span class='lineno'> 981</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_percent_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_percent_str', title='?'>summary_percent_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>)
<span class='lineno'> 982</span> 
<span class='lineno'> 983</span>   # Summary:  geometric_avg
<span class='lineno'> 984</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.geometric_avg', title='None'>geometric_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_geometric_average', title='? -> None / dict -> None'>compute_geometric_average</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 985</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_geometric_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_geometric_avg_str', title='?'>summary_geometric_avg_str</a> = tf.Summary(value=[
<span class='lineno'> 986</span>       tf.Summary.Value(tag=&#39;general/geometric_avg&#39;, simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.geometric_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.geometric_avg', title='None'>geometric_avg</a>)
<span class='lineno'> 987</span>   ])
<span class='lineno'> 988</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_geometric_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_geometric_avg_str', title='?'>summary_geometric_avg_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>)
<span class='lineno'> 989</span> 
<span class='lineno'> 990</span>   # Summary:  arithmetic_avg
<span class='lineno'> 991</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.arithmetic_avg', title='float'>arithmetic_avg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.compute_arithmetic_average', title='? -> float / dict -> float'>compute_arithmetic_average</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.avg_percent_captured', title='dict'>avg_percent_captured</a>)
<span class='lineno'> 992</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_arithmetic_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_arithmetic_avg_str', title='?'>summary_arithmetic_avg_str</a> = tf.Summary(value=[
<span class='lineno'> 993</span>       tf.Summary.Value(
<span class='lineno'> 994</span>           tag=&#39;general/arithmetic_avg&#39;, simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.arithmetic_avg', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.arithmetic_avg', title='float'>arithmetic_avg</a>)
<span class='lineno'> 995</span>   ])
<span class='lineno'> 996</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_arithmetic_avg_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_arithmetic_avg_str', title='?'>summary_arithmetic_avg_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>)
<span class='lineno'> 997</span> 
<span class='lineno'> 998</span>   # Summary:  perplexity
<span class='lineno'> 999</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_perplexity_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_perplexity_str', title='?'>summary_perplexity_str</a> = tf.Summary(value=[
<span class='lineno'>1000</span>       tf.Summary.Value(tag=&#39;general/perplexity&#39;, simple_value=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.perplexity', title='?'>perplexity</a>)
<span class='lineno'>1001</span>   ])
<span class='lineno'>1002</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sv', title='?'>sv</a>.SummaryComputed(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_perplexity_str', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.summary_perplexity_str', title='?'>summary_perplexity_str</a>, global_step=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once.step', title='?'>step</a>)
<span class='lineno'>1003</span> 
<span class='lineno'>1004</span> 
<span class='lineno'>1005</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> None / (?, ?, ?, ?, ?, ?) -> None'>evaluate_model</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', title='None'>hparams</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', title='str'>train_dir</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.log', title='?'>log</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1006</span>                    <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data_ngram_counts', title='dict'>data_ngram_counts</a>):
<span class='lineno'>1007</span>   &quot;&quot;&quot;Evaluate MaskGAN model.
<span class='lineno'>1008</span> 
<span class='lineno'>1009</span>   Args:
<span class='lineno'>1010</span>     hparams:  Hyperparameters for the MaskGAN.
<span class='lineno'>1011</span>     data: Data to evaluate.
<span class='lineno'>1012</span>     train_dir: Path to a directory containing checkpoints.
<span class='lineno'>1013</span>     id_to_word: Dictionary of indices to words.
<span class='lineno'>1014</span>     data_ngram_counts: Dictionary of hashed(n-gram tuples) to counts in the
<span class='lineno'>1015</span>       data_set.
<span class='lineno'>1016</span>   &quot;&quot;&quot;
<span class='lineno'>1017</span>   tf.logging.error(&#39;Evaluate model.&#39;)
<span class='lineno'>1018</span> 
<span class='lineno'>1019</span>   # Boolean indicating operational mode.
<span class='lineno'>1020</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', title='bool'>is_training</a> = False
<span class='lineno'>1021</span> 
<span class='lineno'>1022</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a>:
<span class='lineno'>1023</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', title='str'>logdir</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory + &#39;/validation&#39;
<span class='lineno'>1024</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a>:
<span class='lineno'>1025</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', title='str'>logdir</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory + &#39;/train_eval&#39;
<span class='lineno'>1026</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', title='str'>MODE_TEST</a>:
<span class='lineno'>1027</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', title='str'>logdir</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory + &#39;/test&#39;
<span class='lineno'>1028</span>   else:
<span class='lineno'>1029</span>     raise NotImplementedError
<span class='lineno'>1030</span> 
<span class='lineno'>1031</span>   # Wait for a checkpoint to exist.
<span class='lineno'>1032</span>   print(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', title='str'>train_dir</a>)
<span class='lineno'>1033</span>   print(tf.train.latest_checkpoint(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', title='str'>train_dir</a>))
<span class='lineno'>1034</span>   while not tf.train.latest_checkpoint(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', title='str'>train_dir</a>):
<span class='lineno'>1035</span>     tf.logging.error(&#39;Waiting for checkpoint...&#39;)
<span class='lineno'>1036</span>     print(&#39;Waiting for checkpoint...&#39;)
<span class='lineno'>1037</span>     time.sleep(10)
<span class='lineno'>1038</span> 
<span class='lineno'>1039</span>   with tf.Graph().as_default():
<span class='lineno'>1040</span>     # Use a separate container for each trial
<span class='lineno'>1041</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.container_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.container_name', title='str'>container_name</a> = &#39;&#39;
<span class='lineno'>1042</span>     with tf.container(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.container_name', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.container_name', title='str'>container_name</a>):
<span class='lineno'>1043</span> 
<span class='lineno'>1044</span>       # Construct the model.
<span class='lineno'>1045</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.num_rollouts == 1:
<span class='lineno'>1046</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', title='(namedtuple)'>model</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_MaskGAN', title='(None, bool) -> (namedtuple) / (?, bool) -> (namedtuple) / (?, ?) -> (namedtuple)'>create_MaskGAN</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', title='bool'>is_training</a>)
<span class='lineno'>1047</span>       elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.num_rollouts &gt; 1:
<span class='lineno'>1048</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', title='(namedtuple)'>model</a> = <a href='models/rollout.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout', title='rollout'>rollout</a>.<a href='models/rollout.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout.create_rollout_MaskGAN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.models.rollout.create_rollout_MaskGAN', title='(None, bool) -> (namedtuple) / (?, bool) -> (namedtuple) / (?, ?) -> (namedtuple)'>create_rollout_MaskGAN</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.is_training', title='bool'>is_training</a>)
<span class='lineno'>1049</span>       else:
<span class='lineno'>1050</span>         raise ValueError
<span class='lineno'>1051</span> 
<span class='lineno'>1052</span>       # Create the supervisor.  It will take care of initialization, summaries,
<span class='lineno'>1053</span>       # checkpoints, and recovery.  We only pass the trainable variables
<span class='lineno'>1054</span>       # to load since things like baselines keep batch_size which may not
<span class='lineno'>1055</span>       # match between training and evaluation.
<span class='lineno'>1056</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', title='?'>evaluation_variables</a> = tf.trainable_variables()
<span class='lineno'>1057</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', title='?'>evaluation_variables</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', title='(namedtuple)'>model</a>.global_step)
<span class='lineno'>1058</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.eval_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.eval_saver', title='?'>eval_saver</a> = tf.train.Saver(var_list=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.evaluation_variables', title='?'>evaluation_variables</a>)
<span class='lineno'>1059</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a> = tf.Supervisor(logdir=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.logdir', title='str'>logdir</a>)
<span class='lineno'>1060</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sess', title='?'>sess</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a>.PrepareSession(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.eval_master, start_standard_services=False)
<span class='lineno'>1061</span> 
<span class='lineno'>1062</span>       tf.logging.info(&#39;Before sv.Loop.&#39;)
<span class='lineno'>1063</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a>.Loop(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.eval_interval_secs, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_once', title='(?, ?, ?, ?, ?, ?, ?, ?, ?) -> None'>evaluate_once</a>,
<span class='lineno'>1064</span>               (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data', title='{[?] | [{[?] | [int]}]}'>data</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.model', title='(namedtuple)'>model</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sess', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sess', title='?'>sess</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.train_dir', title='str'>train_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1065</span>                <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.data_ngram_counts', title='dict'>data_ngram_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.eval_saver', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.eval_saver', title='?'>eval_saver</a>))
<span class='lineno'>1066</span> 
<span class='lineno'>1067</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a>.WaitForStop()
<span class='lineno'>1068</span>       tf.logging.info(&#39;sv.Stop().&#39;)
<span class='lineno'>1069</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model.sv', title='?'>sv</a>.Stop()
<span class='lineno'>1070</span> 
<span class='lineno'>1071</span> 
<span class='lineno'>1072</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main', title='? -> None'>main</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main._', title='?'>_</a>):
<span class='lineno'>1073</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', title='None'>hparams</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.create_hparams', title='() -> None'>create_hparams</a>()
<span class='lineno'>1074</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', title='str'>train_dir</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory + &#39;/train&#39;
<span class='lineno'>1075</span> 
<span class='lineno'>1076</span>   # Load data set.
<span class='lineno'>1077</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'>1078</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', title='([?], [?], [?], int)'>raw_data</a> = <a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', title='ptb_loader'>ptb_loader</a>.<a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.ptb_raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.ptb_raw_data', title='? -> ([?], [?], [?], int) / None -> ([?], [?], [?], int)'>ptb_raw_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_dir)
<span class='lineno'>1079</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', title='[?]'>train_data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', title='[?]'>valid_data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.test_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.test_data', title='[?]'>test_data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main._', title='int'>_</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', title='([?], [?], [?], int)'>raw_data</a>
<span class='lineno'>1080</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', title='[?]'>valid_data_flat</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', title='[?]'>valid_data</a>
<span class='lineno'>1081</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;imdb&#39;:
<span class='lineno'>1082</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', title='([{[?] | [int]}], [{[?] | [int]}])'>raw_data</a> = <a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', title='imdb_loader'>imdb_loader</a>.<a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.imdb_raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.imdb_raw_data', title='None -> ([{[?] | [int]}], [{[?] | [int]}]) / ? -> ([{[?] | [int]}], [{[?] | [int]}])'>imdb_raw_data</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_dir)
<span class='lineno'>1083</span>     # TODO(liamfedus): Get an IMDB test partition.
<span class='lineno'>1084</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', title='[{[?] | [int]}]'>train_data</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', title='[{[?] | [int]}]'>valid_data</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.raw_data', title='([{[?] | [int]}], [{[?] | [int]}])'>raw_data</a>
<span class='lineno'>1085</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', title='[?]'>valid_data_flat</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', title='?'>word</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', title='{[?] | [int]}'><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', title='{[?] | [int]}'>review</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', title='[{[?] | [int]}]'>valid_data</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word', title='?'>word</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.review', title='{[?] | [int]}'>review</a>]
<span class='lineno'>1086</span>   else:
<span class='lineno'>1087</span>     raise NotImplementedError
<span class='lineno'>1088</span> 
<span class='lineno'>1089</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', title='str'>MODE_TRAIN</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a>:
<span class='lineno'>1090</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_data', title='{[?] | [{[?] | [int]}]}'>train_data</a>
<span class='lineno'>1091</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a>:
<span class='lineno'>1092</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data', title='{[?] | [{[?] | [int]}]}'>valid_data</a>
<span class='lineno'>1093</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', title='str'>MODE_TEST</a>:
<span class='lineno'>1094</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='[?]'>data_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.test_data', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.test_data', title='[?]'>test_data</a>
<span class='lineno'>1095</span>   else:
<span class='lineno'>1096</span>     raise NotImplementedError
<span class='lineno'>1097</span> 
<span class='lineno'>1098</span>   # Dictionary and reverse dictionry.
<span class='lineno'>1099</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;ptb&#39;:
<span class='lineno'>1100</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', title='dict'>word_to_id</a> = <a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader', title='ptb_loader'>ptb_loader</a>.<a href='data/ptb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.build_vocab', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.ptb_loader.build_vocab', title='str -> dict / ? -> dict'>build_vocab</a>(
<span class='lineno'>1101</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_dir, &#39;ptb.train.txt&#39;))
<span class='lineno'>1102</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_set == &#39;imdb&#39;:
<span class='lineno'>1103</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', title='dict'>word_to_id</a> = <a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader', title='imdb_loader'>imdb_loader</a>.<a href='data/imdb_loader.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.build_vocab', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.data.imdb_loader.build_vocab', title='str -> dict / ? -> dict'>build_vocab</a>(
<span class='lineno'>1104</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.data_dir, &#39;vocab.txt&#39;))
<span class='lineno'>1105</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', title='?'>v</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', title='?'>k</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.k', title='?'>k</a></a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.v', title='?'>v</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.word_to_id', title='{dict | dict}'>word_to_id</a>.iteritems()}
<span class='lineno'>1106</span> 
<span class='lineno'>1107</span>   # Dictionary of Training Set n-gram counts.
<span class='lineno'>1108</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_tuples', title='[?]'>bigram_tuples</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', title='([?], int) -> [?] / (?, ?) -> [?]'>find_all_ngrams</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', title='[?]'>valid_data_flat</a>, n=2)
<span class='lineno'>1109</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_tuples', title='[?]'>trigram_tuples</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', title='([?], int) -> [?] / (?, ?) -> [?]'>find_all_ngrams</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', title='[?]'>valid_data_flat</a>, n=3)
<span class='lineno'>1110</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_tuples', title='[?]'>fourgram_tuples</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.find_all_ngrams', title='([?], int) -> [?] / (?, ?) -> [?]'>find_all_ngrams</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.valid_data_flat', title='[?]'>valid_data_flat</a>, n=4)
<span class='lineno'>1111</span> 
<span class='lineno'>1112</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', title='dict'>bigram_counts</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', title='[?] -> dict / ? -> dict'>construct_ngrams_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_tuples', title='[?]'>bigram_tuples</a>)
<span class='lineno'>1113</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', title='dict'>trigram_counts</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', title='[?] -> dict / ? -> dict'>construct_ngrams_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_tuples', title='[?]'>trigram_tuples</a>)
<span class='lineno'>1114</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', title='dict'>fourgram_counts</a> = <a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram', title='n_gram'>n_gram</a>.<a href='model_utils/n_gram.py.html#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.model_utils.n_gram.construct_ngrams_dict', title='[?] -> dict / ? -> dict'>construct_ngrams_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_tuples', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_tuples', title='[?]'>fourgram_tuples</a>)
<span class='lineno'>1115</span>   print(&#39;Unique %d-grams: %d&#39; % (2, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', title='dict'>bigram_counts</a>)))
<span class='lineno'>1116</span>   print(&#39;Unique %d-grams: %d&#39; % (3, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', title='dict'>trigram_counts</a>)))
<span class='lineno'>1117</span>   print(&#39;Unique %d-grams: %d&#39; % (4, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', title='dict'>fourgram_counts</a>)))
<span class='lineno'>1118</span> 
<span class='lineno'>1119</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', title='dict'>data_ngram_counts</a> = {
<span class='lineno'>1120</span>       &#39;2&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.bigram_counts', title='dict'>bigram_counts</a>,
<span class='lineno'>1121</span>       &#39;3&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.trigram_counts', title='dict'>trigram_counts</a>,
<span class='lineno'>1122</span>       &#39;4&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.fourgram_counts', title='dict'>fourgram_counts</a>
<span class='lineno'>1123</span>   }
<span class='lineno'>1124</span> 
<span class='lineno'>1125</span>   # TODO(liamfedus):  This was necessary because there was a problem with our
<span class='lineno'>1126</span>   # originally trained IMDB models.  The EOS_INDEX was off by one, which means,
<span class='lineno'>1127</span>   # two words were mapping to index 86933.  The presence of &#39;&lt;/s&gt;&#39; is going
<span class='lineno'>1128</span>   # to throw and out of vocabulary error.
<span class='lineno'>1129</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.vocab_size = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a>)
<span class='lineno'>1130</span>   print(&#39;Vocab size: %d&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.vocab_size)
<span class='lineno'>1131</span> 
<span class='lineno'>1132</span>   tf.gfile.MakeDirs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory)
<span class='lineno'>1133</span> 
<span class='lineno'>1134</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', title='str'>MODE_TRAIN</a>:
<span class='lineno'>1135</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a> = tf.gfile.GFile(
<span class='lineno'>1136</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory, &#39;train-log.txt&#39;), mode=&#39;w&#39;)
<span class='lineno'>1137</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a>:
<span class='lineno'>1138</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a> = tf.gfile.GFile(
<span class='lineno'>1139</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory, &#39;validation-log.txt&#39;), mode=&#39;w&#39;)
<span class='lineno'>1140</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a>:
<span class='lineno'>1141</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a> = tf.gfile.GFile(
<span class='lineno'>1142</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory, &#39;train_eval-log.txt&#39;), mode=&#39;w&#39;)
<span class='lineno'>1143</span>   else:
<span class='lineno'>1144</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a> = tf.gfile.GFile(
<span class='lineno'>1145</span>         os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.base_directory, &#39;test-log.txt&#39;), mode=&#39;w&#39;)
<span class='lineno'>1146</span> 
<span class='lineno'>1147</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN', title='str'>MODE_TRAIN</a>:
<span class='lineno'>1148</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.train_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> ? / (?, ?, ?, ?, ?, ?) -> ?'>train_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', title='str'>train_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1149</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', title='dict'>data_ngram_counts</a>)
<span class='lineno'>1150</span> 
<span class='lineno'>1151</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_VALIDATION', title='str'>MODE_VALIDATION</a>:
<span class='lineno'>1152</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> None / (?, ?, ?, ?, ?, ?) -> None'>evaluate_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', title='str'>train_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1153</span>                    <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', title='dict'>data_ngram_counts</a>)
<span class='lineno'>1154</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TRAIN_EVAL', title='str'>MODE_TRAIN_EVAL</a>:
<span class='lineno'>1155</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> None / (?, ?, ?, ?, ?, ?) -> None'>evaluate_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', title='str'>train_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1156</span>                    <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', title='dict'>data_ngram_counts</a>)
<span class='lineno'>1157</span> 
<span class='lineno'>1158</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.FLAGS', title='?'>FLAGS</a>.mode == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.MODE_TEST', title='str'>MODE_TEST</a>:
<span class='lineno'>1159</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.evaluate_model', title='(None, {[?] | [{[?] | [int]}]}, str, ?, dict, dict) -> None / (?, ?, ?, ?, ?, ?) -> None'>evaluate_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.hparams', title='None'>hparams</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_set', title='{[?] | [{[?] | [int]}]}'>data_set</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.train_dir', title='str'>train_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.log', title='?'>log</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.id_to_word', title='dict'>id_to_word</a>,
<span class='lineno'>1160</span>                    <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.maskgan.train_mask_gan.main.data_ngram_counts', title='dict'>data_ngram_counts</a>)
<span class='lineno'>1161</span> 
<span class='lineno'>1162</span>   else:
<span class='lineno'>1163</span>     raise NotImplementedError
<span class='lineno'>1164</span> 
<span class='lineno'>1165</span> 
<span class='lineno'>1166</span> if __name__ == &#39;__main__&#39;:
<span class='lineno'>1167</span>   tf.app.run()
</pre></td></tr></table></body></html>