<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/research/deeplab/core/preprocess_utils.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim'>flip_dim</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions'>_image_dimensions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method'>get_label_resize_method</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box'>pad_to_bounding_box</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop'>_crop</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop'>random_crop</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale'>get_random_scale</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label'>randomly_scale_image_and_label</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape'>resolve_shape</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range', xid='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range'>resize_to_range</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Lint as: python2, python3
<span class='lineno'>   2</span> # Copyright 2018 The TensorFlow Authors All Rights Reserved.
<span class='lineno'>   3</span> #
<span class='lineno'>   4</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   5</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   6</span> # You may obtain a copy of the License at
<span class='lineno'>   7</span> #
<span class='lineno'>   8</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   9</span> #
<span class='lineno'>  10</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  11</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  12</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  13</span> # See the License for the specific language governing permissions and
<span class='lineno'>  14</span> # limitations under the License.
<span class='lineno'>  15</span> # ==============================================================================
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> &quot;&quot;&quot;Utility functions related to preprocessing inputs.&quot;&quot;&quot;
<span class='lineno'>  18</span> from __future__ import absolute_import
<span class='lineno'>  19</span> from __future__ import division
<span class='lineno'>  20</span> from __future__ import print_function
<span class='lineno'>  21</span> from six.moves import range
<span class='lineno'>  22</span> from six.moves import zip
<span class='lineno'>  23</span> import tensorflow as tf
<span class='lineno'>  24</span> 
<span class='lineno'>  25</span> 
<span class='lineno'>  26</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim', title='(?, float, int) -> [?]'>flip_dim</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', title='?'>tensor_list</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.prob', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.prob', title='float'>prob</a>=0.5, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', title='int'>dim</a>=1):
<span class='lineno'>  27</span>   &quot;&quot;&quot;Randomly flips a dimension of the given tensor.
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span>   The decision to randomly flip the `Tensors` is made together. In other words,
<span class='lineno'>  30</span>   all or none of the images pass in are flipped.
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span>   Note that tf.random_flip_left_right and tf.random_flip_up_down isn&#39;t used so
<span class='lineno'>  33</span>   that we can control for the probability as well as ensure the same decision
<span class='lineno'>  34</span>   is applied across the images.
<span class='lineno'>  35</span> 
<span class='lineno'>  36</span>   Args:
<span class='lineno'>  37</span>     tensor_list: A list of `Tensors` with the same number of dimensions.
<span class='lineno'>  38</span>     prob: The probability of a left-right flip.
<span class='lineno'>  39</span>     dim: The dimension to flip, 0, 1, ..
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span>   Returns:
<span class='lineno'>  42</span>     outputs: A list of the possibly flipped `Tensors` as well as an indicator
<span class='lineno'>  43</span>     `Tensor` at the end whose value is `True` if the inputs were flipped and
<span class='lineno'>  44</span>     `False` otherwise.
<span class='lineno'>  45</span> 
<span class='lineno'>  46</span>   Raises:
<span class='lineno'>  47</span>     ValueError: If dim is negative or greater than the dimension of a `Tensor`.
<span class='lineno'>  48</span>   &quot;&quot;&quot;
<span class='lineno'>  49</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.random_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.random_value', title='?'>random_value</a> = tf.random_uniform([])
<span class='lineno'>  50</span> 
<span class='lineno'>  51</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip', title='() -> [?]'>flip</a>():
<span class='lineno'>  52</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', title='[?]'>flipped</a> = []
<span class='lineno'>  53</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', title='?'>tensor</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', title='?'>tensor_list</a>:
<span class='lineno'>  54</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', title='int'>dim</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', title='int'>dim</a> &gt;= len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', title='?'>tensor</a>.get_shape().as_list()):
<span class='lineno'>  55</span>         raise ValueError(&#39;dim must represent a valid dimension.&#39;)
<span class='lineno'>  56</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', title='[?]'>flipped</a>.append(tf.reverse_v2(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.tensor', title='?'>tensor</a>, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.dim', title='int'>dim</a>]))
<span class='lineno'>  57</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip.flipped', title='[?]'>flipped</a>
<span class='lineno'>  58</span> 
<span class='lineno'>  59</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', title='?'>is_flipped</a> = tf.less_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.random_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.random_value', title='?'>random_value</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.prob', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.prob', title='float'>prob</a>)
<span class='lineno'>  60</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='?'>outputs</a> = tf.cond(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', title='?'>is_flipped</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.flip', title='() -> [?]'>flip</a>, lambda: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.tensor_list', title='?'>tensor_list</a>)
<span class='lineno'>  61</span>   if not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='?'>outputs</a>, (list, tuple)):
<span class='lineno'>  62</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='[?]'>outputs</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='?'>outputs</a>]
<span class='lineno'>  63</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='[?]'>outputs</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.is_flipped', title='?'>is_flipped</a>)
<span class='lineno'>  64</span> 
<span class='lineno'>  65</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.flip_dim.outputs', title='[?]'>outputs</a>
<span class='lineno'>  66</span> 
<span class='lineno'>  67</span> 
<span class='lineno'>  68</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions', title='(?, int) -> [?] / (?, ?) -> [?]'>_image_dimensions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', title='?'>image</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', title='int'>rank</a>):
<span class='lineno'>  69</span>   &quot;&quot;&quot;Returns the dimensions of an image tensor.
<span class='lineno'>  70</span> 
<span class='lineno'>  71</span>   Args:
<span class='lineno'>  72</span>     image: A rank-D Tensor. For 3-D of shape: `[height, width, channels]`.
<span class='lineno'>  73</span>     rank: The expected rank of the image
<span class='lineno'>  74</span> 
<span class='lineno'>  75</span>   Returns:
<span class='lineno'>  76</span>     A list of corresponding to the dimensions of the input image. Dimensions
<span class='lineno'>  77</span>       that are statically known are python integers, otherwise they are integer
<span class='lineno'>  78</span>       scalar tensors.
<span class='lineno'>  79</span>   &quot;&quot;&quot;
<span class='lineno'>  80</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', title='?'>image</a>.get_shape().is_fully_defined():
<span class='lineno'>  81</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', title='?'>image</a>.get_shape().as_list()
<span class='lineno'>  82</span>   else:
<span class='lineno'>  83</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.static_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.static_shape', title='?'>static_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', title='?'>image</a>.get_shape().with_rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', title='int'>rank</a>).as_list()
<span class='lineno'>  84</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.dynamic_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.dynamic_shape', title='?'>dynamic_shape</a> = tf.unstack(tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.image', title='?'>image</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.rank', title='int'>rank</a>)
<span class='lineno'>  85</span>     return [
<span class='lineno'>  86</span>         s if s is not None else d for s, d in zip(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.static_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.static_shape', title='?'>static_shape</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.dynamic_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions.dynamic_shape', title='?'>dynamic_shape</a>)
<span class='lineno'>  87</span>     ]
<span class='lineno'>  88</span> 
<span class='lineno'>  89</span> 
<span class='lineno'>  90</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', title='None -> None / ? -> None'>get_label_resize_method</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', title='None'>label</a>):
<span class='lineno'>  91</span>   &quot;&quot;&quot;Returns the resize method of labels depending on label dtype.
<span class='lineno'>  92</span> 
<span class='lineno'>  93</span>   Args:
<span class='lineno'>  94</span>     label: Groundtruth label tensor.
<span class='lineno'>  95</span> 
<span class='lineno'>  96</span>   Returns:
<span class='lineno'>  97</span>     tf.image.ResizeMethod.BILINEAR, if label dtype is floating.
<span class='lineno'>  98</span>     tf.image.ResizeMethod.NEAREST_NEIGHBOR, if label dtype is integer.
<span class='lineno'>  99</span> 
<span class='lineno'> 100</span>   Raises:
<span class='lineno'> 101</span>     ValueError: If label is neither floating nor integer.
<span class='lineno'> 102</span>   &quot;&quot;&quot;
<span class='lineno'> 103</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', title='None'>label</a>.dtype.is_floating:
<span class='lineno'> 104</span>     return tf.image.ResizeMethod.BILINEAR
<span class='lineno'> 105</span>   elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method.label', title='None'>label</a>.dtype.is_integer:
<span class='lineno'> 106</span>     return tf.image.ResizeMethod.NEAREST_NEIGHBOR
<span class='lineno'> 107</span>   else:
<span class='lineno'> 108</span>     raise ValueError(&#39;Label type must be either floating or integer.&#39;)
<span class='lineno'> 109</span> 
<span class='lineno'> 110</span> 
<span class='lineno'> 111</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box', title='(?, ?, ?, ?, ?, ?) -> None'>pad_to_bounding_box</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', title='?'>offset_height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', title='?'>offset_width</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', title='?'>target_height</a>,
<span class='lineno'> 112</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', title='?'>target_width</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', title='?'>pad_value</a>):
<span class='lineno'> 113</span>   &quot;&quot;&quot;Pads the given image with the given pad_value.
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span>   Works like tf.image.pad_to_bounding_box, except it can pad the image
<span class='lineno'> 116</span>   with any given arbitrary pad value and also handle images whose sizes are not
<span class='lineno'> 117</span>   known during graph construction.
<span class='lineno'> 118</span> 
<span class='lineno'> 119</span>   Args:
<span class='lineno'> 120</span>     image: 3-D tensor with shape [height, width, channels]
<span class='lineno'> 121</span>     offset_height: Number of rows of zeros to add on top.
<span class='lineno'> 122</span>     offset_width: Number of columns of zeros to add on the left.
<span class='lineno'> 123</span>     target_height: Height of output image.
<span class='lineno'> 124</span>     target_width: Width of output image.
<span class='lineno'> 125</span>     pad_value: Value to pad the image tensor with.
<span class='lineno'> 126</span> 
<span class='lineno'> 127</span>   Returns:
<span class='lineno'> 128</span>     3-D tensor of shape [target_height, target_width, channels].
<span class='lineno'> 129</span> 
<span class='lineno'> 130</span>   Raises:
<span class='lineno'> 131</span>     ValueError: If the shape of image is incompatible with the offset_* or
<span class='lineno'> 132</span>     target_* arguments.
<span class='lineno'> 133</span>   &quot;&quot;&quot;
<span class='lineno'> 134</span>   with tf.name_scope(None, &#39;pad_to_bounding_box&#39;, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>]):
<span class='lineno'> 135</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a> = tf.convert_to_tensor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, name=&#39;image&#39;)
<span class='lineno'> 136</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', title='?'>original_dtype</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>.dtype
<span class='lineno'> 137</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', title='?'>original_dtype</a> != tf.float32 and <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', title='?'>original_dtype</a> != tf.float64:
<span class='lineno'> 138</span>       # If image dtype is not float, we convert it to int32 to avoid overflow.
<span class='lineno'> 139</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, tf.int32)
<span class='lineno'> 140</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_rank_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_rank_assert', title='?'>image_rank_assert</a> = tf.Assert(
<span class='lineno'> 141</span>         tf.logical_or(
<span class='lineno'> 142</span>             tf.equal(tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>), 3),
<span class='lineno'> 143</span>             tf.equal(tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>), 4)),
<span class='lineno'> 144</span>         [&#39;Wrong image tensor rank.&#39;])
<span class='lineno'> 145</span>     with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_rank_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_rank_assert', title='?'>image_rank_assert</a>]):
<span class='lineno'> 146</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a></a> -= <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', title='?'>pad_value</a>
<span class='lineno'> 147</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', title='?'>image_shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>.get_shape()
<span class='lineno'> 148</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', title='bool'>is_batch</a> = True
<span class='lineno'> 149</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', title='?'>image_shape</a>.ndims == 3:
<span class='lineno'> 150</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', title='bool'>is_batch</a> = False
<span class='lineno'> 151</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, 0)
<span class='lineno'> 152</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image_shape', title='?'>image_shape</a>.ndims is None:
<span class='lineno'> 153</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', title='bool'>is_batch</a> = False
<span class='lineno'> 154</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, 0)
<span class='lineno'> 155</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>.set_shape([None] * 4)
<span class='lineno'> 156</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>.get_shape().ndims != 4:
<span class='lineno'> 157</span>       raise ValueError(&#39;Input image must have either 3 or 4 dimensions.&#39;)
<span class='lineno'> 158</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box._', title='?'>_</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', title='?'>height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', title='?'>width</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box._', title='?'>_</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._image_dimensions', title='(?, int) -> [?] / (?, ?) -> [?]'>_image_dimensions</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, rank=4)
<span class='lineno'> 159</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width_assert', title='?'>target_width_assert</a> = tf.Assert(
<span class='lineno'> 160</span>         tf.greater_equal(
<span class='lineno'> 161</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', title='?'>target_width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', title='?'>width</a>),
<span class='lineno'> 162</span>         [&#39;target_width must be &gt;= width&#39;])
<span class='lineno'> 163</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height_assert', title='?'>target_height_assert</a> = tf.Assert(
<span class='lineno'> 164</span>         tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', title='?'>target_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', title='?'>height</a>),
<span class='lineno'> 165</span>         [&#39;target_height must be &gt;= height&#39;])
<span class='lineno'> 166</span>     with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width_assert', title='?'>target_width_assert</a>]):
<span class='lineno'> 167</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', title='?'>after_padding_width</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_width', title='?'>target_width</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', title='?'>offset_width</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width', title='?'>width</a>
<span class='lineno'> 168</span>     with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height_assert', title='?'>target_height_assert</a>]):
<span class='lineno'> 169</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', title='?'>after_padding_height</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.target_height', title='?'>target_height</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', title='?'>offset_height</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height', title='?'>height</a>
<span class='lineno'> 170</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_assert', title='?'>offset_assert</a> = tf.Assert(
<span class='lineno'> 171</span>         tf.logical_and(
<span class='lineno'> 172</span>             tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', title='?'>after_padding_width</a>, 0),
<span class='lineno'> 173</span>             tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', title='?'>after_padding_height</a>, 0)),
<span class='lineno'> 174</span>         [&#39;target size not possible with the given target offsets&#39;])
<span class='lineno'> 175</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.batch_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.batch_params', title='?'>batch_params</a> = tf.stack([0, 0])
<span class='lineno'> 176</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height_params', title='?'>height_params</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_height', title='?'>offset_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_height', title='?'>after_padding_height</a>])
<span class='lineno'> 177</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width_params', title='?'>width_params</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_width', title='?'>offset_width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.after_padding_width', title='?'>after_padding_width</a>])
<span class='lineno'> 178</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.channel_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.channel_params', title='?'>channel_params</a> = tf.stack([0, 0])
<span class='lineno'> 179</span>     with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.offset_assert', title='?'>offset_assert</a>]):
<span class='lineno'> 180</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.paddings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.paddings', title='?'>paddings</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.batch_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.batch_params', title='?'>batch_params</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.height_params', title='?'>height_params</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.width_params', title='?'>width_params</a>,
<span class='lineno'> 181</span>                            <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.channel_params', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.channel_params', title='?'>channel_params</a>])
<span class='lineno'> 182</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', title='?'>padded</a> = tf.pad(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.paddings', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.paddings', title='?'>paddings</a>)
<span class='lineno'> 183</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.is_batch', title='bool'>is_batch</a>:
<span class='lineno'> 184</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', title='?'>padded</a> = tf.squeeze(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', title='?'>padded</a>, axis=[0])
<span class='lineno'> 185</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', title='?'>outputs</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.padded', title='?'>padded</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.pad_value', title='?'>pad_value</a>
<span class='lineno'> 186</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', title='?'>outputs</a>.dtype != <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', title='?'>original_dtype</a>:
<span class='lineno'> 187</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', title='?'>outputs</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', title='?'>outputs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.original_dtype', title='?'>original_dtype</a>)
<span class='lineno'> 188</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.pad_to_bounding_box.outputs', title='?'>outputs</a>
<span class='lineno'> 189</span> 
<span class='lineno'> 190</span> 
<span class='lineno'> 191</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop', title='(?, ?, ?, ?, ?) -> None'>_crop</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_height', title='?'>offset_height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_width', title='?'>offset_width</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', title='?'>crop_height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', title='?'>crop_width</a>):
<span class='lineno'> 192</span>   &quot;&quot;&quot;Crops the given image using the provided offsets and sizes.
<span class='lineno'> 193</span> 
<span class='lineno'> 194</span>   Note that the method doesn&#39;t assume we know the input image size but it does
<span class='lineno'> 195</span>   assume we know the input image rank.
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span>   Args:
<span class='lineno'> 198</span>     image: an image of shape [height, width, channels].
<span class='lineno'> 199</span>     offset_height: a scalar tensor indicating the height offset.
<span class='lineno'> 200</span>     offset_width: a scalar tensor indicating the width offset.
<span class='lineno'> 201</span>     crop_height: the height of the cropped image.
<span class='lineno'> 202</span>     crop_width: the width of the cropped image.
<span class='lineno'> 203</span> 
<span class='lineno'> 204</span>   Returns:
<span class='lineno'> 205</span>     The cropped (and resized) image.
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span>   Raises:
<span class='lineno'> 208</span>     ValueError: if `image` doesn&#39;t have rank of 3.
<span class='lineno'> 209</span>     InvalidArgumentError: if the rank is not 3 or if the image dimensions are
<span class='lineno'> 210</span>       less than the crop size.
<span class='lineno'> 211</span>   &quot;&quot;&quot;
<span class='lineno'> 212</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', title='?'>original_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>)
<span class='lineno'> 213</span> 
<span class='lineno'> 214</span>   if len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>.get_shape().as_list()) != 3:
<span class='lineno'> 215</span>     raise ValueError(&#39;input must have rank of 3&#39;)
<span class='lineno'> 216</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_channels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_channels', title='?'>original_channels</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>.get_shape().as_list()[2]
<span class='lineno'> 217</span> 
<span class='lineno'> 218</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.rank_assertion', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.rank_assertion', title='?'>rank_assertion</a> = tf.Assert(
<span class='lineno'> 219</span>       tf.equal(tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>), 3),
<span class='lineno'> 220</span>       [&#39;Rank of image must be equal to 3.&#39;])
<span class='lineno'> 221</span>   with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.rank_assertion', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.rank_assertion', title='?'>rank_assertion</a>]):
<span class='lineno'> 222</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', title='?'>cropped_shape</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', title='?'>crop_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', title='?'>crop_width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', title='?'>original_shape</a>[2]])
<span class='lineno'> 223</span> 
<span class='lineno'> 224</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.size_assertion', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.size_assertion', title='?'>size_assertion</a> = tf.Assert(
<span class='lineno'> 225</span>       tf.logical_and(
<span class='lineno'> 226</span>           tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', title='?'>original_shape</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', title='?'>crop_height</a>),
<span class='lineno'> 227</span>           tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_shape', title='?'>original_shape</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', title='?'>crop_width</a>)),
<span class='lineno'> 228</span>       [&#39;Crop size greater than the image size.&#39;])
<span class='lineno'> 229</span> 
<span class='lineno'> 230</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offsets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offsets', title='?'>offsets</a> = tf.cast(tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_height', title='?'>offset_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offset_width', title='?'>offset_width</a>, 0]), tf.int32)
<span class='lineno'> 231</span> 
<span class='lineno'> 232</span>   # Use tf.slice instead of crop_to_bounding box as it accepts tensors to
<span class='lineno'> 233</span>   # define the crop size.
<span class='lineno'> 234</span>   with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.size_assertion', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.size_assertion', title='?'>size_assertion</a>]):
<span class='lineno'> 235</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a> = tf.slice(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offsets', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.offsets', title='?'>offsets</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', title='?'>cropped_shape</a>)
<span class='lineno'> 236</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.cropped_shape', title='?'>cropped_shape</a>)
<span class='lineno'> 237</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>.set_shape([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_height', title='?'>crop_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.crop_width', title='?'>crop_width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_channels', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.original_channels', title='?'>original_channels</a>])
<span class='lineno'> 238</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop.image', title='?'>image</a>
<span class='lineno'> 239</span> 
<span class='lineno'> 240</span> 
<span class='lineno'> 241</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop', title='(?, ?, ?) -> [None]'>random_crop</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', title='?'>crop_height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', title='?'>crop_width</a>):
<span class='lineno'> 242</span>   &quot;&quot;&quot;Crops the given list of images.
<span class='lineno'> 243</span> 
<span class='lineno'> 244</span>   The function applies the same crop to each image in the list. This can be
<span class='lineno'> 245</span>   effectively applied when there are multiple image inputs of the same
<span class='lineno'> 246</span>   dimension such as:
<span class='lineno'> 247</span> 
<span class='lineno'> 248</span>     image, depths, normals = random_crop([image, depths, normals], 120, 150)
<span class='lineno'> 249</span> 
<span class='lineno'> 250</span>   Args:
<span class='lineno'> 251</span>     image_list: a list of image tensors of the same dimension but possibly
<span class='lineno'> 252</span>       varying channel.
<span class='lineno'> 253</span>     crop_height: the new height.
<span class='lineno'> 254</span>     crop_width: the new width.
<span class='lineno'> 255</span> 
<span class='lineno'> 256</span>   Returns:
<span class='lineno'> 257</span>     the image_list with cropped images.
<span class='lineno'> 258</span> 
<span class='lineno'> 259</span>   Raises:
<span class='lineno'> 260</span>     ValueError: if there are multiple image inputs provided with different size
<span class='lineno'> 261</span>       or the images are smaller than the crop dimensions.
<span class='lineno'> 262</span>   &quot;&quot;&quot;
<span class='lineno'> 263</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>:
<span class='lineno'> 264</span>     raise ValueError(&#39;Empty image_list.&#39;)
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span>   # Compute the rank assertions.
<span class='lineno'> 267</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a> = []
<span class='lineno'> 268</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a> in range(len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>)):
<span class='lineno'> 269</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', title='?'>image_rank</a> = tf.rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a>])
<span class='lineno'> 270</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assert', title='?'>rank_assert</a> = tf.Assert(
<span class='lineno'> 271</span>         tf.equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', title='?'>image_rank</a>, 3),
<span class='lineno'> 272</span>         [&#39;Wrong rank for tensor  %s [expected] [actual]&#39;,
<span class='lineno'> 273</span>          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a>].name, 3, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_rank', title='?'>image_rank</a>])
<span class='lineno'> 274</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assert', title='?'>rank_assert</a>)
<span class='lineno'> 275</span> 
<span class='lineno'> 276</span>   with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a>[0]]):
<span class='lineno'> 277</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', title='?'>image_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>[0])
<span class='lineno'> 278</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', title='?'>image_height</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', title='?'>image_shape</a>[0]
<span class='lineno'> 279</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', title='?'>image_width</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_shape', title='?'>image_shape</a>[1]
<span class='lineno'> 280</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_size_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_size_assert', title='?'>crop_size_assert</a> = tf.Assert(
<span class='lineno'> 281</span>       tf.logical_and(
<span class='lineno'> 282</span>           tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', title='?'>image_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', title='?'>crop_height</a>),
<span class='lineno'> 283</span>           tf.greater_equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', title='?'>image_width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', title='?'>crop_width</a>)),
<span class='lineno'> 284</span>       [&#39;Crop size greater than the image size.&#39;])
<span class='lineno'> 285</span> 
<span class='lineno'> 286</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', title='[?]'>asserts</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_size_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_size_assert', title='?'>crop_size_assert</a>]
<span class='lineno'> 287</span> 
<span class='lineno'> 288</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a> in range(1, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>)):
<span class='lineno'> 289</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a>]
<span class='lineno'> 290</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', title='[?]'>asserts</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a>])
<span class='lineno'> 291</span>     with tf.control_dependencies([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.rank_assertions', title='[?]'>rank_assertions</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.i', title='int'>i</a>]]):
<span class='lineno'> 292</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', title='?'>shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a>)
<span class='lineno'> 293</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', title='?'>height</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', title='?'>shape</a>[0]
<span class='lineno'> 294</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', title='?'>width</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.shape', title='?'>shape</a>[1]
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height_assert', title='?'>height_assert</a> = tf.Assert(
<span class='lineno'> 297</span>         tf.equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', title='?'>height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', title='?'>image_height</a>),
<span class='lineno'> 298</span>         [&#39;Wrong height for tensor %s [expected][actual]&#39;,
<span class='lineno'> 299</span>          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a>.name, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height', title='?'>height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', title='?'>image_height</a>])
<span class='lineno'> 300</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width_assert', title='?'>width_assert</a> = tf.Assert(
<span class='lineno'> 301</span>         tf.equal(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', title='?'>width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', title='?'>image_width</a>),
<span class='lineno'> 302</span>         [&#39;Wrong width for tensor %s [expected][actual]&#39;,
<span class='lineno'> 303</span>          <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a>.name, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width', title='?'>width</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', title='?'>image_width</a>])
<span class='lineno'> 304</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', title='[?]'>asserts</a>.extend([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.height_assert', title='?'>height_assert</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width_assert', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.width_assert', title='?'>width_assert</a>])
<span class='lineno'> 305</span> 
<span class='lineno'> 306</span>   # Create a random bounding box.
<span class='lineno'> 307</span>   #
<span class='lineno'> 308</span>   # Use tf.random_uniform and not numpy.random.rand as doing the former would
<span class='lineno'> 309</span>   # generate random numbers at graph eval time, unlike the latter which
<span class='lineno'> 310</span>   # generates random numbers at graph definition time.
<span class='lineno'> 311</span>   with tf.control_dependencies(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.asserts', title='[?]'>asserts</a>):
<span class='lineno'> 312</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_height', title='?'>max_offset_height</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_height', title='?'>image_height</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', title='?'>crop_height</a> + 1, [])
<span class='lineno'> 313</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_width', title='?'>max_offset_width</a> = tf.reshape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_width', title='?'>image_width</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', title='?'>crop_width</a> + 1, [])
<span class='lineno'> 314</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_height', title='?'>offset_height</a> = tf.random_uniform(
<span class='lineno'> 315</span>       [], maxval=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_height', title='?'>max_offset_height</a>, dtype=tf.int32)
<span class='lineno'> 316</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_width', title='?'>offset_width</a> = tf.random_uniform(
<span class='lineno'> 317</span>       [], maxval=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.max_offset_width', title='?'>max_offset_width</a>, dtype=tf.int32)
<span class='lineno'> 318</span> 
<span class='lineno'> 319</span>   return [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils._crop', title='(?, ?, ?, ?, ?) -> None'>_crop</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_height', title='?'>offset_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.offset_width', title='?'>offset_width</a>,
<span class='lineno'> 320</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_height', title='?'>crop_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.crop_width', title='?'>crop_width</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image', title='?'>image</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.random_crop.image_list', title='?'>image_list</a>]
<span class='lineno'> 321</span> 
<span class='lineno'> 322</span> 
<span class='lineno'> 323</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale', title='(?, ?, ?) -> None'>get_random_scale</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', title='?'>step_size</a>):
<span class='lineno'> 324</span>   &quot;&quot;&quot;Gets a random scale value.
<span class='lineno'> 325</span> 
<span class='lineno'> 326</span>   Args:
<span class='lineno'> 327</span>     min_scale_factor: Minimum scale value.
<span class='lineno'> 328</span>     max_scale_factor: Maximum scale value.
<span class='lineno'> 329</span>     step_size: The step size from minimum to maximum value.
<span class='lineno'> 330</span> 
<span class='lineno'> 331</span>   Returns:
<span class='lineno'> 332</span>     A random scale value selected between minimum and maximum value.
<span class='lineno'> 333</span> 
<span class='lineno'> 334</span>   Raises:
<span class='lineno'> 335</span>     ValueError: min_scale_factor has unexpected value.
<span class='lineno'> 336</span>   &quot;&quot;&quot;
<span class='lineno'> 337</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a> &lt; 0 or <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a> &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a>:
<span class='lineno'> 338</span>     raise ValueError(&#39;Unexpected value of min_scale_factor.&#39;)
<span class='lineno'> 339</span> 
<span class='lineno'> 340</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a>:
<span class='lineno'> 341</span>     return tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a>, tf.float32)
<span class='lineno'> 342</span> 
<span class='lineno'> 343</span>   # When step_size = 0, we sample the value uniformly from [min, max).
<span class='lineno'> 344</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', title='?'>step_size</a> == 0:
<span class='lineno'> 345</span>     return tf.random_uniform([1],
<span class='lineno'> 346</span>                              minval=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a>,
<span class='lineno'> 347</span>                              maxval=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a>)
<span class='lineno'> 348</span> 
<span class='lineno'> 349</span>   # When step_size != 0, we randomly select one discrete value from [min, max].
<span class='lineno'> 350</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.num_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.num_steps', title='int'>num_steps</a> = int((<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a>) / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.step_size', title='?'>step_size</a> + 1)
<span class='lineno'> 351</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.scale_factors', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.scale_factors', title='?'>scale_factors</a> = tf.lin_space(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.min_scale_factor', title='?'>min_scale_factor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.max_scale_factor', title='?'>max_scale_factor</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.num_steps', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.num_steps', title='int'>num_steps</a>)
<span class='lineno'> 352</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.shuffled_scale_factors', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.shuffled_scale_factors', title='?'>shuffled_scale_factors</a> = tf.random_shuffle(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.scale_factors', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.scale_factors', title='?'>scale_factors</a>)
<span class='lineno'> 353</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.shuffled_scale_factors', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_random_scale.shuffled_scale_factors', title='?'>shuffled_scale_factors</a>[0]
<span class='lineno'> 354</span> 
<span class='lineno'> 355</span> 
<span class='lineno'> 356</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label', title='(?, None, float) -> (?, None)'>randomly_scale_image_and_label</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', title='float'>scale</a>=1.0):
<span class='lineno'> 357</span>   &quot;&quot;&quot;Randomly scales image and label.
<span class='lineno'> 358</span> 
<span class='lineno'> 359</span>   Args:
<span class='lineno'> 360</span>     image: Image with shape [height, width, 3].
<span class='lineno'> 361</span>     label: Label with shape [height, width, 1].
<span class='lineno'> 362</span>     scale: The value to scale image and label.
<span class='lineno'> 363</span> 
<span class='lineno'> 364</span>   Returns:
<span class='lineno'> 365</span>     Scaled image and label.
<span class='lineno'> 366</span>   &quot;&quot;&quot;
<span class='lineno'> 367</span>   # No random scaling if scale == 1.
<span class='lineno'> 368</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', title='float'>scale</a> == 1.0:
<span class='lineno'> 369</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a>
<span class='lineno'> 370</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', title='?'>image_shape</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a>)
<span class='lineno'> 371</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', title='?'>new_dim</a> = tf.cast(
<span class='lineno'> 372</span>       tf.cast([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', title='?'>image_shape</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image_shape', title='?'>image_shape</a>[1]], tf.float32) * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.scale', title='float'>scale</a>,
<span class='lineno'> 373</span>       tf.int32)
<span class='lineno'> 374</span> 
<span class='lineno'> 375</span>   # Need squeeze and expand_dims because image interpolation takes
<span class='lineno'> 376</span>   # 4D tensors as input.
<span class='lineno'> 377</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a> = tf.squeeze(tf.image.resize_bilinear(
<span class='lineno'> 378</span>       tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a>, 0),
<span class='lineno'> 379</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', title='?'>new_dim</a>,
<span class='lineno'> 380</span>       align_corners=True), [0])
<span class='lineno'> 381</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a> is not None:
<span class='lineno'> 382</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='?'>label</a> = tf.image.resize(
<span class='lineno'> 383</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a>,
<span class='lineno'> 384</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.new_dim', title='?'>new_dim</a>,
<span class='lineno'> 385</span>         method=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', title='None -> None / ? -> None'>get_label_resize_method</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a>),
<span class='lineno'> 386</span>         align_corners=True)
<span class='lineno'> 387</span> 
<span class='lineno'> 388</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.randomly_scale_image_and_label.label', title='None'>label</a>
<span class='lineno'> 389</span> 
<span class='lineno'> 390</span> 
<span class='lineno'> 391</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape', title='(?, None, None) -> None'>resolve_shape</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', title='?'>tensor</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', title='None'>rank</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.scope', title='None'>scope</a>=None):
<span class='lineno'> 392</span>   &quot;&quot;&quot;Fully resolves the shape of a Tensor.
<span class='lineno'> 393</span> 
<span class='lineno'> 394</span>   Use as much as possible the shape components already known during graph
<span class='lineno'> 395</span>   creation and resolve the remaining ones during runtime.
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>   Args:
<span class='lineno'> 398</span>     tensor: Input tensor whose shape we query.
<span class='lineno'> 399</span>     rank: The rank of the tensor, provided that we know it.
<span class='lineno'> 400</span>     scope: Optional name scope.
<span class='lineno'> 401</span> 
<span class='lineno'> 402</span>   Returns:
<span class='lineno'> 403</span>     shape: The full shape of the tensor.
<span class='lineno'> 404</span>   &quot;&quot;&quot;
<span class='lineno'> 405</span>   with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.scope', title='None'>scope</a>, &#39;resolve_shape&#39;, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', title='?'>tensor</a>]):
<span class='lineno'> 406</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', title='None'>rank</a> is not None:
<span class='lineno'> 407</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', title='?'>tensor</a>.get_shape().with_rank(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.rank', title='None'>rank</a>).as_list()
<span class='lineno'> 408</span>     else:
<span class='lineno'> 409</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', title='?'>tensor</a>.get_shape().as_list()
<span class='lineno'> 410</span> 
<span class='lineno'> 411</span>     if None in <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a>:
<span class='lineno'> 412</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape_dynamic', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape_dynamic', title='?'>shape_dynamic</a> = tf.shape(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.tensor', title='?'>tensor</a>)
<span class='lineno'> 413</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', title='int'>i</a> in range(len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a>)):
<span class='lineno'> 414</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', title='int'>i</a>] is None:
<span class='lineno'> 415</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', title='int'>i</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape_dynamic', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape_dynamic', title='?'>shape_dynamic</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.i', title='int'>i</a>]
<span class='lineno'> 416</span> 
<span class='lineno'> 417</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape.shape', title='?'>shape</a>
<span class='lineno'> 418</span> 
<span class='lineno'> 419</span> 
<span class='lineno'> 420</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range', title='(?, None, None, None, None, bool, bool, bool, None, ?) -> [None]'>resize_to_range</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', title='?'>image</a>,
<span class='lineno'> 421</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a>=None,
<span class='lineno'> 422</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', title='None'>min_size</a>=None,
<span class='lineno'> 423</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='None'>max_size</a>=None,
<span class='lineno'> 424</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a>=None,
<span class='lineno'> 425</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.keep_aspect_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.keep_aspect_ratio', title='bool'>keep_aspect_ratio</a>=True,
<span class='lineno'> 426</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', title='bool'>align_corners</a>=True,
<span class='lineno'> 427</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label_layout_is_chw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label_layout_is_chw', title='bool'>label_layout_is_chw</a>=False,
<span class='lineno'> 428</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.scope', title='None'>scope</a>=None,
<span class='lineno'> 429</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.method', title='?'>method</a>=tf.image.ResizeMethod.BILINEAR):
<span class='lineno'> 430</span>   &quot;&quot;&quot;Resizes image or label so their sides are within the provided range.
<span class='lineno'> 431</span> 
<span class='lineno'> 432</span>   The output size can be described by two cases:
<span class='lineno'> 433</span>   1. If the image can be rescaled so its minimum size is equal to min_size
<span class='lineno'> 434</span>      without the other side exceeding max_size, then do so.
<span class='lineno'> 435</span>   2. Otherwise, resize so the largest side is equal to max_size.
<span class='lineno'> 436</span> 
<span class='lineno'> 437</span>   An integer in `range(factor)` is added to the computed sides so that the
<span class='lineno'> 438</span>   final dimensions are multiples of `factor` plus one.
<span class='lineno'> 439</span> 
<span class='lineno'> 440</span>   Args:
<span class='lineno'> 441</span>     image: A 3D tensor of shape [height, width, channels].
<span class='lineno'> 442</span>     label: (optional) A 3D tensor of shape [height, width, channels] (default)
<span class='lineno'> 443</span>       or [channels, height, width] when label_layout_is_chw = True.
<span class='lineno'> 444</span>     min_size: (scalar) desired size of the smaller image side.
<span class='lineno'> 445</span>     max_size: (scalar) maximum allowed size of the larger image side. Note
<span class='lineno'> 446</span>       that the output dimension is no larger than max_size and may be slightly
<span class='lineno'> 447</span>       smaller than max_size when factor is not None.
<span class='lineno'> 448</span>     factor: Make output size multiple of factor plus one.
<span class='lineno'> 449</span>     keep_aspect_ratio: Boolean, keep aspect ratio or not. If True, the input
<span class='lineno'> 450</span>       will be resized while keeping the original aspect ratio. If False, the
<span class='lineno'> 451</span>       input will be resized to [max_resize_value, max_resize_value] without
<span class='lineno'> 452</span>       keeping the original aspect ratio.
<span class='lineno'> 453</span>     align_corners: If True, exactly align all 4 corners of input and output.
<span class='lineno'> 454</span>     label_layout_is_chw: If true, the label has shape [channel, height, width].
<span class='lineno'> 455</span>       We support this case because for some instance segmentation dataset, the
<span class='lineno'> 456</span>       instance segmentation is saved as [num_instances, height, width].
<span class='lineno'> 457</span>     scope: Optional name scope.
<span class='lineno'> 458</span>     method: Image resize method. Defaults to tf.image.ResizeMethod.BILINEAR.
<span class='lineno'> 459</span> 
<span class='lineno'> 460</span>   Returns:
<span class='lineno'> 461</span>     A 3-D tensor of shape [new_height, new_width, channels], where the image
<span class='lineno'> 462</span>     has been resized (with the specified method) so that
<span class='lineno'> 463</span>     min(new_height, new_width) == ceil(min_size) or
<span class='lineno'> 464</span>     max(new_height, new_width) == ceil(max_size).
<span class='lineno'> 465</span> 
<span class='lineno'> 466</span>   Raises:
<span class='lineno'> 467</span>     ValueError: If the image is not a 3D tensor.
<span class='lineno'> 468</span>   &quot;&quot;&quot;
<span class='lineno'> 469</span>   with tf.name_scope(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.scope', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.scope', title='None'>scope</a>, &#39;resize_to_range&#39;, [<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', title='?'>image</a>]):
<span class='lineno'> 470</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', title='[None]'>new_tensor_list</a> = []
<span class='lineno'> 471</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', title='?'>min_size</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', title='None'>min_size</a>, tf.float32)
<span class='lineno'> 472</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='None'>max_size</a> is not None:
<span class='lineno'> 473</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='?'>max_size</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='None'>max_size</a>, tf.float32)
<span class='lineno'> 474</span>       # Modify the max_size to be a multiple of factor plus 1 and make sure the
<span class='lineno'> 475</span>       # max dimension after resizing is no larger than max_size.
<span class='lineno'> 476</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a> is not None:
<span class='lineno'> 477</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='int'>max_size</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='?'>max_size</a> - (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='?'>max_size</a> - 1) % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a>)
<span class='lineno'> 478</span> 
<span class='lineno'> 479</span>     [<a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range._', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range._', title='?'>_</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resolve_shape', title='(?, None, None) -> None'>resolve_shape</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', title='?'>image</a>, rank=3)
<span class='lineno'> 480</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a>, tf.float32)
<span class='lineno'> 481</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a> = tf.cast(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a>, tf.float32)
<span class='lineno'> 482</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_min_size', title='?'>orig_min_size</a> = tf.minimum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a>)
<span class='lineno'> 483</span> 
<span class='lineno'> 484</span>     # Calculate the larger of the possible sizes
<span class='lineno'> 485</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', title='?'>large_scale_factor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.min_size', title='?'>min_size</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_min_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_min_size', title='?'>orig_min_size</a>
<span class='lineno'> 486</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_height', title='?'>large_height</a> = tf.cast(tf.floor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', title='?'>large_scale_factor</a>), tf.int32)
<span class='lineno'> 487</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_width', title='?'>large_width</a> = tf.cast(tf.floor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_scale_factor', title='?'>large_scale_factor</a>), tf.int32)
<span class='lineno'> 488</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', title='?'>large_size</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_height', title='?'>large_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_width', title='?'>large_width</a>])
<span class='lineno'> 489</span> 
<span class='lineno'> 490</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='?'>new_size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', title='?'>large_size</a>
<span class='lineno'> 491</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='int'>max_size</a> is not None:
<span class='lineno'> 492</span>       # Calculate the smaller of the possible sizes, use that if the larger
<span class='lineno'> 493</span>       # is too big.
<span class='lineno'> 494</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_max_size', title='?'>orig_max_size</a> = tf.maximum(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a>)
<span class='lineno'> 495</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', title='int'>small_scale_factor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='int'>max_size</a> / <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_max_size', title='?'>orig_max_size</a>
<span class='lineno'> 496</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_height', title='?'>small_height</a> = tf.cast(
<span class='lineno'> 497</span>           tf.floor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_height', title='?'>orig_height</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', title='int'>small_scale_factor</a>), tf.int32)
<span class='lineno'> 498</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_width', title='?'>small_width</a> = tf.cast(tf.floor(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.orig_width', title='?'>orig_width</a> * <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_scale_factor', title='int'>small_scale_factor</a>), tf.int32)
<span class='lineno'> 499</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_size', title='?'>small_size</a> = tf.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_height', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_height', title='?'>small_height</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_width', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_width', title='?'>small_width</a>])
<span class='lineno'> 500</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='?'>new_size</a> = tf.cond(
<span class='lineno'> 501</span>           tf.cast(tf.reduce_max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', title='?'>large_size</a>), tf.float32) &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.max_size', title='int'>max_size</a>,
<span class='lineno'> 502</span>           lambda: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.small_size', title='?'>small_size</a>,
<span class='lineno'> 503</span>           lambda: <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.large_size', title='?'>large_size</a>)
<span class='lineno'> 504</span>     # Ensure that both output sides are multiples of factor plus one.
<span class='lineno'> 505</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a> is not None:
<span class='lineno'> 506</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='None'>new_size</a></a> += (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a> - (<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='?'>new_size</a> - 1) % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a>) % <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.factor', title='None'>factor</a>
<span class='lineno'> 507</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.keep_aspect_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.keep_aspect_ratio', title='bool'>keep_aspect_ratio</a>:
<span class='lineno'> 508</span>       # If not keep the aspect ratio, we resize everything to max_size, allowing
<span class='lineno'> 509</span>       # us to do pre-processing without extra padding.
<span class='lineno'> 510</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='[?]'>new_size</a> = [tf.reduce_max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='None'>new_size</a>), tf.reduce_max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='None'>new_size</a>)]
<span class='lineno'> 511</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', title='[None]'>new_tensor_list</a>.append(tf.image.resize(
<span class='lineno'> 512</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.image', title='?'>image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='[?]'>new_size</a>, method=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.method', title='?'>method</a>, align_corners=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', title='bool'>align_corners</a>))
<span class='lineno'> 513</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a> is not None:
<span class='lineno'> 514</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label_layout_is_chw', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label_layout_is_chw', title='bool'>label_layout_is_chw</a>:
<span class='lineno'> 515</span>         # Input label has shape [channel, height, width].
<span class='lineno'> 516</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a> = tf.expand_dims(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a>, 3)
<span class='lineno'> 517</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a> = tf.image.resize(
<span class='lineno'> 518</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a>,
<span class='lineno'> 519</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='[?]'>new_size</a>,
<span class='lineno'> 520</span>             method=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', title='None -> None / ? -> None'>get_label_resize_method</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a>),
<span class='lineno'> 521</span>             align_corners=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', title='bool'>align_corners</a>)
<span class='lineno'> 522</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a> = tf.squeeze(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a>, 3)
<span class='lineno'> 523</span>       else:
<span class='lineno'> 524</span>         # Input label has shape [height, width, channel].
<span class='lineno'> 525</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a> = tf.image.resize(
<span class='lineno'> 526</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a>,
<span class='lineno'> 527</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_size', title='[?]'>new_size</a>,
<span class='lineno'> 528</span>             method=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.get_label_resize_method', title='None -> None / ? -> None'>get_label_resize_method</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.label', title='None'>label</a>),
<span class='lineno'> 529</span>             align_corners=<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.align_corners', title='bool'>align_corners</a>)
<span class='lineno'> 530</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', title='[None]'>new_tensor_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.resized_label', title='?'>resized_label</a>)
<span class='lineno'> 531</span>     else:
<span class='lineno'> 532</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', title='[None]'>new_tensor_list</a>.append(None)
<span class='lineno'> 533</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.research.deeplab.core.preprocess_utils.resize_to_range.new_tensor_list', title='[None]'>new_tensor_list</a>
</pre></td></tr></table></body></html>