<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/models/official/nlp/transformer/utils/tokenizer.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD'>PAD</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD_ID', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD_ID'>PAD_ID</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS'>EOS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID'>EOS_ID</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS'>RESERVED_TOKENS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS'>_ESCAPE_CHARS</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX'>_UNESCAPE_REGEX</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE'>_UNDEFINED_UNICODE</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set'>alphanumeric_char_set</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET'>_ALPHANUMERIC_CHAR_SET</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT'>_MIN_MIN_COUNT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT'>_MAX_MIN_COUNT</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer'>Subtokenizer</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files'>init_from_files</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode'>encode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids'>_token_to_subtoken_ids</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode'>decode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens'>_subtoken_ids_to_tokens</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file'>_save_vocab_file</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file'>_load_vocab_file</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode'>native_to_unicode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native'>_unicode_to_native</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens'>_split_string_to_tokens</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string'>_join_tokens_to_string</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token'>_escape_token</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token'>_unescape_token</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens'>_count_tokens</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict'>_list_to_index_dict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens'>_split_token_to_subtokens</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size'>_generate_subtokens_with_target_vocab_size</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict'>_generate_alphabet_dict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens'>_count_and_gen_subtokens</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens'>_filter_and_bucket_subtokens</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list'>_gen_new_subtoken_list</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', xid='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens'>_generate_subtokens</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # Copyright 2018 The TensorFlow Authors. All Rights Reserved.
<span class='lineno'>   2</span> #
<span class='lineno'>   3</span> # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<span class='lineno'>   4</span> # you may not use this file except in compliance with the License.
<span class='lineno'>   5</span> # You may obtain a copy of the License at
<span class='lineno'>   6</span> #
<span class='lineno'>   7</span> #     http://www.apache.org/licenses/LICENSE-2.0
<span class='lineno'>   8</span> #
<span class='lineno'>   9</span> # Unless required by applicable law or agreed to in writing, software
<span class='lineno'>  10</span> # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<span class='lineno'>  11</span> # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='lineno'>  12</span> # See the License for the specific language governing permissions and
<span class='lineno'>  13</span> # limitations under the License.
<span class='lineno'>  14</span> # ==============================================================================
<span class='lineno'>  15</span> &quot;&quot;&quot;Defines Subtokenizer class to encode and decode strings.&quot;&quot;&quot;
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> from __future__ import absolute_import
<span class='lineno'>  18</span> from __future__ import division
<span class='lineno'>  19</span> from __future__ import print_function
<span class='lineno'>  20</span> 
<span class='lineno'>  21</span> import collections
<span class='lineno'>  22</span> import re
<span class='lineno'>  23</span> import sys
<span class='lineno'>  24</span> import unicodedata
<span class='lineno'>  25</span> from absl import logging
<span class='lineno'>  26</span> 
<span class='lineno'>  27</span> import numpy as np
<span class='lineno'>  28</span> import six
<span class='lineno'>  29</span> from six.moves import xrange  # pylint: disable=redefined-builtin
<span class='lineno'>  30</span> import tensorflow as tf
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span> 
<span class='lineno'>  33</span> # pylint: disable=g-complex-comprehension
<span class='lineno'>  34</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD', title='str'>PAD</a> = &quot;&lt;pad&gt;&quot;
<span class='lineno'>  35</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD_ID', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD_ID', title='int'>PAD_ID</a> = 0
<span class='lineno'>  36</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', title='str'>EOS</a> = &quot;&lt;EOS&gt;&quot;
<span class='lineno'>  37</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID', title='int'>EOS_ID</a> = 1
<span class='lineno'>  38</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.PAD', title='str'>PAD</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', title='str'>EOS</a>]
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span> # Set of characters that will be used in the function _escape_token() (see func
<span class='lineno'>  41</span> # docstring for more details).
<span class='lineno'>  42</span> # This set is added to the alphabet list to ensure that all escaped tokens can
<span class='lineno'>  43</span> # be encoded.
<span class='lineno'>  44</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS', title='?'>_ESCAPE_CHARS</a> = set(u&quot;\\_u;0123456789&quot;)
<span class='lineno'>  45</span> # Regex for the function _unescape_token(), the inverse of _escape_token().
<span class='lineno'>  46</span> # This is used to find &quot;\u&quot;, &quot;\\&quot;, and &quot;\###;&quot; substrings in the token.
<span class='lineno'>  47</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX', title='?'>_UNESCAPE_REGEX</a> = re.compile(r&quot;\\u|\\\\|\\([0-9]+);&quot;)
<span class='lineno'>  48</span> 
<span class='lineno'>  49</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE', title='str'>_UNDEFINED_UNICODE</a> = u&quot;\u3013&quot;
<span class='lineno'>  50</span> 
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set', title='() -> ?'>alphanumeric_char_set</a>():
<span class='lineno'>  53</span>   return set(
<span class='lineno'>  54</span>       six.unichr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', title='int'>i</a>)
<span class='lineno'>  55</span>       for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', title='int'>i</a></a> in xrange(sys.maxunicode)
<span class='lineno'>  56</span>       if (unicodedata.category(six.unichr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', title='int'>i</a>)).startswith(&quot;L&quot;) or
<span class='lineno'>  57</span>           unicodedata.category(six.unichr(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set.i', title='int'>i</a>)).startswith(&quot;N&quot;)))
<span class='lineno'>  58</span> 
<span class='lineno'>  59</span> 
<span class='lineno'>  60</span> # Set contains all letter and number characters.
<span class='lineno'>  61</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', title='?'>_ALPHANUMERIC_CHAR_SET</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.alphanumeric_char_set', title='() -> ?'>alphanumeric_char_set</a>()
<span class='lineno'>  62</span> 
<span class='lineno'>  63</span> # min_count is the minimum number of times a subtoken must appear in the data
<span class='lineno'>  64</span> # before before it is added to the vocabulary. The value is found using binary
<span class='lineno'>  65</span> # search to obtain the target vocabulary size.
<span class='lineno'>  66</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT', title='int'>_MIN_MIN_COUNT</a> = 1  # min value to use when binary searching for min_count
<span class='lineno'>  67</span> <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT', title='int'>_MAX_MIN_COUNT</a> = 1000  # max value to use when binary searching for min_count
<span class='lineno'>  68</span> 
<span class='lineno'>  69</span> 
<span class='lineno'>  70</span> class <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer', title='<Subtokenizer>'>Subtokenizer</a>(object):
<span class='lineno'>  71</span>   &quot;&quot;&quot;Encodes and decodes strings to/from integer IDs.&quot;&quot;&quot;
<span class='lineno'>  72</span> 
<span class='lineno'>  73</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', title='?'>vocab_file</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', title='None'>reserved_tokens</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', title='None'>master_char_set</a>=None):
<span class='lineno'>  74</span>     &quot;&quot;&quot;Initializes class, creating a vocab file if data_files is provided.&quot;&quot;&quot;
<span class='lineno'>  75</span>     logging.info(&quot;Initializing Subtokenizer from file %s.&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', title='?'>vocab_file</a>)
<span class='lineno'>  76</span> 
<span class='lineno'>  77</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', title='None'>master_char_set</a> is None:
<span class='lineno'>  78</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', title='?'>master_char_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', title='?'>_ALPHANUMERIC_CHAR_SET</a>
<span class='lineno'>  79</span> 
<span class='lineno'>  80</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', title='None'>reserved_tokens</a> is None:
<span class='lineno'>  81</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'>  82</span> 
<span class='lineno'>  83</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file', title='(?, [str]) -> None / (?, None) -> None'>_load_vocab_file</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.vocab_file', title='?'>vocab_file</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.reserved_tokens', title='[str]'>reserved_tokens</a>)
<span class='lineno'>  84</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', title='None'>alphabet</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', title='(defaultdict, None) -> None / (None, None) -> None / (?, None) -> None'>_generate_alphabet_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>)
<span class='lineno'>  85</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', title='dict'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', title='dict'>subtoken_to_id_dict</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', title='? -> dict / None -> dict'>_list_to_index_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>)
<span class='lineno'>  86</span> 
<span class='lineno'>  87</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', title='int'>max_subtoken_length</a></a> = 0
<span class='lineno'>  88</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.subtoken', title='?'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>:
<span class='lineno'>  89</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', title='int'>max_subtoken_length</a> = max(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', title='int'>max_subtoken_length</a>, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.subtoken', title='?'>subtoken</a>))
<span class='lineno'>  90</span> 
<span class='lineno'>  91</span>     # Create cache to speed up subtokenization
<span class='lineno'>  92</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', title='int'>_cache_size</a></a> = 2**20
<span class='lineno'>  93</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', title='?'>_cache</a></a> = [(None, None)] * <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', title='int'>_cache_size</a>
<span class='lineno'>  94</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.self', title='Subtokenizer'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', title='None'>_master_char_set</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.__init__.master_char_set', title='None'>master_char_set</a>
<span class='lineno'>  95</span> 
<span class='lineno'>  96</span>   @staticmethod
<span class='lineno'>  97</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files', title='(?, ?, ?, ?, None, float, None, bool, None) -> Subtokenizer'>init_from_files</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', title='?'>vocab_file</a>,
<span class='lineno'>  98</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.files', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.files', title='?'>files</a>,
<span class='lineno'>  99</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.target_vocab_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.target_vocab_size', title='?'>target_vocab_size</a>,
<span class='lineno'> 100</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.threshold', title='?'>threshold</a>,
<span class='lineno'> 101</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.min_count', title='None'>min_count</a>=None,
<span class='lineno'> 102</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.file_byte_limit', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.file_byte_limit', title='float'>file_byte_limit</a>=1e6,
<span class='lineno'> 103</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', title='None'>reserved_tokens</a>=None,
<span class='lineno'> 104</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.correct_strip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.correct_strip', title='bool'>correct_strip</a>=True,
<span class='lineno'> 105</span>                       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', title='None'>master_char_set</a>=None):
<span class='lineno'> 106</span>     &quot;&quot;&quot;Create subtoken vocabulary based on files, and save vocab to file.
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span>     Args:
<span class='lineno'> 109</span>       vocab_file: String name of vocab file to store subtoken vocabulary.
<span class='lineno'> 110</span>       files: List of file paths that will be used to generate vocabulary.
<span class='lineno'> 111</span>       target_vocab_size: target vocabulary size to generate.
<span class='lineno'> 112</span>       threshold: int threshold of vocabulary size to accept.
<span class='lineno'> 113</span>       min_count: int minimum count to use for generating the vocabulary. The min
<span class='lineno'> 114</span>         count is the minimum number of times a subtoken should appear in the
<span class='lineno'> 115</span>         files before it is added to the vocabulary. If set to none, this value
<span class='lineno'> 116</span>         is found using binary search.
<span class='lineno'> 117</span>       file_byte_limit: (Default 1e6) Maximum number of bytes of sample text that
<span class='lineno'> 118</span>         will be drawn from the files.
<span class='lineno'> 119</span>       reserved_tokens: List of string tokens that are guaranteed to be at the
<span class='lineno'> 120</span>         beginning of the subtoken vocabulary list.
<span class='lineno'> 121</span>       correct_strip: Whether to convert text to unicode before strip.
<span class='lineno'> 122</span>       master_char_set: the char set.
<span class='lineno'> 123</span> 
<span class='lineno'> 124</span>     Returns:
<span class='lineno'> 125</span>       Subtokenizer object
<span class='lineno'> 126</span>     &quot;&quot;&quot;
<span class='lineno'> 127</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', title='None'>master_char_set</a> is None:
<span class='lineno'> 128</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', title='?'>master_char_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', title='?'>_ALPHANUMERIC_CHAR_SET</a>
<span class='lineno'> 129</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', title='None'>reserved_tokens</a> is None:
<span class='lineno'> 130</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 131</span> 
<span class='lineno'> 132</span>     if tf.io.gfile.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', title='?'>vocab_file</a>):
<span class='lineno'> 133</span>       logging.info(&quot;Vocab file already exists (%s)&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', title='?'>vocab_file</a>)
<span class='lineno'> 134</span>     else:
<span class='lineno'> 135</span>       logging.info(&quot;Begin steps to create subtoken vocabulary...&quot;)
<span class='lineno'> 136</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', title='defaultdict'>token_counts</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens', title='(?, float, bool, None) -> defaultdict'>_count_tokens</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.files', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.files', title='?'>files</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.file_byte_limit', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.file_byte_limit', title='float'>file_byte_limit</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.correct_strip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.correct_strip', title='bool'>correct_strip</a>,
<span class='lineno'> 137</span>                                    <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', title='None'>master_char_set</a>)
<span class='lineno'> 138</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.alphabet', title='None'>alphabet</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', title='(defaultdict, None) -> None / (None, None) -> None / (?, None) -> None'>_generate_alphabet_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', title='defaultdict'>token_counts</a>)
<span class='lineno'> 139</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', title='None'>subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size', title='(defaultdict, None, ?, ?, None, [str]) -> None / (?, ?, ?, ?, None, None) -> None'>_generate_subtokens_with_target_vocab_size</a>(
<span class='lineno'> 140</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.token_counts', title='defaultdict'>token_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.alphabet', title='None'>alphabet</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.target_vocab_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.target_vocab_size', title='?'>target_vocab_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.threshold', title='?'>threshold</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.min_count', title='None'>min_count</a>,
<span class='lineno'> 141</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.reserved_tokens', title='[str]'>reserved_tokens</a>)
<span class='lineno'> 142</span>       logging.info(&quot;Generated vocabulary with %d subtokens.&quot;,
<span class='lineno'> 143</span>                    len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', title='None'>subtoken_list</a>))
<span class='lineno'> 144</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file', title='(?, ?) -> None / (?, None) -> None'>_save_vocab_file</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', title='?'>vocab_file</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.subtoken_list', title='None'>subtoken_list</a>)
<span class='lineno'> 145</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer', title='<Subtokenizer>'>Subtokenizer</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.vocab_file', title='?'>vocab_file</a>, master_char_set=<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.init_from_files.master_char_set', title='None'>master_char_set</a>)
<span class='lineno'> 146</span> 
<span class='lineno'> 147</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode', title='(Subtokenizer, ?, bool) -> [int]'>encode</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', title='Subtokenizer'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.raw_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.raw_string', title='?'>raw_string</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.add_eos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.add_eos', title='bool'>add_eos</a>=False):
<span class='lineno'> 148</span>     &quot;&quot;&quot;Encodes a string into a list of int subtoken ids.&quot;&quot;&quot;
<span class='lineno'> 149</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', title='[int]'>ret</a> = []
<span class='lineno'> 150</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.tokens', title='[?]'>tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', title='(?, None) -> [?] / (?, ?) -> [?]'>_split_string_to_tokens</a>(
<span class='lineno'> 151</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.raw_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.raw_string', title='?'>raw_string</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', title='None'>_master_char_set</a>)
<span class='lineno'> 152</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.token', title='?'>token</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.tokens', title='[?]'>tokens</a>:
<span class='lineno'> 153</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', title='[int]'>ret</a>.extend(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids', title='(Subtokenizer, ?) -> [?]'>_token_to_subtoken_ids</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.token', title='?'>token</a>))
<span class='lineno'> 154</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.add_eos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.add_eos', title='bool'>add_eos</a>:
<span class='lineno'> 155</span>       assert <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS', title='str'>EOS</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>, \
<span class='lineno'> 156</span>           &quot;Can&#39;t append &#39;EOS&#39; because it is not in list of known subtokens.&quot;
<span class='lineno'> 157</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', title='[int]'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.EOS_ID', title='int'>EOS_ID</a>)
<span class='lineno'> 158</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.encode.ret', title='[int]'>ret</a>
<span class='lineno'> 159</span> 
<span class='lineno'> 160</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids', title='(Subtokenizer, ?) -> [?]'>_token_to_subtoken_ids</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', title='?'>token</a>):
<span class='lineno'> 161</span>     &quot;&quot;&quot;Encode a single token into a list of subtoken ids.&quot;&quot;&quot;
<span class='lineno'> 162</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', title='int'>cache_location</a> = hash(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', title='?'>token</a>) % <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache_size', title='int'>_cache_size</a>
<span class='lineno'> 163</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_key', title='?'>cache_key</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_value', title='?'>cache_value</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', title='?'>_cache</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', title='int'>cache_location</a>]
<span class='lineno'> 164</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_key', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_key', title='?'>cache_key</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', title='?'>token</a>:
<span class='lineno'> 165</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_value', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_value', title='?'>cache_value</a>
<span class='lineno'> 166</span> 
<span class='lineno'> 167</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', title='[str]'>ret</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', title='(str, ?, ?) -> [str] / (str, dict, int) -> [str] / (?, ?, ?) -> [?]'>_split_token_to_subtokens</a>(
<span class='lineno'> 168</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', title='(str, None) -> str / (?, ?) -> str / (?, None) -> str / (str, ?) -> str'>_escape_token</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', title='?'>token</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.alphabet', title='None'>alphabet</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', title='dict'>subtoken_to_id_dict</a>,
<span class='lineno'> 169</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.max_subtoken_length', title='int'>max_subtoken_length</a>)
<span class='lineno'> 170</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', title='[?]'>ret</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_to_id_dict', title='dict'>subtoken_to_id_dict</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', title='str'>subtoken_id</a>] for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.subtoken_id', title='str'>subtoken_id</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', title='[str]'>ret</a>]
<span class='lineno'> 171</span> 
<span class='lineno'> 172</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._cache', title='?'>_cache</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.cache_location', title='int'>cache_location</a>] = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.token', title='?'>token</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', title='[?]'>ret</a>)
<span class='lineno'> 173</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._token_to_subtoken_ids.ret', title='[?]'>ret</a>
<span class='lineno'> 174</span> 
<span class='lineno'> 175</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode', title='(Subtokenizer, ?) -> str'>decode</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', title='Subtokenizer'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>):
<span class='lineno'> 176</span>     &quot;&quot;&quot;Converts list of int subtokens ids into a string.&quot;&quot;&quot;
<span class='lineno'> 177</span>     if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a></a>, np.ndarray):
<span class='lineno'> 178</span>       # Note that list(subtokens) converts subtokens to a python list, but the
<span class='lineno'> 179</span>       # items remain as np.int32. This converts both the array and its items.
<span class='lineno'> 180</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>.tolist()
<span class='lineno'> 181</span> 
<span class='lineno'> 182</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>:
<span class='lineno'> 183</span>       return &quot;&quot;
<span class='lineno'> 184</span> 
<span class='lineno'> 185</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>, list) and isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>[0], int), (
<span class='lineno'> 186</span>         &quot;Subtokens argument passed into decode() must be a list of integers.&quot;)
<span class='lineno'> 187</span> 
<span class='lineno'> 188</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', title='str -> str / ? -> ?'>_unicode_to_native</a>(
<span class='lineno'> 189</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string', title='([None], None) -> str / (?, ?) -> str'>_join_tokens_to_string</a>(
<span class='lineno'> 190</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens', title='(Subtokenizer, ?) -> [None]'>_subtoken_ids_to_tokens</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.subtokens', title='?'>subtokens</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.decode.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._master_char_set', title='None'>_master_char_set</a>))
<span class='lineno'> 191</span> 
<span class='lineno'> 192</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens', title='(Subtokenizer, ?) -> [None]'>_subtoken_ids_to_tokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', title='Subtokenizer'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.subtokens', title='?'>subtokens</a>):
<span class='lineno'> 193</span>     &quot;&quot;&quot;Convert list of int subtoken ids to a list of string tokens.&quot;&quot;&quot;
<span class='lineno'> 194</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', title='str'>escaped_tokens</a> = &quot;&quot;.join([
<span class='lineno'> 195</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', title='?'>s</a>] for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', title='?'>s</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.subtokens', title='?'>subtokens</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.s', title='?'>s</a> &lt; len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.self', title='Subtokenizer'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer.subtoken_list', title='None'>subtoken_list</a>)
<span class='lineno'> 196</span>     ])
<span class='lineno'> 197</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', title='[str]'>escaped_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', title='str'>escaped_tokens</a>.split(&quot;_&quot;)
<span class='lineno'> 198</span> 
<span class='lineno'> 199</span>     # All tokens in the vocabulary list have been escaped (see _escape_token())
<span class='lineno'> 200</span>     # so each token must be unescaped when decoding.
<span class='lineno'> 201</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', title='[None]'>ret</a> = []
<span class='lineno'> 202</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', title='str'>token</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.escaped_tokens', title='[str]'>escaped_tokens</a>:
<span class='lineno'> 203</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', title='str'>token</a>:
<span class='lineno'> 204</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', title='[None]'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token', title='str -> None / ? -> None'>_unescape_token</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.token', title='str'>token</a>))
<span class='lineno'> 205</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.Subtokenizer._subtoken_ids_to_tokens.ret', title='[None]'>ret</a>
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span> 
<span class='lineno'> 208</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file', title='(?, ?) -> None / (?, None) -> None'>_save_vocab_file</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.vocab_file', title='?'>vocab_file</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken_list', title='None'>subtoken_list</a>):
<span class='lineno'> 209</span>   &quot;&quot;&quot;Save subtokens to file.&quot;&quot;&quot;
<span class='lineno'> 210</span>   with tf.io.gfile.GFile(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.vocab_file', title='?'>vocab_file</a>, mode=&quot;w&quot;) as <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.f', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.f', title='?'>f</a>:
<span class='lineno'> 211</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken', title='?'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken_list', title='None'>subtoken_list</a>:
<span class='lineno'> 212</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.f', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.f', title='?'>f</a>.write(&quot;&#39;%s&#39;\n&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', title='str -> str / ? -> ?'>_unicode_to_native</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._save_vocab_file.subtoken', title='?'>subtoken</a>))
<span class='lineno'> 213</span> 
<span class='lineno'> 214</span> 
<span class='lineno'> 215</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file', title='(?, [str]) -> None / (?, None) -> None'>_load_vocab_file</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.vocab_file', title='?'>vocab_file</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', title='[str]'>reserved_tokens</a>=None):
<span class='lineno'> 216</span>   &quot;&quot;&quot;Load vocabulary while ensuring reserved tokens are at the top.&quot;&quot;&quot;
<span class='lineno'> 217</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', title='[str]'>reserved_tokens</a> is None:
<span class='lineno'> 218</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 219</span> 
<span class='lineno'> 220</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', title='[?]'>subtoken_list</a> = []
<span class='lineno'> 221</span>   with tf.io.gfile.GFile(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.vocab_file', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.vocab_file', title='?'>vocab_file</a>, mode=&quot;r&quot;) as <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.f', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.f', title='?'>f</a>:
<span class='lineno'> 222</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.line', title='?'>line</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.f', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.f', title='?'>f</a>:
<span class='lineno'> 223</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', title='?'>subtoken</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.line', title='?'>line</a>.strip())
<span class='lineno'> 224</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', title='?'>subtoken</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', title='?'>subtoken</a>[1:-1]  # Remove surrounding single-quotes
<span class='lineno'> 225</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', title='?'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', title='[str]'>reserved_tokens</a>:
<span class='lineno'> 226</span>         continue
<span class='lineno'> 227</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', title='[?]'>subtoken_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken', title='?'>subtoken</a>))
<span class='lineno'> 228</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.reserved_tokens', title='[str]'>reserved_tokens</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._load_vocab_file.subtoken_list', title='[?]'>subtoken_list</a>
<span class='lineno'> 229</span> 
<span class='lineno'> 230</span> 
<span class='lineno'> 231</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', title='?'>s</a>):
<span class='lineno'> 232</span>   &quot;&quot;&quot;Convert string to unicode (required in Python 2).&quot;&quot;&quot;
<span class='lineno'> 233</span>   try:  # Python 2
<span class='lineno'> 234</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', title='?'>s</a> if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', title='?'>s</a>, unicode) else <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', title='?'>s</a>.decode(&quot;utf-8&quot;)
<span class='lineno'> 235</span>   except NameError:  # Python 3
<span class='lineno'> 236</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode.s', title='?'>s</a>
<span class='lineno'> 237</span> 
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native', title='str -> str / ? -> ?'>_unicode_to_native</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', title='str'>s</a>):
<span class='lineno'> 240</span>   &quot;&quot;&quot;Convert string from unicode to native format (required in Python 2).&quot;&quot;&quot;
<span class='lineno'> 241</span>   try:  # Python 2
<span class='lineno'> 242</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', title='str'>s</a>.encode(&quot;utf-8&quot;) if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', title='str'>s</a>, unicode) else <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', title='str'>s</a>
<span class='lineno'> 243</span>   except NameError:  # Python 3
<span class='lineno'> 244</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unicode_to_native.s', title='str'>s</a>
<span class='lineno'> 245</span> 
<span class='lineno'> 246</span> 
<span class='lineno'> 247</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', title='(?, None) -> [?] / (?, ?) -> [?]'>_split_string_to_tokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.master_char_set', title='None'>master_char_set</a>):
<span class='lineno'> 248</span>   &quot;&quot;&quot;Splits text to a list of string tokens.&quot;&quot;&quot;
<span class='lineno'> 249</span>   if not <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>:
<span class='lineno'> 250</span>     return []
<span class='lineno'> 251</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', title='[?]'>ret</a> = []
<span class='lineno'> 252</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', title='int'>token_start</a> = 0
<span class='lineno'> 253</span>   # Classify each character in the input string
<span class='lineno'> 254</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', title='[bool]'>is_master</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', title='?'>c</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.master_char_set', title='None'>master_char_set</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.c', title='?'>c</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>]
<span class='lineno'> 255</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', title='int'>pos</a> in xrange(1, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>)):
<span class='lineno'> 256</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', title='[bool]'>is_master</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', title='int'>pos</a>] != <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.is_master', title='[bool]'>is_master</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', title='int'>pos</a> - 1]:
<span class='lineno'> 257</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', title='?'>token</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', title='int'>token_start</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', title='int'>pos</a>]
<span class='lineno'> 258</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', title='?'>token</a> != u&quot; &quot; or <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', title='int'>token_start</a> == 0:
<span class='lineno'> 259</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', title='[?]'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token', title='?'>token</a>)
<span class='lineno'> 260</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', title='int'>token_start</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.pos', title='int'>pos</a>
<span class='lineno'> 261</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.final_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.final_token', title='?'>final_token</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.text', title='?'>text</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.token_start', title='int'>token_start</a>:]
<span class='lineno'> 262</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', title='[?]'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.final_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.final_token', title='?'>final_token</a>)
<span class='lineno'> 263</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens.ret', title='[?]'>ret</a>
<span class='lineno'> 264</span> 
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string', title='([None], None) -> str / (?, ?) -> str'>_join_tokens_to_string</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', title='[None]'>tokens</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.master_char_set', title='None'>master_char_set</a>):
<span class='lineno'> 267</span>   &quot;&quot;&quot;Join a list of string tokens into a single string.&quot;&quot;&quot;
<span class='lineno'> 268</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', title='[bool]'>token_is_master</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', title='None'>t</a>[0] in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.master_char_set', title='None'>master_char_set</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.t', title='None'>t</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', title='[None]'>tokens</a>]
<span class='lineno'> 269</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', title='[str]'>ret</a> = []
<span class='lineno'> 270</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', title='?'>i</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token', title='?'>token</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.tokens', title='[None]'>tokens</a>):
<span class='lineno'> 271</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', title='?'>i</a> &gt; 0 and <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', title='[bool]'>token_is_master</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', title='?'>i</a> - 1] and <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token_is_master', title='[bool]'>token_is_master</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.i', title='?'>i</a>]:
<span class='lineno'> 272</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', title='[str]'>ret</a>.append(u&quot; &quot;)
<span class='lineno'> 273</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', title='[str]'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.token', title='?'>token</a>)
<span class='lineno'> 274</span>   return &quot;&quot;.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._join_tokens_to_string.ret', title='[str]'>ret</a>)
<span class='lineno'> 275</span> 
<span class='lineno'> 276</span> 
<span class='lineno'> 277</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', title='(str, None) -> str / (?, ?) -> str / (?, None) -> str / (str, ?) -> str'>_escape_token</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', title='str'>token</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.alphabet', title='None'>alphabet</a>):
<span class='lineno'> 278</span>   r&quot;&quot;&quot;Replace characters that aren&#39;t in the alphabet and append &quot;_&quot; to token.
<span class='lineno'> 279</span> 
<span class='lineno'> 280</span>   Apply three transformations to the token:
<span class='lineno'> 281</span>     1. Replace underline character &quot;_&quot; with &quot;\u&quot;, and backslash &quot;\&quot; with &quot;\\&quot;.
<span class='lineno'> 282</span>     2. Replace characters outside of the alphabet with &quot;\###;&quot;, where ### is the
<span class='lineno'> 283</span>        character&#39;s Unicode code point.
<span class='lineno'> 284</span>     3. Appends &quot;_&quot; to mark the end of a token.
<span class='lineno'> 285</span> 
<span class='lineno'> 286</span>   Args:
<span class='lineno'> 287</span>     token: unicode string to be escaped
<span class='lineno'> 288</span>     alphabet: list of all known characters
<span class='lineno'> 289</span> 
<span class='lineno'> 290</span>   Returns:
<span class='lineno'> 291</span>     escaped string
<span class='lineno'> 292</span>   &quot;&quot;&quot;
<span class='lineno'> 293</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', title='str'>token</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', title='str'>token</a>.replace(u&quot;\\&quot;, u&quot;\\\\&quot;).replace(u&quot;_&quot;, u&quot;\\u&quot;)
<span class='lineno'> 294</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.ret', title='{[?] | [str]}'>ret</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'>c</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'>c</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.alphabet', title='None'>alphabet</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'>c</a> != u&quot;\n&quot; else r&quot;\%d;&quot; % ord(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'>c</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.c', title='str'>c</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.token', title='str'>token</a>]
<span class='lineno'> 295</span>   return u&quot;&quot;.join(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token.ret', title='{[?] | [str]}'>ret</a>) + &quot;_&quot;
<span class='lineno'> 296</span> 
<span class='lineno'> 297</span> 
<span class='lineno'> 298</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token', title='str -> None / ? -> None'>_unescape_token</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.token', title='str'>token</a>):
<span class='lineno'> 299</span>   r&quot;&quot;&quot;Replaces escaped characters in the token with their unescaped versions.
<span class='lineno'> 300</span> 
<span class='lineno'> 301</span>   Applies inverse transformations as _escape_token():
<span class='lineno'> 302</span>     1. Replace &quot;\u&quot; with &quot;_&quot;, and &quot;\\&quot; with &quot;\&quot;.
<span class='lineno'> 303</span>     2. Replace &quot;\###;&quot; with the unicode character the ### refers to.
<span class='lineno'> 304</span> 
<span class='lineno'> 305</span>   Args:
<span class='lineno'> 306</span>     token: escaped string
<span class='lineno'> 307</span> 
<span class='lineno'> 308</span>   Returns:
<span class='lineno'> 309</span>     unescaped string
<span class='lineno'> 310</span>   &quot;&quot;&quot;
<span class='lineno'> 311</span> 
<span class='lineno'> 312</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match', title='? -> str'>match</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', title='?'>m</a>):
<span class='lineno'> 313</span>     r&quot;&quot;&quot;Returns replacement string for matched object.
<span class='lineno'> 314</span> 
<span class='lineno'> 315</span>     Matched objects contain one of the strings that matches the regex pattern:
<span class='lineno'> 316</span>       r&quot;\\u|\\\\|\\([0-9]+);&quot;
<span class='lineno'> 317</span>     The strings can be &#39;\u&#39;, &#39;\\&#39;, or &#39;\###;&#39; (### is any digit number).
<span class='lineno'> 318</span> 
<span class='lineno'> 319</span>     m.group(0) refers to the entire matched string (&#39;\u&#39;, &#39;\\&#39;, or &#39;\###;&#39;).
<span class='lineno'> 320</span>     m.group(1) refers to the first parenthesized subgroup (&#39;###&#39;).
<span class='lineno'> 321</span> 
<span class='lineno'> 322</span>     m.group(0) exists for all match objects, while m.group(1) exists only for
<span class='lineno'> 323</span>     the string &#39;\###;&#39;.
<span class='lineno'> 324</span> 
<span class='lineno'> 325</span>     This function looks to see if m.group(1) exists. If it doesn&#39;t, then the
<span class='lineno'> 326</span>     matched string must be &#39;\u&#39; or &#39;\\&#39; . In this case, the corresponding
<span class='lineno'> 327</span>     replacement (&#39;_&#39; and &#39;\&#39;) are returned. Note that in python, a single
<span class='lineno'> 328</span>     backslash is written as &#39;\\&#39;, and double backslash as &#39;\\\\&#39;.
<span class='lineno'> 329</span> 
<span class='lineno'> 330</span>     If m.goup(1) exists, then use the integer in m.group(1) to return a
<span class='lineno'> 331</span>     unicode character.
<span class='lineno'> 332</span> 
<span class='lineno'> 333</span>     Args:
<span class='lineno'> 334</span>       m: match object
<span class='lineno'> 335</span> 
<span class='lineno'> 336</span>     Returns:
<span class='lineno'> 337</span>       String to replace matched object with.
<span class='lineno'> 338</span>     &quot;&quot;&quot;
<span class='lineno'> 339</span>     # Check if the matched strings are &#39;\u&#39; or &#39;\\&#39;.
<span class='lineno'> 340</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', title='?'>m</a>.group(1) is None:
<span class='lineno'> 341</span>       return u&quot;_&quot; if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', title='?'>m</a>.group(0) == u&quot;\\u&quot; else u&quot;\\&quot;
<span class='lineno'> 342</span> 
<span class='lineno'> 343</span>     # If m.group(1) exists, try and return unicode character.
<span class='lineno'> 344</span>     try:
<span class='lineno'> 345</span>       return six.unichr(int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match.m', title='?'>m</a>.group(1)))
<span class='lineno'> 346</span>     except (ValueError, OverflowError) as <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match._', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match._', title='?'>_</a>:
<span class='lineno'> 347</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNDEFINED_UNICODE', title='str'>_UNDEFINED_UNICODE</a>
<span class='lineno'> 348</span> 
<span class='lineno'> 349</span>   # Use match function to replace escaped substrings in the token.
<span class='lineno'> 350</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._UNESCAPE_REGEX', title='?'>_UNESCAPE_REGEX</a>.sub(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.match', title='? -> str'>match</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._unescape_token.token', title='str'>token</a>)
<span class='lineno'> 351</span> 
<span class='lineno'> 352</span> 
<span class='lineno'> 353</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens', title='(?, float, bool, None) -> defaultdict'>_count_tokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.files', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.files', title='?'>files</a>,
<span class='lineno'> 354</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_limit', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_limit', title='float'>file_byte_limit</a>=1e6,
<span class='lineno'> 355</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.correct_strip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.correct_strip', title='bool'>correct_strip</a>=True,
<span class='lineno'> 356</span>                   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', title='None'>master_char_set</a>=None):
<span class='lineno'> 357</span>   &quot;&quot;&quot;Return token counts of words in the files.
<span class='lineno'> 358</span> 
<span class='lineno'> 359</span>   Samples file_byte_limit bytes from each file, and counts the words that appear
<span class='lineno'> 360</span>   in the samples. The samples are semi-evenly distributed across the file.
<span class='lineno'> 361</span> 
<span class='lineno'> 362</span>   Args:
<span class='lineno'> 363</span>     files: List of filepaths
<span class='lineno'> 364</span>     file_byte_limit: Max number of bytes that will be read from each file.
<span class='lineno'> 365</span>     correct_strip: Whether to convert text to unicode before strip. This affects
<span class='lineno'> 366</span>       vocabulary generation for PY2. Sets correct_strip to False in PY2 to
<span class='lineno'> 367</span>       reproduce previous common public result. Sets correct_strip to True will
<span class='lineno'> 368</span>       let PY2 and PY3 get a consistent vocabulary.
<span class='lineno'> 369</span>     master_char_set: the char set.
<span class='lineno'> 370</span> 
<span class='lineno'> 371</span>   Returns:
<span class='lineno'> 372</span>     Dictionary mapping tokens to the number of times they appear in the sampled
<span class='lineno'> 373</span>     lines from the files.
<span class='lineno'> 374</span>   &quot;&quot;&quot;
<span class='lineno'> 375</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', title='None'>master_char_set</a> is None:
<span class='lineno'> 376</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', title='?'>master_char_set</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ALPHANUMERIC_CHAR_SET', title='?'>_ALPHANUMERIC_CHAR_SET</a>
<span class='lineno'> 377</span> 
<span class='lineno'> 378</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', title='defaultdict'>token_counts</a> = collections.defaultdict(int)
<span class='lineno'> 379</span> 
<span class='lineno'> 380</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.filepath', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.filepath', title='?'>filepath</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.files', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.files', title='?'>files</a>:
<span class='lineno'> 381</span>     with tf.io.gfile.GFile(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.filepath', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.filepath', title='?'>filepath</a>, mode=&quot;r&quot;) as <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', title='?'>reader</a>:
<span class='lineno'> 382</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', title='float'>file_byte_budget</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_limit', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_limit', title='float'>file_byte_limit</a>
<span class='lineno'> 383</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', title='int'>counter</a> = 0
<span class='lineno'> 384</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.lines_to_skip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.lines_to_skip', title='int'>lines_to_skip</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', title='?'>reader</a>.size() / (<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', title='float'>file_byte_budget</a> * 2))
<span class='lineno'> 385</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.reader', title='?'>reader</a>:
<span class='lineno'> 386</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', title='int'>counter</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.lines_to_skip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.lines_to_skip', title='int'>lines_to_skip</a>:
<span class='lineno'> 387</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', title='int'>counter</a></a> += 1
<span class='lineno'> 388</span>         else:
<span class='lineno'> 389</span>           if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', title='float'>file_byte_budget</a> &lt; 0:
<span class='lineno'> 390</span>             break
<span class='lineno'> 391</span>           if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.correct_strip', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.correct_strip', title='bool'>correct_strip</a>:
<span class='lineno'> 392</span>             <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a>)
<span class='lineno'> 393</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a>.strip()
<span class='lineno'> 394</span>           <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', title='float'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.file_byte_budget', title='float'>file_byte_budget</a></a> -= len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a>)
<span class='lineno'> 395</span>           <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.counter', title='int'>counter</a> = 0
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>           # Add words to token counts
<span class='lineno'> 398</span>           for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token', title='?'>token</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_string_to_tokens', title='(?, None) -> [?] / (?, ?) -> [?]'>_split_string_to_tokens</a>(
<span class='lineno'> 399</span>               <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.native_to_unicode', title='? -> ?'>native_to_unicode</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.line', title='?'>line</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.master_char_set', title='None'>master_char_set</a>):
<span class='lineno'> 400</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', title='defaultdict'>token_counts</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token', title='?'>token</a>] += 1
<span class='lineno'> 401</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_tokens.token_counts', title='defaultdict'>token_counts</a>
<span class='lineno'> 402</span> 
<span class='lineno'> 403</span> 
<span class='lineno'> 404</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', title='? -> dict / None -> dict'>_list_to_index_dict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.lst', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.lst', title='None'>lst</a>):
<span class='lineno'> 405</span>   &quot;&quot;&quot;Create dictionary mapping list items to their indices in the list.&quot;&quot;&quot;
<span class='lineno'> 406</span>   return {<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', title='?'>item</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', title='?'>n</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.n', title='?'>n</a></a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.item', title='?'>item</a></a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.lst', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict.lst', title='None'>lst</a>)}
<span class='lineno'> 407</span> 
<span class='lineno'> 408</span> 
<span class='lineno'> 409</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', title='(str, ?, ?) -> [str] / (str, dict, int) -> [str] / (?, ?, ?) -> [?]'>_split_token_to_subtokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', title='str'>token</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken_dict', title='dict'>subtoken_dict</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a>):
<span class='lineno'> 410</span>   &quot;&quot;&quot;Splits a token into subtokens defined in the subtoken dict.&quot;&quot;&quot;
<span class='lineno'> 411</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', title='{[?] | [str]}'>ret</a> = []
<span class='lineno'> 412</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a> = 0
<span class='lineno'> 413</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', title='int'>token_len</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', title='str'>token</a>)
<span class='lineno'> 414</span>   while <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', title='int'>token_len</a>:
<span class='lineno'> 415</span>     # Find the longest subtoken, so iterate backwards.
<span class='lineno'> 416</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', title='int'>end</a> in xrange(min(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token_len', title='int'>token_len</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a>, -1):
<span class='lineno'> 417</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', title='str'>subtoken</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.token', title='str'>token</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', title='int'>end</a>]
<span class='lineno'> 418</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', title='str'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken_dict', title='dict'>subtoken_dict</a>:
<span class='lineno'> 419</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', title='{[?] | [str]}'>ret</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.subtoken', title='str'>subtoken</a>)
<span class='lineno'> 420</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.start', title='int'>start</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.end', title='int'>end</a>
<span class='lineno'> 421</span>         break
<span class='lineno'> 422</span>     else:  # Did not break
<span class='lineno'> 423</span>       # If there is no possible encoding of the escaped token then one of the
<span class='lineno'> 424</span>       # characters in the token is not in the alphabet. This should be
<span class='lineno'> 425</span>       # impossible and would be indicative of a bug.
<span class='lineno'> 426</span>       raise ValueError(&quot;Was unable to split token \&quot;%s\&quot; into subtokens.&quot; %
<span class='lineno'> 427</span>                        token)
<span class='lineno'> 428</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens.ret', title='{[?] | [str]}'>ret</a>
<span class='lineno'> 429</span> 
<span class='lineno'> 430</span> 
<span class='lineno'> 431</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size', title='(defaultdict, None, ?, ?, None, [str]) -> None / (?, ?, ?, ?, None, None) -> None'>_generate_subtokens_with_target_vocab_size</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', title='defaultdict'>token_counts</a>,
<span class='lineno'> 432</span>                                                <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', title='None'>alphabet</a>,
<span class='lineno'> 433</span>                                                <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>,
<span class='lineno'> 434</span>                                                <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.threshold', title='?'>threshold</a>,
<span class='lineno'> 435</span>                                                <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', title='None'>min_count</a>=None,
<span class='lineno'> 436</span>                                                <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', title='[str]'>reserved_tokens</a>=None):
<span class='lineno'> 437</span>   &quot;&quot;&quot;Generate subtoken vocabulary close to the target size.&quot;&quot;&quot;
<span class='lineno'> 438</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', title='[str]'>reserved_tokens</a> is None:
<span class='lineno'> 439</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 440</span> 
<span class='lineno'> 441</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', title='None'>min_count</a> is not None:
<span class='lineno'> 442</span>     logging.info(&quot;Using min_count=%d to generate vocab with target size %d&quot;,
<span class='lineno'> 443</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', title='None'>min_count</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>)
<span class='lineno'> 444</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', title='(defaultdict, None, int, int, None) -> None / (defaultdict, None, None, int, None) -> None / (?, ?, None, int, None) -> None / (?, ?, ?, int, None) -> None / (?, ?, int, int, None) -> None'>_generate_subtokens</a>(
<span class='lineno'> 445</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', title='defaultdict'>token_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', title='None'>alphabet</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.min_count', title='None'>min_count</a>, reserved_tokens=<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', title='[str]'>reserved_tokens</a>)
<span class='lineno'> 446</span> 
<span class='lineno'> 447</span>   def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', title='(int, int) -> None'>bisect</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', title='int'>min_val</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', title='int'>max_val</a>):
<span class='lineno'> 448</span>     &quot;&quot;&quot;Recursive function to binary search for subtoken vocabulary.&quot;&quot;&quot;
<span class='lineno'> 449</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', title='int'>min_val</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', title='int'>max_val</a>) // 2
<span class='lineno'> 450</span>     logging.info(&quot;Binary search: trying min_count=%d (%d %d)&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a>,
<span class='lineno'> 451</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', title='int'>min_val</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', title='int'>max_val</a>)
<span class='lineno'> 452</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', title='None'>subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', title='(defaultdict, None, int, int, None) -> None / (defaultdict, None, None, int, None) -> None / (?, ?, None, int, None) -> None / (?, ?, ?, int, None) -> None / (?, ?, int, int, None) -> None'>_generate_subtokens</a>(
<span class='lineno'> 453</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.token_counts', title='defaultdict'>token_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.alphabet', title='None'>alphabet</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a>, reserved_tokens=<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.reserved_tokens', title='[str]'>reserved_tokens</a>)
<span class='lineno'> 454</span> 
<span class='lineno'> 455</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', title='int'>val</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', title='None'>subtoken_list</a>)
<span class='lineno'> 456</span>     logging.info(&quot;Binary search: min_count=%d resulted in %d tokens&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a>,
<span class='lineno'> 457</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', title='int'>val</a>)
<span class='lineno'> 458</span> 
<span class='lineno'> 459</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.within_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.within_threshold', title='bool'>within_threshold</a> = abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', title='int'>val</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>) &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.threshold', title='?'>threshold</a>
<span class='lineno'> 460</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.within_threshold', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.within_threshold', title='bool'>within_threshold</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', title='int'>min_val</a> &gt;= <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', title='int'>max_val</a> or <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a> &lt; 2:
<span class='lineno'> 461</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', title='None'>subtoken_list</a>
<span class='lineno'> 462</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', title='int'>val</a> &gt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>:
<span class='lineno'> 463</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', title='None'>other_subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', title='(int, int) -> None'>bisect</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a> + 1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.max_val', title='int'>max_val</a>)
<span class='lineno'> 464</span>     else:
<span class='lineno'> 465</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', title='None'>other_subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', title='(int, int) -> None'>bisect</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.min_val', title='int'>min_val</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.cur_count', title='int'>cur_count</a> - 1)
<span class='lineno'> 466</span> 
<span class='lineno'> 467</span>     # Return vocabulary dictionary with the closest number of tokens.
<span class='lineno'> 468</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_val', title='int'>other_val</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', title='None'>other_subtoken_list</a>)
<span class='lineno'> 469</span>     if abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_val', title='int'>other_val</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>) &lt; abs(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.val', title='int'>val</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>):
<span class='lineno'> 470</span>       return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.other_subtoken_list', title='None'>other_subtoken_list</a>
<span class='lineno'> 471</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect.subtoken_list', title='None'>subtoken_list</a>
<span class='lineno'> 472</span> 
<span class='lineno'> 473</span>   logging.info(&quot;Finding best min_count to get target size of %d&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.target_size', title='?'>target_size</a>)
<span class='lineno'> 474</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens_with_target_vocab_size.bisect', title='(int, int) -> None'>bisect</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MIN_MIN_COUNT', title='int'>_MIN_MIN_COUNT</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._MAX_MIN_COUNT', title='int'>_MAX_MIN_COUNT</a>)
<span class='lineno'> 475</span> 
<span class='lineno'> 476</span> 
<span class='lineno'> 477</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict', title='(defaultdict, None) -> None / (None, None) -> None / (?, None) -> None'>_generate_alphabet_dict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.iterable', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.iterable', title='{None | defaultdict}'>iterable</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', title='None'>reserved_tokens</a>=None):
<span class='lineno'> 478</span>   &quot;&quot;&quot;Create set of characters that appear in any element in the iterable.&quot;&quot;&quot;
<span class='lineno'> 479</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', title='None'>reserved_tokens</a> is None:
<span class='lineno'> 480</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 481</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='[?]'>alphabet</a> = {<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='?'>c</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='?'>token</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.iterable', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.iterable', title='{None | defaultdict}'>iterable</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='?'>c</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='?'>token</a>}
<span class='lineno'> 482</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='[?]'>alphabet</a></a> |= {<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='str'>c</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='str'>token</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.reserved_tokens', title='[str]'>reserved_tokens</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.c', title='str'>c</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.token', title='str'>token</a>}
<span class='lineno'> 483</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='?'>alphabet</a></a> |= <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._ESCAPE_CHARS', title='?'>_ESCAPE_CHARS</a>  # Add escape characters to alphabet set.
<span class='lineno'> 484</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_alphabet_dict.alphabet', title='?'>alphabet</a>
<span class='lineno'> 485</span> 
<span class='lineno'> 486</span> 
<span class='lineno'> 487</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens', title='(?, ?, ?, ?) -> defaultdict / (?, ?, dict, int) -> defaultdict / (defaultdict, None, dict, int) -> defaultdict'>_count_and_gen_subtokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token_counts', title='defaultdict'>token_counts</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.alphabet', title='None'>alphabet</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_dict', title='dict'>subtoken_dict</a>,
<span class='lineno'> 488</span>                              <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a>):
<span class='lineno'> 489</span>   &quot;&quot;&quot;Count number of times subtokens appear, and generate new subtokens.
<span class='lineno'> 490</span> 
<span class='lineno'> 491</span>   Args:
<span class='lineno'> 492</span>     token_counts: dict mapping tokens to the number of times they appear in the
<span class='lineno'> 493</span>       original files.
<span class='lineno'> 494</span>     alphabet: list of allowed characters. Used to escape the tokens, which
<span class='lineno'> 495</span>       guarantees that all tokens can be split into subtokens.
<span class='lineno'> 496</span>     subtoken_dict: dict mapping subtokens to ids.
<span class='lineno'> 497</span>     max_subtoken_length: maximum length of subtoken in subtoken_dict.
<span class='lineno'> 498</span> 
<span class='lineno'> 499</span>   Returns:
<span class='lineno'> 500</span>     A defaultdict mapping subtokens to the number of times they appear in the
<span class='lineno'> 501</span>     tokens. The dict may contain new subtokens.
<span class='lineno'> 502</span>   &quot;&quot;&quot;
<span class='lineno'> 503</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a> = collections.defaultdict(int)
<span class='lineno'> 504</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='?'>token</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.count', title='?'>count</a> in six.iteritems(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token_counts', title='defaultdict'>token_counts</a>):
<span class='lineno'> 505</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='str'>token</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._escape_token', title='(str, None) -> str / (?, ?) -> str / (?, None) -> str / (str, ?) -> str'>_escape_token</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='str'>token</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.alphabet', title='None'>alphabet</a>)
<span class='lineno'> 506</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtokens', title='[str]'>subtokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._split_token_to_subtokens', title='(str, ?, ?) -> [str] / (str, dict, int) -> [str] / (?, ?, ?) -> [?]'>_split_token_to_subtokens</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='str'>token</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_dict', title='dict'>subtoken_dict</a>,
<span class='lineno'> 507</span>                                           <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a>)
<span class='lineno'> 508</span> 
<span class='lineno'> 509</span>     # Generate new subtokens by taking substrings from token.
<span class='lineno'> 510</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', title='int'>start</a> = 0
<span class='lineno'> 511</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken', title='str'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtokens', title='[str]'>subtokens</a>:
<span class='lineno'> 512</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.end', title='int'>end</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', title='int'>start</a> + 1, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='str'>token</a>) + 1):
<span class='lineno'> 513</span>         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.new_subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.new_subtoken', title='str'>new_subtoken</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.token', title='str'>token</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', title='int'>start</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.end', title='int'>end</a>]
<span class='lineno'> 514</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.new_subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.new_subtoken', title='str'>new_subtoken</a>] += <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.count', title='?'>count</a>
<span class='lineno'> 515</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.start', title='int'>start</a></a> += len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken', title='str'>subtoken</a>)
<span class='lineno'> 516</span> 
<span class='lineno'> 517</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a>
<span class='lineno'> 518</span> 
<span class='lineno'> 519</span> 
<span class='lineno'> 520</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens', title='(?, ?) -> [?] / (defaultdict, None) -> [?] / (defaultdict, ?) -> [?] / (defaultdict, int) -> [?]'>_filter_and_bucket_subtokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.min_count', title='int'>min_count</a>):
<span class='lineno'> 521</span>   &quot;&quot;&quot;Return a bucketed list of subtokens that are filtered by count.
<span class='lineno'> 522</span> 
<span class='lineno'> 523</span>   Args:
<span class='lineno'> 524</span>     subtoken_counts: defaultdict mapping subtokens to their counts
<span class='lineno'> 525</span>     min_count: int count used to filter subtokens
<span class='lineno'> 526</span> 
<span class='lineno'> 527</span>   Returns:
<span class='lineno'> 528</span>     List of subtoken sets, where subtokens in set i have the same length=i.
<span class='lineno'> 529</span>   &quot;&quot;&quot;
<span class='lineno'> 530</span>   # Create list of buckets, where subtokens in bucket i have length i.
<span class='lineno'> 531</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', title='[?]'>subtoken_buckets</a> = []
<span class='lineno'> 532</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', title='?'>subtoken</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.count', title='?'>count</a> in six.iteritems(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a>):
<span class='lineno'> 533</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.count', title='?'>count</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.min_count', title='int'>min_count</a>:  # Filter out subtokens that don&#39;t appear enough
<span class='lineno'> 534</span>       continue
<span class='lineno'> 535</span>     while len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', title='[?]'>subtoken_buckets</a>) &lt;= len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', title='?'>subtoken</a>):
<span class='lineno'> 536</span>       <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', title='[?]'>subtoken_buckets</a>.append(set())
<span class='lineno'> 537</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', title='[?]'>subtoken_buckets</a>[len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', title='?'>subtoken</a>)].add(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken', title='?'>subtoken</a>)
<span class='lineno'> 538</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens.subtoken_buckets', title='[?]'>subtoken_buckets</a>
<span class='lineno'> 539</span> 
<span class='lineno'> 540</span> 
<span class='lineno'> 541</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list', title='(defaultdict, int, None, [str]) -> (?, int) / (defaultdict, None, None, [str]) -> (?, int) / (?, ?, ?, None) -> (?, int) / (defaultdict, None, ?, [str]) -> (?, int) / (defaultdict, ?, ?, [str]) -> (?, int) / (defaultdict, int, ?, [str]) -> (?, int)'>_gen_new_subtoken_list</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', title='defaultdict'>subtoken_counts</a>,
<span class='lineno'> 542</span>                            <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', title='int'>min_count</a>,
<span class='lineno'> 543</span>                            <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', title='None'>alphabet</a>,
<span class='lineno'> 544</span>                            <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', title='[str]'>reserved_tokens</a>=None):
<span class='lineno'> 545</span>   &quot;&quot;&quot;Generate candidate subtokens ordered by count, and new max subtoken length.
<span class='lineno'> 546</span> 
<span class='lineno'> 547</span>   Add subtokens to the candiate list in order of length (longest subtokens
<span class='lineno'> 548</span>   first). When a subtoken is added, the counts of each of its prefixes are
<span class='lineno'> 549</span>   decreased. Prefixes that don&#39;t appear much outside the subtoken are not added
<span class='lineno'> 550</span>   to the candidate list.
<span class='lineno'> 551</span> 
<span class='lineno'> 552</span>   For example:
<span class='lineno'> 553</span>     subtoken being added to candidate list: &#39;translate&#39;
<span class='lineno'> 554</span>     subtoken_counts: {&#39;translate&#39;:10, &#39;t&#39;:40, &#39;tr&#39;:16, &#39;tra&#39;:12, ...}
<span class='lineno'> 555</span>     min_count: 5
<span class='lineno'> 556</span> 
<span class='lineno'> 557</span>   When &#39;translate&#39; is added, subtoken_counts is updated to:
<span class='lineno'> 558</span>     {&#39;translate&#39;:0, &#39;t&#39;:30, &#39;tr&#39;:6, &#39;tra&#39;: 2, ...}
<span class='lineno'> 559</span> 
<span class='lineno'> 560</span>   The subtoken &#39;tra&#39; will not be added to the candidate list, because it appears
<span class='lineno'> 561</span>   twice (less than min_count) outside of &#39;translate&#39;.
<span class='lineno'> 562</span> 
<span class='lineno'> 563</span>   Args:
<span class='lineno'> 564</span>     subtoken_counts: defaultdict mapping str subtokens to int counts
<span class='lineno'> 565</span>     min_count: int minumum count requirement for subtokens
<span class='lineno'> 566</span>     alphabet: set of characters. Each character is added to the subtoken list to
<span class='lineno'> 567</span>       guarantee that all tokens can be encoded.
<span class='lineno'> 568</span>     reserved_tokens: list of tokens that will be added to the beginning of the
<span class='lineno'> 569</span>       returned subtoken list.
<span class='lineno'> 570</span> 
<span class='lineno'> 571</span>   Returns:
<span class='lineno'> 572</span>     List of candidate subtokens in decreasing count order, and maximum subtoken
<span class='lineno'> 573</span>     length
<span class='lineno'> 574</span>   &quot;&quot;&quot;
<span class='lineno'> 575</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', title='[str]'>reserved_tokens</a> is None:
<span class='lineno'> 576</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 577</span> 
<span class='lineno'> 578</span>   # Create a list of (count, subtoken) for each candidate subtoken.
<span class='lineno'> 579</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', title='[(?, ?)]'>subtoken_candidates</a> = []
<span class='lineno'> 580</span> 
<span class='lineno'> 581</span>   # Use bucketted list to iterate through subtokens in order of length.
<span class='lineno'> 582</span>   # subtoken_buckets[i] = set(subtokens), where each subtoken has length i.
<span class='lineno'> 583</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', title='[?]'>subtoken_buckets</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._filter_and_bucket_subtokens', title='(?, ?) -> [?] / (defaultdict, None) -> [?] / (defaultdict, ?) -> [?] / (defaultdict, int) -> [?]'>_filter_and_bucket_subtokens</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', title='defaultdict'>subtoken_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', title='int'>min_count</a>)
<span class='lineno'> 584</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', title='int'>max_subtoken_length</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', title='[?]'>subtoken_buckets</a>) - 1
<span class='lineno'> 585</span> 
<span class='lineno'> 586</span>   # Go through the list in reverse order to consider longer subtokens first.
<span class='lineno'> 587</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', title='int'>subtoken_len</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', title='int'>max_subtoken_length</a>, 0, -1):
<span class='lineno'> 588</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_buckets', title='[?]'>subtoken_buckets</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', title='int'>subtoken_len</a>]:
<span class='lineno'> 589</span>       <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', title='?'>count</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', title='defaultdict'>subtoken_counts</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a>]
<span class='lineno'> 590</span> 
<span class='lineno'> 591</span>       # Possible if this subtoken is a prefix of another token.
<span class='lineno'> 592</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', title='?'>count</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.min_count', title='int'>min_count</a>:
<span class='lineno'> 593</span>         continue
<span class='lineno'> 594</span> 
<span class='lineno'> 595</span>       # Ignore alphabet/reserved tokens, which will be added manually later.
<span class='lineno'> 596</span>       if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', title='None'>alphabet</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', title='[str]'>reserved_tokens</a>:
<span class='lineno'> 597</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', title='[(?, ?)]'>subtoken_candidates</a>.append((<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', title='?'>count</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a>))
<span class='lineno'> 598</span> 
<span class='lineno'> 599</span>       # Decrement count of the subtoken&#39;s prefixes (if a longer subtoken is
<span class='lineno'> 600</span>       # added, its prefixes lose priority to be added).
<span class='lineno'> 601</span>       for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.end', title='int'>end</a> in xrange(1, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_len', title='int'>subtoken_len</a>):
<span class='lineno'> 602</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', title='defaultdict'>subtoken_counts</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken', title='?'>subtoken</a>[:<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.end', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.end', title='int'>end</a>]] -= <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.count', title='?'>count</a>
<span class='lineno'> 603</span> 
<span class='lineno'> 604</span>   # Add alphabet subtokens (guarantees that all strings are encodable).
<span class='lineno'> 605</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', title='[(?, ?)]'>subtoken_candidates</a>.extend((<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_counts', title='defaultdict'>subtoken_counts</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', title='?'>a</a>, 0), <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', title='?'>a</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.a', title='?'>a</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.alphabet', title='None'>alphabet</a>)
<span class='lineno'> 606</span> 
<span class='lineno'> 607</span>   # Order subtoken candidates by decreasing count.
<span class='lineno'> 608</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', title='[?]'>subtoken_list</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', title='?'>t</a> for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list._', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list._', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list._', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list._', title='?'>_</a></a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.t', title='?'>t</a></a> in sorted(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_candidates', title='[(?, ?)]'>subtoken_candidates</a>, reverse=True)]
<span class='lineno'> 609</span> 
<span class='lineno'> 610</span>   # Add reserved tokens to beginning of the list.
<span class='lineno'> 611</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', title='?'>subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.reserved_tokens', title='[str]'>reserved_tokens</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', title='[?]'>subtoken_list</a>
<span class='lineno'> 612</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.subtoken_list', title='?'>subtoken_list</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list.max_subtoken_length', title='int'>max_subtoken_length</a>
<span class='lineno'> 613</span> 
<span class='lineno'> 614</span> 
<span class='lineno'> 615</span> def <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens', title='(defaultdict, None, int, int, None) -> None / (defaultdict, None, None, int, None) -> None / (?, ?, None, int, None) -> None / (?, ?, ?, int, None) -> None / (?, ?, int, int, None) -> None'>_generate_subtokens</a>(<a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.token_counts', title='defaultdict'>token_counts</a>,
<span class='lineno'> 616</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', title='None'>alphabet</a>,
<span class='lineno'> 617</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.min_count', title='int'>min_count</a>,
<span class='lineno'> 618</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.num_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.num_iterations', title='int'>num_iterations</a>=4,
<span class='lineno'> 619</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', title='None'>reserved_tokens</a>=None):
<span class='lineno'> 620</span>   &quot;&quot;&quot;Create a list of subtokens in decreasing order of frequency.
<span class='lineno'> 621</span> 
<span class='lineno'> 622</span>   Args:
<span class='lineno'> 623</span>     token_counts: dict mapping str tokens -&gt; int count
<span class='lineno'> 624</span>     alphabet: set of characters
<span class='lineno'> 625</span>     min_count: int minimum number of times a subtoken must appear before it is
<span class='lineno'> 626</span>       added to the vocabulary.
<span class='lineno'> 627</span>     num_iterations: int number of iterations to generate new tokens.
<span class='lineno'> 628</span>     reserved_tokens: list of tokens that will be added to the beginning to the
<span class='lineno'> 629</span>       returned subtoken list.
<span class='lineno'> 630</span> 
<span class='lineno'> 631</span>   Returns:
<span class='lineno'> 632</span>     Sorted list of subtokens (most frequent first)
<span class='lineno'> 633</span>   &quot;&quot;&quot;
<span class='lineno'> 634</span>   if <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', title='None'>reserved_tokens</a> is None:
<span class='lineno'> 635</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', title='[str]'>reserved_tokens</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer.RESERVED_TOKENS', title='[str]'>RESERVED_TOKENS</a>
<span class='lineno'> 636</span> 
<span class='lineno'> 637</span>   # Use alphabet set to create initial list of subtokens
<span class='lineno'> 638</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', title='?'>subtoken_list</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', title='[str]'>reserved_tokens</a> + list(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', title='None'>alphabet</a>)
<span class='lineno'> 639</span>   <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a> = 1
<span class='lineno'> 640</span> 
<span class='lineno'> 641</span>   # On each iteration, segment all words using the subtokens defined in
<span class='lineno'> 642</span>   # subtoken_dict, count how often the resulting subtokens appear, and update
<span class='lineno'> 643</span>   # the dictionary with subtokens w/ high enough counts.
<span class='lineno'> 644</span>   for <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.i', title='int'>i</a> in xrange(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.num_iterations', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.num_iterations', title='int'>num_iterations</a>):
<span class='lineno'> 645</span>     logging.info(&quot;\tGenerating subtokens: iteration %d&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.i', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.i', title='int'>i</a>)
<span class='lineno'> 646</span>     # Generate new subtoken-&gt;id dictionary using the new subtoken list.
<span class='lineno'> 647</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_dict', title='dict'>subtoken_dict</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._list_to_index_dict', title='? -> dict / None -> dict'>_list_to_index_dict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', title='?'>subtoken_list</a>)
<span class='lineno'> 648</span> 
<span class='lineno'> 649</span>     # Create dict mapping subtoken-&gt;count, with additional subtokens created
<span class='lineno'> 650</span>     # from substrings taken from the tokens.
<span class='lineno'> 651</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._count_and_gen_subtokens', title='(?, ?, ?, ?) -> defaultdict / (?, ?, dict, int) -> defaultdict / (defaultdict, None, dict, int) -> defaultdict'>_count_and_gen_subtokens</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.token_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.token_counts', title='defaultdict'>token_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', title='None'>alphabet</a>,
<span class='lineno'> 652</span>                                                <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_dict', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_dict', title='dict'>subtoken_dict</a>,
<span class='lineno'> 653</span>                                                <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a>)
<span class='lineno'> 654</span> 
<span class='lineno'> 655</span>     # Generate new list of subtokens sorted by subtoken count.
<span class='lineno'> 656</span>     <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', title='?'>subtoken_list</a>, <a name='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.max_subtoken_length', title='int'>max_subtoken_length</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._gen_new_subtoken_list', title='(defaultdict, int, None, [str]) -> (?, int) / (defaultdict, None, None, [str]) -> (?, int) / (?, ?, ?, None) -> (?, int) / (defaultdict, None, ?, [str]) -> (?, int) / (defaultdict, ?, ?, [str]) -> (?, int) / (defaultdict, int, ?, [str]) -> (?, int)'>_gen_new_subtoken_list</a>(
<span class='lineno'> 657</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_counts', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_counts', title='defaultdict'>subtoken_counts</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.min_count', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.min_count', title='int'>min_count</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.alphabet', title='None'>alphabet</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.reserved_tokens', title='[str]'>reserved_tokens</a>)
<span class='lineno'> 658</span> 
<span class='lineno'> 659</span>     logging.info(&quot;\tVocab size: %d&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', title='?'>subtoken_list</a>))
<span class='lineno'> 660</span>   return <a href='#.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', xid ='.home.xxm.Desktop.EMSE.dataset.models.official.nlp.transformer.utils.tokenizer._generate_subtokens.subtoken_list', title='?'>subtoken_list</a>
</pre></td></tr></table></body></html>