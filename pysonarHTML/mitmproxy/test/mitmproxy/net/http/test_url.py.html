<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/mitmproxy/test/mitmproxy/net/http/test_url.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse'>test_parse</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check'>test_ascii_check</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse_port_range', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse_port_range'>test_parse_port_range</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unparse', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unparse'>test_unparse</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates'>surrogates</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted'>surrogates_quoted</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign'>test_empty_key_trailing_equal_sign</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_encode', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_encode'>test_encode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode'>test_decode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_quote', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_quote'>test_quote</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unquote', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unquote'>test_unquote</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_hostport', xid='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_hostport'>test_hostport</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> import pytest
<span class='lineno'>   2</span> import sys
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> from <a href='../../../../mitmproxy/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy', title='mitmproxy'>mitmproxy</a>.<a href='../../../../mitmproxy/net/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net', title='net'>net</a>.<a href='../../../../mitmproxy/net/http/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http', title='http'>http</a> import <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>
<span class='lineno'>   5</span> 
<span class='lineno'>   6</span> 
<span class='lineno'>   7</span> def <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse', title='() -> None'>test_parse</a>():
<span class='lineno'>   8</span>     with pytest.raises(ValueError):
<span class='lineno'>   9</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&quot;&quot;)
<span class='lineno'>  10</span> 
<span class='lineno'>  11</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> = <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(b&quot;http://foo.com:8888/test&quot;)
<span class='lineno'>  12</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a> == b&quot;http&quot;
<span class='lineno'>  13</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a> == b&quot;foo.com&quot;
<span class='lineno'>  14</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a> == 8888
<span class='lineno'>  15</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> == b&quot;/test&quot;
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> = <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&quot;http://foo/bar&quot;)
<span class='lineno'>  18</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a> == b&quot;http&quot;
<span class='lineno'>  19</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a> == b&quot;foo&quot;
<span class='lineno'>  20</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a> == 80
<span class='lineno'>  21</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> == b&quot;/bar&quot;
<span class='lineno'>  22</span> 
<span class='lineno'>  23</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> = <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(b&quot;http://user:pass@foo/bar&quot;)
<span class='lineno'>  24</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a> == b&quot;http&quot;
<span class='lineno'>  25</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a> == b&quot;foo&quot;
<span class='lineno'>  26</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a> == 80
<span class='lineno'>  27</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> == b&quot;/bar&quot;
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> = <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(b&quot;http://foo&quot;)
<span class='lineno'>  30</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> == b&quot;/&quot;
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.s', title='?'>s</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.h', title='?'>h</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a>, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.pa', title='str'>pa</a> = <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(b&quot;https://foo&quot;)
<span class='lineno'>  33</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse.po', title='int'>po</a> == 443
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span>     with pytest.raises(ValueError):
<span class='lineno'>  36</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(b&quot;https://foo:bar&quot;)
<span class='lineno'>  37</span> 
<span class='lineno'>  38</span>     # Invalid IDNA
<span class='lineno'>  39</span>     with pytest.raises(ValueError):
<span class='lineno'>  40</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&quot;http://\xfafoo&quot;)
<span class='lineno'>  41</span>     # Invalid PATH
<span class='lineno'>  42</span>     with pytest.raises(ValueError):
<span class='lineno'>  43</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&quot;http:/\xc6/localhost:56121&quot;)
<span class='lineno'>  44</span>     # Null byte in host
<span class='lineno'>  45</span>     with pytest.raises(ValueError):
<span class='lineno'>  46</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&quot;http://foo\0&quot;)
<span class='lineno'>  47</span>     # Invalid IPv6 URL - see http://www.ietf.org/rfc/rfc2732.txt
<span class='lineno'>  48</span>     with pytest.raises(ValueError):
<span class='lineno'>  49</span>         <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>url</a>.<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>parse</a>(&#39;http://lo[calhost&#39;)
<span class='lineno'>  50</span> 
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span> def <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check', title='() -> None'>test_ascii_check</a>():
<span class='lineno'>  53</span> 
<span class='lineno'>  54</span>     <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.test_url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.test_url', title='str'>test_url</a> = &quot;https://xyz.tax-edu.net?flag=selectCourse&amp;lc_id=42825&amp;lc_name=茅莽莽猫氓猫氓&quot;.encode()
<span class='lineno'>  55</span>     scheme, host, <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.scheme', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.scheme', title='?'>port, </a>fu<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.host', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.host', title='?'>ll_p</a>at<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.port', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.port', title='int'>h = </a>ur<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.full_path', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.full_path', title='str'>l.parse(t</a>est<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>_ur</a>l<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>)
<span class='lineno'>  56</span>    </a> <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.test_url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.test_url', title='str'>assert s</a>cheme == b&#39;ht<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.scheme', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.scheme', title='?'>tps&#39;
<span class='lineno'>  57</span>  </a>   assert host == b&#39;xyz.<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.host', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.host', title='?'>tax-</a>edu.net&#39;
<span class='lineno'>  58</span>     assert port == 443
<span class='lineno'>  59</span>   <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.port', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.port', title='int'>  as</a>sert full_path == b<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.full_path', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_ascii_check.full_path', title='str'>&#39;/?flag%3</a>DselectCourse%26lc_id%3D42825%26lc_name%3D%E8%8C%85%E8%8E%BD%E8%8E&#39; \
<span class='lineno'>  60</span>                         b&#39;%BD%E7%8C%AB%E6%B0%93%E7%8C%AB%E6%B0%93&#39;
<span class='lineno'>  61</span> 
<span class='lineno'>  62</span> 
<span class='lineno'>  63</span> @pytest.mark.skipif(sys.version_info &lt; (3, 6), reason=&#39;requires Python 3.6 or higher&#39;)
<span class='lineno'>  64</span> def test_parse_por<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse_port_range', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_parse_port_range', title='() -> None'>t_range():
<span class='lineno'>  65</span>     # Port</a> out of range
<span class='lineno'>  66</span>     with pytest.raises(ValueError):
<span class='lineno'>  67</span>         url.parse(&quot;htt<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>p:/</a>/<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.parse', title='str -> (?, ?, int, str) / ? -> (?, ?, int, str)'>foo:9</a>99999&quot;)
<span class='lineno'>  68</span> 
<span class='lineno'>  69</span> 
<span class='lineno'>  70</span> def test_unparse()<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unparse', title='() -> None'>:
<span class='lineno'>  71</span>     assert</a> url.unparse(&quot;h<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>ttp</a>&quot;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (str, str, int, str) -> None / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (?, ?, ?, str) -> None'>, &quot;foo.</a>com&quot;, 99, &quot;&quot;) == &quot;http://foo.com:99&quot;
<span class='lineno'>  72</span>     assert url.unparse(&quot;h<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>ttp</a>&quot;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (str, str, int, str) -> None / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (?, ?, ?, str) -> None'>, &quot;foo.</a>com&quot;, 80, &quot;/bar&quot;) == &quot;http://foo.com/bar&quot;
<span class='lineno'>  73</span>     assert url.unparse(&quot;h<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>ttp</a>s<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (str, str, int, str) -> None / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (?, ?, ?, str) -> None'>&quot;, &quot;foo</a>.com&quot;, 80, &quot;&quot;) == &quot;https://foo.com:80&quot;
<span class='lineno'>  74</span>     assert url.unparse(&quot;h<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>ttp</a>s<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (str, str, int, str) -> None / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (?, ?, ?, str) -> None'>&quot;, &quot;foo</a>.com&quot;, 443, &quot;&quot;) == &quot;https://foo.com&quot;
<span class='lineno'>  75</span>     assert url.unparse(&quot;h<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>ttp</a>s<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unparse', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (str, str, int, str) -> None / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}, ? -> ?) -> None / (?, ?, ?, str) -> None'>&quot;, &quot;foo</a>.com&quot;, 443, &quot;*&quot;) == &quot;https://foo.com&quot;
<span class='lineno'>  76</span> 
<span class='lineno'>  77</span> 
<span class='lineno'>  78</span> # We ignore the byte 126: &#39;~&#39; because of an incompatibility in Python 3.6 and 3.7
<span class='lineno'>  79</span> # In 3.6 it is escaped as %7E
<span class='lineno'>  80</span> # In 3.7 it stays as ASCII character &#39;~&#39;
<span class='lineno'>  81</span> # https://bugs.python.org/issue16285
<span class='lineno'>  82</span> surrogates = (<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', title='?'>bytes(rang</a>e(0, 126)) + bytes(range(127, 256))).decode(&quot;utf8&quot;, &quot;surrogateescape&quot;)
<span class='lineno'>  83</span> 
<span class='lineno'>  84</span> surrogates_quo<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', title='str'>ted = (
<span class='lineno'>  85</span>     &#39;%00%</a>01%02%03%04%05%06%07%08%09%0A%0B%0C%0D%0E%0F&#39;
<span class='lineno'>  86</span>     &#39;%10%11%12%13%14%15%16%17%18%19%1A%1B%1C%1D%1E%1F&#39;
<span class='lineno'>  87</span>     &#39;%20%21%22%23%24%25%26%27%28%29%2A%2B%2C-./&#39;
<span class='lineno'>  88</span>     &#39;0123456789%3A%3B%3C%3D%3E%3F%40&#39;
<span class='lineno'>  89</span>     &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;
<span class='lineno'>  90</span>     &#39;%5B%5C%5D%5E_%60&#39;
<span class='lineno'>  91</span>     &#39;abcdefghijklmnopqrstuvwxyz&#39;
<span class='lineno'>  92</span>     &#39;%7B%7C%7D%7F&#39;  # 7E or ~ is excluded!
<span class='lineno'>  93</span>     &#39;%80%81%82%83%84%85%86%87%88%89%8A%8B%8C%8D%8E%8F&#39;
<span class='lineno'>  94</span>     &#39;%90%91%92%93%94%95%96%97%98%99%9A%9B%9C%9D%9E%9F&#39;
<span class='lineno'>  95</span>     &#39;%A0%A1%A2%A3%A4%A5%A6%A7%A8%A9%AA%AB%AC%AD%AE%AF&#39;
<span class='lineno'>  96</span>     &#39;%B0%B1%B2%B3%B4%B5%B6%B7%B8%B9%BA%BB%BC%BD%BE%BF&#39;
<span class='lineno'>  97</span>     &#39;%C0%C1%C2%C3%C4%C5%C6%C7%C8%C9%CA%CB%CC%CD%CE%CF&#39;
<span class='lineno'>  98</span>     &#39;%D0%D1%D2%D3%D4%D5%D6%D7%D8%D9%DA%DB%DC%DD%DE%DF&#39;
<span class='lineno'>  99</span>     &#39;%E0%E1%E2%E3%E4%E5%E6%E7%E8%E9%EA%EB%EC%ED%EE%EF&#39;
<span class='lineno'> 100</span>     &#39;%F0%F1%F2%F3%F4%F5%F6%F7%F8%F9%FA%FB%FC%FD%FE%FF&#39;
<span class='lineno'> 101</span> )
<span class='lineno'> 102</span> 
<span class='lineno'> 103</span> 
<span class='lineno'> 104</span> def test_empty_key<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign', title='() -> None'>_trailing_equal_sign():
<span class='lineno'> 105</span>     &quot;&quot;&quot;
<span class='lineno'> 106</span>   </a>  Some HTTP clients don&#39;t send trailing equal signs for parameters without assigned value, e.g. they send
<span class='lineno'> 107</span>         foo=bar&amp;baz&amp;qux=quux
<span class='lineno'> 108</span>     instead of
<span class='lineno'> 109</span>         foo=bar&amp;baz=&amp;qux=quux
<span class='lineno'> 110</span>     The respective behavior of encode() should be driven by a reference string given in similar_to parameter
<span class='lineno'> 111</span>     &quot;&quot;&quot;
<span class='lineno'> 112</span>     reference_with<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', title='str'>out_equal = &quot;key1=val1&amp;</a>key2&amp;key3=val3&quot;
<span class='lineno'> 113</span>     reference_with<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', title='str'>_equal = &quot;key1=val1&amp;</a>key2=&amp;key3=val3&quot;
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span>     post_data_empt<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', title='[(str, str)]'>y_key_middle = [(&#39;one&#39;, &#39;t</a>wo&#39;), (&#39;emptykey&#39;, &#39;&#39;), (&#39;three&#39;, &#39;four&#39;)]
<span class='lineno'> 116</span>     post_data_empt<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', title='[(str, str)]'>y_key_end = [(&#39;one&#39;, &#39;t</a>wo&#39;), (&#39;three&#39;, &#39;four&#39;), (&#39;emptykey&#39;, &#39;&#39;)]
<span class='lineno'> 117</span> 
<span class='lineno'> 118</span>     assert url.encode(pos<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>t_d</a>a<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>ta_emp</a>t<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', title='[(str, str)]'>y_key_middle, similar_to =</a> reference_with<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', title='str'>_equal) == &quot;one=two&amp;</a>emptykey=&amp;three=four&quot;
<span class='lineno'> 119</span>     assert url.encode(pos<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>t_d</a>a<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>ta_emp</a>t<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', title='[(str, str)]'>y_key_end, similar_to =</a> reference_with<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_with_equal', title='str'>_equal) == &quot;one=two&amp;</a>three=four&amp;emptykey=&quot;
<span class='lineno'> 120</span>     assert url.encode(pos<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>t_d</a>a<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>ta_emp</a>t<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_middle', title='[(str, str)]'>y_key_middle, similar_to =</a> reference_with<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', title='str'>out_equal) == &quot;one=two&amp;</a>emptykey&amp;three=four&quot;
<span class='lineno'> 121</span>     assert url.encode(pos<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>t_d</a>a<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>ta_emp</a>t<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.post_data_empty_key_end', title='[(str, str)]'>y_key_end, similar_to =</a> reference_with<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_empty_key_trailing_equal_sign.reference_without_equal', title='str'>out_equal) == &quot;one=two&amp;</a>three=four&amp;emptykey&quot;
<span class='lineno'> 122</span> 
<span class='lineno'> 123</span> 
<span class='lineno'> 124</span> def test_encode():<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_encode', title='() -> None'>
<span class='lineno'> 125</span>     assert</a> url.encode([(&#39;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>foo</a>&#39;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>, &#39;bar</a>&#39;)])
<span class='lineno'> 126</span>     assert url.encode([(&#39;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>foo</a>&#39;<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>, surr</a>ogates)])
<span class='lineno'> 127</span> <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', title='?'>    assert</a> not url.encode([],<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'> si</a>m<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.encode', title='([?], None) -> None / ([(str, ?)], None) -> None / (?, {? -> ? | str}) -> None / (?, None) -> None / ([(str, str)], None) -> None'>ilar_t</a>o=&quot;justatext&quot;)
<span class='lineno'> 128</span> 
<span class='lineno'> 129</span> 
<span class='lineno'> 130</span> def test_decode():<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode', title='() -> None'>
<span class='lineno'> 131</span>     s = &quot;o</a>ne=two&amp;t<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode.s', title='str'>h</a>ree=four&quot;
<span class='lineno'> 132</span>     assert len(url.decode(s))<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'> ==</a> <a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.decode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.decode', title='{? -> ? | str} -> None / ? -> None / str -> None'>2
<span class='lineno'> 133</span>     </a>a<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode.s', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_decode.s', title='str'>s</a>sert url.decode(sur<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>rog</a>a<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.decode', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.decode', title='{? -> ? | str} -> None / ? -> None / str -> None'>tes)
<span class='lineno'> 134</span> 
<span class='lineno'> 135</span> </a>
<span class='lineno'> 136</span> <a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', title='?'>def test_q</a>uote():
<span class='lineno'> 137</span> <a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_quote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_quote', title='() -> None'>    assert</a> url.quote(&quot;foo<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>&quot;) </a>=<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', title='(?, str) -> None / (str, str) -> None'>= &quot;fo</a>o&quot;
<span class='lineno'> 138</span>     assert url.quote(&quot;foo<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'> ba</a>r<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', title='(?, str) -> None / (str, str) -> None'>&quot;) ==</a> &quot;foo%20bar&quot;
<span class='lineno'> 139</span>     assert url.quote(surr<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>oga</a>t<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.quote', title='(?, str) -> None / (str, str) -> None'>es) =</a>=<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', title='?'> surrogate</a>s_quo<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', title='str'>ted
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span> 
<span class='lineno'> 142</span> def test_un</a>quote()<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unquote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_unquote', title='() -> None'>:
<span class='lineno'> 143</span>     assert</a> url.unquote(&quot;f<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>oo&quot;</a>)<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', title='? -> None / str -> None'> == &quot;fo</a>o&quot;
<span class='lineno'> 144</span>     assert url.unquote(&quot;f<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>oo%</a>2<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', title='? -> None / str -> None'>0bar&quot;) </a>== &quot;foo bar&quot;
<span class='lineno'> 145</span>     assert url.unquote(su<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>rro</a>g<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.unquote', title='? -> None / str -> None'>ates_qu</a>o<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates_quoted', title='str'>ted) == surrogate</a>s
<span class='lineno'> 146</span> 
<span class='lineno'> 147</span> 
<span class='lineno'> 148</span> d<a href='#.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.surrogates', title='?'>ef test_ho</a>stport(<a name='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_hostport', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.test.mitmproxy.net.http.test_url.test_hostport', title='() -> None'>):
<span class='lineno'> 149</span>     assert</a> url.hostport(b<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url', title='url'>&quot;ht</a>t<a href='../../../../mitmproxy/net/http/url.py.html#.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.hostport', xid ='.home.xxm.Desktop.EMSE.dataset.mitmproxy.mitmproxy.net.http.url.hostport', title='({? -> ? | str}, Request -> {? -> ? | ? -> ? | str}, {? -> ? | int}) -> Request -> {? -> ? | ? -> ? | str} / (str, str, int) -> str / ({? -> ? | str}, {? -> ? | str}, {? -> ? | int}) -> {? -> ? | str} / (?, ?, ?) -> None'>ps&quot;, b&quot;f</a>oo.com&quot;, 8080) == b&quot;foo.com:8080&quot;
</pre></td></tr></table></body></html>