<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/ansible/test/units/galaxy/test_api.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.__metaclass__', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.__metaclass__'>__metaclass__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.reset_cli_args', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.reset_cli_args'>reset_cli_args</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact'>collection_artifact</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api'>get_test_galaxy_api</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth'>test_api_no_auth</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required'>test_api_no_auth_but_required</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth'>test_api_token_auth</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type'>test_api_token_auth_with_token_type</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url'>test_api_token_auth_with_v3_url</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url'>test_api_token_auth_with_v2_url</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password'>test_api_basic_auth_password</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password'>test_api_basic_auth_no_password</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header'>test_api_dont_override_auth_header</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy'>test_initialise_galaxy</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth'>test_initialise_galaxy_with_auth</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub'>test_initialise_automation_hub</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown'>test_initialise_unknown</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions'>test_get_available_api_versions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file'>test_publish_collection_missing_file</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball'>test_publish_collection_not_a_tarball</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version'>test_publish_collection_unsupported_version</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection'>test_publish_collection</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure'>test_publish_failure</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task'>test_wait_import_task</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests'>test_wait_import_task_multiple_requests</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure'>test_wait_import_task_with_failure</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error'>test_wait_import_task_with_failure_no_error</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout'>test_wait_import_task_timeout</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version'>test_get_collection_version_metadata_no_version</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions'>test_get_collection_versions</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination'>test_get_collection_versions_pagination</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination'>test_get_role_versions_pagination</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> # -*- coding: utf-8 -*-
<span class='lineno'>   2</span> # Copyright: (c) 2019, Ansible Project
<span class='lineno'>   3</span> # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
<span class='lineno'>   4</span> 
<span class='lineno'>   5</span> # Make coding more python3-ish
<span class='lineno'>   6</span> from __future__ import (absolute_import, division, print_function)
<span class='lineno'>   7</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.__metaclass__', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.__metaclass__', title='? -> ?'>__metaclass__</a> = type
<span class='lineno'>   8</span> 
<span class='lineno'>   9</span> import json
<span class='lineno'>  10</span> import os
<span class='lineno'>  11</span> import re
<span class='lineno'>  12</span> import pytest
<span class='lineno'>  13</span> import tarfile
<span class='lineno'>  14</span> import tempfile
<span class='lineno'>  15</span> import time
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> from io import BytesIO, StringIO
<span class='lineno'>  18</span> from units.compat.mock import MagicMock
<span class='lineno'>  19</span> 
<span class='lineno'>  20</span> from ansible import context
<span class='lineno'>  21</span> from ansible.errors import AnsibleError
<span class='lineno'>  22</span> from ansible.galaxy import api as galaxy_api
<span class='lineno'>  23</span> from ansible.galaxy.api import CollectionVersionMetadata, GalaxyAPI, GalaxyError
<span class='lineno'>  24</span> from ansible.galaxy.token import BasicAuthToken, GalaxyToken, KeycloakToken
<span class='lineno'>  25</span> from ansible.module_utils._text import to_native, to_text
<span class='lineno'>  26</span> from ansible.module_utils.six.moves.urllib import error as urllib_error
<span class='lineno'>  27</span> from ansible.utils import context_objects as co
<span class='lineno'>  28</span> from ansible.utils.display import Display
<span class='lineno'>  29</span> 
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span> @pytest.fixture(autouse=&#39;function&#39;)
<span class='lineno'>  32</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.reset_cli_args', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.reset_cli_args', title='() -> None'>reset_cli_args</a>():
<span class='lineno'>  33</span>     co.GlobalCLIArgs._Singleton__instance = None
<span class='lineno'>  34</span>     # Required to initialise the GalaxyAPI object
<span class='lineno'>  35</span>     context.CLIARGS._store = {&#39;ignore_certs&#39;: False}
<span class='lineno'>  36</span>     yield
<span class='lineno'>  37</span>     co.GlobalCLIArgs._Singleton__instance = None
<span class='lineno'>  38</span> 
<span class='lineno'>  39</span> 
<span class='lineno'>  40</span> @pytest.fixture()
<span class='lineno'>  41</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact', title='? -> None'>collection_artifact</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tmp_path_factory', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tmp_path_factory', title='?'>tmp_path_factory</a>):
<span class='lineno'>  42</span>     &#39;&#39;&#39; Creates a collection artifact tarball that is ready to be published &#39;&#39;&#39;
<span class='lineno'>  43</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.output_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.output_dir', title='?'>output_dir</a> = to_text(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tmp_path_factory', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tmp_path_factory', title='?'>tmp_path_factory</a>.mktemp(&#39;test-ÅÑŚÌβŁÈ Output&#39;))
<span class='lineno'>  44</span> 
<span class='lineno'>  45</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', title='str'>tar_path</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.output_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.output_dir', title='?'>output_dir</a>, &#39;namespace-collection-v1.0.0.tar.gz&#39;)
<span class='lineno'>  46</span>     with tarfile.open(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', title='str'>tar_path</a>, &#39;w:gz&#39;) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tfile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tfile', title='?'>tfile</a>:
<span class='lineno'>  47</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.b_io', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.b_io', title='?'>b_io</a> = BytesIO(b&quot;\x00\x01\x02\x03&quot;)
<span class='lineno'>  48</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', title='?'>tar_info</a> = tarfile.TarInfo(&#39;test&#39;)
<span class='lineno'>  49</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', title='?'>tar_info</a>.size = 4
<span class='lineno'>  50</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', title='?'>tar_info</a>.mode = 0o0644
<span class='lineno'>  51</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tfile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tfile', title='?'>tfile</a>.addfile(tarinfo=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_info', title='?'>tar_info</a>, fileobj=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.b_io', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.b_io', title='?'>b_io</a>)
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span>     yield <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.collection_artifact.tar_path', title='str'>tar_path</a>
<span class='lineno'>  54</span> 
<span class='lineno'>  55</span> 
<span class='lineno'>  56</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.url', title='str'>url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', title='str'>version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', title='None'>token_ins</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', title='None'>token_value</a>=None):
<span class='lineno'>  57</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', title='str'>token_value</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', title='None'>token_value</a> or &quot;my token&quot;
<span class='lineno'>  58</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', title='None'>token_ins</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', title='None'>token_ins</a> or GalaxyToken(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_value', title='str'>token_value</a>)
<span class='lineno'>  59</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.url', title='str'>url</a>)
<span class='lineno'>  60</span>     # Warning, this doesn&#39;t test g_connect() because _availabe_api_versions is set here.  That means
<span class='lineno'>  61</span>     # that urls for v2 servers have to append &#39;/api/&#39; themselves in the input data.
<span class='lineno'>  62</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', title='?'>api</a>._available_api_versions = {<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', title='str'>version</a>: &#39;%s&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.version', title='str'>version</a>}
<span class='lineno'>  63</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', title='?'>api</a>.token = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.token_ins', title='None'>token_ins</a>
<span class='lineno'>  64</span> 
<span class='lineno'>  65</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api.api', title='?'>api</a>
<span class='lineno'>  66</span> 
<span class='lineno'>  67</span> 
<span class='lineno'>  68</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth', title='() -> None'>test_api_no_auth</a>():
<span class='lineno'>  69</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;)
<span class='lineno'>  70</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', title='dict'>actual</a> = {}
<span class='lineno'>  71</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', title='dict'>actual</a>, &quot;&quot;)
<span class='lineno'>  72</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth.actual', title='dict'>actual</a> == {}
<span class='lineno'>  73</span> 
<span class='lineno'>  74</span> 
<span class='lineno'>  75</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required', title='() -> None'>test_api_no_auth_but_required</a>():
<span class='lineno'>  76</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required.expected', title='str'>expected</a> = &quot;No access token or username set. A token can be set with --api-key, with &#39;ansible-galaxy login&#39;, &quot; \
<span class='lineno'>  77</span>                &quot;or set in ansible.cfg.&quot;
<span class='lineno'>  78</span>     with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_no_auth_but_required.expected', title='str'>expected</a>):
<span class='lineno'>  79</span>         GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;)._add_auth_token({}, &quot;&quot;, required=True)
<span class='lineno'>  80</span> 
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth', title='() -> None'>test_api_token_auth</a>():
<span class='lineno'>  83</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.token', title='?'>token</a> = GalaxyToken(token=u&quot;my_token&quot;)
<span class='lineno'>  84</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.token', title='?'>token</a>)
<span class='lineno'>  85</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', title='dict'>actual</a> = {}
<span class='lineno'>  86</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', title='dict'>actual</a>, &quot;&quot;, required=True)
<span class='lineno'>  87</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Token my_token&#39;}
<span class='lineno'>  88</span> 
<span class='lineno'>  89</span> 
<span class='lineno'>  90</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type', title='? -> None'>test_api_token_auth_with_token_type</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'>  91</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', title='?'>token</a> = KeycloakToken(auth_url=&#39;https://api.test/&#39;)
<span class='lineno'>  92</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'>  93</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my_token&#39;
<span class='lineno'>  94</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', title='?'>token</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'>  95</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.token', title='?'>token</a>)
<span class='lineno'>  96</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', title='dict'>actual</a> = {}
<span class='lineno'>  97</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', title='dict'>actual</a>, &quot;&quot;, token_type=&quot;Bearer&quot;, required=True)
<span class='lineno'>  98</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_token_type.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Bearer my_token&#39;}
<span class='lineno'>  99</span> 
<span class='lineno'> 100</span> 
<span class='lineno'> 101</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url', title='? -> None'>test_api_token_auth_with_v3_url</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 102</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', title='?'>token</a> = KeycloakToken(auth_url=&#39;https://api.test/&#39;)
<span class='lineno'> 103</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 104</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my_token&#39;
<span class='lineno'> 105</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', title='?'>token</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 106</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.token', title='?'>token</a>)
<span class='lineno'> 107</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', title='dict'>actual</a> = {}
<span class='lineno'> 108</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', title='dict'>actual</a>, &quot;https://galaxy.ansible.com/api/v3/resource/name&quot;, required=True)
<span class='lineno'> 109</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v3_url.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Bearer my_token&#39;}
<span class='lineno'> 110</span> 
<span class='lineno'> 111</span> 
<span class='lineno'> 112</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url', title='() -> None'>test_api_token_auth_with_v2_url</a>():
<span class='lineno'> 113</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.token', title='?'>token</a> = GalaxyToken(token=u&quot;my_token&quot;)
<span class='lineno'> 114</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.token', title='?'>token</a>)
<span class='lineno'> 115</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', title='dict'>actual</a> = {}
<span class='lineno'> 116</span>     # Add v3 to random part of URL but response should only see the v2 as the full URI path segment.
<span class='lineno'> 117</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', title='dict'>actual</a>, &quot;https://galaxy.ansible.com/api/v2/resourcev3/name&quot;, required=True)
<span class='lineno'> 118</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_token_auth_with_v2_url.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Token my_token&#39;}
<span class='lineno'> 119</span> 
<span class='lineno'> 120</span> 
<span class='lineno'> 121</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password', title='() -> None'>test_api_basic_auth_password</a>():
<span class='lineno'> 122</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.token', title='?'>token</a> = BasicAuthToken(username=u&quot;user&quot;, password=u&quot;pass&quot;)
<span class='lineno'> 123</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.token', title='?'>token</a>)
<span class='lineno'> 124</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', title='dict'>actual</a> = {}
<span class='lineno'> 125</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', title='dict'>actual</a>, &quot;&quot;, required=True)
<span class='lineno'> 126</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_password.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Basic dXNlcjpwYXNz&#39;}
<span class='lineno'> 127</span> 
<span class='lineno'> 128</span> 
<span class='lineno'> 129</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password', title='() -> None'>test_api_basic_auth_no_password</a>():
<span class='lineno'> 130</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.token', title='?'>token</a> = BasicAuthToken(username=u&quot;user&quot;)
<span class='lineno'> 131</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.token', title='?'>token</a>)
<span class='lineno'> 132</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', title='dict'>actual</a> = {}
<span class='lineno'> 133</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', title='dict'>actual</a>, &quot;&quot;, required=True)
<span class='lineno'> 134</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_basic_auth_no_password.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Basic dXNlcjo=&#39;}
<span class='lineno'> 135</span> 
<span class='lineno'> 136</span> 
<span class='lineno'> 137</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header', title='() -> None'>test_api_dont_override_auth_header</a>():
<span class='lineno'> 138</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;)
<span class='lineno'> 139</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', title='dict'>actual</a> = {&#39;Authorization&#39;: &#39;Custom token&#39;}
<span class='lineno'> 140</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.api', title='?'>api</a>._add_auth_token(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', title='dict'>actual</a>, &quot;&quot;, required=True)
<span class='lineno'> 141</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_api_dont_override_auth_header.actual', title='dict'>actual</a> == {&#39;Authorization&#39;: &#39;Custom token&#39;}
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span> 
<span class='lineno'> 144</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy', title='? -> None'>test_initialise_galaxy</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 145</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 146</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 147</span>         StringIO(u&#39;{&quot;available_versions&quot;:{&quot;v1&quot;:&quot;v1/&quot;}}&#39;),
<span class='lineno'> 148</span>         StringIO(u&#39;{&quot;token&quot;:&quot;my token&quot;}&#39;),
<span class='lineno'> 149</span>     ]
<span class='lineno'> 150</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;)
<span class='lineno'> 153</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', title='?'>api</a>.authenticate(&quot;github_token&quot;)
<span class='lineno'> 154</span> 
<span class='lineno'> 155</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', title='?'>api</a>.available_api_versions) == 2
<span class='lineno'> 156</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', title='?'>api</a>.available_api_versions[&#39;v1&#39;] == u&#39;v1/&#39;
<span class='lineno'> 157</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.api', title='?'>api</a>.available_api_versions[&#39;v2&#39;] == u&#39;v2/&#39;
<span class='lineno'> 158</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.actual', title='?'>actual</a> == {u&#39;token&#39;: u&#39;my token&#39;}
<span class='lineno'> 159</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.call_count == 2
<span class='lineno'> 160</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.ansible.com/api/&#39;
<span class='lineno'> 161</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;http_agent&#39;]
<span class='lineno'> 162</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == &#39;https://galaxy.ansible.com/api/v1/tokens/&#39;
<span class='lineno'> 163</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;http_agent&#39;]
<span class='lineno'> 164</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;data&#39;] == &#39;github_token=github_token&#39;
<span class='lineno'> 165</span> 
<span class='lineno'> 166</span> 
<span class='lineno'> 167</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth', title='? -> None'>test_initialise_galaxy_with_auth</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 168</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 169</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 170</span>         StringIO(u&#39;{&quot;available_versions&quot;:{&quot;v1&quot;:&quot;v1/&quot;}}&#39;),
<span class='lineno'> 171</span>         StringIO(u&#39;{&quot;token&quot;:&quot;my token&quot;}&#39;),
<span class='lineno'> 172</span>     ]
<span class='lineno'> 173</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 174</span> 
<span class='lineno'> 175</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=GalaxyToken(token=&#39;my_token&#39;))
<span class='lineno'> 176</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', title='?'>api</a>.authenticate(&quot;github_token&quot;)
<span class='lineno'> 177</span> 
<span class='lineno'> 178</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', title='?'>api</a>.available_api_versions) == 2
<span class='lineno'> 179</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', title='?'>api</a>.available_api_versions[&#39;v1&#39;] == u&#39;v1/&#39;
<span class='lineno'> 180</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.api', title='?'>api</a>.available_api_versions[&#39;v2&#39;] == u&#39;v2/&#39;
<span class='lineno'> 181</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.actual', title='?'>actual</a> == {u&#39;token&#39;: u&#39;my token&#39;}
<span class='lineno'> 182</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.call_count == 2
<span class='lineno'> 183</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.ansible.com/api/&#39;
<span class='lineno'> 184</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;http_agent&#39;]
<span class='lineno'> 185</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == &#39;https://galaxy.ansible.com/api/v1/tokens/&#39;
<span class='lineno'> 186</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;http_agent&#39;]
<span class='lineno'> 187</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_galaxy_with_auth.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;data&#39;] == &#39;github_token=github_token&#39;
<span class='lineno'> 188</span> 
<span class='lineno'> 189</span> 
<span class='lineno'> 190</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub', title='? -> None'>test_initialise_automation_hub</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 191</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 192</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 193</span>         StringIO(u&#39;{&quot;available_versions&quot;:{&quot;v2&quot;: &quot;v2/&quot;, &quot;v3&quot;:&quot;v3/&quot;}}&#39;),
<span class='lineno'> 194</span>     ]
<span class='lineno'> 195</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 196</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', title='?'>token</a> = KeycloakToken(auth_url=&#39;https://api.test/&#39;)
<span class='lineno'> 197</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 198</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my_token&#39;
<span class='lineno'> 199</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', title='?'>token</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 200</span> 
<span class='lineno'> 201</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.token', title='?'>token</a>)
<span class='lineno'> 202</span> 
<span class='lineno'> 203</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', title='?'>api</a>.available_api_versions) == 2
<span class='lineno'> 204</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', title='?'>api</a>.available_api_versions[&#39;v2&#39;] == u&#39;v2/&#39;
<span class='lineno'> 205</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.api', title='?'>api</a>.available_api_versions[&#39;v3&#39;] == u&#39;v3/&#39;
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.ansible.com/api/&#39;
<span class='lineno'> 208</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;http_agent&#39;]
<span class='lineno'> 209</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_automation_hub.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;] == {&#39;Authorization&#39;: &#39;Bearer my_token&#39;}
<span class='lineno'> 210</span> 
<span class='lineno'> 211</span> 
<span class='lineno'> 212</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown', title='? -> None'>test_initialise_unknown</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 213</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 214</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 215</span>         urllib_error.HTTPError(&#39;https://galaxy.ansible.com/api/&#39;, 500, &#39;msg&#39;, {}, StringIO(u&#39;{&quot;msg&quot;:&quot;raw error&quot;}&#39;)),
<span class='lineno'> 216</span>         urllib_error.HTTPError(&#39;https://galaxy.ansible.com/api/api/&#39;, 500, &#39;msg&#39;, {}, StringIO(u&#39;{&quot;msg&quot;:&quot;raw error&quot;}&#39;)),
<span class='lineno'> 217</span>     ]
<span class='lineno'> 218</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 219</span> 
<span class='lineno'> 220</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;, token=GalaxyToken(token=&#39;my_token&#39;))
<span class='lineno'> 221</span> 
<span class='lineno'> 222</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.expected', title='str'>expected</a> = &quot;Error when finding available api versions from test (%s) (HTTP Code: 500, Message: msg)&quot; \
<span class='lineno'> 223</span>         % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', title='?'>api</a>.api_server
<span class='lineno'> 224</span>     with pytest.raises(AnsibleError, match=re.escape(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.expected', title='str'>expected</a>)):
<span class='lineno'> 225</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_initialise_unknown.api', title='?'>api</a>.authenticate(&quot;github_token&quot;)
<span class='lineno'> 226</span> 
<span class='lineno'> 227</span> 
<span class='lineno'> 228</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions', title='? -> None'>test_get_available_api_versions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 229</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 230</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 231</span>         StringIO(u&#39;{&quot;available_versions&quot;:{&quot;v1&quot;:&quot;v1/&quot;,&quot;v2&quot;:&quot;v2/&quot;}}&#39;),
<span class='lineno'> 232</span>     ]
<span class='lineno'> 233</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 234</span> 
<span class='lineno'> 235</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.api', title='?'>api</a> = GalaxyAPI(None, &quot;test&quot;, &quot;https://galaxy.ansible.com/api/&quot;)
<span class='lineno'> 236</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.api', title='?'>api</a>.available_api_versions
<span class='lineno'> 237</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', title='?'>actual</a>) == 2
<span class='lineno'> 238</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', title='?'>actual</a>[&#39;v1&#39;] == u&#39;v1/&#39;
<span class='lineno'> 239</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.actual', title='?'>actual</a>[&#39;v2&#39;] == u&#39;v2/&#39;
<span class='lineno'> 240</span> 
<span class='lineno'> 241</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 242</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.ansible.com/api/&#39;
<span class='lineno'> 243</span>     assert &#39;ansible-galaxy&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_available_api_versions.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;http_agent&#39;]
<span class='lineno'> 244</span> 
<span class='lineno'> 245</span> 
<span class='lineno'> 246</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file', title='() -> None'>test_publish_collection_missing_file</a>():
<span class='lineno'> 247</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', title='str'>fake_path</a> = u&#39;/fake/ÅÑŚÌβŁÈ/path&#39;
<span class='lineno'> 248</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.expected', title='?'>expected</a> = to_native(&quot;The collection path specified &#39;%s&#39; does not exist.&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', title='str'>fake_path</a>)
<span class='lineno'> 249</span> 
<span class='lineno'> 250</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&quot;https://galaxy.ansible.com/api/&quot;, &quot;v2&quot;)
<span class='lineno'> 251</span>     with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.expected', title='?'>expected</a>):
<span class='lineno'> 252</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.api', title='None'>api</a>.publish_collection(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_missing_file.fake_path', title='str'>fake_path</a>)
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span> 
<span class='lineno'> 255</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball', title='() -> None'>test_publish_collection_not_a_tarball</a>():
<span class='lineno'> 256</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.expected', title='str'>expected</a> = &quot;The collection path specified &#39;{0}&#39; is not a tarball, use &#39;ansible-galaxy collection build&#39; to &quot; \
<span class='lineno'> 257</span>                &quot;create a proper release artifact.&quot;
<span class='lineno'> 258</span> 
<span class='lineno'> 259</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&quot;https://galaxy.ansible.com/api/&quot;, &quot;v2&quot;)
<span class='lineno'> 260</span>     with tempfile.NamedTemporaryFile(prefix=u&#39;ÅÑŚÌβŁÈ&#39;) as temp_fi<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', title='?'>le:
<span class='lineno'> 261</span>      </a>   <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', title='?'>temp_file</a>.write(b&quot;\x00&quot;)
<span class='lineno'> 262</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', title='?'>temp_file</a>.flush()
<span class='lineno'> 263</span>         with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.expected', title='str'>expected</a>.format(to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', title='?'>temp_file</a>.name))):
<span class='lineno'> 264</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.api', title='None'>api</a>.publish_collection(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_not_a_tarball.temp_file', title='?'>temp_file</a>.name)
<span class='lineno'> 265</span> 
<span class='lineno'> 266</span> 
<span class='lineno'> 267</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version', title='() -> None'>test_publish_collection_unsupported_version</a>():
<span class='lineno'> 268</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.expected', title='str'>expected</a> = &quot;Galaxy action publish_collection requires API versions &#39;v2, v3&#39; but only &#39;v1&#39; are available on test &quot; \
<span class='lineno'> 269</span>                &quot;https://galaxy.ansible.com/api/&quot;
<span class='lineno'> 270</span> 
<span class='lineno'> 271</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&quot;https://galaxy.ansible.com/api/&quot;, &quot;v1&quot;)
<span class='lineno'> 272</span>     with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.expected', title='str'>expected</a>):
<span class='lineno'> 273</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection_unsupported_version.api', title='None'>api</a>.publish_collection(&quot;path&quot;)
<span class='lineno'> 274</span> 
<span class='lineno'> 275</span> 
<span class='lineno'> 276</span> @pytest.mark.parametrize(&#39;api_version, collection_url&#39;, [
<span class='lineno'> 277</span>     (&#39;v2&#39;, &#39;collections&#39;),
<span class='lineno'> 278</span>     (&#39;v3&#39;, &#39;artifacts/collections&#39;),
<span class='lineno'> 279</span> ])
<span class='lineno'> 280</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection', title='(?, ?, ?, ?) -> None'>test_publish_collection</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_url', title='?'>collection_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_artifact', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_artifact', title='?'>collection_artifact</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 281</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&quot;https://galaxy.ansible.com/api/&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', title='?'>api_version</a>)
<span class='lineno'> 282</span> 
<span class='lineno'> 283</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a> = MagicMock()
<span class='lineno'> 284</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.return_value = {&#39;task&#39;: &#39;http://task.url/&#39;}
<span class='lineno'> 285</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', title='None'>api</a>, &#39;_call_galaxy&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>)
<span class='lineno'> 286</span> 
<span class='lineno'> 287</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api', title='None'>api</a>.publish_collection(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_artifact', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_artifact', title='?'>collection_artifact</a>)
<span class='lineno'> 288</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.actual', title='?'>actual</a> == &#39;http://task.url/&#39;
<span class='lineno'> 289</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.call_count == 1
<span class='lineno'> 290</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][1][0] == &#39;https://galaxy.ansible.com/api/%s/%s/&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.api_version', title='?'>api_version</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.collection_url', title='?'>collection_url</a>)
<span class='lineno'> 291</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Content-length&#39;] == len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;args&#39;])
<span class='lineno'> 292</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Content-type&#39;].startswith(
<span class='lineno'> 293</span>         &#39;multipart/form-data; boundary=&#39;)
<span class='lineno'> 294</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;args&#39;].startswith(b&#39;--&#39;)
<span class='lineno'> 295</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;method&#39;] == &#39;POST&#39;
<span class='lineno'> 296</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_collection.mock_call', title='?'>mock_call</a>.mock_calls[0][2][&#39;auth_required&#39;] is True
<span class='lineno'> 297</span> 
<span class='lineno'> 298</span> 
<span class='lineno'> 299</span> @pytest.mark.parametrize(&#39;api_version, collection_url, response, expected&#39;, [
<span class='lineno'> 300</span>     (&#39;v2&#39;, &#39;collections&#39;, {},
<span class='lineno'> 301</span>      &#39;Error when publishing collection to test (%s) (HTTP Code: 500, Message: msg Code: Unknown)&#39;),
<span class='lineno'> 302</span>     (&#39;v2&#39;, &#39;collections&#39;, {
<span class='lineno'> 303</span>         &#39;message&#39;: u&#39;Galaxy error messäge&#39;,
<span class='lineno'> 304</span>         &#39;code&#39;: &#39;GWE002&#39;,
<span class='lineno'> 305</span>     }, u&#39;Error when publishing collection to test (%s) (HTTP Code: 500, Message: Galaxy error messäge Code: GWE002)&#39;),
<span class='lineno'> 306</span>     (&#39;v3&#39;, &#39;artifact/collections&#39;, {},
<span class='lineno'> 307</span>      &#39;Error when publishing collection to test (%s) (HTTP Code: 500, Message: msg Code: Unknown)&#39;),
<span class='lineno'> 308</span>     (&#39;v3&#39;, &#39;artifact/collections&#39;, {
<span class='lineno'> 309</span>         &#39;errors&#39;: [
<span class='lineno'> 310</span>             {
<span class='lineno'> 311</span>                 &#39;code&#39;: &#39;conflict.collection_exists&#39;,
<span class='lineno'> 312</span>                 &#39;detail&#39;: &#39;Collection &quot;mynamespace-mycollection-4.1.1&quot; already exists.&#39;,
<span class='lineno'> 313</span>                 &#39;title&#39;: &#39;Conflict.&#39;,
<span class='lineno'> 314</span>                 &#39;status&#39;: &#39;400&#39;,
<span class='lineno'> 315</span>             },
<span class='lineno'> 316</span>             {
<span class='lineno'> 317</span>                 &#39;code&#39;: &#39;quantum_improbability&#39;,
<span class='lineno'> 318</span>                 &#39;title&#39;: u&#39;Rändom(?) quantum improbability.&#39;,
<span class='lineno'> 319</span>                 &#39;source&#39;: {&#39;parameter&#39;: &#39;the_arrow_of_time&#39;},
<span class='lineno'> 320</span>                 &#39;meta&#39;: {&#39;remediation&#39;: &#39;Try again before&#39;},
<span class='lineno'> 321</span>             },
<span class='lineno'> 322</span>         ],
<span class='lineno'> 323</span>     }, u&#39;Error when publishing collection to test (%s) (HTTP Code: 500, Message: Collection &#39;
<span class='lineno'> 324</span>        u&#39;&quot;mynamespace-mycollection-4.1.1&quot; already exists. Code: conflict.collection_exists), (HTTP Code: 500, &#39;
<span class='lineno'> 325</span>        u&#39;Message: Rändom(?) quantum improbability. Code: quantum_improbability)&#39;)
<span class='lineno'> 326</span> ])
<span class='lineno'> 327</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure', title='(?, ?, ?, ?, ?, ?) -> None'>test_publish_failure</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_url', title='?'>collection_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.response', title='?'>response</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected', title='?'>expected</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_artifact', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_artifact', title='?'>collection_artifact</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 328</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&#39;https://galaxy.server.com/api/&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', title='?'>api_version</a>)
<span class='lineno'> 329</span> 
<span class='lineno'> 330</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected_url', title='?'>expected_url</a> = &#39;%s/api/%s/%s&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', title='None'>api</a>.api_server, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api_version', title='?'>api_version</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_url', title='?'>collection_url</a>)
<span class='lineno'> 331</span> 
<span class='lineno'> 332</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 333</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', title='?'>mock_open</a>.side_effect = urllib_error.HTTPError(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected_url', title='?'>expected_url</a>, 500, &#39;msg&#39;, {},
<span class='lineno'> 334</span>                                                    StringIO(to_text(json.dumps(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.response', title='?'>response</a>))))
<span class='lineno'> 335</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 336</span> 
<span class='lineno'> 337</span>     with pytest.raises(GalaxyError, match=re.escape(to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.expected', title='?'>expected</a> % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', title='None'>api</a>.api_server))):
<span class='lineno'> 338</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.api', title='None'>api</a>.publish_collection(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_artifact', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_publish_failure.collection_artifact', title='?'>collection_artifact</a>)
<span class='lineno'> 339</span> 
<span class='lineno'> 340</span> 
<span class='lineno'> 341</span> @pytest.mark.parametrize(&#39;server_url, api_version, token_type, token_ins, import_uri, full_import_uri&#39;, [
<span class='lineno'> 342</span>     (&#39;https://galaxy.server.com/api&#39;, &#39;v2&#39;, &#39;Token&#39;, GalaxyToken(&#39;my token&#39;),
<span class='lineno'> 343</span>      &#39;1234&#39;,
<span class='lineno'> 344</span>      &#39;https://galaxy.server.com/api/v2/collection-imports/1234/&#39;),
<span class='lineno'> 345</span>     (&#39;https://galaxy.server.com/api/automation-hub/&#39;, &#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;),
<span class='lineno'> 346</span>      &#39;1234&#39;,
<span class='lineno'> 347</span>      &#39;https://galaxy.server.com/api/automation-hub/v3/imports/collections/1234/&#39;),
<span class='lineno'> 348</span> ])
<span class='lineno'> 349</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task', title='(?, ?, ?, ?, ?, ?, ?) -> None'>test_wait_import_task</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.server_url', title='?'>server_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.import_uri', title='?'>import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', title='?'>full_import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 350</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.server_url', title='?'>server_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 351</span> 
<span class='lineno'> 352</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 353</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 354</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 355</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 356</span> 
<span class='lineno'> 357</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 358</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a>.return_value = StringIO(u&#39;{&quot;state&quot;:&quot;success&quot;,&quot;finished_at&quot;:&quot;time&quot;}&#39;)
<span class='lineno'> 359</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 360</span> 
<span class='lineno'> 361</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', title='?'>mock_display</a> = MagicMock()
<span class='lineno'> 362</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;display&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', title='?'>mock_display</a>)
<span class='lineno'> 363</span> 
<span class='lineno'> 364</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.api', title='None'>api</a>.wait_import_task(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.import_uri', title='?'>import_uri</a>)
<span class='lineno'> 365</span> 
<span class='lineno'> 366</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 367</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 368</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.token_type', title='?'>token_type</a>
<span class='lineno'> 369</span> 
<span class='lineno'> 370</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', title='?'>mock_display</a>.call_count == 1
<span class='lineno'> 371</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.mock_display', title='?'>mock_display</a>.mock_calls[0][1][0] == &#39;Waiting until Galaxy import task %s has completed&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 372</span> 
<span class='lineno'> 373</span> 
<span class='lineno'> 374</span> @pytest.mark.parametrize(&#39;server_url, api_version, token_type, token_ins, import_uri, full_import_uri&#39;, [
<span class='lineno'> 375</span>     (&#39;https://galaxy.server.com/api/&#39;, &#39;v2&#39;, &#39;Token&#39;, GalaxyToken(&#39;my token&#39;),
<span class='lineno'> 376</span>      &#39;1234&#39;,
<span class='lineno'> 377</span>      &#39;https://galaxy.server.com/api/v2/collection-imports/1234/&#39;),
<span class='lineno'> 378</span>     (&#39;https://galaxy.server.com/api/automation-hub&#39;, &#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;),
<span class='lineno'> 379</span>      &#39;1234&#39;,
<span class='lineno'> 380</span>      &#39;https://galaxy.server.com/api/automation-hub/v3/imports/collections/1234/&#39;),
<span class='lineno'> 381</span> ])
<span class='lineno'> 382</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests', title='(?, ?, ?, ?, ?, ?, ?) -> None'>test_wait_import_task_multiple_requests</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.server_url', title='?'>server_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.import_uri', title='?'>import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', title='?'>full_import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 383</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.server_url', title='?'>server_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 384</span> 
<span class='lineno'> 385</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 386</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 387</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 388</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 389</span> 
<span class='lineno'> 390</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 391</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 392</span>         StringIO(u&#39;{&quot;state&quot;:&quot;test&quot;}&#39;),
<span class='lineno'> 393</span>         StringIO(u&#39;{&quot;state&quot;:&quot;success&quot;,&quot;finished_at&quot;:&quot;time&quot;}&#39;),
<span class='lineno'> 394</span>     ]
<span class='lineno'> 395</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', title='?'>mock_display</a> = MagicMock()
<span class='lineno'> 398</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;display&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', title='?'>mock_display</a>)
<span class='lineno'> 399</span> 
<span class='lineno'> 400</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', title='?'>mock_vvv</a> = MagicMock()
<span class='lineno'> 401</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;vvv&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', title='?'>mock_vvv</a>)
<span class='lineno'> 402</span> 
<span class='lineno'> 403</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.monkeypatch', title='?'>monkeypatch</a>.setattr(time, &#39;sleep&#39;, MagicMock())
<span class='lineno'> 404</span> 
<span class='lineno'> 405</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.api', title='None'>api</a>.wait_import_task(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.import_uri', title='?'>import_uri</a>)
<span class='lineno'> 406</span> 
<span class='lineno'> 407</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.call_count == 2
<span class='lineno'> 408</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 409</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', title='?'>token_type</a>
<span class='lineno'> 410</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 411</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.token_type', title='?'>token_type</a>
<span class='lineno'> 412</span> 
<span class='lineno'> 413</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', title='?'>mock_display</a>.call_count == 1
<span class='lineno'> 414</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_display', title='?'>mock_display</a>.mock_calls[0][1][0] == &#39;Waiting until Galaxy import task %s has completed&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 415</span> 
<span class='lineno'> 416</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', title='?'>mock_vvv</a>.call_count == 1
<span class='lineno'> 417</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_multiple_requests.mock_vvv', title='?'>mock_vvv</a>.mock_calls[0][1][0] == \
<span class='lineno'> 418</span>         &#39;Galaxy import process has a status of test, wait 2 seconds before trying again&#39;
<span class='lineno'> 419</span> 
<span class='lineno'> 420</span> 
<span class='lineno'> 421</span> @pytest.mark.parametrize(&#39;server_url, api_version, token_type, token_ins, import_uri, full_import_uri,&#39;, [
<span class='lineno'> 422</span>     (&#39;https://galaxy.server.com/api/&#39;, &#39;v2&#39;, &#39;Token&#39;, GalaxyToken(&#39;my token&#39;),
<span class='lineno'> 423</span>      &#39;1234&#39;,
<span class='lineno'> 424</span>      &#39;https://galaxy.server.com/api/v2/collection-imports/1234/&#39;),
<span class='lineno'> 425</span>     (&#39;https://galaxy.server.com/api/automation-hub/&#39;, &#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;),
<span class='lineno'> 426</span>      &#39;1234&#39;,
<span class='lineno'> 427</span>      &#39;https://galaxy.server.com/api/automation-hub/v3/imports/collections/1234/&#39;),
<span class='lineno'> 428</span> ])
<span class='lineno'> 429</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure', title='(?, ?, ?, ?, ?, ?, ?) -> None'>test_wait_import_task_with_failure</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.server_url', title='?'>server_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.import_uri', title='?'>import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', title='?'>full_import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 430</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.server_url', title='?'>server_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 431</span> 
<span class='lineno'> 432</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 433</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 434</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 435</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 436</span> 
<span class='lineno'> 437</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 438</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 439</span>         StringIO(to_text(json.dumps({
<span class='lineno'> 440</span>             &#39;finished_at&#39;: &#39;some_time&#39;,
<span class='lineno'> 441</span>             &#39;state&#39;: &#39;failed&#39;,
<span class='lineno'> 442</span>             &#39;error&#39;: {
<span class='lineno'> 443</span>                 &#39;code&#39;: &#39;GW001&#39;,
<span class='lineno'> 444</span>                 &#39;description&#39;: u&#39;Becäuse I said so!&#39;,
<span class='lineno'> 445</span> 
<span class='lineno'> 446</span>             },
<span class='lineno'> 447</span>             &#39;messages&#39;: [
<span class='lineno'> 448</span>                 {
<span class='lineno'> 449</span>                     &#39;level&#39;: &#39;error&#39;,
<span class='lineno'> 450</span>                     &#39;message&#39;: u&#39;Somé error&#39;,
<span class='lineno'> 451</span>                 },
<span class='lineno'> 452</span>                 {
<span class='lineno'> 453</span>                     &#39;level&#39;: &#39;warning&#39;,
<span class='lineno'> 454</span>                     &#39;message&#39;: u&#39;Some wärning&#39;,
<span class='lineno'> 455</span>                 },
<span class='lineno'> 456</span>                 {
<span class='lineno'> 457</span>                     &#39;level&#39;: &#39;info&#39;,
<span class='lineno'> 458</span>                     &#39;message&#39;: u&#39;Somé info&#39;,
<span class='lineno'> 459</span>                 },
<span class='lineno'> 460</span>             ],
<span class='lineno'> 461</span>         }))),
<span class='lineno'> 462</span>     ]
<span class='lineno'> 463</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 464</span> 
<span class='lineno'> 465</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', title='?'>mock_display</a> = MagicMock()
<span class='lineno'> 466</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;display&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', title='?'>mock_display</a>)
<span class='lineno'> 467</span> 
<span class='lineno'> 468</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', title='?'>mock_vvv</a> = MagicMock()
<span class='lineno'> 469</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;vvv&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', title='?'>mock_vvv</a>)
<span class='lineno'> 470</span> 
<span class='lineno'> 471</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', title='?'>mock_warn</a> = MagicMock()
<span class='lineno'> 472</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;warning&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', title='?'>mock_warn</a>)
<span class='lineno'> 473</span> 
<span class='lineno'> 474</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', title='?'>mock_err</a> = MagicMock()
<span class='lineno'> 475</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;error&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', title='?'>mock_err</a>)
<span class='lineno'> 476</span> 
<span class='lineno'> 477</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.expected', title='?'>expected</a> = to_native(u&#39;Galaxy import process failed: Becäuse I said so! (Code: GW001)&#39;)
<span class='lineno'> 478</span>     with pytest.raises(AnsibleError, match=re.escape(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.expected', title='?'>expected</a>)):
<span class='lineno'> 479</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.api', title='None'>api</a>.wait_import_task(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.import_uri', title='?'>import_uri</a>)
<span class='lineno'> 480</span> 
<span class='lineno'> 481</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 482</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 483</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.token_type', title='?'>token_type</a>
<span class='lineno'> 484</span> 
<span class='lineno'> 485</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', title='?'>mock_display</a>.call_count == 1
<span class='lineno'> 486</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_display', title='?'>mock_display</a>.mock_calls[0][1][0] == &#39;Waiting until Galaxy import task %s has completed&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 487</span> 
<span class='lineno'> 488</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', title='?'>mock_vvv</a>.call_count == 1
<span class='lineno'> 489</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_vvv', title='?'>mock_vvv</a>.mock_calls[0][1][0] == u&#39;Galaxy import message: info - Somé info&#39;
<span class='lineno'> 490</span> 
<span class='lineno'> 491</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', title='?'>mock_warn</a>.call_count == 1
<span class='lineno'> 492</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_warn', title='?'>mock_warn</a>.mock_calls[0][1][0] == u&#39;Galaxy import warning message: Some wärning&#39;
<span class='lineno'> 493</span> 
<span class='lineno'> 494</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', title='?'>mock_err</a>.call_count == 1
<span class='lineno'> 495</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure.mock_err', title='?'>mock_err</a>.mock_calls[0][1][0] == u&#39;Galaxy import error message: Somé error&#39;
<span class='lineno'> 496</span> 
<span class='lineno'> 497</span> 
<span class='lineno'> 498</span> @pytest.mark.parametrize(&#39;server_url, api_version, token_type, token_ins, import_uri, full_import_uri&#39;, [
<span class='lineno'> 499</span>     (&#39;https://galaxy.server.com/api/&#39;, &#39;v2&#39;, &#39;Token&#39;, GalaxyToken(&#39;my_token&#39;),
<span class='lineno'> 500</span>      &#39;1234&#39;,
<span class='lineno'> 501</span>      &#39;https://galaxy.server.com/api/v2/collection-imports/1234/&#39;),
<span class='lineno'> 502</span>     (&#39;https://galaxy.server.com/api/automation-hub/&#39;, &#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;),
<span class='lineno'> 503</span>      &#39;1234&#39;,
<span class='lineno'> 504</span>      &#39;https://galaxy.server.com/api/automation-hub/v3/imports/collections/1234/&#39;),
<span class='lineno'> 505</span> ])
<span class='lineno'> 506</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error', title='(?, ?, ?, ?, ?, ?, ?) -> None'>test_wait_import_task_with_failure_no_error</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.server_url', title='?'>server_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.import_uri', title='?'>import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', title='?'>full_import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 507</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.server_url', title='?'>server_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 508</span> 
<span class='lineno'> 509</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 510</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 511</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 512</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 513</span> 
<span class='lineno'> 514</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 515</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 516</span>         StringIO(to_text(json.dumps({
<span class='lineno'> 517</span>             &#39;finished_at&#39;: &#39;some_time&#39;,
<span class='lineno'> 518</span>             &#39;state&#39;: &#39;failed&#39;,
<span class='lineno'> 519</span>             &#39;error&#39;: {},
<span class='lineno'> 520</span>             &#39;messages&#39;: [
<span class='lineno'> 521</span>                 {
<span class='lineno'> 522</span>                     &#39;level&#39;: &#39;error&#39;,
<span class='lineno'> 523</span>                     &#39;message&#39;: u&#39;Somé error&#39;,
<span class='lineno'> 524</span>                 },
<span class='lineno'> 525</span>                 {
<span class='lineno'> 526</span>                     &#39;level&#39;: &#39;warning&#39;,
<span class='lineno'> 527</span>                     &#39;message&#39;: u&#39;Some wärning&#39;,
<span class='lineno'> 528</span>                 },
<span class='lineno'> 529</span>                 {
<span class='lineno'> 530</span>                     &#39;level&#39;: &#39;info&#39;,
<span class='lineno'> 531</span>                     &#39;message&#39;: u&#39;Somé info&#39;,
<span class='lineno'> 532</span>                 },
<span class='lineno'> 533</span>             ],
<span class='lineno'> 534</span>         }))),
<span class='lineno'> 535</span>     ]
<span class='lineno'> 536</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 537</span> 
<span class='lineno'> 538</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', title='?'>mock_display</a> = MagicMock()
<span class='lineno'> 539</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;display&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', title='?'>mock_display</a>)
<span class='lineno'> 540</span> 
<span class='lineno'> 541</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', title='?'>mock_vvv</a> = MagicMock()
<span class='lineno'> 542</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;vvv&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', title='?'>mock_vvv</a>)
<span class='lineno'> 543</span> 
<span class='lineno'> 544</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', title='?'>mock_warn</a> = MagicMock()
<span class='lineno'> 545</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;warning&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', title='?'>mock_warn</a>)
<span class='lineno'> 546</span> 
<span class='lineno'> 547</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', title='?'>mock_err</a> = MagicMock()
<span class='lineno'> 548</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;error&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', title='?'>mock_err</a>)
<span class='lineno'> 549</span> 
<span class='lineno'> 550</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.expected', title='str'>expected</a> = &#39;Galaxy import process failed: Unknown error, see %s for more details \\(Code: UNKNOWN\\)&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 551</span>     with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.expected', title='str'>expected</a>):
<span class='lineno'> 552</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.api', title='None'>api</a>.wait_import_task(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.import_uri', title='?'>import_uri</a>)
<span class='lineno'> 553</span> 
<span class='lineno'> 554</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 555</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 556</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.token_type', title='?'>token_type</a>
<span class='lineno'> 557</span> 
<span class='lineno'> 558</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', title='?'>mock_display</a>.call_count == 1
<span class='lineno'> 559</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_display', title='?'>mock_display</a>.mock_calls[0][1][0] == &#39;Waiting until Galaxy import task %s has completed&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 560</span> 
<span class='lineno'> 561</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', title='?'>mock_vvv</a>.call_count == 1
<span class='lineno'> 562</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_vvv', title='?'>mock_vvv</a>.mock_calls[0][1][0] == u&#39;Galaxy import message: info - Somé info&#39;
<span class='lineno'> 563</span> 
<span class='lineno'> 564</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', title='?'>mock_warn</a>.call_count == 1
<span class='lineno'> 565</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_warn', title='?'>mock_warn</a>.mock_calls[0][1][0] == u&#39;Galaxy import warning message: Some wärning&#39;
<span class='lineno'> 566</span> 
<span class='lineno'> 567</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', title='?'>mock_err</a>.call_count == 1
<span class='lineno'> 568</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_with_failure_no_error.mock_err', title='?'>mock_err</a>.mock_calls[0][1][0] == u&#39;Galaxy import error message: Somé error&#39;
<span class='lineno'> 569</span> 
<span class='lineno'> 570</span> 
<span class='lineno'> 571</span> @pytest.mark.parametrize(&#39;server_url, api_version, token_type, token_ins, import_uri, full_import_uri&#39;, [
<span class='lineno'> 572</span>     (&#39;https://galaxy.server.com/api&#39;, &#39;v2&#39;, &#39;Token&#39;, GalaxyToken(&#39;my token&#39;),
<span class='lineno'> 573</span>      &#39;1234&#39;,
<span class='lineno'> 574</span>      &#39;https://galaxy.server.com/api/v2/collection-imports/1234/&#39;),
<span class='lineno'> 575</span>     (&#39;https://galaxy.server.com/api/automation-hub&#39;, &#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;),
<span class='lineno'> 576</span>      &#39;1234&#39;,
<span class='lineno'> 577</span>      &#39;https://galaxy.server.com/api/automation-hub/v3/imports/collections/1234/&#39;),
<span class='lineno'> 578</span> ])
<span class='lineno'> 579</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout', title='(?, ?, ?, ?, ?, ?, ?) -> None'>test_wait_import_task_timeout</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.server_url', title='?'>server_url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.import_uri', title='?'>import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', title='?'>full_import_uri</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 580</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.server_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.server_url', title='?'>server_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 581</span> 
<span class='lineno'> 582</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 583</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 584</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 585</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 586</span> 
<span class='lineno'> 587</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.return_response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.return_response', title='() -> ?'>return_response</a>(*args, **kwargs):
<span class='lineno'> 588</span>         return StringIO(u&#39;{&quot;state&quot;:&quot;waiting&quot;}&#39;)
<span class='lineno'> 589</span> 
<span class='lineno'> 590</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 591</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.side_effect = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.return_response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.return_response', title='() -> ?'>return_response</a>
<span class='lineno'> 592</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 593</span> 
<span class='lineno'> 594</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', title='?'>mock_display</a> = MagicMock()
<span class='lineno'> 595</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;display&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', title='?'>mock_display</a>)
<span class='lineno'> 596</span> 
<span class='lineno'> 597</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', title='?'>mock_vvv</a> = MagicMock()
<span class='lineno'> 598</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>.setattr(Display, &#39;vvv&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', title='?'>mock_vvv</a>)
<span class='lineno'> 599</span> 
<span class='lineno'> 600</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.monkeypatch', title='?'>monkeypatch</a>.setattr(time, &#39;sleep&#39;, MagicMock())
<span class='lineno'> 601</span> 
<span class='lineno'> 602</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.expected', title='str'>expected</a> = &quot;Timeout while waiting for the Galaxy import process to finish, check progress at &#39;%s&#39;&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 603</span>     with pytest.raises(AnsibleError, match=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.expected', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.expected', title='str'>expected</a>):
<span class='lineno'> 604</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.api', title='None'>api</a>.wait_import_task(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.import_uri', title='?'>import_uri</a>, 1)
<span class='lineno'> 605</span> 
<span class='lineno'> 606</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.call_count &gt; 1
<span class='lineno'> 607</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 608</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', title='?'>token_type</a>
<span class='lineno'> 609</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 610</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.token_type', title='?'>token_type</a>
<span class='lineno'> 611</span> 
<span class='lineno'> 612</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', title='?'>mock_display</a>.call_count == 1
<span class='lineno'> 613</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_display', title='?'>mock_display</a>.mock_calls[0][1][0] == &#39;Waiting until Galaxy import task %s has completed&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.full_import_uri', title='?'>full_import_uri</a>
<span class='lineno'> 614</span> 
<span class='lineno'> 615</span>     # expected_wait_msg = &#39;Galaxy import process has a status of waiting, wait {0} seconds before trying again&#39;
<span class='lineno'> 616</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_wait_import_task_timeout.mock_vvv', title='?'>mock_vvv</a>.call_count &gt; 9  # 1st is opening Galaxy token file.
<span class='lineno'> 617</span> 
<span class='lineno'> 618</span>     # FIXME:
<span class='lineno'> 619</span>     # assert mock_vvv.mock_calls[1][1][0] == expected_wait_msg.format(2)
<span class='lineno'> 620</span>     # assert mock_vvv.mock_calls[2][1][0] == expected_wait_msg.format(3)
<span class='lineno'> 621</span>     # assert mock_vvv.mock_calls[3][1][0] == expected_wait_msg.format(4)
<span class='lineno'> 622</span>     # assert mock_vvv.mock_calls[4][1][0] == expected_wait_msg.format(6)
<span class='lineno'> 623</span>     # assert mock_vvv.mock_calls[5][1][0] == expected_wait_msg.format(10)
<span class='lineno'> 624</span>     # assert mock_vvv.mock_calls[6][1][0] == expected_wait_msg.format(15)
<span class='lineno'> 625</span>     # assert mock_vvv.mock_calls[7][1][0] == expected_wait_msg.format(22)
<span class='lineno'> 626</span>     # assert mock_vvv.mock_calls[8][1][0] == expected_wait_msg.format(30)
<span class='lineno'> 627</span> 
<span class='lineno'> 628</span> 
<span class='lineno'> 629</span> @pytest.mark.parametrize(&#39;api_version, token_type, version, token_ins&#39;, [
<span class='lineno'> 630</span>     (&#39;v2&#39;, None, &#39;v2.1.13&#39;, None),
<span class='lineno'> 631</span>     (&#39;v3&#39;, &#39;Bearer&#39;, &#39;v1.0.0&#39;, KeycloakToken(auth_url=&#39;https://api.test/api/automation-hub/&#39;)),
<span class='lineno'> 632</span> ])
<span class='lineno'> 633</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version', title='(?, ?, ?, ?, ?) -> None'>test_get_collection_version_metadata_no_version</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', title='?'>version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 634</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&#39;https://galaxy.server.com/api/&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 635</span> 
<span class='lineno'> 636</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 637</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 638</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 639</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 640</span> 
<span class='lineno'> 641</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 642</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 643</span>         StringIO(to_text(json.dumps({
<span class='lineno'> 644</span>             &#39;download_url&#39;: &#39;https://downloadme.com&#39;,
<span class='lineno'> 645</span>             &#39;artifact&#39;: {
<span class='lineno'> 646</span>                 &#39;sha256&#39;: &#39;ac47b6fac117d7c171812750dacda655b04533cf56b31080b82d1c0db3c9d80f&#39;,
<span class='lineno'> 647</span>             },
<span class='lineno'> 648</span>             &#39;namespace&#39;: {
<span class='lineno'> 649</span>                 &#39;name&#39;: &#39;namespace&#39;,
<span class='lineno'> 650</span>             },
<span class='lineno'> 651</span>             &#39;collection&#39;: {
<span class='lineno'> 652</span>                 &#39;name&#39;: &#39;collection&#39;,
<span class='lineno'> 653</span>             },
<span class='lineno'> 654</span>             &#39;version&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', title='?'>version</a>,
<span class='lineno'> 655</span>             &#39;metadata&#39;: {
<span class='lineno'> 656</span>                 &#39;dependencies&#39;: {},
<span class='lineno'> 657</span>             }
<span class='lineno'> 658</span>         }))),
<span class='lineno'> 659</span>     ]
<span class='lineno'> 660</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 661</span> 
<span class='lineno'> 662</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', title='None'>api</a>.get_collection_version_metadata(&#39;namespace&#39;, &#39;collection&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', title='?'>version</a>)
<span class='lineno'> 663</span> 
<span class='lineno'> 664</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>, CollectionVersionMetadata)
<span class='lineno'> 665</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.namespace == u&#39;namespace&#39;
<span class='lineno'> 666</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.name == u&#39;collection&#39;
<span class='lineno'> 667</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.download_url == u&#39;https://downloadme.com&#39;
<span class='lineno'> 668</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.artifact_sha256 == u&#39;ac47b6fac117d7c171812750dacda655b04533cf56b31080b82d1c0db3c9d80f&#39;
<span class='lineno'> 669</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.version == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', title='?'>version</a>
<span class='lineno'> 670</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.actual', title='?'>actual</a>.dependencies == {}
<span class='lineno'> 671</span> 
<span class='lineno'> 672</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 673</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;%s%s/collections/namespace/collection/versions/%s/&#39; \
<span class='lineno'> 674</span>         % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api', title='None'>api</a>.api_server, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.api_version', title='?'>api_version</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.version', title='?'>version</a>)
<span class='lineno'> 675</span> 
<span class='lineno'> 676</span>     # v2 calls dont need auth, so no authz header or token_type
<span class='lineno'> 677</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', title='?'>token_type</a>:
<span class='lineno'> 678</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_version_metadata_no_version.token_type', title='?'>token_type</a>
<span class='lineno'> 679</span> 
<span class='lineno'> 680</span> 
<span class='lineno'> 681</span> @pytest.mark.parametrize(&#39;api_version, token_type, token_ins, response&#39;, [
<span class='lineno'> 682</span>     (&#39;v2&#39;, None, None, {
<span class='lineno'> 683</span>         &#39;count&#39;: 2,
<span class='lineno'> 684</span>         &#39;next&#39;: None,
<span class='lineno'> 685</span>         &#39;previous&#39;: None,
<span class='lineno'> 686</span>         &#39;results&#39;: [
<span class='lineno'> 687</span>             {
<span class='lineno'> 688</span>                 &#39;version&#39;: &#39;1.0.0&#39;,
<span class='lineno'> 689</span>                 &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.0&#39;,
<span class='lineno'> 690</span>             },
<span class='lineno'> 691</span>             {
<span class='lineno'> 692</span>                 &#39;version&#39;: &#39;1.0.1&#39;,
<span class='lineno'> 693</span>                 &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.1&#39;,
<span class='lineno'> 694</span>             },
<span class='lineno'> 695</span>         ],
<span class='lineno'> 696</span>     }),
<span class='lineno'> 697</span>     # TODO: Verify this once Automation Hub is actually out
<span class='lineno'> 698</span>     (&#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;), {
<span class='lineno'> 699</span>         &#39;count&#39;: 2,
<span class='lineno'> 700</span>         &#39;next&#39;: None,
<span class='lineno'> 701</span>         &#39;previous&#39;: None,
<span class='lineno'> 702</span>         &#39;data&#39;: [
<span class='lineno'> 703</span>             {
<span class='lineno'> 704</span>                 &#39;version&#39;: &#39;1.0.0&#39;,
<span class='lineno'> 705</span>                 &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.0&#39;,
<span class='lineno'> 706</span>             },
<span class='lineno'> 707</span>             {
<span class='lineno'> 708</span>                 &#39;version&#39;: &#39;1.0.1&#39;,
<span class='lineno'> 709</span>                 &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.1&#39;,
<span class='lineno'> 710</span>             },
<span class='lineno'> 711</span>         ],
<span class='lineno'> 712</span>     }),
<span class='lineno'> 713</span> ])
<span class='lineno'> 714</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions', title='(?, ?, ?, ?, ?) -> None'>test_get_collection_versions</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.response', title='?'>response</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 715</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&#39;https://galaxy.server.com/api/&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 716</span> 
<span class='lineno'> 717</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 718</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 719</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 720</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 721</span> 
<span class='lineno'> 722</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 723</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a>.side_effect = [
<span class='lineno'> 724</span>         StringIO(to_text(json.dumps(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.response', title='?'>response</a>))),
<span class='lineno'> 725</span>     ]
<span class='lineno'> 726</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 727</span> 
<span class='lineno'> 728</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api', title='None'>api</a>.get_collection_versions(&#39;namespace&#39;, &#39;collection&#39;)
<span class='lineno'> 729</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.actual', title='?'>actual</a> == [u&#39;1.0.0&#39;, u&#39;1.0.1&#39;]
<span class='lineno'> 730</span> 
<span class='lineno'> 731</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a>.call_count == 1
<span class='lineno'> 732</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.server.com/api/%s/collections/namespace/collection/&#39; \
<span class='lineno'> 733</span>                                             &#39;versions/&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.api_version', title='?'>api_version</a>
<span class='lineno'> 734</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 735</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions.token_type', title='?'>token_type</a>
<span class='lineno'> 736</span> 
<span class='lineno'> 737</span> 
<span class='lineno'> 738</span> @pytest.mark.parametrize(&#39;api_version, token_type, token_ins, responses&#39;, [
<span class='lineno'> 739</span>     (&#39;v2&#39;, None, None, [
<span class='lineno'> 740</span>         {
<span class='lineno'> 741</span>             &#39;count&#39;: 6,
<span class='lineno'> 742</span>             &#39;next&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/?page=2&#39;,
<span class='lineno'> 743</span>             &#39;previous&#39;: None,
<span class='lineno'> 744</span>             &#39;results&#39;: [
<span class='lineno'> 745</span>                 {
<span class='lineno'> 746</span>                     &#39;version&#39;: &#39;1.0.0&#39;,
<span class='lineno'> 747</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.0&#39;,
<span class='lineno'> 748</span>                 },
<span class='lineno'> 749</span>                 {
<span class='lineno'> 750</span>                     &#39;version&#39;: &#39;1.0.1&#39;,
<span class='lineno'> 751</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.1&#39;,
<span class='lineno'> 752</span>                 },
<span class='lineno'> 753</span>             ],
<span class='lineno'> 754</span>         },
<span class='lineno'> 755</span>         {
<span class='lineno'> 756</span>             &#39;count&#39;: 6,
<span class='lineno'> 757</span>             &#39;next&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/?page=3&#39;,
<span class='lineno'> 758</span>             &#39;previous&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions&#39;,
<span class='lineno'> 759</span>             &#39;results&#39;: [
<span class='lineno'> 760</span>                 {
<span class='lineno'> 761</span>                     &#39;version&#39;: &#39;1.0.2&#39;,
<span class='lineno'> 762</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.2&#39;,
<span class='lineno'> 763</span>                 },
<span class='lineno'> 764</span>                 {
<span class='lineno'> 765</span>                     &#39;version&#39;: &#39;1.0.3&#39;,
<span class='lineno'> 766</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.3&#39;,
<span class='lineno'> 767</span>                 },
<span class='lineno'> 768</span>             ],
<span class='lineno'> 769</span>         },
<span class='lineno'> 770</span>         {
<span class='lineno'> 771</span>             &#39;count&#39;: 6,
<span class='lineno'> 772</span>             &#39;next&#39;: None,
<span class='lineno'> 773</span>             &#39;previous&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/?page=2&#39;,
<span class='lineno'> 774</span>             &#39;results&#39;: [
<span class='lineno'> 775</span>                 {
<span class='lineno'> 776</span>                     &#39;version&#39;: &#39;1.0.4&#39;,
<span class='lineno'> 777</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.4&#39;,
<span class='lineno'> 778</span>                 },
<span class='lineno'> 779</span>                 {
<span class='lineno'> 780</span>                     &#39;version&#39;: &#39;1.0.5&#39;,
<span class='lineno'> 781</span>                     &#39;href&#39;: &#39;https://galaxy.server.com/api/v2/collections/namespace/collection/versions/1.0.5&#39;,
<span class='lineno'> 782</span>                 },
<span class='lineno'> 783</span>             ],
<span class='lineno'> 784</span>         },
<span class='lineno'> 785</span>     ]),
<span class='lineno'> 786</span>     (&#39;v3&#39;, &#39;Bearer&#39;, KeycloakToken(auth_url=&#39;https://api.test/&#39;), [
<span class='lineno'> 787</span>         {
<span class='lineno'> 788</span>             &#39;count&#39;: 6,
<span class='lineno'> 789</span>             &#39;links&#39;: {
<span class='lineno'> 790</span>                 &#39;next&#39;: &#39;/api/v3/collections/namespace/collection/versions/?page=2&#39;,
<span class='lineno'> 791</span>                 &#39;previous&#39;: None,
<span class='lineno'> 792</span>             },
<span class='lineno'> 793</span>             &#39;data&#39;: [
<span class='lineno'> 794</span>                 {
<span class='lineno'> 795</span>                     &#39;version&#39;: &#39;1.0.0&#39;,
<span class='lineno'> 796</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.0&#39;,
<span class='lineno'> 797</span>                 },
<span class='lineno'> 798</span>                 {
<span class='lineno'> 799</span>                     &#39;version&#39;: &#39;1.0.1&#39;,
<span class='lineno'> 800</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.1&#39;,
<span class='lineno'> 801</span>                 },
<span class='lineno'> 802</span>             ],
<span class='lineno'> 803</span>         },
<span class='lineno'> 804</span>         {
<span class='lineno'> 805</span>             &#39;count&#39;: 6,
<span class='lineno'> 806</span>             &#39;links&#39;: {
<span class='lineno'> 807</span>                 &#39;next&#39;: &#39;/api/v3/collections/namespace/collection/versions/?page=3&#39;,
<span class='lineno'> 808</span>                 &#39;previous&#39;: &#39;/api/v3/collections/namespace/collection/versions&#39;,
<span class='lineno'> 809</span>             },
<span class='lineno'> 810</span>             &#39;data&#39;: [
<span class='lineno'> 811</span>                 {
<span class='lineno'> 812</span>                     &#39;version&#39;: &#39;1.0.2&#39;,
<span class='lineno'> 813</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.2&#39;,
<span class='lineno'> 814</span>                 },
<span class='lineno'> 815</span>                 {
<span class='lineno'> 816</span>                     &#39;version&#39;: &#39;1.0.3&#39;,
<span class='lineno'> 817</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.3&#39;,
<span class='lineno'> 818</span>                 },
<span class='lineno'> 819</span>             ],
<span class='lineno'> 820</span>         },
<span class='lineno'> 821</span>         {
<span class='lineno'> 822</span>             &#39;count&#39;: 6,
<span class='lineno'> 823</span>             &#39;links&#39;: {
<span class='lineno'> 824</span>                 &#39;next&#39;: None,
<span class='lineno'> 825</span>                 &#39;previous&#39;: &#39;/api/v3/collections/namespace/collection/versions/?page=2&#39;,
<span class='lineno'> 826</span>             },
<span class='lineno'> 827</span>             &#39;data&#39;: [
<span class='lineno'> 828</span>                 {
<span class='lineno'> 829</span>                     &#39;version&#39;: &#39;1.0.4&#39;,
<span class='lineno'> 830</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.4&#39;,
<span class='lineno'> 831</span>                 },
<span class='lineno'> 832</span>                 {
<span class='lineno'> 833</span>                     &#39;version&#39;: &#39;1.0.5&#39;,
<span class='lineno'> 834</span>                     &#39;href&#39;: &#39;/api/v3/collections/namespace/collection/versions/1.0.5&#39;,
<span class='lineno'> 835</span>                 },
<span class='lineno'> 836</span>             ],
<span class='lineno'> 837</span>         },
<span class='lineno'> 838</span>     ]),
<span class='lineno'> 839</span> ])
<span class='lineno'> 840</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination', title='(?, ?, ?, ?, ?) -> None'>test_get_collection_versions_pagination</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', title='?'>api_version</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', title='?'>token_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', title='?'>token_ins</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.responses', title='?'>responses</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 841</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&#39;https://galaxy.server.com/api/&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', title='?'>api_version</a>, token_ins=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', title='?'>token_ins</a>)
<span class='lineno'> 842</span> 
<span class='lineno'> 843</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', title='?'>token_ins</a>:
<span class='lineno'> 844</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', title='?'>mock_token_get</a> = MagicMock()
<span class='lineno'> 845</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', title='?'>mock_token_get</a>.return_value = &#39;my token&#39;
<span class='lineno'> 846</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', title='?'>monkeypatch</a>.setattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_ins', title='?'>token_ins</a>, &#39;get&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_token_get', title='?'>mock_token_get</a>)
<span class='lineno'> 847</span> 
<span class='lineno'> 848</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 849</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.side_effect = [StringIO(to_text(json.dumps(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', title='?'>r</a>))) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.r', title='?'>r</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.responses', title='?'>responses</a>]
<span class='lineno'> 850</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 851</span> 
<span class='lineno'> 852</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api', title='None'>api</a>.get_collection_versions(&#39;namespace&#39;, &#39;collection&#39;)
<span class='lineno'> 853</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.actual', title='?'>actual</a> == [u&#39;1.0.0&#39;, u&#39;1.0.1&#39;, u&#39;1.0.2&#39;, u&#39;1.0.3&#39;, u&#39;1.0.4&#39;, u&#39;1.0.5&#39;]
<span class='lineno'> 854</span> 
<span class='lineno'> 855</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.call_count == 3
<span class='lineno'> 856</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.server.com/api/%s/collections/namespace/collection/&#39; \
<span class='lineno'> 857</span>                                             &#39;versions/&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', title='?'>api_version</a>
<span class='lineno'> 858</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == &#39;https://galaxy.server.com/api/%s/collections/namespace/collection/&#39; \
<span class='lineno'> 859</span>                                             &#39;versions/?page=2&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', title='?'>api_version</a>
<span class='lineno'> 860</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[2][1][0] == &#39;https://galaxy.server.com/api/%s/collections/namespace/collection/&#39; \
<span class='lineno'> 861</span>                                             &#39;versions/?page=3&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.api_version', title='?'>api_version</a>
<span class='lineno'> 862</span> 
<span class='lineno'> 863</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', title='?'>token_type</a>:
<span class='lineno'> 864</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[0][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', title='?'>token_type</a>
<span class='lineno'> 865</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[1][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', title='?'>token_type</a>
<span class='lineno'> 866</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[2][2][&#39;headers&#39;][&#39;Authorization&#39;] == &#39;%s my token&#39; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_collection_versions_pagination.token_type', title='?'>token_type</a>
<span class='lineno'> 867</span> 
<span class='lineno'> 868</span> 
<span class='lineno'> 869</span> @pytest.mark.parametrize(&#39;responses&#39;, [
<span class='lineno'> 870</span>     [
<span class='lineno'> 871</span>         {
<span class='lineno'> 872</span>             &#39;count&#39;: 2,
<span class='lineno'> 873</span>             &#39;results&#39;: [{&#39;name&#39;: &#39;3.5.1&#39;, }, {&#39;name&#39;: &#39;3.5.2&#39;}],
<span class='lineno'> 874</span>             &#39;next_link&#39;: None,
<span class='lineno'> 875</span>             &#39;next&#39;: None,
<span class='lineno'> 876</span>             &#39;previous_link&#39;: None,
<span class='lineno'> 877</span>             &#39;previous&#39;: None
<span class='lineno'> 878</span>         },
<span class='lineno'> 879</span>     ],
<span class='lineno'> 880</span>     [
<span class='lineno'> 881</span>         {
<span class='lineno'> 882</span>             &#39;count&#39;: 2,
<span class='lineno'> 883</span>             &#39;results&#39;: [{&#39;name&#39;: &#39;3.5.1&#39;}],
<span class='lineno'> 884</span>             &#39;next_link&#39;: &#39;/api/v1/roles/432/versions/?page=2&amp;page_size=50&#39;,
<span class='lineno'> 885</span>             &#39;next&#39;: &#39;/roles/432/versions/?page=2&amp;page_size=50&#39;,
<span class='lineno'> 886</span>             &#39;previous_link&#39;: None,
<span class='lineno'> 887</span>             &#39;previous&#39;: None
<span class='lineno'> 888</span>         },
<span class='lineno'> 889</span>         {
<span class='lineno'> 890</span>             &#39;count&#39;: 2,
<span class='lineno'> 891</span>             &#39;results&#39;: [{&#39;name&#39;: &#39;3.5.2&#39;}],
<span class='lineno'> 892</span>             &#39;next_link&#39;: None,
<span class='lineno'> 893</span>             &#39;next&#39;: None,
<span class='lineno'> 894</span>             &#39;previous_link&#39;: &#39;/api/v1/roles/432/versions/?&amp;page_size=50&#39;,
<span class='lineno'> 895</span>             &#39;previous&#39;: &#39;/roles/432/versions/?page_size=50&#39;,
<span class='lineno'> 896</span>         },
<span class='lineno'> 897</span>     ]
<span class='lineno'> 898</span> ])
<span class='lineno'> 899</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination', title='(?, ?) -> None'>test_get_role_versions_pagination</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.monkeypatch', title='?'>monkeypatch</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', title='?'>responses</a>):
<span class='lineno'> 900</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.api', title='None'>api</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.get_test_galaxy_api', title='(str, str, None, None) -> None / (?, ?, None, None) -> None / (str, ?, None, None) -> None'>get_test_galaxy_api</a>(&#39;https://galaxy.com/api/&#39;, &#39;v1&#39;)
<span class='lineno'> 901</span> 
<span class='lineno'> 902</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a> = MagicMock()
<span class='lineno'> 903</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a>.side_effect = [StringIO(to_text(json.dumps(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', title='?'>r</a>))) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.r', title='?'>r</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', title='?'>responses</a>]
<span class='lineno'> 904</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.monkeypatch', title='?'>monkeypatch</a>.setattr(galaxy_api, &#39;open_url&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a>)
<span class='lineno'> 905</span> 
<span class='lineno'> 906</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.actual', title='?'>actual</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.api', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.api', title='None'>api</a>.fetch_role_related(&#39;versions&#39;, 432)
<span class='lineno'> 907</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.actual', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.actual', title='?'>actual</a> == [{&#39;name&#39;: &#39;3.5.1&#39;}, {&#39;name&#39;: &#39;3.5.2&#39;}]
<span class='lineno'> 908</span> 
<span class='lineno'> 909</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a>.call_count == len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', title='?'>responses</a>)
<span class='lineno'> 910</span> 
<span class='lineno'> 911</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[0][1][0] == &#39;https://galaxy.com/api/v1/roles/432/versions/?page_size=50&#39;
<span class='lineno'> 912</span>     if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.responses', title='?'>responses</a>) == 2:
<span class='lineno'> 913</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.galaxy.test_api.test_get_role_versions_pagination.mock_open', title='?'>mock_open</a>.mock_calls[1][1][0] == &#39;https://galaxy.com/api/v1/roles/432/versions/?page=2&amp;page_size=50&#39;
</pre></td></tr></table></body></html>