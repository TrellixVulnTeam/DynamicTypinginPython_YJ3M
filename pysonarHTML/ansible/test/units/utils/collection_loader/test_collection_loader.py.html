<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/ansible/test/units/utils/collection_loader/test_collection_loader.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.__metaclass__', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.__metaclass__'>__metaclass__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.teardown', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.teardown'>teardown</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup'>test_finder_setup</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested'>test_finder_not_interested</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns'>test_finder_ns</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove'>test_loader_remove</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install'>test_loader_install</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll'>test_finder_coll</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader_not_interested', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader_not_interested'>test_root_loader_not_interested</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader'>test_root_loader</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_not_interested', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_not_interested'>test_nspkg_loader_not_interested</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module'>test_nspkg_loader_load_module</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_not_interested', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_not_interested'>test_collpkg_loader_not_interested</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module'>test_collpkg_loader_load_module</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_coll_loader', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_coll_loader'>test_coll_loader</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup'>test_path_hook_setup</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror'>test_path_hook_importerror</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module'>test_new_or_existing_module</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl'>test_iter_modules_impl</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection'>test_import_from_collection</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource'>test_eventsource</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load'>test_on_collection_load</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config'>test_default_collection_config</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection'>test_default_collection_detection</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location'>test_collection_role_name_location</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports'>test_bogus_imports</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths'>test_finder_playbook_paths</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules'>test_toplevel_iter_modules</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces'>test_iter_modules_namespaces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data'>test_collection_get_data</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid'>test_fqcr_parsing_valid</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid'>test_fqcr_parsing_invalid</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid'>test_collectionref_components_valid</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type'>test_legacy_plugin_dir_to_plugin_type</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid'>test_collectionref_components_invalid</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths'>default_test_collection_paths</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder'>get_default_finder</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths'>extend_paths</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix'>nuke_module_prefix</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state'>reset_collections_loader_state</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> from __future__ import (absolute_import, division, print_function)
<span class='lineno'>   2</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.__metaclass__', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.__metaclass__', title='? -> ?'>__metaclass__</a> = type
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> import os
<span class='lineno'>   5</span> import pkgutil
<span class='lineno'>   6</span> import pytest
<span class='lineno'>   7</span> import re
<span class='lineno'>   8</span> import sys
<span class='lineno'>   9</span> 
<span class='lineno'>  10</span> from ansible.module_utils.six import PY3, string_types
<span class='lineno'>  11</span> from ansible.module_utils.compat.importlib import import_module
<span class='lineno'>  12</span> from ansible.utils.collection_loader import AnsibleCollectionConfig, AnsibleCollectionRef
<span class='lineno'>  13</span> from ansible.utils.collection_loader._collection_finder import (
<span class='lineno'>  14</span>     _AnsibleCollectionFinder, _AnsibleCollectionLoader, _AnsibleCollectionNSPkgLoader, _AnsibleCollectionPkgLoader,
<span class='lineno'>  15</span>     _AnsibleCollectionPkgLoaderBase, _AnsibleCollectionRootPkgLoader, _AnsiblePathHookFinder,
<span class='lineno'>  16</span>     _get_collection_name_from_path, _get_collection_role_path, _get_collection_metadata, _iter_modules_impl
<span class='lineno'>  17</span> )
<span class='lineno'>  18</span> from ansible.utils.collection_loader._collection_config import _EventSource
<span class='lineno'>  19</span> from units.compat.mock import MagicMock, NonCallableMagicMock, patch
<span class='lineno'>  20</span> 
<span class='lineno'>  21</span> 
<span class='lineno'>  22</span> # fixture to ensure we always clean up the import stuff when we&#39;re done
<span class='lineno'>  23</span> @pytest.fixture(autouse=True, scope=&#39;function&#39;)
<span class='lineno'>  24</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.teardown', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.teardown', title='() -> None'>teardown</a>(*args, **kwargs):
<span class='lineno'>  25</span>     yield
<span class='lineno'>  26</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>()
<span class='lineno'>  27</span> 
<span class='lineno'>  28</span> # BEGIN STANDALONE TESTS - these exercise behaviors of the individual components without the import machinery
<span class='lineno'>  29</span> 
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup', title='() -> None'>test_finder_setup</a>():
<span class='lineno'>  32</span>     # ensure scalar path is listified
<span class='lineno'>  33</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a> = _AnsibleCollectionFinder(paths=&#39;/bogus/bogus&#39;)
<span class='lineno'>  34</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>._n_collection_paths, list)
<span class='lineno'>  35</span> 
<span class='lineno'>  36</span>     # ensure sys.path paths that have an ansible_collections dir are added to the end of the collections paths
<span class='lineno'>  37</span>     with patch.object(sys, &#39;path&#39;, [&#39;/bogus&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[1], &#39;/morebogus&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[0]]):
<span class='lineno'>  38</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a> = _AnsibleCollectionFinder(paths=[&#39;/explicit&#39;, &#39;/other&#39;])
<span class='lineno'>  39</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>._n_collection_paths == [&#39;/explicit&#39;, &#39;/other&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[0]]
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', title='[str]'>configured_paths</a> = [&#39;/bogus&#39;]
<span class='lineno'>  42</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', title='[str]'>playbook_paths</a> = [&#39;/playbookdir&#39;]
<span class='lineno'>  43</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a> = _AnsibleCollectionFinder(paths=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', title='[str]'>configured_paths</a>)
<span class='lineno'>  44</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>._n_collection_paths == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', title='[str]'>configured_paths</a>
<span class='lineno'>  45</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>.set_playbook_paths(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', title='[str]'>playbook_paths</a>)
<span class='lineno'>  46</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>._n_collection_paths == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', title='[str]'>playbook_paths</a>, &#39;collections&#39;) + <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', title='[str]'>configured_paths</a>
<span class='lineno'>  47</span> 
<span class='lineno'>  48</span>     # ensure scalar playbook_paths gets listified
<span class='lineno'>  49</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>.set_playbook_paths(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', title='[str]'>playbook_paths</a>[0])
<span class='lineno'>  50</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.f', title='?'>f</a>._n_collection_paths == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.playbook_paths', title='[str]'>playbook_paths</a>, &#39;collections&#39;) + <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_setup.configured_paths', title='[str]'>configured_paths</a>
<span class='lineno'>  51</span> 
<span class='lineno'>  52</span> 
<span class='lineno'>  53</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested', title='() -> None'>test_finder_not_interested</a>():
<span class='lineno'>  54</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', title='?'>f</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'>  55</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', title='?'>f</a>.find_module(&#39;nothanks&#39;) is None
<span class='lineno'>  56</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_not_interested.f', title='?'>f</a>.find_module(&#39;nothanks.sub&#39;, path=[&#39;/bogus/dir&#39;]) is None
<span class='lineno'>  57</span> 
<span class='lineno'>  58</span> 
<span class='lineno'>  59</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns', title='() -> None'>test_finder_ns</a>():
<span class='lineno'>  60</span>     # ensure we can still load ansible_collections and ansible_collections.ansible when they don&#39;t exist on disk
<span class='lineno'>  61</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a> = _AnsibleCollectionFinder(paths=[&#39;/bogus/bogus&#39;])
<span class='lineno'>  62</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections&#39;)
<span class='lineno'>  63</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a>, _AnsibleCollectionRootPkgLoader)
<span class='lineno'>  64</span> 
<span class='lineno'>  65</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections.ansible&#39;, path=[&#39;/bogus/bogus&#39;])
<span class='lineno'>  66</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a>, _AnsibleCollectionNSPkgLoader)
<span class='lineno'>  67</span> 
<span class='lineno'>  68</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'>  69</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections&#39;)
<span class='lineno'>  70</span>     assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a>, _AnsibleCollectionRootPkgLoader)
<span class='lineno'>  71</span> 
<span class='lineno'>  72</span>     # path is not allowed for top-level
<span class='lineno'>  73</span>     with pytest.raises(ValueError):
<span class='lineno'>  74</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections&#39;, path=[&#39;whatever&#39;])
<span class='lineno'>  75</span> 
<span class='lineno'>  76</span>     # path is required for subpackages
<span class='lineno'>  77</span>     with pytest.raises(ValueError):
<span class='lineno'>  78</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections.whatever&#39;, path=None)
<span class='lineno'>  79</span> 
<span class='lineno'>  80</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.paths', title='[str]'>paths</a> = [os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', title='str'>p</a>, &#39;ansible_collections/nonexistns&#39;) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>]
<span class='lineno'>  81</span> 
<span class='lineno'>  82</span>     # test missing
<span class='lineno'>  83</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.f', title='?'>f</a>.find_module(&#39;ansible_collections.nonexistns&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.paths', title='[str]'>paths</a>)
<span class='lineno'>  84</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_ns.loader', title='?'>loader</a> is None
<span class='lineno'>  85</span> 
<span class='lineno'>  86</span> 
<span class='lineno'>  87</span> # keep these up top to make sure the loader install/remove are working, since we rely on them heavily in the tests
<span class='lineno'>  88</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove', title='() -> None'>test_loader_remove</a>():
<span class='lineno'>  89</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_mp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_mp', title='[?]'>fake_mp</a> = [MagicMock(), _AnsibleCollectionFinder(), MagicMock(), _AnsibleCollectionFinder()]
<span class='lineno'>  90</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_ph', title='[?]'>fake_ph</a> = [MagicMock().m1, MagicMock().m2, _AnsibleCollectionFinder()._ansible_collection_path_hook, NonCallableMagicMock]
<span class='lineno'>  91</span>     # must nest until 2.6 compilation is totally donezo
<span class='lineno'>  92</span>     with patch.object(sys, &#39;meta_path&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_mp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_mp', title='[?]'>fake_mp</a>):
<span class='lineno'>  93</span>         with patch.object(sys, &#39;path_hooks&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.fake_ph', title='[?]'>fake_ph</a>):
<span class='lineno'>  94</span>             _AnsibleCollectionFinder()._remove()
<span class='lineno'>  95</span>             assert len(sys.meta_path) == 2
<span class='lineno'>  96</span>             # no AnsibleCollectionFinders on the meta path after remove is called
<span class='lineno'>  97</span>             assert all((not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', title='{_SixMetaPathImporter | str}'>mpf</a>, _AnsibleCollectionFinder) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', title='{_SixMetaPathImporter | str}'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.mpf', title='{_SixMetaPathImporter | str}'>mpf</a></a> in sys.meta_path))
<span class='lineno'>  98</span>             assert len(sys.path_hooks) == 3
<span class='lineno'>  99</span>             # none of the remaining path hooks should point at an AnsibleCollectionFinder
<span class='lineno'> 100</span>             assert all((not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', title='?'>ph</a>.__self__, _AnsibleCollectionFinder) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', title='?'>ph</a></a> in sys.path_hooks if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_remove.ph', title='?'>ph</a>, &#39;__self__&#39;)))
<span class='lineno'> 101</span>             assert AnsibleCollectionConfig.collection_finder is None
<span class='lineno'> 102</span> 
<span class='lineno'> 103</span> 
<span class='lineno'> 104</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install', title='() -> None'>test_loader_install</a>():
<span class='lineno'> 105</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_mp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_mp', title='[?]'>fake_mp</a> = [MagicMock(), _AnsibleCollectionFinder(), MagicMock(), _AnsibleCollectionFinder()]
<span class='lineno'> 106</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_ph', title='[?]'>fake_ph</a> = [MagicMock().m1, MagicMock().m2, _AnsibleCollectionFinder()._ansible_collection_path_hook, NonCallableMagicMock]
<span class='lineno'> 107</span>     # must nest until 2.6 compilation is totally donezo
<span class='lineno'> 108</span>     with patch.object(sys, &#39;meta_path&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_mp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_mp', title='[?]'>fake_mp</a>):
<span class='lineno'> 109</span>         with patch.object(sys, &#39;path_hooks&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.fake_ph', title='[?]'>fake_ph</a>):
<span class='lineno'> 110</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a> = _AnsibleCollectionFinder()
<span class='lineno'> 111</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a>._install()
<span class='lineno'> 112</span>             assert len(sys.meta_path) == 3  # should have removed the existing ACFs and installed a new one
<span class='lineno'> 113</span>             assert sys.meta_path[0] is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a>  # at the front
<span class='lineno'> 114</span>             # the rest of the meta_path should not be AnsibleCollectionFinders
<span class='lineno'> 115</span>             assert all((not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', title='{_SixMetaPathImporter | str}'>mpf</a>, _AnsibleCollectionFinder) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', title='{_SixMetaPathImporter | str}'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.mpf', title='{_SixMetaPathImporter | str}'>mpf</a></a> in sys.meta_path[1:]))
<span class='lineno'> 116</span>             assert len(sys.path_hooks) == 4  # should have removed the existing ACF path hooks and installed a new one
<span class='lineno'> 117</span>             # the first path hook should be ours, make sure it&#39;s pointing at the right instance
<span class='lineno'> 118</span>             assert hasattr(sys.path_hooks[0], &#39;__self__&#39;) and sys.path_hooks[0].__self__ is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a>
<span class='lineno'> 119</span>             # the rest of the path_hooks should not point at an AnsibleCollectionFinder
<span class='lineno'> 120</span>             assert all((not isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', title='?'>ph</a>.__self__, _AnsibleCollectionFinder) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', title='?'>ph</a></a> in sys.path_hooks[1:] if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.ph', title='?'>ph</a>, &#39;__self__&#39;)))
<span class='lineno'> 121</span>             assert AnsibleCollectionConfig.collection_finder is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a>
<span class='lineno'> 122</span>             with pytest.raises(ValueError):
<span class='lineno'> 123</span>                 AnsibleCollectionConfig.collection_finder = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_loader_install.f', title='?'>f</a>
<span class='lineno'> 124</span> 
<span class='lineno'> 125</span> 
<span class='lineno'> 126</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll', title='() -> None'>test_finder_coll</a>():
<span class='lineno'> 127</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.f', title='?'>f</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 128</span> 
<span class='lineno'> 129</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.tests', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.tests', title='[dict]'>tests</a> = [
<span class='lineno'> 130</span>         {&#39;name&#39;: &#39;ansible_collections.testns.testcoll&#39;, &#39;test_paths&#39;: [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>]},
<span class='lineno'> 131</span>         {&#39;name&#39;: &#39;ansible_collections.ansible.builtin&#39;, &#39;test_paths&#39;: [[&#39;/bogus&#39;], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>]},
<span class='lineno'> 132</span>     ]
<span class='lineno'> 133</span>     # ensure finder works for legit paths and bogus paths
<span class='lineno'> 134</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.test_dict', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.test_dict', title='dict'>test_dict</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.tests', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.tests', title='[dict]'>tests</a>:
<span class='lineno'> 135</span>         # splat the dict values to our locals
<span class='lineno'> 136</span>         globals().update(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.test_dict', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.test_dict', title='dict'>test_dict</a>)
<span class='lineno'> 137</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.parent_pkg', title='?'>parent_pkg</a> = name.rpartition(&#39;.&#39;)[0]
<span class='lineno'> 138</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', title='?'>paths</a> in test_paths:
<span class='lineno'> 139</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', title='[str]'>paths</a> = [os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', title='str'>p</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.parent_pkg', title='?'>parent_pkg</a>.replace(&#39;.&#39;, &#39;/&#39;)) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', title='[str]'>paths</a>]
<span class='lineno'> 140</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.loader', title='?'>loader</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.f', title='?'>f</a>.find_module(name, path=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.paths', title='[str]'>paths</a>)
<span class='lineno'> 141</span>             assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_coll.loader', title='?'>loader</a>, _AnsibleCollectionPkgLoader)
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span> 
<span class='lineno'> 144</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader_not_interested', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader_not_interested', title='() -> None'>test_root_loader_not_interested</a>():
<span class='lineno'> 145</span>     with pytest.raises(ImportError):
<span class='lineno'> 146</span>         _AnsibleCollectionRootPkgLoader(&#39;not_ansible_collections_toplevel&#39;, path_list=[])
<span class='lineno'> 147</span> 
<span class='lineno'> 148</span>     with pytest.raises(ImportError):
<span class='lineno'> 149</span>         _AnsibleCollectionRootPkgLoader(&#39;ansible_collections.somens&#39;, path_list=[&#39;/bogus&#39;])
<span class='lineno'> 150</span> 
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader', title='() -> None'>test_root_loader</a>():
<span class='lineno'> 153</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a> = &#39;ansible_collections&#39;
<span class='lineno'> 154</span>     # ensure this works even when ansible_collections doesn&#39;t exist on disk
<span class='lineno'> 155</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', title='{[?] | [str]}'>paths</a> in [], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>:
<span class='lineno'> 156</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a> in sys.modules:
<span class='lineno'> 157</span>             del sys.modules[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>]
<span class='lineno'> 158</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', title='?'>loader</a> = _AnsibleCollectionRootPkgLoader(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', title='{[?] | [str]}'>paths</a>)
<span class='lineno'> 159</span>         assert repr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', title='?'>loader</a>).startswith(&#39;_AnsibleCollectionRootPkgLoader(path=&#39;)
<span class='lineno'> 160</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.loader', title='?'>loader</a>.load_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>)
<span class='lineno'> 161</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a>.__name__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>
<span class='lineno'> 162</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a>.__path__ == [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', title='str'>p</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.paths', title='{[?] | [str]}'>paths</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>) if os.path.isdir(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.p', title='str'>p</a>)]
<span class='lineno'> 163</span>         # even if the dir exists somewhere, this loader doesn&#39;t support get_data, so make __file__ a non-file
<span class='lineno'> 164</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a>.__file__ == &#39;&lt;ansible_synthetic_collection_package&gt;&#39;
<span class='lineno'> 165</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a>.__package__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>
<span class='lineno'> 166</span>         assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.name', title='str'>name</a>) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_root_loader.module', title='?'>module</a>
<span class='lineno'> 167</span> 
<span class='lineno'> 168</span> 
<span class='lineno'> 169</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_not_interested', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_not_interested', title='() -> None'>test_nspkg_loader_not_interested</a>():
<span class='lineno'> 170</span>     with pytest.raises(ImportError):
<span class='lineno'> 171</span>         _AnsibleCollectionNSPkgLoader(&#39;not_ansible_collections_toplevel.something&#39;, path_list=[])
<span class='lineno'> 172</span> 
<span class='lineno'> 173</span>     with pytest.raises(ImportError):
<span class='lineno'> 174</span>         _AnsibleCollectionNSPkgLoader(&#39;ansible_collections.somens.somecoll&#39;, path_list=[])
<span class='lineno'> 175</span> 
<span class='lineno'> 176</span> 
<span class='lineno'> 177</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module', title='() -> None'>test_nspkg_loader_load_module</a>():
<span class='lineno'> 178</span>     # ensure the loader behaves on the toplevel and ansible packages for both legit and missing/bogus paths
<span class='lineno'> 179</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a> in [&#39;ansible_collections.ansible&#39;, &#39;ansible_collections.testns&#39;]:
<span class='lineno'> 180</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.parent_pkg', title='str'>parent_pkg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>.partition(&#39;.&#39;)[0]
<span class='lineno'> 181</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module_to_load', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module_to_load', title='str'>module_to_load</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>.rpartition(&#39;.&#39;)[2]
<span class='lineno'> 182</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', title='[str]'>paths</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.parent_pkg', title='str'>parent_pkg</a>)
<span class='lineno'> 183</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.existing_child_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.existing_child_paths', title='[str]'>existing_child_paths</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', title='str'>p</a> for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', title='[str]'>paths</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module_to_load', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module_to_load', title='str'>module_to_load</a>) if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.p', title='str'>p</a>)]
<span class='lineno'> 184</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a> in sys.modules:
<span class='lineno'> 185</span>             del sys.modules[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>]
<span class='lineno'> 186</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', title='?'>loader</a> = _AnsibleCollectionNSPkgLoader(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>, path_list=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.paths', title='[str]'>paths</a>)
<span class='lineno'> 187</span>         assert repr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', title='?'>loader</a>).startswith(&#39;_AnsibleCollectionNSPkgLoader(path=&#39;)
<span class='lineno'> 188</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.loader', title='?'>loader</a>.load_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>)
<span class='lineno'> 189</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>.__name__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>
<span class='lineno'> 190</span>         assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>.__loader__, _AnsibleCollectionNSPkgLoader)
<span class='lineno'> 191</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>.__path__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.existing_child_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.existing_child_paths', title='[str]'>existing_child_paths</a>
<span class='lineno'> 192</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>.__package__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>
<span class='lineno'> 193</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>.__file__ == &#39;&lt;ansible_synthetic_collection_package&gt;&#39;
<span class='lineno'> 194</span>         assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.name', title='str'>name</a>) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_nspkg_loader_load_module.module', title='?'>module</a>
<span class='lineno'> 195</span> 
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_not_interested', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_not_interested', title='() -> None'>test_collpkg_loader_not_interested</a>():
<span class='lineno'> 198</span>     with pytest.raises(ImportError):
<span class='lineno'> 199</span>         _AnsibleCollectionPkgLoader(&#39;not_ansible_collections&#39;, path_list=[])
<span class='lineno'> 200</span> 
<span class='lineno'> 201</span>     with pytest.raises(ImportError):
<span class='lineno'> 202</span>         _AnsibleCollectionPkgLoader(&#39;ansible_collections.ns&#39;, path_list=[&#39;/bogus/bogus&#39;])
<span class='lineno'> 203</span> 
<span class='lineno'> 204</span> 
<span class='lineno'> 205</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module', title='() -> None'>test_collpkg_loader_load_module</a>():
<span class='lineno'> 206</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>()
<span class='lineno'> 207</span>     with patch(&#39;ansible.utils.collection_loader.AnsibleCollectionConfig&#39;) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', title='?'>p</a>:
<span class='lineno'> 208</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a> in [&#39;ansible_collections.ansible.builtin&#39;, &#39;ansible_collections.testns.testcoll&#39;]:
<span class='lineno'> 209</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.parent_pkg', title='str'>parent_pkg</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>.rpartition(&#39;.&#39;)[0]
<span class='lineno'> 210</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module_to_load', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module_to_load', title='str'>module_to_load</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>.rpartition(&#39;.&#39;)[2]
<span class='lineno'> 211</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', title='[str]'>paths</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.parent_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.parent_pkg', title='str'>parent_pkg</a>)
<span class='lineno'> 212</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.existing_child_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.existing_child_paths', title='[str]'>existing_child_paths</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', title='str'>p</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', title='[str]'>paths</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module_to_load', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module_to_load', title='str'>module_to_load</a>) if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.p', title='str'>p</a>)]
<span class='lineno'> 213</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', title='bool'>is_builtin</a> = &#39;ansible.builtin&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>
<span class='lineno'> 214</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a> in sys.modules:
<span class='lineno'> 215</span>                 del sys.modules[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>]
<span class='lineno'> 216</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', title='?'>loader</a> = _AnsibleCollectionPkgLoader(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>, path_list=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', title='[str]'>paths</a>)
<span class='lineno'> 217</span>             assert repr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', title='?'>loader</a>).startswith(&#39;_AnsibleCollectionPkgLoader(path=&#39;)
<span class='lineno'> 218</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.loader', title='?'>loader</a>.load_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>)
<span class='lineno'> 219</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__name__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>
<span class='lineno'> 220</span>             assert isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__loader__, _AnsibleCollectionPkgLoader)
<span class='lineno'> 221</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', title='bool'>is_builtin</a>:
<span class='lineno'> 222</span>                 assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__path__ == []
<span class='lineno'> 223</span>             else:
<span class='lineno'> 224</span>                 assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__path__ == [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.existing_child_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.existing_child_paths', title='[str]'>existing_child_paths</a>[0]]
<span class='lineno'> 225</span> 
<span class='lineno'> 226</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__package__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>
<span class='lineno'> 227</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.is_builtin', title='bool'>is_builtin</a>:
<span class='lineno'> 228</span>                 assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__file__ == &#39;&lt;ansible_synthetic_collection_package&gt;&#39;
<span class='lineno'> 229</span>             else:
<span class='lineno'> 230</span>                 assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__file__.endswith(&#39;__synthetic__&#39;) and os.path.isdir(os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>.__file__))
<span class='lineno'> 231</span>             assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>
<span class='lineno'> 232</span> 
<span class='lineno'> 233</span>             assert hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>, &#39;_collection_meta&#39;) and isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>._collection_meta, dict)
<span class='lineno'> 234</span> 
<span class='lineno'> 235</span>             # FIXME: validate _collection_meta contents match what&#39;s on disk (or not)
<span class='lineno'> 236</span> 
<span class='lineno'> 237</span>             # if the module has metadata, try loading it with busted metadata
<span class='lineno'> 238</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.module', title='?'>module</a>._collection_meta:
<span class='lineno'> 239</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module._collection_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module._collection_finder', title='?'>_collection_finder</a> = import_module(&#39;ansible.utils.collection_loader._collection_finder&#39;)
<span class='lineno'> 240</span>                 with patch.object(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module._collection_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module._collection_finder', title='?'>_collection_finder</a>, &#39;_meta_yml_to_dict&#39;, side_effect=Exception(&#39;bang&#39;)):
<span class='lineno'> 241</span>                     with pytest.raises(Exception) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.ex', title='?'>ex</a>:
<span class='lineno'> 242</span>                         _AnsibleCollectionPkgLoader(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>, path_list=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.paths', title='[str]'>paths</a>).load_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.name', title='str'>name</a>)
<span class='lineno'> 243</span>                     assert &#39;error parsing collection metadata&#39; in str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collpkg_loader_load_module.ex', title='?'>ex</a>.value)
<span class='lineno'> 244</span> 
<span class='lineno'> 245</span> 
<span class='lineno'> 246</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_coll_loader', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_coll_loader', title='() -> None'>test_coll_loader</a>():
<span class='lineno'> 247</span>     with patch(&#39;ansible.utils.collection_loader.AnsibleCollectionConfig&#39;):
<span class='lineno'> 248</span>         with pytest.raises(ValueError):
<span class='lineno'> 249</span>             # not a collection
<span class='lineno'> 250</span>             _AnsibleCollectionLoader(&#39;ansible_collections&#39;)
<span class='lineno'> 251</span> 
<span class='lineno'> 252</span>         with pytest.raises(ValueError):
<span class='lineno'> 253</span>             # bogus paths
<span class='lineno'> 254</span>             _AnsibleCollectionLoader(&#39;ansible_collections.testns.testcoll&#39;, path_list=[])
<span class='lineno'> 255</span> 
<span class='lineno'> 256</span>     # FIXME: more
<span class='lineno'> 257</span> 
<span class='lineno'> 258</span> 
<span class='lineno'> 259</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup', title='() -> ?'>test_path_hook_setup</a>():
<span class='lineno'> 260</span>     with patch.object(sys, &#39;path_hooks&#39;, []):
<span class='lineno'> 261</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', title='None'>found_hook</a> = None
<span class='lineno'> 262</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', title='None'>pathhook_exc</a> = None
<span class='lineno'> 263</span>         try:
<span class='lineno'> 264</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', title='?'>found_hook</a> = _AnsiblePathHookFinder._get_filefinder_path_hook()
<span class='lineno'> 265</span>         except Exception as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.phe', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.phe', title='?'>phe</a>:
<span class='lineno'> 266</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', title='?'>pathhook_exc</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.phe', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.phe', title='?'>phe</a>
<span class='lineno'> 267</span> 
<span class='lineno'> 268</span>         if PY3:
<span class='lineno'> 269</span>             assert str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.pathhook_exc', title='?'>pathhook_exc</a>) == &#39;need exactly one FileFinder import hook (found 0)&#39;
<span class='lineno'> 270</span>         else:
<span class='lineno'> 271</span>             assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_setup.found_hook', title='?'>found_hook</a> is None
<span class='lineno'> 272</span> 
<span class='lineno'> 273</span>     assert repr(_AnsiblePathHookFinder(object(), &#39;/bogus/path&#39;)) == &quot;_AnsiblePathHookFinder(path=&#39;/bogus/path&#39;)&quot;
<span class='lineno'> 274</span> 
<span class='lineno'> 275</span> 
<span class='lineno'> 276</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror', title='() -> None'>test_path_hook_importerror</a>():
<span class='lineno'> 277</span>     # ensure that AnsiblePathHookFinder.find_module swallows ImportError from path hook delegation on Py3, eg if the delegated
<span class='lineno'> 278</span>     # path hook gets passed a file on sys.path (python36.zip)
<span class='lineno'> 279</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>()
<span class='lineno'> 280</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror.path_to_a_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror.path_to_a_file', title='str'>path_to_a_file</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[0], &#39;ansible_collections/testns/testcoll/plugins/action/my_action.py&#39;)
<span class='lineno'> 281</span>     # it&#39;s a bug if the following pops an ImportError...
<span class='lineno'> 282</span>     assert _AnsiblePathHookFinder(_AnsibleCollectionFinder(), <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror.path_to_a_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_path_hook_importerror.path_to_a_file', title='str'>path_to_a_file</a>).find_module(&#39;foo.bar.my_action&#39;) is None
<span class='lineno'> 283</span> 
<span class='lineno'> 284</span> 
<span class='lineno'> 285</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module', title='() -> None'>test_new_or_existing_module</a>():
<span class='lineno'> 286</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a> = &#39;blar.test.module&#39;
<span class='lineno'> 287</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', title='str'>pkg_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>.rpartition(&#39;.&#39;)[0]
<span class='lineno'> 288</span> 
<span class='lineno'> 289</span>     # create new module case
<span class='lineno'> 290</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>)
<span class='lineno'> 291</span>     with _AnsibleCollectionPkgLoaderBase._new_or_existing_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>, __package__=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', title='str'>pkg_name</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>:
<span class='lineno'> 292</span>         # the module we just created should now exist in sys.modules
<span class='lineno'> 293</span>         assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>
<span class='lineno'> 294</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>.__name__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>
<span class='lineno'> 295</span> 
<span class='lineno'> 296</span>     # the module should stick since we didn&#39;t raise an exception in the contextmgr
<span class='lineno'> 297</span>     assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>
<span class='lineno'> 298</span> 
<span class='lineno'> 299</span>     # reuse existing module case
<span class='lineno'> 300</span>     with _AnsibleCollectionPkgLoaderBase._new_or_existing_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>, __attr1__=42, blar=&#39;yo&#39;) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>:
<span class='lineno'> 301</span>         assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>  # should be the same module we created earlier
<span class='lineno'> 302</span>         assert hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>, &#39;__package__&#39;) and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>.__package__ == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.pkg_name', title='str'>pkg_name</a>
<span class='lineno'> 303</span>         assert hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>, &#39;__attr1__&#39;) and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>.__attr1__ == 42
<span class='lineno'> 304</span>         assert hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>, &#39;blar&#39;) and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>.blar == &#39;yo&#39;
<span class='lineno'> 305</span> 
<span class='lineno'> 306</span>     # exception during update existing shouldn&#39;t zap existing module from sys.modules
<span class='lineno'> 307</span>     with pytest.raises(ValueError) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', title='?'>ve</a>:
<span class='lineno'> 308</span>         with _AnsibleCollectionPkgLoaderBase._new_or_existing_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>:
<span class='lineno'> 309</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', title='ValueError'>err_to_raise</a> = ValueError(&#39;bang&#39;)
<span class='lineno'> 310</span>             raise err_to_raise
<span class='lineno'> 311</span>     # make sure we got our error
<span class='lineno'> 312</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', title='?'>ve</a>.value is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', title='ValueError'>err_to_raise</a>
<span class='lineno'> 313</span>     # and that the module still exists
<span class='lineno'> 314</span>     assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.existing_module', title='?'>existing_module</a>
<span class='lineno'> 315</span> 
<span class='lineno'> 316</span>     # test module removal after exception during creation
<span class='lineno'> 317</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>)
<span class='lineno'> 318</span>     with pytest.raises(ValueError) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', title='?'>ve</a>:
<span class='lineno'> 319</span>         with _AnsibleCollectionPkgLoaderBase._new_or_existing_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.new_module', title='?'>new_module</a>:
<span class='lineno'> 320</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', title='ValueError'>err_to_raise</a> = ValueError(&#39;bang&#39;)
<span class='lineno'> 321</span>             raise err_to_raise
<span class='lineno'> 322</span>     # make sure we got our error
<span class='lineno'> 323</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.ve', title='?'>ve</a>.value is <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.err_to_raise', title='ValueError'>err_to_raise</a>
<span class='lineno'> 324</span>     # and that the module was removed
<span class='lineno'> 325</span>     assert sys.modules.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_new_or_existing_module.module_name', title='str'>module_name</a>) is None
<span class='lineno'> 326</span> 
<span class='lineno'> 327</span> 
<span class='lineno'> 328</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl', title='() -> None'>test_iter_modules_impl</a>():
<span class='lineno'> 329</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a> = &#39;ansible_collections/testns/testcoll/plugins&#39;
<span class='lineno'> 330</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', title='str'>modules_pkg_prefix</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a>.replace(&#39;/&#39;, &#39;.&#39;) + &#39;.&#39;
<span class='lineno'> 331</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', title='str'>modules_path</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a>)
<span class='lineno'> 332</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a> = list(_iter_modules_impl([<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', title='str'>modules_path</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', title='str'>modules_pkg_prefix</a>))
<span class='lineno'> 333</span> 
<span class='lineno'> 334</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>
<span class='lineno'> 335</span>     assert set([(&#39;ansible_collections.testns.testcoll.plugins.action&#39;, True),
<span class='lineno'> 336</span>                 (&#39;ansible_collections.testns.testcoll.plugins.module_utils&#39;, True),
<span class='lineno'> 337</span>                 (&#39;ansible_collections.testns.testcoll.plugins.modules&#39;, True)]) == set(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>)
<span class='lineno'> 338</span> 
<span class='lineno'> 339</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a> = &#39;ansible_collections/testns/testcoll/plugins/modules&#39;
<span class='lineno'> 340</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', title='str'>modules_pkg_prefix</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a>.replace(&#39;/&#39;, &#39;.&#39;) + &#39;.&#39;
<span class='lineno'> 341</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', title='str'>modules_path</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_trailer', title='str'>modules_trailer</a>)
<span class='lineno'> 342</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a> = list(_iter_modules_impl([<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_path', title='str'>modules_path</a>], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules_pkg_prefix', title='str'>modules_pkg_prefix</a>))
<span class='lineno'> 343</span> 
<span class='lineno'> 344</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>
<span class='lineno'> 345</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>) == 1
<span class='lineno'> 346</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>[0][0] == &#39;ansible_collections.testns.testcoll.plugins.modules.amodule&#39;  # name
<span class='lineno'> 347</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_impl.modules', title='list'>modules</a>[0][1] is False  # is_pkg
<span class='lineno'> 348</span> 
<span class='lineno'> 349</span>     # FIXME: more
<span class='lineno'> 350</span> 
<span class='lineno'> 351</span> 
<span class='lineno'> 352</span> # BEGIN IN-CIRCUIT TESTS - these exercise behaviors of the loader when wired up to the import machinery
<span class='lineno'> 353</span> 
<span class='lineno'> 354</span> 
<span class='lineno'> 355</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection', title='? -> ?'>test_import_from_collection</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.monkeypatch', title='?'>monkeypatch</a>):
<span class='lineno'> 356</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', title='str'>collection_root</a> = os.path.join(os.path.dirname(__file__), &#39;fixtures&#39;, &#39;collections&#39;)
<span class='lineno'> 357</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', title='str'>collection_path</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', title='str'>collection_root</a>, &#39;ansible_collections/testns/testcoll/plugins/module_utils/my_util.py&#39;)
<span class='lineno'> 358</span> 
<span class='lineno'> 359</span>     # THIS IS UNSTABLE UNDER A DEBUGGER
<span class='lineno'> 360</span>     # the trace we&#39;re expecting to be generated when running the code below:
<span class='lineno'> 361</span>     # answer = question()
<span class='lineno'> 362</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.expected_trace_log', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.expected_trace_log', title='[(str, int, str)]'>expected_trace_log</a> = [
<span class='lineno'> 363</span>         (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', title='str'>collection_path</a>, 5, &#39;call&#39;),
<span class='lineno'> 364</span>         (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', title='str'>collection_path</a>, 6, &#39;line&#39;),
<span class='lineno'> 365</span>         (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_path', title='str'>collection_path</a>, 6, &#39;return&#39;),
<span class='lineno'> 366</span>     ]
<span class='lineno'> 367</span> 
<span class='lineno'> 368</span>     # define the collection root before any ansible code has been loaded
<span class='lineno'> 369</span>     # otherwise config will have already been loaded and changing the environment will have no effect
<span class='lineno'> 370</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.monkeypatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.monkeypatch', title='?'>monkeypatch</a>.setenv(&#39;ANSIBLE_COLLECTIONS_PATH&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', title='str'>collection_root</a>)
<span class='lineno'> 371</span> 
<span class='lineno'> 372</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.finder', title='?'>finder</a> = _AnsibleCollectionFinder(paths=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.collection_root', title='str'>collection_root</a>])
<span class='lineno'> 373</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.finder', title='?'>finder</a>)
<span class='lineno'> 374</span> 
<span class='lineno'> 375</span>     from ansible_collections.testns.testcoll.plugins.module_utils.my_util import question
<span class='lineno'> 376</span> 
<span class='lineno'> 377</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', title='?'>original_trace_function</a> = sys.gettrace()
<span class='lineno'> 378</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', title='[(?, ?, ?)]'>trace_log</a> = []
<span class='lineno'> 379</span> 
<span class='lineno'> 380</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', title='?'>original_trace_function</a>:
<span class='lineno'> 381</span>         # enable tracing while preserving the existing trace function (coverage)
<span class='lineno'> 382</span>         def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', title='(?, ?, ?) -> #1=#1: '>my_trace_function</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', title='?'>frame</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', title='?'>event</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.arg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.arg', title='?'>arg</a>):
<span class='lineno'> 383</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', title='[(?, ?, ?)]'>trace_log</a>.append((<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', title='?'>frame</a>.f_code.co_filename, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', title='?'>frame</a>.f_lineno, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', title='?'>event</a>))
<span class='lineno'> 384</span> 
<span class='lineno'> 385</span>             # the original trace function expects to have itself set as the trace function
<span class='lineno'> 386</span>             sys.settrace(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', title='?'>original_trace_function</a>)
<span class='lineno'> 387</span>             # call the original trace function
<span class='lineno'> 388</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', title='?'>original_trace_function</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.frame', title='?'>frame</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.event', title='?'>event</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.arg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function.arg', title='?'>arg</a>)
<span class='lineno'> 389</span>             # restore our trace function
<span class='lineno'> 390</span>             sys.settrace(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', title='(?, ?, ?) -> #1=#1: '>my_trace_function</a>)
<span class='lineno'> 391</span> 
<span class='lineno'> 392</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', title='(?, ?, ?) -> #1=#1: '>my_trace_function</a>
<span class='lineno'> 393</span>     else:
<span class='lineno'> 394</span>         # no existing trace function, so our trace function is much simpler
<span class='lineno'> 395</span>         def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', title='? -> ?'>my_trace_function</a>(frame, event, arg):
<span class='lineno'> 396</span>             trace_log.append((frame.f_code.co_filename, frame.f_lineno, event))
<span class='lineno'> 397</span> 
<span class='lineno'> 398</span>             return my_trace_function
<span class='lineno'> 399</span> 
<span class='lineno'> 400</span>     sys.settrace(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.my_trace_function', title='(?, ?, ?) -> #1=#1: '>my_trace_function</a>)
<span class='lineno'> 401</span> 
<span class='lineno'> 402</span>     try:
<span class='lineno'> 403</span>         # run a minimal amount of code while the trace is running
<span class='lineno'> 404</span>         # adding more code here, including use of a context manager, will add more to our trace
<span class='lineno'> 405</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', title='?'>answer</a> = question()
<span class='lineno'> 406</span>     finally:
<span class='lineno'> 407</span>         sys.settrace(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.original_trace_function', title='?'>original_trace_function</a>)
<span class='lineno'> 408</span> 
<span class='lineno'> 409</span>     # make sure &#39;import ... as ...&#39; works on builtin synthetic collections
<span class='lineno'> 410</span>     # the following import is not supported (it tries to find module_utils in ansible.plugins)
<span class='lineno'> 411</span>     # import ansible_collections.ansible.builtin.plugins.module_utils as c1
<span class='lineno'> 412</span>     import ansible_collections.ansible.builtin.plugins.action as c2
<span class='lineno'> 413</span>     import ansible_collections.ansible.builtin.plugins as c3
<span class='lineno'> 414</span>     import ansible_collections.ansible.builtin as c4
<span class='lineno'> 415</span>     import ansible_collections.ansible as c5
<span class='lineno'> 416</span>     import ansible_collections as c6
<span class='lineno'> 417</span> 
<span class='lineno'> 418</span>     # make sure &#39;import ...&#39; works on builtin synthetic collections
<span class='lineno'> 419</span>     import ansible_collections.ansible.builtin.plugins.module_utils
<span class='lineno'> 420</span> 
<span class='lineno'> 421</span>     import ansible_collections.ansible.builtin.plugins.action
<span class='lineno'> 422</span>     assert ansible_collections.ansible.builtin.plugins.action == c3.action == c2
<span class='lineno'> 423</span> 
<span class='lineno'> 424</span>     import ansible_collections.ansible.builtin.plugins
<span class='lineno'> 425</span>     assert ansible_collections.ansible.builtin.plugins == c4.plugins == c3
<span class='lineno'> 426</span> 
<span class='lineno'> 427</span>     import ansible_collections.ansible.builtin
<span class='lineno'> 428</span>     assert ansible_collections.ansible.builtin == c5.builtin == c4
<span class='lineno'> 429</span> 
<span class='lineno'> 430</span>     import ansible_collections.ansible
<span class='lineno'> 431</span>     assert ansible_collections.ansible == c6.ansible == c5
<span class='lineno'> 432</span> 
<span class='lineno'> 433</span>     import ansible_collections
<span class='lineno'> 434</span>     assert ansible_collections == c6
<span class='lineno'> 435</span> 
<span class='lineno'> 436</span>     # make sure &#39;from ... import ...&#39; works on builtin synthetic collections
<span class='lineno'> 437</span>     from ansible_collections.ansible import builtin
<span class='lineno'> 438</span>     from ansible_collections.ansible.builtin import plugins
<span class='lineno'> 439</span>     assert builtin.plugins == plugins
<span class='lineno'> 440</span> 
<span class='lineno'> 441</span>     from ansible_collections.ansible.builtin.plugins import action
<span class='lineno'> 442</span>     from ansible_collections.ansible.builtin.plugins.action import command
<span class='lineno'> 443</span>     assert action.command == command
<span class='lineno'> 444</span> 
<span class='lineno'> 445</span>     from ansible_collections.ansible.builtin.plugins.module_utils import basic
<span class='lineno'> 446</span>     from ansible_collections.ansible.builtin.plugins.module_utils.basic import AnsibleModule
<span class='lineno'> 447</span>     assert basic.AnsibleModule == AnsibleModule
<span class='lineno'> 448</span> 
<span class='lineno'> 449</span>     # make sure relative imports work from collections code
<span class='lineno'> 450</span>     # these require __package__ to be set correctly
<span class='lineno'> 451</span>     import ansible_collections.testns.testcoll.plugins.module_utils.my_other_util
<span class='lineno'> 452</span>     import ansible_collections.testns.testcoll.plugins.action.my_action
<span class='lineno'> 453</span> 
<span class='lineno'> 454</span>     # verify that code loaded from a collection does not inherit __future__ statements from the collection loader
<span class='lineno'> 455</span>     if sys.version_info[0] == 2:
<span class='lineno'> 456</span>         # if the collection code inherits the division future feature from the collection loader this will fail
<span class='lineno'> 457</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', title='?'>answer</a> == 1
<span class='lineno'> 458</span>     else:
<span class='lineno'> 459</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.answer', title='?'>answer</a> == 1.5
<span class='lineno'> 460</span> 
<span class='lineno'> 461</span>     # verify that the filename and line number reported by the trace is correct
<span class='lineno'> 462</span>     # this makes sure that collection loading preserves file paths and line numbers
<span class='lineno'> 463</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.trace_log', title='[(?, ?, ?)]'>trace_log</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.expected_trace_log', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_import_from_collection.expected_trace_log', title='[(str, int, str)]'>expected_trace_log</a>
<span class='lineno'> 464</span> 
<span class='lineno'> 465</span> 
<span class='lineno'> 466</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource', title='() -> None'>test_eventsource</a>():
<span class='lineno'> 467</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a> = _EventSource()
<span class='lineno'> 468</span>     # fire when empty should succeed
<span class='lineno'> 469</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(42)
<span class='lineno'> 470</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a> = MagicMock()
<span class='lineno'> 471</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a> = MagicMock()
<span class='lineno'> 472</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>
<span class='lineno'> 473</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(99, my_kwarg=&#39;blah&#39;)
<span class='lineno'> 474</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.assert_called_with(99, my_kwarg=&#39;blah&#39;)
<span class='lineno'> 475</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>
<span class='lineno'> 476</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(123, foo=&#39;bar&#39;)
<span class='lineno'> 477</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.assert_called_with(123, foo=&#39;bar&#39;)
<span class='lineno'> 478</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>.assert_called_with(123, foo=&#39;bar&#39;)
<span class='lineno'> 479</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> -= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>
<span class='lineno'> 480</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.reset_mock()
<span class='lineno'> 481</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>.reset_mock()
<span class='lineno'> 482</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(123, foo=&#39;bar&#39;)
<span class='lineno'> 483</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.assert_called_with(123, foo=&#39;bar&#39;)
<span class='lineno'> 484</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>.assert_not_called()
<span class='lineno'> 485</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> -= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>
<span class='lineno'> 486</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.reset_mock()
<span class='lineno'> 487</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(&#39;blah&#39;, kwarg=None)
<span class='lineno'> 488</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>.assert_not_called()
<span class='lineno'> 489</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler2', title='?'>handler2</a>.assert_not_called()
<span class='lineno'> 490</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> -= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler1', title='?'>handler1</a>  # should succeed silently
<span class='lineno'> 491</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', title='?'>handler_bang</a> = MagicMock(side_effect=Exception(&#39;bang&#39;))
<span class='lineno'> 492</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', title='?'>handler_bang</a>
<span class='lineno'> 493</span>     with pytest.raises(Exception) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.ex', title='?'>ex</a>:
<span class='lineno'> 494</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a>.fire(123)
<span class='lineno'> 495</span>     assert &#39;bang&#39; in str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.ex', title='?'>ex</a>.value)
<span class='lineno'> 496</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.handler_bang', title='?'>handler_bang</a>.assert_called_with(123)
<span class='lineno'> 497</span>     with pytest.raises(ValueError):
<span class='lineno'> 498</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_eventsource.es', title='?'>es</a></a> += 42
<span class='lineno'> 499</span> 
<span class='lineno'> 500</span> 
<span class='lineno'> 501</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load', title='() -> None'>test_on_collection_load</a>():
<span class='lineno'> 502</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 503</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', title='?'>finder</a>)
<span class='lineno'> 504</span> 
<span class='lineno'> 505</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', title='?'>load_handler</a> = MagicMock()
<span class='lineno'> 506</span>     AnsibleCollectionConfig.on_collection_load += <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', title='?'>load_handler</a>
<span class='lineno'> 507</span> 
<span class='lineno'> 508</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.m', title='?'>m</a> = import_module(&#39;ansible_collections.testns.testcoll&#39;)
<span class='lineno'> 509</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.load_handler', title='?'>load_handler</a>.assert_called_once_with(collection_name=&#39;testns.testcoll&#39;, collection_path=os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.m', title='?'>m</a>.__file__))
<span class='lineno'> 510</span> 
<span class='lineno'> 511</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load._meta', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load._meta', title='?'>_meta</a> = _get_collection_metadata(&#39;testns.testcoll&#39;)
<span class='lineno'> 512</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load._meta', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load._meta', title='?'>_meta</a>
<span class='lineno'> 513</span>     # FIXME: compare to disk
<span class='lineno'> 514</span> 
<span class='lineno'> 515</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 516</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.finder', title='?'>finder</a>)
<span class='lineno'> 517</span> 
<span class='lineno'> 518</span>     AnsibleCollectionConfig.on_collection_load += MagicMock(side_effect=Exception(&#39;bang&#39;))
<span class='lineno'> 519</span>     with pytest.raises(Exception) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.ex', title='?'>ex</a>:
<span class='lineno'> 520</span>         import_module(&#39;ansible_collections.testns.testcoll&#39;)
<span class='lineno'> 521</span>     assert &#39;bang&#39; in str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.ex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_on_collection_load.ex', title='?'>ex</a>.value)
<span class='lineno'> 522</span> 
<span class='lineno'> 523</span> 
<span class='lineno'> 524</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config', title='() -> None'>test_default_collection_config</a>():
<span class='lineno'> 525</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 526</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_config.finder', title='?'>finder</a>)
<span class='lineno'> 527</span>     assert AnsibleCollectionConfig.default_collection is None
<span class='lineno'> 528</span>     AnsibleCollectionConfig.default_collection = &#39;foo.bar&#39;
<span class='lineno'> 529</span>     assert AnsibleCollectionConfig.default_collection == &#39;foo.bar&#39;
<span class='lineno'> 530</span>     with pytest.raises(ValueError):
<span class='lineno'> 531</span>         AnsibleCollectionConfig.default_collection = &#39;bar.baz&#39;
<span class='lineno'> 532</span> 
<span class='lineno'> 533</span> 
<span class='lineno'> 534</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection', title='() -> None'>test_default_collection_detection</a>():
<span class='lineno'> 535</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 536</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.finder', title='?'>finder</a>)
<span class='lineno'> 537</span> 
<span class='lineno'> 538</span>     # we&#39;re clearly not under a collection path
<span class='lineno'> 539</span>     assert _get_collection_name_from_path(&#39;/&#39;) is None
<span class='lineno'> 540</span> 
<span class='lineno'> 541</span>     # something that looks like a collection path but isn&#39;t importable by our finder
<span class='lineno'> 542</span>     assert _get_collection_name_from_path(&#39;/foo/ansible_collections/bogusns/boguscoll/bar&#39;) is None
<span class='lineno'> 543</span> 
<span class='lineno'> 544</span>     # legit, at the top of the collection
<span class='lineno'> 545</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', title='str'>live_collection_path</a> = os.path.join(os.path.dirname(__file__), &#39;fixtures/collections/ansible_collections/testns/testcoll&#39;)
<span class='lineno'> 546</span>     assert _get_collection_name_from_path(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', title='str'>live_collection_path</a>) == &#39;testns.testcoll&#39;
<span class='lineno'> 547</span> 
<span class='lineno'> 548</span>     # legit, deeper inside the collection
<span class='lineno'> 549</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_deep_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_deep_path', title='str'>live_collection_deep_path</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_path', title='str'>live_collection_path</a>, &#39;plugins/modules&#39;)
<span class='lineno'> 550</span>     assert _get_collection_name_from_path(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_deep_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.live_collection_deep_path', title='str'>live_collection_deep_path</a>) == &#39;testns.testcoll&#39;
<span class='lineno'> 551</span> 
<span class='lineno'> 552</span>     # this one should be hidden by the real testns.testcoll, so should not resolve
<span class='lineno'> 553</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.masked_collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.masked_collection_path', title='str'>masked_collection_path</a> = os.path.join(os.path.dirname(__file__), &#39;fixtures/collections_masked/ansible_collections/testns/testcoll&#39;)
<span class='lineno'> 554</span>     assert _get_collection_name_from_path(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.masked_collection_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_default_collection_detection.masked_collection_path', title='str'>masked_collection_path</a>) is None
<span class='lineno'> 555</span> 
<span class='lineno'> 556</span> 
<span class='lineno'> 557</span> @pytest.mark.parametrize(
<span class='lineno'> 558</span>     &#39;role_name,collection_list,expected_collection_name,expected_path_suffix&#39;,
<span class='lineno'> 559</span>     [
<span class='lineno'> 560</span>         (&#39;some_role&#39;, [&#39;testns.testcoll&#39;, &#39;ansible.bogus&#39;], &#39;testns.testcoll&#39;, &#39;testns/testcoll/roles/some_role&#39;),
<span class='lineno'> 561</span>         (&#39;testns.testcoll.some_role&#39;, [&#39;ansible.bogus&#39;, &#39;testns.testcoll&#39;], &#39;testns.testcoll&#39;, &#39;testns/testcoll/roles/some_role&#39;),
<span class='lineno'> 562</span>         (&#39;testns.testcoll.some_role&#39;, [], &#39;testns.testcoll&#39;, &#39;testns/testcoll/roles/some_role&#39;),
<span class='lineno'> 563</span>         (&#39;testns.testcoll.some_role&#39;, None, &#39;testns.testcoll&#39;, &#39;testns/testcoll/roles/some_role&#39;),
<span class='lineno'> 564</span>         (&#39;some_role&#39;, [], None, None),
<span class='lineno'> 565</span>         (&#39;some_role&#39;, None, None, None),
<span class='lineno'> 566</span>     ])
<span class='lineno'> 567</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location', title='(?, ?, ?, ?) -> None'>test_collection_role_name_location</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', title='?'>role_name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.collection_list', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.collection_list', title='?'>collection_list</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', title='?'>expected_collection_name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', title='?'>expected_path_suffix</a>):
<span class='lineno'> 568</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 569</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.finder', title='?'>finder</a>)
<span class='lineno'> 570</span> 
<span class='lineno'> 571</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', title='None'>expected_path</a> = None
<span class='lineno'> 572</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', title='?'>expected_path_suffix</a>:
<span class='lineno'> 573</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', title='str'>expected_path</a> = os.path.join(os.path.dirname(__file__), &#39;fixtures/collections/ansible_collections&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', title='?'>expected_path_suffix</a>)
<span class='lineno'> 574</span> 
<span class='lineno'> 575</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', title='?'>found</a> = _get_collection_role_path(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', title='?'>role_name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.collection_list', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.collection_list', title='?'>collection_list</a>)
<span class='lineno'> 576</span> 
<span class='lineno'> 577</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', title='?'>found</a>:
<span class='lineno'> 578</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', title='?'>found</a>[0] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.role_name', title='?'>role_name</a>.rpartition(&#39;.&#39;)[2]
<span class='lineno'> 579</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', title='?'>found</a>[1] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path', title='str'>expected_path</a>
<span class='lineno'> 580</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.found', title='?'>found</a>[2] == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', title='?'>expected_collection_name</a>
<span class='lineno'> 581</span>     else:
<span class='lineno'> 582</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_collection_name', title='?'>expected_collection_name</a> is None and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_role_name_location.expected_path_suffix', title='?'>expected_path_suffix</a> is None
<span class='lineno'> 583</span> 
<span class='lineno'> 584</span> 
<span class='lineno'> 585</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports', title='() -> None'>test_bogus_imports</a>():
<span class='lineno'> 586</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 587</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.finder', title='?'>finder</a>)
<span class='lineno'> 588</span> 
<span class='lineno'> 589</span>     # ensure ImportError on known-bogus imports
<span class='lineno'> 590</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_imports', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_imports', title='[str]'>bogus_imports</a> = [&#39;bogus_toplevel&#39;, &#39;ansible_collections.bogusns&#39;, &#39;ansible_collections.testns.boguscoll&#39;,
<span class='lineno'> 591</span>                      &#39;ansible_collections.testns.testcoll.bogussub&#39;, &#39;ansible_collections.ansible.builtin.bogussub&#39;]
<span class='lineno'> 592</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_import', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_import', title='str'>bogus_import</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_imports', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_imports', title='[str]'>bogus_imports</a>:
<span class='lineno'> 593</span>         with pytest.raises(ImportError):
<span class='lineno'> 594</span>             import_module(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_import', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_bogus_imports.bogus_import', title='str'>bogus_import</a>)
<span class='lineno'> 595</span> 
<span class='lineno'> 596</span> 
<span class='lineno'> 597</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths', title='() -> None'>test_finder_playbook_paths</a>():
<span class='lineno'> 598</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 599</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.finder', title='?'>finder</a>)
<span class='lineno'> 600</span> 
<span class='lineno'> 601</span>     import ansible_collections
<span class='lineno'> 602</span>     import ansible_collections.ansible
<span class='lineno'> 603</span>     import ansible_collections.testns
<span class='lineno'> 604</span> 
<span class='lineno'> 605</span>     # ensure the package modules look like we expect
<span class='lineno'> 606</span>     assert hasattr(ansible_collections, &#39;__path__&#39;) and len(ansible_collections.__path__) &gt; 0
<span class='lineno'> 607</span>     assert hasattr(ansible_collections.ansible, &#39;__path__&#39;) and len(ansible_collections.ansible.__path__) &gt; 0
<span class='lineno'> 608</span>     assert hasattr(ansible_collections.testns, &#39;__path__&#39;) and len(ansible_collections.testns.__path__) &gt; 0
<span class='lineno'> 609</span> 
<span class='lineno'> 610</span>     # these shouldn&#39;t be visible yet, since we haven&#39;t added the playbook dir
<span class='lineno'> 611</span>     with pytest.raises(ImportError):
<span class='lineno'> 612</span>         import ansible_collections.ansible.playbook_adj_other
<span class='lineno'> 613</span> 
<span class='lineno'> 614</span>     with pytest.raises(ImportError):
<span class='lineno'> 615</span>         import ansible_collections.testns.playbook_adj_other
<span class='lineno'> 616</span> 
<span class='lineno'> 617</span>     assert AnsibleCollectionConfig.playbook_paths == []
<span class='lineno'> 618</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', title='str'>playbook_path_fixture_dir</a> = os.path.join(os.path.dirname(__file__), &#39;fixtures/playbook_path&#39;)
<span class='lineno'> 619</span> 
<span class='lineno'> 620</span>     # configure the playbook paths
<span class='lineno'> 621</span>     AnsibleCollectionConfig.playbook_paths = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', title='str'>playbook_path_fixture_dir</a>]
<span class='lineno'> 622</span> 
<span class='lineno'> 623</span>     # playbook paths go to the front of the line
<span class='lineno'> 624</span>     assert AnsibleCollectionConfig.collection_paths[0] == os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', title='str'>playbook_path_fixture_dir</a>, &#39;collections&#39;)
<span class='lineno'> 625</span> 
<span class='lineno'> 626</span>     # playbook paths should be updated on the existing root ansible_collections path, as well as on the &#39;ansible&#39; namespace (but no others!)
<span class='lineno'> 627</span>     assert ansible_collections.__path__[0] == os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', title='str'>playbook_path_fixture_dir</a>, &#39;collections/ansible_collections&#39;)
<span class='lineno'> 628</span>     assert ansible_collections.ansible.__path__[0] == os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.playbook_path_fixture_dir', title='str'>playbook_path_fixture_dir</a>, &#39;collections/ansible_collections/ansible&#39;)
<span class='lineno'> 629</span>     assert all(&#39;playbook_path&#39; not in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', title='?'>p</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_finder_playbook_paths.p', title='?'>p</a></a> in ansible_collections.testns.__path__)
<span class='lineno'> 630</span> 
<span class='lineno'> 631</span>     # should succeed since we fixed up the package path
<span class='lineno'> 632</span>     import ansible_collections.ansible.playbook_adj_other
<span class='lineno'> 633</span>     # should succeed since we didn&#39;t import freshns before hacking in the path
<span class='lineno'> 634</span>     import ansible_collections.freshns.playbook_adj_other
<span class='lineno'> 635</span>     # should fail since we&#39;ve already imported something from this path and didn&#39;t fix up its package path
<span class='lineno'> 636</span>     with pytest.raises(ImportError):
<span class='lineno'> 637</span>         import ansible_collections.testns.playbook_adj_other
<span class='lineno'> 638</span> 
<span class='lineno'> 639</span> 
<span class='lineno'> 640</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules', title='() -> None'>test_toplevel_iter_modules</a>():
<span class='lineno'> 641</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 642</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.finder', title='?'>finder</a>)
<span class='lineno'> 643</span> 
<span class='lineno'> 644</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', title='list'>modules</a> = list(pkgutil.iter_modules(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>, &#39;&#39;))
<span class='lineno'> 645</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', title='list'>modules</a>) == 1
<span class='lineno'> 646</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_toplevel_iter_modules.modules', title='list'>modules</a>[0][1] == &#39;ansible_collections&#39;
<span class='lineno'> 647</span> 
<span class='lineno'> 648</span> 
<span class='lineno'> 649</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces', title='() -> None'>test_iter_modules_namespaces</a>():
<span class='lineno'> 650</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 651</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.finder', title='?'>finder</a>)
<span class='lineno'> 652</span> 
<span class='lineno'> 653</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.paths', title='[str]'>paths</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>, &#39;ansible_collections&#39;)
<span class='lineno'> 654</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', title='list'>modules</a> = list(pkgutil.iter_modules(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.paths', title='[str]'>paths</a>, &#39;ansible_collections.&#39;))
<span class='lineno'> 655</span>     assert len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', title='list'>modules</a>) == 2
<span class='lineno'> 656</span>     assert all(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a>[2] is True for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', title='list'>modules</a>)
<span class='lineno'> 657</span>     assert all(isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a>[0], _AnsiblePathHookFinder) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', title='list'>modules</a>)
<span class='lineno'> 658</span>     assert set([&#39;ansible_collections.testns&#39;, &#39;ansible_collections.ansible&#39;]) == set(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a>[1] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.m', title='<list>'>m</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_iter_modules_namespaces.modules', title='list'>modules</a>)
<span class='lineno'> 659</span> 
<span class='lineno'> 660</span> 
<span class='lineno'> 661</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data', title='() -> None'>test_collection_get_data</a>():
<span class='lineno'> 662</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.finder', title='?'>finder</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>()
<span class='lineno'> 663</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.finder', title='?'>finder</a>)
<span class='lineno'> 664</span> 
<span class='lineno'> 665</span>     # something that&#39;s there
<span class='lineno'> 666</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', title='?'>d</a> = pkgutil.get_data(&#39;ansible_collections.testns.testcoll&#39;, &#39;plugins/action/my_action.py&#39;)
<span class='lineno'> 667</span>     assert b&#39;hello from my_action.py&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', title='?'>d</a>
<span class='lineno'> 668</span> 
<span class='lineno'> 669</span>     # something that&#39;s not there
<span class='lineno'> 670</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', title='?'>d</a> = pkgutil.get_data(&#39;ansible_collections.testns.testcoll&#39;, &#39;bogus/bogus&#39;)
<span class='lineno'> 671</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', title='?'>d</a> is None
<span class='lineno'> 672</span> 
<span class='lineno'> 673</span>     with pytest.raises(ValueError):
<span class='lineno'> 674</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.plugins_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.plugins_pkg', title='?'>plugins_pkg</a> = import_module(&#39;ansible_collections.ansible.builtin&#39;)
<span class='lineno'> 675</span>         assert not os.path.exists(os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.plugins_pkg', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.plugins_pkg', title='?'>plugins_pkg</a>.__file__))
<span class='lineno'> 676</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collection_get_data.d', title='?'>d</a> = pkgutil.get_data(&#39;ansible_collections.ansible.builtin&#39;, &#39;plugins/connection/local.py&#39;)
<span class='lineno'> 677</span> 
<span class='lineno'> 678</span> 
<span class='lineno'> 679</span> @pytest.mark.parametrize(
<span class='lineno'> 680</span>     &#39;ref,ref_type,expected_collection,expected_subdirs,expected_resource,expected_python_pkg_name&#39;,
<span class='lineno'> 681</span>     [
<span class='lineno'> 682</span>         (&#39;ns.coll.myaction&#39;, &#39;action&#39;, &#39;ns.coll&#39;, &#39;&#39;, &#39;myaction&#39;, &#39;ansible_collections.ns.coll.plugins.action&#39;),
<span class='lineno'> 683</span>         (&#39;ns.coll.subdir1.subdir2.myaction&#39;, &#39;action&#39;, &#39;ns.coll&#39;, &#39;subdir1.subdir2&#39;, &#39;myaction&#39;, &#39;ansible_collections.ns.coll.plugins.action.subdir1.subdir2&#39;),
<span class='lineno'> 684</span>         (&#39;ns.coll.myrole&#39;, &#39;role&#39;, &#39;ns.coll&#39;, &#39;&#39;, &#39;myrole&#39;, &#39;ansible_collections.ns.coll.roles.myrole&#39;),
<span class='lineno'> 685</span>         (&#39;ns.coll.subdir1.subdir2.myrole&#39;, &#39;role&#39;, &#39;ns.coll&#39;, &#39;subdir1.subdir2&#39;, &#39;myrole&#39;, &#39;ansible_collections.ns.coll.roles.subdir1.subdir2.myrole&#39;),
<span class='lineno'> 686</span>     ])
<span class='lineno'> 687</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid', title='(?, ?, ?, ?, ?, ?) -> None'>test_fqcr_parsing_valid</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', title='?'>ref</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', title='?'>ref_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', title='?'>expected_collection</a>,
<span class='lineno'> 688</span>                             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', title='?'>expected_subdirs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', title='?'>expected_resource</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', title='?'>expected_python_pkg_name</a>):
<span class='lineno'> 689</span>     assert AnsibleCollectionRef.is_valid_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 690</span> 
<span class='lineno'> 691</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a> = AnsibleCollectionRef.from_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 692</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.collection == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', title='?'>expected_collection</a>
<span class='lineno'> 693</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.subdirs == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', title='?'>expected_subdirs</a>
<span class='lineno'> 694</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.resource == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', title='?'>expected_resource</a>
<span class='lineno'> 695</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.n_python_package_name == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', title='?'>expected_python_pkg_name</a>
<span class='lineno'> 696</span> 
<span class='lineno'> 697</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a> = AnsibleCollectionRef.try_parse_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 698</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.collection == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_collection', title='?'>expected_collection</a>
<span class='lineno'> 699</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.subdirs == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_subdirs', title='?'>expected_subdirs</a>
<span class='lineno'> 700</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.resource == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_resource', title='?'>expected_resource</a>
<span class='lineno'> 701</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.r', title='?'>r</a>.n_python_package_name == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_valid.expected_python_pkg_name', title='?'>expected_python_pkg_name</a>
<span class='lineno'> 702</span> 
<span class='lineno'> 703</span> 
<span class='lineno'> 704</span> @pytest.mark.parametrize(
<span class='lineno'> 705</span>     &#39;ref,ref_type,expected_error_type,expected_error_expression&#39;,
<span class='lineno'> 706</span>     [
<span class='lineno'> 707</span>         (&#39;no_dots_at_all_action&#39;, &#39;action&#39;, ValueError, &#39;is not a valid collection reference&#39;),
<span class='lineno'> 708</span>         (&#39;no_nscoll.myaction&#39;, &#39;action&#39;, ValueError, &#39;is not a valid collection reference&#39;),
<span class='lineno'> 709</span>         (&#39;ns.coll.myaction&#39;, &#39;bogus&#39;, ValueError, &#39;invalid collection ref_type&#39;),
<span class='lineno'> 710</span>     ])
<span class='lineno'> 711</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid', title='(?, ?, ?, ?) -> None'>test_fqcr_parsing_invalid</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', title='?'>ref</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', title='?'>ref_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_type', title='?'>expected_error_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_expression', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_expression', title='?'>expected_error_expression</a>):
<span class='lineno'> 712</span>     assert not AnsibleCollectionRef.is_valid_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 713</span> 
<span class='lineno'> 714</span>     with pytest.raises(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_type', title='?'>expected_error_type</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.curerr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.curerr', title='?'>curerr</a>:
<span class='lineno'> 715</span>         AnsibleCollectionRef.from_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 716</span> 
<span class='lineno'> 717</span>     assert re.search(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_expression', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.expected_error_expression', title='?'>expected_error_expression</a>, str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.curerr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.curerr', title='?'>curerr</a>.value))
<span class='lineno'> 718</span> 
<span class='lineno'> 719</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.r', title='?'>r</a> = AnsibleCollectionRef.try_parse_fqcr(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref', title='?'>ref</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 720</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.r', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_fqcr_parsing_invalid.r', title='?'>r</a> is None
<span class='lineno'> 721</span> 
<span class='lineno'> 722</span> 
<span class='lineno'> 723</span> @pytest.mark.parametrize(
<span class='lineno'> 724</span>     &#39;name,subdirs,resource,ref_type,python_pkg_name&#39;,
<span class='lineno'> 725</span>     [
<span class='lineno'> 726</span>         (&#39;ns.coll&#39;, None, &#39;res&#39;, &#39;doc_fragments&#39;, &#39;ansible_collections.ns.coll.plugins.doc_fragments&#39;),
<span class='lineno'> 727</span>         (&#39;ns.coll&#39;, &#39;subdir1&#39;, &#39;res&#39;, &#39;doc_fragments&#39;, &#39;ansible_collections.ns.coll.plugins.doc_fragments.subdir1&#39;),
<span class='lineno'> 728</span>         (&#39;ns.coll&#39;, &#39;subdir1.subdir2&#39;, &#39;res&#39;, &#39;action&#39;, &#39;ansible_collections.ns.coll.plugins.action.subdir1.subdir2&#39;),
<span class='lineno'> 729</span>     ])
<span class='lineno'> 730</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid', title='(?, ?, ?, ?, ?) -> None'>test_collectionref_components_valid</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', title='?'>name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', title='?'>subdirs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', title='?'>resource</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', title='?'>ref_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.python_pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.python_pkg_name', title='?'>python_pkg_name</a>):
<span class='lineno'> 731</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a> = AnsibleCollectionRef(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', title='?'>name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', title='?'>subdirs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', title='?'>resource</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 732</span> 
<span class='lineno'> 733</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.collection == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.name', title='?'>name</a>
<span class='lineno'> 734</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', title='?'>subdirs</a>:
<span class='lineno'> 735</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.subdirs == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.subdirs', title='?'>subdirs</a>
<span class='lineno'> 736</span>     else:
<span class='lineno'> 737</span>         assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.subdirs == &#39;&#39;
<span class='lineno'> 738</span> 
<span class='lineno'> 739</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.resource == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.resource', title='?'>resource</a>
<span class='lineno'> 740</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.ref_type == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.ref_type', title='?'>ref_type</a>
<span class='lineno'> 741</span>     assert <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.x', title='?'>x</a>.n_python_package_name == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.python_pkg_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_valid.python_pkg_name', title='?'>python_pkg_name</a>
<span class='lineno'> 742</span> 
<span class='lineno'> 743</span> 
<span class='lineno'> 744</span> @pytest.mark.parametrize(
<span class='lineno'> 745</span>     &#39;dirname,expected_result&#39;,
<span class='lineno'> 746</span>     [
<span class='lineno'> 747</span>         (&#39;become_plugins&#39;, &#39;become&#39;),
<span class='lineno'> 748</span>         (&#39;cache_plugins&#39;, &#39;cache&#39;),
<span class='lineno'> 749</span>         (&#39;connection_plugins&#39;, &#39;connection&#39;),
<span class='lineno'> 750</span>         (&#39;library&#39;, &#39;modules&#39;),
<span class='lineno'> 751</span>         (&#39;filter_plugins&#39;, &#39;filter&#39;),
<span class='lineno'> 752</span>         (&#39;bogus_plugins&#39;, ValueError),
<span class='lineno'> 753</span>         (None, ValueError)
<span class='lineno'> 754</span>     ]
<span class='lineno'> 755</span> )
<span class='lineno'> 756</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type', title='(?, ?) -> None'>test_legacy_plugin_dir_to_plugin_type</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', title='?'>dirname</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', title='?'>expected_result</a>):
<span class='lineno'> 757</span>     if isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', title='?'>expected_result</a></a>, string_types):
<span class='lineno'> 758</span>         assert AnsibleCollectionRef.legacy_plugin_dir_to_plugin_type(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', title='?'>dirname</a>) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', title='?'>expected_result</a>
<span class='lineno'> 759</span>     else:
<span class='lineno'> 760</span>         with pytest.raises(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.expected_result', title='?'>expected_result</a>):
<span class='lineno'> 761</span>             AnsibleCollectionRef.legacy_plugin_dir_to_plugin_type(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_legacy_plugin_dir_to_plugin_type.dirname', title='?'>dirname</a>)
<span class='lineno'> 762</span> 
<span class='lineno'> 763</span> 
<span class='lineno'> 764</span> @pytest.mark.parametrize(
<span class='lineno'> 765</span>     &#39;name,subdirs,resource,ref_type,expected_error_type,expected_error_expression&#39;,
<span class='lineno'> 766</span>     [
<span class='lineno'> 767</span>         (&#39;bad_ns&#39;, &#39;&#39;, &#39;resource&#39;, &#39;action&#39;, ValueError, &#39;invalid collection name&#39;),
<span class='lineno'> 768</span>         (&#39;ns.coll.&#39;, &#39;&#39;, &#39;resource&#39;, &#39;action&#39;, ValueError, &#39;invalid collection name&#39;),
<span class='lineno'> 769</span>         (&#39;ns.coll&#39;, &#39;badsubdir#&#39;, &#39;resource&#39;, &#39;action&#39;, ValueError, &#39;invalid subdirs entry&#39;),
<span class='lineno'> 770</span>         (&#39;ns.coll&#39;, &#39;badsubdir.&#39;, &#39;resource&#39;, &#39;action&#39;, ValueError, &#39;invalid subdirs entry&#39;),
<span class='lineno'> 771</span>         (&#39;ns.coll&#39;, &#39;.badsubdir&#39;, &#39;resource&#39;, &#39;action&#39;, ValueError, &#39;invalid subdirs entry&#39;),
<span class='lineno'> 772</span>         (&#39;ns.coll&#39;, &#39;&#39;, &#39;resource&#39;, &#39;bogus&#39;, ValueError, &#39;invalid collection ref_type&#39;),
<span class='lineno'> 773</span>     ])
<span class='lineno'> 774</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid', title='(?, ?, ?, ?, ?, ?) -> None'>test_collectionref_components_invalid</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.name', title='?'>name</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.subdirs', title='?'>subdirs</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.resource', title='?'>resource</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.ref_type', title='?'>ref_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_type', title='?'>expected_error_type</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_expression', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_expression', title='?'>expected_error_expression</a>):
<span class='lineno'> 775</span>     with pytest.raises(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_type', title='?'>expected_error_type</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.curerr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.curerr', title='?'>curerr</a>:
<span class='lineno'> 776</span>         AnsibleCollectionRef(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.name', title='?'>name</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.subdirs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.subdirs', title='?'>subdirs</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.resource', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.resource', title='?'>resource</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.ref_type', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.ref_type', title='?'>ref_type</a>)
<span class='lineno'> 777</span> 
<span class='lineno'> 778</span>     assert re.search(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_expression', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.expected_error_expression', title='?'>expected_error_expression</a>, str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.curerr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.test_collectionref_components_invalid.curerr', title='?'>curerr</a>.value))
<span class='lineno'> 779</span> 
<span class='lineno'> 780</span> 
<span class='lineno'> 781</span> # BEGIN TEST SUPPORT
<span class='lineno'> 782</span> 
<span class='lineno'> 783</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a> = [
<span class='lineno'> 784</span>     os.path.join(os.path.dirname(__file__), &#39;fixtures&#39;, &#39;collections&#39;),
<span class='lineno'> 785</span>     os.path.join(os.path.dirname(__file__), &#39;fixtures&#39;, &#39;collections_masked&#39;),
<span class='lineno'> 786</span>     &#39;/bogus/bogussub&#39;
<span class='lineno'> 787</span> ]
<span class='lineno'> 788</span> 
<span class='lineno'> 789</span> 
<span class='lineno'> 790</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.get_default_finder', title='() -> ?'>get_default_finder</a>():
<span class='lineno'> 791</span>     return _AnsibleCollectionFinder(paths=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.default_test_collection_paths', title='[str]'>default_test_collection_paths</a>)
<span class='lineno'> 792</span> 
<span class='lineno'> 793</span> 
<span class='lineno'> 794</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths', title='(?, ?) -> [str] / ([str], str) -> [str] / ({[?] | [str]}, str) -> [str]'>extend_paths</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.path_list', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.path_list', title='{[?] | [str]}'>path_list</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', title='str'>suffix</a>):
<span class='lineno'> 795</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', title='str'>suffix</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', title='str'>suffix</a>.replace(&#39;.&#39;, &#39;/&#39;)
<span class='lineno'> 796</span>     return [os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', title='str'>p</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.suffix', title='str'>suffix</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.p', title='str'>p</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.path_list', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.extend_paths.path_list', title='{[?] | [str]}'>path_list</a>]
<span class='lineno'> 797</span> 
<span class='lineno'> 798</span> 
<span class='lineno'> 799</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.prefix', title='str'>prefix</a>):
<span class='lineno'> 800</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.module_to_nuke', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.module_to_nuke', title='?'>module_to_nuke</a> in [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', title='?'>m</a> for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', title='?'>m</a></a> in sys.modules if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.m', title='?'>m</a>.startswith(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.prefix', title='str'>prefix</a>)]:
<span class='lineno'> 801</span>         sys.modules.pop(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.module_to_nuke', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix.module_to_nuke', title='?'>module_to_nuke</a>)
<span class='lineno'> 802</span> 
<span class='lineno'> 803</span> 
<span class='lineno'> 804</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state', title='None -> None / ? -> None'>reset_collections_loader_state</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', title='None'>metapath_finder</a>=None):
<span class='lineno'> 805</span>     _AnsibleCollectionFinder._remove()
<span class='lineno'> 806</span> 
<span class='lineno'> 807</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(&#39;ansible_collections&#39;)
<span class='lineno'> 808</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(&#39;ansible.modules&#39;)
<span class='lineno'> 809</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.nuke_module_prefix', title='? -> None / str -> None'>nuke_module_prefix</a>(&#39;ansible.plugins&#39;)
<span class='lineno'> 810</span> 
<span class='lineno'> 811</span>     # FIXME: better to move this someplace else that gets cleaned up automatically?
<span class='lineno'> 812</span>     _AnsibleCollectionLoader._redirected_package_map = {}
<span class='lineno'> 813</span> 
<span class='lineno'> 814</span>     AnsibleCollectionConfig._default_collection = None
<span class='lineno'> 815</span>     AnsibleCollectionConfig._on_collection_load = _EventSource()
<span class='lineno'> 816</span> 
<span class='lineno'> 817</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', title='None'>metapath_finder</a>:
<span class='lineno'> 818</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.units.utils.collection_loader.test_collection_loader.reset_collections_loader_state.metapath_finder', title='None'>metapath_finder</a>._install()
</pre></td></tr></table></body></html>